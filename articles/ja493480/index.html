<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👞 👩🏽‍🎓 👩🏽‍🎤 初心者向けのアーキテクチャ、またはソードマンにフラグを挿入する必要がない理由 🧙🏼 👵🏻 👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="注釈：
 
 

1. 「フラグ」を追加して、クラスに新しい機能を実装する例。
2. 効果。
3. 代替アプローチと結果の比較。
4. 状況を回避する方法：「アーキテクチャの過剰」？
5. すべてを変える時が来た瞬間。
 始める前に、いくつかの注意事項：
 
 

- これは、ボブおじさんが使用する...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>初心者向けのアーキテクチャ、またはソードマンにフラグを挿入する必要がない理由</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493480/"><img src="https://habrastorage.org/webt/9s/96/tv/9s96tvz6feehvgoiz_gmwdoktl8.png"><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注釈：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「フラグ」を追加して、クラスに新しい機能を実装する例。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効果。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代替アプローチと結果の比較。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状況を回避する方法：「アーキテクチャの過剰」？</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてを変える時が来た瞬間。</font></font></li>
</ol></blockquote><br>
<a name="habracut"></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始める前に、いくつかの注意事項：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、ボブおじさんが使用するという意味で、ソフトウェアアーキテクチャについての物語です。</font><font style="vertical-align: inherit;">はい、あれ。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事内のすべての文字、名前、コードは架空のものであり、現実との偶然の一致はランダムです。</font></font></li>
</ul></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私がプロジェクトの普通のプログラマーであるとします。このプロジェクトは、1人のヒーロー（別名：ヒーロー）が左から右に完全に水平な線に沿って進むゲームです。モンスターはこの素晴らしい旅を妨害します。ユーザーの命令で、ヒーローは有名に彼ら</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を剣で</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼ら</font><i><font style="vertical-align: inherit;">を</font></i><font style="vertical-align: inherit;">キャベツに</font><font style="vertical-align: inherit;">切り込み</font><font style="vertical-align: inherit;">、口ひげに吹き込みません。プロジェクトにはすでに10万行あり、「</font><font style="vertical-align: inherit;">機能の</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がもっと必要</font><font style="vertical-align: inherit;">です！」私たちのヒーローを見てみましょう：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hero</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">strike</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">//   1</span><font></font>
    }<font></font>
    <span class="hljs-comment">//   </span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、私のパーソナルチームリーダーのVasilyも休暇に出かけることができるとします。</font><font style="vertical-align: inherit;">突然。</font><font style="vertical-align: inherit;">誰が考えただろうか？</font><font style="vertical-align: inherit;">さらに、状況は標準的に発展します。フクロウが到着し、昨日、ゲーム開始前に選択することを可能にするために緊急に必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは非常に高速でなければなりません。</font><font style="vertical-align: inherit;">そしてもちろん、もちろん、彼自身は私が歩くことができないほど何年もの間プログラマーであったので、彼はその仕事が5分間であることを知っています。</font><font style="vertical-align: inherit;">しかし、そうだとすると、2時間と推定します。</font><font style="vertical-align: inherit;">チェックボックスとif-chikを追加するだけです。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注：値のif-chik @！^％$＃@ ^％＆@！11 $その＃$％@ ^％＆！@ !!! </font><font style="vertical-align: inherit;">in＆！^％＃$ ^％！1 if-chic！</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の考え：「ハ！</font><font style="vertical-align: inherit;">2時間！</font><font style="vertical-align: inherit;">完了しました！」：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hero</span> </span>{
    <span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">WeaponTypes</span> </span>{
        <span class="hljs-keyword">case</span> sword:
        <span class="hljs-keyword">case</span> club:<font></font>
    }<font></font>
	<font></font>
    <span class="hljs-keyword">var</span> weaponType: <span class="hljs-type">WeaponTypes?</span><font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">strike</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> weaponType = weaponType <span class="hljs-keyword">else</span> {
            <span class="hljs-built_in">assertionFailure</span>()
            <span class="hljs-keyword">return</span>	<font></font>
        }<font></font>
        <span class="hljs-comment">//  : switch  Swift  if- -    !</span>
        <span class="hljs-keyword">switch</span> (weaponType) {
            <span class="hljs-keyword">case</span> .sword: <span class="hljs-comment">//     </span>
            <span class="hljs-keyword">case</span> .club:  <span class="hljs-comment">//     </span><font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-comment">//  </span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたが私の決定でわかった場合、悲しいかな：私はあなたに2つのニュースがあります：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まるで良いかのように：私たちは両方を提供します。</font><font style="vertical-align: inherit;">デリバリーバリューという言葉から、または面白い（涙を通して）コードという言葉から、私たちはデリバリーします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして悪いのは、Vasilyがなければkapetsプロジェクトです。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうしたの？</font><font style="vertical-align: inherit;">今のところ何もないようです。</font><font style="vertical-align: inherit;">しかし、次に何が起こるか見てみましょう（休暇中にVasilyを維持するためにできることをすべて実行している間）。</font><font style="vertical-align: inherit;">そして、これがあります。QA部門は、ヒーローの体重に注意を払います。</font><font style="vertical-align: inherit;">そして、いいえ、これはヒーローがダイエットをしなければならないからではありませんが、ここに理由があります：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> weight: <span class="hljs-type">Stone</span> {
    <span class="hljs-keyword">return</span> meatbagWeight + pantsWeight + helmetWeight + swordWeight<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重量計算を修正するのを忘れました。</font><font style="vertical-align: inherit;">さて、あなたは、間違い、誰と起こらないと思いますか？</font><font style="vertical-align: inherit;">スラップブループ、ファックティビドック、準備完了：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> weight: <span class="hljs-type">Stone</span> {
    <span class="hljs-comment">//   guard let weaponType</span>
    <span class="hljs-keyword">let</span> weightWithoutWeapon = meatbagWeight + pantsWeight + helmetWeight
    <span class="hljs-keyword">switch</span> (weaponType) {
        <span class="hljs-keyword">case</span> .sword: <span class="hljs-keyword">return</span> weightWithoutWeapon + swordWeight
        <span class="hljs-keyword">case</span> .club:  <span class="hljs-keyword">return</span> weightWithoutWeapon + clubWeight<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、すぐに修正しました！</font><font style="vertical-align: inherit;">主人公は今、体重を考慮して、ジャンプしています。</font><font style="vertical-align: inherit;">結果重視の作品！</font><font style="vertical-align: inherit;">これは、へそや建築の宇宙飛行士を見るためのものではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、実際には、彼はもう少し修正しました。</font><font style="vertical-align: inherit;">スペルリストで、私はこれをしなければなりませんでした：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> spells: [<span class="hljs-type">Spells</span>] {
    <span class="hljs-comment">//   guard let weaponType </span>
    <span class="hljs-comment">// ,   let spellsWithoutWeapon: [Spells]</span>
    <span class="hljs-keyword">switch</span> (weaponType) {
        <span class="hljs-keyword">case</span> .sword:
            <span class="hljs-comment">//  let swordSpells: [Spells]</span>
            <span class="hljs-keyword">return</span> spellsWithoutWeapon + swordSpells
	<span class="hljs-keyword">case</span> .club:
            <span class="hljs-comment">//  let clubSpells: [Spells]</span>
            <span class="hljs-keyword">return</span> spellsWithoutWeapon + clubSpells<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そしてペティアが来て、すべてを壊しました。</font><font style="vertical-align: inherit;">まあ、本当のところ、私たちはプロジェクトにそのような6月があります。</font><font style="vertical-align: inherit;">不注意。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
打撃の強さとヒーローの重さを計算するための式に「武器レベル」の概念を追加する必要がありました。</font><font style="vertical-align: inherit;">そしてペティアは4つのケースのうちの1つを逃した。</font><font style="vertical-align: inherit;">しかし、何も！</font><font style="vertical-align: inherit;">私はすべてを修正しました：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">strike</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">//guard let weaponType</span>
    <span class="hljs-keyword">switch</span> (weaponType) {
        <span class="hljs-keyword">case</span> .sword: <span class="hljs-comment">//        weaponGrade</span>
        <span class="hljs-keyword">case</span> .club:  <span class="hljs-comment">//        weaponGrade</span><font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">var</span> weight: <span class="hljs-type">Stone</span> {
    <span class="hljs-comment">// guard let weaponType</span>
    <span class="hljs-keyword">let</span> weightWithoutWeapon = meatbagWeight + pantsWeight + helmetWeight
    <span class="hljs-keyword">switch</span> (weaponType) {
        <span class="hljs-keyword">case</span> .sword: <span class="hljs-keyword">return</span> weightWithoutWeapon + swordWeight / grade
	<span class="hljs-keyword">case</span> .club:  <span class="hljs-keyword">return</span> weightWithoutWeapon + pow(clubWeight, <span class="hljs-number">1</span> / grade)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">var</span> spells: [<span class="hljs-type">Spells</span>] {
    <span class="hljs-comment">//     , ! </span>
    <span class="hljs-comment">// ,     .    ,    ,   .   !</span>
}</code></pre><br>
<img src="https://habrastorage.org/webt/aw/ev/fo/awevfo6jjlysv_8l9wq-dl9npkw.png" height="80" width="80" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">言うまでもなく、（突然！）bow / update式を追加する必要があったときも、忘れられたケース、バグがあり、それだけでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何が悪かったのか？</font><font style="vertical-align: inherit;">私がどこで間違っていたのか、そしてバシリーが休暇から戻ったときに何を（仲間を除いて）言ったのですか？</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここではそれ以上話を読むことはできませんが、例えば、永遠について、建築について考えてください。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、まだ読むことに決めた人々と一緒に、私たちは続けます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それで、古典を見てみましょう：</font></font><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時期尚早の最適化はすべての悪の根源です！</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして...ええと...それはそれではありません。</font><font style="vertical-align: inherit;">ここでのことだ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（例えばスウィフト、など）ではOOP言語、クラスの機能を拡張するための3つの主要な方法があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の方法は「素朴」です。</font><font style="vertical-align: inherit;">私たちは彼に会いました。</font><font style="vertical-align: inherit;">チェックボックスを追加します。</font><font style="vertical-align: inherit;">責任を追加します。</font><font style="vertical-align: inherit;">腫れクラス。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目の方法は継承です。</font><font style="vertical-align: inherit;">誰もがコードを再利用するための強力なメカニズムを知っています。</font><font style="vertical-align: inherit;">たとえば、次のようなことができます。</font></font><br>
 <ul>
<li><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">弓を持った新しいヒーローとドゥビナのヒーローをヒーローから継承します（剣を持っているが、これは現在ヒーロークラスの名前には反映されていません）。</font><font style="vertical-align: inherit;">そして、相続人では、変更されたメソッドをオーバーライドします。</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この道は非常に悪いです（私を信じてください）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本クラス（またはプロトコル）をヒーローにして、相続人として特定の種類の武器に関連付けられているすべての機能を削除します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
剣を</font><font style="vertical-align: inherit;">持つ</font><font style="vertical-align: inherit;">ヒーロー：ヒーロー、弓を</font><font style="vertical-align: inherit;">持つ</font><font style="vertical-align: inherit;">ヒーロー：ヒーロー、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デュビナを</font><font style="vertical-align: inherit;">持つ</font><font style="vertical-align: inherit;">ヒーロー：ヒーロー。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはより良いですが、これらのクラスの名前自体は、どういうわけか不快で、ひどく、同時に悲しくて困惑している私たちを見ています。</font><font style="vertical-align: inherit;">彼らがそのような誰かを見ない場合、私は別の記事を書こうとします。そこでは退屈な男性的なヒーローに加えて、彼らは...</font></font><img src="https://habrastorage.org/webt/7i/7w/l7/7i7wl7kxg1ol1mmtplsfv-h7i4w.png" height="80" width="80"></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3番目の方法は、依存性注入による責任の分離です。</font><font style="vertical-align: inherit;">それは、プロトコルによって閉じられた依存関係、または（シグニチャーによって閉じられた場合のように）クロージャーである可能性があります。</font><font style="vertical-align: inherit;">主なことは、新しい責任の実装はメインクラスを離れることです。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの場合、これはどのように見えますか？</font><font style="vertical-align: inherit;">たとえば、次のように（Vasilyからの決定）：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hero</span> </span>{
    <span class="hljs-keyword">let</span> weapon: <span class="hljs-type">Weapon</span> <span class="hljs-comment">//   , ..    </span><font></font>
<font></font>
    <span class="hljs-keyword">init</span> (<span class="hljs-number">_</span> weapon: <span class="hljs-type">Weapon</span>) { <span class="hljs-comment">//     </span>
        <span class="hljs-keyword">self</span>.weapon = weapon<font></font>
    }<font></font>
	<font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">strike</span><span class="hljs-params">()</span></span> {<font></font>
        weapon.strike()<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">var</span> weight: <span class="hljs-type">Stone</span> {
        <span class="hljs-keyword">return</span> meatbagWeight + pantsWeight + helmetWeight + weapon.weight<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">var</span> spells: [<span class="hljs-type">Spells</span>] {
        <span class="hljs-comment">//   </span>
        <span class="hljs-keyword">return</span> spellsWithoutWeapon + weapon.spells<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたはそうする必要がありますか？</font><font style="vertical-align: inherit;">忍術-プロトコル：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Weapon</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">strike</span><span class="hljs-params">()</span></span>
    <span class="hljs-keyword">var</span> weight: <span class="hljs-type">Stone</span> {<span class="hljs-keyword">get</span>}
    <span class="hljs-keyword">var</span> spells: [<span class="hljs-type">Spells</span>] {<span class="hljs-keyword">get</span>}<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロトコルの実装例：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Sword</span>: <span class="hljs-title">Weapon</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">strike</span><span class="hljs-params">()</span></span> {
        <span class="hljs-comment">// ,     Hero  switch   .sword</span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">var</span> weight: <span class="hljs-type">Stone</span> {
        <span class="hljs-comment">// ,     Hero  switch   .sword</span><font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">var</span> spells: [<span class="hljs-type">Spells</span>] {
        <span class="hljs-comment">// ,     Hero  switch   .sword</span><font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、SwordクラスはClub、Bow、Pikeなど向けに書かれています。</font><font style="vertical-align: inherit;">「見やすい」（c）新しいアーキテクチャでは、特定の種類の武器に適用されるすべてのコードが対応するクラスにグループ化され、他の種類の武器とともにヒーローに従って拡散されません。</font><font style="vertical-align: inherit;">これにより、ヒーローや特定の武器を読みやすく、理解しやすくなります。</font><font style="vertical-align: inherit;">さらに、課されたプロトコルの要件により、新しいタイプの武器を追加するとき、または新しい機能を武器に追加するときに実装する必要があるすべてのメソッドを追跡する方がはるかに簡単です（たとえば、武器には価格計算メソッドがある場合があります）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、依存関係の注入によって、Heroクラスオブジェクトの作成が複雑になったことがわかります。</font><font style="vertical-align: inherit;">以前は単純に行われていたこと：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">let</span> lastHero = <span class="hljs-type">Hero</span>()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今では、ヒーローを作成する必要がある場合はいつでも複製される一連の指示になっています。</font><font style="vertical-align: inherit;">ただし、Vasilyがこれを処理しました。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">HeroFactory</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeSwordsman</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Hero</span> { <span class="hljs-comment">// ,  static -  </span>
        <span class="hljs-keyword">let</span> weapon = <span class="hljs-type">Sword</span>(<span class="hljs-comment">/*  */</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-type">Hero</span>(weapon)<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeClubman</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Hero</span> {
        <span class="hljs-keyword">let</span> weapon = <span class="hljs-type">Club</span>(<span class="hljs-comment">/*  */</span>)
        <span class="hljs-keyword">return</span> <span class="hljs-type">Hero</span>(weapon)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ペティア（と私）によって設計され</font><font style="vertical-align: inherit;">
た</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">積み上げられ</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">た山を散らすために、ヴァシリーが汗をかかなければならなかったことは明らかです</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、最後のソリューションを見ると、次のような考えが生じる可能性があります。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OK、それは分かった、規範。</font><font style="vertical-align: inherit;">読んで拡張するのは便利ですが、これらのすべてのファクトリ、プロトコル、依存関係はオーバーヘッドの束ですか？</font><font style="vertical-align: inherit;">機能に関して何も与えないが、コードを編成するためにのみ存在するコード。</font><font style="vertical-align: inherit;">「コードを整理するためのコード」、mgm。</font><font style="vertical-align: inherit;">この庭をいつでもどこでもフェンスすることが本当に必要ですか？</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の質問に対する正直な答えは次のとおりです。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はい、これはビジネスが非常に愛する機能のオーバーヘッドです。 </font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして「いつ？」という質問に。</font><font style="vertical-align: inherit;">回答セクション：</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">剣士の哲学、または「いつ統治しなければならなかったのですか？」</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
初めは剣士でした。</font><font style="vertical-align: inherit;">古いコードのセンスシステムでは、これはごく普通のことでした。</font><font style="vertical-align: inherit;">ヒーローが1つと武器が1つある限り、それらを区別する必要はありませんでした。同じように、ヒーローには他に何もありませんでした。</font><font style="vertical-align: inherit;">そして、モノリシックコードはその事実をテキストで確認しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソードマン-それはそれほど悪く聞こえません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、最初の「素朴な」編集は何につながったのでしょうか？</font><font style="vertical-align: inherit;">if-chikの追加は何につながったのですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
if-chicを追加すると...ミュータントになりました！</font><font style="vertical-align: inherit;">突然変異体、すなわち </font><font style="vertical-align: inherit;">「人間」と「人間のDubin」の間で変化する可能性のある可変オブジェクト。</font><font style="vertical-align: inherit;">この場合、変異体の実装を少し間違えると、「ヒト髄質」の状態になります。</font><font style="vertical-align: inherit;">このようにしないでください！</font><font style="vertical-align: inherit;">「人間のデュビン」はまったく必要ありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは必要である：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">男+剣への依存症（刀が必要）;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">男+クラブの中毒（クラブが必要）。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての中毒が悪いわけではありません！</font><font style="vertical-align: inherit;">このアルコール中毒は悪であり、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトコル</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は良好です。</font><font style="vertical-align: inherit;">はい、オブジェクトへの依存は「人間のDubin」よりも優れています！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつ突然変異が起こりましたか？</font><font style="vertical-align: inherit;">フラグが追加されたときにミュータントへの変換が発生しました。モノリシックコードはモノリシックのままでしたが、フラグが変更（ミューテーション）されると、同じオブジェクトの動作が大幅に変化し始めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vasilyは突然変異の2つの段階を選び出します：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フラグと最初の「if」（または「スイッチ」またはその他の分岐メカニズム）をフラグに追加します。</font><font style="vertical-align: inherit;">状況は脅かされていますが、耐えられます。主人公は放射性廃棄物を注がれていますが、彼はそれを克服しています。</font></font></li>
<li>     «if»   ,     . .    —   . ,    -  - .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、検討されている状況では、技術的負債の発生を防ぐために、最悪の場合には第1段階から第2段階に進む前にアーキテクチャを構築することが理にかなっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変異体を治療するためにVasilyは正確に何をしましたか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的な観点から-使用された注入依存性クローズドプロトコル。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
哲学から-責任の共有。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラスの作業のすべての機能は、相互に交換できる（したがって相互に代替可能）ので、ヒーローに依存しています。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しい</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代替</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能-剣の仕事の実装、クラブの仕事の実装-外観が互いに異なり、他</font><font style="vertical-align: inherit;">の部分と以前</font><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は異なる</font></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">代替の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒーローコードはあり</font><i><font style="vertical-align: inherit;">ません</font></i><font style="vertical-align: inherit;">。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのため、「ナイーブ」コード</font><font style="vertical-align: inherit;">では、ヒーローの競合しない部分とは別の動作が異なる、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何か</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しい</font><i><font style="vertical-align: inherit;">もの</font></i><font style="vertical-align: inherit;">が登場</font><font style="vertical-align: inherit;">しました。</font><font style="vertical-align: inherit;">そのため、「ナイーブ」コードには、新しい</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビジネスエンティティの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暗黙の説明が含まれていました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ヒーローによる</font><font style="vertical-align: inherit;">と、剣とクラブです。</font><font style="vertical-align: inherit;">新しい</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビジネスエンティティ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">での</font><font style="vertical-align: inherit;">操作を便利にするために</font><font style="vertical-align: inherit;">、それらを独自の</font><i><font style="vertical-align: inherit;">名前を</font></i><font style="vertical-align: inherit;">持つ</font><font style="vertical-align: inherit;">個別の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードエンティティ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として区別することが必要になりました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、責任の分担がありました。</font><font style="vertical-align: inherit;">
PS TL; DR;</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旗を見る？</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">男になって、くそー！</font><font style="vertical-align: inherit;">消して！</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中毒注射</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">...</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">利益！11</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja493458/index.html">Androidを解放する-Alaverdi</a></li>
<li><a href="../ja493462/index.html">超音波バス。パート2</a></li>
<li><a href="../ja493468/index.html">深く呼吸することを恐れないでください</a></li>
<li><a href="../ja493470/index.html">科学者は海王星の外の新しい小惑星を見つける</a></li>
<li><a href="../ja493478/index.html">ハックザボックス-ウォークスルーフォレスト。AS-REPロースト、DCSync、Pass-The-Hash攻撃</a></li>
<li><a href="../ja493482/index.html">ルンバの前身であるサイバネティックタートルに出会う</a></li>
<li><a href="../ja493484/index.html">C＃はすでに「機能」しています。</a></li>
<li><a href="../ja493486/index.html">最も興味深い自動車スタートアップ2019-2020</a></li>
<li><a href="../ja493488/index.html">Unity + Git =フレンドシップ：パート1紳士のセット</a></li>
<li><a href="../ja493496/index.html">ReactJS。警告：マウント解除されたコンポーネントでReact状態の更新を実行できません。これはノーオペレーションですが、メモを示しています</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>