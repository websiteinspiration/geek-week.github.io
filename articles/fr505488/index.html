<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòù üôãüèø üßÄ 12 conseils pour impl√©menter TypeScript dans les applications React ü§ì ü§Ω üò§</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TypeScript est la norme du d√©veloppement frontal moderne. Selon l' √©tat de la recherche JavaScript , TS int√©resse clairement les programmeurs. Selon l...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>12 conseils pour impl√©menter TypeScript dans les applications React</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tinkoff/blog/505488/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypeScript est la norme du d√©veloppement frontal moderne. </font><font style="vertical-align: inherit;">Selon l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©tat de la</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> recherche </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">JavaScript</font></a><font style="vertical-align: inherit;"> , TS int√©resse clairement les programmeurs. </font><font style="vertical-align: inherit;">Selon l'enqu√™te pour 2019, pr√®s de 60% des r√©pondants ont essay√© TS et continuent de l'utiliser, 22% n'ont pas essay√© et ne voulaient pas √©tudier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet article est une collection de conseils sur la fa√ßon d'impl√©menter et d'am√©liorer l'utilisation de TypeScript. </font><font style="vertical-align: inherit;">La premi√®re moiti√© des conseils est g√©n√©rale concernant les approches et les infrastructures. </font><font style="vertical-align: inherit;">Le second est quelques fonctionnalit√©s linguistiques particuli√®rement utiles.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/di/nt/qe/dintqe2eppni8xbm7oooyd4bui4.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je m'en tiens au contexte d'une application React, mais quelques conseils seront pertinents dans d'autres √©cosyst√®mes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 1: tol√©rance aux erreurs</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les types corrects sont la confiance dans le code √©crit et la facilitation de la refactorisation. </font><font style="vertical-align: inherit;">Pour que la frappe fonctionne pour vous, vous devez appliquer strictement aux v√©rifications de type:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V√©rifiez le mode dev pour voir imm√©diatement les erreurs.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajoutez une validation √† CI pour chaque demande de pool. </font><font style="vertical-align: inherit;">Cela garantira que la branche principale est toujours du type correct.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe deux fa√ßons principales de compiler des fichiers ts: le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TSC d'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> origine </font><font style="vertical-align: inherit;">et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ babel / preset-typescript. </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La m√©thode babel est int√©ressante: les informations de type sont d√©coup√©es dans des fichiers .ts, ce qui rend l'assemblage rapide. </font><font style="vertical-align: inherit;">Voici </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un article d'introduction. </font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La v√©rification de type dans le cas de babel est ajout√©e en plus en utilisant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fork-ts-checker-webpack-plugin. </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En mode d√©veloppement, les v√©rifications doivent √™tre effectu√©es de mani√®re asynchrone afin de ne pas bloquer l'assembly et ne pas interf√©rer avec l'√©criture de code. </font><font style="vertical-align: inherit;">Dans les demandes de pool, la v√©rification de type, au contraire, devrait arr√™ter la g√©n√©ration si une erreur est trouv√©e.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 2: Contrats backend</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La communication avec le backend via l'API elle-m√™me implique un contrat d'√©change de donn√©es. </font><font style="vertical-align: inherit;">Il est utile de s√©parer ces entit√©s dans une couche distincte, cr√©ant des interfaces distinctes. </font><font style="vertical-align: inherit;">Nous les appelons DTO - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data Transfer Object. </font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour mettre en ≈ìuvre une telle couche, certains accords sont n√©cessaires. </font><font style="vertical-align: inherit;">Voici un exemple de r√®gles pouvant √™tre impl√©ment√©es en √©quipe:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le nom de l'interface a le suffixe Dto: FooBarDto.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Situ√© dans un dossier sp√©cial.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il ne peut changer qu'avec un changement d'API.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les donn√©es de cette interface sont utilis√©es en lecture seule, l'√©dition est interdite.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avantages de cette approche: la source de donn√©es est imm√©diatement claire sur l'interface, il est plus facile de rechercher les erreurs et de d√©boguer le code, de v√©rifier les donn√©es. </font><font style="vertical-align: inherit;">Ces types sont faciles √† documenter, fournissant des descriptions et des exemples - les autres d√©veloppeurs vous accompagneront. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous utilisez des outils tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour d√©crire l'API </font><font style="vertical-align: inherit;">, voyez comment vous pouvez cr√©er ces types automatiquement.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 3: alias sur tout</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous et votre √©quipe √©crivez du code superbement tap√© - pas de probl√®me, pas d'erreur et juste √† temps. </font><font style="vertical-align: inherit;">Si c'est le cas, passez au point suivant;) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√©alit√©, il existe des tentations d'omettre la saisie, en particulier lors de l'impl√©mentation de TS dans un projet existant. </font><font style="vertical-align: inherit;">Je veux en utiliser explicitement ou implicitement. </font><font style="vertical-align: inherit;">Il y a des raisons ad√©quates: code complexe, t√¢che urgente, inexp√©rience - les efforts ne paient pas pour le r√©sultat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au lieu d'ignorer le probl√®me, essayez de le l√©galiser:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> type TODO_ANY = any;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avantages:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous ne trichez pas et n'√©crivez pas de b√©quilles.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous montrez consciemment qu'√† l'avenir, le code m√©rite d'√™tre finalis√©.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce type est facile √† trouver en recherchant un projet.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Any peut √™tre utilis√© explicitement l√† o√π le type n'a pas d'importance, par exemple comme ceci:</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> getArrayLength = <span class="hljs-function">(<span class="hljs-params">array: any[]</span>) =&gt;</span> array.length</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Limites:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une utilisation trop fr√©quente de cette technique est peu susceptible d'√™tre b√©n√©fique.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La conscience et la responsabilit√© sont n√©cessaires pour √©liminer ces gags √† l'avenir.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez √©galement le trouver utile: </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> type TODO_UNKNOWN = unknown;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tout, le</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> compilateur autorisera presque n'importe quelle action. </font><font style="vertical-align: inherit;">En cas d' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inconnu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , au contraire, presque toute utilisation entra√Ænera une erreur. </font><font style="vertical-align: inherit;">Ils ont d√©fini TODO_UNknown jusqu'√† ce que le type de l'objet soit clair ‚Üí dans le futur, ils ont utilis√© l'objet ‚Üí obtenu une erreur ‚Üí corrig√© le type ‚Üí vous √™tes incroyable.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 4: types pour les biblioth√®ques</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous travaillez avec la biblioth√®que js populaire, recherchez les types </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans DefinitelyTyped. </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tr√®s probablement, ils sont d√©j√† √©crits - nous nous connectons et appr√©cions la vie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais que se passe-t-il si vous avez une biblioth√®que interne dans laquelle il n'y a certainement aucun type? </font><font style="vertical-align: inherit;">Essayez de les g√©n√©rer automatiquement. </font><font style="vertical-align: inherit;">Bonne nouvelle pour ceux qui utilisent jsDoc: dans TypeScript 3.7, le compilateur tsc a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appris √† g√©n√©rer des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> types .d.ts √† partir des fichiers .ts et .js.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autre bonne nouvelle: il existe des convertisseurs js -&gt; ts. </font><font style="vertical-align: inherit;">Par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypeStat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m'a aid√© √† g√©rer des composants React typiques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mauvaise nouvelle est qu'un bon type de syst√®me ne fonctionnera probablement pas automatiquement. </font><font style="vertical-align: inherit;">Comptez sur le "squelette", qui devra par la suite constituer la "viande".</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 5: types au-dessus des types</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... et les types chassent! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il arrive que les types de d√©pendances externes du projet ne conviennent pas - ils sont trop g√©n√©raux (et vous voudriez √™tre plus pr√©cis), ils contiennent une erreur, la version ne correspond pas - ou les types sont tout simplement absents. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√®gle g√©n√©rale, de tels probl√®mes surviennent dans les biblioth√®ques internes (qui sont √©galement fr√©quemment mises √† jour), tandis que dans les biblioth√®ques externes, il est assez rare. </font><font style="vertical-align: inherit;">En cas de probl√®me, essayez de d√©finir / red√©finir manuellement les types. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous d√©crivons le type de l'exemple de module. </font><font style="vertical-align: inherit;">Je souligne que seul le type est red√©fini; l'impl√©mentation ne change pas:</font></font><br>
<br>
<pre><code class="javascript hljs">declare <span class="hljs-built_in">module</span> <span class="hljs-string">"example"</span> {
    <span class="hljs-keyword">const</span> foo: { <span class="hljs-attr">bar</span>: string };
    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> foo;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est pr√©f√©rable de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©placer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un tel remplacement dans un r√©pertoire et un fichier s√©par√©s, par exemple en </font><b><font style="vertical-align: inherit;">tapant / example.d.ts</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Connectez tout le contenu des saisies au champ compilerOptions.typeRoots dans tsconfig:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"compilerOptions"</span>: {
        <span class="hljs-attr">"typeRoots"</span>: [<span class="hljs-string">"node_modules/@types"</span>, <span class="hljs-string">"./typings"</span>]<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voila - les types par exemple sont tir√©s de la red√©finition!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 6: guide de style</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Type ou interface? </font><font style="vertical-align: inherit;">const ou enum? </font><font style="vertical-align: inherit;">Comment d√©crire les types dans un composant fonctionnel? </font><font style="vertical-align: inherit;">Et dans le m√©mo? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque TS vient d'√™tre introduit dans une √©quipe, de telles questions se posent constamment. </font><font style="vertical-align: inherit;">Un ensemble similaire de questions appara√Æt pour les d√©butants dans le projet: la temp√™te dure plusieurs semaines, puis le style de codage habituel est r√©gl√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La formalisation des r√®gles est un excellent moyen de gagner du temps sur les litiges et les holivars dans les demandes de pool. </font><font style="vertical-align: inherit;">Rassemblez une √©quipe et cr√©ez votre guide de style.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prenez des guides de style populaires comme base. </font><font style="vertical-align: inherit;">J'aime ceux-ci: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">react-typescript-cheatsheet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">react </font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-redux-typescript-guide</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modern-typescript-with-examples-cheat-sheet.</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linter de travail et formateur - laissez la machine faire le sale boulot.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajoutez les sp√©cificit√©s de votre projet: mod√®les typiques, meilleures pratiques, pires pratiques.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Validez ces d√©cisions et faites-y r√©f√©rence dans une r√©vision du code.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Donnez √† l'√©quipe l'occasion de discuter et de modifier ces d√©cisions.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un guide de style bien construit r√©v√®le les merveilles du CPDD ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copy Paste Driven Development</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ): les d√©veloppeurs √©crivent dans le m√™me style, passent moins de temps gr√¢ce aux passe-partout pr√™ts √† l'emploi. </font><font style="vertical-align: inherit;">Les onglets des batailles √©piques </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vs les</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> espaces </font><font style="vertical-align: inherit;">ne </font><font style="vertical-align: inherit;">sont </font><font style="vertical-align: inherit;">pas organis√©s </font><font style="vertical-align: inherit;">(d√©sol√©, types </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> interfaces), l'entr√©e des d√©butants dans le projet est simplifi√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Une autre source d'inspiration est la biblioth√®que d'utilitaires ts. </font><font style="vertical-align: inherit;">Vous trouverez non seulement des aides utiles, mais aussi le code des pros dans la source. </font><font style="vertical-align: inherit;">Par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les types d'utilitaires</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SimplyTyped</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 7: statistiques</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pr√©sentation de quelque chose de nouveau? </font><font style="vertical-align: inherit;">Gardez une trace des statistiques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suivez la dynamique du travail.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©fl√©chissez aux r√©sultats interm√©diaires.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajoutez un √©l√©ment positif √† l'√©quipe - ¬´Regardez √† quel point nous sommes bons, un pas de plus vers l'objectif.¬ª</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/ys/m-/r5/ysm-r5wgtar6nrq9weyotjmyzgk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚åò ‚åò ‚åò </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci conclut le bloc avec des conseils g√©n√©raux pour l'utilisation de TS.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la deuxi√®me partie, nous passerons par des techniques TS int√©ressantes qui devraient √™tre utilis√©es dans leurs projets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚åò ‚åò ‚åò</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pas un conseil - au moins TS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un petit minimum de connaissances pour l'auto-test. </font><font style="vertical-align: inherit;">V√©rifiez si vous comprenez ce qui se passe ici:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> example = {
    <span class="hljs-attr">a</span>: <span class="hljs-string">"foo"</span>,
    <span class="hljs-attr">b</span>: <span class="hljs-string">"bar"</span><font></font>
};<font></font>
<font></font>
<span class="hljs-comment">//  typeof  keyof</span>
type Ex1 = <span class="hljs-keyword">typeof</span> example; <span class="hljs-comment">// { a: string; b: string }</span>
type Ex2 = keyof <span class="hljs-keyword">typeof</span> example; <span class="hljs-comment">// 'a' | 'b'</span><font></font>
<font></font>
<span class="hljs-comment">//       </span>
type Ex3 = Pick&lt;<span class="hljs-keyword">typeof</span> example, <span class="hljs-string">"a"</span>&gt;; <span class="hljs-comment">// { a: string };</span>
type Ex4 = Omit&lt;<span class="hljs-keyword">typeof</span> example, <span class="hljs-string">"a"</span>&gt;; <span class="hljs-comment">// { b: string };</span>
type Ex5 = Partial&lt;<span class="hljs-keyword">typeof</span> example&gt;; <span class="hljs-comment">// { a?: string; b?: string} </span>
type Ex6 = Record&lt;<span class="hljs-string">'a'</span> | <span class="hljs-string">'b'</span>, number&gt;; <span class="hljs-comment">// { a: number; b: number };</span><font></font>
<font></font>
<span class="hljs-comment">//     </span>
<span class="hljs-keyword">const</span> func = <span class="hljs-function">(<span class="hljs-params">a: string, b: number</span>) =&gt;</span> <span class="hljs-literal">true</span>;<font></font>
type Ex7 = ReturnType&lt;<span class="hljs-keyword">typeof</span> func&gt;; <span class="hljs-comment">// boolean</span>
type Ex8 = Parameters&lt;<span class="hljs-keyword">typeof</span> func&gt;; <span class="hljs-comment">// [string, number]</span>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 8: type litt√©ral vs enum</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TypeScript introduit une structure de syntaxe pratique - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">enum</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L'√©num√©ration est utilis√©e pour les √©num√©rations finales. Ayant ma√Ætris√© l'√©num√©ration, je veux d'abord l'√©crire tr√®s souvent. Cependant, enum a de bonnes critiques concernant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le code g√©n√©r√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> apr√®s la compilation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'un autre c√¥t√©, il existe des types litt√©raux - une alternative plus simple et plus pratique √† l'√©num√©ration finale. Dans certains cas, l'utilisation de ces types est plus appropri√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple de vie est des accessoires de composants simples:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//   enum</span><font></font>
enum ColorEnum {<font></font>
    yellow = <span class="hljs-string">"yellow"</span>,<font></font>
    transparent = <span class="hljs-string">"transparent"</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> ExampleEnum = <span class="hljs-function">(<span class="hljs-params">props: { color: ColorEnum }</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{props.color}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<font></font>
<font></font>
<span class="hljs-comment">//    </span>
type ColorLiteral = <span class="hljs-string">"yellow"</span> | <span class="hljs-string">"transparent"</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> ExampleLiteral = <span class="hljs-function">(<span class="hljs-params">props: { color: ColorLiteral }</span>) =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>{props.color}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<font></font>
<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-keyword">const</span> Example = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (<span class="xml"><span class="hljs-tag">&lt;&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ExampleEnum</span> <span class="hljs-attr">color</span>=<span class="hljs-string">{ColorEnum.yellow}</span> /&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ExampleLiteral</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"yellow"</span> /&gt;</span>
 <span class="hljs-tag">&lt;/&gt;</span></span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet exemple, les deux composants v√©rifient le type de couleur des accessoires. </font><font style="vertical-align: inherit;">La variante avec enum s'est av√©r√©e plus redondante - il s'agit de code suppl√©mentaire lors de la compilation, d'importations suppl√©mentaires dans le code source et d'une structure d'√©criture plus lourde. </font><font style="vertical-align: inherit;">La variante avec un litt√©ral de cha√Æne est plus concise, tout en contenant √©galement une v√©rification de type. </font><font style="vertical-align: inherit;">Cela n'a aucun sens de compliquer le code enum. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pr√©f√©rez les litt√©raux de cha√Æne pour les v√©rifications de type simples. </font><font style="vertical-align: inherit;">Utilisez enum pour d√©crire une logique plus complexe. </font><font style="vertical-align: inherit;">Dans ce cas, il vaut mieux donner la pr√©f√©rence √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">const enum</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (cependant, cette structure n'est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas support√©e par babel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , vous devrez ajouter un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plugin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 9: assertions const</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre raison d'utiliser moins souvent l'√©num√©ration est les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">affirmations const. </font></font></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">as const</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique au compilateur que cet objet ne changera pas. </font><font style="vertical-align: inherit;">Par cons√©quent, les types peuvent √™tre d√©duits plus en d√©tail.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> loadAction = {
    <span class="hljs-attr">start</span>: <span class="hljs-string">"LOAD_START"</span>,
    <span class="hljs-attr">done</span>: <span class="hljs-string">"LOADED"</span>,
    <span class="hljs-attr">error</span>: <span class="hljs-string">"LOAD_ERROR"</span>
} <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;<font></font>
<font></font>
type LoadActionType = <span class="hljs-keyword">typeof</span> loadAction;<font></font>
type LoadActionKey = keyof LoadActionType; <span class="hljs-comment">// 'start' | 'done' | 'error'</span>
type LoadActionValue = LoadActionType[LoadActionKey]; <span class="hljs-comment">// 'LOAD_START' | 'LOADED' | 'LOAD_ERROR'</span>
<span class="hljs-comment">//  "as const" LoadActionValue   string</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez √©galement appliquer une constante aux tableaux:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> DIRECTION_ASC = <span class="hljs-number">1</span>;
<span class="hljs-keyword">const</span> DIRECTION_DESC = <span class="hljs-number">-1</span>;
<span class="hljs-keyword">const</span> sortDirectionTypes = [DIRECTION_ASC, DIRECTION_DESC] <span class="hljs-keyword">as</span> <span class="hljs-keyword">const</span>;<font></font>
type SortDirection = <span class="hljs-keyword">typeof</span> sortDirectionTypes[number]; <span class="hljs-comment">// -&gt; 1 | -1</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est pratique √† utiliser pour les transferts. </font><font style="vertical-align: inherit;">Par exemple, v√©rifiez que le dictionnaire d√©crit toutes les options:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> sortDirectionDescription: Record&lt;SortDirection, string&gt; = {<font></font>
    [DIRECTION_ASC]: <span class="hljs-string">" "</span>,<font></font>
    [DIRECTION_DESC]: <span class="hljs-string">" "</span><font></font>
};<font></font>
<span class="hljs-keyword">const</span> sortDirectionDescription2: Record&lt;SortDirection, string&gt; = {<font></font>
    [DIRECTION_ASC]: <span class="hljs-string">" "</span><font></font>
};<font></font>
<span class="hljs-comment">// Error: TS2741: Property '[-1]' is missing // in type '{ [DIRECTION_ASC]: string; }'</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Vous pouvez en savoir plus sur les assertions const </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans cet article.</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 10: types de marque</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La marque</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un petit utilitaire pour cr√©er des types uniques (¬´de marque¬ª). </font><font style="vertical-align: inherit;">En r√®gle g√©n√©rale, ces types sont cr√©√©s sur la base de cha√Ænes primitives, des nombres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, lorsque vous travaillez avec des donn√©es, l'ID est constamment utilis√©. </font><font style="vertical-align: inherit;">Parfois, il est extr√™mement important de distinguer un type d'ID d'un autre (par exemple, l'ID utilisateur de l'ID de sa commande dans le magasin), bien que les deux soient des cha√Ænes. </font><font style="vertical-align: inherit;">Avec Brand, vous pouvez simplement obtenir deux types diff√©rents:</font></font><br>
<br>
<pre><code class="javascript hljs">type Brand&lt;T, U&gt; = T &amp; { <span class="hljs-attr">__brand</span>: U };<font></font>
<font></font>
type UserId = Brand&lt;string, <span class="hljs-string">"userId"</span>&gt;; <span class="hljs-comment">// "5435436" ‚Äì  id </span>
type OrderId = Brand&lt;string, <span class="hljs-string">"orderId"</span>&gt;; <span class="hljs-comment">// "42da-fet3-cdsl" ‚Äì  id </span><font></font>
<font></font>
declare <span class="hljs-keyword">const</span> userID = <span class="hljs-string">"1111"</span> <span class="hljs-keyword">as</span> UserId; <span class="hljs-comment">// - </span>
declare <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getOrderById</span>(<span class="hljs-params">id: OrderId</span>): <span class="hljs-title">any</span>; // - 

<span class="hljs-title">getOrderById</span>(<span class="hljs-params">userID</span>);
// <span class="hljs-title">Error</span>: <span class="hljs-title">TS2345</span>
// <span class="hljs-title">Type</span> '"<span class="hljs-title">userId</span>"' <span class="hljs-title">is</span> <span class="hljs-title">not</span> <span class="hljs-title">assignable</span> <span class="hljs-title">to</span> <span class="hljs-title">type</span> '"<span class="hljs-title">orderId</span>"'.
</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un peu plus de th√©orie sur ce sujet - sur les types nominaux et structuraux - peut √™tre trouv√©e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur Habr√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et aussi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici.</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 11: types d'unions discrimin√©s</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le terme difficile </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">union discrimin√©e est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> facile √† comprendre dans la pratique: il cr√©e une union de plusieurs types avec une partie commune (discriminant). </font><font style="vertical-align: inherit;">Lorsque vous travaillez avec une telle union, le compilateur ts peut filtrer les options et sp√©cifier le type. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'exemple classique d'utilisation d'union discrimin√©e s'int√®gre parfaitement au mod√®le de r√©ducteur. </font><font style="vertical-align: inherit;">Gr√¢ce au champ type commun, le type de charge utile s'affiche automatiquement:</font></font><br>
<br>
<pre><code class="javascript hljs">type Action =<font></font>
    | { <span class="hljs-attr">type</span>: <span class="hljs-string">'SET_ONE'</span>; payload: string }<font></font>
    | { <span class="hljs-attr">type</span>: <span class="hljs-string">'SET_TWO'</span>; payload: number };<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reducer</span>(<span class="hljs-params">state: AppState, action: Action</span>): <span class="hljs-title">AppState</span> </span>{
    <span class="hljs-keyword">switch</span> (action.type) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">'SET_ONE'</span>:
            <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">one</span>: action.payload}; <span class="hljs-comment">// `payload` is string</span>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'SET_TWO'</span>:
            <span class="hljs-keyword">return</span> { ...state, <span class="hljs-attr">two</span>: action.payload}; <span class="hljs-comment">// `payload` is number</span>
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astuce 12: jamais</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jamais une</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bonne assurance contre les cas bruts. </font><font style="vertical-align: inherit;">Prenez du paragraphe pr√©c√©dent, uniquement sans 'SET_TWO', et avec l'ajout de typeguard: jamais;</font></font><br>
<br>
<pre><code class="javascript hljs">type Action =<font></font>
    | { <span class="hljs-attr">type</span>: <span class="hljs-string">'SET_ONE'</span>; payload: string }<font></font>
    | { <span class="hljs-attr">type</span>: <span class="hljs-string">'SET_TWO'</span>; payload: number };<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reducer</span>(<span class="hljs-params">state: AppState, action: Action</span>): <span class="hljs-title">AppState</span> </span>{
    <span class="hljs-keyword">switch</span> (action.type) {<font></font>
<font></font>
        <span class="hljs-keyword">case</span> <span class="hljs-string">'SET_ONE'</span>:
            <span class="hljs-keyword">return</span> { ...state,
                        <span class="hljs-attr">one</span>: action.payload}; <span class="hljs-comment">// `payload` is string</span><font></font>
<font></font>
        <span class="hljs-keyword">default</span>:
            <span class="hljs-keyword">const</span> typeguard: never = action;
            <span class="hljs-keyword">return</span> state;
            <span class="hljs-comment">// Error: TS2322: Type '{ type: "SET_TWO"; payload: number; }'</span>
            <span class="hljs-comment">// is not assignable to type 'never'.</span><font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le compilateur d√©duit le type de typeguard et arrive √† une contradiction. </font><font style="vertical-align: inherit;">D'une part - dont le type n'est pas, jamais. </font><font style="vertical-align: inherit;">D'un autre c√¥t√©, le type de sortie est 'SET_TWO'. </font><font style="vertical-align: inherit;">Les types ne convergent pas, nous obtenons une erreur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre cas int√©ressant (mais rare) d'utilisation de jamais dans React est d'interdire l'imbrication ou le passage d'accessoires:</font></font><br>
<br>
<pre><code class="javascript hljs">type IconProps = {
    <span class="hljs-attr">size</span>: <span class="hljs-string">'s'</span> | <span class="hljs-string">'m'</span>;<font></font>
    children?: never;<font></font>
    foo?: never;<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">const</span> Icon: React.FC&lt;IconProps&gt; = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>Whatewer<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span>;<font></font>
    <font></font>
<span class="hljs-keyword">const</span> Example = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> (<span class="xml"><span class="hljs-tag">&lt;&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"s"</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">div</span> /&gt;</span> <span class="hljs-tag">&lt;/<span class="hljs-name">Icon</span>&gt;</span> {/*  ‚Äì  children */}
    <span class="hljs-tag">&lt;<span class="hljs-name">Icon</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"s"</span> <span class="hljs-attr">foo</span>=<span class="hljs-string">"123"</span>/&gt;</span> {/*  -  foo */} 
<span class="hljs-tag">&lt;/&gt;</span></span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, Never in full est utilis√© pour les types </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conditionnels</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">conditionnel-types</font></a><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Voici un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article sympa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur ce sujet si tous les exemples pr√©c√©dents √©taient trop faciles pour vous.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'utilisation de TypeScript dans un projet change la fa√ßon dont vous √©crivez du code. </font><font style="vertical-align: inherit;">Il devient plus simple d'√©tudier le code, de refactoriser. </font><font style="vertical-align: inherit;">Il devient pratique d'utiliser des contrats dans le code: vous n'avez pas besoin de garder √† l'esprit les d√©tails de l'impl√©mentation des fonctions utilis√©es et la forme des objets - laissez les interfaces le d√©crire.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le projet re√ßoit un niveau sup√©rieur, et avec de nouveaux avantages, de nouvelles t√¢ches viennent - soutenir le syst√®me de type correct. </font><font style="vertical-align: inherit;">J'esp√®re que ces conseils vous aideront √† am√©liorer votre syst√®me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilisez-vous d√©j√† l'une des techniques d√©crites? </font><font style="vertical-align: inherit;">Pouvez-vous partager le v√¥tre? </font><font style="vertical-align: inherit;">Bienvenue dans les commentaires!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr505468/index.html">Archivage des e-mails dans Zimbra Collaboration Suite Open-Source Edition</a></li>
<li><a href="../fr505470/index.html">Notes du gestionnaire des connaissances. Fonctionnement de la gestion des connaissances Exness</a></li>
<li><a href="../fr505472/index.html">Article utile: installez OpenShift, apprenez Kafka, utilisez Ansible sur Google Cloud Platform</a></li>
<li><a href="../fr505476/index.html">API CRUD sur Deno et PostegreSQL: travailler avec un dinosaure</a></li>
<li><a href="../fr505478/index.html">Remplacement d'un syst√®me CRM par un syst√®me CRM</a></li>
<li><a href="../fr505494/index.html">Encadrement d√©veloppeur</a></li>
<li><a href="../fr505496/index.html">Flutter Dev Podcast avec CTO Meduza Boris Goryachev: l'essentiel de l'application Meduz et du d√©veloppement des m√©dias</a></li>
<li><a href="../fr505498/index.html">Comment nous r√©solvons le probl√®me de la m√©moire de pile non initialis√©e dans Windows</a></li>
<li><a href="../fr505502/index.html">Omnicanal dans le service client: que rechercher et comment tout faire correctement?</a></li>
<li><a href="../fr505506/index.html">Il ne mord pas: comment rendre les robots industriels s√ªrs pour les travailleurs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>