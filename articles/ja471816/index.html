<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥙 🙄 🐚 macOS Catalina 10.15のアプリに署名する方法 🦓 👗 👨🏽‍🤝‍👨🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="[注意 翻訳：Habréに関する幅広い議論の原因となった投稿を翻訳して、私はAppleによって導入されたソフトウェア開発者のための新しいルールに興味を持つようになりました。この記事では、ゲーム開発者の1人とルールを習得した個人的な経験について説明します。]
 
 前書き
 macOSの新しいバージョ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>macOS Catalina 10.15のアプリに署名する方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471816/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/230/cba/a4b/230cbaa4bc3746d1d059441d78598c0b.jpg" alt="画像"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[注意 </font><font style="vertical-align: inherit;">翻訳：Habréに関する幅広い議論の原因</font><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">なった</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">投稿</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">翻訳して</font><font style="vertical-align: inherit;">、私はAppleによって導入されたソフトウェア開発者のための新しいルールに興味を持つようになりました。</font><font style="vertical-align: inherit;">この記事では、ゲーム開発者の1人とルールを習得した個人的な経験について説明します。]</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
macOSの新しいバージョンでは、以前推奨されていた64ビットの実行可能ファイル、署名、公証などの要件がいくつかありました。これらの要件を満たさないアプリケーションは起動されなくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、ユーザーの作業を保護し、悪意のあるプログラムの拡散を防止するために行われますが、同時に、特にMacがメインの開発プラットフォームではないにもかかわらず、Macのサポートを開始または継続したいと考えている人々にとって、生活を非常に困難にします。 。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、SteamでMacゲームを公開するゲーム開発者に特に当てはまります。最近の変更まで、Steamから起動したゲームは署名して公証する必要がありませんでしたが、今では他の人と同じルールに従う必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">飛行船に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらの要件を実装する方法を理解し終えたところです</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">：空を征服する</font></a><font style="vertical-align: inherit;">ゲーム</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">飛行船はJavaで動作するため、JVMも必要ですが、一般的に、他のすべてはほとんどの開発者に適用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Xcodeで直接コンパイルされていないMacアプリに署名して公証することについて私が学んだことは次のとおりです。</font><font style="vertical-align: inherit;">情報は私自身の研究から得られたものであり、100％正確ではない場合があることに注意してください。</font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">質問や訂正は大歓迎です。</font></font></a><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バックグラウンド</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、署名と公証について説明します。プログラムの64ビット実行可能ファイルを取得することは、コンパイラーまたは開発環境のタスクです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
macOSでは、アプリケーションは通常バンドルでパッケージ化されています—実行可能ファイル、および追加のリソースとメタデータを含むフォルダー。バンドルに署名することは、バンドルのコンテンツの暗号化チェックサムを作成することを意味し、続いてAppleが開発者に発行する証明書を使用して暗号化署名を作成します。署名は、アプリケーションの正しい動作を個人的に保証する声明です。バンドルの内容が変更され、チェックサムが変更され、署名がそれらに対応しなくなると、バンドルに不正な変更が加えられたことをオペレーティングシステムに警告します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーション署名は何年も前から存在しています。少し後、公証のためのアプリケーションも必要になりました。公証とは、署名済みのAppleアプリケーションを送信し、会社が追加のチェックを実行してアプリケーションを登録することを意味します。公証が成功した場合、公証をアプリケーションに「貼り付ける」ことで、インターネットにアクセスできないオフラインマシンでもアプリケーションが公証されていることを確認できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、紙のドキュメントを扱うための一種のメタファーです。</font><font style="vertical-align: inherit;">開発者は、アプリケーションを構成するすべてのパーツをバンドルで収集します。</font><font style="vertical-align: inherit;">次に、バンドルのすべての要素のリスト（チェックサム）を作成し、このリストに（デジタル署名を使用して）署名します。これにバンドルに接着します。</font><font style="vertical-align: inherit;">次に、署名されたバンドルを公証人のYablokov氏に渡します。Yablokov氏は、バンドルがすべて正しいかどうかを確認し、登録します。</font><font style="vertical-align: inherit;">彼は、ホッチキスがバンドルに添付するレシートを開発者に渡します。</font><font style="vertical-align: inherit;">つまり、開発者がアプリケーションが安全であると述べ、Yablokov氏もそれが安全であると述べた場合、おそらく安全です。</font><font style="vertical-align: inherit;">そして、悪意のある人がその内容を変更しようとすると、バンドル要素のリストはそれに対応しなくなり、ユーザーはそれを使用する必要がないことがわかります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要条件</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションの署名と公証に必要なもの：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcode 11を実行するのに十分新しい、つまりmacOS 10.14.3を実行するのに十分新しいMacコンピューター。</font><font style="vertical-align: inherit;">Xcodeをまだインストールしていない場合は、インストールに25 GBの空き容量が必要です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まだAppleの公式開発者でない場合は、メンバーシップにApple IDのログインと約110ドルが必要です。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二要素認証</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まだ持っていない場合は、Apple IDの2要素認証を有効にします。</font><font style="vertical-align: inherit;">これは、任意のiデバイスまたはMacから実行できます。</font><font style="vertical-align: inherit;">Macでは、システム環境設定のiCloudコントロールパネルに移動します。</font><font style="vertical-align: inherit;">上部には、2FAを有効にすることを提案するパネルがあります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">会員購入</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apple IDを使用</font><font style="vertical-align: inherit;">
して</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://developer.apple.com/に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ログインし</font><font style="vertical-align: inherit;">、[メンバーシップ]タブに移動します。</font><font style="vertical-align: inherit;">必要に応じて、Apple Developer Programメンバーシップを購入またはアップグレードします。</font><font style="vertical-align: inherit;">Appleの内部システムでは購入の処理に時間がかかることに注意してください。証明書を生成できない場合は（下記を参照）、お茶を飲み、落ち着いてください。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションID</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者のバックエンドでアプリケーションバンドルIDを登録する必要がある場合があります。</font><font style="vertical-align: inherit;">バンドルIDはYourApp.app/Contents/Info.plistにあります。</font><font style="vertical-align: inherit;">（アプリケーションバンドルを右クリックして[パッケージの内容を表示]を選択すると、アプリケーションバンドルを開くことができます。）識別子はcom.yourcompanyname.applicationnameである必要があります。たとえば、私のゲームAirshipsにはcom.zarkonnen.airshipsがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IDを登録するには、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https：//developer.apple.com/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にログインし</font><font style="vertical-align: inherit;">、左側のペインで[証明書、ID、プロファイル]を選択してから、次のページで[識別子]を選択します。</font><font style="vertical-align: inherit;">次に、「+」ボタンをクリックしてアプリケーション識別子を追加できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションパスワード</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドラインから署名するには、アプリケーションのパスワードが必要になるため、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https：//appleid.apple.com/account/manageにアクセス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">して生成します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xcodeとツール</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MacアプリのApp StoreからXcodeをインストールします。</font><font style="vertical-align: inherit;">次に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https：//developer.apple.com/download/more</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からXcodeコマンドラインツールもインストールし</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Xcode 11または使用しているXcodeのバージョンのコマンドラインツールが必要です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">証書</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Xcodeを起動し、[設定]に移動して、[アカウント]タブを開きます。</font><font style="vertical-align: inherit;">必要に応じて、Apple IDをアカウントのリストに追加します。</font><font style="vertical-align: inherit;">次に、右下隅の[証明書の管理...]ボタンをクリックします。</font><font style="vertical-align: inherit;">アプリケーションに署名するための証明書が表示されます。</font><font style="vertical-align: inherit;">「開発者IDアプリケーション」証明書が必要です。</font><font style="vertical-align: inherit;">リストにない場合は作成します。</font><font style="vertical-align: inherit;">[設定]：[アカウント]ウィンドウで[完了]、[ダウンロード]の順にクリックして、証明書をローカルにダウンロードします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションの準備</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいシステムでアプリケーションが正しく動作するには、実行可能ファイルとライブラリが64ビットである必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、Mac OSは「移動」と呼ばれる操作を実行します。セキュリティ上の理由から、実行中のアプリケーションバンドルをランダムな場所に移動します。</font><font style="vertical-align: inherit;">私のアプリケーションの場合、これはアプリケーションバンドルの隣にあるデータファイルを見つけることができなかったという事実に現れました。</font><font style="vertical-align: inherit;">アプリケーションバンドルの最初の場所を取得できますが、バンドルにすべてを配置するだけで問題を解決しました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">権限（資格）</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらは、コード署名とともに開発者によって追加された特別な権限であり、署名されたアプリケーションが特定のアクションを実行できるようにします。 Xcodeを使用してアプリケーションをコンパイルすると、すべてが独自に実行されます。それ以外の場合は、必要なすべての資格を含むplistファイルを作成する必要があります。 PLISTファイルには、Xcodeのを使用して作成することができ、かつで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://developer.apple.com/documentation/bundleresources/entitlements</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">資格のリストがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Xcodeを使用して新しいplistファイルを作成するには、[新しいファイル]を選択し、表示されるリストで[プロパティリスト]をクリックします。必要な資格を持つ要素をルートディクショナリに追加します。それらはブール値の意味を持っています：はい。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/16d/709/9f5/16d7099f5c7670117e27df8b0d640229.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のゲームの場合、Javaで記述されているため、JVMが機能するために次の権限が必要でした。com.apple.security.cs.allow-jit、com.apple.security.cs.allow-unsigned-executable-memory、com。 apple.security.cs.disable-executable-page-protection、com.apple.security.cs.disable-library-validation、com.apple.security.cs.allow-dyld-environment-variables。</font><font style="vertical-align: inherit;">ユーザーにとって、彼らは威圧的に見えるので、必要がない場合は追加しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事の後半では、entitlements.plistというファイルに資格を配置したと想定します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">署名</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、通知するデジタル署名を作成するプロセスです。署名証明書にアクセスできる人は、この特定のアプリケーションバンドルが信頼でき、悪意がないことを約束します。署名後にアプリケーションのバンドルに変更を加えると（公証の確認の添付を除く。上記を参照）、署名が無効になり、バンドルの再署名が必要になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、アプリケーションがアプリケーションバンドルのコンテンツを変更してはならないことも意味します。たとえば、キャッシュをそこに配置しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションバンドルの各実行可能ファイルと動的ライブラリは個別に署名されます。場合によっては、ライブラリがすでに署名されていることがあります。つまり、各要素に順番に署名してバンドルに署名してから、バンドル全体に署名する方がより丁寧で落ち着きます。要素にすでに署名がある場合、その場所に残ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大まかですが効果的な方法は、深い署名を強制することです。つまり、署名はアプリケーションバンドルのすべての要素に適用され、以前のすべての署名を置き換えます。これは、単純であり、以前の署名が無効であるか、十分に強力ではない可能性があるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の恐ろしいコマンドが必要になります：</font></font><br>
<br>
<code>codesign -s "Developer ID Application: &lt;YourName&gt;" --timestamp --options runtime -f --entitlements entitlements.plist --deep YourApp.app</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オプション</font></font><code>--timestamp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">署名とともに有効なタイムスタンプが埋め込まれていることを意味します。これは、正常な公証に必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このオプション</font></font><code>--options runtime</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、署名に「強化されたランタイム」が含まれることを意味します。これは、公証を成功させるためにも必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チームで署名</font></font><br>
<br>
<code>codesign -d -vvvv YourApp.app</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を確認できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">また、アプリケーションを実行して、署名後も引き続き機能することを確認する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたはより多くの丁寧な方法で要素に署名する場合は、コマンドから削除</font></font><code>-f</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、</font></font><code>--deep</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初にすべての実行可能ファイルとライブラリアプリケーションの内部、およびアプリケーション全体に署名します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公証</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションに署名した後、「見て、私はこれに署名した」と言うために、公証のためにそれをAppleシステムに提供する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、最初にdittoコマンドを使用してアプリケーションを特別なzipファイルに圧縮する必要があります。Finderを使用し</font></font><br>
<br>
<code>/usr/bin/ditto -c -k --keepParent YourApp.app YourApp.zip</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
てアプリケーションをzipにラップするだけでは、コマンドラインは機能しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、公証のためにzipを送信します。</font></font><br>
<br>
<code>xcrun altool --notarize-app --primary-bundle-id "&lt;id&gt;" -u "&lt;appleid&gt;" -p "&lt;app-specific password&gt;" --file YourApp.zip</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例：</font></font><br>
<br>
<code>xcrun altool --notarize-app --primary-bundle-id "com.zarkonnen.airships" -u "dave@hotmail.com" -p "bwnh-pbbt-llpt-xxxx" --file Airships.zip</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バンドルIDは、YourApp.app / Contents / Info.plistを見るとわかります。 （アプリケーションバンドルを右クリックして[パッケージの内容を表示]を選択すると、アプリケーションバンドルを開くことができます。）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
公証にはかなり時間がかかる場合があります。これは通常数秒または数分ですが、1時間になることもあります。お茶をもっと注ぐか、もっと強いものを自分で選びます。遅かれ早かれ、あなたはこのようなものを得るでしょう：</font></font><br>
<br>
<code>No errors uploading 'YourApp.zip'.<br>
RequestUUID = 29926ae6-f551-4d54-b283-e29d6f9b9156</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、次のコマンドを使用して、送信されたバンドルのステータスを確認できます。</font></font><br>
<br>
<code>xcrun altool --notarization-info &lt;RequestUUID&gt; -u -u "&lt;appleid&gt;" -p "&lt;app-specific password&gt;"</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例：</font></font><br>
<br>
<code>xcrun altool --notarization-info 29926ae6-f551-4d54-b283-e29d6f9b9156 -u "dave@hotmail.com" -p "bwnh-pbbt-llpt-xxxx"</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様のものが表示されます。</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">          日付：2019-10-08 06:59:58 +0000</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
          ハッシュ：0774fb95035408bacecebd64935a611ecd27b45ad9cbf3cc1aa48fa1e0eaa649</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    LogFileURL：https：//osxapps-ssl.itunes.apple.com/itunes-assets/Enigma123 / ...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
        ステータス：成功</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
   ステータスコード：0</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ステータスメッセージ：承認されたパッケージ</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
繰り返しますが、確認には通常15分ほどかかりますが、同じアプリケーションに数時間かかる場合もあります。</font><font style="vertical-align: inherit;">そうだね。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ステータスが失敗の場合は、ログファイルのURLにリストされているエラーを確認してください。</font><font style="vertical-align: inherit;">成功した場合は、警告が表示される可能性があるため、とにかく見てください。Appleが要件を再度厳しくすると、これらの警告はエラーになる可能性があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別添</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、公証の確認をアプリケーションバンドルに「固定」します。これにより、Macでもインターネットに接続しなくても確認できるようになります。</font><font style="vertical-align: inherit;">これを行うには、驚くほど短いコマンドを実行する必要があります。</font></font><br>
<br>
<code>xcrun stapler staple "YourApp.app"</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おめでとうございます。Mac用アプリケーションに署名して公証しました。</font><font style="vertical-align: inherit;">これで、アプリケーションバンドルがプロセスで変更されない場合は、都合のよい方法でアプリケーションバンドルを配布できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジャワ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたが私と同じボートにいて、JVMアプリケーションのバンドルに追加する必要がある場合は、読み続けてください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JVMバンドルをJavaアプリケーションと組み合わせるには、いくつかのオプションがあります。 AppBundlerをお勧めします。これは、すべての作業を行うアリタスクです。最初は、AppBundlerはjava.netからダウンロードできましたが、OracleがJavaプラットフォームの残りの部分を無視したおかげで、最新バージョンを</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/TheInfiniteKind/appbundler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からダウンロードする必要があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソースとドキュメントは見つかりますが、jarは見つかりません。Mavenを使用していると想定されているためです。 Mavenを使用していない場合は、ここからjarを取得できます</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">。https</font></a><font style="vertical-align: inherit;">：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//jar-download.com/artifacts/com.panayotis/appbundler</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
githubページのドキュメントの指示に従って、バンドルを構成します。</font><font style="vertical-align: inherit;">個人的には、NetBeansを使用しており、問題を解決するために、次の行をbuild.xmlに挿入しました。</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;ターゲット名= "-post-jar"&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;taskdef name = "bundleapp" </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    classpath = "lib / appbundler-1.1.0.jar"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
    classname = "com.oracle.appbundler.AppBundlerTask" /&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;bundleapp </font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      jvmrequired = "1.7"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      outputdirectory = "/ home / zar / Desktop"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      name = "飛行船"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      displayname = "飛行船"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      executableName = "飛行船"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      識別子= "com.zarkonnen.airships"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      shortversion = "1"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      バージョン= "1"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      mainclassname = "com.zarkonnen.airships.Main"</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
      copyright = "2019 David Stark"</font></font><font></font>
      applicationCategory="public.app-category.games"&gt;<font></font>
      &lt;classpath dir="dist"/&gt;<font></font>
      &lt;runtime dir="/home/zar/Desktop/jdk-11.0.4.jdk/Contents/Home"/&gt;<font></font>
      &lt;arch name="x86_64"/&gt;<font></font>
      &lt;option value="-Dapple.laf.useScreenMenuBar=true"/&gt;<font></font>
      &lt;option value="-Dcom.apple.macos.use-file-dialog-packages=true"/&gt;<font></font>
      &lt;option value="-Dcom.apple.macos.useScreenMenuBar=true"/&gt;<font></font>
      &lt;option value="-Dcom.apple.mrj.application.apple.menu.about.name=Airships"/&gt;<font></font>
      &lt;option value="-Xdock:name=Airships"/&gt;<font></font>
      &lt;option value="-Dcom.apple.smallTabs=true"/&gt;<font></font>
      &lt;option value="-Dfile.encoding=UTF-8"/&gt;<font></font>
      &lt;option value="-Xmx1024M" name="Xmx"/&gt;<font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  &lt;/ bundleapp&gt;</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&lt;/ target&gt;</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、jarファイルの作成後に実行されるタスクです。</font><font style="vertical-align: inherit;">appbundler-1.1.0.jarを使用して、JVMが埋め込まれたアプリケーションバンドルを作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が使用したJDKは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https：//www.oracle.com/technetwork/java/javase/downloads/jdk11-downloads-5066655.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からダウンロードでき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">LTS（長期サポート）があるためバージョン11を選択しましたが、古いOracleライセンス条項を使用していますが、バージョン13には奇妙な新しいライセンス制限セットがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
法的に無料のOpenJDK JVMもありますが、それらをApp Bundleで動作させることができませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注：JVMは「Java仮想マシン」です。</font><font style="vertical-align: inherit;">JREは、「Javaランタイム環境」であり、JVMに加えて、Javaアップデーターなどの追加要素が含まれています。</font><font style="vertical-align: inherit;">JDKは、JREと、コンパイラーなどのJavaプログラムの作成に必要なもので構成される「Java開発キット」です。</font><font style="vertical-align: inherit;">Java 8より前は、JREはエンドユーザーが個別に利用できましたが、それ以降はJDKしか利用できなくなったため、Java開発環境をコンピューターゲームに関連付けました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果のバンドルに深く署名して公証できるはずです。</font><font style="vertical-align: inherit;">AppBundlerのドキュメントには、アイコンの追加、ファイルタイプの関連付け、アプリケーション用に削除されたJVMの生成など、追加のオプションがたくさんあります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考文献</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Tips And Tricks for Shipping a PyGame App on the Mac</a> — ,     Python  ,    .</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Apple's Developer Page on Gatekeeper</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Notarizing your Flash/AIR applications for macOS</a> —          ,   Flash/AIR.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    Apple</a></li>
</ul><br>
<h2></h2><br>
<ul>
<li> Reddit AMemoryOfEternity      Steam  ,     Steam    .    64-,  ,    . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">,    Steamworks</a></li>
<li>Apple    ,      ,   hardened runtime,  ,   ID ,     ,  ..            ,     ,     .</li>
<li>  Valve,   Steam API    (entitlement) com.apple.security.cs.allow-dyld-environment-variables: «Steam  API dylib  DYLD_INSERT_LIBRARIES,     hardened runtime,   API dylib     ,     „com.apple.security.cs.allow-dyld-environment-variables“,       DYLD».</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja471806/index.html">照明がゲームデザインとゲーム体験に与える影響</a></li>
<li><a href="../ja471808/index.html">既成のコンポーネントからのインバーター付きスタンドアロンGSMリレー</a></li>
<li><a href="../ja471810/index.html">Active Directoryの変更を監査するためのツールを比較する：Quest Change AuditorとNetwrix Auditor</a></li>
<li><a href="../ja471812/index.html">ソフトウェア開発者向けの無料のWolframエンジンライブラリ</a></li>
<li><a href="../ja471814/index.html">WolframClientForPython | Python用の新しいWolfram言語クライアントライブラリ</a></li>
<li><a href="../ja471820/index.html">電話詐欺師。ステップ3、銀行のセルが作成されたという文書を受け取ります</a></li>
<li><a href="../ja471822/index.html">Home Assistantとの最初の知り合い</a></li>
<li><a href="../ja471824/index.html">ディスケットカメラ：Sony Mavica MVC-FD85に関する8つの興味深い事実（多くの写真）</a></li>
<li><a href="../ja471836/index.html">自動化されたPythonコードの視覚化。パート4：ドキュメントのサポート</a></li>
<li><a href="../ja471838/index.html">数学の愛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>