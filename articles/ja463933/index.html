<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎻 👨🏽‍🔬 🎄 WhatsAppを通じて両親に毎日おはようと願う20行のPythonスクリプト 🚁 🎩 👮</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今日私たちが翻訳を公開している資料の著者は、人生は仕事に満ちている現代人は、友人や親戚にメッセージを書くことを忘れることが多いと述べています。彼は、彼の両親が毎朝WhatsAppにインスピレーションを与える引用文と有用な健康のヒントを送信する方法を見て、それが往復する時間だと判断しました。
 
 こ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>WhatsAppを通じて両親に毎日おはようと願う20行のPythonスクリプト</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/463933/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">今日私たちが翻訳を公開している資料の著者は、人生は仕事に満ちている現代人は、友人や親戚にメッセージを書くことを忘れることが多いと述べています。彼は、彼の両親が毎朝WhatsAppにインスピレーションを与える引用文と有用な健康のヒントを送信する方法を見て、それが往復する時間だと判断しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このガイドでは、WhatsAppメッセージを送信するために設計された簡単なPythonスクリプトを記述します。作業の過程で、Twilio Pythonパッケージを使用します。特定の時間にスクリプトの毎日の起動を整理するために、コードをクラウドに配置します。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/a_/70/fb/a_70fblkos4swj4j61aziurh0vw.jpeg"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題を解決する1つの方法は、Twilioサービスの代わりに、Selenium PythonパッケージとWhatsApp Webバージョンを使用することです。これは、無料オファーの可能性を使い果たした後、料金を支払う必要があります。</font><font style="vertical-align: inherit;">ただし、WhatsApp Webバージョンを使用するには、携帯電話を使用してQRコードを定期的にスキャンする必要があるため、メッセージを送信してこのアプローチを自動化することはできません。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトの作業は3つのステップで構成されます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twilioのセットアップ。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードの学習と変更。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラウドにプロジェクトをデプロイし、トリガーを設定します。</font></font></li>
</ol><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ1. Twilioのセットアップ</font></font></font></h2><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twilio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Webサイト</font><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">無料のアカウントを作成し、</font><font style="vertical-align: inherit;">メールアドレスと電話番号を確認します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bed/f6e/8e8/bedf6e8e8c06064bd59d0cceaba9d833.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twilioアカウントの登録</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
また、Twilioの無料提供の一環として、WhatsAppサンドボックスを使用する必要があります。つまり、自分の電話番号を使用できなくなり、WhatsAppメッセージを受信するための許可を発行するための手順を実行する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WhatsAppでTwilioがあなたの番号を使用できるようにした後、独自のメッセージング番号を使用できます。許可を得るには、フォームに記入する必要があります。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">素材</font></a><font style="vertical-align: inherit;">から</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twilioテクニカルサポートでは、TwilioはWhatsAppと直接連携していますが、許可を得るまでに時間がかかる場合があります。さらに、それは許可証を発行するための限られた範囲について話します。その結果、多くはTwilio WhatsAppサンドボックスを使用する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらすべてが大きな喜びをもたらすわけではありませんが、Twilioの無料オファーの一部として私たちが利用できるものによって、問題を解決することができます。さらに、WhatsAppサンドボックスはこれまでのところ、広く利用可能な唯一のオプションであることがわかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、メッセージの受信者の電話をサンドボックスに接続する必要があります。その後、この電話にメッセージを送信できます。これを行う方法を学ぶために、あなたは</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">セクション</font></a><font style="vertical-align: inherit;">に行く必要があります</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WhatsApp Twilioコンソール </font><font style="vertical-align: inherit;">特に、ここでは、指定されたテキストを含むWhatsAppメッセージを特定の番号に送信することが提案されています。&nbsp;</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/854/868/e52/854868e521e259a77f2c437bf84b2bde.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メッセージを送信できる電話の接続手順が記載されたTwilioコンソールページ</font></font></font></i><br>
 <br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89f/205/d51/89f205d5162bb9aa6d668aecbc1add6e.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">電話から送信された接続要求</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
連絡先に発行されたWhatsApp番号を保存します。</font><font style="vertical-align: inherit;">彼には任意の名前を割り当てることができます。</font><font style="vertical-align: inherit;">私の人生を複雑にしないために、私はこの連絡先にTwilio Sandboxを呼び出し、父の電話からメッセージを彼に送信しました（これは前の図で確認できます）。</font><font style="vertical-align: inherit;">この手順は1回だけ実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font><font style="vertical-align: inherit;">Twilio</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンソール</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に移動して</font><font style="vertical-align: inherit;">、アカウントのSIDと認証トークンを取得</font><font style="vertical-align: inherit;">する必要があり</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このデータは、プログラムを使用してサービスを操作するときに、Twilioがユーザーを認識するのに役立ちます。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ2.コードの学習と変更</font></font></font></h2><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GitHubリポジトリを</font><font style="vertical-align: inherit;">
ダウンロードし</font><font style="vertical-align: inherit;">、アーカイブを解凍します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b35/b54/b39/b35b54b392e270f7790c1605c68e6c35.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipファイルの内容</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ここには、ソースコードファイル（</font></font><code>whatsapp_messaging.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）とプロジェクトデプロイメント用のパッケージ（</font></font><code>aws_lambda_deploy.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スクリプトコードは次のとおりです。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> twilio.rest <span class="hljs-keyword">import</span> Client<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">msg_mom_and_dad</span>(<span class="hljs-params">event=None, context=None</span>):</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#    SID   ,     Twilio</span>
&nbsp;&nbsp;&nbsp;&nbsp;twilio_sid = <span class="hljs-string">'AC84c9f1602d7fb6af4eda5b0c39a03b37'</span>
&nbsp;&nbsp;&nbsp;&nbsp;auth_token = <span class="hljs-string">'4a2021b28f1aa606d9c6945d3c248ebd'</span><font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;whatsapp_client = Client(twilio_sid, auth_token)<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#        ,</span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#     </span>
&nbsp;&nbsp;&nbsp;&nbsp;contact_directory = {<span class="hljs-string">'daddy'</span>:<span class="hljs-string">'+919624666836'</span>}<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span> key, value <span class="hljs-keyword">in</span> contact_directory.items():<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;msg_loved_ones = whatsapp_client.messages.create(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;body = <span class="hljs-string">'good morning {} !'</span>.format(key),<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;from_= <span class="hljs-string">'whatsapp:+14155238886'</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;to=<span class="hljs-string">'whatsapp:'</span> + value,<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(msg_loved_ones.sid)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、このコードを解析します。</font><font style="vertical-align: inherit;">ここでは、便宜上、番号が付いたスクリーンショットを示しています。</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c47/5d6/5b2/c475d65b2964f33f07d67b17fd590a27.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">番号付きの行を含むWhatsapp_messaging.pyファイルコード</font></font></font></i><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1行目。TwilioREST-APIで動作するクライアントのインポート。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3行目。関数の作成</font></font><code>msg_mom_and_dad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この関数をAWSに渡します。</font><font style="vertical-align: inherit;">毎日定刻に呼び出されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6〜7行目。</font><font style="vertical-align: inherit;">ここでは、既存のコード</font></font><code>sid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><code>auth_token</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自分で</font><font style="vertical-align: inherit;">置き換える必要があります</font><font style="vertical-align: inherit;">（前のセクションの最後で説明した領収書）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9行目。資格情報を使用してTwilioクライアントオブジェクトを作成します。</font></font></li>
<li> 13.  .        ,    —   .         .</li>
<li> 15.  <code>for</code>,      (      ).  <code>body</code>    .       «good morning»,    ,      .         «good morning daddy !».  <code>from_</code>   WhatsApp-,    .  <code>to</code>     — ,         WhatsApp- Twilio.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23行目。ここでは、メッセージのステータスを確認するために、そのSIDを表示しています。</font><font style="vertical-align: inherit;">この情報は使用しません。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコードを使用してメッセージを送信するには、コードを次のように変更する必要があります。</font></font><br>
<br>
<ul>
<li><code>twilio_sid</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
auth_token </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
contact_directory </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
from_ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
body（これはオプションです）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードに変更を加えたら、ファイルを保存します。</font><font style="vertical-align: inherit;">次に、アーカイブを解凍</font><font style="vertical-align: inherit;">し、ファイルを同じ名前のファイルに</font></font><code>aws_lambda_deploy.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">置き換えて、</font></font><code>whatsapp_messaging.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてを.zipアーカイブに再度パックします。</font><font style="vertical-align: inherit;">これらのアクションの意味は、資格情報とメッセージを送信する相手に関する情報をコードに含めることです。</font><font style="vertical-align: inherit;">AWSでのデプロイ用に設計されたパッケージ内の他のすべては変更されていません。</font><font style="vertical-align: inherit;">それでは、AWSを使用してみましょう。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ3. AWSにプロジェクトをデプロイし、トリガーを構成する</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードを実行してWhatsAppメッセージを送信する準備が整いました。アーカイブ内の他のファイルがプロジェクト</font></font><code>aws_lambda_deploy.zip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">果たす役割に興味がある場合</font><font style="vertical-align: inherit;">は、これらのファイルの中にTwilioパッケージと他のすべてのプロジェクトの依存関係があることを確認してください。 Twilioパッケージを持たないPython環境でAWS Lambda関数を使用する予定なので、これらすべてが必要です。そして、必要なパッケージをインストールするコマンドを実行するだけで、なぜそれを修正しないの</font></font><code>pip install twilio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ですか？実際、ここにはサーバーがありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うために、AWS Lambdaを使用します-サーバーレスコンピューティング環境で、コードフラグメントを配置できます。その呼び出しは、ユーザーのニーズに応じて、さまざまなイベントやトリガーによってトリガーされます。私たちのコードは1日に1回だけ実行するように計画されているため、AWSのEC2サーバーのようなものを24時間体制で使用すると、コンピューティングリソースとお金の無駄になります。 Lambda関数は、トリガーからのリクエストに応じて特定の時間に毎日呼び出され、その実装にはほとんど時間がかかりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lambda関数の作成を開始する</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AWSアカウントにログインします。その後、パスに従ってください</font></font><code>Services → Compute → Lambda → Create a function</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b53/854/450/b53854450d8b353675f9c9b93e768117.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lambda関数を作成するための画面</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
関数に名前を付けましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数が実行される環境として、Python 3.6を選択します。他のAWSサービスに接続する必要はありません。したがって、オプションで指定された権限レベルに満足しています</font></font><code>Create a new role with basic Lambda permissions</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
設定後、ボタンをクリックしてください</font></font><code>Create function</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これで、メインコントロールパネルが表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/29c/394/75f/29c39475fbe00dfc74c8e8bae97c92f1.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コントロールパネル</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ここでは、セクション</font><font style="vertical-align: inherit;">で、システムがコードを実行できる</font></font><code>Function code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハンドラー（</font></font><code>Handler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を指定する必要があります</font><font style="vertical-align: inherit;">。この例で</font></font><code>Handler</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">、フィールド</font></font><code>whatsapp_messaging. msg_mom_and_dad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">行を記述する必要があり</font><font style="vertical-align: inherit;">ます。これは、呼び出したいコードと関数を含むファイルの名前を示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フィールドで</font></font><code>Function package</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、.zipファイル、つまり前のステップで作成したファイルをロードする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これでコードを実行する準備ができました。ボタンをクリックすると、機能が動作してメッセージを送信するかどうかを確認できます</font></font><code>Test</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作業の最後のステップは、特定の時間に毎日関数を呼び出すトリガーを設定することです。パスに従ってください</font></font><code>Add trigger → CloudWatch Events</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/be7/5d5/ab0/be75d5ab0f6712d2a843ce7340f50bde.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トリガーの設定</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
新しいルール（</font></font><code>Rule</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を作成する必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">彼には名前（</font></font><code>Rule name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">割り当てる必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">必要に応じて、説明（</font></font><code>Rule description</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を追加できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルールのタイプ（</font></font><code>Rule type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）をとして</font><font style="vertical-align: inherit;">指定</font><font style="vertical-align: inherit;">し</font></font><code>Schedule expression</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数呼び出し時間は、構文を使用して設定され</font></font><code>cron(30 1 * * ? *)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">この構造を分析してみましょう：</font></font><br>
<br>
<ul>
<li><code>30 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UTC時刻は1:30 AMです。</font><font style="vertical-align: inherit;">私のIST時間は午前7時です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の2つの文字</font></font><code>* *</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、月と日を示すために使用されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の2文字</font></font><code>? *</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、曜日と年を指定できます。</font><font style="vertical-align: inherit;">この設計は、関数が年月の制限なしに毎日呼び出されることを意味します。</font></font></li>
</ul><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、独自のcronジョブを設定する方法を学ぶことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トリガーの設定が完了したら</font></font><code>Enable trigger</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、トリガーを含む</font><font style="vertical-align: inherit;">チェックボックスがオンになっているかどうかを確認します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これで、ボタンを押すだけで残り</font></font><code>Add</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、トリガーが作成されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0a0/9b9/1d2/0a09b91d2e1cbaeecdf36d4587591d18.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トリガー情報</font></font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6a9/08d/55b/6a908d55b748a059844e673b4b4241d2.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lambda関数に関する情報Lambda関数</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
のコントロールパネルで、エンティティが関数</font></font><code>CloudWatch Events</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">アタッチされ</font><font style="vertical-align: inherit;">、対応するトリガーが起動したときに関数を呼び出すことが</font><font style="vertical-align: inherit;">できることがわかり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/555/4d8/e8f/5554d8e8f5ef19b5c2ebf0f2ca427f88.jpg"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonスクリプトから送信されたメッセージ</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
プロジェクトの作業が完了しました。</font><font style="vertical-align: inherit;">これで、メッセージ受信者の電話で、WhatsAppの連絡先でTwilioサンドボックスの連絡先名を自分の名前に変更できます（私はそれをSonに変更しました）。</font><font style="vertical-align: inherit;">私たちのシステムでは、Twilioコントロールパネルからメッセージの受信者と通信することもできます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読者の皆様！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトでTwilioを使用していますか？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/it/t5/3p/itt53pns2iucwylb3bwn1fmmtnu.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja463921/index.html">（それほどではない）iOSとAndroidの共通コードベースの隠れたコスト</a></li>
<li><a href="../ja463923/index.html">.containerは不要になりました</a></li>
<li><a href="../ja463925/index.html">Vivaldi：ユーザー数はどのように数えるのですか？</a></li>
<li><a href="../ja463929/index.html">Pythonでの型注釈の深さを探る。パート1</a></li>
<li><a href="../ja463931/index.html">Pythonでの型注釈の深さを探る。パート2</a></li>
<li><a href="../ja463937/index.html">隠すものは何もない</a></li>
<li><a href="../ja463939/index.html">SimbirSoftは保険会社向けのモバイルソリューションをリリースしました</a></li>
<li><a href="../ja463943/index.html">黒いユニコーンの冒険</a></li>
<li><a href="../ja463951/index.html">c.tech：Cassandra Meetup＃2</a></li>
<li><a href="../ja463953/index.html">Unityでのコマンドデザインパターンの実装</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>