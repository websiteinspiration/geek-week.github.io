<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∫ ü§µüèª üïü Protegendo e invadindo o Xbox 360 (parte 1) üßòüèº üîï üçà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Voc√™ provavelmente j√° ouviu falar sobre o console do Xbox 360 e que ele est√° "piscando". Por "firmware", aqui, entende-se um desvio dos mecanismos de ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Protegendo e invadindo o Xbox 360 (parte 1)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491634/"><img src="https://habrastorage.org/webt/f2/9c/up/f29cup58ppdbyrxpx6uwtfwce3m.png" alt="imagem" align="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ provavelmente j√° ouviu falar sobre o console do Xbox 360 e que ele est√° "piscando". </font><font style="vertical-align: inherit;">Por "firmware", aqui, entende-se um desvio dos mecanismos de prote√ß√£o internos para o lan√ßamento de c√≥pias de jogos e software propriet√°rio. </font><font style="vertical-align: inherit;">E aqui surgem perguntas! </font><font style="vertical-align: inherit;">Quais mecanismos, como eles se locomovem? </font><font style="vertical-align: inherit;">O que os desenvolvedores fizeram, como eles conseguiram contornar isso? </font><font style="vertical-align: inherit;">De fato, o t√≥pico √© muito extenso e interessante, especialmente para o Xbox 360 - aqui voc√™ encontra vulnerabilidades de software, falhas de hardware e magia absolutamente m√°gica. </font><font style="vertical-align: inherit;">Interessante? </font><font style="vertical-align: inherit;">Entre! </font><font style="vertical-align: inherit;">Na primeira parte, somos apresentados ao hypervisor, unidades e firmware ...</font></font><br>
<br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conhe√ßa o assunto</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O console Xbox 360 foi lan√ßado em 2005 e n√£o sofreu altera√ß√µes nas caracter√≠sticas do ferro desde ent√£o. </font><font style="vertical-align: inherit;">Todo o tempo que foi lan√ßado, eles eram os mesmos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU PowerPC de 3,2 GHz, / 3 n√∫cleos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU de 500 MHz</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">512 MB de RAM</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DVD-ROM SATA</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> HDD SATA (opcional) </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, o design mudou com o tempo, os nan√¥metros diminu√≠ram:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/b8/n2/7b/b8n27bxgr6hsm1kowq2-zhpi8fk.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, todos os jogos funcionaram igualmente bem em todas as "revis√µes" dos consoles - esse √© exatamente o caso quando jogos modernos podem ser executados em equipamentos de 2005. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No momento do lan√ßamento, foi feita uma declara√ß√£o alta de que o console foi desenvolvido o mais seguro poss√≠vel - chips personalizados com prote√ß√£o no n√≠vel do hardware e, em geral, os hackers ainda n√£o viram isso:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haver√° n√≠veis de seguran√ßa nesta caixa que a comunidade hacker nunca viu antes</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que os desenvolvedores inventaram? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primeiro</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , eles fizeram tudo para que o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo do programa do sistema n√£o pudesse ser obtido</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Uma ROM de 32 KB contendo um carregador prim√°rio (1BL) e uma SRAM de 64 KB na qual foi executado foram incorporadas ao processador central. </font><font style="vertical-align: inherit;">√â muito, muito dif√≠cil obter o conte√∫do de uma ROM a partir de um chip de CPU:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tm/6g/db/tm6gdbdeo_4lkt5j5d4xb0-big4.png" width="320"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segundo</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fus√≠veis</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> especiais </font><font style="vertical-align: inherit;">foram </font><b><font style="vertical-align: inherit;">colocados</font></b><font style="vertical-align: inherit;"> no mesmo processador </font><font style="vertical-align: inherit;">- jumpers queimados (literalmente, alta tens√£o), uma esp√©cie de mem√≥ria que era program√°vel. </font><font style="vertical-align: inherit;">Os fus√≠veis inclu√≠am:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bits de bloqueio da interface JTAG</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bits que determinam a finalidade do prefixo (retail / devkit / testkit)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chave exclusiva de processador de 128 bits</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contadores de valor de bloqueio (LDV) para desativar o downgrade</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/j6/f4/zgj6f4zvgznhxrla5so6x06ofus.png" width="420"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, a quantidade de fus√£o √© limitada. Se voc√™ conseguir atualizar seu console 80 vezes seguidas, o contador CFLDV terminar√° e ... n√£o sei, n√£o tentei fazer isso. Provavelmente, o prefixo n√£o ser√° mais atualizado. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terceiro</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , os desenvolvedores implementaram uma </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cadeia de confian√ßa</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Para verificar a autenticidade dos gerenciadores de inicializa√ß√£o, foi usada uma combina√ß√£o dos algoritmos SHA-1 e RSA-2048 modernos (na √©poca), que exclu√≠am a possibilidade de lan√ßar seu pr√≥prio c√≥digo ou a modifica√ß√£o n√£o autorizada dos gerenciadores de inicializa√ß√£o, mesmo que voc√™ tenha conseguido todas as chaves do console e possa reconstruir o sistema. .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yd/xy/hg/ydxyhgfla9rqqypwuojvglpxqqg.png" width="370"></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quarto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , os desenvolvedores decidiram ir mais longe no princ√≠pio de "n√£o confiar em ningu√©m" e colocar um </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√≥dulo de</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hardware especial </font><b><font style="vertical-align: inherit;">para proteger a RAM</font></b><font style="vertical-align: inherit;"> na mesma CPU infeliz </font><font style="vertical-align: inherit;">! Com sua ajuda, todas as √°reas com c√≥digo de programa foram criptografadas e o monitoramento de integridade foi ativado nas √°reas mais importantes (hypervisor)!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3f/z2/de/3fz2dejnzhzmqpmx-ayeyvanur8.png" width="420"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao fazer isso, os desenvolvedores se defenderam dos ataques de DMA quando, atrav√©s de dispositivos externos que t√™m acesso √† RAM, eles modificaram o c√≥digo do programa do sistema na RAM. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hipervisor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lidou com a diferencia√ß√£o de direitos nas regi√µes de mem√≥ria </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Somente ele podia tornar as p√°ginas execut√°veis, √© claro, antes de verificar a assinatura digital, por isso era imposs√≠vel fazer o download de c√≥digo n√£o assinado ou executar algo da √°rea de dados, mesmo atrav√©s de uma vulnerabilidade em algum driver ou jogo (o eixo e os jogos eram lan√ßados com direitos de kernel) . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, o sistema operacional Xbox 360 estava bem protegido e, portanto, o DVD-ROM foi escolhido como o primeiro vetor de ataque.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Come√ßamos ... backups!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No Xbox 360, um DVD de camada dupla foi escolhido como a principal m√≠dia para jogos. </font><font style="vertical-align: inherit;">Naturalmente, mecanismos de defesa tamb√©m estavam presentes aqui:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a troca de dados com DVD-ROM foi criptografada com uma chave √∫nica</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no in√≠cio do disco, havia ‚Äúsetores de seguran√ßa‚Äù especiais para confirmar o licenciamento</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arquivos execut√°veis ‚Äã‚Äãem disco foram assinados digitalmente</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas muito menos aten√ß√£o foi dada √† prote√ß√£o da unidade de DVD do que ao sistema principal. </font><font style="vertical-align: inherit;">O console do jogo mostrou muita confian√ßa na unidade de DVD - foi o DVD-ROM que determinou o licenciamento do disco. </font><font style="vertical-align: inherit;">Al√©m disso, o firmware foi armazenado na mem√≥ria externa e pode ser lido pelo programador:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/5a/o7/kl/5ao7klzogqyesre2uhamzj46bt4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, em 14 de maio de 2006, a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commodore4eva</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (c4eva) lan√ßou o primeiro firmware modificado para acionar o modelo TS-H943:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">README para a libera√ß√£o do firmware</font></font></b>
                        <div class="spoiler_text"><blockquote> ‚Äî Xtreme firmware for TS-H943 Xbox 360<br>
 ‚Äî Here it is, the long awaited World first Xbox 360 backup firmware modification to boot all game backups!<br>
<br>
Features<br>
 ‚Äî Boots all Xtreme Xbox 360 backups<br>
Boots all Xtreme Xbox 1 backups<br>
Boots all Xbox 360 originals<br>
Boots all Xbox 1 originals on Xbox 360<br>
Xtreme0800 extraction firmware enables drive to function natively under Windows without any hardware conversion/adaptors<br>
Use on Xbox Live at own risk<br>
<br>
Technical details<br>
 ‚Äî Reads Xbox 360 security sector from PSN 04FB1F (Layer 0)<br>
Reads Xbox 1 security sector from PSN 605FF (Layer 0)<br>
Security sector must be extrated using Xtreme0800 360 firmware for Xbox360 games and Xbox 1 games<br>
Will not boot Xbox 1 backups made with Xbox1 605b 0800 firmware (maybe in future release)</blockquote></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O firmware leu os setores de seguran√ßa de √°reas fixas em um disco de DVD e enganou o console, fazendo pensar que um disco licenciado foi inserido. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao mesmo tempo, o firmware 0800 foi lan√ßado, projetado para criar c√≥pias de jogos e ler setores de seguran√ßa. </font><font style="vertical-align: inherit;">A unidade Xbox 360, que brilhou com esse firmware, foi detectada no computador e conseguiu ler completamente os setores do disco do jogo.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia-me sobre o uso do firmware 0800</font></font></b>
                        <div class="spoiler_text"><blockquote>Extracting Security Sector<br>
 ‚Äî Ensure DVD drive has been flashed with Xtrm0800.bin firmware. Drive can now work under Windows.<br>
Insert original game disk into drive and wait for windows to detect disk change<br>
Run DVDinfoPro<br>
Enter the following four custom cdb commands:<br>
<br>
AD 00 FF 02 FD FF FE 00 08 00 01 C0<br>
AD 00 FF 02 FD FF FE 00 08 00 03 C0<br>
AD 00 FF 02 FD FF FE 00 08 00 05 C0<br>
AD 00 FF 02 FD FF FE 00 08 00 07 C0<br>
<br>
Then save hexadecimal display as bin file as SS.bin<br>
<br>
Creating a game backup<br>
 ‚Äî Ensure DVD drive has been flashed with Xtrm0800.bin firmware. Drive can now work under Windows.<br>
Extract Isobuilder.rar<br>
Insert original game disk into drive and wait for windows to detect disk change<br>
Run DVDinfoPro<br>
Enter the following custom cdb command to unlock drive: (game data visable)<br>
<br>
FF 08 01 01<br>
<br>
Run Isobuster<br>
Right click on DVD and select Extract From-To<br>
Click Length and enter number of LBAs as follows:<br>
 <br>
Xbox 1 Original Number of LBA to read 3431264 decimal<br>
or<br>
Xbox 360 Original Number of LBA to read 3567872 decimal<br>
Select User Data (2048 bytes/block)<br>
Click Start Extraction<br>
Enter filename as game.iso and click Save<br>
Upon read error dialogue box choose fill with blank zeros for sector and select use this selection for all errors<br>
Copy game.iso and ss.bin to the relevent isobuilder directory (Depending on Xbox 360 or Xbox 1 game)<br>
Run build360.bat (Xbox 360 game) or build.bat (xbox 1 game)<br>
Ensure your burner will set the booktype of DVD+R DL to DVDRom<br>
Burn with CloneCd and choose the image.dvd file</blockquote></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outro jogo pode ser parcialmente copiado com o seguinte truque:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">colocar em um computador DVD-ROM disco comum de duas camadas</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espere at√© que se acalme e pare de girar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com um clipe de papel, abra a bandeja e altere a unidade para o jogo no Xbox 360</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">feche a bandeja e fa√ßa uma imagem de disco!</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(N√£o funcionou em todos os modelos de DVD-ROM) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O mais importante √© que a unidade foi flasheada exclusivamente por software, com comandos ATA especiais. </font><font style="vertical-align: inherit;">O kit incluiu um programa especial para ler o firmware original e escrever modificado. </font><font style="vertical-align: inherit;">No firmware original, a chave estimada foi armazenada, com a qual a unidade foi vinculada ao Xbox 360:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/s-/wx/yx/s-wxyxr4fyq6ljzpdzc29atqs_k.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A perda da chave significava que mesmo os discos licenciados n√£o podiam ser lan√ßados; portanto, alguns escreviam a chave em um notebook e a salvavam sempre que poss√≠vel, esse era o conhecimento mais estimado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um t√≥pico separado foi o p√¢nico sobre o jogo online. </font><font style="vertical-align: inherit;">Todo mundo temia que a Microsoft descobrisse que a unidade foi modificada e desabilitaria remotamente o console. </font><font style="vertical-align: inherit;">Alguns at√© fizeram um mod de hardware para alternar entre o firmware de f√°brica e o firmware modificado:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/te/wn/mn/tewnmnkmlplgwxbqzvi188hrayk.jpeg" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eles tocaram no firmware original "licenciado" e, com uma conex√£o √† rede, desconectaram-no vergonhosamente no cabo da Internet modificado. </font><font style="vertical-align: inherit;">A prop√≥sito, o p√¢nico n√£o foi em v√£o, mas esses modos foram completamente em v√£o, tudo foi registrado sem conex√£o com a rede. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Exatamente um m√™s depois (15 de junho de 2006), o firmware foi portado para outro modelo de unidade, que foi instalado no Xbox 360 naquele momento - Hitachi GDR3120L. </font><font style="vertical-align: inherit;">Ele tamb√©m tinha uma unidade flash externa contendo firmware:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-3/76/nu/-376nus9derd_0hbua6rsxwr3xm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta unidade estava melhor protegida:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o firmware foi armazenado na ROM em forma criptografada</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">havia controle de integridade no firmware</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para sobrescrever o firmware, voc√™ teve que entrar em um "Modo B" especial</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E se os pesquisadores conseguiram os dois primeiros pontos, o feito da tradu√ß√£o no "Modo B" deveria ser repetido por todos os </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jovens</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> piscadores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta a√ß√£o foi proposta para ser executada usando um disco de inicializa√ß√£o especial com o Slax Linux ou fazendo um curto-circuito nos fios na inicializa√ß√£o. </font><font style="vertical-align: inherit;">Foi necess√°rio um curto-circuito nos contatos 0 e 9 do conector de energia da unidade. </font><font style="vertical-align: inherit;">Por exemplo, com alfinetes!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wz/wu/rd/wzwurdo3ymtphwolno8mzc5zhew.png" width="350"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos dois casos, ap√≥s esses abusos, a unidade foi definida no Windows como uma unidade de DVD comum, onde foi recolhida, </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">estuprada</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font><font style="vertical-align: inherit;">costurada.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/n1/kg/lm/n1kglmch5iqrprr6g77nqks6fd4.png" width="500"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s o primeiro lan√ßamento, os firmwares personalizados foram finalizados, a estabilidade foi aprimorada, o suporte para novos jogos foi adicionado, em geral, tudo estava como de costume.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resposta da Microsoft</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os desenvolvedores das alega√ß√µes de que o console "inquebr√°vel" foi hackeado, responderam simplesmente:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O sistema n√£o foi invadido, apenas aprendemos a lan√ßar c√≥pias de jogos, estamos trabalhando nele</font></font></blockquote><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resposta original</font></font></b>
                        <div class="spoiler_text"><blockquote>The core security system has not been broken. However, it is reported that the authentication protocol between the optical disc drive and the console may be attacked, which if accurate could allow people to play illegally copied games. Our security team is aware of this and we are investigating potential solutions to this issue. The Xbox 360 platform was designed to be updated, and we are prepared to respond appropriately should any unauthorized activity be identified.</blockquote></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que realmente foi feito para corrigir a situa√ß√£o:</font></font><br>
 <br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Samsung TS-H943 come√ßou a vir com o firmware ms28, que n√£o entrava no modo de firmware pelo conhecido comando ATA</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Hitachi GDR3120L apareceu com o firmware 0078 e 0079, n√£o piscando nem no modo B</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aparecem as novas unidades BenQ-LiteOn VAD6038</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As primeiras "proibi√ß√µes" pontuais de piratas no Xbox Live come√ßaram; os piratas eram proibidos de jogar online para sempre</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se tudo fosse inequ√≠voco e irrepar√°vel com a proibi√ß√£o (naquele momento), os pesquisadores logo descobriram os impulsos:</font></font><br>
 <br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para Hitachi encontrado desbloquear o modo de firmware atrav√©s de um disco de √°udio especial</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ro/yl/ub/roylub2mkued2crcyqyetarr6qw.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Samsung ms28 e o BenQ VAD6038 entraram perfeitamente no modo firmware atrav√©s de controladores baratos SATA VIA 6421</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/in/ns/wk/innswkumj-p0xyc1587hl--lh0w.png" width="433"></div></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos deixar o campo de batalha por firmware de unidade por um tempo, n√£o houve um per√≠odo muito interessante em que os pesquisadores tentaram criar o firmware "Stealth", para n√£o serem banidos do Xbox Live, se ajustarem a novos jogos com novas "ondas" - vers√µes de atualiza√ß√£o do sistema e portam os resultados para tudo uma variedade crescente de firmware e unidades. </font><font style="vertical-align: inherit;">Mesmo assim, tudo foi costurado, os "backups" foram lan√ßados com sucesso, o Xbox 360 estava ganhando popularidade entre as pessoas ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quebrando o eixo!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ se lembra da primeira parte da hist√≥ria, o sistema Xbox 360 tinha um hipervisor que controlava tudo e tudo. </font><font style="vertical-align: inherit;">Ent√£o aqui. </font><font style="vertical-align: inherit;">Em uma vers√£o do sistema, uma vulnerabilidade apareceu repentinamente! </font><font style="vertical-align: inherit;">Como exatamente os pesquisadores receberam as amostras de c√≥digo do hipervisor n√£o me √© conhecido com certeza. </font><font style="vertical-align: inherit;">Mas o fato √© que, no final de 2006, os pesquisadores lan√ßaram c√≥digo n√£o assinado no Xbox 360 e, no in√≠cio de 2007, a vulnerabilidade foi corrigida pelos desenvolvedores:</font></font><br>
<blockquote>Timeline:<br>
 Oct 31, 2006 ‚Äî release of 4532 kernel, which is the first version containing the bug<br>
 Nov 16, 2006 ‚Äî proof of concept completed; unsigned code running in hypervisor context<br>
 Nov 30, 2006 ‚Äî release of 4548 kernel, bug still not fixed<br>
 Dec 15, 2006 ‚Äî first attempt to contact vendor to report bug<br>
 Dec 30, 2006 ‚Äî public demonstration<br>
 Jan 03, 2007 ‚Äî vendor contact established, full details disclosed<br>
 Jan 09, 2007 ‚Äî vendor releases patch<br>
 Feb 28, 2007 ‚Äî full public release</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O hypervisor tinha um recurso - ao contr√°rio do restante do c√≥digo, ele foi executado n√£o no espa√ßo de endere√ßo virtual, mas no f√≠sico (Modo Real). A transmiss√£o n√£o foi usada, as chamadas foram feitas diretamente (endere√ßos no formato 0x00000000'xxxxxx). Isso foi feito por velocidade ou por simplicidade ... E aqui estava um recurso do espa√ßo de endere√ßo do Xbox 360. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modo de acesso √† mem√≥ria era determinado por seu endere√ßo f√≠sico. Nomeadamente, os bits mais significativos do endere√ßo tinham um prop√≥sito oficial. Por exemplo, o endere√ßo 0x00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00'0000201C significava acesso direto ao endere√ßo 0x201C e 0x00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00'0000201C significava que era necess√°rio descriptografar e verificar a integridade em tempo real ao ler o mesmo endere√ßo f√≠sico 0x201C.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/t6/nz/dv/t6nzdvvz2hzrfkhx_2ti24hgey4.png" width="450"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, para que a execu√ß√£o seja executada com a criptografia e a prote√ß√£o ativadas, √© necess√°rio consultar endere√ßos como 0x00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00'xxxxxxxx. Somente ent√£o o m√≥dulo de hardware incluiu mecanismos de prote√ß√£o. Portanto, no n√≠vel do hardware, o bit desejado foi adicionado automaticamente (o registro HRMOR especial foi respons√°vel por isso - Hypervisor Real Mode Offset Register)! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais uma vez - assim que o hipervisor acessa um endere√ßo como 0x00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00'xxxxxxxx, a MMU altera automaticamente esse endere√ßo para 0x00000 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 00'xxxxxxxx, incluindo criptografia e prote√ß√£o! Portanto, qualquer tentativa de executar o c√≥digo "diretamente" da mem√≥ria f√≠sica, sem prote√ß√£o e criptografia, est√° fadada ao fracasso ... ou n√£o? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vejamos o c√≥digo vulner√°vel da vers√£o do hypervisor 4532:</font></font><br>
<blockquote><code>// %r0 ‚Äì   <br>
 13D8: cmplwi %r0, 0x61 //    ID<br>
 13DC: bge illegal_syscall //    0x61, ,  <br>
 ...<br>
 13F0: rldicr %r1, %r0, 2, 61 //     4<br>
 13F4: lwz %r4, syscall_table(%r1) //    <br>
 13F8: mtlr %r4 //     lr<br>
 ...<br>
 1414: blrl //   </code></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veja o esquilo? Mas ele √©! A instru√ß√£o Cmplwi funciona com </font><font style="vertical-align: inherit;">valores de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32 bits</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mas rldicr - com </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64 bits</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ! Ou seja, podemos passar o valor 0x20000000'0000002A como o n√∫mero de chamada do sistema, ele passar√° no teste (porque a parte inferior de 32 bits √© menor que 0x61) e, como resultado, em vez do endere√ßo 0x10EC, o endere√ßo do manipulador ser√° retirado de 0x80000000'000010EC! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E ent√£o, como eles dizem, observe suas m√£os. Os bits mais significativos do endere√ßo n√£o s√£o iguais a zero, respectivamente, HRMOR </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© </font><i><font style="vertical-align: inherit;">adicionado</font></i><font style="vertical-align: inherit;"> ! E como o espa√ßo de endere√ßo real √© de 32 bits, o conjunto de 63 bits por n√≥s √© simplesmente ignorado. Redirecionamos o hypervisor para mem√≥ria n√£o criptografada e insegura, simplesmente enviando um n√∫mero de chamada do sistema incorreto!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/q8/z8/hv/q8z8hv9wgxghllkyugudx1btvl4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas espere, para que haja para onde pular, precisamos ser capazes de gravar nossos dados na mem√≥ria f√≠sica. </font><font style="vertical-align: inherit;">Como conseguir isso? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â aqui que o segundo fator entra em jogo - a GPU no Xbox 360 era inteligente, at√© </font><font style="vertical-align: inherit;">inteligente </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demais</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ele deu suporte a uma instru√ß√£o especial de sombreador, o MemExport, para carregar dados de geometria na mem√≥ria f√≠sica. </font><font style="vertical-align: inherit;">Ou seja, voc√™ pode compilar o shader, execut√°-lo na GPU e, assim, gravar qualquer coisa em qualquer lugar! </font><font style="vertical-align: inherit;">E o mais importante, os shaders n√£o foram assinados; se voc√™ modificar o disco do jogo de alguma forma, poder√° substituir facilmente o c√≥digo do shader.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/vt/mm/wo/vtmmwojgxidc5w2rqddzefplfmo.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma pergunta permaneceu. </font><font style="vertical-align: inherit;">Como substituir o c√≥digo do sombreador no disco do jogo? </font><font style="vertical-align: inherit;">E aqui cortar a unidade de DVD do console foi muito √∫til. </font><font style="vertical-align: inherit;">N√≥s escrevemos um shader, substitu√≠mos na imagem do jogo, gravamos em um disco e lan√ßamos o Linux!</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_k/at/nw/_katnwvzekryqwntrpu_irji5py.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, para execut√°-lo, tive que iniciar o jogo toda vez, esperar a explora√ß√£o funcionar, colocar o disco de inicializa√ß√£o no Linux, mas isso era pelo menos alguma coisa! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como j√° mencionado, a Microsoft lan√ßou uma atualiza√ß√£o do sistema na qual corrigiam a vulnerabilidade do hypervisor. </font><font style="vertical-align: inherit;">Mas e se voc√™ retornar um kernel vulner√°vel?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Downgrade!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, a arquitetura do Xbox 360 foi estabelecida como mecanismos de prote√ß√£o contra o downgrade. </font><font style="vertical-align: inherit;">Nos fus√≠veis de hardware do processador, toda vez que um pouco era gravado durante a atualiza√ß√£o (valor de bloqueio, LDV aumentava) e se esse LDV n√£o correspondia nos fus√≠veis e no sistema, o console simplesmente n√£o era iniciado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere a estrutura do carregador de inicializa√ß√£o do Xbox 360, a saber, ‚ÄúSe√ß√µes do carregador de inicializa√ß√£o‚Äù:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/dw/dh/9l/dwdh9lbenpvavf7gl6qeu8n_ks4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pode-se ver que existem v√°rios conjuntos de gerenciadores de inicializa√ß√£o na imagem, cada um dos quais corresponde a algum LDV. No exemplo, estes s√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1888</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para LDV 0, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16767</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para LDV 3 e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16756</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para LDV 2 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, todas as atualiza√ß√µes do pr√≥prio sistema foram registradas nas se√ß√µes 6BL / 7BL e simplesmente ‚Äúaplicadas‚Äù como patches no ‚Äún√∫cleo‚Äù 5BL </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1888 de base</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mas que conjunto de corre√ß√µes a aplicar foi selecionado de acordo com o LDV prescrito nos cabe√ßalhos dos fus√≠veis e do carregador de inicializa√ß√£o! E apenas em 5BL, o cabe√ßalho pode ser modificado, com um grande MAS - o cabe√ßalho foi verificado com rela√ß√£o √† soma de hash HMAC-SHA-1 registrada nele. E foi verificado pelo </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcmp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comum </font><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ ainda n√£o entende para onde as coisas est√£o indo, aqui voc√™ conseguiu aplicar um ataque de tempo (Timing Attack). A fun√ß√£o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memcmp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> padr√£o </font><font style="vertical-align: inherit;">completa a compara√ß√£o imediatamente ap√≥s a primeira discrep√¢ncia. Portanto, alterando o primeiro byte do hash e detectando o tempo de execu√ß√£o do memcmp, voc√™ pode selecionar o valor desejado (com ele, o tempo de verifica√ß√£o aumentar√°). Continuando, voc√™ pode pegar todos os bytes da soma de hash! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para a medi√ß√£o, o barramento de depura√ß√£o POST_OUT foi usado. Funciona como um PC, em diferentes momentos do carregamento, um valor de byte √© exibido, pelo qual voc√™ pode avaliar onde o processador est√° em execu√ß√£o no momento e qual erro ocorreu. De fato, s√£o 8 pontos na placa-m√£e, cada um dos quais √© respons√°vel por um valor espec√≠fico:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/12/vk/s0/12vks0mejlztfsokeo1dkdjq_he.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de soldar esses pontos, voc√™ pode apenas medir o tempo de execu√ß√£o de cada um dos est√°gios de download e verificar se ocorreu um erro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo o processo de sele√ß√£o de hash leva cerca de uma hora:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3d/am/0j/3dam0jhxheubnuc-mgfznhomhrg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, obtemos uma imagem na qual o LDV atual est√° instalado para o kernel principal, por causa do qual nenhum patch √© aplicado e a vers√£o mais antiga do sistema 1888 √© lan√ßada! </font><font style="vertical-align: inherit;">De onde j√° √© poss√≠vel atualizar para a vers√£o vulner√°vel 4532:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sj/_m/iz/sj_mizzzybdy41ia6wm30umwbt8.jpeg"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bz/xi/b6/bzxib6g2blchf0dxcw6a2lethsu.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, a Microsoft corrigiu essa vulnerabilidade atualizando o primeiro gerenciador de inicializa√ß√£o atualizado (2BL, "CB") e queimando o fus√≠vel CBLDV, o que tornava imposs√≠vel o downgrade novamente. </font><font style="vertical-align: inherit;">Agora, em vez de memcmp, sua vers√£o segura foi usada, com o mesmo tempo de execu√ß√£o, independentemente dos valores de entrada.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JTAG Hack!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas aqui, os pesquisadores n√£o desistiram e encontraram uma brecha. </font><font style="vertical-align: inherit;">Sim, de tal forma que os desenvolvedores nem podiam imaginar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No modo normal de opera√ß√£o do console, todos os gerenciadores de inicializa√ß√£o s√£o conectados entre si em uma cadeia. </font><font style="vertical-align: inherit;">Como resultado, a descriptografia de cada carregador de inicializa√ß√£o depende da √°rea de dados no cabe√ßalho do carregador de inicializa√ß√£o anterior (emparelhando dados). </font><font style="vertical-align: inherit;">Al√©m disso, a criptografia do c√≥digo depende da chave exclusiva do processador, portanto voc√™ n√£o pode obter e montar uma imagem de trabalho sem conhecer CPU_Key. </font><font style="vertical-align: inherit;">Ou √© poss√≠vel? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No est√°gio de produ√ß√£o do console (quando a chave do processador ainda n√£o foi queimada nos fus√≠veis), um modo especial de inicializa√ß√£o do Xbox 360 √© usado quando o emparelhamento de dados √© zero (zero-emparelhamento). </font><font style="vertical-align: inherit;">E essa imagem (com um kernel vulner√°vel!) Pode ser executada em qualquer console sem nem mesmo saber a chave do processador!</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infelizmente, n√£o haver√° um lan√ßamento completo; este erro ocorrer√° aqui:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/db/zq/t-/dbzqt-_ppnq1xsfd0lntr7gdn14.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, o jogo King Kong n√£o pode ser iniciado, a explora√ß√£o atrav√©s de shaders n√£o pode ser ativada ... Mas o kernel vulner√°vel j√° est√° come√ßando! </font><font style="vertical-align: inherit;">Talvez haja outra maneira de gravar a RAM? </font><font style="vertical-align: inherit;">Descobriu-se que existe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para iniciantes, soldamos tr√™s GPIOs gratuitos do console sul do console nos pinos JTAG da GPU:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/54/ut/e5/54ute5q1civmpzgs6vx43kyjpr8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, modificamos o firmware da ponte sul (√© criptografada, mas n√£o assinada) e coletamos a imagem com o kernel vulner√°vel. </font><font style="vertical-align: inherit;">Ent√£o a m√°gica acontece:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na inicializa√ß√£o, a ponte sul na GPU JTAG sobe no PCI Express e configura o controlador NAND </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora, ao ler, o controlador NAND gravar√° dados na √°rea de mem√≥ria que precisamos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O n√∫cleo do sistema inicia e informa a ponte sul que o sistema iniciou</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A ponte sul puxa o controlador NAND, substituindo a RAM no lugar certo e explora a vulnerabilidade do hypervisor!</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O controle √© transferido para o nosso c√≥digo, fa√ßa o que queremos</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em suma, eles fizeram tudo da mesma forma que no King Kong Shader Exploit, mas mais bacana - n√£o h√° necessidade de iniciar o jogo e trocar de disco. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com base no JTAG Hack, foram criadas vers√µes modificadas do sistema - XBReboot, Freeboot, com verifica√ß√£o de assinatura desativada, onde piratas j√° estavam andando por a√≠. Os jogos podem ser lan√ßados n√£o apenas a partir de unidades e discos USB, mas tamb√©m atrav√©s do protocolo SMB diretamente de um computador.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/fn/6k/0x/fn6k0xazskez18wwj8v1nnude-c.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â importante ressaltar que um hack de sistema completo deu uma chance √†queles que perderam a chave do DVD e n√£o puderam reproduzir - tendo a chave do processador, n√£o foi dif√≠cil extrair a chave do DVD. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, aqui a Microsoft fechou rapidamente a vulnerabilidade, atualizando novamente o 2BL e aumentando o valor do CBLDV. Com isso, terminou o √©pico do hypervisor vulner√°vel, as pessoas corriam para comprar os restos dos consoles "compat√≠veis com JTAG" nas lojas - todos queriam brincar com pen drives sem problemas. Foram realizadas discuss√µes em f√≥runs sobre quais pacotes com data de lan√ßamento s√£o adequados para hackers ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O t√≥pico de modifica√ß√µes no sistema Xbox 360 parou por quase dois anos, mas o tema do firmware continuou a se desenvolver. E apenas no firmware dos drives LiteOn, a mais extensa batalha entre pesquisadores e Microsoft estourou. Mas mais sobre isso no pr√≥ximo artigo :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Links: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">relat√≥rio do GoogleTechTalks</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">King Kong Hack </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timack Attack </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JTAG / SMC Hack </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prote√ß√£o e Hacking do Xbox 360, Parte 1 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prote√ß√£o e Hacking do </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Xbox 360 </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">, Parte 2 </font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prote√ß√£o e Hacking do Xbox 360, Parte 3</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
PS Qualquer pessoa interessada em detalhes, responderei a quaisquer perguntas sobre o t√≥pico nos coment√°rios!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt491622/index.html">Preveja crises financeiras com o Python</a></li>
<li><a href="../pt491624/index.html">Criando um efeito de estrutura de t√≥picos no pipeline de renderiza√ß√£o universal do Unity</a></li>
<li><a href="../pt491628/index.html">Spelunky como um exemplo de bom design de jogo</a></li>
<li><a href="../pt491630/index.html">Aplicativo de extens√µes do navegador Firefox (WebExtensions)</a></li>
<li><a href="../pt491632/index.html">Imortalidade Digital - Internet S√≠ncrona</a></li>
<li><a href="../pt491636/index.html">Modelos GRASP: especialista em informa√ß√µes</a></li>
<li><a href="../pt491638/index.html">Nuvem 1C. Tudo est√° sem nuvens</a></li>
<li><a href="../pt491640/index.html">O Big Data manter√° suas promessas?</a></li>
<li><a href="../pt491642/index.html">Como fazemos v√≠deos na Alconost e como o cliente participa dessa</a></li>
<li><a href="../pt491644/index.html">Escolha um plugin para autentica√ß√£o de dois fatores no Wordpress</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>