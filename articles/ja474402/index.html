<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤜🏿 👨‍👧‍👧 🏂🏼 VavrコレクションAPIガイド ☀️ 👨🏿‍🍳 🥉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="VAVR（旧称Javaslang）は、Java 8+用の非営利機能ライブラリーです。これにより、JavaでScalaに似た機能的なコードを記述でき、コードの量を減らしてその品質を向上させることができます。図書館サイト。
 
 カットの下には、VavrコレクションAPIに関する情報を体系化した記事の翻...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>VavrコレクションAPIガイド</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474402/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VAVR</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（旧称Javaslang）は、Java 8+用の非営利機能ライブラリーです。</font><font style="vertical-align: inherit;">これにより、JavaでScalaに似た機能的なコードを記述でき、コードの量を減らしてその品質を向上させることができます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図書館サイト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カットの下には</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、VavrコレクションAPI</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に関する情報を体系化した記事の翻訳があり</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
翻訳</font><font style="vertical-align: inherit;">
元</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@middle_java</font></font></a></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終更新日：元の記事：2019年8月15日</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1。概要</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前Javaslangとして知られていたVavrライブラリは、Javaの機能ライブラリです。</font><font style="vertical-align: inherit;">この記事では、強力なコレクションAPIについて説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このライブラリの詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">てください</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.永続的なコレクション</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
永続的なコレクションは、変更されると、現在のバージョンを変更せずにコレクションの新しいバージョンを作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じコレクションの複数のバージョンをサポートすると、CPUとメモリの使用効率が低下する可能性があります。</font><font style="vertical-align: inherit;">ただし、Vavrコレクションライブラリは、コレクションの異なるバージョン間でデータ構造を共有することにより、これを克服します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは</font><font style="vertical-align: inherit;">、基本コレクションのラッパーを提供するだけの</font></font><code>unmodifiableCollection()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーティリティJavaクラス</font><font style="vertical-align: inherit;">とは根本的に異なり</font><font style="vertical-align: inherit;">ます</font></font><code>Collections</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのようなコレクションを変更しようとすると</font></font><code>UnsupportedOperationException </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、新しいバージョンが作成さ</font><font style="vertical-align: inherit;">れる</font><font style="vertical-align: inherit;">代わりに</font><font style="vertical-align: inherit;">結果</font><font style="vertical-align: inherit;">が生じます。</font><font style="vertical-align: inherit;">さらに、ベースコレクションは、直接リンクを介して変更可能です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.トラバーサブル</font></font></h2><br>
<code>Traversable </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのVavrコレクションの基本タイプです。</font><font style="vertical-align: inherit;">このインターフェースは、すべてのデータ構造に共通のメソッドを定義します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、デフォルトでいくつかの有用な方法、などの提供</font></font><code>size()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>get()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>filter()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>isEmpty()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブインターフェースを継承し、他を。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コレクションライブラリをさらに探索します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.シーケンス</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シーケンスから始めましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インターフェース</font></font><code>Seq </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は順次データ構造です。</font><font style="vertical-align: inherit;">これは、親インターフェースで</font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>Stream</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>Queue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>Array</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>Vector </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>CharSeq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これらすべてのデータ構造には、以下で説明する独自の固有のプロパティがあります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1。</font><font style="vertical-align: inherit;">リスト</font></font></h3><br>
 <code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-これはエネルギー的に計算されます（熱心に評価され、演算はそのオペランドの値がわかるとすぐに実行されます）インターフェースを拡張する要素のシーケンス</font></font><code>LinearSeq</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
永続的なものは</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">head</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tail</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して再帰的に構築され</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">頭</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が最初の要素です</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テール</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -残りの要素を含むリスト（このリストも先頭と末尾から形成されます）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
APIに</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、作成に使用できる静的なファクトリメソッドが含まれています</font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">静的メソッド</font></font><code>of()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して、</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つ以上のオブジェクトから</font><font style="vertical-align: inherit;">インスタンスを作成でき</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
staticメソッド</font></font><code>empty()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して空を作成</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、メソッド</font></font><code>ofAll()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">type </font><font style="vertical-align: inherit;">から作成</font><font style="vertical-align: inherit;">することもでき</font><font style="vertical-align: inherit;">ます</font></font><code>Iterable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">List &lt; String &gt; list = List.of(
    <span class="hljs-string">"Java"</span>, <span class="hljs-string">"PHP"</span>, <span class="hljs-string">"Jquery"</span>, <span class="hljs-string">"JavaScript"</span>, <span class="hljs-string">"JShell"</span>, <span class="hljs-string">"JAVA"</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト操作の例をいくつか見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メソッド</font></font><code>drop()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とそのバリアントを</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">して、最初の</font></font><code>N</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素</font><font style="vertical-align: inherit;">を削除</font><font style="vertical-align: inherit;">できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">List list1 = list.drop(<span class="hljs-number">2</span>);<font></font>
assertFalse(list1.contains(<span class="hljs-string">"Java"</span>) &amp;&amp; list1.contains(<span class="hljs-string">"PHP"</span>));<font></font>
<font></font>
List list2 = list.dropRight(<span class="hljs-number">2</span>);<font></font>
assertFalse(list2.contains(<span class="hljs-string">"JAVA"</span>) &amp;&amp; list2.contains(<span class="hljs-string">"JShell"</span>));<font></font>
<font></font>
List list3 = list.dropUntil(s - &gt; s.contains(<span class="hljs-string">"Shell"</span>));<font></font>
assertEquals(list3.size(), <span class="hljs-number">2</span>);<font></font>
<font></font>
List list4 = list.dropWhile(s - &gt; s.length() &gt; <span class="hljs-number">0</span>);<font></font>
assertTrue(list4.isEmpty());</code></pre><br>
<code>drop(int n)</code><font style="vertical-align: inherit;"></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のアイテムからリストからアイテムを</font><font style="vertical-align: inherit;">削除</font><font style="vertical-align: inherit;">し、リスト</font></font><code>dropRight()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の最後のアイテムから同じことを行います。</font></font><br>
<br>
<code>dropUntil()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">述語が等しくなるまでリストから項目を削除し、述語が等しくなる</font><font style="vertical-align: inherit;">まで項目</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><code>dropWhile()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">削除します</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">右からアイテムを削除する</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
方法も</font></font><code>dropRightWhile()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あり</font><font style="vertical-align: inherit;">ます</font></font><code>dropRightUntil()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><code>take(int n)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リストからアイテムを取得するため</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">使用されます。彼は</font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リストからアイテムを取り出して停止します。</font></font><code>takeRight(int n)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リストの最後から始まるアイテムを取るもの</font><font style="vertical-align: inherit;">もあり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="java hljs">List list5 = list.take(<span class="hljs-number">1</span>);<font></font>
assertEquals(list5.single(), <span class="hljs-string">"Java"</span>);<font></font>
<font></font>
List list6 = list.takeRight(<span class="hljs-number">1</span>);<font></font>
assertEquals(list5.single(), <span class="hljs-string">"Java"</span>);<font></font>
<font></font>
List list7 = list.takeUntil(s - &gt; s.length() &gt; <span class="hljs-number">6</span>);<font></font>
assertEquals(list3.size(), <span class="hljs-number">3</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、</font></font><code>takeUntil()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">述語が等しくなるまで、リストから項目を取得し</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><code>takeWhile()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">述語引数も取る</font><font style="vertical-align: inherit;">オプションがあり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、APIには他にも便利なメソッドがあり、たとえば、</font></font><code>distinct()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重複を削除した要素のリストを返すだけでなく、</font><font style="vertical-align: inherit;">等しいかどうかを判断するために</font></font><code>distinctBy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要</font><font style="vertical-align: inherit;">なメソッドも</font><font style="vertical-align: inherit;">あります</font></font><code>Comparator </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">リストの各要素の間に要素を挿入する</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ものもあるのは非常に興味深いです</font></font><code>intersperse()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、次の操作に非常に便利です</font></font><code>String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">List list8 = list<font></font>
    .distinctBy((s1, s2) - &gt; s1.startsWith(s2.charAt(<span class="hljs-number">0</span>) + <span class="hljs-string">""</span>) ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>);<font></font>
assertEquals(list3.size(), <span class="hljs-number">2</span>);<font></font>
<font></font>
String words = List.of(<span class="hljs-string">"Boys"</span>, <span class="hljs-string">"Girls"</span>)<font></font>
    .intersperse(<span class="hljs-string">"and"</span>)<font></font>
    .reduce((s1, s2) - &gt; s1.concat(<span class="hljs-string">" "</span> + s2))<font></font>
    .trim();<font></font>
assertEquals(words, <span class="hljs-string">"Boys and Girls"</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リストをカテゴリに分割してみませんか？</font><font style="vertical-align: inherit;">これにはAPIがあります。</font></font><br>
<br>
<pre><code class="java hljs">Iterator &lt; List &lt; String &gt;&gt; iterator = list.grouped(<span class="hljs-number">2</span>);<font></font>
assertEquals(iterator.head().size(), <span class="hljs-number">2</span>);<font></font>
<font></font>
Map &lt; Boolean, List &lt; String &gt;&gt; map = list.groupBy(e - &gt; e.startsWith(<span class="hljs-string">"J"</span>));<font></font>
assertEquals(map.size(), <span class="hljs-number">2</span>);<font></font>
assertEquals(map.get(<span class="hljs-keyword">false</span>).get().size(), <span class="hljs-number">1</span>);<font></font>
assertEquals(map.get(<span class="hljs-keyword">true</span>).get().size(), <span class="hljs-number">5</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメソッド</font></font><code>group(int n)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>n </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素の</font><font style="vertical-align: inherit;">グループに</font><font style="vertical-align: inherit;">それぞれ</font><font style="vertical-align: inherit;">分割</font><font style="vertical-align: inherit;">します</font><font style="vertical-align: inherit;">。この方法は、</font></font><code>groupdBy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受け入れ</font></font><code>Function</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト分離ロジック戻るを含む</font></font><code>Map </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">二つの要素と：</font></font><code>true </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キーは</font><font style="vertical-align: inherit;">、で指定された条件を満たす要素に</font></font><code>true </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マッピング</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">され</font></font><code>Function</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。キーは、</font><font style="vertical-align: inherit;">この条件を満たさない要素に</font></font><code>false </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マップされ</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
予想通り、変更を加える</font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、オリジナル</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は実際には変更されません。代わりに、常に新しいバージョンが返され</font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、</font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタックのセマンティクスを使用して-「後入れ先出し」（LIFO）の原則に基づいて要素を抽出します。</font><font style="vertical-align: inherit;">この意味で</font></font><code>peek()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>pop()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">やの</font><font style="vertical-align: inherit;">ようなスタックを操作するためのAPIメソッドがあります</font></font><code>push()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">List &lt; Integer &gt; intList = List.empty();<font></font>
<font></font>
List &lt; Integer &gt; intList1 = intList.pushAll(List.rangeClosed(<span class="hljs-number">5</span>, <span class="hljs-number">10</span>));<font></font>
<font></font>
assertEquals(intList1.peek(), Integer.valueOf(<span class="hljs-number">10</span>));<font></font>
<font></font>
List intList2 = intList1.pop();<font></font>
assertEquals(intList2.size(), (intList1.size() - <span class="hljs-number">1</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数は</font></font><code>pushAll()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、スタックに整数の範囲を挿入するために使用され、関数</font></font><code>peek()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、スタックの先頭要素を取得するために使用されます。</font></font><code>peekOption()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果をオブジェクトにラップできる</font><font style="vertical-align: inherit;">メソッドもあり</font><font style="vertical-align: inherit;">ます</font></font><code>Option</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そこ</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">での他の興味深いと本当に便利な方法です</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターフェイス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を慎重に文書化され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">たJavaドキュメントが</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2。</font><font style="vertical-align: inherit;">キュー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不変（不変）</font></font><code>Queue </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は要素を格納し、FIFO（先入れ先出し）に基づいて要素を取得できるようにします。</font></font><br>
<br>
<code>Queue </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内部は2つのリンクされたリストで構成されています：front </font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とback </font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。前面</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にはキューから削除されたアイテムが含まれ、背面には</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キューに入れられた</font><font style="vertical-align: inherit;">アイテムが含まれます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより、キューイングとキューからの削除の操作を複雑さ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O（1）に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">することができます</font><font style="vertical-align: inherit;">。</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素が</font><font style="vertical-align: inherit;">前面のキューから削除される</font><font style="vertical-align: inherit;">と、背面が</font></font><code>List </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反転し、新しい前面になり</font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キューを作成しましょう：</font></font><br>
<br>
<pre><code class="java hljs">Queue &lt; Integer &gt; queue = Queue.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<font></font>
Queue &lt; Integer &gt; secondQueue = queue.enqueueAll(List.of(<span class="hljs-number">4</span>, <span class="hljs-number">5</span>));<font></font>
<font></font>
assertEquals(<span class="hljs-number">3</span>, queue.size());<font></font>
assertEquals(<span class="hljs-number">5</span>, secondQueue.size());<font></font>
<font></font>
Tuple2 &lt; Integer, Queue &lt; Integer &gt;&gt; result = secondQueue.dequeue();<font></font>
assertEquals(Integer.valueOf(<span class="hljs-number">1</span>), result._1);<font></font>
<font></font>
Queue &lt; Integer &gt; tailQueue = result._2;<font></font>
assertFalse(tailQueue.contains(secondQueue.get(<span class="hljs-number">0</span>)));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この関数</font></font><code>dequeue() </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はからヘッド要素を削除して</font></font><code>Queue </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">返します</font></font><code>Tuple2&lt;T, Q&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">タプルの最初の要素はキューから削除された先頭の要素であり、タプルの2番目の要素は残りの要素</font></font><code>Queue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">で要素の</font><font style="vertical-align: inherit;">可能なすべての</font><font style="vertical-align: inherit;">組み合わせ</font><font style="vertical-align: inherit;">を取得</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
するために使用できます</font><font style="vertical-align: inherit;">。</font></font><code>combination(n)</code><font style="vertical-align: inherit;"></font><code>N</code><font style="vertical-align: inherit;"></font><code>Queue</code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="java hljs">Queue &lt; Queue &lt; Integer &gt;&gt; queue1 = queue.combinations(<span class="hljs-number">2</span>);<font></font>
assertEquals(queue1.get(<span class="hljs-number">2</span>).toCharSeq(), CharSeq.of(<span class="hljs-string">"23"</span>));</code></pre><br><font style="vertical-align: inherit;"></font><code>Queue </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キューからの要素の追加/削除中に</font><font style="vertical-align: inherit;">
元の</font><font style="vertical-align: inherit;">ものが変更されない</font><font style="vertical-align: inherit;">ことが再び</font><font style="vertical-align: inherit;">わかります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.3。</font><font style="vertical-align: inherit;">ストリーム</font></font></h3><br>
<code>Stream </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とは大幅に異なる遅延リンクリストの実装です</font></font><code>java.util.stream</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">対照的に</font></font><code>java.util.stream</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>Stream </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vavrはデータを保存し</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">後続の要素を遅延計算します。</font><font style="vertical-align: inherit;">整数がある</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
としましょう</font></font><code>Stream </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="java hljs">Stream &lt; Integer &gt; s = Stream.of(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果を印刷する場合</font></font><code>s.toString()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stream（2 ,?）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のみがコンソールに表示され</font><font style="vertical-align: inherit;">ます。これは、ヘッド要素のみが計算され</font></font><code>Stream</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、テール要素</font><font style="vertical-align: inherit;">は計算されなかったことを意味し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
呼び出し</font></font><code>s.get(3)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とその後の結果の表示により、</font><b><font style="vertical-align: inherit;">Stream（1、3、4 ,?）</font></b></font><code>s.tail()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が返されます</font><font style="vertical-align: inherit;">。逆に、最初にそれを呼び出さない場合</font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">最後の要素</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">計算する</font><font style="vertical-align: inherit;">必要があります</font><font style="vertical-align: inherit;">-結果</font><font style="vertical-align: inherit;">は</font><b><font style="vertical-align: inherit;">Stream（1 ,?）</font></b><font style="vertical-align: inherit;">のみになります</font><font style="vertical-align: inherit;">。これは、最初のテール要素のみが計算されたことを意味します。</font><font style="vertical-align: inherit;">
この動作によりパフォーマンスが向上</font><font style="vertical-align: inherit;">し、（理論的には）無限に長いシーケンスを表す</font><font style="vertical-align: inherit;">ために使用できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">vavrは不変であり、</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code>s.get(3)</code><font style="vertical-align: inherit;"></font><code>Stream </code><font style="vertical-align: inherit;"></font><code>s.tail()</code><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>Stream </code><font style="vertical-align: inherit;"></font><br>
<code>Stream </code><font style="vertical-align: inherit;"></font><code>Empty </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><code>Cons</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code>Cons </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">頭の要素と遅延計算された尾で構成されます</font></font><code>Stream</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。対照的に</font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>Stream </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メモリにはヘッドエレメントのみが格納されます。テール要素は必要に応じて計算されます。</font><font style="vertical-align: inherit;">10個の正の整数から</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成</font></font><code>Stream </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">して、偶数の合計を計算します。</font></font><br>
<br>
<pre><code class="java hljs">Stream &lt; Integer &gt; intStream = Stream.iterate(<span class="hljs-number">0</span>, i - &gt; i + <span class="hljs-number">1</span>)<font></font>
    .take(<span class="hljs-number">10</span>);<font></font>
<font></font>
assertEquals(<span class="hljs-number">10</span>, intStream.size());<font></font>
<font></font>
<span class="hljs-keyword">long</span> evenSum = intStream.filter(i - &gt; i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)<font></font>
    .sum()<font></font>
    .longValue();<font></font>
<font></font>
assertEquals(<span class="hljs-number">20</span>, evenSum);</code></pre><br><font style="vertical-align: inherit;"></font><code>Stream </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 8 API </font><font style="vertical-align: inherit;">
とは異なり</font><font style="vertical-align: inherit;">、</font></font><code>Stream </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vavrは一連の要素を格納するためのデータ構造です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、それはのようなメソッドがあり</font></font><code>get()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>append()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>insert()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その要素を操作するために、他の。</font><font style="vertical-align: inherit;">それはまた利用可能であり</font></font><code>drop()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>distinct()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前述した他の方法のいくつか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、で簡単に説明</font></font><code>tabulate()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font></font><code>Stream</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このメソッドは</font><font style="vertical-align: inherit;">、関数を適用した結果の要素を含む</font></font><code>Stream </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">長さ</font></font><code>n</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">返します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">Stream &lt; Integer &gt; s1 = Stream.tabulate(<span class="hljs-number">5</span>, (i) - &gt; i + <span class="hljs-number">1</span>);<font></font>
assertEquals(s1.get(<span class="hljs-number">2</span>).intValue(), <span class="hljs-number">3</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を使用</font></font><code>zip()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">して</font></font><code>Stream </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">from </font><font style="vertical-align: inherit;">を作成する</font><font style="vertical-align: inherit;">こともでき</font><font style="vertical-align: inherit;">ます</font></font><code>Tuple2&lt;Integer, Integer&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これには、2つを組み合わせて形成された要素が含まれます</font></font><code>Stream</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">Stream &lt; Integer &gt; s = Stream.of(<span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);<font></font>
<font></font>
Stream &lt; Tuple2 &lt; Integer, Integer &gt;&gt; s2 = s.zip(List.of(<span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span>));<font></font>
Tuple2 &lt; Integer, Integer &gt; t1 = s2.get(<span class="hljs-number">0</span>);<font></font>
<font></font>
assertEquals(t1._1().intValue(), <span class="hljs-number">2</span>);<font></font>
assertEquals(t1._2().intValue(), <span class="hljs-number">7</span>);</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.4。</font><font style="vertical-align: inherit;">アレイ</font></font></h3><br>
<code>Array </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効率的なランダムアクセスを提供する不変のインデックス付きシーケンスです。</font><font style="vertical-align: inherit;">オブジェクトの</font><font style="vertical-align: inherit;">Java </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配列に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基づいてい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">これは基本的に、</font></font><code>Traversable </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型オブジェクトの配列のラッパーです</font></font><code>T</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">静的メソッドを使用して</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インスタンス</font></font><code>Array </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">作成できます</font></font><code>of()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">さらに、静的メソッド</font></font><code>range()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font><font style="vertical-align: inherit;">を使用して、さまざまな要素を作成できます</font></font><code>rangeBy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">メソッド</font></font><code>rangeBy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">には3番目のパラメーターがあり、ステップを決定できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メソッド</font></font><code>range()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>rangeBy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、初期値から最終値から1を引いた値までの要素のみを作成します。</font><font style="vertical-align: inherit;">最終値を含める必要がある場合は、</font></font><code>rangeClosed()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">or </font><font style="vertical-align: inherit;">を使用できます</font></font><code>rangeClosedBy()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">Array &lt; Integer &gt; rArray = Array.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>);<font></font>
assertFalse(rArray.contains(<span class="hljs-number">5</span>));<font></font>
<font></font>
Array &lt; Integer &gt; rArray2 = Array.rangeClosed(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>);<font></font>
assertTrue(rArray2.contains(<span class="hljs-number">5</span>));<font></font>
<font></font>
Array &lt; Integer &gt; rArray3 = Array.rangeClosedBy(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>, <span class="hljs-number">2</span>);<font></font>
assertEquals(list3.size(), <span class="hljs-number">3</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インデックスを使用して要素を操作してみましょう。</font></font><br>
<br>
<pre><code class="java hljs">Array &lt; Integer &gt; intArray = Array.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<font></font>
Array &lt; Integer &gt; newArray = intArray.removeAt(<span class="hljs-number">1</span>);<font></font>
<font></font>
assertEquals(<span class="hljs-number">3</span>, intArray.size());<font></font>
assertEquals(<span class="hljs-number">2</span>, newArray.size());<font></font>
assertEquals(<span class="hljs-number">3</span>, newArray.get(<span class="hljs-number">1</span>).intValue());<font></font>
<font></font>
Array &lt; Integer &gt; array2 = intArray.replace(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>);<font></font>
assertEquals(s1.get(<span class="hljs-number">0</span>).intValue(), <span class="hljs-number">5</span>);</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.5。</font><font style="vertical-align: inherit;">ベクター</font></font></h3><br>
<code>Vector </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-これはとの間の何かで</font></font><code>Array </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あり</font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ランダムアクセスと一定時間での変更を可能にする別のインデックス付き要素シーケンスを提供します。</font></font><br>
<br>
<pre><code class="java hljs">Vector &lt; Integer &gt; intVector = Vector.range(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>);<font></font>
Vector &lt; Integer &gt; newVector = intVector.replace(<span class="hljs-number">2</span>, <span class="hljs-number">6</span>);<font></font>
<font></font>
assertEquals(<span class="hljs-number">4</span>, intVector.size());<font></font>
assertEquals(<span class="hljs-number">4</span>, newVector.size());<font></font>
<font></font>
assertEquals(<span class="hljs-number">2</span>, intVector.get(<span class="hljs-number">1</span>).intValue());<font></font>
assertEquals(<span class="hljs-number">6</span>, newVector.get(<span class="hljs-number">1</span>).intValue());</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.6 </font><font style="vertical-align: inherit;">シャルセック</font></font></h3><br>
<code>CharSeq </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プリミティブ文字のシーケンスを表すためのコレクションオブジェクトです。</font><font style="vertical-align: inherit;">本質的には、</font></font><code>String </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コレクション操作</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">追加する</font><font style="vertical-align: inherit;">ためのラッパーです</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成するに</font></font><code>CharSeq </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、以下を実行する必要があります。</font></font><br>
<br>
<pre><code class="java hljs">CharSeq chars = CharSeq.of(<span class="hljs-string">"vavr"</span>);<font></font>
CharSeq newChars = chars.replace(<span class="hljs-string">'v'</span>, <span class="hljs-string">'V'</span>);<font></font>
<font></font>
assertEquals(<span class="hljs-number">4</span>, chars.size());<font></font>
assertEquals(<span class="hljs-number">4</span>, newChars.size());<font></font>
<font></font>
assertEquals(<span class="hljs-string">'v'</span>, chars.charAt(<span class="hljs-number">0</span>));<font></font>
assertEquals(<span class="hljs-string">'V'</span>, newChars.charAt(<span class="hljs-number">0</span>));<font></font>
assertEquals(<span class="hljs-string">"Vavr"</span>, newChars.mkString());</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.セット</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このセクション</font></font><code>Set </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では、コレクションライブラリの</font><font style="vertical-align: inherit;">さまざまな実装について説明し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">データ構造のユニークな特徴は、</font></font><code>Set </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重複する値を許可しないことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまな実装があります</font></font><code>Set</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">主なものは</font></font><code>HashSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><code>TreeSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重複する要素は許可されず、並べ替えることができます。</font></font><code>LinkedHashSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素の挿入順序を保持します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの実装を順に詳しく見ていきましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.1。</font><font style="vertical-align: inherit;">ハッシュセット</font></font></h3><br>
<code>HashSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいインスタンスを作成するための静的なファクトリメソッドがあります。</font><font style="vertical-align: inherit;">たとえば</font></font><code>of()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">この記事の前半で取り上げたもののいくつかと</font></font><code>ofAll()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、メソッドのバリエーション</font></font><code>range()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2つの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セット</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の差は</font><font style="vertical-align: inherit;">、メソッドを使用して取得できます</font></font><code>diff()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">また、メソッド</font></font><code>union()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>intersect()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2つの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セットの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和集合と交差を返し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">HashSet &lt; Integer &gt; set0 = HashSet.rangeClosed(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>);<font></font>
HashSet &lt; Integer &gt; set0 = HashSet.rangeClosed(<span class="hljs-number">1</span>, <span class="hljs-number">5</span>);<font></font>
<font></font>
assertEquals(set0.union(set1), HashSet.rangeClosed(<span class="hljs-number">1</span>, <span class="hljs-number">6</span>));<font></font>
assertEquals(set0.diff(set1), HashSet.rangeClosed(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>));<font></font>
assertEquals(set0.intersect(set1), HashSet.rangeClosed(<span class="hljs-number">3</span>, <span class="hljs-number">5</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要素の追加や削除などの基本的な操作も実行できます。</font></font><br>
<br>
<pre><code class="java hljs">HashSet &lt; String &gt; set = HashSet.of(<span class="hljs-string">"Red"</span>, <span class="hljs-string">"Green"</span>, <span class="hljs-string">"Blue"</span>);<font></font>
HashSet &lt; String &gt; newSet = set.add(<span class="hljs-string">"Yellow"</span>);<font></font>
<font></font>
assertEquals(<span class="hljs-number">3</span>, set.size());<font></font>
assertEquals(<span class="hljs-number">4</span>, newSet.size());<font></font>
assertTrue(newSet.contains(<span class="hljs-string">"Yellow"</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実装は</font></font><code>HashSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハッシュアレイマップトライ（HAMT）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に基づいており、従来よりも優れたパフォーマンスを誇り</font></font><code>HashTable </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、その構造により、永続的なコレクションのサポートに適しています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2。</font><font style="vertical-align: inherit;">ツリーセット</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不変</font></font><code>TreeSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、インターフェースの実装です</font></font><code>SortedSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ソートされた要素のセットを格納し、バイナリ検索ツリーを使用して実装されます。</font><font style="vertical-align: inherit;">すべての操作は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O（log n）時間</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中に実行され</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、アイテム</font></font><code>TreeSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は自然な順序でソートされます。</font><font style="vertical-align: inherit;">自然なソート順を使用して</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成</font></font><code>SortedSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">して</font><font style="vertical-align: inherit;">みましょう</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="java hljs">SortedSet &lt; String &gt; set = TreeSet.of(<span class="hljs-string">"Red"</span>, <span class="hljs-string">"Green"</span>, <span class="hljs-string">"Blue"</span>);<font></font>
assertEquals(<span class="hljs-string">"Blue"</span>, set.head());<font></font>
<font></font>
SortedSet &lt; Integer &gt; intSet = TreeSet.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<font></font>
assertEquals(<span class="hljs-number">2</span>, intSet.average().get().intValue());</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アイテムをカスタムの方法で配置するには、</font></font><code>Comparator </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成時に</font><font style="vertical-align: inherit;">インスタンス</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">渡します</font></font><code>TreeSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一連の要素から文字列を作成することもできます。</font></font><br>
<br>
<pre><code class="java hljs">SortedSet &lt; String &gt; reversedSet = TreeSet.of(Comparator.reverseOrder(), <span class="hljs-string">"Green"</span>, <span class="hljs-string">"Red"</span>, <span class="hljs-string">"Blue"</span>);<font></font>
assertEquals(<span class="hljs-string">"Red"</span>, reversedSet.head());<font></font>
<font></font>
String str = reversedSet.mkString(<span class="hljs-string">" and "</span>);<font></font>
assertEquals(<span class="hljs-string">"Red and Green and Blue"</span>, str);</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.3。</font><font style="vertical-align: inherit;">ビットセット</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vavrコレクションにも不変の実装があり</font></font><code>BitSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。インターフェース</font></font><code>BitSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">インターフェースを</font><font style="vertical-align: inherit;">拡張します</font></font><code>SortedSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code>BitSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の静的メソッドを使用して作成できます</font></font><code>BitSet.Builder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データ構造の他の実装と同様に</font><font style="vertical-align: inherit;">、セットに重複するレコードを追加する</font></font><code>Set</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こと</font></font><code>BitSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インターフェイスから操作するためのメソッドを継承します</font></font><code>Traversable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code>java.util.BitSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準のJavaライブラリ</font><font style="vertical-align: inherit;">とは異なることに注意してください</font><font style="vertical-align: inherit;">。データに</font></font><code>BitSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値を含めることはできません</font></font><code>String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ファクトリメソッドを使用して</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インスタンス</font></font><code>BitSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">作成することを検討してください</font></font><code>of()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">BitSet &lt; Integer &gt; bitSet = BitSet.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>);<font></font>
BitSet &lt; Integer &gt; bitSet1 = bitSet.takeUntil(i - &gt; i &gt; <span class="hljs-number">4</span>);<font></font>
assertEquals(list3.size(), <span class="hljs-number">4</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の4つの要素を選択するには</font></font><code>BitSet </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、コマンドを使用しました</font></font><code>takeUntil()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">操作は新しいインスタンスを返しました。</font><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">はの親インターフェース</font></font><code>takeUntil()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">であるインターフェース</font></font><code>Traversable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">定義されて</font><font style="vertical-align: inherit;">いることに注意してください</font></font><code>BitSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インターフェースで定義された上記の他のメソッドと操作</font></font><code>Traversable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もに適用され</font></font><code>BitSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.地図</font></font></h2><br>
<code>Map </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Key-Valueデータ構造です。</font></font><code>Map </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vavrは不変であり</font></font><code>HashMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>TreeMap </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">との</font><font style="vertical-align: inherit;">実装が</font><font style="vertical-align: inherit;">あり</font></font><code>LinkedHashMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マップ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コントラクトで</font><font style="vertical-align: inherit;">は重複キーは許可されませんが、異なるキーにマッピングされた重複値は許可されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.1。</font><font style="vertical-align: inherit;">ハッシュマップ</font></font></h3><br>
<code>HashMap </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不変のインターフェースの実装です</font></font><code>Map</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">キーのハッシュを使用してキーと値のペアを格納します。</font></font><br>
<br>
<code>Map </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vavrでは、</font></font><code>Tuple2 </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キーと値のペアを</font><font style="vertical-align: inherit;">使用し</font><font style="vertical-align: inherit;">て従来のタイプを表します</font></font><code>Entry</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">Map &lt; Integer, List &lt; Integer &gt;&gt; map = List.rangeClosed(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)<font></font>
    .groupBy(i - &gt; i % <span class="hljs-number">2</span>);<font></font>
<font></font>
assertEquals(<span class="hljs-number">2</span>, map.size());<font></font>
assertEquals(<span class="hljs-number">6</span>, map.get(<span class="hljs-number">0</span>).get().size());<font></font>
assertEquals(<span class="hljs-number">5</span>, map.get(<span class="hljs-number">1</span>).get().size());</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に</font></font><code>HashSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、実装はさ</font></font><code>HashMap </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に基づいて、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハッシュアレイマッピングされたトライ（HAMT） </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">そのほとんどすべての操作の時定数を導きます。</font><b><font style="vertical-align: inherit;">マップ</font></b></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
要素</font><font style="vertical-align: inherit;">は、メソッドを使用してキーで、</font><font style="vertical-align: inherit;">またはメソッドを使用して値</font><font style="vertical-align: inherit;">でフィルタリングできます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">どちらのメソッドも</font><font style="vertical-align: inherit;">引数として使用します。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code>filterKeys()</code><font style="vertical-align: inherit;"></font><code>filterValues()</code><font style="vertical-align: inherit;"></font><code>Predicate </code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="java hljs">Map &lt; String, String &gt; map1 = <font></font>
    HashMap.of(<span class="hljs-string">"key1"</span>, <span class="hljs-string">"val1"</span>, <span class="hljs-string">"key2"</span>, <span class="hljs-string">"val2"</span>, <span class="hljs-string">"key3"</span>, <span class="hljs-string">"val3"</span>);<font></font>
<font></font>
Map &lt; String, String &gt; fMap = <font></font>
    map1.filterKeys(k - &gt; k.contains(<span class="hljs-string">"1"</span>) || k.contains(<span class="hljs-string">"2"</span>));<font></font>
assertFalse(fMap.containsKey(<span class="hljs-string">"key3"</span>));<font></font>
<font></font>
Map &lt; String, String &gt; map1 = <font></font>
    map1.filterValues(v - &gt; v.contains(<span class="hljs-string">"3"</span>));<font></font>
assertEquals(list3.size(), <span class="hljs-number">1</span>);<font></font>
assertTrue(fMap2.containsValue(<span class="hljs-string">"val3"</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドを使用して</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マップ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
要素</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">変換することもでき</font></font><code>map()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">たとえば、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">map1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><code>Map&lt;String, Integer&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次</font><font style="vertical-align: inherit;">のように変換してみましょう</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">Map &lt; String, Integer &gt; map2 = map1.map(<font></font>
    (k, v) - &gt; Tuple.of(k, Integer.valueOf(v.charAt(v.length() - <span class="hljs-number">1</span>) + <span class="hljs-string">""</span>)));<font></font>
assertEquals(map2.get(<span class="hljs-string">"key1"</span>).get().intValue(), <span class="hljs-number">1</span>);</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.2。</font><font style="vertical-align: inherit;">ツリーマップ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不変</font></font><code>TreeMap </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、インターフェースの実装です</font></font><code>SortedMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">場合と同様</font></font><code>TreeSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に、</font></font><code>TreeMap </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インスタンスは</font><font style="vertical-align: inherit;">要素のカスタムソートに</font><font style="vertical-align: inherit;">使用さ</font><font style="vertical-align: inherit;">れます</font></font><code>Comparator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
の作成をデモンストレーションし</font></font><code>SortedMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="java hljs">SortedMap &lt; Integer, String &gt; map = TreeMap.of(<span class="hljs-number">3</span>, <span class="hljs-string">"Three"</span>, <span class="hljs-number">2</span>, <span class="hljs-string">"Two"</span>, <span class="hljs-number">4</span>, <span class="hljs-string">"Four"</span>, <span class="hljs-number">1</span>, <span class="hljs-string">"One"</span>);<font></font>
<font></font>
assertEquals(<span class="hljs-number">1</span>, map.keySet().toJavaArray()[<span class="hljs-number">0</span>]);<font></font>
assertEquals(<span class="hljs-string">"Four"</span>, map.get(<span class="hljs-number">4</span>).get());</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、エントリ</font></font><code>TreeMap </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はキーの自然な順序でソートされます。</font><font style="vertical-align: inherit;">ただし、</font></font><code>Comparator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">並べ替えに使用</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">ものを</font><font style="vertical-align: inherit;">指定できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">TreeMap &lt; Integer, String &gt; treeMap2 =<font></font>
    TreeMap.of(Comparator.reverseOrder(), <span class="hljs-number">3</span>, <span class="hljs-string">"three"</span>, <span class="hljs-number">6</span>, <span class="hljs-string">"six"</span>, <span class="hljs-number">1</span>, <span class="hljs-string">"one"</span>);<font></font>
assertEquals(treeMap2.keySet().mkString(), <span class="hljs-string">"631"</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
の場合と同様</font></font><code>TreeSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に、実装</font></font><code>TreeMap </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もツリーを使用して作成されるため、その操作には時間</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O（log n）があり</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">指定された</font><b><font style="vertical-align: inherit;">マップ</font></b><font style="vertical-align: inherit;">キーの値を含む</font><font style="vertical-align: inherit;">メソッド</font></font><code>map.get(key)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が返さ</font></font><code>Option</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れます</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Javaの互換性</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VavrコレクションAPIは、Javaコレクションフレームワークと完全に互換性があります。</font><font style="vertical-align: inherit;">これが実際にどのように行われるかを見てみましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.1。</font><font style="vertical-align: inherit;">JavaからVavrに変換</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vavrの各コレクションの実装には、</font></font><code>ofAll()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を受け入れる</font><font style="vertical-align: inherit;">静的なファクトリメソッド</font><font style="vertical-align: inherit;">があります</font></font><code>java.util.Iterable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これにより</font><font style="vertical-align: inherit;">、</font><b><font style="vertical-align: inherit;">Java</font></b><font style="vertical-align: inherit;">コレクションから</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vavr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コレクション</font><font style="vertical-align: inherit;">を作成できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">同様に、別のファクトリメソッド</font><font style="vertical-align: inherit;">はJavaを直接受け入れます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Javaを不変に</font><font style="vertical-align: inherit;">
変換するには</font><font style="vertical-align: inherit;">：</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code>ofAll()</code><font style="vertical-align: inherit;"></font><code>Stream</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>List </code><font style="vertical-align: inherit;"></font><code>List </code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="java hljs">java.util.List &lt; Integer &gt; javaList = java.util.Arrays.asList(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>);<font></font>
List &lt; Integer &gt; vavrList = List.ofAll(javaList);<font></font>
<font></font>
java.util.stream.Stream &lt; Integer &gt; javaStream = javaList.stream();<font></font>
Set &lt; Integer &gt; vavrSet = HashSet.ofAll(javaStream);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の便利な機能は</font></font><code>collector()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、と組み合わせて</font></font><code>Stream.collect()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vavrコレクションを取得</font><font style="vertical-align: inherit;">できることです</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">List &lt; Integer &gt; vavrList = IntStream.range(<span class="hljs-number">1</span>, <span class="hljs-number">10</span>)<font></font>
    .boxed()<font></font>
    .filter(i - &gt; i % <span class="hljs-number">2</span> == <span class="hljs-number">0</span>)<font></font>
    .collect(List.collector());<font></font>
<font></font>
assertEquals(<span class="hljs-number">4</span>, vavrList.size());<font></font>
assertEquals(<span class="hljs-number">2</span>, vavrList.head().intValue());</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.2。</font><font style="vertical-align: inherit;">VavrからJavaに変換</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このインターフェースに</font></font><code>Value </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vavr</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型から</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">型に</font><font style="vertical-align: inherit;">変換するための多くのメソッド</font><font style="vertical-align: inherit;">があり</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これらのメソッドにはフォーマットがあります</font></font><code>toJavaXXX()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかの例を考えてみましょう：</font></font><br>
<br>
<pre><code class="java hljs">Integer[] array = List.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<font></font>
    .toJavaArray(Integer.class);<font></font>
assertEquals(<span class="hljs-number">3</span>, array.length);<font></font>
<font></font>
java.util.Map &lt; String, Integer &gt; map = List.of(<span class="hljs-string">"1"</span>, <span class="hljs-string">"2"</span>, <span class="hljs-string">"3"</span>)<font></font>
    .toJavaMap(i - &gt; Tuple.of(i, Integer.valueOf(i)));<font></font>
assertEquals(<span class="hljs-number">2</span>, map.get(<span class="hljs-string">"2"</span>).intValue());</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Java 8 </font></font><code>Collectors </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">してVavrコレクションからアイテムを収集する</font><font style="vertical-align: inherit;">こともできます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">java.util.Set &lt; Integer &gt; javaSet = List.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<font></font>
    .collect(Collectors.toSet());<font></font>
<font></font>
assertEquals(<span class="hljs-number">3</span>, javaSet.size());<font></font>
assertEquals(<span class="hljs-number">1</span>, javaSet.toArray()[<span class="hljs-number">0</span>]);</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.3。</font><font style="vertical-align: inherit;">Javaコレクションビュー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、ライブラリは、</font><font style="vertical-align: inherit;">Javaコレクションに変換したときに最適に</font><font style="vertical-align: inherit;">機能する、いわゆる</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コレクションビュー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">提供</font><font style="vertical-align: inherit;">します。</font><font style="vertical-align: inherit;">前のセクションの変換メソッドは、すべての要素を反復（反復）して、Javaコレクションを作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一方、ビューは、標準のJavaインターフェースを実装し、メソッド呼び出しをVavrベースコレクションに委譲します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現時点では、ビューのみがサポートされてい</font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">各順次コレクションには2つのメソッドがあります。1つは不変の表現を作成する方法で、もう1つは可変です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不変表現で変更するメソッドを呼び出すと、例外がスローされます</font></font><code>UnsupportedOperationException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例を見てみましょう：</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Test(expected = UnsupportedOperationException.class)</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">givenVavrList_whenViewConverted_thenException</span><span class="hljs-params">()</span> </span>{<font></font>
    java.util.List &lt; Integer &gt; javaList = List.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<font></font>
        .asJava();<font></font>
<font></font>
    assertEquals(<span class="hljs-number">3</span>, javaList.get(<span class="hljs-number">2</span>).intValue());<font></font>
    javaList.add(<span class="hljs-number">4</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不変ビューを作成するには：</font></font><br>
<br>
<pre><code class="java hljs">java.util.List &lt; Integer &gt; javaList = List.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>)<font></font>
    .asJavaMutable();<font></font>
javaList.add(<span class="hljs-number">4</span>);<font></font>
<font></font>
assertEquals(<span class="hljs-number">4</span>, javaList.get(<span class="hljs-number">3</span>).intValue());</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このチュートリアルでは、VavrコレクションAPIによって提供されるさまざまな機能データ構造について学びました。</font><font style="vertical-align: inherit;">また、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java doc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font><font style="vertical-align: inherit;">Vavrコレクション</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ガイドにある</font><font style="vertical-align: inherit;">有用で生産的なAPIメソッドもあり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、ライブラリも定義されていることに注意することが重要である</font></font><code>Try</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>Option</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>Either </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><code>Future</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インタフェースを拡張する</font></font><code>Value </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、結果として、インタフェースのJavaを実装します</font></font><code>Iterable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">つまり、状況によってはコレクションのように動作することがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事のすべての例の完全なソースコードは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Githubにあり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
追加資料：</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/post/421839 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.baeldung.com/vavr</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
翻訳済み</font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@middle_java</font></font></a></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja474390/index.html">11月4〜10日のサンクトペテルブルクでのデジタルイベント</a></li>
<li><a href="../ja474392/index.html">CentOS 8をVDS 256にインストールする</a></li>
<li><a href="../ja474394/index.html">Javaでのネイティブコルーチンの使用</a></li>
<li><a href="../ja474396/index.html">デルは、石油業界向けに史上最強の産業用スーパーコンピュータを構築します</a></li>
<li><a href="../ja474400/index.html">色のコントラストの可用性に関する神話</a></li>
<li><a href="../ja474404/index.html">Yandex（フロントエンド開発）2019のプログラミング選手権で解決された問題の分析</a></li>
<li><a href="../ja474406/index.html">ワイルドでのBlueKeepの初登場</a></li>
<li><a href="../ja474408/index.html">ページオブジェクトモデルの革命または進化？</a></li>
<li><a href="../ja474414/index.html">独自のボクセルエンジンを作成します</a></li>
<li><a href="../ja474418/index.html">DEFCON 27カンファレンス。macOSのハッカー製品の恩恵を受けています。パート1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>