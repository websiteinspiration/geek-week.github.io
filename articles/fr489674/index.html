<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë≤üèΩ üé§ ü§¥üèΩ Angular: une introduction claire √† NGRX üë®üèº‚Äçüé§ ‚òîÔ∏è üï¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le but de cet article est de donner une vue claire et claire de ngrx . Pour ce faire, je vais vous expliquer ce que vous devez savoir et comprendre su...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Angular: une introduction claire √† NGRX</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489674/"><img src="https://habrastorage.org/webt/rz/7h/ee/rz7heen5ey-lo47udm7sn4owfzg.png" alt="image"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le but de cet article est de donner une vue claire et claire de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ngrx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pour ce faire, je vais vous expliquer ce que vous devez savoir et comprendre sur ngrx, puis nous le verrons en action avec des exemples de code simples et clairs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici une liste de sujets que nous aborderons dans cet article:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que ngrx</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avantages de l'utilisation de ngrx</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inconv√©nients de l'utilisation de ngrx</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quand utiliser ngrx</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actions, bo√Ætes de vitesses, s√©lecteurs, stockage et effets</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suite de l'article avec un exemple d'utilisation: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Angulaire: un exemple d'utilisation de NGRX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">"</font></a></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que NGRX</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NGRX est un groupe de biblioth√®ques ¬´inspir√©es¬ª par le mod√®le Redux, qui, √† son tour, est ¬´inspir√©¬ª par le mod√®le Flux. </font><font style="vertical-align: inherit;">Autrement dit, cela signifie que le mod√®le Redux est une version simplifi√©e du mod√®le Flux, et NGRX est la version angulaire / rxjs du mod√®le Redux.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce que je veux dire par la version "angulaire / rxjs" de redux ... la partie "angulaire" est que ngrx est une biblioth√®que √† utiliser dans les applications angulaires. </font><font style="vertical-align: inherit;">Une partie des ¬´rxjs¬ª est que l'impl√©mentation ngrx fonctionne autour du flux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rxjs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Cela signifie qu'il fonctionne en utilisant des op√©rateurs observables et divers observables fournis par rxjs.</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'objectif principal de ce sch√©ma est d'assurer l'√©tat pr√©visible du conteneur sur la base de trois principes de base.</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Examinons les trois principes du mod√®le Redux et soulignons les avantages les plus importants qu'ils offrent.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La seule source de v√©rit√©</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas de l'architecture redux / ngrx, cela signifie que l'√©tat de l'ensemble de votre application est stock√© dans l'arborescence d'objets dans le m√™me r√©f√©rentiel.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans un magasin? </font><font style="vertical-align: inherit;">Nous parlerons des r√©f√©rentiels plus tard, mais pour une compr√©hension g√©n√©rale, ils sont responsables du maintien de l'√©tat et de l'application des modifications lorsqu'ils en sont inform√©s (lorsque l'action est envoy√©e, nous en parlerons √©galement plus tard).</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les avantages d'avoir une seule source de v√©rit√© sont nombreux, mais pour moi le plus int√©ressant (car c'est ce qui affectera toute application angulaire) est le suivant:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque vous cr√©ez une application angulaire, vous divisez g√©n√©ralement l'√©tat et g√©rez plusieurs services. </font><font style="vertical-align: inherit;">Au fur et √† mesure que votre application se d√©veloppe, le suivi des modifications de votre √©tat devient de plus en plus difficile et, par cons√©quent, il devient d√©sordonn√©, il est difficile de le d√©boguer et de le maintenir. Le fait d'avoir une seule source de v√©rit√© r√©sout ce probl√®me, car l'√©tat n'est trait√© que dans un seul objet et dans un seul. l'emplacement, donc le d√©bogage ou l'ajout de modifications devient beaucoup plus facile.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âtat en lecture seule</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous ne modifierez jamais directement l'√©tat, au lieu de cela, vous enverrez des actions qui d√©crivent les actions avec l'objet (il peut s'agir, par exemple, d'obtenir, d'ajouter, de supprimer ou de mettre √† jour l'√©tat).</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Soumettre une action? .. Nous parlerons des actions plus tard, mais pour une compr√©hension g√©n√©rale, ce sont les identifiants de l'op√©ration sur votre application, et ils peuvent √™tre lanc√©s (ou envoy√©s) pour dire √† l'application d'ex√©cuter l'op√©ration que l'action repr√©sente.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En √©vitant de mettre √† jour le statut √† partir de diff√©rents endroits et en ayant un endroit centralis√© pour apporter des modifications qui r√©pond √† des actions sp√©cifiques, vous obtenez de nombreux avantages. </font><font style="vertical-align: inherit;">Sans oublier le plus important:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous savez que tout changement d'√©tat se produira en un seul endroit. </font><font style="vertical-align: inherit;">Cela a un impact important sur le d√©bogage et les tests.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous savez que si une certaine action est envoy√©e, alors l'op√©ration dans l'√©tat est toujours la m√™me. </font><font style="vertical-align: inherit;">Encore une fois, cela affecte directement le d√©bogage et les tests.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des modifications sont apport√©es avec des fonctionnalit√©s simples.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une op√©ration initi√©e par l'envoi d'une action sera une simple fonction appel√©e r√©ducteurs dans le cadre de l'architecture redux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces r√©ducteurs (rappelez-vous qu'il s'agit de fonctions simples) re√ßoivent une action et un √©tat, selon l'action envoy√©e (g√©n√©ralement avec l'instruction switch), ils effectuent l'op√©ration et renvoient un nouvel objet √©tat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©tat dans l'application redux est inchang√©! Par cons√©quent, lorsqu'un r√©ducteur modifie quelque chose dans un √©tat, il renvoie un nouvel objet d'√©tat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les avantages de l'utilisation de fonctions pures sont bien connus, tels que le fait qu'elles peuvent √™tre test√©es imm√©diatement si vous passez les m√™mes arguments que vous obtenez en cons√©quence.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette approche nous permet √©galement de passer d'une instance √† l'autre de notre √©tat √† l'aide des outils de d√©veloppement Redux / ngrx et de voir ce qui a chang√© entre les instances et qui l'a chang√©, entre autres. </font><font style="vertical-align: inherit;">Ainsi, l'utilisation de fonctions pures et le renvoi de nouvelles instances d'√©tat ont √©galement un impact important sur le d√©bogage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais le principal avantage, √† mon avis, est qu'en liant toutes les donn√©es d'entr√©e de nos composants aux propri√©t√©s d'√©tat, nous pouvons changer la strat√©gie de d√©tection des changements √† pousser, ce qui augmentera les performances de l'application.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G√©nial ... Alors, quels sont les avantages d'utiliser NGRX?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons d√©j√† mentionn√© la plupart d'entre eux lorsque nous avons parl√© des principes du mod√®le redux. </font><font style="vertical-align: inherit;">Mais notons les avantages les plus importants de l'utilisation du mod√®le redux dans l'application (√† mon avis):</font></font><br>
<br>
<ul>
<li>      ,       ,     .</li>
<li> redux      ,  .</li>
<li>   ,         ,   ,  , ngrx  rxjs,      .</li>
<li>        ngrx,           .</li>
</ul><br>
<h2>‚Ä¶  </h2><br>
<ul>
<li> NGRX, ,   .   ,       ,   ,           .         ,        .</li>
<li>     .   ,    -   ,    , ,       , ,   ,  .      () rxjs    .</li>
<li>NGRX          Google,   , ,     Angular   ngrx.   - ,     ,       .</li>
</ul><br>
<h2>   NGRX</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, il est g√©n√©ralement admis que ngrx devrait √™tre utilis√© dans des projets de moyenne / grande envergure lorsque la gestion de l'√âtat devient difficile √† maintenir. Des gens plus fanatiques diront quelque chose comme "si vous avez une fortune, alors vous avez NGRX." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis d'accord qu'il devrait √™tre utilis√© dans des projets moyens ou grands lorsque vous avez un √©tat significatif et de nombreux composants qui utilisent cet √©tat, mais vous devez consid√©rer que Angular lui-m√™me fournit de nombreuses solutions de gestion d'√©tat, et si vous avez une forte √âquipe de d√©veloppement angulaire, alors vous n'avez peut-√™tre pas √† vous soucier de ngrx.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le m√™me temps, je crois qu'une √©quipe de d√©veloppement Angular solide peut √©galement d√©cider d'inclure ngrx dans la solution, car ils connaissent la pleine puissance du mod√®le redux, ainsi que la force ajout√©e par les op√©rateurs rxjs, et ils se sentent √† l'aise de travailler avec les deux ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous attendiez une r√©ponse simple, pour d√©cider quand utiliser ngrx, vous ne l‚Äôobtiendrez pas et ne faites confiance √† personne qui vous fournira cette r√©ponse en dehors de votre organisation ou groupe. </font><font style="vertical-align: inherit;">La d√©cision d√©pend de l'√©tude des avantages et des inconv√©nients, de la compr√©hension de votre √©quipe et de la prise en compte de leurs opinions.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Actions NGRX, bo√Ætes de vitesses, s√©lecteurs, stockage et effets</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce sont les √©l√©ments de base du flux ngrx. </font><font style="vertical-align: inherit;">Chacun d'eux prend une partie du processus de d√©marrage d'une op√©ration pour changer notre √©tat et obtenir des donn√©es. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0p/ms/zd/0pmszdg8q_8lifpdv5uw3j3cahc.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'image, nous voyons le flux ngrx. </font><font style="vertical-align: inherit;">Expliquons-le ...</font></font><br>
<br>
<ol>
<li>        .  ,  ,    ,    <b></b>.<br>
<blockquote>‚Ä¶<br>
<br>
  ¬´¬ª    () .  ‚Äî  ,   NGRX Action.    Action'    (        GetUserName):<br>
<br>
<b>type</b> ():     , ,   . : '[User] Get User Login''.<br>
<br>
<b>payload</b> ( ):      ,     .       ,   .       .<br>
</blockquote></li>
<li>      , <b>    </b> (    switch)    ,        ,    .<br>
<blockquote><b>...</b><br>
<br>
 ‚Äî   ,   :    .    ngrx    ,        ,   ,     ,   ,       .<br>
</blockquote></li>
<li>      ,    - ,        . ,    -    HTTP   .<br>
<blockquote><b>...</b><br>
<br>
    ngrx       ,          ngrx.<br>
<br>
Effects ,  -  , ,  ,  ,        ,    .<br>
<br>
   ,       API.<br>
<br>
  ,      ,        (success, error  ..),     ,        ngrx.<br>
</blockquote> <b> ,    (  ),   ¬´-¬ª   </b> ( ,     ).<br>
</li>
<li>     .      ,  <b>ngrx  ,        ,      .</b><br>
<blockquote><b>...</b><br>
<br>
   ,       ,          ,      .<br>
<br>
 NGRX    ¬´¬ª     .  ,         ,      .<br>
<br>
   .           .   ¬´store¬ª      ,     .<br>
<br>
<b> ...</b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un magasin est un objet (une instance de la classe Store ngrx) qui combine les choses que nous avons mentionn√©es pr√©c√©demment (actions, r√©ducteurs, s√©lecteurs). </font><font style="vertical-align: inherit;">Par exemple, lorsqu'une action est envoy√©e (en utilisant la fonction d'envoi de l'objet de stockage), le stockage est celui qui trouve et ex√©cute le r√©ducteur correspondant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est √©galement titulaire de l'√©tat de demande.</font></font><br>
</blockquote></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suite de l'article avec des exemples d'utilisation: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Angular: an example of using NGRX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">"</font></a></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr489662/index.html">PHP Digest n ¬∞ 174 (10-24 f√©vrier 2020)</a></li>
<li><a href="../fr489664/index.html">NPS, convoyeur, calcul automatique et encore ... coroutines</a></li>
<li><a href="../fr489666/index.html">Surcharge en C ++. Partie II Surcharge de l'op√©rateur</a></li>
<li><a href="../fr489668/index.html">Limites du processeur et limitation agressive dans Kubernetes</a></li>
<li><a href="../fr489672/index.html">Nous ressuscitons l'hexapode. Deuxi√®me partie</a></li>
<li><a href="../fr489676/index.html">Nous faisons un clone du service de livraison de nourriture en utilisant Nuxt.js, GraphQL, Strapi et Stripe. Partie 1/7</a></li>
<li><a href="../fr489678/index.html">M√©moire indestructible, processus indestructibles</a></li>
<li><a href="../fr489682/index.html">CORB (Cross-Origin Read Blocking) dans les extensions Chrome</a></li>
<li><a href="../fr489684/index.html">C'est la norme - 4: r√©soudre les probl√®mes avec les cartes normales</a></li>
<li><a href="../fr489688/index.html">OData + RxJava + Retrofit 2 pour application Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>