<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèΩ üëµüèª üñ±Ô∏è The relationship between C # and C #: REST, gRPC and everything in between üôáüèæ üñ§ üå∫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="There are many ways to communicate between a C # client and a C # server. Some of them are reliable, others are not. Some are very fast, others not. I...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>The relationship between C # and C #: REST, gRPC and everything in between</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488102/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">There are many ways to communicate between a C # client and a C # server. </font><font style="vertical-align: inherit;">Some of them are reliable, others are not. </font><font style="vertical-align: inherit;">Some are very fast, others not. </font><font style="vertical-align: inherit;">It is important to know the various options so that you can decide which is best for you. </font><font style="vertical-align: inherit;">This article will discuss the most popular technologies to date and why they are so widely used. </font><font style="vertical-align: inherit;">We will talk about REST, gRPC and everything in between.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimal scenario</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's look at how we would like our client-server communication to look in the real world. I present something like this:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-comment">// on client side</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">var</span> server = <span class="hljs-keyword">new</span> MyServer(<span class="hljs-keyword">new</span> Uri(<span class="hljs-string">"https://www.myserver.com/"</span>);)
    <span class="hljs-keyword">int</span> sum = server.Calculator.SumNumbers(<span class="hljs-number">12</span>,<span class="hljs-number">13</span>); <font></font>
}</code></pre><br>
<pre><code class="cs hljs"><span class="hljs-comment">// on server side</span>
<span class="hljs-keyword">class</span> <span class="hljs-title">CalculatorController</span> : <span class="hljs-title">Controller</span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">SumNumbers</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> a, <span class="hljs-keyword">int</span> b</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">return</span> a + b;<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I would like to have full Intellisense support. </font><font style="vertical-align: inherit;">When I click </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I want Visual Studio to show all the controllers. </font><font style="vertical-align: inherit;">And when I click </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CalculatorController</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I want to see all the action methods. </font><font style="vertical-align: inherit;">I also want the highest performance, very low network load and bidirectional data transfer. </font><font style="vertical-align: inherit;">And I need a reliable system that copes with version control so that I can easily deploy new versions of clients and new versions of servers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It's too much? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note that I'm talking about </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stateless</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> APIs here </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">This is equivalent to a C # project where there are only two types of classes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Static classes with static methods only.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POCO classes in which there is nothing but fields and properties whose type is a primitive or other POCO class.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Having state in the API introduces complexity, and this is the root of all evil. </font><font style="vertical-align: inherit;">So, for the sake of this article, let's make things beautiful and stateless.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Traditional REST approach</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REST API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> appeared in the early 2000s and conquered the Internet. </font><font style="vertical-align: inherit;">Now this is by far the most popular way to create web services. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REST</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> defines a fixed set of </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GET</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POST</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PUT,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DELETE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> operations </font><font style="vertical-align: inherit;">for requests from the client to the server. </font><font style="vertical-align: inherit;">For each request, we get a response containing a payload (usually JSON). </font><font style="vertical-align: inherit;">Requests include parameters in the request itself or as a payload (usually JSON) when it is a POST or PUT request. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There is a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RESTful API</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> standard </font><font style="vertical-align: inherit;">that defines the following rules (which you don't really need):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GET is used to get the resource</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PUT is used to change the state of a resource.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">POST is used to create a resource.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DELETE is used to delete a resource.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you are not familiar with REST so far, the above explanation will probably not help, so here is an example. </font><font style="vertical-align: inherit;">.NET has built-in REST support. </font><font style="vertical-align: inherit;">In fact, the ASP.NET Web API is by default a REST web service. </font><font style="vertical-align: inherit;">Here's what a typical ASP.NET client and server looks like: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the server:</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">Route(<span class="hljs-meta-string">"People"</span>)</span>]
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">PeopleController</span> : <span class="hljs-title">Controller</span><font></font>
{<font></font>
    [<span class="hljs-meta">HttpGet</span>]
    <span class="hljs-function"><span class="hljs-keyword">public</span> Person <span class="hljs-title">GetPersonById</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> id</span>)</span><font></font>
    {<font></font>
        Person person = _db.GetPerson(id);<font></font>
        <span class="hljs-keyword">return</span> person;<span class="hljs-comment">//Automatically serialized to JSON</span><font></font>
    }<font></font>
} </code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the client:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">var</span> client = <span class="hljs-keyword">new</span> HttpClient();
<span class="hljs-keyword">string</span> resultJson = <span class="hljs-keyword">await</span> client.GetStringAsync(<span class="hljs-string">"https://www.myserver.com/People/GetPersonById?id=123"</span>);<font></font>
Person person = JsonConvert.DeserializeObject&lt;Person&gt;(resultJson);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
REST is damn convenient, but not suitable for the optimal scenario. </font><font style="vertical-align: inherit;">So let's see if we can do it better.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Refit</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ReFit is</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> not an alternative to REST. </font><font style="vertical-align: inherit;">Instead, it is built on top of REST and allows us to invoke server endpoints as if they were a simple method. </font><font style="vertical-align: inherit;">This is achieved by sharing the interface between the client and server. </font><font style="vertical-align: inherit;">On the server side, your controller will implement the interface:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">public</span> <span class="hljs-keyword">interface</span> <span class="hljs-title">IMyEmployeeApi</span><font></font>
{<font></font>
    [<span class="hljs-meta">Get(<span class="hljs-meta-string">"/employee/{id}"</span>)</span>]
    <span class="hljs-function">Task&lt;Employee&gt; <span class="hljs-title">GetEmployee</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> id</span>)</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then on the client side you will need to enable the same interface and use the following code:</font></font><br>
<br>
<pre><code class="cs hljs">
<span class="hljs-keyword">var</span> api = RestService.For&lt;IMyEmployeeApi&gt;(<span class="hljs-string">"https://www.myserver.com"</span>);
<span class="hljs-keyword">var</span> employee = <span class="hljs-keyword">await</span> api.GetEmployee(<span class="hljs-string">"abc"</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is so simple. </font><font style="vertical-align: inherit;">There is no need to run complex automation or use third-party tools, except for a couple of NuGet packages. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is getting much closer to the optimal scenario. </font><font style="vertical-align: inherit;">Now we have IntelliSense and a reliable contract between client and server. </font><font style="vertical-align: inherit;">But there is another option that is even better in some respects.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Like ReFit, Swagger is also built on top of REST. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenAPI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , or </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , is a REST API specification. </font><font style="vertical-align: inherit;">It describes a REST web service in simple JSON files. </font><font style="vertical-align: inherit;">These files are a web service API schema. </font><font style="vertical-align: inherit;">They include:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">All paths (URLs) in the API.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expected operations (GET, POST, ...) for each path. </font><font style="vertical-align: inherit;">Each path can handle different operations. </font><font style="vertical-align: inherit;">For example, the same path </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mystore.com/Product</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can accept a POST operation that adds a product and a GET operation that returns a product.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The expected parameters for each path and operation.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expected answers for each path.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types of each parameter and response object.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This JSON file is essentially a contract between clients and the server. </font><font style="vertical-align: inherit;">Here is an example swagger file describing a web service called </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger Petstore</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (for clarity, I removed some parts):</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Json schema</font></font></b><div class="spoiler_text"><pre><code class="json hljs">{ 
   <span class="hljs-attr">"swagger"</span>:<span class="hljs-string">"2.0"</span>,
   <span class="hljs-attr">"info"</span>:{ 
      <span class="hljs-attr">"version"</span>:<span class="hljs-string">"1.0.0"</span>,
      <span class="hljs-attr">"title"</span>:<span class="hljs-string">"Swagger Petstore"</span>,
      <span class="hljs-attr">"description"</span>:<span class="hljs-string">"A sample API that uses a petstore as an example to demonstrate features in the swagger-2.0 specification"</span>,<font></font>
   },<font></font>
   <span class="hljs-attr">"host"</span>:<span class="hljs-string">"petstore.swagger.io"</span>,
   <span class="hljs-attr">"basePath"</span>:<span class="hljs-string">"/api"</span>,
   <span class="hljs-attr">"schemes"</span>:[ 
      <span class="hljs-string">"http"</span><font></font>
   ],<font></font>
   <span class="hljs-attr">"consumes"</span>:[ 
      <span class="hljs-string">"application/json"</span><font></font>
   ],<font></font>
   <span class="hljs-attr">"produces"</span>:[ 
      <span class="hljs-string">"application/json"</span><font></font>
   ],<font></font>
   <span class="hljs-attr">"paths"</span>:{ 
      <span class="hljs-attr">"/pets"</span>:{ 
         <span class="hljs-attr">"get"</span>:{ 
            <span class="hljs-attr">"description"</span>:<span class="hljs-string">"Returns all pets from the system that the user has access to"</span>,
            <span class="hljs-attr">"operationId"</span>:<span class="hljs-string">"findPets"</span>,
            <span class="hljs-attr">"produces"</span>:[ 
               <span class="hljs-string">"application/json"</span>,
               <span class="hljs-string">"application/xml"</span>,<font></font>
            ],<font></font>
            <span class="hljs-attr">"parameters"</span>:[ <font></font>
               { <font></font>
                  <span class="hljs-attr">"name"</span>:<span class="hljs-string">"tags"</span>,
                  <span class="hljs-attr">"in"</span>:<span class="hljs-string">"query"</span>,
                  <span class="hljs-attr">"description"</span>:<span class="hljs-string">"tags to filter by"</span>,
                  <span class="hljs-attr">"required"</span>:<span class="hljs-literal">false</span>,
                  <span class="hljs-attr">"type"</span>:<span class="hljs-string">"array"</span>,
                  <span class="hljs-attr">"items"</span>:{ 
                     <span class="hljs-attr">"type"</span>:<span class="hljs-string">"string"</span><font></font>
                  },<font></font>
                  <span class="hljs-attr">"collectionFormat"</span>:<span class="hljs-string">"csv"</span><font></font>
               },<font></font>
               { <font></font>
                  <span class="hljs-attr">"name"</span>:<span class="hljs-string">"limit"</span>,
                  <span class="hljs-attr">"in"</span>:<span class="hljs-string">"query"</span>,
                  <span class="hljs-attr">"description"</span>:<span class="hljs-string">"maximum number of results to return"</span>,
                  <span class="hljs-attr">"required"</span>:<span class="hljs-literal">false</span>,
                  <span class="hljs-attr">"type"</span>:<span class="hljs-string">"integer"</span>,
                  <span class="hljs-attr">"format"</span>:<span class="hljs-string">"int32"</span><font></font>
               }<font></font>
            ],<font></font>
            <span class="hljs-attr">"responses"</span>:{ 
               <span class="hljs-attr">"200"</span>:{ 
                  <span class="hljs-attr">"description"</span>:<span class="hljs-string">"pet response"</span>,
                  <span class="hljs-attr">"schema"</span>:{ 
                     <span class="hljs-attr">"type"</span>:<span class="hljs-string">"array"</span>,
                     <span class="hljs-attr">"items"</span>:{ 
                        <span class="hljs-attr">"$ref"</span>:<span class="hljs-string">"#/definitions/Pet"</span><font></font>
                     }<font></font>
                  }<font></font>
               },<font></font>
...<font></font>
 </code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's look at the consequences of this. </font><font style="vertical-align: inherit;">Using a JSON file like the one above you can potentially create a C # client with full IntelliSense. </font><font style="vertical-align: inherit;">In the end, you know all the paths, operations, what parameters they expect, what types of parameters, what are the answers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are several tools that do just that. </font><font style="vertical-align: inherit;">On the server side, you can use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swashbuckle.AspNetCore</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to add Swagger to your ASP.NET and create the specified JSON files. </font><font style="vertical-align: inherit;">For the client side, you can use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">swagger-codegen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AutoRest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to process these files in JSON format and generate the client. </font><font style="vertical-align: inherit;">Let's see an example of how to do this:</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adding Swagger to your ASP.NET Server</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Start by adding the NuGet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swashbuckle.AspNetCore</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> package </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">In </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ConfigureServices</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , register the Swagger generator:</font></font><br>
<br>
<pre><code class="cs hljs">services.AddSwaggerGen(options =&gt; <font></font>
	options.SwaggerDoc(<span class="hljs-string">"v1"</span>, <span class="hljs-keyword">new</span> OpenApiInfo {Title = <span class="hljs-string">"My Web API"</span>, Version = <span class="hljs-string">"v1"</span>}));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Startup.cs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> file </font><font style="vertical-align: inherit;">in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> method, </font><font style="vertical-align: inherit;">add:</font></font><br>
<br>
<pre><code class="cs hljs">app.UseSwagger();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finally, the action methods inside the controller must be marked with </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[HttpXXX]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[FromXXX]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> attributes:</font></font><br>
<br>
<pre><code class="cs hljs">[<span class="hljs-meta">HttpPost</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">AddEmployee</span>(<span class="hljs-params">[FromBody]Employee employee</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">//...</span><font></font>
}<font></font>
 <font></font>
[<span class="hljs-meta">HttpGet</span>]
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;Employee&gt; <span class="hljs-title">Employee</span>(<span class="hljs-params">[FromQuery]<span class="hljs-keyword">string</span> id</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">//...</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is so simple for the server side. </font><font style="vertical-align: inherit;">When the project </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">starts</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a </font><b><font style="vertical-align: inherit;">swagger.json</font></b><font style="vertical-align: inherit;"> file will be generated </font><font style="vertical-align: inherit;">, which you can use to generate the client.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Generating a client from Swagger using AutoRest</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To start using </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AutoRest</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , install it with </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npm install -g autorest</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">After installation, you will need to use the AutoRest command-line interface to create the C # client from the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">swagger.json</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> file </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Here is an example:</font></font><br>
<br>
<pre><code class="plaintext hljs">autorest --input-file="./swagger.json" --output-folder="GeneratedClient" --namespace="MyClient" --override-client-name="MyClient" --csharp
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This will create a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GeneratedClient</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> folder </font><font style="vertical-align: inherit;">with the generated C # files. </font><font style="vertical-align: inherit;">Note that the namespace and client name are redefined. </font><font style="vertical-align: inherit;">Add this folder to your client project in Visual Studio as shown below. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ma/mt/7r/mamt7rut1jz53wgtyofocyivlec.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You will need to install the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft.Rest.ClientRuntime</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> NuGet package, because the generated code depends on it. </font><font style="vertical-align: inherit;">After installation, you can use the API like a regular C # class:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">var</span> client = <span class="hljs-keyword">new</span> MyClient();<font></font>
Employee employee = client.Employee(id: <span class="hljs-string">"abc"</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are some subtleties that you can read about in the </font><font style="vertical-align: inherit;">AutoRest </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">And you will need to automate this process, so I suggest reading </font><font style="vertical-align: inherit;">Patrick Svensson‚Äôs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manual</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for some useful tips, as well as </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this article by</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Peter Yausovets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
My problem with Swagger is that the JSON file is created at runtime, so this makes it a little difficult to automate the CI / CD process.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Traditional REST vs Swagger vs ReFit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here are a few points to consider when choosing.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If you have a very simple private REST API, you might not have to worry about client generation and common interfaces. </font><font style="vertical-align: inherit;">A small task does not justify additional effort.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger supports many languages, and ReFit only supports .NET. </font><font style="vertical-align: inherit;">Swagger is also the basis for many tools, tests, automation tools, and user interface tools. </font><font style="vertical-align: inherit;">This will probably be the best choice if you are creating a large public API.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger is much more complicated than ReFit. </font><font style="vertical-align: inherit;">With ReFit, it is just a matter of adding a single interface to both your server and client project. </font><font style="vertical-align: inherit;">On the other hand, with ReFit you will have to create new interfaces for each controller, while Swagger will take care of this automatically.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But before you decide something, check out the 4th option, which has nothing to do with REST.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (gRPC - Remote Procedure Call) is an open source remote procedure call system developed by Google. </font><font style="vertical-align: inherit;">This is a bit like REST in the sense that it provides a way to send requests from the client to the server. </font><font style="vertical-align: inherit;">But this is very different, here are the similarities and differences:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Like REST, gRPC is language independent. </font><font style="vertical-align: inherit;">There are tools for all popular languages, including C #.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC is contract-based and uses </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.proto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> files to define the contract. </font><font style="vertical-align: inherit;">This is somewhat similar to Swagger </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">swagger.json</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and the common ReFit interface. </font><font style="vertical-align: inherit;">A client of any programming language can be generated from these files.</font></font></li>
<li>gRPC    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Protocol Buffer (Protobuf)</a>.    REST,     JSON  XML.    , , .</li>
<li>gRPC        HTTP/2.      .   ,  REST   HTTP 1.x ( HTTP 1.1).</li>
<li>HTTP 1.1  TCP- ()   ,   HTTP/2   .</li>
<li>HTTP/2    .  ,   TCP-    .     ,    ,   HTTP 1.1.</li>
<li>gRPC    .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are two ways to use gRPC. </font><font style="vertical-align: inherit;">For .NET Core 3.0, there is a fully managed </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC for .NET</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> library </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Also you can use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC C #</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">This does not mean that </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC for .NET</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> replaces </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC C #</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Let's see an example with the newer </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC for .NET</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRPC for .NET server side</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is not a guide, but rather a general idea of ‚Äã‚Äãwhat to expect. </font><font style="vertical-align: inherit;">Here's what an example controller would look like in gRPC:</font></font><br>
<br>
<pre><code class="cs hljs">
<span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">GreeterService</span> : <span class="hljs-title">Greeter.GreeterBase</span><font></font>
{<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> Task&lt;HelloReply&gt; <span class="hljs-title">SayHello</span>(<span class="hljs-params">HelloRequest request,
        ServerCallContext context</span>)</span><font></font>
    {<font></font>
        _logger.LogInformation(<span class="hljs-string">"Saying hello to {Name}"</span>, request.Name);
        <span class="hljs-keyword">return</span> Task.FromResult(<span class="hljs-keyword">new</span> HelloReply <font></font>
        {<font></font>
            Message = <span class="hljs-string">"Hello "</span> + request.Name<font></font>
        });<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You need to add the following to </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Startup.cs</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> file </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="cs hljs"><font></font>
app.UseEndpoints(endpoints =&gt;<font></font>
{<font></font>
    endpoints.MapGrpcService&lt;GreeterService&gt;();<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The API is described in the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.proto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> file, which is part of the project:</font></font><br>
<br>
<pre><code class="plaintext hljs">syntax = "proto3";<font></font>
 <font></font>
service Greeter {<font></font>
  rpc SayHello (HelloRequest) returns (HelloReply);<font></font>
}<font></font>
 <font></font>
message HelloRequest {<font></font>
  string name = 1;<font></font>
}<font></font>
 <font></font>
message HelloReply {<font></font>
  string message = 1;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.proto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> file is added in the .csproj file:</font></font><br>
<br>
<pre><code class="cs hljs">&lt;ItemGroup&gt;<font></font>
  &lt;Protobuf Include=<span class="hljs-string">"Protos\greet.proto"</span>/&gt;<font></font>
&lt;/ItemGroup&gt;</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GRPC for .NET client side</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The client is generated from </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.proto</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> files. </font><font style="vertical-align: inherit;">The code itself is very simple:</font></font><br>
<br>
<pre><code class="cs hljs">
<span class="hljs-keyword">var</span> channel = GrpcChannel.ForAddress(<span class="hljs-string">"https://localhost:5001"</span>);
<span class="hljs-keyword">var</span> client = <span class="hljs-keyword">new</span> Greeter.GreeterClient(channel);<font></font>
 <font></font>
<span class="hljs-keyword">var</span> response = <span class="hljs-keyword">await</span> client.SayHello(
    <span class="hljs-keyword">new</span> HelloRequest { Name = <span class="hljs-string">"World"</span> });<font></font>
 <font></font>
Console.WriteLine(response.Message);<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC vs REST</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GRPC sounds like a nice deal. It is faster and easier under the hood. So should we all switch from REST to gRPC? The answer is that it </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">depends</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Here are some considerations: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In my experience, working with gRPC and ASP.NET is still small. You will be better off with mature REST support. As far as contract communication is concerned, this is good, except that you have similar alternatives in REST that we have already talked about: Swagger and ReFit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The biggest advantage is performance. In most cases, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">according to these criteria</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , gRPC is much faster. Especially for large payloads for which Protobuf serialization really matters. This means that this is a huge advantage for a server with a high load.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moving from REST to gRPC in a large ASP.NET application will be difficult. </font><font style="vertical-align: inherit;">However, if you have a microservice-based architecture, then this transition will become much easier to complete gradually.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Other ways of communication</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are several other ways of communication that I did not mention at all, but it is worth knowing that they exist:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GraphQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is an API query language developed by Facebook. </font><font style="vertical-align: inherit;">This allows the client to request exactly the data that it needs from the server. </font><font style="vertical-align: inherit;">Thus, you can create only one endpoint on the server, which will be extremely flexible and will return only the data that the client needs. </font><font style="vertical-align: inherit;">GraphQL has become very popular in recent years.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">TcpClient</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">TcpListener</a> ( <b>System.Net.Sockets</b>)     TCP.  ,        .      ,         ASP.NET      API.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">UdpClient </a>     UDP. TCP      ,   UDP   . TCP ,     ,  UDP ‚Äî .  UDP      ,       ,      .   :  ,       IP (VoIP).</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WCF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is an old technology that mainly uses SOAP-based inter-process communication. </font><font style="vertical-align: inherit;">This is a huge framework that I won‚Äôt go into, I can only say that it has lost its popularity for REST and JSON payloads.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That's all. </font><font style="vertical-align: inherit;">I hope the article was interesting! </font><font style="vertical-align: inherit;">Good code to all!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en488082/index.html">In a Nutshell: Async / Await Best Practices in .NET</a></li>
<li><a href="../en488088/index.html">How Habr interacts with state bodies and other applicants. Transparency report for all years</a></li>
<li><a href="../en488092/index.html">Hackathons. How to get the most out and survive</a></li>
<li><a href="../en488096/index.html">400g. View from the side of Transmission. ZR / ZR +</a></li>
<li><a href="../en488098/index.html">How to create a Django project from a template</a></li>
<li><a href="../en488104/index.html">DBA: Find Useless Indexes</a></li>
<li><a href="../en488108/index.html">SAP HANA Lab in Azure</a></li>
<li><a href="../en488112/index.html">Understanding Iterators in Python</a></li>
<li><a href="../en488116/index.html">Five important lessons about game balance</a></li>
<li><a href="../en488118/index.html">Haxe Winter Status Report</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>