<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª üê´ üò≠ Testing STEP format bootloaders for VR üíú üà≥ üë©üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We, BP Concept LLC, have been developing VR Concept software for organizing teamwork with any 3D model, including CAD, in virtual reality helmets for ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Testing STEP format bootloaders for VR</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499446/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We, BP Concept LLC, have been developing VR Concept software for organizing teamwork with any 3D model, including CAD, in virtual reality helmets for 5 years. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this article, we would like to share the experience of integrating several downloaders to read various formats and dwell on how we implemented support for the STEP format using the C3D bootloader and comparison with the OpenCascade bootloader, which was integrated into our software earlier.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cl/bi/7c/clbi7ch1_uvegtmcmz1gokdtszu.png"><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A little background</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The purpose of our software is to help companies accelerate the coordination of projects between the decision maker, the project manager, contractors, partners and customers, by moving the discussion from the plane of drawings, pictures on the monitor and full-scale mock-ups into virtual reality, working with projects on a scale of 1: 1 (based on a 3D model) with the ability to consider it as if it had already been implemented or built. Using virtual reality technology allows you to increase the ergonomic characteristics of the projected object, reduce the number and cost of errors in the project, increase the efficiency of employee training in the workplace and reduce the risk of emergencies. In addition, the technology is used in the field of education.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To implement support for CAD formats, we use different approaches, ranging from independent implementation according to open standards, using Open Source, and also using commercial solutions, including CAD cores.</font></font><br>
<br>
<b><h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementing JT format support and getting to know the C3D Labs bootloader</font></font></h4></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Based on the results of working with current customers, we decided to implement the JT format, which is highly demanded in mechanical engineering, especially for customers who work with Siemens NX software. We analyzed different ways to implement such a bootloader, the main criteria for choosing such a solution were JT download quality, support speed, terms of use (annual payment, percentage of sales, features and conditions of replication) and price. As a result, we chose the solution of C3D Labs, especially since by this moment we were already beginning to work out integration with CAD system Compass-3D, of Ascon company. And C3D is the core of this CAD system.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C3D Labs also provides access to other formats, such as: JT, C3D, X_T, X_B, STEP, IGES and ACIS SAT. </font><font style="vertical-align: inherit;">But some of these formats, specifically STEP and IGES, were already implemented in VR Concept with the help of another product - Open Cascade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Partnership with C3D Lab was concluded in June 2019. </font><font style="vertical-align: inherit;">In July, work began on the implementation of the JT format loader using C3D. </font><font style="vertical-align: inherit;">It took us about 3 people-months and in the fall the loader was ready. </font><font style="vertical-align: inherit;">The first users got a VR Concept build with JT support in September. </font><font style="vertical-align: inherit;">And in October, other formats JT, C3D, X_T, X_B, STEP, IGES and ACIS SAT were implemented. </font><font style="vertical-align: inherit;">We released the new version of VR Concept in December and it already had support for all these formats using the C3D core.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testing STEP Loaders </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The most popular of these formats is the STEP engineering format. </font><font style="vertical-align: inherit;">And we had two load implementations using different libraries. </font><font style="vertical-align: inherit;">The task was to make a choice or leave both implementations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We decided to test the comparison of the two STEP loaders in VR Concept, implemented on different platforms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For testing, we used 64 different models of the STEP format with different characteristics. </font><font style="vertical-align: inherit;">The file size was varied (from 43 Kb to 269909 Kb) and the number of objects / bodies of the model (from 45 to 18483). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f5/ku/9x/f5ku9xqwmc3bvdcwqb0-irptplo.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The model was provided by ASCON</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
. Depending on the above characteristics, the following table was formed according to the test results, showing the loading time of models with different number of bodies / objects:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The range of the number of objects (bodies)</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The number of models in the sample</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VR Concept average load time with Open Cascade (sec)</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VR Concept average load time with C3D (sec)</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1-1000</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">39</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32,5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9.84</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1000-3000</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">93,4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54,2</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">more than 3000</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">454</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">57.5</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Three models were also selected for detailed indicative comparisons. </font><font style="vertical-align: inherit;">Compressor (below), trolleybus (previous picture) and LEGO excavator. </font><font style="vertical-align: inherit;">These models are quite voluminous, with the number of bodies more than 2000. One of them can be viewed and checked independently by </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reference</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">And this is how it looks with us: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e2/lu/qe/e2luqem0vkdndhq6re7mrvqpwt8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depending on the above characteristics, the following table was formed according to the test results:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oq/fv/hc/oqfvhcq6yofnwhztom1yn2uzrra.jpeg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instead of conclusions</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We did not expect to get such a result, to be honest! </font><font style="vertical-align: inherit;">C3D turned out to be much quicker in reading the STEP format than Open Cascade, with the same settings and the visual quality of the result. </font><font style="vertical-align: inherit;">In addition, it seems to us that the display quality of the C3D model is even slightly better. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ad/at/ze/adatzechyk2y9c1fxbaxp6sx9i4.png"><img src="https://habrastorage.org/webt/km/g4/4x/kmg44xpklgosbq5wbs3zjv85jjq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Another comparison of the quality of visualization on an enlarged scale: above Open Cascade, below C3D. </font><font style="vertical-align: inherit;">Compressor model provided by ASCON.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Yes, we did not compare both of these converters outside our solution, so if you have data on this subject, we will be happy to see them! </font><font style="vertical-align: inherit;">Perhaps you have thoughts in defense of Open Cascade? </font><font style="vertical-align: inherit;">Please share in the comments.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We continue to test and compare Open Cascade and C3D on different 3D models. </font><font style="vertical-align: inherit;">We will be happy if you share your 3D models - we will test them and share the result!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en499436/index.html">Remote-controlled enzyme will accelerate the treatment of strokes and spinal injuries</a></li>
<li><a href="../en499438/index.html">Stream for testers and not only</a></li>
<li><a href="../en499440/index.html">As we wrote the world's coolest autopilot for a shunting locomotive</a></li>
<li><a href="../en499442/index.html">Creating a Pseudo-3D Racing Game: Implementing the Hills and Finishing the Game</a></li>
<li><a href="../en499444/index.html">Postgres: bloat, pg_repack and deferred constraints</a></li>
<li><a href="../en499448/index.html">Implementing SOLID and layered architecture in Node.js with TypeScript and InversifyJS</a></li>
<li><a href="../en499450/index.html">Choosing the equipment for a game Persian using genetics / evolution in Python</a></li>
<li><a href="../en499452/index.html">Everyday life of an ophthalmologist at the clinic: when doctors are not enough</a></li>
<li><a href="../en499454/index.html">Video Live! Badoo Localization Meetup April 21</a></li>
<li><a href="../en499458/index.html">GOnline mitap materials: library design, code generation, machine learning</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>