<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèø‚Äçü§ù‚Äçüßëüèø üßíüèø üêç Redis Best Practices, Partie 2 üë®üèæ‚Äç‚öïÔ∏è ü§±üèæ ü¶å</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La deuxi√®me partie du cycle de traduction de Redis Best Practices de Redis Labs, et il discute des mod√®les d'interaction et des mod√®les de stockage de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Redis Best Practices, Partie 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487570/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La deuxi√®me partie du cycle de traduction de Redis Best Practices de Redis Labs, et il discute des mod√®les d'interaction et des mod√®les de stockage de donn√©es.</font></font><div style="text-align:center;"><img src="https://habrastorage.org/webt/hr/6y/f5/hr6yf5w1hp0fh-i5vfa0p1pxeuy.png" width="15%"></div><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re partie est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®les d'interaction</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redis peut fonctionner non seulement comme un SGBD traditionnel, mais aussi ses structures et commandes peuvent √™tre utilis√©es pour √©changer des messages entre microservices ou processus. </font><font style="vertical-align: inherit;">L'utilisation g√©n√©ralis√©e des clients Redis, la vitesse et l'efficacit√© du serveur et du protocole, ainsi que les structures classiques int√©gr√©es vous permettent de cr√©er vos propres workflows et m√©canismes d'√©v√©nement. </font><font style="vertical-align: inherit;">Dans ce chapitre, nous couvrirons les sujets suivants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">file d'attente d'√©v√©nements;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blocage avec Redlock;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pub / Sub;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©v√©nements distribu√©s.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">File d'attente des √©v√©nements</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les listes dans Redis sont des listes de lignes ordonn√©es, tr√®s similaires aux listes li√©es que vous connaissez peut-√™tre. L'ajout d'une valeur √† une liste (push) et la suppression d'une valeur d'une liste (pop) sont des op√©rations tr√®s l√©g√®res. Comme vous pouvez l'imaginer, c'est une tr√®s bonne structure pour g√©rer une file d'attente: ajoutez des √©l√©ments au d√©but et lisez-les depuis la fin (FIFO). Redis fournit √©galement des fonctionnalit√©s suppl√©mentaires qui rendent ce mod√®le plus efficace, fiable et facile √† utiliser.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les listes contiennent un sous-ensemble de commandes qui vous permettent d'ex√©cuter un comportement de "blocage". </font><font style="vertical-align: inherit;">Le terme ¬´blocage¬ª fait r√©f√©rence √† une connexion avec un seul client. </font><font style="vertical-align: inherit;">En fait, ces commandes ne permettent pas au client de faire quoi que ce soit tant qu'une valeur n'appara√Æt pas dans la liste ou jusqu'√† l'expiration du d√©lai. </font><font style="vertical-align: inherit;">Cela √©limine le besoin d'interroger Redis, en attendant le r√©sultat. </font><font style="vertical-align: inherit;">Puisque le client ne peut rien faire pendant qu'il attend une valeur, nous aurons besoin de deux clients ouverts pour illustrer ceci:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client 1</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client 2</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; BRPOP my-q 0</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[valeur attendue]</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><pre><code class="plaintext hljs">&gt; LPUSH my-q hello<font></font>
(integer) 1</code></pre></td>
<td><pre><code class="plaintext hljs">1) "my-q"<font></font>
2) "hello"</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[client d√©verrouill√©, pr√™t √† accepter les commandes]</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; BRPOP my-q 0</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[valeur attendue]</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet exemple, √† l'√©tape 1, nous voyons que le client bloqu√© ne renvoie rien imm√©diatement, car il ne contient rien. </font><font style="vertical-align: inherit;">Le dernier argument est le temps d'attente. </font><font style="vertical-align: inherit;">Ici, 0 signifie attente √©ternelle. </font><font style="vertical-align: inherit;">Sur la deuxi√®me ligne </font><font style="vertical-align: inherit;">, une valeur est entr√©e </font><font style="vertical-align: inherit;">dans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my-q</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le premier client quitte imm√©diatement l'√©tat de blocage. </font><font style="vertical-align: inherit;">Sur la troisi√®me ligne, BRPOP est appel√© √† nouveau (vous pouvez le faire en boucle dans l'application) et le client attend √©galement la valeur suivante. </font><font style="vertical-align: inherit;">En appuyant sur ¬´Ctrl + C¬ª, vous pouvez briser le verrou et quitter le client. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inversons l'exemple et voyons comment BRPOP fonctionne avec une liste non vide:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client 1</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client 2</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><pre><code class="plaintext hljs">&gt; LPUSH my-q hello<font></font>
(integer) 1</code></pre></td>
<td></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><pre><code class="plaintext hljs">&gt; LPUSH my-q hej<font></font>
(integer) 2</code></pre></td>
<td></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td><pre><code class="plaintext hljs">&gt; LPUSH my-q bonjour<font></font>
(integer) 3</code></pre></td>
<td></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; BRPOP my-q 0<font></font>
1) "my-q"<font></font>
2) "hello"</code></pre></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; BRPOP my-q 0<font></font>
1) "my-q"<font></font>
2) "hej"</code></pre></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; BRPOP my-q 0<font></font>
1) "my-q"<font></font>
2) "bonjour"</code></pre></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; BRPOP my-q 0</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[valeur attendue]</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les √©tapes 1 √† 3, nous ajoutons 3 valeurs √† la liste et constatons que la r√©ponse augmente, indiquant le nombre d'√©l√©ments dans la liste. L'√©tape 4, malgr√© l'appel de BRPOP, renvoie imm√©diatement la valeur. Cela est d√ª au fait que le comportement de blocage se produit uniquement lorsqu'il n'y a aucune valeur dans la file d'attente. Nous pouvons voir la m√™me r√©ponse instantan√©e aux √©tapes 5 √† 6, car cela se fait pour chaque √©l√©ment de la file d'attente. √Ä l'√©tape 7, BRPOP ne trouve rien dans la file d'attente et bloque le client jusqu'√† ce que quelque chose soit ajout√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Souvent, les files d'attente repr√©sentent un travail qui doit √™tre effectu√© dans un autre processus (travailleur). </font><font style="vertical-align: inherit;">Dans ce type de charge de travail, il est important que le travail ne disparaisse pas si le travailleur tombe pour une raison quelconque pendant l'ex√©cution. </font><font style="vertical-align: inherit;">Redis prend en charge ce type de file d'attente. </font><font style="vertical-align: inherit;">Pour ce faire, utilisez la commande BRPOPLPUSH au lieu de BRPOP. </font><font style="vertical-align: inherit;">Elle attend une valeur dans une liste, et d√®s qu'elle y appara√Æt, la met dans une autre liste. </font><font style="vertical-align: inherit;">Cela se fait de mani√®re atomique, il est donc impossible pour deux travailleurs de modifier la m√™me valeur. </font><font style="vertical-align: inherit;">Voyons voir comment √ßa fonctionne:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client 1</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client 2</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; LINDEX worker-q 0<font></font>
(nil)</code></pre></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Si le r√©sultat n'est pas nul, traitez-le d'une mani√®re ou d'une autre et passez √† l'√©tape 4]</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; LREM worker-q -1 [   1]<font></font>
(integer) 1</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[retour √† l'√©tape 1]</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; BRPOPLPUSH my-q worker-q 0</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[valeur attendue]</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></td>
<td><pre><code class="plaintext hljs">&gt; LPUSH my-q hello</code></pre></td>
<td><pre><code class="plaintext hljs">"hello"</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[client d√©verrouill√©, pr√™t √† accepter les commandes]</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[bonjour]</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; LREM worker-q -1 hello<font></font>
(integer) 1</code></pre></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[retour √† l'√©tape 1]</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aux √©tapes 1 √† 2, nous ne faisons rien, car </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">travailleur-q est</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vide. Si quelque chose est revenu, nous le traitons et le supprimons, puis revenons √† l'√©tape 1 pour v√©rifier si quelque chose est entr√© dans la file d'attente. Ainsi, nous effa√ßons d'abord la file d'attente du travailleur et effectuons le travail existant. √Ä l'√©tape 4, nous attendons que la valeur apparaisse dans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my-q</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et lorsqu'elle le fait, elle est transf√©r√©e atomiquement vers </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker-q</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ensuite, nous traitons en quelque sorte </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´bonjour¬ª</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , apr√®s quoi nous le supprimons de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker-q</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et revenons √† l'√©tape 1. Si le processus meurt √† l'√©tape 6, la valeur reste toujours dans </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker-q</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Apr√®s avoir red√©marr√© le processus, nous supprimerons imm√©diatement tout ce qui n'a pas √©t√© supprim√© √† l'√©tape 7.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce mod√®le r√©duit consid√©rablement la probabilit√© de perte d'emploi, mais uniquement si le travailleur d√©c√®de entre les √©tapes 2 et 3 ou 5 et 6, ce qui est peu probable, mais les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meilleures pratiques</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en tiendront compte dans la logique du travailleur.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serrure avec redlock</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parfois, dans le syst√®me, il est n√©cessaire de bloquer certaines ressources. </font><font style="vertical-align: inherit;">Cela peut √™tre n√©cessaire pour appliquer des changements importants qui ne peuvent pas √™tre r√©solus dans un environnement concurrentiel. </font><font style="vertical-align: inherit;">Objectifs de blocage:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">permettre √† un et un seul travailleur de capturer la ressource;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√™tre capable de lib√©rer de mani√®re fiable l'objet de verrouillage;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne verrouillez pas la ressource herm√©tiquement (elle doit √™tre d√©verrouill√©e apr√®s un certain temps).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redis est une bonne option pour impl√©menter le blocage, car il a un mod√®le de donn√©es bas√© sur des cl√©s simples, et chaque fragment est monothread et assez rapide. Il existe une excellente impl√©mentation de verrouillage utilisant Redis appel√© Redlock. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les clients Redlock sont disponibles pour presque toutes les langues, cependant, il est important de savoir comment Redlock fonctionne afin de l'utiliser de mani√®re s√ªre et efficace.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, vous devez comprendre que Redlock est con√ßu pour fonctionner sur au moins 3 machines avec des instances Redis ind√©pendantes. Cela √©limine le seul point de d√©faillance de votre m√©canisme de verrouillage, ce qui peut entra√Æner un blocage de toutes les ressources. Un autre point √† comprendre est que m√™me si les horloges des machines ne doivent pas √™tre synchronis√©es √† 100%, elles doivent fonctionner de la m√™me mani√®re - le temps se d√©place √† la m√™me vitesse: une seconde sur la machine et la m√™me qu'une seconde sur la machine B.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La d√©finition d'un objet de verrouillage avec Redlock commence par l'obtention d'un horodatage avec une pr√©cision en millisecondes. Vous devez √©galement indiquer √† l'avance l'heure de blocage. Ensuite, l'objet de blocage est d√©fini en d√©finissant (SET) la cl√© avec une valeur al√©atoire (uniquement si cette cl√© n'existe pas encore) et en d√©finissant le d√©lai d'expiration de la cl√©. Ceci est r√©p√©t√© pour chaque instance ind√©pendante. Si l'instance tombe, elle est imm√©diatement ignor√©e. Si l'objet verrou a √©t√© install√© avec succ√®s sur la plupart des instances avant l'expiration du d√©lai, il est alors consid√©r√© comme captur√©. Le temps d'installation ou de mise √† jour de l'objet verrou est le temps n√©cessaire pour atteindre l'√©tat de verrouillage, moins le temps de verrouillage pr√©d√©fini. En cas d'erreur ou de timeout, d√©verrouillez toutes les instances et r√©essayez.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour lib√©rer l'objet de verrouillage, il est pr√©f√©rable d'utiliser un script Lua qui v√©rifiera si la valeur al√©atoire attendue se trouve dans le jeu de cl√©s. </font><font style="vertical-align: inherit;">Si tel est le cas, vous pouvez le supprimer, sinon il est pr√©f√©rable de laisser les cl√©s, car il peut s'agir d'objets de verrouillage plus r√©cents.</font></font><br>
<br>
<pre><code class="plaintext hljs">if redis.call("get",KEYS[1]) == ARGV[1] then<font></font>
    return redis.call("del",KEYS[1])<font></font>
else<font></font>
    return 0<font></font>
end</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le processus Redlock offre de bonnes garanties et l'absence d'un point de d√©faillance unique, vous pouvez donc √™tre compl√®tement s√ªr que les objets de verrouillage unique seront distribu√©s et qu'aucun verrouillage mutuel ne se produira.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pub / Sub</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus du stockage de donn√©es, Redis peut √©galement √™tre utilis√© comme plateforme Pub / Sub (√©diteur / abonn√©). </font><font style="vertical-align: inherit;">Dans ce mod√®le, un √©diteur peut envoyer des messages √† n'importe quel nombre d'abonn√©s √† la cha√Æne. </font><font style="vertical-align: inherit;">Ce sont des messages bas√©s sur le principe ¬´shot and oublie¬ª, c'est-√†-dire que si le message est lib√©r√© et que l'abonn√© n'existe pas, alors le message dispara√Æt sans possibilit√© de r√©cup√©ration. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En s'abonnant au canal, le client passe en mode abonn√© et ne peut plus appeler de commandes - il devient en lecture seule. </font><font style="vertical-align: inherit;">L'√©diteur n'a pas de telles restrictions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez vous abonner √† plusieurs cha√Ænes. </font><font style="vertical-align: inherit;">Nous commen√ßons par nous abonner aux deux cha√Ænes m√©t√©o et sportives √† l'aide de la commande SUBSCRIBE:</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; SUBSCRIBE weather sports<font></font>
Reading messages... (press Ctrl-C to quit)<font></font>
1) "subscribe"<font></font>
2) "weather"<font></font>
3) (integer) 1<font></font>
1) "subscribe"<font></font>
2) "sports"<font></font>
3) (integer) 2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un client s√©par√© (une autre fen√™tre de terminal, par exemple), nous pouvons publier des messages sur n'importe lequel de ces canaux √† l'aide de la commande PUBLIER:</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; PUBLISH sports oilers/7:leafs/1<font></font>
(integer) 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier argument est le nom du canal, le second est le message. </font><font style="vertical-align: inherit;">Le message peut √™tre quelconque, dans ce cas, il s'agit d'un compte cod√© dans le jeu. </font><font style="vertical-align: inherit;">La commande renvoie le nombre de clients auxquels le message sera remis. </font><font style="vertical-align: inherit;">Dans le client abonn√©, nous voyons imm√©diatement le message:</font></font><br>
<br>
<pre><code class="plaintext hljs">1) "message"<font></font>
2) "sports"<font></font>
3) "oilers/7:leafs/1"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La r√©ponse contient trois √©l√©ments: une indication qu'il s'agit d'un message, d'un canal d'abonnement et, en fait, d'un message. </font><font style="vertical-align: inherit;">Le client imm√©diatement apr√®s avoir re√ßu revient √† √©couter la cha√Æne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De retour √† l'√©diteur, nous pouvons publier un autre message:</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; PUBLISH weather snow/-4c<font></font>
(integer) 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chez l'abonn√©, nous verrons le m√™me format, mais avec un canal diff√©rent avec le message:</font></font><br>
<br>
<pre><code class="plaintext hljs">1) "message"<font></font>
2) "weather"<font></font>
3) "snow/-4c"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Posons un message sur une cha√Æne o√π il n'y a pas d'abonn√©s:</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; PUBLISH currency CADUSD/0.787<font></font>
(integer) 0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que personne n'√©coute le canal </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mon√©taire</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la r√©ponse sera 0. Ce message a disparu et les clients qui, apr√®s s'√™tre abonn√©s √† ce canal, ne recevront pas de notification concernant ce message - il a √©t√© envoy√© et oubli√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus de s'abonner √† une seule cha√Æne, Redis permet de s'abonner √† des cha√Ænes par masque. </font><font style="vertical-align: inherit;">Le masque de style glob est transmis √† la commande PSUBSCRIBE:</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; PSUBSCRIBE sports:*</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le client recevra des </font><font style="vertical-align: inherit;">messages de tous les </font><font style="vertical-align: inherit;">canaux, en </font><font style="vertical-align: inherit;">commen√ßant par le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sport:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans un autre client, appelez les commandes suivantes:</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; PUBLISH sports:hockey oilers/7:leafs/1<font></font>
(integer) 1<font></font>
&gt; PUBLISH sports:basketball raptors/33:pacers/7<font></font>
(integer) 1<font></font>
&gt; PUBLISH weather:edmonton snow/-4c<font></font>
(integer) 0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez noter que les deux premi√®res √©quipes renvoient 1, tandis que la derni√®re renvoie 0. Et bien que nous ne soyons pas directement abonn√©s aux </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sports: hockey</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sports: basket</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le client re√ßoit des messages via un abonnement par masque. </font><font style="vertical-align: inherit;">Dans la fen√™tre client-abonn√©, nous pouvons voir qu'il n'y a de r√©sultats que pour les canaux correspondant au masque.</font></font><br>
<br>
<pre><code class="plaintext hljs">1) "pmessage"<font></font>
2) "sports:*"<font></font>
3) "sports:hockey"<font></font>
4) "oilers/7:leafs/1"<font></font>
1) "pmessage"<font></font>
2) "sports:*"<font></font>
3) "sports:basketball"<font></font>
4) "raptors/33:pacers/7"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette sortie est l√©g√®rement diff√©rente de la sortie de la commande SUBSCRIBE car elle contient le masque lui-m√™me, ainsi que le vrai nom du canal.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âv√©nements distribu√©s</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le sch√©ma de messagerie Pub / Sub de Redis peut √™tre √©tendu pour cr√©er des √©v√©nements distribu√©s int√©ressants. </font><font style="vertical-align: inherit;">Disons que nous avons une structure qui est stock√©e dans une table de hachage, mais nous voulons mettre √† jour les clients uniquement lorsqu'un seul champ d√©passe la valeur num√©rique d√©finie par l'abonn√©. </font><font style="vertical-align: inherit;">Nous allons √©couter les canaux par masque et extraire le hachage en </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">statut</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans cet exemple, nous nous int√©ressons √† </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">update_status</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec les valeurs 5-9.</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; PSUBSCRIBE update_status:[5-9]<font></font>
1) "psubscribe"<font></font>
2) "update_status:[5-9]"<font></font>
3) (integer) 1<font></font>
...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour changer la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valeur status / error_level</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous avons besoin de deux commandes qui peuvent √™tre ex√©cut√©es s√©quentiellement ou dans le bloc MULTI / EXEC. </font><font style="vertical-align: inherit;">La premi√®re commande d√©finit le niveau et la seconde publie une notification avec la valeur encod√©e dans le canal lui-m√™me.</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; HSET status error_level 5<font></font>
(integer) 1<font></font>
&gt; PUBLISH update_status:5 0<font></font>
(integer) 1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la premi√®re fen√™tre, nous voyons que le message a √©t√© re√ßu, et apr√®s cela, vous pouvez basculer vers un autre client et appeler la commande HGETALL:</font></font><br>
<br>
<pre><code class="plaintext hljs">...<font></font>
1) "pmessage"<font></font>
2) "update_status:[5-9]"<font></font>
3) "update_status:5"<font></font>
4) "0"<font></font>
<font></font>
&gt; HGETALL status<font></font>
1) "error_level"<font></font>
2) "5"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons √©galement utiliser cette m√©thode pour mettre √† jour la variable locale d'un processus long. </font><font style="vertical-align: inherit;">Cela peut permettre √† plusieurs instances du m√™me processus d'√©changer des donn√©es en temps r√©el. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi ce mod√®le est-il meilleur que d'utiliser Pub / Sub? </font><font style="vertical-align: inherit;">Lorsque le processus red√©marre, il peut simplement obtenir l'√©tat entier et commencer √† √©couter. </font><font style="vertical-align: inherit;">Les modifications seront synchronis√©es entre un nombre quelconque de processus.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®les de stockage des donn√©es</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe plusieurs mod√®les pour stocker des donn√©es structur√©es dans Redis. </font><font style="vertical-align: inherit;">Dans ce chapitre, nous consid√©rerons les √©l√©ments suivants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stockage de donn√©es dans JSON;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installations de stockage.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stockage de donn√©es JSON</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe plusieurs options pour stocker des donn√©es JSON dans Redis. </font><font style="vertical-align: inherit;">La forme la plus courante consiste √† s√©rialiser l'objet √† l'avance et √† l'enregistrer sous une cl√© sp√©ciale:</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; SET car "{\"colour\":\"blue\",\"make\":\"saab\",\"model\":93,\"features\":[\"powerlocks\",\"moonroof\"]}"<font></font>
OK<font></font>
&gt; GET car<font></font>
"{\"colour\":\"blue\",\"make\":\"saab\",\"model\":93,\"features\":[\"powerlocks\",\"moonroof\"]}"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela semble simple, mais il pr√©sente de tr√®s graves inconv√©nients:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la s√©rialisation n√©cessite des ressources informatiques clientes pour lire et √©crire;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le format JSON augmente la taille des donn√©es;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis ne dispose que d'une mani√®re indirecte de g√©rer les donn√©es en JSON.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier couple de points peut √™tre n√©gligeable sur de petites quantit√©s de donn√©es, mais les co√ªts augmenteront √† mesure que les donn√©es augmentent. </font><font style="vertical-align: inherit;">Cependant, le troisi√®me point est le plus critique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant Redis 4.0, la seule fa√ßon de travailler avec JSON dans Redis √©tait d'utiliser un script Lua dans le module cjson. </font><font style="vertical-align: inherit;">Cela a partiellement r√©solu le probl√®me, m√™me si cela restait un goulot d'√©tranglement et cr√©ait des tracas suppl√©mentaires avec l'apprentissage de Lua. </font><font style="vertical-align: inherit;">En outre, de nombreuses applications ont simplement re√ßu la cha√Æne JSON enti√®re, l'ont d√©s√©rialis√©e, ont travaill√© avec les donn√©es, les ont s√©rialis√©es et les ont √† nouveau enregistr√©es. </font><font style="vertical-align: inherit;">Ceci est un contre-mod√®le. </font><font style="vertical-align: inherit;">Il y a un grand risque de perdre des donn√©es de cette mani√®re.</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instance d'application # 1</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instance d'application # 2</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><pre><code class="plaintext hljs">&gt; GET my-car</code></pre></td>
<td></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[d√©s√©rialiser, changer la couleur de la machine et s√©rialiser √† nouveau]</font></font></td>
<td><pre><code class="plaintext hljs">&gt; GET my-car</code></pre></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td><pre><code class="plaintext hljs">&gt; SET my-car</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[nouvelle valeur de l'instance # 1]</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[d√©s√©rialiser, changer de mod√®le de machine et s√©rialiser √† nouveau]</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; SET my-car</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[nouvelle valeur de l'instance # 2]</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; GET my-car</code></pre></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©sultat sur la ligne 5 montrera les changements uniquement √† l'instance 2, et le changement de couleur par l'instance 1 sera perdu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Redis version 4.0 et sup√©rieure a la possibilit√© d'utiliser des modules. </font><font style="vertical-align: inherit;">ReJSON est un module qui fournit un type de donn√©es sp√©cial et des commandes pour une interaction directe avec lui. </font><font style="vertical-align: inherit;">ReJSON enregistre les donn√©es au format binaire, ce qui r√©duit la taille des donn√©es stock√©es, fournit un acc√®s plus rapide aux √©l√©ments sans passer de temps sur la d√© / s√©rialisation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour utiliser ReJSON, vous devez l'installer sur un serveur Redis ou l'activer dans Redis Enterprise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'exemple pr√©c√©dent utilisant ReJSON ressemblerait √† ceci:</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">#</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instance d'application # 1</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instance d'application # 2</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><pre><code class="plaintext hljs">&gt; JSON.SET car2 . '{"colour": "blue",  "make":"saab", "model":93,  "features": ["powerlocks",  "moonroof"]}‚Äò<font></font>
OK</code></pre></td>
<td></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><pre><code class="plaintext hljs">&gt; JSON.SET car2 colour '"red"'<font></font>
OK</code></pre></td>
<td></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td></td>
<td><pre><code class="plaintext hljs">&gt; JSON.SET car2 model '95'<font></font>
OK<font></font>
&gt; JSON.GET car2 .<font></font>
"{\"colour\":\"red",\"make\":\"saab\",\"model\":95,\"features\":[\"powerlocks\",\"moonroof\"]}"</code></pre></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ReJSON fournit un moyen plus s√ªr, plus rapide et plus intuitif de travailler avec les donn√©es JSON dans Redis, en particulier dans les cas o√π des modifications atomiques des √©l√©ments imbriqu√©s sont n√©cessaires.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stockage d'objets</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä premi√®re vue, le type de donn√©es Redis ¬´table de hachage¬ª standard peut sembler tr√®s similaire √† un objet JSON ou √† un autre type. </font><font style="vertical-align: inherit;">Il est beaucoup plus facile de cr√©er des champs sous forme de cha√Æne ou de nombre et d'√©viter les structures imbriqu√©es. </font><font style="vertical-align: inherit;">Cependant, apr√®s avoir calcul√© le ¬´chemin¬ª de chaque champ, vous pouvez ¬´aplatir¬ª l'objet et l'enregistrer dans la table de hachage Redis.</font></font><br>
<br>
<pre><code class="plaintext hljs">{<font></font>
    "colour": "blue",<font></font>
    "make": "saab",<font></font>
    "model": {<font></font>
        "trim": "aero",<font></font>
        "name": 93<font></font>
    },<font></font>
    "features": ["powerlocks", "moonroof"]<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSONPath</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (XPath pour JSON), nous pouvons repr√©senter chaque √©l√©ment au m√™me niveau de la table de hachage:</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; HSET car3 colour blue<font></font>
&gt; HSET car3 make saab<font></font>
&gt; HSET car3 model.trim aero<font></font>
&gt; HSET car3 model.name 93<font></font>
&gt; HSET car3 features[0] powerlocks<font></font>
&gt; HSET car3 features[1] moonroof</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour plus de clart√©, les commandes sont r√©pertori√©es s√©par√©ment, mais de nombreux param√®tres peuvent √™tre transmis √† HSET. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez maintenant demander l'int√©gralit√© de l'objet ou son champ individuel:</font></font><br>
<br>
<pre><code class="plaintext hljs">&gt; HGETALL car3<font></font>
 1) "colour"<font></font>
 2) "blue"<font></font>
 3) "make"<font></font>
 4) "saab"<font></font>
 5) "model.trim"<font></font>
 6) "aero"<font></font>
 7) "model.name"<font></font>
 8) "93"<font></font>
 9) "features[0]"<font></font>
10) "powerlocks"<font></font>
11) "features[1]"<font></font>
12) "moonroof"<font></font>
<font></font>
&gt; HGET car3 model.trim<font></font>
"aero"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que cela fournisse un moyen rapide et utile de r√©cup√©rer un objet stock√© dans Redis, il pr√©sente ses inconv√©nients:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans diff√©rentes langues et biblioth√®ques, l'impl√©mentation de JSONPath peut √™tre diff√©rente, provoquant une incompatibilit√©. </font><font style="vertical-align: inherit;">Dans ce cas, il vaut la peine de s√©rialiser et de d√©s√©rialiser les donn√©es avec un seul outil;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prise en charge des baies:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les tableaux clairsem√©s peuvent √™tre probl√©matiques;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il est impossible d'effectuer de nombreuses op√©rations, telles que l'insertion d'un √©l√©ment au milieu d'un tableau.</font></font></li>
</ul><br>
 </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consommation inutile des ressources dans les cl√©s JSONPath.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce mod√®le est √† peu pr√®s le m√™me que ReJSON. </font><font style="vertical-align: inherit;">Si ReJSON est disponible, dans la plupart des cas, il est pr√©f√©rable de l'utiliser. </font><font style="vertical-align: inherit;">Cependant, le stockage d'objets de la mani√®re ci-dessus pr√©sente un avantage sur ReJSON: l'int√©gration avec l'√©quipe Redis SORT. </font><font style="vertical-align: inherit;">Cependant, cette commande est complexe sur le plan informatique et est un sujet complexe distinct au-del√† de la port√©e de ce mod√®le. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La prochaine partie de conclusion couvrira les mod√®les de s√©ries chronologiques, les mod√®les de limite de vitesse, les mod√®les de filtre Bloom, les compteurs et l'utilisation de Lua dans Redis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS J'ai essay√© d'adapter le plus possible le texte de ces articles en anglais ¬´barbare¬ª en russe, mais si vous pensez que quelque part l'id√©e est incompr√©hensible ou incorrecte, corrigez-moi dans les commentaires.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr487570/">https://habr.com/ru/post/fr487570/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487558/index.html">Paul Graham: enfants et startups</a></li>
<li><a href="../fr487560/index.html">Bank of America: la capitalisation de Yandex augmentera de 1,4 milliard de dollars</a></li>
<li><a href="../fr487564/index.html">Paul Graham: ¬´La meilleure id√©e dans votre esprit¬ª</a></li>
<li><a href="../fr487566/index.html">Comprendre la grille CSS (1 partie): conteneur de grille</a></li>
<li><a href="../fr487568/index.html">Case Full HP: comment √™tre pr√©sent√© sur Google Play et adapter ASO √† diff√©rents pays</a></li>
<li><a href="../fr487578/index.html">Optimisation de CMake pour les biblioth√®ques statiques</a></li>
<li><a href="../fr487582/index.html">Aucun dieux ne br√ªle de pots</a></li>
<li><a href="../fr487584/index.html">Githabification de la s√©curit√© de l'information</a></li>
<li><a href="../hi486176/index.html">‡§ï‡•â‡§∞‡•ç‡§™‡•ã‡§∞‡•á‡§ü ‡§à‡§Æ‡•á‡§≤ ‡§™‡§§‡•ç‡§∞‡§æ‡§ö‡§æ‡§∞ ‡§Æ‡•á‡§Æ‡•ã</a></li>
<li><a href="../hi486178/index.html">FOSS News No. 1 - 27 ‡§ú‡§®‡§µ‡§∞‡•Ä - 2 ‡§´‡§∞‡§µ‡§∞‡•Ä, 2020 ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§µ‡§§‡§Ç‡§§‡•ç‡§∞ ‡§î‡§∞ ‡§Æ‡•Å‡§ï‡•ç‡§§ ‡§∏‡•ç‡§∞‡•ã‡§§ ‡§∏‡§Æ‡§æ‡§ö‡§æ‡§∞ ‡§ï‡•Ä ‡§∏‡§Æ‡•Ä‡§ï‡•ç‡§∑‡§æ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>