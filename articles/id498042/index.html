<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üêù üêÆ ‚è∏Ô∏è Parse, tidak divalidasi „äôÔ∏è üë®üèæ‚Äçü§ù‚Äçüë®üèΩ ‚ÑπÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kembali pada bulan Desember, saya menemukan satu artikel yang benar-benar luar biasa dalam bahasa Inggris, yang ditujukan untuk penggunaan sistem jeni...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Parse, tidak divalidasi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498042/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kembali pada bulan Desember, saya menemukan satu artikel yang benar-benar luar biasa dalam bahasa Inggris, yang ditujukan untuk penggunaan sistem jenis bahasa untuk kelas tugas yang lebih luas, untuk meningkatkan keandalan aplikasi dan kemudahan refactoring. Sayangnya, pada saat itu saya terlalu sibuk menulis artikel tentang AF, yang sangat penting untuk ditulis ketika ingatannya masih segar. Tetapi sekarang, ketika saya mengatasi tugas ini, saya akhirnya berkeliling untuk menerjemahkan catatan yang indah ini. Bahasa asli dari contoh-contoh tersebut adalah Haskell, tetapi saya memutuskan untuk menyalinnya ke sebuah rast, untuk jangkauan audiens yang lebih luas. Namun, bahasa di sini benar-benar tidak penting, tips dari artikel ini saya gunakan dalam pengembangan sehari-hari pada C # dan TypScript "biasa", jadi jika Anda hanya mencoba untuk menulis kode yang dapat diandalkan dan didukung, maka, terlepas dari bahasa, artikel tersebut akan berada dalam subjek.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terima kasih atas bantuan proofreading dan terjemahan. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hirrolot</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">funkill</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan refleks</font></font></a> </p><br>
<p><img src="https://habrastorage.org/webt/qr/nb/bl/qrnbblrbomlhp6tnsk--wn1rno8.png"></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selama periode waktu yang cukup lama, saya berjuang untuk menemukan cara yang akurat dan sederhana untuk menjelaskan apa itu Type-Driven Design ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selanjutnya - TypeDD, kira-kira Trans.</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Cukup sering mereka bertanya kepada saya, "Bagaimana Anda membuat keputusan seperti itu?", Tetapi saya tidak memiliki jawaban yang memuaskan. </font><font style="vertical-align: inherit;">Saya tahu pasti bahwa itu tidak datang kepada saya sebagai sebuah visi: Saya memiliki proses desain berulang yang tidak mengharuskan saya untuk mendapatkan arsitektur yang "benar" dari ketiadaan saat ini, tetapi sejauh ini saya belum terlalu mampu menafsirkan proses ini untuk orang lain.</font></font></p><br>
<p>     : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">   </a>    JSON      ,     ,  .     ,  ,   ,     TypeDD, ,   ,     :</p><br>
<p><strong>,   .</strong></p><br>
<h1 id="sut-typedd"> TypeDD</h1><br>
<p>, :        TypeDD,   ,  ,    .  ,        .   ,     ,   ,     .</p><br>
<h2 id="landshaft-vozmozhnostey"> </h2><br>
<p>          ,   ,     ,     "      ?".        :</p><br>
<pre><code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">Void</span></span> {}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">foo</span></span>(x: <span class="hljs-built_in">i32</span>) -&gt; Void</code></pre><br>
<p>    ? ,     ‚Äî <em></em>, .. <code>Void</code> ‚Äî      ,    <em> </em> ,    <code>Void</code>.    ,     ,       :</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">head</span></span>&lt;T&gt;(xs: <span class="hljs-built_in">Vec</span>&lt;T&gt;) -&gt; T</code></pre><br>
<p>     .    ? ,     - ,      ,    :</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">head</span></span>&lt;T&gt;(xs: <span class="hljs-built_in">Vec</span>&lt;T&gt;) -&gt; T {
    <span class="hljs-keyword">match</span> xs.as_slice() {<font></font>
        [x, ..] =&gt; *x<font></font>
    }<font></font>
}</code></pre><br>
<pre><code class="plaintext hljs">error[E0004]: non-exhaustive patterns: `&amp;[]` not covered<font></font>
 --&gt; src/lib.rs:2:11<font></font>
  |<font></font>
2 |     match xs.as_slice() {<font></font>
  |           ^^^^^^^^^^^^^ pattern `&amp;[]` not covered<font></font>
  |</code></pre><br>
<p>   ,    <em></em>,  ,         .  ,     ,    <code>[]</code>,  .    , ..     ,   ,       ,     !  ,   ,  ,       (<em>       , . .</em>).</p><br>
<h2 id="delaem-chastichnye-funkcii-totalnymi">   </h2><br>
<p>    -       .    ,           .   ,  "   "     - ,      .      <code>head</code>,     ,  .</p><br>
<h3 id="upravlenie-ozhidaniyami"> </h3><br>
<p>   ,  <code>head</code>  , ..      :   ,   .  ,     :   .   ,     ,     ,  ,        :    ,   ,           .  Rust        <code>Option</code>:</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">head</span></span>&lt;T&gt;(xs: <span class="hljs-built_in">Vec</span>&lt;T&gt;) -&gt; <span class="hljs-built_in">Option</span>&lt;T&gt;</code></pre><br>
<p>   ,    <code>head</code> ‚Äî   <code>None</code>,   ,        <code>T</code>:</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">head</span></span>&lt;T&gt;(xs: <span class="hljs-built_in">Vec</span>&lt;T&gt;) -&gt; <span class="hljs-built_in">Option</span>&lt;T&gt; {
    <span class="hljs-keyword">match</span> xs.as_slice() {<font></font>
        [x, ..] =&gt; <span class="hljs-literal">Some</span>(*x),<font></font>
        [] =&gt; <span class="hljs-literal">None</span>,<font></font>
    }<font></font>
}</code></pre><br>
<p> , ? ,    ‚Äî ‚Ä¶      .</p><br>
<p> <code>Option</code>, , ,   <em></em> <code>head</code>.       .   <code>head</code>    <code>None</code>,         ,       .   ,     :</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">get_configuration_directories</span></span>() -&gt; <span class="hljs-built_in">Result</span>&lt;<span class="hljs-built_in">Vec</span>&lt;<span class="hljs-built_in">String</span>&gt;, &amp;<span class="hljs-symbol">'static</span> <span class="hljs-built_in">str</span>&gt; {
    <span class="hljs-keyword">let</span> config_dirs_string = std::env::var(<span class="hljs-string">"CONFIG_DIRS"</span>).map_err(|_| <span class="hljs-string">"cannot read env"</span>)?;
    <span class="hljs-keyword">let</span> list: <span class="hljs-built_in">Vec</span>&lt;_&gt; = config_dirs_string.split(<span class="hljs-string">','</span>).map(|x| x.to_string()).collect();
    <span class="hljs-keyword">if</span> list.is_empty() {
        <span class="hljs-keyword">return</span> <span class="hljs-literal">Err</span>(<span class="hljs-string">"CONFIG_DIRS cannot be empty"</span>);<font></font>
    }<font></font>
    <span class="hljs-literal">Ok</span>(list)<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() -&gt; <span class="hljs-built_in">Result</span>&lt;(), &amp;<span class="hljs-symbol">'static</span> <span class="hljs-built_in">str</span>&gt; {
    <span class="hljs-keyword">let</span> config_dirs = get_configuration_directories()?;
    <span class="hljs-keyword">match</span> head(config_dirs) {
        <span class="hljs-literal">Some</span>(cacheDir) =&gt; initialize_cache(cacheDir),
        <span class="hljs-literal">None</span> =&gt; <span class="hljs-built_in">panic!</span>(<span class="hljs-string">"should never happen; already checked config_dirs is non-empty"</span>)<font></font>
    }<font></font>
    <span class="hljs-literal">Ok</span>(())<font></font>
}</code></pre><br>
<p>  <code>get_configuration_directories</code>     ,      .     <code>head</code>  <code>main</code>,     ,   <code>Option&lt;&amp;str&gt;</code>      <code>None</code>, ,   ,   !      :</p><br>
<ol>
<li><p>-,   .   ,   ,        ?</p><br>
</li>
<li><p>-,        .           ,      ,         , , ,            .</p><br>
</li>
<li><p>,    ,     . ,  <code>get_configuration_directories</code>  ,       ,   ,   ?     ,    <code>main</code>,   ""     ,    .</p><br>
</li>
</ol><br>
<p>             .      <em></em>   <code>None</code> ,    <code>get_configuration_directories</code>        .<br>
       ,    ,         .</p><br>
<h3 id="platim-vperyod"> </h3><br>
<p>,      <code>head</code>    ,    .   ,   -   :    ,    , <code>head</code>     ,     ,     ,   .     ?</p><br>
<p>    ()  <code>head</code>  .</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">head</span></span>&lt;T&gt;(xs: <span class="hljs-built_in">Vec</span>&lt;T&gt;) -&gt; T</code></pre><br>
<p>        ,     .      ,      ,    :   (   ‚Äî <code>Vec&lt;T&gt;</code>).       <em></em>  ,     <code>head</code>   .</p><br>
<p>  ,   ,   .<br>
 ,   <code>NonEmptyVec</code>  .     :</p><br>
<pre><code class="rust hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">NonEmptyVec</span></span>&lt;T&gt;(T, <span class="hljs-built_in">Vec</span>&lt;T&gt;);</code></pre><br>
<p>,  <code>NonEmptyVec</code> ‚Äî       <code>T</code>   (, ) <code>Vec&lt;T&gt;</code>.             ,      <code>Vec&lt;T&gt;</code>   <code>[]</code>,      .  ,   <code>head</code>   :</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">head</span></span>&lt;T&gt;(xs: NonEmptyVec&lt;T&gt;) -&gt; T {<font></font>
    xs.<span class="hljs-number">0</span>
}</code></pre><br>
<p>,     ,      ,   <em></em>,  .         :</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">get_configuration_directories</span></span>() -&gt; <span class="hljs-built_in">Result</span>&lt;NonEmptyVec&lt;<span class="hljs-built_in">String</span>&gt;, &amp;<span class="hljs-symbol">'static</span> <span class="hljs-built_in">str</span>&gt; {
    <span class="hljs-keyword">let</span> config_dirs_string = std::env::var(<span class="hljs-string">"CONFIG_DIRS"</span>).map_err(|_| <span class="hljs-string">"cannot read env"</span>)?;
    <span class="hljs-keyword">let</span> list: <span class="hljs-built_in">Vec</span>&lt;_&gt; = config_dirs_string.split(<span class="hljs-string">','</span>).map(|x| x.to_string()).collect();
    <span class="hljs-keyword">match</span> non_empty(list) {
        <span class="hljs-literal">Some</span>(x) =&gt; <span class="hljs-literal">Ok</span>(x),
        <span class="hljs-literal">None</span> =&gt; <span class="hljs-literal">Err</span>(<span class="hljs-string">"CONFIG_DIRS cannot be empty"</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">main</span></span>() -&gt; <span class="hljs-built_in">Result</span>&lt;(), &amp;<span class="hljs-symbol">'static</span> <span class="hljs-built_in">str</span>&gt; {
    <span class="hljs-keyword">let</span> config_dirs = get_configuration_directories()?;<font></font>
    initialize_cache(head(config_dirs));<font></font>
    <span class="hljs-literal">Ok</span>(())<font></font>
}</code></pre><br>
<p>,     <code>main</code>  !        ,   <code>get_configuration_directories</code>.   <code>NonEmptyVec</code>  <code>Vec</code>    <code>non_empty</code>,   :</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">non_empty</span></span>&lt;T&gt;(list: <span class="hljs-built_in">Vec</span>&lt;T&gt;) -&gt; <span class="hljs-built_in">Option</span>&lt;NonEmptyVec&lt;T&gt;&gt;</code></pre><br>
<p> ,  <code>Option</code>   ,        <code>None</code>    :         .   ,     <code>NonEmptyVec</code>,   (  !)  ,       .  ,   <code>NonEmptyVec</code>    <code>Vec&lt;T&gt;</code>  <em></em>,    .</p><br>
<p>    <code>head</code>      ,         :</p><br>
<ul>
<li><p>    ,       .</p><br>
</li>
<li><p> ,   <code>get_configuration_directories</code>     ,      . ,  <code>main</code>   ,          !</p><br>
</li>
</ul><br>
<p> ,        <code>head</code>    ,    <code>non_empty</code>:</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">old_head</span></span>&lt;T&gt;(xs: <span class="hljs-built_in">Vec</span>&lt;T&gt;) -&gt; <span class="hljs-built_in">Option</span>&lt;T&gt; {<font></font>
    non_empty(xs).map(head)<font></font>
}</code></pre><br>
<p> ,   <em></em>:        <code>head</code>  .  ,       .</p><br>
<h2 id="sila-parsinga"> </h2><br>
<p>        ?   ,           ‚Äî ,   ,    .    ,         :    ,          ,      .     :</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">validate_non_empty</span></span>&lt;T&gt;(xs: <span class="hljs-built_in">Vec</span>&lt;T&gt;) -&gt; <span class="hljs-built_in">Result</span>&lt;(), UserError&gt; {
    <span class="hljs-keyword">if</span> !xs.is_empty() {
        <span class="hljs-literal">Ok</span>(())<font></font>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-literal">Err</span>(UserError::new(<span class="hljs-string">"list cannot be empty"</span>))<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">parse_non_empty</span></span>&lt;T&gt;(<span class="hljs-keyword">mut</span> xs: <span class="hljs-built_in">Vec</span>&lt;T&gt;) -&gt; <span class="hljs-built_in">Result</span>&lt;NonEmptyVec&lt;T&gt;, UserError&gt; {
    <span class="hljs-keyword">if</span> !xs.is_empty() {
        <span class="hljs-keyword">let</span> head = xs.remove(<span class="hljs-number">0</span>);
        <span class="hljs-literal">Ok</span>(NonEmptyVec(head, xs))<font></font>
    } <span class="hljs-keyword">else</span> {
        <span class="hljs-literal">Err</span>(UserError::new(<span class="hljs-string">"list cannot be empty"</span>))<font></font>
    }<font></font>
}</code></pre><br>
<p>    :      ,    ,      .      : <code>validate_non_empty</code>   <code>()</code>, ,     ,  <code>parse_non_empty</code>  <code>NonEmptyVec&lt;T&gt;</code>,   ,       .       ,  <code>parse_non_empty</code>       ,  <code>validate_non_empty</code>   .</p><br>
<p>           : <code>validate_non_empty</code>   ,   <code>parse_non_empty</code>    ,   .   ,   <code>parse_non_empty</code> ,     ,    ",   ".        <code>parse_non_empty</code>.    - <em></em>,        ? ,    ,     ,    ,    <code>parse_non_empty</code>   ,    .</p><br>
<p>:   ?  ,     ,     ,     .    ,     ‚Äî          ‚Äî  ,     -   . ,    ,         ,   <code>parse_non_empty</code>    :      ,       .</p><br>
<p>       :     ,       ,      ,     ! Rust     ,         :</p><br>
<ul>
<li><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">serde_json</a>   <code>from_str</code>       JSON   </p><br>
</li>
<li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">clap</a>   -     </p><br>
</li>
<li><p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">diesel</a>     ,    .</p><br>
</li>
<li><p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">actix-web</a>    Rust    ,  , HTTP    .</p><br>
</li>
</ul><br>
<p>    :          .       -  -,    ,      . ,    ,  ,       ,    ,        .</p><br>
<p>  , ,   :       ,    .    :  -              ,     .          ,     <code>NonEmpty</code> :      ,     .</p><br>
<h2 id="opasnost-validacii"> </h2><br>
<p>,        ,    ,       .    ,          ? ,     ,         , ?</p><br>
<p> ,    . Ad-hoc    ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">   - </a>  <em> </em>.   2016    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">The Seven Turrets of Babel: A Taxonomy of LangSec Errors and How to Expunge Them</a>    :</p><br>
<blockquote>  ‚Äî  ,   ,    ,    ;       ,   ( -  ),         "" .</blockquote><p>   ,     :</p><br>
<blockquote>          ,   .           ,  -     ,        .</blockquote><p> , ,        ,    ,      ,     ,      ,   .  ‚Äî ,    ,  ,     ‚Äî .</p><br>
<p>       ,        ‚Äî   ,     ,      .   ,      ,  , ,            ""    .      ,         ,   .</p><br>
<p>   ,     :     ,  ,     ,      .           ,        .</p><br>
<h1 id="parsim-a-ne-validiruem-na-praktike">,   ,  </h1><br>
<p>  ,        .   ",  ,  !", ,      ,          .      ""  "",         "".</p><br>
<p> :    .</p><br>
<p>,   ,      ,      ,    ,  -       .    ‚Äî  ,  ,      :</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">check_no_duplicate_keys</span></span>&lt;K: <span class="hljs-built_in">Eq</span>, V&gt;(xs: &amp;[(K,V)]) { ... }</code></pre><br>
<p>   "" ‚Äî    :    . - ,     ,     ,       .       ,     , , <code>HashMap</code>.     ,    <code>HashMap</code>   ,    ,   .</p><br>
<p> ,    ,    ,  ,  ,           .                 -  ,       <code>HashMap</code>    .       ,    ,   ,     .         <code>check_no_duplicate_keys</code>:</p><br>
<pre><code class="rust hljs"><span class="hljs-function"><span class="hljs-keyword">fn</span> <span class="hljs-title">check_no_duplicate_keys</span></span>&lt;K: <span class="hljs-built_in">Eq</span>, V&gt;(xs: &amp;[(K,V)]) -&gt; HashMap&lt;K,V&gt; { ... }</code></pre><br>
<p>   <em> </em>  ,         !</p><br>
<p>       :</p><br>
<ol>
<li><p><strong>  ,     .</strong>   ,     .          ,   ,       .   </p><br>
</li>
<li><p><strong>     ,   .</strong>         ,   .  ,       ,  ,  <em></em>   .</p><br>
<p>           ,         .  -  ,         .</p><br>
</li>
</ol><br>
<p> ,     ,   <em> </em> ,   ,    .         ,        ,      -  .      ,           - !</p><br>
<p>   ,    :</p><br>
<ul>
<li><p><strong>      ,      .</strong>     <code>bool</code>        ,    (<em>        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><strong> </strong></a>,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><strong>   </strong></a>, . .</em>).    ,       ‚Äî   ,     ,   ,         </p><br>
</li>
<li><p><strong>         <code>Result&lt;(), Error&gt;</code>   .</strong>    ,         -  ,         ,     .</p><br>
</li>
<li><p><strong>      .</strong>      ,          ,    ,   ,        ,  ,   .    ‚Äî -.</p><br>
</li>
<li><p><strong>   , <em></em>,   </strong>                :      .     </p><br>
<ul>
<li><strong>     .</strong>     ,  ,      ,          .</li>
</ul><br>
</li>
<li><p><strong>   ,    " " .</strong> ,      ,       , , ,      .     <code> (newtype)</code>   ,   -  .</p><br>
</li>
</ul><br>
<p> ,   .           ,     <code>error "impossible"</code> -   ‚Äî           ,    ,        .        ,     ,       .</p><br>
<h1 id="rezyume"></h1><br>
<p>  ,  -. ,             ,              ‚Äî      !             ,   .</p><br>
<p>       .   ,   ‚Äî "  " ‚Äî   .   ,    ,   ,       .     ,     ‚Äî     ! ‚Äî      <em></em>.  ,    ‚Äî      .</p><br>
<p> ,         ,    :          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Type Safety Back and Forth</a>.           ,      .               <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Ghosts of Departed Proofs</a>,            ,   ,     .</p><br>
<p>     ,    ,    ,   . ,    ‚Äî ,       .  ,     TypeDD,          ,     ,        ,   .    ,    ,     . ,   ‚Äî   .</p><br>
<hr><br>
<h2 id="ot-perevodchika"> </h2><br>
<p>   ,      ‚Äî  ,          .</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id498030/index.html">Cadangan: di mana, bagaimana, dan mengapa?</a></li>
<li><a href="../id498032/index.html">Perhitungan cepat rumus dari Excel dalam C #</a></li>
<li><a href="../id498034/index.html">Pesawat dengan desain modern dilindungi terhadap ancaman biologis (COVID-19) lebih baik dari yang Anda kira</a></li>
<li><a href="../id498036/index.html">Mark Andriessen: Saatnya menciptakan untuk diri kita sendiri (Saatnya Membangun)</a></li>
<li><a href="../id498038/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 411 (13-19 April 2020)</a></li>
<li><a href="../id498046/index.html">Para peneliti sedang mengembangkan pendekatan untuk mengurangi bias dalam dataset visi komputer</a></li>
<li><a href="../id498050/index.html">Budaya sebagai dasar untuk meningkatkan tim x2 setiap tahun. Tentang mempekerjakan kesalahan dan kecocokan budaya</a></li>
<li><a href="../id498052/index.html">Zabbix 5.0, atau Apa Yang Baru Dengan Server Template oleh IPMI</a></li>
<li><a href="../id498054/index.html">Kalahkan Umpan Berita Naga: Memastikan Anda Menjalani Kehidupan yang Baik</a></li>
<li><a href="../id498056/index.html">Acara digital di Moskow dari 20 hingga 26 April</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>