<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëµ üëçüèª üë©üèø‚Äç‚öïÔ∏è Mapas normales ideales para Unity (y otros programas) üëàüèæ üöå üë®‚Äçüë©‚Äçüëß‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="... y c√≥mo descubrir qu√© est√° mal con su canal de creaci√≥n de contenido.
 
 
 Supongamos que tiene un incre√≠ble modelo de alta poli en el que el artis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mapas normales ideales para Unity (y otros programas)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487932/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... y c√≥mo descubrir qu√© est√° mal con su canal de creaci√≥n de contenido.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89e/6f3/877/89e6f38773acdefc8f2680cf7bfd223a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supongamos que tiene un incre√≠ble modelo de alta poli en el que el artista ha trabajado, y desea incluirlo en el juego. </font><font style="vertical-align: inherit;">El artista mostr√≥ capturas de pantalla de la modelo en su programa y se ven incre√≠bles. </font><font style="vertical-align: inherit;">Incluso despu√©s de hornear mapas normales para la versi√≥n low-poly, todav√≠a se ve muy bien.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/810/be8/3a4810be8abd5ad6cb24fca98ee9e61c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Vea la grandeza de este modelo tradicional para probar mapas normales! </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces el artista la mete en el juego, y ella se ve ... un poco mal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/350/fa2/e70/350fa2e7020b28db82bf99958d10f958.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øNo deber√≠an ser estas caras planas? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las superficies, que deber√≠an ser planas, todav√≠a est√°n un poco redondeadas, algunas incluso est√°n deprimidas y, lo que es peor, hay rayas extra√±as a lo largo de ellas. </font><font style="vertical-align: inherit;">Situaci√≥n familiar? </font><font style="vertical-align: inherit;">Algunos de ustedes probablemente lo encontraron, pensaron: "Bueno, probablemente, no funcionar√° mejor", y continuaron. </font><font style="vertical-align: inherit;">Quiz√°s se aplic√≥ un poco de suciedad para enmascarar los casos m√°s graves. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero en realidad hay algo mal con su canal de creaci√≥n de contenido. </font><font style="vertical-align: inherit;">¬°Esto no siempre es obvio, pero el problema puede resolverse! * </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Si asume que en algunos casos puede hacer cambios en la canalizaci√≥n de contenido.</font></font></i><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prefacio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este art√≠culo trata sobre c√≥mo exportar mapas normales ideales desde otras aplicaciones para usar en Unity 5.3 y versiones posteriores. </font><font style="vertical-align: inherit;">No habla sobre c√≥mo obtener mapas normales de alta calidad, hay muchos otros tutoriales para esto, por lo que no tocar√© este tema.</font></font><br>
<br>
<hr><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base espacial tangente</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El problema es c√≥mo funcionan los mapas normales del espacio tangente. En particular, c√≥mo funciona el </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (o base tangente). No ir√© demasiado lejos en los aspectos t√©cnicos de lo que hacen. Yo, como otros autores, ya he </font></font><a rel="noopener" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hablado de esto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pero en resumen, el espacio tangente determina lo que debe representar la orientaci√≥n de la direcci√≥n en el mapa normal. La direcci√≥n en el mapa normal es en realidad "hacia adelante", "arriba" o "derecha". Hablando en t√©rminos generales, esta orientaci√≥n es la orientaci√≥n de las coordenadas UV de la textura y las normales de los v√©rtices. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es m√°s importante comprender que el programa utilizado para hornear el mapa normal desde la malla de alta pol√≠tica a la malla de baja pol√≠tica debe calcular su espacio tangente</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exactamente igual que el programa en el que se usar√°n los mapas normales</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dado que diferentes programas pueden usar el espacio tangente de diferentes maneras, los mapas horneados normales para una malla no ser√°n necesariamente los mismos para todas las aplicaciones. </font><font style="vertical-align: inherit;">¬°Incluso para aplicaciones que usan el mismo espacio tangente!</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conoce a tu enemigo</font></font></h1><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Golpe debido a un error obvio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El error m√°s com√∫n es el problema "OpenGL vs Direct3D". </font><font style="vertical-align: inherit;">Tambi√©n se denominan mapas normales Y + e Y-. </font><font style="vertical-align: inherit;">Los inclu√≠ aqu√≠ solo para completar. </font><font style="vertical-align: inherit;">Lo m√°s probable es que la mayor√≠a de las personas que han encontrado este problema ya lo saben, o al menos aprendieron c√≥mo resolverlo. </font><font style="vertical-align: inherit;">Dado que los mapas normales se generan en una orientaci√≥n, son esencialmente in√∫tiles para usar en una aplicaci√≥n dise√±ada para usar otra.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39a/064/afd/39a064afd8830af08c8841d279e234bc.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normales en orientaci√≥n Direct3D en el motor Unity, que espera una orientaci√≥n OpenGL.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Esto se puede entender por el hecho de que la iluminaci√≥n parece estar invertida o cayendo desde el otro lado, pero solo en algunas direcciones de iluminaci√≥n. Algunas esquinas o caras pueden parecer completamente normales hasta que mueva la fuente de luz.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y con este problema, todo est√° lo suficientemente claro. </font><font style="vertical-align: inherit;">La mayor√≠a de las aplicaciones de horneado de mapas normales tienen un bot√≥n o men√∫ grande y agradable para cambiar entre la opci√≥n de orientaci√≥n OpenGL / Direct3D o Y. Descubra qu√© orientaci√≥n usa la aplicaci√≥n de destino y hornee mapas en ella. </font><font style="vertical-align: inherit;">Unity usa OpenGL e Y +. </font><font style="vertical-align: inherit;">Unreal usa Direct3D e Y-. </font><font style="vertical-align: inherit;">Esto se puede entender claramente observando la textura del mapa normal en s√≠. </font><font style="vertical-align: inherit;">Si parece que en el canal verde est√°n iluminados "desde arriba", entonces esta es la orientaci√≥n OpenGL. </font><font style="vertical-align: inherit;">Si desde abajo, entonces esto es Direct3D.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rarezas con sRGB</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro error com√∫n es usar una textura marcada como textura sRGB. Esto cambia la forma en que se muestrea la textura de la GPU, forz√°ndola a convertir valores de color del espacio sRGB, desde el cual las personas generalmente seleccionan valores de color, a un espacio de color lineal. Para mapas normales, esto no es necesario. Si establece el tipo en "Mapa normal" para la textura en Unity, el motor deshabilitar√° autom√°ticamente esta opci√≥n, pero tambi√©n puede deshabilitar la opci√≥n "sRGB (Textura de color)" manualmente, y la textura funcionar√° como un mapa normal. Al menos en Unity 2017.1 y posteriores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eed/4fa/006/eed4fa006eb6dc4cb232b61f6df0d95d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa normal con tipo de textura predeterminado y sRGB habilitado.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Este problema puede reconocerse por el hecho de que los mapas normales est√°n fuertemente sesgados en una direcci√≥n. </font><font style="vertical-align: inherit;">En este modelo, casi todas las caras parecen dirigidas hacia una fuente de luz. </font><font style="vertical-align: inherit;">Obviamente, este no siempre ser√° el caso. </font><font style="vertical-align: inherit;">En un mapa normal m√°s detallado, todas las partes responder√°n a la iluminaci√≥n casi correctamente, pero cambiar√°n ligeramente a alg√∫n √°ngulo. </font><font style="vertical-align: inherit;">A veces puede parecer que toda la superficie de la malla est√° distorsionada.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demasiado diferente para ser normal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro problema com√∫n es el uso de diferentes mallas de cocci√≥n normales en el activo del juego. </font><font style="vertical-align: inherit;">Al igual que con las tangentes, para que todo funcione, deben </font><font style="vertical-align: inherit;">coincidir </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exactamente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Este error a menudo ocurre si los artistas exportan mallas con normales de v√©rtice incorrectas. </font><font style="vertical-align: inherit;">En este caso, cualquier aplicaci√≥n que abra la malla tendr√° que calcularlos usted mismo. </font><font style="vertical-align: inherit;">No hay una sola forma correcta de resolverlo, todo depende de la malla, ¬°as√≠ que aseg√∫rese de que usted (o los artistas) exporten el modelo con las normales finales!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/26b/196/2f9/26b1962f97b26c1f90e1143007844e30.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normales horneados en una malla suavizada, mostrados como en una malla con bordes afilados</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/970/07c/51d/97007c51d1aea9f42e5971e1a3d79ef6.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normales horneados en una malla con bordes afilados, mostrados como en una malla suavizada</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es otro problema que es f√°cil de detectar. Si el modelo parece que tiene bordes afilados, pero el sombreado se dobla desde estos bordes, esto significa que horne√≥ el mapa normal con normales suaves, pero se representan en una malla con un borde afilado. Si el sombreado se dobla hacia el borde, esto significa que el mapa se horne√≥ con un borde afilado y se renderiz√≥ en un borde liso. De hecho, en un modelo pueden estar presentes ambos casos, porque es posible indicar la suavidad o nitidez de los bordes individuales, e incluso el grado de suavidad. Pero, de hecho, se garantiza que son err√≥neos si permite que otra aplicaci√≥n adivine c√≥mo deber√≠a ser. El modelo presentado anteriormente es un caso extremo, y a menudo todo no es tan obvio, porque grandes partes del modelo pueden parecer completamente normales. Pero en el caso general,Si tiene varios bordes que se ven particularmente extra√±os, entonces esto probablemente se deba a una falta de coincidencia en las v√©rtices normales.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace vs Autodesk</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un problema menos notable es que al hornear mapas normales de 3ds Max o Maya, siempre ser√°n incorrectos en el motor de Unity. </font><font style="vertical-align: inherit;">Se equivocar√°n en Unreal y en casi cualquier otro programa, excepto en el que fueron horneados. </font><font style="vertical-align: inherit;">¬°Los mapas normales de 3ds Max no funcionan en Maya, y viceversa! </font><font style="vertical-align: inherit;">Cada una de estas aplicaciones calcula el espacio tangente en su propia forma √∫nica, que no corresponde a otras aplicaciones. </font><font style="vertical-align: inherit;">Cuando se usan independientemente, se ven </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perfectos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y si genera mapas normales para usar en estos programas, intente hornear mapas normales en ellos. </font><font style="vertical-align: inherit;">Casi ning√∫n </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">otro</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> programa es capaz de hornear los mapas normales correctos para estas aplicaciones, por lo que parece que no tiene otra opci√≥n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La √∫nica soluci√≥n en este caso es no hornear mapas normales con estas aplicaciones si desea usarlos en otro lugar. </font><font style="vertical-align: inherit;">Si necesita un programa gratuito, use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xNormal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Esta es una herramienta est√°ndar de la industria. </font><font style="vertical-align: inherit;">Si usa Sustancia en alg√∫n lugar de la canalizaci√≥n de creaci√≥n de contenido, √∫sela.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/350/fa2/e70/350fa2e7020b28db82bf99958d10f958.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ds Max horne√≥ el mapa normal utilizado por Unity. La</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
forma m√°s f√°cil de notar este problema es ver que las caras planas tienen peque√±as abolladuras o curvaturas. </font><font style="vertical-align: inherit;">En algunos casos, esto puede ser muy discreto, especialmente en objetos org√°nicos. </font><font style="vertical-align: inherit;">Por lo tanto, los problemas de este tipo a menudo pasan desapercibidos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muchas aplicaciones que no son de Autodesk han cambiado a un m√©todo de c√°lculo de espacio tangente llamado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tanto xNormal como Substance, as√≠ como Blender, Unity, Unreal, Godot, Marmoset, Houdini, Modo y algunos otros, por defecto usan MikkTSpace o al menos lo admiten, lo que mejora enormemente su compatibilidad. </font><font style="vertical-align: inherit;">De hecho, en los √∫ltimos diez a√±os, se ha convertido en el est√°ndar de la industria en todos los casos cuando se utilizan mapas normales del espacio tangente. </font><font style="vertical-align: inherit;">Presumiblemente, en alg√∫n momento, 3ds Max agregar√° su soporte, pero no est√° claro si los desarrolladores planean permitir hornear mapas normales usando MikkTSpace o simplemente proporcionar soporte para ver / renderizar con su ayuda.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exportar mallas y pintor de sustancias</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro problema con 3ds Max y Maya es que al exportar mallas desde ellos hay una opci√≥n de exportaci√≥n con "tangentes y binormales". No estar√°n en las tangentes reales de MikkTSpace, sino que se basar√°n en ellas. Algunas aplicaciones fuerzan el rec√°lculo predeterminado del MikkTSpace correcto (por ejemplo, xNormal, Unity e Unreal), pero otras aplicaciones usan mallas tangentes (si las hay) "como est√°n" y calculan MikkTSpace solo si la malla no tiene tangentes. Por ejemplo, Substance Painter usa mallas tangentes si est√°n presentes tal como est√°n, es decir, ¬°Painter crea mapas normales muy similares a los 3ds Max horneados! Similar, pero no exactamente igual, por lo que si los importa de nuevo a 3ds Max, no se ver√°n tan bien como horneados en Max.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace vs MikkTSpace?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°El siguiente problema es que hay m√°s de una versi√≥n de MikkTSpace! </font><font style="vertical-align: inherit;">S√≠, ese no ser√≠a el est√°ndar si de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alguna manera</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no introdujera confusi√≥n. </font><font style="vertical-align: inherit;">MikkTSpace determina c√≥mo se deben almacenar los datos en la malla para cada v√©rtice y c√≥mo se usan los datos para la representaci√≥n. </font><font style="vertical-align: inherit;">Todas las aplicaciones habilitadas para MikkTSpace calculan los mismos datos de malla para v√©rtices. </font><font style="vertical-align: inherit;">Pero hay dos formas diferentes de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilizar</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estos datos en la representaci√≥n. </font><font style="vertical-align: inherit;">MikkTSpace define c√≥mo calcular el vector tangente y el signo para cada v√©rtice en funci√≥n de la orientaci√≥n UV. </font><font style="vertical-align: inherit;">Pero cuando se usa el espacio tangente, la tangente a dos puntos (bitangente) se recalcula para cada v√©rtice o para cada p√≠xel. </font><font style="vertical-align: inherit;">Este par√°metro tambi√©n debe ser el mismo para hornear y ver.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
xNormal y Substance tienen la opci√≥n de hornear mapas normales usando ambos m√©todos. Estas opciones se denominan "calcular el espacio tangente por fragmento" en Sustancia y "calcular binormal en el sombreador de p√≠xeles" en xNormal. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No necesita</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usarlo si est√° horneando para los m√©todos de representaci√≥n incorporados de Unity. Sin embargo, puede </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valer la pena</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hacer esto para SRP, ¬°dependiendo del tipo que elija!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc8/288/f49/dc8288f495d420416d8bd2ee5ae401c3.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XNormal "binormals de sombreador de p√≠xeles" con un procesador de avance incorporado Unity</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Visualmente, esto parece usar un espacio tangente completamente diferente, pero generalmente es mucho menos pronunciado. Algunas caras pueden parecer como si la normalidad estuviera un poco distorsionada y no tuviera una abolladura grande. La soluci√≥n aqu√≠ es muy simple: no seleccione esta opci√≥n si est√° preparando los m√©todos de representaci√≥n integrados de Unity. Marque la casilla si hornea motores Unreal o Unity para HDRP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muchas fuentes dicen que Blender y Unity son id√©nticos, ¬°pero en realidad esto nunca es cierto! Blender, como Unity, usa la orientaci√≥n MikkTSpace y OpenGL, pero, como Unreal, usa binormales para cada binomio de fragmento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La buena noticia es que ahora los sombreadores LWRP, URP y Shader Graph usan binormales para cada v√©rtice, y los sombreadores HDRP incorporados para cada p√≠xel. </font><font style="vertical-align: inherit;">En una futura actualizaci√≥n de Shader Graph (7.2.0), se realizar√° la transici√≥n a la computaci√≥n p√≠xel por p√≠xel y, despu√©s de un tiempo, los sombreadores URP incorporados tambi√©n cambiar√°n a ella. </font><font style="vertical-align: inherit;">Y los m√©todos de representaci√≥n est√°ndar se pueden cambiar utilizando sus propios sombreadores, si elige dicha ruta.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Triangular, triangular, triangular!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El √∫ltimo problema son las diferentes formas de triangulaci√≥n. </font><font style="vertical-align: inherit;">Si exporta mallas sin triangulaci√≥n preliminar, no hay garant√≠a de que otras aplicaciones triangulen el modelo de la misma manera. </font><font style="vertical-align: inherit;">¬°Esto tambi√©n da√±a los mapas normales! </font><font style="vertical-align: inherit;">Por lo tanto, triangule las mallas, ya sea utilizando las opciones de exportaci√≥n, o mediante el modificador de triangulaci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/271/14f/174/27114f17454f66db812ec2673e72d97c.png"></div><br>
<i>  Substance Painter  ,   Unity  ,   3ds Max   (quads)</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto parece muy similar a un espacio tangente completamente incorrecto, como si los mapas normales se hornearan en 3ds Max. Pero en el caso general, son un poco m√°s afilados, casi doblados y no parecen una concavidad suave. En esta malla, se ve una forma de X en las caras externas. Este problema puede ser dif√≠cil y molesto cuando varias personas est√°n trabajando con el modelo en la tuber√≠a de producci√≥n de contenido en diferentes aplicaciones, porque a menudo es √∫til no triangular la malla y guardar hermosos pol√≠gonos. En este caso, debes aceptar las molestias o hacer que la √∫ltima herramienta en la tuber√≠a antes de exportar el modelo al juego tambi√©n se use para generar una malla utilizada para hornear normales. Como un espacio tangente con normales de v√©rtices (que son parte del espacio tangente),La triangulaci√≥n tambi√©n debe coincidir exactamente.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista para crear mapas normales perfectos para Unity</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, aqu√≠ hay algunos consejos para generar mapas normales de espacio tangente para mallas lowpoly a partir de los modelos highpoly originales para usar en Unity:</font></font><br>
<br>
<ul>
<li><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No es necesario</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hornear mapas normales con 3ds Max, Maya o cualquier otra aplicaci√≥n que no tenga la opci√≥n tangente </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exporte mallas como </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tri√°ngulos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , con </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normales</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tangentes.</font></font></strong></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elija </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenGL</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o X + </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y +</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Z + como la orientaci√≥n del mapa normal al hornear (as√≠ como al crear un proyecto para Substance Painter).</font></font></li>
<li><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No necesita</font></font></em> </strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> habilitar las opciones de tangentes a los dos puntos "</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por p√≠xel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " / "</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por fragmento</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " al hornear para los m√©todos de representaci√≥n integrados (proactivos o diferidos) o LWRP.</font></font></li>
<li><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incluya</font></font></em></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> opciones para tangentes a los dos puntos</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "por p√≠xel"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> /</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "por fragmento"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cuando hornee para HDRP, y pronto para URP.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deje las opciones de importaci√≥n de modelo predeterminadas para Unity, con las normales configuradas en "Importar" y las tangentes en "Calcular Mikktspace".</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Eso es todo! </font><font style="vertical-align: inherit;">¬°Cada vez que obtienes mapas normales perfectamente horneados!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/810/be8/3a4810be8abd5ad6cb24fca98ee9e61c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Hurra! </font><font style="vertical-align: inherit;">¬°El mapa normal perfecto!</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bed/daa/477/beddaa477b105ae87e6dda113381e910.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... con reflejos? </font><font style="vertical-align: inherit;">Ejem ..</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bueno, el √∫ltimo, simplemente lo ignoramos. </font><font style="vertical-align: inherit;">Lo m√°s "perfecto" posible con formatos de textura comprimidos con 8 bits por canal. </font><font style="vertical-align: inherit;">Un mapa normal difuminado puede verse un poco mejor que las rayas, pero, desafortunadamente, no muchas herramientas ofrecen esta opci√≥n. </font><font style="vertical-align: inherit;">De lo contrario, puede usar mapas normales de 16 bits. </font><font style="vertical-align: inherit;">Pero este es un tema para otro art√≠culo.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenga m√°s informaci√≥n sobre MikkTSpace.</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sitio </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">semioficial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;">mikktspace.com</font></a><font style="vertical-align: inherit;"> explica bien los beneficios clave de MikkTSpace. En particular, este espacio funciona bien tanto para el recuento como para la transferencia de datos tangentes entre programas con diferente procesamiento de malla, mientras se mantiene la integridad de los resultados. El texto del sitio es una copia de la ya difunta p√°gina wiki de Blender escrita por el propio Morten S. Mikkelsen. Desafortunadamente, solo menciona la versi√≥n con tangentes a dos puntos por cada p√≠xel, pero no la versi√≥n para cada v√©rtice, el valor predeterminado utilizado por Unity y xNormal. Dado que Blender usa derivados de tangentes por p√≠xel, es l√≥gico que solo se mencionen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay comentarios sobre estas dos opciones del archivo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mikktspace.h</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> original </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<blockquote>           ,    /.<br>
<br>
<code>bitangent = fSign * cross(vN, tangent);</code><br>
<br>
‚Ä¶<br>
<br>
    (/    )     ,          .<br>
<br>
,   ,       ,    ¬´¬ª  ,       : vT, vB  vN.<br>
<br>
  (  )<br>
<br>
<code>vNout = normalize( vNt.x * vT + vNt.y * vB + vNt.z * vN );</code><br>
<br>
 vNt ‚Äî    .         ¬´¬ª ,       ,    .<br>
<br>
‚Ä¶<br>
<br>
         ,     ,   ,        .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, en el ejemplo original, la tangente a dos puntos se recrea en el sombreador de v√©rtices y se pasa al sombreador de p√≠xeles como otro valor interpolado. As√≠ es como los sombreadores normales de Unity manejan actualmente los mapas normales. Un ejemplo de realizar esta tarea en un sombreador de p√≠xeles es m√°s un ejemplo improvisado que un ejemplo "principal". Adem√°s, dado que la implementaci√≥n de Unity 5.3 (y xNormal?) Fue creada por el propio Morten S. Mikkelsen, y ambos usan tangentes para cada v√©rtice, esta es otra prueba de nuestra teor√≠a. Pero luego Blender us√≥ tangentes p√≠xel por p√≠xel, y Morten tambi√©n estuvo involucrado. Probablemente, de hecho, fue solo una opci√≥n que caus√≥ peque√±os cambios en los sombreadores Unity terminados, y aunque para los gr√°ficos en tiempo real, ninguno de los m√©todos se consider√≥ mucho mejor que el otro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La ventaja de la implementaci√≥n p√≠xel por p√≠xel es la eliminaci√≥n de dos valores interpolados a costa de un peque√±o costo adicional para ALU (matem√°tica del sombreador de p√≠xeles). Esto significa que en lugar de los tres valores de Vector3 (tangente, tangente a dos puntos y la normal), solo necesitamos Vector4 y Vector3 (tangente con un signo y normal). En las GPU modernas, esto es un poco m√°s r√°pido. Y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">definitivamente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es </font><font style="vertical-align: inherit;">m√°s r√°pido cuando se ejecuta en la CPU, ya que puede usarse para renderizadores que no son en tiempo real. Desde este punto de vista, es l√≥gico que la mayor√≠a de la industria decidiera recrear la tangente a dos puntos en el p√≠xel, y no en la parte superior.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Es curioso que cuando escrib√≠ este art√≠culo, Morten promovi√≥ la transici√≥n en Unity SRP a tangentes p√≠xel por p√≠xel a dos puntos! </font><font style="vertical-align: inherit;">Es una mala suerte que los m√©todos de representaci√≥n integrados de Unity tengan un legado de opciones inconvenientes.</font></font><br>
<br>
<hr><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente en diferentes aplicaciones.</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aunque este art√≠culo se centra principalmente en Unity, dado que hoy este motor se ha generalizado, quer√≠a que mi estudio fuera m√°s detallado. </font><font style="vertical-align: inherit;">Por lo tanto, cre√© una lista de varias aplicaciones con informaci√≥n sobre el uso del espacio tangente.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unidad (5.3+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para v√©rtices o para p√≠xeles * </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de forma predeterminada, el motor redefine a la fuerza las tangentes de la malla al importar para usar MikkTSpace. Para usuarios avanzados, tiene opciones para usar la malla tangente, pero esto no garantiza la compatibilidad con los mapas normales horneados en otras herramientas, especialmente cuando se usan sombreadores integrados. Se pueden reemplazar con sombreadores completamente propios. Y para sus sombreadores integrados, HDRP utiliza tangentes p√≠xel por p√≠xel en dos puntos. Al momento de escribir, se plane√≥ que los sombreadores URP y Shader Graph tambi√©n cambien a tangentes p√≠xel por p√≠xel a dos puntos. Antes de Unity 5.3, el motor usaba tangentes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://web.archive.org/web/20160306000702/" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lengyel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que todav√≠a se pueden usar seleccionando la opci√≥n Legacy Tangents en el importador de mallas, pero los sombreadores integrados ya no admiten este espacio tangente.</font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adem√°s: antes de URP 7.2.0, el procesamiento de mapas normales en Shader Graph estaba completamente roto. </font><font style="vertical-align: inherit;">Ni MikkTSpace ni siquiera el espacio tangente de Lengyel se utilizan correctamente, y es imposible arreglar esto dentro del gr√°fico de sombreado. </font><font style="vertical-align: inherit;">Si es posible, actualice a 7.2.0.</font></font></em><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motor irreal 4</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Direct3D Y- </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> p√≠xel por p√≠xel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de forma predeterminada, el motor redefine las tangentes de la malla al importar utilizando MikkTSpace. </font><font style="vertical-align: inherit;">Para usuarios avanzados, tiene opciones para usar una malla tangente, pero esto no garantiza la compatibilidad con mapas normales horneados en otras herramientas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Godot</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada v√©rtice </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si no hay datos tangentes, puede calcular mallas tangentes en MikkTSpace al importarlas. </font><font style="vertical-align: inherit;">La documentaci√≥n del motor sugiere exportar mallas de malla tangente, pero como la mayor√≠a de las herramientas no exportan la malla tangente correcta, ignorar√≠a este consejo. </font><font style="vertical-align: inherit;">Incluso si usa la malla tangente original, no hay garant√≠a de que los mapas normales se vean bien.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Playcanvas</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente: </font></font></strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://web.archive.org/web/20160306000702/" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lengyel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sch√ºler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada v√©rtice / basado en derivadas </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> proporciona varios m√©todos para procesar el espacio tangente. Las tangentes generadas por c√≥digo no usan MikkTSpace. Tiene opciones para usar una tangente a dos puntos para cada v√©rtice que normalizan los vectores espaciales tangentes en el sombreador de p√≠xeles "fastTbn" </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin normalizar el</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> espacio tangente en el sombreador de fragmentos (que </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">necesitamos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ya que esto corresponde a la implementaci√≥n de MikkTSpace con un c√°lculo para cada v√©rtice), o usan el TBN basado en derivadas, tomado de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Christian Schuler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">ignora por completo la tangente de la malla y calcula el espacio tangente en el sombreador de p√≠xeles. </font><font style="vertical-align: inherit;">Ahora, por defecto, se usan mapas normales basados ‚Äã‚Äãen derivados, para los cuales, hasta donde yo s√©, no hay herramientas para hornear mapas normales exactos. </font><font style="vertical-align: inherit;">Es posible que pueda importar mallas con datos normales y tangentes existentes desde MikkTSpace, y luego usar la opci√≥n de material "fastTbn" para que coincida con los m√©todos de representaci√≥n integrados de Unity, pero creo que esto deber√≠a hacerse en c√≥digo, no a trav√©s de la interfaz del editor.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filamento</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada v√©rtice </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dependiendo del rendimiento en el futuro, el motor puede cambiar a tangentes p√≠xel por p√≠xel a dos puntos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ds max</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Direct3D Y- * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opciones de exportaci√≥n de Mesh</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nativo </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> exporta archivos FBX con Triangulate activado pero Tangents y Binormals desactivados. </font><font style="vertical-align: inherit;">Las normales siempre deben exportarse. </font><font style="vertical-align: inherit;">Las normales divididas por v√©rtice pueden dejarse deshabilitadas. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por defecto, 3ds Max asume que la orientaci√≥n Direct3D se usa en mapas normales, pero tiene opciones para voltear las orientaciones X e Y cuando se usan texturas de mapas normales en los materiales. </font><font style="vertical-align: inherit;">La cocci√≥n siempre usa la orientaci√≥n Direct3D. </font><font style="vertical-align: inherit;">El soporte de MikkTSpace aparecer√° en futuras versiones.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maya</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opciones de exportaci√≥n de malla</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nativas </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> exportar archivos FBX con Triangulate activado, pero Tangents y Binormals desactivados. </font><font style="vertical-align: inherit;">Las normales siempre se exportan. </font><font style="vertical-align: inherit;">Las normales divididas por v√©rtice pueden dejarse deshabilitadas. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> algunas personas me han dicho que Maya ya admite parcialmente MikkTSpace, pero no s√© en qu√© medida.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Licuadora (2.57+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada p√≠xel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opciones de exportaci√≥n de </font></font></strong><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">malla </font></strong><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> exporta archivos FBX con un valor de suavizado de "Normals Only". </font><font style="vertical-align: inherit;">Puede exportar con o sin Tangent Space si la aplicaci√≥n de destino tambi√©n usa MikkTSpace, como Unity o Unreal. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Blender no tiene una opci√≥n de triangulaci√≥n al exportar a FBX, por lo tanto, use primero el modificador Triangulate. </font><font style="vertical-align: inherit;">Los mapas normales horneados en Blender no ser√°n 100% compatibles con Unity, pero si voltea el canal verde en una aplicaci√≥n de terceros o en material personalizado, entonces funcionar√°n perfectamente en Unreal.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xNormal (3.17.5+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> MikkTSpace * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable (para cada v√©rtice o p√≠xel) </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opciones para hornear mapas normales:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tiene opciones para voltear los tres ejes del mapa normal durante la exportaci√≥n. La unidad necesita X + Y + Z +. Tambi√©n existe la opci√≥n de usar tangentes a dos puntos para cada v√©rtice o p√≠xel (es decir, fragmento). Por defecto, xNormal usa tangentes a dos puntos para cada v√©rtice, pero esto se puede cambiar en el men√∫ Administrador de complementos (icono de enchufe de alimentaci√≥n en la esquina inferior izquierda) haciendo clic en "Calculadora base tangente", "Mikk - TSpace" y haciendo clic en Configurar. Aparecer√° una ventana emergente con la √∫nica opci√≥n "Calcular binormal en el sombreador de p√≠xeles". Debe estar desactivado para Unity y activado para Unreal. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aunque xNormal solo es compatible con MikkTSpace, su sistema de complementos te√≥ricamente admite cualquier espacio tangente. </font><font style="vertical-align: inherit;">Hasta ahora, el √∫nico complemento de espacio tangente que conozco est√° dise√±ado para hornear el espacio tangente de Unity 4 y ya es in√∫til. </font><font style="vertical-align: inherit;">Es decir, si se aborda de manera realista, la aplicaci√≥n solo es compatible con MikkTSpace.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pintor de sustancias</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable (OpenGL o Direct3D) </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable (para v√©rtices o p√≠xeles) </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opciones de horneado para mapas normales:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tiene opciones de horneado en orientaci√≥n OpenGL o Direct3D. Y una opci√≥n para usar tangentes a dos puntos para cada v√©rtice o p√≠xel (fragmento), que se configura mediante el par√°metro "Calcular espacio tangente por fragmento". Al exportar para los m√©todos de representaci√≥n Unity incorporados, debe seleccionar OpenGL y deshabilitar Calcular espacio tangente por fragmento en el proyecto y las opciones de exportaci√≥n, y al exportar a Unreal o Unity HDRP, haga lo contrario. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Substance Painter por defecto usa los datos tangentes que usa la malla importada. </font><font style="vertical-align: inherit;">A menos que est√© exportando desde Blender, ¬°no lo necesita! </font><font style="vertical-align: inherit;">Pero no hay opciones para deshabilitar esta funci√≥n. </font><font style="vertical-align: inherit;">Antes de importar en Substance Painter, exporte mallas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tangentes. </font><font style="vertical-align: inherit;">Anteriormente en la documentaci√≥n de la Sustancia, se afirm√≥ err√≥neamente que los c√°lculos de tangentes a dos puntos </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en Blender corresponden a Unity, ¬°pero ahora el error se ha solucionado!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marmoset Toolbag 3</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">: </font></strong></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√°lculo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">de tangentes a dos puntos para MikkTSpace:</font></strong><font style="vertical-align: inherit;"> p√≠xel por p√≠xel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parece que el programa tiene opciones para ver u hornear mapas normales en casi cualquier configuraci√≥n existente. </font><font style="vertical-align: inherit;">¬°Incluyendo configuraciones listas para espacios tangentes 3ds Max y Maya! </font><font style="vertical-align: inherit;">Sin embargo, la opci√≥n de espacio tangente Mikk / xNormal utiliza tangentes p√≠xel por p√≠xel en dos puntos, y esto no se puede cambiar. </font><font style="vertical-align: inherit;">Es decir, Marmoset Toolbag 3 no puede ver u hornear correctamente los mapas normales para los m√©todos integrados de representaci√≥n de Unity. </font><font style="vertical-align: inherit;">Quiz√°s en futuras versiones la situaci√≥n cambie, porque los desarrolladores son conscientes del problema.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3DCoat</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">: </font></strong></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√°lculo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">de tangentes a dos puntos para MikkTSpace</font></strong><font style="vertical-align: inherit;"> :? </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas: Tiene</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> muchas opciones para ver y hornear mapas normales. </font><font style="vertical-align: inherit;">Es perfectamente capaz de hacer coincidir Blender y UE4, por lo tanto, admite tangentes p√≠xel por p√≠xel a dos puntos, pero no s√© si se utilizan tangentes de v√©rtices a dos puntos en el preajuste de Unity.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Houdini (16.0.514+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> p√≠xel por p√≠xel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> admite su propia base de tangentes o MikkTSpace, tanto para ver como para hornear, pero solo en la versi√≥n p√≠xel por p√≠xel. </font><font style="vertical-align: inherit;">Parece que, por defecto, no usa MikkTSpace para renderizar, sino que comienza con Houdini 17.5. </font><font style="vertical-align: inherit;">Las mallas se pueden modificar con nodos integrados para usar la tangente MikkTSpace.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modo (10+?)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">: </font></strong></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√°lculo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">de tangentes de dos puntos para MikkTSpace:</font></strong><font style="vertical-align: inherit;"> personalizado (v√©rtice o p√≠xel por p√≠xel) * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parece que admite renderizado y horneado en diferentes espacios tangentes, as√≠ como la opci√≥n de tangentes p√≠xel por p√≠xel a dos puntos para exportar. </font><font style="vertical-align: inherit;">No he probado esto.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Knald</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientaci√≥n: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√°lculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> p√≠xel por p√≠xel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> De forma predeterminada, utiliza MikkTSpace y redefine las tangentes de mallas importadas, pero si es necesario, hay una opci√≥n para utilizar las mallas tangentes existentes. </font><font style="vertical-align: inherit;">La orientaci√≥n de los mapas normales se puede voltear con un par√°metro que se aplica a todo el proyecto.</font></font><br>
<br>
<hr><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un aspecto importante es que si el modelo de bajo poli en el que hornea es solo un plano (por ejemplo, para textura de mosaico), entonces todo lo escrito no tiene importancia y puede hornear usando cualquier herramienta ... si simplemente mantiene todo en la orientaci√≥n correcta o luego voltee los canales de textura correspondientes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, la mayor√≠a de los problemas enumerados en el art√≠culo son notables solo en modelos s√≥lidos. </font><font style="vertical-align: inherit;">Las formas org√°nicas pueden ocultar las diferencias m√°s sutiles, por ejemplo, la diferencia entre v√©rtices y tangentes p√≠xel por p√≠xel en dos puntos.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es487920/index.html">Sobrecarga en C ++. Parte I. Funciones y plantillas de sobrecarga</a></li>
<li><a href="../es487922/index.html">Aprendiendo a implementar microservicios. Parte 1. Spring Boot y Docker</a></li>
<li><a href="../es487924/index.html">Kim Dotcom: Atrapado, la persona m√°s buscada en l√≠nea. Parte 3</a></li>
<li><a href="../es487926/index.html">En busca de educaci√≥n f√≠sica</a></li>
<li><a href="../es487930/index.html">Noche de conferencias quiero gamedev</a></li>
<li><a href="../es487934/index.html">C√≥mo optimizamos nuestro servidor DNS usando las herramientas GO</a></li>
<li><a href="../es487938/index.html">Presentaci√≥n de efector-dom usando la lista de tareas de ejemplo</a></li>
<li><a href="../es487940/index.html">Computaci√≥n reproducible en R. ¬øC√≥mo separar el c√≥digo y los datos?</a></li>
<li><a href="../es487944/index.html">Aprendizaje autom√°tico en el sector energ√©tico, o no solo todos pueden ver el ma√±ana</a></li>
<li><a href="../es487948/index.html">Autenticaci√≥n de dos factores en OpenVPN con Telegram bot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>