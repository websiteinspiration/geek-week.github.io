<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👵 👍🏻 👩🏿‍⚕️ Mapas normales ideales para Unity (y otros programas) 👈🏾 🚌 👨‍👩‍👧‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="... y cómo descubrir qué está mal con su canal de creación de contenido.
 
 
 Supongamos que tiene un increíble modelo de alta poli en el que el artis...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mapas normales ideales para Unity (y otros programas)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487932/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... y cómo descubrir qué está mal con su canal de creación de contenido.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/89e/6f3/877/89e6f38773acdefc8f2680cf7bfd223a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supongamos que tiene un increíble modelo de alta poli en el que el artista ha trabajado, y desea incluirlo en el juego. </font><font style="vertical-align: inherit;">El artista mostró capturas de pantalla de la modelo en su programa y se ven increíbles. </font><font style="vertical-align: inherit;">Incluso después de hornear mapas normales para la versión low-poly, todavía se ve muy bien.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/810/be8/3a4810be8abd5ad6cb24fca98ee9e61c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¡Vea la grandeza de este modelo tradicional para probar mapas normales! </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces el artista la mete en el juego, y ella se ve ... un poco mal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/350/fa2/e70/350fa2e7020b28db82bf99958d10f958.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¿No deberían ser estas caras planas? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las superficies, que deberían ser planas, todavía están un poco redondeadas, algunas incluso están deprimidas y, lo que es peor, hay rayas extrañas a lo largo de ellas. </font><font style="vertical-align: inherit;">Situación familiar? </font><font style="vertical-align: inherit;">Algunos de ustedes probablemente lo encontraron, pensaron: "Bueno, probablemente, no funcionará mejor", y continuaron. </font><font style="vertical-align: inherit;">Quizás se aplicó un poco de suciedad para enmascarar los casos más graves. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero en realidad hay algo mal con su canal de creación de contenido. </font><font style="vertical-align: inherit;">¡Esto no siempre es obvio, pero el problema puede resolverse! * </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Si asume que en algunos casos puede hacer cambios en la canalización de contenido.</font></font></i><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prefacio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este artículo trata sobre cómo exportar mapas normales ideales desde otras aplicaciones para usar en Unity 5.3 y versiones posteriores. </font><font style="vertical-align: inherit;">No habla sobre cómo obtener mapas normales de alta calidad, hay muchos otros tutoriales para esto, por lo que no tocaré este tema.</font></font><br>
<br>
<hr><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base espacial tangente</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El problema es cómo funcionan los mapas normales del espacio tangente. En particular, cómo funciona el </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (o base tangente). No iré demasiado lejos en los aspectos técnicos de lo que hacen. Yo, como otros autores, ya he </font></font><a rel="noopener" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hablado de esto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , pero en resumen, el espacio tangente determina lo que debe representar la orientación de la dirección en el mapa normal. La dirección en el mapa normal es en realidad "hacia adelante", "arriba" o "derecha". Hablando en términos generales, esta orientación es la orientación de las coordenadas UV de la textura y las normales de los vértices. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es más importante comprender que el programa utilizado para hornear el mapa normal desde la malla de alta política a la malla de baja política debe calcular su espacio tangente</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exactamente igual que el programa en el que se usarán los mapas normales</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dado que diferentes programas pueden usar el espacio tangente de diferentes maneras, los mapas horneados normales para una malla no serán necesariamente los mismos para todas las aplicaciones. </font><font style="vertical-align: inherit;">¡Incluso para aplicaciones que usan el mismo espacio tangente!</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conoce a tu enemigo</font></font></h1><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Golpe debido a un error obvio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El error más común es el problema "OpenGL vs Direct3D". </font><font style="vertical-align: inherit;">También se denominan mapas normales Y + e Y-. </font><font style="vertical-align: inherit;">Los incluí aquí solo para completar. </font><font style="vertical-align: inherit;">Lo más probable es que la mayoría de las personas que han encontrado este problema ya lo saben, o al menos aprendieron cómo resolverlo. </font><font style="vertical-align: inherit;">Dado que los mapas normales se generan en una orientación, son esencialmente inútiles para usar en una aplicación diseñada para usar otra.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39a/064/afd/39a064afd8830af08c8841d279e234bc.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normales en orientación Direct3D en el motor Unity, que espera una orientación OpenGL.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Esto se puede entender por el hecho de que la iluminación parece estar invertida o cayendo desde el otro lado, pero solo en algunas direcciones de iluminación. Algunas esquinas o caras pueden parecer completamente normales hasta que mueva la fuente de luz.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y con este problema, todo está lo suficientemente claro. </font><font style="vertical-align: inherit;">La mayoría de las aplicaciones de horneado de mapas normales tienen un botón o menú grande y agradable para cambiar entre la opción de orientación OpenGL / Direct3D o Y. Descubra qué orientación usa la aplicación de destino y hornee mapas en ella. </font><font style="vertical-align: inherit;">Unity usa OpenGL e Y +. </font><font style="vertical-align: inherit;">Unreal usa Direct3D e Y-. </font><font style="vertical-align: inherit;">Esto se puede entender claramente observando la textura del mapa normal en sí. </font><font style="vertical-align: inherit;">Si parece que en el canal verde están iluminados "desde arriba", entonces esta es la orientación OpenGL. </font><font style="vertical-align: inherit;">Si desde abajo, entonces esto es Direct3D.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rarezas con sRGB</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro error común es usar una textura marcada como textura sRGB. Esto cambia la forma en que se muestrea la textura de la GPU, forzándola a convertir valores de color del espacio sRGB, desde el cual las personas generalmente seleccionan valores de color, a un espacio de color lineal. Para mapas normales, esto no es necesario. Si establece el tipo en "Mapa normal" para la textura en Unity, el motor deshabilitará automáticamente esta opción, pero también puede deshabilitar la opción "sRGB (Textura de color)" manualmente, y la textura funcionará como un mapa normal. Al menos en Unity 2017.1 y posteriores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eed/4fa/006/eed4fa006eb6dc4cb232b61f6df0d95d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapa normal con tipo de textura predeterminado y sRGB habilitado.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Este problema puede reconocerse por el hecho de que los mapas normales están fuertemente sesgados en una dirección. </font><font style="vertical-align: inherit;">En este modelo, casi todas las caras parecen dirigidas hacia una fuente de luz. </font><font style="vertical-align: inherit;">Obviamente, este no siempre será el caso. </font><font style="vertical-align: inherit;">En un mapa normal más detallado, todas las partes responderán a la iluminación casi correctamente, pero cambiarán ligeramente a algún ángulo. </font><font style="vertical-align: inherit;">A veces puede parecer que toda la superficie de la malla está distorsionada.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demasiado diferente para ser normal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro problema común es el uso de diferentes mallas de cocción normales en el activo del juego. </font><font style="vertical-align: inherit;">Al igual que con las tangentes, para que todo funcione, deben </font><font style="vertical-align: inherit;">coincidir </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exactamente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Este error a menudo ocurre si los artistas exportan mallas con normales de vértice incorrectas. </font><font style="vertical-align: inherit;">En este caso, cualquier aplicación que abra la malla tendrá que calcularlos usted mismo. </font><font style="vertical-align: inherit;">No hay una sola forma correcta de resolverlo, todo depende de la malla, ¡así que asegúrese de que usted (o los artistas) exporten el modelo con las normales finales!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/26b/196/2f9/26b1962f97b26c1f90e1143007844e30.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normales horneados en una malla suavizada, mostrados como en una malla con bordes afilados</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/970/07c/51d/97007c51d1aea9f42e5971e1a3d79ef6.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapas normales horneados en una malla con bordes afilados, mostrados como en una malla suavizada</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es otro problema que es fácil de detectar. Si el modelo parece que tiene bordes afilados, pero el sombreado se dobla desde estos bordes, esto significa que horneó el mapa normal con normales suaves, pero se representan en una malla con un borde afilado. Si el sombreado se dobla hacia el borde, esto significa que el mapa se horneó con un borde afilado y se renderizó en un borde liso. De hecho, en un modelo pueden estar presentes ambos casos, porque es posible indicar la suavidad o nitidez de los bordes individuales, e incluso el grado de suavidad. Pero, de hecho, se garantiza que son erróneos si permite que otra aplicación adivine cómo debería ser. El modelo presentado anteriormente es un caso extremo, y a menudo todo no es tan obvio, porque grandes partes del modelo pueden parecer completamente normales. Pero en el caso general,Si tiene varios bordes que se ven particularmente extraños, entonces esto probablemente se deba a una falta de coincidencia en las vértices normales.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace vs Autodesk</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un problema menos notable es que al hornear mapas normales de 3ds Max o Maya, siempre serán incorrectos en el motor de Unity. </font><font style="vertical-align: inherit;">Se equivocarán en Unreal y en casi cualquier otro programa, excepto en el que fueron horneados. </font><font style="vertical-align: inherit;">¡Los mapas normales de 3ds Max no funcionan en Maya, y viceversa! </font><font style="vertical-align: inherit;">Cada una de estas aplicaciones calcula el espacio tangente en su propia forma única, que no corresponde a otras aplicaciones. </font><font style="vertical-align: inherit;">Cuando se usan independientemente, se ven </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perfectos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , y si genera mapas normales para usar en estos programas, intente hornear mapas normales en ellos. </font><font style="vertical-align: inherit;">Casi ningún </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">otro</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> programa es capaz de hornear los mapas normales correctos para estas aplicaciones, por lo que parece que no tiene otra opción.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La única solución en este caso es no hornear mapas normales con estas aplicaciones si desea usarlos en otro lugar. </font><font style="vertical-align: inherit;">Si necesita un programa gratuito, use </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xNormal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Esta es una herramienta estándar de la industria. </font><font style="vertical-align: inherit;">Si usa Sustancia en algún lugar de la canalización de creación de contenido, úsela.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/350/fa2/e70/350fa2e7020b28db82bf99958d10f958.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ds Max horneó el mapa normal utilizado por Unity. La</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
forma más fácil de notar este problema es ver que las caras planas tienen pequeñas abolladuras o curvaturas. </font><font style="vertical-align: inherit;">En algunos casos, esto puede ser muy discreto, especialmente en objetos orgánicos. </font><font style="vertical-align: inherit;">Por lo tanto, los problemas de este tipo a menudo pasan desapercibidos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muchas aplicaciones que no son de Autodesk han cambiado a un método de cálculo de espacio tangente llamado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Tanto xNormal como Substance, así como Blender, Unity, Unreal, Godot, Marmoset, Houdini, Modo y algunos otros, por defecto usan MikkTSpace o al menos lo admiten, lo que mejora enormemente su compatibilidad. </font><font style="vertical-align: inherit;">De hecho, en los últimos diez años, se ha convertido en el estándar de la industria en todos los casos cuando se utilizan mapas normales del espacio tangente. </font><font style="vertical-align: inherit;">Presumiblemente, en algún momento, 3ds Max agregará su soporte, pero no está claro si los desarrolladores planean permitir hornear mapas normales usando MikkTSpace o simplemente proporcionar soporte para ver / renderizar con su ayuda.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exportar mallas y pintor de sustancias</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro problema con 3ds Max y Maya es que al exportar mallas desde ellos hay una opción de exportación con "tangentes y binormales". No estarán en las tangentes reales de MikkTSpace, sino que se basarán en ellas. Algunas aplicaciones fuerzan el recálculo predeterminado del MikkTSpace correcto (por ejemplo, xNormal, Unity e Unreal), pero otras aplicaciones usan mallas tangentes (si las hay) "como están" y calculan MikkTSpace solo si la malla no tiene tangentes. Por ejemplo, Substance Painter usa mallas tangentes si están presentes tal como están, es decir, ¡Painter crea mapas normales muy similares a los 3ds Max horneados! Similar, pero no exactamente igual, por lo que si los importa de nuevo a 3ds Max, no se verán tan bien como horneados en Max.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace vs MikkTSpace?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¡El siguiente problema es que hay más de una versión de MikkTSpace! </font><font style="vertical-align: inherit;">Sí, ese no sería el estándar si de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alguna manera</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no introdujera confusión. </font><font style="vertical-align: inherit;">MikkTSpace determina cómo se deben almacenar los datos en la malla para cada vértice y cómo se usan los datos para la representación. </font><font style="vertical-align: inherit;">Todas las aplicaciones habilitadas para MikkTSpace calculan los mismos datos de malla para vértices. </font><font style="vertical-align: inherit;">Pero hay dos formas diferentes de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilizar</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estos datos en la representación. </font><font style="vertical-align: inherit;">MikkTSpace define cómo calcular el vector tangente y el signo para cada vértice en función de la orientación UV. </font><font style="vertical-align: inherit;">Pero cuando se usa el espacio tangente, la tangente a dos puntos (bitangente) se recalcula para cada vértice o para cada píxel. </font><font style="vertical-align: inherit;">Este parámetro también debe ser el mismo para hornear y ver.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
xNormal y Substance tienen la opción de hornear mapas normales usando ambos métodos. Estas opciones se denominan "calcular el espacio tangente por fragmento" en Sustancia y "calcular binormal en el sombreador de píxeles" en xNormal. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No necesita</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usarlo si está horneando para los métodos de representación incorporados de Unity. Sin embargo, puede </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">valer la pena</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hacer esto para SRP, ¡dependiendo del tipo que elija!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc8/288/f49/dc8288f495d420416d8bd2ee5ae401c3.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XNormal "binormals de sombreador de píxeles" con un procesador de avance incorporado Unity</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Visualmente, esto parece usar un espacio tangente completamente diferente, pero generalmente es mucho menos pronunciado. Algunas caras pueden parecer como si la normalidad estuviera un poco distorsionada y no tuviera una abolladura grande. La solución aquí es muy simple: no seleccione esta opción si está preparando los métodos de representación integrados de Unity. Marque la casilla si hornea motores Unreal o Unity para HDRP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muchas fuentes dicen que Blender y Unity son idénticos, ¡pero en realidad esto nunca es cierto! Blender, como Unity, usa la orientación MikkTSpace y OpenGL, pero, como Unreal, usa binormales para cada binomio de fragmento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La buena noticia es que ahora los sombreadores LWRP, URP y Shader Graph usan binormales para cada vértice, y los sombreadores HDRP incorporados para cada píxel. </font><font style="vertical-align: inherit;">En una futura actualización de Shader Graph (7.2.0), se realizará la transición a la computación píxel por píxel y, después de un tiempo, los sombreadores URP incorporados también cambiarán a ella. </font><font style="vertical-align: inherit;">Y los métodos de representación estándar se pueden cambiar utilizando sus propios sombreadores, si elige dicha ruta.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Triangular, triangular, triangular!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El último problema son las diferentes formas de triangulación. </font><font style="vertical-align: inherit;">Si exporta mallas sin triangulación preliminar, no hay garantía de que otras aplicaciones triangulen el modelo de la misma manera. </font><font style="vertical-align: inherit;">¡Esto también daña los mapas normales! </font><font style="vertical-align: inherit;">Por lo tanto, triangule las mallas, ya sea utilizando las opciones de exportación, o mediante el modificador de triangulación.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/271/14f/174/27114f17454f66db812ec2673e72d97c.png"></div><br>
<i>  Substance Painter  ,   Unity  ,   3ds Max   (quads)</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto parece muy similar a un espacio tangente completamente incorrecto, como si los mapas normales se hornearan en 3ds Max. Pero en el caso general, son un poco más afilados, casi doblados y no parecen una concavidad suave. En esta malla, se ve una forma de X en las caras externas. Este problema puede ser difícil y molesto cuando varias personas están trabajando con el modelo en la tubería de producción de contenido en diferentes aplicaciones, porque a menudo es útil no triangular la malla y guardar hermosos polígonos. En este caso, debes aceptar las molestias o hacer que la última herramienta en la tubería antes de exportar el modelo al juego también se use para generar una malla utilizada para hornear normales. Como un espacio tangente con normales de vértices (que son parte del espacio tangente),La triangulación también debe coincidir exactamente.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lista para crear mapas normales perfectos para Unity</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, aquí hay algunos consejos para generar mapas normales de espacio tangente para mallas lowpoly a partir de los modelos highpoly originales para usar en Unity:</font></font><br>
<br>
<ul>
<li><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No es necesario</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hornear mapas normales con 3ds Max, Maya o cualquier otra aplicación que no tenga la opción tangente </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MikkTSpace</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exporte mallas como </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">triángulos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , con </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normales</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y </font></font><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tangentes.</font></font></strong></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elija </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenGL</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o X + </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y +</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Z + como la orientación del mapa normal al hornear (así como al crear un proyecto para Substance Painter).</font></font></li>
<li><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No necesita</font></font></em> </strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> habilitar las opciones de tangentes a los dos puntos "</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por píxel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " / "</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> por fragmento</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " al hornear para los métodos de representación integrados (proactivos o diferidos) o LWRP.</font></font></li>
<li><strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incluya</font></font></em></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> opciones para tangentes a los dos puntos</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "por píxel"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> /</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "por fragmento"</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cuando hornee para HDRP, y pronto para URP.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deje las opciones de importación de modelo predeterminadas para Unity, con las normales configuradas en "Importar" y las tangentes en "Calcular Mikktspace".</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¡Eso es todo! </font><font style="vertical-align: inherit;">¡Cada vez que obtienes mapas normales perfectamente horneados!</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3a4/810/be8/3a4810be8abd5ad6cb24fca98ee9e61c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¡Hurra! </font><font style="vertical-align: inherit;">¡El mapa normal perfecto!</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bed/daa/477/beddaa477b105ae87e6dda113381e910.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... con reflejos? </font><font style="vertical-align: inherit;">Ejem ..</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bueno, el último, simplemente lo ignoramos. </font><font style="vertical-align: inherit;">Lo más "perfecto" posible con formatos de textura comprimidos con 8 bits por canal. </font><font style="vertical-align: inherit;">Un mapa normal difuminado puede verse un poco mejor que las rayas, pero, desafortunadamente, no muchas herramientas ofrecen esta opción. </font><font style="vertical-align: inherit;">De lo contrario, puede usar mapas normales de 16 bits. </font><font style="vertical-align: inherit;">Pero este es un tema para otro artículo.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenga más información sobre MikkTSpace.</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sitio </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">semioficial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;">mikktspace.com</font></a><font style="vertical-align: inherit;"> explica bien los beneficios clave de MikkTSpace. En particular, este espacio funciona bien tanto para el recuento como para la transferencia de datos tangentes entre programas con diferente procesamiento de malla, mientras se mantiene la integridad de los resultados. El texto del sitio es una copia de la ya difunta página wiki de Blender escrita por el propio Morten S. Mikkelsen. Desafortunadamente, solo menciona la versión con tangentes a dos puntos por cada píxel, pero no la versión para cada vértice, el valor predeterminado utilizado por Unity y xNormal. Dado que Blender usa derivados de tangentes por píxel, es lógico que solo se mencionen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí hay comentarios sobre estas dos opciones del archivo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mikktspace.h</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> original </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<blockquote>           ,    /.<br>
<br>
<code>bitangent = fSign * cross(vN, tangent);</code><br>
<br>
…<br>
<br>
    (/    )     ,          .<br>
<br>
,   ,       ,    «»  ,       : vT, vB  vN.<br>
<br>
  (  )<br>
<br>
<code>vNout = normalize( vNt.x * vT + vNt.y * vB + vNt.z * vN );</code><br>
<br>
 vNt —    .         «» ,       ,    .<br>
<br>
…<br>
<br>
         ,     ,   ,        .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, en el ejemplo original, la tangente a dos puntos se recrea en el sombreador de vértices y se pasa al sombreador de píxeles como otro valor interpolado. Así es como los sombreadores normales de Unity manejan actualmente los mapas normales. Un ejemplo de realizar esta tarea en un sombreador de píxeles es más un ejemplo improvisado que un ejemplo "principal". Además, dado que la implementación de Unity 5.3 (y xNormal?) Fue creada por el propio Morten S. Mikkelsen, y ambos usan tangentes para cada vértice, esta es otra prueba de nuestra teoría. Pero luego Blender usó tangentes píxel por píxel, y Morten también estuvo involucrado. Probablemente, de hecho, fue solo una opción que causó pequeños cambios en los sombreadores Unity terminados, y aunque para los gráficos en tiempo real, ninguno de los métodos se consideró mucho mejor que el otro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La ventaja de la implementación píxel por píxel es la eliminación de dos valores interpolados a costa de un pequeño costo adicional para ALU (matemática del sombreador de píxeles). Esto significa que en lugar de los tres valores de Vector3 (tangente, tangente a dos puntos y la normal), solo necesitamos Vector4 y Vector3 (tangente con un signo y normal). En las GPU modernas, esto es un poco más rápido. Y </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">definitivamente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es </font><font style="vertical-align: inherit;">más rápido cuando se ejecuta en la CPU, ya que puede usarse para renderizadores que no son en tiempo real. Desde este punto de vista, es lógico que la mayoría de la industria decidiera recrear la tangente a dos puntos en el píxel, y no en la parte superior.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¡Es curioso que cuando escribí este artículo, Morten promovió la transición en Unity SRP a tangentes píxel por píxel a dos puntos! </font><font style="vertical-align: inherit;">Es una mala suerte que los métodos de representación integrados de Unity tengan un legado de opciones inconvenientes.</font></font><br>
<br>
<hr><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente en diferentes aplicaciones.</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aunque este artículo se centra principalmente en Unity, dado que hoy este motor se ha generalizado, quería que mi estudio fuera más detallado. </font><font style="vertical-align: inherit;">Por lo tanto, creé una lista de varias aplicaciones con información sobre el uso del espacio tangente.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unidad (5.3+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para vértices o para píxeles * </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de forma predeterminada, el motor redefine a la fuerza las tangentes de la malla al importar para usar MikkTSpace. Para usuarios avanzados, tiene opciones para usar la malla tangente, pero esto no garantiza la compatibilidad con los mapas normales horneados en otras herramientas, especialmente cuando se usan sombreadores integrados. Se pueden reemplazar con sombreadores completamente propios. Y para sus sombreadores integrados, HDRP utiliza tangentes píxel por píxel en dos puntos. Al momento de escribir, se planeó que los sombreadores URP y Shader Graph también cambien a tangentes píxel por píxel a dos puntos. Antes de Unity 5.3, el motor usaba tangentes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://web.archive.org/web/20160306000702/" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lengyel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que todavía se pueden usar seleccionando la opción Legacy Tangents en el importador de mallas, pero los sombreadores integrados ya no admiten este espacio tangente.</font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Además: antes de URP 7.2.0, el procesamiento de mapas normales en Shader Graph estaba completamente roto. </font><font style="vertical-align: inherit;">Ni MikkTSpace ni siquiera el espacio tangente de Lengyel se utilizan correctamente, y es imposible arreglar esto dentro del gráfico de sombreado. </font><font style="vertical-align: inherit;">Si es posible, actualice a 7.2.0.</font></font></em><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motor irreal 4</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Direct3D Y- </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> píxel por píxel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de forma predeterminada, el motor redefine las tangentes de la malla al importar utilizando MikkTSpace. </font><font style="vertical-align: inherit;">Para usuarios avanzados, tiene opciones para usar una malla tangente, pero esto no garantiza la compatibilidad con mapas normales horneados en otras herramientas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Godot</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada vértice </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si no hay datos tangentes, puede calcular mallas tangentes en MikkTSpace al importarlas. </font><font style="vertical-align: inherit;">La documentación del motor sugiere exportar mallas de malla tangente, pero como la mayoría de las herramientas no exportan la malla tangente correcta, ignoraría este consejo. </font><font style="vertical-align: inherit;">Incluso si usa la malla tangente original, no hay garantía de que los mapas normales se vean bien.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Playcanvas</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente: </font></font></strong> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=http://web.archive.org/web/20160306000702/" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lengyel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schüler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada vértice / basado en derivadas </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> proporciona varios métodos para procesar el espacio tangente. Las tangentes generadas por código no usan MikkTSpace. Tiene opciones para usar una tangente a dos puntos para cada vértice que normalizan los vectores espaciales tangentes en el sombreador de píxeles "fastTbn" </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin normalizar el</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> espacio tangente en el sombreador de fragmentos (que </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">necesitamos</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ya que esto corresponde a la implementación de MikkTSpace con un cálculo para cada vértice), o usan el TBN basado en derivadas, tomado de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="noopener nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Christian Schuler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font><font style="vertical-align: inherit;">ignora por completo la tangente de la malla y calcula el espacio tangente en el sombreador de píxeles. </font><font style="vertical-align: inherit;">Ahora, por defecto, se usan mapas normales basados ​​en derivados, para los cuales, hasta donde yo sé, no hay herramientas para hornear mapas normales exactos. </font><font style="vertical-align: inherit;">Es posible que pueda importar mallas con datos normales y tangentes existentes desde MikkTSpace, y luego usar la opción de material "fastTbn" para que coincida con los métodos de representación integrados de Unity, pero creo que esto debería hacerse en código, no a través de la interfaz del editor.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filamento</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada vértice </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dependiendo del rendimiento en el futuro, el motor puede cambiar a tangentes píxel por píxel a dos puntos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3ds max</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Direct3D Y- * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opciones de exportación de Mesh</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nativo </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> exporta archivos FBX con Triangulate activado pero Tangents y Binormals desactivados. </font><font style="vertical-align: inherit;">Las normales siempre deben exportarse. </font><font style="vertical-align: inherit;">Las normales divididas por vértice pueden dejarse deshabilitadas. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Por defecto, 3ds Max asume que la orientación Direct3D se usa en mapas normales, pero tiene opciones para voltear las orientaciones X e Y cuando se usan texturas de mapas normales en los materiales. </font><font style="vertical-align: inherit;">La cocción siempre usa la orientación Direct3D. </font><font style="vertical-align: inherit;">El soporte de MikkTSpace aparecerá en futuras versiones.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maya</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opciones de exportación de malla</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nativas </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> exportar archivos FBX con Triangulate activado, pero Tangents y Binormals desactivados. </font><font style="vertical-align: inherit;">Las normales siempre se exportan. </font><font style="vertical-align: inherit;">Las normales divididas por vértice pueden dejarse deshabilitadas. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> algunas personas me han dicho que Maya ya admite parcialmente MikkTSpace, pero no sé en qué medida.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Licuadora (2.57+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> OpenGL Y + </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio de tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para cada píxel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opciones de exportación de </font></font></strong><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">malla </font></strong><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> exporta archivos FBX con un valor de suavizado de "Normals Only". </font><font style="vertical-align: inherit;">Puede exportar con o sin Tangent Space si la aplicación de destino también usa MikkTSpace, como Unity o Unreal. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Blender no tiene una opción de triangulación al exportar a FBX, por lo tanto, use primero el modificador Triangulate. </font><font style="vertical-align: inherit;">Los mapas normales horneados en Blender no serán 100% compatibles con Unity, pero si voltea el canal verde en una aplicación de terceros o en material personalizado, entonces funcionarán perfectamente en Unreal.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xNormal (3.17.5+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> MikkTSpace * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable (para cada vértice o píxel) </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opciones para hornear mapas normales:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tiene opciones para voltear los tres ejes del mapa normal durante la exportación. La unidad necesita X + Y + Z +. También existe la opción de usar tangentes a dos puntos para cada vértice o píxel (es decir, fragmento). Por defecto, xNormal usa tangentes a dos puntos para cada vértice, pero esto se puede cambiar en el menú Administrador de complementos (icono de enchufe de alimentación en la esquina inferior izquierda) haciendo clic en "Calculadora base tangente", "Mikk - TSpace" y haciendo clic en Configurar. Aparecerá una ventana emergente con la única opción "Calcular binormal en el sombreador de píxeles". Debe estar desactivado para Unity y activado para Unreal. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aunque xNormal solo es compatible con MikkTSpace, su sistema de complementos teóricamente admite cualquier espacio tangente. </font><font style="vertical-align: inherit;">Hasta ahora, el único complemento de espacio tangente que conozco está diseñado para hornear el espacio tangente de Unity 4 y ya es inútil. </font><font style="vertical-align: inherit;">Es decir, si se aborda de manera realista, la aplicación solo es compatible con MikkTSpace.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pintor de sustancias</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable (OpenGL o Direct3D) </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable (para vértices o píxeles) </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opciones de horneado para mapas normales:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tiene opciones de horneado en orientación OpenGL o Direct3D. Y una opción para usar tangentes a dos puntos para cada vértice o píxel (fragmento), que se configura mediante el parámetro "Calcular espacio tangente por fragmento". Al exportar para los métodos de representación Unity incorporados, debe seleccionar OpenGL y deshabilitar Calcular espacio tangente por fragmento en el proyecto y las opciones de exportación, y al exportar a Unreal o Unity HDRP, haga lo contrario. </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Substance Painter por defecto usa los datos tangentes que usa la malla importada. </font><font style="vertical-align: inherit;">A menos que esté exportando desde Blender, ¡no lo necesita! </font><font style="vertical-align: inherit;">Pero no hay opciones para deshabilitar esta función. </font><font style="vertical-align: inherit;">Antes de importar en Substance Painter, exporte mallas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sin</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tangentes. </font><font style="vertical-align: inherit;">Anteriormente en la documentación de la Sustancia, se afirmó erróneamente que los cálculos de tangentes a dos puntos </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
en Blender corresponden a Unity, ¡pero ahora el error se ha solucionado!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marmoset Toolbag 3</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">: </font></strong></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cálculo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">de tangentes a dos puntos para MikkTSpace:</font></strong><font style="vertical-align: inherit;"> píxel por píxel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parece que el programa tiene opciones para ver u hornear mapas normales en casi cualquier configuración existente. </font><font style="vertical-align: inherit;">¡Incluyendo configuraciones listas para espacios tangentes 3ds Max y Maya! </font><font style="vertical-align: inherit;">Sin embargo, la opción de espacio tangente Mikk / xNormal utiliza tangentes píxel por píxel en dos puntos, y esto no se puede cambiar. </font><font style="vertical-align: inherit;">Es decir, Marmoset Toolbag 3 no puede ver u hornear correctamente los mapas normales para los métodos integrados de representación de Unity. </font><font style="vertical-align: inherit;">Quizás en futuras versiones la situación cambie, porque los desarrolladores son conscientes del problema.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3DCoat</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">: </font></strong></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cálculo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">de tangentes a dos puntos para MikkTSpace</font></strong><font style="vertical-align: inherit;"> :? </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas: Tiene</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> muchas opciones para ver y hornear mapas normales. </font><font style="vertical-align: inherit;">Es perfectamente capaz de hacer coincidir Blender y UE4, por lo tanto, admite tangentes píxel por píxel a dos puntos, pero no sé si se utilizan tangentes de vértices a dos puntos en el preajuste de Unity.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Houdini (16.0.514+)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espacio tangente:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizable * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> píxel por píxel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> admite su propia base de tangentes o MikkTSpace, tanto para ver como para hornear, pero solo en la versión píxel por píxel. </font><font style="vertical-align: inherit;">Parece que, por defecto, no usa MikkTSpace para renderizar, sino que comienza con Houdini 17.5. </font><font style="vertical-align: inherit;">Las mallas se pueden modificar con nodos integrados para usar la tangente MikkTSpace.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modo (10+?)</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">: </font></strong></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cálculo</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">de tangentes de dos puntos para MikkTSpace:</font></strong><font style="vertical-align: inherit;"> personalizado (vértice o píxel por píxel) * </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> parece que admite renderizado y horneado en diferentes espacios tangentes, así como la opción de tangentes píxel por píxel a dos puntos para exportar. </font><font style="vertical-align: inherit;">No he probado esto.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Knald</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Orientación: </font></font></strong><font style="vertical-align: inherit;"></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espacio tangente</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> personalizado </font><strong><font style="vertical-align: inherit;">:</font></strong><font style="vertical-align: inherit;"> MikkTSpace </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cálculo de tangentes a dos puntos para MikkTSpace:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> píxel por píxel </font></font><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notas:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> De forma predeterminada, utiliza MikkTSpace y redefine las tangentes de mallas importadas, pero si es necesario, hay una opción para utilizar las mallas tangentes existentes. </font><font style="vertical-align: inherit;">La orientación de los mapas normales se puede voltear con un parámetro que se aplica a todo el proyecto.</font></font><br>
<br>
<hr><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un aspecto importante es que si el modelo de bajo poli en el que hornea es solo un plano (por ejemplo, para textura de mosaico), entonces todo lo escrito no tiene importancia y puede hornear usando cualquier herramienta ... si simplemente mantiene todo en la orientación correcta o luego voltee los canales de textura correspondientes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Además, la mayoría de los problemas enumerados en el artículo son notables solo en modelos sólidos. </font><font style="vertical-align: inherit;">Las formas orgánicas pueden ocultar las diferencias más sutiles, por ejemplo, la diferencia entre vértices y tangentes píxel por píxel en dos puntos.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es487920/index.html">Sobrecarga en C ++. Parte I. Funciones y plantillas de sobrecarga</a></li>
<li><a href="../es487922/index.html">Aprendiendo a implementar microservicios. Parte 1. Spring Boot y Docker</a></li>
<li><a href="../es487924/index.html">Kim Dotcom: Atrapado, la persona más buscada en línea. Parte 3</a></li>
<li><a href="../es487926/index.html">En busca de educación física</a></li>
<li><a href="../es487930/index.html">Noche de conferencias quiero gamedev</a></li>
<li><a href="../es487934/index.html">Cómo optimizamos nuestro servidor DNS usando las herramientas GO</a></li>
<li><a href="../es487938/index.html">Presentación de efector-dom usando la lista de tareas de ejemplo</a></li>
<li><a href="../es487940/index.html">Computación reproducible en R. ¿Cómo separar el código y los datos?</a></li>
<li><a href="../es487944/index.html">Aprendizaje automático en el sector energético, o no solo todos pueden ver el mañana</a></li>
<li><a href="../es487948/index.html">Autenticación de dos factores en OpenVPN con Telegram bot</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>