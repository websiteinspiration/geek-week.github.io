<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüî¨ üßõüèº ü§æüèø E um rato e um sapo. Compilador Universal ‚õ™Ô∏è üÖøÔ∏è üßïüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Em uma s√©rie sobre programa√ß√£o confi√°vel [1], [2] Swift permaneceu imerecidamente esquecido. Para ser honesto, eu simplesmente n√£o o considerava multi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>E um rato e um sapo. Compilador Universal</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489708/"><img src="https://habrastorage.org/webt/cp/dm/ol/cpdmol50cor9fv53vzs_yjiv1y4.png" align="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em uma s√©rie sobre programa√ß√£o confi√°vel [1], [2] Swift permaneceu imerecidamente esquecido. Para ser honesto, eu simplesmente n√£o o considerava multiplataforma, mas trabalhando exclusivamente para o macOS / iOS. Por acaso, o Swift tamb√©m √© suportado por um ambiente de desenvolvimento como o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RemObjects Elements</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acabou que ela tinha um Compilador Universal. Pode compilar programas em C #, Go, Java, Oxygene Object Pascal, Swift para: Android, Cacau (MacOS, iOS, tvOS), JVM, Linux (x64, armv6, aarch64), .NET / .NET Core / Mono, Windows nativo (x86 / x64), WebAssembly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E faz isso em quase qualquer combina√ß√£o de idioma ‚Üí sistema de destino! Por exemplo, voc√™ pode escrever um programa em Java que usar√° o WPF para a plataforma .NET de destino, e isso √© tudo nos exemplos que acompanham o pacote.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, apresento uma mini nota sobre os RemObjects Elements e, ao mesmo tempo, sobre a confiabilidade dos dois idiomas suportados - Swift e Oxygene.</font></font><br>
<br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figura de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">radionetplus</font></font></a> <br>
</p><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m das discuss√µes sobre o problema da interoperabilidade de diferentes ambientes de tempo de execu√ß√£o - nativo, JVM, .NET, GC, ARC, acabou sendo inacredit√°vel e em ambos os sentidos, pois durante as discuss√µes eles chegaram √† conclus√£o de que o IO normal √© imposs√≠vel.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brevemente sobre os elementos RemObjects</font></font></h3> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse √© um ambiente de desenvolvimento independente com um depurador, incluindo um remoto, e a conclus√£o de c√≥digo para Windows ou macOS, ou se integra ao Visual Studio, e o Xcode √© necess√°rio para o Cocoa. Para a Swift, √© gr√°tis; quanto mais, custa US $ 199 para a vers√£o para projetos pessoais, at√© US $ 799 para uma licen√ßa comercial para todos os idiomas. Para trabalhar com DBMS cliente - servidor, √© necess√°rio pagar substancialmente mais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Water √© o nome da vers√£o do Windows, √© bastante asc√©tico, n√£o possui um editor de formul√°rios visuais, mas simpatiza com o rigor, e o instalador ocupa apenas 700 MB, √© claro, sem incluir JRE, .NET, Android NDK, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para repreend√™-la, ou n√£o vou elogiar muito, ela desempenha suas fun√ß√µes, nunca caiu (mas a mem√≥ria est√° fluindo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O b√¥nus para o IDE √© muito:</font></font><br>
<br>
<ul>
<li>  ( Water  ,     -)</li>
<li></li>
<li> -</li>
<li>      C#, Swift, Java, Delphi, C, Obj-C  Oxygene, C#, Swift, Java, Go</li>
<li>   Go-  .  Go    </li>
<li>  - </li>
<li>    Delphi/VCL</li>
</ul><br>
<h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, h√° um pequeno problema para aqueles que pensam que (c) voc√™ pode simplesmente pegar e transferir qualquer programa para outra plataforma. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A OI aqui √© que o programa s√≥ pode usar os recursos de sua plataforma RTL _e_ destino para todos os idiomas e suas combina√ß√µes. Ou seja, para os fins do .NET, voc√™ pode usar o WPF, mas n√£o o rt.jar, mas para o Native, apenas WinAPI ou GTK, respectivamente. Mas a biblioteca base escrita em Oxygene est√° dispon√≠vel em todos os lugares, assim como a camada de migra√ß√£o com o Delphi - pela maneira como eles est√£o dispon√≠veis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um projeto pode incluir subprojetos em diferentes idiomas suportados pelo RO. E com a importa√ß√£o de bibliotecas externas, tamb√©m existem op√ß√µes bem desenvolvidas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O gerenciamento de mem√≥ria ser√° usado em uma plataforma de destino, como o ARC for Cocoa. </font><font style="vertical-align: inherit;">N√£o entrei em detalhes, pois o Native GC √© usado por padr√£o, embora exista uma op√ß√£o - est√° marcada, existe no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meu projeto no github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adicione uma observa√ß√£o. </font><font style="vertical-align: inherit;">Se o programa foi escrito sob gerenciamento manual de mem√≥ria (malloc / free), ele funcionar√° simplesmente no ARC. </font><font style="vertical-align: inherit;">E se o programa estava no ARC, ele funcionar√° sem altera√ß√µes no GC (exceto para destrui√ß√£o imediata).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Confiabilidade </font></font></h3><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oxig√™nio</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este √© basicamente um objeto Pascal antigo e familiar, mas com ester√≥ides. </font><font style="vertical-align: inherit;">A vers√£o Oxygene for .NET tamb√©m foi comercializada como Delphi Prism. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parece mais seguro devido a:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gc </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suporte de controle anul√°vel </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disponibilidade de contratos e invariantes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controle de registro de identidade</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a capacidade de controlar o recuo dos pares de in√≠cio / fim (n√£o est√° claro como isso funciona)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©todos de classe segura de thread bloqueado / lento</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usando usando, no sentido de RAII</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Minuses. </font><font style="vertical-align: inherit;">O GC tamb√©m tem uma desvantagem - n√£o determinismo tempor√°rio, consumo excessivo de mem√≥ria. </font><font style="vertical-align: inherit;">Voc√™ tamb√©m pode anotar as desvantagens de que a escala da empresa e da comunidade √© pequena e, portanto, </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">provavelmente</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> h√° </font><font style="vertical-align: inherit;">mais </font><font style="vertical-align: inherit;">erros de implementa√ß√£o do </font><font style="vertical-align: inherit;">que para os technomonsters. </font><font style="vertical-align: inherit;">A documenta√ß√£o √© fraca e a estrutura nativa √© m√≠nima, o que pode atrair v√°rias "bicicletas" para projetos se o seu destino n√£o for .NET ou JRE. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No lado t√©cnico, adicionou a√ß√∫car em rela√ß√£o ao Delphi:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ass√≠ncrono / aguardar / futuro, aguardar - at√© agora apenas para .NET</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LINQ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tipos gen√©ricos / din√¢micos (diferentes do Delphi)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tuplas</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sequ√™ncia / rendimento</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interpola√ß√£o de string</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interl√∫dio. </font><font style="vertical-align: inherit;">C #</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Foi eliminado anteriormente devido √† limitada plataforma cruzada, mas com o lan√ßamento do .NET Core 3 e o advento do compilador nativo, inclusive para Linux, ficou um pouco melhor. </font><font style="vertical-align: inherit;">Al√©m disso, o idioma tamb√©m √© suportado no RemObjects com uma sele√ß√£o arbitr√°ria de destinos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, com confiabilidade, o C # est√° mais ou menos certo. </font><font style="vertical-align: inherit;">O GC estraga a beleza, n√£o √© muito confort√°vel trabalhar com anul√°vel, o que leva a NPEs regulares, a capacidade de obter uma exce√ß√£o de uma fun√ß√£o de apar√™ncia inocente e problemas com o uso sem √™xito do LINQ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devido ao GC e ao consumo de recursos, n√£o √© muito adequado para o Embedded. </font><font style="vertical-align: inherit;">Al√©m disso, apenas o int√©rprete sem o JIT </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET Micro Framework foi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> abandonado </font><font style="vertical-align: inherit;">para incorpora√ß√£o </font><font style="vertical-align: inherit;">desde 2015, embora tenha sido desenvolvido como </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TinyCLR</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agora sobre </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swift</font></font></a></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, uma linguagem compilada por m√°quina do tipo C, uma das mais novas e criadas, levando em considera√ß√£o a hist√≥ria de seus antecessores. Feito pela Apple, o compilador oficial ainda est√° no Ubuntu, transferido para o Open Source. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As oportunidades no n√≠vel de confiabilidade prestaram aten√ß√£o decente. Posso reclamar da possibilidade de alterar classes constantes e da capacidade de confundir uma classe de refer√™ncia com uma estrutura - um valor, no entanto aqui como em C #. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O gerenciamento de mem√≥ria est√° no ARC original e o RemObjects para plataformas diferentes da Apple possui GC. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesado para incorporado, sem habilidades em tempo real.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resto que eu gostaria de ver √© quase tudo. N√£o h√° contratos (existem extens√µes n√£o-padr√£o em RemObjects), mas algum tipo de emula√ß√£o √© poss√≠vel atrav√©s de observadores ou propriedade @propertyWrapper que apareceram no 5.2 ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ainda n√£o implementado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na RemObjects </font><font style="vertical-align: inherit;">) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tuples Note-se, os nomes dos par√¢metros fun√ß√µes, </font></font><code>array.insert(x, at: i)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desembrulhar expl√≠cito para opcional e geralmente pensado trabalhar com ele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma nuance essencial, eu chamaria de evolu√ß√£o da linguagem. Muitos exemplos do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tutorial oficial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (5.2) simplesmente n√£o funcionam no mesmo Repl.it (5.0), sem mencionar o RemObjects, que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est√° </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">claro quais vers√µes correspondem exatamente</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A implementa√ß√£o no RemObjects difere da refer√™ncia - Matriz √© referenciada aqui e String √© imut√°vel, as interfaces tamb√©m s√£o diferentes daquelas descritas no tutorial, e as interfaces da biblioteca n√£o apenas t√™m suas pr√≥prias, mas variam um pouco entre as plataformas. </font><font style="vertical-align: inherit;">O que traz alguma variedade ao chato processo de codifica√ß√£o =) O </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resumo final atualiza a tabela de confiabilidade</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Na verdade, lembro que isso √© apenas superficial de acordo com os dados de refer√™ncia, e todos os profissionais que escrevem nesses idiomas s√£o convidados a edi√ß√µes f√≠sicas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qualidade de compila√ß√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos tentar fazer um programa Swift semelhante √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dist√¢ncia de Levenshtein no artigo</font></font></a> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0xd34df00d</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e compare com os programas de l√°.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√°pido</font></font></b><div class="spoiler_text"><pre><code class="swift hljs"><span class="hljs-comment">/*    
	  Windows.Native, Elements.Island
*/</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Program</span> </span>{
	 <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">LevDist</span><span class="hljs-params">(<span class="hljs-number">_</span> s1: [UInt8], <span class="hljs-number">_</span> s2: [UInt8])</span></span> -&gt; <span class="hljs-type">Int32!</span> {
		 <span class="hljs-keyword">let</span> m = s1.<span class="hljs-built_in">count</span>
		 <span class="hljs-keyword">let</span> n = s2.<span class="hljs-built_in">count</span>
		 <span class="hljs-comment">//  Edge cases.</span>
		 <span class="hljs-keyword">if</span> m == <span class="hljs-number">0</span> {
			 <span class="hljs-keyword">return</span> n<font></font>
		 } <span class="hljs-keyword">else</span> {
			 <span class="hljs-keyword">if</span> n == <span class="hljs-number">0</span> {
				 <span class="hljs-keyword">return</span> m<font></font>
			 }<font></font>
		 }<font></font>
<font></font>
		 <span class="hljs-keyword">var</span> range = <span class="hljs-type">Range</span>(<span class="hljs-number">0</span> ... (n + <span class="hljs-number">1</span>))
		 <span class="hljs-keyword">var</span> v0: <span class="hljs-type">Swift</span>.<span class="hljs-type">Array</span>&lt;<span class="hljs-type">Int64</span>&gt; = range.<span class="hljs-type">GetSequence</span>()  <span class="hljs-comment">//17ms</span><font></font>
<font></font>
<span class="hljs-comment">//         var v1 = v0;    // in Swift must copy, but RO make a ref</span>
		 <span class="hljs-keyword">var</span> v1 = <span class="hljs-type">Swift</span>.<span class="hljs-type">Array</span>&lt;<span class="hljs-type">Int64</span>&gt;(v0);<font></font>
<font></font>
		 <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>
		 <span class="hljs-keyword">while</span> i &lt; m {<font></font>
			 v1[<span class="hljs-number">0</span>] = i + <span class="hljs-number">1</span>
			 <span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>
			 <span class="hljs-keyword">while</span> j &lt; n {
				 <span class="hljs-keyword">let</span> substCost = (s1[i] == s2[j] ? v0[j] : v0[j] + <span class="hljs-number">1</span>)
				 <span class="hljs-keyword">let</span> delCost = v0[j + <span class="hljs-number">1</span>] + <span class="hljs-number">1</span>
				 <span class="hljs-keyword">let</span> insCost = v1[j] + <span class="hljs-number">1</span>
				 v1[j + <span class="hljs-number">1</span>] = substCost &lt; delCost ? substCost : delCost
				 <span class="hljs-keyword">if</span> insCost &lt; v1[j + <span class="hljs-number">1</span>] {<font></font>
					 v1[j + <span class="hljs-number">1</span>] = insCost<font></font>
				 }<font></font>
				 j += <span class="hljs-number">1</span><font></font>
			 }<font></font>
<font></font>
			 <span class="hljs-keyword">let</span> temp = v0; v0 = v1; v1 = temp <span class="hljs-comment">// copy refs</span>
			 i += <span class="hljs-number">1</span><font></font>
		 }<font></font>
		 <span class="hljs-keyword">return</span> v0[n]<font></font>
	 }<font></font>
 }<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">var</span> b1 = [<span class="hljs-type">UInt8</span>](repeating: <span class="hljs-number">61</span> <span class="hljs-keyword">as</span>! <span class="hljs-type">UInt8</span>, <span class="hljs-built_in">count</span>: <span class="hljs-number">20000</span>)
<span class="hljs-keyword">var</span> b2: [<span class="hljs-type">UInt8</span>] = b1
<span class="hljs-keyword">var</span> b3 = <span class="hljs-type">Swift</span>.<span class="hljs-type">Array</span>&lt;<span class="hljs-type">UInt8</span>&gt;(repeating: <span class="hljs-type">UInt8</span>(<span class="hljs-number">63</span>), <span class="hljs-built_in">count</span>: <span class="hljs-number">20000</span>)<font></font>
<font></font>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"Start Distance"</span>);<font></font>
<font></font>
<span class="hljs-keyword">var</span> execTimer: <span class="hljs-type">StopWatch!</span> = <span class="hljs-type">StopWatch</span>()<font></font>
execTimer.<span class="hljs-type">Start</span>()<font></font>
<font></font>
<span class="hljs-built_in">print</span>(<span class="hljs-type">Program</span>.<span class="hljs-type">LevDist</span>(b1, b2))
<span class="hljs-built_in">print</span>(<span class="hljs-type">Program</span>.<span class="hljs-type">LevDist</span>(b1, b3))<font></font>
<font></font>
execTimer.<span class="hljs-type">Stop</span>()<font></font>
<font></font>
<span class="hljs-keyword">var</span> execTime: <span class="hljs-type">Float64</span> = execTimer.<span class="hljs-type">ElapsedMilliseconds</span> / <span class="hljs-number">1000.0</span> / <span class="hljs-number">10</span><font></font>
<font></font>
<span class="hljs-built_in">print</span>(<span class="hljs-string">"\(execTime) s"</span>)
<span class="hljs-keyword">return</span> <span class="hljs-number">0</span></code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resto com mudan√ßas m√≠nimas, embora, claro, as falhas mais graves, eu aparei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para aqueles que n√£o t√™m medo e s√£o muito pregui√ßosos para baixar o ambiente e compilar, tamb√©m existem bin√°rios, se desejar, voc√™ pode executar op√ß√µes JVM e NET relativamente seguras ou na sandbox. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As altera√ß√µes est√£o relacionadas √†s edi√ß√µes do RO, √† remo√ß√£o do Encoding.UTF8.GetBytes da parte de medi√ß√£o, e na vers√£o Pascal a forma√ß√£o de linhas no formul√°rio </font></font><code>for i := 1 to 20000 do s1 := s1 + 'a';</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pode levar at√© 4 minutos (fora da parte de medi√ß√£o). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabela de resultados (normalizada por Java como universal)</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L√≠ngua</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plataforma</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Compilador</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tempo s</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Norma</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par√¢metros</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C #</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET4.7 </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET4.7.3062</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.075</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">445%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-o +</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C #</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NET Core 3.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elements 10.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">11.327</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">385%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">release,&gt; dotnet cs.dll</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C #</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Win x64</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elements 10.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.312</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">215%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lan√ßamento</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jvm</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDK 1.8.0.242</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.941</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100%</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-g: none </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 $ java LevDist</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jvm</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elements 10.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.851</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">97%</font></font></td>
<td>release<br>
 $java -jar java8.jar</td>
</tr>
<tr>
<td>Oxygene</td>
<td>NET4.7</td>
<td>Elements 10.0</td>
<td>22,079</td>
<td>751%</td>
<td>release, range checking off</td>
</tr>
<tr>
<td>Oxygene</td>
<td>Win x64</td>
<td>Elements 10.0</td>
<td>9,421</td>
<td>320%</td>
<td>release, range checking off</td>
</tr>
<tr>
<td>Swift</td>
<td>JVM</td>
<td>Elements 10.0</td>
<td>23,733</td>
<td>807%</td>
<td>release<br>
 $java -jar swiftjvm.jar</td>
</tr>
<tr>
<td>Swift</td>
<td>Win x64</td>
<td>Elements 10.0</td>
<td>131,400</td>
<td>4468%</td>
<td>release</td>
</tr>
<tr>
<td>Go (Beta)</td>
<td>Win x64</td>
<td>Elements 10.0</td>
<td>89,243</td>
<td>3034%</td>
<td>release</td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seria interessante testar o WASM, mas eu perdi esse ponto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As medi√ß√µes foram realizadas em uma m√°quina virtual com o Win7, que reduz a velocidade da tarefa aproximadamente tr√™s vezes em rela√ß√£o ao meu hardware real, a m√©dia foi tirada de 3 medi√ß√µes 5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At√© agora, h√° apenas uma conclus√£o: a vida no Swift tamb√©m √© poss√≠vel fora do ecossistema da ma√ß√£. </font><font style="vertical-align: inherit;">Mas at√© agora n√£o √© r√°pido. </font><font style="vertical-align: inherit;">A hip√≥tese de que existe um problema no Win7, porque o SDK do Win10 √© usado para compila√ß√£o nativa, n√£o foi confirmada - no Server 2016 1607, os hor√°rios s√£o praticamente os mesmos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[1] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programa√ß√£o confi√°vel no contexto de idiomas - noob review. </font><font style="vertical-align: inherit;">Parte 1</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
[2] </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programa√ß√£o confi√°vel no contexto de idiomas. </font><font style="vertical-align: inherit;">Parte 2 - Desafiantes</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489692/index.html">Usando RabbitMQ com MonsterMQ Parte 3</a></li>
<li><a href="../pt489696/index.html">Como a bioac√∫stica ajuda a explorar o reino animal</a></li>
<li><a href="../pt489700/index.html">Onde ir: os pr√≥ximos eventos gratuitos para desenvolvedores em Moscou (25 de fevereiro a 11 de mar√ßo)</a></li>
<li><a href="../pt489704/index.html">Eventos digitais em Moscou, de 24 de fevereiro a 1 de mar√ßo</a></li>
<li><a href="../pt489706/index.html">Eventos digitais em S√£o Petersburgo, de 24 de fevereiro a 1 de mar√ßo</a></li>
<li><a href="../pt489710/index.html">Como restaurar uma l√¢mpada LED em 2 minutos com habilidades m√≠nimas em ferro de solda e conhecimento de eletr√¥nica</a></li>
<li><a href="../pt489712/index.html">Projetos simult√¢neos de Ajile (sob pris√£o) e Cachoeira</a></li>
<li><a href="../pt489722/index.html">Medidor de temperatura e umidade no controlador Arduino com exibi√ß√£o de valores no visor LCD</a></li>
<li><a href="../pt489724/index.html">Quais servi√ßos voc√™ sente falta?</a></li>
<li><a href="../pt489726/index.html">Os 5 erros mais idiotas de localiza√ß√£o de jogos de computador</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>