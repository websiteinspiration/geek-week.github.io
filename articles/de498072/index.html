<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè≠ üíå üóÇÔ∏è Rastereffekt f√ºr Atari 65XE üë∞üèΩ üàÇÔ∏è üï∂Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bereits im Januar 2020 begann ich mit den Vorbereitungen f√ºr die Teilnahme an der Forever 2020-Demoparty. Das Compo-Thema wurde von ROBO angek√ºndigt, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Rastereffekt f√ºr Atari 65XE</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498072/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3db/4d1/8da/3db4d18dac0fa9001e748f356c5e9b64.png" alt="Bild"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bereits im Januar 2020 begann ich mit den Vorbereitungen f√ºr die Teilnahme an der Forever 2020-Demoparty. </font><font style="vertical-align: inherit;">Das Compo-Thema wurde von ROBO angek√ºndigt, daher habe ich beschlossen, eine einfache Arbeit f√ºr den Atari 65XE zu schreiben. </font><font style="vertical-align: inherit;">Als das Intro fertig war, habe ich beschlossen, einen Bitmap-Effekt hinzuzuf√ºgen. </font><font style="vertical-align: inherit;">Leider wurde aufgrund der Absage des Forever ein Teil des Intro ver√∂ffentlicht.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Atari-Prozessor besteht aus MOS 6502 - 8-Bit-Registern und dem Fehlen von Ports f√ºr den Zugriff auf Hardware. Eine weitere Komponente des Computers ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ANTIC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - er implementiert Bilder - Farben, Videomodi, Symbole. Es gibt Hardwarezellen f√ºr den Zugriff auf ANTIC. Ihr Zweck wird in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mapping The beschrieben Atari</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ich werde nicht alle Adressen der Zellen und des Ziels auflisten, sondern die Idee des Effekts selbst beschreiben. Es sollte beachtet werden, dass die Adressen in Mapping der Einfachheit halber Mnemonik haben - sie sind so bequem zu merken.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b82/cec/121/b82cec121a886a094b32bb6bb1c55975.png" alt="Bild"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist ein Bildschirm? </font><font style="vertical-align: inherit;">Im Textmodus ist ein Rechteck mit Symbolen und einem Rahmen sichtbar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Einfachheit halber k√∂nnen Sie das Rechteck deaktivieren, indem Sie den Wert 0 bis 559 schreiben. Wie Sie sehen, ist Platz f√ºr einen Rastereffekt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt m√ºssen Sie die Zeichnung mit der Ausgabe auf dem Bildschirm synchronisieren. </font><font style="vertical-align: inherit;">Es gibt zwei Methoden:</font></font><br>
<br>
<pre><code class="plaintext hljs">RTCLOK      equ $0012<font></font>
      lda RTCLOK+2<font></font>
waits<font></font>
      cmp RTCLOK+2<font></font>
       beq waits<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist RTCLOCK die Echtzeituhr, die beim Einschalten des Computers startet. </font><font style="vertical-align: inherit;">Erh√∂ht zuerst 14 $, dann 13 $ und 12 $. </font><font style="vertical-align: inherit;">Die Idee der Synchronisation ist einfach: Vergleichen Sie den Wert von Zelle $ 14 mit dem aktuellen. </font><font style="vertical-align: inherit;">Wenn der vorherige Wert nicht √ºbereinstimmt, ist ein Interrupt aufgetreten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meiner Meinung nach passt die Methode jedoch nicht. Daher ist es bequemer, einen vertikalen VCOUNT-Z√§hler ($ D40B) f√ºr Linien zu verwenden, die auf dem Frame generiert wurden. </font><font style="vertical-align: inherit;">Warten auf den Start des Frames wird sein:</font></font><br>
<br>
<pre><code class="plaintext hljs">ws<font></font>
	lda $D40B ; VCOUNT<font></font>
	bne ws</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Idee selbst ist, Farbwerte in das COLBK-Register ($ D01A) zu schreiben - die Farbe des Rahmens. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der in das Register geschriebene Wert ist in zwei Teile unterteilt: Farbtyp und Helligkeit, berechnet als Typ * 16 + Helligkeit. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ausf√ºhrlich beschrieben </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie jedoch die Farbe f√ºr jede Zeile einstellen, ist eine Synchronisierung erforderlich. Wenn Sie einen beliebigen Wert in WSYNC (D40A) schreiben, wird der Prozessor angehalten und auf den Start der n√§chsten Zeile gewartet. Die gleiche Methode wird in Interrupts der Anzeigeliste verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Effekt selbst gliedert sich in das Warten auf den Frame, das Generieren von Farbwerten und das Schreiben in die beschriebenen Register. Der Einfachheit halber habe ich Seitenadressen von Null verwendet. Sie k√∂nnen den xasm-Assembler zum Kompilieren verwenden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c57/b4d/951/c57b4d95196aa2c58c43b14a38c26a0d.png" alt="Bild"></div><br>
<br>
<pre><code class="plaintext hljs">	org $4000<font></font>
	<font></font>
start<font></font>
<font></font>
wait_frame<font></font>
ws<font></font>
	lda $D40B ; VCOUNT<font></font>
	bne ws<font></font>
       LDY #0<font></font>
       STY 559<font></font>
zz<font></font>
	LDA $CD<font></font>
	CLC<font></font>
	ADC #5<font></font>
	STA $CD<font></font>
	BCC BR1<font></font>
	INC $CE<font></font>
BR1<font></font>
	ADC $CB<font></font>
	STA $CB<font></font>
	BCC BR2<font></font>
	INC $CC<font></font>
BR2<font></font>
	LDA $CC<font></font>
	STA $D40A ; WSYNC<font></font>
	STA $D01A<font></font>
	INY<font></font>
	BNE zz<font></font>
	BEQ wait_frame<font></font>
	run start</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Es stellte sich heraus, 54 Bytes. </font><font style="vertical-align: inherit;">54-6 (Programmkopf) = 48 Bytes. </font><font style="vertical-align: inherit;">Es ist Zeit zu experimentieren, zum Beispiel mit der Helligkeit von Gr√ºn zu spielen</font></font><br>
<br>
<pre><code class="plaintext hljs">	lda $CC<font></font>
;*  <font></font>
	and #$0f<font></font>
	ORA #$C0<font></font>
;*  <font></font>
	sta $D40A ; wsync<font></font>
	sta $D01A<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere M√∂glichkeiten zur Farbgenerierung √ºberlasse ich Interessierten und versuche mich selbst. </font><font style="vertical-align: inherit;">Erstellen, experimentieren und erstellen. </font><font style="vertical-align: inherit;">Das ist so aufregend!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de498060/index.html">PostgreSQL Industrial Tuning-Ansatz: Datenbankexperimente. Nikolay Samokhvalov</a></li>
<li><a href="../de498062/index.html">IBM w√∂chentliche Seminare - April 2020</a></li>
<li><a href="../de498064/index.html">Klassischer Marktemulator</a></li>
<li><a href="../de498066/index.html">Wie SFP, SFP + und XFP unser Leben leichter machen</a></li>
<li><a href="../de498070/index.html">Hive - schnelle lokale Basis f√ºr Flutter, Dart</a></li>
<li><a href="../de498074/index.html">Setzen Sie ein Lesezeichen f√ºr diesen Artikel, wenn Sie Python noch nicht kennen (insbesondere, wenn Sie Python selbst lernen).</a></li>
<li><a href="../de498076/index.html">Unsere Cassandra-Migrationserfahrung zwischen Kubernetes-Clustern ohne Datenverlust</a></li>
<li><a href="../de498080/index.html">Migrationserfahrung zu SAP HANA 2.0 in einem gro√üen automatisierten Testprojekt f√ºr den Einzelhandel f√ºr Sberbank und andere F√§lle</a></li>
<li><a href="../de498084/index.html">Verk√§ufe sind tot. Was macht man als n√§chstes?</a></li>
<li><a href="../de498086/index.html">Lassen Sie hundert wiederverwendbare Raketen bl√ºhen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>