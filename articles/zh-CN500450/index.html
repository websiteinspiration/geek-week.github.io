<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌩️ 🤟🏽 🦈 用儿童合成器制作MIDI键盘 🧀 👩🏼 🤴🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="有一天，回到家中，在入口处的垃圾槽附近，我看到了一个旧的儿童玩具合成器。过去了，因为从垃圾箱中拿走垃圾是“有罪的”，但我内心想把它拖到那儿。我已经深夜了，大约2点钟，我决定看看她是否还站在那儿。是的，她还在那里！从外观上看，她完全健康整洁，所以没有吱吱作响的感觉，以免带走她。所以是的，我带了她。
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>用儿童合成器制作MIDI键盘</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500450/"><img src="https://habrastorage.org/webt/-g/1_/nu/-g1_nu7zf-kudqjkv5ygvqjysao.jpeg" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有一天，回到家中，在入口处的垃圾槽附近，我看到了一个旧的儿童玩具合成器。过去了，因为从垃圾箱中拿走垃圾是“有罪的”，但我内心想把它拖到那儿。我已经深夜了，大约2点钟，我决定看看她是否还站在那儿。是的，她还在那里！从外观上看，她完全健康整洁，所以没有吱吱作响的感觉，以免带走她。所以是的，我带了她。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我一直想为自己准备一架钢琴，我不是专业音乐家，而是沉迷于-为什么不呢？买东西“为了宠爱”我被“蟾蜍勒死了”，在这里-一个免费的玩具。当我从垃圾箱中拿走它时，我什至没有想到要把它当作儿童玩具使用，我立即想到：“哦……尝试制作MIDI键盘的好基础。”</font></font><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于我已经具有与专业键盘和MIDI键盘进行通信的经验，因此我立即了解了我的想法的所有缺点。也就是说，玩具实际上将仍然是玩具。在此基础上，将不可能实现击键的功能。 “轻巧”的塑料按键本身也不完整，无法进行有价值的操作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
首先，将玩具合成器“拧到”螺丝上，将所有塑料用肥皂清洗干净。主板和按键的触点组也要清洗。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
拆卸后，人们对为什么将其丢弃有了一个了解。玩具（我不知道为什么：不时，由于中国部件的质量或操作困难），其次：内置扬声器散开，其次：它们的连接器损坏了，插在了耳机插孔中，所以几乎没有办法拉它。可能是在玩具停止使用内置扬声器播放后，他们将其与耳机配合使用，然后在断开连接器后，将其扔掉了。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在内部，玩具合成器由通过电缆回路互连的三个板组成。负责产生声音和其他事物的中央委员会立即从其他两个委员会中解散出来，并搁置了下来。在另外两个板上，有玩具前面板上的按钮和钢琴键本身的触点。我将PBS连接器焊接到了它们，特别是因为板上的孔距仅为2.54 mm。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bp/mh/qc/bpmhqcxmblsmtoqy7zu7wfbqwm4.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/nj/dr/us/njdrusxpjqa57hm8ezczbzidcu0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在那之后，我花了几个小时来绘制带有按键的这些板的示意图。事实证明，该方案是一个简单的矩阵键盘。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yt/uh/m6/ytuhm6oamte_d4mo60zuvzucqfm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在黄色圆圈中的图片中，数字是“水平”触点的编号，按键上的数字是键盘板上PBS-13连接器中“垂直”触点的编号。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/m6/qc/lk/m6qclkogjo6vprfkk4ywi2qtqzq.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/n0/lz/tf/n0lztfhulhpdeytl2ltfl0zxqna.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/bw/w2/pa/bww2pa-cgsmxubbn2ixa2sr373w.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在那之后，所有这些都扔进了一个角落，并撒了一年灰尘。然后，自我隔离的时期开始了……开始变得无聊，我想用自己的双手去做些事情，尤其是因为无处可去，而且这是不可能的…… </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最后，我决定尝试至少完成一点这个玩具。 Arduino板被用作控制器的基础，并且由于键链的数量大于Arduino UNO引脚的数量，我决定使用移位寄存器74HC595和74HC165。结果，我们得到了这样的方案。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_j/y9/m9/_jy9m906okczf38_zjmeyvy9qbc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该电路最初是在无焊面包板上组装的。为了测试电路的可操作性（在任何地方的连接中没有错误），开发了一个测试程序，该程序显示一切似乎正常。测试程序的算法很简单：打开移位输出芯片的输出之一，并在按下键的同时从移位输入芯片中读取一个周期的值。乍一看，没有什么预示着麻烦……而且一切似乎都很好…… </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bx/uh/an/bxuhanfuxtixrojargnmaeqv5oe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来的几天，我慢慢地进行“作业”，即将电路板的所有组件小心地焊接到面包板上。我从自己家的地方收集了所有东西。他将Arduino NANO作为控制板。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2o/h9/f-/2oh9f-a8fplwk8bqnt5dultsxee.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
板子之间的这种“三明治”是由于以下事实：玩具的两个板子（一个带有按钮，第二个带有键盘）位于不同的位置，在焊接之前，我曾想过：“是否可以通过某种方式将其连接在一起我在家中看起来差不多的组件是什么？”因此，事实证明，这种通过连接器互连的两块板的设计。从我的角度来看，对于家庭选项，当我们处于自我隔离状态时，结果非常好。我所要做的就是切开面包板，并稍微修改玩具主体，以便您可以将USB电缆连接到Arduino板上。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bb/xz/md/bbxzmdv5zabj-jq6hlyg7jhjpxy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当我完成测试程序时，就意识到设备不能完全按照我的要求工作。该算法很简单：考虑到74HC165芯片输入的状态，打开74HC595芯片的每个输出，并将结果写入单独的变量中。总共74HC595的5个输出连接到了键盘，因此在这次轮询之后，最终我得到了40位（5 * 8）数据。一串40位的字符串输出到控制台，并按下了按键以查看设备如何处理多个按键的同时击键。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d0/ra/o7/d0rao77gsxvrvtbeumy1ufguxsw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是问题浮出水面的地方：如果您按下一个键，一切都很好，但是当您尝试同时按下两个以上的键时，出现了无法预测将要读取的内容的情况。使用一种组合，结果可能是正确的，而使用另一种组合，结果可能是完全不可预测的。问题在于没有考虑该方案的功能。同时按下多个键时，不仅关闭了键盘扫描的多个垂直方向（这是允许的），而且可以通过键关闭多条水平线（绝对不允许）。您可以</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">阅读有关此问题及其解决方法的更多信息</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">。</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
我选择了该问题的“基本解决方案”，即：我决定键盘上的每个键都会有一个二极管。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在我的脑海中，我已经开始思考如何切割板上的走线并将SMD外壳中的二极管放在间隙中。我爬进储藏室，发现在SMD外壳中根本没有那么多二极管（别忘了我们所有人都坐在自我隔离的环境中，不太可能去商店购买无线电组件-因为这些绝对不是必需品）。有点不高兴，我决定更仔细地看一下电路板：有可能在某些轨道上放置输出二极管（我也有一些）。然后我看到每个键都有一个跳线（电路板是单面的），并且制作了电路，因此您可以放一个二极管代替这个跳线。我立刻想到-您甚至不需要削减任何东西，您只需要放置输出二极管，而不是到处都安装跳线即可。我也没有这么多输出二极管。我脑海中闪过一个念头：“也许是LED吗？”电路工作在+ 5V电压下，如果您将电压降最小的红色LED（在LED之间）放置，那么最后应该有一个逻辑电平来进行正确的确定：是否按下该键。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ff/1c/37/ff1c37wrrsclbwl0d7edw1x-ork.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
考虑到这一点，我再次爬进股票，并尽可能地抓住红色的LED。键盘上的按键数正好一样！我认为，这是一个信号，并焊接了多个LED而不是跳线进行测试。测试结果表明该解决方案正在工作。之后，我焊接了其余的LED而不是跳线。测试程序显示您可以同时按下至少所有按键，并且所有按键都可以正确读取。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g8/i0/-b/g8i0-b1rwc2ykc3oq1hcecu-ohs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我决定不将二极管放在玩具上的其他按钮上，因为不太可能一次将它们压成几块。而且，在程序中我还没有点击这些按钮的处理。好吧，我还没有决定如何使用它们。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在该弄清楚如何使该设备作为MIDI键盘出现在计算机上以及需要以哪种格式发送数据了。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在互联网上找到的信息告诉我，可以很容易地从Arduino中制作MIDI键盘，只需将固件倒入其中，这将使计算机将其视为不是MIDI键盘，而是COM端口。最初，我</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受此决定的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指导，而不是特别关注如何执行它。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，当我走近他并仔细阅读它时，我意识到我的Arduino NANO开发板不适合该解决方案，因为它具有基于CH340芯片的COM端口。</font><font style="vertical-align: inherit;">要使用上面的链接中的固件，只有那些USB端口已经在控制器上（例如：AtMega32u4）或不在FT232RL类型转换芯片等上通过COM端口进行通信，而是在AtMega微控制器上进行通信的卡才适用。</font><font style="vertical-align: inherit;">因此，开发板上的固件必须将MIDI格式的数据发送到COM端口，并且在计算机上，您将必须安装和配置将拦截该数据并将其传输到虚拟MIDI端口的软件。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
读取按键和生成MIDI命令的算法如下：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jj/-2/d6/jj-2d67yncypthxguaeyvotcvue.jpeg"><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arduino NANO控制器的程序现在看起来像这样。</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">//    +5V<font></font>
//   ST_CP  74HC595<font></font>
#define latchPin      11<font></font>
//   SH_CP  74HC595<font></font>
#define clockPin      13<font></font>
//   DS  74HC595<font></font>
#define dataPin       12<font></font>
<font></font>
//     +5V<font></font>
#define latchPin_IN   9<font></font>
#define clockPin_IN   10<font></font>
#define dataPin_IN    8<font></font>
<font></font>
// ,       1-16    <font></font>
#define BUT_OUT0      7<font></font>
#define BUT_OUT1      6<font></font>
#define BUT_OUT2      5<font></font>
#define BUT_OUT3      4<font></font>
<font></font>
byte but_out[4] = {BUT_OUT0, BUT_OUT1, BUT_OUT2, BUT_OUT3};<font></font>
//       <font></font>
byte kbd_in[5] = {0, 0, 0, 0, 0};<font></font>
byte kbd_in_new[5] = {0, 0, 0, 0, 0};<font></font>
<font></font>
//       <font></font>
byte btn_in[4] = {0, 0, 0, 0};<font></font>
byte btn_in_new[4] = {0, 0, 0, 0};<font></font>
<font></font>
//  3  -   (1 - , 0 - )<font></font>
byte kbd_out = 0b11100000;<font></font>
<font></font>
//  <font></font>
void init_electronics() {<font></font>
  //  ,   +5V<font></font>
  //  OUTPUT<font></font>
  pinMode(latchPin, OUTPUT);<font></font>
  pinMode(clockPin, OUTPUT);<font></font>
  pinMode(dataPin, OUTPUT);<font></font>
<font></font>
  //  ,   +5V<font></font>
  pinMode(latchPin_IN, OUTPUT);<font></font>
  pinMode(clockPin_IN, OUTPUT);<font></font>
  pinMode(dataPin_IN, INPUT);<font></font>
<font></font>
  //          <font></font>
  for (byte i = 0; i &lt; 4; i++) pinMode(but_out[i], OUTPUT);<font></font>
}<font></font>
<font></font>
//      74HC595<font></font>
void write_5V(byte a) {<font></font>
    digitalWrite(latchPin, LOW);<font></font>
    //    dataPin<font></font>
    shiftOut(dataPin, clockPin, MSBFIRST, a); <font></font>
     //"" ,      <font></font>
    digitalWrite(latchPin, HIGH); <font></font>
}<font></font>
<font></font>
void read_5V(byte *btn, byte *kbd) {<font></font>
  digitalWrite(clockPin_IN, HIGH);<font></font>
  digitalWrite(latchPin_IN, LOW);<font></font>
  digitalWrite(latchPin_IN, HIGH);<font></font>
  <font></font>
  //    -    <font></font>
  *btn = shiftIn(dataPin_IN, clockPin_IN, LSBFIRST);<font></font>
  <font></font>
  //    -    <font></font>
  *kbd = shiftIn(dataPin_IN, clockPin_IN, LSBFIRST);<font></font>
}<font></font>
<font></font>
void setup() {<font></font>
  init_electronics();<font></font>
  write_5V(kbd_out);<font></font>
  Serial.begin(115200);<font></font>
}<font></font>
<font></font>
//       ,   <font></font>
void read_kbd_and_btn_state(byte *btn, byte *kbd) {<font></font>
 byte tmp;<font></font>
  for (byte i = 0; i &lt; 5; i++) {<font></font>
    write_5V(kbd_out | (1 &lt;&lt; i));<font></font>
    read_5V(&amp;tmp, &amp;kbd[i]);<font></font>
  }<font></font>
}<font></font>
<font></font>
void noteOn(int cmd, int pitch, int velocity) {<font></font>
  Serial.write(cmd);<font></font>
  Serial.write(pitch);<font></font>
  Serial.write(velocity);<font></font>
}<font></font>
<font></font>
//     num  ,   <font></font>
// 0 -  0,  0<font></font>
// 1 -  0,  1<font></font>
// 2 -  1,  1<font></font>
// 3 -  1,  0<font></font>
byte compare_bit(byte old_state, byte new_state, byte num) {<font></font>
  byte tmp_old, tmp_new;<font></font>
  tmp_old = (old_state &gt;&gt; num) &amp; 1;<font></font>
  tmp_new = (new_state &gt;&gt; num) &amp; 1;<font></font>
  if ((tmp_old == 0) &amp;&amp; (tmp_new == 0)) return 0;<font></font>
  if ((tmp_old == 0) &amp;&amp; (tmp_new == 1)) return 1;<font></font>
  if ((tmp_old == 1) &amp;&amp; (tmp_new == 1)) return 2; <font></font>
  if ((tmp_old == 1) &amp;&amp; (tmp_new == 0)) return 3;  <font></font>
}<font></font>
<font></font>
void loop() {<font></font>
  read_kbd_and_btn_state(btn_in_new, kbd_in_new);<font></font>
  for (byte i = 0; i &lt; 5; i++) {<font></font>
    for (byte j = 0; j &lt; 8; j++) {<font></font>
      switch (compare_bit(kbd_in[i], kbd_in_new[i], 7 - j)) {<font></font>
        //  <font></font>
        case 1: noteOn(0x90, 0x1D + (8 * i + j), 0x7F);<font></font>
                break;<font></font>
        //  <font></font>
        case 2: //noteOn(0x00, 0x1D + (8 * i + j), 0x7F);<font></font>
                break;<font></font>
        //  <font></font>
        case 3: noteOn(0x90, 0x1D + (8 * i + j), 0x00);<font></font>
                break;<font></font>
      }<font></font>
    }<font></font>
    kbd_in[i] = kbd_in_new[i];<font></font>
  }<font></font>
} <font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
详细绘制如何使用MIDI数据是没有意义的，因为可以在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">此处</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">读取</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">。</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
我将更详细地介绍计算机软件和遇到的问题。仅由于缺少该软件的常规文档，出现了问题。因此，为了使计算机能够从诸如我的设备之类的设备成功接收MIDI数据，您将需要两个程序：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loopMIDI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">和</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serial-Midi Converter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。对于串行MIDI转换器，如果计算机上尚未安装Java，则还需要安装Java。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们启动loopMIDI程序并创建两个虚拟端口。我称它们为Arduino IN和Arduino OUT。该程序将是虚拟MIDI设备。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/e8/do/hee8doojjloz3jiocd58qpugocg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，运行Serial-MIDI Converter，在启动时，我们将进行设置过程。不幸的是，您每次启动时都必须执行此操作，但这并不是很可怕，它实际上是通过键盘上的四个击键来完成的。 COM端口号可能不同；连接Arduino NANO板时，它会出现在计算机上。端口速度在Arduino NANO固件中设置。红色箭头表示我的设置，所有设置均适用于我。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zu/qj/l0/zuqjl0ruk96yomobfupdvbstgps.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
实际上，设置过程已经完成，您已经可以使用某些软件，可以通过接受设备的击键来播放声音。在软件设置中，必须选择“ Arduino_OUT”作为输入。在下图中，是配置Kontakt Player的示例。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qs/eu/uu/qseuuugs_lbaywuoplve0qgc2wg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最终，它的工作方式如下：</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/cOnQOAYKlg0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
下一步是什么？</font><font style="vertical-align: inherit;">然后一切都按我的预期进行-玩具仍然是玩具，它具有我一开始就提到的所有缺点。</font><font style="vertical-align: inherit;">大概，孩子会嗡嗡作响，但是对于成年人来说，只要用普通的键盘...便宜地买任何用过的MIDI键盘会更容易，并且比这个玩具要好得多。</font><font style="vertical-align: inherit;">我决定将这个玩具保持原样，但对其进行一些修改：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">离开原来的情况。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放置工作扬声器并为它们制作一个放大器。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使它可以在“儿童玩具”模式下工作而无需连接计算机，也就是说，它可以播放声音。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可以连接FootSwitch（下面的钢琴上的同一踏板），以便您可以像普通乐器一样松开琴键后保持声音。</font></font></li>
<li>    ,       .</li>
<li>    ,      -,      .</li>
</ol><br>
<img src="https://habrastorage.org/webt/qa/79/bk/qa79bkjnapd9sf84teo-y_nxn0g.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
虽然我们大家都在“家里”，但我无法完成大多数要点，因为我只是没有家里所需的全部组件。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了在Internet上实现第3段，找到了一个名为</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SamplerBox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">的解决方案</font><font style="vertical-align: inherit;">。该项目的实质是您可以将任何MIDI键盘连接到Raspberry Pi板上，后者可以处理来自键盘的MIDI命令并播放声音或切换乐器等。仍然只能将Raspberry Pi板放入玩具主体中，而无需更换SD卡（无需拆卸外壳），配置玩具主体上的按钮以使其能够切换工具，这足以使此项目保持这种形式。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是所有这些都会在自我隔离期结束后发生。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我希望有人会觉得我的经验有用。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN500436/index.html">基于随机神经元和逻辑函数的二进制神经网络的来临</a></li>
<li><a href="../zh-CN500438/index.html">SFTP和FTPS</a></li>
<li><a href="../zh-CN500444/index.html">区分初学者和经验丰富的9种Python编程技能</a></li>
<li><a href="../zh-CN500446/index.html">关于R2DBC和PostgreSQL的几句话</a></li>
<li><a href="../zh-CN500448/index.html">Prometheus：通过Blackbox导出程序进行HTTP监视</a></li>
<li><a href="../zh-CN500452/index.html">深度学习的高度推理</a></li>
<li><a href="../zh-CN500454/index.html">“什么码头？” 或者我们使用Xamarin（Android）上的移动应用程序通过蓝牙控制控制器</a></li>
<li><a href="../zh-CN500456/index.html">BpfTrace-最后，在Linux上完全替代Dtrace</a></li>
<li><a href="../zh-CN500458/index.html">在线语音技术功能：入门包</a></li>
<li><a href="../zh-CN500462/index.html">检测场景变化并将h264视频剪辑保存到Raspberry Pi中而不进行解码</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>