<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤪 🖼️ 💃🏽 Serveur Web domestique ou votre propre hébergeur ㊙️ 🐁 👍🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Afin de rendre votre serveur web à la maison, nous avons besoin d'un ordinateur et d'un accès constant à Internet avec une adresse IP externe, comme n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Serveur Web domestique ou votre propre hébergeur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495350/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Afin de rendre votre serveur web à la maison, nous avons besoin d'un ordinateur et d'un accès constant à Internet avec une adresse IP externe, comme nous le vérifierons plus tard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ferai le serveur de l'ancien netbook Samsung N102SP avec un clavier cassé, pour de petites charges c'est suffisant, d'ailleurs, il est petit et ne fait pas de bruit du tout. </font><font style="vertical-align: inherit;">Internet à la maison est entendu par un routeur wifi tp-link TL-WR840N, et à travers lui je vais connecter mon serveur.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je mettrai Centos 7 swing </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">au</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> minimum (ISO minimal), l'image est écrite sur le stick avec un programme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rufus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Maintenant, vous devez charger le netbook à partir du lecteur flash USB, et ici le premier problème se pose, puisque le clavier ne fonctionne pas, je ne peux pas entrer dans le BIOS, il ne voit pas le clavier USB externe, la réinitialisation du BIOS résout le problème (dans le netbook Samsung N102SP, le BIOS est réinitialisé en fermant les contacts de réinitialisation rtc sous le couvercle de la mémoire , vous devez le fermer pendant 30 secondes), sélectionnez le démarrage prioritaire à partir du lecteur flash dans le BIOS et démarrez l'installation, même avec la version minimale Centos 7 est installé en mode graphique. Il ne devrait pas y avoir de difficultés avec l'installation, nous supprimons toutes les anciennes partitions sur le disque et donnons tout à Centos, définissons le mot de passe root et prescrivons les paramètres réseau, dans mon cas, nous nous connectons au réseau domestique wifi (cela peut être fait plus tard avec la commande nmtui), quelques minutes et Centos 7 est installé.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons en tant que root. Nous arrêtons le pare-feu avec la commande "systemctl stop firewalld", désactivons le démarrage du pare-feu avec la commande "systemctl disable firewalld". Bien que nous n'en ayons pas besoin, nous configurerons le pare-feu plus tard. Il est également nécessaire de désactiver le mode veille lors de la fermeture de la couverture du netbook, pour cela, dans le fichier /etc/systemd/logind.conf, remplacez la ligne "# HandleLidSwitch = suspend" par la ligne "HandleLidSwitch = ignore", puis redémarrez avec la commande "systemctl restart systemd-logind" . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, vous pouvez mettre mon netbook dans un coin éloigné et oublier son existence physique, toutes les autres actions avec votre serveur Web domestique peuvent être effectuées via ssh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, vous devez configurer le routeur wifi, dans le cas de tplink, ouvrez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tplinkwifi.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le nom d'utilisateur et le mot de passe par défaut sont admin, dans la section «État», nous examinons l'état WAN, l'adresse IP doit être statique et ne doit pas commencer par 192.168.x.x, 172.x.x.x, 10.x.x.x, sinon Dans le cas, contactez le fournisseur et demandez une IP externe, très probablement cela peut être fait via votre compte personnel, mon fournisseur m'a fourni une IP pour 90 roubles par mois. Tous les nouveaux paramètres doivent être enregistrés dans la section "Réseau / WAN". Maintenant, nous devons réserver l'adresse IP interne sur le routeur pour notre serveur, aller dans la section «Liste des clients DHCP / DHCP» et y trouver notre serveur (pour trouver l'IP sur le serveur, tapez la commande ifconfig), puis copiez l'adresse MAC et allez dans «DHCP / Réservation d'adresses »et y ajouter l'adresse MAC de notre serveur et son IP. Voilà, maintenant le routeur allouera toujours cette IP pour notre serveur. Maintenant, vous devez transférer les ports,de sorte que lors de l'accès à partir d'Internet, le routeur envoie des demandes au serveur Web domestique, accédez à la section «Transfert / Serveur virtuel» et ajoutez 80 ports. Nous ajoutons également le port 22 pour que vous puissiez vous connecter au serveur via ssh. Lors de l'ajout du port 80, j'ai reçu une erreur "Le port de contrôle à distance de l'interface Web est en conflit avec le port du serveur virtuel." Pour éviter cela, changez d'abord le port de télécommande en 8080, pour cela, ouvrez l'onglet «Protection / Télécommande». La gestion des routeurs est désormais disponible surLors de l'ajout du port 80, j'ai reçu une erreur "Le port de contrôle à distance de l'interface Web est en conflit avec le port du serveur virtuel." Pour éviter cela, changez d'abord le port de télécommande en 8080, pour cela, ouvrez l'onglet «Protection / Télécommande». La gestion des routeurs est désormais disponible surLors de l'ajout du port 80, j'ai reçu une erreur "Le port de contrôle à distance de l'interface Web est en conflit avec le port du serveur virtuel." Pour éviter cela, changez d'abord le port de télécommande en 8080, pour cela, ouvrez l'onglet «Protection / Télécommande». La gestion des routeurs est désormais disponible sur</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tplinkwifi.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 8080 / </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le contrôle à distance du serveur Web, il télécharge les </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">utilitaires</font></a><font style="vertical-align: inherit;"> Putty depuis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.chiark.greenend.org.uk/~sgtatham/putty/latest.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, pour le fonctionnement complet du serveur Web, nous allons installer les composants nécessaires, tout d'abord, connectez le référentiel Epel, il y a presque tout ce qui est nécessaire pour une installation automatique, entrez la commande "yum install epel-release". Ensuite, pour surveiller l'état du serveur, installez htop avec la commande "yum install htop", pour un travail pratique avec les fichiers installez le midnight commander, utilisez la commande "yum install mc", maintenant installez Apache, pour cela nous entrons "yum install httpd", démarrez-le et mettez-le au démarrage avec les commandes " systemctl start httpd "et" systemctl enable httpd ", installez maintenant MariaDB avec la commande" yum install mariadb-server ", exécutez et mettez au démarrage du système" systemctl start mariadb "et" systemctl enable mariadb ", effectuez les réglages initiaux à l'aide de la commande" mysql_secure_installation " , définissez le mot de passe root,supprimez l'utilisateur anonyme et la base de données de test, puis vous devez installer PHP avec les modules nécessaires "yum install php php-mysql php-common php-mbstring php-mcrypt php-devel php-xml php-gd", rechargez httpd avec la commande "systemctl restart httpd". Maintenant, lorsque vous entrez l'adresse IP dans le navigateur, nous voyons la page d'accueil Apache. Le répertoire racine se trouve dans "/ var / www / html /". Maintenant, notre serveur Web domestique est accessible de partout dans le monde.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr495338/index.html">Meilleures pratiques et directives pour le lancement de conteneurs et de Kubernetes dans des environnements de production</a></li>
<li><a href="../fr495340/index.html">Comment changer le travail d'un administrateur dans un restaurant pour un bon travail en informatique</a></li>
<li><a href="../fr495342/index.html">Règlement des cartes bancaires dans le commerce - création d'un jeu de données ouvert et d'une infographie dans Google Data Studio</a></li>
<li><a href="../fr495344/index.html">Unifier: comment Lamoda rend ses services Go cohérents</a></li>
<li><a href="../fr495346/index.html">De l'erreur à l'alerte avec des actions</a></li>
<li><a href="../fr495354/index.html">Comment publier des produits en continu en 20 langues et ne pas mourir?</a></li>
<li><a href="../fr495356/index.html">Implémentation de l'algorithme de consensus RAFT pour le stockage KV distribué en Java</a></li>
<li><a href="../fr495360/index.html">Comment nous avons automatisé le portage des produits de C # vers C ++</a></li>
<li><a href="../fr495362/index.html">Auto-isolement et programme: comment ne pas devenir fou à la maison et passer du temps utilement</a></li>
<li><a href="../fr495364/index.html">Guide de style API, ou ne faites pas réfléchir les utilisateurs</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>