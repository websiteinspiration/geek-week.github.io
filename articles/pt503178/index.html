<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ì üë©üèΩ‚Äçüöí ü§∫ Apple Mac e dispositivos sofisticados. LTO, SAS, Fibre Channel, eSATA ü§∂üèº üí™üèº üê∑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O t√≥pico deste artigo √© conectar dispositivos externos ao Mac por meio de interfaces SAS, Fibre Channel (FC) e eSATA. Fa√ßa imediatamente uma reserva d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Apple Mac e dispositivos sofisticados. LTO, SAS, Fibre Channel, eSATA</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503178/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O t√≥pico deste artigo √© conectar dispositivos externos ao Mac por meio de interfaces SAS, Fibre Channel (FC) e eSATA. Fa√ßa imediatamente uma reserva de que, para resolver o problema de acesso a esses dispositivos, existe uma maneira saud√°vel: montar um PC barato, instalar uma placa controladora HBA SAS ou FC (por exemplo, o adaptador LSI mais simples), conectar seus dispositivos a esse controlador, instalar qualquer Linux no PC e trabalhar do Mac atrav√©s da rede. Mas √© banal e desinteressante. Vamos seguir o caminho do hardcore e conectar nossos dispositivos </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diretamente</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao Mac.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que precisamos para isso: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- uma quantia decente de dinheiro para comprar novos equipamentos ou boa sorte em leil√µes no eBay (onde, com um pouco de esfor√ßo, voc√™ pode comprar o equipamento necess√°rio das gera√ß√µes anteriores 10 vezes mais barato que a lista de pre√ßos); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Este artigo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para trabalhar com fita magn√©tica (atualmente representada quase universalmente pelo formato LTO), voc√™ deve ter uma unidade de fita (unidade de fita) ou uma biblioteca de fitas do padr√£o LTO. Este √© um dispositivo bastante caro para a compra inicial (de centenas de milhares de rublos), mas vale o dinheiro sensato ao comprar um usado. Como as gera√ß√µes LTO mudam aproximadamente a cada dois anos e a compatibilidade √© limitada a duas gera√ß√µes, o mercado secund√°rio est√° suficientemente saturado com dispositivos oper√°veis ‚Äã‚Äãde quatro anos ou mais, ou seja, o ano anterior e al√©m. Se voc√™ compra um novo dispositivo para fins comerciais, entende por que precisa. Se voc√™ deseja comprar para casa e fam√≠lia, pode considerar esta op√ß√£o como uma maneira de arquivar informa√ß√µes (j√° que a pr√≥pria m√≠dia √© muito barata por 1 gigabyte).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A partir da gera√ß√£o LTO-5 (e na parte LTO-4), os dispositivos de fita magn√©tica s√£o conectados ao computador via interface SAS ou FC (geralmente existem duas vers√µes de cada dispositivo) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por outro lado, a Apple gentilmente nos fornece em nosso Mac Interface USB-C (funcionando via USB, Thunderbolt 3 ou protocolos DisplayPort), √†s vezes uma interface Ethernet, bem como adaptadores propriet√°rios Thunderbolt 3 - Thunderbolt 2 e Thunderbolt - FireWire 800. Uma </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
situa√ß√£o desesperadora? Na verdade n√£o. Felizmente, o barramento Thunderbolt pode operar no modo PCIe e fornecer a capacidade de conectar placas PCIe da mesma maneira como se fossem instaladas diretamente dentro da caixa do computador. Por esse motivo, s√£o poss√≠veis extens√µes para a configura√ß√£o de hardware do Mac, haveria um adaptador e drivers apropriados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A maneira conceitualmente mais simples de resolver o problema √© usar uma caixa externa para adaptadores PCIe com interface Thunderbolt (sistema de expans√£o de placas PCIe), na qual voc√™ pode instalar um controlador (adaptador de barramento de host, HBA) SAS ou FC. Por exemplo, essas caixas s√£o produzidas pela </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonnet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e v√°rias outras. H√° uma nuance: nem todo controlador √© adequado para n√≥s, mas apenas temos um driver para o macOS. Existem apenas algumas dessas placas e as mais baratas e populares (por exemplo, o mesmo LSI) n√£o est√£o inclu√≠das em seu n√∫mero. Felizmente, a Sonnet teve o problema de compilar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tabela de </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">compatibilidade de</font></a><font style="vertical-align: inherit;"> placas PCIe para v√°rios sistemas operacionais por meio da interface Thunderbolt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outra solu√ß√£o √© comprar um conversor pronto para o conversor de interface Thunderbolt-SAS ou Thunderbolt-FC, que, de fato, √© um conjunto pronto da caixa e do controlador. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A ATTO √©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mais conhecida nesta √°rea </font><font style="vertical-align: inherit;">, mas tamb√©m s√£o encontrados produtos de outras empresas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observe que nem todos os controladores SAS e FC s√£o certificados para cumprir o padr√£o LTO, pois isso por si s√≥ custa dinheiro. Alguns fabricantes escrevem diretamente que a opera√ß√£o de seus controladores com unidades de fita n√£o √© fornecida. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para completar, observamos que a empresa mLogic produz um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dispositivo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que √© uma unidade IBM LTO-8 em um caso externo, no qual o conversor SAS para Thunderbolt 3. √© imediatamente integrado, o que √© ainda mais ex√≥tico do que o exposto acima, especialmente pelos padr√µes de nossa √°rea. Duvido que esse dispositivo possa ser legalmente importado para a R√∫ssia (as unidades LTO cont√™m ferramentas criptogr√°ficas, e fabricantes como IBM e HP, por esse motivo, recebem permiss√£o de importa√ß√£o FSB para cada modelo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, consideraremos, por exemplo, um conjunto espec√≠fico de equipamentos, cujo propriet√°rio se tornou o autor como resultado de v√°rias aquisi√ß√µes bem-sucedidas, mas o princ√≠pio geral deve ser mantido para todas as op√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, temos o seguinte equipamento para trabalhar com fita:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- computador Apple Mac mini 2018 com macOS 10.15 Catalina, que possui portas USB-C com suporte para Thunderbolt 3; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Adaptador Apple Thunderbolt 3 / Thunderbolt 2; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- cabo Apple Thunderbolt 2; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- conversor de interface ATTO ThunderLink SH 1068 (2 * Thunderbolt / 2 * SAS-2); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- cabo SAS SFF-8088 - SFF-8088; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- unidade de fita LTO-5 IBM TS2350; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- cartuchos LTO-5, cartucho de limpeza. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, como eles dizem, com todo esse lixo, tentaremos decolar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baixe a vers√£o mais recente do driver ThunderLink SH 1068 no site da ATTO (aparentemente, para nossa conveni√™ncia, ela √© combinada com o driver SH 2068 e est√° localizada na se√ß√£o 2068, que √© gravada apenas dentro do pr√≥prio arquivo de driver) e no utilit√°rio de configura√ß√£o ATTO.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7b8/7a2/a61/7b87a2a613e003ad3929a7fe456145f4.gif" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O driver, √© claro, precisa ser instalado. </font><font style="vertical-align: inherit;">Antes de tais a√ß√µes, o autor recomenda sempre fazer uma captura instant√¢nea do sistema de arquivos APFS do disco de inicializa√ß√£o com o comando</font></font><br>
<br>
<pre><code class="bash hljs">tmutil localsnapshot</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ou uma c√≥pia de backup do disco de inicializa√ß√£o, se houver HFS +. </font><font style="vertical-align: inherit;">Voc√™ nunca sabe o que. </font><font style="vertical-align: inherit;">Ent√£o ser√° f√°cil reverter a partir de um instant√¢neo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, inexperiente, mas mostrando a devida dilig√™ncia, a mente sem d√∫vida estar√° inclinada a ler atentamente as instru√ß√µes da ATTO para instalar o driver e execut√°-lo. </font><font style="vertical-align: inherit;">O resultado √© tadam! </font><font style="vertical-align: inherit;">- deixamos o sistema operacional travado no est√°gio de inicializa√ß√£o. </font><font style="vertical-align: inherit;">Aqui, podemos usar um instant√¢neo a partir do qual voc√™ pode se recuperar chamando Time Machine da parti√ß√£o de recupera√ß√£o ou apagar manualmente um kext do cat√°logo de extens√µes do kernel da mesma parti√ß√£o de recupera√ß√£o (o autor geralmente n√£o recomenda fazer isso).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por que isso acontece? </font><font style="vertical-align: inherit;">Porque a Apple cuidou de n√≥s. </font><font style="vertical-align: inherit;">Nas vers√µes recentes do macOS, n√£o √© f√°cil levar e incorporar c√≥digos estranhos ao processo de inicializa√ß√£o. </font><font style="vertical-align: inherit;">Bons programadores da Apple bloquearam esse comportamento destrutivo. </font><font style="vertical-align: inherit;">Mais precisamente, eles o bloquearam pela metade quando a espera do driver √© introduzida, mas o pr√≥prio driver n√£o √©, ent√£o tudo simplesmente trava. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que uma mente sofisticada deve fazer antes de instalar um driver? </font><font style="vertical-align: inherit;">Primeiro, d√™ o comando:</font></font><br>
<br>
<pre><code class="bash hljs">csrutil status</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se em resposta a isso obtivermos:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Status da Prote√ß√£o de Integridade do Sistema: ativado.</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
isso significa que bons programadores da Apple cuidam de n√≥s, de modo que nada acontecer√° at√© que desligemos sua maravilhosa prote√ß√£o. </font><font style="vertical-align: inherit;">Para fazer isso, reinicializamos na parti√ß√£o de recupera√ß√£o (‚åòR), chamamos o terminal e executamos o comando:</font></font><br>
<br>
<pre><code class="bash hljs">csrutil <span class="hljs-built_in">disable</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, reinicializamos no sistema operacional e, em seguida, instalamos o driver e, ao mesmo tempo, o utilit√°rio de configura√ß√£o ATTO (em princ√≠pio, o utilit√°rio de configura√ß√£o √© necess√°rio apenas para diagn√≥stico e n√£o √© necess√°rio durante a opera√ß√£o normal). No processo, quando solicitado, confirmamos a autoriza√ß√£o ATTO nas configura√ß√µes do sistema. Ap√≥s a instala√ß√£o, voc√™ pode reiniciar novamente na parti√ß√£o de recupera√ß√£o e dar o comando</font></font><br>
<br>
<pre><code class="bash hljs">csrutil <span class="hljs-built_in">enable</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Apple cuida de n√≥s novamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, temos uma interface suportada por driver para dispositivos SAS externos (ou FC, se o conversor FC foi usado). Mas como trabalhar com a fita em um n√≠vel l√≥gico? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como √© sabido por uma mente inexperiente, mas erudita, qualquer sistema compat√≠vel com Unix suporta unidades de fita no n√≠vel do kernel e os principais utilit√°rios do sistema, que incluem principalmente mt (gerenciamento de fitas) e tar (um arquivador que suporta o trabalho com arquivos de fita) . No entanto, o que a mente sofisticada especificar√°? Qualquer sistema compat√≠vel com Unix, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exceto o macOS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A Apple se preocupou conosco removendo o suporte para dispositivos de fita de seu c√≥digo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas √© realmente imposs√≠vel retornar esse c√≥digo portando os utilit√°rios de c√≥digo-fonte aberto padr√£o para o macOS? A boa not√≠cia √© que a Tolis j√° fez isso (um link para o qual eu n√£o forne√ßo) em seu produto Tolis Tape Tools. A m√° not√≠cia √© que a referida empresa estima o uso dos resultados de seu trabalho em 399 d√≥lares. As estimativas desse fato podem ser diferentes, mas o autor, pessoalmente, n√£o est√° pronto para pagar a algu√©m 400 d√≥lares por um c√≥digo, na maioria das vezes escrito por pessoas completamente diferentes e usado abertamente desde a d√©cada de 1970, e, portanto, esta quest√£o √© para o autor. considera fechado. (A prop√≥sito, existe um projeto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IOSCSITape</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gratuito </font><font style="vertical-align: inherit;">sobre o mesmo t√≥pico </font><font style="vertical-align: inherit;">no github em um estado vago </font><font style="vertical-align: inherit;">).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, existe uma corpora√ß√£o IBM no mundo cujos apetites comerciais s√£o de uma escala completamente diferente e, portanto, n√£o aparecem em todas as pequenas coisas. Em particular, ela desenvolveu o sistema de arquivos de fita LTFS de c√≥digo aberto, que tamb√©m √© distribu√≠do para o macOS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° uma nuance em que diferentes fabricantes de dispositivos de fita lan√ßam suas pr√≥prias vers√µes do LTFS que suportam seus dispositivos. Como o autor usa a unidade de fita IBM, o LTFS tamb√©m foi instalado pela IBM. As unidades de terceiros podem precisar de suas pr√≥prias portas LTFS. E existe uma implementa√ß√£o universal do openLTFS no github e no homebrew.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â importante para n√≥s que o LTFS use a fun√ß√£o de parti√ß√£o de m√≠dia e, portanto, possa trabalhar com dispositivos e cartuchos, come√ßando com a gera√ß√£o LTO-5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, no nosso caso, baixamos o produto IBM Spectrum Archive Single Drive Edition para macOS no site da IBM, que inclui apenas a implementa√ß√£o do LTFS. </font><font style="vertical-align: inherit;">Sem nenhuma aventura, instalamos o produto com nosso pr√≥prio instalador. </font><font style="vertical-align: inherit;">No processo, ele tamb√©m instala o pacote FUSE e, nas configura√ß√µes do sistema, voc√™ precisar√° confirmar a autoriza√ß√£o de um programador inteligente chamado Anatol Pomozov, do qual, neste caso, toda a IBM depende. </font><font style="vertical-align: inherit;">Respeito e respeito por essa pessoa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â aconselh√°vel escrever a linha imediatamente: /Library/Frameworks/LTFS.framework/Versions/Current/etc/ltfs.conf.local:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">op√ß√£o unidade √∫nica sync_type = time @ 1</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
especificando a montagem da fita por padr√£o com a redefini√ß√£o do buffer de grava√ß√£o ap√≥s 1 minuto de inatividade (padr√£o 5 minutos). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/47b/ac4/46a/47bac446a112a11830c3df9ea44dbad1.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Finalmente, tudo est√° pronto para se conectar. </font><font style="vertical-align: inherit;">Conectamos a cadeia: adaptador Mac - T3 / T2 - cabo Thunderbolt - conversor ATTO - cabo SAS - unidade de fita (a escolha de v√°rias portas no Mac, o conversor e a unidade n√£o √© importante). </font><font style="vertical-align: inherit;">Ligue a energia do conversor. </font><font style="vertical-align: inherit;">Ligue a energia da unidade de fita. </font><font style="vertical-align: inherit;">Estamos aguardando a inicializa√ß√£o do drive por sua indica√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√≥s damos o comando:</font></font><br>
<br>
<pre><code class="bash hljs">ltfs -o device_list</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viva! </font><font style="vertical-align: inherit;">N√≥s obtemos (da maneira usual de diagn√≥stico para a IBM):</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">307 LTFS14000I LTFS inicial, LTFS vers√£o 2.4.2.0 (10418), n√≠vel de log 2. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14058I LTFS Format Specification vers√£o 2.4.0. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14104I Lan√ßado por "ltfs -o device_list". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14105I Este bin√°rio foi criado para o Mac OS X. A </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vers√£o do GCC do LT7147307 √© a 4.2.1 Compat√≠vel com Apple Clang 4.1 ((tags / Apple / clang-421.11.66)). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS17087I Vers√£o do kernel: Darwin Kernel vers√£o 19.4.0: quarta-feira, 4 de mar√ßo 22:28:40 PST 2020; </font><font style="vertical-align: inherit;">raiz: xnu-6153.101.6 ~ 15 / RELEASE_X86_64. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS17085I Plugin: Carregando o backend de fita "iokit". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lista de dispositivos de fita:. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nome do dispositivo = 0, ID do fornecedor = IBM, ID do produto = ULT3580-TD5, N√∫mero de s√©rie = **********, Nome do produto = [ULT3580-TD5].</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√≥s inserimos o cartucho, aguardamos o download e o formato:</font></font><br>
<br>
<pre><code class="bash hljs">mkltfs -d 0 -nTest -r <span class="hljs-string">"size=10M/name=.DS_Store"</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui, o par√¢metro -d especifica o n√∫mero da unidade (sempre zero se for o √∫nico, mas n√£o pode ser omitido deste comando), -n √© o nome da fita (voc√™ pode omitir) e o par√¢metro -r requer que o conte√∫do dos arquivos .DS_Store n√£o exceda o tamanho 10 megabytes, na se√ß√£o de √≠ndice (ou seja, destinada a diret√≥rios) da fita em vez da se√ß√£o de dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A vida misteriosa na unidade de fita se foi. Estamos aguardando alguns minutos, temos a resposta:</font></font><br>
<br>
<blockquote>LTFS15000I Starting mkltfs, LTFS version 2.4.2.0 (10418), log level 2.<br>
LTFS15041I Launched by ¬´mkltfs -d 0 -nTest -r size=10M/name=.DS_Store¬ª.<br>
LTFS15042I This binary is built for Mac OS X.<br>
LTFS15043I GCC version is 4.2.1 Compatible Apple Clang 4.1 ((tags/Apple/clang-421.11.66)).<br>
LTFS17087I Kernel version: Darwin Kernel Version 19.4.0: Wed Mar 4 22:28:40 PST 2020; root:xnu-6153.101.6~15/RELEASE_X86_64.<br>
LTFS15003I Formatting device '0'.<br>
LTFS15004I LTFS volume blocksize: 524288.<br>
LTFS15005I Index partition placement policy: size=10M/name=.DS_Store.<br>
<br>
LTFS11337I Update index-dirty flag (1) ‚Äî NO_BARCODE (0x0x1021081e0).<br>
LTFS17085I Plugin: Loading ¬´iokit¬ª tape backend.<br>
LTFS30810I Opening a device through iokit driver (0).<br>
LTFS30814I Vendor ID is IBM.<br>
LTFS30815I Product ID is 'ULT3580-TD5 '.<br>
LTFS30816I Firmware revision is H976.<br>
LTFS30817I Drive serial is **********.<br>
LTFS17160I Maximum device block size is 1048576.<br>
LTFS11330I Loading cartridge.<br>
LTFS30854I Logical block protection is disabled.<br>
LTFS11332I Load successful.<br>
LTFS17157I Changing the drive setting to write-anywhere mode.<br>
LTFS15049I Checking the medium (mount).<br>
LTFS30854I Logical block protection is disabled.<br>
LTFS15010I Creating data partition b on SCSI partition 1.<br>
LTFS15011I Creating index partition a on SCSI partition 0.<br>
LTFS17165I Resetting the medium's capacity proportion.<br>
LTFS11097I Partitioning the medium.<br>
LTFS11100I Writing label to partition b.<br>
LTFS11278I Writing index to partition b.<br>
LTFS30808I READ_ATTR (0x8c) returns -20501.<br>
LTFS30865I READ_ATTR returns Invalid Field in CDB (-20501) 0.<br>
LTFS30836I Cannot read attribute (-20501).<br>
LTFS11336I The attribute does not exist. Ignore the expected error.<br>
LTFS17235I Writing index of NO_BARCODE to b (Reason: Format, 0 files) **********.<br>
LTFS17236I Wrote index of NO_BARCODE (b, **********).<br>
LTFS11337I Update index-dirty flag (0) ‚Äî NO_BARCODE (0x0x1021081e0).<br>
LTFS11100I Writing label to partition a.<br>
LTFS11278I Writing index to partition a.<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30808I READ_ATTR (0x8c) retorna -20501. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30865I READ_ATTR retorna Campo inv√°lido no CDB (-20501) 0. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30836I N√£o √© poss√≠vel ler o atributo (-20501). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS11336I O atributo n√£o existe. </font><font style="vertical-align: inherit;">Ignore o erro esperado. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS17235I Gravando o √≠ndice de NO_BARCODE em um (Motivo: Formato, 0 arquivos) 9068025555. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS17236I Gravou o √≠ndice de NO_BARCODE (a, **********). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS15013I O UUID do volume √©: 3802a70d-bd9f-47a6-a999-eb74ffa67fc1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS15019I A capacidade do volume √© 1425 GB. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30854I A prote√ß√£o de bloco l√≥gico est√° desativada. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS15024I Meio formatado com sucesso.</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Monte a fita formatada:</font></font><br>
<br>
<pre><code class="bash hljs">sudo mkdir /Volumes/LTFS<font></font>
sudo chmod 777 /Volumes/LTFS/<font></font>
sudo ltfs /Volumes/LTFS</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos mais alguns minutos de opera√ß√£o do inversor, diagn√≥sticos:</font></font><br>
<br>
<blockquote>307 LTFS14000I LTFS starting, LTFS version 2.4.2.0 (10418), log level 2.<br>
307 LTFS14058I LTFS Format Specification version 2.4.0.<br>
307 LTFS14104I Launched by ¬´ltfs /Volumes/LTFS/¬ª.<br>
307 LTFS14105I This binary is built for Mac OS X.<br>
307 LTFS14106I GCC version is 4.2.1 Compatible Apple Clang 4.1 ((tags/Apple/clang-421.11.66)).<br>
307 LTFS17087I Kernel version: Darwin Kernel Version 19.4.0: Wed Mar 4 22:28:40 PST 2020; root:xnu-6153.101.6~15/RELEASE_X86_64.<br>
307 LTFS14063I Sync type is ¬´time¬ª, Sync time is 60 sec.<br>
307 LTFS17085I Plugin: Loading ¬´iokit¬ª tape backend.<br>
307 LTFS17085I Plugin: Loading ¬´unified¬ª iosched backend.<br>
307 LTFS14095I Set the tape device write-anywhere mode to avoid cartridge ejection.<br>
307 LTFS30810I Opening a device through iokit driver (0).<br>
307 LTFS30814I Vendor ID is IBM.<br>
307 LTFS30815I Product ID is 'ULT3580-TD5 '.<br>
307 LTFS30816I Firmware revision is H976.<br>
307 LTFS30817I Drive serial is **********.<br>
307 LTFS17160I Maximum device block size is 1048576.<br>
307 LTFS11330I Loading cartridge.<br>
307 LTFS30854I Logical block protection is disabled.<br>
307 LTFS11332I Load successful.<br>
307 LTFS17157I Changing the drive setting to write-anywhere mode.<br>
307 LTFS11005I Mounting the volume.<br>
307 LTFS30854I Logical block protection is disabled.<br>
307 LTFS17227I Tape attribute: Vendor = IBM.<br>
307 LTFS17227I Tape attribute: Application Name = LTFS.<br>
307 LTFS17227I Tape attribute: Application Version = 2.4.2.0.<br>
307 LTFS17227I Tape attribute: Medium Label =.<br>
307 LTFS17228I Tape attribute: Text Localization ID = 0x81.<br>
307 LTFS17227I Tape attribute: Barcode =.<br>
307 LTFS17227I Tape attribute: Application Format Version = 2.4.0.<br>
307 LTFS17228I Tape attribute: Volume Lock Status = 0x00.<br>
307 LTFS17227I Tape attribute: Media Pool name =.<br>
307 LTFS14111I Initial setup completed successfully.<br>
307 LTFS14112I Invoke 'mount' command to check the result of final setup.<br>
307 LTFS14113I Specified mount point is listed if succeeded.<br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E aqui est√° ela, nossa fita na √°rea de trabalho, chamada Teste (ltfs)! A fita sem nome receber√° o nome OSXFUSE Volume 0 (ltfs). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora voc√™ pode trabalhar com ela. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/06f/956/191/06f9561919067fcc4c631f390c8b4d1e.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, lembre-se de que √© aconselh√°vel n√£o abusar da exibi√ß√£o do conte√∫do dos diret√≥rios de fita nas janelas do fader, pois essa √© uma opera√ß√£o incrivelmente cara para LTFS, mas √© melhor trabalhar com comandos do terminal ou simplesmente despejar a c√≥pia de backup em massa na fita, como mostrado na janela acima. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A prop√≥sito, existe um utilit√°rio IBM especialmente escrito ltfs_copy e seus clones projetados para uma c√≥pia mais eficiente entre fita e disco, mas at√© agora o autor n√£o conseguiu encontr√°-los em dom√≠nio p√∫blico durante pesquisas de superf√≠cie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode desmontar a fita com o comando:</font></font><br>
<br>
<pre><code class="bash hljs">umount /Volumes/LTFS</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ou apenas jogue-o na cesta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, existem alguns tipos de shells gr√°ficos para o macOS na natureza para facilitar essas a√ß√µes, mas ap√≥s essas pervers√µes, temos medo de digitar algumas linhas no terminal? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como efeito colateral, temos a oportunidade de conectar unidades eSATA externas por meio de um cabo SAS / 4 * eSATA.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f6f/47b/ca9/f6f47bca9d7ea9928136b4757bab2c0f.jpg" alt="imagem"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt503156/index.html">As esta√ß√µes ferrovi√°rias da R√∫ssia podem ser equipadas com termovisores russos; na apar√™ncia, s√£o muito semelhantes aos chineses</a></li>
<li><a href="../pt503158/index.html">A intelig√™ncia artificial pinta uma imagem por si mesma, realmente por si mesma - sem aprender com exemplos de outras pinturas</a></li>
<li><a href="../pt503164/index.html">Publicidade sobre jogos de azar: resumo da pol√≠tica do Google</a></li>
<li><a href="../pt503172/index.html">C #: Apresentando geradores de c√≥digo-fonte</a></li>
<li><a href="../pt503176/index.html">Implementa√ß√£o de um algoritmo para determinar a largura de um objeto usando um rangefinder ultrass√¥nico e codificadores na linguagem RobotC</a></li>
<li><a href="../pt503182/index.html">"Sou o primeiro desenvolvedor cego da minha empresa." Parte 1</a></li>
<li><a href="../pt503184/index.html">Convidamos voc√™ para a reuni√£o on-line do Zabbix</a></li>
<li><a href="../pt503192/index.html">oVirt em 2 horas. Parte 4. Opera√ß√µes B√°sicas</a></li>
<li><a href="../pt503194/index.html">ISA n√£o perdoa erros</a></li>
<li><a href="../pt503196/index.html">450 cursos gratuitos da Ivy League</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>