<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♍️ 👩🏽‍⚕️ 🎤 KurentoによるWebRTC：テストと実装の経験 🙅🏻 👺 🚐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事では、テストと実装のフェーズでのWebRTCテクノロジーとKurentoメディアサーバーの経験を紹介します。発生した問題とその解決方法について説明します。アプリケーションをゼロから開発する方法については触れませんが、役立つリンクをたくさん提供します。私の話は、WebRTCで作業する人にとって...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>KurentoによるWebRTC：テストと実装の経験</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/inobitec/blog/478536/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/gp/n6/4m/gpn64m3nht-yuv6pzbeye6d8zv0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、テストと実装のフェーズでのWebRTCテクノロジーとKurentoメディアサーバーの経験を紹介します。</font><font style="vertical-align: inherit;">発生した問題とその解決方法について説明します。</font><font style="vertical-align: inherit;">アプリケーションをゼロから開発する方法については触れませんが、役立つリンクをたくさん提供します。</font><font style="vertical-align: inherit;">私の話は、WebRTCで作業する人にとって役立つと確信しています。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当社が開発中の医療情報システム（MIS）は、すでに多くのマイクロサービス、メッセージングバス、モバイルクライアントなどを備えた巨大なエンタープライズプロジェクトに成長しています。システムの一部は、私たちのプロファイルではないため、開発およびサポートのためにサードパーティ組織に提供する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Telemedicineサービスは、このようなMISモジュールの1つです。ビデオ会議の開発とWebRTCの使用に関する経験はなく、注文は委任されました。しかし、しばらくすると、さまざまな状況により、この会社はビデオ会議のサポートを停止しました。サポートがなければ、このサービスは無効になり、リポジトリに「ゴミを集める」ことになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今こそ、このマイクロサービスを復活させるときです。</font><font style="vertical-align: inherit;">Telemedicineを自分で再起動することを決定しました。</font><font style="vertical-align: inherit;">私たちの会社は成長し、より多くの専門家が現れました-開発のために新しいトピックを習得することは可能であり、必要です。</font><font style="vertical-align: inherit;">私は以前にビデオ送信に関与したことがありませんでしたが、WebRTCのような有望なテクノロジーを理解して研究することは非常に興味深いものでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に私を助けてくれたWebRTCテクノロジーとKurentoサーバーに関するいくつかの非常に便利なリンクを以下に示します。</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java、Spring、Kureto、およびMedia Services</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTC：2つのブラウザーが音声通話とビデオ通話に同意する方法</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザとモバイルアプリケーション間のビデオチャットを開発します</font></font></a> </li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仕事の始まり</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タスクは簡単でした。ビデオ会議の既存のシステムを復元し、以前に行われたことの一覧を取得し、必要に応じて、ユーザーの希望に応じて変更しました。仮想マシンと実際のコンピューターでの最初のテストは成功しました。しかし、クライアントでのシステムの展開には多くの問題がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クライアントには、電子キュー、医師の職場、ドキュメント管理、PACSから医療機器管理サブシステムまで、膨大な数のタスクをカバーする医療情報システム（MIS）がすでにあることを思い出してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
診断センターの医療関係者（以下、DCと呼びます）を遠隔地の患者と接続するためのビデオ会議機能を開発する必要が生じたとき、2つの前提条件が設定されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての会議は記録され、サーバーに保存されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
患者は、ほとんどの場合、すでにインストールされているブラウザを除いて、デバイスに追加のプログラムをインストールしないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WebRTCは、追加のプログラムやプラグインなしでブラウザから機能します。</font><font style="vertical-align: inherit;">そしてクレントはそれを通過するすべてのものを記録することができます。</font><font style="vertical-align: inherit;">さらに、このメディアサーバーには、JavaおよびJavaScriptを介してAPIを操作するための既製のライブラリが豊富にあり、開発が大幅に簡素化されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバー部分の開発、またはその基礎は、私がタスクに取り掛かる前でさえ、クライアントからサードパーティ企業に外部委託されていました。</font><font style="vertical-align: inherit;">そこで、「管理サーバー」（CSS）がありました。これは、実装用に入手した既成のサーバーベースです。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">相互作用の一般的な考え方は、最初は次のようになりました：</font></font></h4><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ue/y-/qt/uey-qt4cvt81f4clyn6e0kdp4s4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、さらなる作業の過程で、システム全体が変化し、より複雑になっています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の蘇生体験</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仮想マシンといくつかの「ライブ」コンピューターのテストネットワークに展開した後、多くのテストと実験が行われ、すべてが完全に機能しました。</font><font style="vertical-align: inherit;">したがって、実際に機能するネットワークに導入する時が来ました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストのために、医者と彼の職場の形の責任ある犠牲者が私を助けるために割り当てられました。</font><font style="vertical-align: inherit;">そして、遠隔医療マイクロサービスを介した2番目の呼び出しがクラッシュしました！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがベータテスト中に発生したのは良いことであり、私と冒険に満足していた医師のほかに、誰もこれを見たことはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何が起こっているのか、なぜ接続が確立されていないのかを理解するのは非常に困難でした。</font><font style="vertical-align: inherit;">WebRTCはエラーを表示しません。信号が表示されるのを待つだけです。</font><font style="vertical-align: inherit;">知らないうちに、どういうわけかデバッグするのは非常に困難でした。サーバー部分は正常に機能しており、クレントはログでサイレントであり、クライアントはストリームを待っていますが、何も起こりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habrが手助けしました（彼への称賛）：</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTCをデバッグする方法。</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザからWebRTC呼び出しを開発するときの5つの間違い</font></font></a></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebRTCの使用経験。</font><font style="vertical-align: inherit;">Yandex講義</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前これらのツールを知らなかったのは残念です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ログデータを分析し、接続の状態を観察した後、サーバー側とクライアント側のスクリプトの両方がWebRTCシステムのイベントに対する反応を欠いていることが明らかになりました。</font><font style="vertical-align: inherit;">そして、これらのイベントはどこで入手できますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kurentoサーバー開発者は、WebRTCを操作するための非常に便利なJavaScriptライブラリkurento-utils.jsを提供しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クイックスタートでは、オブジェクトを作成します。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">new</span> kurentoUtils.WebRtcPeer.WebRtcPeerRecvonly(options, callback());</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントにアクセスするには、ライブラリの内部メソッドを再定義する必要があります。</font><font style="vertical-align: inherit;">わかりやすくするために、コードをできるだけ簡略化しました。</font></font><br>
<br>
<pre><code class="javascript hljs">
<span class="hljs-comment">//    WebRtcPeerRecvonly </span>
<span class="hljs-keyword">var</span> options = {
    <span class="hljs-comment">//     </span>
    <span class="hljs-attr">peerConnection</span>: getRTCPeerConnection(videoId), 
    <span class="hljs-attr">remoteVideo</span>: videoElement, <span class="hljs-comment">//</span>
    <span class="hljs-comment">//  ICE </span>
    <span class="hljs-attr">onicecandidate</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">candidate</span>) </span>{<font></font>
         onIceCandidate(candidate, videoId, <span class="hljs-literal">true</span>);<font></font>
    },<font></font>
    <span class="hljs-attr">onerror</span>: onError, <span class="hljs-comment">//  </span>
    <span class="hljs-attr">mediaConstraints</span>: { 
        <span class="hljs-comment">// </span>
        <span class="hljs-attr">video</span>: <span class="hljs-literal">true</span>,
        <span class="hljs-attr">audio</span>: <span class="hljs-literal">true</span>}<font></font>
};<font></font>
<font></font>
<span class="hljs-comment">//  WebRTC</span>
incomeWebRtc[videoId] = <span class="hljs-keyword">new</span> kurentoUtils.WebRtcPeer.WebRtcPeerRecvonly(<font></font>
    options,<font></font>
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error</span>) </span>{
        <span class="hljs-keyword">if</span> (error) {
   	    <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.error(error);<font></font>
        }<font></font>
        <span class="hljs-keyword">this</span>.generateOffer(
        <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">error, sdpOffer</span>) </span>{
            <span class="hljs-comment">// </span><font></font>
        });<font></font>
});<font></font>
<font></font>
<span class="hljs-comment">//     </span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRTCPeerConnection</span>(<span class="hljs-params"> videoId </span>)</span>{
    <span class="hljs-keyword">var</span> configuration = {
        <span class="hljs-string">"iceServers"</span>: [<font></font>
            {<span class="hljs-string">"url"</span>: <span class="hljs-string">"stun:"</span> + stunServer},<font></font>
            {<span class="hljs-string">"url"</span>: <span class="hljs-string">"turn:"</span> + turnServer, <span class="hljs-attr">credential</span>: turnCredential, <span class="hljs-attr">username</span>: turnUsername}<font></font>
        ]<font></font>
    };<font></font>
<font></font>
    <span class="hljs-keyword">var</span> mypc = <span class="hljs-keyword">new</span> RTCPeerConnection(configuration);<font></font>
<font></font>
    <span class="hljs-comment">//     </span>
    mypc.oniceconnectionstatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<font></font>
        state = <span class="hljs-keyword">this</span>.iceConnectionState;
        <span class="hljs-built_in">console</span>.info(<span class="hljs-string">"### iceConnectionState "</span> + videoId + <span class="hljs-string">" &gt; "</span> + <span class="hljs-keyword">this</span>.iceConnectionState);<font></font>
    };<font></font>
<font></font>
    mypc.onsignalingstatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{<font></font>
        state = <span class="hljs-keyword">this</span>.signalingState || <span class="hljs-keyword">this</span>.readyState;
        <span class="hljs-built_in">console</span>.info(<span class="hljs-string">"### SignalingState "</span> + videoId + <span class="hljs-string">" &gt; "</span> + state);<font></font>
    };<font></font>
<font></font>
    mypc.onconnectionstatechange = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
        <span class="hljs-built_in">console</span>.info(<span class="hljs-string">"### ConnectionState "</span> + videoId + <span class="hljs-string">" &gt; "</span> + <span class="hljs-keyword">this</span>.connectionState);<font></font>
    };<font></font>
<font></font>
<span class="hljs-keyword">return</span> mypc;<font></font>
}<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">証明書といえば </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事は私の経験に関するものなので、セキュリティの監視に関して最新のブラウザが非常に厳しくなっているという情報を共有します。</font><font style="vertical-align: inherit;">リソースに自己署名証明書がある場合、特別な許可があっても、ブラウザーはコンピューター周辺機器へのアクセスを禁止します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インターネット上の無料のリソースで証明書を作成し、ローカルネットワークを使用できるように構成するか、Firefoxバージョン65以降をダウンロードできます。このバージョンでは、ボタンをクリックするだけです。自己署名証明書のリスクに同意し、カメラとマイクにアクセスします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この方法は私には簡単に思えました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目のテスト（すでに注意）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のテストで私を見たとき、医者はポップコーンに駆けつけるだろうと私には思われた。彼は明らかに私が現代の技術と闘うのを楽しんでいました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、このシステムアップデートはリリースではありません。何も修正しなかったため、問題の原因すら知りませんでした。私はすべてがオフィスで完璧に機能したことを繰り返します。 WebRTCとKurentoによって生成されたすべてのイベントに対する反応がコードに追加され、これらすべてがログに詳細に書き込まれました。 IIAの主要なログと混同しないように、ログを別のファイルに保存しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
鋭い医者とクライアントのシステム管理者と一緒に、私たちはシステムを試しました。</font><font style="vertical-align: inherit;">彼らはテストさえしなかった、すなわち「拷問」された。</font><font style="vertical-align: inherit;">可能なすべてのモードで、すべての利用可能なデバイスからビデオ会議を作成しました。</font><font style="vertical-align: inherit;">他の医師と遠隔オフィスのスタッフの一部がこのゲームに参加しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主なことは、システムをチェックすること（機能しなかった）ではなく、できるだけ多くのデータを収集することでした。</font><font style="vertical-align: inherit;">その結果、次のことが判明しました。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ビデオ会議を作成しようとする試みの約80％が成功しています。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IPv6のICE候補を使用する一部の接続は機能しません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5つの携帯電話会社のうち、2つだけが働いていました。</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてがシンプルであることがわかりました-Googleだけで遠くに行くことはできません</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
収集した情報を分析したところ、GoogleからTURNサーバーを介した接続が不安定であることがわかりました。それらの負荷が大きいか、またはテクノロジの学習を始めたばかりの人のための単なるデモサーバーですか。しかし、事実としては、非常に頻繁な失敗です。独自のTURN / STUNサーバーが必要です！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
失敗の2番目の理由は、IPv6.localアドレスです。 kurentoサーバーは、これらのアドレスを持つICE候補を受け入れません。すべてのICE候補を送信する前に、私の手でコードを確認し、IPv6.localをフィルターで除外したのは良いことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モバイルオペレーターの問題は、そのTURN / STUNサーバーで解決されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5つのうち3つのモバイルオペレーターでは、NATは対称的であり、WebRTCは突破できません。詳細はここにあります：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">対称NATはひどいですか？</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の個人の携帯電話が、対称的な保護を気にしていないオペレーターのSIMカードで動作するのは残念です。</font><font style="vertical-align: inherit;">したがって、私の最初のテストではこの問題は明らかになりませんでした。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/9b/g4/ie/9bg4ieg5oblnd8f24osrtmwetws.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TURN / STUNサーバー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
resiprocate-turn-serverパッケージがサーバーとして選択されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らは長い間選択しませんでした-それは標準のUbuntuリポジトリにあります-簡単なインストールと自動更新。</font><font style="vertical-align: inherit;">ただし、アカウントを操作して接続するのはあまり便利ではありません。ログインとパスワードはファイルからのみ取得されるため、メインサーバーのデータベースからエクスポートするための追加のユーティリティまたはスクリプトを作成する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現時点では、このファイルは手動で生成され、アカウントは単純なパスワードプールを通じて配布されます。</font><font style="vertical-align: inherit;">承認はMISメインサーバーを介して実装されるため、セキュリティは損なわれません。</font><font style="vertical-align: inherit;">しかし、システム全体の全体的な構造は醜く見えます。</font><font style="vertical-align: inherit;">この瞬間を作り直すための計画。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クライアントへの3回目の旅行</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードを修正し、TURN / STUNサーバーをインストールして構成し、パスワードのプールを作成して、ビデオ会議の開始時にクライアントに配布し、本番サーバーを更新した後、すでにおなじみの医者に行きました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
できます！やったー！すべてのデバイスから、すべてのモードですべての会議の立ち上げが成功します。個人アカウントの患者は医師に電話をかけ、受付中のセラピストは機能診断医に電話してさらに相談することができ、医師自身が市内各地のさまざまな支社からのマルチユーザービデオ会議を手配できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すでに苦い経験で教えられた私たちは、緊急事態を人為的に作成することにより、綿密なテストに従事しました。</font><font style="vertical-align: inherit;">この記事のトピックから、接続待機時間に制限を設定する必要性を強調します。</font><font style="vertical-align: inherit;">WebRTCは、クレントと共に、ブロードキャストが無限に開始されるのを待っており、ビデオバイトが送信されることを期待しています。</font><font style="vertical-align: inherit;">タイマーを10秒に設定する必要があり、バイトが到着しなかった場合、管理サーバーにエラーが発生しました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">やっぱり改善</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、システムは正常に機能し、機能しています。</font><font style="vertical-align: inherit;">現場のユーザーからの最初のレビューが送信されました。</font><font style="vertical-align: inherit;">そしてすぐに、デザイン、追加機能、およびさらなる開発のための他の計画に対する膨大な数の要望と提案が現れました。</font><font style="vertical-align: inherit;">新たな勢いで仕事が沸き始めました！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムの完全なトポロジは次のようになります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mr/ev/kn/mrevknsr8bnuhpmsnaowtthxd6m.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果：</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結論として、私は次のことを述べたいと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、WebRTCは優れた技術であり、将来性がありますが、テストおよびデバッグすることは非常に困難です。開発を始める前に、クライアントが持つ可能性のあるあらゆる種類の接続を備えたネットワークを配備することが不可欠です。また、ブラウザの情報ウィンドウを介したデバッグは、あまり便利なツールではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第二に、Habruをたたえます！このプロジェクトに取り組んでいるときに、このリソースに関する多くの情報を見つけました。この記事のすべてのリンクはそれにつながります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Telemedicineビデオ会議プロジェクト自体は、私たちの組織でのサポートと開発に任せることが決定されました。外部委託はしません。将来的にはまだ多くの作業があります：</font></font><br>
<br>
<ul>
<li>    .     ,     : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">         .</a></li>
<li>       ,     turn-.</li>
<li>         . -   . ,    : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">     WebRTC-?</a></li>
</ul><br>
<h3></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の経験は、WebRTC + Kurentoの開発者だけでなく、同様に複雑なプロジェクトの実装を開始する開発者にも役立つと確信しています。</font><font style="vertical-align: inherit;">できるだけ現実に近い条件でのテストに注意を払います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、マイクロサービスのサポートチームが突然「消える」リスクを考慮に入れてください。これは、非常に予期せぬ不快な作業です。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja478526/index.html">Windows ServerとMikrotik上の一連のOpenVPNとLinuxへの移行</a></li>
<li><a href="../ja478528/index.html">ペット（ファンタスティックストーリー）</a></li>
<li><a href="../ja478530/index.html">TechnoText-2019：最終的に勝ったのは誰で、何のために</a></li>
<li><a href="../ja478532/index.html">Appleがお金を稼ぐ方法：会社の活動で最も収益性の高い5つの分野と、それがどれだけもたらすか</a></li>
<li><a href="../ja478534/index.html">DevFest Siberia 2019：アウトバックからのトレンドを見る</a></li>
<li><a href="../ja478538/index.html">パスポートの有効性を確認する方法</a></li>
<li><a href="../ja478540/index.html">第10回フォーラム「Positive Hack Days 10：Getting Started」が始まります</a></li>
<li><a href="../ja478542/index.html">figmaGen：iOSアプリのスタイルオートメーション</a></li>
<li><a href="../ja478544/index.html">Vue Storefront：Magento 2からディレクトリをインポート</a></li>
<li><a href="../ja478546/index.html">WebSocket 開発と運用の経験。クライアントを変更します</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>