<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎯 ☹️ 🤲🏻 Python + Pyside2または単に「電卓」 🛕 🔑 👐🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、ハブル！
 
 私の名前はサーシャです。私はジュニア開発者です。私はソフトウェアテスターとして働いています。私は主にPython + Seleniumを使用してテストを作成しましたが、Pythonが非常に面白くなり、それを掘り下げてできるだけ多くのフレームワークを学びたいと思いました！シ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Python + Pyside2または単に「電卓」</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458536/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、ハブル！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の名前はサーシャです。</font><font style="vertical-align: inherit;">私はジュニア開発者です。</font><font style="vertical-align: inherit;">私はソフトウェアテスターとして働いています。</font><font style="vertical-align: inherit;">私は主にPython + Seleniumを使用してテストを作成しましたが、Pythonが非常に面白くなり、それを掘り下げてできるだけ多くのフレームワークを学びたいと思いました！</font><font style="vertical-align: inherit;">シンプルな「電卓」であるデスクトップアプリケーションを書きたかった。</font><font style="vertical-align: inherit;">私の選択はPyside2に落ちました。</font><font style="vertical-align: inherit;">私は完璧なコードやレッスンを持っているふりをしません。</font><font style="vertical-align: inherit;">私のような誰かがPythonをいじり始めたいのであれば、単に経験を共有したいという願望があります。</font><font style="vertical-align: inherit;">私が誰かを助ければ、私は結果を達成しました。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始めましょう！</font></font></b><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JetBrains PyCharm IDEでコードを書いた。</font><font style="vertical-align: inherit;">OS-Windows。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PySide2をインストールします。</font></font><br>
<br>
<pre><code class="plaintext hljs">pip install PySide2</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pythonルートフォルダーがある場所に移動し、「Lib」-&gt;「site-packages」-&gt;「Pyside2」フォルダーに移動します。あなたはデザイナープログラムを持っています-これはあなたのプログラムのためにあなた自身のインターフェースを作ることを可能にするQtDesignerプログラムです。プロジェクトのディレクトリにファイルを作成すると、</font><font style="vertical-align: inherit;">Pythonが理解できない</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.ui</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">形式</font><font style="vertical-align: inherit;">になるため、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.py</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">形式に変換する必要があります</font><font style="vertical-align: inherit;">が、これは後で行います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、フォームを作成します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wr/uk/s4/wruks4vsbedzodxgr2lpmkirie0.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デザインを作成し、「オブジェクトインスペクタ」サブセクションの右側にあるボタンを呼び出します。 QtDesignerがカスケードスタイルシートをサポートしていることは言うまでもありません。簡単な場合は、プロパティで「styleSheet」パラメーターを見つけることにより、CSSの知識に基づいて独自のデザインを作成する機会があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pg/6e/nz/pg6enzkcxapcarjx5snc7aar2sa.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Pythonが理解できるように、.uiファイルを形式に変換する必要があります。コマンドラインに行き、書きなさい</font></font><br>
<br>
<pre><code class="plaintext hljs">pyside2-uic "you_file.ui" -o "your_file.py"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pyside2-uicコマンドは何をしますか？</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.ui</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">をpython </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.py</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">に変換し、</font><font style="vertical-align: inherit;">そこからPythonクラスを作成し</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">多分知識のある人はプロジェクトに変換せずにuiファイルを接続できると言うでしょうが、それはPyside2のマニュアルに書かれているので、私はきちんとしていてより良くなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、コードに移動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトディレクトリであるPyCharmを開き、実行しているプログラムに応じて「calc_ui.py」または「something_ui.py」ファイルを作成します。</font><font style="vertical-align: inherit;">ファイル</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後にある</font><i><font style="vertical-align: inherit;">_ui</font></i><font style="vertical-align: inherit;">プレフィックス</font><font style="vertical-align: inherit;">は、ファイルで</font><i><font style="vertical-align: inherit;">失わ</font></i><font style="vertical-align: inherit;">れないようにするのに役立ちます。</font><font style="vertical-align: inherit;">一般的には、次のように</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sj/uv/rv/sjuvrviefxzl19aujacmtz-anlc.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">まず、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.ui</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.pyに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変換したファイルを編集します</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下でこのコードを探してコピーし、このファイルから削除します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-keyword">import</span> sys<font></font>
    app = QtWidgets.QApplication(sys.argv)<font></font>
    Form = QtGui.QWidget()<font></font>
    ui = Ui_Form()<font></font>
    ui.setupUi(Form)<font></font>
    Form.show()<font></font>
    sys.exit(app.exec_())<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムロジックが書き込まれるメインファイルを作成します。</font><font style="vertical-align: inherit;">意外にも「calc.py」ではないように、それを呼び出しました（ディレクトリの画面の上に表示されています）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コピーしたコードをそこに貼り付けて、編集を開始します。</font><font style="vertical-align: inherit;">これは良い形の規則なので、最初に</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">import sys</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> throwを実行します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォームを操作するために必要なモジュールをいくつかインポートし、ファイル「calc_ui.py」からメインクラス</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ui_MainWindow</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をインポートし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__ name__を</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">編集します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">不要なものはすべて削除します。</font><font style="vertical-align: inherit;">あなたはこのようにそれを得るべきです：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-comment">#   QApplication</span><font></font>
    app = QtWidgets.QApplication(sys.argv)<font></font>
    <span class="hljs-comment">#    ,    </span><font></font>
    calc = Calculator()<font></font>
    <span class="hljs-comment"># </span><font></font>
    sys.exit(app.exec_())<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
うまくいけば、コードにコメントしました。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">電卓</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスの作成に移りましょう</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span>(<span class="hljs-params">QtWidgets.QMainWindow, Ui_MainWindow</span>):</span>
    <span class="hljs-comment">#  </span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><font></font>
        super().__init__()<font></font>
        <span class="hljs-comment">#    Ui ( )</span><font></font>
        self.setupUi(self)<font></font>
        <span class="hljs-comment">#   </span><font></font>
        self.show()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、私たちのタスクは、ボタン「1」、「2」、「3」などをポークしたときに何かが発生することを確認することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じ場所のクラスコンストラクターで、任意の関数へのボタン接続を宣言します。</font></font><br>
<br>
<pre><code class="python hljs">        <span class="hljs-comment"># pressed</span>
        self.pushButton.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 1</span>
        self.pushButton_2.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 2</span>
        self.pushButton_3.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 3</span>
        self.pushButton_4.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 4</span>
        self.pushButton_5.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 5</span>
        self.pushButton_6.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 6</span>
        self.pushButton_7.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 7</span>
        self.pushButton_8.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 8</span>
        self.pushButton_9.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 9</span>
        self.pushButton_10.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 0</span>
        self.pushButton_add.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># +</span>
        self.pushButton_ded.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># -</span>
        self.pushButton_div.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># /</span>
        self.pushButton_mul.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># *</span>
        self.pushButton_exp.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># **</span>
        self.pushButton_log.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># log</span>
        self.pushButton_procent.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># %</span>
        self.pushButton_ENTER.clicked.connect(self.function_result)  <span class="hljs-comment"># =</span>
        self.pushButton_C.clicked.connect(self.function_clear)  <span class="hljs-comment"># C</span>
        self.pushButton_point.clicked.connect(self.make_fractional)  <span class="hljs-comment"># .</span>
        self.pushButton_delete.clicked.connect(self.function_delete)  <span class="hljs-comment"># &lt;</span>
        self.pushButton_open_skob.clicked.connect(self.create_big_example)  <span class="hljs-comment"># (</span>
</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.digit_pressed</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
関数は既にボタンのコードに示されています。</font><font style="vertical-align: inherit;">それを見てみましょう。ユーザーが数字でボタンをクリックした場合、何をしますか。</font></font><br>
<br>
<pre><code class="python hljs">    <span class="hljs-comment"># lineEdit -  ,        </span>
    <span class="hljs-comment"># text() -  ,     </span>
    <span class="hljs-comment"># setText() -         </span>
    <span class="hljs-comment"># sender() - ,     (   ,    )</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">digit_pressed</span>(<span class="hljs-params">self</span>):</span><font></font>
        button = self.sender()<font></font>
        <span class="hljs-keyword">if</span> self.lineEdit.text() == <span class="hljs-string">'0'</span>:
            <span class="hljs-comment">#        "0",     ,    </span><font></font>
            self.lineEdit.setText(button.text())<font></font>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">if</span> self.result == self.lineEdit.text():<font></font>
                self.lineEdit.setText(button.text())<font></font>
            <span class="hljs-keyword">else</span>:<font></font>
                self.lineEdit.setText(self.lineEdit.text() + button.text())<font></font>
        self.result = <span class="hljs-number">0</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードに関するコメントも表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「+」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「-」</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などの</font><font style="vertical-align: inherit;">押下操作に応答する関数について考えてみます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs">    clear() -  ,      
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pressed_equal</span>(<span class="hljs-params">self</span>):</span><font></font>
        button = self.sender()<font></font>
        self.first_value = float(self.lineEdit.text())<font></font>
        self.lineEdit.clear()<font></font>
        self.label.setText(str(self.first_value) + button.text())<font></font>
        self.equal = button.text()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">操作の値を入力するために</font><font style="vertical-align: inherit;">
、最初の値を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.first_value</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数に書き込み、</font><font style="vertical-align: inherit;">フィールドをクリアしてから、番号と操作とともにすべてlineEdit（メインの入力フィールドと結果フィールド）に出力します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">浮くの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">？すべてを</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">float</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にすることにし</font><font style="vertical-align: inherit;">ました。結果ブロックに値を出力するときに、結果の最後に「.0」が付いている場合は、この部分を削除して数値を整数にします。もっと良いものは思いつきませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数字を押したり、操作を押したりする機能ができました。次に、結果を表示する必要があり</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、ボタン</font><i><font style="vertical-align: inherit;">=（ENTER）</font></i><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<pre><code class="python hljs">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_result</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-keyword">if</span> self.equal == <span class="hljs-string">'+'</span>:<font></font>
            self.function_addition()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">'-'</span>:<font></font>
            self.function_subtraction()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">"/"</span>:<font></font>
            self.function_divison()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">'*'</span>:<font></font>
            self.function_multiply()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">"^"</span>:<font></font>
            self.exponentiation()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">"%"</span>:<font></font>
            self.function_percent()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">"log"</span>:<font></font>
            self.function_log()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.first_valueが、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初に導入した変数</font><i><font style="vertical-align: inherit;">と等しくなり、</font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.equalに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、押した操作が含まれることを</font><i><font style="vertical-align: inherit;">思い出し</font></i><font style="vertical-align: inherit;">てください。</font><font style="vertical-align: inherit;">2番目の数値を入力して</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">=</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をクリックした後</font><font style="vertical-align: inherit;">、演算が何であるかを調べて、2番目の変数を決定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オペレーションの機能に移ります。</font><font style="vertical-align: inherit;">私はこのようにそれを得ました：</font></font><br>
<br>
<pre><code class="python hljs">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_addition</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value + self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_subtraction</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value - self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_divison</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value / self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_multiply</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value * self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_exponentiation</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value ** self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_percent</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value * (self.second_value / <span class="hljs-number">100</span>))<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_log</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(math.log(self.first_value, self.second_value))<font></font>
        self.form_result()<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.determinate_second_value（）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
関数</font><font style="vertical-align: inherit;">は、入力した変数の2番目の値を決定します。</font><font style="vertical-align: inherit;">これは少し論理的で曲がっているわけではありませんが、実際のところ、賢い人が方法を言うときにコメントの後半ですべてのエラーを考慮に入れます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少しリフレッシュ。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.first_value-入力された最初の数値の値を持ちます </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.equal-押した操作の変数をstrに持っています </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.second_value-2番目の変数の値を持っています</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、各操作関数で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.form_result（）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を呼び出します</font><font style="vertical-align: inherit;">。これは奇妙なことに、結果を形成します。</font><font style="vertical-align: inherit;">結果は変数</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.resultに保持し</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="python hljs">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">form_result</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.result = str(self.result)<font></font>
        <span class="hljs-keyword">if</span> self.result[<span class="hljs-number">-2</span>:] == <span class="hljs-string">'.0'</span>:<font></font>
            self.result = self.result[:<span class="hljs-number">-2</span>]<font></font>
        self.lineEdit.setText(str(self.result))<font></font>
        self.label.clear()<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">self.result [-2：]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
について説明し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">[-2：]は、文字列の最後の2文字を「.0」と比較することを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、結果はメインのlineEditブロックに表示されます。おめでとうございます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、文字列または数字全体から1文字を削除するか、「。」を追加するコードもここに添付します。</font><font style="vertical-align: inherit;">（ドット）小数を作成するには：</font></font><br>
<br>
<pre><code class="python hljs">    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_fractional</span>(<span class="hljs-params">self</span>):</span><font></font>
        value = self.lineEdit.text()<font></font>
        <span class="hljs-keyword">if</span> <span class="hljs-string">'.'</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> value:<font></font>
            self.lineEdit.setText(value + <span class="hljs-string">'.'</span>)<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_delete</span>(<span class="hljs-params">self</span>):</span><font></font>
        value = self.lineEdit.text()<font></font>
        self.lineEdit.setText(value[:<span class="hljs-number">-1</span>])<font></font>
        <font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_clear</span>(<span class="hljs-params">self</span>):</span>
        self.lineEdit.setText(<span class="hljs-string">'0'</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スポイラーの下のすべてのコード：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">全コード</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-keyword">from</span> PySide2 <span class="hljs-keyword">import</span> QtWidgets
<span class="hljs-keyword">from</span> calc_ui <span class="hljs-keyword">import</span> Ui_MainWindow
<span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">import</span> math<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span>(<span class="hljs-params">QtWidgets.QMainWindow, Ui_MainWindow</span>):</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><font></font>
        super().__init__()<font></font>
        <span class="hljs-comment">#    Ui ( )</span><font></font>
        self.setupUi(self)<font></font>
        self.show()<font></font>
        self.lineEdit.setText(<span class="hljs-string">'0'</span>)<font></font>
<font></font>
        self.first_value = <span class="hljs-literal">None</span>
        self.second_value = <span class="hljs-literal">None</span>
        self.result = <span class="hljs-literal">None</span>
        self.example = <span class="hljs-string">""</span>
        self.equal = <span class="hljs-string">""</span><font></font>
<font></font>
        <span class="hljs-comment"># pressed</span>
        self.pushButton.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 1</span>
        self.pushButton_2.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 2</span>
        self.pushButton_3.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 3</span>
        self.pushButton_4.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 4</span>
        self.pushButton_5.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 5</span>
        self.pushButton_6.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 6</span>
        self.pushButton_7.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 7</span>
        self.pushButton_8.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 8</span>
        self.pushButton_9.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 9</span>
        self.pushButton_10.clicked.connect(self.digit_pressed)  <span class="hljs-comment"># 0</span>
        self.pushButton_add.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># +</span>
        self.pushButton_ded.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># -</span>
        self.pushButton_div.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># /</span>
        self.pushButton_mul.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># *</span>
        self.pushButton_exp.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># **</span>
        self.pushButton_log.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># log</span>
        self.pushButton_procent.clicked.connect(self.pressed_equal)  <span class="hljs-comment"># %</span>
        self.pushButton_ENTER.clicked.connect(self.function_result)  <span class="hljs-comment"># =</span>
        self.pushButton_C.clicked.connect(self.function_clear)  <span class="hljs-comment"># C</span>
        self.pushButton_point.clicked.connect(self.make_fractional)  <span class="hljs-comment"># .</span>
        self.pushButton_delete.clicked.connect(self.function_delete)  <span class="hljs-comment"># &lt;</span>
        self.pushButton_open_skob.clicked.connect(self.create_big_example)  <span class="hljs-comment"># (</span><font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">digit_pressed</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-comment"># sender - ,     (   ,    )</span><font></font>
        button = self.sender()<font></font>
        <span class="hljs-keyword">if</span> self.lineEdit.text() == <span class="hljs-string">'0'</span>:<font></font>
            self.lineEdit.setText(button.text())<font></font>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">if</span> self.result == self.lineEdit.text():<font></font>
                self.lineEdit.setText(button.text())<font></font>
            <span class="hljs-keyword">else</span>:<font></font>
                self.lineEdit.setText(self.lineEdit.text() + button.text())<font></font>
        self.result = <span class="hljs-number">0</span><font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">form_result</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.result = str(self.result)<font></font>
        <span class="hljs-keyword">if</span> self.result[<span class="hljs-number">-2</span>:] == <span class="hljs-string">'.0'</span>:<font></font>
            self.result = self.result[:<span class="hljs-number">-2</span>]<font></font>
        self.lineEdit.setText(str(self.result))<font></font>
        self.label.clear()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">make_fractional</span>(<span class="hljs-params">self</span>):</span><font></font>
        value = self.lineEdit.text()<font></font>
        <span class="hljs-keyword">if</span> <span class="hljs-string">'.'</span> <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> value:<font></font>
            self.lineEdit.setText(value + <span class="hljs-string">'.'</span>)<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_delete</span>(<span class="hljs-params">self</span>):</span><font></font>
        value = self.lineEdit.text()<font></font>
        self.lineEdit.setText(value[:<span class="hljs-number">-1</span>])<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_clear</span>(<span class="hljs-params">self</span>):</span>
        self.lineEdit.setText(<span class="hljs-string">'0'</span>)<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">pressed_equal</span>(<span class="hljs-params">self</span>):</span><font></font>
        button = self.sender()<font></font>
        self.first_value = float(self.lineEdit.text())<font></font>
        self.lineEdit.clear()<font></font>
        self.label.setText(str(self.first_value) + button.text())<font></font>
        self.equal = button.text()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_addition</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value + self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_subtraction</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value - self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_divison</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value / self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_multiply</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value * self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_exponentiation</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value ** self.second_value)<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_percent</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(self.first_value * (self.second_value / <span class="hljs-number">100</span>))<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_log</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.determinate_second_value()<font></font>
        self.result = float(math.log(self.first_value, self.second_value))<font></font>
        self.form_result()<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">determinate_second_value</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.second_value = float(self.lineEdit.text())<font></font>
        self.lineEdit.clear()<font></font>
        self.label.setText(str(self.first_value) + self.equal + str(self.second_value))<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">function_result</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-keyword">if</span> self.equal == <span class="hljs-string">'+'</span>:<font></font>
            self.function_addition()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">'-'</span>:<font></font>
            self.function_subtraction()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">"/"</span>:<font></font>
            self.function_divison()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">'*'</span>:<font></font>
            self.function_multiply()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">"^"</span>:<font></font>
            self.exponentiation()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">"%"</span>:<font></font>
            self.function_percent()<font></font>
        <span class="hljs-keyword">elif</span> self.equal == <span class="hljs-string">"log"</span>:<font></font>
            self.function_log()<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">'__main__'</span>:
    <span class="hljs-comment">#   QApplication</span><font></font>
    app = QtWidgets.QApplication(sys.argv)<font></font>
    <span class="hljs-comment">#   </span><font></font>
    calc = Calculator()<font></font>
    <span class="hljs-comment"># </span><font></font>
    sys.exit(app.exec_())<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい、計算機は大きな関数や式を計算しません、私はそれに取り組んでいます！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご清聴ありがとうございました。</font><font style="vertical-align: inherit;">頑張って開発してください！</font><font style="vertical-align: inherit;">カッコいい。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JuniorProger</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Telegramチャンネル</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">も招待したいと思います</font><font style="vertical-align: inherit;">。ここでは、ジュニアプログラマーの生活と彼の厄介な、しかし非常に興味深いItスペシャリストになる方法についてお話します。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja458516/index.html">Jiraから作業ログを取得</a></li>
<li><a href="../ja458520/index.html">書籍「.NETプラットフォームでの高性能コード。第二版</a></li>
<li><a href="../ja458524/index.html">膝の上のVC単語の雲</a></li>
<li><a href="../ja458530/index.html">Zabbix、時系列、TimescaleDB</a></li>
<li><a href="../ja458532/index.html">新技術のパイオニア：Vadim Artsevは、彼が盲目でなくなった方法を語りました</a></li>
<li><a href="../ja458546/index.html">自動化の日、または自動テストレイヤーの構築方法</a></li>
<li><a href="../ja458548/index.html">動的プロキシとSpring IoCを使用して独自のSpring Data Repositoryスタイルライブラリを作成する</a></li>
<li><a href="../ja458550/index.html">DipTrace用のシンボルGOSTライブラリ</a></li>
<li><a href="../ja458552/index.html">Hadoopのストレージ形式の比較について：ORCから始めましょう</a></li>
<li><a href="../ja458556/index.html">Angular CLIでChrome拡張機能を開発する</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>