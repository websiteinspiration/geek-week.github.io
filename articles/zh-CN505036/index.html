<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸšš ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ğŸ¤š Avaloniaæ•™ç¨‹ï¼šé€šè¿‡ç¤ºä¾‹é€æ­¥å®ç°MVVM ğŸš„ ğŸ† â™ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æ˜¯é˜¿ç“¦éš†å—ï¼Ÿ
 

Avaloniaæ˜¯ç”¨äº.Netå¹³å°çš„è·¨å¹³å°XAMLæ¡†æ¶ã€‚å¯¹äºä½¿ç”¨WPF / UWP / Xamarinçš„è®¸å¤šå¼€å‘äººå‘˜è€Œè¨€ï¼Œæ­¤æ¡†æ¶å°†ç›´è§‚æ˜“å­¦ã€‚Avaloniaæ”¯æŒWindowsï¼ŒLinuxï¼ŒmacOSï¼Œè¿˜å®£å¸ƒäº†å¯¹Androidå’ŒiOSçš„å®éªŒæ€§æ”¯æŒã€‚è¯¥é¡¹ç›®æ˜¯åœ¨ç¤¾åŒºçš„æ”¯æŒä¸‹å¼€å‘çš„ï¼Œå¹¶ä¸”...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Avaloniaæ•™ç¨‹ï¼šé€šè¿‡ç¤ºä¾‹é€æ­¥å®ç°MVVM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505036/"><h2 id="avalonia-eto"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯é˜¿ç“¦éš†å—ï¼Ÿ</font></font></h2><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avalonia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯ç”¨äº.Netå¹³å°çš„è·¨å¹³å°XAMLæ¡†æ¶ã€‚</font><font style="vertical-align: inherit;">å¯¹äºä½¿ç”¨WPF / UWP / Xamarinçš„è®¸å¤šå¼€å‘äººå‘˜è€Œè¨€ï¼Œæ­¤æ¡†æ¶å°†ç›´è§‚æ˜“å­¦ã€‚</font><font style="vertical-align: inherit;">Avaloniaæ”¯æŒWindowsï¼ŒLinuxï¼ŒmacOSï¼Œè¿˜å®£å¸ƒäº†å¯¹Androidå’ŒiOSçš„å®éªŒæ€§æ”¯æŒã€‚</font><font style="vertical-align: inherit;">è¯¥é¡¹ç›®æ˜¯åœ¨ç¤¾åŒºçš„æ”¯æŒä¸‹å¼€å‘çš„ï¼Œå¹¶ä¸”æ˜¯å¼€æºçš„ã€‚</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰å…³è¯¥æ¡†æ¶çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·å‚è§ä»¥ä¸‹é“¾æ¥ï¼š</font></font></p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘å¸ƒäº†è·¨å¹³å°XAML UIå·¥å…·åŒ…Avaloniaçš„ç¬¬ä¸€ä¸ªBetaï¼›</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è·¨å¹³å°çš„.NET UIå·¥å…·åŒ…AvaloniaUI 0.9çš„å‘å¸ƒï¼›</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nikita Tsukanov-AvaloniaUIæ˜¯ç¬¬ä¸€ä¸ªæ”¯æŒ.NET Coreçš„è·¨å¹³å°XAML UIæ¡†æ¶ã€‚</font></font></a></li>
</ul><br>
<h2 id="motivaciya-dlya-stati"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ¬æ–‡çš„åŠ¨æœºã€‚</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½œè€…å–œæ¬¢ä½¿ç”¨WPF / UWPè¿›è¡Œå¼€å‘ï¼Œå¹¶å…·æœ‰å®é™…é¡¹ç›®çš„ç»éªŒã€‚è¿™äº›å¹³å°å„æœ‰åˆ©å¼Šï¼Œä½†ä¸»è¦ç¼ºç‚¹æ˜¯å®ƒä»¬ä¸æ˜¯è·¨å¹³å°çš„ã€‚é•¿æœŸä»¥æ¥ï¼Œå¯¹äº.netä»¥å¤–çš„è®¸å¤šå¼€å‘äººå‘˜ï¼ŒMicrosoftä¸€ç›´å°†é‡ç‚¹æ”¾åœ¨Windowsç¯å¢ƒä¸Šï¼Œå³ä½¿ä½¿ç”¨Monoå’ŒNet Coreå‘è¡Œç‰ˆï¼Œä¹Ÿä¿ç•™äº†Cï¼ƒä»…é€‚ç”¨äºWindowsçš„æ„é€ å‹ã€‚å¦‚æœå¯¹äºåç«¯.Net Coreå¹³å°ç¡®å®æ˜¯ä¸€ä¸ªè§£å†³æ–¹æ¡ˆï¼Œé‚£ä¹ˆä»è·¨å¹³å°æ¡Œé¢çš„è§’åº¦æ¥çœ‹ï¼Œæ²¡æœ‰ä»»ä½•å˜åŒ–ã€‚ç§»æ¤WinFormså’ŒWPFä»¥ä».Net Coreè¿è¡Œæ˜¯å¯¹Cï¼ƒä»£ç çš„ä¼˜åŒ–ï¼Œä½†æ˜¯åœ¨Linux / MacOSæ”¯æŒæ–¹é¢æ²¡æœ‰ä»»ä½•å˜åŒ–ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç©ºé—²æ—¶é—´ä¸€å‡ºç°ï¼Œæˆ‘ä¾¿å†³å®šå°è¯•äº†è§£è¯¥æ¡†æ¶ã€‚</font><font style="vertical-align: inherit;">å…·ä½“è€Œè¨€ï¼Œå¯¹äºæ–‡ç« çš„åŸå› æ˜¯</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘è¡Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é˜¿ç“¦éš†å°¼äºšçš„Githubä¸Šçš„å®˜æ–¹æ–‡æ¡£ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç°åœ¨ï¼Œåœ¨æ–‡æ¡£ä¸­ç›´æ¥ä½¿ç”¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ReactiveUI</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åº“åˆ¶ä½œäº†ä¸€ä¸ªç¤ºä¾‹ï¼Œ</font><font style="vertical-align: inherit;">è¿™ä¸ªé—®é¢˜å¼•èµ·äº†ä¸€ä¸ªé—®é¢˜ï¼Œå³éœ€è¦åœ¨å¹²å‡€çš„é¡¹ç›®æ¨¡æ¿ä¸Šå®ç°MVVMæ¨¡å¼è€Œä¸è¿æ¥ç¬¬ä¸‰æ–¹åº“çš„é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯æœ¬æ–‡è¿½æ±‚çš„ç›®æ ‡ã€‚</font></font></p><br>
<h2 id="mvvm-v-teorii"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç†è®ºä¸Šçš„MVVM</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…³äºè¿™ä¸ªæ¨¡æ¿ï¼Œå®ƒæ˜¯è¶³å¤Ÿå†™ä¸Šå“ˆå¸ƒé›·ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰å’Œæ–‡æ¡£ä¸­</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xamarin.Forms</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é˜¿ç“¦éš†å°¼äºš</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå› æ­¤è¿™éƒ¨åˆ†è¢«æäº¤åˆ°æ‰°æµæ¿ã€‚</font></font></p><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…³äºMVVM</font></font></b>
                        <div class="spoiler_text"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MVVMï¼ˆModel-View-ViewModelï¼‰-ä¸€ä¸ªè®¾è®¡æ¨¡æ¿ï¼Œä¸“æ³¨äºä¸šåŠ¡é€»è¾‘å’Œç¨‹åºæ¥å£çš„åˆ†ç¦»ã€‚</font><font style="vertical-align: inherit;">è¯¥æ¨¡æ¿å¹¿æ³›ç”¨äºWPF / UWP / Xamarinå¹³å°ä¸Šçš„åº”ç”¨ç¨‹åºã€‚</font></font></p><br>
<h3 id="chto-ot-chego-otdelyaet"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»€ä¹ˆä¸ä»€ä¹ˆåˆ†å¼€ï¼Ÿ</font></font></h3><br>
<p>   ,     :</p><br>
<ul>
<li>  ,     â€œMâ€ (<strong>Model</strong>).          .    ,  , API,     ..      ,    - (Services). </li>
<li> â€“    V (<strong>View</strong>)      XAML. </li>
</ul><br>
<p>             â€“   (<strong>ViewModel</strong>).</p><br>
<p>ViewModel â€”    Model  View     (Binding).   Binding,    (Property) â€“     ViewModel.  ,   binding,  property,   ViewModel   View. ,   <strong></strong> property â€“   ,     View  Model   "" ViewModel       ,    (  ,    API  .)<br>
    : </p><br>
<p><img src="https://habrastorage.org/webt/ar/ff/x7/arffx7y_xq1g8tjmp2micomhuja.png"></p><br>
<p><strong></strong>:  ,       (View. ViewModel, Model, binding, property).   ,  ,   ,        .</p><br>
<h3 id="zachem-razdelyat"> ?</h3><br>
<p>    .  MVVM,  ,   Model     View,     ViewModel.       : </p><br>
<ul>
<li>     / ,   View. ,     Android / iOS   Xamarin      .  MVVM,              View,    WPF/UWP.    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>     MVVM.</li>
<li>Unit-.  Model  ViewModel   Unit-,      . </li>
<li>   ,    â€“   . </li>
</ul></div>
                    </div><br>
<h2 id="praktika"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®è·µ</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºäº†å®ç°è¯¥åº”ç”¨ç¨‹åºï¼Œæˆ‘ä»¬é‡‡ç”¨äº†å±•ç¤ºçƒ­é—¨ç”µå½±çš„æƒ³æ³•ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å½¢æˆä»¥ä¸‹ä»»åŠ¡ï¼š</font></font></p><br>
<ol>
<li> ;</li>
<li>    ;</li>
<li>  MVVM.</li>
</ol><br>
<p>   ,      WPF/UWP/Xamarin      .        ,              ,    . </p><br>
<h3 id="instrumenty-razrabotki"> </h3><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Visual Studio</a>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Avalonia</a>  .<br>
 ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>, Avalonia  .Net Framework  Net Core 2.0+.      Net Core.        Visual Studio 2019,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Net Core 3.0</a>.   Avalonia  Visual Studio 2019:</p><br>
<p><img src="https://habrastorage.org/webt/ub/s4/sg/ubs4sgu98tiv5n2k0tezpsnjtmi.png"></p><br>
<h3 id="nachalnyy-vid-proekta-dobavlenie-stiley-i-dannyh">  ,    </h3><br>
<p>    Avalonia    :</p><br>
<p><img src="https://habrastorage.org/webt/gj/-a/bk/gj-abkzub5fxb8iitykofh2u7ay.png"></p><br>
<p><strong>Program.cs</strong> â€“     Main      .     Application  App.      :<br>
<strong>App.xaml</strong>        â€“   Application.<br>
<strong>App.xaml.cs</strong> â€“ code-behind ,     xaml    ,    MainWindow.<br>
<strong>MainWindow</strong>     Window,  code-behind      (  ,     .)      MainWindow.xaml.</p><br>
<p>  ,         â€œWelcome to Avaloniaâ€.</p><br>
<h4 id="dobavlenie-stiley"> </h4><br>
<p>     ,    ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ()    <strong></strong>   .     ,      MainWindow.xaml   :</p><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">Window</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"https://github.com/avaloniaui"</span>
        <span class="hljs-attr">xmlns:x</span>=<span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
        <span class="hljs-attr">xmlns:d</span>=<span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span>
        <span class="hljs-attr">xmlns:mc</span>=<span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
        <span class="hljs-attr">mc:Ignorable</span>=<span class="hljs-string">"d"</span> <span class="hljs-attr">d:DesignWidth</span>=<span class="hljs-string">"800"</span> <span class="hljs-attr">d:DesignHeight</span>=<span class="hljs-string">"450"</span>
        <span class="hljs-attr">x:Class</span>=<span class="hljs-string">"Moviewer.MainWindow"</span>
        <span class="hljs-attr">Title</span>=<span class="hljs-string">"Moviewer"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Window.Styles</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">StyleInclude</span> <span class="hljs-attr">Source</span>=<span class="hljs-string">"avares://Moviewer.Styling/AppStyle.xaml"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Window.Styles</span>&gt;</span><font></font>
   Welcome to Avalonia!<font></font>
<span class="hljs-tag">&lt;/<span class="hljs-name">Window</span>&gt;</span></code></pre><br>
<p>  ,   :</p><br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">Window</span> <span class="hljs-attr">xmlns</span>=<span class="hljs-string">"https://github.com/avaloniaui"</span>
        <span class="hljs-attr">xmlns:x</span>=<span class="hljs-string">"http://schemas.microsoft.com/winfx/2006/xaml"</span>
        <span class="hljs-attr">xmlns:d</span>=<span class="hljs-string">"http://schemas.microsoft.com/expression/blend/2008"</span>
        <span class="hljs-attr">xmlns:mc</span>=<span class="hljs-string">"http://schemas.openxmlformats.org/markup-compatibility/2006"</span>
        <span class="hljs-attr">mc:Ignorable</span>=<span class="hljs-string">"d"</span> <span class="hljs-attr">d:DesignWidth</span>=<span class="hljs-string">"800"</span> <span class="hljs-attr">d:DesignHeight</span>=<span class="hljs-string">"450"</span>
        <span class="hljs-attr">x:Class</span>=<span class="hljs-string">"Moviewer.MainWindow"</span>
        <span class="hljs-attr">Title</span>=<span class="hljs-string">"Moviewer"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">Window.Styles</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">StyleInclude</span> <span class="hljs-attr">Source</span>=<span class="hljs-string">"avares://Moviewer.Styling/AppStyle.xaml"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Window.Styles</span>&gt;</span><font></font>
<font></font>
  <span class="hljs-tag">&lt;<span class="hljs-name">Grid</span> <span class="hljs-attr">RowDefinitions</span>=<span class="hljs-string">"Auto, *"</span> <span class="hljs-attr">Classes</span>=<span class="hljs-string">"mainContainer"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Classes</span>=<span class="hljs-string">"header"</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"0"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">StackPanel</span> <span class="hljs-attr">Classes</span>=<span class="hljs-string">"title"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Classes</span>=<span class="hljs-string">"title"</span>&gt;</span> MO <span class="hljs-tag">&lt;/<span class="hljs-name">TextBlock</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Classes</span>=<span class="hljs-string">"titleYellow"</span>&gt;</span> VIEW <span class="hljs-tag">&lt;/<span class="hljs-name">TextBlock</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Classes</span>=<span class="hljs-string">"title"</span>&gt;</span> ER <span class="hljs-tag">&lt;/<span class="hljs-name">TextBlock</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">StackPanel</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Window</span>&gt;</span></code></pre><br>
<p>      :</p><br>
<p><img src="https://habrastorage.org/webt/vz/gq/ux/vzgquxoehnn8zhpxyec6g51dcck.png"></p><br>
<h4 id="dobavlyaem-dannye"> </h4><br>
<p>          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">GitHub</a>.       Moviewer    Moviewer.csproj  :</p><br>
<pre><code class="xml hljs">  <span class="hljs-tag">&lt;<span class="hljs-name">ItemGroup</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">None</span> <span class="hljs-attr">Update</span>=<span class="hljs-string">"Data\**\*\*"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">CopyToOutputDirectory</span>&gt;</span>Always<span class="hljs-tag">&lt;/<span class="hljs-name">CopyToOutputDirectory</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">None</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">ItemGroup</span>&gt;</span></code></pre><br>
<p> ,        .  ,            : project-folder/bin/netcoreapp3.0/Data. </p><br>
<p><img src="https://habrastorage.org/webt/gl/hm/cs/glhmcsmjhbej20gqk4wntbdm3nm.png"></p><br>
<p>   :<br>
<img src="https://habrastorage.org/webt/oz/bd/bh/ozbdbh8rdda7p0z8_nhmmybs79g.png"></p><br>
<h2 id="realizuem-mvvm"> MVVM</h2><br>
<p>  ViewModels   ViewModelBase, MainWindowViewModel.cs   ViewModel    INotifyPropertyChanged.        Property,   ViewModel.      ViewModel,    ,       ViewModelBase,   ViewModel   ViewModelBase.</p><br>
<p><strong><em></em></strong>:     (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MVVMLight</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Prism</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ReactiveUI</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">MVVM Cross</a>),      .        .       ReactiveUI.</p><br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">ViewModelBase</span> : <span class="hljs-title">INotifyPropertyChanged</span><font></font>
    {<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">event</span> PropertyChangedEventHandler PropertyChanged;<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnPropertyChanged</span>(<span class="hljs-params">[CallerMemberName] <span class="hljs-keyword">string</span> propertyName = <span class="hljs-literal">null</span></span>)</span><font></font>
        {<font></font>
            PropertyChanged?.Invoke(<span class="hljs-keyword">this</span>, <span class="hljs-keyword">new</span> PropertyChangedEventArgs(propertyName));<font></font>
        }<font></font>
    }</code></pre><br>
<p> MainWindowViewModel.cs   ,   binding  ,   View  ViewModel.</p><br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainWindowViewModel</span> : <span class="hljs-title">ViewModelBase</span><font></font>
    {<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Text =&gt; <span class="hljs-string">"Welcome to Avalonia"</span>;<font></font>
    }</code></pre><br>
<p>  ,  MainWindow.xaml       Grid.</p><br>
<pre><code class="xml hljs">  <span class="hljs-tag">&lt;<span class="hljs-name">StackPanel</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"{Binding Text, Mode=OneWay}"</span>/&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">StackPanel</span>&gt;</span></code></pre><br>
<p> ,     ViewModel.   App.xaml.cs,  DataContext  MainWindow.</p><br>
<pre><code class="cs hljs">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnFrameworkInitializationCompleted</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (ApplicationLifetime <span class="hljs-keyword">is</span> IClassicDesktopStyleApplicationLifetime desktop)<font></font>
            {<font></font>
                desktop.MainWindow = <span class="hljs-keyword">new</span> MainWindow()<font></font>
                {<font></font>
                    DataContext = <span class="hljs-keyword">new</span> MainWindowViewModel()<font></font>
                };<font></font>
            }<font></font>
<font></font>
            <span class="hljs-keyword">base</span>.OnFrameworkInitializationCompleted();<font></font>
        }</code></pre><br>
<p>DataContext â€“     ,    MainWindowViewModel.   ,   : â€œproperty    MainWindowViewModel, <strong></strong>    MainWindow.xamlâ€<br>
 MainWindow.xaml   binding         MainWindowViewModel.  ,   â€œWelcome to Avaloniaâ€    .<br>
        ,   DataContext     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>.</p><br>
<h2 id="realizaciya-model"> Model</h2><br>
<p>    :  </p><br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">Movie</span><font></font>
    {<font></font>
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Id { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> VoteCount { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> PosterPath { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Title { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">double</span> VoteAverage { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> Overview { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">string</span> ReleaseDate { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
<font></font>
        [<span class="hljs-meta">JsonIgnore</span>]
        <span class="hljs-keyword">public</span> Bitmap Poster { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">set</span>; }<font></font>
    }</code></pre><br>
<p>       .   Services    .    json  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Newtonsoft.Json</a> </p><br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MovieService</span><font></font>
    {<font></font>
        <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">string</span> _workingDirectory = Environment.CurrentDirectory;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task&lt;IEnumerable&lt;Movie&gt;&gt; GetMovies(<span class="hljs-keyword">int</span> pageIndex)<font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> folderPath = <span class="hljs-string">$"<span class="hljs-subst">{_workingDirectory}</span>\\Data\\Page<span class="hljs-subst">{pageIndex}</span>"</span>;
            <span class="hljs-keyword">var</span> dataFile = <span class="hljs-string">$"page<span class="hljs-subst">{pageIndex}</span>.json"</span>;
            <span class="hljs-keyword">var</span> imageFolder = Path.Combine(folderPath, <span class="hljs-string">"Images"</span>);<font></font>
            List&lt;Movie&gt; items;<font></font>
<font></font>
            <span class="hljs-comment">//read data</span>
            <span class="hljs-keyword">using</span> (<span class="hljs-keyword">var</span> r = <span class="hljs-keyword">new</span> StreamReader(Path.Combine(folderPath, dataFile)))<font></font>
            {<font></font>
                <span class="hljs-keyword">var</span> json = r.ReadToEnd();<font></font>
                items = JsonConvert.DeserializeObject&lt;List&lt;Movie&gt;&gt;(json);<font></font>
            }<font></font>
<font></font>
            <span class="hljs-comment">//load images</span>
            <span class="hljs-keyword">foreach</span> (<span class="hljs-keyword">var</span> item <span class="hljs-keyword">in</span> items)<font></font>
            {<font></font>
                <span class="hljs-keyword">var</span> imagePath = Path.Combine(imageFolder, <span class="hljs-string">$"<span class="hljs-subst">{item.Title}</span>.png"</span>);<font></font>
                item.Poster = <span class="hljs-keyword">await</span> GetPoster(imagePath);<font></font>
            }<font></font>
            <span class="hljs-keyword">return</span> items;<font></font>
        }<font></font>
<font></font>
       <span class="hljs-function"><span class="hljs-keyword">private</span> Task&lt;Bitmap&gt; <span class="hljs-title">GetPoster</span>(<span class="hljs-params"><span class="hljs-keyword">string</span> posterUrl</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">return</span> Task.Run(() =&gt;<font></font>
            {<font></font>
                <span class="hljs-keyword">using</span> <span class="hljs-keyword">var</span> fileStream = <span class="hljs-keyword">new</span> FileStream(posterUrl, FileMode.Open, FileAccess.Read) {Position = <span class="hljs-number">0</span>};
                <span class="hljs-keyword">var</span> bitmap = <span class="hljs-keyword">new</span> Bitmap(fileStream);
                <span class="hljs-keyword">return</span> bitmap;<font></font>
            });<font></font>
        }<font></font>
<font></font>
    } <font></font>
</code></pre><br>
<p> GetMovies    ,     GetPoster.    ,   ViewModel  View    .</p><br>
<h2 id="obnovlenie-viewmodel-i-view"> ViewModel  View</h2><br>
<p>GetMovie  Task,   NotifyTaskCompletion  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Nito.AsyncEx 3.0.1</a> (<strong></strong>    3.0.1).        ViewModel    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>  .<br>
   :     ProgressBar,      .<br>
<strong><em></em></strong>:    ,    ,     ( 1 )   Task.Delay(1000).</p><br>
<pre><code class="cs hljs">    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainWindowViewModel</span> : <span class="hljs-title">ViewModelBase</span><font></font>
    {<font></font>
        <span class="hljs-keyword">private</span> MovieService _movieService;
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">MainWindowViewModel</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            InitializationNotifier = NotifyTaskCompletion.Create(InitializeAsync());<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">public</span> INotifyTaskCompletion InitializationNotifier { <span class="hljs-keyword">get</span>; <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span>; }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">InitializeAsync</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            _movieService = <span class="hljs-keyword">new</span> MovieService();
            <span class="hljs-keyword">var</span> data = <span class="hljs-keyword">await</span> _movieService.GetMovies(<span class="hljs-number">1</span>);
        <span class="hljs-keyword">await</span> Task.Delay(<span class="hljs-number">1000</span>);<font></font>
            MyItems = <span class="hljs-keyword">new</span> ObservableCollection&lt;Movie&gt;(data);<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">private</span> ObservableCollection&lt;Movie&gt; _myItems;
        <span class="hljs-keyword">public</span> ObservableCollection&lt;Movie&gt; MyItems<font></font>
        {<font></font>
            <span class="hljs-keyword">get</span> =&gt; _myItems;
            <span class="hljs-keyword">set</span><font></font>
            {<font></font>
                <span class="hljs-keyword">if</span> (<span class="hljs-keyword">value</span> != <span class="hljs-literal">null</span>)<font></font>
                {<font></font>
                    _myItems = <span class="hljs-keyword">value</span>;<font></font>
                    OnPropertyChanged();<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<p>   ,  StackPanel  MainWindows.xaml   :</p><br>
<pre><code class="xml hljs">
    <span class="hljs-tag">&lt;<span class="hljs-name">Grid</span> <span class="hljs-attr">Classes</span>=<span class="hljs-string">"contentContainer"</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">ProgressBar</span>
          <span class="hljs-attr">VerticalAlignment</span>=<span class="hljs-string">"Center"</span>
          <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Center"</span>
          <span class="hljs-attr">IsVisible</span>=<span class="hljs-string">"{Binding InitializationNotifier.IsNotCompleted}"</span>
          <span class="hljs-attr">Classes</span>=<span class="hljs-string">"progressBar"</span> <span class="hljs-attr">IsIndeterminate</span>=<span class="hljs-string">"True"</span>/&gt;</span><font></font>
<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">ListBox</span> <span class="hljs-attr">Classes</span>=<span class="hljs-string">"movies"</span>
        <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span>
        <span class="hljs-attr">IsVisible</span>=<span class="hljs-string">"{Binding InitializationNotifier.IsCompleted, Mode=TwoWay}"</span>
        <span class="hljs-attr">ScrollViewer.HorizontalScrollBarVisibility</span>=<span class="hljs-string">"Disabled"</span>
        <span class="hljs-attr">Items</span>=<span class="hljs-string">"{Binding MyItems}"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ListBox.ItemTemplate</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">DataTemplate</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Grid</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"*"</span>/&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">RowDefinition</span> <span class="hljs-attr">Height</span>=<span class="hljs-string">"Auto"</span> <span class="hljs-attr">MinHeight</span>=<span class="hljs-string">"48"</span>/&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">Grid.RowDefinitions</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">Image</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">Stretch</span>=<span class="hljs-string">"UniformToFill"</span> <span class="hljs-attr">Source</span>=<span class="hljs-string">"{Binding Poster}"</span>/&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">Border</span> <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Classes</span>=<span class="hljs-string">"title"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">Grid</span> <span class="hljs-attr">ColumnDefinitions</span>=<span class="hljs-string">"*, 0.4*"</span> <span class="hljs-attr">Margin</span>=<span class="hljs-string">"4"</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">FontSize</span>=<span class="hljs-string">"18"</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"{Binding Title}"</span> /&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">FontSize</span>=<span class="hljs-string">"24"</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Text</span>=<span class="hljs-string">"{Binding VoteAverage}"</span>/&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">Border</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">DataTemplate</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ListBox.ItemTemplate</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ListBox.ItemsPanel</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">ItemsPanelTemplate</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">WrapPanel</span> <span class="hljs-attr">ItemWidth</span>=<span class="hljs-string">"340"</span> <span class="hljs-attr">ItemHeight</span>=<span class="hljs-string">"480"</span> <span class="hljs-attr">Orientation</span>=<span class="hljs-string">"Horizontal"</span>/&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">ItemsPanelTemplate</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ListBox.ItemsPanel</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">ListBox</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Grid</span>&gt;</span>
</code></pre><br>
<p> ,       ProgressBar,    .</p><br>
<p><img src="https://habrastorage.org/webt/i7/ro/tk/i7rotksfpdehy1_0ekodjgu6edy.gif"></p><br>
<h3 id="pereklyuchaem-nabory-filmov">  </h3><br>
<p> ViewModel      Page,    .     PropertyChange  â€œâ€     property:</p><br>
<pre><code class="cs hljs">        <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> _page;
        <span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> Page<font></font>
        {<font></font>
            <span class="hljs-keyword">get</span> =&gt; _page;
            <span class="hljs-keyword">set</span><font></font>
            {<font></font>
                _page = <span class="hljs-keyword">value</span>;<font></font>
                OnPropertyChanged();<font></font>
            }<font></font>
        }</code></pre><br>
<p><strong><em></em></strong>:      ,     (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Fody</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">ReactiveUI</a>)    .</p><br>
<p>  : ,     .         GetMovie    .    ,    ,    .       ,     .</p><br>
<pre><code class="cs hljs">         <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">LoadData</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> page</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">var</span> data = <span class="hljs-keyword">await</span> _movieService.GetMovies(page);
            <span class="hljs-keyword">await</span> Task.Delay(<span class="hljs-number">1000</span>);<font></font>
            MyItems = <span class="hljs-keyword">new</span> ObservableCollection&lt;Movie&gt;(data);<font></font>
        }</code></pre><br>
<p> ViewModel    :</p><br>
<pre><code class="cs hljs">        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">async</span> Task <span class="hljs-title">InitializeAsync</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            Page = <span class="hljs-number">1</span>;<font></font>
            _movieService = <span class="hljs-keyword">new</span> MovieService();
            <span class="hljs-keyword">await</span> LoadData(Page);<font></font>
        }</code></pre><br>
<p>    :</p><br>
<pre><code class="cs hljs">        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">NextPage</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (_page+<span class="hljs-number">1</span> &gt; <span class="hljs-number">10</span>)<font></font>
                Page = <span class="hljs-number">1</span>;  
            <span class="hljs-keyword">else</span>
                Page = _page + <span class="hljs-number">1</span>;<font></font>
<font></font>
            InitializationNotifier = NotifyTaskCompletion.Create(LoadData(Page));<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">PrevPage</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (<span class="hljs-number">1</span> &gt; _page - <span class="hljs-number">1</span>)<font></font>
                Page = <span class="hljs-number">10</span>;
            <span class="hljs-keyword">else</span>
                Page = _page - <span class="hljs-number">1</span>;<font></font>
<font></font>
            InitializationNotifier = NotifyTaskCompletion.Create(LoadData(Page));<font></font>
        }<font></font>
</code></pre><br>
<p>       .    ,   1    .    Prev  ,    .  ,     MVVM      (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Commands</a>).       XAML        ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> (   ),   ,   .</p><br>
<p><img src="https://habrastorage.org/webt/a6/vx/p-/a6vxp-jkeefdcs0frk7rhdyhz-g.gif"></p><br>
<p>     ,      ,    ViewModel,   NotifyTaskCompletion.   ,  ProgressBar       ,  InitializationNotifier  property,  OnPropertyChange():</p><br>
<pre><code class="cs hljs">        <span class="hljs-keyword">private</span> INotifyTaskCompletion _initializationNotifier;
        <span class="hljs-keyword">public</span> INotifyTaskCompletion InitializationNotifier<font></font>
        {<font></font>
            <span class="hljs-keyword">get</span> =&gt; _initializationNotifier;
            <span class="hljs-keyword">private</span> <span class="hljs-keyword">set</span><font></font>
            {<font></font>
                _initializationNotifier = <span class="hljs-keyword">value</span>;<font></font>
                OnPropertyChanged();<font></font>
            }<font></font>
        }</code></pre><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Grid</a>  2-  3- .  Grid.Row = â€œ1â€   (,    &gt;    ):</p><br>
<pre><code class="xml hljs">ColumnDefinitions="Auto, *, Auto"<font></font>
RowDefinitions="Auto, *" &gt;</code></pre><br>
<p> ProgressBar   </p><br>
<pre><code class="xml hljs"> Grid.Column="1" Grid.Row="1" </code></pre><br>
<p> MainWindow        . </p><br>
<pre><code class="xml hljs">      <span class="hljs-tag">&lt;<span class="hljs-name">TextBlock</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"1"</span>
                 <span class="hljs-attr">HorizontalAlignment</span>=<span class="hljs-string">"Center"</span>
                 <span class="hljs-attr">Margin</span>=<span class="hljs-string">"4"</span>
                 <span class="hljs-attr">FontSize</span>=<span class="hljs-string">"18"</span>
                 <span class="hljs-attr">FontWeight</span>=<span class="hljs-string">"Bold"</span>
                 <span class="hljs-attr">Foreground</span>=<span class="hljs-string">"#819FFF"</span>
                 <span class="hljs-attr">Text</span>=<span class="hljs-string">"{Binding Path=Page}"</span>/&gt;</span><font></font>
<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">Command</span>=<span class="hljs-string">"{Binding PrevPage}"</span>
        <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"0"</span>
        <span class="hljs-attr">Content</span>=<span class="hljs-string">"PREV"</span>
        <span class="hljs-attr">Classes</span>=<span class="hljs-string">"navigation"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span><font></font>
<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">Button</span> <span class="hljs-attr">Command</span>=<span class="hljs-string">"{Binding NextPage}"</span>
            <span class="hljs-attr">Grid.Row</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">Grid.Column</span>=<span class="hljs-string">"2"</span>
            <span class="hljs-attr">Content</span>=<span class="hljs-string">"NEXT"</span>
            <span class="hljs-attr">Classes</span>=<span class="hljs-string">"navigation"</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
</code></pre><br>
<p> !     Windows 10, Mint. </p><br>
<p><img src="https://habrastorage.org/webt/m1/l0/kh/m1l0khsdkqdhwns-ppnxs5jwq_w.jpeg"></p><br>
<p><img src="https://habrastorage.org/webt/st/vs/nu/stvsnu3rnwr4jii95utubzpl4n0.jpeg"></p><br>
<h2 id="kak-zapustit-na-linux">   Linux</h2><br>
<p>  Net Core,            dotnet Moviewer.dll (  ,      )</p><br>
<h2 id="mnenie-avtora-pro-avalonia">   Avalonia</h2><br>
<p>      ,       Â«Â»  - Â«, Â».    ,         â€œ UI   Net   Windowsâ€.           ,       . ,        â€“   :   ,  ,        ,       . </p><br>
<p>  Avalonia     css.      .  ,             WPF/UWP.           :</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="> </a>;</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">Citrus:    Avalonia</a>;</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">A Cross-Platform GUI Theme for Desktop .NET Core Applications</a></li>
</ul><br>
<p>   ,           Visual Studio,      .      Linux,   .    (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link">ForNeVeR</a>)  Rider       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>  .</p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»…æ­¤è€Œå·²ï¼Œæˆ‘å¸Œæœ›æœ¬æ–‡å¯¹æ‚¨æœ‰æ‰€å¸®åŠ©ï¼Œå¹¶ä¸”æ‚¨ä¼šåœ¨æœ¬æ–‡ä¸­æ‰¾åˆ°é€‚åˆè‡ªå·±çš„æ–°ä¸œè¥¿ã€‚</font><font style="vertical-align: inherit;">æœ€åï¼Œæˆ‘è¦æ„Ÿè°¢ï¼š</font></font></p><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‹å‹å’ŒåŒäº‹ä¸ºç¬¬ä¸€ç¼–è¾‘ï¼› </font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é˜¿ç“¦éš†ç”µä¿¡ç•Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»™ç”¨æˆ· </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‹‰ç›</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> å’Œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰“è´¥ä¸–ç•Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æç¤ºå’ŒæŠ€å·§ã€‚</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN505016/index.html">å…è´¹æ•™è‚²è¯¾ç¨‹ï¼šç®¡ç†</a></li>
<li><a href="../zh-CN505018/index.html">ç¡’çš„å·¥ä½œåŸç†ï¼šç¬¬1-2é›†</a></li>
<li><a href="../zh-CN505024/index.html">YouTrackç°åœ¨å…·æœ‰çŸ¥è¯†åº“</a></li>
<li><a href="../zh-CN505026/index.html">ä½¿ç”¨æ–¹å‘ç›˜ä¸Šçš„æŒ‰é’®æ§åˆ¶æ±½è½¦ä¸­çš„å¤–éƒ¨è®¾å¤‡</a></li>
<li><a href="../zh-CN505034/index.html">LEDè€åŒ–æµ‹è¯•</a></li>
<li><a href="../zh-CN505046/index.html">ä¸€æµçš„å†…å®¹å’Œé…’å§æ‘‡æ»šæœ‰ä»€ä¹ˆå…±åŒç‚¹ï¼Ÿä¸€ä¸ªå¯¼è‡´æˆåŠŸçš„é¡¹ç›®â€œå¤±è´¥â€çš„æ•…äº‹</a></li>
<li><a href="../zh-CN505052/index.html">å¿«é€Ÿæµ‹è¯•Motionia.jså’ŒConsoleimg.js</a></li>
<li><a href="../zh-CN505060/index.html">é€šè¿‡Pythonå°†numpyæ•°ç»„æ’å…¥MySQLæ•°æ®åº“</a></li>
<li><a href="../zh-CN505064/index.html">Mikrotik split-dnsï¼šä»–ä»¬åšåˆ°äº†</a></li>
<li><a href="../zh-CN505070/index.html">å…³äºè‰¯å¥½å†™ä½œçš„æ™ºåŠ›è‡ªæ…°</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>