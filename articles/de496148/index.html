<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíù üë®‚Äçüë¶ ‚Ñ¢Ô∏è Strukturelle Entwurfsmuster in ES6 + am Beispiel des Game of Thrones üèöÔ∏è üïõ ‚ú≥Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag, Freunde! 
 
 Strukturelle Entwurfsmuster werden verwendet, um gro√üe Beziehungssysteme zwischen Objekten aufzubauen, um Flexibilit√§t und Eff...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Strukturelle Entwurfsmuster in ES6 + am Beispiel des Game of Thrones</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496148/"><img src="https://habrastorage.org/webt/ke/ak/o2/keako2ftztnymb58meytsowqgwe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Guten Tag, Freunde! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Strukturelle Entwurfsmuster werden verwendet, um gro√üe Beziehungssysteme zwischen Objekten aufzubauen, um Flexibilit√§t und Effizienz aufrechtzuerhalten. </font><font style="vertical-align: inherit;">Schauen wir uns einige davon mit Verweisen auf das Game of Thrones an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Softwareentwicklung werden Entwurfsmuster verwendet, um die h√§ufigsten Probleme zu l√∂sen. </font><font style="vertical-align: inherit;">Sie stellen die Best Practices dar, die Entwickler seit langem beim Testen von Anwendungen und Beheben von Fehlern entwickelt haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel werden wir √ºber strukturelle Muster sprechen. </font><font style="vertical-align: inherit;">Sie dienen zum Entwerfen von Anwendungen, indem sie eine einfache M√∂glichkeit zur Interaktion mit Instanzen definieren.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Am h√§ufigsten sind die folgenden Muster:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adapter</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dekorateur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fassade</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adaptiv (Leichtgewicht (Element), Fliegengewicht)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proxy</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adapter</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Adapter ist eine Vorlage, mit der Sie die Schnittstelle einer Klasse in eine andere √ºbersetzen (√ºbertragen) k√∂nnen. </font><font style="vertical-align: inherit;">Dadurch k√∂nnen Klassen zusammenarbeiten, was aufgrund inkompatibler Strukturen h√§ufig nicht m√∂glich ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich vor, die Targaryen haben beschlossen, mit allen ihnen zur Verf√ºgung stehenden Kr√§ften (Flawless and Dragons) zu k√§mpfen, und Daenerys sucht nach einer M√∂glichkeit, mit jedem von ihnen zu interagieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden folgendes brauchen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unbeschmutzte Klasse</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Drachenklasse</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Adapterklasse zum √úbergeben der Brennmethode der Dragon-Klasse an die allgemeine Kill-Methode</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Unsullied</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name
        <span class="hljs-keyword">this</span>.kill = <span class="hljs-keyword">this</span>.kill.bind(<span class="hljs-keyword">this</span>)<font></font>
    }<font></font>
<font></font>
    kill() {<font></font>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Unsullied <span class="hljs-subst">${<span class="hljs-keyword">this</span>.name}</span> kill`</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Dragon</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name
        <span class="hljs-keyword">this</span>.burn = <span class="hljs-keyword">this</span>.burn.bind(<span class="hljs-keyword">this</span>)<font></font>
    }<font></font>
<font></font>
    burn() {<font></font>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Dragon <span class="hljs-subst">${<span class="hljs-keyword">this</span>.name}</span> burn`</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">DragonAdapter</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Dragon</span> </span>{<font></font>
    kill() {<font></font>
        <span class="hljs-keyword">this</span>.burn()<font></font>
    }<font></font>
}<font></font>
<font></font>
(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> Army = [
        <span class="hljs-keyword">new</span> DragonAdapter(<span class="hljs-string">'Rhaegal'</span>),
        <span class="hljs-keyword">new</span> Unsullied(<span class="hljs-string">'Grey worm'</span>),
        <span class="hljs-keyword">new</span> DragonAdapter(<span class="hljs-string">'Drogon'</span>)<font></font>
    ]<font></font>
    Army.forEach(<span class="hljs-function"><span class="hljs-params">soldier</span> =&gt;</span> soldier.kill())<font></font>
})()<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsf√§lle</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn neue Komponenten oder Module mit in der Anwendung vorhandenen Komponenten zusammenarbeiten sollen oder wenn ein Teil des Codes infolge von Refactoring verbessert wurde, aber mit den alten Teilen interagieren soll.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie eine Bibliothek zur L√∂sung sekund√§rer Probleme gefunden haben und diese in Ihre Anwendung integrieren m√∂chten.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dekorateur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Dekorator ist eine Vorlage, mit der vorhandenen Klassen dynamisch Verhalten oder Funktionen hinzugef√ºgt werden k√∂nnen. </font><font style="vertical-align: inherit;">Dies ist eine Alternative zur Unterklassifizierung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, wir m√∂chten √ºberpr√ºfen, ob das Getr√§nk, das K√∂nig Joffrey serviert wird, vergiftet ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden folgendes brauchen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K√∂nigsklasse</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K√∂nig Joffrey Instanz</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Getr√§nkeklasse</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse Vergiftetes Getr√§nk</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isNotPoisoned-Funktion, um das Leben des K√∂nigs zu retten</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isNotPoisoned</span>(<span class="hljs-params">t, n, descriptor</span>) </span>{
    <span class="hljs-keyword">const</span> original = descriptor.value
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> original === <span class="hljs-string">'function'</span>) {<font></font>
        descriptor.value = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">...args</span>) </span>{
            <span class="hljs-keyword">const</span> [drink] = args
            <span class="hljs-keyword">if</span>(drink.constructor.name === <span class="hljs-string">'poisonedDrink'</span>) <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Someone wants to kill the king'</span>)
            <span class="hljs-keyword">return</span> original.apply(<span class="hljs-keyword">this</span>, args)<font></font>
        }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> descriptor<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">PoisonedDrink</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Drink</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">King</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//     </span>
    <span class="hljs-comment">//      </span><font></font>
    @isNotPoisoned<font></font>
    drink(drink) {<font></font>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`The king drank <span class="hljs-subst">${drink}</span>`</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> joffrey = <span class="hljs-keyword">new</span> King(<span class="hljs-string">'Joffrey Baratheon'</span>)
    <span class="hljs-keyword">const</span> normalDrink = <span class="hljs-keyword">new</span> Drink(<span class="hljs-string">'water'</span>)
    <span class="hljs-keyword">const</span> poisonedDrink = <span class="hljs-keyword">new</span> Drink(<span class="hljs-string">'poisoned water'</span>)<font></font>
    joffrey.drink(normalDrink)<font></font>
    joffrey.drink(poisonedDrink)<font></font>
})()<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsf√§lle f√ºr Dekorateure</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir einer gro√üen Anzahl von Klassen oder Methoden mit unterschiedlichen Kontexten eine Funktion hinzuf√ºgen m√∂chten</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir eine zuvor erstellte Klasse verbessern m√∂chten, aber keine Zeit f√ºr ein vollst√§ndiges Refactoring haben</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fassade</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fassade - eine in Bibliotheken weit verbreitete Vorlage. </font><font style="vertical-align: inherit;">Es wird verwendet, um eine einheitliche und einfache Schnittstelle bereitzustellen und die Komplexit√§t seiner Subsysteme oder Unterklassen zu verbergen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich vor, wir wollen eine Armee in einem Kampf mit Barbaren kontrollieren. </font><font style="vertical-align: inherit;">Instanzen unserer Armee haben Methoden, um Kavallerie, Soldaten und Riesen zu bewegen. </font><font style="vertical-align: inherit;">Wir sind jedoch gezwungen, diese Methoden separat aufzurufen, was viel Zeit in Anspruch nimmt. </font><font style="vertical-align: inherit;">Wie k√∂nnen wir das Armeemanagement vereinfachen? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden folgendes brauchen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Armeeproben</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ArmyFacade-Klasse</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Horse</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name<font></font>
    }<font></font>
    attack() {<font></font>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Infantry <span class="hljs-subst">${<span class="hljs-keyword">this</span>.name}</span> attack`</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Soldier</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name<font></font>
    }<font></font>
    attack() {<font></font>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Soldier <span class="hljs-subst">${<span class="hljs-keyword">this</span>.name}</span> attack`</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Giant</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name<font></font>
    }<font></font>
    attack() {<font></font>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Giant <span class="hljs-subst">${<span class="hljs-keyword">this</span>.name}</span> attack`</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArmyFacade</span> </span>{
    <span class="hljs-keyword">constructor</span>() {
        <span class="hljs-comment">//  ,           </span>
        <span class="hljs-keyword">this</span>.army = [];
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">10</span></span>)).<span class="hljs-params">fill</span><span class="hljs-params">()</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">(_, i</span>) =&gt;</span> <span class="hljs-keyword">this</span>.army.push(<span class="hljs-keyword">new</span> Horse(i + <span class="hljs-number">1</span>)));
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">10</span></span>)).<span class="hljs-params">fill</span><span class="hljs-params">()</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">(_, i</span>) =&gt;</span> <span class="hljs-keyword">this</span>.army.push(<span class="hljs-keyword">new</span> Soldier(i + <span class="hljs-number">1</span>)));
        <span class="hljs-function">(<span class="hljs-params"><span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(<span class="hljs-number">1</span></span>)).<span class="hljs-params">fill</span><span class="hljs-params">()</span>.<span class="hljs-params">forEach</span>(<span class="hljs-params">(_, i</span>) =&gt;</span> <span class="hljs-keyword">this</span>.army.push(<span class="hljs-keyword">new</span> Giant(i + <span class="hljs-number">1</span>)));
        <span class="hljs-keyword">this</span>.getByType = <span class="hljs-keyword">this</span>.getByType.bind(<span class="hljs-keyword">this</span>)<font></font>
    }<font></font>
    getByType(type, occurency) {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.army.filter(<span class="hljs-function"><span class="hljs-params">el</span> =&gt;</span> {
            <span class="hljs-keyword">return</span> el.constructor.name === type &amp;&amp; occurency-- &gt; <span class="hljs-number">0</span><font></font>
        })<font></font>
    }<font></font>
    attack(armyInfo = {}) {<font></font>
        <span class="hljs-keyword">const</span> keys = <span class="hljs-built_in">Object</span>.keys(armyInfo)
        <span class="hljs-keyword">let</span> subArmy = []<font></font>
        keys.forEach(<span class="hljs-function"><span class="hljs-params">soldier</span> =&gt;</span> {
            <span class="hljs-keyword">switch</span>(soldier) {
                <span class="hljs-keyword">case</span> <span class="hljs-string">'horse'</span>: {<font></font>
                    subArmy = [...subArmy, ...this.getByType(<span class="hljs-string">'Horse'</span>, armyInfo.horse)]
                    <span class="hljs-keyword">break</span>;<font></font>
                }<font></font>
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'soldier'</span>: {<font></font>
                    subArmy = [...subArmy, ...this.getByType(<span class="hljs-string">'Soldier'</span>, armyInfo.soldier)]
                    <span class="hljs-keyword">break</span>;<font></font>
                }<font></font>
                    <span class="hljs-keyword">case</span> <span class="hljs-string">'giant'</span>: {<font></font>
                    subArmy = [...subArmy, ...this.getByType(<span class="hljs-string">'Giant'</span>, armyInfo.giant)]
                    <span class="hljs-keyword">break</span>;<font></font>
                }<font></font>
            }<font></font>
        })<font></font>
        subArmy.forEach(<span class="hljs-function"><span class="hljs-params">soldier</span> =&gt;</span> soldier.attack())<font></font>
    }<font></font>
}<font></font>
<font></font>
(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> army = <span class="hljs-keyword">new</span> ArmyFacade()<font></font>
    army.attack({<font></font>
        <span class="hljs-attr">horse</span>: <span class="hljs-number">3</span>,
        <span class="hljs-attr">soldier</span>: <span class="hljs-number">5</span>,
        <span class="hljs-attr">giant</span>: <span class="hljs-number">1</span><font></font>
    })<font></font>
})()<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsf√§lle</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir viele Codezeilen, die sich m√∂glicherweise wiederholen, in eine einfache Funktion konvertieren m√∂chten.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opportunist</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adaptiv - eine Vorlage f√ºr eine effiziente Daten√ºbertragung zwischen vielen kleinen Objekten. </font><font style="vertical-align: inherit;">Es wird verwendet, um die Leistung zu verbessern und Speicherplatz zu sparen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angenommen, wir wollen eine Armee wei√üer Wanderer kontrollieren. </font><font style="vertical-align: inherit;">Gleichzeitig k√∂nnen unsere Wanderer drei Zust√§nde haben:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">am Leben</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tot</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auferstanden</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden folgendes brauchen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WhiteWalker-Klasse</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klasse WhiteWalkerFlyweight</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klient f√ºr die Auferstehung der wei√üen Wanderer</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WhiteWalker</span> </span>{
    <span class="hljs-keyword">constructor</span>({<font></font>
        sprite,<font></font>
        someOtherBigInformation<font></font>
    }) {<font></font>
        <span class="hljs-keyword">this</span>.sprite = sprite
        <span class="hljs-keyword">this</span>.someOtherBigInformation = someOtherBigInformation
        <span class="hljs-keyword">this</span>.state = <span class="hljs-string">'alive'</span>
        <span class="hljs-keyword">this</span>.resurrect = <span class="hljs-keyword">this</span>.resurrect.bind(<span class="hljs-keyword">this</span>)
        <span class="hljs-keyword">this</span>.kill = <span class="hljs-keyword">this</span>.kill.bind(<span class="hljs-keyword">this</span>)
        <span class="hljs-keyword">this</span>.getState = <span class="hljs-keyword">this</span>.getState.bind(<span class="hljs-keyword">this</span>)<font></font>
    }<font></font>
    kill() {<font></font>
        <span class="hljs-keyword">this</span>.state = <span class="hljs-string">'dead'</span><font></font>
    }<font></font>
    resurrect() {<font></font>
        <span class="hljs-keyword">this</span>.state = <span class="hljs-string">'resurrected'</span><font></font>
    }<font></font>
    getState() {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.state<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> whiteWalker = <span class="hljs-keyword">new</span> WhiteWalker({
    <span class="hljs-attr">sprite</span>: <span class="hljs-built_in">Date</span>.now()<font></font>
})<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">WhiteWalkerFlyweight</span> </span>{
    <span class="hljs-keyword">constructor</span>(position, name) {
        <span class="hljs-keyword">this</span>.position = position
        <span class="hljs-keyword">this</span>.name = name
        <span class="hljs-keyword">this</span>.whiteWalker = whiteWalker<font></font>
    }<font></font>
    getInfo() {<font></font>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`The White Walker <span class="hljs-subst">${<span class="hljs-keyword">this</span>.name}</span> whit sprite <span class="hljs-subst">${<span class="hljs-keyword">this</span>.whiteWalker.sprite}</span> is <span class="hljs-subst">${<span class="hljs-keyword">this</span>.whiteWalker.state}</span>`</span>)<font></font>
    }<font></font>
    getFatherInstance() {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.whiteWalker<font></font>
    }<font></font>
}<font></font>
<font></font>
(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> myArmy = []
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++) {<font></font>
        myArmy.push(<span class="hljs-keyword">new</span> WhiteWalkerFlyweight({
            <span class="hljs-attr">x</span>: <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">200</span>),
            <span class="hljs-attr">y</span>: <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">200</span>),<font></font>
        }, i + <span class="hljs-number">1</span>))<font></font>
    }<font></font>
    myArmy.forEach(<span class="hljs-function"><span class="hljs-params">soldier</span> =&gt;</span> soldier.getInfo())
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'KILL ALL'</span>)
    <span class="hljs-keyword">const</span> [onOffWhiteWalker] = myArmy<font></font>
    onOffWhiteWalker.getFatherInstance().kill()<font></font>
    myArmy.forEach(<span class="hljs-function"><span class="hljs-params">soldier</span> =&gt;</span> soldier.getInfo())
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'RESURRECT ALL'</span>)<font></font>
    onOffWhiteWalker.getFatherInstance().resurrect()<font></font>
    myArmy.forEach(<span class="hljs-function"><span class="hljs-params">soldier</span> =&gt;</span> soldier.getInfo())<font></font>
})()<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsf√§lle</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir vermeiden m√∂chten, eine gro√üe Anzahl von Objekten zu erstellen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir Objekte erstellen m√∂chten, die viel Speicher verbrauchen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir Objekte brauchen, deren Erstellung komplexe Berechnungen erfordert</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir nur √ºber begrenzte Ressourcen verf√ºgen: Rechenleistung, Speicher, Speicherplatz usw.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proxies</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Proxy-Vorlage wird, wie der Name schon sagt, als Add-In oder Ersatz f√ºr ein anderes Objekt verwendet, um den Zugriff auf dieses Objekt zu steuern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Stellen Sie sich vor, K√∂nigin Cersei hat ein Dekret erlassen, das die Rekrutierung von mehr als 100 Soldaten ohne ihre Erlaubnis verbietet. </font><font style="vertical-align: inherit;">Wie setzen wir das um? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden folgendes brauchen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klassensoldat</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ArmyProxy-Klasse zur Prozesssteuerung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instanzen der Cercei-Klasse zur Erlaubnis</font></font></li>
</ul><br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Soldier</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name<font></font>
    }<font></font>
    attack() {<font></font>
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Soldier <span class="hljs-subst">${<span class="hljs-keyword">this</span>.name}</span> attack`</span>)<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Queen</span> </span>{
    <span class="hljs-keyword">constructor</span>(name) {
        <span class="hljs-keyword">this</span>.name = name<font></font>
    }<font></font>
    getConsent(casualNumber) {<font></font>
        <span class="hljs-keyword">return</span> casualNumber %<span class="hljs-number">2</span> === <span class="hljs-number">0</span><font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ArmyProxy</span> </span>{
    <span class="hljs-keyword">constructor</span>() {
        <span class="hljs-keyword">this</span>.army = []
        <span class="hljs-keyword">this</span>.available = <span class="hljs-number">0</span>
        <span class="hljs-keyword">this</span>.queen = <span class="hljs-keyword">new</span> Queen(<span class="hljs-string">'Cercei'</span>)
        <span class="hljs-keyword">this</span>.getQueenConsent = <span class="hljs-keyword">this</span>.getQueenConsent.bind(<span class="hljs-keyword">this</span>)<font></font>
    }<font></font>
<font></font>
    getQueenConsent() {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.queen.getConsent(<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">200</span>))<font></font>
    }<font></font>
<font></font>
    enrollSoldier() {<font></font>
        <span class="hljs-keyword">if</span>(!<span class="hljs-keyword">this</span>.available) {
            <span class="hljs-keyword">const</span> consent = <span class="hljs-keyword">this</span>.getQueenConsent()
            <span class="hljs-keyword">if</span>(!consent) {
                <span class="hljs-built_in">console</span>.error(<span class="hljs-string">`The queen <span class="hljs-subst">${<span class="hljs-keyword">this</span>.queen.name}</span> deny the consent`</span>)
                <span class="hljs-keyword">return</span><font></font>
            }<font></font>
            <span class="hljs-keyword">this</span>.available = <span class="hljs-number">100</span><font></font>
        }<font></font>
        <span class="hljs-keyword">this</span>.army.push(<span class="hljs-keyword">new</span> Soldier(<span class="hljs-keyword">this</span>.army.length))
        <span class="hljs-keyword">this</span>.available--<font></font>
    }<font></font>
}<font></font>
<font></font>
(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">const</span> myArmy = <span class="hljs-keyword">new</span> ArmyProxy()
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++) {<font></font>
        myArmy.enrollSoldier()<font></font>
    }<font></font>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`I have <span class="hljs-subst">${myArmy.army.length}</span> soldiers`</span>)<font></font>
})()<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsf√§lle</font></font></h4><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn das Objekt, das wir verwenden m√∂chten, weit entfernt ist (tief verschachtelt), speichern Sie die Logik im Proxy, um den Client nicht zu beeintr√§chtigen</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir in Erwartung eines realen Ergebnisses ein ungef√§hres Ergebnis angeben m√∂chten, dessen Berechnung viel Zeit in Anspruch nimmt</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn wir den Zugriff oder die Erstellung eines Objekts steuern m√∂chten, ohne dessen Logik zu beeintr√§chtigen</font></font></li>
</ul><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Code </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hinweis </font><font style="vertical-align: inherit;">trans: hier ist ein tolles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √ºber Designmuster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielen Dank f√ºr Ihre Aufmerksamkeit.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de496134/index.html">So entfernen Sie verschwommene Fotos mit Python</a></li>
<li><a href="../de496136/index.html">Verwenden der ColorPicker-Bibliothek in Android zum Implementieren einer flexiblen Farbauswahl</a></li>
<li><a href="../de496138/index.html">Nehmen Sie an der musikalischen Programmierung teil und machen Sie mit - Sprachen, die Ihnen dabei helfen</a></li>
<li><a href="../de496144/index.html">Die Fr√ºchte der Isolation: COVID-19 Interaktive Karte mit historischen Diagrammen und Migrationsbeschr√§nkungen</a></li>
<li><a href="../de496146/index.html">Lua auf STM32</a></li>
<li><a href="../de496152/index.html">Netzwerkautomatisierung. Fall des Lebens</a></li>
<li><a href="../de496154/index.html">Customer Service Automation: Eine End-to-End-L√∂sung von DeepPavlov</a></li>
<li><a href="../de496156/index.html">Wie Verkehrsanalysesysteme Hacker-Taktiken erkennen von MITRE ATT & CK, Teil 3</a></li>
<li><a href="../de496160/index.html">Wir untersuchen die Mediastreamer2 VoIP-Engine. Teil 5</a></li>
<li><a href="../de496162/index.html">Terraform, Mono-Repositories und Compliance als Code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>