<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📫 👵 👩🏻 Was ist das neue nRF Connect SDK für Nordic? Evolution, Revolution oder Alternative? 🎄 🤘🏼 ☎️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Letzte Woche, Nordic Semiconductor hinzugefügt nRF52 Serie Unterstützung für die nRF Connect SDK. 
 
 
 
 Die Hauptfrage, die die meisten Menschen hab...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Was ist das neue nRF Connect SDK für Nordic? Evolution, Revolution oder Alternative?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497034/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Letzte Woche, Nordic Semiconductor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hinzugefügt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nRF52 Serie Unterstützung für die nRF Connect SDK. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6l/rn/68/6lrn68dbbfqzq7nvalyoaq6zcrg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Hauptfrage, die die meisten Menschen haben, ist, was es ist und warum es wichtig ist. </font><font style="vertical-align: inherit;">Diese Frage ist besonders relevant für diejenigen, die Erfahrung mit dem nRF5 SDK haben, und es gibt viele davon.</font></font><br>
<a name="habracut"></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ich stelle sofort fest, dass der Artikel in erster Linie für diejenigen geschrieben wurde, die traditionelle Ansätze bei der Entwicklung von Cortex-M-Level- oder Close-Geräten verwenden. </font><font style="vertical-align: inherit;">Daher scheinen einige Definitionen und Analogien aus der Sicht derjenigen, die auf hohem Niveau arbeiten (was auf der Linux-Seite geschieht), möglicherweise nicht vollständig korrekt zu sein, aber es wird für diejenigen, die gerade so anfangen, einfacher zu verstehen sein. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kommentare und Erläuterungen sind immer willkommen.</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein wenig darüber, wer Nordic ist und wie es ihnen jetzt gut geht</font></font></b>
                        <div class="spoiler_text">    Nordic     . ,   ,    Bluetooth Low Energy,  90%     .         : Starline, Pandora, Scher-Khan      .         Redmond,   Ready4Sky.             .         2     .<br>
<br>
    Nordic Semiconductor   40%,  2.5  ,     (TI). ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>.   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Samsung</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Xiaomi</a>   Nordic   ,   ,        .<br>
 <br>
   ,      Nordic,   ,         .      nRF5x   STM   (   ).<br>
<br>
   :<br>
<br>
<ul>
<li>    </li>
<li>   (       )</li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>  SDK </li>
<li>  (    )</li>
<li>  Altium   </li>
<li> </li>
</ul><br>
 ,  Nordic Semiconductor       .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier stellt sich die Hauptfrage, warum das neue SDK veröffentlicht wurde und wie es sich vom aktuellen unterscheidet. </font><font style="vertical-align: inherit;">Wenn ja, ist mit der aktuellen Lösung alles in Ordnung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das aktuelle </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF5-SDK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> arbeitet auf der Grundlage einer einfachen Warteschlange. In den meisten Fällen reicht dies aus, um fast jede Aufgabe zu implementieren (obwohl einige Unternehmen immer noch ihre eigenen SDKs verwenden, dies sind jedoch Ausnahmen von den Regeln). </font><font style="vertical-align: inherit;">Das neue </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF Connect SDK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verwendet einen radikal anderen Ansatz, der auf Zephyr RTOS basiert. </font><font style="vertical-align: inherit;">Betrachten Sie die Unterschiede genauer. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RTOS (RTOS) haben sowohl bestimmte Vor- als auch bekannte Nachteile. </font><font style="vertical-align: inherit;">Letztere umfassen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zusätzlicher Aufwand für die Wartung des Betriebssystems</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">große Komplexität der Entwicklung bei einfachen Projekten</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erhöhte Build-Komplexität</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Rest des RTOS sind:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erhöhte Zuverlässigkeit durch Kontrolle der einzelnen Flüsse</font></font></li>
<li>           </li>
<li>     </li>
<li>  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Innerhalb von Nordic ist dies seit der Einführung des neuen Systems in Package (SIP) mit LTE Cat-M / NB-IoT / GPS - der nRF91-Serie - interessant und relevant geworden. Dieses SIP weist aufgrund des neuen Cortex-M33-Kerns und anderer Anforderungen an die Netzwerkkomponente, die aufgrund des Übergangs von BLE zu Mobilfunknetzen auftraten, eine höhere Leistung auf. Eine weitere Neuerung war das SDR-Modem, das auf einem separaten Kern arbeitet und mit dem die interne Interaktion organisiert werden musste. Zum ersten Mal erschien hier das RTOS-basierte SDK, und für diejenigen, die zum ersten Mal auf einen neuen Ansatz stießen, wurden bereits in der Vorbereitungsphase eine Reihe von Fragen aufgeworfen. Ein spezieller Assistent wurde ebenfalls für die korrekte Montage der Entwicklungsumgebung freigegeben - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Getting Started Assistant</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Er sagt Ihnen, welche Komponenten Sie installieren müssen (es gibt viele davon, siehe unten) und überprüft, ob alles korrekt installiert ist. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b04/168/443/b04168443c2e299b22756b152308d774.gif" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unter diesem Gesichtspunkt können wir den Übergang zu Zephyr mit dem Auftreten des ersten Massen-ARM Cortex-M und dem Übergang zu 32 Bit vergleichen. Jetzt verwenden die meisten 32-Bit-MKs als Haupt-MKs, über die es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einen Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> über Habré gibt. Es wird auch über den Übergang berichtet, der anfangs unnötig kompliziert schien. Aber im Laufe der Zeit kamen fast alle zu dem Schluss, dass dies zum Standard geworden ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist erwähnenswert, dass Zephyr OS nicht das einzige RTOS ist, das auf nordischen Chips ausgeführt wird. Beispiele für Projekte mit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeRTOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ab 2016 in SDK v.11 verfügbar, und noch früher in SDK v.9 gab es Keil RTX-Unterstützung für die nRF51-Familie (2015). </font><font style="vertical-align: inherit;">Früher waren dies jedoch eher experimentelle Funktionen, und die RTOS-Hersteller unterstützten sie in größerem Umfang. </font><font style="vertical-align: inherit;">Was jetzt im Prinzip wahr ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die inoffizielle Zephyr-Unterstützung für die nRF5x-Familien wurde bereits </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2016 veröffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zephyr Nordic hat beschlossen, erst jetzt ein komplett neues SDK für RTOS zu erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hierfür gibt es eine Reihe von Voraussetzungen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Eine Reihe von Technologien werden von Linux geerbt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbeiten Sie mit Streams und Warteschlangen in Echtzeit (besonders wichtig für zeitabhängige Protokolle wie BLE). </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliotheken für Netzwerk und Sicherheit</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flexibles Hardwarebeschreibungsmodell mit Energieoptimierung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliotheken für die Arbeit mit Peripheriegeräten (Sensoren usw.)</font></font></li>
</ul><br>
 </li>
<li>  : <br>
<br>
<ul>
<li>     </li>
<li>   </li>
<li>   </li>
</ul><br>
 </li>
<li>      <br>
<br>
<ul>
<li>  ,   Nordic,    </li>
</ul><br>
 </li>
<li>    (       )</li>
<li>   ( )         .    ,     ,      .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um zu verstehen, wie dramatisch sich verändert hat, ist das Strukturdiagramm aus der offiziellen Dokumentation gut geeignet. </font><font style="vertical-align: inherit;">Grau zeigt die Komponenten an, die Teil von Zephyr sind. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/362/736/89c/36273689c10a66b97f33142745dc7f22.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Praxis treten bei der Implementierung dieses Ansatzes eine Reihe kognitiver Probleme auf. </font><font style="vertical-align: inherit;">Entwickler, die an das Produkt und die Lösungen gewöhnt sind, erleben Dissonanzen mit einer Vielzahl von Änderungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die Version der Entwicklung unter Windows, da dies weitere Fragen zu denjenigen aufwirft, die an die Entwicklung unter Linux gewöhnt sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Folgende Pakete sind erforderlich:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Paketmanager)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Git</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Versionskontrollsystem)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ninja</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (geschwindigkeitsorientiertes Build-System)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (High-Level-Build-System)</font></font></li>
<li><b>DTC-MSYS2</b> (   (device tree))</li>
<li><b>GPerf</b> ( )</li>
<li><b>west</b> (          )</li>
<li><b>pip</b> (  Python)</li>
<li><b>Python3</b></li>
<li><b>GNU Arm Embedded Toolchain</b> (GCC, GDB      ARM)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für diejenigen, die zum ersten Mal mit ähnlichen Versorgungsunternehmen konfrontiert sind, scheint es, dass alles unnötig kompliziert ist und das alte Paradigma verwendet werden könnte, dass die bestehenden Entwicklungsansätze sehr effektiv sind. </font><font style="vertical-align: inherit;">Wenn Sie jedoch genauer hinschauen, wird alles viel interessanter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pip</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> können Sie beispielsweise alle erforderlichen Pakete über die Konsole für OS bzw. Python installieren. </font><font style="vertical-align: inherit;">Und Python selbst ist, wie die meisten der fraglichen Software, in einem Befehl zusammengefasst:</font></font><br>
<br>
<pre><code class="bash hljs">hoco install python xxx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird auch mit einem Befehl aktualisiert:</font></font><br>
<br>
<pre><code class="bash hljs">choco upgrade all</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Ansatz ist für Windows-Benutzer etwas ungewöhnlich, für diejenigen, die mit Konsolenpaket-Managern unter Linux (apt, zypper usw.) vertraut sind, nichts Neues. Ich habe oft die Situation bemerkt, dass Softwareentwickler für MK Software nur aktualisieren, wenn sie das Betriebssystem auf einem PC neu installieren. Über warum es schlecht ist, werden wir nicht reden, ich stelle nur fest, dass hier dieses Problem automatisch gelöst wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viel interessanter sind die Innovationen im Bereich Konfiguration und Montage von Projekten. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ninja wurde</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> als Ersatz für make entworfen und positioniert und konzentrierte sich auf die Build-Geschwindigkeit. Dies ist besonders gut in Anwendungen geeignet, wenn Projekte mit einer Reihe kleiner Dateien neu erstellt werden müssen, bei denen keine Änderungen vorgenommen wurden. Der Effekt kann eine Größenordnung oder sogar zwei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">betragen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , siehe </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Tests</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cmake</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Gegenzug können Konfigurationsdateien für Ninja in einer höheren Sprache (Skriptsprache) für die Plattform generiert werden, auf der die Assembly stattfinden soll. Über Cmake können auf Habré gelesen werden, zum Beispiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gperf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erzeugt eine Tabelle von Zeigern, die Speicher speichert, finden Sie in </font><font style="vertical-align: inherit;">Schritt 3 der Baugruppe unten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sollten auch auf einen neuen Ansatz zur Beschreibung von Eisen achten. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erschien ein </font><b><font style="vertical-align: inherit;">Gerätebaum</font></b><font style="vertical-align: inherit;"> , der die Hardwarestruktur des Geräts beschreibt. Dies ist ein direktes Ergebnis der Unterstützung von Zephyr durch die Linux Foundation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Pluspunkte sind, dass sich die Hardwarebeschreibung jetzt in einer separaten .dts-Datei befindet, die eine einfache </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Struktur hat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es ist einfach zu ändern und den Code zwischen verschiedenen Chipfamilien zu portieren. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Beispiel, wie viel ich das grundlegende </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dtsi auf nRF52840</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> klar veranschaulichen kann </font><font style="vertical-align: inherit;">, das wiederum in der Beschreibung des nRF52840-DK </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nrf52840dk_nrf52840.dts-</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Boards verwendet wird. Die Anzahl der von Zephyr unterstützten Motherboards liegt bereits bei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">über 200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie bereits erwähnt, hat Nordic Zephyr zuerst für die nRF91-Serie, dann für die nRF53 veröffentlicht, und jetzt hat es endlich den massivsten nRF52 erreicht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch die Umstellung auf RTOS kann das Problem der Anpassung des Codes an neue Hardware gelöst werden. Selbst unter den Chips einer Familie erforderte der Übergang bestimmte Ressourcen von der Entwicklungsseite, wenn er von einem Übergang zu einem anderen Softdevice (vorkompilierte BLE-Bibliothek) begleitet wurde. Ganz zu schweigen vom Übergang beispielsweise von 51 oder 91 zu 52, wenn sich die Hardwareplattform selbst erheblich ändert. Jetzt wird diese Aufgabe viel einfacher und schneller gelöst. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eisen bei Nordic wird ständig verbessert, dies muss jedoch separat geschrieben werden. Als Teil dieses Artikels können wir nur feststellen, dass der Schwerpunkt auf der Integration mit RTOS, Sicherheit, Energieeffizienz und Verbesserung des Funkkanals liegt (BLE 5.2). Vielen Dank können Sie sagen, die Dual-Core-Cortex-M33, ARM Cryptocell und ARM TrustZone.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Zum Erstellen von Gerätebaum verwendet</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Device Tree Compiler</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der Teil von MSYS2 ist (verbessertes Build-System basierend auf Cygwin und MinGW-64). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der zweite Teil der Projektkonfiguration befindet sich in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Kernel-Konfiguration), die ebenfalls von Linux geerbt wurde. Sie können die erforderlichen Blöcke über eine grafische Oberfläche auswählen und Parameter für die Montage für eine bestimmte Aufgabe festlegen. Dies ist besonders wichtig bei begrenzten Ressourcen von Systemen auf einem Chip. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können herkömmliche Dienstprogramme wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menuconfig verwenden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder im Rahmen von Segger Embedded Studio (der offiziell empfohlenen IDE) eine integrierte Schnittstelle verwenden, die über den entsprechenden Menüpunkt gestartet werden kann: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projekt&gt; nRF Connect SDK-Projekt konfigurieren</font></font></b> <br>
<br>
<img src="https://habrastorage.org/webt/cv/sz/bq/cvszbqtv9frwur8ss1hncds-b2k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine beispielhafte Projektkonfiguration mit SSL / TLS basierend auf nRF9160 ist unten dargestellt. </font><font style="vertical-align: inherit;">Wie Sie darin sehen können, können Sie sowohl die Hardwarefunktionen des Projekts (Plattform, Anzahl der Threads, Plug-in-Kernelmodule) als auch die Software (Schlüssel, Adressen usw.) konfigurieren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/mm/f9/b-mmf98mpjwxi_ts0tlwopujgfm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/nk/7e/qu/nk7equjwisyaxyzknpyyxwplbys.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie die Phasen der Projektmontage: Insgesamt gibt es fünf:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfiguration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Vorverarbeitung aller Konfigurationen (Gerätebaum, KConfig), am Ausgang erhalten wir Header-Dateien, die die Hardware und Konfiguration für Ninja beschreiben</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pre-Assembly (I)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Verarbeiten von Strukturen auf hoher Ebene, Kompilieren von Systemdateien und Offsets (Offset), Erstellen von Aufruftabellen</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstmontage (II)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Zusammenstellung der Hauptquellcodes und deren Verpackung in Archive, Verknüpfung</font></font></li>
<li><b>  (III)</b> —             (GPerf),         </li>
<li><b>- (IV)</b> —  hex, bin  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere Informationen zum Zephyr-Montagesystem mit Bildern finden Sie in der offiziellen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es gibt ziemlich viele Texte und Bilder, daher werden wir die Details im Rahmen dieses Artikels nicht berücksichtigen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist wichtig zu verstehen, dass die hier verwendeten Tools keinen Ersatz für den C-Präprozessor (cpp) und den C-Linker (ld) darstellen. Beide werden in allen Phasen außer der Nachbearbeitung verwendet. Das Ergebnis ihrer Arbeit unterliegt jedoch zusätzlichen Verbesserungen, die es ermöglichen, sowohl die Montagezeit als auch den Speicherbedarf erheblich zu reduzieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können die Ergebnisse von Programmen, die mit zwei SDKs erstellt wurden, nicht direkt vergleichen. Da Bibliotheken und Ansätze sehr unterschiedlich sind und es solche Tests noch nicht gibt. Man kann definitiv sagen, dass sich die Lösung auf mittleren und oberen Chips der Linie (nRF52832 und höher) gut anfühlt, und es bleibt eine große Ressourcenreserve. Es kann jedoch nicht gesagt werden, dass das neue SDK nicht auf jüngere Chips wie nRF52810 anwendbar ist. Es ist notwendig, das Problem genauer zu betrachten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zurück zur Frage im Titel des Artikels können wir sagen, dass dieses Paradigma definitiv eine neue Realität ist. Was auf den ersten Blick deutliche Verbesserungen bringt. Mindestens 2 neue Chipfamilien des größten BLE-Herstellers der Welt arbeiten präzise und nur mit dieser Technologie und es wird keine Rendite erwartet. Meiner Meinung nach ist dies eine Revolution, die im Voraus vorbereitet wurde.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Update</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Am 14. Mai hielt Nordic ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webinar über das neue SDK ab,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in dem angekündigt wurde, dass alle Versionen von BLE, die älter als 5.0 sind, nur im nRF Connect SDK verfügbar sein werden. </font><font style="vertical-align: inherit;">Dementsprechend werden </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Directino Finding</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> alias AoA / AoD (BLE 5.1) und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LE Audio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (BLE 5.2), auf die viele warten, dieses Jahr neue Tools mitbringen, und Änderungen in der Entwicklung werden früher als erwartet eintreten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ergebnisse:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Änderungen sind radikal, der Code, der mit dem aktuellen nRF5 SDK arbeitet, ist nicht mit dem neuen kompatibel (nRF Connect SDK)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie mit Devicetree und KConfig zu RTOS wechseln, erhalten Sie eine zusätzliche Abstraktionsebene für Hardware, was wiederum die Entwicklung und Übertragung des Projekts auf eine neue Plattform erheblich beschleunigt</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Wechsel zu Zephyr bietet sofort Unterstützung für eine große Anzahl von Protokollen und Bibliotheken. Für IoT-Geräte sind die Netzwerk- und Sicherheitsfunktionen am interessantesten, bei denen Linux traditionell stark ist</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zephyr OS verwendet während der Montage eine Reihe von Werkzeugen, wodurch die Montagezeit und der Speicherbedarf erheblich reduziert werden können, was besonders für eingebettete Anwendungen wichtig ist</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das neue SDK ermöglicht die Verwendung von Entwicklern auf höherer Ebene, die viel mehr auf dem Markt sind als Entwickler auf niedriger Ebene. </font><font style="vertical-align: inherit;">Dies löst das Problem des Personals und der Erhöhung des Marktanteils.</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de497022/index.html">Aktualisieren des Unternehmensnetzwerkzugriffs. Neue ExtremeSwitching X435 Gigabit-Switches</a></li>
<li><a href="../de497024/index.html">Warum Hyperkonvergenz? Cisco HyperFlex Übersicht und Tests</a></li>
<li><a href="../de497028/index.html">Willkommen bei Robot Operating System MeetUp</a></li>
<li><a href="../de497030/index.html">Erfahrung in der Implementierung von Netzwerkfabriken basierend auf EVPN VXLAN und Cisco ACI und ein kleiner Vergleich</a></li>
<li><a href="../de497032/index.html">Dienstleistungsgeschäft und Krise: Erfolgsgeschichten. Wie funktioniert es für Sie, über den Tellerrand hinaus zu denken?</a></li>
<li><a href="../de497036/index.html">Wann muss der Videosequenzerkennungsprozess gestoppt werden?</a></li>
<li><a href="../de497040/index.html">Produktgesteuerte Wachstumsstrategie. Wie Miro x3 jährlich wächst</a></li>
<li><a href="../de497046/index.html">Wie man eine Site in TOP10 nach Westen bringt, ohne etwas über SEO zu wissen</a></li>
<li><a href="../de497050/index.html">TeamLead Conf 2020: Schlüsselberichte</a></li>
<li><a href="../de497052/index.html">Sicherheitswoche 16: xHelper - Android Survival Trojan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>