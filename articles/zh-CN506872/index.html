<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕧 📍 📺 预定Spring Boot 2：专业人士最佳实践 🏿 ♻️ 🤸🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="您好，habrozhiteli！是否想提高开发企业和云Java应用程序的效率？
 
 加快开发微服务和复杂应用程序的速度并简化其工作，从而消除了Spring配置的烦恼。
 
 使用Spring Boot 2和Spring 5框架工具，例如WebFlux，Security，Actuator和Micro...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>预定Spring Boot 2：专业人士最佳实践</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/506872/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/webt/fp/9-/xm/fp9-xmowkjaidjekn_hk0ddmiic.jpeg" align="left" alt="图片"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您好，habrozhiteli！</font><font style="vertical-align: inherit;">是否想提高开发企业和云Java应用程序的效率？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
加快开发微服务和复杂应用程序的速度并简化其工作，从而消除了Spring配置的烦恼。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用Spring Boot 2和Spring 5框架工具，例如WebFlux，Security，Actuator和Micrometer框架，它们提供了一种收集指标的新方法。</font></font><br>
<br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">春季测试框架</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring框架的主要思想之一是鼓励开发人员创建简单且松散耦合的类，编程接口，以使软件变得更可靠，更好地扩展。 Spring框架提供了简化单元和集成测试的工具（实际上，如果您确实对接口进行编程，则无需测试Spring应用程序的功能）。换句话说，有必要使用基于对象的JUnit或TestNG测试系统对应用程序进行测试（只需使用new运算符即可创建-无需Spring或任何其他容器）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring框架包括几个用于应用程序的单元或集成测试的软件包。</font><font style="vertical-align: inherit;">对于单元测试，设计了几个模拟对象（环境，PropertySource，JNDI，Servlet；反应性测试实用程序ServerHttpRequest和ServerHttpResponse），您可以使用它们执行代码的隔离测试。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
集成测试是Spring框架中最常用的测试功能之一。</font><font style="vertical-align: inherit;">其主要任务：</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在测试运行之间管理Spring IoC容器缓存</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">交易管理；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试对象实例的依赖注入</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">创建专门为Spring设计的基类。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通过集成到应用程序上下文测试（ApplicationContext）中，Spring框架提供了一种简单的测试方法。</font><font style="vertical-align: inherit;">Spring测试模块提供了几种以编程方式使用ApplicationContext和使用批注的方式。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抽象的BootstrapWith。</font><font style="vertical-align: inherit;">用于配置TestContext Spring框架的引导程序的类级别注释。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ContextConfiguration批注。</font><font style="vertical-align: inherit;">定义用于定义如何为集成测试加载和配置ApplicationContext的类级别元数据。</font><font style="vertical-align: inherit;">这是您类的必不可少的注释，因为这是ApplicationContext加载所有组件定义的地方。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抽象@WebAppConfiguration。</font><font style="vertical-align: inherit;">一个类级别的注释，指示为集成测试加载的应用程序上下文应为WebApplicationContext。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注释@ActiveProfile。</font><font style="vertical-align: inherit;">一个类级别的注释，指示在为集成测试加载ApplicationContext时应激活哪些组件定义概要文件。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抽象@TestPropertySource。</font><font style="vertical-align: inherit;">一个类级别的注释，用于指定属性文件和嵌入的属性的位置，这些属性已添加到为集成测试加载的ApplicationContext的“环境”中的PropertySource对象集中。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抽象@DirtiesContext。</font><font style="vertical-align: inherit;">指示在测试过程中使用的ApplicationContext是“脏”的（例如，通过更改单个组件的状态进行了修改或损坏），应将其关闭。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这些远非所有注释；还有许多其他注释（@TestExecutionListeners， </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">承诺</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回滚</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，@BeforeTransaction，@AfterTransaction， </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">设定档 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定时的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重复</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，@IfProfileValue等）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如您所见，Spring框架有很多测试选项。</font><font style="vertical-align: inherit;">通常，总是使用@RunWith批注，将测试框架的所有元素链接在一起。</font><font style="vertical-align: inherit;">例如：</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@ContextConfiguration({"/app-config.xml", "/test-data-access-config.xml"})</span>
<span class="hljs-meta">@ActiveProfiles("dev")</span>
<span class="hljs-meta">@Transactional</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToDoRepositoryTests</span> </span>{<font></font>
<font></font>
        <span class="hljs-meta">@Test</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ToDoPersistenceTest</span><span class="hljs-params">()</span></span>{
                <span class="hljs-comment">//...</span><font></font>
        }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，让我们看看如何使用Spring Testing Framework以及Spring Boot提供的功能。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Boot测试框架</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot利用Spring Testing Framework的功能，在旧的基础上进行扩展，并添加新的注释和功能，从而使开发人员更容易进行测试。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要开始使用Spring Boot测试的所有功能，只需要将spring-boot-starter-test依赖项添加到具有test（作用域测试）范围的应用程序。 Spring Initializr服务已经添加了此依赖关系。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
spring-boot-starter-test依赖项提供了使用几种与Spring Boot测试功能非常一致的测试框架的能力：JUnit，AssertJ，Hamcrest，Mockito，JSONassert和JsonPath。当然，还有其他测试框架可与Spring Boot Test模块配合使用。仅需要手动指定相应的依赖项。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot提供了@SpringBootTest注释，以简化对Spring应用程序的测试。</font><font style="vertical-align: inherit;">通常，在测试Spring应用程序时，您需要添加一些批注以测试特定的应用程序特性或功能，但在Spring Boot中则不需要-尽管要进行测试，您仍然需要指定@RunWith批注（SpringRunner.class）；</font><font style="vertical-align: inherit;">如果不这样做，任何新的Spring Boot测试注释将被忽略。</font><font style="vertical-align: inherit;">@SpringBootTest批注具有用于测试Web应用程序的选项，例如RANDOM_PORT和DEFINED_PORT。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下代码段是Spring Boot测试框架。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyTests</span> </span>{<font></font>
<font></font>
        <span class="hljs-meta">@Test</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">exampleTest</span><span class="hljs-params">()</span> </span>{<font></font>
                 ...<font></font>
        }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web应用程序端点测试</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot提供了一种方便的方法来测试端点：称为MockMvc类的仿真环境：</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-meta">@AutoConfigureMockMvc</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MockMvcToDoTests</span> </span>{<font></font>
<font></font>
        <span class="hljs-meta">@Autowired</span>
        <span class="hljs-keyword">private</span> MockMvc mvc;<font></font>
<font></font>
        <span class="hljs-meta">@Test</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoTest</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{
              <span class="hljs-keyword">this</span>.mvc<font></font>
              .perform(get(<span class="hljs-string">"/todo"</span>))<font></font>
              .andExpect(status().isOk())<font></font>
              .andExpect(content()<font></font>
                   .contentType(MediaType.APPLICATION_JSON_UTF8));<font></font>
        }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您也可以使用TestRestTemplate类。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@SpringBootTest(webEnvironment = SpringBootTest.WebEnvironment.RANDOM_PORT)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToDoSimpleRestTemplateTests</span> </span>{<font></font>
<font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> TestRestTemplate restTemplate;<font></font>
<font></font>
      <span class="hljs-meta">@Test</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoTest</span><span class="hljs-params">()</span> </span>{<font></font>
            String body = <span class="hljs-keyword">this</span>.restTemplate.getForObject(<span class="hljs-string">"/todo"</span>, String.class);<font></font>
            assertThat(body).contains("Read a Book");<font></font>
      }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此代码显示了启动完整服务器并使用TestRestTemplate类的实例访问/ todo端点的测试。</font><font style="vertical-align: inherit;">这里我们假设返回了String对象（这不是测试JSON返回值的最佳方法；不用担心，稍后我们将展示如何正确使用TestRestTemplate类）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组件模仿</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot测试模块提供了@MockBean批注，该批注描述了ApplicationContext中组件的Mockito模拟对象。</font><font style="vertical-align: inherit;">换句话说，您可以创建一个新的Spring组件的模仿或通过添加此批注来替换现有的定义。</font><font style="vertical-align: inherit;">请记住：所有这些都发生在ApplicationContext内部。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@SpringBootTest</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToDoSimpleMockBeanTests</span> </span>{<font></font>
<font></font>
        <span class="hljs-meta">@MockBean</span>
        <span class="hljs-keyword">private</span> ToDoRepository repository;<font></font>
<font></font>
        <span class="hljs-meta">@Test</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoTest</span><span class="hljs-params">()</span> </span>{<font></font>
              given(<span class="hljs-keyword">this</span>.repository.findById(<span class="hljs-string">"my-id"</span>))<font></font>
                    .Return(<span class="hljs-keyword">new</span> ToDo(<span class="hljs-string">"Read a Book"</span>));<font></font>
              assertThat(<font></font>
                    <span class="hljs-keyword">this</span>.repository.findById(<span class="hljs-string">"my-id"</span>).getDescription())<font></font>
                    .isEqualTo(<span class="hljs-string">"Read a Book"</span>);<font></font>
        }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">春季启动测试片</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot最重要的功能之一就是无需任何特定的基础架构即可运行测试。</font><font style="vertical-align: inherit;">Spring Boot测试模块包括所谓的片，旨在无需使用服务器或DBMS即可测试应用程序的特定部分。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@JsonTest批注</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot测试模块具有@JsonTest批注，该批注简化了JSON对象的序列化/反序列化，并检查是否一切正常。</font><font style="vertical-align: inherit;">@JsonTest会根据在类路径上找到的库：Jackson，GSON或JSONB，自动配置支持的JSON显示工具。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@JsonTest</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToDoJsonTests</span> </span>{<font></font>
<font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> JacksonTester&lt;ToDo&gt; json;<font></font>
<font></font>
      <span class="hljs-meta">@Test</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoSerializeTest</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
            ToDo toDo = <span class="hljs-keyword">new</span> ToDo(<span class="hljs-string">"Read a Book"</span>);<font></font>
<font></font>
            assertThat(<span class="hljs-keyword">this</span>.json.write(toDo))<font></font>
            .isEqualToJson(<span class="hljs-string">"todo.json"</span>);<font></font>
            assertThat(<span class="hljs-keyword">this</span>.json.write(toDo))<font></font>
            .hasJsonPathStringValue(<span class="hljs-string">"@.description"</span>);<font></font>
<font></font>
            assertThat(<span class="hljs-keyword">this</span>.json.write(toDo))<font></font>
            .extractingJsonPathStringValue(<span class="hljs-string">"@.description"</span>)<font></font>
            .isEqualTo(<span class="hljs-string">"Read a Book"</span>);<font></font>
      }<font></font>
<font></font>
      <span class="hljs-meta">@Test</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoDeserializeTest</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
            String content = <span class="hljs-string">"{\"description\":\"Read a Book\",\"completed\":
                  true }"</span>;<font></font>
            assertThat(<span class="hljs-keyword">this</span>.json.parse(content))<font></font>
                  .isEqualTo(<span class="hljs-keyword">new</span> ToDo(<span class="hljs-string">"Read a Book"</span>, <span class="hljs-keyword">true</span>));<font></font>
            assertThat(<font></font>
               <span class="hljs-keyword">this</span>.json.parseObject(content).getDescription())<font></font>
            .isEqualTo(<span class="hljs-string">"Read a Book"</span>);<font></font>
      }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要在不使用成熟服务器的情况下测试控制器，可以使用Spring Boot建议的批注@WebMvcTest，它会自动配置Spring MVC基础结构并将查看的组件列表限制为以下内容： </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制者</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制者</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建议，@ JsonComponent，转换器，GenericConverter，过滤器，WebMvcConfigurer和HandlerMethodArgumentResolver; </font><font style="vertical-align: inherit;">因此，您将知道控制器是否按预期工作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要的是要了解那些标记为</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用此批注时，组件不可见，但如有必要，可以使用@MockBean批注。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@WebMvcTest(ToDoController.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToDoWebMvcTest</span> </span>{<font></font>
<font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> MockMvc mvc;<font></font>
<font></font>
      <span class="hljs-meta">@MockBean</span>
      <span class="hljs-keyword">private</span> ToDoRepository toDoRepository;<font></font>
<font></font>
      <span class="hljs-meta">@Test</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoControllerTest</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
            given(<span class="hljs-keyword">this</span>.toDoRepository.findById(<span class="hljs-string">"my-id"</span>))<font></font>
                  .Return(<span class="hljs-keyword">new</span> ToDo(<span class="hljs-string">"Do Homework"</span>, <span class="hljs-keyword">true</span>));
                  <span class="hljs-keyword">this</span>.mvc.perform(get(<span class="hljs-string">"/todo/my-id"</span>).accept(MediaType.APPLICATION_<font></font>
                     JSON_UTF8))<font></font>
                        .andExpect(status().isOk()).andExpect(content().<font></font>
                           string(<span class="hljs-string">"{\"id\":\"my-id\",\"description\":\"Do Homework\",
                           \"completed\":true}"</span>));<font></font>
      }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@WebFluxTest批注</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于反应式控制器，Spring Boot提供了@WebFluxTest注释。</font><font style="vertical-align: inherit;">该注释自动配置Spring WebFlux模块基础结构，并且仅搜索</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制者</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">， </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">控制者</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">建议，@ JsonComponent，转换器，GenericConverter和WebFluxConfigurer。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重要的是要了解那些标记为</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 使用此批注时，组件不可见，但如有必要，可以使用@MockBean批注。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@WebFluxTest(ToDoFluxController.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToDoWebFluxTest</span> </span>{<font></font>
<font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> WebTestClient webClient;<font></font>
<font></font>
      <span class="hljs-meta">@MockBean</span>
      <span class="hljs-keyword">private</span> ToDoRepository toDoRepository;<font></font>
<font></font>
      <span class="hljs-meta">@Test</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">testExample</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
             given(<span class="hljs-keyword">this</span>.toDoRepository.findAll())<font></font>
                         .Return(Arrays.asList(<span class="hljs-keyword">new</span> ToDo(<span class="hljs-string">"Read a Book"</span>), <span class="hljs-keyword">new</span>
                               ToDo(<span class="hljs-string">"Buy Milk"</span>)));
             <span class="hljs-keyword">this</span>.webClient.get().uri(<span class="hljs-string">"/todo-flux"</span>).accept(MediaType.<font></font>
                  APPLICATION_JSON_UTF8)<font></font>
                       .exchange()<font></font>
                       .expectStatus().isOk()<font></font>
                       .expectBody(List.class);<font></font>
      }<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@DataJpaTest批注</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了测试JPA应用程序，Spring Boot测试模块提供了@DataJpaTest批注，该批注自动配置位于RAM中的内置数据库。</font><font style="vertical-align: inherit;">她在搜寻</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">实体</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 并且不加载任何组件 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">此外，它提供了一个面向测试的帮助程序类TestEntityManager，与JPA EntityManager类非常相似。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@DataJpaTest</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoDataJpaTests</span> </span>{<font></font>
  <font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> TestEntityManager entityManager;<font></font>
<font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> ToDoRepository repository;<font></font>
<font></font>
      <span class="hljs-meta">@Test</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoDataTest</span><span class="hljs-params">()</span> <span class="hljs-keyword">throws</span> Exception </span>{
            <span class="hljs-keyword">this</span>.entityManager.persist(<span class="hljs-keyword">new</span> ToDo(<span class="hljs-string">"Read a Book"</span>));<font></font>
            Iterable&lt;ToDo&gt; toDos = <span class="hljs-keyword">this</span>.repository.<font></font>
                   findByDescriptionContains(<span class="hljs-string">"Read a Book"</span>);<font></font>
            assertThat(toDos.iterator().next()).toString().contains(<span class="hljs-string">"Read a Book"</span>);<font></font>
      }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请注意，在使用@DataJpaTest进行测试时，将使用RAM中的内置DBMS。</font><font style="vertical-align: inherit;">为了使用真实数据库进行测试，必须为测试类提供@AutoConfigureTestDatabase批注（replace = Replace.NONE）。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@DataJpaTest</span>
<span class="hljs-meta">@AutoConfigureTestDatabase(replace=Replace.NONE)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoDataJpaTests</span> </span>{
        <span class="hljs-comment">//...</span>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@JdbcTest批注</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
此注释与@DataJpaTest非常相似；</font><font style="vertical-align: inherit;">唯一的区别是，它仅在JDBC测试上运行。</font><font style="vertical-align: inherit;">它会自动配置位于RAM和JdbcTemplate类中的内置DBMS，同时跳过所有带注释的DBMS。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 类。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@JdbcTest</span>
<span class="hljs-meta">@Transactional(propagation = Propagation.NOT_SUPPORTED)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoJdbcTests</span> </span>{<font></font>
<font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> NamedParameterJdbcTemplate jdbcTemplate;<font></font>
<font></font>
      <span class="hljs-keyword">private</span> CommonRepository&lt;ToDo&gt; repository;<font></font>
<font></font>
        <span class="hljs-meta">@Test</span>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoJdbcTest</span><span class="hljs-params">()</span> </span>{<font></font>
              ToDo toDo = <span class="hljs-keyword">new</span> ToDo(<span class="hljs-string">"Read a Book"</span>);<font></font>
<font></font>
            <span class="hljs-keyword">this</span>.repository = <span class="hljs-keyword">new</span> ToDoRepository(jdbcTemplate);
            <span class="hljs-keyword">this</span>.repository.save(toDo);<font></font>
<font></font>
            ToDo result = <span class="hljs-keyword">this</span>.repository.findById(toDo.getId());<font></font>
            assertThat(result.getId()).isEqualTo(toDo.getId());<font></font>
        }<font></font>
}</code></pre><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@DataMongoTest批注</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
为了测试MongoDB应用程序，Spring Boot测试模块提供了@DataMongoTest批注。</font><font style="vertical-align: inherit;">如果可用，它将自动配置基于内存的内置Mongo服务器。</font><font style="vertical-align: inherit;">如果不是，则需要添加spring.data.mongodb的必要属性。</font><font style="vertical-align: inherit;">它还会调整MongoTemplate类并查找@Document批注。</font><font style="vertical-align: inherit;">组件</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">零件</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 被跳过。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@DataMongoTest</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoMongoTests</span> </span>{<font></font>
<font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> MongoTemplate mongoTemplate;<font></font>
<font></font>
      <span class="hljs-meta">@Test</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoMongoTest</span><span class="hljs-params">()</span> </span>{<font></font>
          ToDo toDo = <span class="hljs-keyword">new</span> ToDo(<span class="hljs-string">"Read a Book"</span>);
          <span class="hljs-keyword">this</span>.mongoTemplate.save(toDo);<font></font>
<font></font>
          ToDo result = <span class="hljs-keyword">this</span>.mongoTemplate.findById(toDo.getId(),ToDo.class);<font></font>
          assertThat(result.getId()).isEqualTo(toDo.getId());<font></font>
      }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果您需要外部MongoDB服务器（非嵌入式，内存中），请在@DataMongoTest批注中添加excludeAutoConfiguration = EmbeddedMongoAutoConfiguration.class参数。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@DataMongoTest(excludeAutoConfiguration = EmbeddedMongoAutoConfiguration.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToDoMongoTests</span> </span>{
        <span class="hljs-comment">// ...</span>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@RestClientTest批注</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
另一个重要的注释是@RestClientTest，用于测试REST客户端。</font><font style="vertical-align: inherit;">该批注会自动进行设置以支持Jackson，GSON和JSONB，并设置RestTemplateBuilder类并添加对MockRestServiceServer的支持。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@RunWith(SpringRunner.class)</span>
<span class="hljs-meta">@RestClientTest(ToDoService.class)</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ToDoRestClientTests</span> </span>{<font></font>
<font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> ToDoService service;<font></font>
<font></font>
      <span class="hljs-meta">@Autowired</span>
      <span class="hljs-keyword">private</span> MockRestServiceServer server;<font></font>
<font></font>
      <span class="hljs-meta">@Test</span>
      <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">toDoRestClientTest</span><span class="hljs-params">()</span>
                  <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
             String content = <span class="hljs-string">"{\"description\":\"Read a Book\",\"completed\":
                   true }"</span>;
            <span class="hljs-keyword">this</span>.server.expect(requestTo(<span class="hljs-string">"/todo/my-id"</span>))<font></font>
             .andRespond(withSuccess(content,MediaType.APPLICATION_JSON_UTF8));<font></font>
            ToDo result = <span class="hljs-keyword">this</span>.service.findById(<span class="hljs-string">"my-id"</span>);<font></font>
            assertThat(result).isNotNull();<font></font>
            assertThat(result.getDescription()).contains(<span class="hljs-string">"Read a Book"</span>);<font></font>
      }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
还有许多其他切片可供使用。</font><font style="vertical-align: inherit;">要记住的主要事情：对于测试，带有所有正在运行的服务器的完整基础结构是可选的。</font><font style="vertical-align: inherit;">切片使测试Spring Boot应用程序变得更加容易。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于作者</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">费利佩·古铁雷斯</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Felipe Gutierrez）是一名软件架构师，拥有墨西哥蒙特雷技术与高等教育学院的计算机工程学士学位和硕士学位。</font><font style="vertical-align: inherit;">Gutierrez拥有20多年的IT经验，并为来自政府，零售，医疗保健，教育和银行业等各种垂直集成行业的公司制定了计划。</font><font style="vertical-align: inherit;">他目前在Pivotal工作，专门研究Cloud Foundry，Spring框架，本地云应用程序Spring，Groovy和RabbitMQ等的PAS和PKS。</font><font style="vertical-align: inherit;">他还是诺基亚，苹果，Redbox和高通等大型公司的软件架构师。</font><font style="vertical-align: inherit;">Gutierrez是Spring Boot Messaging（Apress，2017）和Spring Framework简介（Apress，2014）的作者。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于科学编辑</font></font></h3><br>
<i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自学成才的开发人员和研究员</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manuel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jordan Elera是</font><i><font style="vertical-align: inherit;">原始版本</font></i><font style="vertical-align: inherit;">，他喜欢为他的实验及其新组合学习新技术。曼努埃尔（Manuel）赢得了Springy Award社区冠军和2013春季冠军。他花了一点空闲时间阅读圣经和创作吉他音乐。互联网的化名dr_pompeii称为Manuel。他科学地编辑了许多书籍，包括Pro Spring，第4版（Apress，2014年）1，实用Spring LDAP（Apress，2013年），Pro JPA 2，第2版（Apress，2013年）和Pro Spring Security（Apress） ，2013）。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">俄语版</font></font></i><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valery Alekseevich Dmitrushchenkov</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从事IT工作超过35年。</font><font style="vertical-align: inherit;">他为许多公司和行业开发软件，管理许多复杂的项目，包括自动化系统的开发，实施和维护。</font><font style="vertical-align: inherit;">他参与了由国际组织（联合国，美国国际开发署，俄罗斯世界银行，科索沃，摩尔多瓦和亚美尼亚）实施的大型政府机构项目的创建。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
»关于这本书的更多信息上可以找到</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出版商的网站</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
» </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目录</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
» </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">摘录</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
的优惠券Khabrozhiteley 25％的折扣- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">春季启动</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
在支付书的纸质版本，电子书是通过电子邮件发送。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN506860/index.html">6月23日-NX分析师聚会＃3。我们将与客户讨论面谈，并与复杂的客户合作。</a></li>
<li><a href="../zh-CN506864/index.html">即将发布的Linux 5.8：百万行新代码和14,000个更改</a></li>
<li><a href="../zh-CN506866/index.html">单一保险基地-与保险公司合作的系统</a></li>
<li><a href="../zh-CN506868/index.html">山姆·奥特曼：产生想法</a></li>
<li><a href="../zh-CN506870/index.html">如何禁用有关长时间收听音频的危险的警告（Android）</a></li>
<li><a href="../zh-CN506874/index.html">从程序员的生活：商人</a></li>
<li><a href="../zh-CN506880/index.html">Joel Spolsky：堆栈溢出时代是如何开始的</a></li>
<li><a href="../zh-CN506886/index.html">一点点生活</a></li>
<li><a href="../zh-CN506888/index.html">排序数据科学备忘单</a></li>
<li><a href="../zh-CN506890/index.html">ionCube中的复活节彩蛋-开发人员试图在地毯下扫垃圾吗？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>