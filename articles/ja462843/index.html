<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⚾️ 🧝🏽 👩🏼‍🏭 Unityでの8ビットゲームとその正確な再現の制限 🥛 🐋 🎾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="シンプルなメカニズムとピクセルグラフィックスを備えたレトロゲームは、経験豊富なプレイヤーから温かい思い出を呼び起こすことができ、同時に若い視聴者にも非常にアクセスしやすくなっています。今日、多くのゲームは「レトロ」と呼ばれていますが、ノスタルジックなスタイルを作成するには努力と計画が必要です。そのた...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Unityでの8ビットゲームとその正確な再現の制限</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462843/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a7/d1d/acb/2a7d1dacbe9050c41e0fe50ca79e789e.png" alt="画像"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シンプルなメカニズムとピクセルグラフィックスを備えたレトロゲームは、経験豊富なプレイヤーから温かい思い出を呼び起こすことができ、同時に若い視聴者にも非常にアクセスしやすくなっています。</font><font style="vertical-align: inherit;">今日、多くのゲームは「レトロ」と呼ばれていますが、ノスタルジックなスタイルを作成するには努力と計画が必要です。</font><font style="vertical-align: inherit;">そのため、Mega Cat Studiosのメンバーを招待して、このトピックについて話し合いました。</font><font style="vertical-align: inherit;">この投稿では、重要なUnityオプション、グラフィック構造、カラーパレットなど、本格的なNESスタイルのゲームグラフィックを作成するために必要なすべてを取り上げます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本物のファミコンスタイルのアートを作成する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はじめに、クラシックなニンテンドーエンターテインメントシステムの制限を満たすゲーム用のグラフィック作成の基本について説明します。</font><font style="vertical-align: inherit;">この世代のコンソールは、本物のグラフィックを再現しようとするアーティストに深刻な制限を課しています。</font><font style="vertical-align: inherit;">これらは、使用されるパレット、および画面上のオブジェクトのサイズと数に対する制限です。</font><font style="vertical-align: inherit;">また、このコンソールの解像度は256×240ピクセルであることを考慮することが重要です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パレット</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NES互換のグラフィックを作成する場合、アーティストは多くの制限を考慮する必要があります。</font><font style="vertical-align: inherit;">まず、これらの制限の中で最も重要なのは、画像でのカラーパレットの使用方法です。</font><font style="vertical-align: inherit;">NESは、パレットのすべての可能な色がコンソールに「配線」されているという点で独特です。</font><font style="vertical-align: inherit;">NESは、NES GPUに値のセットを送信することにより、画像で使用する色を選択します。その後、GPUはこれらの値に対応する色を返します。</font><font style="vertical-align: inherit;">以下は、NESカラーパレットの画像です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/10e/4f9/0fd/10e4f90fdf5bb0ac7832dd5f4ab7d4a9.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの色はコンソール自体の一部であるため、変更できません。</font><font style="vertical-align: inherit;">すべてのファミコンゲームは、画像を構成するこれらの色の組み合わせを使用します。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブパレット</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームで使用される組み合わせを作成するために、ゲーム内のスプライトまたは背景画像に添付されるサブパレットが作成されます。</font><font style="vertical-align: inherit;">NESは、パレットを、スプライトと背景に割り当てることができるサブパレットに分割します。</font><font style="vertical-align: inherit;">各サブパレットには、すべてのサブパレットで使用される1つの共通の色と3つの固有の色が含まれています。</font><font style="vertical-align: inherit;">背景用の4つのサブパレットとスプライト用の4つのサブパレットをロードできます。</font><font style="vertical-align: inherit;">スプライトの場合、各サブパレットの最初の全体的な色は透明と見なされます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/337/59a/330/33759a330bb3449bdf5a33c8ad1f671f.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、ゲームで使用される一連のサブパレットの例です。</font><font style="vertical-align: inherit;">上部は背景のサブパレットを示し、下部はスプライトのサブパレットを示します。</font><font style="vertical-align: inherit;">この例では、黒はすべてのサブパレットで使用される共通の色です。</font><font style="vertical-align: inherit;">スプライトでは全体の色が透明であると見なされるため、スプライトのサブパレットで2番目の黒色が必要です。これは、可視色として使用されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブパレットの割り当て</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パレットの使用に関する制限は、アーティストがゲームでパレットを使用する方法に移ると、さらに厳しくなります。これを説明するには、レトロコンソールがグラフィックスをどのように保存および表示するかについてさらに説明する必要があります。レトロコンソールのグラフィックは、8×8ピクセルのタイルとしてゲーム内に保存されます。これにより、アーティストはさまざまなオブジェクトにタイルを再利用することでスペースを節約できます。 （たとえば、道路の一部は、崖や建物を作成することで再利用できます）。色情報がグラフィックスと一緒に保存されないことも重要です。すべてのタイルはモノクロパレットに保存されます。これにより、ゲームにタイルが表示されるときに、サブパレットを割り当て、同時に異なるサブパレットで画面に表示することができます。これは、最新のプラットフォームでレトロなコンソールのグラフィックを再作成するときに重要です。パレットをチャートに割り当てる方法。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NESは、スプライトと背景に異なる方法でパレットを割り当てます。</font><font style="vertical-align: inherit;">彼女はスプライトパレットtaylovoを割り当てます。</font><font style="vertical-align: inherit;">つまり、スプライトの各8×8タイルで、4つのスプライトサブパレットの1つを関連付けることができます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d0a/e7a/d58/d0ae7ad5802681f0f3fd700f52307279.png" width="1200" height="600"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この忍者キャラクターは、2つのサブパレットを使用して色深度を増やします。</font><font style="vertical-align: inherit;">右側では、8 x 8のタイルに分かれていることがわかります。</font><font style="vertical-align: inherit;">このような分割された形式では、剣とヘッドバンドで使用されている明るいターコイズと濃い赤がこれらのタイルに固有であり、濃い紫と黒の輪郭が残りの3つのタイルで使用されていることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
背景には、はるかに厳しい制限が適用されます。背景パレットは、16×16のフラグメントに割り当てられます。画面全体の背景サブパレットバインディングは、属性テーブル（属性テーブル）と呼ばれます。ほとんどのレトロなイメージが繰り返しタイルセグメントを積極的に使用しているのは、これらのテーブルのためです。このようなセグメントは通常16×16のタイルで構成されているため、属性テーブルに配置されます。これはハードウェアの制限によって引き起こされたという事実にもかかわらず、そのような16×16の背景タイルはレトロなグラフィックスの決定的な特徴となっており、現在のゲームでの再構築には絶対に必要です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f7d/fb6/dfb/f7dfb6dfb062288789f2d76c2055758f.png" width="1200" height="600"></div><br>
<i>       RPG,     .    ,        16×16 ,      .     ,   ,     ,      .       ,     ,     .</i><br>
<br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アーティストは、8×8のスプライトタイルごとに異なるサブパレットを使用できますが、スプライトにより大きな色深度を与える必要がある場合があります。この場合、スプライトオーバーレイを使用できます。スプライトのオーバーレイとは、スプライトを2つの別個のスプライトに分割し、それらを互いの上に配置することです。これにより、アーティストは8×8タイルごとに1つのサブパレットを使用するという条件を回避できます。これにより、アーティストは実際に1つの8×8領域で使用できる色の数を2倍にすることができます。このアプローチの唯一の重大な欠点は、スプライトレンダリングの制限です。 NESは一度に64個の8×8スプライトタイルのみを表示でき、1つの水平線に表示できるスプライトタイルは8つのみです。この制限に達した場合、他のすべてのタイルは画面にレンダリングされません。そのため、画面上に多数のスプライトがあるNESの多くのゲームでは、ちらつきが発生し始めます。この場合、すべてのスプライトを表示する唯一の方法は、それらを交互のフレームに表示することです。スプライトレイヤーを重ね合わせるときは、色の数だけでなく、1つの水平線のスプライトタイルの数も2倍になるため、このような制限を考慮する必要があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/386/5be/239/3865be2393a5aabf1aa3fa534ee3f7d4.png" width="1600" height="503"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下は、実行中のスプライトレイヤーの例です。ゴースト海賊スプライトのオリジナルのトリコロールバージョンが左側に表示されています。アーティストはそれを体/帽子と顔/手という2つの部分に分け、それらに異なるパレットを割り当てました。右側は、2つの要素を互いに重ね合わせた結果を示しています。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
属性テーブルの制限を回避するために、背景を使用してスプライトレイヤーを実装できます。このトリックは、通常、プロット画面やキャラクターのポートレートなどの静止画像に使用され、色深度が大幅に向上します。これを実現するには、アーティストは画像の一部を背景として描画し、その上にスプライトを適用して残りの部分を塗りつぶす必要があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/edd/d4f/9aa/eddd4f9aadcc18eb50358c94dea42022.png" width="1407" height="600"></div><br>
<i>  -    ,    .        ,     —   .         16×16,      .</i><br>
<br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NESのもう1つの重要な制限を説明するには、まずグラフィックがタイルに格納されるという事実に戻る必要があります。</font><font style="vertical-align: inherit;">グラフィックタイルは256タイルのページに格納され、これらのページのタイルを別の場所のVRAMに読み込むことができないため、さまざまなページのタイルをまとめて組み合わせることは困難になります。</font><font style="vertical-align: inherit;">NESコンソールVRAMは、512個のそのようなタイルを同時に表示できます。</font><font style="vertical-align: inherit;">さらに、スプライトと背景用にタイルを半分に分割します。</font><font style="vertical-align: inherit;">つまり、同時にコンソールには256のスプライトタイルと256の背景タイルしか表示できません。</font><font style="vertical-align: inherit;">アーティストがさまざまなスプライトや背景要素を表示したい場合、そのような制限は彼を大きく妨げます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/257/f33/d7c/257f33d7c769a4ed014dd36c4c7d4f7e.png" width="513" height="256"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、VRAMにロードされたゲームの背景とスプライトタイルのグラフィック表現です。</font><font style="vertical-align: inherit;">コンソールは、背景とスプライトを別々のページに保存します。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この制限を回避するために、NESはアーティストが各ページをバンクと呼ばれる部分ページに分割できる機能を使用しています。したがって、NESはグラフィックデータの異なるポイントから個々のタイルを読み込むことはできませんが、ページの別々の部分を異なるタイミングで読み込むことができます。ほとんどのゲームでは、そのようなバンクのサイズは1 KBと2 KBです。 1 KBバンクは4番目のページの1つ、つまり64タイルに対応し、2 KBバンクはページの半分または128タイルに対応します。アーティストは、両方のタイプを使用する必要があるため、スプライトまたは背景の要素用に各タイプのバンクを予約するかどうかを決定する必要があります。これは、スプライトおよび背景用に1 KBのバンクを持つことは不可能であることを意味します。 1つのページは1 KBのバンクを使用し、他の2 KBを使用する必要があります。原則として、ほとんどのゲームはスプライトに1 KBのバンク、バックグラウンドに2 KBのバンクを使用します。通常、背景のタイルセットはより静的であり、バリエーションとオンザフライの置換が少なくて済みます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0fc/bb1/484/0fcbb14842a7d9fce566d032a6ab4664.png" width="513" height="256"></div><br>
<i>   ,    .     ,    2 ,    ,      ,     1 .       .</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スプライトに対する1Kバンクの有用性は非常に重要です。キャラクターのスプライトに1ページに収まらない多数のアニメーションがあり、同時に他のスプライトをロードする必要がある場合、個々のアクションを1 KBのバンクにロードし、画面で何が起こっているかに応じてそれらに置き換えることができます。また、ゲームの1つの領域で使用できるスプライトの多様性も向上します。たとえば、プレーヤーがゲームレベルで6種類の敵に会う必要があるが、プレーヤーと他の3種類のスプライトのみがスプライトページに配置されている場合、1種類の敵が画面から消えると、ゲームは敵のバンクの1つを新しい種類の敵に置き換えることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スプライトに1 KB、背景に2 KBのバンクを使用することによるいくつかの重大な欠点の1つは、NESコンソールが背景アニメーションを処理する方法です。 NESのゲームの背景要素をアニメーション化するには、アーティストはアニメーション化された背景要素の複製バンクを作成する必要があります。新しく複製された各バンクには、アニメーション化された各要素のアニメーションの次のフレームが含まれます。これらのバンクは互いに置き換えられ、アニメーションを作成します。アーティストが背景に半ページサイズのバンクを使用している場合、これらの重複するバンクをすべて保存すると、多くのスペースが必要になる場合があります。この制限を回避する1つの方法は、ゲーム全体のすべてのアニメーション化された背景要素を1つのバンクに配置することです。しかし、その後、アーティストは別の制限に直面します。彼は、各背景の静的要素用に128タイルしか残っていません。それぞれのアーティストが自分に最適な保存方法を決定します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レイヤートリック</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その時代の多くのゲームでは、トリックを使用して視差の背景スクロールなどのエフェクトを作成しましたが、アーティストやデザイナーにとっても課題となっています。</font><font style="vertical-align: inherit;">その後の16ビットコンソールは複数のバックグラウンドレイヤをサポートしていましたが、NESにはこの機能がありませんでした。</font><font style="vertical-align: inherit;">すべての背景は単一の平らな画像でした。</font><font style="vertical-align: inherit;">奥行き感とレイヤー化を実現するために、さまざまなプログラムトリックが使用されました。</font><font style="vertical-align: inherit;">たとえば、視差スクロールを作成するために、開発者は特定の水平線（スキャンラインと呼ばれる）が画面上に描画されたときにレポートするレジスタを設定できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、このレジスタを使用して、画面のスクロールの速度と方向を制御できます。これにより、背景の他の部分とは異なる速度でスクロールする背景の水平線を作成できます。アーティストやデザイナーにとって、秘訣は背景が1つの平らな画像であることを覚えておくことでした。ゆっくり動く背景の「前」にあるはずのプラットフォームやその他の要素がこの領域に配置されている場合は、画像の残りの部分よりもゆっくりスクロールします。これは、デザイナーがシーンの背景要素を調整して、効果が歪まないようにする必要があることを意味します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/acc/36f/7c2/acc36f7c2bab225e5b5f27c283dd68bf.png" width="512" height="448"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この例では、奥行きをシミュレートするために赤で強調表示された領域を、他の背景よりもゆっくりとスクロールさせることができます。</font><font style="vertical-align: inherit;">画面上部のインターフェイスはスクロールしませんが、フラットな背景画像の一部です。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう1つのトリックがあります。おかげで、アーティストは背景要素の1つを前に「移動」できます。</font><font style="vertical-align: inherit;">NESでは、開発者はスプライトの優先順位をゼロ未満にすることができました。</font><font style="vertical-align: inherit;">これを行うと、スプライトは背景のすべての不透明ピクセルの下に表示されます。</font><font style="vertical-align: inherit;">必要に応じて個々の要素がスプライトの優先順位を変更できるため、スプライトの優先順位をオンザフライで変更および切り替えることもできます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">究極のレトロな雰囲気のUnityワークフロー</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="noopener noreferrer"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンプルプロジェクトをダウンロードして、私たちと一緒に作業を始めましょう！</font></font></strong></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ペンシルバニア州ピッツバーグの</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mega Cat Studios</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、レトロゲームの作成をアートの形に変えました。実際、一部のゲームはカートリッジで購入して、セガジェネシスなどのレトロなコンソールでプレイすることもできます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a93/80b/8a0/a9380b8a014bf276ad8196fb84cb4cd0.gif"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f22/0f2/b85/f220f2b85387769849b6aa8267659804.gif" width="690" height="388"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Little MedusaとCoffee Crisis</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Unityワークフローの最近の変更により、エンジンはレトロゲームの作成に非常に適した環境になりました。</font><font style="vertical-align: inherit;">System </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2D Tilemap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が改善され、長方形、六角形、アイソメトリックタイルで構成されるタイルマップをサポートするようになりました。</font><font style="vertical-align: inherit;">さらに、新しいPixel Perfect Cameraコンポーネントを使用して、全体的なピクセル単位のモーションとグラフィック効果を実現できます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">後処理スタック</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用して</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;">、</font></a><font style="vertical-align: inherit;">あらゆる種類の美しい画面のレトロ効果を追加</font><font style="vertical-align: inherit;">することもでき</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">ただし、これをすべて実行する前に、アセットを正しくインポートして構成する必要があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スプライトアセットの準備</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アセットを明確にしてピクセル化するには、まず正しく設定する必要があります。</font><font style="vertical-align: inherit;">プロジェクトウィンドウで使用されている各アセットを選択し、インスペクターで次のパラメーターを変更します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィルターモードを「ポイント」に変更します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">圧縮を「なし」に変更</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/727/d21/a9b/727d21a9bc405de801852b22ac9cb612.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のフィルタリングモードでは、画像が少しぼやけてしまいます。これは、私たちが求めている明確なピクセルスタイルに違反しています。</font><font style="vertical-align: inherit;">圧縮を使用すると、画像データが圧縮されるため、精度がわずかに低下します。</font><font style="vertical-align: inherit;">一部のピクセルは圧縮によって色が変化し、カラーパレット全体が変化する可能性があるため、これは考慮することが重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スプライトのサイズと色の数が少ないほど、圧縮に影響します。</font><font style="vertical-align: inherit;">これは、通常の圧縮（デフォルト）と圧縮の欠如を比較する例です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b82/2f0/b63/b822f0b63afa445828adbaf9d8095290.png" width="650" height="324"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常の圧縮/圧縮なしの画像-元の画像とまったく同じように見えます。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
考慮すべきもう1つの側面は、インスペクタの画像の最大サイズパラメータです。スプライト画像がいずれかの軸で最大サイズプロパティより大きい場合（デフォルトでは2048）、自動的に最大サイズに調整されます。通常、これにより品質が低下し、画像がぼやけて見えます。一部のプラットフォームでは、軸に沿って2048より大きいテクスチャをサポートできないため、その範囲内に留まるのが最善です。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/503/968/7cb/5039687cbe1e4e34c623abe9ff91f5f8.png" width="650" height="324"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最大サイズの値は2048 /最大サイズは4096です。上</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の画像は、スプライトシート（スプライトシート）からのスプライトを示しています</font><i><font style="vertical-align: inherit;">。</font></i><font style="vertical-align: inherit;">これは、1つの軸のサイズが2208で、最大サイズが2048です。最大サイズプロパティを4096に増やすことで、正しい品質を損なうことのない画像サイズ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、スプライトまたはスプライトシートを準備するときは、ピボットユニットモードパラメータをNormalizedではなくPixelsに設定する必要があります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3de/9fb/7ed/3de9fb7ed5bc8fbee3860d62ecdb31f8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このため、画像のピボットポイントはピクセルに基づいて決定され、画像の各軸に沿って0から1までの滑らかな間隔ではありません。</font><font style="vertical-align: inherit;">スプライトのアンカーポイントがピクセルと正確に位置合わせされていない場合、スプライトの位置がピクセル精度で失われます。</font><font style="vertical-align: inherit;">スプライトのアンカーポイントは、スプライトアセットが選択されたときにインスペクターで開くスプライトエディターで設定できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/875/577/1dc/8755771dcb7cfec8e19b4e66a1bc7151.png"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pixel Perfect 2Dパッケージのインストール</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アセットを準備したら、カメラのピクセルを完璧にすることができます。</font><font style="vertical-align: inherit;">ピクセル精度の結果は、はっきりとはっきりと見えます。</font><font style="vertical-align: inherit;">不正確なピクセルアートの兆候は、一部のピクセルのぼやけ（ゆがみ）および矩形性になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2D Pixel Perfectパッケージは、Unityエンジンのパッケージマネージャーを使用してインポートできます。</font><font style="vertical-align: inherit;">ツールバーの[ウィンドウ]メニューをクリックし、[パッケージマネージャ]を選択します。</font><font style="vertical-align: inherit;">新しいウィンドウで、[詳細設定]をクリックし、[プレビューパッケージを表示する]チェックボックスをオンにします。</font><font style="vertical-align: inherit;">左側のリストから2D Pixel Perfectを選択し、ウィンドウの右上隅にある[インストール]をクリックします。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2c8/2e2/f13/2c82e2f13a4d262ae24a269a316b3283.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それで全部です。</font><font style="vertical-align: inherit;">これで、ピクセル精度のカメラコンポーネントを使い始める準備ができました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高いピクセル精度</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pixel Perfect Cameraコンポーネントが追加され、UnityエンジンのCameraコンポーネントを補完します。</font><font style="vertical-align: inherit;">追加するには、メインカメラに移動し、Pixel Perfect Cameraコンポーネントを追加します。</font><font style="vertical-align: inherit;">Pixel Perfect Cameraコンポーネントがメニューにない場合は、上記の手順に従ってプロジェクトにインポートしてください。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/43a/181/ee6/43a181ee66528de132ae3cc3391cf699.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、利用可能なオプションを調べてみましょう。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/dc8/90d/9f4/dc890d9f4960a724e5368e5ee954894c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、ゲームウィンドウで[編集モードで実行]をオンにし、アスペクト比を[フリーアスペクト]に設定して、ゲームウィンドウを自由に変更できるようにすることをお勧めします。</font><font style="vertical-align: inherit;">コンポーネントは、ゲームウィンドウに有用なメッセージを表示し、現在の解像度でピクセル精度であるかどうかを示します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/548/fae/889/548fae8890f6f4d1a6ddf9ba3b7bb8dc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、各パラメーターを確認し、それらがゲームの外観にどのように影響するかを確認できます。</font></font><br>
<br>
<ul>
<li><b>Assets Pixels Per Unit</b> —      ,        .     ,       ,        (pixels per unit, PPU),        .          ,     16  16 ,     PPU 16 —           1.      PPU.</li>
<li><b>Reference Resolution</b> —    .      .    -,      . , Sega Genesis   320×224.     Sega Genesis     320×224. ,    16:9   320×180  398×224 (      ).</li>
<li><b>Upscale Render Texture</b> —                 .         ,   ,     -     .  «Upscale Render Texture»         .</li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d9/288/eec/3d9288eec3429b321dbabda98d541e37.png" width="650" height="195"></div><br>
<i>1.  ( ) 2.  Upscale Render Texture (   45 ,   ,        ) 3.  Upscale Render Texture (  45 ,   ,     ,         .)</i><br>
<br>
<ul>
<li><b>Pixel Snapping</b> (     Upscale Render Texture) —       (sprite renderer)        ,        PPU. ,          transform .    -      ,     -    .<br>
<ul>
<li>:</li>
</ul></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ff/491/d2f/9ff491d2f7a076c35ea64ae165fd164d.png" width="1280" height="1000"></div><br>
<i> Pixel Snapping .     (0, 0),    —  (1.075, 0).    . ,       .  Pixel Snapping .    —   (0, 0),    (1.075, 0).      .</i><br>
<br>
<ul>
<li><strong>Crop Frame (X  Y)</strong> —       ,      ,    ,      .</li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストレッチフィル</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -クロップフレームでxとyを有効にした場合に常に使用できます。</font><font style="vertical-align: inherit;">このオプションを使用すると、アスペクト比を維持しながら、カメラがゲームウィンドウを画面に合わせて拡大縮小します。</font><font style="vertical-align: inherit;">スケーリングは参照解像度の整数倍に対してのみ実行されるため、他のすべての場合では、ピクセル精度が失われます。</font><font style="vertical-align: inherit;">ただし、このパラメーターの利点は、多くの解像度でピクセル精度が失われるにもかかわらず、端に黒いバーがなくなり、画面が完全にいっぱいになることです。</font><font style="vertical-align: inherit;">ストレッチフィルはしばしばぼやけを引き起こしますが、通常の警告は表示されません。</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/859/034/ad1/859034ad1cc5f30911ff04808bea27c1.png" width="312" height="302"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">文字と背景、ぼやけたストレッチ塗りつぶし</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pixelパーフェクトカメラの推奨事項</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グリッドにスナップするピクセル精度のディスプレイが必要な場合は、以下をお勧めします。</font></font><br>
<br>
<ul>
<li>  ,         ( 320×180).</li>
<li>   Upscale Render Texture<br>
<ul>
<li>  ,     ,   90, 180  270       ,      .</li>
<li>Upscale Render Texture       - ;     .        ,    Pixel Perfect Camera  Run in Edit Mode  ,       .     -     ,       - .</li>
</ul></li>
<li>   Pixel Snapping<ul>
<li>       .       ,     .</li>
</ul></li>
<li> Crop Frame X / Y,   Upscale Render Texture<ul>
<li>     -   upscale render texture,   X / Y  -      ,          .</li>
</ul></li>
<li> Stretch Fill</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可能であれば、参照解像度を含めて、16：9の画面比率に最適化されるようにカメラを設定することをお勧めします。執筆時点では、ほとんどのプレーヤーはアスペクト比16：9、解像度1920×1080のモニターでプレイしています。たとえば、参照解像度320×180の比率は16：9であるため、1920×1080の解像度と320×180の倍数であるその他の解像度、たとえば1280×720では、画面の端に黒い境界線はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unityツールバーで、[編集]&gt; [プロジェクト設定]&gt; [プレーヤー]に移動して、ゲームでサポートされているアスペクト比を制限できます。</font><font style="vertical-align: inherit;">特定の構成が必要な比率で適切に見えても、個々の比率にうまく適合しない場合は、ここでこれらの比率をオフにすることができます。</font><font style="vertical-align: inherit;">ただし、すべてのユーザーが制限と互換性のある画面を使用できるわけではないので、これはお勧めできません。</font><font style="vertical-align: inherit;">代わりに、トリミングを使用して、そのようなユーザーが黒い境界線を表示し、画面と一致しない解像度でゲームが開始しないようにします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レトロなコンソールにとって本物であるプロジェクトを作成しようとするとき、現代の開発では誰も考えていない多くの技術的側面を考慮する必要があります。</font><font style="vertical-align: inherit;">イメージレンダリングの性質と古いマシンのメモリフットプリントが低いため、設計者はハードウェアの制限を独創的に考え、回避する必要がありました。</font><font style="vertical-align: inherit;">現代では、その時代のゲームの外観とデザインを正確に再現するために、これらの制限とテクニックについて知る必要があります。</font><font style="vertical-align: inherit;">次の投稿では、16ビットゲームの時代の設計上の制限と、「古いテレビ」の本当のスタイルを再現するために必要なUnityワークフローについて説明します。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja462827/index.html">オラクルの創設者、ラリー・エリソンの生涯と成功</a></li>
<li><a href="../ja462831/index.html">Web 3.0 Waveに乗る</a></li>
<li><a href="../ja462833/index.html">本「実際の予測モデリング」</a></li>
<li><a href="../ja462835/index.html">Unityの自動レイアウトとスタイル：UIの新しいパイプラインとツール</a></li>
<li><a href="../ja462837/index.html">ブラックボックステスト</a></li>
<li><a href="../ja462845/index.html">あなたの脳のためのマッサージ：ASMRについて話す</a></li>
<li><a href="../ja462847/index.html">2019年8月から10月のHewlett Packard Enterpriseウェビナー</a></li>
<li><a href="../ja462849/index.html">iノードについて</a></li>
<li><a href="../ja462851/index.html">サプライ品を管理するためのクラウドサービスを作成します（Angular + Firebase）</a></li>
<li><a href="../ja462853/index.html">可用性グループのセカンダリレプリカの統計の更新</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>