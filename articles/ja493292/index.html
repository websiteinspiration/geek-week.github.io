<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🥒 ✍🏽 😋 レスポンシブかレスポンシブか？Reactコンポーネント構造の解析 👐🏾 👫 🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事では、アダプティブコンポーネントの作成の複雑さを理解し、コード分割について話し、コード構造を整理するいくつかの方法を検討し、それらの利点と欠点を評価し、最適なものを選択しようとします（ただし、これは正確ではありません）。
 
 まず、用語を見てみましょう。アダプティブおよびレスポンシブという...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>レスポンシブかレスポンシブか？Reactコンポーネント構造の解析</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/youla/blog/493292/"><img src="https://habrastorage.org/webt/86/uj/wu/86ujwufflu-omcpppq0p9s0nnng.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、アダプティブコンポーネントの作成の複雑さを理解し、コード分割について話し、コード構造を整理するいくつかの方法を検討し、それらの利点と欠点を評価し、最適なものを選択しようとします（ただし、これは正確ではありません）。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、用語を見てみましょう。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アダプティブ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レスポンシブ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という用語はよく耳にし</font><font style="vertical-align: inherit;">ます。彼らはどういう意味ですか？違いはなんですか？これはコンポーネントとどのように関係していますか？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アダプティブ</font></font></strong></a><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（アダプティブ）</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、特定の画面サイズ用に作成された複雑なビジュアルインターフェイスです。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レスポンシブ</font></font></strong></a><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Responsive）</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、あらゆる画面サイズに適応する単一のインターフェースです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、インターフェイスが小さなフラグメントに分解されると、完全に消えるまで、アダプティブとレスポンシブの違いがますます不鮮明になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レイアウトを開発する場合、設計者と開発者はほとんどの場合、これらの概念を共有せず、アダプティブロジックとレスポンシブロジックを組み合わせません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、アダプティブで応答</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">性の高い</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ロジックを含むコンポーネントを</font><strong><font style="vertical-align: inherit;">単にアダプティブ</font></strong><font style="vertical-align: inherit;">と呼びます</font><font style="vertical-align: inherit;">。第一に、私はこの言葉が「反応する」または「許す」よりも好きだからです。第二に、私はそれがより一般的だと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディスプレイインターフェイスの2つの領域、モバイルとデスクトップに焦点を当てます。モバイルディスプレイとは、たとえば</font><strong><font style="vertical-align: inherit;">991ピクセル</font></strong><font style="vertical-align: inherit;">以下の幅を意味します</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（数値自体は重要ではありません。デザインシステムとアプリケーションに依存する定数です）、およびデスクトップディスプレイの下では、幅は選択したしきい値よりも大きくなっています。</font><font style="vertical-align: inherit;">タブレットとワイドスクリーンモニターの表示は意図的にスキップします。1つ目は、誰もが必要とするわけではないことです。2つ目は、説明しやすいからです。</font><font style="vertical-align: inherit;">ただし、これから説明するパターンは、「マッピング」の数に関係なく等しく拡張されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">についてはほとんど触れません</font><font style="vertical-align: inherit;">。主にコンポーネントロジックについて説明します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フロントエンド@youla </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yuliaのスタックについて簡単に説明し、コンポーネントを作成する条件を明確にします。我々が使用する</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反応/ Reduxのは</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、我々が使用し、monorepで働く</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">活字体を</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、私たちが書く</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSSを</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタイルのコンポーネント</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。例として、3つのパッケージを見てみましょう（monorepの概念のパッケージは、相互に接続されたNPMパッケージであり、個別のアプリケーション、ライブラリ、ユーティリティ、またはコンポーネントにすることができます-分解の程度は自分で選択します）。 2つのアプリケーションと1つのUIライブラリを見てみましょう。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ youla / ui</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-コンポーネントのライブラリ。これらは、私たちだけでなく、「Yulian」インターフェースを必要とする他のチームでも使用されます。ライブラリには多くのものがあり、ボタンと入力フィールドで始まり、たとえば、ヘッダーまたは承認フォーム（より正確には、UI部分）で終わります。このライブラリは、アプリケーションの外部依存関係と見なされます。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ youla-web / app-classified-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カタログ/製品/認証のセクションを担当するアプリケーション。ビジネス要件に応じて、ここでのすべてのインターフェースは</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アダプティブ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">でなければなりません</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ youla-web / app-b2b</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、プロユーザー向けの個人アカウントのセクションを担当するアプリケーションです。このアプリケーションのインターフェースは</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デスクトップ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">専用</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、これらのパッケージの例を使用してアダプティブコンポーネントを作成することを検討します。</font><font style="vertical-align: inherit;">しかし、最初に対処する必要があります</font></font><code>isMobile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モビリティ定義はisMobile &amp;&amp; &lt;Component /&gt;</font></font></h2><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> App = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { isMobile } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Layout</span>&gt;</span>
     {isMobile &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">HeaderMobile</span> /&gt;</span>}
     <span class="hljs-tag">&lt;<span class="hljs-name">Content</span> /&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">Footer</span> /&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">Layout</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アダプティブコンポーネントの作成を始める前に、「モビリティ」の定義方法を学ぶ必要があります。</font><font style="vertical-align: inherit;">モビリティの定義を実装するには多くの方法があります。</font><font style="vertical-align: inherit;">いくつかの重要な点について詳しく説明します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画面の幅とユーザーエージェントによるモビリティの決定 </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどの人は両方のオプションを実装する方法をよく知っていますが、主なポイントをもう一度簡単に説明しましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画面の幅を操作する場合、通常は境界点を設定します。その後、アプリケーションはモバイルまたはデスクトップのように動作します。</font><font style="vertical-align: inherit;">手順は次のとおりです。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">境界点を含む定数を作成し、それらをサブジェクトに保存します（CSSソリューションで許可されている場合）。</font><font style="vertical-align: inherit;">自分自身の値は、デザイナーが</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIシステムに</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最も適切であると考えるもの</font><strong><font style="vertical-align: inherit;">です</font></strong><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在の画面サイズを</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redux / mobx / context /任意の</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データソースに保存します。</font><font style="vertical-align: inherit;">コンポーネントと、できればアプリケーションロジックだけがこのデータにアクセスできる場合はどこでも。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">resizeイベントをサブスクライブし、画面の幅の値を、コンポーネントツリーの一連の更新をトリガーする値に更新します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画面の幅と定数を使用して、現在の状態（</font></font><code>isMobile</code><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></strong><code>isDesktop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">計算する単純なヘルパー関数を作成します</font><font style="vertical-align: inherit;">。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この作業モデルを実装する疑似コードは次のとおりです。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> breakpoints = {
 <span class="hljs-attr">mobile</span>: <span class="hljs-number">991</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> state = {
 <span class="hljs-attr">ui</span>: {
   <span class="hljs-attr">width</span>: <span class="hljs-literal">null</span><font></font>
 }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> handleSubscribe = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
 state.ui.width = <span class="hljs-built_in">window</span>.innerWidth<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> onSubscribe = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
 <span class="hljs-built_in">window</span>.addEventListener(<span class="hljs-string">'resize'</span>, handleSubscribe)<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> offSubscribe = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span>
 <span class="hljs-built_in">window</span>.removeEventListener(<span class="hljs-string">'resize'</span>, handleSubscribe)<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getIsMobile = <span class="hljs-function">(<span class="hljs-params">state: any</span>) =&gt;</span> {
 <span class="hljs-keyword">if</span> (state.ui.width &lt;= breakpoints.mobile) {
   <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span><font></font>
 }<font></font>
<font></font>
 <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getIsDesktop = <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> !getIsMobile(state)<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> App = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
 React.useEffect(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
   onSubscribe()<font></font>
<font></font>
   <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> offSubscribe()<font></font>
 }, [])<font></font>
<font></font>
 <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MyComponentMounted</span> /&gt;</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> MyComponent = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { isMobile } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> isMobile ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MobileComponent</span> /&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DesktopComponent</span> /&gt;</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> MyComponentMounted = anyHocToConnectComponentWithState(
 <span class="hljs-function">(<span class="hljs-params">state</span>) =&gt;</span> ({
   <span class="hljs-attr">isMobile</span>: getIsMobile(state)<font></font>
 })<font></font>
)(MyComponent)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画面が変わる</font></font><code>props</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、コンポーネントの</font><font style="vertical-align: inherit;">値</font><font style="vertical-align: inherit;">が更新され、正しく再描画されます。この機能を実装する多くのライブラリがあります。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反応メディア</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">反応応答</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など、</font><font style="vertical-align: inherit;">既製のソリューションを使用する方が便利です</font><font style="vertical-align: inherit;">。また、誰かが</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">独自の</font></a><font style="vertical-align: inherit;">ソリューション</font><font style="vertical-align: inherit;">を作成する方が簡単です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画面サイズとは異なり、</font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションの実行中に動的に変更することはできません（厳密に言えば、おそらく開発者のツールを使用しますが、これはユーザーシナリオではありません）。この場合、値を保存して再カウントする複雑なロジックを使用する必要はありません</font></font><code>window.navigator.userAgent,</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。値を保存するために</font><font style="vertical-align: inherit;">文字列を1回解析するだけで</font><font style="vertical-align: inherit;">完了です。このために役立つライブラリがたくさんあります。たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モバイル検出</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">react-device-detect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプローチは</font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より単純ですが、それを使用するだけでは十分ではありません。アダプティブインターフェイスを真剣に開発した人なら誰でも、iPadや類似のデバイスの「マジックツイスト」について知っています。これは、縦位置ではモバイルの定義に該当し、横位置ではデスクトップに該当しますが、同時に</font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モバイルデバイス</font><font style="vertical-align: inherit;">も持ってい</font><font style="vertical-align: inherit;">ます。また、完全にアダプティブ/レスポンシブなアプリケーション</font></font><code>user-agent </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では、ユーザーがデスクトップブラウザーなどを使用し、ウィンドウを「モバイル」サイズに絞った場合に</font><font style="vertical-align: inherit;">のみ</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">1つに関する情報に基づいて</font><font style="vertical-align: inherit;">モビリティを決定することは不可能です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、に関する情報もお忘れなく</font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。非常に多くのコードでは、そのような定数を見つけることができ</font></font><code>isSafari</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>isIE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これらのデバイスやブラウザの「機能」を扱うものなど。両方のアプローチを組み合わせるのが最善です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードベースでは</font></font><code>isCheesySafari</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、名前が示すよう</font></font><code>user-agent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に、Safariブラウザファミリの</font><font style="vertical-align: inherit;">メンバーシップ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">定義</font><font style="vertical-align: inherit;">する定数を使用し</font><font style="vertical-align: inherit;">ます。しかし、これに加えて、次の</font></font><code>isSuperCheesySafari</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ような多くのバグで有名になったiOSバージョン11に対応するモバイルSafariを意味</font><font style="vertical-align: inherit;">する定数</font><font style="vertical-align: inherit;">があり</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">//hackernoon.com/how-to-fix-the-ios-11-input-element -in-fixed-modals-bug-aaf66c7ba3f8</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> isMobileUA = <span class="hljs-function">(<span class="hljs-params">(</span>) =&gt;</span> magicParser(<span class="hljs-built_in">window</span>.navigator.userAgent))()<font></font>
<font></font>
<span class="hljs-keyword">import</span> isMobileUA <span class="hljs-keyword">from</span> <span class="hljs-string">'./isMobileUA'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> MyComponent = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { isMobile } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (isMobile || isMobileUA) ? <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">MobileComponent</span> /&gt;</span></span> : <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">DesktopComponent</span> /&gt;</span></span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メディアクエリについてはどうですか？</font><font style="vertical-align: inherit;">確かに、CSSには、メディアクエリとその類似のメソッドである、適応性を操作するための組み込みツールがあります</font></font><code>window.matchMedia</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それらは使用できますが、サイズ変更時のコンポーネントの「更新」のロジックはまだ実装する必要があります。</font><font style="vertical-align: inherit;">私個人ではありますが、JSでの通常の比較演算の代わりに、アプリケーションロジックとコンポーネントにメディアクエリの構文を使用することは、疑わしい利点です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネント構造の編成</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
モビリティの定義を理解しました。次に、取得したデータの使用とコンポーネントコード構造の編成について考えてみましょう。私たちのコードでは、原則として2種類のコンポーネントが優先されます。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のタイプ</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はコンポーネントであり、携帯電話の下またはデスクトップの下のいずれかでシャープになります。このようなコンポーネントでは、多くの場合、名前にMobile / Desktopという単語が含まれています。これは、コンポーネントがいずれかのタイプに属していることを明確に示しています。そのようなコンポーネントの例として、</font></font><code>&lt;MobileList /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font><font style="vertical-align: inherit;">考えることができます</font></font><code>@youla/ui</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Panel, Cell, Content, afterBorder } <span class="hljs-keyword">from</span> <span class="hljs-string">'./styled'</span>
<span class="hljs-keyword">import</span> Group <span class="hljs-keyword">from</span> <span class="hljs-string">'./Group'</span>
<span class="hljs-keyword">import</span> Button, { IMobileListButtonProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Button'</span>
<span class="hljs-keyword">import</span> ContentOrButton, { IMobileListContentOrButton } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ContentOrButton'</span>
<span class="hljs-keyword">import</span> Action, { IMobileListActionProps } <span class="hljs-keyword">from</span> <span class="hljs-string">'./Action'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> { Panel, Group, Cell, Content, Button, ContentOrButton, Action }
<span class="hljs-keyword">export</span> {<font></font>
 afterBorder,<font></font>
 IMobileListButtonProps,<font></font>
 IMobileListContentOrButton,<font></font>
 IMobileListActionProps<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコンポーネントは、非常に詳細なエクスポートに加えて、データ、セパレータ、ブロックごとのグループ化などを含むリストです。私たちのデザイナーはこのコンポーネントを非常に気に入っており、どこでもUlaインターフェースで使用しています。たとえば、製品ページの説明や新しい関税機能：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e5/m_/p-/e5m_p-fw1vefwo2330gmeh21kbw.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サイトの周りのNか所。</font></font><code>&lt;DesktopList /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デスクトップの解決のためにこのリスト機能を実装</font><font style="vertical-align: inherit;">する同様のコンポーネントもあり</font><font style="vertical-align: inherit;">ます。</font><strong><font style="vertical-align: inherit;">2番目のタイプ</font></strong></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
のコンポーネントには、</font><font style="vertical-align: inherit;">デスクトップとモバイルの両方のロジックが含まれています。</font><font style="vertical-align: inherit;">@youla / app-classifiedにある</font><font style="vertical-align: inherit;">コンポーネントのレンダリングの簡略化されたバージョンを見てみましょう</font><font style="vertical-align: inherit;">。</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"></font><code>&lt;HeaderBoard /&gt;</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は、コンポーネントのすべてのstyled-component-sを1つのファイルに作成し、それを名前空間Sの下にインポートして、コードを他のコンポーネントから分離するのが非常に便利であることを発見しました</font></font><code>import * as S from ‘./styled’</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、「S」はキーがスタイル付きコンポーネントの名前であるオブジェクトであり、値はコンポーネント自体です。</font></font><br>
<br>
<pre><code class="javascript hljs"> <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">HeaderWrapper</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">Logo</span> /&gt;</span>
     {isMobile &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">S.Arrow</span> /&gt;</span>}
     <span class="hljs-tag">&lt;<span class="hljs-name">S.Wraper</span> <span class="hljs-attr">isMobile</span>=<span class="hljs-string">{isMobile}</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">Video</span> <span class="hljs-attr">src</span>=<span class="hljs-string">{bgVideo}</span> /&gt;</span>
       {!isMobile &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">Header</span>&gt;</span>{headerContent}<span class="hljs-tag">&lt;/<span class="hljs-name">Header</span>&gt;</span>}
       <span class="hljs-tag">&lt;<span class="hljs-name">S.WaveWrapper</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wraper</span>&gt;</span>
     {isMobile &amp;&amp; <span class="hljs-tag">&lt;<span class="hljs-name">S.MobileHeader</span>&gt;</span>{headerContent}<span class="hljs-tag">&lt;/<span class="hljs-name">S.MobileHeader</span>&gt;</span>}
     <span class="hljs-tag">&lt;<span class="hljs-name">Info</span> <span class="hljs-attr">link</span>=<span class="hljs-string">{link}</span> /&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">PaintingInfo</span> <span class="hljs-attr">isMobile</span>=<span class="hljs-string">{isMobile}</span> /&gt;</span>
     {isMobile ? <span class="hljs-tag">&lt;<span class="hljs-name">CardsMobile</span> /&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">CardsDesktop</span> /&gt;</span>}
     {isMobile ? <span class="hljs-tag">&lt;<span class="hljs-name">UserNavigation</span> /&gt;</span> : <span class="hljs-tag">&lt;<span class="hljs-name">UserInfoModal</span> /&gt;</span>}
   <span class="hljs-tag">&lt;/<span class="hljs-name">HeaderWrapper</span>&gt;</span></span><font></font>
 )<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここ</font></font><code>isMobile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では、コンポーネント自体がどのインターフェースをレンダリングするかを決定することに基づいた、コンポーネントの依存関係です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より便利なスケーリングのために、コードの再利用された部分でコントロールの反転パターンを使用することがよくありますが、不要なロジックでトップレベルの抽象化をオーバーロードしないように注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「ユリアン」コンポーネントから少し抽象化して、これら2つのコンポーネントを詳しく見てみましょう。</font></font><br>
<br>
<ul>
<li><code>&lt;ComponentA /&gt;</code><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デスクトップロジックとモバイルロジックを厳密に分離します。</font></font></li>
<li><code>&lt;ComponentB /&gt;</code><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結合。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;ComponentA /&gt;対&lt;ComponentB /&gt;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォルダ構造とルート</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">index.ts</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="javascript hljs">./ComponentA<font></font>
- ComponentA.tsx<font></font>
- ComponentADesktop.tsx<font></font>
- ComponentAMobile.tsx<font></font>
- index.ts<font></font>
- styled.desktop.ts<font></font>
- styled.mobile.ts<font></font>
</code></pre><br>
<pre><code class="javascript hljs">
<span class="hljs-keyword">import</span> ComponentA  <span class="hljs-keyword">from</span> <span class="hljs-string">'./ComponentA'</span>
<span class="hljs-keyword">import</span> ComponentAMobile  <span class="hljs-keyword">from</span> <span class="hljs-string">'./ComponentAMobile'</span>
<span class="hljs-keyword">import</span> ComponentADesktop  <span class="hljs-keyword">from</span> <span class="hljs-string">'./ComponentADesktop'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 <span class="hljs-attr">ComponentACombined</span>: ComponentA,<font></font>
 ComponentAMobile,<font></font>
 ComponentADesktop<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいテクノロジーツリーを揺さぶるWebpackのおかげで（または他のコレクターを使用して）、未使用のモジュール（</font></font><code>ComponentADesktop</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>ComponentACombined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を</font><font style="vertical-align: inherit;">破棄できます。</font><font style="vertical-align: inherit;">これは、ルートファイル経由で再エクスポートする場合でも可能です。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> ComponentA <span class="hljs-keyword">from</span> ‘@youla/ui’<font></font>
&lt;ComponentA.ComponentAMobile /&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
./ComponentAMobileファイルコードのみが最終的なバンドルに入ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネントが</font></font><code>&lt;ComponentA /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用して非同期の輸入が含まれている</font></font><code>React.Lazy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントの特定のバージョンの</font></font><code>&lt;ComponentAMobile /&gt; || &lt;ComponentADesktop /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の状況のために。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yuleは、インデックスファイルを通じて、コンポーネントへの単一のエントリポイントのパターンに準拠しようとしています。これにより、コンポーネントの検索とリファクタリングが簡単になります。コンポーネントのコンテンツがルートファイルを介して再エクスポートされない場合は、このコンポーネントのコンテキスト外では使用されないことがわかっているため、安全に編集できます。 Typescriptはピンチでヘッジします。コンポーネントを含むフォルダーには独自の「インターフェース」があります。ルートファイルのモジュールレベルでエクスポートされ、その実装の詳細は公開されません。その結果、リファクタリング時に、インターフェースの保存を恐れることはできません。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentADesktopLazy = React.lazy(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./ComponentADesktop'</span>))
<span class="hljs-keyword">const</span> ComponentAMobileLazy = React.lazy(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">import</span>(<span class="hljs-string">'./ComponentAMobile'</span>))<font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentA = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { isMobile } = props<font></font>
<font></font>
<span class="hljs-comment">//    </span><font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">React.Suspense</span> <span class="hljs-attr">fallback</span>=<span class="hljs-string">{props.fallback}</span>&gt;</span>
     {isMobile ? (
       <span class="hljs-tag">&lt;<span class="hljs-name">ComponentAMobileLazy</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
     ) : (
       <span class="hljs-tag">&lt;<span class="hljs-name">ComponentADesktopLazy</span> {<span class="hljs-attr">...props</span>} /&gt;</span>
     )}
   <span class="hljs-tag">&lt;/<span class="hljs-name">React.Suspense</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComponentA
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、コンポーネント</font></font><code>&lt;ComponentADesktop /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にはデスクトップコンポーネントのインポートが含まれます。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> { DesktopList, UserAuthDesktop, UserInfo } <span class="hljs-keyword">from</span> <span class="hljs-string">'@youla/ui'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> Banner <span class="hljs-keyword">from</span> <span class="hljs-string">'../Banner'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> S <span class="hljs-keyword">from</span> <span class="hljs-string">'./styled.desktop'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentADesktop = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { user, items } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">S.Wrapper</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.Main</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">Banner</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">DesktopList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{items}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Main</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.SideBar</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserAuthDesktop</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserInfo</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.SideBar</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wrapper</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComponentADesktop
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネントに</font></font><code>&lt;ComponentAMobile /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、モバイルコンポーネントのインポートが含まれています。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> { MobileList, MobileTabs, UserAuthMobile } <span class="hljs-keyword">from</span> <span class="hljs-string">'@youla/ui'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> S <span class="hljs-keyword">from</span> <span class="hljs-string">'./styled.mobile'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentAMobile = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { user, items, tabs } = props<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">S.Wrapper</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.Main</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserAuthMobile</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">MobileList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{items}</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">MobileTabs</span> <span class="hljs-attr">tabs</span>=<span class="hljs-string">{tabs}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Main</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wrapper</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComponentAMobile
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネントは</font></font><code>&lt;ComponentA /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">適応性があります。フラグによって、</font></font><code>isMobile</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">どのバージョンを描画するかを決定でき、必要なファイルのみを非同期でダウンロードできます。つまり、モバイルバージョンとデスクトップバージョンを別々に使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでコンポーネントを見てみましょう</font></font><code>&lt;ComponentB /&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">その中で、モバイルとデスクトップのロジックを深く分解するのではなく、1つの関数のフレームワーク内にすべての条件を残します。</font><font style="vertical-align: inherit;">同様に、スタイルのコンポーネントを分離しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがフォルダ構造です。</font><font style="vertical-align: inherit;">ルートのindex.tsファイルは単に再エクスポートし</font></font><code>./ComponentB</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます：</font></font><br>
<br>
<pre><code class="javascript hljs">./ComponentB<font></font>
- ComponentB.tsx<font></font>
- index.ts<font></font>
- styled.ts<font></font>
</code></pre><br>
<pre><code class="javascript hljs">
<span class="hljs-keyword">export</span> { <span class="hljs-keyword">default</span> } <span class="hljs-keyword">from</span> <span class="hljs-string">'./ComponentB'</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネント自体を含む./ComponentBファイル：</font></font><br>
<br>
<pre><code class="javascript hljs">
<span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> {<font></font>
 DesktopList,<font></font>
 UserAuthDesktop,<font></font>
 UserInfo,<font></font>
 MobileList,<font></font>
 MobileTabs,<font></font>
 UserAuthMobile<font></font>
} <span class="hljs-keyword">from</span> <span class="hljs-string">'@youla/ui'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> * <span class="hljs-keyword">as</span> S <span class="hljs-keyword">from</span> <span class="hljs-string">'./styled'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> ComponentB = <span class="hljs-function">(<span class="hljs-params">props</span>) =&gt;</span> {
 <span class="hljs-keyword">const</span> { user, items, tabs, isMobile } = props<font></font>
<font></font>
 <span class="hljs-keyword">if</span> (isMobile) {
   <span class="hljs-keyword">return</span> (
     <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">S.Wrapper</span> <span class="hljs-attr">isMobile</span>=<span class="hljs-string">{isMobile}</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">S.Main</span> <span class="hljs-attr">isMobile</span>=<span class="hljs-string">{isMobile}</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">UserAuthMobile</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">MobileList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{items}</span> /&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">MobileTabs</span> <span class="hljs-attr">tabs</span>=<span class="hljs-string">{tabs}</span> /&gt;</span>
       <span class="hljs-tag">&lt;/<span class="hljs-name">S.Main</span>&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wrapper</span>&gt;</span></span><font></font>
   )<font></font>
 }<font></font>
<font></font>
 <span class="hljs-keyword">return</span> (
   <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">S.Wrapper</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.Main</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">Banner</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">DesktopList</span> <span class="hljs-attr">items</span>=<span class="hljs-string">{items}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.Main</span>&gt;</span>
     <span class="hljs-tag">&lt;<span class="hljs-name">S.SideBar</span>&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserAuthDesktop</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
       <span class="hljs-tag">&lt;<span class="hljs-name">UserInfo</span> <span class="hljs-attr">user</span>=<span class="hljs-string">{user}</span> /&gt;</span>
     <span class="hljs-tag">&lt;/<span class="hljs-name">S.SideBar</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">S.Wrapper</span>&gt;</span></span><font></font>
 )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ComponentB
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのコンポーネントの長所と短所を推定してみましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ji/l-/px/jil-pxa15xccew0cgnm6zeauch8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それらのそれぞれについて、合計3つの賛否両論の議論が指から抜け出しました。</font><font style="vertical-align: inherit;">はい、私はいくつかの基準が長所と短所の両方ですぐに言及されていることに気づきました：これは故意に行われたもので、誰もが間違ったグループからそれらを削除します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@youlaでの経験</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのコンポーネントライブラリ@ youla / uiでは、デスクトップコンポーネントとモバイルコンポーネントを混在させないようにしています。これは、多くの人や他の人のパッケージの外部依存関係であるためです。これらのコンポーネントのライフサイクルは可能な限り長く、できるだけスリムで軽量にしたいと考えています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意すべき</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要な点</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font><strong><font style="vertical-align: inherit;">2つ</font></strong><font style="vertical-align: inherit;">あります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、組み立てられたJSファイルが小さいほど、ユーザーへの配信が速くなります。これは明白であり、誰もが知っています。ただし、この特性はファイルの最初のダウンロードでのみ重要であり、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">繰り返し</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセスするとファイルはキャッシュから配信され、コード配信の問題は発生しません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、理由2に進みます。理由2は、大規模なWebアプリケーションの主要な問題になる可能性があります。多くの人がすでに推測しています：はい、私たちは</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解析</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><strong><font style="vertical-align: inherit;">期間</font></strong><font style="vertical-align: inherit;">について話してい</font><strong><font style="vertical-align: inherit;">ます。</font></strong></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
V8のような最新のエンジンは、解析と解析の結果をキャッシュできますが、これまでのところ、非常に効率的に機能していません。 Eddie Osmaniがこのトピックに関するすばらしい記事を公開しています：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">//v8.dev/blog/cost-of-javascript-2019 </font></a></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> V8ブログ（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://twitter.com/v8js）を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">購読することもでき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちが大幅に削減するのは、解析の期間です。これは、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセッサが弱いモバイルデバイスで</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は特に重要</font><strong><font style="vertical-align: inherit;">です</font></strong><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションパッケージ@ youla-web / app- *では、開発はより「ビジネス指向」です。そして、スピード/シンプルさ/個人的な好みのために、開発者自身がこの状況で最も正しいと考える決定が選択されます。小さなMVP機能を開発するときは、多くの場合、最初に単純で高速なバージョン（&lt;ComponentB /&gt;）を記述した方がよいことがあります。このようなコンポーネントでは、行数が半分になります。そして、私たちが知っているように、より多くのコード-より多くのエラー。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機能の関連性を確認した後、必要に応じて、コンポーネントをより最適化された生産的なバージョンの&lt;ComponentA /&gt;に置き換えることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、コンポーネントをのぞいてみることもお勧めします。</font><font style="vertical-align: inherit;">モバイルバージョンとデスクトップバージョンのUIが非常に異なる場合は、いくつかの共通ロジックを1か所に保持して、それらを分離する必要があります。</font><font style="vertical-align: inherit;">これにより、複雑なCSSを作成するときの苦痛、別のリファクタリングまたは変更時の1つのディスプレイのエラーに関する問題を取り除くことができます。</font><font style="vertical-align: inherit;">逆もまた同様ですが、UIが可能な限り近い場合、なぜ余分な作業が必要になるのでしょうか。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要約する。</font><font style="vertical-align: inherit;">アダプティブ/レスポンシブインターフェイスの用語を理解し、モビリティを決定するいくつかの方法と、アダプティブコンポーネントのコード構造を整理するためのいくつかのオプションを検討し、それぞれの長所と短所を特定しました。</font><font style="vertical-align: inherit;">確かに上記の多くはすでにあなたに知られていましたが、統合は繰り返しが最善の方法です。</font><font style="vertical-align: inherit;">何か新しいことを学んでいただけたら幸いです。</font><font style="vertical-align: inherit;">次回は、プログレッシブWebアプリケーションを作成するための推奨事項のコレクションを、コードの編成、再利用、および保守に関するヒントとともに公開したいと思います。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja493274/index.html">Android開発者向けの30以上の簡潔な専門的な推奨事項</a></li>
<li><a href="../ja493278/index.html">SARS-CoV-2から保護するために喫煙する必要がありますか</a></li>
<li><a href="../ja493282/index.html">Calicoを使用したネットワークポリシーについて</a></li>
<li><a href="../ja493284/index.html">Kubernetes 1.18：主要なイノベーションの概要</a></li>
<li><a href="../ja493288/index.html">5つの有名な説明されたプログラミングの引用</a></li>
<li><a href="../ja493294/index.html">ソビエトの集積回路の内部をTTLで調べます</a></li>
<li><a href="../ja493298/index.html">C ++、メタプログラミング、およびマイクロコントローラーのレジスター</a></li>
<li><a href="../ja493300/index.html">統合された画像を使用したO（1）の質量中心の計算</a></li>
<li><a href="../ja493302/index.html">コロナウイルスと戦うために、すでにどんな技術が求められていますか？</a></li>
<li><a href="../ja493304/index.html">ゼロからヘキサポッドを開発する（パート8）-数学の動きの改善</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>