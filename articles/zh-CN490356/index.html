<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¼â€ğŸ¨ ğŸ‘Œ ğŸ‘§ğŸ¿ ä¸ºYandex.Cloudå¼•å…¥Kubernetes CCMï¼ˆäº‘æ§åˆ¶å™¨ç®¡ç†å™¨ï¼‰ ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦ ğŸ² ğŸ§•ğŸ½</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä½œä¸ºYandex.Cloud CSIé©±åŠ¨ç¨‹åº çš„æœ€æ–°ç‰ˆæœ¬çš„å»¶ç»­ï¼Œæˆ‘ä»¬å°†ä¸ºæ­¤äº‘å‘å¸ƒå¦ä¸€ä¸ªå¼€æºé¡¹ç›®-Cloud Controller Managerã€‚CCMä¸ä»…å¯¹äºæ•´ä¸ªç¾¤é›†éƒ½æ˜¯å¿…éœ€çš„ï¼Œè€Œä¸”å¯¹äºCSIé©±åŠ¨ç¨‹åºæœ¬èº«ä¹Ÿæ˜¯å¿…éœ€çš„ã€‚æœ‰å…³å…¶ç”¨é€”å’ŒæŸäº›å®ç°åŠŸèƒ½çš„è¯¦ç»†ä¿¡æ¯å·²åˆ å‡ã€‚
 
 ä»‹ç»
 ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Ÿ
 ä¿ƒä½¿æˆ‘...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ä¸ºYandex.Cloudå¼•å…¥Kubernetes CCMï¼ˆäº‘æ§åˆ¶å™¨ç®¡ç†å™¨ï¼‰</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/490356/"><img src="https://habrastorage.org/webt/s2/w7/rt/s2w7rtss8envvu9ym6mitwfpigw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½œä¸ºYandex.Cloud </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSIé©±åŠ¨ç¨‹åº</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
çš„æœ€æ–°</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">ç‰ˆæœ¬çš„</font></a><font style="vertical-align: inherit;">å»¶ç»­ï¼Œæˆ‘ä»¬å°†ä¸ºæ­¤äº‘å‘å¸ƒå¦ä¸€ä¸ªå¼€æºé¡¹ç›®-Cloud </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Controller Manager</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">CCMä¸ä»…å¯¹äºæ•´ä¸ªç¾¤é›†éƒ½æ˜¯å¿…éœ€çš„ï¼Œè€Œä¸”å¯¹äºCSIé©±åŠ¨ç¨‹åºæœ¬èº«ä¹Ÿæ˜¯å¿…éœ€çš„ã€‚</font><font style="vertical-align: inherit;">æœ‰å…³å…¶ç”¨é€”å’ŒæŸäº›å®ç°åŠŸèƒ½çš„è¯¦ç»†ä¿¡æ¯å·²åˆ å‡ã€‚</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»‹ç»</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºä»€ä¹ˆæ˜¯è¿™æ ·ï¼Ÿ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¿ƒä½¿æˆ‘ä»¬ä¸ºYandex.Cloudå¼€å‘CCMçš„åŠ¨æœº</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CSIé©±åŠ¨ç¨‹åº</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">å…¬å‘Šä¸­</font></a><font style="vertical-align: inherit;">å·²ç»æè¿°çš„åŠ¨æœºå®Œå…¨ä¸€è‡´</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä¸ºæ¥è‡ªä¸åŒäº‘æä¾›å•†çš„è®¸å¤šKubernetesé›†ç¾¤æä¾›æœåŠ¡ï¼Œä¸ºæ­¤æˆ‘ä»¬ä½¿ç”¨ä¸€ä¸ªå·¥å…·ã€‚</font><font style="vertical-align: inherit;">å®ƒå®ç°äº†â€œç»•è¿‡â€è¿™äº›æä¾›ç¨‹åºçš„æ‰˜ç®¡è§£å†³æ–¹æ¡ˆçš„ä¼—å¤šä¾¿åˆ©è®¾æ–½ã€‚</font><font style="vertical-align: inherit;">æ˜¯çš„ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ªç›¸å½“å…·ä½“çš„æ¡ˆä¾‹å’Œéœ€æ±‚ï¼Œä½†æ˜¯ç”±äºå®ƒä»¬è€Œåˆ›å»ºçš„å¼€å‘å¯¹å…¶ä»–ç”¨æˆ·ä¹Ÿå¾ˆæœ‰ç”¨ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€èˆ¬è€Œè¨€ï¼ŒCCMæ˜¯ä»€ä¹ˆï¼Ÿ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šå¸¸ï¼Œæˆ‘ä»¬</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»å¤–éƒ¨</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸º</font><font style="vertical-align: inherit;">ç¾¤é›†å‡†å¤‡ç¯å¢ƒ</font><font style="vertical-align: inherit;">ï¼Œä¾‹å¦‚ï¼Œä½¿ç”¨Terraformã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯æœ‰æ—¶éœ€è¦</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»ç¾¤é›†</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®¡ç†å‘¨å›´çš„äº‘ç¯å¢ƒ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æä¾›äº†è¿™æ ·çš„æœºä¼šï¼Œå¹¶ä¸”</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CCM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ç°äº†å®ƒ</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°¤å…¶æ˜¯ï¼ŒCloud Controller Manageræä¾›äº†äº”ç§åŸºæœ¬çš„äº¤äº’ç±»å‹ï¼š</font></font><br>
<br>
<ol>
<li> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ä¾‹</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -åœ¨Kubernetesï¼ˆ</font></font><code>Node</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ä¸­</font><font style="vertical-align: inherit;">çš„èŠ‚ç‚¹å¯¹è±¡</font><font style="vertical-align: inherit;">ä¸äº‘æä¾›å•†ä¸­çš„è™šæ‹Ÿæœº</font><font style="vertical-align: inherit;">ä¹‹é—´å®ç°1ï¼š1çš„è¿æ¥</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œæˆ‘ä»¬ï¼š</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¡«å†™</font></font><code>spec.providerID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¹è±¡</font><font style="vertical-align: inherit;">ä¸­çš„å­—æ®µ</font></font><code>Node</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œå¯¹äºOpenStack CCMï¼Œæ­¤å­—æ®µå…·æœ‰ä»¥ä¸‹æ ¼å¼ï¼š</font></font><code>openstack:///d58a78bf-21b0-4682-9dc6-2132406d2bb0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥çœ‹åˆ°äº‘æä¾›å•†çš„åç§°å’Œå¯¹è±¡çš„æœåŠ¡å™¨çš„å”¯ä¸€UUIDï¼ˆOpenStackä¸­çš„è™šæ‹Ÿæœºï¼‰ï¼›</font></font></li>
<li>  <code>nodeInfo</code>   <code>Node</code>    . ,  instance type  AWS;</li>
<li>      .  ,   <code>Node</code>    <code>NotReady</code>,  ,          <code>providerID</code>.    â€”   <code>Node</code>,         ;</li>
</ul></li>
<li> <b>Zones</b> â€“  failure domain   <code>Node</code>,       Podâ€™       ;</li>
<li> <b>LoadBalancer</b> â€“    <code>Service</code>   <code>LoadBalancer</code>   ,       . ,  Yandex.Cloud   <code>NetworkLoadBalancer</code>  <code>TargetGroup</code>   ;</li>
<li> <b>Route</b> â€“    , ..   Kubernetes  pod    IP-        podâ€™.        (VXLAN, GENEVE)          :<br>
<br>
<img src="https://habrastorage.org/webt/7y/jd/d3/7yjdd3jpdwrsart5ps7nbpa7irs.png"></li>
<li> <b>Volume</b> â€“    PV,  PVC  SC.      CCM,          Container Storage Interface (CSI).  CSI    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> ,   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a> CSI-.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥å‰ï¼Œæ‰€æœ‰ä¸äº‘äº¤äº’çš„ä»£ç ä¸»è¦ä½äºè¯¥åœ°å€çš„Kubernetesé¡¹ç›®Gitå­˜å‚¨åº“ä¸­</font></font><code>k8s.io/kubernetes/pkg/cloudprovider/providers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä½†æ˜¯ç”±äºä½¿ç”¨å¤§å‹ä»£ç åº“å¸¦æ¥çš„ä¸ä¾¿ï¼Œä»–ä»¬å†³å®šæ‹’ç»è¿™æ ·åšã€‚</font><font style="vertical-align: inherit;">æ‰€æœ‰æ—§çš„å®ç°éƒ½ç§»åˆ°äº†</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å•ç‹¬çš„å­˜å‚¨åº“ä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¸ºäº†æ–¹ä¾¿è¿›ä¸€æ­¥çš„æ”¯æŒå’Œå¼€å‘ï¼Œæ‰€æœ‰é€šç”¨ç»„ä»¶ä¹Ÿéƒ½ç§»åˆ°äº†</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å•ç‹¬çš„å­˜å‚¨åº“ä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸CSIä¸€æ ·ï¼Œè®¸å¤šå¤§å‹äº‘æœåŠ¡æä¾›å•†å·²ç»å¼€å‘äº†è‡ªå·±çš„CCMï¼Œä¾›Kubernetesä¸­çš„äº‘ä½¿ç”¨ã€‚</font><font style="vertical-align: inherit;">å¦‚æœä¾›åº”å•†æ²¡æœ‰CCMï¼Œä½†æ˜¯æ‰€æœ‰å¿…éœ€çš„åŠŸèƒ½éƒ½å¯ä»¥é€šè¿‡APIè·å¾—ï¼Œé‚£ä¹ˆæ‚¨å¯ä»¥è‡ªå·±å®ç°CCMã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦ç¼–å†™æ‚¨çš„CCMå®æ–½ï¼Œåªéœ€å®æ–½</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿…è¦çš„Goæ¥å£å³å¯</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å’Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‚£å°±æ˜¯æˆ‘ä»¬å¾—åˆ°çš„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ä½œ</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½ æ€ä¹ˆæ¥çš„</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€å¹´å‰</font><font style="vertical-align: inherit;">
ï¼Œæˆ‘ä»¬ä»¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Œæˆçš„ï¼ˆï¼ï¼‰CCM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> for Yandex.Cloud </font><font style="vertical-align: inherit;">å¼€å§‹ï¼ˆç”šè‡³æ˜¯ä½¿ç”¨ï¼‰å¼€å‘</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œåœ¨æ­¤å®ç°ä¸­ï¼Œæˆ‘ä»¬ç¼ºå°‘ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é€šè¿‡JWT IAMä»¤ç‰Œè¿›è¡Œèº«ä»½éªŒè¯ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> æœåŠ¡æ§åˆ¶å™¨æ”¯æŒã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ ¹æ®</font><font style="vertical-align: inherit;">Telegram </font><font style="vertical-align: inherit;">ä½œè€…</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆdlisinï¼‰çš„</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒæ„</font><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬åˆ†å‰äº†yandex-cloud-controller-managerå¹¶æ·»åŠ äº†ç¼ºå°‘çš„åŠŸèƒ½ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸»è¦ç‰¹ç‚¹</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CCMå½“å‰æ”¯æŒä»¥ä¸‹æ¥å£ï¼š</font></font><br>
<br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®ä¾‹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒºåŸŸ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LoadBalancer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°†æ¥ï¼Œå½“Yandex.Cloudå¼€å§‹ä½¿ç”¨VPCçš„é«˜çº§åŠŸèƒ½æ—¶ï¼Œæˆ‘ä»¬å°†æ·»åŠ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Routes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¥å£</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è´Ÿè½½å¹³è¡¡å™¨æ˜¯ä¸»è¦æŒ‘æˆ˜</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åˆï¼Œæˆ‘ä»¬å°è¯•ä¸å…¶ä»–CCMå®ç°ä¸€æ ·ï¼Œåˆ›å»ºä¸€å¯¹ï¼Œ</font></font><code>LoadBalancer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹¶</font></font><code>TargetGroup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºæ¯ä¸ª</font><font style="vertical-align: inherit;">åˆ›å»º</font></font><code>Service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€ä¸ªtype </font></font><code>LoadBalancer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼ŒYandex.Cloudè¡¨ç°å‡ºä¸€ä¸ªæœ‰è¶£çš„å±€é™æ€§ï¼šä¸èƒ½</font></font><code>TargetGroups</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ç›¸äº¤</font></font><code>Targets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå¯¹</font></font><code>SubnetID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- </font></font><code>IpAddress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ä¸€èµ·ä½¿ç”¨ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xr/23/x7/xr23x7bhy2gu6otadoj36lmdxo4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œå»ºç«‹CCMå†…æ¨å‡ºäº†æ§åˆ¶å™¨ï¼Œæ”¹å˜å¯¹è±¡æ—¶ï¼Œ</font></font><code>Node</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…³äºæ¯ä¸ªè™šæ‹Ÿæœºä¸Šçš„æ‰€æœ‰æ¥å£ï¼Œç»„ä»–ä»¬æ”¶é›†ä¿¡æ¯å±äºæŸäº›</font></font><code>NetworkID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šåˆ›å»º</font></font><code>TargetGroup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„</font></font><code>NetworkID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå¹¶ç¡®ä¿å®ƒçš„ç”µæµã€‚</font><font style="vertical-align: inherit;">éšåï¼Œåœ¨åˆ›å»º</font></font><code>Service</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…·æœ‰ç±»å‹</font><font style="vertical-align: inherit;">çš„å¯¹è±¡</font><font style="vertical-align: inherit;">æ—¶ï¼Œ</font></font><code>LoadBalanacer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬åªéœ€å°†å…ˆå‰åˆ›å»º</font><font style="vertical-align: inherit;">çš„å¯¹è±¡</font><font style="vertical-align: inherit;">é™„åŠ </font></font><code>TargetGroup</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ°æ–°å¯¹è±¡ä¸Šå³å¯</font></font><code>NetworkLoadBalanacer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚ä½•å¼€å§‹ä½¿ç”¨ï¼Ÿ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CCMæ”¯æŒKubernetes 1.15åŠæ›´é«˜ç‰ˆæœ¬ã€‚</font><font style="vertical-align: inherit;">åœ¨é›†ç¾¤ä¸­ï¼Œå¯¹äºå…¶æ“ä½œï¼Œè¦æ±‚å°†æ ‡å¿—</font></font><code>--cloud-provider=external</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®¾ç½®</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºkube-apiserverï¼Œkube-controller-managerï¼Œkube-schedulerå’Œæ‰€æœ‰kubelet'ovçš„å€¼ã€‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">README</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä¸­æè¿°äº†å®‰è£…æœ¬èº«çš„æ‰€æœ‰å¿…è¦æ­¥éª¤</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å®‰è£…å½’ç»“ä¸ºé€šè¿‡æ¸…å•åœ¨Kubernetesä¸­åˆ›å»ºå¯¹è±¡ã€‚</font><font style="vertical-align: inherit;">
è¦ä½¿ç”¨CCMï¼Œæ‚¨è¿˜éœ€è¦ï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æ¸…å•ä¸­</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">æŒ‡å®š</font></a><font style="vertical-align: inherit;"> Yandex.Cloudç›®å½•çš„æ ‡è¯†ç¬¦ï¼ˆ</font></font><code>folder-id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Yandex.Cloud APIäº¤äº’çš„æœåŠ¡å¸æˆ·ã€‚</font><font style="vertical-align: inherit;">åœ¨æ¸…å•ä¸­ï¼Œ</font></font><code>Secret</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‚¨å¿…é¡»</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†æˆæƒå¯†é’¥è½¬ç§»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ°æœåŠ¡å¸æˆ·ã€‚</font><font style="vertical-align: inherit;">è¯¥æ–‡æ¡£</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»‹ç»äº†</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚ä½•åˆ›å»ºæœåŠ¡å¸æˆ·å¹¶è·å–å¯†é’¥ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœæ‚¨é‡åˆ°ä»»ä½•é—®é¢˜ï¼Œ</font><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†å¾ˆé«˜å…´æ”¶åˆ°åé¦ˆå’Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–°</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é—®é¢˜ï¼</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‘˜è¦</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿‡å»çš„ä¸¤å‘¨ä¸­ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨äº”ä¸ªKubernetesé›†ç¾¤ä¸­ä½¿ç”¨å·²å®æ–½çš„CCMï¼Œå¹¶è®¡åˆ’åœ¨ä¸‹ä¸ªæœˆå°†å…¶æ•°é‡æ‰©å±•åˆ°20ä¸ªã€‚</font><font style="vertical-align: inherit;">å½“å‰ä¸å»ºè®®åœ¨å¤§å‹å’Œå…³é”®K8så®‰è£…ä¸­ä½¿ç”¨CCMã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸CSIä¸€æ ·ï¼Œå¦‚æœYandexå¼€å‘äººå‘˜æ‰¿æ‹…è¯¥é¡¹ç›®çš„å¼€å‘å’Œæ”¯æŒï¼Œæˆ‘ä»¬å°†éå¸¸é«˜å…´-æˆ‘ä»¬å‡†å¤‡æ ¹æ®ä»–ä»¬çš„è¦æ±‚è½¬ç§»å­˜å‚¨åº“ï¼Œä»¥ä¾¿ä¸ºæˆ‘ä»¬å¤„ç†æ›´å¤šä¸“é—¨çš„ä»»åŠ¡ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èšè‹¯ä¹™çƒ¯</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦è¯·å‚é˜…æˆ‘ä»¬çš„åšå®¢ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬åœ¨Kubernetesä¸­ä¸ºYandex.Cloudå¼€å‘CSIé©±åŠ¨ç¨‹åºçš„ç»éªŒ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çƒ¹é¥ªKubernetesé›†ç¾¤æ—¢ç®€å•åˆæ–¹ä¾¿ï¼Ÿ</font><font style="vertical-align: inherit;">å®£å¸ƒæ’ä»¶æ“ä½œå‘˜</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€ï¼›</font></font></li>
<li> Â«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=">   Kubernetes (   )</a>Â».</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN490342/index.html">æˆ‘ä»¬ä»æµ‹è¯•çŠ¶æ€ä¿¡æ¯ç³»ç»Ÿä¸­å­¦åˆ°äº†ä»€ä¹ˆ</a></li>
<li><a href="../zh-CN490344/index.html">è°æ˜¯æŠ€æœ¯ä¸“å®¶ï¼Œå›¢é˜Ÿä¸ºä½•éœ€è¦å®ƒ</a></li>
<li><a href="../zh-CN490346/index.html">MQTTåè®®åœ¨å·¥ä¸šç‰©è”ç½‘å‘å±•ä¸­çš„ä½œç”¨</a></li>
<li><a href="../zh-CN490348/index.html">å¦‚ä½•æä¾›åé¦ˆè€Œä¸å‘åŠ¨ç¬¬ä¸‰æ¬¡ä¸–ç•Œå¤§æˆ˜</a></li>
<li><a href="../zh-CN490354/index.html">åŠ å¼ºé‡‘èç§‘æŠ€å…¬å¸çš„ä¿¡æ¯å®‰å…¨æ–‡åŒ–</a></li>
<li><a href="../zh-CN490358/index.html">ç°ä»£ç¨‹åºå‘˜æ˜¯å¦éœ€è¦èƒ½å¤Ÿåˆ›å»ºç®—æ³•ï¼Ÿ</a></li>
<li><a href="../zh-CN490362/index.html">ç§‰æ‰¿ç›—ç‰ˆç²¾ç¥çš„Kubernetesï¼šæˆ‘ä»¬é€šå¾€å¾®æœåŠ¡çš„é“è·¯å’Œç°æˆçš„å®æ–½æ¨¡æ¿</a></li>
<li><a href="../zh-CN490364/index.html">æ•°æ®ä¸­å¿ƒæ¶ˆè€—å¤§é‡ç”µåŠ›ï¼Œä½†å°šæœªå¨èƒåˆ°æ°”å€™</a></li>
<li><a href="../zh-CN490366/index.html">æˆ‘åº”è¯¥åœ¨æœåŠ¡å™¨ä¸Šå­˜å‚¨Googleå­—ä½“å—ï¼Ÿ</a></li>
<li><a href="../zh-CN490372/index.html">æ¸¡æ¸¡é¸ŸæŠ«è¨ä¸“è®¿</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>