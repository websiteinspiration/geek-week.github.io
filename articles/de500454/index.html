<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍✈️ 🐢 👌🏼 "Welche Yachthäfen?" oder wir steuern den Controller über Bluetooth mit einer mobilen Anwendung auf Xamarin (Android) ♀️ 👻 👇🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In einem früheren Artikel habe ich versprochen, darüber zu sprechen, wie CANNY 3 tiny mit UART mit Bluetooth verbunden werden kann. Und da Sie in dies...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>"Welche Yachthäfen?" oder wir steuern den Controller über Bluetooth mit einer mobilen Anwendung auf Xamarin (Android)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500454/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In einem früheren </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel habe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich versprochen, darüber zu sprechen, wie CANNY 3 tiny mit UART mit Bluetooth verbunden werden kann. </font><font style="vertical-align: inherit;">Und da Sie in diesen Maiferien nicht wirklich spazieren gehen, wurde beschlossen, Zeit mit Nutzen zu verbringen und das Versprechen trotzdem einzuhalten. </font><font style="vertical-align: inherit;">Aber nur um den Controller mit dem Bluetooth-Adapter HC-06 zu verbinden, wäre es für Habr zu einfach. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher werden wir nicht nur alles verbinden, sondern auch eine primitive Android-Anwendung für unsere Schaltung mit C # und Xamarin schreiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die „Endschalter“ und die Reedschalter überwachen möchten, wie ich es liebe, sind Sie unter Katze willkommen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/a6/2t/ai/a62taim0dwnonrmzzjhicax8q-g.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist, worüber wir heute sprechen werden: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teil I: Einführung </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teil II: Verbinden der Schaltung und des Programms für CANNY 3 winzig </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teil III: Wir schreiben eine Anwendung auf Xamarin für Android </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teil IV: Fazit</font></font></a><br>
<a name="I"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Teil I: Einführung</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich beginne mit dem Guten, abgesehen von den Einfügungen des Programmcodes in C #. Diesmal ist der Artikel relativ klein, da wir die grundlegenden Techniken für die Arbeit mit dem Controller früher untersucht haben. </font><font style="vertical-align: inherit;">Um es nicht noch einmal zu wiederholen, finden Sie hier eine Liste von Artikeln, in denen wir bereits die grundlegenden Methoden für die Arbeit mit dem CANNY-Controller untersucht haben:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Eins, zwei, drei - verbrenne den Weihnachtsbaum!" </font><font style="vertical-align: inherit;">oder mein erster Blick auf den winzigen CANNY 3-Controller</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - in diesem Artikel haben wir analysiert, was der Controller ist und welche Grundlagen für die Arbeit in der CannyLab-Entwicklungsumgebung gelten.</font></font><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Das Ziel hat viele Erscheinungsformen ..." oder wir automatisieren die Steuerung einer Lampe mit CANNY 3 tiny und einem Fotowiderstand.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> In diesem Artikel haben wir uns mit der Arbeit mit dem virtuellen USB-COM-Port, dem Anschließen von Sensoren an den ADC sowie dem Hochfrequenz-PWM an den Controller-Ausgängen befasst.</font></font><br>
</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">«  ...»         (CANNY  Arduino)  Raspberry PI</a> —        UART,     .<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Vorbereitung dieses Artikels habe ich die folgende Hardware verwendet: CANNY 3 winziger Controller, HC-06 Bluetooth-Adapter, Endschalter (Trema-Modul), Reed-Schalter, alte kabelgebundene Kopfhörer, Steckbrett, Kabel, Krokodile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden ein System bauen, das mithilfe einer mobilen Anwendung den Status von zwei Sensoren überwacht und bei Bedarf manuell einen Alarm auslösen kann. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles, was in diesem Artikel vorgestellt wird, wurde ausschließlich zu Bildungs- und Demonstrationszwecken erfunden. Ich wollte nur einige Tricks der Arbeit mit dem Controller zeigen, sowie für die Eisenstücke, die auf einmal gekauft wurden, um irgendwie ihren Wert herauszufinden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotz der Art des zu lösenden Problems, das weit von der Realität entfernt ist, werden wir uns vorstellen, dass wir ein Überwachungssystem hinter der Schiebetür des Abteils herstellen. </font><font style="vertical-align: inherit;">Wenn es sich in Bewegung setzt, funktioniert der Reed-Schalter und am Ende des Pfades gibt er ein Signal an den Anhänger. </font><font style="vertical-align: inherit;">Wenn wir zum Beispiel Aufmerksamkeit erregen müssen, damit die Tür wieder geschlossen wird, geben wir über den Lautsprecher ein "quietschendes" Signal. </font><font style="vertical-align: inherit;">Ich habe zwar keinen Lautsprecher, aber es gibt alte Kopfhörer. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jq/wn/cn/jqwncnwbb_hvquu7qyfhlvhw10q.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nun und wie immer eine Notiz. </font><font style="vertical-align: inherit;">Ich empfehle dringend, die Materialien in diesem Artikel nicht als ultimative Wahrheit zu verwenden. </font><font style="vertical-align: inherit;">Ich habe viele Dinge zum ersten Mal selbst gemacht, sie können sicherlich besser gemacht werden.</font></font><br>
</i><br>
<a name="II"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teil II: Anschließen der Schaltung und des Programms für CANNY 3 tiny</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um loszulegen, um niemanden im Urheberrecht zu verletzen, habe ich mir etwas aus dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Forum ausgeliehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , aber ich habe sie für die </font><font style="vertical-align: inherit;">Idee </font><font style="vertical-align: inherit;">angepasst, </font><font style="vertical-align: inherit;">den Controller mit dem HC-06 zu verbinden, indem </font><font style="vertical-align: inherit;">ich </font><font style="vertical-align: inherit;">ihn über die Anwendung „Serielles Bluetooth-Terminal“ und einige Tricks bei der Entwicklung des Diagramms gesteuert habe </font><font style="vertical-align: inherit;">deine Aufgabe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Anschlussschema sieht wie folgt aus: Der </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kt/lj/7c/ktlj7chkvqtuk-omahss0xxyxx4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Endschalter und der Reedschalter sind an die Klemmen des Controllers Nr. 6 und Nr. 5 angeschlossen, die Kopfhörer an Klemme Nr. 4 (RF-PWM), UART RX an Klemme Nr. 1, UART TX an Klemme Nr. 2, Klemme Nr. 3 Es wird verwendet, um "+ 5V", den Ausgang "-" - für die Kommunikation mit der "Masse" zu liefern. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So sieht es in der Montage aus:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/57/hy/du/57hydukatcvw7-mihshfkaykr20.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe das Diagramm (Programm) für CANNY 3 tiny in CannyLab Version 1.42 entwickelt, möglicherweise in anderen Versionen der Entwicklungsumgebung und mit anderen Controllern müssen Änderungen am Diagramm vorgenommen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Folgendes ist passiert: Die </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l8/mb/yr/l8mbyr6rzisiqurje5vrboprrio.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blöcke, die mit dem Einrichten des Controllers und dem Senden von Nachrichten über UART verbunden sind, wurden in einem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">früheren Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zerlegt </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns die beiden verbleibenden genauer untersuchen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Block „ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UART-Nachricht empfangen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “ </font><font style="vertical-align: inherit;">ist für das Einschalten der Sirene (Kopfhörer) verantwortlich. Grundsätzlich ist es erforderlich, ein Beispiel für den Empfang einer Nachricht über UART zu analysieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst prüfen wir, ob sich die empfangenen Daten im UART befinden. Wenn ja, senden wir eine an den D-Trigger-Eingang "E". In diesem Fall kopiert der Trigger den Wert vom "D" -Eingang, in den wir die ersten beiden Zeichen aus der über UART empfangenen Nachricht schreiben. Ich wollte nicht alles komplizieren, deshalb werden wir ein einfaches Schema weiter verwenden. Wir gehen davon aus, dass eine beliebige Zahl von 00 bis 99 von UART zu uns kommt. Wir übersetzen diese Zahl von einer symbolischen in eine numerische Form (ich empfehle zu lesen, wie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Konverterblock funktioniert;</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ich hatte einen kleinen „Stecker“ dabei). Ferner verursacht jeder Wert "&gt; 0" am Eingang des Vorderflankendetektors ein einzelnes Signal, das den Ausgang 5 für 5 Sekunden einschaltet und im HF-PWM-Modus arbeitet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können in den Einstellungen mit der Fülldauer des RF PWM spielen, der Ton im Kopfhörer hängt davon ab. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gehen wir weiter zum Block</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Bildung der Nachricht</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><b><font style="vertical-align: inherit;">"</font></b><font style="vertical-align: inherit;"> Die Umsetzung mag auf den ersten Blick ungewöhnlich erscheinen. Dies erklärt sich aus der Tatsache, dass ich nicht wirklich herausgefunden habe, wie ich mit dem seriellen Bluetooth-Terminalprogramm und mit demselben Bluetooth-Protokoll in Xamarin arbeiten soll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde ein wenig voraus sein und sagen, dass ich nicht gelernt habe, wie ich vom Controller gesendete Nachrichten auf meinem Smartphone empfange. Wenn mit dem verkabelten UART im letzten Artikel alles offensichtlich war, kann mit Bluetooth in der Praxis anstelle der gesendeten Nachricht nur der Teil gelesen werden, und die Bedeutung des übertragenen Befehls wird verletzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich entschied, dass die einfachste Lösung darin besteht, eine einzelne Nummer zu senden, die garantiert den Empfänger ohne Verlust erreicht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem Fall überwachen wir den diskreten Zustand des Reed-Schalters und des Endschalters. Das heißt, wir haben nur 4 mögliche Kombinationen: Der Reed-Schalter und der Endschalter sind ausgeschaltet, nur eine ist eingeschaltet, beide sind eingeschaltet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da der Reed-Schalter und der Endschalter ein diskretes Signal (0/1) geben, müssen Sie sie irgendwie unterscheiden. Dazu multiplizieren wir den Wert des Reed-Signals mit 2. Nun stellt sich heraus, dass die Summe der Signale Werte von 0 bis 3 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ergibt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jetzt analysieren wir eine nicht offensichtliche Option, wobei fünfzig zu diesem Wert hinzugefügt werden. Tatsache ist, dass CannyLab ein paar Zeichen an UART sendet, dh anstelle von 3, sagen wir 03, aber wie gesagt, es besteht die Gefahr, dass einige der Informationen verloren gehen. Ab dem Wert 01 kann das Programm auf dem Smartphone beispielsweise nur die erste „0“ lesen, und dies ist bereits ein Fehler.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wäre möglich, verwirrt zu werden und die Daten zu transformieren, indem beispielsweise das Zeichen „D1“ des Registers durch einen Buchstaben oder ein Leerzeichen ersetzt wird, aber ich habe beschlossen, es einfacher zu machen. Ich habe den Wert 01 in 51 (02 in 52 usw.) konvertiert. Die fünf tragen kein Signal und ich habe es auf Programmebene für ein Smartphone ausgeschaltet. Somit garantieren wir immer, dass der nützliche Teil der Nachricht erhalten bleibt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir laden das Programm in die Steuerung, klicken auf „Ausführen“. Wenn alles wie geplant funktioniert, blinkt der HC-06 regelmäßig eine rote LED. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes koppeln wir das Smartphone mit dem Adapter. Jetzt können Sie die Leistung in der Anwendung „Serielles Bluetooth-Terminal“ oder einem anderen mit ähnlichen Funktionen überprüfen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notieren Sie sich die Adresse des Bluetooth-Adapters. Diese wird uns im nächsten Kapitel hilfreich sein.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7q/9_/cj/7q9_cjavutr8evwh-bzcjo7lu_o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie sehen können, kommen die Daten abhängig vom Zustand der Sensoren. Wenn Sie "11" senden, ist ein unangenehmes Quietschen im Kopfhörer zu hören. </font><font style="vertical-align: inherit;">Wir könnten hier aufhören, aber lassen Sie uns eine primitive Anwendung skizzieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Programm für den Controller und der Quellcode des Programms für das Smartphone können von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> heruntergeladen werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte darauf hinweisen, dass Sie nicht alles in Hardware speziell auf CANNY-Controllern implementieren müssen. Sie können ein Programm für Arduino oder einen anderen Controller schreiben, den Sie mögen. </font><font style="vertical-align: inherit;">Anfangs hatte ich selbst vor, eine zusätzliche Version der Skizze für Arduino zu schreiben, aber da ich fast alle Maiferien getötet habe, hatte ich einfach nicht die Kraft, CANNY und die Smartphone-Anwendung zu verbinden.</font></font><br>
<a name="III"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teil III: Schreiben einer Xamarin Android-Anwendung </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich weiß, dass Xamarin, gelinde gesagt, nicht die beliebteste Lösung für die mobile Entwicklung ist. Und vielleicht haben Sie bereits eine Frage: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Warum habe ich es gewählt?"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ich möchte ihm mit Worten aus dem gleichnamigen Lied von Psoya Korolenko antworten: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ky/lq/bd/kylqbdcllbxokagsfxfjtasavrg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ehrlich gesagt gibt es keine objektiven Gründe. Vor ein paar Jahren habe ich die Grundlagen von C # gelernt und jeder wollte sehen, was Xamarin ist. Und jetzt, aufgrund der "Selbstisolation", haben die Hände endlich erreicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, ich möchte Sie noch einmal daran erinnern. Dies ist mein erstes Treffen mit Xamarin und dies ist meine erste Android-App. Kopieren Sie meinen Kurvencode nicht blind. Wenn Sie plötzlich eine schönere Lösung finden, verwenden Sie ihn. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Entwicklung meines Programms habe ich mich auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dieses Material verlassen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der Artikel ist nicht besonders gekaut und auch nicht auf Spanisch, daher fand ich es immer noch angebracht, meine Variation zu diesem Thema mit Ihnen zu teilen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe das Programm in der Visual Studio 2019 Community Edition erstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie zunächst ein neues leeres Android-Projekt (Xamarin) wie im Bild. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/ic/hz/gwichz5ldmq0k8wgpoedzpnt41u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe Änderungen nur in drei Dateien vorgenommen, sie können vollständig auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> angezeigt werden </font><font style="vertical-align: inherit;">, und hier werden nur die wichtigen Teile analysiert: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AndroidManifest.xml</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
2 Berechtigungen werden zur Standardvorlage hinzugefügt:</font></font><br>
<br>
<pre><code class="cs hljs">  &lt;uses-permission android:name=<span class="hljs-string">"android.permission.BLUETOOTH"</span>/&gt;<font></font>
  &lt;uses-permission android:name=<span class="hljs-string">"android.permission.BLUETOOTH_ADMIN"</span>/&gt;
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">activity_main.xml Der</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Standardcontainer (RelativeLayout) wurde entfernt. </font><font style="vertical-align: inherit;">Stattdessen wurde der LinearLayout-Container einfach hinzugefügt, weil er einfacher ist. </font><font style="vertical-align: inherit;">In diesem Container sind alle Elemente vertikal ausgerichtet und erstrecken sich über die gesamte Breite des Bildschirms.</font></font><br>
<br>
<pre><code class="cs hljs">&lt;LinearLayout<font></font>
    xmlns:android=<span class="hljs-string">"http://schemas.android.com/apk/res/android"</span>
    android:orientation=<span class="hljs-string">"vertical"</span>
    android:minWidth=<span class="hljs-string">"25px"</span>
    android:minHeight=<span class="hljs-string">"25px"</span>
    android:layout_width=<span class="hljs-string">"match_parent"</span>
    android:layout_height=<span class="hljs-string">"match_parent"</span>
    android:id=<span class="hljs-string">"@+id/linearLayout1"</span>&gt;<font></font>
    &lt;TextView<font></font>
        android:text=<span class="hljs-string">"Reed switch status - undefined"</span>
        android:layout_width=<span class="hljs-string">"match_parent"</span>
        android:layout_height=<span class="hljs-string">"wrap_content"</span>
        android:id=<span class="hljs-string">"@+id/rSwitch"</span>
        android:textSize=<span class="hljs-string">"12pt"</span> /&gt;<font></font>
    &lt;TextView<font></font>
        android:text=<span class="hljs-string">"End sensor status - undefined"</span>
        android:layout_width=<span class="hljs-string">"match_parent"</span>
        android:layout_height=<span class="hljs-string">"wrap_content"</span>
        android:id=<span class="hljs-string">"@+id/EndSensor"</span>
        android:textSize=<span class="hljs-string">"12pt"</span> /&gt;<font></font>
    &lt;Button<font></font>
        android:layout_width=<span class="hljs-string">"match_parent"</span>
        android:layout_height=<span class="hljs-string">"wrap_content"</span>
        android:id=<span class="hljs-string">"@+id/startSiren"</span>
        android:text=<span class="hljs-string">"Send signal to siren"</span> /&gt;<font></font>
    &lt;Switch<font></font>
        android:layout_width=<span class="hljs-string">"match_parent"</span>
        android:layout_height=<span class="hljs-string">"wrap_content"</span>
        android:id=<span class="hljs-string">"@+id/bltSwitch"</span>
        android:<span class="hljs-keyword">checked</span>=<span class="hljs-string">"false"</span>
        android:showText=<span class="hljs-string">"true"</span>
        android:text=<span class="hljs-string">"Connect bluetooth"</span> /&gt;<font></font>
    &lt;TextView<font></font>
        android:text=<span class="hljs-string">"status"</span>
        android:textAppearance=<span class="hljs-string">"?android:attr/textAppearanceSmall"</span>
        android:layout_width=<span class="hljs-string">"match_parent"</span>
        android:layout_height=<span class="hljs-string">"wrap_content"</span>
        android:id=<span class="hljs-string">"@+id/status"</span> /&gt;<font></font>
&lt;/LinearLayout&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jeder, der mit HTML-Layout oder XML ein wenig vertraut ist, kann die Struktur der Benutzeroberfläche leicht verstehen. </font><font style="vertical-align: inherit;">Wir haben drei schreibgeschützte Textfelder (TextView), einen Schalter (Switch), der im Grunde wie ein Kontrollkästchen funktioniert, und eine normale Schaltfläche (Button). </font><font style="vertical-align: inherit;">Elemente können durch Ziehen und Ablegen aus dem Konstruktor und im Eigenschaftenfenster oder im Code in das Formular eingefügt werden, um eine bequemere ID, Textstubs und andere Parameter festzulegen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bleibt die Logik des Programms zu beschreiben. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MainActivity.cs</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Unten unter dem Spoiler dient der gesamte Code der </font><b><font style="vertical-align: inherit;">Einfachheit halber</font></b></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vollständiger MainActivity.cs-Code</font></font></b>
                        <div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-comment">// based on http://alejandroruizvarela.blogspot.com/2014/01/bluetooth-arduino-xamarinandroid.html</span>
<span class="hljs-comment">// for this article https://habr.com/ru/post/500454/</span><font></font>
<font></font>
<font></font>
<span class="hljs-comment">// based on http://alejandroruizvarela.blogspot.com/2014/01/bluetooth-arduino-xamarinandroid.html</span>
<span class="hljs-comment">// for this article https://habr.com/ru/post/500454/</span><font></font>
<font></font>
<font></font>
<span class="hljs-keyword">using</span> Android.App;
<span class="hljs-keyword">using</span> Android.OS;
<span class="hljs-keyword">using</span> Android.Support.V7.App;
<span class="hljs-keyword">using</span> Android.Runtime;
<span class="hljs-keyword">using</span> Android.Widget;
<span class="hljs-keyword">using</span> System.Linq;
<span class="hljs-keyword">using</span> System;
<span class="hljs-keyword">using</span> System.IO;
<span class="hljs-keyword">using</span> Java.Util;
<span class="hljs-keyword">using</span> Android.Bluetooth;
<span class="hljs-keyword">using</span> System.Threading.Tasks;<font></font>
<font></font>
<span class="hljs-keyword">namespace</span> _6.<span class="hljs-title">Canny_Xanarin_Bluetooth_Android</span><font></font>
{<font></font>
    [<span class="hljs-meta">Activity(Label = <span class="hljs-meta-string">"Control Canny 3 tiny via bluetooth"</span>, Theme = <span class="hljs-meta-string">"@style/AppTheme"</span>, MainLauncher = true)</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> : <span class="hljs-title">AppCompatActivity</span><font></font>
    {<font></font>
<font></font>
        Button startSiren;<font></font>
        TextView rSwitch;<font></font>
        TextView EndSensor;<font></font>
        Switch bltSwitch;<font></font>
        TextView status;<font></font>
        <span class="hljs-keyword">private</span> Java.Lang.String dataToSend;
        <span class="hljs-keyword">private</span> BluetoothAdapter mBluetoothAdapter = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">private</span> BluetoothSocket btSocket = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">private</span> Stream outStream = <span class="hljs-literal">null</span>;
        <span class="hljs-comment">// don't forget change addres to your device:</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">string</span> address = <span class="hljs-string">"98:D3:91:F9:6C:F6"</span>;
        <span class="hljs-comment">// MY_UUID can be saved as is</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> UUID MY_UUID = UUID.FromString(<span class="hljs-string">"00001101-0000-1000-8000-00805F9B34FB"</span>);
        <span class="hljs-keyword">private</span> Stream inStream = <span class="hljs-literal">null</span>;<font></font>
<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnCreate</span>(<span class="hljs-params">Bundle savedInstanceState</span>)</span><font></font>
        {<font></font>
<font></font>
            <span class="hljs-keyword">base</span>.OnCreate(savedInstanceState);<font></font>
            Xamarin.Essentials.Platform.Init(<span class="hljs-keyword">this</span>, savedInstanceState);
            <span class="hljs-comment">// Set our view from the "main" layout resource</span><font></font>
            SetContentView(Resource.Layout.activity_main);<font></font>
<font></font>
            startSiren = FindViewById&lt;Button&gt;(Resource.Id.startSiren);<font></font>
            rSwitch = FindViewById&lt;TextView&gt;(Resource.Id.rSwitch);<font></font>
            EndSensor = FindViewById&lt;TextView&gt;(Resource.Id.EndSensor);<font></font>
            status = FindViewById&lt;TextView&gt;(Resource.Id.status);<font></font>
            bltSwitch = FindViewById&lt;Switch&gt;(Resource.Id.bltSwitch);<font></font>
<font></font>
<font></font>
            startSiren.Click += startSiren_ClickOnButtonClicked;<font></font>
            bltSwitch.CheckedChange += bltSwitch_HandleCheckedChange;<font></font>
            CheckBt();<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckBt</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            mBluetoothAdapter = BluetoothAdapter.DefaultAdapter;<font></font>
<font></font>
            <span class="hljs-keyword">if</span> (!mBluetoothAdapter.Enable())<font></font>
            {<font></font>
                Toast.MakeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"Bluetooth Off"</span>,<font></font>
                    ToastLength.Short).Show();<font></font>
            }<font></font>
<font></font>
            <span class="hljs-keyword">if</span> (mBluetoothAdapter == <span class="hljs-literal">null</span>)<font></font>
            {<font></font>
                Toast.MakeText(<span class="hljs-keyword">this</span>,
                    <span class="hljs-string">"Bluetooth does not exist or is busy"</span>, ToastLength.Short)<font></font>
                    .Show();<font></font>
            }<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">startSiren_ClickOnButtonClicked</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, EventArgs e</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (bltSwitch.Checked)<font></font>
            {<font></font>
                <span class="hljs-keyword">try</span><font></font>
                {<font></font>
                    dataToSend = <span class="hljs-keyword">new</span> Java.Lang.String(<span class="hljs-string">"11"</span>);<font></font>
                    writeData(dataToSend);<font></font>
                    System.Console.WriteLine(<span class="hljs-string">"Send signal to siren"</span>);<font></font>
                }<font></font>
                <span class="hljs-keyword">catch</span> (System.Exception execept)<font></font>
                {<font></font>
                    System.Console.WriteLine(<span class="hljs-string">"Error when send data"</span> + execept.Message);<font></font>
                }<font></font>
<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span> status.Text = <span class="hljs-string">"bluetooth not connected"</span>;<font></font>
        }<font></font>
        <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bltSwitch_HandleCheckedChange</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, CompoundButton.CheckedChangeEventArgs e</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (e.IsChecked)<font></font>
            {<font></font>
                Connect();<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span><font></font>
            {<font></font>
                status.Text = <span class="hljs-string">"bluetooth not connected"</span>;
                <span class="hljs-keyword">if</span> (btSocket.IsConnected)<font></font>
                {<font></font>
                    <span class="hljs-keyword">try</span><font></font>
                    {<font></font>
                        btSocket.Close();<font></font>
                        System.Console.WriteLine(<span class="hljs-string">"Connection closed"</span>);<font></font>
                    }<font></font>
                    <span class="hljs-keyword">catch</span> (System.Exception ex)<font></font>
                    {<font></font>
                        Console.WriteLine(ex.Message);<font></font>
                    }<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            BluetoothDevice device = mBluetoothAdapter.GetRemoteDevice(address);<font></font>
            System.Console.WriteLine(<span class="hljs-string">"Connection in progress"</span> + device);<font></font>
            mBluetoothAdapter.CancelDiscovery();<font></font>
            <span class="hljs-keyword">try</span><font></font>
            {<font></font>
                btSocket = device.CreateRfcommSocketToServiceRecord(MY_UUID);<font></font>
                btSocket.Connect();<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Correct Connection"</span>);<font></font>
                status.Text = <span class="hljs-string">"Correct Connection to bluetooth"</span>;<font></font>
            }<font></font>
            <span class="hljs-keyword">catch</span> (System.Exception e)<font></font>
            {<font></font>
                Console.WriteLine(e.Message);<font></font>
                <span class="hljs-keyword">try</span><font></font>
                {<font></font>
                    btSocket.Close();<font></font>
                    System.Console.WriteLine(<span class="hljs-string">"Connection closed"</span>);<font></font>
                }<font></font>
                <span class="hljs-keyword">catch</span> (System.Exception)<font></font>
                {<font></font>
                    System.Console.WriteLine(<span class="hljs-string">"Impossible to connect"</span>);<font></font>
                    status.Text = <span class="hljs-string">"Impossible to connect"</span>;<font></font>
                }<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Socket Created"</span>);<font></font>
  <font></font>
            }<font></font>
            beginListenForData();<font></font>
<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">beginListenForData</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">try</span><font></font>
            {<font></font>
                inStream = btSocket.InputStream;<font></font>
            }<font></font>
            <span class="hljs-keyword">catch</span> (System.IO.IOException ex)<font></font>
            {<font></font>
                Console.WriteLine(ex.Message);<font></font>
            }<font></font>
            Task.Factory.StartNew(() =&gt; {<font></font>
                <span class="hljs-keyword">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];
                <span class="hljs-keyword">int</span> bytes;<font></font>
                <font></font>
                <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<font></font>
                {<font></font>
<font></font>
                    <span class="hljs-keyword">try</span><font></font>
                    {<font></font>
                        bytes = inStream.Read(buffer, <span class="hljs-number">0</span>, <span class="hljs-number">1024</span>);<font></font>
                        System.Console.WriteLine(<span class="hljs-string">"bytes "</span> + bytes.ToString());
                        <span class="hljs-keyword">if</span> (bytes &gt; <span class="hljs-number">0</span>)<font></font>
                        {<font></font>
                            <font></font>
                            RunOnUiThread(() =&gt; {<font></font>
                                <span class="hljs-keyword">string</span> valor = System.Text.Encoding.ASCII.GetString(buffer).Replace(<span class="hljs-string">"5"</span>,String.Empty);
                                <span class="hljs-comment">// transform string for deleate all symbols except 1-4(command from canny).</span>
                                <span class="hljs-keyword">string</span> command = <span class="hljs-keyword">new</span> <span class="hljs-keyword">string</span>(valor.Where(<span class="hljs-keyword">char</span>.IsDigit).ToArray());<font></font>
<font></font>
                                <span class="hljs-keyword">if</span> (command.Length &gt; <span class="hljs-number">0</span>)<font></font>
                                {<font></font>
                                     status.Text=<span class="hljs-string">"data successfully readed"</span>;<font></font>
                                    System.Console.WriteLine(<span class="hljs-string">"command  "</span> + command);
                                    <span class="hljs-keyword">switch</span> (Int32.Parse(command))<font></font>
                                    {<font></font>
                                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<font></font>
                                            rSwitch.Text = <span class="hljs-string">"reed switch - disconnected "</span>;<font></font>
                                            EndSensor.Text = <span class="hljs-string">"end sensor - not pressed "</span>;
                                            <span class="hljs-keyword">break</span>;
                                        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<font></font>
                                            rSwitch.Text = <span class="hljs-string">"reed switch - disconnected "</span>;<font></font>
                                            EndSensor.Text = <span class="hljs-string">"end sensor - pressed "</span>;
                                            <span class="hljs-keyword">break</span>;
                                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<font></font>
                                            rSwitch.Text = <span class="hljs-string">"reed switch - connected "</span>;<font></font>
                                            EndSensor.Text = <span class="hljs-string">"end sensor - not pressed "</span>;
                                            <span class="hljs-keyword">break</span>;
                                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<font></font>
                                            rSwitch.Text = <span class="hljs-string">"reed switch - connected "</span>;<font></font>
                                            EndSensor.Text = <span class="hljs-string">"end sensor - pressed "</span>;
                                        <span class="hljs-keyword">break</span>;<font></font>
                                    }<font></font>
                                }<font></font>
                            });<font></font>
                        }<font></font>
                    }<font></font>
                    <span class="hljs-keyword">catch</span> (Java.IO.IOException)<font></font>
                    {<font></font>
                        RunOnUiThread(() =&gt; {<font></font>
                            EndSensor.Text = <span class="hljs-string">"End sensor status - undefined"</span>;<font></font>
                            rSwitch.Text = <span class="hljs-string">"Reed switch status - undefined "</span>;<font></font>
                        });<font></font>
                        <span class="hljs-keyword">break</span>;<font></font>
                    }<font></font>
                }<font></font>
            });<font></font>
        }<font></font>
<font></font>
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeData</span>(<span class="hljs-params">Java.Lang.String data</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">try</span><font></font>
            {<font></font>
                outStream = btSocket.OutputStream;<font></font>
            }<font></font>
            <span class="hljs-keyword">catch</span> (System.Exception e)<font></font>
            {<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Error with OutputStream when write to Serial port"</span> + e.Message);<font></font>
            }<font></font>
<font></font>
            Java.Lang.String message = data;<font></font>
<font></font>
            <span class="hljs-keyword">byte</span>[] msgBuffer = message.GetBytes();<font></font>
<font></font>
            <span class="hljs-keyword">try</span><font></font>
            {<font></font>
                outStream.Write(msgBuffer, <span class="hljs-number">0</span>, msgBuffer.Length);<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Message sent"</span>);<font></font>
            }<font></font>
            <span class="hljs-keyword">catch</span> (System.Exception e)<font></font>
            {<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Error with  when write message to Serial port"</span> + e.Message);<font></font>
                status.Text = <span class="hljs-string">"Error with  when write message to Serial port"</span>;<font></font>
            }<font></font>
        }<font></font>
<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnRequestPermissionsResult</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> requestCode, <span class="hljs-keyword">string</span>[] permissions, [GeneratedEnum] Android.Content.PM.Permission[] grantResults</span>)</span><font></font>
        {<font></font>
            Xamarin.Essentials.Platform.OnRequestPermissionsResult(requestCode, permissions, grantResults);<font></font>
<font></font>
            <span class="hljs-keyword">base</span>.OnRequestPermissionsResult(requestCode, permissions, grantResults);<font></font>
        }<font></font>
    }<font></font>
 }<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt in Teilen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Blöcke mit Verbindung von Namespaces, Klassendeklaration usw. </font><font style="vertical-align: inherit;">Ich werde vermissen. </font></font><br>
 <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir erstellen Variablen, mit denen wir später die Elemente der Benutzeroberfläche binden:</font></font><br>
<br>
<pre><code class="cs hljs">   Button startSiren;<font></font>
   TextView rSwitch;<font></font>
   TextView EndSensor;<font></font>
   Switch bltSwitch;<font></font>
   TextView status;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes kommt der Code aus dem Beispiel, auf das ich mich verlassen habe. </font><font style="vertical-align: inherit;">Variablen (Felder), die für den Betrieb bestimmter Methoden erforderlich sind.</font></font><br>
<br>
<pre><code class="cs hljs">  <span class="hljs-keyword">private</span> Java.Lang.String dataToSend;
        <span class="hljs-keyword">private</span> BluetoothAdapter mBluetoothAdapter = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">private</span> BluetoothSocket btSocket = <span class="hljs-literal">null</span>;
        <span class="hljs-keyword">private</span> Stream outStream = <span class="hljs-literal">null</span>;
        <span class="hljs-comment">// don't forget change addres to your device:</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">string</span> address = <span class="hljs-string">"98:D3:91:F9:6C:F6"</span>;
        <span class="hljs-comment">// MY_UUID can be saved as is</span>
        <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> UUID MY_UUID = UUID.FromString(<span class="hljs-string">"00001101-0000-1000-8000-00805F9B34FB"</span>);
        <span class="hljs-keyword">private</span> Stream inStream = <span class="hljs-literal">null</span>;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist es wichtig, dass wir die Adresse Ihres HC-06-Moduls in das Adressfeld eingeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da dies meine erste Entwicklungserfahrung für Smartphones ist, einschließlich der Arbeit mit Xamarin, habe ich beschlossen, nichts zu komplizieren, sodass die Geräteadresse wie im ursprünglichen Beispiel festgelegt ist. </font><font style="vertical-align: inherit;">Wenn Sie möchten, können Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diesen Artikel sehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , es scheint, dass eine Aufzählung der verfügbaren Bluetooth-Geräte implementiert ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mach weiter.</font></font><br>
<br>
<pre><code class="cs hljs">
        <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnCreate</span>(<span class="hljs-params">Bundle savedInstanceState</span>)</span><font></font>
        {<font></font>
<font></font>
            <span class="hljs-keyword">base</span>.OnCreate(savedInstanceState);<font></font>
            Xamarin.Essentials.Platform.Init(<span class="hljs-keyword">this</span>, savedInstanceState);
            <span class="hljs-comment">// Set our view from the "main" layout resource</span><font></font>
            SetContentView(Resource.Layout.activity_main);<font></font>
<font></font>
            startSiren = FindViewById&lt;Button&gt;(Resource.Id.startSiren);<font></font>
            rSwitch = FindViewById&lt;TextView&gt;(Resource.Id.rSwitch);<font></font>
            EndSensor = FindViewById&lt;TextView&gt;(Resource.Id.EndSensor);<font></font>
            status = FindViewById&lt;TextView&gt;(Resource.Id.status);<font></font>
            bltSwitch = FindViewById&lt;Switch&gt;(Resource.Id.bltSwitch);<font></font>
<font></font>
<font></font>
            startSiren.Click += startSiren_ClickOnButtonClicked;<font></font>
            bltSwitch.CheckedChange += bltSwitch_HandleCheckedChange;<font></font>
            CheckBt();<font></font>
        }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Methode wird automatisch erstellt. Unsere Aufgabe besteht darin, UI-Objekte darin den Feldern der Klasse zuzuordnen und Handler für Reaktionen auf Ereignisse anzuhängen ( </font></font><code>startSiren.Click  bltSwitch.CheckedChange</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Überprüfen der Verbindung über Bluetooth:</font></font><br>
<br>
<pre><code class="cs hljs">
        <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CheckBt</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            mBluetoothAdapter = BluetoothAdapter.DefaultAdapter;<font></font>
<font></font>
            <span class="hljs-keyword">if</span> (!mBluetoothAdapter.Enable())<font></font>
            {<font></font>
                Toast.MakeText(<span class="hljs-keyword">this</span>, <span class="hljs-string">"Bluetooth Off"</span>,<font></font>
                    ToastLength.Short).Show();<font></font>
            }<font></font>
<font></font>
            <span class="hljs-keyword">if</span> (mBluetoothAdapter == <span class="hljs-literal">null</span>)<font></font>
            {<font></font>
                Toast.MakeText(<span class="hljs-keyword">this</span>,
                    <span class="hljs-string">"Bluetooth does not exist or is busy"</span>, ToastLength.Short)<font></font>
                    .Show();<font></font>
            }<font></font>
        }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schalten Sie die Sirene ein. </font><font style="vertical-align: inherit;">Im Wesentlichen nur die Zeichen "11" an die Steuerung senden:</font></font><br>
<br>
<pre><code class="cs hljs">
   <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">startSiren_ClickOnButtonClicked</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, EventArgs e</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (bltSwitch.Checked)<font></font>
            {<font></font>
                <span class="hljs-keyword">try</span><font></font>
                {<font></font>
                    dataToSend = <span class="hljs-keyword">new</span> Java.Lang.String(<span class="hljs-string">"11"</span>);<font></font>
                    writeData(dataToSend);<font></font>
                    System.Console.WriteLine(<span class="hljs-string">"Send signal to siren"</span>);<font></font>
                }<font></font>
                <span class="hljs-keyword">catch</span> (System.Exception execept)<font></font>
                {<font></font>
                    System.Console.WriteLine(<span class="hljs-string">"Error when send data"</span> + execept.Message);<font></font>
                }<font></font>
<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span> status.Text = <span class="hljs-string">"bluetooth not connected"</span>;<font></font>
        }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Überprüfen des Status des Schalters (wenn er nach rechts verschoben wird, bedeutet dies, dass er eingeschaltet ist): </font></font><br>
<br>
<pre><code class="cs hljs">   <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">bltSwitch_HandleCheckedChange</span>(<span class="hljs-params"><span class="hljs-keyword">object</span> sender, CompoundButton.CheckedChangeEventArgs e</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (e.IsChecked)<font></font>
            {<font></font>
                Connect();<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span><font></font>
            {<font></font>
                <span class="hljs-keyword">if</span> (btSocket.IsConnected)<font></font>
                {<font></font>
                    <span class="hljs-keyword">try</span><font></font>
                    {<font></font>
                        btSocket.Close();<font></font>
                        System.Console.WriteLine(<span class="hljs-string">"Connection closed"</span>);<font></font>
                    }<font></font>
                    <span class="hljs-keyword">catch</span> (System.Exception ex)<font></font>
                    {<font></font>
                        Console.WriteLine(ex.Message);<font></font>
                    }<font></font>
                }<font></font>
            }<font></font>
        }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie einschalten, beginnen wir die Verbindung mit Bluetooth. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Implementierung der Verbindung selbst:</font></font><br>
<br>
<pre><code class="cs hljs">   <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Connect</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            BluetoothDevice device = mBluetoothAdapter.GetRemoteDevice(address);<font></font>
            System.Console.WriteLine(<span class="hljs-string">"Connection in progress"</span> + device);<font></font>
            mBluetoothAdapter.CancelDiscovery();<font></font>
            <span class="hljs-keyword">try</span><font></font>
            {<font></font>
                btSocket = device.CreateRfcommSocketToServiceRecord(MY_UUID);<font></font>
                btSocket.Connect();<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Correct Connection"</span>);<font></font>
                status.Text = <span class="hljs-string">"Correct Connection to bluetooth"</span>;<font></font>
            }<font></font>
            <span class="hljs-keyword">catch</span> (System.Exception e)<font></font>
            {<font></font>
                Console.WriteLine(e.Message);<font></font>
                <span class="hljs-keyword">try</span><font></font>
                {<font></font>
                    btSocket.Close();<font></font>
                    System.Console.WriteLine(<span class="hljs-string">"Connection closed"</span>);<font></font>
                }<font></font>
                <span class="hljs-keyword">catch</span> (System.Exception)<font></font>
                {<font></font>
                    System.Console.WriteLine(<span class="hljs-string">"Impossible to connect"</span>);<font></font>
                    status.Text = <span class="hljs-string">"Impossible to connect"</span>;<font></font>
                }<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Socket Created"</span>);<font></font>
  <font></font>
            }<font></font>
            beginListenForData();<font></font>
<font></font>
        }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier ist eine der wichtigsten Methoden - direktes Lesen von Daten:</font></font><br>
<br>
<pre><code class="cs hljs">
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">beginListenForData</span>(<span class="hljs-params"></span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">try</span><font></font>
            {<font></font>
                inStream = btSocket.InputStream;<font></font>
            }<font></font>
            <span class="hljs-keyword">catch</span> (System.IO.IOException ex)<font></font>
            {<font></font>
                Console.WriteLine(ex.Message);<font></font>
            }<font></font>
            Task.Factory.StartNew(() =&gt; {<font></font>
                <span class="hljs-keyword">byte</span>[] buffer = <span class="hljs-keyword">new</span> <span class="hljs-keyword">byte</span>[<span class="hljs-number">1024</span>];
                <span class="hljs-keyword">int</span> bytes;<font></font>
                <font></font>
                <span class="hljs-keyword">while</span> (<span class="hljs-literal">true</span>)<font></font>
                {<font></font>
<font></font>
                    <span class="hljs-keyword">try</span><font></font>
                    {<font></font>
                        bytes = inStream.Read(buffer, <span class="hljs-number">0</span>, <span class="hljs-number">1024</span>);<font></font>
                        System.Console.WriteLine(<span class="hljs-string">"bytes "</span> + bytes.ToString());
                        <span class="hljs-keyword">if</span> (bytes &gt; <span class="hljs-number">0</span>)<font></font>
                        {<font></font>
                            <font></font>
                            RunOnUiThread(() =&gt; {<font></font>
                                <span class="hljs-keyword">string</span> valor = System.Text.Encoding.ASCII.GetString(buffer).Replace(<span class="hljs-string">"5"</span>,String.Empty);
                                <span class="hljs-comment">// transform string for deleate all symbols except 1-4(command from canny).</span>
                                <span class="hljs-keyword">string</span> command = <span class="hljs-keyword">new</span> <span class="hljs-keyword">string</span>(valor.Where(<span class="hljs-keyword">char</span>.IsDigit).ToArray());<font></font>
<font></font>
                                <span class="hljs-keyword">if</span> (command.Length &gt; <span class="hljs-number">0</span>)<font></font>
                                {<font></font>
                                     status.Text=<span class="hljs-string">"data successfully readed"</span>;<font></font>
                                    System.Console.WriteLine(<span class="hljs-string">"command  "</span> + command);
                                    <span class="hljs-keyword">switch</span> (Int32.Parse(command))<font></font>
                                    {<font></font>
                                        <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:<font></font>
                                            rSwitch.Text = <span class="hljs-string">"reed switch - disconnected "</span>;<font></font>
                                            EndSensor.Text = <span class="hljs-string">"end sensor - not pressed "</span>;
                                            <span class="hljs-keyword">break</span>;
                                        <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:<font></font>
                                            rSwitch.Text = <span class="hljs-string">"reed switch - disconnected "</span>;<font></font>
                                            EndSensor.Text = <span class="hljs-string">"end sensor - pressed "</span>;
                                            <span class="hljs-keyword">break</span>;
                                        <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:<font></font>
                                            rSwitch.Text = <span class="hljs-string">"reed switch - connected "</span>;<font></font>
                                            EndSensor.Text = <span class="hljs-string">"end sensor - not pressed "</span>;
                                            <span class="hljs-keyword">break</span>;
                                        <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:<font></font>
                                            rSwitch.Text = <span class="hljs-string">"reed switch - connected "</span>;<font></font>
                                            EndSensor.Text = <span class="hljs-string">"end sensor - pressed "</span>;
                                        <span class="hljs-keyword">break</span>;<font></font>
                                    }<font></font>
                                }<font></font>
                            });<font></font>
                        }<font></font>
                    }<font></font>
                    <span class="hljs-keyword">catch</span> (Java.IO.IOException)<font></font>
                    {<font></font>
                        RunOnUiThread(() =&gt; {<font></font>
                            EndSensor.Text = <span class="hljs-string">"End sensor status - undefined"</span>;<font></font>
                            rSwitch.Text = <span class="hljs-string">"Reed switch status - undefined "</span>;<font></font>
                        });<font></font>
                        <span class="hljs-keyword">break</span>;<font></font>
                    }<font></font>
                }<font></font>
            });<font></font>
        }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe viele Elemente der Methode belassen, wie im Beispiel, so wie ich es verstehe. Zuerst wird eine Verbindung zum Datenstrom hergestellt. Wenn sich etwas im Puffer mit den gelesenen Daten befindet, wird es in eine Variable eingelesen </font></font><code>valor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Außerdem löschen wir, wie versprochen, einfach die Zahl „5“. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als nächstes entfernen wir alle Zeichen außer den Zahlen aus der gelesenen Nachricht. </font></font><code>string command = new string(valor.Where(char.IsDigit).ToArray());</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, danach ist alles einfach, je nachdem, welche Zahl zu uns gekommen ist, zeigen wir diesen oder jenen Status in der Benutzeroberfläche an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe diese beiden Methoden nicht grundlegend geändert:</font></font><br>
<br>
<pre><code class="cs hljs">  <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">writeData</span>(<span class="hljs-params">Java.Lang.String data</span>)</span><font></font>
        {<font></font>
            <span class="hljs-keyword">try</span><font></font>
            {<font></font>
                outStream = btSocket.OutputStream;<font></font>
            }<font></font>
            <span class="hljs-keyword">catch</span> (System.Exception e)<font></font>
            {<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Error with OutputStream when write to Serial port"</span> + e.Message);<font></font>
            }<font></font>
<font></font>
            Java.Lang.String message = data;<font></font>
<font></font>
            <span class="hljs-keyword">byte</span>[] msgBuffer = message.GetBytes();<font></font>
<font></font>
            <span class="hljs-keyword">try</span><font></font>
            {<font></font>
                outStream.Write(msgBuffer, <span class="hljs-number">0</span>, msgBuffer.Length);<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Message sent"</span>);<font></font>
            }<font></font>
            <span class="hljs-keyword">catch</span> (System.Exception e)<font></font>
            {<font></font>
                System.Console.WriteLine(<span class="hljs-string">"Error with  when write message to Serial port"</span> + e.Message);<font></font>
                status.Text = <span class="hljs-string">"Error with  when write message to Serial port"</span>;<font></font>
            }<font></font>
        }<font></font>
<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">override</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnRequestPermissionsResult</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> requestCode, <span class="hljs-keyword">string</span>[] permissions, [GeneratedEnum] Android.Content.PM.Permission[] grantResults</span>)</span><font></font>
        {<font></font>
            Xamarin.Essentials.Platform.OnRequestPermissionsResult(requestCode, permissions, grantResults);<font></font>
<font></font>
            <span class="hljs-keyword">base</span>.OnRequestPermissionsResult(requestCode, permissions, grantResults);<font></font>
        }<font></font>
    }<font></font>
 }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soweit ich weiß, implementiert dieser Codeblock das Senden einer Nachricht und eines Ereignishandlers, um die Zugriffsberechtigung für Bluetooth zu überschreiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun, das ist alles, was Sie noch tun müssen, um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine Smartphone-Verbindung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Debuggen der Anwendung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> einzurichten </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seltsamerweise funktioniert es aber:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jm/vs/5z/jmvs5zdesg9lvfprcdbp5-cebes.png"><br>
<a name="IV"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Teil IV: Schlussfolgerung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So funktioniert das Programm in Form von Sachleistungen: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8b/4r/kv/8b4rkvzlvtcl-nnqh-fb1dm8cey.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das war meine erste Erfahrung bei der Entwicklung von Anwendungen für ein Smartphone auf Android. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte darauf hinweisen, dass VS 2019 und Xamarin auf meinem alten Computer sehr langsam arbeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der ersten Montage des Projekts habe ich es wirklich geschafft, diese weichen französischen Brötchen zu essen und Tee zu trinken. Auch die Anwendung selbst erwies sich als ehrlich gesagt miserabel, der Ein / Aus-Schalter funktioniert nicht sehr bequem, aber andererseits, da ich nur wenig mit den grundlegenden Entwicklungstechniken für .NET vertraut bin und überhaupt kein Programmierer bin, könnte ich sogar Umreißen Sie Ihre erste Bewerbung an einem Tag, ohne ein einziges Tutorial oder eine einzige Lektion durchzugehen. Daher ist die Eingabeschwelle zum Erstellen einer Elementaranwendung recht niedrig.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soweit ich weiß, können CANNY-Controller zum Tunen von Autos verwendet werden, insbesondere von Haushaltsautos, so dass es durchaus möglich ist, eine Art „Feature“ zu erstellen und eine Anwendung für ein Smartphone darauf zu schreiben. </font><font style="vertical-align: inherit;">Beachten Sie vor allem, dass die Controller-Ausgänge bei Stromversorgung über das Bordnetz des Fahrzeugs dieselbe Spannung wie der Eingang haben (z. B. 12 V anstelle von 5 V). </font><font style="vertical-align: inherit;">Vergessen Sie nicht, den Bluetooth-Adapter zu schützen, damit er nicht versehentlich ausfällt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Artikel erwies sich als sehr mühsam für mich, ich hoffe, dass nicht alles umsonst war und es Ihnen gefallen wird.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500444/index.html">9 Python-Programmierkenntnisse, die Anfänger von erfahrenen unterscheiden</a></li>
<li><a href="../de500446/index.html">Ein paar Worte zu R2DBC und PostgreSQL</a></li>
<li><a href="../de500448/index.html">Prometheus: HTTP-Überwachung über den Blackbox-Exporter</a></li>
<li><a href="../de500450/index.html">Erstellen eines MIDI-Keyboards aus einem Synthesizer für alte Kinder</a></li>
<li><a href="../de500452/index.html">Hohe Argumentation für tiefes Lernen</a></li>
<li><a href="../de500456/index.html">BpfTrace - endlich ein vollständiger Ersatz für Dtrace unter Linux</a></li>
<li><a href="../de500458/index.html">Technische Funktionen für Online-Sprache: Starter Pack</a></li>
<li><a href="../de500462/index.html">Erkennen von Szenenänderungen und Speichern von h264-Videoclips auf Raspberry Pi ohne Dekodierung</a></li>
<li><a href="../de500468/index.html">Java-Funktionshandbuch 8-14</a></li>
<li><a href="../de500470/index.html">Anpassung Ihrer vorhandenen Geschäftslösung an SwiftUI. Teil 3. Arbeiten mit Architektur</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>