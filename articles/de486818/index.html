<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👦🏼 🆎 👩🏿‍🏫 Portierung von Quake auf den iPod Classic 😽 🚑 🧙🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Starten Sie Quake auf dem iPod Classic ( Video ). 
 
 TL; DR : Ich habe es geschafft, Quake auf einem MP3-Player auszuführen. Der Artikel beschreibt, ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Portierung von Quake auf den iPod Classic</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486818/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/5s/ep/rt/5seprt3j6w--iudytumlnuqraco.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Starten Sie Quake auf dem iPod Classic ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TL; DR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Ich habe es geschafft, Quake auf einem MP3-Player auszuführen. </font><font style="vertical-align: inherit;">Der Artikel beschreibt, wie dies passiert ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe einen Teil des letzten Sommers mit ein paar meiner Lieblingssachen verbracht: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rockbox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und das Spiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> id Software. </font><font style="vertical-align: inherit;">Ich hatte sogar die Möglichkeit, diese beiden Hobbys zu kombinieren, indem ich Quake </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rockbox </font><font style="vertical-align: inherit;">portierte </font><font style="vertical-align: inherit;">! </font><font style="vertical-align: inherit;">Mehr konnte man sich nicht wünschen!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Beitrag erzählt die Geschichte, wie es funktioniert hat. </font><font style="vertical-align: inherit;">Dies ist eine lange Geschichte, die sich über fast zwei Jahre erstreckt. </font><font style="vertical-align: inherit;">Darüber hinaus ist dies mein erster Versuch, den Entwicklungsprozess detailliert und ungeschminkt zu dokumentieren, im Gegensatz zu der fertigen technischen Dokumentation, die ich in meinem Leben zu viel geschrieben habe. </font><font style="vertical-align: inherit;">Der Artikel wird auch technische Details enthalten, aber zunächst werde ich versuchen, über den Denkprozess zu sprechen, der zur Erstellung des Codes geführt hat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider ist es an der Zeit, sich zumindest kurzfristig von Rockbox und Quake zu verabschieden. </font><font style="vertical-align: inherit;">Für einige Monate wird Freizeit für mich eine sehr knappe Ressource sein. Bevor ich zur Arbeit eile, beeile ich mich, meine Gedanken auszudrücken.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rockbox</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rockbox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein merkwürdiges Open-Source-Projekt, das ich viel gehackt habe. </font><font style="vertical-align: inherit;">Das Beste daran steht auf der Webseite: "Rockbox ist eine kostenlose Firmware für digitale Musikplayer." </font><font style="vertical-align: inherit;">Das ist richtig - wir haben einen vollständigen Ersatz für die Werkssoftware erstellt, die mit Sandisk Sansa-Playern, dem Apple iPod und vielen anderen unterstützten Geräten geliefert wurde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir bemühen uns nicht nur, die Funktionen der ursprünglichen Firmware wiederherzustellen, sondern implementieren auch Unterstützung für herunterladbare Erweiterungen, sogenannte </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plug-Ins</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - kleine Programme, die auf einem MP3-Player ausgeführt werden. </font><font style="vertical-align: inherit;">Rockbox hat bereits viele großartige Spiele und Demos, von denen die beeindruckendsten wahrscheinlich die Ego-Shooter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Doom</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Duke Nukem 3D </font></font></a><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1 sind</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Aber ich hatte das Gefühl, dass etwas in ihm fehlte.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beben erscheint auf der Bühne</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quake ist ein vollständig dreidimensionaler Ego-Shooter. </font><font style="vertical-align: inherit;">Mal sehen, was das bedeutet. </font><font style="vertical-align: inherit;">Die Schlüsselwörter sind hier </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„vollständig dreidimensional</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><em><font style="vertical-align: inherit;">“ </font></em><font style="vertical-align: inherit;">Im Gegensatz zu Doom und Duke Nukem 3D, allgemein als </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5D bezeichnet</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (stellen Sie sich eine 2D-Karte mit einer optionalen Höhenkomponente vor), ist Quake in vollständigem 3D implementiert. </font><font style="vertical-align: inherit;">Jeder Scheitelpunkt und jedes Polygon existiert im 3D-Raum. </font><font style="vertical-align: inherit;">Dies bedeutet, dass alte Pseudo-3D-Tricks nicht mehr funktionieren - alles wird in 3D ausgeführt. </font><font style="vertical-align: inherit;">Ich war jedoch abgelenkt. </font><font style="vertical-align: inherit;">Kurz gesagt, Quake ist eine mächtige Sache.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und Quake vergibt keine Witze. </font><font style="vertical-align: inherit;">Unsere Untersuchungen haben gezeigt, dass Quake einen x86-Prozessor mit einer Frequenz von ca. 100 MHz und einer FPU sowie ca. 32 MB RAM „benötigt“. </font><font style="vertical-align: inherit;">Bevor Sie anfangen zu kichern, denken Sie daran, dass die Zielplattformen für Rockbox nicht mit denen vergleichbar sind, auf die sich John Carmack beim Schreiben des Spiels konzentriert hat - Rockbox funktioniert sogar auf Geräten mit Prozessoren mit einer Frequenz von nur 11 MHz und 2 MB RAM (Quake sollte natürlich nicht funktionieren auf </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solchen</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Geräten). </font><font style="vertical-align: inherit;">Vor diesem Hintergrund habe ich mir meine allmählich abnehmende Sammlung digitaler Audioplayer angesehen und den leistungsstärksten der Überlebenden ausgewählt: den Apple iPod Classic / 6G mit 216 MHz ARMv5E-Prozessor und 64 MB RAM (Index </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zeigt das Vorhandensein von ARM-DSP-Erweiterungen an - später wird dies für uns wichtig sein). </font><font style="vertical-align: inherit;">Ernsthafte Spezifikationen, aber es gibt kaum genug, um Quake auszuführen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hafen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt eine wunderbare Version von Quake, die unter </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDL ausgeführt werden kann</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es hat den logischen Namen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDLQuake</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Glücklicherweise habe ich die SDL-Bibliothek bereits auf Rockbox portiert (dies ist ein Thema für einen anderen Artikel), sodass sich die Vorbereitung von Quake für die Kompilierung als ziemlich einfacher Vorgang herausstellte: Kopieren des Quellbaums; </font></font><code>make</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;; wir korrigieren Fehler; spülen, einseifen, wiederholen. Ich bin wahrscheinlich hier, um ein paar langweilige Details neu zu streichen, aber stellen Sie sich meine Bewunderung vor, dass ich die ausführbare Quake-Datei erfolgreich kompilieren und verknüpfen kann. Ich war erfreut. </font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Nun, lade es!"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich dachte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und es hat gebootet! Ich wurde vom wunderschönen Hintergrund und Menü der Quake-Konsole begrüßt. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alles in Ordnung ist</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Aber nimm dir Zeit! Als ich das Spiel startete, stimmte etwas nicht. Die Stufe "Einführung" schien normal zu laden, aber die Spawn-Position des Spielers war vollständig von der Karte entfernt. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seltsam</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dachte ich. Ich habe verschiedene Tricks ausprobiert, angefangen zu debuggen und </font></font><code>splashf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, aber es war alles umsonst - der Fehler stellte sich als zu kompliziert für mich heraus, oder es schien mir so. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und diese Situation hielt mehrere Jahre an. Wahrscheinlich ein kleines Gespräch über das Timing wert. Der erste Versuch, Quake zu starten, wurde im September 2017 unternommen. Danach gab ich auf und mein Frankenstein von Quake und Rockbox lag bis Juli 2019 im Regal und sammelte Staub. Nachdem ich die perfekte Kombination aus Langeweile und Motivation gefunden hatte, beschloss ich, mit dem Abschluss meiner Anfänge fortzufahren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich fing an zu debuggen. Mein Zustand des Flusses war so, dass ich mich praktisch an keine Details über das, was ich tat, erinnere, aber ich werde versuchen, den Arbeitsverlauf nachzubilden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich fand heraus, dass die Quake-Struktur in zwei Hauptteile unterteilt ist: den Engine-Code in C und die Logik des Spiels auf hoher Ebene in QuakeC, einer mit Bytecode kompilierten Sprache. Ich habe immer versucht, mich von QuakeC VM fernzuhalten, weil ich irrationale Angst hatte, den Code eines anderen zu debuggen. Aber jetzt war ich gezwungen, mich darauf einzulassen. Ich erinnere mich vage an die verrückte Streaming-Sitzung, in der ich nach der Quelle des Fehlers gesucht habe. Nach vielen </font></font><code>grep</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fand ich den Täter : </font></font><code>pr_cmds.c:PF_setorigin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Diese Funktion erhielt einen dreidimensionalen Vektor, der beim Laden der Karte die neuen Koordinaten des Spielers festlegt, die aus irgendeinem Grund immer gleich waren </font></font><code>(0, 0, 0)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hm ...</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe den Datenstrom zurückverfolgt und herausgefunden, woher er stammt: vom Aufruf </font></font><code>Q_atof()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- der klassischen Konvertierungsfunktion von String zu Float. </font><font style="vertical-align: inherit;">Und dann dämmerte mir die Einsicht: Ich schrieb eine Reihe von Wrapper-Funktionen, die </font></font><code>Q_atof()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">den Quake-Code </font><font style="vertical-align: inherit;">neu definierten </font><font style="vertical-align: inherit;">, und meine Implementierung </font></font><code>atof()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">war wahrscheinlich falsch. </font><font style="vertical-align: inherit;">Es war sehr einfach, das Problem zu beheben. </font><font style="vertical-align: inherit;">Ich </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ersetzen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> meine irrtümlichen mit der </font></font><code>atof</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">richtigen - Funktion aus dem Quake - </font><font style="vertical-align: inherit;">Code. </font><font style="vertical-align: inherit;">Und voila! </font><font style="vertical-align: inherit;">Das berühmte Einstiegsmodell mit drei problemlos geladenen Korridoren sowie der „E1M1: The Slipgate Complex“. </font><font style="vertical-align: inherit;">Die Audioausgabe klingt immer noch wie ein kaputter Rasenmäher, aber wir haben Quake immer noch auf dem MP3-Player ausgeführt!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Den Hasenbau hinunter</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieses Projekt wurde schließlich zu einer Ausrede für das, was ich aufgeschoben hatte: das Erlernen der ARM </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2-</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Assemblersprache </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Problem war der geschwindigkeitsabhängige Schallmischzyklus </font></font><code>snd_mix.c</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(erinnern Sie sich an den Klang eines Rasenmähers?). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Funktion </font></font><code>SND_PaintChannelFrom8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">empfängt ein Array von 8-Bit-Mono-Audio-Samples und mischt sie zu einem 16-Bit-Stereostream, dessen linker und rechter Kanal basierend auf zwei ganzzahligen Parametern separat skaliert werden. GCC hat einen miesen Job gemacht, um die Sättigungsarithmetik zu optimieren, also habe ich beschlossen, es selbst zu tun. Das Ergebnis hat mich rundum zufrieden gestellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist die Assembler-Version von dem, was ich bekommen habe (die C-Version ist unten dargestellt):</font></font><br>
<br>
<pre><code class="cpp hljs">SND_PaintChannelFrom8:<font></font>
        ;; r0: <span class="hljs-keyword">int</span> true_lvol<font></font>
        ;; r1: <span class="hljs-keyword">int</span> true_rvol<font></font>
        ;; r2: <span class="hljs-keyword">char</span> *sfx<font></font>
        ;; r3: <span class="hljs-keyword">int</span> count<font></font>
<font></font>
        stmfd sp!, {r4, r5, r6, r7, r8, sl}<font></font>
<font></font>
        ldr ip, =paintbuffer<font></font>
        ldr ip, [ip]<font></font>
<font></font>
        mov r0, r0, asl #<span class="hljs-number">16</span>                 ; prescale by <span class="hljs-number">2</span>^<span class="hljs-number">16</span>
        mov r1, r1, asl #<span class="hljs-number">16</span><font></font>
<font></font>
        sub r3, r3, #<span class="hljs-number">1</span>                      ; count backwards<font></font>
<font></font>
        ldrh sl, =<span class="hljs-number">0xffff</span>                    ; halfword mask<font></font>
<font></font>
<span class="hljs-number">1</span>:<font></font>
        ldrsb r4, [r2, r3]                  ; load input sample<font></font>
        ldr r8, [ip, r3, lsl #<span class="hljs-number">2</span>]                ; load output sample pair from paintbuffer<font></font>
                                ; (left:right in memory -&gt; right:left in <span class="hljs-keyword">register</span>)<font></font>
        ;; <span class="hljs-function">right <span class="hljs-title">channel</span> <span class="hljs-params">(high half)</span>
        mul r5, r4, r1                      </span>; scaledright = sfx[i] * (true_rvol &lt;&lt; <span class="hljs-number">16</span>) -- bottom half is zero<font></font>
        qadd r7, r5, r8                     ; right = scaledright + right (in high half of word)<font></font>
        bic r7, r7, sl                      ; zero bottom half of r7<font></font>
<font></font>
        ;; <span class="hljs-function">left <span class="hljs-title">channel</span> <span class="hljs-params">(low half)</span>
        mul r5, r4, r0                      </span>; scaledleft = sfx[i] * (true_rvol &lt;&lt; <span class="hljs-number">16</span>)<font></font>
        mov r8, r8, lsl #<span class="hljs-number">16</span>                 ; extract original left channel from paintbuffer<font></font>
        qadd r8, r5, r8                     ; left = scaledleft + left<font></font>
<font></font>
        orr r7, r7, r8, lsr #<span class="hljs-number">16</span>                 ; combine right:left in r7<font></font>
        str r7, [ip, r3, lsl #<span class="hljs-number">2</span>]                ; write right:left to output buffer<font></font>
        subs r3, r3, #<span class="hljs-number">1</span>                         ; decrement <span class="hljs-keyword">and</span> loop<font></font>
<font></font>
        bgt <span class="hljs-number">1b</span>                          ; must use bgt instead of bne in <span class="hljs-keyword">case</span> count=<span class="hljs-number">1</span><font></font>
<font></font>
        ldmfd sp!, {r4, r5, r6, r7, r8, sl}<font></font>
<font></font>
        bx lr</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier gibt es knifflige Hacks, die es wert sind, erklärt zu werden. Ich verwende den DSP-Befehl des </font></font><code>qadd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ARM-Prozessors, um eine kostengünstige Addition der Sättigung zu implementieren, aber </font></font><code>qadd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">er funktioniert nur mit 32-Bit-Wörtern, und das Spiel verwendet 16-Bit-Soundbeispiele. Der Hack ist, dass ich zuerst die Samples um 16 Bit nach links verschiebe; Ich kombiniere Samples mit </font></font><code>qadd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">; und dann die Rückwärtsverschiebung machen. Also mache ich in einer Anweisung das, was der GCC sieben genommen hat. (Ja, es wäre überhaupt möglich, auf Hacks zu verzichten, wenn ich mit ARMv6 arbeiten würde, das eine MMX-ähnliche Sättigungsarithmetik enthält </font></font><code>qadd16</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, aber leider ist das Leben nicht so einfach. Außerdem hat sich der Hack als cool herausgestellt!) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie auch das Ich lese zwei Stereo-Samples gleichzeitig (mit Worten </font></font><code>ldr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und</font></font><code>str</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), um noch ein paar Zyklen zu sparen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unten finden Sie eine C-Version als Referenz:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">SND_PaintChannelFrom8</span> <span class="hljs-params">(<span class="hljs-keyword">int</span> true_lvol, <span class="hljs-keyword">int</span> true_rvol, <span class="hljs-keyword">signed</span> <span class="hljs-keyword">char</span> *sfx, <span class="hljs-keyword">int</span> count)</span>
</span>{
        <span class="hljs-keyword">int</span>     data;
        <span class="hljs-keyword">int</span>             i;<font></font>
<font></font>
        <span class="hljs-comment">// we have 8-bit sound in sfx[], which we want to scale to</span>
        <span class="hljs-comment">// 16bit and take the volume into account</span>
        <span class="hljs-keyword">for</span> (i=<span class="hljs-number">0</span> ; i&lt;count ; i++)<font></font>
        {<font></font>
            <span class="hljs-comment">// We could use the QADD16 instruction on ARMv6+</span>
            <span class="hljs-comment">// or just 32-bit QADD with pre-shifted arguments</span><font></font>
            data = sfx[i];<font></font>
            paintbuffer[<span class="hljs-number">2</span>*i+<span class="hljs-number">0</span>] = CLAMPADD(paintbuffer[<span class="hljs-number">2</span>*i+<span class="hljs-number">0</span>], data * true_lvol); <span class="hljs-comment">// need saturation</span>
            paintbuffer[<span class="hljs-number">2</span>*i+<span class="hljs-number">1</span>] = CLAMPADD(paintbuffer[<span class="hljs-number">2</span>*i+<span class="hljs-number">1</span>], data * true_rvol);<font></font>
        }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe berechnet, dass die Anzahl der Anweisungen pro Probe im Vergleich zur optimierten C-Version um 60% gesunken ist. </font><font style="vertical-align: inherit;">Die meisten Schleifen wurden durch Verwendung von </font></font><code>qadd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sättigungs- und Packspeicheroperationen für die Arithmetik gespeichert.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verschwörung von "Primzahlen"</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist ein weiterer interessanter Fehler, den ich dabei gefunden habe. In der Assembler-Codeliste gibt es neben der Anweisung </font></font><code>bgt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zweig „wenn mehr als“) einen Kommentar, dass </font></font><code>bne</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Zweig „wenn nicht gleich“) aufgrund eines Grenzfalls, der das Programm mit einer Anzahl von Abtastwerten von 1 verlangsamt, nicht verwendet werden kann. Dies führt zu einer zyklischen Übertragung Ganzzahl ein </font></font><code>0xFFFFFFFF</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">und eine extrem lange Verzögerung (die schließlich endet). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Grenzfall wird durch einen bestimmten Ton mit einer Länge von 7325 Samples </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ausgelöst </font><font style="vertical-align: inherit;">. Was ist das Besondere an 7325? Versuchen wir, den Rest seiner Teilung durch eine Zweierpotenz zu finden:</font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>1</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>1</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>4</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>5</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>8</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>13</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>16</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>29</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>32</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>29</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>64</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>29</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>128</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>157</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>256</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>157</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>512</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>157</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>1024</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>1181</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>2048</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>&amp;#x2261;</mo><mn>3229</mn></mtd><mtd><mspace width=&quot;1em&quot; /><mo stretchy=&quot;false&quot;>(</mo><mi>mod</mi><mspace width=&quot;0.333em&quot; /><mn>4096</mn><mo stretchy=&quot;false&quot;>)</mo></mtd></mtr></mtable></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.121ex" height="37.384ex" viewBox="0 -8290.2 13829.6 16096" role="img" focusable="false" style="vertical-align: -18.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-14,0)"><g transform="translate(0,7406)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,6055)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,4704)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,3353)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,2002)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,651)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-700)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-2051)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-3402)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-4753)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-6104)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g><g transform="translate(0,-7455)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1501" y="0"></use></g></g><g transform="translate(1988,0)"><g transform="translate(0,7406)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31" x="1334" y="0"></use></g><g transform="translate(0,6055)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31" x="1334" y="0"></use></g><g transform="translate(0,4704)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="1334" y="0"></use></g><g transform="translate(0,3353)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33" x="500" y="0"></use></g></g><g transform="translate(0,2002)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-39" x="500" y="0"></use></g></g><g transform="translate(0,651)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-39" x="500" y="0"></use></g></g><g transform="translate(0,-700)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-39" x="500" y="0"></use></g></g><g transform="translate(0,-2051)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37" x="1001" y="0"></use></g></g><g transform="translate(0,-3402)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37" x="1001" y="0"></use></g></g><g transform="translate(0,-4753)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-37" x="1001" y="0"></use></g></g><g transform="translate(0,-6104)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-38" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31" x="1501" y="0"></use></g></g><g transform="translate(0,-7455)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-2261" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-39" x="1501" y="0"></use></g></g></g><g transform="translate(7324,0)"><g transform="translate(1501,7406)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="3780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="4280" y="0"></use></g><g transform="translate(1501,6055)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-34" x="3780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="4280" y="0"></use></g><g transform="translate(1501,4704)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-38" x="3780" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="4280" y="0"></use></g><g transform="translate(1001,3353)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-36" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="4781" y="0"></use></g><g transform="translate(1001,2002)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-33"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="4781" y="0"></use></g><g transform="translate(1001,651)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-36"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-34" x="500" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="4781" y="0"></use></g><g transform="translate(500,-700)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-38" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="5281" y="0"></use></g><g transform="translate(500,-2051)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-36" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="5281" y="0"></use></g><g transform="translate(500,-3402)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-35"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="5281" y="0"></use></g><g transform="translate(0,-4753)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-31"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-34" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="5782" y="0"></use></g><g transform="translate(0,-6104)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-32"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-34" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-38" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="5782" y="0"></use></g><g transform="translate(0,-7455)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-28" x="1000" y="0"></use><g transform="translate(1389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-6F" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-64" x="1334" y="0"></use></g><g transform="translate(3780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-34"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-30" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-39" x="1001" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-36" x="1501" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=https://habr.com/ru/post/486818/&amp;usg=ALkJrhjsxjHTys_tponI0JL4CdukWxkG5g#MJMAIN-29" x="5782" y="0"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>1</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>2</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>1</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>4</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>5</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>8</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>13</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>16</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>29</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>32</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>29</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>64</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>29</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>128</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>157</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>256</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>157</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>512</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>157</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>1024</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>1181</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>2048</mn><mo stretchy="false">)</mo></mtd></mtr><mtr><mtd><mn>7325</mn></mtd><mtd><mi></mi><mo>≡</mo><mn>3229</mn></mtd><mtd><mspace width="1em"></mspace><mo stretchy="false">(</mo><mi>mod</mi><mspace width="0.333em"></mspace><mn>4096</mn><mo stretchy="false">)</mo></mtd></mtr></mtable></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">\begin{align*} 7325 &\equiv 1 &\pmod{2} \\ 7325 &\equiv 1 &\pmod{4} \\ 7325 &\equiv 5 &\pmod{8} \\ 7325 &\equiv 13 &\pmod{16} \\ 7325 &\equiv 29 &\pmod{32} \\ 7325 &\equiv 29 &\pmod{64} \\ 7325 &\equiv 29 &\pmod{128} \\ 7325 &\equiv 157 &\pmod{256} \\ 7325 &\equiv 157 &\pmod{512} \\ 7325 &\equiv 157 &\pmod{1024} \\ 7325 &\equiv 1181 &\pmod{2048} \\ 7325 &\equiv 3229 &\pmod{4096} \end{align*}</script></math></p><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5, 13, 29, 157</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haben Sie etwas bemerkt? </font><font style="vertical-align: inherit;">Zufällig ist 7325 eine "Primzahl", wenn durch eine Zweierpotenz dividiert wird. </font><font style="vertical-align: inherit;">Dies führt </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">irgendwie</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ich verstehe nicht wie) dazu, dass ein Array aus einem Sample in den Sound-Mixing-Code übertragen wird, ein Grenzfall ausgelöst wird und es hängt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe mindestens einen Tag damit verbracht, die Ursachen dieses Fehlers zu identifizieren, als ich herausfand, dass alles auf </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> falsche Anweisung zurückzuführen ist. </font><font style="vertical-align: inherit;">Manchmal passiert es im Leben, oder?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abschied</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe diesen Port schließlich als </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Patch</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verpackt </font><font style="vertical-align: inherit;">und ihn mit dem Hauptzweig von Rockbox zusammengeführt, in dem er sich heute befindet. In Rockbox Version 3.15 und höher wird es in Assemblys für die meisten ARM-Zielplattformen mit </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Farbdisplays geliefert </font><font style="vertical-align: inherit;">. Wenn Sie keine unterstützte Plattform haben, können Sie die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demo user890104 sehen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus Platzgründen habe ich einige interessante Punkte übersehen. </font><font style="vertical-align: inherit;">Zum Beispiel gibt es eine Rennbedingung, die nur auftritt, wenn ein Zombie in Fleischstücke zerbricht, wenn die Abtastrate 44,1 kHz beträgt. </font><font style="vertical-align: inherit;">(Dies war das Ergebnis des Soundstroms, der versuchte, den Sound zu laden - eine Explosion, und des Modellladers, der versuchte, ein Stück Fleischmodell zu laden. Diese beiden Codeabschnitte verwenden eine Funktion, die eine globale Variable verwendet.) Und es gibt auch viele Bestellprobleme (ich liebe dich, ARM! ) und eine Reihe von Rendering-Mikrooptimierungen, die ich erstellt habe, um ein paar weitere Frames aus dem Gerät herauszupressen. </font><font style="vertical-align: inherit;">Aber ich werde sie ein anderes Mal verlassen. </font><font style="vertical-align: inherit;">Und jetzt ist es Zeit, sich von Quake zu verabschieden - diese Erfahrung hat mir gefallen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles Gute und danke für den Fisch!</font></font><br>
<br>
<hr><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anmerkungen</font></font></h2><br>
<ol>
<li>Duke Nukem 3D   ,  runtime Rockbox SDL,     . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>    ,  user890104.</li>
<li>      ARM,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><em>Tonc: Whirlwind Tour of ARM Assembly</em></a> —   (      GBA) .     ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">ARM Quick Reference Card</a>.</li>
<li>  ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  100  </a>.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ehrlich gesagt kann ich mich nicht erinnern, welche spezifischen Zielplattformen Quake unterstützen und welche nicht. </font><font style="vertical-align: inherit;">Wenn Sie neugierig sind, besuchen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Rockbox-Website</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und versuchen Sie, den Build für Ihre Plattform zu installieren. </font><font style="vertical-align: inherit;">Und lassen Sie mich auf </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Mail</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wissen, </font><font style="vertical-align: inherit;">wie es funktioniert! </font><font style="vertical-align: inherit;">Neuere Versionen von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rockbox Utility</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ab 1.4.1 und höher) unterstützen auch die automatische Installation der Shareware-Version von Quake.</font></font></li>
</ol></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/de486818/">https://habr.com/ru/post/de486818/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de486802/index.html">Menschen treffen auf Empfehlungssysteme. Faktorisierung</a></li>
<li><a href="../de486804/index.html">Globale Gesundheitsinformatik: Cloud-Technologien</a></li>
<li><a href="../de486808/index.html">Elektronischer Schwangerschaftstest aus einer Apotheke: wie es funktioniert</a></li>
<li><a href="../de486810/index.html">Neues Odnoklassniki-Frontend: React in Java starten. Teil II</a></li>
<li><a href="../de486814/index.html">Zabbix: Die Netzwerktopologie ist klar und automatisch</a></li>
<li><a href="../de486820/index.html">70 Fragen zum Javascript-Interview</a></li>
<li><a href="../de486822/index.html">[An den Docks] Flattern. Teil 4. Für Webentwickler</a></li>
<li><a href="../de486824/index.html">Schlechter Rat bei der Arbeit mit ANTLR</a></li>
<li><a href="../de486826/index.html">Erstellen eines vollwertigen Viberbot auf Django 2 und der Viber REST-API. Erster Teil - Webhook</a></li>
<li><a href="../de486828/index.html">Food Design Digest, Januar 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>