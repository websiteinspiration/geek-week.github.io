<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🔧 🚝 🧕 Lasttests als CI-Service für Entwickler 🧛🏾 🎚️ 👨🏻‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eines der Probleme, auf die Softwareanbieter mit mehreren Produkten häufig stoßen, ist die Verdoppelung der Kompetenzen von Ingenieuren - Entwicklern,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Lasttests als CI-Service für Entwickler</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/504290/"><img src="https://habrastorage.org/webt/r5/fa/5g/r5fa5gszksri1ly608-wffhunqu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eines der Probleme, auf die Softwareanbieter mit mehreren Produkten häufig stoßen, ist die Verdoppelung der Kompetenzen von Ingenieuren - Entwicklern, Testern und Infrastrukturadministratoren - in fast jedem Team. Dies gilt auch für teure Ingenieure - Experten auf dem Gebiet der Lastprüfung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anstatt sich ihrer direkten Verantwortung zu widmen und ihre einzigartige Erfahrung zu nutzen, um den Lasttestprozess aufzubauen, eine Methodik, optimale Metriken auszuwählen und Selbsttests gemäß Lastprofilen zu schreiben, müssen Ingenieure häufig eine Testinfrastruktur von Grund auf neu bereitstellen, Lasttools konfigurieren und sie einbetten Konfigurieren Sie in CI-Systemen die Überwachung und Veröffentlichung von Berichten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einem anderen Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> finden Sie Lösungen für einige organisatorische Probleme beim Testen, die wir bei Positive Technologies verwenden </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Und hier werde ich über die Möglichkeit sprechen, Lasttests in eine gemeinsame CI-Pipeline zu integrieren, wobei das Konzept des "Lasttests als Service" verwendet wird. </font><font style="vertical-align: inherit;">Sie erfahren, wie und welche Docker-Images von Lastquellen in der CI-Pipeline verwendet werden können. </font><font style="vertical-align: inherit;">So verbinden Sie Lastquellen mithilfe einer Baugruppenvorlage mit Ihrem CI-Projekt; </font><font style="vertical-align: inherit;">Wie eine Demo-Pipe aussieht, um Auslastungstests durchzuführen und Ergebnisse zu veröffentlichen. </font><font style="vertical-align: inherit;">Der Artikel kann für Software-Testingenieure und Automatisierungsingenieure bei CI nützlich sein, die über die Architektur ihres Lastsystems nachgedacht haben.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essenz des Konzepts</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Konzept des Lasttests als Service impliziert die Fähigkeit, Apache JMeter, Yandex.Tank-Ladetools und eigene Frameworks in ein beliebiges kontinuierliches Integrationssystem zu integrieren. Eine Demo wird für GitLab CI sein, aber die Prinzipien sind allen CI-Systemen gemeinsam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Load Testing as a Service ist ein zentraler Dienst zur Durchführung von Lasttests. Lasttests werden in dedizierten Agentenpools ausgeführt, die Ergebnisse werden automatisch in GitLab Pages, Influx DB und Grafana oder in Testberichtssystemen (TestRail, ReportPortal usw.) veröffentlicht. Automatisierung und Skalierung werden so einfach wie möglich realisiert - durch Hinzufügen und Parametrieren der üblichen gitlab-ci.yml-Vorlage im GitLab CI-Projekt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Vorteil des Ansatzes besteht darin, dass die gesamte CI-Infrastruktur, Lastagenten, Docker-Images von Lastquellen, Testpipelines und die Veröffentlichung von Berichten von der zentralen Automatisierungsabteilung (DevOps-Ingenieure) unterstützt werden und Lasttestingenieure ihre Bemühungen auf die Testentwicklung konzentrieren können und Analyse ihrer Ergebnisse, ohne sich mit Infrastrukturproblemen zu befassen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zur Vereinfachung der Beschreibung wird davon ausgegangen, dass die Zieltestanwendung oder der Zielserver bereits im Voraus bereitgestellt und konfiguriert wurde (hierfür können automatisierte Skripts in Python, SaltStack, Ansible usw. verwendet werden). Dann gliedert sich das gesamte Konzept des Stresstests als Dienstleistung in drei Phasen: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorbereitung, Prüfung, Veröffentlichung von Berichten</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Weitere Details zum Diagramm (alle Bilder sind anklickbar):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/uc/no/nj/ucnonjamcikvuob-3njskwev-he.png"></a><br>
<br>
<h2>      </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Durchführung von Stresstests versuchen wir, die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Standards und Methoden von ISTQB einzuhalten.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wir verwenden die entsprechende Terminologie und die empfohlenen Metriken. Ich werde eine kurze Liste grundlegender Konzepte und Definitionen beim Lasttest geben. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Lade-Agent (Lade-Agent)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - die virtuelle Maschine, auf der die Anwendung gestartet wird - die Quelle des Ladevorgangs (Apache JMeter, Yandex.Tank oder selbstgeschriebenes Lademodul). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Testzweck (Ziel)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein Server oder eine Anwendung, die auf dem Server installiert ist und der Last ausgesetzt wird. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein Testfall</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> besteht aus einer Reihe parametrisierter Schritte: Benutzeraktionen und erwartete Reaktionen auf diese Aktionen mit festen Netzwerkanforderungen und -antworten in Abhängigkeit von den angegebenen Parametern.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Profil oder Lastplan (Profil)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - In der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ISTQB-Methodik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Abschnitt 4.2.4, S. 43) bestimmen Lastprofile die für einen bestimmten Test kritischen Metriken und Optionen zum Ändern der Lastparameter während des Tests. Sie können Beispiele für Profile in der Abbildung sehen. </font><b><font style="vertical-align: inherit;">Test</font></b><font style="vertical-align: inherit;"> ist ein Skript mit einem vordefinierten Parametersatz. </font><b><font style="vertical-align: inherit;">Testplan</font></b><font style="vertical-align: inherit;"> - Testsuite und Lastprofil. </font><b><font style="vertical-align: inherit;">Testran (Testlauf)</font></b><font style="vertical-align: inherit;"> - eine Iteration des Startens eines Tests mit einem vollständig ausgeführten </font><b><font style="vertical-align: inherit;">Ladeszenario</font></b><font style="vertical-align: inherit;"> und einem empfangenen Bericht. </font><b><font style="vertical-align: inherit;">Netzwerkanforderung (Anforderung)</font></b><font style="vertical-align: inherit;"> - Eine HTTP-Anforderung, die vom Agenten an das Ziel gesendet wird. </font><b><font style="vertical-align: inherit;">Netzwerkantwort (Antwort)</font></b><font style="vertical-align: inherit;"> - Eine HTTP-Antwort, die vom Ziel an den Agenten gesendet wird.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/qm/iq/d5/qmiqd5egscabj6hrmlnufxnyv4m.png"></a><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der HTTP-Antwortstatus ist ein Standardantwortcode vom Anwendungsserver. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transaktion (Transaktion) - ein vollständiger Zyklus von "Anfrage - Antwort". </font><font style="vertical-align: inherit;">Eine Transaktion wird vom Beginn des Sendens einer Anfrage (Anfrage) bis zum Abschluss des Empfangs einer Antwort (Antwort) gezählt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transaktionsstatus (Transaktionsstatus)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Konnte der Zyklus "Anfrage-Antwort" erfolgreich abgeschlossen werden? </font><font style="vertical-align: inherit;">Wenn in dieser Schleife ein Fehler aufgetreten ist, wird die gesamte Transaktion als nicht erfolgreich angesehen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antwortzeit (Latenz)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Zeit vom Ende des Sendens einer Anfrage (Anfrage) bis zum Beginn des Empfangs einer Antwort (Antwort). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lademetriken (Metriken)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Die Eigenschaften des geladenen Dienstes und des Lademittels, die während des Lasttestprozesses definiert wurden.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grundlegende Metriken zur Messung von Lastparametern</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einige der häufigsten und empfohlenen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metriken</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in der </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">ISTQB-</font></a><font style="vertical-align: inherit;"> Methodik </font><font style="vertical-align: inherit;">(S. 36, 52) sind in der folgenden Tabelle aufgeführt. </font><font style="vertical-align: inherit;">Ähnliche Metriken für den Agenten und das Ziel werden in derselben Zeile angezeigt.</font></font><br>
<br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agent-Metriken laden</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metriken des Zielsystems oder der Anwendung, die unter Last getestet wurden</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Anzahl der </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vCPU-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Speicher </font><font style="vertical-align: inherit;">, </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Festplatten</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - "Eisen" </font><b><font style="vertical-align: inherit;">-Eigenschaften</font></b><font style="vertical-align: inherit;"> des&nbsp;&nbsp; </font><b><font style="vertical-align: inherit;">Ladeagenten</font></b></font></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speicher, Festplattennutzung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - die Dynamik beim Laden von Prozessor, Speicher und Festplatte </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
während des Tests. </font><font style="vertical-align: inherit;">Wird normalerweise als Prozentsatz der </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
maximal verfügbaren Werte </font><font style="vertical-align: inherit;">gemessen </font><font style="vertical-align: inherit;">.</font></font></td>
</tr>
<tr>
<td><b>Network throughput</b> (on load agent) —   <br>
   , <br>
   . <br>
      (bps)</td>
<td><b>Network throughput</b>(on target) —     <br>
  .       (bps)</td>
</tr>
<tr>
<td><b>Virtual users</b>—   , <br>
    <br>
   </td>
<td><b>Virtual users status</b>, Passed/Failed/Total —    <br>
     <br>
  ,     .<br>
<br>
 ,      <br>
  ,    . <br>
   ,       <br>
      </td>
</tr>
<tr>
<td><b>Requests per second (minute)</b>—      ( ).<br>
<br>
   :     . <br>
       </td>
<td><b>Responses per second (minute)</b><br>
 —      ( ).<br>
<br>
   :   <br>
       <br>
 </td>
</tr>
<tr>
<td></td>
<td><b>HTTP responses status</b>—     <br>
  ,   . <br>
, 200 OK   , <br>
 404 —    </td>
</tr>
<tr>
<td></td>
<td><b>Latency</b> ( ) —    <br>
  (request)     (response). <br>
    (ms)</td>
</tr>
<tr>
<td></td>
<td><b>Transaction response time</b>—    , <br>
  « — ». <br>
      (request) <br>
    (response).<br>
<br>
      ( ) <br>
 :  , <br>
,  , , 90- . <br>
    —   <br>
  . <br>
    , <br>
    , <br>
     </td>
</tr>
<tr>
<td></td>
<td><b>Transactions per second (minute)</b> —   <br>
   (), <br>
       <br>
    . <br>
    </td>
</tr>
<tr>
<td></td>
<td><b>Transactions status</b> , Passed / Failed / Total —  <br>
,     .<br>
<br>
    <br>
    <br>
     </td>
</tr>
</tbody>
</table></div><br>
<h2>   </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das grundlegende Schema des Lasttests ist sehr einfach und besteht aus drei Hauptphasen, die ich bereits erwähnt habe: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorbereiten - Testen - Bericht</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><b><font style="vertical-align: inherit;">dh</font></b><font style="vertical-align: inherit;"> Vorbereiten von Testzielen und Festlegen von Parametern für Lastquellen, anschließendes Durchführen von Lasttests und schließlich Generieren und Veröffentlichen eines Berichts über das Testen. </font><font style="vertical-align: inherit;">
Anmerkungen zum Schema:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/o5/s5/z5/o5s5z5f79dpui3ojk5vbwgsayso.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QA.Tester - Stresstest-Experte,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ziel ist die Zielanwendung, für die Sie das Verhalten unter Last kennen müssen.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klassifikator von Entitäten, Stufen und Schritten im Diagramm</font></font></h2><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stufen und Schritte</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist los</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist am Eingang</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist die Ausgabe</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorbereiten: Testvorbereitungsphase</font></font></td>
</tr>
<tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ladeparameter</font></font></b></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Festlegen und Initialisieren von </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Benutzerlastparametern </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auswählen von Metriken und </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen eines Testplans </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(Lastprofil)</font></font></td>
<td>  <br>
  <br>
-<br>
 </td>
<td></td>
</tr>
<tr>
<td><b>VM</b></td>
<td>   <br>
   <br>
 </td>
<td>    <br>
   <br>
 </td>
<td>  <br>
 </td>
</tr>
<tr>
<td><b>Env</b></td>
<td>    <br>
  <br>
  </td>
<td>   <br>
 <br>
   <br>
 </td>
<td> : <br>
,   , <br>
   <br>
 </td>
</tr>
<tr>
<td><b>LoadAgents</b></td>
<td>,    <br>
 . <br>
  -  <br>
  </td>
<td>-   <br>
(, JM   )<br>
  <br>
 </td>
<td>   <br>
   <br>
</td>
</tr>
<tr>
<td colspan="4">Test:    .    ,       GitLab CI</td>
</tr>
<tr>
<td><b>Load</b></td>
<td>   <br>
  -<br>
   </td>
<td>  <br>
  <br>
 <br>
-<br>
 </td>
<td>  <br>
 <br>
 <br>
      </td>
</tr>
<tr>
<td><b>RunAgents</b></td>
<td>  <br>
   <br>
  <br>
  <br>
   <br>
  </td>
<td>-<br>
 </td>
<td></td>
</tr>
<tr>
<td><b>Logs</b></td>
<td> «»  <br>
   : <br>
    , <br>
   <br>
 ,    </td>
<td></td>
<td>  <br>
 <br>
 </td>
</tr>
<tr>
<td><b>Metrics</b></td>
<td> «»    </td>
<td></td>
<td>    <br>
  </td>
</tr>
<tr>
<td colspan="4">Report:     </td>
</tr>
<tr>
<td><b>Generator</b></td>
<td>  <br>
   <br>
  «» <br>
  <br>
   <br>
 , <br>
   <br>
</td>
<td>  <br>
 <br>
 <br>
   <br>
   </td>
<td> «»  <br>
 ,   <br>
   <br>
   ,<br>
   </td>
</tr>
<tr>
<td><b>Publish</b></td>
<td>  <br>
  <br>
   <br>
</td>
<td> «» <br>
  ,  <br>
    <br>
</td>
<td>   <br>
   <br>
,  <br>
  </td>
</tr>
</tbody>
</table></div><br>
<h2>    CI-</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kommen wir zum praktischen Teil. Ich möchte zeigen, wie </font><font style="vertical-align: inherit;">wir </font><font style="vertical-align: inherit;">bei einigen Projekten bei </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Positive Technologies</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> das Konzept des Lasttests als Service implementiert haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst haben wir mithilfe unserer DevOps-Ingenieure einen dedizierten Agentenpool in GitLab CI erstellt, um Auslastungstests auszuführen. Um sie in Vorlagen nicht mit anderen zu verwechseln, z. B. Assembly-Pools, haben wir diesen Agenten </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tags</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hinzugefügt </font><font style="vertical-align: inherit;">: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">tags</font></a><font style="vertical-align: inherit;"> : load. Sie können auch andere eindeutige Tags verwenden. Sie werden </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bei der Registrierung von</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GitLab CI Runners festgelegt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie finde ich die benötigte Leistung per Hardware heraus? Die Eigenschaften von Lade-Agenten - eine ausreichende Menge an vCPU, RAM und Festplatte - können auf der Grundlage berechnet werden, dass Docker, Python (für Yandex.Tank), GitLab CI-Agent und Java (für Apache JMeter) auf dem Agenten ausgeführt werden müssen. Für Java unter JMeter wird außerdem empfohlen, mindestens 512 MB RAM und als Obergrenze </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80% des verfügbaren Speichers zu verwenden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aufgrund unserer Erfahrung empfehlen wir daher, mindestens 4 vCPU, 4 GB RAM und 60 GB SSD für Load Agents zu verwenden. Die Bandbreite der Netzwerkkarte wird basierend auf den Anforderungen des Lastprofils bestimmt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir verwenden hauptsächlich zwei Ladequellen - Docker-Images Apache JMeter und Yandex.Tank. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Tank</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Dies ist das Open Source-Tool von Yandex für Stresstests. Die modulare Architektur basiert auf dem leistungsstarken asynchronen hitbasierten HTTP-Anforderungsgenerator Phantom. Der Tank verfügt über eine integrierte Überwachung der Ressourcen des getesteten Servers mithilfe des SSH-Protokolls, kann den Test unter den angegebenen Bedingungen automatisch stoppen, die Ergebnisse sowohl an die Konsole ausgeben als auch in Form von Diagrammen. Sie können Ihre Module daran anschließen, um die Funktionalität zu erweitern. Übrigens haben wir Tank verwendet, als es noch kein Mainstream war. Im Artikel „ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Tank und Automatisierung von Lasttests</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “ können Sie die Geschichte lesen, wie wir 2013 damit Lasttests für </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PT Appllication Firewall durchgeführt haben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - eines der Produkte unseres Unternehmens. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache JMeter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ist ein Open Source-Tool zur Durchführung von Apache-Stresstests. Es kann gleichermaßen gut zum Testen von statischen und dynamischen Webanwendungen verwendet werden. JMeter unterstützt eine Vielzahl von Protokollen und Interaktionsmöglichkeiten mit Anwendungen: HTTP, HTTPS (Java, NodeJS, PHP, ASP.NET usw.), SOAP / REST-Webservices, FTP, TCP, LDAP, SMTP (S), POP3 (S. ) und IMAP (S), Datenbanken über JDBC, können Shell-Befehle ausführen und mit Java-Objekten arbeiten. JMeter verfügt über eine IDE zum Erstellen, Debuggen und Ausführen von Testplänen. Es gibt auch eine CLI für die Arbeit an der Befehlszeile eines kompatiblen Java-Betriebssystems (Linux, Windows, Mac OS X). Das Tool kann dynamisch einen HTML-Testbericht generieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zur Vereinfachung der Verwendung in unserem Unternehmen und zur Möglichkeit für Tester, die Umgebung zu ändern und hinzuzufügen, haben wir Docker-Images von Ladequellen auf GitLab CI erstellt und im internen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker-Register auf Artifactory veröffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Auf diese Weise wird es schneller und einfacher, sie für Lasttests in Pipelines anzuschließen. </font><font style="vertical-align: inherit;">Wie Sie Docker dazu bringen, die Registrierung über GitLab CI zu pushen - lesen Sie die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anweisungen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die grundlegende Docker-Datei für Yandex.Tank haben wir diese genommen:</font></font><br>
<br>
<pre><code class="bash hljs">Dockerfile <font></font>
1 | FROM direvius/yandex-tank<font></font>
2 | ENTRYPOINT [<span class="hljs-string">""</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und für Apache JMeter dieses:</font></font><br>
<br>
<pre><code class="bash hljs">Dockerfile <font></font>
1 | FROM vmarrazzo/jmeter<font></font>
2 | ENTRYPOINT [<span class="hljs-string">""</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie unser kontinuierliches Integrationssystem funktioniert, lesen Sie im Artikel „ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatisierung von Entwicklungsprozessen: Wie wir DevOps-Ideen in positive Technologien umgesetzt haben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorlage und Pipeline</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Beispielvorlage für die Durchführung von Lasttests ist im </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Demo-Lastprojekt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verfügbar </font><font style="vertical-align: inherit;">. Sie </font><font style="vertical-align: inherit;">können die Anweisungen zur Verwendung der Vorlage </font><font style="vertical-align: inherit;">in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Readme-Datei</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lesen. In der Vorlage selbst (der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datei .gitlab-ci.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) finden Sie Hinweise dazu, wofür dieser oder jener Schritt verantwortlich ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Vorlage ist sehr einfach und zeigt die drei oben in der Abbildung beschriebenen Phasen der Lastprüfung: Erstellung, Prüfung und Veröffentlichung von Berichten. Verantwortlich dafür ist das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stage-Verzeichnis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorbereitung, Test und Bericht</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Prepare</a>           .       ,     -    docker registry:       Test.         .</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Test</a>     ,      .     : Yandex.Tank, Apache JMeter,    .         job-.     :<br>
 <ul>
<li>  Yandex.Tank    .<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">/tests/yandextank.sh</a>,</li>
<li>  Apache JMeter    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">./tests/jmeter.sh</a>.</li>
</ul><br>
:         CI-        .     ,    bash-.   ,       —    QA-.               .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">./tests</a>.<br>
 </li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Report</a>      ,    Test,   ,   GitLab Pages    .  GitLab Pages ,      ./public        index.html.     GitLab Pages    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> </a>.<br>
<br>
,   : <ul>
<li> JMeter  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitLab Pages</a>,</li>
<li> Yandex.Tank  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">InfluxDB  Grafana</a>.</li>
</ul><br>
   :<ul>
<li>HTML-  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">GitLab Pages</a>,</li>
<li> InfluxDB    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Grafana</a>.</li>
</ul></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In einem Demo-Beispiel sieht eine Pipeline mit Lasttests und zwei Lastquellen (Sie können unnötige deaktivieren) folgendermaßen aus: </font><font style="vertical-align: inherit;">
Apache JMeter kann einen HTML-Bericht selbst generieren, sodass es rentabler ist, ihn mit regulären Tools in GitLab Pages zu speichern. </font><font style="vertical-align: inherit;">So sieht der Apache JMeter-Bericht aus: </font><font style="vertical-align: inherit;">
In der Demo für Yandex.Tank wird </font><font style="vertical-align: inherit;">im Abschnitt für GitLab-Seiten </font><font style="vertical-align: inherit;">nur ein </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">gefälschter</font></a><font style="vertical-align: inherit;"> Textbericht angezeigt </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Während des Tests kann der Tank die Ergebnisse in der InfluxDB-Datenbank speichern und von dort aus beispielsweise in Grafana anzeigen (die Konfiguration erfolgt in der Datei </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">./tests/example-yandextank-test.yml</font></a><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">So sieht der Bericht von Tank in Grafana aus:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/t6/0f/bx/t60fbxhrvwnju5mubzwmifhjmn0.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/fr/pl/pr/frplprdv1ns3obkqrpn2i4tgetu.png"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/a6/y9/zw/a6y9zw9ej6wcy_g5pk69s1ncrpa.png"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dem Artikel habe ich über das Konzept des "Lasttests als Dienst" (Lasttest als Dienst) gesprochen. Die Hauptidee besteht darin, die Infrastruktur vorkonfigurierter Pools von Lastagenten, Docker-Images von Lastquellen, Berichtssystemen und einer Pipeline zu verwenden, die sie in GitLab CI auf der Grundlage einer einfachen .gitlab-ci.yml-Vorlage vereint (Beispiel als </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referenz</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). All dies wird von einem kleinen Team von Automatisierungsingenieuren unterstützt und auf Anfrage von Produktteams repliziert. Ich hoffe, dies hilft Ihnen bei der Vorbereitung und Implementierung eines ähnlichen Programms in Ihrem Unternehmen. Vielen Dank für Ihre Aufmerksamkeit! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS Ich möchte meinen Kollegen Sergey Kurbanov und Nikolay Yusev für die technische Unterstützung bei der Umsetzung des Konzepts der Lastprüfung als Dienstleistung in unserem Unternehmen ganz herzlich danken. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timur Gilmullin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Stellvertreter. </font><font style="vertical-align: inherit;">Leiter Technologie- und Entwicklungsprozesse (DevOps), Positive Technologien</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de504264/index.html">Huawei Review Kommentar: Kommentieren Sie Wi-Fi 6-Beiträge und erhalten Sie Preise</a></li>
<li><a href="../de504270/index.html">Ist Svelte eine gute Wahl für die Widget-Implementierung?</a></li>
<li><a href="../de504276/index.html">Top 10 Entwicklerbücher</a></li>
<li><a href="../de504282/index.html">Erstellung der Enterprise-Architektur in NSPK</a></li>
<li><a href="../de504284/index.html">Das Buch „Pure Agile. Die Grundlagen der Flexibilität</a></li>
<li><a href="../de504296/index.html">Zufällige Verzweigungen in Python generieren</a></li>
<li><a href="../de504306/index.html">Wie wird russische Hardware für die Speicherung von Aerodisk Vostok auf Elbrus hergestellt?</a></li>
<li><a href="../de504310/index.html">Dichotomie von Daten: Überdenken der Beziehung zu Daten und Diensten</a></li>
<li><a href="../de504312/index.html">Einheitliches Register der russischen Programme und der GPL. Meine fünf Cent</a></li>
<li><a href="../de504314/index.html">Implementierung von Docker Pull- und Docker Push-Befehlen ohne Docker-Client über HTTP-Anforderungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>