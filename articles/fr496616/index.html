<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö∂üèª üõ°Ô∏è üôä Comment comptons-nous les personnes utilisant la vision par ordinateur üìï üôÅ üßï</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Photos provenant de sources ouvertes
 
 Les rassemblements de masse de personnes cr√©ent des probl√®mes dans divers domaines (commerce de d√©tail, servic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment comptons-nous les personnes utilisant la vision par ordinateur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/center2m/blog/496616/"><img src="https://habrastorage.org/webt/b2/gt/vy/b2gtvy54vvgxucterhxudpe5y58.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Photos provenant de sources ouvertes</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Les rassemblements de masse de personnes cr√©ent des probl√®mes dans divers domaines (commerce de d√©tail, services </font><i><font style="vertical-align: inherit;">publics</font></i><font style="vertical-align: inherit;"> , banques, d√©veloppeurs). Les clients doivent combiner et surveiller les informations sur le nombre de personnes dans de nombreux endroits: dans les bureaux de service, les b√¢timents administratifs, sur les chantiers de construction, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les t√¢ches de comptage des personnes ont des solutions toutes faites, par exemple, l'utilisation de cam√©ras avec des analyses int√©gr√©es. Cependant, dans de nombreux cas, il est important d'utiliser un grand nombre de cam√©ras pr√©c√©demment install√©es dans diff√©rents services. De plus, une solution qui prend en compte les sp√©cificit√©s d'un client particulier sera meilleure pour lui.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nos noms sont Tatyana Voronova et Elvira Dyaminova, nous sommes engag√©s dans l'analyse des donn√©es au Centre 2M. Bien que le sujet semble √™tre le plus simple de ce qui est actuellement consid√©r√© dans les probl√®mes de vision par ordinateur, m√™me dans ce probl√®me, en ce qui concerne la pratique (mise en ≈ìuvre), de nombreuses sous-t√¢ches complexes et non triviales doivent √™tre r√©solues. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le but de notre article est de montrer la complexit√© et les approches de base des probl√®mes de vision par ordinateur en utilisant l'exemple de la r√©solution d'un des probl√®mes de base.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour les mat√©riaux suivants, nous voulons attirer des coll√®gues: devops, ing√©nieur, chefs de projet sur l'analyse vid√©o, afin qu'ils parlent des ressources informatiques impliqu√©es, des mesures de vitesse, des nuances de communication avec les clients et des histoires de mise en ≈ìuvre de projet. Nous nous concentrerons sur certaines des m√©thodes d'analyse de donn√©es utilis√©es.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commen√ßons par la d√©claration suivante: vous devez afficher le nombre de personnes dans la file d'attente au bureau de service. </font><font style="vertical-align: inherit;">Si la file d'attente, selon les r√®gles internes de l'entreprise cliente, est jug√©e critique, le sc√©nario interne commencera √† √™tre √©labor√©:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">notification de la n√©cessit√© d'ouvrir une entr√©e / caisse suppl√©mentaire;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appel du gestionnaire;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">informer sur la n√©cessit√© de rediriger les flux de personnes vers d'autres caisses (plus gratuites).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, notre travail sauvera beaucoup de nerfs aux clients.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®les d'apprentissage automatique utilis√©s</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©tection de silhouettes de personnes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un premier temps, nous avons d√©cid√© d'utiliser un mod√®le d√©j√† form√© pour d√©tecter les personnes (silhouettes), car de telles t√¢ches ont des solutions assez bonnes, par exemple, la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finition des silhouettes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, dans la biblioth√®que TensorFlow, il existe un grand nombre de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mod√®les pr√©-form√©s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir effectu√© les tests, nous avons d'abord opt√© pour deux architectures: Faster R-CNN et YOLO v2. Plus tard, apr√®s l'apparition de la nouvelle version, nous avons ajout√© YOLO v3. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Description des mod√®les</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple de r√©sultat de reconnaissance pour YOLO v2 (ci-apr√®s, les images sont tir√©es de sources gratuites - nous ne pouvons pas publier de trames √† partir des cam√©ras des clients): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7d/7t/ci/7d7tciq9yzbof4hsrp00ckrbh7o.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple de r√©sultat de reconnaissance pour Faster R-CNN:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lg/qg/gq/lgqggq6y-hq6bbkmpkynivfy1co.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'avantage de YOLO est que le mod√®le r√©pond plus rapidement, et dans certaines t√¢ches, cela est important. Cependant, dans la pratique, nous avons d√©couvert que s'il n'est pas possible d'utiliser une version pr√©-form√©e du mod√®le et qu'un recyclage est requis sur votre ensemble de formation sp√©cialis√©, il est plus correct d'utiliser Faster R-CNN. Si la cam√©ra a √©t√© install√©e suffisamment loin des personnes (la hauteur de la silhouette est inf√©rieure √† 100 pixels pour une r√©solution de 1920 par 1080) ou s'il a √©t√© n√©cessaire de reconna√Ætre en plus un √©quipement de protection individuelle sur une personne: casques, attaches, √©l√©ments de v√™tements de protection, dans de telles situations la qualit√© du r√©sultat de la formation sur votre propre jeu de donn√©es (jusqu'√† 10 mille objets diff√©rents) pour YOLO v2 nous n'√©tions pas satisfaits.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YOLO v3 a montr√© des r√©sultats acceptables, cependant, les tests de vitesse n'ont pas donn√© un avantage significatif pour YOLO v3 par rapport √† Faster R-CNN. De plus, nous avons trouv√© un moyen d'augmenter la vitesse de reconnaissance en utilisant un traitement par lots (traitement group√© des images), une analyse s√©lective des images (voir ci-dessous).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour tous les types de mod√®les, nous avons am√©lior√© la pr√©cision en utilisant le post-traitement des r√©sultats: nous avons supprim√© les valeurs aberrantes, pris les valeurs les plus courantes pour un ensemble de trames cons√©cutives. Une seconde d'une cam√©ra correspond g√©n√©ralement √† 25-50 images. Bien s√ªr, pour am√©liorer les performances (avec un nombre croissant de cam√©ras), nous n'analysons pas chaque image, mais il est souvent possible de donner une r√©ponse finale sur un intervalle de plusieurs secondes, c'est-√†-dire d'utiliser plusieurs images. Cette d√©cision peut √™tre prise de mani√®re dynamique, en tenant compte du nombre total de cam√©ras (flux vid√©o √† traiter) et de la puissance de calcul disponible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un exemple d'utilisation du mod√®le Faster R-CNN, form√© sur notre propre ensemble de donn√©es: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cn/b9/8i/cnb98ihri3ztp_kd6eanszvv2g4.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous effectuons maintenant des tests avec le mod√®le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSD-300</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nous esp√©rons que cela nous donnera une augmentation de la productivit√© tout en maintenant une qualit√© de reconnaissance acceptable.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ation de votre propre jeu de donn√©es d'entra√Ænement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les cas o√π vous souhaitez cr√©er votre propre ensemble d'apprentissage, nous avons d√©velopp√© pour nous-m√™mes la proc√©dure suivante:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous collectons des clips vid√©o avec les objets requis: vid√©os des clients, vid√©os du domaine public (vid√©os pr√©sent√©es, cam√©ras de surveillance);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous coupons et filtrons des fragments vid√©o afin que l'ensemble de donn√©es r√©sultant soit √©quilibr√© entre divers objets de reconnaissance;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous r√©partissons les cadres entre les marqueurs pour mettre en √©vidence les objets n√©cessaires. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple d'outil de balisage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v√©rifier s√©lectivement les r√©sultats des marqueurs;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">si n√©cessaire, nous effectuons une augmentation: g√©n√©ralement nous ajoutons des virages, de la r√©flexion, modifions la nettet√© (forment un ensemble de donn√©es marqu√© √©tendu).</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisation de zones de d√©tection</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'un des probl√®mes du comptage de personnes en ligne est l'intersection des zones de visibilit√© de plusieurs cam√©ras. </font><font style="vertical-align: inherit;">Plusieurs cam√©ras peuvent √™tre install√©es dans une pi√®ce; il est donc important de pr√©server la zone de chevauchement des images et lorsqu'une personne entre dans le champ de vision de plusieurs cam√©ras, elle doit √™tre prise en compte une fois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans certaines situations, les personnes doivent √™tre d√©tect√©es uniquement dans une certaine zone de la pi√®ce (pr√®s des fen√™tres de service) ou de la plate-forme (pr√®s de l'√©quipement).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour des raisons √©videntes, il est faux de v√©rifier que le rectangle de bordure (cadre / cadre), restreignant la personne enti√®re, tombe dans la zone (polygone). </font><font style="vertical-align: inherit;">Dans cette situation, le bas (tiers / moiti√©) du rectangle est divis√© en points - n≈ìuds (une grille de 10 par 10 n≈ìuds est prise) et la chute dans la zone des n≈ìuds individuels s√©lectionn√©s est v√©rifi√©e. </font><font style="vertical-align: inherit;">Les n≈ìuds ¬´significatifs¬ª sont attribu√©s par l'administrateur syst√®me en fonction de la g√©om√©trie de la pi√®ce (les valeurs par d√©faut sont √©galement s√©lectionn√©es - si le param√®tre d'une pi√®ce particuli√®re n'est pas entr√©). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fl/ck/6w/flck6wqyyr5ojbwpeuqebuidzoe.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, l'application de l'architecture </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mask R-CNN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour nos t√¢ches est en </font><font style="vertical-align: inherit;">cours de test </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La m√©thode vous permet de d√©terminer le contour de la silhouette - cela vous permettra </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de vous √©loigner de l'utilisation d'un rectangle de bordure lors de l'analyse de l'intersection avec une zone</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/et/wy/oq/etwyoqwuuebhqh4jyxmf8j509-0.jpeg" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une autre approche: la d√©tection de la t√™te (formation sur mod√®le)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La qualit√© n'est pas toujours obtenue en choisissant un mod√®le, en augmentant / modifiant l'ensemble de formation et d'autres m√©thodes purement ML. Parfois, une am√©lioration d√©cisive ne peut √™tre obtenue qu'en changeant toute la formulation du probl√®me (par exemple, dans notre probl√®me). Dans ces files d'attente, les gens s'entassent et se superposent donc, la qualit√© de reconnaissance est donc souvent insuffisante pour n'utiliser cette m√©thode qu'en conditions r√©elles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenez l'image ci-dessous. Nous fermons les yeux sur le fait que la photo a √©t√© prise au t√©l√©phone, et l'angle de son inclinaison ne correspond pas √† l'angle d'inclinaison des cam√©ras CCTV. Il y a 18 personnes sur le cadre, et le mod√®le de d√©tection de silhouette a identifi√© 11 personnes: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tw/qe/lr/twqelrrbt5dsacykfcb_2vm1zwe.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour am√©liorer les r√©sultats, nous sommes pass√©s de la d√©finition des silhouettes √† la d√©finition des objectifs. Pour cela, le mod√®le Faster R-CNN a √©t√© form√© sur un ensemble de donn√©es</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (l'ensemble de donn√©es comprend des cadres avec un nombre diff√©rent de personnes, y compris de grands groupes, parmi lesquels il y a des personnes de races et d'√¢ges diff√©rents). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, nous avons enrichi le jeu de donn√©es avec des images du mat√©riel (des cam√©ras) du client d'environ un tiers (principalement en raison du fait que le jeu de donn√©es d'origine avait peu de t√™tes en chapeaux). Un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">didacticiel a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©t√© utile pour l'auto-apprentissage d'un mod√®le </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les principaux probl√®mes rencontr√©s sont la qualit√© de l'image et l'√©chelle des objets. Les t√™tes ont des tailles diff√©rentes (comme on peut le voir sur l'image ci-dessus), et les cadres des cam√©ras du client avaient une r√©solution de 640x480, pour cette raison, des objets int√©ressants (capuchons, boules de No√´l, dossiers de chaises) sont parfois d√©tect√©s comme des t√™tes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, dans l'ensemble de donn√©es de formation, nous avons √©tiquet√© les t√™tes:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q6/u6/di/q6u6di-qwgmrlotfsyxeynpx-1q.png" alt="image"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ce sont des t√™tes dans un ensemble de donn√©es; </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rn/2r/es/rn2resr7gorbgtezqs7jhoozzhs.jpeg" alt="image"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- et c'est le dossier de la chaise, mais le mod√®le veut croire que c'est la t√™te. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, en g√©n√©ral, ce mod√®le s'adapte assez bien dans les cas o√π il y a une concentration massive de personnes. Ainsi, dans le cadre ci-dessus, notre mod√®le a identifi√© 15 personnes: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b2/gt/vy/b2gtvy54vvgxucterhxudpe5y58.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, dans cette image, le mod√®le n'a pu trouver que trois t√™tes, qui √©taient consid√©rablement bloqu√©es par des objets √©trangers. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour am√©liorer la qualit√© du mod√®le, vous pouvez remplacer les cam√©ras actuelles par des cam√©ras avec une r√©solution plus √©lev√©e et collecter et marquer en outre le jeu de donn√©es d'entra√Ænement.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√©anmoins, il convient de noter qu'avec un petit nombre de personnes, la m√©thode de d√©tection par silhouettes plut√¥t que par t√™tes est plus appropri√©e, car la silhouette est plus difficile √† chevaucher compl√®tement ou √† confondre avec des objets √©trangers. </font><font style="vertical-align: inherit;">Cependant, s'il y a une foule, il n'y a pas d'issue, donc pour compter les gens en ligne, il a √©t√© d√©cid√© d'utiliser deux mod√®les en parall√®le - pour les t√™tes et les silhouettes - et de combiner la r√©ponse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Silhouettes et t√™tes, un exemple de r√©sultat de reconnaissance:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ku/rf/jt/kurfjth3rdirwguzsqnsrgnketg.png" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indice de pr√©cision</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors du test du mod√®le, des cadres ont √©t√© s√©lectionn√©s qui n'ont pas particip√© √† la formation (ensemble de donn√©es avec un nombre diff√©rent de personnes sur le cadre, sous diff√©rents angles et diff√©rentes tailles), pour √©valuer la qualit√© du mod√®le, nous avons utilis√© le rappel et la pr√©cision. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rappel</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - l'exhaustivit√© montre quelle proportion d'objets qui </font><font style="vertical-align: inherit;">appartiennent </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©ellement</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† la classe positive, nous avons pr√©dit correctement. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©cision</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - la pr√©cision montre quelle proportion d'objets </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reconnus</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> comme des objets d'une classe positive, nous avons pr√©dit correctement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur les cadres des cam√©ras sur les sites de test (les images dans ces salles √©taient sur le jeu de donn√©es) m√©triques: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9k/dc/to/9kdctoymo_ibp2pyhzxhnllrtkk.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur les cadres des nouvelles cam√©ras (ces salles n'√©taient pas sur le jeu de donn√©es):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wn/pc/a0/wnpca03c5bbmnermgoiuh9zegzy.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque le client avait besoin d'un chiffre, une combinaison d'exactitude et d'exhaustivit√©, nous avons fourni une </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moyenne harmonique</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ou </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mesure F</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<img src="https://habrastorage.org/webt/ye/3o/aw/ye3oawilyj5rh_cvzpxr0c0sx3w.png" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rapports</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les statistiques constituent une partie importante du service. Avec des cadres individuels (et des personnes d√©di√©es compt√©es par eux), les clients veulent voir les r√©sultats sous la forme de rapports pr√™ts √† l'emploi (tableaux de bord) avec une occupation moyenne / maximale pour diff√©rents intervalles de temps. Le r√©sultat est souvent int√©ressant sous la forme de graphiques et de tableaux caract√©risant la r√©partition du nombre de personnes dans le temps. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, dans notre solution pour le cadre, le nombre de personnes pour les deux mod√®les (silhouettes et t√™tes) est calcul√© et le maximum est s√©lectionn√©. S'il y a plusieurs cam√©ras dans la pi√®ce, la zone de chevauchement d'images (pr√©d√©finie via l'interface) est enregistr√©e, et lorsqu'une personne entre dans le champ de plusieurs cam√©ras, elle n'est prise en compte qu'une seule fois.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, la valeur du nombre de personnes dans la file d'attente est form√©e pour plusieurs trames cons√©cutives - pour l'intervalle </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Œît</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En une heure, les valeurs de plusieurs de ces intervalles sont d√©charg√©es pour chaque pi√®ce. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La taille de l'intervalle de temps et le nombre d'intervalles sont d√©termin√©s en fonction du nombre de pi√®ces et de la puissance de calcul utilis√©e. Pour chaque intervalle, un tableau de valeurs est form√© avec le nombre de personnes dans la pi√®ce. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La valeur la plus courante (mode) est s√©lectionn√©e. S'il y a plusieurs valeurs avec la m√™me fr√©quence, le maximum est s√©lectionn√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La valeur r√©sultante est le nombre de personnes dans la file d'attente au temps </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imm√©diatement apr√®s l'intervalle en question. </font><font style="vertical-align: inherit;">En une heure seulement, un ensemble de valeurs est obtenu pour diff√©rents intervalles - c'est-√†-dire des valeurs aux instants </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t_1, t_2 .... </font><font style="vertical-align: inherit;">t_n</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus loin pour </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t_1, t_2 .... </font><font style="vertical-align: inherit;">t_n, les</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> valeurs maximales et moyennes du nombre de personnes sont calcul√©es - ces valeurs sont affich√©es dans le rapport sous forme de charges de pointe et moyennes pour une heure donn√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diagramme de la r√©partition des personnes par temps pour la charge maximale (exemple simple): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/um/nb/zp/umnbzpjh1aj_0gdt1qhwywj8niu.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diagramme de la r√©partition des personnes par temps pour la charge moyenne (exemple simple):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/h4/rx/rjh4rxxkyftekb8tspvwylamwu8.png" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foules</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En conclusion, pour √™tre complet sur le sujet, je voudrais mentionner les cas de foules tr√®s importantes, par exemple, des foules dans les stades, dans des lieux de trafic humain intense. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces t√¢ches consistent √† estimer la taille de la foule: s'il s'agit d'une foule de 300 personnes, une r√©ponse de 312 ou 270 est consid√©r√©e comme acceptable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la pratique, nous n'avons pas eu √† r√©soudre de tels probl√®mes √† l'aide de l'analytique vid√©o (s'il s'agit d'un √©v√©nement organis√©, il est plus facile pour chaque personne d'√©mettre une √©tiquette). Cependant, nous avons effectu√© des tests. Pour ces t√¢ches, des m√©thodes distinctes sont utilis√©es, une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vue d'ensemble des m√©thodes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©sultat du mod√®le de la revue (mod√®le pr√©-form√© sur CSRNet) a √©t√© reproduit:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vq/ks/-k/vqks-kmt4kykj1vuls2t9dr18sc.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'angle est important pour les param√®tres de ce mod√®le, c'est-√†-dire que si le lieu de prise de vue est fixe, le r√©sultat sera meilleur que lorsqu'il est appliqu√© √† des images diverses. </font><font style="vertical-align: inherit;">De mani√®re g√©n√©rale, il est possible de recycler ce mod√®le - la qualit√© peut √™tre am√©lior√©e pendant le fonctionnement du mod√®le, lorsque la vraie vid√©o des cam√©ras install√©es est activ√©e. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auteurs de l'article: Tatyana Voronova (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tvoronova</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), Elvira Dyaminova (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">elviraa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr496600/index.html">Dans le cadre de la substitution des importations, Moscou ach√®te un logiciel Microsoft pour 90 millions de roubles</a></li>
<li><a href="../fr496608/index.html">Food Design Digest, mars 2020</a></li>
<li><a href="../fr496610/index.html">Routeur Banana Pi R64 - Debian, Wireguard, ILV</a></li>
<li><a href="../fr496612/index.html">Oui, mon ancien portable est plusieurs fois plus puissant que votre serveur de production</a></li>
<li><a href="../fr496614/index.html">Comment les Habrachiens ont-ils chang√© en 5 ans? Ou "280 semaines plus tard"</a></li>
<li><a href="../fr496620/index.html">Erreurs populaires en anglais parmi les professionnels de l'informatique</a></li>
<li><a href="../fr496626/index.html">Journeyman and Dragons: comment aider le stagiaire √† s'adapter en √©quipe</a></li>
<li><a href="../fr496630/index.html">Interface V√©los Toxic Grandfather. "Artefacts mon cul!" (s1 e5)</a></li>
<li><a href="../fr496634/index.html">√âcole 21 pour le demandeur</a></li>
<li><a href="../fr496638/index.html">F #, algorithme de marquage pour les composants d'image connect√©s</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>