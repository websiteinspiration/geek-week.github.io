<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚õîÔ∏è üëêüèΩ ‚§¥Ô∏è Status and performance of Kubernetes persistent storage solutions üë©üèø‚Äçü§ù‚Äçüë©üèæ ‚úçüèª üõ¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Note perev. : Although this review does not claim to be a carefully designed technical comparison of existing solutions for the permanent storage of d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Status and performance of Kubernetes persistent storage solutions</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/503712/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note perev.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Although this review does not claim to be a carefully designed technical comparison of existing solutions for the permanent storage of data in Kubernetes, it can be a good starting point for administrators who are relevant to this issue. The most attention was paid to the Piraeus solution, familiarity with which will benefit not only Linstor lovers, but also those who have not heard of these projects.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/oa/ev/6t/oaev6tibppjvpg4ommvvleyxu_c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
This is an unscientific overview of storage solutions for Kubernetes. Problem statement: requires the ability to create a Persistent Volume on the disks of the node, the data of which will be saved in case of damage or restart of the node.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The motivation for this comparison is the need to migrate the company's server fleet from multiple dedicated bare metal servers to the Kubernetes cluster.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
My company is a </font><font style="vertical-align: inherit;">Brazilian </font><font style="vertical-align: inherit;">startup </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escavador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> with huge computing needs (mainly CPU) and a very limited budget. We develop NLP solutions for structuring legal data. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lm/42/gl/lm42gl4y03e1vacxpeu48ov8ipu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Due to the crisis with COVID-19, the Brazilian real fell to a record low against the US dollar</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Our national currency is actually very underestimated, so the average salary of a senior developer is only 2000 USD per month. Thus, we cannot afford the luxury of spending significant amounts on cloud services. When I last made the calculations, [thanks to using my servers] we saved 75% compared to what I would have to pay for AWS. In other words, another developer can be hired for the money saved - I think that this is a much more rational use of funds. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inspired by a series of publications from Vito Botta, I decided to create a K8s cluster using Rancher (and so far so good ...). Vito also performed </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">an excellent analysis of</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> various storage solutions. The clear winner was Linstor (he even singled it out in</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">special league</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spoiler: I agree with him.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
For some time I have been following the traffic around Kubernetes, but only recently decided to participate in it. This is due primarily to the fact that the provider has a new line of Ryzen processors. And then I was very surprised to see that many solutions are still in development or immature state (especially for bare metal clusters: VM virtualization, MetalLB, etc.). Vaults on bare metal are still in their mature stages, although they are represented by a multitude of commercial and Open Source solutions. I decided to compare the main promising and free solutions (simultaneously testing one commercial product in order to understand what I'm losing). </font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">Range of</font></a></i></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/bt/ju/ibbtjukbsn_iedl3vnbxblnguey.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Storage </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">Solutions</font></a><font style="vertical-align: inherit;"> at </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CNCF Landscape</font></font></a></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">But first of all, I want to warn you that I am new to K8s. </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For experiments, 4 workers were used with the following configuration: Ryzen 3700X processor, 64 GB ECC memory, NVMe 2 TB in size. </font><font style="vertical-align: inherit;">Benchmarks were made using the image </font></font><code>sotoaster/dbench:latest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(on fio) with the flag </font></font><code>O_DIRECT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Longhorn</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> License: Apache 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Commercial Support: Rancher</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/longhorn/longhorn</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stars on GitHub: 1.3 thousand</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I really liked Longhorn. </font><font style="vertical-align: inherit;">It is fully integrated with Rancher and you can install it through Helm with one click. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xa/xc/fo/xaxcfod6ctz3r1znababkc4jufe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installing Longhorn from Rancher</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
This is an open source tool with the status of a sandbox project from the Cloud Native Computing Foundation (CNCF). </font><font style="vertical-align: inherit;">Its development is funded by Rancher - a fairly successful company with a well-known [eponymous] product. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z0/nx/fy/z0nxfybkesf930zdaqac3gi_kcy.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An excellent graphical interface</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is </font><b><font style="vertical-align: inherit;">also available</font></b><font style="vertical-align: inherit;"> - everything can be done from it. </font><font style="vertical-align: inherit;">With performance, everything is in order. </font><font style="vertical-align: inherit;">The project is still in beta, which is confirmed by issues on GitHub. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When testing, I launched a benchmark using 2 replicas and Longhorn 0.8.0:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Random read / write, IOPS: 28.2k / 16.2k;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Read / write bandwidth: 205 Mb / s / 108 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Average read / write latency (usec): 593.27 / 644.27;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sequential read / write: 201 Mb / s / 108 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mixed random read / write, IOPS: 14.7k / 4904.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Openebs</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> License: Apache 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commercial support: several companies (?); </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mayadata.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seems to be the biggest</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/openebs/openebs</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stars on GitHub: 6K</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This project also has CNCF sandbox status. </font><font style="vertical-align: inherit;">With a large number of stars on GitHub, it looks like a very promising solution. </font><font style="vertical-align: inherit;">In his review, Vito Botta complained about insufficient performance. </font><font style="vertical-align: inherit;">Here is what the </font><font style="vertical-align: inherit;">Mayadata CEO </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">answered</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> him:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Information is very outdated. </font><font style="vertical-align: inherit;">OpenEBS used to support 3, but now it supports 4 engines, if you enable dynamic provisioning and localPV orchestration, which can run at NVMe speeds. </font><font style="vertical-align: inherit;">In addition, the MayaStor engine is now open and is already receiving positive reviews (although it has alpha status).</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On the OpenEBS project page there is such an explanation on its status:</font></font><br>
<br>
<blockquote>OpenEBS ‚Äî             Kubernetes. OpenEBS   sandbox- CNCF   2019-       ,    -     (local, nfs, zfs, nvme)   on-premise,     . OpenEBS      -  stateful- ‚Äî Litmus Project, ‚Äî          OpenEBS.    OpenEBS  production  2018 ;    2,5  docker pull'.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It has many engines, and the last one seems quite promising in terms of performance: ‚ÄúMayaStor - alpha engine with NVMe over Fabrics‚Äù. </font><font style="vertical-align: inherit;">Alas, I did not test it because of the alpha version status. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In tests, version 1.8.0 was used on the jiva engine. </font><font style="vertical-align: inherit;">In addition, I previously checked cStor, but did not save the results, which, however, turned out to be slightly slower than jiva. </font><font style="vertical-align: inherit;">For the benchmark, a Helm chart was installed with all the default settings and the Storage Class, standardly created by Helm ( </font></font><code>openebs-jiva-default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), was used. </font><font style="vertical-align: inherit;">Performance turned out to be the worst of all the solutions considered (I would be grateful for advice on improving it). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OpenEBS 1.8.0 with jiva engine (3 replicas?):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Random read / write, IOPS: 2182/1527;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Read / write bandwidth: 65.0 Mb / s / 41.9 Mb / s;</font></font></li>
<li>   / (usec): 1825.49 / 2612.87;</li>
<li>  /: 95.5 / / 37.8 /;</li>
<li>   /, IOPS: 2607 / 856.</li>
</ul><br>
<i><b>  </b>.   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a> Evan Powell,   OpenEBS (   ,    StackStorm  Nexenta):</i><br>
<br>
<blockquote><i>   , Bruno!         OpenEBS  .    Jiva,      ARM      overhead'  .    Bloomberg    DynamicLocal PV  OpenEBS.       Elastic     ,  .  ,        OpenEBS Director (https://account.mayadata.io/signup).    ‚Äî     ,     .</i></blockquote><br>
<h2>StorageOS</h2><br>
<ul>
<li> : </li>
<li> URL: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">storageos.com</a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is a commercial solution that is free when using up to 110 GB of space. A free </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">developer license</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> can be obtained by registering through the product user interface; It gives up to 500 GB of space. In Rancher, it is listed as a partner, so the installation using Helm was easy and carefree. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The user is offered a basic control panel. Testing of this product was limited because it is commercial and does not suit us in value. But still I wanted to see what commercial projects are capable of. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The test uses the existing Storage Class called ‚ÄúFast‚Äù (Template 0.2.19, 1 Master + 0 Replica?). The results were amazing. They significantly exceeded previous solutions.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Random read / write, IOPS: 117k / 90.4k;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Read / write bandwidth: 2124 Mb / s / 457 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Average read / write latency (usec): 63.44 / 86.52;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sequential read / write: 1907 Mb / s / 448 Mb / s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mixed random read / write, IOPS: 81.9k / 27.3k.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Piraeus (based on Linstor)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
License: GPLv3</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commercial Support: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LINBIT</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URL: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/piraeusdatastore/piraeus</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Based on: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/LINBIT/linstor-server</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stars on GitHub: less than 100 (don‚Äôt skimp, put an asterisk on the project!)</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The already mentioned Vito Botta eventually settled on Linstor, which was an additional reason to try this solution. </font><font style="vertical-align: inherit;">At first glance, the project looks rather strange. </font><font style="vertical-align: inherit;">There are almost no stars on GitHub, an unusual name and it does not even exist on CNCF Landscape. </font><font style="vertical-align: inherit;">But upon closer inspection, everything is not so scary, because:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DRBD is used as the basic replication mechanism (in fact, it was developed by the same people). </font><font style="vertical-align: inherit;">At the same time, DRBD 8.x has been part of the official Linux kernel for more than 10 years. </font><font style="vertical-align: inherit;">And we are talking about technology that has been honed for over 20 years.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Media is controlled by LINSTOR, also a mature technology from the same company. </font><font style="vertical-align: inherit;">The first version of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linstor-server</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> appeared on GitHub in February 2018. </font><font style="vertical-align: inherit;">It is compatible with various technologies / systems such as Proxmox, OpenNebula and OpenStack.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apparently, Linbit is actively developing the project, constantly introducing new features and improvements into it. </font><font style="vertical-align: inherit;">The 10th version of DRBD still has </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alpha status</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but it already boasts some unique features, such as erasure coding </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(similar to the functionality from RAID5 / 6 - approx. Transl.)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The company takes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">certain measures</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> to become one of the CNCF projects.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Okay, the project looks convincing enough to entrust him with its precious data. </font><font style="vertical-align: inherit;">But is he able to replay alternatives? </font><font style="vertical-align: inherit;">Let's get a look.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vito talks about installing Linstor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . However, in the comments, one of the Linstor developers recommends a new project called Piraeus. As I understand it, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Piraeus is</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> becoming the Linbit Open Source project, which combines everything related to K8s. The team is working on the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appropriate operator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but for now, Piraeus can be installed using this YAML file:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl apply -f https://raw.githubusercontent.com/bratao/piraeus/master/deploy/all.yaml</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Attention! </font><font style="vertical-align: inherit;">You pick up configs from my personal repository. </font><font style="vertical-align: inherit;">Check out the official repository! </font><font style="vertical-align: inherit;">I updated the version of the images to solve the error that occurs when using in Ubuntu. </font></font></b><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The official Piraeus repository is available </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also use the kvaps repository (it seems even more dynamic than the official piraeus repository): </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/kvaps/kube-linstor </font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(take this opportunity to say hello to Andrey</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kvaps</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- approx. </font><font style="vertical-align: inherit;">perev.)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6x/wx/nh/6xwxnhsh1ee3oimukq4enhpj8by.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">All nodes work after installation</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Administration</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Administration is carried out using the command line. </font><font style="vertical-align: inherit;">Access to it is possible from the command shell of the piraeus-controller node. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/al/al/ns/alalnsdlrqxen1po4kjdvkqorg0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The controller node is running linstor-server. </font><font style="vertical-align: inherit;">It is an abstraction layer over drbd, capable of managing the entire fleet of nodes. </font><font style="vertical-align: inherit;">The screenshot below shows some useful commands for the most popular tasks, for example:</font></font><br>
<br>
<ul>
<li> <code>linstor node list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - display a list of connected nodes and their status;</font></font></li>
<li> <code>linstor volume list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - show a list of created volumes and their location;</font></font></li>
<li> <code>linstor node info</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - show the capabilities of each node.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/cv/gs/nb/cvgsnbc08kqvpkcyilvnpc_rsq4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linstor Commands A</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
complete list of commands is available in the official documentation: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">User¬¥s Guide LINSTOR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the event of situations like split brain, drbd can be accessed directly through the nodes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disaster Recovery</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I did my best to drop my cluster, including hard reset on nodes. But linstor was surprisingly tenacious. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Drbd perfectly recognizes a problem called split brain. In my situation, the secondary node fell out of replication.</font></font><br>
<br>
<blockquote>Split brain ‚Äî  ,  -       ,       -      Primary,   ¬´¬ª .     ,            .  ,      ,     .<br>
<br>
Split brain  DRBD   ,     ,        Heartbeat.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Details can be found in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">drbd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 's </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">official documentation</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/01/q5/mo/01q5morra2apvjguxsvng9ocxac.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The secondary node fell out of replication.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In my case, to solve the problem, I dropped the secondary data and started synchronization with the primary node. </font><font style="vertical-align: inherit;">Since I prefer graphical interfaces, I used the drbdtop utility for this. </font><font style="vertical-align: inherit;">With its help, you can visually monitor the status and execute commands within nodes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I needed to go into the console on the problem node piraues (it was </font></font><code>worker2-gpu</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pm/h4/41/pmh441jj847vcl6h-chni2q49e8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go to the node</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
There I installed drdbtop. </font><font style="vertical-align: inherit;">Download this utility here:</font></font><br>
<br>
<pre><code class="bash hljs">wget https://github.com/LINBIT/drbdtop/releases/download/v0.2.2/drbdtop-linux-amd64<font></font>
chmod +x drbdtop-linux-amd64<font></font>
./drbdtop-linux-amd64</code></pre><br>
<img src="https://habrastorage.org/webt/y8/v1/5g/y8v15gnppzvbtjsjju4gl1oanc4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Running drbdtop utility</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Take a look at the bottom panel. </font><font style="vertical-align: inherit;">There are commands on it that can be used to fix the split brain: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pb/zh/h2/pbzhh2xqbwnb11gjy6q9_6iojge.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After that, the nodes are connected and synchronized automatically.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to increase the speed?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By default, Piraeus / Linstor / drbd show excellent performance (you can see this below). </font><font style="vertical-align: inherit;">The default settings are reasonable and safe. </font><font style="vertical-align: inherit;">However, the write speed was rather weak. </font><font style="vertical-align: inherit;">Since the servers in my case are scattered across different data centers (although physically they are relatively close), I decided to try to tune their performance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The starting point for optimization is defining a replication protocol. </font><font style="vertical-align: inherit;">By default, Protocol C is used, which waits for write confirmation on the remote secondary node. </font><font style="vertical-align: inherit;">The following is a description of the possible protocols:</font></font><br>
<br>
<ul>
<li> <b>Protocol A</b> ‚Äî   .        ,       ,        TCP-  .     ,    TCP  .      .</li>
<li> <b>Protocol B</b> ‚Äî   .        ,       ,       .</li>
<li> <b>Protocol C</b> ( ) ‚Äî   .                .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Because of this, in Linstor I also use the asynchronous protocol (it supports synchronous / semi-synchronous / asynchronous replication). </font><font style="vertical-align: inherit;">You can enable it with the following command:</font></font><br>
<br>
<pre><code class="bash hljs">linstor c drbd-options --protocol A --after-sb-0pri=discard-zero-changes  --after-sb-1pri=discard-secondary  --after-sb-2pri=disconnect --max-buffers 131072 --sndbuf-size 1085760 --rcvbuf-size 1085760 --c-max-rate 4194304 --c-fill-target 1048576</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The result of its implementation will be the activation of the asynchronous protocol and an increase in the buffer up to 1 MB. </font><font style="vertical-align: inherit;">It is relatively safe. </font><font style="vertical-align: inherit;">Or you can use the following command (it ignores disk flushes and significantly increases the buffer):</font></font><br>
<br>
<pre><code class="bash hljs">linstor c drbd-options --protocol A --after-sb-0pri=discard-zero-changes  --after-sb-1pri=discard-secondary  --after-sb-2pri=disconnect --max-buffers 131072 --sndbuf-size 10485760 --rcvbuf-size 10485760 --disk-barrier no --disk-flushes no --c-max-rate 4194304 --c-fill-target 1048576</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note that if the primary node fails, a small portion of the data may not reach the replicas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/rx/-a/udrx-adhl5wwiirzannlce1zakw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">During active recording, the node temporarily received outdated status using the ASYNC protocol</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testing</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All benchmarks were conducted using the following Job:</font></font><br>
<br>
<pre><code class="plaintext hljs">kind: PersistentVolumeClaim<font></font>
apiVersion: v1<font></font>
metadata:<font></font>
 name: dbench<font></font>
spec:<font></font>
 storageClassName:  STORAGE_CLASS<font></font>
 accessModes:<font></font>
   - ReadWriteOnce<font></font>
 resources:<font></font>
   requests:<font></font>
     storage: 5Gi<font></font>
---<font></font>
apiVersion: batch/v1<font></font>
kind: Job<font></font>
metadata:<font></font>
 name: dbench<font></font>
spec:<font></font>
 template:<font></font>
   spec:<font></font>
     containers:<font></font>
     - name: dbench<font></font>
       image: sotoaster/dbench:latest<font></font>
       imagePullPolicy: IfNotPresent<font></font>
       env:<font></font>
         - name: DBENCH_MOUNTPOINT<font></font>
           value: /data<font></font>
         - name: FIO_SIZE<font></font>
           value: 1G<font></font>
       volumeMounts:<font></font>
       - name: dbench-pv<font></font>
         mountPath: /data<font></font>
     restartPolicy: Never<font></font>
     volumes:<font></font>
     - name: dbench-pv<font></font>
       persistentVolumeClaim:<font></font>
         claimName: dbench<font></font>
 backoffLimit: 4</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The delay between the machines is as follows: </font></font><code>ttl=61 time=0.211 ms</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">The measured throughput between them was 943 Mbps. </font><font style="vertical-align: inherit;">All nodes are running Ubuntu 18.04. </font><i><font style="vertical-align: inherit;">Results ( </font></i><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">table on sheetsu.com</font></a></i><i><font style="vertical-align: inherit;"> )</font></i><font style="vertical-align: inherit;"> 
As can be seen from the table, Piraeus and StorageOS showed the best results. </font><font style="vertical-align: inherit;">The leader was Piraeus with two replicas and an asynchronous protocol.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/webt/le/ez/0k/leez0ktywscyuz0jyl_9gel2q6g.png"></a><br>
<i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></i><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">findings</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I made a simple and perhaps not too correct comparison of some storage solutions in Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Most of all I liked Longhorn because of its nice GUI and integration with Rancher. However, the results are not inspiring. Obviously, developers primarily focus on security and correctness, leaving speed for later. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For some time now I have been using Linstor / Piraeus in the production environments of some projects. So far, everything was fine: disks were created and deleted, nodes were restarted without downtime ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In my opinion, Piraeus is quite ready for use in production, but needs to be improved. I wrote about some bugs in the project channel in Slack, but in response they only advised me to teach Kubernetes (and this is correct, since I still do not understand it well). After a little correspondence, I still managed to convince the authors that there was a bug in their init script. Yesterday, after updating the kernel and rebooting, the node refused to boot. It turned out that compiling the script that integrates the drbd module into the kernel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">failed</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Rollback to the previous kernel version solved the problem.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That‚Äôs all, in general. </font><font style="vertical-align: inherit;">Given that they implemented it on top of drbd, it turned out to be a very reliable solution with excellent performance. </font><font style="vertical-align: inherit;">In case of any problems, you can directly contact drbd management and fix it. </font><font style="vertical-align: inherit;">On the Internet there are many questions and examples on this topic. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If I did something wrong, if something can be improved or you need help, contact me on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twitter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS from the translator</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Read also in our blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Longhorn, Rancher's distributed storage for K8s, transferred to CNCF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Our hands are not for boredom: restoring the Rook cluster in K8s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rook or not Rook - that‚Äôs the question</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=">     Kubernetes:  Flexvolume  CSI</a>¬ª.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en503700/index.html">Creating React Forms in 2020</a></li>
<li><a href="../en503702/index.html">Using Raw Data in Google Analytics in practice</a></li>
<li><a href="../en503704/index.html">Instead of 100 application launches - one autotest, or how to save a QA engineer 20 years of life</a></li>
<li><a href="../en503706/index.html">Why are these annoying weather rules needed to launch and land rockets?</a></li>
<li><a href="../en503710/index.html">PyDoma [PyData Moscow Meetup # 12]: May 26, 2020</a></li>
<li><a href="../en503716/index.html">Do you need clouds in space</a></li>
<li><a href="../en503718/index.html">Robot lawyer, garbage collection application and much more: online tube hackathon with online pizza conquers the crisis</a></li>
<li><a href="../en503720/index.html">DevOps vs DevSecOps: how it looked in one bank</a></li>
<li><a href="../en503724/index.html">Wi-Fi or twisted pair - which is better?</a></li>
<li><a href="../en503726/index.html">6 ways to significantly speed up pandas with a couple of lines of code. Part 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>