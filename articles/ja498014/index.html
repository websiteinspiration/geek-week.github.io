<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎴 🧑‍🤝‍🧑 ⛵️ PyDERASN：ビッグデータのサポートを追加したとき 👨🏿‍🔬 🕊️ 🧚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="PyDERASN -Pythonの無料のASN.1 DER / CER / BERコーデックに関する最後の記事を続けます。過去1年間、その執筆時点から、すべてのささいなこと、小さな修正、およびさらに厳密なデータ検証に加えて（以前は、私が知っている無料のコーデックの中で最も厳しいものでした）、大量のデ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>PyDERASN：ビッグデータのサポートを追加したとき</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498014/"><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyDERASN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -Pythonの無料のASN.1 DER / CER / BERコーデック</font><font style="vertical-align: inherit;">に関する最後の記事を続け</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">過去1年間、その執筆時点から、すべてのささいなこと、小さな修正、およびさらに厳密なデータ検証に加えて（以前は、私が知っている無料のコーデックの中で最も厳しいものでした）、大量のデータを操作するための機能がこのライブラリに表示されました-ないRAMに忍び込みます。</font><font style="vertical-align: inherit;">この記事でこれについてお話したいと思います。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/241/bae/4fc/241bae4fcfb5d7f0c3a605bf5f3211cb.png" alt="ASN.1ブラウザー"></div><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題/タスク</font></font></h2><br>
<ul>
<li><strong> CRL</strong>:<br>
,      (CA)         X.509 .    ,    CRL (certificate revocation list). CRL  CACert.org,  8.72 MiB,   PyDERASN-  Python 3.6      (    <em>asn1crypto</em>  <em>pyasn1</em>   ).      416 .  .    ,           .  .<br>
</li>
<li><strong> CMS</strong>:<br>
CMS (Cryptographic Message Syntax)    <br>
// . ,<br>
<em>SignedData</em>     ,   ,<br>
  ,   - <em>EnvelopedData</em> <br>
 .<br>
<br>
                 CMS. , CMS   detached data,     - ,         .  10 GiB    20 GiB   :       10 GiB      . .<br>
</li>
</ul><br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際にはどのASN.1オブジェクトがリソースを大量に消費する可能性があり、多くのメモリ領域を消費しますか？</font><font style="vertical-align: inherit;">多数のオブジェクト（CACert.orgの場合は数十万）とすべての種類の</font><em><font style="vertical-align: inherit;">*ストリング</font></em><font style="vertical-align: inherit;">（2番目の問題の場合と同様）</font><font style="vertical-align: inherit;">を含む</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SEQUENCE OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のみ</font><font style="vertical-align: inherit;">。プログラマーの長所の1つは怠惰（Larry Wallによると）であるため、ライブラリコードの最小限の変更でリソース消費の問題を克服しようとします。</font><em><font style="vertical-align: inherit;">*</font></em><font style="vertical-align: inherit;"> CODECの観点から見ると、</font><em><font style="vertical-align: inherit;">STRING</font></em><font style="vertical-align: inherit;">オブジェクトはほとんど同じで、1つの共通クラスによってライブラリに実装されています。</font><font style="vertical-align: inherit;">DERの</font><em><font style="vertical-align: inherit;">OCTET STRINGの</font></em><font style="vertical-align: inherit;">エンコーディングは何</font><font style="vertical-align: inherit;">ですか？</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><br>
<br>
<em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs">return tag + len_encode(len(value)) + value
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は常にRAMにある必要はありません。</font><font style="vertical-align: inherit;">長さを知ることができるバイトのようなオブジェクトである必要があります。</font></font><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memoryview</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はこれらの条件を満たす。</font><font style="vertical-align: inherit;">さらに、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メモリビュー</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">、メモリ内ですでに削減されている一時ファイルに対して</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><em><font style="vertical-align: inherit;">実行</font></em><font style="vertical-align: inherit;">できます</font><em><font style="vertical-align: inherit;">。CMS</font></em><font style="vertical-align: inherit;">データベースコピーの20 GiB 10 GiB要件は半分になっています</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。OCTETSTRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（またはその他の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">の値として指定すれば十分です。</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memoryviewに</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">似てい</font><em><font style="vertical-align: inherit;">ます</font></em><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">それを作成するために、PyDERASNにはヘルパー関数があります：</font></font><br>
<br>
<pre><code class="plaintext hljs">from pyderasn import file_mmaped<font></font>
with open("dump.sql.zst", "rb") as fd:<font></font>
    ... = OctetString(file_mmaped(fd))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大量のデータをデコードする場合は、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メモリビュー</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をデコードに使用すること</font><em><font style="vertical-align: inherit;">も</font></em><font style="vertical-align: inherit;">できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">from pyderasn import file_mmaped<font></font>
with open("dump.sql.zst", "rb") as fd:<font></font>
    obj = Schema.decode(file_mmaped(fd))<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
の問題は</font><font style="vertical-align: inherit;">部分的に解決される</font><font style="vertical-align: inherit;">と考えています</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">巨大なCRLの作成に戻ります。</font><font style="vertical-align: inherit;">その構造はどのようなものですか？</font></font><br>
<br>
<pre><code class="plaintext hljs">CertificateList SEQUENCE<font></font>
. tbsCertList: TBSCertList SEQUENCE<font></font>
. . version: Version INTEGER v2 (01) OPTIONAL<font></font>
. . signature: AlgorithmIdentifier SEQUENCE<font></font>
. . issuer: Name CHOICE rdnSequence<font></font>
. . thisUpdate: Time CHOICE utcTime<font></font>
. . nextUpdate: Time CHOICE utcTime OPTIONAL<font></font>
. . revokedCertificates: RevokedCertificates SEQUENCE OF OPTIONAL<font></font>
. . . 0: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 17 (11)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2003-04-01T14:25:08<font></font>
. . . 1: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 20 (14)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2002-10-01T02:18:01<font></font>
<font></font>
                                 [...]<font></font>
<font></font>
. . . 415753: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 1341859 (14:79:A3)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2020-02-08T06:51:56<font></font>
. . . 415754: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 1341860 (14:79:A4)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2020-02-08T06:53:01<font></font>
. . . 415755: RevokedCertificate SEQUENCE<font></font>
. . . . userCertificate: CertificateSerialNumber INTEGER 1341861 (14:79:A5)<font></font>
. . . . revocationDate: Time CHOICE utcTime UTCTime 2020-02-08T07:25:06<font></font>
. signatureAlgorithm: AlgorithmIdentifier SEQUENCE<font></font>
. signatureValue: BIT STRING 4096 bits<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小さな</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RevokedCertificate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構造の</font><font style="vertical-align: inherit;">長いリスト</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この場合、証明書のシリアル番号と失効時刻のみが含まれます。</font><font style="vertical-align: inherit;">そのDERコーディングは何ですか？</font></font><br>
<br>
<pre><code class="plaintext hljs">value = b"".join(revCert.encode() for revCert in revCerts)<font></font>
return tag + len_encode(len(value)) + value<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このリストの個々の要素のDER表現を連結しただけです。</font><font style="vertical-align: inherit;">15バイトのDER表現にシリアル化する過程で、これらの何十万ものオブジェクトを事前に用意する必要がありますか？</font><font style="vertical-align: inherit;">明らかにそうではありません。</font><font style="vertical-align: inherit;">したがって、オブジェクトのリストをイテレーター/ジェネレーターに置き換えます。</font><font style="vertical-align: inherit;">ほとんどの場合、CRLの作成はDBMSからのデータに基づいて行われます。</font></font><br>
<br>
<pre><code class="plaintext hljs">def revCertsGenerator(...):<font></font>
    for row in db.cursor:<font></font>
        yield RevokedCertificate((<font></font>
            ("userCertificate", CertificateSerialNumber(row.serial)),<font></font>
            ("revocationDate", Time(("utcTime", UTCTime(row.revdate)))),<font></font>
        ))<font></font>
<font></font>
crl["tbsCertList"]["revokedCertificates"] = revCertsGenerator()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなCRLを作成するときは、ほとんどメモリを消費しません。DER表現を操作する場所が必要なだけです。この場合、数十メガバイトについて話している（RevokedCertificateオブジェクトの半ギガバイトのリストとは対照的です）。</font><font style="vertical-align: inherit;">ただし、動作には違いがあります</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。SEQUENCEOF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイズチェック</font><font style="vertical-align: inherit;">は、反復子が使い果たされた後にのみ発生し、値を割り当てる時点では発生しません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DERストリーミングコーディング</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは無理だ。結局のところ、これはDERです。すべてのTLV（タグ+長さ+値）要素の長さが事前にわかっている必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、私はとても欲しいです！結局のところ、データベースコピーのDER表現を格納するには、依然として10 GiBのメモリが必要</font><font style="vertical-align: inherit;">です</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。raw = cms.encode（）</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">！理想的に</font><font style="vertical-align: inherit;">は、シリアル化された表現が書き込まれる</font><font style="vertical-align: inherit;">特定の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライター</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を伝えたい</font><font style="vertical-align: inherit;">です。多分ファイル記述子を転送し、長さの場所にプレースホルダーをファイルに残して、シークを実行してそれらを記入しますか？残念ながら、長さ（それぞれ、およびプレースホルダー）も事前にはわかりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PyDERASNは2パスDERエンコードの可能性を受け取りました。最初のパスでは、オブジェクトの長さに関する知識が収集され、一時的な状態が作成されます。 2つ目は</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストリーミングです</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライター</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へのDERエンコード</font><font style="vertical-align: inherit;">。長さの知識があるため、すでに可能です。これの実装は簡単で、各ASN.1基本タイプに2パスメソッドを少し追加するだけです。オブジェクトのトラバースは厳密に決定されるため（D-区別されます！）、次に、必要な長さを格納するために、オブジェクトのツリー全体がトラバースされるときに長さの値が追加される単純なリストが維持されます。一部のタイプでは、長さが固定されています。一部では、上流のコンテナー（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SEQUENCE</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SEQUENCE OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EXPLICIT TAG</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">に報告する場合にのみ必要です</font><font style="vertical-align: inherit;">。たとえば、2つの失効した証明書のリストの長さの状態は次のようになります。</font></font><br>
<br>
<pre><code class="plaintext hljs">revCert = RevokedCertificate((<font></font>
    ("userCertificate", CertificateSerialNumber(123)),<font></font>
    ("revocationDate", Time(("utcTime", UTCTime(datetime.utcnow())))),<font></font>
))<font></font>
revs = RevokedCertificates([revCert, revCert])<font></font>
<font></font>
(42, [40, 18, 18])<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RevokedCertificate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とリスト全体の</font><font style="vertical-align: inherit;">それぞれについてのみ、値の長さを知る必要があります</font><font style="vertical-align: inherit;">。状態の長さおよびエンコードされた時間（DERでは固定長）は、不要なものとして格納されません。その結果、CACert.org CRLの場合、このようなリストは3.5 MiBを少し超える程度になり、巨大なCMSの場合、ほとんどすべての重みがデータベースのコピーを持つ単一のフィールドにかかるため、約0.5 KiBかかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2パスエンコーディングは2つの呼び出しによって実行されます。</font></font><br>
<br>
<pre><code class="plaintext hljs">fulllen, state = obj.encode1st()<font></font>
with open("result", "wb") as fd:<font></font>
    obj.encode2nd(fd.write, iter(state))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のパスでは、データの全長も報告されます。これを使用して、空き領域を確認したり、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">posix_fallocate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">呼び出しで</font><font style="vertical-align: inherit;">データを割り当てることが</font><em><font style="vertical-align: inherit;">でき</font></em><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヘルパー関数</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encode2pass（obj）</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して、</font><font style="vertical-align: inherit;">メモリへの2パスエンコーディングを実行できます。何のために？ CACert.org CRLの場合、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b ""</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。Join </font><em><font style="vertical-align: inherit;">（）</font></em><font style="vertical-align: inherit;">呼び出しで</font><em><font style="vertical-align: inherit;">結合</font></em><font style="vertical-align: inherit;">された416k +小さなバイナリ行を格納しないため、メモリ消費量が大幅に節約でき</font><font style="vertical-align: inherit;">ます。ただし、すべてのオブジェクトを2回歩く必要があるため、これにはより多くのプロセッサ時間が必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、実質的にメモリを消費することなく、DERで任意の大きなCMSをエンコードできます。</font><font style="vertical-align: inherit;">ただし、CRLの場合、最初のパスの終了後に実行される証明書失効ジェネレーターを使用しました。</font><font style="vertical-align: inherit;">何をすべきか？</font><font style="vertical-align: inherit;">もう一度再初期化するだけです！</font></font><br>
<br>
<pre><code class="plaintext hljs">_, state = crl.encode1st()<font></font>
crl["tbsCertList"]["revokedCertificates"] = revCertsGenerator()<font></font>
crl.encode2nd(writer, iter(state))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、</font><font style="vertical-align: inherit;">イテレータの結果が完全に同じになること</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確認する</font><strong><font style="vertical-align: inherit;">義務</font></strong><font style="vertical-align: inherit;">があります。そうしないと、壊れたDERが返されます。</font><font style="vertical-align: inherit;">データがDBMSカーソルから取得される場合は、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REPEATABLE READ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トランザクションの分離レベルとソート</font><font style="vertical-align: inherit;">について忘れないでください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リアルストリームエンコーディング：CER</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご存じのように、DER（識別符号化規則）は、BER（基本符号化規則）のサブセットであり、符号化規則を1つの方法で厳密に規制します。これにより、暗号化タスクで使用できます。しかし、BERのもう1つの注目に値するサブセットがあります。CER（標準的なエンコードルール）です。 DERと同様に、データの表現は1つしかありません。 CERはDERといくつかの詳細が異なりますが、データのストリーミングエンコーディングを真に実行できます。残念ながら、CERはDERほど人気が​​ありませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あまり目立たない違い（SETでのタグの並べ替えなど）を省略した場合、CERにはDERとの2つの基本的な違いがあります。</font></font><br>
<br>
<ul>
<li>    (constructed,  )  indefinite  (<em>LENINDEF</em>   PyDERASN).  ,  <em>SEQUENCE</em>/<em>SET</em>, <em>SEQUENCE OF</em>/<em>SET OF</em>, <em>EXPLICIT TAG</em>-  :<br>
<br>
<pre><code class="plaintext hljs">TAG_CONSTRUCTED || LEN(VALUE) || VALUE
</code></pre><br>
 <em>LENINDEF</em> (0x80)  EOC ( ,  )   :<br>
<br>
<pre><code class="plaintext hljs">TAG_CONSTRUCTED || 80 || VALUE || 00 00
</code></pre><br>
</li>
<li><em>*STRING</em>-,    1000-,  chunk-  1000-. ,      ,   DER. , 512          DER:<br>
<br>
<pre><code class="plaintext hljs">TAG_PRIMITIVE || LEN(512) || 512B
</code></pre><br>
 2048  :<br>
<br>
<pre><code class="plaintext hljs">TAG_CONSTRUCTED || 80 ||<font></font>
    TAG_PRIMITIVE || LEN(1000) || 1000B ||<font></font>
    TAG_PRIMITIVE || LEN(1000) || 1000B ||<font></font>
    TAG_PRIMITIVE || LEN(48) || 48B || 00 00<font></font>
</code></pre></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらすべて（およびいくつかの小さなこと）により、ストリーミング（文字列用のバッファーが1000バイト）でオブジェクトをエンコードできます。同様に、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と反復子を</font><font style="vertical-align: inherit;">使用でき</font><font style="vertical-align: inherit;">ます。 CERエンコードは、単に</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.encode_cer（writer）</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドを</font><font style="vertical-align: inherit;">呼び出すことによって行われ</font><font style="vertical-align: inherit;">ます。残念ながら、PyDERASNはまだデコード中にCERの有効性を確認できないため、データをBERとしてデコードする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、CMS標準では、BERでのコーディングが必要です（DERとCERはどちらも自動で、BERです）。したがって、2パスDERを使用せずに、データベースの膨大なコピーをCER CMSにエンコードできます。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ただし</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SignedDataに</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、X.509 </font><em><font style="vertical-align: inherit;">証明書</font></em><font style="vertical-align: inherit;">と同様に、DERでエンコードされ</font><font style="vertical-align: inherit;">た</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SignedAttributes</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素</font><em><font style="vertical-align: inherit;">が</font></em><font style="vertical-align: inherit;">必要です。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">証明書。</font><font style="vertical-align: inherit;">PyDERASNを使用すると、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der_forced = True</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">属性を</font><font style="vertical-align: inherit;">追加するだけで、特定の構造でDERを強制的に使用できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストリームのデコード：evgenモード</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エンコードの方法を学びましたが、デコードに役立つのは</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mmap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">だけ</font><font style="vertical-align: inherit;">です。 「本当の」ストリームデコーダーは、「より多くのデータを与える」、「ここにいる」という形のコントロールノブを備えており、ある種の状態です。PyDERASNの根本的な変更が必要になります。そして、個人的には、現在のソリューションよりも便利だとは思いません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、現在のソリューションは非常に簡単です。復号化の過程で、さまざまな復号化されたプリミティブオブジェクトを手に入れます。それらから、他のコンポーネントなどの組み立てられた上位コンポーネント（構築済み）が組み立てられます。...オブジェクトを蓄積してそれらを合成させ、最上部に到達します。 1つの大きなオブジェクトを指定してください。あらゆる種類の</font><strong><font style="vertical-align: inherit;">デコードを</font></strong><font style="vertical-align: inherit;">すぐに「提供」しないのはなぜですか</font></font><strong><font style="vertical-align: inherit;"></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクト、それらが私たちの手に現れたらすぐに？</font><font style="vertical-align: inherit;">つまり、最終的なオブジェクトではなく、多くのデコードされたオブジェクトを生成するジェネレータを返します。</font><font style="vertical-align: inherit;">実際、PyDERASNでは現在、すべてのデコード方法がそのような「イベント」（イベント生成、evgen）のジェネレーターになっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
巨大なCACert.org CRLのevgen-decodingモードを有効にすると、次の図が表示されます。</font></font><br>
<br>
<pre><code class="plaintext hljs">$ python -m pyderasn --schema tests.test_crl:CertificateList --evgen revoke.crl<font></font>
[][T,L,  V len]<font></font>
     10   [1,1,      1]   . . version: Version INTEGER v2 (01) OPTIONAL<font></font>
     15   [1,1,      9]   . . . algorithm: OBJECT IDENTIFIER 1.2.840.113549.1.1.13<font></font>
     26   [0,0,      2]   . . . parameters: [UNIV 5] ANY OPTIONAL<font></font>
     13   [1,1,     13]   . . signature: AlgorithmIdentifier SEQUENCE<font></font>
     34   [1,1,      3]   . . . . . . type: AttributeType OBJECT IDENTIFIER 2.5.4.10<font></font>
     39   [0,0,      9]   . . . . . . value: [UNIV 19] AttributeValue ANY<font></font>
     32   [1,1,     14]   . . . . . 0: AttributeTypeAndValue SEQUENCE<font></font>
     30   [1,1,     16]   . . . . 0: RelativeDistinguishedName SET OF<font></font>
<font></font>
                                 [...]<font></font>
<font></font>
    188   [1,1,      1]   . . . . userCertificate: CertificateSerialNumber INTEGER 17 (11)<font></font>
    191   [1,1,     13]   . . . . . utcTime: UTCTime UTCTime 2003-04-01T14:25:08<font></font>
    191   [0,0,     15]   . . . . revocationDate: Time CHOICE utcTime<font></font>
    191   [1,1,     13]   . . . . . utcTime: UTCTime UTCTime 2003-04-01T14:25:08<font></font>
    186   [1,1,     18]   . . . 0: RevokedCertificate SEQUENCE<font></font>
    208   [1,1,      1]   . . . . userCertificate: CertificateSerialNumber INTEGER 20 (14)<font></font>
    211   [1,1,     13]   . . . . . utcTime: UTCTime UTCTime 2002-10-01T02:18:01<font></font>
    211   [0,0,     15]   . . . . revocationDate: Time CHOICE utcTime<font></font>
    206   [1,1,     18]   . . . 1: RevokedCertificate SEQUENCE<font></font>
<font></font>
                                 [...]<font></font>
<font></font>
9144992   [0,0,     15]   . . . . revocationDate: Time CHOICE utcTime<font></font>
9144985   [1,1,     20]   . . . 415755: RevokedCertificate SEQUENCE<font></font>
    181   [1,4,9144821]   . . revokedCertificates: RevokedCertificates SEQUENCE OF OPTIONAL<font></font>
      5   [1,4,9144997]   . tbsCertList: TBSCertList SEQUENCE<font></font>
9145009   [1,1,      9]   . . algorithm: OBJECT IDENTIFIER 1.2.840.113549.1.1.13<font></font>
9145020   [0,0,      2]   . . parameters: [UNIV 5] ANY OPTIONAL<font></font>
9145007   [1,1,     13]   . signatureAlgorithm: AlgorithmIdentifier SEQUENCE<font></font>
9145022   [1,3,    513]   . signatureValue: BIT STRING 4096 bits<font></font>
      0   [1,4,9145534]  CertificateList SEQUENCE<font></font>
</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デコードの最初に、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CertificateList </font></font></em> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SEQUENCE</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タグ（データ長）を確認しましたが、オブジェクトを最後までデコードできるかどうかはまだ</font><font style="vertical-align: inherit;">わかり</font><font style="vertical-align: inherit;">ません。</font><font style="vertical-align: inherit;">これまでのところ、私たちはそれに取り組んでいるだけです。</font></font></li>
<li>    <em>SEQUENCE</em>:  <em>version</em>,     <em>INTEGER</em>.   .   ,      . ( <strong>10</strong>)</li>
<li>   <em>signature</em>,  <em>SEQUENCE</em>-   : <em>algorithm</em>  <em>parameters</em>.   <em>OBJECT IDENTIFIER</em>  <em>ANY</em>     . ( <strong>15</strong>, <strong>26</strong>)</li>
<li>   ,  ,   <em>signature</em> <em>SEQUENCE</em>    ,    ,    :  . ( <strong>13</strong>)</li>
<li>,   <em>RevokedCertificate</em>        . ( <strong>186</strong>, <strong>206</strong>,  ..)</li>
<li> <em>tbsCertList</em>       . ( <strong>5</strong>)</li>
<li> <em>CertificateList</em>,   <em>SEQUENCE</em>,  ,        ,         . ( <strong>0</strong>)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、すべての</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">およびリスト（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）は実際の意味を持ちません。</font><font style="vertical-align: inherit;">DERの場合、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.offset</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.vlenが分かれ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ば、ファイル（メモリの一部）から行の値を読み取ることができます。</font><font style="vertical-align: inherit;">シーケンスオブジェクトは、すべてのイベントを受信しながら、必要に応じて収集および集約できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デコードされたパスとevgen_mode_upto</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのようなオブジェクト、どの</font><font style="vertical-align: inherit;">ような</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTEGER</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が手元にあるか</font><font style="vertical-align: inherit;">を理解するにはどうすればよい</font><font style="vertical-align: inherit;">ですか？</font><font style="vertical-align: inherit;">各オブジェクトには独自のいわゆるデコードパスがあり、構造内の特定のオブジェクトを一意に識別します。</font><font style="vertical-align: inherit;">たとえば、CACert.org CRLデコードパスイベントの場合：</font></font><br>
<br>
<pre><code class="plaintext hljs">tbsCertList:version<font></font>
tbsCertList:signature:algorithm<font></font>
tbsCertList:signature:parameters<font></font>
tbsCertList:signature<font></font>
tbsCertList:issuer:rdnSequence:0:0:type<font></font>
                                 [...]<font></font>
tbsCertList:issuer:rdnSequence<font></font>
tbsCertList:issuer<font></font>
                                 [...]<font></font>
tbsCertList:revokedCertificates:0:userCertificate<font></font>
tbsCertList:revokedCertificates:0:revocationDate:utcTime<font></font>
tbsCertList:revokedCertificates:0:revocationDate<font></font>
tbsCertList:revokedCertificates:0<font></font>
tbsCertList:revokedCertificates:1:userCertificate<font></font>
tbsCertList:revokedCertificates:1:revocationDate:utcTime<font></font>
tbsCertList:revokedCertificates:1:revocationDate<font></font>
tbsCertList:revokedCertificates:1<font></font>
                                 [...]<font></font>
tbsCertList:revokedCertificates:415755:userCertificate<font></font>
tbsCertList:revokedCertificates:415755:revocationDate:utcTime<font></font>
tbsCertList:revokedCertificates:415755:revocationDate<font></font>
tbsCertList:revokedCertificates:415755<font></font>
tbsCertList:revokedCertificates<font></font>
tbsCertList<font></font>
signatureAlgorithm:algorithm<font></font>
signatureAlgorithm:parameters<font></font>
signatureAlgorithm<font></font>
signatureValue<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、このCRLから証明書失効シリアル番号のリストを出力する方法です。</font></font><br>
<br>
<pre><code class="plaintext hljs">raw = file_mmaped(open("....crl", "rb"))<font></font>
for decode_path, obj, tail in CertificateList().decode_evgen(raw):<font></font>
    if (len(decode_path) == 5) and (decode_path[-1] == "userCertificate"):<font></font>
        print(int(obj))<font></font>
</code></pre><br><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RevokedCertificate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
構造に</font><font style="vertical-align: inherit;">は、さまざまな拡張機能を含む多くの情報を含めることができます。</font><font style="vertical-align: inherit;">純粋に技術的には、失効した証明書に関するすべてのデータをevgenモードで取得しますが、1つの</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revokedCertificates</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素に関連するイベントを集約すること</font><font style="vertical-align: inherit;">はあまり便利で</font><em><font style="vertical-align: inherit;">はあり</font></em><font style="vertical-align: inherit;">ません。</font><font style="vertical-align: inherit;">実際には、</font><font style="vertical-align: inherit;">最後の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RevokedCertificate</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">それぞれ</font><font style="vertical-align: inherit;">大きなスペースをとらないので、すべてを同じにして、すべてのオブジェクトがイベントに完全に「分類」されるわけではないのは素晴らしいことです。</font><font style="vertical-align: inherit;">PyDERASNを使用すると、evgenモードが無効になっているデコードパスをリストで指定できます。</font><font style="vertical-align: inherit;">したがって</font><font style="vertical-align: inherit;">、完全な</font><em><font style="vertical-align: inherit;">RevokedCertificate</font></em><font style="vertical-align: inherit;">オブジェクト</font><font style="vertical-align: inherit;">を取得する</font><font style="vertical-align: inherit;">デコードパス（</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（ "tbsCertList"、 "revokedCertificates"）</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト</font><font style="vertical-align: inherit;">からの任意の要素）を設定でき</font><font style="vertical-align: inherit;">ます。</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="plaintext hljs">for decode_path, obj, _ in CertificateList().decode_evgen(raw, ctx={<font></font>
    "evgen_mode_upto": (<font></font>
        (("tbsCertList", "revokedCertificates", any), True),<font></font>
    ),<font></font>
}):<font></font>
    if (len(decode_path) == 3) and (decode_path[1] == "revokedCertificates"):<font></font>
        print(int(obj["userCertificate"]))<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">集計文字列：agg_octet_string</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、任意のサイズのオブジェクトをデコードする問題は発生しません。データベースのコピーを使用してDERエンコードされたCMSをデコードすることにも問題はありません。CMS内の署名/暗号化されたデータを指すデコードパスのイベントを待機し、オフセット+ vlenを使用してファイルからのデータを処理します。しかし、CMSがCER形式の場合はどうなりますか？その場合、offset + vlenは役に立ちません。10GiBはすべてDERヘッダーによって1000バイトの断片に分割されるためです。しかし、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の入れ子が</font><em><font style="vertical-align: inherit;">何であって</font></em><font style="vertical-align: inherit;">もよい</font><font style="vertical-align: inherit;">BERがある場合は</font><font style="vertical-align: inherit;">どうでしょうか。</font></font><br>
<br>
<pre><code class="plaintext hljs">SOME STRING[CONSTRUCTED]<font></font>
    OCTET STRING[CONSTRUCTED]<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
    OCTET STRING[PRIMITIVE]<font></font>
        DATA CHUNK<font></font>
    OCTET STRING[CONSTRUCTED]<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
        OCTET STRING[PRIMITIVE]<font></font>
            DATA CHUNK<font></font>
    OCTET STRING[CONSTRUCTED]<font></font>
        OCTET STRING[CONSTRUCTED]<font></font>
            OCTET STRING[PRIMITIVE]<font></font>
                DATA CHUNK<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
evgenモードでデコードする場合、各ピースに対して対応するイベントを取得し、プリミティブ（構築されていない）</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* STRING</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベント</font><font style="vertical-align: inherit;">のみを収集するだけで十分です</font><font style="vertical-align: inherit;">。ここで、offset + vlenには実際のデータが含まれます。 PyDERASNには、</font><font style="vertical-align: inherit;">これを実行</font><font style="vertical-align: inherit;">する便利なヘルパー</font><font style="vertical-align: inherit;">関数</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agg_octet_string</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります。彼女がイベントジェネレーターを渡すだけで十分です。デコードパスは、文字列、バイナリデータ（または</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memoryview</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、および</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライター</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">データを受信するたびに呼び出される関数</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を集約する必要が</font><font style="vertical-align: inherit;">あります。 SHA512ハッシュを計算すると同時に、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">encapContentInfo.eContent</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CMSの</font><font style="vertical-align: inherit;">コンテンツを保存し</font><font style="vertical-align: inherit;">ますか？</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツ</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールドの</font><font style="vertical-align: inherit;">場所を検索し</font><font style="vertical-align: inherit;">ます（</font><em><font style="vertical-align: inherit;">SignedData</font></em><font style="vertical-align: inherit;">が配置される場所）</font></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、CERの内容をデコードし、同時にFSへの書き込みとハッシュを行います。</font></font><br>
<br>
<pre><code class="plaintext hljs">fdIn = open("data.p7m", "rb")<font></font>
raw = file_mmaped(fdIn)<font></font>
for decode_path, obj, _ in ContentInfo().decode_evgen(raw, ctx={"bered": True}):<font></font>
    if decode_path == ("content",):<font></font>
        content = obj<font></font>
        break<font></font>
hasher_state = sha512()<font></font>
fdOut = open("dump.sql.zst", "wb")<font></font>
def hash_n_save(data):<font></font>
    write_full(fdOut, data)<font></font>
    hasher_state.update(data)<font></font>
    return len(data)<font></font>
evgens = SignedData().decode_evgen(<font></font>
    raw[content.offset:],<font></font>
    offset=content.offset,<font></font>
    ctx={"bered": True},<font></font>
)<font></font>
agg_octet_string(evgens, ("encapContentInfo", "eContent"), raw, hash_n_save)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、別の</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">write_full</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーティリティが</font><em><font style="vertical-align: inherit;">使用されて</font></em><font style="vertical-align: inherit;">います。これは</font><font style="vertical-align: inherit;">、すべてのデータが書き込まれるまで</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライター</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を呼び出します。これは</font><font style="vertical-align: inherit;">、通常、ファイルに書き込む場合、OSは転送されたすべてのデータを処理する必要はなく、完全に書き込まれるまでプロセスを続行する必要があるためです。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET OFについて愛情のこもったカップル</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
純粋に技術的には、</font><font style="vertical-align: inherit;">すべての要素のエンコードされた表現をソートする必要があるため</font><font style="vertical-align: inherit;">、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をDERおよびCERエンコードでその場でエンコードすることはできません。</font><font style="vertical-align: inherit;">CERも2パスDERもここでは役に立ちません。</font><font style="vertical-align: inherit;">したがって、最新のASN.1標準では、</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（DERで同様のソートが必要）と</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SET OF</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の両方の使用は推奨されていません</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、記事の最初のこの写真は何ですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インタラクティブで気取らない</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASN.1ブラウザが登場し</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たのはPyDERASNで、</font><font style="vertical-align: inherit;">個人的に複雑な構造のハンドラを書くのに数回役立ちました。</font><font style="vertical-align: inherit;">デコードされた構造全体を歩き回って、各オブジェクトの完全な詳細、バイナリデータ内のその場所、デコードパスを表示できます。</font><font style="vertical-align: inherit;">さらに、CMSに含まれている証明書やCRLなど、別のファイルにアイテムを保存できます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sergey </font></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matveev</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">サイファパンク</font></a><font style="vertical-align: inherit;">、Python / Go開発者、FSUE「科学および技術センター」アトラスの主任スペシャリスト。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja498000/index.html">自分のゲームを開発する前に知っておきたいこと</a></li>
<li><a href="../ja498002/index.html">Z3のポケットガイド</a></li>
<li><a href="../ja498004/index.html">Dockerコンテナー内のワークステーション</a></li>
<li><a href="../ja498006/index.html">弁理士の選択</a></li>
<li><a href="../ja498012/index.html">Qemuを使用したDockerのMikrotik RouterOS</a></li>
<li><a href="../ja498018/index.html">マイクロサービスアーキテクチャのオンライン分析：Postgres FDWのヘルプと提案̶ポストポストPostп̶р̶о̶с̶т̶и̶тиь̶</a></li>
<li><a href="../ja498020/index.html">急速に成長している機能の視覚的評価に適用可能な1つの指標について</a></li>
<li><a href="../ja498022/index.html">モバイル＃341開発者向けの興味深い資料のダイジェスト（4月13〜19日）</a></li>
<li><a href="../ja498024/index.html">HoudiniとPythonでマウスをクリックするだけで都市を構築</a></li>
<li><a href="../ja498026/index.html">FOSSニュースNo. 12-2020年4月13〜19日の無料およびオープンソースニュースのレビュー</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>