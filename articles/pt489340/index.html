<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº ‚è±Ô∏è ü§¥üèº Como a unidade m√°xima de transmiss√£o de informa√ß√µes na Internet se tornou 1500 bytes üë®üèæ‚Äçü§ù‚Äçüë®üèª üíª üí†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A Ethernet est√° em todo lugar, e dezenas de milhares de fabricantes produzem equipamentos com seu suporte. No entanto, quase todos esses dispositivos ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como a unidade m√°xima de transmiss√£o de informa√ß√µes na Internet se tornou 1500 bytes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489340/"><img src="https://habrastorage.org/getpro/habr/post_images/e03/a1c/027/e03a1c027a2b0fee98e0474792712a88.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Ethernet est√° em todo lugar, e dezenas de milhares de fabricantes produzem equipamentos com seu suporte. </font><font style="vertical-align: inherit;">No entanto, quase todos esses dispositivos t√™m um n√∫mero comum - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MTU</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="bash hljs">$ ip l<font></font>
1: lo: &lt;LOOPBACK,UP,LOWER_UP&gt; mtu 65536 state UNKNOWN<font></font>
    link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00<font></font>
2: enp5s0: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 state UP <font></font>
    link/ether xx:xx:xx:xx:xx:xx brd ff:ff:ff:ff:ff:ff</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MTU (Maximum Transmission Unit) define o tamanho m√°ximo de um pacote de dados individual. No caso geral, quando voc√™ troca mensagens com dispositivos na sua LAN, o MTU ter√° um tamanho de cerca de 1500 bytes e a Internet inteira tamb√©m funcionar√° quase inteiramente com um tamanho de 1500 B. No entanto, isso n√£o significa que essas tecnologias de comunica√ß√£o n√£o possam transmitir pacotes maiores.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, no 802.11 (mais conhecido como WiFi), o MTU √© de 2304 bps e, se sua rede usa FDDI, seu MTU √© de 4352 bps. </font><font style="vertical-align: inherit;">A pr√≥pria Ethernet tem o conceito de "quadros gigantes", quando √© poss√≠vel atribuir ao MTU um tamanho de at√© 9000 bps (com o suporte desse modo de NIC, comutadores e roteadores). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, na Internet, isso n√£o √© particularmente necess√°rio. </font><font style="vertical-align: inherit;">Como os principais troncos da Internet s√£o principalmente conex√µes Ethernet, o tamanho m√°ximo n√£o oficial de pacotes √© definido como 1500 B para evitar a fragmenta√ß√£o de pacotes em outros dispositivos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O n√∫mero 1500 em si √© estranho - seria de esperar que as constantes no mundo dos computadores fossem baseadas em pot√™ncias de dois, por exemplo. </font><font style="vertical-align: inherit;">Ent√£o, de onde veio o 1500 B e por que ainda os usamos?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√∫mero m√°gico</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira grande inova√ß√£o da Ethernet no mundo ocorreu na forma dos padr√µes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10BASE-2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (fino) e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10BASE-5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (grosso), os n√∫meros nos quais indicam quantas centenas de metros um √∫nico segmento de rede pode cobrir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como havia muitos protocolos concorrentes na √©poca e o ferro tinha suas pr√≥prias limita√ß√µes, o criador do formato admite que os requisitos de mem√≥ria de buffer de pacote tiveram um papel na apar√™ncia do n√∫mero m√°gico 1500: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Olhando para tr√°s, fica claro que um m√°ximo maior pode ter sido a melhor solu√ß√£o, no entanto, se aument√°ssemos o custo das placas de rede (controladores de rede) nos est√°gios iniciais, isso impediria que a Ethernet se espalhasse t√£o amplamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, esta n√£o √© a hist√≥ria toda. No </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trabalho</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúEthernet: comuta√ß√£o de pacotes distribu√≠dos em redes locais de computadores‚Äù 1980, uma das primeiras an√°lises da efici√™ncia do uso de pacotes de pacotes grandes em redes. Naquele momento, isso era especialmente importante para redes Ethernet, pois elas podiam conectar todos os sistemas com um cabo coaxial ou consistir em hubs capazes de enviar um pacote de cada vez para todos os n√≥s de um segmento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Era necess√°rio escolher um n√∫mero que apresentasse atrasos n√£o muito altos ao transmitir mensagens em segmentos (√†s vezes bastante ocupados) e, ao mesmo tempo, n√£o aumentaria muito o n√∫mero de pacotes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aparentemente, os engenheiros da √©poca escolheram o n√∫mero 1500 B (cerca de 12000 bits) como a op√ß√£o mais "segura".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde ent√£o, v√°rios outros sistemas de mensagens apareceram e desapareceram, mas entre eles a Ethernet teve o menor valor de MTU desde 1500 B. Para exceder o valor m√≠nimo de MTU na rede significa causar fragmenta√ß√£o de pacotes ou se envolver no PMTUD [procure o tamanho m√°ximo de pacote para caminho selecionado]. </font><font style="vertical-align: inherit;">Ambas as op√ß√µes tiveram seus pr√≥prios problemas particulares. </font><font style="vertical-align: inherit;">Mesmo que, √†s vezes, os principais fabricantes de sistemas operacionais reduzam ainda mais o valor da MTU.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fator de desempenho</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora sabemos que o MTU na Internet √© limitado a 1.500 B, em grande parte devido a antigas limita√ß√µes de lat√™ncia e hardware. Quanto isso afeta o desempenho da Internet? </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/abc/7a7/252/abc7a725277cc8cea3fcd7ef2031d8f3.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ observar os dados de um grande ponto de troca de tr√°fego da Internet AMS-IX, veremos que pelo menos 20% dos pacotes transmitidos t√™m um tamanho m√°ximo. Voc√™ tamb√©m pode observar o tr√°fego total da LAN: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/781/958/d18/781958d18d8acef10c22a90468d9a13a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ combinar os dois gr√°ficos, obter√° algo como o seguinte (estimativa de tr√°fego para cada intervalo de tamanhos de pacotes): </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/582/396/30b/58239630b238bc207cb768753d6211d4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou, se voc√™ observar o tr√°fego de todos esses cabe√ßalhos e outras informa√ß√µes de servi√ßo, obteremos o mesmo gr√°fico com outro escala:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3a8/bdb/a77/3a8bdba77bc55077fe2eb5095454a4d8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grande parte da largura de banda √© gasta em cabe√ßalhos para pacotes da maior classe de tamanho. </font><font style="vertical-align: inherit;">Como no pico do tr√°fego, os maiores custos indiretos s√£o 246 Gb / s, pode-se presumir que, se todos mud√°ssemos para "quadros gigantes" quando essa possibilidade ainda existia, esses custos indiretos seriam de apenas 41 Gb / s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas acho que hoje, na maior parte da Internet, esse trem j√° saiu. </font><font style="vertical-align: inherit;">E embora alguns provedores trabalhem com MTU igual a 9000, a maioria n√£o o suporta, e tentar mudar algo globalmente na Internet provou ser extremamente dif√≠cil de tempos em tempos.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt489310/index.html">Top 10: os melhores relat√≥rios de Heisenbug 2019 Moscou</a></li>
<li><a href="../pt489326/index.html">Reflex√µes sobre testes corporativos eficazes</a></li>
<li><a href="../pt489328/index.html">Nulo se esgueirou: quebrando a op√ß√£o Scala usando Java</a></li>
<li><a href="../pt489332/index.html">Assistentes essenciais na intelig√™ncia do servi√ßo de intelig√™ncia mais eficaz do mundo (parte 3)</a></li>
<li><a href="../pt489336/index.html">Interface Bikes Toxic Grandfather. ‚ÄúAprenda, estude e estude novamente‚Äù (s1 e3)</a></li>
<li><a href="../pt489342/index.html">Cria√ß√£o de infraestrutura de TI tolerante a falhas. Parte 4. Implantando switches Cisco 3850 para roteamento de gateway</a></li>
<li><a href="../pt489344/index.html">N√£o deixando rastro</a></li>
<li><a href="../pt489352/index.html">O que posso aprender sobre o Domain Driven Design em 10 minutos?</a></li>
<li><a href="../pt489354/index.html">IdentityServer4. Conceitos B√°sicos. OpenID Connect, OAuth 2.0 e JWT</a></li>
<li><a href="../pt489356/index.html">CI / CD na AWS, Azure e Gitlab. Novo curso da OTUS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>