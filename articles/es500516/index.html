<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•â üßîüèΩ ‚öñÔ∏è Transferencia r√°pida desde mensajer√≠a instant√°nea - QIWI Android Wallet üåæ üì¶ ‚òùüèø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬°Hola! 
 
 Mi nombre es Alex, soy desarrollador en QIWI. 
 
 TL; DR
 
 C√≥mo transferir desde el messenger directamente al formulario de pago:
 
 

1. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Transferencia r√°pida desde mensajer√≠a instant√°nea - QIWI Android Wallet</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/qiwi/blog/500516/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Hola! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mi nombre es Alex, soy desarrollador en QIWI. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TL; DR</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
C√≥mo transferir desde el messenger directamente al formulario de pago:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En el manifiesto ponemos una Actividad c vac√≠a del </font></font><code>intent-filter </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tipo </font></font><code>ACTION_VIEW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code> ACTION_DIAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con el esquema "tel".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En actividad, transferimos al formulario de pago a trav√©s del enlace profundo existente, enriqueci√©ndolo con datos del original</font></font><code> intent- ‚Äútel:XXXXX‚Äù</code></li>
</ol><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/8k/j_/il/8kj_ilpgmgyxhelzbnj0nmo8wim.jpeg"></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beneficio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : al hacer clic en el n√∫mero de tel√©fono resaltado en el messenger, una persona obtiene el formulario de transferencia con el campo completado del destinatario de la transferencia. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonificaci√≥n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : te dir√© lo maravilloso que es habilitar esta funci√≥n, sin poder cambiar la lista de filtros de intenci√≥n en el manifiesto en tiempo de ejecuci√≥n.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øPara qu√©?</font></font></h2><br>
<a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Supongamos que una persona tiene la tarea de transferir dinero para un regalo de cumplea√±os colectivo. La parte receptora puede elegir opciones de transferencia convenientes: transferencia a una tarjeta, billetera electr√≥nica, transferencia directa a una cuenta u otra cosa. Muchas compa√±√≠as que brindan servicios de traducci√≥n aceptan un n√∫mero de tel√©fono como identificador de usuario secundario o primario. Para evitar transferencias err√≥neas, el destinatario puede transmitir su n√∫mero de tel√©fono por mensaje de texto: correo electr√≥nico, mensajer√≠a instant√°nea o SMS. El mensaje tambi√©n indica el sistema necesario para la traducci√≥n.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una ruta de usuario t√≠pica es copiar el n√∫mero de tel√©fono del messenger y pegarlo en la aplicaci√≥n para su traducci√≥n. </font><font style="vertical-align: inherit;">Esta forma implica cambiar entre aplicaciones, posiblemente accediendo al escritorio e incluso buscando entre las aplicaciones instaladas del proveedor de servicios de traducci√≥n. </font><font style="vertical-align: inherit;">¬øEs posible acortar este camino reduciendo el n√∫mero de pasos? </font><font style="vertical-align: inherit;">Hay una opci√≥n</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teor√≠a</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muchos mensajeros instant√°neos en tel√©fonos inteligentes reconocen los n√∫meros de tel√©fono y los resaltan en forma de hiperv√≠nculo. Por defecto, existe una aplicaci√≥n para procesar este tipo de enlaces en cualquier dispositivo m√≥vil con un m√≥dulo GSM. Por lo general, se llama "tel√©fono". En Android, la capacidad de procesar un n√∫mero de tel√©fono compartido se declara en AndroidManifest. Ejemplos de aplicaciones: "Tel√©fono", Viber, Skype. Si intercepta estos eventos, puede proporcionar inmediatamente al usuario una lista de posibles acciones con un n√∫mero de tel√©fono. En nuestro caso, esta ser√° una oferta de transferencia a trav√©s de QIWI Wallet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos interesados ‚Äã‚Äãen eventos con tipos </font></font><code>Intent.ACTION_VIEW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Intent.ACTION_DIAL,</code><code> Intent.ACTION_CALL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">con el esquema tel. Evento</font></font><code>Intent.ACTION_CALL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tiene restricciones en la pol√≠tica de seguridad de Android y su inicializaci√≥n requiere permiso del usuario a partir de la versi√≥n de Marshmallow inclusive. De acuerdo con nuestros mensajeros de investigaci√≥n usando m√°s general </font></font><code>Intent.ACTION_VIEW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>Intent.ACTION_DIAL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existen varios tipos similares espec√≠ficamente para tel√©fonos de emergencia, pero claramente este no es nuestro caso. El cuerpo de la intenci√≥n tiene la forma "tel: 12345678". Este tipo de intenci√≥n no se puede procesar </font></font><code>android.content.UriMatcher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, porque falta el host aqu√≠. La forma m√°s f√°cil de manejar este tipo de Uri es preguntarlo </font></font><code>schemeSpecificPart </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y verificar si es un n√∫mero de tel√©fono v√°lido.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La lista de filtros intencionales debe especificarse en AndroidManifest, es imposible cambiarla durante la ejecuci√≥n de la aplicaci√≥n. ¬øC√≥mo deshabilitar esta funci√≥n de forma remota? La primera opci√≥n es rechazar la solicitud del usuario en el momento en que se abri√≥ la Actividad, con un mensaje o simplemente cerrar la aplicaci√≥n. Desde nuestro punto de vista, este no es el mejor UX, ya que interrumpiremos el flujo del usuario en el medio. Es mejor si no dejamos que una persona elija nuestra aplicaci√≥n, si la funcionalidad est√° deshabilitada. Es m√°s f√°cil deshabilitar el componente con la lista de filtro de intenci√≥n en tiempo de ejecuci√≥n, esto no le dar√° al usuario ninguna promesa falsa en la interfaz del sistema. Cuando utilice el PackageManager, tenga en cuenta que verificar la inclusi√≥n de componentes no es muy confiable. Es preferible </font></font><code>enabled </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">forzar el </font><font style="vertical-align: inherit;">indicador de </font><font style="vertical-align: inherit;">un componente sin depender de su estado actual utilizando valores</font></font><code>COMPONENT_ENABLED_STATE_ENABLED </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>COMPONENT_ENABLED_STATE_DISABLED</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Los cambios realizados a trav√©s del PackageManager se guardan hasta que la aplicaci√≥n se desinstala del dispositivo.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√°ctica</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para deshabilitar la funci√≥n, necesitamos un componente de Android para deshabilitarla. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La forma m√°s f√°cil es usar una Actividad vac√≠a, que haremos. </font><font style="vertical-align: inherit;">Si decide utilizar el Servicio con un conjunto similar de filtros de intenci√≥n, consulte las gu√≠as de Google, que dicen espec√≠ficamente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"no declare filtros de intenci√≥n para sus servicios"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tenga en cuenta que, de forma predeterminada, el componente est√° deshabilitado:</font></font><code>android:enabled="false"</code><br>
<br>
<pre><code class="javascript hljs">  &lt;activity
            <span class="hljs-attr">android</span>:name=<span class="hljs-string">".messengerP2P.view.MessengerP2PActivity"</span>
            <span class="hljs-attr">android</span>:configChanges=<span class="hljs-string">"orientation"</span>
            <span class="hljs-attr">android</span>:label=<span class="hljs-string">"@string/title_activity_messenger_p2_p"</span>
            <span class="hljs-attr">android</span>:enabled=<span class="hljs-string">"false"</span>
            <span class="hljs-attr">android</span>:screenOrientation=<span class="hljs-string">"portrait"</span>&gt;<font></font>
            &lt;!-- Open shared telephone number <span class="hljs-keyword">as</span> dial application --&gt;
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">intent-filter</span>

                <span class="hljs-attr">android:label</span>=<span class="hljs-string">"@string/title_activity_messenger_p2_p"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.VIEW"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.action.DIAL"</span> /&gt;</span>

                <span class="hljs-tag">&lt;<span class="hljs-name">category</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.intent.category.DEFAULT"</span> /&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">data</span> <span class="hljs-attr">android:scheme</span>=<span class="hljs-string">"tel"</span> /&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">intent-filter</span>&gt;</span></span>
        &lt;/activity&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La actividad en s√≠ misma simplemente redirige a la forma de pago a trav√©s de diplinks existentes.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessengerP2PActivity</span> : <span class="hljs-title">Activity</span>() </span>{<font></font>
<font></font>
    override fun onCreate(savedInstanceState: Bundle?) {<font></font>
        <span class="hljs-keyword">super</span>.onCreate(savedInstanceState)
        <span class="hljs-keyword">var</span> phoneNumberFromDial: <span class="hljs-built_in">String</span>? = intent?.data?.schemeSpecificPart<font></font>
        phoneNumberFromDial?.let {<font></font>
            <span class="hljs-keyword">if</span> (ru.mw.utils.Utils<font></font>
                    .isPhoneNumber(phoneNumberFromDial)) {<font></font>
                val phoneNumberFromDialLink = PaymentActivity.getUriForProviderId(<font></font>
                        resources.getInteger(R.integer.providerIdQiwiWallet).toLong(), <span class="hljs-literal">null</span>, <span class="hljs-literal">null</span>)<font></font>
                    .buildUpon()<font></font>
                    .appendQueryParameter(PaymentActivity.QUERY_PARAM_ACCOUNT, phoneNumberFromDial)<font></font>
                startActivity(<font></font>
                    Intent(Intent.ACTION_VIEW, phoneNumberFromDialLink.build()))<font></font>
            }<font></font>
        }<font></font>
        finish()<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El android: bandera habilitada puede ser controlada por esta clase auxiliar.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> android.content.ComponentName
<span class="hljs-keyword">import</span> android.content.Context
<span class="hljs-keyword">import</span> android.content.pm.PackageManager<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MessengerP2PUtils</span> </span>{<font></font>
<font></font>
    companion object {<font></font>
        private <span class="hljs-keyword">const</span> val componentName = <span class="hljs-string">"ru.mw.messengerP2P.view.MessengerP2PActivity"</span><font></font>
<font></font>
        private fun switchMessengerP2P(enabled: <span class="hljs-built_in">Boolean</span> = <span class="hljs-literal">true</span>, <span class="hljs-attr">packageName</span>: <span class="hljs-built_in">String</span>, <span class="hljs-attr">packageManager</span>: PackageManager) {<font></font>
            val compName = ComponentName(packageName, componentName)<font></font>
            packageManager.setComponentEnabledSetting(<font></font>
                compName,<font></font>
                when (enabled) {<font></font>
                    <span class="hljs-literal">true</span> -&gt; PackageManager.COMPONENT_ENABLED_STATE_ENABLED
                    <span class="hljs-keyword">else</span> -&gt; PackageManager.COMPONENT_ENABLED_STATE_DISABLED<font></font>
                },<font></font>
                PackageManager.DONT_KILL_APP)<font></font>
        }<font></font>
<font></font>
        fun enableMessengerP2P(applicationContext: Context) {<font></font>
            val packageName = applicationContext.packageName<font></font>
            val packageManager = applicationContext.packageManager<font></font>
            switchMessengerP2P(enabled = <span class="hljs-literal">true</span>, packageName = packageName, packageManager = packageManager);<font></font>
        }<font></font>
<font></font>
        fun disableMessengerP2P(applicationContext: Context) {<font></font>
            val packageName = applicationContext.packageName<font></font>
            val packageManager = applicationContext.packageManager<font></font>
            switchMessengerP2P(enabled = <span class="hljs-literal">false</span>, packageName = packageName, packageManager = packageManager);<font></font>
        }<font></font>
<font></font>
        fun isMessengerP2PEnabled(packageName: <span class="hljs-built_in">String</span>, <span class="hljs-attr">packageManager</span>: PackageManager): <span class="hljs-built_in">Boolean</span> {<font></font>
            val state = packageManager.getComponentEnabledSetting(ComponentName(packageName, componentName))<font></font>
            <span class="hljs-keyword">return</span> state == PackageManager.COMPONENT_ENABLED_STATE_ENABLED || state == PackageManager.COMPONENT_ENABLED_STATE_DEFAULT<font></font>
        }<font></font>
<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El m√©todo "isMessengerP2PEnabled" no se utiliza aqu√≠ para verificar el estado actual del componente, ya que durante las pruebas produjo resultados poco confiables. Si decide usarlo, verifique cuidadosamente su funcionamiento en condiciones de l√≥gica comercial asincr√≥nica y al descargar la aplicaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El tiempo para cambiar el valor del indicador </font></font><code>enabled </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no </font><font style="vertical-align: inherit;">es </font><font style="vertical-align: inherit;">muy importante, elegimos el momento en que la configuraci√≥n de indicadores de caracter√≠sticas se carg√≥ completamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que cuando haga clic en el n√∫mero de tel√©fono en los mensajeros haya un di√°logo de elecci√≥n del sistema, debe proporcionar al usuario instrucciones sobre c√≥mo deshacerse de la configuraci√≥n predeterminada para un "tel: XXXXX". Por ejemplo: "Si solo puede hacer una llamada cuando hace clic en un n√∫mero, vaya a Configuraci√≥n de tel√©fono inteligente ‚Üí seleccione Tel√©fono en la lista de aplicaciones ‚Üí restablezca la configuraci√≥n a" Abrir por defecto ".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/pu/jd/ak/pujdakr-lmquupnkjgmt5urzrng.png" width="400"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si deshabilita el componente sobre la marcha, cuando se muestre al usuario este cuadro de di√°logo del sistema, no ocurrir√° nada malo. </font><font style="vertical-align: inherit;">El elemento correspondiente desaparecer√° instant√°neamente de la lista, en nuestro caso "Transferir dinero". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un comportamiento interesante comenzar√° si el usuario procesa los enlaces a trav√©s de nuestra aplicaci√≥n de forma predeterminada. </font><font style="vertical-align: inherit;">Para hacer esto, es suficiente presionar el √≠tem "Recordar selecci√≥n" o "Siempre". </font><font style="vertical-align: inherit;">Si deshabilita el componente, el usuario tendr√° la opci√≥n de elegir qu√© aplicaci√≥n usar, y la primera vez no aparecer√° el elemento "Recordar elecci√≥n". </font><font style="vertical-align: inherit;">Despu√©s de habilitar las funciones, se restaurar√° todo el flujo y el usuario se transferir√° directamente a la aplicaci√≥n.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La idea de esta funci√≥n se nos ocurri√≥ hace mucho tiempo, el boleto original se cre√≥ en 2017. </font><font style="vertical-align: inherit;">La idea no ha perdido su relevancia incluso ahora, no pude encontrar una aplicaci√≥n bancaria con una funcionalidad similar. </font><font style="vertical-align: inherit;">Lanzamos "transferencias desde el messenger" el 29 de abril, el primer d√≠a casi 8,000 usuarios √∫nicos se aprovecharon de ellas. </font><font style="vertical-align: inherit;">Si los indicadores comerciales en el futuro cercano nos satisfacen, desarrollaremos esta caracter√≠stica a√∫n m√°s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© opinas, cu√°ntas intenciones m√°s interesantes de Android esperan pac√≠ficamente su aplicaci√≥n comercial?</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es500504/index.html">Observabilidad de SRE: espacios de nombres y estructura m√©trica</a></li>
<li><a href="../es500506/index.html">Dise√±o de un contexto acotado con un lienzo de contexto acotado: receta del taller</a></li>
<li><a href="../es500508/index.html">Competencia de expertos en sof√°s</a></li>
<li><a href="../es500510/index.html">Semana de la seguridad 19: ataques de fuerza bruta contra RDP</a></li>
<li><a href="../es500512/index.html">Revisi√≥n del tel√©fono IP Snom D785</a></li>
<li><a href="../es500518/index.html">Iteraciones de introducir scrum en una empresa</a></li>
<li><a href="../es500520/index.html">C√≥mo hacer que sus aplicaciones se utilicen en todo el mundo: 10 consejos del CEO Wachanga</a></li>
<li><a href="../es500528/index.html">Sobre la traducci√≥n de "pr√°ctica" / "practicidad" sin pr√°ctica / pr√°ctica</a></li>
<li><a href="../es500530/index.html">Memo API de Canvas</a></li>
<li><a href="../es500538/index.html">Podcasts Rusbase, Medusa y KinoPoisk</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>