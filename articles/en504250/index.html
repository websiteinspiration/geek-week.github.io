<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛌🏽 🏁 🌦️ Subtleties of Power Automate and Logic Apps. Citizen developer'a reference guide # 1 🙌🏿 🔇 👐🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Good day to all! In one of my previous articles, I talked about what features Power Automate and Logic Apps cloud services have. We examined the main ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Subtleties of Power Automate and Logic Apps. Citizen developer'a reference guide # 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504250/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Good day to all! </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In one of my previous articles,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> I talked about what features Power Automate and Logic Apps cloud services have. </font><font style="vertical-align: inherit;">We examined the main differences between them, studied in which cases one or another service should be used, and also got acquainted with some usage scenarios. </font><font style="vertical-align: inherit;">Today I would like to start a new series of articles devoted to various life hacks and workarounds that will allow you to implement a number of business scenarios using available tools.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_4/ys/jf/_4ysjfeveeiednycpjwkqhdtlv8.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's not waste time and look at one of the scenarios today, namely:</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch Logic Apps stream by button from Power Apps</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In some cases, during the design and configuration of various system modules, it is more profitable to use Logic Apps than Power Automate. There may be many reasons for this, but one of the most popular is the presence of premium connectors in Logic Apps without buying additional plans, such as Power Automate. For example, inside a stream, you may need to make an HTTP Web service call and connect to SQL Server, but in Power Automate these connectors are not available without buying a special plan for users or for streams. In this case, Logic Apps will help us, where a slightly different tariffing mechanism is used and all connectors, including premium, are available initially. You can read more about the features of Logic Apps </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in this article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, there is one feature - Logic Apps stream cannot be launched by a button from a form or Power Apps application, unlike Power Automate stream. How to solve this problem? In fact, the solution is quite simple. Consider this case as an example of the process of applying for technical support. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, in our case, we have a SharePoint list of “Technical Support Applications”: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jy/ca/yj/jycayjprxln8ndb94gaj1_awfvk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Additionally, the list has customization of the form using Power Apps: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3r/ps/ec/3rpseckafimqn8e49vcwqax9i4y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As you can see, in the form header there is a transition to an additional screen with action buttons for the selected application: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f1/as/d_/f1asd_iq3cbw075ludc1a88zkcq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Click "Delegate Application" and fill in the additional fields:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rl/x-/9i/rlx-9igtxiud6wiilb8rtpi_fgi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using the “Confirm” button, you need to start the Logic Apps stream, but we do not have the ability to carry out this operation directly. </font><font style="vertical-align: inherit;">Therefore, we will try to do a little differently. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Create an additional ActionsList on the SharePoint site and add several fields:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ActionType - type of action to call</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comments - Comments</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ParentItemID - identifier of the parent element (application)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DelegateTo - additional field for storing the delegate</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CompleteProcessFlag - action processing flag</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/g1/fb/h5/g1fbh5imkkma1um9n4xconmjkkk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now, from PowerApps, we create an element in the ActionsList list by clicking on the “Confirm” button: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p4/ub/uz/p4ubuzqzfd6qyoerv75fsfyc7lk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Using the Patch function, create a new element in the ActionsList list with the “Delegate” type and transfer the remaining control values ​​from the form. Check that the item is created: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6i/ov/bm/6iovbmcigjwa2cbrxisltkaysou.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now we can go to Logic Apps. We go to Azure, create a new Logic Apps stream and specify the trigger “When creating an item in the SharePoint list”: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wi/rx/zq/wirxzqf15n2gusro7agq6pavems.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We make the stream with the switch: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8w/pk/6y/8wpk6yrndzr0adnajmzpq3fwrvy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The logic of this stream is as follows:</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When creating an element in the ActionsList list, the flow rises, checks the value of the "ActionType" field of the new element and, depending on the type of action, goes to one of the switch branches where the required logic is processed. Thus, we can make as many branches as you like for the switch in one thread and process any events within the same thread. It remains only to create elements in the ActionsList list with the desired event types and add support for these types to the stream, in the form of additional switch branches. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's do another event creation from PowerApps, for example, to cancel an application:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1j/-k/ct/1j-kctwsyscbdjm2mr15xjlowcm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, a new event will appear in the ActionsList list with the type “Reject” and comments for cancellation. Be sure to pass the value of the identifier of the parent element, otherwise it will be very problematic to find the required order from the stream later. Next, add support for the new event type in the Logic Apps stream. We make one more branch in the switch: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5-/9f/wb/5-9fwbvx5wh84v_pr2vicc4iw_y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And it remains to add to the very end of the stream an update of the processing flag, in order to understand which events are processed by our stream and which are not: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/un/wk/c2/unwkc2sepcbfcasez0x6ohohdzk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This flag will help in case of unforeseen situations during which the processing of the event by the thread is unsuccessful. It will be possible to make a thread, which, for example, will rise twice a day according to a schedule and process events in the ActionsList list, whose flag “CompleteProcessFlag” is No.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The mechanism described in this article has been successfully implemented and works stably for several clients. </font><font style="vertical-align: inherit;">In conclusion, I would like to say that there are a lot of interesting features in the Power Platform that may not be visible at first glance, but they can be very helpful in implementing various cases. </font><font style="vertical-align: inherit;">In the following articles I will try to show you even more possibilities. </font><font style="vertical-align: inherit;">Thank you very much for your attention!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en504230/index.html">NextDNS out of beta - privacy protection, circumvention of state censorship and ad blocking for the entire home network</a></li>
<li><a href="../en504232/index.html">How an engineer grow into techlida</a></li>
<li><a href="../en504236/index.html">Deploy Docker Image to Dokku with Ansible</a></li>
<li><a href="../en504240/index.html">Part 6. Career programmer. Own startup</a></li>
<li><a href="../en504242/index.html">General scheme</a></li>
<li><a href="../en504252/index.html">Pandemic as a catalyst for future retail processes</a></li>
<li><a href="../en504254/index.html">Beyond Moore's Law</a></li>
<li><a href="../en504256/index.html">Cloud-based</a></li>
<li><a href="../en504260/index.html">Scalable architecture for large mobile applications</a></li>
<li><a href="../en504264/index.html">Huawei Review Comment: Comment on Wi-Fi 6 posts and get prizes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>