<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ—½ ğŸ¿ ğŸ‡ğŸ½ Smartcallså¦‚ä½•æˆä¸ºVoximplant Kitçš„å“ç‰Œ-å“ç‰Œé‡å¡‘å’Œæ€æ‰‹features ğŸ§™ğŸ¼ ğŸŒ‘ â™Œï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="é•¿æœŸä»¥æ¥ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨å‡†å¤‡å¯¹Smartcallsè¿›è¡Œæ›´æ–°ï¼Œè¿™æ˜¯ç”¨äºæ‹¨å‡ºç”µè¯çš„å¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œç°åœ¨å®ƒå‘ç”Ÿäº†ã€‚ä»Šå¤©ï¼Œåœ¨å‰ªè£çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å°†è®¨è®ºUI / UXçš„æ›´æ”¹ï¼Œå¹¶åœ¨æ¼”ç¤ºæ¨¡å¼ä¸‹è¿›è¡Œæ·±å…¥äº†è§£ï¼Œä»¥äº†è§£å¦‚ä½•é©¯æœJointJSã€‚
 
 å®é™…å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Ÿ
 æœ€æ˜æ˜¾çš„æ˜¯-ä¸€ä¸ªæ–°çš„åç§°å’ŒURLï¼Œè¿™æ„å‘³ç€å¯ä»¥åœ¨ç›¸åº”çš„...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Smartcallså¦‚ä½•æˆä¸ºVoximplant Kitçš„å“ç‰Œ-å“ç‰Œé‡å¡‘å’Œæ€æ‰‹features</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/Voximplant/blog/492232/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/by/c2/ih/byc2ihl70ggcz-ftm-a4ziskyvo.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é•¿æœŸä»¥æ¥ï¼Œæˆ‘ä»¬ä¸€ç›´åœ¨å‡†å¤‡å¯¹Smartcallsè¿›è¡Œæ›´æ–°ï¼Œè¿™æ˜¯ç”¨äºæ‹¨å‡ºç”µè¯çš„å¯è§†åŒ–ç¼–è¾‘å™¨ï¼Œç°åœ¨å®ƒå‘ç”Ÿäº†ã€‚</font><font style="vertical-align: inherit;">ä»Šå¤©ï¼Œåœ¨å‰ªè£çš„åŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å°†è®¨è®ºUI / UXçš„æ›´æ”¹ï¼Œå¹¶åœ¨æ¼”ç¤ºæ¨¡å¼ä¸‹è¿›è¡Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ·±å…¥</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº†è§£ï¼Œä»¥äº†è§£å¦‚ä½•é©¯æœ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">JointJS</font></a><font style="vertical-align: inherit;">ã€‚</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®é™…å‘ç”Ÿäº†ä»€ä¹ˆå˜åŒ–ï¼Ÿ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€æ˜æ˜¾çš„æ˜¯-ä¸€ä¸ªæ–°çš„åç§°å’ŒURLï¼Œè¿™æ„å‘³ç€å¯ä»¥åœ¨ç›¸åº”çš„é“¾æ¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voximplant.com/kitä¸Š</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰¾åˆ°Voximplant Kit </font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬è¿˜ä¿®æ”¹äº†</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨å†Œé¡µé¢</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œç°åœ¨æ˜¯è¿™æ ·çš„ï¼š</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cl/jh/vc/cljhvcpw84_miyo3xcr8tsamgwo.png" alt="å›¾ç‰‡"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°½ç®¡æ¦‚å¿µä¿æŒä¸å˜ï¼Œä½†äº§å“ç•Œé¢å·²å‘ç”Ÿäº†å¾ˆå¤§å˜åŒ–ï¼Œå˜å¾—æ›´åŠ ç”¨æˆ·å‹å¥½ã€‚</font><font style="vertical-align: inherit;">é¡¶éƒ¨èœå•ç§»è‡³å·¦ä¾§ï¼Œè¿™ä½¿æµè§ˆå—æ›´åŠ åˆç†å’Œæ–¹ä¾¿ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/9y/hf/zr9yhfrpoz4qjawojzkqgdl5kpa.png" alt="å›¾ç‰‡"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤å¤–ï¼Œç°åœ¨è¿˜å¯ä»¥å¯¹è„šæœ¬å’Œå½•éŸ³è¿›è¡Œåˆ†ç»„å’Œæ’åºï¼ŒæŒ‰å·ç æœç´¢ä»¥åŠå¸¦æœ‰ç®€çŸ­ä¿¡æ¯çš„å¹¿å‘Šç‰Œï¼ŒåŒ…æ‹¬æ–°çš„æŒ‡æ ‡-æˆåŠŸå‘¼å«çš„å¹³å‡æŒç»­æ—¶é—´å’ŒèŠ±è´¹çš„æ€»é‡‘é¢ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kg/yf/12/kgyf12bkj5jjx_cffukvfnqnk7g.png" alt="å›¾ç‰‡"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è‡³äºé›†æˆï¼šç”¨æˆ·å‹å¥½çš„ç•Œé¢è¿›å…¥äº†é‚®ä»¶è®¾ç½®ï¼Œå¹¶ä¸”åœ¨Dialogflowï¼ŒSIPï¼Œå…¨å±€å˜é‡é€‰é¡¹å¡ä¸Šï¼Œå‡ºç°äº†æŒ‰IDå’Œä¸»æœºå¯¹æ–‡ä»¶è¿›è¡Œæœç´¢å’Œæ’åºçš„æ“ä½œã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sr/wm/dj/srwmdjgvejupi9urypqn1iyglzk.png" alt="å›¾ç‰‡"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 æ€»çš„æ¥è¯´ï¼Œå¾ˆå¤šæ–°é¢–è€Œé…·ï¼</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æˆ‘ä»¬çš„åšå®¢ä¸­</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº†è§£æœ‰å…³æ›´æ”¹çš„æ›´å¤šä¿¡æ¯</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½†æ˜¯æœ€é‡â€‹â€‹è¦çš„æ˜¯ç¼–è¾‘</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¼”ç¤ºæ¨¡å¼ï¼ˆæ‰°æµæ¿ï¼šè¿™æ˜¯ä¸»è¦çš„æ€æ‰‹çº§åŠŸèƒ½ï¼‰ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/7m/po/du/7mpoduas-ap0m6lbi-o12g9eyd0.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®æ—¶è„šæœ¬æ‰§è¡Œï¼Œçªå‡ºæ˜¾ç¤ºæ‰€æ¶‰åŠçš„å—ï¼Œå¹¶åœ¨æ‰§è¡Œå-è°ƒç”¨ï¼ˆæµå’Œæ—¥å¿—ï¼‰çš„ç»“æœï¼Œä½¿è„šæœ¬çš„è°ƒè¯•æ›´åŠ è½»æ¾å’Œå¿«æ·ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_i/vl/0a/_ivl0ayzlmrojpumqdf_knc99ie.png" alt="å›¾ç‰‡"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤å¤„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è§‚çœ‹æ¼”ç¤ºæ¨¡å¼çš„è§†é¢‘ï¼Œä¹Ÿå¯ä»¥</font><font style="vertical-align: inherit;">åœ¨æ³¨å†Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voximplant Kit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">è‡ªè¡Œè¿›è¡Œ</font></a><font style="vertical-align: inherit;">æµ‹è¯•</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥åŠå¦‚ä½•å®ç°æ‰€æœ‰è¿™äº›ï¼Œæˆ‘ä»¬å°†åœ¨ä¸‹ä¸€èŠ‚ä¸­ä»‹ç»ã€‚</font><font style="vertical-align: inherit;">ç¼–è¾‘å™¨çš„æ–°åŠŸèƒ½ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ’¤æ¶ˆ/é‡åšï¼ˆä¸‹å›¾ä¸­çš„1ï¼‰ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çƒ­é”®ï¼ˆ2ï¼‰;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼¹å‡ºèœå•ï¼Œæ‚¨å¯ä»¥ä¸€é”®å¼å¯¹é½å—å’Œå—ä¹‹é—´çš„é“¾æ¥ï¼Œæ›´æ”¹æ¯”ä¾‹ï¼Œä½¿ç”¨miniMapï¼Œå°†è„šæœ¬å±•å¼€ä¸ºå…¨å±æ˜¾ç¤ºå¹¶å…±äº«ï¼ˆå¤åˆ¶æˆ–å¦å­˜ä¸ºpngï¼‰ï¼ˆ3ï¼‰ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å³é”®å•å‡»ä¸Šä¸‹æ–‡èœå•ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤åˆ¶å—-ä¸ä»…åœ¨åŒä¸€è„šæœ¬å†…ï¼Œè€Œä¸”åœ¨ä¸åŒè„šæœ¬ä¹‹é—´ï¼Œç”šè‡³ï¼ˆï¼ï¼‰ä¸åŒçš„å¸æˆ·ä¹‹é—´ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é”å®š/è§£é”å—-å¯ä»¥ç§»åŠ¨é”å®šçš„å—ï¼Œä½†æ˜¯æ— æ³•è¿›è¡Œç¼–è¾‘ä»¥é¿å…ä¸å¿…è¦çš„æ›´æ”¹ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¢œè‰²å˜åŒ–-åœ¨è§†è§‰ä¸Šï¼Œæ‚¨å¯ä»¥é€‰æ‹©å‡ ä¸ªâ€œç›¸å…³â€å—ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŒ‰ä½¿ç”¨å—çš„åç§°å’Œå†…å®¹è¿›è¡Œæœç´¢ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œäº¤äº’å¼èœå•â€å—-åªéœ€æ‹–æ”¾å³å¯äº¤æ¢ä½ç½®ä¸­çš„ç«¯å£ï¼ˆç­”æ¡ˆé€‰é¡¹ï¼‰çš„åŠŸèƒ½ã€‚</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wp/fw/u4/wpfwu4ddvz--h5gd0yqm9ipcfzs.png" alt="å›¾ç‰‡"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬æ­ç¤ºå¡ç‰‡</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨è¯¥å¼„æ¸…æ¥šä»£ç ä¸­å¦‚ä½•å®ç°å—åŠ¨ç”»äº†ã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/qo/cz/zoqoczrubc5rvxijm-cshjukoq0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¼–è¾‘å™¨è°ƒç”¨æˆ‘ä»¬çš„HTTP APIæ–¹æ³•-StartScenarios-è¿è¡Œäº‘è„šæœ¬ã€‚</font><font style="vertical-align: inherit;">Voximplantäº‘å¯åŠ¨è„šæœ¬å¹¶å°†å…¶æä¾›ç»™media_access_urlç¼–è¾‘å™¨ã€‚</font><font style="vertical-align: inherit;">ä»è¿™ä¸€åˆ»èµ·ï¼Œç¼–è¾‘å™¨æ¯ç§’æ‹‰å‡ºmedia_access_urlï¼Œä»¥æ¥æ”¶æœ‰å…³è„šæœ¬å¦‚ä½•â€œéå†â€å—çš„å“åº”ä¿¡æ¯-åŸºäºæ­¤æ•°æ®ï¼Œç¼–è¾‘å™¨çªå‡ºæ˜¾ç¤ºå¿…è¦çš„å—å¹¶ä¸ºå®ƒä»¬ä¹‹é—´çš„è¿æ¥æ·»åŠ åŠ¨ç”»æ•ˆæœã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å†å²è®°å½•æ˜¯å…·æœ‰ä»¥ä¸‹å­—æ®µçš„JSONå¯¹è±¡ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ—¶é—´æˆ³</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">idSource-åˆå§‹å—ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">idTarget-æœ€åä¸€å—ï¼›</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç«¯å£-ç«¯å£ï¼ˆ1ä¸ªå—ä¸­å¯èƒ½æœ‰å¤šä¸ªè¾“å‡ºï¼‰ã€‚</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wl/qt/ht/wlqthtjgn0l2bnwfoqophwregpy.png" alt="å›¾ç‰‡"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å€ŸåŠ©è¿™äº›è‡ªå®šä¹‰å’ŒæœåŠ¡å˜é‡ï¼Œå‰ç«¯å¯ä»¥äº†è§£åœ¨æµ‹è¯•æœŸé—´å®ƒå°†ä¼ é€’ç»™å“ªä¸ªå—ã€‚</font><font style="vertical-align: inherit;">ä»–æ€ä¹ˆç†è§£çš„ï¼Ÿ</font><font style="vertical-align: inherit;">è¿›è¡Œè§†è§‰æ„é€ æ—¶ï¼ˆæ·»åŠ äº†ä¸€ä¸ªæ–°å—ï¼‰ï¼Œå°†ç«‹å³ä¸ºå…¶åˆ†é…ä¸€ä¸ªIDï¼Œç„¶åå°†å…¶åœ¨å†å²è®°å½•ä¸­ç”¨ä½œidSource / idTargetã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†å®ç°æ­¤åŠŸèƒ½ï¼Œæˆ‘ä»¬ä½¿ç”¨äº†JointJSåº“ï¼Œä½†æ˜¯æœ‰ä¸€äº›è‡ªå†™ä»£ç ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬ä»ä¸»è¦çš„selectBlockï¼ˆï¼‰æ–¹æ³•å¼€å§‹ï¼Œå®ƒçš„å·¥ä½œæ–¹å¼å¦‚ä¸‹ï¼šæˆ‘ä»¬éå†è¿åŠ¨å†å²è®°å½•æ•°ç»„ï¼ˆidSourceï¼ŒidTargetï¼‰ï¼Œå¹¶åœ¨æ‰¾åˆ°èµ·ç‚¹å’Œç»ˆç‚¹åç«‹å³æŸ¥æ‰¾å®ƒä»¬ä¹‹é—´çš„è¿æ¥ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> link = <span class="hljs-keyword">this</span>.editor.getTestLink(sourceCell, portId);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœå®ƒä»¬ä¹‹é—´å­˜åœ¨è¿æ¥ï¼Œåˆ™ä¸ºæ²¿é€šè®¯çº¿è¿è¡Œçš„çƒè®¾ç½®åŠ¨ç”»ï¼š</font></font><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (link) <span class="hljs-keyword">this</span>.setLinkAnimation(link);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨this.testHistoryçš„æ¯æ¬¡æ›´æ–°ä¹‹åï¼Œéƒ½ä¼šè°ƒç”¨selectBlockï¼ˆï¼‰æ–¹æ³•ã€‚</font><font style="vertical-align: inherit;">ç”±äºä¼ é€’çš„å¤šä¸ªå—å¯ä»¥ä¸€æ¬¡åˆ°è¾¾this.testHistoryï¼Œå› æ­¤æˆ‘ä»¬æ¯700æ¯«ç§’é€’å½’è°ƒç”¨ä¸€æ¬¡selectBlockï¼ˆè¿™æ˜¯åŠ¨ç”»åŒ–ä»ä¸€ä¸ªå—åˆ°å¦ä¸€ä¸ªå—çš„è¿åŠ¨æ‰€èŠ±è´¹çš„å¤§çº¦æ—¶é—´ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs">setTimeout(<span class="hljs-keyword">this</span>.selectBlock, <span class="hljs-number">700</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤æ–¹æ³•çš„æ‰€æœ‰ä»£ç å¦‚ä¸‹ã€‚</font><font style="vertical-align: inherit;">æ³¨æ„ç¬¬7è¡Œå’Œç¬¬10è¡Œçš„selectTestBlockå’ŒgetTestLinkæ–¹æ³•-ç°åœ¨æˆ‘ä»¬å°†åˆ†åˆ«è®¨è®ºå®ƒä»¬ï¼š</font></font><br>
<br>
<div class="oembed"><script type="text/javascript" src="https://gist.github.com/5ffed5b2bbb82d4a3eff6df3f153a1ed.js"></script><link rel="stylesheet" href="https://github.githubassets.com/assets/gist-embed-31007ea0d3bd9f80540adfbc55afc7bd.css"><div id="gist101791201" class="gist">
    <div class="gist-file">
      <div class="gist-data">
        <div class="js-gist-file-update-container js-task-list-container file-box">
  <div id="file-selectblock-js" class="file">
    

  <div itemprop="text" class="Box-body p-0 blob-wrapper data type-javascript ">
      
<table class="highlight tab-size js-file-line-container" data-tab-size="8" data-paste-markdown-skip="">
      <tbody><tr>
        <td id="file-selectblock-js-L1" class="blob-num js-line-number" data-line-number="1"></td>
        <td id="file-selectblock-js-LC1" class="blob-code blob-code-inner js-file-line"><span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selectBlock </font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆ</font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></span><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ— æ•ˆ</font></font></span> <span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L2" class="blob-num js-line-number" data-line-number="2"></td>
        <td id="file-selectblock-js-LC2" class="blob-code blob-code-inner js-file-line">     <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¦‚æœ</font></font></span> <span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆ</font></font></span><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤</font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></span><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">historyIndex </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt; </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤</font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></span><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">testHistory </font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></span><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é•¿åº¦</font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></span> <span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{</font></font></span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L3" class="blob-num js-line-number" data-line-number="3"></td>
        <td id="file-selectblock-js-LC3" class="blob-code blob-code-inner js-file-line">       <span class="pl-k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">const </font></font></span> <span class="pl-s1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i </font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= </font></font></span> <span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this </font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></span><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">historyIndex </font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L4" class="blob-num js-line-number" data-line-number="4"></td>
        <td id="file-selectblock-js-LC4" class="blob-code blob-code-inner js-file-line">       <span class="pl-k">const</span> <span class="pl-s1">targetCellId</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">testHistory</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">.</span><span class="pl-c1">idTarget</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L5" class="blob-num js-line-number" data-line-number="5"></td>
        <td id="file-selectblock-js-LC5" class="blob-code blob-code-inner js-file-line">       <span class="pl-k">const</span> <span class="pl-s1">sourceCellId</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">testHistory</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">.</span><span class="pl-c1">idSource</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L6" class="blob-num js-line-number" data-line-number="6"></td>
        <td id="file-selectblock-js-LC6" class="blob-code blob-code-inner js-file-line">       <span class="pl-k">const</span> <span class="pl-s1">portId</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">testHistory</span><span class="pl-kos">[</span><span class="pl-s1">i</span><span class="pl-kos">]</span><span class="pl-kos">.</span><span class="pl-c1">port</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L7" class="blob-num js-line-number" data-line-number="7"></td>
        <td id="file-selectblock-js-LC7" class="blob-code blob-code-inner js-file-line">       <span class="pl-k">const</span> <span class="pl-s1">targetCell</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">editor</span><span class="pl-kos">.</span><span class="pl-en">selectTestBlock</span><span class="pl-kos">(</span><span class="pl-s1">targetCellId</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L8" class="blob-num js-line-number" data-line-number="8"></td>
        <td id="file-selectblock-js-LC8" class="blob-code blob-code-inner js-file-line">       <span class="pl-k">const</span> <span class="pl-s1">sourceCell</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">editor</span><span class="pl-kos">.</span><span class="pl-en">getCell</span><span class="pl-kos">(</span><span class="pl-s1">sourceCellId</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L9" class="blob-num js-line-number" data-line-number="9"></td>
        <td id="file-selectblock-js-LC9" class="blob-code blob-code-inner js-file-line">       <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s1">sourceCell</span> <span class="pl-c1">&amp;&amp;</span> <span class="pl-s1">targetCell</span><span class="pl-kos">)</span> <span class="pl-kos">{</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L10" class="blob-num js-line-number" data-line-number="10"></td>
        <td id="file-selectblock-js-LC10" class="blob-code blob-code-inner js-file-line">         <span class="pl-k">const</span> <span class="pl-s1">link</span> <span class="pl-c1">=</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">editor</span><span class="pl-kos">.</span><span class="pl-en">getTestLink</span><span class="pl-kos">(</span><span class="pl-s1">sourceCell</span><span class="pl-kos">,</span> <span class="pl-s1">portId</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L11" class="blob-num js-line-number" data-line-number="11"></td>
        <td id="file-selectblock-js-LC11" class="blob-code blob-code-inner js-file-line">         <span class="pl-k">if</span> <span class="pl-kos">(</span><span class="pl-s1">link</span><span class="pl-kos">)</span> <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-en">setLinkAnimation</span><span class="pl-kos">(</span><span class="pl-s1">link</span><span class="pl-kos">)</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L12" class="blob-num js-line-number" data-line-number="12"></td>
        <td id="file-selectblock-js-LC12" class="blob-code blob-code-inner js-file-line">       <span class="pl-kos">}</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L13" class="blob-num js-line-number" data-line-number="13"></td>
        <td id="file-selectblock-js-LC13" class="blob-code blob-code-inner js-file-line">       <span class="pl-smi">this</span><span class="pl-kos">.</span><span class="pl-c1">historyIndex</span> <span class="pl-c1">+=</span> <span class="pl-c1">1</span><span class="pl-kos">;</span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L14" class="blob-num js-line-number" data-line-number="14"></td>
        <td id="file-selectblock-js-LC14" class="blob-code blob-code-inner js-file-line">       <span class="pl-en"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„setTimeout </font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆ</font></font></span><span class="pl-smi"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤</font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></span><span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selectBlock </font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font></span> <span class="pl-c1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">700 </font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></span><span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">;</font></font></span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L15" class="blob-num js-line-number" data-line-number="15"></td>
        <td id="file-selectblock-js-LC15" class="blob-code blob-code-inner js-file-line">     <span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></td>
      </tr>
      <tr>
        <td id="file-selectblock-js-L16" class="blob-num js-line-number" data-line-number="16"></td>
        <td id="file-selectblock-js-LC16" class="blob-code blob-code-inner js-file-line">   <span class="pl-kos"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">}</font></font></span></td>
      </tr>
</tbody></table>


  </div>

  </div>
</div>

      </div>
      <div class="gist-meta">
        <a href="" style="float:right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŸ¥çœ‹åŸå§‹</font></font></a>
        <a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">selectBlock.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
        æ‰˜ç®¡ä¸â¤é€šè¿‡</font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubä¸Š</font></font></a>
      </div>
    </div>
</div>
</div><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å»ºç«‹è”ç³»</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
getTestLinkï¼ˆï¼‰æ–¹æ³•æœ‰åŠ©äºè·å¾—å—ä¹‹é—´çš„è¿æ¥-å®ƒåŸºäºgetConnectedLinksï¼ˆï¼‰ï¼ŒgetConnectedLinksï¼ˆï¼‰æ˜¯å†…ç½®çš„JointJSæ–¹æ³•ï¼Œè¯¥æ–¹æ³•æ¥æ”¶å—è¾“å…¥å¹¶è¿”å›é“¾æ¥æ•°ç»„ã€‚</font><font style="vertical-align: inherit;">åœ¨æˆ‘ä»¬çš„å®ç°ä¸­ï¼Œæˆ‘ä»¬åœ¨ç»“æœæ•°ç»„ä¸­æŸ¥æ‰¾å¸¦æœ‰ç«¯å£çš„é“¾æ¥ï¼Œå…¶ä¸­sourceå±æ€§çš„å€¼ä¸ºportIdï¼š</font></font><br>
<br>
<pre><code class="javascript hljs">link = <span class="hljs-keyword">this</span>.graph.getConnectedLinks(cell, {<span class="hljs-attr">outbound</span> : <span class="hljs-literal">true</span>}).find(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
     <span class="hljs-keyword">return</span> item.get(<span class="hljs-string">'source'</span>).port === portId;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶åï¼Œå¦‚æœæœ‰é“¾æ¥ï¼Œåˆ™çªå‡ºæ˜¾ç¤ºå®ƒï¼š</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">return</span> link ? (link.toFront() &amp;&amp; link) : <span class="hljs-literal">null</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ–¹æ³•ä»£ç ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs">getTestLink(sourceCell: Cell, <span class="hljs-attr">portId</span>: string): Link {
  <span class="hljs-keyword">let</span> link = <span class="hljs-literal">null</span>;
  <span class="hljs-keyword">if</span> (sourceCell &amp;&amp; sourceCell.id) {
    <span class="hljs-keyword">let</span> cell = <span class="hljs-literal">null</span>;
    <span class="hljs-keyword">if</span> (sourceCell.type === <span class="hljs-string">'ScenarioStart'</span> || sourceCell.type === <span class="hljs-string">'IncomingStart'</span>) {<font></font>
      cell = <span class="hljs-keyword">this</span>.getStartCell()<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
      cell = <span class="hljs-keyword">this</span>.graph.getCell(sourceCell.id);<font></font>
    }<font></font>
    link = <span class="hljs-keyword">this</span>.graph.getConnectedLinks(cell, {<span class="hljs-attr">outbound</span> : <span class="hljs-literal">true</span>}).find(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> {
      <span class="hljs-keyword">return</span> item.get(<span class="hljs-string">'source'</span>).port === portId;<font></font>
    });<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> link ? (link.toFront() &amp;&amp; link) : <span class="hljs-literal">null</span>;<font></font>
}<font></font>
 </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯ä»¥é€šè¿‡JointJSå®Œå…¨å®ç°å¥”è·‘çƒçš„åŠ¨ç”»ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯·å‚è§demo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬ç§»åˆ°å½“å‰åŒºå—</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å½“éœ€è¦é€‰æ‹©æœ€åä¸€å—å¹¶å°†ç”»å¸ƒç§»åŠ¨åˆ°è¯¥å—æ—¶ï¼Œæˆ‘ä»¬è°ƒç”¨selectTestBlockï¼ˆï¼‰æ–¹æ³•ã€‚</font><font style="vertical-align: inherit;">è¿™é‡Œæˆ‘ä»¬å¾—åˆ°å—ä¸­å¿ƒçš„åæ ‡ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> center = cell.getBBox().center();</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶åè°ƒç”¨setTestCellï¼ˆï¼‰ä¸ºå—ç€è‰²ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs">editor.tester.setTestCell(cell);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åï¼Œæˆ‘ä»¬ä½¿ç”¨è‡ªç¼–å†™çš„zoomToCellï¼ˆï¼‰å‡½æ•°å°†å…¶ç¼©æ”¾åˆ°å…¶ä¸­å¿ƒï¼ˆè¿™æ˜¯æœ€æœ‰è¶£çš„ï¼Œä½†æœ€åæ˜¯å…³äºå®ƒçš„ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs">editor.paperController.zoomToCell(center, <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ–¹æ³•ä»£ç ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs">selectTestBlock(id: string): Cell {
 <span class="hljs-keyword">const</span> cell = (id === <span class="hljs-string">'ScenarioStart'</span>) ? editor.tester.getStartCell() : editor.graph.getCell(id);
 <span class="hljs-keyword">if</span> (cell) {
   <span class="hljs-keyword">const</span> center = cell.getBBox().center();<font></font>
   editor.tester.setTestCell(cell);<font></font>
   editor.paperController.zoomToCell(center, <span class="hljs-number">1</span>, <span class="hljs-literal">false</span>);<font></font>
 }<font></font>
 <span class="hljs-keyword">return</span> cell;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç€è‰²æ–¹æ³•ï¼šæ‰¾åˆ°æˆ‘ä»¬å—çš„SVGå…ƒç´ ï¼Œå¹¶æ·»åŠ CSSç±».testedä½¿å—é¢œè‰²ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs">setTestCell(cell: Cell): <span class="hljs-keyword">void</span> {
 <span class="hljs-keyword">const</span> view = cell.findView(<span class="hljs-keyword">this</span>.paper);
 <span class="hljs-keyword">if</span> (view) view.el.classList.add(<span class="hljs-string">'is-tested'</span>);<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹³æ»‘ç¼©æ”¾</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åï¼ŒzoomToCellï¼ˆï¼‰ï¼ JointJSæœ‰ä¸€ä¸ªå†…ç½®çš„æ–¹æ³•å¯ä»¥æ²¿ç€Xå’ŒYè½´ç§»åŠ¨ç”»å¸ƒï¼Œèµ·åˆä»–ä»¬æƒ³æ‹¿å®ƒã€‚ä½†æ˜¯ï¼Œæ­¤æ–¹æ³•ä½¿ç”¨transformä½œä¸ºSVGæ ‡ç­¾çš„å±æ€§ï¼Œå®ƒä¸æ”¯æŒFirefox +æµè§ˆå™¨ä¸­çš„å¹³æ»‘åŠ¨ç”»ï¼Œè€Œä»…ä½¿ç”¨CPUã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬åšäº†ä¸€ä¸ªå°æŠ€å·§-å†™äº†æˆ‘ä»¬çš„å‡½æ•°zoomToCellï¼ˆï¼‰ï¼Œå®è´¨ä¸Šï¼Œå®ƒæ‰§è¡Œç›¸åŒçš„æ“ä½œï¼Œä½†æ˜¯å°†è½¬æ¢å¼ºåˆ¶è½¬æ¢ä¸ºå†…è”CSSï¼Œè¿™å…è®¸ä½¿ç”¨GPUè¿›è¡Œæ¸²æŸ“ï¼ˆå› ä¸ºWebGLå·²è¿æ¥åˆ°è¿›ç¨‹ï¼‰ã€‚å› æ­¤ï¼Œè§£å†³äº†è·¨æµè§ˆå™¨å…¼å®¹æ€§çš„é—®é¢˜ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬çš„åŠŸèƒ½ä¸ä»…ä½¿ç”»å¸ƒæ²¿XYç§»åŠ¨ï¼Œè¿˜å…è®¸æˆ‘ä»¬é€šè¿‡ä½¿ç”¨å˜æ¢çŸ©é˜µåŒæ—¶ç¼©æ”¾ï¼ˆç¼©æ”¾ï¼‰ã€‚</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
.animate-viewportç±»çš„will-changeå±æ€§å‘Šè¯‰æµè§ˆå™¨è¯¥å…ƒç´ å°†è¢«æ›´æ”¹ï¼Œå¹¶ä¸”å¿…é¡»åº”ç”¨ä¼˜åŒ–ï¼ŒåŒ…æ‹¬ä½¿ç”¨GPUï¼Œtransitionå±æ€§è®¾ç½®å°†ç”»å¸ƒç§»åŠ¨åˆ°å—çš„å¹³æ»‘åº¦ï¼š</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.animate-viewport</span> {
 <span class="hljs-attribute">will-change</span>: transform;
 <span class="hljs-attribute">transition</span>: transform <span class="hljs-number">0.5s</span> ease-in-out;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æ‰€æœ‰çš„æ–¹æ³•ä»£ç å¦‚ä¸‹ï¼š</font></font><br>
<br>
<pre><code class="javascript hljs">public zoomToCell(center: g.Point, <span class="hljs-attr">zoom</span>: number, <span class="hljs-attr">offset</span>: boolean = <span class="hljs-literal">true</span>): <span class="hljs-keyword">void</span> {
   <span class="hljs-keyword">this</span>.updateGridSize();
   <span class="hljs-keyword">const</span> currentMatrix = <span class="hljs-keyword">this</span>.paper.layers.getAttribute(<span class="hljs-string">'transform'</span>);
   <span class="hljs-comment">//   svg-,        center</span>
   <span class="hljs-comment">//   ,     style</span>
   <span class="hljs-keyword">const</span> { a, b, c, d, e, f } = <span class="hljs-keyword">this</span>.zoomMatrix(zoom, center, offset);
   <span class="hljs-comment">//  FireFox    ,       </span>
   <span class="hljs-keyword">this</span>.paper.layers.style.transform = currentMatrix;
   <span class="hljs-comment">//    FF  ,     ,    </span>
   setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
     <span class="hljs-comment">//  CSS- .animate-viewport,    - transition;</span>
     <span class="hljs-comment">//    style      - transition</span>
     <span class="hljs-keyword">this</span>.paper.layers.classList.add(<span class="hljs-string">'animate-viewport'</span>);
     <span class="hljs-keyword">this</span>.paper.layers.style.transform = <span class="hljs-string">`matrix(<span class="hljs-subst">${ a }</span>, <span class="hljs-subst">${ b }</span>, <span class="hljs-subst">${ c }</span>, <span class="hljs-subst">${ d }</span>, <span class="hljs-subst">${ e }</span>, <span class="hljs-subst">${ f }</span>)`</span>;
     <span class="hljs-keyword">const</span> duration = <span class="hljs-built_in">parseFloat</span>(getComputedStyle(<span class="hljs-keyword">this</span>.paper.layers)[<span class="hljs-string">'transitionDuration'</span>]) * <span class="hljs-number">1000</span>;
     <span class="hljs-comment">//        style;</span>
     <span class="hljs-comment">//      joint</span>
     setTimeout(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
       <span class="hljs-keyword">this</span>.paper.layers.classList.remove(<span class="hljs-string">'animate-viewport'</span>);
       <span class="hljs-keyword">this</span>.paper.layers.style.transform = <span class="hljs-literal">null</span>;
       <span class="hljs-keyword">this</span>.paper.matrix(newMatrix);
       <span class="hljs-keyword">this</span>.paper.trigger(<span class="hljs-string">'paper:zoom'</span>);
       <span class="hljs-keyword">this</span>.updateGridSize();
       <span class="hljs-keyword">this</span>.paper.trigger(<span class="hljs-string">'paper:update'</span>);<font></font>
     }, duration);<font></font>
   }, <span class="hljs-number">100</span>);<font></font>
 }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
äº‹å®è¯æ˜ï¼Œæœ‰æ—¶ç”šè‡³æœ€é«˜çº§çš„æ–‡ä»¶ä¹Ÿéƒ½éœ€è¦å®Œæˆä¸€ä¸ªæ–‡ä»¶:)æˆ‘ä»¬å¸Œæœ›æ‚¨å–œæ¬¢æŒ–é²¸çš„å†…éƒ¨ï¼ˆæ— è®ºå¬èµ·æ¥å¤šä¹ˆä»¤äººæ¯›éª¨æ‚šç„¶ï¼‰ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å¸Œæœ›æ‚¨ä½¿ç”¨Voximplant Kitç­‰æˆåŠŸå¼€å‘ï¼</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN492218/index.html">è¦è®°ä½çš„å›¾æ ‡è®¾è®¡è§„åˆ™</a></li>
<li><a href="../zh-CN492220/index.html">ç†ŠçŒ«çš„5ä¸ªé²œä¸ºäººçŸ¥çš„ç§˜å¯†</a></li>
<li><a href="../zh-CN492222/index.html">æ’°å†™çš„CTFZone Quals 2019ï¼šé¸¡è‚‰</a></li>
<li><a href="../zh-CN492226/index.html">æ‰˜ç®¡Kubernetesçš„ä»·æ ¼æ¯”è¾ƒï¼ˆ2020ï¼‰</a></li>
<li><a href="../zh-CN492228/index.html">æ­£å¦‚Sports.ruå†™çš„æ‰€è§å³æ‰€å¾—ç¼–è¾‘å™¨</a></li>
<li><a href="../zh-CN492234/index.html">ç ”ç©¶ï¼šä¸ºä»€ä¹ˆäººä»¬å‡†å¤‡å‡å°‘åœ¨ç¤¾ä¼šé¡¹ç›®ä¸­çš„æ”¶å…¥</a></li>
<li><a href="../zh-CN492242/index.html">M5StackåŠå…¶è”ç³»äºº</a></li>
<li><a href="../zh-CN492244/index.html">å† çŠ¶ç—…æ¯’æ¸…é™¤æœŸï¼šå®¶åº­â€œé€®æ•â€æˆ–æœºä¼šæ—¶æœºï¼Ÿ</a></li>
<li><a href="../zh-CN492246/index.html">å† çŠ¶ç—…æ¯’ï¼šå¯¹ç¤¾ä¼šï¼Œç»æµå’ŒåŒ»å­¦çš„å¯èƒ½å½±å“</a></li>
<li><a href="../zh-CN492248/index.html">ç”¨React Hooksé˜²å¼¹è·³</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>