<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕙 👩🏿‍🏭 🥪 Angular: eine klare Einführung in NGRX 🗣️ ❔ 🐨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der Zweck dieses Artikels ist es, eine saubere und klare Sicht auf ngrx zu geben . Dazu werde ich erklären, was Sie über ngrx wissen und verstehen müs...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Angular: eine klare Einführung in NGRX</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489674/"><img src="https://habrastorage.org/webt/rz/7h/ee/rz7heen5ey-lo47udm7sn4owfzg.png" alt="Bild"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Zweck dieses Artikels ist es, eine saubere und klare Sicht auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ngrx zu geben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dazu werde ich erklären, was Sie über ngrx wissen und verstehen müssen, und dann werden wir es anhand einfacher und klarer Codebeispiele in Aktion sehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist eine Liste von Themen, die wir in diesem Artikel diskutieren werden:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist ngrx?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorteile der Verwendung von ngrx</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachteile der Verwendung von ngrx</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wann soll ngrx verwendet werden?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktionen, Getriebe, Selektoren, Speicher und Effekte</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortsetzung des Artikels mit einem Anwendungsbeispiel: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Angular: Ein Beispiel für die Verwendung von NGRX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">"</font></a></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist NGRX?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NGRX ist eine Gruppe von Bibliotheken, die vom Redux-Muster „inspiriert“ sind, das wiederum vom Flux-Muster „inspiriert“ ist. </font><font style="vertical-align: inherit;">Einfach ausgedrückt bedeutet dies, dass das Redux-Muster eine vereinfachte Version des Flux-Musters ist und NGRX die Winkel- / RXJS-Version des Redux-Musters ist.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ich mit der "Angular / Rxjs" -Version von Redux meine ... der "Angular" -Teil ist, dass ngrx eine Bibliothek zur Verwendung in Angular-Anwendungen ist. </font><font style="vertical-align: inherit;">Ein Teil der "rxjs" ist, dass die ngrx-Implementierung um den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rxjs-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Stream herum </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">funktioniert</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dies bedeutet, dass es mit beobachtbaren und verschiedenen beobachtbaren Operatoren funktioniert, die von rxjs bereitgestellt werden.</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Hauptziel dieses Schemas besteht darin, den vorhersagbaren Zustand des Containers auf der Grundlage von drei Grundprinzipien sicherzustellen.</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns die drei Prinzipien des Redux-Modells an und zeigen wir die wichtigsten Vorteile auf, die sie bieten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die einzige Quelle der Wahrheit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Redux / Ngrx-Architektur bedeutet dies, dass der Status Ihrer gesamten Anwendung im Objektbaum im selben Repository gespeichert ist.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In einem Geschäft? </font><font style="vertical-align: inherit;">Wir werden später über Repositories sprechen, aber für ein allgemeines Verständnis sind sie dafür verantwortlich, den Zustand aufrechtzuerhalten und Änderungen daran vorzunehmen, wenn sie darüber informiert werden (wenn die Aktion gesendet wird, werden wir später auch darüber sprechen).</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Vorteile einer einzigen Quelle der Wahrheit sind zahlreich, aber für mich ist der interessanteste (weil dies jede Winkelanwendung beeinflusst) der folgende:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn Sie eine Angular-Anwendung erstellen, teilen Sie normalerweise den Status auf und verwalten mehrere Dienste. </font><font style="vertical-align: inherit;">Wenn Ihre Anwendung wächst, wird es immer schwieriger, Änderungen in Ihrem Status zu verfolgen, und infolgedessen wird es schwierig, Fehler zu beheben und zu warten. Eine einzige Quelle der Wahrheit löst dieses Problem, da der Status nur in einem Objekt und in einem verarbeitet wird Speicherort, so dass das Debuggen oder Hinzufügen von Änderungen viel einfacher wird.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schreibgeschützter Status</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie werden den Status niemals direkt ändern, sondern Aktionen senden, die Aktionen mit dem Objekt beschreiben (dies können beispielsweise das Abrufen, Hinzufügen, Entfernen oder Aktualisieren des Status sein).</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktion senden? .. Wir werden später über die Aktionen sprechen. Zum allgemeinen Verständnis sind dies jedoch die Kennungen des Vorgangs in Ihrer Anwendung. Sie können gestartet (oder gesendet) werden, um die Anwendung anzuweisen, den von der Aktion dargestellten Vorgang auszuführen.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Indem Sie vermeiden, den Status von verschiedenen Orten aus zu aktualisieren, und einen zentralen Ort für Änderungen haben, die auf bestimmte Aktionen reagieren, erhalten Sie viele Vorteile. </font><font style="vertical-align: inherit;">Ganz zu schweigen vom Wichtigsten:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie wissen, dass jede Zustandsänderung nur an einer Stelle erfolgt. </font><font style="vertical-align: inherit;">Dies hat große Auswirkungen auf das Debuggen und Testen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie wissen, dass die Operation im Status immer dieselbe ist, wenn eine bestimmte Aktion gesendet wird. </font><font style="vertical-align: inherit;">Dies wirkt sich wiederum direkt auf das Debuggen und Testen aus.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Änderungen werden mit einfachen Funktionen vorgenommen.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine durch den Versand einer Aktion initiierte Operation ist eine einfache Funktion, die im Rahmen der Redux-Architektur als Reduzierer bezeichnet wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Reduzierungen (denken Sie daran, dass es sich um einfache Funktionen handelt) erhalten eine Aktion und einen Status. Abhängig von der gesendeten Aktion (normalerweise mit der switch-Anweisung) führen sie die Operation aus und geben ein neues Statusobjekt zurück. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Status in der Redux-Anwendung bleibt unverändert! Wenn ein Reduzierer etwas in einem Zustand ändert, gibt er daher ein neues Zustandsobjekt zurück. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Vorteile der Verwendung reiner Funktionen sind bekannt, z. B. die Tatsache, dass sie sofort getestet werden können, wenn Sie dieselben Argumente übergeben, die Sie als Ergebnis erhalten.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Ansatz ermöglicht es uns auch, mithilfe der Redux / ngrx-Entwicklungstools zwischen verschiedenen Instanzen unseres Status zu wechseln und zu sehen, was sich zwischen den Instanzen geändert hat und wer es unter anderem geändert hat. </font><font style="vertical-align: inherit;">Die Verwendung reiner Funktionen und die Rückgabe neuer Statusinstanzen hat daher auch einen großen Einfluss auf das Debuggen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meiner Meinung nach besteht der Hauptvorteil jedoch darin, dass wir durch Binden aller Eingabedaten unserer Komponenten an die Statuseigenschaften die Änderungserkennungsstrategie in Push ändern können, was die Anwendungsleistung erhöht.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Großartig ... Also, was sind die Vorteile von NGRX?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die meisten haben wir bereits erwähnt, als wir über die Prinzipien der Redux-Vorlage sprachen. </font><font style="vertical-align: inherit;">Beachten wir jedoch die wichtigsten Vorteile der Verwendung der Redux-Vorlage in der Anwendung (meiner Meinung nach):</font></font><br>
<br>
<ul>
<li>      ,       ,     .</li>
<li> redux      ,  .</li>
<li>   ,         ,   ,  , ngrx  rxjs,      .</li>
<li>        ngrx,           .</li>
</ul><br>
<h2>…  </h2><br>
<ul>
<li> NGRX, ,   .   ,       ,   ,           .         ,        .</li>
<li>     .   ,    -   ,    , ,       , ,   ,  .      () rxjs    .</li>
<li>NGRX          Google,   , ,     Angular   ngrx.   - ,     ,       .</li>
</ul><br>
<h2>   NGRX</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher wird allgemein vereinbart, dass ngrx in mittleren / großen Projekten eingesetzt werden sollte, wenn die Verwaltung des staatlichen Managements schwierig wird. Einige fanatischere Leute werden etwas sagen wie "Wenn du ein Vermögen hast, dann hast du NGRX." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin damit einverstanden, dass es in mittleren oder großen Projekten verwendet werden sollte, wenn Sie über einen signifikanten Status und viele Komponenten verfügen, die diesen Status verwenden. Sie sollten jedoch berücksichtigen, dass Angular selbst viele Statusverwaltungslösungen bietet und wenn Sie einen starken Status haben Angular Development Team, dann brauchen Sie sich vielleicht keine Sorgen um ngrx zu machen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig glaube ich, dass ein starkes Angular-Entwicklungsteam auch entscheiden kann, ngrx in die Lösung aufzunehmen, da es die volle Leistung der Redux-Vorlage sowie die Stärke der rxjs-Operatoren kennt und sich mit beiden wohl fühlt ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie eine einfache Antwort erwartet haben, Wenn Sie entscheiden möchten, wann Sie ngrx verwenden möchten, erhalten Sie es nicht und vertrauen niemandem, der Ihnen diese Antwort außerhalb Ihrer Organisation oder Gruppe gibt. </font><font style="vertical-align: inherit;">Die Entscheidung hängt davon ab, die Vor- und Nachteile zu studieren, Ihr Team zu verstehen und deren Meinungen zu berücksichtigen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NGRX-Aktionen, Getriebe, Selektoren, Speicher und Effekte</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies sind die Grundbausteine ​​des ngrx-Streams. </font><font style="vertical-align: inherit;">Jeder von ihnen übernimmt einen Teil des Prozesses zum Starten einer Operation, um unseren Zustand zu ändern und Daten zu erhalten. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0p/ms/zd/0pmszdg8q_8lifpdv5uw3j3cahc.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Bild sehen wir den ngrx-Stream. </font><font style="vertical-align: inherit;">Lass es uns erklären ...</font></font><br>
<br>
<ol>
<li>        .  ,  ,    ,    <b></b>.<br>
<blockquote>…<br>
<br>
  «»    () .  —  ,   NGRX Action.    Action'    (        GetUserName):<br>
<br>
<b>type</b> ():     , ,   . : '[User] Get User Login''.<br>
<br>
<b>payload</b> ( ):      ,     .       ,   .       .<br>
</blockquote></li>
<li>      , <b>    </b> (    switch)    ,        ,    .<br>
<blockquote><b>...</b><br>
<br>
 —   ,   :    .    ngrx    ,        ,   ,     ,   ,       .<br>
</blockquote></li>
<li>      ,    - ,        . ,    -    HTTP   .<br>
<blockquote><b>...</b><br>
<br>
    ngrx       ,          ngrx.<br>
<br>
Effects ,  -  , ,  ,  ,        ,    .<br>
<br>
   ,       API.<br>
<br>
  ,      ,        (success, error  ..),     ,        ngrx.<br>
</blockquote> <b> ,    (  ),   «-»   </b> ( ,     ).<br>
</li>
<li>     .      ,  <b>ngrx  ,        ,      .</b><br>
<blockquote><b>...</b><br>
<br>
   ,       ,          ,      .<br>
<br>
 NGRX    «»     .  ,         ,      .<br>
<br>
   .           .   «store»      ,     .<br>
<br>
<b> ...</b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Store ist ein Objekt (eine Instanz der Store ngrx-Klasse), das die zuvor erwähnten Dinge (Aktionen, Reduzierer, Selektoren) kombiniert. </font><font style="vertical-align: inherit;">Wenn beispielsweise eine Aktion gesendet wird (mithilfe der Sendefunktion des Speicherobjekts), ist der Speicher derjenige, der den entsprechenden Reduzierer findet und ausführt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Er ist auch Inhaber eines Antragsstaats.</font></font><br>
</blockquote></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortsetzung Artikel mit Anwendungsbeispielen: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Angular: Ein Beispiel für die Verwendung von NGRX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">"</font></a></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de489662/index.html">PHP Digest Nr. 174 (10. - 24. Februar 2020)</a></li>
<li><a href="../de489664/index.html">NPS, Förderer, automatisches Rechnen und wieder ... Coroutinen</a></li>
<li><a href="../de489666/index.html">Überladen in C ++. Teil II Überlastung des Bedieners</a></li>
<li><a href="../de489668/index.html">CPU-Limits und aggressive Drosselung in Kubernetes</a></li>
<li><a href="../de489672/index.html">Wir beleben den Hexapod wieder. Zweiter Teil</a></li>
<li><a href="../de489676/index.html">Wir erstellen einen Klon des Lebensmittel-Lieferservices mit Nuxt.js, GraphQL, Strapi und Stripe. Teil 1/7</a></li>
<li><a href="../de489678/index.html">Unzerstörbares Gedächtnis, unzerstörbare Prozesse</a></li>
<li><a href="../de489682/index.html">Ursprungsübergreifende Leseblockierung (CORB) in Chrome-Erweiterungen</a></li>
<li><a href="../de489684/index.html">Dies ist die Norm - 4: Lösen von Problemen mit normalen Karten</a></li>
<li><a href="../de489688/index.html">OData + RxJava + Retrofit 2 für Android-Anwendungen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>