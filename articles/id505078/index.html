<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🤝‍👩🏾 🧟 💙 BLE di bawah mikroskop (ATT GATT ...) 🛀🏽 🙏 🏄</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="BLE di bawah mikroskop (ATT GATT ...) Bagian 1, tinjauan umum
 
 Sudah cukup lama sejak spesifikasi pertama untuk Bluetooth 4.0 keluar. Dan meskipun t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>BLE di bawah mikroskop (ATT GATT ...)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505078/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/jc/9m/ea/jc9meakt15qji8lrruuauk5z_fw.png" alt="gambar"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BLE di bawah mikroskop (ATT GATT ...)</font></font></h2> <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian 1, tinjauan umum</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sudah cukup lama sejak spesifikasi pertama untuk Bluetooth 4.0 keluar. </font><font style="vertical-align: inherit;">Dan meskipun topik BLE sangat menarik, topik itu masih mendorong banyak pengembang menjauh karena kerumitannya. </font><font style="vertical-align: inherit;">Dalam artikel saya sebelumnya, saya terutama melihat level terendah dari Link Layer dan Physical Layer. </font><font style="vertical-align: inherit;">Ini memungkinkan kami untuk tidak membahas konsep yang rumit dan membingungkan seperti Attribute Protocol (ATT) dan General Attribute Profile (GATT). </font><font style="vertical-align: inherit;">Namun, tidak ada tempat untuk pergi tanpa memahaminya, tidak mungkin untuk mengembangkan perangkat yang kompatibel. </font><font style="vertical-align: inherit;">Hari ini saya ingin berbagi pengetahuan ini dengan Anda. </font><font style="vertical-align: inherit;">Dalam artikel saya, saya akan menggambar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari situs web Nordic. </font><font style="vertical-align: inherit;">Jadi mari kita mulai.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengapa semuanya begitu sulit?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut pendapat saya, segera jelas bahwa manajemen perangkat melalui smartphone adalah topik yang sangat menjanjikan dan telah lama diputar. Oleh karena itu, mereka memutuskan untuk menyusunnya segera dan secara maksimal. Sehingga produsen berbagai gadget tidak datang dengan protokol mereka sendiri, yang kemudian tidak akan kompatibel. Karenanya kompleksitas. Sudah pada tahap pertama, mereka mencoba untuk memeras segala sesuatu yang mungkin dalam protokol BLE. Dan tidak masalah apakah itu berguna atau tidak. Selain itu, mereka menyediakan kemungkinan memperluas daftar perangkat untuk masa depan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat gambar di mana diagram protokol BLE diambil. Ini terdiri dari beberapa lapisan. Lapisan fisik terendah (PHY) bertanggung jawab atas saluran radio perangkat. Link Layer (LL) berisi seluruh urutan byte dalam pesan yang dikirimkan. Dalam artikel sebelumnya, kami mempelajarinya. Host Controller Interface (HCI) adalah protokol untuk bertukar antar lapisan atau chip BLE jika Controller dan Host diimplementasikan pada chip yang berbeda. Logical Link Control dan Adaptation Protocol (L2CAP) bertanggung jawab untuk pembentukan paket, membaginya dengan frame, kontrol kesalahan dan perakitan paket. Enkripsi paket adalah tanggung jawab Protokol Manajer Keamanan (SMP). Profil akses bersama (GAP) bertanggung jawab atas komunikasi awal antar perangkat untuk menentukan siapa adalah siapa. Ini juga termasuk pemindaian dan iklan.Pada artikel ini saya akan fokus pada dua bagian protokol yang tersisa - GATT dan ATT. GATT adalah add-on untuk ATT, sehingga mereka sangat terkait.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/51/qi/ms/51qimsv8ccop7bncjcrllcc7tcg.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menyederhanakan cerita, saya ingin beralih ke analogi. Saya mendengarnya di suatu tempat dan ingin mendukung. Bayangkan perangkat BLE sebagai rak buku dengan beberapa rak. Setiap rak adalah subjek yang terpisah. Sebagai contoh, kita memiliki rak dengan fiksi, matematika, ensiklopedia. Di setiap rak ada buku-buku dengan topik tertentu. Dan di beberapa buku bahkan ada penanda kertas dengan catatan. Selain itu, kami memiliki katalog kertas kecil dari semua buku. Jika Anda ingat perpustakaan sekolah, ini adalah kotak sempit dengan kartu kertas. Dengan analogi ini, kabinet adalah profil perangkat kita. Rak adalah layanan, buku adalah fitur, dan direktori adalah tabel atribut. Penanda dalam buku adalah deskriptor, yang juga akan saya bahas nanti, secara lebih rinci.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap orang yang mengembangkan perangkat tahu bahwa banyak proyek memiliki potongan kode yang serupa. Faktanya adalah banyak perangkat memiliki fungsi serupa. Misalnya, jika perangkat menggunakan baterai, maka masalah pengisian dan pengontrolan levelnya akan sama. Hal yang sama berlaku untuk sensor. Sebenarnya, pendekatan berorientasi objek untuk pemrograman </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"menyediakan kemampuan untuk membuat objek yang menggabungkan properti dan perilaku menjadi kesatuan yang independen, yang kemudian dapat digunakan kembali"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Menurut pendapat saya, dalam BLE suatu upaya dilakukan untuk pendekatan yang sama. Bluetooth Special Interest Group (SIG) telah mengembangkan profil. Perangkat dari pabrikan berbeda dengan profil yang sama harus bekerja satu sama lain tanpa kesulitan. Profil, pada gilirannya, terdiri dari layanan, dan layanan karakteristik, dilengkapi oleh deskriptor. Secara umum, ini mungkin terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yv/7v/w-/yv7vw-vhvlnavelyabkxtwe8p0e.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai contoh, pertimbangkan profil profil monitor detak jantung (gelang kebugaran). Ini terdiri dari dua layanan dan beberapa karakteristik. Dari situ, hierarki profil segera menjadi jelas. Karakteristik pos pemeriksaan mengatur ulang jumlah kalori total ke nol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Layanan detak jantung mencakup tiga karakteristik (0x180D): </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;a) Karakteristik wajib dari detak jantung (0x2A37)</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;b) Karakteristik opsional dari posisi sensor tubuh (0x2A38) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;c) Karakteristik bersyarat dari titik referensi detak jantung (0x2A39) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Layanan baterai (0x180F): </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;a) Karakteristik wajib dari level baterai (0x2A19)</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uuid</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar kita dapat dengan jelas merujuk pada elemen profil (layanan, karakteristik, dan deskriptor), kita perlu memberi nomor semuanya entah bagaimana. Untuk tujuan ini, konsep seperti ID Unik Universal (UUID) atau Universal Unique Identifier diperkenalkan. Di dalam kurung setiap baris, hanya UUID yang ditentukan. Dan ada satu fitur. Untuk UUID, kami memutuskan untuk menggunakan panjang kode 16 dan 128 bit. Mengapa kamu bertanya? Dalam protokol BLE, semuanya tunduk pada konservasi energi. Karena itu, dimensi 16 bit cukup masuk akal. Tidak mungkin bahwa dalam waktu dekat lebih dari 65 ribu akan dibuat. layanan dan fitur unik. Saat ini, semua yang mereka dapat sudah dihitung (ingat dari mana asalnya - "dia juga menghitung Anda" :-)) Elemen-elemen bernomor dari </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">profil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">layanan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">karakteristik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">dan</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">deskriptor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Anda dapat melihat tautannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, saya pikir semua orang mengingat cerita dengan 4 byte alamat IP di Internet. Awalnya mereka pikir itu sudah cukup, tetapi sekarang kita masih tidak akan pergi ke alamat 6-byte. Agar tidak mengulangi kesalahan ini dan memberikan ruang kepada tangan main-main dari produsen buatan sendiri, SIG segera memutuskan untuk memperkenalkan UUID 128-bit juga. Ini secara pribadi mengingatkan saya pada pita 433 MHz yang tidak berlisensi, yang diberikan kepada semua jenis Kulibin dari saluran radio. Dalam kasus kami, pengidentifikasi 128-bit layanan dan karakteristik diberikan. Ini berarti bahwa kami, untuk layanan dan perangkat kami, dapat menggunakan hampir semua nilai 128 bit. Lagi pula, kemungkinan menghasilkan UUID yang sama cenderung nol.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan, UUID 16-bit pendek memiliki ekstensi hingga nilai 128-bit. </font><font style="vertical-align: inherit;">Dalam spesifikasinya, ekstensi ini disebut Bluetooth Base UUID dan memiliki nilai 00000000-0000-1000-8000-00805F9B34FB. </font><font style="vertical-align: inherit;">Jika, misalnya, atribut 16-bit UUID memiliki nilai 0x1234, maka UUID 128-bit yang setara akan memiliki nilai 00001234-0000-1000-8000-00805F9B34FB. </font><font style="vertical-align: inherit;">Dan bahkan formula yang sesuai diberikan: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;128_bit_value = 16_bit_value * 2 ^ 96 + Bluetooth_Base_UUID </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak tahu dari mana angka ajaib ini berasal. </font><font style="vertical-align: inherit;">Jika ada pembaca yang tahu, biarkan mereka menulis di komentar. </font><font style="vertical-align: inherit;">Adapun untuk menciptakan UUID 128-bit, pada prinsipnya, Anda dapat menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">generator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> khusus </font><font style="vertical-align: inherit;">yang akan melakukan ini untuk Anda.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATT GATT ...</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sebenarnya, kesenangan dimulai. Saya ingat bahwa ATT didasarkan pada hubungan client-server. Sekarang kami sedang mempertimbangkan perangkat server. Ini berisi informasi seperti nilai sensor, status sakelar lampu, data lokasi, dll. Sekarang setelah semua "peserta dalam parade kami" diberi nomor, entah bagaimana kami harus menempatkannya di memori perangkat. Untuk melakukan ini, kami menempatkan mereka di tabel yang disebut tabel atribut. Ingat ini dengan baik. Ini adalah jantung BLE. Kami akan mempertimbangkannya di masa depan. Sekarang kita akan memanggil setiap baris sebagai atribut. Tabel ini jauh di dalam tumpukan dan, sebagai aturan, kami tidak memiliki akses langsung ke sana. Kami menginisialisasi dan beralih ke sana, tetapi apa yang terjadi di dalam tersembunyi dari kami di belakang tujuh meterai.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhatikan gambar dari spesifikasinya, tetapi sebelum itu, saya ingin segera menarik perhatian pada kerancuan dalam hal istilah, yaitu dalam deskriptor. Peran deskriptor adalah untuk melengkapi deskripsi karakteristik. Ketika perlu untuk memperluas kemampuannya, maka mereka menggunakan deskriptor. Mereka juga atribut, dan dengan cara yang sama, bersama dengan layanan dan karakteristik, mereka terletak di tabel atribut. Kami akan menganalisisnya secara rinci di bagian kedua artikel. Namun, kadang-kadang deskriptor disebut nomor baris dalam tabel atribut. Ini harus diingat. Kami, agar tidak bingung, akan menggunakan istilah "atribut pointer" untuk tujuan ini. </font></font><br>
<img src="https://habrastorage.org/webt/a5/rl/lk/a5rllkmo7i3doe3ripvpjd2ztwy.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi atribut adalah nilai diskrit yang memiliki properti berikut yang terkait dengannya: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Atribut Handle adalah indeks dari tabel yang sesuai dengan atribut</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Jenis Atribut adalah UUID yang menjelaskan jenisnya. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Nilai Atribut adalah data yang diindeks oleh atribut pointer </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Atribut Izin adalah bagian dari atribut, izin yang tidak dapat baca atau tulis menggunakan protokol atribut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana memahami semua ini? Pointer atribut, secara relatif, adalah angka di tabel kami.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini memungkinkan klien untuk merujuk ke atribut dalam permintaan baca atau tulis. Kita dapat memberi nomor pada garis (atribut) dari 0x0001 hingga 0xFFFF. Dalam hubungan kami dengan rak buku, ini adalah nomor kartu di katalog kertas. Demikian pula, seperti dalam katalog perpustakaan, kartu disusun dalam urutan meningkatnya jumlah. Jumlah setiap baris berikutnya harus lebih besar dari yang sebelumnya. Seperti di perpustakaan, beberapa kartu kadang-kadang hilang, jadi kami punya - mungkin ada kesenjangan dalam penomoran baris. Ini dibolehkan Hal utama adalah mereka terus meningkat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jenis atribut menentukan apa atribut itu. Dengan analogi dengan bahasa C, di </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mana ada Boolean, variabel numerik dan string, jadi di sini. Berdasarkan jenis atribut yang kami kenali</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
apa yang kita hadapi dan bagaimana terus bekerja dengan atribut ini. Di bawah ini kita melihat beberapa tipe atribut tertentu. Misalnya, "deklarasi layanan" (0x2800), "deklarasi karakteristik" (0x2803), "deklarasi deskriptor" (0x2902). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nilai atribut sebenarnya adalah nilainya, maaf untuk tautologi. Jika tipe atribut adalah string, maka nilai atributnya mungkin, misalnya, slogan "Hello World !!!". Jika jenis atribut adalah "deklarasi layanan", maka nilainya adalah layanan itu sendiri. Dan terkadang ini adalah informasi tentang di mana menemukan atribut lain dan propertinya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Izin atribut memungkinkan server untuk memahami apakah akses baca atau tulis diizinkan.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhatikan bahwa izin ini hanya berlaku untuk nilai atribut, dan bukan ke bidang penunjuk, jenis, dan izin itu sendiri. </font><font style="vertical-align: inherit;">Itu </font><font style="vertical-align: inherit;">jika rekaman atribut diizinkan, maka kita dapat mengubah, misalnya, baris "Hello World !!!" </font><font style="vertical-align: inherit;">pada baris "Selamat pagi". </font><font style="vertical-align: inherit;">Tetapi kami tidak dapat melarang perekaman baris baru atau, mengubah tipe atribut dan menetapkan baris sebagai "deklarasi layanan". </font><font style="vertical-align: inherit;">Ketika klien mengakses server, klien meminta atributnya. </font><font style="vertical-align: inherit;">Ini memungkinkan klien untuk mencari tahu apa yang dapat disediakan server. </font><font style="vertical-align: inherit;">Meskipun tidak perlu membaca dan menulis nilai.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seperti apa bentuknya</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konsep GATT adalah untuk mengelompokkan atribut dalam tabel atribut bersama dalam urutan yang sangat spesifik dan logis. Mari kita lihat lebih dekat profil detak jantung di bawah ini. Kolom paling kiri dari tabel ini adalah opsional. Dia hanya menjelaskan kepada kita apa garis (atribut) ini. Semua kolom lain sudah akrab bagi kami.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6k/vt/4l/6kvt4lzc9h6ll9kwdu9g6qps22c.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bagian atas setiap grup, kami selalu memiliki atribut iklan layanan. Jenisnya selalu 0x2800, dan penunjuk tergantung pada berapa banyak atribut yang sudah ada dalam tabel. Izinnya selalu hanya-baca, tanpa otentikasi atau otorisasi apa pun. Kami akan membicarakan konsep-konsep ini sedikit kemudian. Nilai adalah UUID lain yang menentukan jenis layanan apa itu. Dalam Tabel, nilainya 0x180D, yang didefinisikan oleh Bluetooth SIG sebagai layanan detak jantung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah pengumuman layanan, pengumuman karakteristik. Dalam bentuk, ini mirip dengan deklarasi layanan. UUID-nya selalu 0x2803, dan izin juga selalu hanya-baca tanpa otentikasi atau otorisasi apa pun. Mari kita lihat bidang Nilai Atribut, yang mencakup beberapa data. Itu selalu berisi pointer, UUID, dan seperangkat properti. Tiga elemen ini menggambarkan deklarasi selanjutnya dari nilai karakteristik. Pointer secara alami menunjukkan tempat deklarasi nilai karakteristik di tabel atribut. UUID menjelaskan jenis informasi atau nilai apa yang dapat kita harapkan. Misalnya, nilai suhu, keadaan sakelar cahaya, atau nilai arbitrer lainnya. Dan akhirnya, properti yang menggambarkan bagaimana Anda dapat berinteraksi dengan nilai karakteristik.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita menunggu jebakan lain. Itu dikaitkan dengan izin atribut dan properti karakteristik. Mari kita lihat gambar properti dari bidang bit dari spesifikasi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ko/co/5y/koco5ykz3gqkfwww1k48ssxvjug.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, ada juga bidang di sini yang menyediakan kemampuan membaca dan menulis. Anda mungkin bertanya-tanya mengapa kami memiliki izin baca / tulis untuk atribut dan properti </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
baca / tulis untuk nilai karakteristik? Bukankah seharusnya mereka selalu sama? Faktanya adalah bahwa properti untuk nilai karakteristik, pada kenyataannya, hanya rekomendasi untuk klien, yang digunakan dalam GATT dan lapisan aplikasi. Ini hanya petunjuk tentang apa yang dapat diharapkan pelanggan dari atribut iklan fitur. Mari kita selesaikan ini dengan lebih detail. Apa jenis izin yang dimiliki atribut? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Izin Akses:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; - membaca </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; - menulis </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; - membaca dan menulis </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Izin otentikasi: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; - diperlukan </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; otentikasi - otentikasi tidak diperlukan </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Izin otorisasi: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; - otorisasi diperlukan </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;&nbsp;&nbsp; - otorisasi tidak diperlukan</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perbedaan utama antara resolusi atribut dan properti karakteristik adalah bahwa yang pertama berhubungan dengan server, dan yang terakhir berhubungan dengan klien. </font><font style="vertical-align: inherit;">Server mungkin diizinkan untuk membaca nilai karakteristik, tetapi pada saat yang sama ada persyaratan otentikasi atau otorisasi. </font><font style="vertical-align: inherit;">Oleh karena itu, ketika klien meminta properti dari karakteristik, kami mendapatkan bahwa pembacaan diperbolehkan. </font><font style="vertical-align: inherit;">Tetapi ketika kita mencoba membaca, kita mendapatkan kesalahan. </font><font style="vertical-align: inherit;">Karenanya, kita dapat dengan aman berbicara tentang prioritas izin atas properti. </font><font style="vertical-align: inherit;">Kami tidak dapat memperoleh pengetahuan tentang izin atribut di sisi klien.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deskriptor</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kembali ke meja kami. Setelah mendeklarasikan nilai karakteristik, deklarasi atribut berikut dimungkinkan: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Deklarasi baru karakteristik (mungkin ada banyak karakteristik dalam layanan) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Deklarasi baru layanan (mungkin ada banyak dari mereka dalam tabel) </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Deklarasi deskriptor</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus karakteristik yang mengukur detak jantung, dalam tabel kami, deklarasi nilai karakteristik disertai dengan deklarasi deskriptor. Deskriptor adalah atribut dengan informasi tambahan tentang karakteristik. Ada beberapa jenis deskriptor. Kami akan membicarakannya secara rinci di bagian kedua artikel ini. Sekarang kita hanya akan menyentuh Descriptor Konfigurasi Karakteristik Klien (CCCD). Ini memiliki UUID 0x2902. Menggunakan deskriptor ini, klien memiliki kemampuan untuk mengaktifkan indikasi atau notifikasi di server. Perbedaan di antara mereka kecil, tetapi masih ada. Notifikasi tidak memerlukan konfirmasi penerimaan oleh klien. Indikasi memerlukan ini, meskipun terjadi pada level GATT, tidak mencapai level aplikasi. Kenapa begitu, Anda bertanya? Sayangnya, saya tidak tahu.Saya hanya bisa mengatakan bahwa para ahli Nordik merekomendasikan untuk menggunakan notifikasi. Selain itu, pemeriksaan integritas paket (menggunakan CRC) terjadi dalam kedua kasus.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di akhir artikel, saya ingin mengatakan ini. </font><font style="vertical-align: inherit;">Tabel terakhir agak membingungkan. </font><font style="vertical-align: inherit;">Namun, saya memutuskan karena itu diberikan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang saya andalkan. </font><font style="vertical-align: inherit;">Di bagian kedua artikel saya, saya bermaksud mempelajari spesifikasi BlueTooth 4.0. </font><font style="vertical-align: inherit;">Di sana kami menunggu skema dan gambar yang lebih benar. </font><font style="vertical-align: inherit;">Pada bagian ketiga, saya ingin mengurai log yang diperoleh dengan bantuan program Wireshark dari salah satu gadget dan melihat "hidup" semua teori yang sedang kita pelajari. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karyawan Grup Perusahaan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Satelit Caesar</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pecherskikh Vladimir</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id505052/index.html">Pengujian cepat Motionia.js dan Consoleimg.js</a></li>
<li><a href="../id505060/index.html">Masukkan numpy array ke dalam database MySQL melalui Python</a></li>
<li><a href="../id505064/index.html">Mikrotik split-dns: mereka berhasil</a></li>
<li><a href="../id505070/index.html">Masturbasi intelektual tentang tulisan yang bagus</a></li>
<li><a href="../id505074/index.html">Hosting dan server khusus: jawab pertanyaan. Bagian 2. Mengapa Internet mahal di pusat data?</a></li>
<li><a href="../id505080/index.html">Mutex dalam dunia kode asinkron</a></li>
<li><a href="../id505090/index.html">Tentang menerjemahkan kata "berguna" / "digunakan" tanpa menggunakan / berguna</a></li>
<li><a href="../id505092/index.html">Bagaimana saya mendapat pekerjaan di Microsoft</a></li>
<li><a href="../id505098/index.html">Ulasan Telepon IP Snom D717</a></li>
<li><a href="../id505104/index.html">Bagaimana kami mengembangkan layanan yang masuk ke 5 situs farmasi terbesar di dunia</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>