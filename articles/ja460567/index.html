<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ© ğŸŒªï¸ ğŸŒ¡ï¸ React Nativeï¼šãƒ‰ãƒ©ãƒƒã‚°ï¼†ã‚¹ãƒ¯ã‚¤ãƒ—å¯èƒ½ãªãƒªã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ ğŸ¦ ğŸ”½ ğŸšŸ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ä»Šæ—¥ã€ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ã™ã‚‹æ©Ÿèƒ½ã‚’å‚™ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’é©šã‹ã›ã‚‹ã“ã¨ã¯å›°é›£ã§ã™ã€‚ç§ãŸã¡ã®åå¿œãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®1ã¤ã«ã‚‚ãã®ã‚ˆã†ãªæ©Ÿèƒ½ãŒã‚ã‚Šã¾ã—ãŸãŒã€æœ€è¿‘ã€ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹æ©Ÿèƒ½ã§ãã‚Œã‚’æ‹¡å¼µã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚ãã—ã¦ã€è§£æ±ºç­–ã‚’è¦‹ã¤ã‘ã‚‹ãƒ—ãƒ­ã‚»...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>React Nativeï¼šãƒ‰ãƒ©ãƒƒã‚°ï¼†ã‚¹ãƒ¯ã‚¤ãƒ—å¯èƒ½ãªãƒªã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/460567/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»Šæ—¥ã€ãƒ¢ãƒã‚¤ãƒ«ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ã™ã‚‹æ©Ÿèƒ½ã‚’å‚™ãˆãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’é©šã‹ã›ã‚‹ã“ã¨ã¯å›°é›£ã§ã™ã€‚</font><font style="vertical-align: inherit;">ç§ãŸã¡ã®åå¿œãƒã‚¤ãƒ†ã‚£ãƒ–ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®1ã¤ã«ã‚‚ãã®ã‚ˆã†ãªæ©Ÿèƒ½ãŒã‚ã‚Šã¾ã—ãŸãŒã€æœ€è¿‘ã€ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã‚’ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—ã™ã‚‹æ©Ÿèƒ½ã§ãã‚Œã‚’æ‹¡å¼µã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãã—ã¦ã€è§£æ±ºç­–ã‚’è¦‹ã¤ã‘ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã«ã¯ã‚ã‚‹ç¨‹åº¦ã®ç¥çµŒç´°èƒãŒå¿…è¦ã ã£ãŸã®ã§ã€å°†æ¥ã®ä¸–ä»£ã®ãŸã‚ã«è²´é‡ãªæ™‚é–“ã‚’ç¯€ç´„ã™ã‚‹ãŸã‚ã«çŸ­ã„è¨˜äº‹ã‚’æå‡ºã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/28/2s/oq/282soqzy-xmsxuup_ufv0imnp08.gif"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¦ã‚¹ãƒ¯ã‚¤ãƒ—å¯èƒ½ãªãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸ</font></font><code>react-native-swipe-list-view</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚æœ€åˆã«è€ƒãˆãŸã®ã¯ã€ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ã‚’å‚™ãˆãŸãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’å—ã‘å–ã‚Šã€ãƒãƒªãƒã‚ºãƒŸã‚’ãƒ˜ãƒ“ã¨äº¤å·®ã•ã›ã‚‹ã“ã¨ã§ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã®åºƒåŸŸã«ã‚ãŸã‚‹æ¤œç´¢ã«ã‚ˆã‚Š</font></font><code>react-native-draggable-list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><code>react-native-sortable-list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨ã®</font><font style="vertical-align: inherit;">3ã¤ã®å€™è£œãŒä¸ãˆã‚‰ã‚Œã¾ã—ãŸ</font></font><code>react-native-draggable-flatlist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åˆã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€æ·»ä»˜ã•ã‚Œã¦ã„ã‚‹ä¾‹ã‚’å®Ÿè¡Œã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã›ã‚“ã§ã—ãŸï¼ˆãŸã ã—ã€ç§ã ã‘ã§ã¯ãªãã€å¯¾å¿œã™ã‚‹å•é¡ŒãŒissueã«ç¤ºã•ã‚Œã¦ã„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2ç•ªç›®ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã„ã˜ãã‚Šå›ã•ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ã§ã—ãŸãŒã€ãƒ‰ãƒ©ãƒƒã‚°ï¼†ã‚¹ãƒ¯ã‚¤ãƒ—å¯èƒ½ãªãƒªã‚¹ãƒˆã‚’ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚ãŸã ã—ã€çµæœã¯å½±éŸ¿ã‚’å—ã‘ã¦ã„ã¾ã›ã‚“ã€‚ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯æ¥ãšã‹ã—ããªã„ã»ã©æ˜æ»…ã—ã¦ã„ã¾ã™ã€‚å†æç”»ã®æ˜æ»…ã€ãƒªã‚¹ãƒˆã‚’ã¯ã‚‹ã‹ã«è¶…ãˆã‚‹è¦ç´ ã®è½ä¸‹ã€ã¾ãŸã¯ãã‚Œã‚‰ã®æ¶ˆæ»…ã•ãˆã‚ã‚Šã¾ã—ãŸã€‚ã“ã®å½¢ã§ã¯ä½¿ãˆãªã„ã“ã¨ãŒåˆ¤æ˜ã—ã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åˆã¯ã€æœ€å¾Œã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚‚æ°—ã¾ãã‚Œãªå¥³æ€§ã®ã‚ˆã†ã«æŒ¯ã‚‹èˆã„ã¾ã—ãŸãŒã€èª¿ç†æ–¹æ³•ãŒã‚ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã‹ã‚Šã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã“ã®ã€Œå¥³æ€§ã€ã®å¿ƒã®éµã‚’æ‰‹ã«å…¥ã‚Œã€ç§ã¯ãªã‚“ã¨ã‹è¨±å®¹ã§ãã‚‹çµæœã‚’é”æˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç§ãŸã¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã¯ã€ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—ã‚’å›ºå®šã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚¹ãƒ¯ã‚¤ãƒ—å¯èƒ½ãªãƒªã‚¹ãƒˆãŒã‚ã‚Šã¾ã—ãŸãŒã€å®Ÿéš›ã«ã¯ã€ã‚‚ã†ä¸€æ–¹ã®ç«¯ã‹ã‚‰é–‹å§‹ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚æœ€åˆã«ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ãªãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã¦ã‹ã‚‰ã€ã‚¹ãƒ¯ã‚¤ãƒ—ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
èª­è€…ã¯åå¿œãƒã‚¤ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ä½œæˆæ–¹æ³•ã‚’çŸ¥ã£ã¦ã„ã‚‹ã¯ãšãªã®ã§ã€å¿…è¦ãªãƒªã‚¹ãƒˆã®ä½œæˆã«é›†ä¸­ã—ã¾ã—ã‚‡ã†ã€‚</font><font style="vertical-align: inherit;">ä»¥ä¸‹ã§èª¬æ˜ã™ã‚‹ä¾‹ã¯TypeScriptã‚³ãƒ¼ãƒ‰ã§ã™ã€‚</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ãªãƒªã‚¹ãƒˆã‚’ä½œã‚‹</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã ã‹ã‚‰ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã“ã¨ã‹ã‚‰å§‹ã‚ã¾ã—ã‚‡ã†ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">yarn add react-native-draggable-flatlist</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¿…è¦ãªãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ã‚¤ãƒ³ãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./styles'</span>
<span class="hljs-keyword">import</span> DraggableFlatList, { RenderItemInfo, OnMoveEndInfo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-draggable-flatlist'</span>
<span class="hljs-keyword">import</span> ListItem <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/ListItem'</span>
<span class="hljs-keyword">import</span> fakeData <span class="hljs-keyword">from</span> <span class="hljs-string">'./fakeData.json'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã“ã§</font></font><code>DraggableFlatList</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Ÿè£…ãƒ‰ãƒ©ãƒƒã‚°ã‚¢ãƒ³ãƒ‰ãƒ‰ãƒ­ãƒƒãƒ—æ©Ÿèƒ½ã¯ã€ã“ã¨ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‹ã‚‰æˆåˆ†ã§ã‚ã‚‹</font></font><code>ListItem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªã‚¹ãƒˆé …ç›®ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®æˆ‘ã€…ã®æˆåˆ†ï¼ˆã‚³ãƒ¼ãƒ‰ã¯ä»¥ä¸‹æç¤ºã•ã‚Œã‚‹ï¼‰ã€</font></font><code>fakeData</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½ãƒ‡ãƒ¼ã‚¿ã‚’å«ã‚€JSONãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹-ã“ã®å ´åˆã€ãƒ•ã‚©ãƒ¼ãƒ ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—ï¼š</font></font><br>
<br>
<pre><code class="json hljs">{<span class="hljs-attr">"id"</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">"name"</span>: <span class="hljs-string">"JavaScript"</span>, <span class="hljs-attr">"favorite"</span>: <span class="hljs-literal">false</span>}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®Ÿéš›ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã§ã¯ã€ã“ã®ãƒ‡ãƒ¼ã‚¿ã¯ã»ã¨ã‚“ã©ã®å ´åˆã€å°é“å…·ã‹ã‚‰ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«é€ã‚‰ã‚Œã‚‹ã‹ã€ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã‹ã‚‰ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ãŒã€ç§ãŸã¡ã®å ´åˆã€ã»ã¨ã‚“ã©è¡€ã§ç®¡ç†ã—ã¾ã›ã‚“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ä¾‹ã§ã¯TypeScriptã‚’ä½¿ç”¨ã—ã¦ã„ã‚‹ãŸã‚ã€ã„ãã¤ã‹ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã«ã¤ã„ã¦èª¬æ˜ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="javascript hljs">type Language = {
  <span class="hljs-attr">id</span>: number,
  <span class="hljs-attr">name</span>: string,
  <span class="hljs-attr">favorite</span>: boolean,<font></font>
}<font></font>
<font></font>
interface AppProps {}<font></font>
<font></font>
interface AppState {<font></font>
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">Array</span>&lt;Language&gt;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¿ã‚¤ãƒ—</font></font><code>Language</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€ãƒªã‚¹ãƒˆé …ç›®ãŒã©ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã‚’æŒã¤ã‹ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ä¾‹ã§ã¯ã€å°é“å…·ã‹ã‚‰ä½•ã‚‚å–å¾—ã—ãªã„ã®ã§ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</font></font><code>AppProps</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯å–ã‚‹ã«è¶³ã‚‰ãªã„ã‚‚ã®ã§ã‚ã‚Šã€ã‚¹ãƒˆãƒ¼ãƒªãƒ¼</font></font><code>Language</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã«ç¤ºã•ã‚Œã¦ã„ã‚‹</font><font style="vertical-align: inherit;">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®é…åˆ—ã‚’æ ¼ç´</font><font style="vertical-align: inherit;">ã—ã¾ã™</font></font><code>AppState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ã¯ãã‚Œã»ã©å¤§ãããªã„ã®ã§ã€å…¨ä½“ã‚’ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒ—ãƒªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¼ãƒ‰</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>&lt;<span class="hljs-title">AppProps</span>, <span class="hljs-title">AppState</span>&gt; </span>{
  <span class="hljs-keyword">constructor</span>(props: AppProps) {
    <span class="hljs-keyword">super</span>(props)<font></font>
<font></font>
    <span class="hljs-keyword">this</span>.state = {
      <span class="hljs-attr">data</span>: fakeData,<font></font>
    }<font></font>
  }<font></font>
<font></font>
  onMoveEnd = <span class="hljs-function">(<span class="hljs-params">{ data }: OnMoveEndInfo&lt;Language&gt;</span>) =&gt;</span> {
    <span class="hljs-keyword">this</span>.setState({ <span class="hljs-attr">data</span>: data ? [...data] : [] })<font></font>
  }<font></font>
<font></font>
  render() {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.root}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DraggableFlatList</span>
          <span class="hljs-attr">data</span>=<span class="hljs-string">{this.state.data}</span>
          <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{this.renderItem}</span>
          <span class="hljs-attr">keyExtractor</span>=<span class="hljs-string">{(item)</span> =&gt;</span> item.id.toString()}
          scrollPercent={5}
          onMoveEnd={this.onMoveEnd}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><font></font>
    )<font></font>
  }<font></font>
<font></font>
  renderItem = <span class="hljs-function">(<span class="hljs-params">{ item,  move, moveEnd, isActive }: RenderItemInfo&lt;Language&gt;</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ListItem</span>
        <span class="hljs-attr">name</span>=<span class="hljs-string">{item.name}</span>
        <span class="hljs-attr">move</span>=<span class="hljs-string">{move}</span>
        <span class="hljs-attr">moveEnd</span>=<span class="hljs-string">{moveEnd}</span>
        <span class="hljs-attr">isActive</span>=<span class="hljs-string">{isActive}</span>
      /&gt;</span></span><font></font>
    )<font></font>
  }<font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰</font></font><code>onMoveEnd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€ã‚¢ã‚¤ãƒ†ãƒ ãŒç§»å‹•ã•ã‚ŒãŸã¨ãã«å‘¼ã³å‡ºã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®å ´åˆã€çŠ¶æ…‹ã®è¦ç´ ã®æ–°ã—ã„é †åºã§ãƒªã‚¹ãƒˆã‚’é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³å‡ºã—ã¾ã™</font></font><code>this.setState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ¡ã‚½ãƒƒãƒ‰</font></font><code>renderItem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯ã€ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã«ä½¿ç”¨ã•ã‚Œã€RenderItemInfo &lt;Language&gt;ã‚¿ã‚¤ãƒ—ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å–ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã¯æ¬¡ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ãŒå«ã¾ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li> <code>item</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ãƒªã‚¹ãƒˆã«ãƒ‡ãƒ¼ã‚¿ã¨ã—ã¦æ¸¡ã•ã‚Œã‚‹é…åˆ—ã®æ¬¡ã®è¦ç´ </font></font></li>
<li> <code>move</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãã—ã¦</font></font><code>moveEnd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ãƒªã‚¹ãƒˆé …ç›®ãŒç§»å‹•ã•ã‚Œã‚‹ã¨ãã«å‘¼ã³å‡ºã•ã‚Œã‚‹é–¢æ•°ã¯ã€ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã¯ã€ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã‚’æä¾›ã—</font></font><code>DraggableFlatList</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font></li>
<li> <code>isActive</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ã‚¢ã‚¤ãƒ†ãƒ ãŒç¾æ™‚ç‚¹ã§ãƒ‰ãƒ©ãƒƒã‚°å¯èƒ½ã‹ã©ã†ã‹ã‚’æ±ºå®šã™ã‚‹è«–ç†ã‚¿ã‚¤ãƒ—ã®ãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®Ÿéš›ã€ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã‚’è¡¨ç¤ºã™ã‚‹ãŸã‚ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆ</font></font><code>TouchableOpacity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¯</font></font><code>move</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font><font style="vertical-align: inherit;">é•·æŠ¼ã—ã™ã‚‹ã¨ã‚’å‘¼ã³å‡ºã—</font><font style="vertical-align: inherit;">ã€è§£æ”¾ã™ã‚‹ã¨-ã«ãªã‚Š</font></font><code>moveEnd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ListItemã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¼ãƒ‰</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, TouchableOpacity } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./styles'</span><font></font>
<font></font>
interface ListItemProps {<font></font>
  <span class="hljs-attr">name</span>: string,
  <span class="hljs-attr">move</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">void</span>,
  <span class="hljs-attr">moveEnd</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">void</span>,
  <span class="hljs-attr">isActive</span>: boolean,<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> ListItem = <span class="hljs-function">(<span class="hljs-params">{ name, move, moveEnd, isActive }: ListItemProps</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">TouchableOpacity</span>
      <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.root,</span> <span class="hljs-attr">isActive</span> &amp;&amp; <span class="hljs-attr">styles.active</span>]}
      <span class="hljs-attr">onLongPress</span>=<span class="hljs-string">{move}</span>
      <span class="hljs-attr">onPressOut</span>=<span class="hljs-string">{moveEnd}</span>
    &gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.text}</span>&gt;</span>{name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableOpacity</span>&gt;</span></span><font></font>
  )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ListItem</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ã¹ã¦ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®ã‚¹ã‚¿ã‚¤ãƒ«ã¯å€‹åˆ¥ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ç§»å‹•ã•ã‚Œã€ã“ã“ã«ã¯è¨˜è¼‰ã•ã‚Œã¦ã„ã¾ã›ã‚“ãŒã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªãƒã‚¸ãƒˆãƒª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§è¡¨ç¤ºã§ã</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã¾ã™</font></a><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çµæœã®çµæœï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yz/2a/lr/yz2alrixtubziyk1vx4cuptrnxo.gif"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¹ãƒ¯ã‚¤ãƒ—ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã•ã¦ã€ç§ãŸã¡ã¯æœ€åˆã®éƒ¨åˆ†ã«ã†ã¾ãå¯¾å‡¦ã—ã€ãƒãƒ«ãƒ¬ã‚¾ãƒ³ãƒãƒ¬ã‚¨ã®å¾ŒåŠã«é€²ã¿ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒªã‚¹ãƒˆã‚¢ã‚¤ãƒ†ãƒ ã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ã«ã¯ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ä½¿ç”¨ã—ã¾ã™</font></font><code>react-native-swipe-list-view</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é–‹å§‹ã™ã‚‹ã«ã¯ã€ãã‚Œã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¾ã—ã‚‡ã†ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">yarn add react-native-swipe-list-view</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã¯</font></font><code>SwipeRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«ã‚ˆã‚‹ã¨ã€æ¬¡ã®2ã¤ã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒå«ã¾ã‚Œã¦ã„ã‚‹ã¯ãšã®ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;SwipeRow&gt;
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{hiddenRowStyle}</span> /&gt;</span></span>
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{visibleRowStyle}</span> /&gt;</span></span>
&lt;/SwipeRow&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åˆã®ãƒ“ãƒ¥ãƒ¼ã¯2ç•ªç›®ã®ãƒ“ãƒ¥ãƒ¼ã®ä¸‹ã«æç”»ã•ã‚Œã‚‹ã“ã¨ã«æ³¨æ„ã—ã¦ãã ã•ã„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã—ã¦ã¿ã¾ã—ã‚‡ã†</font></font><code>ListItem</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ListItemã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¼ãƒ‰</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { Text, TouchableOpacity, View, Image } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> { SwipeRow } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-swipe-list-view'</span>
<span class="hljs-keyword">import</span> { Language } <span class="hljs-keyword">from</span> <span class="hljs-string">'../../App'</span><font></font>
<font></font>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./styles'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> heart = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./icons8-heart-24.png'</span>)
<span class="hljs-keyword">const</span> filledHeart = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./icons8-heart-24-filled.png'</span>)<font></font>
<font></font>
interface ListItemProps {<font></font>
  <span class="hljs-attr">item</span>: Language,
  <span class="hljs-attr">move</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">void</span>,
  <span class="hljs-attr">moveEnd</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">void</span>,
  <span class="hljs-attr">isActive</span>: boolean,
  <span class="hljs-attr">onHeartPress</span>: <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-keyword">void</span>,<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> ListItem = <span class="hljs-function">(<span class="hljs-params">{ item, move, moveEnd, isActive, onHeartPress }: ListItemProps</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">SwipeRow</span>
      <span class="hljs-attr">rightOpenValue</span>=<span class="hljs-string">{-180}</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.hidden}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">TouchableOpacity</span> <span class="hljs-attr">onPress</span>=<span class="hljs-string">{onHeartPress}</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">Image</span> <span class="hljs-attr">source</span>=<span class="hljs-string">{item.favorite</span> ? <span class="hljs-attr">filledHeart</span> <span class="hljs-attr">:</span> <span class="hljs-attr">heart</span>} /&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableOpacity</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>

      <span class="hljs-tag">&lt;<span class="hljs-name">TouchableOpacity</span>
        <span class="hljs-attr">activeOpacity</span>=<span class="hljs-string">{1}</span>
        <span class="hljs-attr">style</span>=<span class="hljs-string">{[styles.root,</span> <span class="hljs-attr">isActive</span> &amp;&amp; <span class="hljs-attr">styles.active</span>]}
        <span class="hljs-attr">onLongPress</span>=<span class="hljs-string">{move}</span>
        <span class="hljs-attr">onPressOut</span>=<span class="hljs-string">{moveEnd}</span>
      &gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Text</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.text}</span>&gt;</span>{item.name}<span class="hljs-tag">&lt;/<span class="hljs-name">Text</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">TouchableOpacity</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">SwipeRow</span>&gt;</span></span><font></font>
  )<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ListItem</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãšã€</font><font style="vertical-align: inherit;">è¦ç´ ã‚’ã‚¹ãƒ¯ã‚¤ãƒ—ã§ãã‚‹è·é›¢ã‚’æ±ºå®š</font></font><code>SwipeRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã™ã‚‹ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£</font></font><code>rightOpenValue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’</font><font style="vertical-align: inherit;">æŒã¤</font><font style="vertical-align: inherit;">ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’è¿½åŠ ã—ã¾ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¬¬äºŒã«ã€æˆ‘ã€…ã¯ç§»å‹•</font></font><code>SwipeRow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ãŸã¡</font><font style="vertical-align: inherit;">ã®å†…å´ã‚’</font></font><code>TouchableOpacity</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã—ã¦ã€ã“ã®ãƒœã‚¿ãƒ³ã®ä¸‹ã«æç”»ã•ã‚Œã¾ã™ãƒ“ãƒ¥ãƒ¼ã‚’è¿½åŠ ã—ã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ“ãƒ¥ãƒ¼å†…ã«ã¯ã€è¨€èªãŒãŠæ°—ã«å…¥ã‚Šã‹ã©ã†ã‹ã‚’åˆ¤æ–­ã™ã‚‹ãŸã‚ã®çµµãŒæã‹ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¯ãƒªãƒƒã‚¯ã™ã‚‹ã¨å€¤ãŒåè»¢ã—ã¾ã™ã€‚ãƒ‡ãƒ¼ã‚¿ã¯è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«ã‚ã‚‹ãŸã‚ã€ã“ã®ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚’å®Ÿè¡Œã™ã‚‹ã‚³ãƒ¼ãƒ«ãƒãƒƒã‚¯ã‚’ã“ã“ã§ã‚¹ãƒ­ãƒ¼ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦ªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã«å¿…è¦ãªå¤‰æ›´ã‚’åŠ ãˆã¾ã™ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¢ãƒ—ãƒªã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚³ãƒ¼ãƒ‰</font></font></b><div class="spoiler_text"><pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> { View } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native'</span>
<span class="hljs-keyword">import</span> styles <span class="hljs-keyword">from</span> <span class="hljs-string">'./styles'</span>
<span class="hljs-keyword">import</span> DraggableFlatList, { RenderItemInfo, OnMoveEndInfo } <span class="hljs-keyword">from</span> <span class="hljs-string">'react-native-draggable-flatlist'</span>
<span class="hljs-keyword">import</span> ListItem <span class="hljs-keyword">from</span> <span class="hljs-string">'./components/ListItem'</span>
<span class="hljs-keyword">import</span> fakeData <span class="hljs-keyword">from</span> <span class="hljs-string">'./fakeData.json'</span><font></font>
<font></font>
<span class="hljs-keyword">export</span> type Language = {
  <span class="hljs-attr">id</span>: number,
  <span class="hljs-attr">name</span>: string,
  <span class="hljs-attr">favorite</span>: boolean,<font></font>
}<font></font>
<font></font>
interface AppProps {}<font></font>
<font></font>
interface AppState {<font></font>
  <span class="hljs-attr">data</span>: <span class="hljs-built_in">Array</span>&lt;Language&gt;<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">App</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span>&lt;<span class="hljs-title">AppProps</span>, <span class="hljs-title">AppState</span>&gt; </span>{
  <span class="hljs-keyword">constructor</span>(props: AppProps) {
    <span class="hljs-keyword">super</span>(props)<font></font>
<font></font>
    <span class="hljs-keyword">this</span>.state = {
      <span class="hljs-attr">data</span>: fakeData,<font></font>
    }<font></font>
  }<font></font>
<font></font>
  onMoveEnd = <span class="hljs-function">(<span class="hljs-params">{ data }: OnMoveEndInfo&lt;Language&gt;</span>) =&gt;</span> {
    <span class="hljs-keyword">this</span>.setState({ <span class="hljs-attr">data</span>: data ? [...data] : [] })<font></font>
  }<font></font>
<font></font>
  toggleFavorite = <span class="hljs-function">(<span class="hljs-params">value: Language</span>) =&gt;</span> {
    <span class="hljs-keyword">const</span> data = <span class="hljs-keyword">this</span>.state.data.map(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> (<font></font>
      item.id !== value.id ? item : { ...item, <span class="hljs-attr">favorite</span>: !item.favorite }<font></font>
    ))<font></font>
    <span class="hljs-keyword">this</span>.setState({ data })<font></font>
  }<font></font>
<font></font>
  render() {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">style</span>=<span class="hljs-string">{styles.root}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">DraggableFlatList</span>
          <span class="hljs-attr">data</span>=<span class="hljs-string">{this.state.data}</span>
          <span class="hljs-attr">renderItem</span>=<span class="hljs-string">{this.renderItem}</span>
          <span class="hljs-attr">keyExtractor</span>=<span class="hljs-string">{(item)</span> =&gt;</span> item.id.toString()}
          scrollPercent={5}
          onMoveEnd={this.onMoveEnd}
        /&gt;
      <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span></span><font></font>
    )<font></font>
  }<font></font>
<font></font>
  renderItem = <span class="hljs-function">(<span class="hljs-params">{ item, move, moveEnd, isActive }: RenderItemInfo&lt;Language&gt;</span>) =&gt;</span> {
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ListItem</span>
        <span class="hljs-attr">item</span>=<span class="hljs-string">{item}</span>
        <span class="hljs-attr">move</span>=<span class="hljs-string">{move}</span>
        <span class="hljs-attr">moveEnd</span>=<span class="hljs-string">{moveEnd}</span>
        <span class="hljs-attr">isActive</span>=<span class="hljs-string">{isActive}</span>
        <span class="hljs-attr">onHeartPress</span>=<span class="hljs-string">{()</span> =&gt;</span> this.toggleFavorite(item)}
      /&gt;</span><font></font>
    )<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> App</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ä¸Šã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã‚½ãƒ¼ã‚¹</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çµæœã‚’ä»¥ä¸‹ã«ç¤ºã—ã¾ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/28/2s/oq/282soqzy-xmsxuup_ufv0imnp08.gif"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja460555/index.html">6æœˆ22æ—¥ã€Mail.ru Groupã§ã®PyDaConãƒŸãƒ¼ãƒˆã‚¢ãƒƒãƒ—ã‹ã‚‰ã®ãƒ¬ãƒãƒ¼ãƒˆ</a></li>
<li><a href="../ja460557/index.html">ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®å®Ÿä¾‹ã®æŠœç²‹</a></li>
<li><a href="../ja460559/index.html">Reactã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®åæˆ’</a></li>
<li><a href="../ja460561/index.html">Unityã‚’ä½¿ç”¨ã—ã¦åˆ¥ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒãƒ¼ã‚’é–‹ç™ºã™ã‚‹æ–¹æ³•ã€‚åˆ¥ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€ãƒ‘ãƒ¼ãƒˆ2</a></li>
<li><a href="../ja460565/index.html">ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ãŸã‚ã®æˆ¦ã„ã€‚Jeffrey's Coffeeãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å‰µè¨­è€…ãŒVKontakteã§è¨´è¨Ÿã‚’èµ·ã“ã™</a></li>
<li><a href="../ja460569/index.html">ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ/ã‚µãƒ¼ãƒãƒ¼ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£Windowsã®æ©Ÿèƒ½ã‚’å‚™ãˆãŸã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ä½œæˆã€ãƒ‘ãƒ¼ãƒˆ01</a></li>
<li><a href="../ja460573/index.html">Googleã¯ã€ã€ŒreCAPTCHAã€ã¯ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’æ‚ªç”¨ã—ãªã„ã¨è¿°ã¹ã¦ã„ã¾ã™ã€‚ä¿¡ã˜ã‚‰ã‚Œã¾ã™ã‹ï¼Ÿ</a></li>
<li><a href="../ja460577/index.html">ç‹æ§˜ã®é•·ç”Ÿãï¼šé‡è‰¯çŠ¬ã®ç¾¤ã‚Œã®ä¸­ã®éšå±¤ã®æ®‹é…·ãªä¸–ç•Œ</a></li>
<li><a href="../ja460587/index.html">nRF52832ã®å®¹é‡æ€§åœŸå£Œæ°´åˆ†ã‚»ãƒ³ã‚µãƒ¼ç”¨ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</a></li>
<li><a href="../ja460589/index.html">æ•°å­¦ã¨Numpyã‚’ä½¿ç”¨ã—ãŸå˜ç´”ãªãƒ‹ãƒ¥ãƒ¼ãƒ©ãƒ«ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®è¨˜è¿°</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>