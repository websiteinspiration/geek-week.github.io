<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïµÔ∏è üç° ‚öñÔ∏è Automatizacion de apartamentos üëèüèº üë©üèª‚Äçüè≠ üí´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Antecedentes
 El viejo sue√±o de la automatizaci√≥n de apartamentos comenz√≥ su transformaci√≥n en realidad con la compra de un apartamento en un nuevo ed...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Automatizacion de apartamentos</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506558/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antecedentes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El viejo sue√±o de la automatizaci√≥n de apartamentos comenz√≥ su transformaci√≥n en realidad con la compra de un apartamento en un nuevo edificio. </font><font style="vertical-align: inherit;">Ya en la etapa de planificaci√≥n de reparaci√≥n, surgieron los principales requisitos para las redes de servicios p√∫blicos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">control flexible de iluminaci√≥n, suministro de agua, ventilaci√≥n, calefacci√≥n y cargas de energ√≠a;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la capacidad de implementar scripts;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">control remoto y notificaci√≥n;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apagado centralizado de toda la iluminaci√≥n;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cierre centralizado de cargas no prioritarias y suministro de agua;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en el futuro - la posibilidad de control por voz.</font></font></li>
</ol><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Electricista</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que para m√≠ la opci√≥n de control m√°s confiable es un circuito cableado, se decidi√≥ comenzar a implementar la idea con una revisi√≥n de la electricidad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seg√∫n el proyecto del desarrollador, todas las cargas se dividieron en 4 grupos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caldera;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encendiendo;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salidas de cocina y pasillo;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">todo el resto.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toda la automatizaci√≥n modular estaba ubicada en el tablero del piso, 4 cables ingresaron al departamento: 2 3x2.5 mm2 y 2 3x1.5 mm2, lo que no satisfizo mis necesidades. </font><font style="vertical-align: inherit;">Se decidi√≥ transportar el cable desde el tablero del piso y transferir la centralita directamente al departamento. </font><font style="vertical-align: inherit;">Como resultado, un contador y un interruptor de circuito introductorio para 40A permanecieron en la placa del piso, luego un cable de 3x6 mm2 a la placa del apartamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al dise√±ar una placa de apartamento, se tuvieron en cuenta los siguientes requisitos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">protecci√≥n contra sobretensiones;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carga prioritaria (no desconectable);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carga no prioritaria (desconectada);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">protecci√≥n diferencial en grupos "peligrosos" (todo lo que se opera en habitaciones h√∫medas, todo lo relacionado con el agua y todo lo que los ni√±os pueden alcanzar).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, surgi√≥ el siguiente esquema:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/aj/ho/ue/ajhoueqw41w1cblhjxspipmvilm.png" alt="imagen"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas las cargas se dividieron en grupos desconectables y no desconectables. </font><font style="vertical-align: inherit;">Los grupos no desconectables incluyen: fuente de alimentaci√≥n para el refrigerador, caldera, gabinete de baja corriente y controlador. </font><font style="vertical-align: inherit;">El grupo desconectado, al que pertenecen todas las dem√°s cargas, se alimenta a trav√©s de un interruptor de circuito com√∫n y un contactor, que ser√° controlado por las se√±ales del controlador, y tambi√©n recogeremos la se√±al de estado del contactor al controlador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para acomodar toda la automatizaci√≥n modular necesaria, se eligi√≥ un escudo incorporado para 72 m√≥dulos (como result√≥ m√°s tarde, no hay mucho espacio en el escudo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El proceso de rehacer completamente a los electricistas dentro del apartamento ha comenzado. </font><font style="vertical-align: inherit;">De las caracter√≠sticas: las rutas de cable de todas las fuentes de luz y los interruptores se introdujeron directamente en el panel del apartamento.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatizaci√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debido al hecho de que en mi pr√°ctica tuve que lidiar con la automatizaci√≥n industrial, varias opciones para PLC y PLR de Siemens, ABB, Schneider-Electric, Aries, etc. se consideraron como dispositivos de control. </font><font style="vertical-align: inherit;">Como resultado, la elecci√≥n recay√≥ en el rel√© l√≥gico programable ONI PLR (PLR-S-CPU-1004R-AC-BE, en adelante, por brevedad, el controlador). </font><font style="vertical-align: inherit;">Por qu√© exactamente as√≠:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bus RS-485 incorporado con soporte de protocolo Modbus;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">salidas discretas implementadas en forma de rel√©s de 3 y 10 amperios;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fuente de alimentaci√≥n de 220V; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tama√±os compactos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">factor de forma para montar en un riel DIN;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la presencia de una pantalla y controles directamente en el caso;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">precio.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como 10 entradas digitales y 4 salidas de rel√© no eran suficientes, adem√°s de la unidad principal, se seleccionaron dos m√≥dulos de expansi√≥n con 8 entradas digitales, 4 salidas de rel√© 3A, 4 salidas de rel√© 10A. </font><font style="vertical-align: inherit;">El desarrollo de este rel√© se lleva a cabo utilizando el lenguaje de diagrama funcional (FBD).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suministro de agua</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El constructor vendi√≥ el suministro de agua al departamento de tal manera que hay 3 elevadores de agua fr√≠a en el departamento. </font><font style="vertical-align: inherit;">Porque </font><font style="vertical-align: inherit;">Dado que el agua caliente se prepara en una caldera de gas, para cerrar completamente el agua, por ejemplo en el ba√±o, es necesario bloquear tanto el elevador en el ba√±o como el elevador en la cocina, desde donde se alimenta la caldera. </font><font style="vertical-align: inherit;">Sobre esta base, para controlar el suministro de agua y como sistema de protecci√≥n contra fugas, se compraron 3 juegos de cerraduras hidr√°ulicas (unidades y sensores autoalimentados), que tienen la capacidad de combinar un control externo centralizado en un solo sistema, as√≠ como recibir una se√±al sobre el funcionamiento de los sensores de fugas. </font><font style="vertical-align: inherit;">Se conect√≥ un cable STP a la ubicaci√≥n de instalaci√≥n de cada unidad desde el panel del apartamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V√°lvula de bola montada con actuador:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/a1/ul/oc/a1ulocy0gp7iy1wpjhdzi_d4fag.png" alt="imagen"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Selecci√≥n de software de gesti√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Porque </font><font style="vertical-align: inherit;">Soy usuario de varios dispositivos Samsung, como plataforma de administraci√≥n de software decid√≠ seguir usando el software SmartThings, que admite la integraci√≥n a trav√©s de un conector en la nube. </font><font style="vertical-align: inherit;">Para conectar ONI PLR con SmartThings Cloud, deber√° desarrollar un servidor OPC y CloudConnector. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el futuro, la integraci√≥n con el m√≥dem GSM se planifica como un canal de control de respaldo, as√≠ como para la notificaci√≥n de emergencia de situaciones de emergencia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, surgi√≥ el siguiente diagrama de la interacci√≥n de los componentes del sistema:</font></font><br>
 <br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/me/am/eg/meameg3yhqclqqe6m3glbkjuvkg.png" alt="imagen"></div><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementaci√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El mayor problema en esta etapa fue el suministro de componentes, ya que </font><font style="vertical-align: inherit;">El comienzo del trabajo coincidi√≥ con el comienzo del per√≠odo de autoaislamiento. </font><font style="vertical-align: inherit;">Y dado que el tiempo para reparar el apartamento era muy limitado, todo el relleno del escudo tuvo que ser recogido por 5 proveedores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos los cables necesarios se extendieron por el apartamento, se colocaron en un escudo y se marcaron en consecuencia. </font><font style="vertical-align: inherit;">El resultado intermedio se puede ver en la foto a continuaci√≥n:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zi/23/en/zi23en4sgef8kzorqyyavsyfz38.png" alt="imagen"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para darse cuenta de la posibilidad de un control de iluminaci√≥n habitual directamente desde las habitaciones, se utilizaron interruptores est√°ndar de una y dos teclas con una posici√≥n no segura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La conexi√≥n de interruptores y cargas al controlador se realiz√≥ de acuerdo con el siguiente esquema:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bi/mr/on/bimrontj12po6p3cvftv2qtt1la.png" alt="imagen"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interruptores</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gg/zj/yj/ggzjyjcktctegzkyknlgorzhilc.png" alt="imagen"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante la puesta en marcha y la depuraci√≥n del controlador, se notaron retrasos extra√±os de 0.5 - 1 segundo al encender / apagar las salidas de rel√© ubicadas en los m√≥dulos de expansi√≥n. </font><font style="vertical-align: inherit;">El problema result√≥ ser muy com√∫n: el estudio desatento de los manuales. </font><font style="vertical-align: inherit;">Antes de conectarse, era necesario establecer las direcciones para los m√≥dulos de expansi√≥n con interruptores DIP, tan pronto como se hizo esto, el controlador funcion√≥ como un reloj. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actualmente, el escudo ensamblado en el interior es el siguiente:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/z0/ms/e3/z0mse3wc4hbhqlylva1-7zhxnii.png" alt="imagen"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actualmente implementa las siguientes funciones:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">control de iluminaci√≥n desde interruptores, para varias habitaciones, desde varios lugares;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">escenarios simples con activaci√≥n autom√°tica de ventilaci√≥n en habitaciones con alta humedad (hasta ahora sin sensores apropiados, solo en base a escenarios de comportamiento t√≠picos, basados ‚Äã‚Äãen el tiempo que las personas estaban en las habitaciones);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apagado general de la iluminaci√≥n (interruptor separado);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cierre forzado del suministro de agua;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cierre del suministro de agua cuando sensores h√∫medos.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el futuro cercano, la implementaci√≥n de la interacci√≥n con el ecosistema SmartThings, la implementaci√≥n de escenarios de trabajo m√°s complejos. </font><font style="vertical-align: inherit;">En este momento, se est√° terminando el trabajo, la implementaci√≥n de la parte del programa del proyecto est√° prevista despu√©s de la mudanza.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es506530/index.html">C√≥mo elegir un UPS</a></li>
<li><a href="../es506532/index.html">A trav√©s de espinas hacia las estrellas: crea un dispositivo para apuntar un puntero l√°ser a cualquier objeto celeste</a></li>
<li><a href="../es506538/index.html">C√≥mo Wikipedia puede revelar sus datos personales y c√≥mo los usa realmente</a></li>
<li><a href="../es506542/index.html">Grabaci√≥n de video de bricolaje en la nube</a></li>
<li><a href="../es506548/index.html">Uso pr√°ctico de Kotlin en startups y empresas.</a></li>
<li><a href="../es506560/index.html">Qu√© escuchar el fin de semana: 5 n√∫meros seleccionados del podcast en ruso sobre tecnolog√≠a de audio</a></li>
<li><a href="../es506562/index.html">¬øPor qu√© es mejor compilar TS en JS de antemano?</a></li>
<li><a href="../es506568/index.html">Niveles y momentos de evaluaci√≥n del proyecto</a></li>
<li><a href="../es506570/index.html">Funcional FizzBuzz en Scala</a></li>
<li><a href="../es506572/index.html">Creaci√≥n de un prototipo de tienda en l√≠nea SPA en htmlix.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>