<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎅 👈🏽 ♠️ HTTP標準では不十分な場合。マイクロノートコミット 🦗 🎞️ 🛕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="みなさん、こんにちは、私の名前はドミトリーで、今日の私は、生産の必要性は、私はなって作られたかについてお話します貢献 Micronautフレームワークの。きっと多くの人が彼のことを聞いたことがあるでしょう。要するに、これはSpring Bootの軽量な代替手段であり、主な重点はリフレクションではなく...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>HTTP標準では不十分な場合。マイクロノートコミット</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/466917/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">みなさん、こんにちは、私の名前はドミトリーで、今日の私は、生産の必要性は、私はなって作られたかについてお話します</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">貢献</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Micronautフレームワークの。きっと多くの人が彼のことを聞いたことがあるでしょう。要するに、これはSpring Bootの軽量な代替手段であり、主な重点はリフレクションではなく、すべての必要な依存関係の予備的なコンパイルです。詳細な知り合いは、公式</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から始めることができ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Micronautフレームワークは、いくつかの内部Yandexプロジェクトで使用されており、非常によく実証されています。</font><font style="vertical-align: inherit;">では、何が欠けていましたか？</font><font style="vertical-align: inherit;">私はすぐに言うことができます。すぐに使えるフレームワークは、原則として、プログラマーがバックエンドを開発するために理論的に必要とする可能性があるすべての機能をサポートしています。</font><font style="vertical-align: inherit;">ただし、そのままではサポートされないまれなケースがあります。</font><font style="vertical-align: inherit;">それらの1つは、HTTPではなくHTTP拡張を使用して作業する必要がある場合です。</font><font style="vertical-align: inherit;">たとえば、追加のメソッドを使用します。</font><font style="vertical-align: inherit;">実際、そのようなケースは、見かけよりもはるかに多いものです。</font><font style="vertical-align: inherit;">さらに、これらのプロトコルの一部は標準です。</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webdav</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、リソースにアクセスするための拡張機能です。</font><font style="vertical-align: inherit;">HTTPは、標準のメソッドに加えて、LOCK、PROPPATCHなどの追加メソッドのサポートを必要とします。</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Caldav</a> —  Webdav      .            :   ,   .&nbsp;.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、リストはこれに限定されません。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=http://www.iana.org/assignments/http-methods/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPメソッド</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=http://www.iana.org/assignments/http-methods/"><font style="vertical-align: inherit;">レジストリを</font></a><font style="vertical-align: inherit;">見ると、RFC標準でのみ記述されているHTTPメソッドが現在39であることがわかります。また、HTTPを介して自己記述型プロトコルがさらにいくつあるかがわかります。したがって、非標準のHTTPメソッドのサポートは非​​常に一般的です。また、使用するフレームワークがそのようなメソッドをサポートしていないこともよくあります。ここでは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://stackoverflow.com/questions/9318837/serving-non-standard-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ExpressJSの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スタックオーバーフローについて</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://stackoverflow.com/questions/9318837/serving-non-standard-"><font style="vertical-align: inherit;">説明し</font></a><font style="vertical-align: inherit;">ます。そして、これが</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トルネード</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のgithubでのプルリクエスト</font><font style="vertical-align: inherit;">です。まあ、MicronautはしばしばSpringの軽量代替品として位置付けられているため、これは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と同じ問題です</font><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メソッドの1つとしてHTTPを拡張するプロトコルのサポートが必要なプロジェクトの1つで、このプロジェクトで長い間使用してきたMicronautと同じ問題に直面したのは当然のことです。 Micronautに非標準メソッドを処理させるのは非常に難しいことが判明しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうして？あなたは、現時点でMicronautにおけるHTTPメソッドの定義を見れば、あなたがするので、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://github.com/micronaut-projects/micronaut-core/blob/afc3fb377fea37f942c1a251be19b58f9f989b22/http/src/main/java/io/micronaut/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見つけます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たとえば、Nettyで行われているように、クラスではなくEnumを使用して設定されていること（私は誤ってNettyについて言及していません。後で複数回ポップアップします）。</font><font style="vertical-align: inherit;">さらに悪いことに、すべての一致サーバーの呼び出しは、メソッドの文字列名ではなく列挙型を使用してフィルタリングされます。</font><font style="vertical-align: inherit;">これは、非標準のHTTPメソッドが必要な場合は、それをEnumで記述する必要があることを意味しますが、これは実際には問題に対するそれほど良い解決策ではありません。</font><font style="vertical-align: inherit;">まず、新しいメソッドが必要になるたびにリポジトリへのコミットが必要になります。</font><font style="vertical-align: inherit;">次に、HTTPメソッドはデフォルトでは標準化されておらず、そのリストはどこにも固定されていないため、考えられるすべての状況を予測することは非現実的です。</font><font style="vertical-align: inherit;">以前は開発者によって提供されていなかったメソッドを何らかの方法で処理するようにMicronautを強制する必要があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション1：額</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/fbd/ed3/332/fbded3332cedae25f99a6537147674b2.jpg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の最も明白な解決策は、Micronautにまったく触れず、その中の何も書き換えないことでした。</font><font style="vertical-align: inherit;">なぜ、私たちがした</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ように</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">例</font></a><font style="vertical-align: inherit;">から始めてnronxをMicronautの前に置くことができるからです</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="nginx hljs"><span class="hljs-section">http</span> {
  <span class="hljs-attribute">upstream</span> other_PROPPATCH {
    <span class="hljs-attribute">server</span> ...;<font></font>
  }<font></font>
  <span class="hljs-attribute">upstream</span> other_REPORT {
    <span class="hljs-attribute">server</span> ...;<font></font>
  }<font></font>
  <span class="hljs-section">server</span> {
    <span class="hljs-attribute">location</span> /service {
      <span class="hljs-attribute">proxy_method</span> POST;
      <span class="hljs-attribute">proxy_pass</span> http://other_<span class="hljs-variable">$request_method</span>;<font></font>
    }<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポイントは何ですか？</font><font style="vertical-align: inherit;">非標準メソッドのnginxに必要なプロキシへのアクセスを強制し、同時にnginx機能を使用してメソッドを変更できます。つまり、POSTメソッドを通じてアクセスし、Micronautが処理できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何が悪いのですか？まず、実際にはMicronautの観点からすべての要求を非べき等にします。非標準的な方法にはそのような分離があることを忘れないでください。たとえば、REPORTはべき等ですが、PROPPATCHはそうではありません。その結果、フレームワークは要求のタイプを認識せず、これらのハンドラーのコードを見ているプログラマーもこれを判別できなくなります。しかし、これは事実ではありません。目的のプロトコルに準拠しているかどうかアプリケーションを自動的にチェックする一連のテストがすでにあります。これらのテストがプロジェクトのそのようなソリューションで機能するためには、次の2つのオプションのいずれかを選択する必要があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストがMicronaut自体ではなくnginxにアクセスできるように、アプリケーション自体に加えて、必要な設定でnginxイメージを生成します。</font><font style="vertical-align: inherit;">Yandexインフラストラクチャでは追加のコンポーネントを調達できますが、この場合、オーバーエンジニアリングは純粋にテスト用のようです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストを書き直して、目的のプロトコルをテストしないようにしますが、nginxがリダイレクトするパスを参照します。</font><font style="vertical-align: inherit;">つまり、実際には、プロトコルではなく、特定の松葉杖の実装の要点をテストしています。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらのオプションも特に美しいわけではないので、アイデアが浮かびました。正しい目的のためにMicronautを修正しないでください。そのような編集は、私たちだけでなく、役立つはずです。</font><font style="vertical-align: inherit;">つまり、私はこのようなものが欲しかった：</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@CustomMethod("PROPFIND")</span>
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">process</span><span class="hljs-params">(
// Provide here HttpRequest or something <span class="hljs-keyword">else</span>, as standard micronaut methods
)</span> </span>{<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして私は元気にこの仕事を引き受けましたが、結局何が起こりましたか？</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策2：すべてを書き直そう！</font></font></h2><br>
<img src="https://habrastorage.org/webt/-y/ma/r1/-ymar1qtuw8owyqjsplgpywlvrs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、一見したところよりもはるかに簡単です。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コミット</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はHttpMethodを列挙型からクラスに変更</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">する</font></a><font style="vertical-align: inherit;">だけです。次に、列挙型のために呼び出されたクラス内に静的メソッド（主にvalueOf）を作成しました。そしてIDEAとGradleを組み合わせることで、何も壊れないようにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで最も困難なのはDefaultUriRouterでした。これは、セットが修正され、可能なメソッドのパスリストの配列が作成されることを想定しているためです。これは新しい実装のために放棄されなければなりませんでした。しかし、一般的に、すべてが非常に単純であることがわかりました。 240行を追加し、116行を削除する必要があることに注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題は、これが大きな変更であるということです。</font><font style="vertical-align: inherit;">はい、実際には、Micronautを使用する通常のプロジェクトでは、ほとんどの場合、コードでHttpMethodを直接使用しないでください。HttpMethodを使用する場合、序数メソッドやその他の特定の列挙メソッドをそこで参照することはほとんどありません。</font><font style="vertical-align: inherit;">ただし、これはバージョン1.xでのこのような変更を許容するものではありません。特に、これはかなりまれなケースをサポートするために開始されたという事実を考慮すると特にそうです。</font><font style="vertical-align: inherit;">しかし2.xの場合、これは通常の編集ですが、それでも2.xまで対応する必要があります。</font><font style="vertical-align: inherit;">したがって、私はより多くのコードを書かなければならなかった...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解決策3：進化的に行動する</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/658/725/876/658725876c4497d4c0e3963c33acf1e2.jpg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、</font><font style="vertical-align: inherit;">バージョン1.3の</font><font style="vertical-align: inherit;">対応する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プルリクエスト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">確認できます</font><font style="vertical-align: inherit;">。ご覧のとおり、大きな変更の場合よりも約5倍多くのコードを記述する必要がありましたが、これは偶然ではありません。ここで、8番目のJavaで導入されたインターフェースのデフォルトメソッドを称賛したいと思います。下位互換性を損なうことのないリファクタリングの場合、これはかけがえのないものであり、8番目のバージョンまでJavaでこれらの編集を行う方法を想像することはできません（ただし、奇妙なことに、8番目の前に大きな変更が行われた可能性があります）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本的な編集は、HttpRequestインターフェースにフィルタリングに使用されるgetMethodメソッドがあったという事実に基づいています。ご想像のとおり、彼は列挙型を返しました。そのため、デフォルトのメソッドgetHttpMethodNameがインターフェースに追加されました。これはデフォルトで列挙値の名前を返します。次に、パスマッチングで元のメソッドが使用されている場所を見つけ、そこで新しいメソッドの呼び出しに置き換えました。そして、Nettyサーバーのインターフェース実装では、インターフェースメソッドがHTTPメソッドの実際の値を使用するように再定義されました。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ディスカッション</font></a><font style="vertical-align: inherit;">で</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
見ることができる1つの落とし穴が含ま</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れており</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Micronautの宣言型クライアントに関係しています。列挙値の名前をNettyのHttpMethodクラスのインスタンスに変換します。メソッドのドキュメントを見ると</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://netty.io/4.0/api/io/netty/handler/codec/"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このクラスの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://netty.io/4.0/api/io/netty/handler/codec/"><font style="vertical-align: inherit;">valueOf</font></a><font style="vertical-align: inherit;">では、標準メソッドの場合はキャッシュされた値が返され、非標準メソッドの場合はクラスの新しいインスタンスが毎回返されます。つまり、高負荷があり、非標準のHTTPメソッドでサーバーに100万回アクセスすると、同時に100万の新しいオブジェクトが作成されます。もちろん、最近のGCはこれに対処する必要がありますが、それでも理由もなく追加のオブジェクトを作成したくありません。次に、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ConcurrentHashMap.computeIfAbsent</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をキャッシュ</font><font style="vertical-align: inherit;">に使用するというアイデアが</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">浮かび上がり</font></a><font style="vertical-align: inherit;">ましたが、ここでもそれほど単純ではありません。問題は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java 8</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の欠陥</font><font style="vertical-align: inherit;">であり、記録が実行されていない場合でもストリームをブロックすることになります。その結果、暫定的な決定を下しました。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準的な方法では、Nettyが提供するインスタンスキャッシングを使用します（実際には、以前と同じです）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非標準のメソッドの場合は、新しいインスタンスを作成します。</font><font style="vertical-align: inherit;">非標準のメソッドを選択する人は、ガベージコレクターがオブジェクトの作成を消化できることを確認する必要があります（たとえば、シェナンドアを使用します）。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">調査結果</font></font></h2><br>
<img src="https://habrastorage.org/getpro/habr/post_images/e9e/e86/571/e9ee86571753ccdd88500c28f701fc10.jpg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に何が言えるでしょうか？</font></font><br>
<br>
<ul>
<li>             .            Micronaut,    HTTP    enum.  ,    , ,  Micronaut   Netty,       .  ,    enum      .          ,       .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オープンソースプロジェクトの有名なアキレス腱（ただし、これはクローズドソースコードを使用する産業プロジェクトでも確認できます）-プロジェクトのドキュメントがありません。</font><font style="vertical-align: inherit;">同時に、Micronautには実際に非常に優れたドキュメントがあります。その使用方法などは何ですか。</font><font style="vertical-align: inherit;">ただし、ここでは、設計上の決定がどのように行われたかを文書化することについて話しています。</font><font style="vertical-align: inherit;">その結果、わずかな改善が必要な場合でも、外部からのプログラマーがプロジェクトの開発に関与することは非常に困難です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高負荷のマルチスレッド環境で1つまたは別のオープンソースプロジェクトが使用されているという事実を考慮することを忘れないでください。</font><font style="vertical-align: inherit;">ここでは、わずかな改善でもこれを考慮する必要がありました。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事の公開準備中、プルリクエストはMicronautウィザードブランチに受け入れられ、バージョン1.3でリリースされます。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja466903/index.html">常に作品を発表する</a></li>
<li><a href="../ja466905/index.html">U-Bootの質問へ</a></li>
<li><a href="../ja466907/index.html">5GおよびWiFi 6：2つのネットワークテクノロジーが1つより優れている場合</a></li>
<li><a href="../ja466911/index.html">米国裁判所はウェブサイトのスクレイピングを完全に合法化し、技術的にそれを禁止した</a></li>
<li><a href="../ja466915/index.html">SFINAEを滑らかで信頼できるものにする方法</a></li>
<li><a href="../ja466921/index.html">自動化プラットフォームを使用したサービス会社とそのソリューションの5つの問題</a></li>
<li><a href="../ja466923/index.html">外国の銀行のIT専門家が資金の出所を証明する方法</a></li>
<li><a href="../ja466925/index.html">Bitrix用のHi-CPU VDSを実行し、オウムを分散させ、壊れないようにする方法</a></li>
<li><a href="../ja466929/index.html">更新トークンを追加</a></li>
<li><a href="../ja466931/index.html">.NET（C＃）アプリケーションのパフォーマンス最適化</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>