<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤²ğŸ¼ ğŸš´ğŸ¾ ğŸ”¹ ç§ã®ç†Šæ‰‹ï¼šã¼ã‚ã‹ã‚‰å¯Œã¾ã§ ğŸ“ ğŸ’« ğŸ’†ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰
 

ç§ã¯1å¹´é–“ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…ã¨ã—ã¦åƒã„ã¦ã„ã¾ã™ã€‚ç§ã®æœ€åˆã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Œæ•µã€ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ã—ãŸã€‚é€šä¿¡ãŒç¢ºç«‹ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã“ã‚Œã¯å¤§ããªå•é¡Œã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚
 

ã—ã‹ã—ã€ç§ãŸã¡ã®å ´åˆã¯ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚
 

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒç‰¹å®šã®ãƒ‡ãƒ¼ã‚¿ã€ç‰¹å®šã®æ§‹é€ ã€ç‰¹å®šã®ãƒ•ã‚©...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ç§ã®ç†Šæ‰‹ï¼šã¼ã‚ã‹ã‚‰å¯Œã¾ã§</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/453502/"><h2 id="predystoriya"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰</font></font></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã¯1å¹´é–“ã€ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºè€…ã¨ã—ã¦åƒã„ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç§ã®æœ€åˆã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã¯ã€Œæ•µã€ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§ã—ãŸã€‚</font><font style="vertical-align: inherit;">é€šä¿¡ãŒç¢ºç«‹ã•ã‚Œã¦ã„ã‚‹å ´åˆã€ã“ã‚Œã¯å¤§ããªå•é¡Œã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã—ã‹ã—ã€ç§ãŸã¡ã®å ´åˆã¯ãã†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒç‰¹å®šã®ãƒ‡ãƒ¼ã‚¿ã€ç‰¹å®šã®æ§‹é€ ã€ç‰¹å®šã®ãƒ•ã‚©ãƒ¼ãƒãƒƒãƒˆã‚’é€ä¿¡ã™ã‚‹ã¨ã„ã†äº‹å®Ÿã«ä¾å­˜ã™ã‚‹ã‚³ãƒ¼ãƒ‰ã‚’é–‹ç™ºã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¯æ­£å¸¸ã«å¿œç­”ã®å†…å®¹ã‚’å¤‰æ›´ã™ã‚‹ã¨è¦‹ãªã—ã¦ã„ã¾ã—ãŸãŒã€è­¦å‘Šã¯ã‚ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãã®çµæœã€ã‚µã‚¤ãƒˆã®ç‰¹å®šã®éƒ¨åˆ†ãŒæ©Ÿèƒ½ã—ãªããªã£ãŸç†ç”±ã‚’ç‰¹å®šã™ã‚‹ã®ã«ä½•æ™‚é–“ã‚‚ã‹ã‹ã‚Šã¾ã—ãŸã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€ä¿¡ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã«ä¾å­˜ã™ã‚‹å‰ã«ã€ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒä½•ã‚’è¿”ã™ã‹ã‚’ç¢ºèªã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã“ã¨ã«æ°—ä»˜ãã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‹ã‚‰ã®ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ã®å•é¡Œã«é–¢ã™ã‚‹ç ”ç©¶ã®ãŸã‚ã®ã‚¿ã‚¹ã‚¯ã‚’ä½œæˆã—ã¾ã—ãŸã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®ç ”ç©¶ã¯ç§ã«å§”è¨—ã•ã‚Œã¾ã—ãŸã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿æ¤œè¨¼ã«ä½¿ç”¨ã—ãŸã„ãƒ„ãƒ¼ãƒ«ã«ãªã‚ŠãŸã„ã‚‚ã®ã®ãƒªã‚¹ãƒˆã‚’ä½œæˆã—ã¾ã—ãŸã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€ã‚‚é‡è¦ãªé¸æŠãƒã‚¤ãƒ³ãƒˆã¯ã€æ¬¡ã®ãƒã‚¤ãƒ³ãƒˆã§ã—ãŸã€‚</font></font></p><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¤œè¨¼ã®å®£è¨€çš„ãªèª¬æ˜ï¼ˆã‚¹ã‚­ãƒ¼ãƒ ï¼‰ã€‚ã“ã‚Œã¯ã€true / falseï¼ˆæœ‰åŠ¹ã€ç„¡åŠ¹ï¼‰ã‚’è¿”ã™æ¤œè¨¼é–¢æ•°ã«å¤‰æ›ã•ã‚Œã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½ã„é€²å…¥é–¾å€¤;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¤œè¨¼ã•ã‚ŒãŸãƒ‡ãƒ¼ã‚¿ã¨æ¤œè¨¼ã®èª¬æ˜ã®é¡ä¼¼æ€§;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚«ã‚¹ã‚¿ãƒ æ¤œè¨¼ã®çµ±åˆã®å®¹æ˜“ã•ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚«ã‚¹ã‚¿ãƒ ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã®çµ±åˆã®å®¹æ˜“ã•ã€‚</font></font></li>
</ul><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãã®çµæœã€TOP-5ï¼ˆajvã€joiã€roi ...ï¼‰ã‚’ç¢ºèªã—ãŸã¨ã“ã‚ã€å¤šãã®æ¤œè¨¼ãƒ©ã‚¤ãƒ–ãƒ©ãƒªãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãã‚Œã‚‰ã¯ã™ã¹ã¦ã¨ã¦ã‚‚è‰¯ã„ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã—ã‹ã—ã€è¤‡é›‘ãªã‚±ãƒ¼ã‚¹ã®5ï¼…ã‚’è§£æ±ºã™ã‚‹ãŸã‚ã«ã€æœ€ã‚‚é »ç¹ã«ç™ºç”Ÿã™ã‚‹ã‚±ãƒ¼ã‚¹ã®95ï¼…ãŒã‹ãªã‚Šå†—é•·ã§ã‹ã•ã°ã‚‹ã‚ˆã†ã«é‹å‘½ã¥ã‘ã‚‰ã‚ŒãŸã‚ˆã†ã«æ€ãˆã¾ã—ãŸã€‚</font></font></p><br>
<p> :      -,    .<br>
  ,       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">quartet</a>.<br>
   ,  , 11   npm.            .</p><br>
<p>      . <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">quartet</a>    .       .  ,     â€“       .      .      .</p><br>
<p>     .</p><br>
<p>            ,      .<br>
        .</p><br>
<h2 id="arhitekturnye-grabli"> </h2><br>
<h3 id="stroko-tipizirovannyy-yazyk-shemy">Â«Â»-  </h3><br>
<p>    ,   .</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> personSchema = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'string'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-string">'number'</span>,
  <span class="hljs-attr">linkedin</span>: [<span class="hljs-string">'string'</span>, <span class="hljs-string">'null'</span>]<font></font>
}</code></pre><br>
<p>      :  â€“   ,  â€“   ,     LinkedIn â€“    null (  )  (  ).</p><br>
<p>      ,              â€“  .  ,          typescript:</p><br>
<pre><code class="javascript hljs">type Person = {
  <span class="hljs-attr">name</span>: string
  <span class="hljs-attr">age</span>: number
  <span class="hljs-attr">linkedin</span>: string | <span class="hljs-literal">null</span>
}</code></pre><br>
<p>(  â€“   )</p><br>
<p>  ,        (  ).   â€“ , -  .</p><br>
<p>    ,        .  â€˜numberâ€™       â€˜numderâ€™.</p><br>
<h3 id="reshenie"></h3><br>
<p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">quartet</a> 8.0.0.     â€“       . </p><br>
<p>   :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> personSchema = {
  <span class="hljs-attr">name</span>: v.string
  <span class="hljs-attr">age</span>: v.number,
  <span class="hljs-attr">linkedin</span>: [v.string, <span class="hljs-literal">null</span>]<font></font>
}</code></pre><br>
<p>     :</p><br>
<ul>
<li>    â€“   ,      .</li>
<li> â€“      .  ,         ,    .</li>
</ul><br>
<h3 id="podderzhka-typescript"> TypeScript</h3><br>
<p> -       Javscript.      Typescript   -    .       .</p><br>
<p>     â€“   ,    -         .</p><br>
<p>      :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> checkPerson = v(personSchema) <span class="hljs-comment">// (0)</span><font></font>
<font></font>
<span class="hljs-comment">// ...</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> person: any = <span class="hljs-keyword">await</span> axios.get(<span class="hljs-string">'https://myapi.com/person/42'</span>)
<span class="hljs-keyword">if</span> (!checkPerson(person)) {<span class="hljs-comment">// (1)</span>
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Invalid person response'</span>)<font></font>
}<font></font>
<span class="hljs-built_in">console</span>.log(person.name) <span class="hljs-comment">// (2)</span></code></pre><br>
<p>       (0).   ,          (1)   .   (2)  <code>person</code>   Person.    .     â€“   type guardâ€™.</p><br>
<h3 id="reshenie-1"></h3><br>
<p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">quartet</a>  Typescript,      â€“  .    ,     â€“  ,    type guardâ€™     .</p><br>
<p>  :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> checkPerson = v&lt;Person&gt;(personSchema) <span class="hljs-comment">// (0)</span><font></font>
<font></font>
<span class="hljs-comment">// ...</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> person: any = <span class="hljs-keyword">await</span> axios.get(<span class="hljs-string">'https://myapi.com/person/42'</span>)
<span class="hljs-keyword">if</span> (!checkPerson(person)) {<span class="hljs-comment">// (1)</span>
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Invalid person response'</span>)<font></font>
}<font></font>
<span class="hljs-built_in">console</span>.log(person.name) <span class="hljs-comment">// (2)</span></code></pre><br>
<p>   (2) <code>person</code>   <code>Person</code>.</p><br>
<h3 id="chitaemost"></h3><br>
<p>   ,    :      ( enumâ€™)     .</p><br>
<p>a)  enumâ€™<br>
  ,    .     Â«Â»   .<br>
    :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> personSchema = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'string'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-string">'number'</span>,
  <span class="hljs-attr">linkedin</span>: [<span class="hljs-string">'null'</span>, <span class="hljs-string">'string'</span>],
  <span class="hljs-attr">sex</span>: v.enum(<span class="hljs-string">'male'</span>, <span class="hljs-string">'female'</span>)<font></font>
}</code></pre><br>
<p>  .    ,      .<br>
    enum  ,  :</p><br>
<pre><code class="javascript hljs">enum Sex {<font></font>
  Male = <span class="hljs-string">'male'</span>,<font></font>
  Female = <span class="hljs-string">'female'</span>
}</code></pre><br>
<p>     .    -   ( â€˜maleâ€™ -&gt; â€˜mâ€™, â€˜femaleâ€™ -&gt; â€˜fâ€™)    . </p><br>
<p>    enumâ€™  :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> personSchema = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'string'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-string">'number'</span>,
  <span class="hljs-attr">linkedin</span>: [<span class="hljs-string">'null'</span>, <span class="hljs-string">'string'</span>],
  <span class="hljs-attr">sex</span>: v.enum(...Object.values(Sex))<font></font>
}</code></pre><br>
<p>   .</p><br>
<p>b)    </p><br>
<p>         â€“      ,         â€“      <code>null</code>   .</p><br>
<p>    :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> personSchema = {
  <span class="hljs-attr">name</span>: <span class="hljs-string">'string'</span>,
  <span class="hljs-attr">age</span>: <span class="hljs-string">'number'</span>,
  <span class="hljs-attr">linkedin</span>: [<span class="hljs-string">'null'</span>, <span class="hljs-string">'string'</span>],
  <span class="hljs-attr">sex</span>: v.enum(...Object.values(Sex)),<font></font>
  ...v.rest([<span class="hljs-string">'null'</span>, <span class="hljs-string">'string'</span>]) <span class="hljs-comment">// Rest props are string | null</span>
}</code></pre><br>
<p>     â€“   .  spread- â€“   ,     .</p><br>
<h3 id="reshenie-2"></h3><br>
<p>     â€“      .        Javascript.  â€“     .    â€“   . (   ) â€“     .</p><br>
<p>    ,       .</p><br>
<p>  ,         â€˜maleâ€™.     -       â€˜maleâ€™.</p><br>
<p>    â€“     â€“   .   ,       ,  ,     ,        .   :</p><br>
<p>       42-.     :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> check42 = v(<span class="hljs-number">42</span>)<font></font>
<font></font>
check42(<span class="hljs-number">42</span>) <span class="hljs-comment">// =&gt; true</span>
check42(<span class="hljs-number">41</span>) <span class="hljs-comment">// =&gt; false</span>
check42(<span class="hljs-number">43</span>) <span class="hljs-comment">// =&gt; false</span>
check42(<span class="hljs-string">'42'</span>) <span class="hljs-comment">// =&gt; false</span></code></pre><br>
<p>      person(   ):</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> personSchema = {
  <span class="hljs-attr">name</span>: v.string,
  <span class="hljs-attr">age</span>: v.number,
  <span class="hljs-attr">linkedin</span>: [<span class="hljs-literal">null</span>, v.string], <span class="hljs-comment">// null is primitive value</span>
  <span class="hljs-attr">sex</span>: [<span class="hljs-string">'male'</span>, <span class="hljs-string">'female'</span>] <span class="hljs-comment">// 'male', 'female' are primitive values</span>
}</code></pre><br>
<p>    numâ€™    :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> personSchema = {
  <span class="hljs-attr">name</span>: v.string,
  <span class="hljs-attr">age</span>: v.number,
  <span class="hljs-attr">linkedin</span>: [<span class="hljs-literal">null</span>, v.string],
  <span class="hljs-attr">sex</span>: <span class="hljs-built_in">Object</span>.values(Sex) <span class="hljs-comment">// same as ['male', 'female']</span>
}</code></pre><br>
<p>          enum   spread-           .</p><br>
<p>   : , , , <code>true</code>, <code>false</code>, <code>null</code>  <code>undefined</code>.</p><br>
<p>         â€“      .    â€“  ,        . </p><br>
<p>             :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> personSchema = {
  <span class="hljs-attr">name</span>: v.string,
  <span class="hljs-attr">age</span>: v.number,
  <span class="hljs-attr">linkedin</span>: [<span class="hljs-literal">null</span>, v.string],
  <span class="hljs-attr">sex</span>: <span class="hljs-built_in">Object</span>.values(Sex),<font></font>
  [v.rest]: [<span class="hljs-literal">null</span>, v.string]<font></font>
}</code></pre><br>
<p>     .       Typescript.</p><br>
<h3 id="svyazannost-validatora-s-funkciey-kotoraya-sozdala-ego">   ,   </h3><br>
<p>     â€“    .       <code>v</code>.</p><br>
<p>,           (  )   v(   ).     :<br>
â€ƒ<br>
a)     </p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> checkPerson = v({
  <span class="hljs-attr">name</span>: v(<span class="hljs-string">'string'</span>, <span class="hljs-string">'wrong name'</span>)
  <span class="hljs-attr">age</span>: v(<span class="hljs-string">'number'</span>, <span class="hljs-string">'wrong age'</span>),
  <span class="hljs-attr">linkedin</span>: v([<span class="hljs-string">'null'</span>, <span class="hljs-string">'string'</span>], <span class="hljs-string">'wrong linkedin'</span>),
  <span class="hljs-attr">sex</span>: v(<font></font>
    v.enum(...Object.values(Sex)),<font></font>
    <span class="hljs-string">'wrong sex value'</span><font></font>
  ),<font></font>
  ...v.rest(<font></font>
    v(<font></font>
      [<span class="hljs-string">'null'</span>, <span class="hljs-string">'string'</span>],
      <span class="hljs-string">'wrong social networks link'</span><font></font>
    )<font></font>
  ) <span class="hljs-comment">// Rest props are string | null</span>
})</code></pre><br>
<p>    â€“        - v.</p><br>
<p>b)   </p><br>
<p>               .</p><br>
<pre><code class="javascript hljs">v.clearContext() <span class="hljs-comment">// same as v.explanations = []</span></code></pre><br>
<p>c)  </p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> isPersonValid = checkPerson(person)</code></pre><br>
<p>   ,    ,      â€“    ,        <code>v.explanation</code>.</p><br>
<p>d)  </p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (!isPersonValid) {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Invalid person response: '</span> + v.explanation.join(<span class="hljs-string">'; '</span>))<font></font>
} <span class="hljs-comment">// ex. Throws â€˜Invalid person response: wrong name; wrong ageâ€™</span></code></pre><br>
<p>     .            .         ,   ,   .            .</p><br>
<h3 id="reshenie-3"></h3><br>
<p>    :      .      :<br>
type Validator = (value: any, explanations?: any[]) =&gt; boolean</p><br>
<p>      â€“   ,      .</p><br>
<p>     .   ,       ,   null,   ,    ,    . </p><br>
<p>     :</p><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> checkPerson = v&lt;Person&gt;({
  <span class="hljs-attr">name</span>: v(v.string, <span class="hljs-string">'wrong name'</span>),
  <span class="hljs-attr">age</span>: v(v.number, <span class="hljs-string">'wrong age'</span>),
  <span class="hljs-attr">linkedin</span>: v([<span class="hljs-literal">null</span>, v.string], <span class="hljs-string">'wrong linkedin'</span>)
  <span class="hljs-attr">sex</span>: v(<span class="hljs-built_in">Object</span>.values(Sex), <span class="hljs-string">'wrong sex'</span>)<font></font>
  [v.rest]: v([<span class="hljs-literal">null</span>, v.string], <span class="hljs-string">'wrong social network'</span>)<font></font>
})<font></font>
<font></font>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">const</span> explanations = []
<span class="hljs-keyword">if</span> (!checkPerson(person, explanation)) {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Wrong person: '</span> + explanations.join(<span class="hljs-string">'; '</span>))<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// OR</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> getExplanation = v.explain(checkPerson)
<span class="hljs-keyword">const</span> explanations = getExplanation(person)
<span class="hljs-keyword">if</span> (explanations) {
  <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">TypeError</span>(<span class="hljs-string">'Wrong person: '</span> + explanations.join(<span class="hljs-string">'; '</span>))<font></font>
}</code></pre><br>
<h2 id="posleslovie"></h2><br>
<p>    -    :</p><br>
<ul>
<li>  ,       </li>
<li>   (    v.explanation)</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é–‹ç™ºä¸­ã®å°ã•ãªä¾‹ã§ã®ãƒ†ã‚¹ãƒˆ-å®Ÿéš›ã®å¤§ããªã‚±ãƒ¼ã‚¹ã§ä½¿ç”¨ã—ãŸã¨ãã«ç™ºç”Ÿã™ã‚‹å•é¡Œã¯ç¤ºã•ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ </font></font></li>
</ul><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã—ã‹ã—ã€ç§ã¯ã“ã‚Œã‚‰ã®å•é¡Œã®åˆ†æã‚’è¡Œã£ã¦è‰¯ã‹ã£ãŸã—ã€ãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸãƒãƒ¼ã‚¸ãƒ§ãƒ³ã¯ã™ã§ã«ç§ãŸã¡ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã—ã¦ã€ãã‚ŒãŒä»¥å‰ã®ã‚‚ã®ã¨åŒã˜ãã‚‰ã„ç§ãŸã¡ã«å½¹ç«‹ã¤ã“ã¨ã‚’é¡˜ã£ã¦ã„ã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èª­ã‚“ã§ãã‚Œã¦ã‚ã‚ŠãŒã¨ã†ã€ç§ã®çµŒé¨“ãŒã‚ãªãŸã«å½¹ç«‹ã¤ã“ã¨ã‚’é¡˜ã£ã¦ã„ã¾ã™ã€‚</font></font></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja453484/index.html">4ãƒ“ãƒƒãƒˆBCDã‚«ã‚¦ãƒ³ã‚¿ãƒ¼</a></li>
<li><a href="../ja453486/index.html">ç±³å›½ã®è‡ªç”±å¸‚å ´ã®åŸå‰‡</a></li>
<li><a href="../ja453490/index.html">OpenStreetMap No. 461ã®ä¸–ç•Œã‹ã‚‰ã®ãŠçŸ¥ã‚‰ã›ï¼ˆ05/14/2019-05/05/2019ï¼‰</a></li>
<li><a href="../ja453492/index.html">ã‚»ãƒãƒ³ãƒ†ã‚£ãƒƒã‚¯ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒ†ã‚¯ãƒãƒ­ã‚¸ãƒ¼ã‚’ä½¿ç”¨ã—ãŸTrelloç¤¾ã®ãƒ“ã‚¸ãƒã‚¹ãƒ—ãƒ­ã‚»ã‚¹è‡ªå‹•åŒ–</a></li>
<li><a href="../ja453496/index.html">å¹¸ã›ãªåŒ–å­¦è€…ã€åŒåƒš</a></li>
<li><a href="../ja453508/index.html">ã‚¹ãƒãƒ¼ãƒˆãƒ•ã‚©ãƒ³ã‚’æŒãŸãªã„ç”·</a></li>
<li><a href="../ja453510/index.html">ã™ã¹ã¦ï¼šUiPath RPAã®æ–°ã—ã„ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã®ä½œæˆã«é–¢ã™ã‚‹ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</a></li>
<li><a href="../ja453512/index.html">ã‚¹ã‚¿ã‚¤ãƒ«è»¢é€</a></li>
<li><a href="../ja453514/index.html">iOSã®ç´¹ä»‹ã‚ªãƒ•ã‚¡ãƒ¼</a></li>
<li><a href="../ja453516/index.html">æœ€å°ã®ã‚ªãƒ¼ãƒˆãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã€‚ãƒ‘ãƒ¼ãƒˆã‚¼ãƒ­ã€‚ä¼ç”»</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>