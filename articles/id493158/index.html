<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ†— ğŸ•º ğŸ‘ğŸ¿ Loghouse 0.3 - pembaruan yang lama ditunggu-tunggu dari sistem logging kami di Kubernetes ã€°ï¸ ğŸ‘¨ğŸ»â€ğŸ’¼ ğŸ‘¨ğŸ¾â€ğŸ’»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Flant memiliki sejumlah pengembangan Open Source, terutama untuk Kubernetes, dan loghouse adalah salah satu yang paling populer. Ini adalah alat loggi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Loghouse 0.3 - pembaruan yang lama ditunggu-tunggu dari sistem logging kami di Kubernetes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/493158/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flant memiliki sejumlah pengembangan Open Source, terutama untuk Kubernetes, dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loghouse</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah salah satu yang paling populer. </font><font style="vertical-align: inherit;">Ini adalah alat logging pusat kami di K8, yang </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diperkenalkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lebih dari 2 tahun yang lalu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ac/qe/lz/acqelzxpdkabvtthknpon8dnv1g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang kami sebutkan di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baru-baru </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">ini tentang log</font></a><font style="vertical-align: inherit;"> , itu membutuhkan perbaikan, dan relevansinya hanya tumbuh seiring waktu. </font><font style="vertical-align: inherit;">Hari ini kami senang memperkenalkan versi baru loghouse - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v0.3.0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Rincian tentang dia - di bawah luka.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kerugian</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami telah menggunakan loghouse di banyak kluster Kubernet selama ini, dan secara umum, solusi ini cocok untuk kami sendiri dan berbagai klien yang juga kami berikan aksesnya. </font><b><font style="vertical-align: inherit;">Keuntungan</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
utamanya </font><font style="vertical-align: inherit;">adalah antarmuka yang sederhana dan intuitif, kemampuan untuk mengeksekusi query SQL, kompresi yang baik, dan konsumsi sumber daya yang rendah saat memasukkan data ke dalam basis data, serta biaya overhead yang rendah selama penyimpanan. </font><font style="vertical-align: inherit;">
Yang paling menyakitkan </font><b><font style="vertical-align: inherit;">masalah</font></b><font style="vertical-align: inherit;"> di loghouse selama operasi:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> penggunaan tabel partisi yang bergabung dengan tabel gabungan;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kurangnya buffer yang akan memuluskan semburan log;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Permata panel web yang usang dan berpotensi rentan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fluentd usang ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loghouse-fluentd: terbaru</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tidak dimulai karena gemset yang bermasalah).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, sejumlah besar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">masalah</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> telah terakumulasi </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">di GitHub</font></a><font style="vertical-align: inherit;"> , yang juga ingin saya selesaikan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perubahan besar dalam loghouse 0.3.0</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktanya, kami telah mengumpulkan cukup banyak perubahan, tetapi kami akan menyoroti yang paling penting. </font><font style="vertical-align: inherit;">Mereka dapat dibagi menjadi 3 kelompok utama:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> meningkatkan penyimpanan log dan skema basis data;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peningkatan pengumpulan log;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> penampilan pemantauan.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Perbaikan dalam penyimpanan log dan desain basis data</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inovasi kunci:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skema penyimpanan log telah berubah, transisi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk bekerja dengan satu tabel dan penolakan tabel partisi telah selesai</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mekanisme pembersihan dasar yang</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dibangun di ClickHouse dari versi terbaru telah mulai </font><font style="vertical-align: inherit;">diterapkan </font><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekarang Anda dapat </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan instalasi ClickHouse eksternal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , bahkan dalam mode cluster.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bandingkan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kinerja sirkuit lama dan baru</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam proyek nyata. </font><font style="vertical-align: inherit;">Berikut adalah contoh mencari URL unik di log aplikasi sumber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dtf.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> online populer </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> 
    string_fields.values[indexOf(string_fields.names, <span class="hljs-string">'path'</span>)] <span class="hljs-keyword">AS</span> <span class="hljs-keyword">path</span>, 
    <span class="hljs-keyword">count</span>(*) <span class="hljs-keyword">AS</span> <span class="hljs-keyword">count</span>
<span class="hljs-keyword">FROM</span> <span class="hljs-keyword">logs</span>
<span class="hljs-keyword">WHERE</span> (namespace = <span class="hljs-string">'kube-nginx-ingress'</span>) <span class="hljs-keyword">AND</span> ((string_fields.values[indexOf(string_fields.names, <span class="hljs-string">'vhost'</span>)]) <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%foobar.baz%'</span>) <span class="hljs-keyword">AND</span> (<span class="hljs-built_in">date</span> = <span class="hljs-string">'2020-02-29'</span>)
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> string_fields.values[indexOf(string_fields.names, <span class="hljs-string">'path'</span>)]
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-keyword">count</span> <span class="hljs-keyword">DESC</span>
<span class="hljs-keyword">LIMIT</span> <span class="hljs-number">20</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seleksi berlangsung selama puluhan juta rekaman. </font><font style="vertical-align: inherit;">Skema lama berjalan dalam 20 detik: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qx/ws/cg/qxwscgrtd4sjpjxd5njk4l9cgp8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baru - dalam 14: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sl/ra/n6/slran6jzocb2yzljkocrkeap5vs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Helm-chart kami</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , maka ketika memperbarui loghouse, basis data akan secara otomatis dimigrasikan ke format baru. </font><font style="vertical-align: inherit;">Jika tidak, Anda harus melakukan migrasi secara manual. </font><font style="vertical-align: inherit;">Prosesnya dijelaskan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Singkatnya, jalankan saja:</font></font><br>
<br>
<pre><code class="bash hljs">DO_DB_DEPLOY=<span class="hljs-literal">true</span> rake create_logs_tables</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, kami mulai menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TTL untuk tabel ClickHouse</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ini memungkinkan Anda untuk secara otomatis menghapus data dari database yang lebih lama dari interval waktu yang ditentukan:</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-keyword">logs</span><font></font>
(<font></font>
....<font></font>
)<font></font>
  <span class="hljs-keyword">ENGINE</span> = MergeTree()
  <span class="hljs-keyword">PARTITION</span> <span class="hljs-keyword">BY</span> (<span class="hljs-built_in">date</span>)
  <span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> (<span class="hljs-built_in">timestamp</span>, nsec, namespace, container_name)<font></font>
  TTL <span class="hljs-built_in">date</span> + toIntervalDay(<span class="hljs-number">14</span>)
  <span class="hljs-keyword">SETTINGS</span> index_granularity = <span class="hljs-number">32768</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh skema database dan konfigurasi untuk ClickHouse, termasuk contoh bekerja dengan cluster CH, dapat ditemukan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koleksi log yang ditingkatkan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inovasi kunci:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buffer telah</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ditambahkan </font><font style="vertical-align: inherit;">yang dirancang untuk memuluskan semburan ketika sejumlah besar log muncul.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menerapkan kemampuan untuk </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengirim log ke loghouse langsung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari aplikasi: melalui TCP dan UDP, dalam format JSON.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baterai loghouse di loghouse adalah tabel baru yang </font></font><code>logs_buffer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ditambahkan ke skema database. </font><font style="vertical-align: inherit;">Tabel ini berada dalam memori, mis. </font><font style="vertical-align: inherit;">disimpan dalam RAM (memiliki tipe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buffer khusus</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ); </font><font style="vertical-align: inherit;">dialah yang harus meratakan beban di pangkalan. </font><font style="vertical-align: inherit;">Terima kasih </font><font style="vertical-align: inherit;">atas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tipnya</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menambahkannya.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sovigod</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Log pengiriman yang diimplementasikan langsung ke loghouse dari aplikasi memungkinkan Anda melakukan ini bahkan melalui netcat:</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">echo</span> <span class="hljs-string">'{"log": {"level": "info", "msg": "hello world"}}'</span> | nc fluentd.loghouse 5170</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Log ini dapat dilihat di namespace tempat loghouse diinstal dalam aliran </font></font><code>net</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ii/as/pp/iiasppd5mr1xfl335vemk-cp2h0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Persyaratan untuk data yang dikirim minimal: pesan harus JSON yang valid dengan bidang </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Kolom </font></font><code>log</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pada gilirannya, bisa berupa string atau JSON bersarang.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Subsistem Pemantauan Logging</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perbaikan penting adalah pemantauan fluentd melalui Prometheus. </font><font style="vertical-align: inherit;">Sekarang loghouse dilengkapi dengan panel untuk Grafana, yang menampilkan semua metrik dasar, seperti:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jumlah pekerja yang fasih;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> jumlah acara yang dikirim ke ClickHouse;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ukuran buffer gratis dalam persen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode panel untuk Grafana dapat dilihat di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panel untuk ClickHouse</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dibuat berdasarkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produk yang sudah jadi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - dari </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f1yegor</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang banyak terima kasih kepada penulis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, panel menampilkan jumlah koneksi ke ClickHouse, penggunaan buffer, aktivitas tugas latar belakang dan jumlah penggabungan. Ini cukup untuk memahami keadaan sistem: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gg/pv/lm/ggpvlmvrkdiqpfwk9pea-7-09re.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panel untuk fluentd</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menunjukkan instance aktif dari fluentd. Ini sangat penting bagi mereka yang tidak ingin / tidak dapat kehilangan log sama sekali:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gm/sy/si/gmsysi96zdxhm89qhwtzb_a9k30.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain status pod, panel menunjukkan beban pada antrian untuk mengirim log ke ClickHouse. </font><font style="vertical-align: inherit;">Pada gilirannya, Anda dapat memahami apakah ClickHouse menangani muatan atau tidak. </font><font style="vertical-align: inherit;">Dalam kasus di mana log tidak dapat hilang, parameter ini juga menjadi kritis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh panel dipertajam untuk pasokan Operator Prometheus kami, namun, panel tersebut mudah dimodifikasi melalui variabel dalam pengaturan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Akhirnya, sebagai bagian dari pekerjaan pemantauan loghouse, kami mengumpulkan gambar Docker saat ini dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clickhouse_exporter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 0.1.0 yang dirilis oleh Percona Labs, ketika penulis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clickhouse_exporter asli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> meninggalkan repositori-nya.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rencana masa depan</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Buatlah mungkin untuk menggunakan kluster ClickHouse di Kubernetes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Buat kerja dengan pemilihan log asinkron dan hapus dari bagian Ruby backend. </font></font></li>
<li>  Ruby-    ,     .</li>
<li> ,     Go.</li>
<li>   .</li>
</ul><br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sangat menyenangkan melihat bahwa proyek loghouse telah menemukan pemirsanya, tidak hanya telah memenangkan bintang di GitHub (600+), tetapi juga mendorong pengguna nyata untuk berbicara tentang keberhasilan dan masalah mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah membuat loghouse lebih dari 2 tahun yang lalu, kami tidak yakin dengan prospeknya, berharap bahwa pasar dan / atau komunitas Open Source akan menawarkan solusi terbaik. </font><font style="vertical-align: inherit;">Namun, hari ini kita melihat bahwa ini adalah jalan yang layak, yang kita sendiri masih pilih dan gunakan pada banyak kelompok Kubernet yang dilayani. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menantikan bantuan apa pun dalam meningkatkan dan mengembangkan loghouse. </font><font style="vertical-align: inherit;">Jika Anda kehilangan sesuatu di loghouse - tulis di komentar. </font><font style="vertical-align: inherit;">Selain itu, tentu saja, kami akan senang bisa aktif di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baca juga di blog kami:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Log in Kubernetes (dan tidak hanya) hari ini: harapan dan kenyataan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li> Â«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="> loghouse â€” Open Source-      Kubernetes</a>Â».</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id493140/index.html">Petualangan Cipollino: Karantina IT Quest dari Flant</a></li>
<li><a href="../id493142/index.html">"Ayo gunakan Kubernet!" Anda sekarang memiliki 8 masalah</a></li>
<li><a href="../id493146/index.html">Proyek sampingan menarik yang dapat Anda lakukan hari ini</a></li>
<li><a href="../id493150/index.html">"Remote" dengan router Cisco</a></li>
<li><a href="../id493152/index.html">Jaringan saraf dan Proses Penambangan: mencoba berteman</a></li>
<li><a href="../id493160/index.html">Bagaimana kami meningkatkan Pencarian Cerdas di hh.ru pada tahun 2019: infografis</a></li>
<li><a href="../id493162/index.html">Daftar terbuka rapat dan konferensi online</a></li>
<li><a href="../id493164/index.html">Ternyata bisnis online bertahan di lingkungan saat ini. Mengapa? DNA dihapus</a></li>
<li><a href="../id493166/index.html">Ontol: pilihan artikel tentang "burnout" [100+]</a></li>
<li><a href="../id493168/index.html">Kalkulator pipipax</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>