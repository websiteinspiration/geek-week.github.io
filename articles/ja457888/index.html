<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☃️ 🍚 🗡️ 変異テスト：テストテスト 🏼 🖊️ 👎🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="テストを書くことは、コードの正しい操作に対する自信を刺激するはずです。多くの場合、コードのカバレッジの程度を操作しており、100％に達したとき、ソリューションは正しいと言えます。あなたはこれについて確信を持っていますか？おそらく、より正確なフィードバックを提供するツールはありますか？
 
 突然変異...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>変異テスト：テストテスト</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/457888/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/wp/2n/bi/wp2nbixsaf3isigus8ufndpvgdc.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストを書くことは、コードの正しい操作に対する自信を刺激するはずです。</font><font style="vertical-align: inherit;">多くの場合、コードのカバレッジの程度を操作しており、100％に達したとき、ソリューションは正しいと言えます。</font><font style="vertical-align: inherit;">あなたはこれについて確信を持っていますか？</font><font style="vertical-align: inherit;">おそらく、より正確なフィードバックを提供するツールはありますか？</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">突然変異テスト</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この用語は、コードの小さな部分を変更し、これがテストにどのように影響するかを確認する状況を表します。変更後、テストが正しく実行された場合、これらのコードではテストが不十分であることを示しています。もちろん、インデントや変数名などの最小の変更をすべてテストする必要はないため、変更後のテストも正しく完了する必要があるため、変更する内容によって異なります。したがって、ミューテーションテストでは、いわゆるミューテーター（モディファイアーメソッド）を使用します。これは、コードの一部を別のコードに置き換えますが、意味のある方法です。これについては、後で詳しく説明します。時々、これらのテストを自分で行い、コード内の何かを変更した場合にテストが失敗するかどうかを確認します。 「システムの半分」をリファクタリングし、テストがまだ成功している場合、すぐに言うことができます彼らが悪いこと。そして、誰かがこれを行い、テストが良いことが判明した場合、おめでとうございます！</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">感染性フレームワーク</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在PHPで最も人気のあるミューテーションテストフレームワークは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Infection</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">PHPUnitとPHPSpecをサポートしており、PHP7.1 +とXdebugまたはphpdbgを使用する必要があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の起動と構成</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の起動時に、フレームワークの対話型コンフィギュレーターが表示されます。これは、設定を含む特別なファイル-fection.json.distを作成します。</font><font style="vertical-align: inherit;">次のようになります。</font></font><br>
<br>
<pre><code class="php hljs">{
    <span class="hljs-string">"timeout"</span>: <span class="hljs-number">10</span>,
    <span class="hljs-string">"source"</span>: {
        <span class="hljs-string">"directories"</span>: [
            <span class="hljs-string">"src"</span><font></font>
        <font></font>
    },<font></font>
    <span class="hljs-string">"logs"</span>: {
        <span class="hljs-string">"text"</span>: <span class="hljs-string">"infection.log"</span>,
        <span class="hljs-string">"perMutator"</span>: <span class="hljs-string">"per-mutator.md"</span><font></font>
    },<font></font>
    <span class="hljs-string">"mutators"</span>: {
        <span class="hljs-string">"@default"</span>: <span class="hljs-literal">true</span><font></font>
    <font></font>
}</code></pre><br>
<code>Timeout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-値が1つのテストの最大期間と等しいオプション。</font><font style="vertical-align: inherit;">で</font></font><code>source</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我々はコードを変異させる元となるディレクトリを示し、あなたは例外を設定することができます。</font><font style="vertical-align: inherit;">そこ</font></font><code>logs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のオプションである</font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちにとって最も興味深いものです、我々は唯一の誤ったテストの統計情報の収集を設定するには、。</font><font style="vertical-align: inherit;">このオプションで</font></font><code>perMutator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、使用したミューテーターを保存できます。</font><font style="vertical-align: inherit;">詳細については、ドキュメントをご覧ください。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例</font></font></h3><br>
<pre><code class="php hljs"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Calculator</span>
</span>{
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">add</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> $a, <span class="hljs-keyword">int</span> $b</span>): <span class="hljs-title">int</span>
    </span>{
        <span class="hljs-keyword">return</span> $a + $b;<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のクラスがあるとします。</font><font style="vertical-align: inherit;">PHPUnitでテストを書いてみましょう：</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CalculatorTest</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">TestCase</span>
</span>{
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@var</span> Calculator
     */</span>
    <span class="hljs-keyword">private</span> $calculator;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setUp</span>(<span class="hljs-params"></span>): <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;calculator = <span class="hljs-keyword">new</span> Calculator();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
     * <span class="hljs-doctag">@dataProvider</span> additionProvider
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testAdd</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> $a, <span class="hljs-keyword">int</span> $b, <span class="hljs-keyword">int</span> $expected</span>): <span class="hljs-title">void</span>
    </span>{
        <span class="hljs-keyword">$this</span>-&gt;assertEquals($expected, <span class="hljs-keyword">$this</span>-&gt;calculator-&gt;add($a, $b));<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">additionProvider</span>(<span class="hljs-params"></span>): <span class="hljs-title">array</span>
    </span>{
        <span class="hljs-keyword">return</span> [<font></font>
            [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>],<font></font>
            [<span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">10</span>],<font></font>
            [<span class="hljs-number">-1</span>, <span class="hljs-number">-2</span>, <span class="hljs-number">-3</span>],<font></font>
            [<span class="hljs-number">-2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>]<font></font>
        ];<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、このテストは、メソッドを実装する前に作成する必要があります</font></font><code>add()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">実行すると、</font></font><code>./vendor/bin/phpunit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のようになります。</font></font><br>
<br>
<pre><code class="php hljs">PHPUnit <span class="hljs-number">8.2</span><span class="hljs-number">.2</span> by Sebastian Bergmann <span class="hljs-keyword">and</span> contributors.<font></font>
<font></font>
....                                                                <span class="hljs-number">4</span> / <span class="hljs-number">4</span> (<span class="hljs-number">100</span>%)<font></font>
<font></font>
Time: <span class="hljs-number">39</span> ms, Memory: <span class="hljs-number">4.00</span> MB<font></font>
<font></font>
OK (<span class="hljs-number">4</span> tests, <span class="hljs-number">4</span> assertions)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今してください</font></font><code>./vendor/bin/infection</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="php hljs">You are running Infection with Xdebug enabled.<font></font>
     ____      ____          __  _<font></font>
    /  _/___  / __/__  _____/ /_(_)___  ____<font></font>
    / <span class="hljs-comment">// __ \/ /_/ _ \/ ___/ __/ / __ \/ __ \</span>
  _/ <span class="hljs-comment">// / / / __/  __/ /__/ /_/ / /_/ / / / /</span><font></font>
 /___/_/ /_/_/  \___/\___/\__/_/\____/_/ /_/<font></font>
<font></font>
Running initial test suite...<font></font>
<font></font>
PHPUnit version: <span class="hljs-number">8.2</span><span class="hljs-number">.2</span><font></font>
<font></font>
    <span class="hljs-number">9</span> [============================]  <span class="hljs-number">1</span> sec<font></font>
<font></font>
Generate mutants...<font></font>
<font></font>
Processing source code files: <span class="hljs-number">1</span>/<span class="hljs-number">1</span>Creating mutated files <span class="hljs-keyword">and</span> processes: <span class="hljs-number">0</span>/<span class="hljs-number">2</span>
Creating mutated files <span class="hljs-keyword">and</span> processes: <span class="hljs-number">2</span>/<span class="hljs-number">2</span>
.: killed, M: escaped, S: uncovered, E: fatal <span class="hljs-built_in">error</span>, T: timed out<font></font>
<font></font>
..                                                   (<span class="hljs-number">2</span> / <span class="hljs-number">2</span>)<font></font>
<font></font>
<span class="hljs-number">2</span> mutations were generated:
       <span class="hljs-number">2</span> mutants were killed
       <span class="hljs-number">0</span> mutants were not covered by tests
       <span class="hljs-number">0</span> covered mutants were not detected
       <span class="hljs-number">0</span> errors were encountered
       <span class="hljs-number">0</span> time outs were encountered<font></font>
<font></font>
Metrics:<font></font>
         Mutation Score Indicator (MSI): <span class="hljs-number">100</span>%<font></font>
         Mutation Code Coverage: <span class="hljs-number">100</span>%<font></font>
         Covered Code MSI: <span class="hljs-number">100</span>%<font></font>
<font></font>
Please note that some mutants will inevitably be harmless (i.e. <span class="hljs-literal">false</span> positives).<font></font>
<font></font>
Time: <span class="hljs-number">1</span>s. Memory: <span class="hljs-number">10.00</span>MB</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
感染によると、私たちのテストは正確です。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">per-mutator.md</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルで</font><i><font style="vertical-align: inherit;">、</font></i><font style="vertical-align: inherit;">どのミュー</font><i><font style="vertical-align: inherit;">テーション</font></i><font style="vertical-align: inherit;">が使用されたかを確認できます。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-comment"># Effects per Mutator</span><font></font>
<font></font>
| Mutator | Mutations | Killed | Escaped | Errors | Timed Out | MSI | Covered MSI |<font></font>
| ------- | --------- | ------ | ------- |------- | --------- | --- | ----------- |<font></font>
| Plus | <span class="hljs-number">1</span> | <span class="hljs-number">1</span> | <span class="hljs-number">0</span> | <span class="hljs-number">0</span> | <span class="hljs-number">0</span> | <span class="hljs-number">100</span>| <span class="hljs-number">100</span>|<font></font>
| PublicVisibility | <span class="hljs-number">1</span> | <span class="hljs-number">1</span> | <span class="hljs-number">0</span> | <span class="hljs-number">0</span> | <span class="hljs-number">0</span> | <span class="hljs-number">100</span>| <span class="hljs-number">100</span>|</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mutator Plusは、符号をプラスからマイナスに変更するだけのシンプルなもので、テストを中断する必要があります。</font><font style="vertical-align: inherit;">また、ミューテーター</font></font><code>PublicVisibility</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はこのメソッドのアクセス修飾子を変更します。これにより、テストも中断され、この場合は機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、より複雑なメソッドを追加しましょう。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-comment">/**
 * <span class="hljs-doctag">@param</span> int[] $numbers
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findGreaterThan</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> $numbers, <span class="hljs-keyword">int</span> $threshold</span>): <span class="hljs-title">array</span>
</span>{
    <span class="hljs-keyword">return</span> \array_values(\array_filter($numbers, <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-keyword">int</span> $number</span>) <span class="hljs-title">use</span> (<span class="hljs-params">$threshold</span>) </span>{
        <span class="hljs-keyword">return</span> $number &gt; $threshold;<font></font>
    }));<font></font>
}<font></font>
<font></font>
<font></font>
<font></font>
<span class="hljs-comment">/**
 * <span class="hljs-doctag">@dataProvider</span> findGreaterThanProvider
 */</span>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">testFindGreaterThan</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> $numbers, <span class="hljs-keyword">int</span> $threshold, <span class="hljs-keyword">array</span> $expected</span>): <span class="hljs-title">void</span>
</span>{
    <span class="hljs-keyword">$this</span>-&gt;assertEquals($expected, <span class="hljs-keyword">$this</span>-&gt;calculator-&gt;findGreaterThan($numbers, $threshold));<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findGreaterThanProvider</span>(<span class="hljs-params"></span>): <span class="hljs-title">array</span>
</span>{
    <span class="hljs-keyword">return</span> [<font></font>
        [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">-1</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]],<font></font>
        [[<span class="hljs-number">-2</span>, <span class="hljs-number">-3</span>, <span class="hljs-number">-4</span>], <span class="hljs-number">0</span>, []]<font></font>
    ];<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実行後、次の結果が表示されます。</font></font><br>
<br>
<pre><code class="php hljs">You are running Infection with Xdebug enabled.<font></font>
<font></font>
     ____      ____          __  _<font></font>
    /  _/___  / __/__  _____/ /_(_)___  ____<font></font>
    / <span class="hljs-comment">// __ \/ /_/ _ \/ ___/ __/ / __ \/ __ \</span>
  _/ <span class="hljs-comment">// / / / __/  __/ /__/ /_/ / /_/ / / / /</span><font></font>
 /___/_/ /_/_/  \___/\___/\__/_/\____/_/ /_/<font></font>
<font></font>
Running initial test suite...<font></font>
<font></font>
PHPUnit version: <span class="hljs-number">8.2</span><span class="hljs-number">.2</span><font></font>
<font></font>
   <span class="hljs-number">11</span> [============================] &lt; <span class="hljs-number">1</span> sec<font></font>
<font></font>
Generate mutants...<font></font>
<font></font>
Processing source code files: <span class="hljs-number">1</span>/<span class="hljs-number">1</span>Creating mutated files <span class="hljs-keyword">and</span> processes: <span class="hljs-number">0</span>/<span class="hljs-number">7</span>
Creating mutated files <span class="hljs-keyword">and</span> processes: <span class="hljs-number">7</span>/<span class="hljs-number">7</span>
.: killed, M: escaped, S: uncovered, E: fatal <span class="hljs-built_in">error</span>, T: timed out<font></font>
<font></font>
..M..M.                                              (<span class="hljs-number">7</span> / <span class="hljs-number">7</span>)<font></font>
<font></font>
<span class="hljs-number">7</span> mutations were generated:
       <span class="hljs-number">5</span> mutants were killed
       <span class="hljs-number">0</span> mutants were not covered by tests
       <span class="hljs-number">2</span> covered mutants were not detected
       <span class="hljs-number">0</span> errors were encountered
       <span class="hljs-number">0</span> time outs were encountered<font></font>
<font></font>
Metrics:<font></font>
         Mutation Score Indicator (MSI): <span class="hljs-number">71</span>%<font></font>
         Mutation Code Coverage: <span class="hljs-number">100</span>%<font></font>
         Covered Code MSI: <span class="hljs-number">71</span>%<font></font>
<font></font>
Please note that some mutants will inevitably be harmless (i.e. <span class="hljs-literal">false</span> positives).<font></font>
<font></font>
Time: <span class="hljs-number">1</span>s. Memory: <span class="hljs-number">10.00</span>MB</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのテストは正しくありません。</font><font style="vertical-align: inherit;">まず、infection.logファイルを確認します。</font></font><br>
<br>
<pre><code class="php hljs">Escaped mutants:<font></font>
================<font></font>
<font></font>
<font></font>
<span class="hljs-number">1</span>) /home/sarven/projects/infection-playground/infection-playground/src/Calculator.php:<span class="hljs-number">19</span>    [M] UnwrapArrayValues<font></font>
<font></font>
--- Original<font></font>
+++ <span class="hljs-keyword">New</span><font></font>
@@ @@<font></font>
      */<font></font>
     <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findGreaterThan</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> $numbers, <span class="hljs-keyword">int</span> $threshold</span>) : <span class="hljs-title">array</span>
     </span>{<font></font>
-        <span class="hljs-keyword">return</span> \array_values(\array_filter($numbers, <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-keyword">int</span> $number</span>) <span class="hljs-title">use</span>(<span class="hljs-params">$threshold</span>) </span>{<font></font>
+        <span class="hljs-keyword">return</span> \array_filter($numbers, <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-keyword">int</span> $number</span>) <span class="hljs-title">use</span>(<span class="hljs-params">$threshold</span>) </span>{
             <span class="hljs-keyword">return</span> $number &gt; $threshold;<font></font>
-        }));<font></font>
+        });<font></font>
     }<font></font>
<font></font>
<span class="hljs-number">2</span>) /home/sarven/projects/infection-playground/infection-playground/src/Calculator.php:<span class="hljs-number">20</span>    [M] GreaterThan<font></font>
<font></font>
--- Original<font></font>
+++ <span class="hljs-keyword">New</span><font></font>
@@ @@<font></font>
     <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findGreaterThan</span>(<span class="hljs-params"><span class="hljs-keyword">array</span> $numbers, <span class="hljs-keyword">int</span> $threshold</span>) : <span class="hljs-title">array</span>
     </span>{
         <span class="hljs-keyword">return</span> \array_values(\array_filter($numbers, <span class="hljs-built_in">static</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"><span class="hljs-keyword">int</span> $number</span>) <span class="hljs-title">use</span>(<span class="hljs-params">$threshold</span>) </span>{<font></font>
-            <span class="hljs-keyword">return</span> $number &gt; $threshold;<font></font>
+            <span class="hljs-keyword">return</span> $number &gt;= $threshold;<font></font>
         }));<font></font>
     }<font></font>
<font></font>
Timed Out mutants:<font></font>
==================<font></font>
<font></font>
Not Covered mutants:<font></font>
====================</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のキャッチされていない問題は、関数の使用です</font></font><code>array_values</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは</font></font><code>array_filter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、前の配列のキーを使用して値を返す</font><font style="vertical-align: inherit;">ため、キーをリセットするために使用されます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">さらに、私たちのテストでは、それを使用したい場合はありません。</font></font><code>array_values</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それ以外の場合は、同じ値で異なるキーの配列が返されるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の問題は境界線のケースに関連しています。</font><font style="vertical-align: inherit;">比較として、私たちは記号を使用しました</font></font><code>&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が、ボーダーケースはテストして</font></font><code>&gt;=</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いません。</font><font style="vertical-align: inherit;">したがって、で置き換えて</font><font style="vertical-align: inherit;">もテストは中断</font><font style="vertical-align: inherit;">し</font><font style="vertical-align: inherit;">ません。</font><font style="vertical-align: inherit;">テストを1つだけ追加する必要があります。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">findGreaterThanProvider</span>(<span class="hljs-params"></span>): <span class="hljs-title">array</span>
</span>{
    <span class="hljs-keyword">return</span> [<font></font>
        [[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>], <span class="hljs-number">-1</span>, [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>]],<font></font>
        [[<span class="hljs-number">-2</span>, <span class="hljs-number">-3</span>, <span class="hljs-number">-4</span>], <span class="hljs-number">0</span>, []],<font></font>
        [[<span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>], <span class="hljs-number">4</span>, [<span class="hljs-number">5</span>, <span class="hljs-number">6</span>]]<font></font>
    ];<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今、感染はすべてに満足しています：</font></font><br>
<br>
<pre><code class="php hljs">You are running Infection with Xdebug enabled.<font></font>
     ____      ____          __  _<font></font>
    /  _/___  / __/__  _____/ /_(_)___  ____<font></font>
    / <span class="hljs-comment">// __ \/ /_/ _ \/ ___/ __/ / __ \/ __ \</span>
  _/ <span class="hljs-comment">// / / / __/  __/ /__/ /_/ / /_/ / / / /</span><font></font>
 /___/_/ /_/_/  \___/\___/\__/_/\____/_/ /_/<font></font>
<font></font>
Running initial test suite...<font></font>
<font></font>
PHPUnit version: <span class="hljs-number">8.2</span><span class="hljs-number">.2</span><font></font>
<font></font>
   <span class="hljs-number">12</span> [============================] &lt; <span class="hljs-number">1</span> sec<font></font>
<font></font>
Generate mutants...<font></font>
<font></font>
Processing source code files: <span class="hljs-number">1</span>/<span class="hljs-number">1</span>Creating mutated files <span class="hljs-keyword">and</span> processes: <span class="hljs-number">0</span>/<span class="hljs-number">7</span>
Creating mutated files <span class="hljs-keyword">and</span> processes: <span class="hljs-number">7</span>/<span class="hljs-number">7</span>
.: killed, M: escaped, S: uncovered, E: fatal <span class="hljs-built_in">error</span>, T: timed out<font></font>
<font></font>
.......                                              (<span class="hljs-number">7</span> / <span class="hljs-number">7</span>)<font></font>
<font></font>
<span class="hljs-number">7</span> mutations were generated:
       <span class="hljs-number">7</span> mutants were killed
       <span class="hljs-number">0</span> mutants were not covered by tests
       <span class="hljs-number">0</span> covered mutants were not detected
       <span class="hljs-number">0</span> errors were encountered
       <span class="hljs-number">0</span> time outs were encountered<font></font>
<font></font>
Metrics:<font></font>
         Mutation Score Indicator (MSI): <span class="hljs-number">100</span>%<font></font>
         Mutation Code Coverage: <span class="hljs-number">100</span>%<font></font>
         Covered Code MSI: <span class="hljs-number">100</span>%<font></font>
<font></font>
Please note that some mutants will inevitably be harmless (i.e. <span class="hljs-literal">false</span> positives).<font></font>
<font></font>
Time: <span class="hljs-number">1</span>s. Memory: <span class="hljs-number">10.00</span>MB</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラス</font><font style="vertical-align: inherit;">に</font></font><code>Calculator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">を追加し</font></font><code>subtract</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ますが、PHPUnitに個別のテストはありません。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subtract</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> $a, <span class="hljs-keyword">int</span> $b</span>): <span class="hljs-title">int</span>
</span>{
    <span class="hljs-keyword">return</span> $a - $b;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、感染を実行した後、私たちは見る：</font></font><br>
<br>
<pre><code class="php hljs">You are running Infection with Xdebug enabled.<font></font>
<font></font>
     ____      ____          __  _<font></font>
    /  _/___  / __/__  _____/ /_(_)___  ____<font></font>
    / <span class="hljs-comment">// __ \/ /_/ _ \/ ___/ __/ / __ \/ __ \</span>
  _/ <span class="hljs-comment">// / / / __/  __/ /__/ /_/ / /_/ / / / /</span><font></font>
 /___/_/ /_/_/  \___/\___/\__/_/\____/_/ /_/<font></font>
<font></font>
Running initial test suite...<font></font>
<font></font>
PHPUnit version: <span class="hljs-number">8.2</span><span class="hljs-number">.2</span><font></font>
<font></font>
   <span class="hljs-number">11</span> [============================] &lt; <span class="hljs-number">1</span> sec<font></font>
<font></font>
Generate mutants...<font></font>
<font></font>
Processing source code files: <span class="hljs-number">1</span>/<span class="hljs-number">1</span>Creating mutated files <span class="hljs-keyword">and</span> processes: <span class="hljs-number">0</span>/<span class="hljs-number">9</span>
Creating mutated files <span class="hljs-keyword">and</span> processes: <span class="hljs-number">9</span>/<span class="hljs-number">9</span>
.: killed, M: escaped, S: uncovered, E: fatal <span class="hljs-built_in">error</span>, T: timed out<font></font>
<font></font>
.......SS                                            (<span class="hljs-number">9</span> / <span class="hljs-number">9</span>)<font></font>
<font></font>
<span class="hljs-number">9</span> mutations were generated:
       <span class="hljs-number">7</span> mutants were killed
       <span class="hljs-number">2</span> mutants were not covered by tests
       <span class="hljs-number">0</span> covered mutants were not detected
       <span class="hljs-number">0</span> errors were encountered
       <span class="hljs-number">0</span> time outs were encountered<font></font>
<font></font>
Metrics:<font></font>
         Mutation Score Indicator (MSI): <span class="hljs-number">77</span>%<font></font>
         Mutation Code Coverage: <span class="hljs-number">77</span>%<font></font>
         Covered Code MSI: <span class="hljs-number">100</span>%<font></font>
<font></font>
Please note that some mutants will inevitably be harmless (i.e. <span class="hljs-literal">false</span> positives).<font></font>
<font></font>
Time: <span class="hljs-number">1</span>s. Memory: <span class="hljs-number">10.00</span>MB</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今回、ツールは2つのカバーされていない変異を返しました。</font></font><br>
<br>
<pre><code class="php hljs">Escaped mutants:<font></font>
================<font></font>
<font></font>
Timed Out mutants:<font></font>
==================<font></font>
<font></font>
Not Covered mutants:<font></font>
====================<font></font>
<font></font>
<font></font>
<span class="hljs-number">1</span>) /home/sarven/projects/infection-playground/infection-playground/src/Calculator.php:<span class="hljs-number">24</span>    [M] PublicVisibility<font></font>
<font></font>
--- Original<font></font>
+++ <span class="hljs-keyword">New</span><font></font>
@@ @@<font></font>
             <span class="hljs-keyword">return</span> $number &gt; $threshold;<font></font>
         }));<font></font>
     }<font></font>
-    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subtract</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> $a, <span class="hljs-keyword">int</span> $b</span>) : <span class="hljs-title">int</span>
+    <span class="hljs-title">protected</span> <span class="hljs-title">function</span> <span class="hljs-title">subtract</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> $a, <span class="hljs-keyword">int</span> $b</span>) : <span class="hljs-title">int</span>
     </span>{
         <span class="hljs-keyword">return</span> $a - $b;<font></font>
     }<font></font>
 <font></font>
<font></font>
<span class="hljs-number">2</span>) /home/sarven/projects/infection-playground/infection-playground/src/Calculator.php:<span class="hljs-number">26</span>    [M] Minus<font></font>
<font></font>
--- Original<font></font>
+++ <span class="hljs-keyword">New</span><font></font>
@@ @@<font></font>
     <font></font>
     <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">subtract</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> $a, <span class="hljs-keyword">int</span> $b</span>) : <span class="hljs-title">int</span>
     </span>{<font></font>
-        <span class="hljs-keyword">return</span> $a - $b;<font></font>
+        <span class="hljs-keyword">return</span> $a + $b;<font></font>
     }<font></font>
</code></pre> <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指標</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各実行後、ツールは3つのメトリックを返します。</font></font><br>
<br>
<pre><code class="php hljs">Metrics:<font></font>
    Mutation Score Indicator (MSI): <span class="hljs-number">47</span>%<font></font>
    Mutation Code Coverage: <span class="hljs-number">67</span>%<font></font>
    Covered Code MSI: <span class="hljs-number">70</span>%
</code></pre><br>
<code>Mutation Score Indicator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-テストで検出された突然変異の割合。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メトリックは次のように計算されます。</font></font><br>
<br>
<pre><code class="php hljs">TotalDefeatedMutants = KilledCount + TimedOutCount + ErrorCount;<font></font>
<font></font>
MSI = (TotalDefeatedMutants / TotalMutantsCount) * <span class="hljs-number">100</span>;
</code></pre><br>
<code>Mutation Code Coverage</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ミューテーションの対象となるコードの割合。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メトリックは次のように計算されます。</font></font><br>
<br>
<pre><code class="php hljs">TotalCoveredByTestsMutants = TotalMutantsCount - NotCoveredByTestsCount;<font></font>
<font></font>
CoveredRate = (TotalCoveredByTestsMutants / TotalMutantsCount) * <span class="hljs-number">100</span>;
</code></pre><br>
<code>Covered Code Mutation Score Indicator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-テストの対象となるコードについてのみ、テストの有効性を判断します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メトリックは次のように計算されます。</font></font><br>
<br>
<pre><code class="php hljs">TotalCoveredByTestsMutants = TotalMutantsCount - NotCoveredByTestsCount;<font></font>
TotalDefeatedMutants = KilledCount + TimedOutCount + ErrorCount;<font></font>
<font></font>
CoveredCodeMSI = (TotalDefeatedMutants / TotalCoveredByTestsMutants) * <span class="hljs-number">100</span>;
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より複雑なプロジェクトで使用する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の例では、クラスが1つしかないため、パラメーターなしでInfectionを実行しました。</font><font style="vertical-align: inherit;">しかし、通常のプロジェクトでの日常的な作業では、</font></font><code>–filter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ミューテーションを適用するファイルのセットを指定できる</font><font style="vertical-align: inherit;">パラメーターを使用すると便利です</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="php hljs">./vendor/bin/infection --filter=Calculator.php
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">偽陽性</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部のミューテーションはコードのパフォーマンスに影響を与えず、InfectionはMSIを100％未満で返します。</font><font style="vertical-align: inherit;">しかし、私たちは常にこれで何かをすることができるわけではないので、そのような状況に対処する必要があります。</font><font style="vertical-align: inherit;">この例では、同様のものが示されています。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calcNumber</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> $a</span>): <span class="hljs-title">int</span>
</span>{
    <span class="hljs-keyword">return</span> $a / <span class="hljs-keyword">$this</span>-&gt;getRatio();<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRatio</span>(<span class="hljs-params"></span>): <span class="hljs-title">int</span>
</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、この方法</font></font><code>getRatio</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はここでは意味がなく、通常のプロジェクトでは、代わりに何らかの計算が行われる可能性があります。</font><font style="vertical-align: inherit;">しかし、結果はとなる可能性があり</font></font><code>1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">感染の復帰：</font></font><br>
<br>
<pre><code class="php hljs">Escaped mutants:<font></font>
================<font></font>
<font></font>
<font></font>
<span class="hljs-number">1</span>) /home/sarven/projects/infection-playground/infection-playground/src/Calculator.php:<span class="hljs-number">26</span>    [M] Division<font></font>
<font></font>
--- Original<font></font>
+++ <span class="hljs-keyword">New</span><font></font>
@@ @@<font></font>
     <font></font>
     <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">calcNumber</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> $a</span>) : <span class="hljs-title">int</span>
     </span>{<font></font>
-        <span class="hljs-keyword">return</span> $a / <span class="hljs-keyword">$this</span>-&gt;getRatio();<font></font>
+        <span class="hljs-keyword">return</span> $a * <span class="hljs-keyword">$this</span>-&gt;getRatio();<font></font>
     }<font></font>
     <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getRatio</span>(<span class="hljs-params"></span>) : <span class="hljs-title">int</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご存知のように、1で乗算して除算すると、元の数値と同じ結果が返されます。</font><font style="vertical-align: inherit;">したがって、この突然変異はテストを壊すべきではなく、感染の私たちのテストの正確さに対する不満にもかかわらず、すべてが順調です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">大規模プロジェクトの最適化</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大規模なプロジェクトの場合、感染には長い時間がかかる可能性があります。</font><font style="vertical-align: inherit;">変更されたファイルのみを処理する場合は、CI中に実行を最適化できます。詳細については、ドキュメント：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">//infection.github.io/guide/how-to.htmlを</font></a><font style="vertical-align: inherit;">参照して</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください。</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
さらに、変更されたコードでテストを並行して実行できます。</font><font style="vertical-align: inherit;">ただし、これはすべてのテストが独立している場合にのみ可能です。</font><font style="vertical-align: inherit;">つまり、これは良いテストになるはずです。</font><font style="vertical-align: inherit;">このオプションを有効にするには、次のオプションを使用します</font></font><code>–threads</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="php hljs">./vendor/bin/infection --threads=<span class="hljs-number">4</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使い方？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
感染フレームワークは、コードを抽象データ構造として表すAST（抽象構文ツリー）を使用します。</font><font style="vertical-align: inherit;">これには、PHPの作成者の1人（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">php-parser</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）が作成した</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">パーサー</font></a><font style="vertical-align: inherit;">を使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ツールの簡略化された操作は、次のように表すことができます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードベースのAST生成。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">適切な変異の使用（完全なリストは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">）。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASTベースの変更されたコードの作成。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変更されたコードに関連してテストを実行します。</font></font><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、マイナス記号をプラス記号に置き換えるミューテーターを確認できます。</font></font><br>
<br>
<pre><code class="php hljs"><span class="hljs-meta">&lt;?php</span><font></font>
<font></font>
<span class="hljs-keyword">declare</span>(strict_types=<span class="hljs-number">1</span>);<font></font>
<font></font>
<span class="hljs-keyword">namespace</span> <span class="hljs-title">Infection</span>\<span class="hljs-title">Mutator</span>\<span class="hljs-title">Arithmetic</span>;<font></font>
<font></font>
<span class="hljs-keyword">use</span> <span class="hljs-title">Infection</span>\<span class="hljs-title">Mutator</span>\<span class="hljs-title">Util</span>\<span class="hljs-title">Mutator</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">PhpParser</span>\<span class="hljs-title">Node</span>;
<span class="hljs-keyword">use</span> <span class="hljs-title">PhpParser</span>\<span class="hljs-title">Node</span>\<span class="hljs-title">Expr</span>\<span class="hljs-title">Array_</span>;<font></font>
<font></font>
<span class="hljs-comment">/**
 * <span class="hljs-doctag">@internal</span>
 */</span>
<span class="hljs-keyword">final</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Plus</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Mutator</span>
</span>{
    <span class="hljs-comment">/**
     * Replaces "+" with "-"
     
     * <span class="hljs-doctag">@param</span> Node&amp;Node\Expr\BinaryOp\Plus $node
     
     * <span class="hljs-doctag">@return</span> Node\Expr\BinaryOp\Minus
     */</span>
    <span class="hljs-keyword">public</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mutate</span>(<span class="hljs-params">Node $node</span>)
    </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Node\Expr\BinaryOp\Minus($node-&gt;left, $node-&gt;right, $node-&gt;getAttributes());<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">protected</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mutatesNode</span>(<span class="hljs-params">Node $node</span>): <span class="hljs-title">bool</span>
    </span>{
        <span class="hljs-keyword">if</span> (!($node <span class="hljs-keyword">instanceof</span> Node\Expr\BinaryOp\Plus)) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> ($node-&gt;left <span class="hljs-keyword">instanceof</span> Array_ || $node-&gt;right <span class="hljs-keyword">instanceof</span> Array_) {
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
     }<font></font>
    <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメソッド</font></font><code>mutate()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、プラスに置き換えられた新しい要素を作成します。</font><font style="vertical-align: inherit;">このクラスは</font></font><code>Node</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">php-parserパッケージから取得され、ASTを使用した操作とPHPコードの変更に使用されます。</font><font style="vertical-align: inherit;">ただし、この変更はどこにも適用できないため、メソッドに</font></font><code>mutatesNode()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は追加の条件が含まれています。</font><font style="vertical-align: inherit;">プラスの左側またはマイナスの右側に配列がある場合、変更は受け入れられません。</font><font style="vertical-align: inherit;">この条件は、次のコードのために使用されます。</font></font><br>
<br>
<pre><code class="php hljs">$tab = [<span class="hljs-number">0</span>] + [<span class="hljs-number">1</span>];<font></font>
is correct, but the following one isn’t correct.<font></font>
$tab = [<span class="hljs-number">0</span>] - [<span class="hljs-number">1</span>];</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合計</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変異テストは、CIプロセスを補完し、テストの品質を評価できる優れたツールです。</font><font style="vertical-align: inherit;">テストの緑色の強調表示は、すべてが適切に記述されているという確信を与えません。</font><font style="vertical-align: inherit;">ミューテーションテストまたはテストテストを使用して、テストの精度を向上させることができます。これにより、ソリューションのパフォーマンスに対する信頼が高まります。</font><font style="vertical-align: inherit;">もちろん、これは常に可能であるとは限らないため、メトリックの結果を100％にするために努力する必要はありません。</font><font style="vertical-align: inherit;">ログを分析し、それに応じてテストを構成する必要があります。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja457874/index.html">なぜ従業員が戻ってくるのですか？出発と帰路の物語</a></li>
<li><a href="../ja457876/index.html">翻訳：IEEE 802.15.4z規格。将来私たちを待っているのは何ですか？</a></li>
<li><a href="../ja457882/index.html">ゼロからのヘキサポッド開発（パート7）-新しいパッケージ、アプリケーションソフトウェア、通信プロトコル</a></li>
<li><a href="../ja457884/index.html">ソブリンインターネット-注文の明確化</a></li>
<li><a href="../ja457886/index.html">USBトークンを使用したサイトでの2要素認証。Linux向け</a></li>
<li><a href="../ja457892/index.html">ルーレット教授</a></li>
<li><a href="../ja457894/index.html">Proxmoxクラスターの操作：インストール、ネットワークセットアップ、ZFS、一般的な問題の解決</a></li>
<li><a href="../ja457896/index.html">Zimbraとサーバーの過負荷保護</a></li>
<li><a href="../ja457900/index.html">気象学者に対する米国連邦通信委員会</a></li>
<li><a href="../ja457902/index.html">Mitap for Data Science</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>