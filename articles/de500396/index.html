<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎞️ 👨🏿 🧖 Probleme autonomer Zugangskontrollsysteme - wo sie nicht erwartet hatten 🤹🏻 ♌️ 🔫</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Guten Tag allerseits. Ich werde mit dem Hintergrund beginnen, was mich zur Durchführung dieser Studie veranlasst hat, aber zuerst werde ich Sie warnen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Probleme autonomer Zugangskontrollsysteme - wo sie nicht erwartet hatten</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500396/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guten Tag allerseits. Ich werde mit dem Hintergrund beginnen, was mich zur Durchführung dieser Studie veranlasst hat, aber zuerst werde ich Sie warnen: Alle praktischen Maßnahmen wurden mit Zustimmung der Regierungsstrukturen durchgeführt. Jeder Versuch, dieses Material zu verwenden, um ein geschlossenes Gebiet ohne das Recht auf Anwesenheit zu betreten, ist strafbar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles begann damit, dass ich beim Reinigen des Tisches versehentlich den RFID-Schlüssel an den Eingang des NFC-Lesegeräts ACR122 steckte - was meine Überraschung war, als Windows das Geräusch der Erkennung eines neuen Geräts spielte und die LED grün wurde. Bisher habe ich geglaubt, dass diese Schlüssel ausschließlich im Proximity-Standard funktionieren.</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ly/7t/yr/ly7tyrpzkzrzju1c25dwlmxyhts.jpeg" alt="Bild"></div><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Sobald der Leser es gesehen hat, bedeutet dies, dass der Schlüssel eines der Protokolle über dem ISO 14443-Standard (Nahfeldkommunikation, 13,56 MHz) erfüllt. Die Reinigung wurde sofort vergessen, da ich die Möglichkeit sah, den Schlüsselbund vollständig loszuwerden und den Schlüssel für den Eingang zum Telefon aufzubewahren (die Wohnung ist seit langem mit einem elektronischen Schloss ausgestattet). Als ich zum Lernen säte, fand ich heraus, dass sich unter dem Kunststoff das NFC-Etikett Mifare 1k befindet - das gleiche Modell wie bei den Abzeichen, Abzeichen von Unternehmen, Transportkarten usw. Versuche, in den Inhalt der Sektoren zu gelangen, brachten zunächst keinen Erfolg, aber als der Schlüssel noch geknackt werden konnte, stellte sich heraus, dass nur der 3. Sektor verwendet wurde und die UID des Chips selbst darin dupliziert wurde. Es sah zu einfach aus und es stellte sich heraus, dass es keinen Artikel geben würde, wenn alles genau so lief, wie es beabsichtigt war. Also habe ich den Schlüssel Innereien bekommen, und es gibt keine Probleme,wenn Sie den Schlüssel auf einen anderen kopieren müssen. Aber die Aufgabe bestand darin, den Schlüssel auf ein mobiles Gerät zu übertragen, was ich auch tat. Hier begann der Spaß - wir haben ein Telefon -</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iPhone SE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installiertem iOS 13.4.5 Beta Build 17F5044d</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und einigen benutzerdefinierten Komponenten für NFC-freie Arbeit - darauf werde ich aus objektiven Gründen nicht </font><b><font style="vertical-align: inherit;">näher eingehen</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Falls gewünscht, gilt Folgendes für das Android-System, jedoch mit einigen Vereinfachungen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Liste der zu lösenden Aufgaben:</font></font></b><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erhalten Sie Zugriff auf den Inhalt des Schlüssels.</font></font></b></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementieren Sie die Fähigkeit, ein Schlüsselgerät zu emulieren.</font></font></b></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Wenn der erste relativ einfach war, hatte der zweite Probleme. Die erste Version des Emulators funktionierte nicht. Das Problem wurde schnell erkannt - für mobile Geräte (iOS, Android) im Emulationsmodus - die UID ist dynamisch und schwebt unabhängig davon, was im Bild verkabelt ist. Die zweite Version (als Superuser ausgeführt) hat die Seriennummer fest auf der ausgewählten Version festgelegt - die Tür wurde geöffnet. Ich wollte jedoch alles perfekt machen und habe am Ende eine vollständige Version des Emulators zusammengestellt, mit der Mifare-Dumps geöffnet und emuliert werden können. Ich gab einem plötzlichen Impuls nach, änderte die Schlüssel der Sektoren auf willkürlich und versuchte, die Tür zu öffnen. Und sie ... </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GEÖFFNET!</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nach einer Weile wurde mir klar, dass </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">keine</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Türen mit diesem Schloss, auch solche, an die der Originalschlüssel nicht passte. </font><font style="vertical-align: inherit;">In diesem Zusammenhang habe ich eine neue Liste von Aufgaben erstellt:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finden Sie heraus, welcher Controller für die Arbeit mit Schlüsseln verantwortlich ist</font></font></b> </li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verstehen Sie, ob eine Netzwerkverbindung und eine gemeinsame Basis bestehen</font></font></b> </li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finden Sie heraus, warum ein praktisch unlesbarer Schlüssel universell wird</font></font></b> </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach einem Gespräch mit dem Ingenieur der Verwaltungsgesellschaft stellte ich fest, dass einfache Iron Logic z5r-Controller verwendet werden, ohne eine Verbindung zu einem externen Netzwerk herzustellen.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CP-Z2 MF-Lesegerät und IronLogic z5r-Controller</font></font></b>
                        <div class="spoiler_text">      :<br>
<br>
<img src="https://habrastorage.org/webt/tu/-t/c9/tu-tc9uc7txys8sxcyrwxgy0niu.jpeg" alt="image"><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie hier klar wird, ist das System völlig autonom und äußerst primitiv. </font><font style="vertical-align: inherit;">Zuerst dachte ich, dass sich der Controller im Lernmodus befindet - die Bedeutung ist, dass er den Schlüssel liest, im Speicher speichert und die Tür öffnet - dieser Modus wird verwendet, wenn Sie alle Schlüssel aufzeichnen müssen, beispielsweise wenn Sie das Schloss in einem Wohnhaus ersetzen. </font><font style="vertical-align: inherit;">Diese Theorie wurde jedoch nicht bestätigt - dieser Modus wird von der Software ausgeschaltet, der Jumper befindet sich in der Arbeitsposition - und dennoch sehen wir beim Hochfahren des Geräts Folgendes:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Screenshot des Emulationsprozesses auf dem Gerät</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/fr/sw/fn/frswfn3yvw-xmuv9qr2qdnlml5y.jpeg" alt="image"><br>
…        .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Problem liegt also in der Software des Controllers oder des Lesegeräts. </font><font style="vertical-align: inherit;">Lassen Sie uns den Reader überprüfen - er funktioniert im iButton-Modus, also schließen wir die Bolid-Sicherheitskarte an - wir haben die Möglichkeit, die Ausgabe des Readers zu sehen.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Karte wird später über RS232 verbunden</font></font></b>
                        <div class="spoiler_text"><img src="https://habrastorage.org/webt/15/_m/xk/15_mxkazcejs0gbucc_zjofmpsy.jpeg" alt="image"><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch die Methode mehrerer Tests stellen wir fest, dass der Leser im Falle eines Autorisierungsfehlers denselben Code sendet: 1219191919 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Situation beginnt sich zu klären, aber im Moment verstehe ich nicht, warum der Controller positiv auf diesen Code reagiert. Es besteht die Annahme, dass der Leser diesen Code gesendet und der Controller gespeichert hat, als er die Basis gefüllt hat - versehentlich oder speziell eine Karte mit anderen Sektorschlüsseln aufgerufen hat. Leider habe ich keinen proprietären Programmierer von IronLogic, der in die Controller-Schlüsseldatenbank schaut, aber ich hoffe, ich habe es geschafft, auf die Tatsache aufmerksam zu machen, dass das Problem besteht. Eine Videodemonstration zur Arbeit mit dieser Sicherheitsanfälligkeit finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS Gegen die Theorie mit einer zufälligen Hinzufügung ist die Tatsache, dass es mir im selben Geschäftszentrum in Krasnojarsk auch gelungen ist, die Tür mit derselben Methode zu öffnen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500380/index.html">Fernverarbeitung personenbezogener Daten: Risiken und mögliche Folgen</a></li>
<li><a href="../de500382/index.html">Aviasales API-Integration mit Amazon Kinesis und serverlose Einfachheit</a></li>
<li><a href="../de500384/index.html">Die Pioniere von Pixar Studio erhielten den Turing Award und 1 Million US-Dollar</a></li>
<li><a href="../de500386/index.html">Anpassung Ihrer vorhandenen Geschäftslösung an SwiftUI. Teil 2</a></li>
<li><a href="../de500390/index.html">Aktuelle Modelle der sprachlichen Lokalisierung im Bereich IT und digitale Kommunikation. Teil 1</a></li>
<li><a href="../de500398/index.html">Remote Marathon Woche 3: Inoperative Prozesse</a></li>
<li><a href="../de500400/index.html">Trimmen von Threads: Migration von Puppet Enterprise zu Ansible Tower. Teil 1</a></li>
<li><a href="../de500402/index.html">[Teil 1/2] Anleitung zu FFmpeg und SDL oder Schreiben eines Videoplayers in weniger als 1000 Zeilen</a></li>
<li><a href="../de500404/index.html">Wie man Freunde findet Electron und Webix. Teil 2. Erstellen Sie eine Anwendung mit Ihrer Ansicht</a></li>
<li><a href="../de500406/index.html">Die Geschichte der ersten Lähmung des Internets: Der Fluch des Besetztzeichens</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>