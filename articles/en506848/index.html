<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèæ‚Äçüöí üåÖ ü•ï Why did we switch to $ SPINNED_TECHNOLOGY at $ FAMOUS_COMPANY üë©üèª‚Äçüöí üôèüèª üë∏üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Note perev. : This comic article, which was rightly described as an illustration of "SEO-driven development", found a very big response on Reddit and ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Why did we switch to $ SPINNED_TECHNOLOGY at $ FAMOUS_COMPANY</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/506848/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note perev.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : This comic article, which was rightly </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">described</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> as an illustration of "SEO-driven development", found a very big response on Reddit and other resources. Agreeing with the relevance of the story that is parodied by the original author, we are pleased to share its translation with the Russian-speaking community.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/lx/-y/8g/lx-y8ghyzu6ihhj3esq69jyrp3c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Immediately after its founding in 2010, $ FAMOUS_COMPANY completely fit into the $ FOUNDER_BROTHER_GARAGE. Since then, we have grown by leaps and bounds, which was facilitated by the constant infusion of funds by venture capitalists. Today, hundreds of millions of daily active users (DAUs) from all over the world use our products in mobile applications and on the site $ famouscompany.com.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
During this time, we have already repaired the backend several times in a panic to reduce our technical debt (as a rule, immediately after the next major failure) and our servers have not returned. </font><font style="vertical-align: inherit;">The available technological stack has served us faithfully all these years. </font><font style="vertical-align: inherit;">But over time, it became apparent that by rewriting the application from scratch, we could squeeze an additional $ 2 billion out of users per year.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reasons to move to a new stack</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As it has been mentioned many times, historically it happened that the back of the $ FAMOUS_COMPANY was written in $ ORDER-LANGUAGE and was based on the $ PRACTICAL_OPEN_SOURCE-FRAME. To meet our needs, we developed and laid out as an Open Source project $ SELECTED BY ENGINEER_MYTHOLOGICAL_CHARACTER is a highly available, just-in-time compiler for $ ORDINARY_Language. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But even with the resulting super-duper improvements, surges in the 99th percentile of our statistics on delays were periodically observed. They became more visible as they squeezed everything possible out of the application to cope with the growth of DAU. Fortunately, all of our software was originally designed with introspection in mind, so using </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">some BPF scripts copied from the Brendan Gregg website,</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In-house tools, engineers of the $ FAMOUS COMPANY were able to determine that performance bottlenecks were associated with the garbage collector. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At first we tried to play around with the settings of the collector (the meaning of which, as usual, was absolutely not understood), but, much to our surprise, this magically did not solve the actual problems. Then we just turned it off. Yes, the memory consumption has increased slightly, but the automatic scaling mechanism, depending on the requests, successfully coped with this problem, as can be seen from the graph below: The </font></font><br>
<br>
<img src="https://habrastorage.org/webt/op/lf/9h/oplf9huxvtkbhqpbss58tg-cz80.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inevitable finale of any scalable architecture: ‚ÄúGet more instances.‚Äù</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the end, our decision to switch to a new language was caused by difficulties in finding specialists who know $ ORDER_Language, which is strange because it was taught at dozens of universities in all corners of the United States. </font><font style="vertical-align: inherit;">In addition, our publications on the $ PRACTICAL_OPEN_SOURCE-FRAME have begun to gain fewer votes on Reddit, and this reinforced the suspicion that the technology stack is out of date.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transition to a new stack</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We knew that something needed to fit the scale of the $ FAMOUS_COMPANY, and considered several promising alternatives. </font><font style="vertical-align: inherit;">Their strict selection was carried out on the basis of the following determining parameters:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> the number of paragraphs in the description on the site; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> frequency of appearance on the first page of Hacker News. </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, we made a table of the key characteristics of the language (productivity, efficiency, community, ease of use), which we filled together with the entire office.</font></font><br>
<br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fun fact </font></font></b><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It turned out that our table meets the strict statistical criteria of absolute randomness, so we also used it for a cryptographically robust pseudorandom number generator in the application.</font></font></i></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After careful consideration, it was decided to dwell on $ FASHION_Language and $ SPREADED_TECHNOLOGY. </font><font style="vertical-align: inherit;">This decision was largely influenced by the results of a survey of developers on the Stack Overflow website, as well as the remarkable property of $ MODE_Language - cross-platform, which allowed all mobile applications to be rewritten on it. </font><font style="vertical-align: inherit;">Remaking the underlying infrastructure turned out to be quite simple: fortunately, we have a lot more engineers than we can ever load with work; </font><font style="vertical-align: inherit;">on the other hand, we have no idea what to do with all of them.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The final decision was the only right one: completely freeze the work on error reports and direct all efforts to the $ RELEASED_TECHNOLOGY. At first, there were certain problems with adapting to some oddities of $ MODE_Language, and we also found several bugs in $ SCROLLED_TECHNOLOGY, but in general, their powerful ultramodern features eliminated some of the difficulties that plagued the past.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deploying changes without downtime required a careful planning approach. As always, a brilliant idea came to the rescue: at the code level, we turned off page refresh while deploying updates, forcing users to wonder if our service was working or not. The key point was the management of incremental deployment: we aggressively tested the code using the A / B method. Internal research has shown that periodically demonstrating an absolutely new interface, and then returning to the old one on the next page load, will significantly increase user engagement. As a result, it was decided to implement this system (it was based on an article on Medium about some multi-armed bandits).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Now that the transition has taken place and all clients are actively using the new version of the application, we can confidently say: our efforts have been very successful! </font><font style="vertical-align: inherit;">We measured the results - they turned out to be inspiring: </font><font style="vertical-align: inherit;">
With the transition to a new stack, all the metrics important to us have grown significantly. </font><font style="vertical-align: inherit;">In addition, we eliminated some indicators that will no longer matter: the number of bugs, user frustration and maintenance costs. </font><font style="vertical-align: inherit;">Today, we are excited to announce the opening of a piece of code (which we can afford to share) on our GitHub page! </font><font style="vertical-align: inherit;">By itself, it is useless and completely tied to our infrastructure, but you simply must evaluate the inner impulse and put a star!</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/webt/lh/n7/yi/lhn7yiqrzb4q2ceuyohw0roiq6i.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Final thoughts</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is generally accepted that the task of rewriting software from scratch is fraught with many difficulties and pitfalls, but we at $ FAMOUS_COMPANY love difficulties and courageously overcome them! In this case, our decision, obviously, paid off in full. This publication is mainly devoted to changes in the backend, but we, as mentioned earlier, use $ MODE_Language in mobile applications, because </font><font style="vertical-align: inherit;">we are </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lazy</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> we do not have the resources to write applications for each platform. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, these changes also mean that we will no longer support third-party API access to our services </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">to further bind users</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. We know that some of the physically disabled users depended on these interfaces. We dare to assure you: we at $ FAMOUS_COMPANY fully support the idea of ‚Äã‚Äãadapting services for such people - of course, if they do not depend on assistive technologies that now do not work with our applications.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We hope that you will perceive the history of our company as some immutable truth and share it with your leadership so that it also considers the possibility of redesigning the architecture (in our likeness). However, you will surely ignore the fact that you are not us: we have enough engineers and resources to do anything. This decision will ruin your startup, so in the foreseeable future we do not expect publications from you about your experience with $ SCROLLED_TECHNOLOGY. If you are not able to influence decisions in the company, you can still refer to our experience the next time when there is a debate about choosing the right language.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have great news for those who read this article, and who are passionate about $ RELEASED_TECHNOLOGY just like us: we need specialists! </font><font style="vertical-align: inherit;">Be sure to check out our job page, where there will be zero line items associated with $ MODE_Language.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS from the translator</font></font></h2><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">More developers should know this about databases</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The success of a social experiment with a fake exploit for nginx</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Musical parodies from SUSE about Kubernetes, Linus Torvalds and others</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ."</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en506830/index.html">Web Apps: Micro Frontend Module Federation Supported Framework</a></li>
<li><a href="../en506832/index.html">How many processor instructions does the compiler use?</a></li>
<li><a href="../en506834/index.html">"The last program." Artificial Intelligence Web Series</a></li>
<li><a href="../en506838/index.html">From Lithuania to New York: KGB Dedicated to Intelligence</a></li>
<li><a href="../en506842/index.html">RPA: robotic invoice registration process. The most comprehensive guide</a></li>
<li><a href="../en506852/index.html">How Signal crypto messenger successfully resists wiretapping by US authorities</a></li>
<li><a href="../en506860/index.html">June 23 - NX Analyst Meetup # 3. We will discuss interviews with customers and work with complex clients.</a></li>
<li><a href="../en506864/index.html">Upcoming Linux 5.8 Release: Million Lines of New Code and 14,000 Changes</a></li>
<li><a href="../en506866/index.html">Single Insurance Base - System for working with insurance companies</a></li>
<li><a href="../en506868/index.html">Sam Altman: Generating Ideas</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>