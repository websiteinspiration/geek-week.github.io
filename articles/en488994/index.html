<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëêüèæ ü§≥üèø üë®‚Äçüé§ DDR5? Yes, we barely met DDR4 üë¨ üå∞ üí£</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In January 2020, CES introduced SK Hynix DDR5 memory at maximum speed. According to rumors, Micron and other manufacturers are testing similar devices...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>DDR5? Yes, we barely met DDR4</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488994/"><img src="https://habrastorage.org/getpro/habr/post_images/8d1/2c3/cf5/8d12c3cf59f68c9ce76d2b6c634d5bdc.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In January 2020, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CES</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> introduced SK Hynix DDR5 memory at maximum speed. </font><font style="vertical-align: inherit;">According to rumors, Micron and other manufacturers are testing similar devices. </font><font style="vertical-align: inherit;">While they can not get through the usual channels, however, since there are no motherboards for them yet, this is not a problem. </font><font style="vertical-align: inherit;">As far as we know, among the first motherboards that can take advantage of the new technology will be Intel's Xeon Sapphire Rapids. </font><font style="vertical-align: inherit;">However, the question arises: what kind of technology is this?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDRAM Basics</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, for a system that requires RAM, there are two main competing options: static and dynamic memory. There are new technologies, for example, FeRAM and MRAM, but the classic choice is between static and dynamic. Static RAM is a bunch of switches, one per bit. Set up and forget. And then they read it. And she can work very quickly. The problem is that usually at least four transistors, and often six, go to such a switch, so a limited number of them can be shoved into a certain area. Power consumption is often too high, although modern devices can do a good job of this.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So while static memory is popular with single-board computers and small devices, a PC or server will not be able to accommodate gigabytes of static memory. Dynamic memory uses a small capacitor to store each bit. To connect a capacitor to a common bus, you still need a transistor, but you can pack them tightly. Unfortunately, there is a big problem: capacitors discharge quite quickly. It is necessary to develop some way to periodically update the memory, or it will forget. For example, a typical DDR4 module needs to be updated every 64 ms.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Real devices use row and column capacitors to maximize space and the ability to update a whole series at a time. This means that a device of 4096 rows needs to be updated every 15.6 ms so that each row retains its data. The update itself takes only a few nanoseconds. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a76/f64/2ac/a76f642acccc9699ba19082f96b6985a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A typical array has a bus for rows and columns. The capacitor connects to the FET, which can connect and disconnect it from the column bus. The FET valve is connected to the line bus. The line signal selects the entire FET line. The long column bus has its own capacitance and resistance, so it takes some time to pre-charge the signal to stabilize, after which the multiplexer reads a bit from the desired column. Recording takes place in reverse order. If you want, you can play around with the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memory simulator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the browser.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is how dynamic memory, or DRAM, works. </font><font style="vertical-align: inherit;">What about SDRAM? </font><font style="vertical-align: inherit;">SDRAM is a dynamic memory with a synchronous interface with a memory controller. </font><font style="vertical-align: inherit;">The controller allows you to collect several commands at once and processes the entire logic of working with rows and columns, and even knows how to automatically update the memory. </font><font style="vertical-align: inherit;">The controller buffers both commands and data, which increases throughput compared to many other technologies.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Story</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The history of SDRAM began in 1992, and by the year 2000, it had superseded almost all other varieties of DRAM from the market. </font><font style="vertical-align: inherit;">The JEDEC industrial group standardized the interface for SDRAM in 1993, so there are usually no problems using memory from different manufacturers.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Normal SDRAM can receive one command and transmit one data word per cycle. Over time, JEDEC defined the standard for double data rate, or DDR. He still takes one command per cycle, but writes or reads two words in a single beat. He knows how to do this, transmitting one word on the rising edge of the clock signal, and the other on the falling edge. In practice, this means that inside, on one command, he reads two words, which allows the internal timer to work slower than I / O. So if the I / O clock frequency is 200 MHz, then the internal timer can operate at 100 MHz, and while transmitting data, it will still transmit two words per I / O clock.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/13b/443/6c5/13b4436c530286d51a8ea31b5eabbb92.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All this worked so well that in the end they invented the DDR2 standard, reorganizing the memory so that inside it worked with four words, and then sent or received four words at once. Of course, the clock frequency did not change, so the delay increased. DDR3 again doubled its internal data size, increasing latency accordingly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DDR4 took a different path. He did not double the internal memory bus, but made intermittent access to internal memory banks to increase throughput. Reducing the voltage also allows you to increase the clock frequency. DDR4 appeared in 2012, although it gained critical mass only in 2015.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Have a sense of growing memory bandwidth? </font><font style="vertical-align: inherit;">Well, practically. </font><font style="vertical-align: inherit;">The increase in throughput roughly coincided with the increase in the number of cores in processors. </font><font style="vertical-align: inherit;">So, although the net throughput was growing, throughput per one core on a typical machine has not changed for quite some time. </font><font style="vertical-align: inherit;">In fact, given the rapid increase in the number of cores on a typical CPU, its average value decreases. </font><font style="vertical-align: inherit;">So it's time for a new standard.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDR5</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And now we have DDR5, defined in 2017. Judging by the reports, the throughput of the DDR5-3200 SDRAM will be 1.36 more than the DDR4-3200, and maybe even more. </font><font style="vertical-align: inherit;">We also hear that the prefetch size will double again, at least optionally.</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A type</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Throughput</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voltage</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prefetch</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Year</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDR</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.6 GB / s</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1993</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDR</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 GB / s</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2000</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDR2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.5 GB / s</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2003</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDR3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8.5 GB / s</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2007</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDR4</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25.6 GB / s</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDR5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32 GB / s</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8/16</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2019</font></font></td>
</tr>
</tbody></table></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As can be seen from the table, over 26 years, throughput compared to the original SDR memory has grown 20 times. </font><font style="vertical-align: inherit;">Not bad. </font><font style="vertical-align: inherit;">Prefetching 16 words looks especially interesting since it will allow the chip to populate a typical PC cache at a time. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are other benefits. </font><font style="vertical-align: inherit;">For example, if you have ever tried to connect SDRAM to your own circuit or FPGA, you will like the loopback mode. </font><font style="vertical-align: inherit;">If you really like large amounts of memory, then the maximum memory capacity will now be 64 GB.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By the way, there is also the LP-DDR5 specification for the low-power memory option for devices such as smartphones. </font><font style="vertical-align: inherit;">This specification was released last year, and so far we do not see a big race in the production of such products. </font><font style="vertical-align: inherit;">LP-DDR4 allows you to choose from two frequency options so that you can sacrifice speed for energy consumption. </font><font style="vertical-align: inherit;">LP-DDR5 has three different tuning options. </font><font style="vertical-align: inherit;">And there are also GDDR standards - already before GDDR6 - for processing graphics and other high-speed applications. </font><font style="vertical-align: inherit;">In the long term, LP-DDR5 will be able to work with a bandwidth of 6.4 Gb / s per bit I / O, and GGDR6 can boast hundreds of GB / s depending on the width of the word.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And now what?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unless you have a loaded server or something else that fully loads all the cores of your CPU, you will not feel much of a difference between DDR4 and DDR5. But, again, who doesn‚Äôt like good results in speed tests?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, from the point of view of a typical workstation, the main focus is to have enough RAM to not access the disk too often. </font><font style="vertical-align: inherit;">Especially if you have a disk with rotating plates, notorious for their low speed. </font><font style="vertical-align: inherit;">Time to write and read RAM is not such a significant factor in real work. </font><font style="vertical-align: inherit;">With SSDs, the situation is not as bad as before, but the bandwidth of a typical SSD is only slightly higher than that of DDR3, although faster drives are looming on the horizon. </font><font style="vertical-align: inherit;">So, unless you are busy with a very heavy load of multiple cores, you'd better have 32 GB of DDR3 than 4 GB of DDR5, since more memory will save you time on slower operations.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en488968/index.html">Simple detection of performance problems in PostgreSQL</a></li>
<li><a href="../en488982/index.html">S905X processor (secured boot) software security overview</a></li>
<li><a href="../en488984/index.html">‚ÄúIf sites work better, it will be perfect‚Äù: interview with Playwright developer Andrey Lushnikov</a></li>
<li><a href="../en488986/index.html">Who is a mentor and what kind of flexible skills should he have</a></li>
<li><a href="../en488990/index.html">Overview of the full-face mask of UNIX 5100, filters to it, comparison with UNIX 5000, 6100 models and PPM-88 mask</a></li>
<li><a href="../en488998/index.html">Why AI requirements can only make matters worse</a></li>
<li><a href="../en489000/index.html">How to assemble a cool mitap: 16 tips from three ‚Äúserial mitapers‚Äù. Leader-IT events # 1</a></li>
<li><a href="../en489002/index.html">Distributed wheelset registry: experience with Hyperledger Fabric</a></li>
<li><a href="../en489004/index.html">Cell Phone with Disc Dialer</a></li>
<li><a href="../en489008/index.html">Routing in complex chatbots with the Hobot framework</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>