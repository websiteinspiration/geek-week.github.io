<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧗🏽 🤚🏽 ✳️ 5 praktik terbaik untuk menggunakan kait Bereaksi dalam produksi 🐆 🐃 🚿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penulis artikel, terjemahan yang kami terbitkan hari ini, mengatakan bahwa commercetools mengadopsi kait React pada awal 2019 - pada saat mereka muncu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>5 praktik terbaik untuk menggunakan kait Bereaksi dalam produksi</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/494712/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penulis artikel, terjemahan yang kami terbitkan hari ini, mengatakan bahwa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commercetools</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengadopsi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kait React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pada awal 2019 - pada saat mereka muncul di React 16.8.0. </font><font style="vertical-align: inherit;">Sejak itu, pemrogram perusahaan terus memproses kode mereka, menerjemahkannya ke dalam kaitan. </font><font style="vertical-align: inherit;">Bereaksi kait memungkinkan Anda untuk menggunakan status komponen dan menggunakan fitur Bereaksi lainnya tanpa menggunakan kelas. </font><font style="vertical-align: inherit;">Menggunakan kait, Anda dapat, saat bekerja dengan komponen fungsional, "menyambungkan" ke peristiwa siklus hidup komponen dan menanggapi perubahan dalam statusnya.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/dp/fq/jr/dpfqjrae_1gxg8w2fhzc6izgffa.jpeg"></a><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara singkat tentang hasil penerapan kait</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika singkatnya kita berbicara tentang apa yang diberikan oleh kait, ternyata mereka membantu menyederhanakan basis kode dengan mengekstraksi logika dari komponen dan memfasilitasi komposisi kemampuan yang berbeda. </font><font style="vertical-align: inherit;">Selain itu, penggunaan kait telah menyebabkan fakta bahwa kami telah belajar banyak. </font><font style="vertical-align: inherit;">Misalnya, cara menyusun struktur kode Anda dengan lebih baik melalui peningkatan berkesinambungan fungsi yang ada. </font><font style="vertical-align: inherit;">Kami yakin bahwa kami akan mempelajari banyak hal menarik lainnya sambil terus bekerja dengan React hooks.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kekuatan implementasi pengait</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inilah yang diberikan pengantar pada kami:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meningkatkan keterbacaan kode. </font><font style="vertical-align: inherit;">Ini dimungkinkan berkat penggunaan pohon komponen yang lebih kecil dari sebelumnya. </font><font style="vertical-align: inherit;">Pembuatan komponen pohon tersebut difasilitasi oleh keinginan kami untuk meninggalkan properti rendering dan komponen tingkat tinggi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meningkatkan kemampuan debugging kode. </font><font style="vertical-align: inherit;">Kami sudah memiliki perwakilan visual yang ditingkatkan dari kode dan informasi debug tambahan yang disediakan oleh alat pengembang Bereaksi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meningkatkan modularitas proyek. </font><font style="vertical-align: inherit;">Karena sifat fungsional kait, proses membuat dan menerapkan logika yang cocok untuk penggunaan berulang telah disederhanakan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemisahan tanggung jawab. </font><font style="vertical-align: inherit;">Komponen Bereaksi bertanggung jawab atas penampilan elemen antarmuka, dan kait menyediakan akses ke logika program yang dienkapsulasi.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kami ingin membagikan rekomendasi kami tentang penggunaan kait dalam produksi.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Ambil kait tepat waktu dari komponen dan buat kait kustom</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mulai menggunakan kait dalam komponen fungsional cukup mudah. </font><font style="vertical-align: inherit;">Misalnya, kami dengan cepat melamar di suatu tempat </font></font><code>React.useState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, di suatu tempat - </font></font><code>React.useEffect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan terus melakukan pekerjaan kami. </font><font style="vertical-align: inherit;">Namun, pendekatan ini tidak memungkinkan untuk mengambil keuntungan penuh dari semua peluang yang mampu diberikan oleh kait. </font><font style="vertical-align: inherit;">Mempresentasikan </font></font><code>React.useState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam bentuk yang kecil </font></font><code>use&lt;StateName&gt;State</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan </font></font><code>React.useEffect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- dalam bentuk </font></font><code>use&lt;EffectName&gt;Effect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kami dapat mencapai yang berikut:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Komponen lebih kecil daripada dengan kait biasa.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kait dapat digunakan kembali di berbagai komponen.</font></font></li>
<li>,         React,  ,    . ,   <code>State&lt;StateName&gt;</code>   <code>State</code>.        <code>React.useState</code>,     .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengambil kait juga berkontribusi pada fakta bahwa logika yang dapat digunakan kembali dan dibagikan lebih terlihat di berbagai bagian aplikasi. Logika yang serupa atau duplikat lebih sulit untuk diketahui jika Anda hanya menggunakan pengait yang dibangun ke dalam kode komponen. Kait yang dihasilkan bisa berukuran kecil dan mengandung sangat sedikit kode </font></font><code>useToggleState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Di sisi lain, kait yang lebih besar, seperti </font></font><code>useProductFetcher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sekarang dapat mencakup lebih banyak fungsi. Kedua hal ini membantu kami menyederhanakan basis kode dengan mengurangi ukuran komponen Bereaksi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh berikut membuat kait Bereaksi kecil yang dirancang untuk mengontrol pemilihan elemen. </font><font style="vertical-align: inherit;">Manfaat enkapsulasi fungsi ini menjadi jelas segera setelah Anda menyadari seberapa sering logika tersebut digunakan dalam aplikasi. </font><font style="vertical-align: inherit;">Misalnya, untuk memilih serangkaian pesanan dari daftar.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//  </span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Component</span>(<span class="hljs-params"></span>) </span>{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> [selected, setSelected] = React.useState()
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> select = React.useCallback(<span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span> setSelected(<span class="hljs-comment">/** ... */</span>), [<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selected,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setSelect<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;])<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">selectedIds</span>=<span class="hljs-string">{selected}</span> <span class="hljs-attr">onSelect</span>=<span class="hljs-string">{id</span> =&gt;</span> select(id)} /&gt;</span><font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//   </span><font></font>
<font></font>
<span class="hljs-keyword">const</span> useSelection = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> [selected, setSelected] = React.useState()
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> select = React.useCallback(<span class="hljs-function"><span class="hljs-params">id</span> =&gt;</span> setSelected(<span class="hljs-comment">/** ... */</span>), [<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;selected,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;setSelect<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;])<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> [selected, select]<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Component</span>(<span class="hljs-params"></span>) </span>{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> [selected, select] = useSelection()<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">List</span> <span class="hljs-attr">selectedIds</span>=<span class="hljs-string">{selected}</span> <span class="hljs-attr">onSelect</span>=<span class="hljs-string">{id</span> =&gt;</span> select(id)} /&gt;</span><font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Tentang manfaat React.useDebugValue</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hook </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React.useDebugValue</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> standar </font><font style="vertical-align: inherit;">mengacu pada fitur Bereaksi yang kurang dikenal. </font><font style="vertical-align: inherit;">Pengait ini dapat membantu pengembang selama proses debug kode, dapat bermanfaat untuk menggunakannya dalam pengait yang dirancang untuk dibagikan. </font><font style="vertical-align: inherit;">Ini adalah kait pengguna yang digunakan di banyak komponen aplikasi. </font><font style="vertical-align: inherit;">Namun, </font></font><code>useDebugValue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak disarankan untuk menggunakannya di semua kait pengguna, karena kait bawaan sudah mencatat nilai debug standar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bayangkan membuat pengait khusus yang dirancang untuk membuat keputusan tentang perlunya mengaktifkan beberapa fitur aplikasi. </font><font style="vertical-align: inherit;">Data status aplikasi yang menjadi dasar keputusan dapat berasal dari berbagai sumber. </font><font style="vertical-align: inherit;">Mereka dapat disimpan dalam objek konteks Bereaksi, akses yang diatur melalui </font></font><code>React.useContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk membantu pengembang dalam debugging, saat bekerja dengan alat Bereaksi pengembang, mungkin berguna untuk mengetahui tentang nama bendera yang dianalisis ( </font></font><code>flagName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) dan varian dari nilai bendera ( </font></font><code>flagVariation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Dalam hal ini, menggunakan kait kecil dapat membantu kami </font></font><code>React.useDebugValue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">useFeatureToggle</span>(<span class="hljs-params">flagName, flagVariation = true</span>) </span>{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> flags = React.useContext(FlagsContext)
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> isFeatureEnabled = getIsFeatureEnabled(flagName, flagVariation)(flags)<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;React.useDebugValue({<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flagName,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;flagVariation,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">isEnabled</span>: isFeatureEnabled<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;})<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> isFeatureEnabled<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, bekerja dengan alat pengembang Bereaksi, kita dapat melihat informasi tentang opsi nilai bendera, tentang nama bendera, dan apakah fitur yang menarik bagi kita dihidupkan atau tidak.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a37/b3d/78c/a37b3d78c562b28184abd5d5a8fe1c93.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dengan alat pengembang Bereaksi setelah menerapkan kait React.useDebugValue</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Perhatikan bahwa dalam kasus ketika kait pengguna menggunakan kait standar seperti</font></font><code>React.useState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau</font></font><code>React.useRef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, kait tersebut sudah mencatat status terkait atau data objek ref. </font><font style="vertical-align: inherit;">Akibatnya, penggunaan konstruksi tampilan di sini</font></font><code>React.useDebugValue({ state })</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak terlalu berguna.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Kombinasi dan komposisi kait</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika kami mulai menerapkan kait dalam pekerjaan kami dan mulai menggunakan semakin banyak kait dalam komponen, dengan cepat ternyata 5-10 kait dapat hadir dalam komponen yang sama. Dalam hal ini, kait dari berbagai jenis digunakan. Sebagai contoh, kita dapat menggunakan 2-3 kait </font></font><code>React.useState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, lalu sebuah kait </font></font><code>React.useContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(katakanlah, untuk mendapatkan informasi tentang pengguna aktif), sebuah kait </font></font><code>React.useEffect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, dan juga kait dari perpustakaan lain, seperti </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">react-router</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">react-intl</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di atas diulangi lagi dan lagi, sebagai hasilnya, komponen yang sangat kecil pun tidak begitu kompak. Untuk menghindari hal ini, kami mulai mengekstraksi masing-masing kait ini menjadi kait pengguna, perangkat yang bergantung pada komponen atau kapabilitas aplikasi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bayangkan sebuah mekanisme aplikasi yang ditujukan untuk membuat pesanan. </font><font style="vertical-align: inherit;">Ketika mengembangkan mekanisme ini, banyak komponen yang digunakan, serta kait dari berbagai jenis. </font><font style="vertical-align: inherit;">Kait ini dapat dikombinasikan sebagai kait khusus, sehingga meningkatkan kegunaan komponen. </font><font style="vertical-align: inherit;">Berikut adalah contoh menggabungkan satu set kait kecil dalam satu kait.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">OrderCreate</span>(<span class="hljs-params"></span>) </span>{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;orderCreater,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;orderFetcher,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;applicationContext,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;goToNextStep,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;pendingOrder,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;updatePendingChanges,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;revertPendingChanges<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;} = useOrderCreate()<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> (<span class="hljs-comment">/** ...children */</span>)<font></font>
}<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Perbandingan React.useReducer dan React.useState</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami sering menggunakan </font></font><code>React.useState</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kait standar untuk bekerja dengan keadaan komponen. Namun, seiring waktu, keadaan komponen mungkin perlu rumit, yang tergantung pada persyaratan baru untuk komponen tersebut, seperti keberadaan beberapa nilai di negara bagian. Dalam kasus tertentu, penggunaan </font></font><code>React.useReducer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat membantu menghindari kebutuhan untuk menggunakan beberapa nilai dan menyederhanakan logika memperbarui keadaan. Bayangkan manajemen negara ketika membuat permintaan HTTP dan menerima tanggapan. Untuk melakukan ini, Anda mungkin perlu bekerja dengan nilai-nilai seperti </font></font><code>isLoading</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan</font></font><code>error</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sebaliknya, negara dapat dikontrol menggunakan peredam, yang memiliki berbagai tindakan untuk mengelola perubahan keadaan. </font><font style="vertical-align: inherit;">Pendekatan ini, idealnya, mendorong pengembang untuk memahami keadaan antarmuka dalam bentuk mesin negara. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peredam yang ditransmisikan </font></font><code>React.useReducer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mirip dengan pereduksi yang digunakan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , di mana sistem menerima keadaan saat ini dari tindakan dan harus mengembalikan keadaan berikutnya. </font><font style="vertical-align: inherit;">Tindakan tersebut berisi informasi tentang jenisnya, serta data yang menjadi dasar pembentukan negara berikutnya. </font><font style="vertical-align: inherit;">Berikut adalah contoh peredam sederhana yang dirancang untuk mengontrol penghitung tertentu:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> initialState = <span class="hljs-number">0</span>;
<span class="hljs-keyword">const</span> reducer = <span class="hljs-function">(<span class="hljs-params">state, action</span>) =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">switch</span> (action) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">case</span> <span class="hljs-string">'increment'</span>: <span class="hljs-keyword">return</span> state + <span class="hljs-number">1</span>;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">case</span> <span class="hljs-string">'decrement'</span>: <span class="hljs-keyword">return</span> state - <span class="hljs-number">1</span>;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">case</span> <span class="hljs-string">'reset'</span>: <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">default</span>: <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Error</span>(<span class="hljs-string">'Unexpected action'</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peredam ini dapat diuji secara terpisah dan kemudian digunakan dalam komponen menggunakan </font></font><code>React.useReducer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Component</span>(<span class="hljs-params"></span>) </span>{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> [count, dispatch] = React.useReducer(reducer, initialState);<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> (
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{count}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch('increment')}&gt;+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch('decrement')}&gt;-1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> dispatch('reset')}&gt;reset<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;);<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita dapat menerapkan apa yang kita periksa di tiga bagian sebelumnya, yaitu, kita dapat mengekstraksi semuanya menjadi </font></font><code>useCounterReducer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ini akan meningkatkan kode dengan menyembunyikan informasi jenis tindakan dari komponen yang menjelaskan tampilan elemen antarmuka. </font><font style="vertical-align: inherit;">Sebagai hasilnya, ini akan membantu mencegah kebocoran detail implementasi ke dalam komponen, dan juga akan memberi kami peluang tambahan untuk kode debug. </font><font style="vertical-align: inherit;">Inilah yang akan terlihat seperti kait kustom dan komponen yang menggunakannya:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> CounterActionTypes = {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">Increment</span>: <span class="hljs-string">'increment'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">Decrement</span>: <span class="hljs-string">'decrement'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">Reset</span>: <span class="hljs-string">'reset'</span>,<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> useCounterReducer = <span class="hljs-function">(<span class="hljs-params">initialState</span>) =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> [count, dispatch] = React.useReducer(reducer, initialState);<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> increment = React.useCallback(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> dispatch(CounterActionTypes.Increment));
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> decrement = React.useCallback(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> dispatch(CounterActionTypes.Decrement));
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> reset = React.useCallback(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> dispatch(CounterActionTypes.Reset));<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;count,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;increment,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;decrement<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Component</span>(<span class="hljs-params"></span>) </span>{
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> {count, increment} = useCounterReducer(<span class="hljs-number">0</span>);<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> (
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{count}
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{increment}</span>&gt;</span>+1<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;);<font></font>
};<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Implementasi kait secara bertahap</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada pandangan pertama, gagasan untuk memperkenalkan kait secara bertahap mungkin tampaknya tidak sepenuhnya logis, tetapi di sini saya menyarankan agar mereka yang berpikir demikian mengikuti alasan saya. Seiring waktu, berbagai pola menemukan aplikasi dalam basis kode. Dalam kasus kami, pola-pola ini termasuk komponen orde tinggi, properti rendering, dan sekarang kait. Saat menerjemahkan proyek ke pola baru, pengembang tidak berusaha untuk langsung menulis ulang semua kode, yang, secara umum, hampir mustahil. Akibatnya, Anda perlu mengembangkan rencana untuk mentransfer proyek ke React hooks, yang tidak memberikan perubahan besar pada kode. Tugas ini bisa sangat sulit, karena membuat perubahan pada kode biasanya mengarah pada peningkatan ukuran dan kompleksitasnya. Dengan memperkenalkan kait, kami berusaha menghindari ini.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Basis kode kami menggunakan komponen berbasis kelas dan komponen fungsional. Terlepas dari komponen mana yang digunakan dalam situasi tertentu, kami berusaha membagikan logika melalui React hooks. Pertama, kami menerapkan logika di kait (atau mengulangi implementasi mekanisme tertentu yang ada di dalamnya), kemudian membuat komponen kecil dengan urutan lebih tinggi, di mana kait ini digunakan. Setelah itu, komponen tingkat tinggi ini digunakan untuk membuat komponen berbasis kelas. Akibatnya, kami memiliki logika pembuangan yang terletak di satu tempat, yang dapat digunakan dalam berbagai komponen. Berikut adalah contoh penerapan fungsionalitas kait dalam komponen melalui komponen tingkat tinggi.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> injectTracking = <span class="hljs-function">(<span class="hljs-params">propName = <span class="hljs-string">'tracking'</span></span>) =&gt;</span> <span class="hljs-function"><span class="hljs-params">WrappedComponent</span> =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> WithTracking = <span class="hljs-function"><span class="hljs-params">props</span> =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> tracking = useTracking();<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> trackingProp = {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;[propName]: tracking,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;};<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">WrappedComponent</span> {<span class="hljs-attr">...props</span>} {<span class="hljs-attr">...trackingProp</span>} /&gt;</span></span>;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;};<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;WithTracking.displayName = wrapDisplayName(WrappedComponent, <span class="hljs-string">'withTracking'</span>);<font></font>
<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> WithTracking;<font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> injectTracking;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini menunjukkan implementasi fungsionalitas kait </font></font><code>useTracking</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam komponen </font></font><code>WrappedComponent</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ngomong-ngomong, ini memungkinkan kami, antara lain, untuk memisahkan tugas-tugas penerapan kait dan penulisan ulang tes di bagian lama sistem. </font><font style="vertical-align: inherit;">Dengan pendekatan ini, kami masih memiliki mekanisme pembuangan untuk menggunakan kait di semua bagian basis kode.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ringkasan</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah beberapa contoh bagaimana menggunakan React hooks meningkatkan basis kode kami. </font><font style="vertical-align: inherit;">Kami berharap bahwa kait juga dapat bermanfaat bagi proyek Anda. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pembaca yang budiman! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apakah Anda menggunakan React hooks?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id494692/index.html">Suntikan tanpa rasa sakit dengan jarum 4D</a></li>
<li><a href="../id494700/index.html">Skenario infeksi di kota-kota tertentu berdasarkan pada dataset pergerakan orang di seluruh Rusia</a></li>
<li><a href="../id494702/index.html">Intisari bahan-bahan segar dari dunia front-end untuk minggu terakhir No. 408 (23 - 29 Maret 2020)</a></li>
<li><a href="../id494704/index.html">CMI5, atau Life after SCORM</a></li>
<li><a href="../id494710/index.html">Penggunaan format grafik modern dalam proyek web</a></li>
<li><a href="../id494714/index.html">Pada dampak positif font variabel pada kinerja proyek web</a></li>
<li><a href="../id494716/index.html">Semua tentang kata kunci otomatis dalam CSS</a></li>
<li><a href="../id494718/index.html">Berita dari dunia OpenStreetMap No. 504 (10.03.2020-16.03.2020)</a></li>
<li><a href="../id494720/index.html">Lembar contekan saya dengan panda</a></li>
<li><a href="../id494722/index.html">Versi pratinjau pertama dari Microsoft PowerShell 7.1 untuk Windows, Linux dan macOS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>