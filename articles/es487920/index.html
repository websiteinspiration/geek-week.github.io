<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë† „ÄΩÔ∏è ü§¨ Sobrecarga en C ++. Parte I. Funciones y plantillas de sobrecarga üèµÔ∏è üëï ü•™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="C ++ es un lenguaje complejo e interesante, puede mejorarlo casi toda su vida. En alg√∫n momento, quer√≠a estudiarlo de la siguiente manera: tomar alg√∫n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Sobrecarga en C ++. Parte I. Funciones y plantillas de sobrecarga</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487920/"><hr><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++ es un lenguaje complejo e interesante, puede mejorarlo casi toda su vida. En alg√∫n momento, quer√≠a estudiarlo de la siguiente manera: tomar alg√∫n aspecto del lenguaje, posiblemente bastante limitado, y tratarlo de la manera m√°s profunda y detallada posible. Este enfoque fue ampliamente estimulado por los notables libros de Scott Meyers, Herb Sutter y Stephen Dewhurst. Cuando se acumul√≥ una cierta cantidad de materiales, decid√≠ presentarles Khabrovchan. As√≠ que estaba esta serie, que llam√© "C ++, cavando en profundidad". La serie est√° marcada como Tutorial, pero todav√≠a se centra no en principiantes, sino en el nivel intermedio. El primer tema es la sobrecarga en C ++. El tema result√≥ ser muy extenso y obtuvimos tres art√≠culos. El primer art√≠culo trata sobre la sobrecarga de funciones y plantillas, el segundo sobrecarga de operadores y el tercero sobrecarga de operadores</font></font><code>new/delete</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Entonces, comencemos a cavar.</font></font><br>
</p><hr><a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabla de contenido</font></font></h1><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabla de contenido</font></font></b><div class="spoiler_text"><p>&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.1.  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.2.     </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.3.          </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.3.1.    </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.3.2.    </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.3.3.   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.4.      </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.4.1.  using-  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.4.2.  using-     </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.4.3.  using-</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">1.4.4. ,    </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.    </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.1.      ¬´¬ª </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.2.  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.3.     </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.4.     </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.5.  </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.5.1.   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.5.2.  SFINAE</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.5.3.   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.5.4.   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.6.      ¬´¬ª </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.6.1.    ,      </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.6.2. Rvalue </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">2.6.3.  </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3.  ,   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3.1.   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3.2.    </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3.3.     </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3.4.   </a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">3.5. </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">4. </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="></a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> .     Visitor</a><br>
&nbsp;&nbsp;&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> .     </a><br>
&nbsp;&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="> </a><br>
</p><br>
</div></div><br>
<a name="id-introdaction"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introducci√≥n</font></font></h1><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En un sentido amplio, la sobrecarga es la capacidad de usar simult√°neamente varias funciones con el mismo nombre. </font><font style="vertical-align: inherit;">El compilador los distingue por el hecho de que tienen un conjunto diferente de par√°metros. </font><font style="vertical-align: inherit;">En los puntos de llamada, el compilador analiza los tipos de argumentos y determina qu√© funci√≥n particular debe llamarse. </font><font style="vertical-align: inherit;">En la literatura en ruso, a veces se puede encontrar el t√©rmino "compartir", pero no parece haber arraigado.</font></font><br>
</p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La sobrecarga es compatible con muchos lenguajes de programaci√≥n, consideraremos solo C ++ 17.</font></font><br>
</p><br>
<a name="id-1"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Disposiciones generales</font></font></h1><br>
<a name="id-1-1"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1. </font><font style="vertical-align: inherit;">Funciones sobrecargadas</font></font></h2><br>
<p> (   )   (overloaded),        (scope)       .         ,       (<code>=delete</code>)   .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">()</span></span>;
<span class="hljs-function"><span class="hljs-keyword">char</span> <span class="hljs-title">Foo</span><span class="hljs-params">()</span></span>; <span class="hljs-comment">// </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span> <span class="hljs-keyword">noexcept</span></span>;  <span class="hljs-comment">// </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">double</span>)</span> </span>= <span class="hljs-keyword">delete</span>; <span class="hljs-comment">// </span></code></pre><br>
<p>    ,    .<br>
</p><br>
<p>  ,         .      (decay)  , <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x[<span class="hljs-number">4</span>])</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x[])</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> *x)</span></span>;</code></pre><br>
<p>  ,     .<br>
</p><br>
<p>       .<br>
</p><br>
<p> ,   ,   <code>const</code> ( <code>volatile</code>), <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> x)</span></span>;</code></pre><br>
<p>  ,     .<br>
</p><br>
<a name="id-1-2"></a><br>
<h2>1.2.     </h2><br>
<p>         .       (lookup)   ,         (candidate functions).         (template argument deduction).                   (        ).     ,   .     ,    .    ,    ,    ,   ¬´ ¬ª    (match the arguments most closely).      (overload resolution).    ,     ,    (ambiguous call to overloaded function).  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">float</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x)</span></span>;</code></pre><br>
<p>  <code>Foo("meow")</code>      ,   <code>Foo(42)</code>   ,      ,    <code>Foo(3.14f)</code>  <code>Foo(3.14)</code>  .<br>
</p><br>
<p>     (overload resolution rules)             (   ,       ),     ,                .      .<br>
</p><br>
<p>  ¬´ ¬ª    :  -     .       .<br>
</p><br>
<p>    ‚Äî    .             (      <code>private</code>  <code>protected</code>).        (       <code>=delete</code>).     ,    .    ,          ,    .<br>
</p><br>
<a name="id-1-3"></a><br>
<h2>1.3.          </h2><br>
<p>   ,         .      .  ,         .        .          , ,   ,      .    ()             .<br>
</p><br>
<p>         ,       .     .            ,       . ,             ,               .        (hide)      . ,        ,      ,  ,   ,          .<br>
</p><br>
<a name="id-1-3-1"></a><br>
<h3>1.3.1.    </h3><br>
<p>        ,        ,      .  .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span> {</span><span class="hljs-comment">/* ... */</span>};
<span class="hljs-comment">// ...</span><font></font>
X x;<font></font>
x.Foo();<font></font>
X::Foo(<span class="hljs-number">42</span>);</code></pre><br>
<p>         <code>X</code>.       <code>X</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> N {<span class="hljs-comment">/* ... */</span>}
<span class="hljs-comment">// ...</span>
N::Foo();</code></pre><br>
<p>          <code>N</code>,       .<br>
</p><br>
<pre><code class="cpp hljs">::Foo();</code></pre><br>
<p>          ,    .<br>
</p><br>
<p>  ¬´¬ª         .<br>
</p><br>
<p>      ,          ,       .<br>
</p><br>
<p>        (    ),        ,           .<br>
</p><br>
<p>     <br>
</p><br>
<pre><code class="cpp hljs">{<font></font>
    Foo();<font></font>
}</code></pre><br>
<p>         . (,     ,  . .)      ,   (    -)     .<br>
</p><br>
<a name="id-1-3-2"></a><br>
<h3>1.3.2.    </h3><br>
<p> .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span>
{</span>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">D</span> :</span> <span class="hljs-keyword">public</span> B<font></font>
{<font></font>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span>:<font></font>
    D();<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x)</span></span>;<font></font>
};<font></font>
<span class="hljs-comment">// ...</span><font></font>
D d;<font></font>
d.Foo(<span class="hljs-number">42</span>);</code></pre><br>
<p>    <code>Foo</code>,  ?   <code>D::Foo(double)</code>,  <code>B::Foo(int)</code>       .       (    <code>D</code>),     ,    (    <code>B</code>)  .    <code>D::Foo(double)</code>           .   <code>D::Foo(double)</code>        ,     ,  <code>B::Foo(int)</code>     ,       .  ,    <code>D</code>   <code>Foo</code>,         <code>B</code>    <code>B::Foo(int)</code>.<br>
</p><br>
<p>       .   C++  ,          ,       .          . ,    . (     ,      .)<br>
</p><br>
<a name="id-1-3-3"></a><br>
<h3>1.3.3.   </h3><br>
<p>      C++,     .     ( ), :<br>
</p><br>
<pre><code class="cpp hljs">{
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-comment">// ...</span>
    Foo(<span class="hljs-number">42</span>);
<span class="hljs-comment">// ...</span>
}</code></pre><br>
<p>,  ,       ,    C++  .            ,    ,     ,   .       ,         .        (   ),           (    - )      .<br>
</p><br>
<a name="id-1-4"></a><br>
<h2>1.4.      </h2><br>
<p>         <code>using</code>-  <code>using</code>-. ,   ,        .<br>
</p><br>
<p>  ,  ,       , ,            ,    .<br>
</p><br>
<a name="id-1-4-1"></a><br>
<h3>1.4.1.  using-  </h3><br>
<p>      :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">B</span>
{</span>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;<font></font>
};<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">D</span> :</span> <span class="hljs-keyword">public</span> B<font></font>
{<font></font>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-keyword">using</span> B::Foo;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">double</span> x)</span></span>;<font></font>
};<font></font>
<span class="hljs-comment">// ...</span><font></font>
D d;<font></font>
d.Foo(<span class="hljs-number">42</span>);</code></pre><br>
<p>        <code>Foo</code>     <code>B</code>,    <code>B::Foo(int)</code>.<br>
</p><br>
<a name="id-1-4-2"></a><br>
<h3>1.4.2.  using-     </h3><br>
<p> <code>using</code>-           ,     .          <code>using</code>-     .    ,             ,        <code>using</code>-,     ,        . :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> N<font></font>
{<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* x)</span></span>;
<span class="hljs-comment">// ...</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Test</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">using</span> N::Foo; <span class="hljs-comment">//  Foo(const char*)</span>
    Foo(<span class="hljs-number">42</span>);      <span class="hljs-comment">// OK, N::Foo(int x)</span>
    Foo(<span class="hljs-string">"meow"</span>);  <span class="hljs-comment">// , Foo(const char*) </span>
}</code></pre><br>
<p>  ,      <code>Foo</code>    , <code>using</code>-   :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> N<font></font>
{<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* x)</span></span>;
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">using</span> N::Foo;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Test</span><span class="hljs-params">()</span>
</span>{<font></font>
    Foo(<span class="hljs-number">42</span>);      <span class="hljs-comment">// OK, N::Foo(int)</span>
    Foo(<span class="hljs-string">"meow"</span>);  <span class="hljs-comment">// OK, Foo(const char*)</span>
}</code></pre><br>
<a name="id-1-4-3"></a><br>
<h3>1.4.3.  using-</h3><br>
<p>       <code>N</code>. <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> <span class="hljs-keyword">namespace</span> N;</code></pre><br>
<p> <code>using</code>-.           <code>N</code>   <code>N::</code>.         <code>N</code>,   <code>using</code>-         (,    <code>using</code>-,   ). , ,  <code>using</code>-    ,    .<br>
</p><br>
<p>    ,  ,   ,         ,     . (       <code>using</code>-.)<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span><font></font>
{<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* x)</span></span>;
<span class="hljs-comment">// ...</span>
Foo(<span class="hljs-number">42</span>);     <span class="hljs-comment">// OK, Foo(int),   </span>
Foo(<span class="hljs-string">"meow"</span>); <span class="hljs-comment">// OK, Foo(const char*)</span></code></pre><br>
<a name="id-1-4-4"></a><br>
<h3>1.4.4. ,    </h3><br>
<p>  ,          .         :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> N<font></font>
{<font></font>
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span> {</span><span class="hljs-comment">/* ... */</span>};
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> X&amp; x)</span></span>;<font></font>
}</code></pre><br>
<p>  (   <code>N</code>):<br>
</p><br>
<pre><code class="cpp hljs">N::X x;<font></font>
Foo(x);</code></pre><br>
<p>          <code>N</code> ,        ,   <code>N::Foo(const X&amp;)</code>.    ,     (argument depended lookup, ADL),    . ADL      ,       .<br>
</p><br>
<a name="id-2"></a><br>
<h1>2.    </h1><br>
<p>        ,    .<br>
</p><br>
<a name="id-2-1"></a><br>
<h2>2.1.      ¬´¬ª </h2><br>
<p> C++     .        ,        .        ,        , .   : ,   ,  .<br>
</p><br>
<p>     <code>bool</code>.        <code>bool</code>  <code>int</code>          <code>bool</code>.       .        <code>bool</code>    <code>int</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> x)</span></span>;
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">int</span> x = <span class="hljs-number">6</span>, y = <span class="hljs-number">5</span>;<font></font>
Foo(x == y); <span class="hljs-comment">// Foo(bool)</span>
Foo(x = y);  <span class="hljs-comment">// Foo(int)</span></code></pre><br>
<p>    <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">bool</span> x, <span class="hljs-keyword">int</span> y)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x, <span class="hljs-keyword">bool</span> y)</span></span>;</code></pre><br>
<p>    ,  :<br>
</p><br>
<pre><code class="cpp hljs">Foo(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);</code></pre><br>
<p>    ,       .         <code>int</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">enum</span> Qq { One = <span class="hljs-number">1</span>, Two };
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(Qq x)</span></span>;
<span class="hljs-comment">// ...</span>
Foo(One); <span class="hljs-comment">// Foo(Qq)</span>
Foo(<span class="hljs-number">42</span>);  <span class="hljs-comment">// Foo(int)</span></code></pre><br>
<p>    , , <code>int</code>  <code>long</code>     .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">long</span> x)</span></span>;
<span class="hljs-comment">// ...</span>
Foo(<span class="hljs-number">42</span>);  <span class="hljs-comment">// Foo(int)</span>
Foo(<span class="hljs-number">42L</span>); <span class="hljs-comment">// Foo(long)</span></code></pre><br>
<p>        .       .     ,      ,       .    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">long</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">long</span> <span class="hljs-keyword">long</span> x)</span></span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">float</span>)</span> </span>= <span class="hljs-keyword">delete</span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">double</span>)</span> </span>= <span class="hljs-keyword">delete</span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">long</span> <span class="hljs-keyword">double</span>)</span> </span>= <span class="hljs-keyword">delete</span>;</code></pre><br>
<a name="id-2-2"></a><br>
<h2>2.2.  </h2><br>
<p> C++11     ‚Äî <code>std::nullptr_t</code>    <code>nullptr</code>.              .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* x)</span></span>;
<span class="hljs-comment">// ...</span>
Foo(<span class="hljs-number">0</span>);       <span class="hljs-comment">// Foo(int)</span>
Foo(<span class="hljs-literal">nullptr</span>); <span class="hljs-comment">// Foo(void*)</span></code></pre><br>
<p> C++98  <br>
</p><br>
<pre><code class="cpp hljs">Foo((<span class="hljs-keyword">void</span>*)<span class="hljs-number">0</span>);</code></pre><br>
<p>     .   <code>nullptr</code>    ,      <code>nullptr</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">void</span>* x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::<span class="hljs-keyword">nullptr_t</span>)</span></span>;
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">void</span>* x = <span class="hljs-literal">nullptr</span>;<font></font>
Foo(x);       <span class="hljs-comment">// Foo(void*)</span>
Foo(<span class="hljs-literal">nullptr</span>); <span class="hljs-comment">// Foo(std::nullptr_t)</span></code></pre><br>
<p>       .<br>
</p><br>
<a name="id-2-3"></a><br>
<h2>2.3.     </h2><br>
<p> ++11     (uniform initialization)         ‚Äî <code>std::intializer_list&lt;&gt;</code>.    ,   ,       .           .   .<br>
</p><br>
<ol>
<li>   ‚Äî <code>{}</code>,     .   ,   .</li>
<li>        ,    <code>std::intializer_list&lt;&gt;</code>.          <code>std::intializer_list&lt;&gt;</code>,   ,    .        ,  <code>std::intializer_list&lt;&gt;</code>,      (       ),   .</li>
</ol><br>
<p>      <code>std::vector&lt;T&gt;</code>,       <code>std::intializer_list&lt;T&gt;</code>.<br>
</p><br>
<p>  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-title">v1</span><span class="hljs-params">(<span class="hljs-number">3</span>, <span class="hljs-number">1</span>)</span>, v2</span>{<span class="hljs-number">3</span>, <span class="hljs-number">1</span>};</code></pre><br>
<p>   <code>v1</code> ‚Äî    3    1. <code>v2</code> ‚Äî    2    3  1,      <code>std::intializer_list&lt;int&gt;</code>,     ,   .<br>
</p><br>
<p> :<br>
</p><p></p><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*&gt; <span class="hljs-title">u1</span><span class="hljs-params">(<span class="hljs-number">3</span>, <span class="hljs-string">"meow"</span>)</span>, u2</span>{<span class="hljs-number">3</span>, <span class="hljs-string">"meow"</span>};</code></pre><br>
<p>   <code>u1</code>  <code>u2</code> ,   3.  <code>u2</code>          <code>std::intializer_list&lt;const char*&gt;</code>      ,    <code>u1</code>.<br>
</p><br>
<p>  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">bool</span>&gt; <span class="hljs-title">b1</span><span class="hljs-params">(<span class="hljs-number">3</span>, <span class="hljs-literal">true</span>)</span>, b2</span>{<span class="hljs-number">3</span>, <span class="hljs-literal">true</span>};</code></pre><br>
<p>   <code>b1</code>   3  ,  <code>true</code>.   <code>b2</code>  ,        <code>std::intializer_list&lt;bool&gt;</code>     <code>int</code>  <code>bool</code>.<br>
</p><br>
<p>         [Meyers2].<br>
</p><br>
<a name="id-2-4"></a><br>
<h2>2.4.     </h2><br>
<p>    ,    <code>...</code>    ,            ,          .                     .<br>
</p><br>
<a name="id-2-5"></a><br>
<h2>2.5.  </h2><br>
<p>,           ,      .       ‚Äî    c  .<br>
</p><br>
<p>             .          (  ,      ),   .<br>
</p><br>
<a name="id-2-5-1"></a><br>
<h3>2.5.1.   </h3><br>
<p>         .           ,         .    ,     .     ,          .<br>
</p><br>
<p>   ,  ,           .    ,   .    ,       ,   .            [Sutter2].<br>
</p><br>
<p> C++11          (variadic templates).           ,        , ,    .<br>
</p><br>
<a name="id-2-5-2"></a><br>
<h3>2.5.2.  SFINAE</h3><br>
<p>     ,    ,           .  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T* x)</span></span>;
<span class="hljs-comment">// ...</span>
Foo(<span class="hljs-number">42</span>);</code></pre><br>
<p>  ,        ,     ,    ,    ,    ¬´¬ª    .     SFINAE,    Substitution Failure is not an Error (     ).<br>
</p><br>
<a name="id-2-5-3"></a><br>
<h3>2.5.3.   </h3><br>
<p>   ,     .</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>; <span class="hljs-comment">//  </span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T x)</span></span>; <span class="hljs-comment">//  1</span>
<span class="hljs-keyword">template</span>&lt;&gt;
<span class="hljs-keyword">void</span> Foo&lt;<span class="hljs-keyword">double</span>&gt;(<span class="hljs-keyword">double</span> x); <span class="hljs-comment">//    1  double</span>
<span class="hljs-keyword">template</span>&lt;&gt;
<span class="hljs-keyword">void</span> Foo&lt;<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>*&gt;(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* x); <span class="hljs-comment">//    1  const char*</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T* x)</span></span>; <span class="hljs-comment">//  2,     1</span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">U</span> {</span><span class="hljs-comment">/* ... */</span>};
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(U&lt;T&gt; u)</span></span>; <span class="hljs-comment">//  3,     1</span></code></pre><br>
<p>,            :<br>
</p><br>
<pre><code class="cpp hljs">Foo(<span class="hljs-number">42</span>);       <span class="hljs-comment">// #1 ‚Äî  </span>
Foo(<span class="hljs-number">3.14</span>);     <span class="hljs-comment">// #2 ‚Äî    1  double</span>
Foo(<span class="hljs-number">42L</span>);      <span class="hljs-comment">// #3 ‚Äî   1  long</span>
Foo(<span class="hljs-string">"meow"</span>);   <span class="hljs-comment">// #4 ‚Äî   2  char</span>
Foo(U&lt;<span class="hljs-keyword">int</span>&gt;()); <span class="hljs-comment">// #5 ‚Äî   3  int</span></code></pre><br>
<p>            :  1  <code>int</code>.   .<br>
</p><br>
<p>       ,    <code>double</code>  <code>int</code>.     :  1  <code>double</code>      1  <code>double</code>,   .<br>
</p><br>
<p>       ,    <code>long</code>  <code>int</code>.     :  1  <code>long</code>,   .<br>
</p><br>
<p>       ,     :  1  <code>const char*</code>   2  <code>char</code>.   2    , ,    1  <code>const char*</code>  .<br>
</p><br>
<p>       ,     :  1  <code>U&lt;int&gt;</code>   3  <code>int</code>.   3   .<br>
</p><br>
<a name="id-2-5-4"></a><br>
<h3>2.5.4.   </h3><br>
<p>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;     <span class="hljs-comment">//  </span>
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt; <span class="hljs-comment">// </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T x)</span></span>;</code></pre><br>
<p>        <code>int</code>, <code>int&amp;</code>, <code>const int</code>, <code>const int&amp;</code>,     (<code>long</code>, <code>short</code>, <code>unsigned int</code>, etc.)    .    ,      (greedy).      , ,  ,        .      .        ,    .   ‚Äî     (template disabling).        :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span>&lt;
    <span class="hljs-keyword">typename</span> T,
    <span class="hljs-keyword">typename</span> S = <span class="hljs-built_in">std</span>::<span class="hljs-keyword">enable_if_t</span>&lt;!<span class="hljs-built_in">std</span>::is_integral&lt;T&gt;::value&gt;&gt;
<span class="hljs-keyword">void</span> Foo(T x);</code></pre><br>
<p>             SFINAE       ,  ,          .<br>
</p><br>
<p> , ,       ,    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt; <span class="hljs-comment">//  </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FooInt</span><span class="hljs-params">(T x)</span></span>;
<span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt; <span class="hljs-comment">//  </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FooEx</span><span class="hljs-params">(T x)</span></span>;
<span class="hljs-comment">// C++17</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T x)</span>
</span>{
    <span class="hljs-function"><span class="hljs-keyword">if</span> <span class="hljs-title">constexpr</span> <span class="hljs-params">(<span class="hljs-built_in">std</span>::is_integral&lt;T&gt;::value)</span>
    </span>{<font></font>
        FooInt(x);<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
        FooEx(x);<font></font>
    }<font></font>
}<font></font>
<span class="hljs-comment">// C++11</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T x)</span>
</span>{
    <span class="hljs-built_in">std</span>::is_integral&lt;T&gt;::value<font></font>
        ? FooInt(x)<font></font>
        : FooEx(x);<font></font>
}</code></pre><br>
<p>      <code>&lt;type_traits&gt;</code>.<br>
</p><br>
<a name="id-2-6"></a><br>
<h2>2.6.      ¬´¬ª </h2><br>
<p>             ¬´¬ª :  , ,   , rvalue .<br>
</p><br>
<p>         .        :<br>
</p><br>
<ol>
<li>lvalue ‚Äî   ;</li>
<li> () lvalue ‚Äî   ;</li>
<li>rvalue ‚Äî      lvalue,     <code>std::move();</code></li>
<li> () rvalue ‚Äî    .</li>
</ol><br>
<p>         ‚Äî .<br>
</p><br>
<p> ,       .<br>
    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp; x)</span></span>;</code></pre><br>
<p>        lvalue.<br>
</p><br>
<p>    rvalue-:<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp;&amp; x)</span></span>;</code></pre><br>
<p>        rvalue.<br>
</p><br>
<p>         :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T&amp; x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T x)</span></span>;</code></pre><br>
<p>      .<br>
</p><br>
<a name="id-2-6-1"></a><br>
<h3>2.6.1.    ,      </h3><br>
<p>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp; x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T&amp; x)</span></span>;</code></pre><br>
<p>    lvalue     (   ),    .<br>
</p><br>
<p>     :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp; x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T x)</span></span>;</code></pre><br>
<p>    rvalue    ,    lvalue   .<br>
</p><br>
<p>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T&amp; x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T x)</span></span>;</code></pre><br>
<p>     .<br>
</p><br>
<p>  -  <code>const</code>          <code>this</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>
{</span>
<span class="hljs-keyword">public</span>:<font></font>
    X();<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">()</span></span>;       <span class="hljs-comment">// this   X*</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>; <span class="hljs-comment">// this   const X*</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DoSomething</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DoSomethingElse</span><span class="hljs-params">()</span></span>;
<span class="hljs-comment">// ...</span><font></font>
};<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">X::DoSomething</span><span class="hljs-params">()</span> <span class="hljs-keyword">const</span>
</span>{
<span class="hljs-comment">// ...</span>
    Foo(); <span class="hljs-comment">// Foo() const</span>
<span class="hljs-comment">// ...</span><font></font>
}<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">X::DoSomethingElse</span><span class="hljs-params">()</span>
</span>{
<span class="hljs-comment">// ...</span>
    Foo(); <span class="hljs-comment">// Foo()</span>
<span class="hljs-comment">// ...</span><font></font>
}<font></font>
<span class="hljs-comment">// ...</span><font></font>
X x;<font></font>
x.Foo();  <span class="hljs-comment">// Foo()</span>
<span class="hljs-keyword">const</span> X cx;<font></font>
cx.Foo(); <span class="hljs-comment">// Foo() const</span></code></pre><br>
<p>H -    rvalue ,       rvalue.     rvalue      .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>
{</span>
<span class="hljs-keyword">public</span>:<font></font>
    X();<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Swap</span><span class="hljs-params">(X&amp; other)</span> <span class="hljs-keyword">noexcept</span></span>;
<span class="hljs-comment">// ...</span><font></font>
};<font></font>
<span class="hljs-comment">// ...</span><font></font>
X x;<font></font>
<span class="hljs-comment">// ...</span>
X().Swap(x); <span class="hljs-comment">// OK</span>
x.Swap(X()); <span class="hljs-comment">// ,      </span></code></pre><br>
<p>  rvalue        .     ,      .            rvalue     . (    ,        rvalue .)    rvalue      .  ,   ,  ,     ,     .         [Sutter1].<br>
</p><br>
<a name="id-2-6-2"></a><br>
<h3>2.6.2. Rvalue </h3><br>
<p>     C++11   .        ‚Äî rvalue-. Rvalue-    C++ ,          ,    rvalue-.       ,        ,  ¬´¬ª          .<br>
</p><br>
<p>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp;&amp; x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> T&amp; x)</span></span>;</code></pre><br>
<p>        rvalue  (   ),     .<br>
</p><br>
<p>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp;&amp; x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T x)</span></span>;</code></pre><br>
<p>        lvalue   ,    rvalue    ,       .<br>
</p><br>
<p>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp;&amp; x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp; x)</span></span>;</code></pre><br>
<p>        rvalue ,   lvalue ,        .<br>
</p><br>
<p>,    ‚Äî  rvalue, ‚Äî      ,     ,   . (    .)  ,    ,     ,       .<br>
</p><br>
<p>   ++11,   rvalue- ‚Äî      -.      (lvalue/rvalue)   <code>this</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>
{</span>
<span class="hljs-keyword">public</span>:<font></font>
    X();<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">()</span> &amp;</span>;  <span class="hljs-comment">// this   lvalue</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">()</span> &amp;&amp;</span>; <span class="hljs-comment">// this   rvalue</span>
<span class="hljs-comment">// ...</span><font></font>
}; <font></font>
<span class="hljs-comment">// ...</span><font></font>
X x;<font></font>
x.Foo ();  <span class="hljs-comment">// Foo() &amp;</span>
X().Foo(); <span class="hljs-comment">// Foo() &amp;&amp;</span></code></pre><br>
<p>      :  rvalue-     lvalue.      ,    rvalue-,    lvalue ,       -  ,       <code>std::move()</code>,         rvalue-   .<br>
</p><br>
<a name="id-2-6-3"></a><br>
<h3>2.6.3.  </h3><br>
<p> <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(T&amp;&amp; x)</span></span>;</code></pre><br>
<p>     rvalue-,      (universal reference).       .  lvalue   <code>x</code>   <code>T&amp;</code>,    <code>const T&amp;</code>,  rvalue   <code>T&amp;&amp;</code>.     <code>x</code>  lvalue,        -        <code>std::forward&lt;T&gt;()</code>,   ,    <code>T&amp;&amp;</code>,     rvalue.       (greedy),         .     ,    2.5.            (perfect forwarding) . [Meyers2].<br>
</p><br>
<a name="id-3"></a><br>
<h1>3.  ,   </h1><br>
<a name="id-3-1"></a><br>
<h2>3.1.   </h2><br>
<p> C++      ,        -   (, , , ),      .        (incomplete declaration),    (forward declaration).      .       .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>;</span> <span class="hljs-comment">//   X</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Y</span>;</span> <span class="hljs-comment">//   Y</span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(X* x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(Y* y)</span></span>;
<span class="hljs-comment">// ...</span><font></font>
X* px;<font></font>
<span class="hljs-comment">// ...</span>
Foo(px); <span class="hljs-comment">// void Foo(X* x);</span></code></pre><br>
<p>      <code>X</code>   ,    .<br>
</p><br>
<a name="id-3-2"></a><br>
<h2>3.2.    </h2><br>
<p>         .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* x)</span></span>;
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">void</span> (*pF)(<span class="hljs-keyword">int</span>) = Foo; <span class="hljs-comment">// Foo(int)</span></code></pre><br>
<p>    ,          .     (, )  ,   ADL  .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> N<font></font>
{<font></font>
    <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span> {</span><span class="hljs-comment">/* ... */</span>};
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> X&amp; x)</span></span>;<font></font>
}<font></font>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">void</span> (*pF)(<span class="hljs-keyword">const</span> N::X&amp;) = Foo;    <span class="hljs-comment">// </span>
<span class="hljs-keyword">void</span> (*pF)(<span class="hljs-keyword">const</span> N::X&amp;) = N::Foo; <span class="hljs-comment">// OK</span>
<span class="hljs-keyword">using</span> N::Foo;
<span class="hljs-keyword">void</span> (*pF)(<span class="hljs-keyword">const</span> N::X&amp;) = Foo;    <span class="hljs-comment">// OK</span></code></pre><br>
<p>       .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* x)</span></span>;
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">auto</span> pf = <span class="hljs-keyword">static_cast</span>&lt;<span class="hljs-keyword">void</span>(*)(<span class="hljs-keyword">int</span>)&gt;(Foo); <span class="hljs-comment">// Foo(int)</span></code></pre><br>
<p>          ADL  .<br>
</p><br>
<p>  ,          <code>auto</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">auto</span> pf = Foo;</code></pre><br>
<p>  <code>Foo</code>   ,     ,  <code>pf</code>      <code>Foo</code>.          <code>Foo</code>,   ,           .<br>
</p><br>
<p>       ,        ().           <code>std::function&lt;&gt;</code>,     ,    ,  <code>std::sort()</code>.         .<br>
</p><br>
<p> -        - .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>
{</span>
<span class="hljs-comment">// ...</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> a)</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">char</span>* a)</span></span>;<font></font>
};<font></font>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">void</span> (X::*pF)(<span class="hljs-keyword">int</span>) = &amp;X::Foo; <span class="hljs-comment">// X::Foo(int)</span></code></pre><br>
<a name="id-3-3"></a><br>
<h2>3.3.     </h2><br>
<p>                .<br>
</p><br>
<p> <br>
</p><p></p><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">()</span> </span>{ Foo(<span class="hljs-number">0</span>); }</code></pre><br>
<p>        <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Foo</span><span class="hljs-params">(<span class="hljs-keyword">int</span> x = <span class="hljs-number">0</span>)</span></span>;</code></pre><br>
<p>  ,  <code>Foo()</code>,     .            ,     .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">void</span> (*pF1)(<span class="hljs-keyword">int</span>) = Foo; <span class="hljs-comment">// OK</span>
<span class="hljs-keyword">void</span> (*pF0)() = Foo;    <span class="hljs-comment">// , Foo    </span></code></pre><br>
<p>        .<br>
</p><br>
<p>         ,     ,          .<br>
</p><br>
<a name="id-3-4"></a><br>
<h2>3.4.   </h2><br>
<p>       .   ,       , , ,    ,     .                 (¬´¬ª    , .  1.3).     [Dewhurst].     ‚Äî      .      ,       ( ,     -  ),                 ,     .         .     ,           Visitor.<br>
</p><br>
<a name="id-3-5"></a><br>
<h2>3.5. </h2><br>
<p>     ,   ,        ‚Äî  ,     .      ,       .       ,    .<br>
</p><br>
<p> ,     .     -,  <code>std::input_iterator_tag</code>.       (<code>typedef</code>)  ‚Äî <code>iterator_category</code>.            ,          -,             <code>iterator_category</code>,     ,   .  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DisplayIterCat</span><span class="hljs-params">(<span class="hljs-built_in">std</span>::input_iterator_tag tag)</span>
</span>{
    <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Input iterator\n"</span>;<font></font>
}<font></font>
<span class="hljs-comment">//  DisplayIterCat   -</span>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;class Iter&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">DisplayIterCat</span><span class="hljs-params">(Iter it)</span>
</span>{<font></font>
    DisplayIterCat(<span class="hljs-keyword">typename</span> Iter::iterator_category());<font></font>
}</code></pre><br>
<p>      <code>typename</code>.    ,  <code>iterator_category</code>      <code>Iter</code>.<br>
</p><br>
<p> C++        ,    ,  .        :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T, T val&gt;
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">integral_constant</span>;</span></code></pre><br>
<p>        <code>T</code>    <code>T</code>,    ,   .   :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">typedef</span> integral_constant&lt;<span class="hljs-keyword">bool</span>, <span class="hljs-literal">true</span>&gt; true_type;
<span class="hljs-keyword">typedef</span> integral_constant&lt;<span class="hljs-keyword">bool</span>, <span class="hljs-literal">false</span>&gt; false_type;</code></pre><br>
<p>  ,    ,   .<br>
</p><br>
<p>   ,   .  :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">sizeof</span>(Foo(expr))</code></pre><br>
<p>     .   <code>expr</code>  ,    .     ,   <code>Foo</code>  ,        <code>Foo</code>  .          .<br>
</p><br>
<p> C++17   <code>if constexpr ()</code>,    ,      .     (     )          .<br>
</p><br>
<a name="id-concl"></a><br>
<h1>4. </h1><br>
<p> ‚Äî   ,       .     ,              .<br>
</p><br>
<p>     ,    .      ,   .      ,   .<br>
</p><br>
<p>      ,          .<br>
</p><br>
<p>         ‚Äî   .<br>
</p><br>
<a name="id-A"></a><br>
<h1></h1><br>
<a name="id-A-1"></a><br>
<h2> .     Visitor</h2><br>
<p>             <code>A</code>,    <code>V</code>  <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DoDblDispatchOper</span><span class="hljs-params">(A* a, V* v)</span></span>;</code></pre><br>
<p> <code>a</code>  <code>v</code>             ,     ,      <code>a</code>,   <code>v</code>,        .     .     ,    ,       .       Visitor ‚Äî      [GoF].<br>
</p><br>
<p>       ,      <code>IAcceptor</code>      <code>IVisitor</code>.<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IVisitor</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IAcceptor</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Accept</span><span class="hljs-params">(IVisitor* visitor)</span> </span>= <span class="hljs-number">0</span>;
<span class="hljs-comment">// ...</span><font></font>
};<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A1</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A2</span>;</span>
<span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">IVisitor</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Visit</span><span class="hljs-params">(A1* a)</span> </span>= <span class="hljs-number">0</span>;
    <span class="hljs-function"><span class="hljs-keyword">virtual</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Visit</span><span class="hljs-params">(A2* a)</span> </span>= <span class="hljs-number">0</span>;
<span class="hljs-comment">// ...</span><font></font>
};<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A1</span> :</span> <span class="hljs-keyword">public</span> IAcceptor <font></font>
{<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Accept</span><span class="hljs-params">(IVisitor* visitor)</span> <span class="hljs-keyword">override</span>
    </span>{<font></font>
        visitor-&gt;Visit(<span class="hljs-keyword">this</span>);<font></font>
    }<font></font>
<span class="hljs-comment">// ...</span><font></font>
};<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">A2</span> :</span> <span class="hljs-keyword">public</span> IAcceptor<font></font>
{<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Accept</span><span class="hljs-params">(IVisitor* visitor)</span> <span class="hljs-keyword">override</span>
    </span>{<font></font>
        visitor-&gt;Visit(<span class="hljs-keyword">this</span>);<font></font>
    }<font></font>
<span class="hljs-comment">// ...</span><font></font>
};<font></font>
<span class="hljs-comment">// ...</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">V1</span> :</span> <span class="hljs-keyword">public</span> IVisitor {<span class="hljs-comment">/* ... */</span>};
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">V2</span> :</span> <span class="hljs-keyword">public</span> IVisitor {<span class="hljs-comment">/* ... */</span>};
<span class="hljs-comment">// ...</span></code></pre><br>
<p>  <code>IVisitor</code>    <code>Visit()</code>    ,   <code>IAcceptor</code>.       <code>Visit()</code>    ,     .<br>
</p><br>
<p> <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">IAcceptor::Accept</span><span class="hljs-params">(IVisitor* visitor)</span></span>;</code></pre><br>
<p>     ,     :<br>
</p><br>
<pre><code class="cpp hljs">visitor-&gt;Visit(<span class="hljs-keyword">this</span>);</code></pre><br>
<p>     <code>this</code>   ,         <code>Visit()</code>.            <code>Visit()</code>,     <code>visitor</code>.<br>
  <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">DoDblDispatchOper</span><span class="hljs-params">(IAcceptor* acceptor, IVisitor* visitor)</span>
</span>{<font></font>
    acceptor-&gt;Accept(visitor);<font></font>
}</code></pre><br>
<p>Voila.   .<br>
</p><br>
<a name="id-A-2"></a><br>
<h2> .     </h2><br>
<p>        -  .    ‚Äî   (  )    .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(T&amp; a, T&amp; b)</span></span>;</code></pre><br>
<p>    , ,      .                       .   ,  <code>std::swap()</code>   ,      ,          .  ,       <code>std::swap()</code>,   ,    ,    .     ,  .<br>
</p><br>
<p>1.    - <code>Swap()</code> (  ),   .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>
{</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Swap</span><span class="hljs-params">(X&amp; other)</span> <span class="hljs-keyword">noexcept</span></span>;
<span class="hljs-comment">// ...</span>
};</code></pre><br>
<p> ,      ,  C++11      <code>noexcept</code>.<br>
</p><br>
<p>2.     ,    <code>X</code> (     ,      ),   (-)  <code>swap()</code>   (   ):<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">inline</span> <span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(X&amp; a, X&amp; b)</span> <span class="hljs-keyword">noexcept</span> </span>{ a.Swap(b); }</code></pre><br>
<p> ,  ADL,          <code>std::swap()</code>          .<br>
</p><br>
<p>3.    <code>std::swap()</code>  <code>X</code><br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> <span class="hljs-built_in">std</span><font></font>
{<font></font>
    <span class="hljs-keyword">template</span>&lt;&gt;
    <span class="hljs-keyword">void</span> swap&lt;X&gt;(X&amp; a, X&amp; b) <span class="hljs-keyword">noexcept</span> { a.Swap(b); }<font></font>
};</code></pre><br>
<p>      <code>std</code> ,   - .       <code>std</code>.<br>
</p><br>
<p>,      ?   ‚Äî     .  ,        ,     .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">namespace</span> N<font></font>
{<font></font>
    <span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-comment">// ...</span><font></font>
    T x, y;<font></font>
<span class="hljs-comment">// ...</span><font></font>
    swap(x, y);<font></font>
<span class="hljs-comment">// ...</span></code></pre><br>
<p> ,   <code>T</code>  <code>swap()</code>,       ,  .        <code>std::swap()</code>   ,   ,     .<br>
</p><br>
<p> <br>
     :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-built_in">std</span>::swap(x, y);</code></pre><br>
<p>    <code>swap()</code>             <code>std::swap()</code> ‚Äî   .       .<br>
</p><br>
<p>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">using</span> <span class="hljs-built_in">std</span>::swap;<font></font>
swap(x, y);</code></pre><br>
<p>       ,   .        <code>std::swap()</code>,   .         <code>std::swap()</code>.      <code>std::swap()</code>   .<br>
</p><br>
<p>   ,     (     <code>std</code>)   <br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-built_in">std</span>::swap(x, y);</code></pre><br>
<p> <br>
</p><br>
<pre><code class="cpp hljs">swap(x, y);</code></pre><br>
<p>  [Meyers1] ,         .<br>
</p><br>
<p>  ,         .<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>
{</span>
<span class="hljs-comment">// ...</span>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Swap</span><span class="hljs-params">(X&amp; other)</span> <span class="hljs-keyword">noexcept</span></span>;<font></font>
};<font></font>
<span class="hljs-function"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(X&lt;T&gt;&amp; a, X&lt;T&gt;&amp; b)</span> <span class="hljs-keyword">noexcept</span> </span>{ a.Swap(b); }</code></pre><br>
<p>   <code>std::swap()</code>     ,          <code>std</code>  ,    , ,     ,     .<br>
</p><br>
<p>    <code>friend</code>  <code>swap()</code>    :<br>
</p><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">template</span>&lt;<span class="hljs-keyword">typename</span> T&gt;
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">X</span>
{</span>
<span class="hljs-comment">// ...</span>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Swap</span><span class="hljs-params">(X&amp; other)</span> <span class="hljs-keyword">noexcept</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">friend</span> <span class="hljs-keyword">void</span> <span class="hljs-title">swap</span><span class="hljs-params">(X&amp; a, X&amp; b)</span> <span class="hljs-keyword">noexcept</span> </span>{ a.Swap(b); }<font></font>
};</code></pre><br>
<p>   ,  - <code>Swap()</code>       .<br>
</p><br>
<a name="id-refs"></a><br>
<h1> </h1><br>
<p>[GoF]<br>
 .,  .,  .,  .  - .  .: .  . ‚Äî .: , 2001.<br>
[Dewhurst]<br>
,  .   C++.         .: .  . ‚Äî .:  , 2012.<br>
[Meyers1]<br>
, .   C++. 55        .: .  . ‚Äî .:  , 2014.<br>
[Meyers2]<br>
, .    C++: 42    C++11  C ++14.: .  . ‚Äî .:  ¬´.. ¬ª, 2016.<br>
[Sutter1]<br>
, .     C++.: .  . ‚Äî :  ¬´.. ¬ª, 2015.<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[Sutter2] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sutter, escudo de armas. </font><font style="vertical-align: inherit;">Nuevas tareas complejas en C ++.: Per. </font><font style="vertical-align: inherit;">De ingl√©s </font><font style="vertical-align: inherit;">- M: LLC "I.D. </font><font style="vertical-align: inherit;">Williams, 2015.</font></font><br>
</p><br>
<br></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es487908/index.html">El comienzo de la guerra de los procesos tecnol√≥gicos: 5 nm y 3 nm.</a></li>
<li><a href="../es487910/index.html">Leyes naturales y matem√°ticas elegantes: problemas y soluciones.</a></li>
<li><a href="../es487912/index.html">9 consejos para acelerar el proceso de contrataci√≥n en 2020</a></li>
<li><a href="../es487914/index.html">Oferta en Londres en un d√≠a: c√≥mo obtenerla y qu√© hacer despu√©s de mudarse</a></li>
<li><a href="../es487916/index.html">La historia del audio compacto: c√≥mo las bobinas en miniatura migraron a un factor de forma de cassette</a></li>
<li><a href="../es487922/index.html">Aprendiendo a implementar microservicios. Parte 1. Spring Boot y Docker</a></li>
<li><a href="../es487924/index.html">Kim Dotcom: Atrapado, la persona m√°s buscada en l√≠nea. Parte 3</a></li>
<li><a href="../es487926/index.html">En busca de educaci√≥n f√≠sica</a></li>
<li><a href="../es487930/index.html">Noche de conferencias quiero gamedev</a></li>
<li><a href="../es487932/index.html">Mapas normales ideales para Unity (y otros programas)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>