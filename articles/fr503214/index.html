<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘©ğŸ¼â€ğŸ« ğŸ‘ŠğŸ¿ ğŸ½ Optimisation de la charge sur un projet Highload avec ElasticSearch âœŠğŸ¼ ğŸ§˜ğŸ½ ğŸ—¨ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour, Habr! Je m'appelle Maxim Vasiliev, je travaille comme analyste et chef de projet chez FINCH. Aujourd'hui, je voudrais vous dire comment, grÃ¢c...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Optimisation de la charge sur un projet Highload avec ElasticSearch</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503214/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonjour, Habr! </font><font style="vertical-align: inherit;">Je m'appelle Maxim Vasiliev, je travaille comme analyste et chef de projet chez FINCH. </font><font style="vertical-align: inherit;">Aujourd'hui, je voudrais vous dire comment, grÃ¢ce Ã  ElasticSearch, nous avons pu traiter 15 millions de requÃªtes en 6 minutes et optimiser la charge quotidienne sur le site d'un de nos clients. </font><font style="vertical-align: inherit;">Malheureusement, nous devrons nous passer de noms, puisque nous avons le NDA, nous espÃ©rons que le contenu de l'article ne sera pas affectÃ©. </font><font style="vertical-align: inherit;">Allons-y.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment le projet est organisÃ©</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur notre backend, nous crÃ©ons des services qui assurent la performance des sites et des applications mobiles de notre client. </font><font style="vertical-align: inherit;">La structure gÃ©nÃ©rale peut Ãªtre vue dans le diagramme: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sv/yw/mx/svywmxdiqxb59mwxobsses8vrc8.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le processus, nous traitons un grand nombre de transactions: achats, paiements, opÃ©rations avec des soldes d'utilisateurs, sur lesquels nous stockons beaucoup de journaux, et importons et exportons Ã©galement ces donnÃ©es vers des systÃ¨mes externes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe Ã©galement des processus inverses lorsque nous recevons des donnÃ©es d'un client et les transmettons Ã  l'utilisateur. </font><font style="vertical-align: inherit;">De plus, il existe encore des processus pour travailler avec les programmes de paiement et de bonus.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contexte court</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au dÃ©part, nous avons utilisÃ© PostgreSQL comme seul entrepÃ´t de donnÃ©es. Ses avantages standards pour les SGBD: disponibilitÃ© des transactions, langage dÃ©veloppÃ© d'Ã©chantillonnage des donnÃ©es, larges outils d'intÃ©gration; couplÃ© Ã  de bonnes performances, des personnes satisfaites satisfont depuis longtemps nos besoins. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons stockÃ© absolument toutes les donnÃ©es dans Postgres: des transactions aux nouvelles. Mais le nombre d'utilisateurs a augmentÃ©, et avec lui le nombre de demandes. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour la comprÃ©hension, le nombre annuel de sessions en 2017 sur le seul site de bureau est de 131 millions. En 2018, 125 millions 2019 est Ã  nouveau de 130 millions. Ajoutez-y 100 Ã  200 millions supplÃ©mentaires Ã  partir de la version mobile du site et de l'application mobile, et vous obtiendrez un grand nombre de demandes.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec la croissance du projet, Postgres a cessÃ© de faire face Ã  la charge, nous n'avons pas eu le temps - un grand nombre de requÃªtes diverses sont apparues, sous lesquelles nous n'avons pas pu crÃ©er un nombre suffisant d'index. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons rÃ©alisÃ© qu'il y avait un besoin pour d'autres entrepÃ´ts de donnÃ©es qui rÃ©pondraient Ã  nos besoins et allÃ©geraient PostgreSQL. </font><font style="vertical-align: inherit;">Elasticsearch et MongoDB ont Ã©tÃ© considÃ©rÃ©s comme des options possibles. </font><font style="vertical-align: inherit;">Ce dernier a perdu sur les points suivants:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vitesse d'indexation lente avec augmentation du volume de donnÃ©es dans les index. </font><font style="vertical-align: inherit;">La vitesse d'Elastic est indÃ©pendante de la quantitÃ© de donnÃ©es.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pas de recherche plein texte</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons donc choisi Elastic pour nous-mÃªmes et prÃ©parÃ© la transition. </font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passer Ã  l'Ã©lastique</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Nous avons entamÃ© la transition avec un service de recherche de points de vente. </font><font style="vertical-align: inherit;">Notre client dispose d'un total d'environ 70 000 points de vente, et il nÃ©cessite plusieurs types de recherches sur le site et dans l'application:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche de texte par nom de ville</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GÃ©o-recherche dans un rayon donnÃ© Ã  partir d'un certain point. </font><font style="vertical-align: inherit;">Par exemple, si un utilisateur souhaite voir quels points de vente sont les plus proches de son domicile.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherche par un carrÃ© donnÃ© - l'utilisateur dessine un carrÃ© sur la carte, et on lui montre tous les points dans ce rayon. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez des filtres supplÃ©mentaires. </font><font style="vertical-align: inherit;">Les points de vente diffÃ¨rent les uns des autres dans l'assortiment</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En ce qui concerne l'organisation, Ã  Postgres, nous avons une source de donnÃ©es Ã  la fois sur la carte et sur les actualitÃ©s, et dans Elastic Snapshots sont faites Ã  partir des donnÃ©es originales. Le fait est qu'au dÃ©part, Postgres ne pouvait pas faire face Ã  la recherche selon tous les critÃ¨res. Non seulement il y avait de nombreux index, mais ils pouvaient Ã©galement se croiser, de sorte que l'ordonnanceur Postgres s'est perdu et n'a pas compris quel index utiliser pour cela. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Ensuite, la section des nouvelles. Chaque jour, des publications apparaissent sur le site afin que l'utilisateur ne se perde pas dans le flux d'informations, les donnÃ©es doivent Ãªtre triÃ©es avant d'Ãªtre publiÃ©es. Pour cela, vous avez besoin d'une recherche: sur le site, vous pouvez rechercher par correspondance de texte, et en mÃªme temps connecter des filtres supplÃ©mentaires, car ils sont Ã©galement crÃ©Ã©s via Elastic.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Ensuite, nous avons dÃ©placÃ© le traitement des transactions. </font><font style="vertical-align: inherit;">Les utilisateurs peuvent acheter un produit spÃ©cifique sur le site et participer au tirage au sort. </font><font style="vertical-align: inherit;">AprÃ¨s de tels achats, nous traitons une grande quantitÃ© de donnÃ©es, en particulier le week-end et les jours fÃ©riÃ©s. </font><font style="vertical-align: inherit;">Ã€ titre de comparaison, si les jours ordinaires le nombre d'achats se situe entre 1,5 et 2 millions, les jours fÃ©riÃ©s peuvent atteindre 53 millions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le mÃªme temps, les donnÃ©es doivent Ãªtre traitÃ©es en un minimum de temps - les utilisateurs n'aiment pas attendre un rÃ©sultat pendant plusieurs jours. </font><font style="vertical-align: inherit;">Vous n'atteindrez pas de tels dÃ©lais grÃ¢ce Ã  Postgres - nous avons souvent des verrous, et mÃªme si nous traitons toutes les demandes, les utilisateurs ne peuvent pas vÃ©rifier s'ils ont reÃ§u des prix ou non. </font><font style="vertical-align: inherit;">Ce n'est pas trÃ¨s agrÃ©able pour l'entreprise, nous avons donc dÃ©placÃ© le traitement vers Elasticsearch.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PÃ©riodicitÃ©</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les mises Ã  jour sont dÃ©sormais configurÃ©es par Ã©vÃ©nement, dans les conditions suivantes:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Point de vente. </font><font style="vertical-align: inherit;">DÃ¨s que des donnÃ©es provenant d'une source externe nous parviennent, nous commenÃ§ons immÃ©diatement la mise Ã  jour.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nouvelles. </font><font style="vertical-align: inherit;">DÃ¨s qu'une nouvelle est Ã©ditÃ©e sur le site, elle est automatiquement envoyÃ©e Ã  Elastic.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LÃ  encore, il convient de mentionner les avantages d'Elastic. </font><font style="vertical-align: inherit;">Dans Postgres, lors de l'envoi d'une demande, vous devez attendre jusqu'Ã  ce qu'il traite honnÃªtement tous les enregistrements. </font><font style="vertical-align: inherit;">Vous pouvez envoyer 10 000 enregistrements Ã  Elastic et commencer immÃ©diatement Ã  travailler, sans attendre que les enregistrements soient distribuÃ©s sur tous les fragments. </font><font style="vertical-align: inherit;">Bien sÃ»r, certains fragments ou rÃ©pliques peuvent ne pas voir les donnÃ©es tout de suite, mais trÃ¨s bientÃ´t, tout sera disponible.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MÃ©thodes d'intÃ©gration</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a 2 faÃ§ons d'intÃ©grer avec Elastic:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Via le client natif sur TCP. </font><font style="vertical-align: inherit;">Le pilote natif s'Ã©teint progressivement: il n'est plus supportÃ©, il a une syntaxe trÃ¨s gÃªnante. </font><font style="vertical-align: inherit;">Par consÃ©quent, nous ne l'utilisons pratiquement pas et essayons de l'abandonner complÃ¨tement.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Via une interface HTTP dans laquelle vous pouvez utiliser Ã  la fois les requÃªtes JSON et la syntaxe Lucene. </font><font style="vertical-align: inherit;">Ce dernier est un moteur de texte qui utilise Elastic. </font><font style="vertical-align: inherit;">Dans cette option, nous avons la possibilitÃ© de regrouper des requÃªtes JSON via HTTP. </font><font style="vertical-align: inherit;">C'est l'option que nous essayons d'utiliser.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GrÃ¢ce Ã  l'interface HTTP, nous pouvons utiliser des bibliothÃ¨ques qui fournissent une implÃ©mentation asynchrone du client HTTP. </font><font style="vertical-align: inherit;">Nous pouvons profiter de Batch et de l'API asynchrone, qui au final donne des performances Ã©levÃ©es, ce qui a beaucoup aidÃ© pendant les jours d'une grande action (plus de dÃ©tails ci-dessous) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelques chiffres Ã  comparer:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enregistrement des utilisateurs qui ont reÃ§u des prix dans Postgres en 20 flux sans regroupements: 460 713 entrÃ©es en 42 secondes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client Ã©lastique + rÃ©actif pour 10 threads + batch pour 1000 Ã©lÃ©ments: 596749 enregistrements en 11 secondes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client Ã©lastique + rÃ©actif pour 10 threads + batch pour 1000 Ã©lÃ©ments: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23801684 enregistrements en 4 minutes</font></font></b></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous avons Ã©crit un gestionnaire de requÃªtes HTTP qui construit JSON comme Batch / not Batch et l'envoie via n'importe quel client HTTP, quelle que soit la bibliothÃ¨que. </font><font style="vertical-align: inherit;">Vous pouvez Ã©galement choisir d'envoyer des demandes de maniÃ¨re synchrone ou asynchrone. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans certaines intÃ©grations, nous utilisons toujours le client de transport officiel, mais ce n'est qu'une question de refactoring Ã  venir. </font><font style="vertical-align: inherit;">Dans le mÃªme temps, un client personnalisÃ© construit sur la base de Spring WebClient est utilisÃ© pour le traitement.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x2/sx/qg/x2sxqgijaic0-ldqbrjlwse_tp0.jpeg" alt="image"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grande promotion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois par an, une grande campagne pour les utilisateurs a lieu sur le projet - c'est le mÃªme Highload, car Ã  ce moment nous travaillons avec des dizaines de millions d'utilisateurs en mÃªme temps. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Habituellement, les pics de charge se produisent pendant les vacances, mais cette promotion est d'un niveau complÃ¨tement diffÃ©rent. L'annÃ©e prÃ©cÃ©dente, le jour de la promotion, nous avons vendu 27 580 890 unitÃ©s de marchandises. Les donnÃ©es ont Ã©tÃ© traitÃ©es pendant plus d'une demi-heure, ce qui a gÃªnÃ© les utilisateurs. Les utilisateurs ont reÃ§u des prix pour leur participation, mais il est devenu clair que le processus devait Ãªtre accÃ©lÃ©rÃ©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DÃ©but 2019, nous avons dÃ©cidÃ© que nous avions besoin d'ElasticSearch. Pendant toute une annÃ©e, nous avons organisÃ© le traitement des donnÃ©es reÃ§ues dans Elastic et leur sortie dans l'api de l'application mobile et du site. En consÃ©quence, l'annÃ©e suivante pendant la campagne, nous avons traitÃ© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 131 783 enregistrements en 6 minutes.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisque nous avons beaucoup de gens qui veulent acheter des marchandises et participer au tirage au sort dans les promotions, il s'agit d'une mesure temporaire. </font><font style="vertical-align: inherit;">Nous envoyons maintenant des informations pertinentes Ã  Elastic, mais Ã  l'avenir, nous prÃ©voyons de transfÃ©rer les informations d'archives des derniers mois vers Postgres en tant que rÃ©fÃ©rentiel permanent. </font><font style="vertical-align: inherit;">Afin de ne pas obstruer l'indice Ã©lastique, qui a aussi ses limites.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion / Conclusions</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le moment, nous avons transfÃ©rÃ© Ã  Elastic tous les services que nous voulions et avons suspendu pour l'instant. </font><font style="vertical-align: inherit;">Nous construisons maintenant un index dans Elastic au-dessus du stockage persistant principal dans Postgres, qui prend la charge de l'utilisateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã€ l'avenir, nous prÃ©voyons de transfÃ©rer des services si nous comprenons que la demande de donnÃ©es devient trop diversifiÃ©e et est recherchÃ©e par un nombre illimitÃ© de colonnes. </font><font style="vertical-align: inherit;">Ce n'est plus une tÃ¢che pour Postgres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous avons besoin d'une recherche en texte intÃ©gral dans la fonctionnalitÃ©, ou si nous avons beaucoup de critÃ¨res de recherche diffÃ©rents, alors nous savons dÃ©jÃ  que cela doit Ãªtre traduit en Elastic.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">âŒ˜âŒ˜âŒ˜</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci d'avoir lu. </font><font style="vertical-align: inherit;">Si votre entreprise utilise Ã©galement ElasticSearch et possÃ¨de ses propres cas d'implÃ©mentation, dites-le nous. </font><font style="vertical-align: inherit;">Il sera intÃ©ressant de savoir comment les autres ont :-)</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr503200/index.html">YOLOv4 - le rÃ©seau neuronal en temps rÃ©el le plus prÃ©cis du jeu de donnÃ©es Microsoft COCO</a></li>
<li><a href="../fr503204/index.html">Comment flasher Xiaomi Redmi 4 Prime / Pro / Premium sur Android 10</a></li>
<li><a href="../fr503208/index.html">Quel est le meilleur moment pour investir?</a></li>
<li><a href="../fr503210/index.html">Les sites de phishing peuvent-ils Ãªtre Ã©radiquÃ©s?</a></li>
<li><a href="../fr503212/index.html">30 astuces pour terminer le cours en ligne</a></li>
<li><a href="../fr503218/index.html">GlobalSign prÃ©sente Atlas - plate-forme PKI de nouvelle gÃ©nÃ©ration</a></li>
<li><a href="../fr503226/index.html">Qu'est-ce qui empÃªche une entreprise de passer Ã  un Â«nombreÂ» et qu'est-ce que cela a Ã  voir avec la rÃ©putation</a></li>
<li><a href="../fr503228/index.html">ContrÃ´le de la frÃ©quence cardiaque tout en faisant du jogging grÃ¢ce Ã  la rÃ©troaction musicale - ou Â«les testeurs qui aiment courir recherchentÂ»</a></li>
<li><a href="../fr503230/index.html">SystÃ¨mes de classe Incident Response Platform: application et fonctions principales</a></li>
<li><a href="../fr503232/index.html">Comment devenir ingÃ©nieur DevOps en six mois ou plus vite. Partie 6. Lancement de l'application</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>