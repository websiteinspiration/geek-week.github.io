<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗽 ㊙️ 🎚️ Cisco 200-125 CCNA v3.0のトレーニング。37日目。STP：ルートブリッジの選択、PortFastおよびBPDUガード機能。パート2 🍯 🐯 🦗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="STPが収束状態にあるとします。ケーブルを取り、スイッチHをルートスイッチAに直接接続するとどうなりますか？ルートブリッジは、新しい有効なポートがあることを「認識」し、BPDUを送信します。
 
 
 
 ゼロのコストでこのフレームを受信したスイッチHは、新しいポートを経由するルートのコストを0 +...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cisco 200-125 CCNA v3.0のトレーニング。37日目。STP：ルートブリッジの選択、PortFastおよびBPDUガード機能。パート2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/466425/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STPが収束状態にあるとします。ケーブルを取り、スイッチHをルートスイッチAに直接接続するとどうなりますか？ルートブリッジは、新しい有効なポートがあることを「認識」し、BPDUを送信します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gb/xf/nx/gbxfnxwkx_0wqivijpl1vcbxxic.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゼロのコストでこのフレームを受信したスイッチHは、新しいポートを経由するルートのコストを0 + 19 = 19と決定しますが、ルートポートのコストは76です。その後、以前は無効にされていたスイッチHのポートは、移行のすべての段階を通過します。わずか50秒後に転送モードに切り替わります。他のデバイスがこのスイッチに接続されている場合、それらすべてのデバイスは、ルートスイッチおよびネットワーク全体との接続を50秒間失います。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチGも同様に動作し、スイッチHから価格通知19のBPDUフレームを受信します。古いルートポートの値が57であるため、スイッチGは割り当てられたポートの値を19 + 19 = 38に変更し、新しいルートポートとして再割り当てします。 38以上。同時に、50秒続くポート再割り当てのすべての段階が再び始まり、最終的にネットワーク全体が崩壊します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7i/zg/pd/7izgpd1gse7cxs-ex8tutsnbice.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、RSTPを使用した場合の同様の状況で何が起こるかを見てみましょう。ルートスイッチは、接続されているBPDUスイッチHも送信しますが、その直後にポートをブロックします。このフレームを受信したスイッチNは、このルートのルートポートよりもコストが低いと判断し、すぐにブロックします。その後、Nは新しいポートを開く要求とともにルートスイッチの提案を送信します。これは、そのコストが既存のルートポートのコストよりも低いためです。ルートスイッチは要求を受け入れた後、ポートのロックを解除し、合意をスイッチHに送信します。その後、後者は新しいポートをルートポートにします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x_/ep/dr/x_epdroynd-6-f1qlhdls_lfing.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、提案/合意メカニズムのおかげで、ルートポートの再割り当てはほぼ瞬時に行われ、スイッチHに接続されているすべてのデバイスがネットワークとの接続を失うことはありません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいルートポートを割り当てることにより、スイッチHは古いルートポートを代替ポートに変更します。スイッチGでも同じことが起こります。スイッチHと提案/合意メッセージを交換し、新しいルートポートを割り当てて、他のポートをブロックします。その後、プロセスはスイッチFの次のネットワークセグメントで続行されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/le/dc/mi/ledcmit2scjkqd15ymdhwe_pusw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コスト</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">分析すると、スイッチFは、下位ポートを経由するルートスイッチへのルートのコストが57であるのに対し、上位ポートを経由する既存のルートのコストは38であり、すべてをそのままにします。これを学習すると、GスイッチはFに面するポートをブロックし、新しいGHAルートに沿ってトラフィックをルートスイッチに転送します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチFは、スイッチGからプロポーザル/合意を受信するまで、ループを防止するために下部のポートをブロックしたままにします。したがって、RSTPは非常に高速なプロトコルであり、ネットワーク上のSTPの一般的な問題を引き起こさないことがわかります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、チームの確認に移りましょう。スイッチのグローバルコンフィギュレーションモードを開始し、spanning-tree mode &lt;pvst / rpvst&gt;コマンドを使用してPVSTまたはRPVSTモードを選択する必要があります。次に、特定のVLANの優先度を変更する方法を決定する必要があります。これを行うには、spanning-tree vlan &lt;VLAN number&gt; priority &lt;value&gt;コマンドを使用します。最後のビデオチュートリアルから、優先度は4096の倍数であり、デフォルトではこの数は32768にVLAN数を加えたものであることを覚えておく必要があります。 VLAN1を選択した場合その場合、デフォルトの優先順位は32768 + 1 = 32769になります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ds/dg/xv/dsdgxvuxv7_csffcqnmtdpfbmea.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワークの優先度を変更する必要があるのはなぜですか？ BIDは、数値の優先度値とMACアドレスで構成されていることがわかっています。デバイスのMACアドレスは変更できません。定数値であるため、優先度の値のみを変更できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのシスコデバイスが循環パターンで接続されている大規模なネットワークがあるとします。この場合、PVSTはデフォルトでアクティブになるため、システムによってルートスイッチが選択されます。すべてのデバイスが同じ優先度を持つ場合、最も古いMACアドレスを持つスイッチが有利になります。ただし、10〜12年前のレガシースイッチで、このような大規模なネットワークを「リード」するパワーとパフォーマンスすら持っていない場合もあります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、ネットワークには最新のスイッチが数千ドルある可能性があります。これは、MACアドレスが大きいため、数百ドルの価格で古いスイッチに「従う」必要があります。古いスイッチがルートスイッチになる場合、これは重大なネットワーク設計エラーを示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、新しいスイッチの設定に移動して、最小優先順位値（たとえば、0）を割り当てる必要があります。VLAN1を使用する場合、合計優先順位値は0 + 1 = 1となり、他のすべてのデバイスは常にそれをルートスイッチと見なします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような状況を想像してみてください。なんらかの理由でルートスイッチが使用できなくなった場合、新しいルートスイッチを、優先順位が最も低いスイッチだけでなく、ネットワーク機能が最も優れた特定のスイッチにすることができます。この場合、ルートブリッジの設定で、プライマリおよびセカンダリルートスイッチを割り当てるコマンドが使用されます：spanning-tree vlan &lt;VLAN network number&gt; root &lt;primary / secondary&gt;。プライマリスイッチプライマリの優先度の値は、32768-4096-4096 = 24576です。セカンダリスイッチセカンダリの場合は、式32768-4096 = 28672で計算されます。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの番号を手動で入力することはできません-システムがこれを自動的に行います。したがって、ルートスイッチの優先順位は24576であり、使用できない場合は優先順位28672のスイッチですが、他のすべてのスイッチの優先順位はデフォルトで少なくとも32768です。これは、システムにルートスイッチを自動的に割り当てさせたくない場合に行う必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
STPプロトコルの設定を確認する場合は、show spanning-tree summaryコマンドを使用する必要があります。次に、Packet Tracerを使用して今日学習したすべてのトピックを見てみましょう。 CiscoスイッチのすべてのモデルがSTPをサポートしているため、私は4スイッチモデル2690のネットワークトポロジを使用しています。それらは互いに接続されているため、ネットワークは悪循環を形成しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、シスコのデバイスはPSTV +モードで動作します。つまり、各ポートは収束に20秒以下を必要とします。シミュレーションパネルでは、トラフィックの送信を表示したり、作成したネットワークの操作パラメーターを表示したりできます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_u/1w/wo/_u1wworrzyuxdfrdbw-puoxbjry.jpeg"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
STP BPDUフレームが何であるかがわかります。 RSTPにバージョン2が使用されているため、バージョン0が指定されている場合は、STPを使用しています。ルートスイッチの優先度とMACアドレスで構成されるルートIDの値と、ブリッジIDの値も同じです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wd/gt/ic/wdgticvk35on9102-mcjwf4hlxg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW0のルートスイッチへのルートのコストは0であるため、これらの値は等しく、それ自体がルートスイッチです。したがって、STPの使用によりスイッチをオンにした後、ルートブリッジが自動的に選択され、ネットワークが機能しました。ループを防ぐために、マーカーのオレンジ色で示されているように、Fa0 / 2スイッチSW2の上部ポートがブロッキング状態に切り替えられていることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jr/mn/_w/jrmn_w7vygcm2sjvmnvddla6sq8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW0スイッチ設定コンソールに移動して、いくつかのコマンドを使用します。 1つ目はshow spanning-treeコマンドです。入力すると、VLAN1のPSTV +モードに関する情報が画面に表示されます。複数のVLANを使用する場合、2番目以降に使用されるネットワークに関する別の情報ブロックがウィンドウの下部に表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/02/ng/ir/02ngirpnlpfjjtx9lkoahvledbi.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
STPプロトコルがIEEE規格に従って利用可能であることがわかります。つまり、PVSTP +を使用します。技術的には、これは.1d標準ではありません。ルートID情報もここに提供されます：優先度32769、ルートデバイスのMACアドレス、コスト19など。以下はブリッジID情報で、優先度値32768 +1が復号化され、別のMACアドレスが続きます。ご覧のとおり、私は間違っていました。スイッチSW0はルートスイッチではなく、ルートスイッチはルートIDパラメータで指定された別のMACアドレスを持っています。これは、ネットワーク上の一部のスイッチがルートの役割を果たす正当な理由があるという情報を含むSW0がBPDUフレームを受信したことが原因であると思います。それを考えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（翻訳者注：ルートIDはSTPで実行されている同じVLANのすべてのデバイスで同じであるルートスイッチの識別子です。ブリッジIDはルートブリッジの一部としてのローカルスイッチの識別子であり、スイッチやVLANによって異なる場合があります）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW0がルートスイッチではないことを示すもう1つの状況は、ルートスイッチにルートポートがないことです。この場合、ルートポートと指定ポートの両方があり、これらは転送状態にあります。また、接続のタイプp2p、またはポイントツーポイントも表示されます。これは、ポートfa0 / 1およびfa0 / 2が隣接スイッチに直接接続されていることを意味します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポートがハブに接続されている場合、接続タイプは共有として指定されますが、これについては後で検討します。コマンドを入力してshow spanning-tree summaryの要約情報を表示すると、このスイッチがPVSTPモードであることがわかり、アクセスできないポート機能のリストが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oq/v6/sb/oqv6sb8fuljx0vzdgk43bigsfb8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、VLAN1にサービスを提供するポートのステータスと数を示しています。ブロッキング0、リスニング0、ラーニング0、STPモードのフォワーディングステートでは、2つのポートがあります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチSW2に進む前に、スイッチSW1の設定を見てみましょう。これを行うには、同じshow spanning-treeコマンドを使用します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yz/yb/f7/yzybf7phzs61b09drhqgnvig1ig.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチSW1のルートIDのMACアドレスはSW0のMACアドレスと同じであることがわかります。これは、ネットワーク上のすべてのデバイスがSTPプロトコルによる選択を信頼するため、収束時に同じルートブリッジデバイスアドレスを取得するためです。ご覧のとおり、ルートIDとブリッジIDのアドレスが同じであるため、SW1がルートスイッチです。さらに、「このスイッチがルートです」というメッセージが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルートスイッチのもう1つの兆候は、ルートポートがないことです。両方のポートが指定ポートとして指定されています。すべてのポートがDesignatedと表示され、転送状態にある場合は、ルートスイッチが存在します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW3スイッチには同様の情報が含まれていますが、ポートの1つがブロッキング状態になっているため、今SW2に切り替えています。 show spanning-treeコマンドを使用すると、ルートID情報と優先度の値が他のスイッチと同じであることがわかります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、ポートの1つが代替であることを示しています。気になりません。802.1d標準ではこれをブロッキングポートと呼んでいます。PVSTPでは、ブロックされたポートは常に代替として示されます。したがって、この代替Fa0 / 2ポートはブロックされた状態にあり、Fa0 / 1ポートはルートポートとして機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブロックされたポートはスイッチSW0とスイッチSW2の間のネットワークセグメントにあるため、ループを形成しません。ご覧のとおり、スイッチは他のデバイスが接続されていないため、p2pのような接続を使用しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/io/l4/zt/iol4zt5fm3clkpjrqme5nkedalw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
STPプロトコルを使用して収束するネットワークがあります。次に、ケーブルを取り、スイッチSW2をスイッチSW1に直接接続します。その後、すべてのSW2ポートがオレンジ色のマーカーで示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cv/0x/2d/cv0x2djghir-4ht3yaza36tz9gu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
show spanning-tree summaryコマンドを使用すると、最初に2つのポートがListening状態になっていることがわかります。次に、ラーニングステートになり、数秒後にForwardingステートになり、マーカーの色が緑色に変わります。ここでshow spanning-treeコマンドを入力すると、以前はルートポートであったFa0 / 1がブロッキングステートになり、代替ポートとして認識されるようになったことがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zt/3u/zh/zt3uzhakx9ischj3l7nhzpay0xy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ルートスイッチケーブルが接続されているFa0 / 3ポートがルートポートになり、Fa0 / 2ポートが指定ポートになりました。進行中の収束プロセスをもう一度見てみましょう。 SW2-SW1ケーブルを外して、以前のトポロジに戻ります。 SW2ポートが最初にブロックされ、再びオレンジ色に変わったことがわかります。その後、順次リスニングステートとラーニングステートを経て、最終的にフォワーディングステートになります。この場合、1つのポートが緑色になり、スイッチSW0に接続されているもう1つのポートはオレンジのままになります。コンバージェンスプロセスには非常に長い時間がかかりました。これらはSTPのコストです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2b/2f/sv/2b2fsvymkmhweas-zsqywgln9_i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、RSTPのしくみを見てみましょう。 SW2スイッチから始めて、設定でspanning-tree mode rapid-pvstコマンドを入力します。このコマンドには、pvstとrapid-pvstの2つのオプションしかありません。2番目のオプションを使用します。コマンドを入力すると、スイッチはRPVSTモードになります。これは、show spanning-treeコマンドで確認できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3l/ox/ik/3loxikgk8uz1-pendamxieyv7fk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、RSTPプロトコルが実行中であるというメッセージが表示されます。その他はすべて変更されません。次に、他のすべてのデバイスについても同じことを行う必要があります。これで、RSTPセットアップが行われます。このプロトコルがSTPの場合と同様に機能する方法を見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SW2スイッチをケーブルを使用してルートスイッチSW1に直接再接続します—収束がどのくらい速く発生するかを見てみましょう。 show spanning-tree summaryコマンドを入力すると、2つのスイッチポートがBlocking状態になり、1つはForwarding状態になっています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/nb/6y/ponb6yceu2_uezs940bmpot4zr8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンバージェンスがほぼ瞬時に行われたことがわかり、STPよりもRSTPがどれだけ速いかを判断できます。次に、spanning-tree portfast defaultコマンドを使用して、すべてのスイッチポートをデフォルトでPortFastモードにします。これは、ほとんどのスイッチポートがホストに直接接続されているエッジポートである場合に当てはまります。 Edge以外のポートがある場合は、スパニングツリーモードに戻します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VLANでの動作を設定するには、spanning-tree vlan &lt;number&gt;コマンドを使用して、優先度パラメーター（スイッチの優先度をスパニングツリーに設定）またはroot（スイッチをルートに設定）を指定できます。 spanning-tree vlan 1 priorityコマンドを使用して、4096の倍数である0から61440の範囲の任意の数値を優先度として指定します。したがって、任意のVLANの優先度を手動で変更できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
特定のネットワークのプライマリまたはセカンダリルートポートを構成するために、プライマリまたはセカンダリパラメータを指定してspanning-tree vlan 1 rootコマンドを入力できます。スパニングツリーvlan 1ルートプライマリを使用する場合、このポートはVLAN1のメインルートポートになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
show spanning-treeコマンドを入力すると、このスイッチSW2の優先順位が24577で、ルートIDとブリッジIDのMACアドレスが同じであることがわかります。つまり、これがルートスイッチになったということです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bo/5h/m6/bo5hm64ib1fyej_6kmphrslvn3o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スイッチの役割の収束と変更がどれほど迅速に発生したかがわかります。次に、コマンドno spanning-tree vlan 1 root primaryを使用してメインスイッチモードをキャンセルします。その後、その優先度は以前の値32769に戻り、ルートスイッチの役割は再びSW1に移動します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PortFastの仕組みを見てみましょう。 int f0 / 1コマンドを入力して、このポートの設定に移動し、spanning-treeコマンドを使用します。その後、システムがパラメーター値のヒントを表示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/va/9j/qx/va9jqxbgepa3y9pjq0qwlpsyc5c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、無効化パラメーター（このポートのPortFast機能を無効にする）またはトランク（トランクモードでもこのポートのPortFast機能を有効にする）を使用して入力できるspanning-tree portfastコマンドを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
spanning-tree portfastと入力すると、このポートで機能がオンになります。 BPDUガード機能をアクティブにするには、spanning-tree bpduguard enableコマンドを使用する必要があります。spanning-treebpduguard disableコマンドは、この機能を無効にします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう1つ簡単に説明します。 VLAN1の場合、スイッチSW2のSW3方向のインターフェースがブロックされている場合、別のVLAN（VLAN2など）の他の設定を使用すると、同じインターフェースをルートポートにすることができます。したがって、トラフィックロードバランシングメカニズムをシステムに実装できます。一方のケースでは、このネットワークセグメントは使用されず、もう一方のケースでは使用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハブが接続されているときに共有インターフェースが発生するとどうなるかを示します。回路にハブを追加し、2本のケーブルでSW2スイッチに接続します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gx/he/hh/gxhehhxqpnrxyabevd7l-sr6d9u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
show spanning-treeコマンドは、次の図を反映しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1v/fd/co/1vfdcoqljwc45rzj4--t6vizme4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fa0 / 5（スイッチの左下のポート）がバックアップポートになり、Fa0 / 4（スイッチの右下のポート）が指定された指定ポートになります。両方のポートのタイプが共有されている、または共有されている。これは、ハブスイッチインターフェイスセグメントが一般的なネットワークであることを意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RSTPを使用したおかげで、代替ポートとバックアップポートを分離できました。 spanning-tree mode pvstコマンドを使用してSW2スイッチをpvstモードに切り替えると、バックアップポートと代替ポートの間に違いがないため、Fa0 / 5インターフェイスが再び代替状態にあることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3s/9g/d5/3s9gd5pqpga1k-vbj0xjavyqmvi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは非常に長いレッスンでした、そしてあなたが何かを理解していないなら、私はそれをもう一度復習することを勧めます。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/LRGmg5omwW0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いつもご利用いただきありがとうございます。私たちの記事は好きですか？もっと面白い資料を見たいですか？注文またはお友達にそれを推奨することで私たちをサポートしてください、私たちがあなたの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために発明したエントリーレベルのサーバーのユニークなアナログのHabrユーザーのための30％割引：</font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPS（KVM）E5-2650 v4（6コア）10GB DDR4 240GB SSD 1Gbpsの真実20ドルまたはサーバーを分割する方法？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（オプションは、RAID1およびRAID10、最大24コア、最大40GB DDR4で利用可能です）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xdは2倍安いですか？</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">オランダでは、</font></b></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">199ドルから、インテルTetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV</font></font></a><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2台</font></a></b><font style="vertical-align: inherit;">だけ持ってい</font><b><font style="vertical-align: inherit;">ます！</font></b><b><b><font style="vertical-align: inherit;">デルR420-2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB-$ 99から！</font></b></b><font style="vertical-align: inherit;">について読む</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   .  c   Dell R730xd 5-2650 v4  9000   ?</a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja466409/index.html">Cisco 200-125 CCNA v3.0のトレーニング。37日目。STP：ルートブリッジの選択、PortFastおよびBPDUガード機能。パート1</a></li>
<li><a href="../ja466413/index.html">Bitrixと1Cのサイト交換：主な問題の解決</a></li>
<li><a href="../ja466417/index.html">Warshipping-通常のメールで送信されるサイバー脅威</a></li>
<li><a href="../ja466419/index.html">Sitefinityで働く理由</a></li>
<li><a href="../ja466423/index.html">神秘的なLyXプログラム。パート1</a></li>
<li><a href="../ja466427/index.html">Cisco 200-125 CCNA v3.0のトレーニング。38日目。OSIレイヤー2のEtherChannelプロトコル</a></li>
<li><a href="../ja466429/index.html">Cisco 200-125 CCNA v3.0のトレーニング。39日目。スイッチシャーシのスタックと集約</a></li>
<li><a href="../ja466431/index.html">Cisco 200-125 CCNA v3.0のトレーニング。40日目。802.1X標準およびAAAプロトコルファミリ</a></li>
<li><a href="../ja466433/index.html">Cisco 200-125 CCNA v3.0のトレーニング。41日目。DHCPスヌーピングとデフォルト以外のネイティブVLAN</a></li>
<li><a href="../ja466435/index.html">Cisco 200-125 CCNA v3.0のトレーニング。42日目。VLAN間ルーティングとSVI</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>