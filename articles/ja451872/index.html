<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>⬛️ 😍 🎆 Pythonは、旅行が好きな人のための格安航空券の検索のアシスタントです ✍🏻 🖱️ 🧔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="本日の翻訳を公開している記事の著者は、彼女の目標は、航空券の価格を検索するSeleniumを使用したPython Webスクレイパーの開発について語ることであると述べています。チケットを検索する場合、柔軟な日付が使用されます（指定された日付に対して+-3日）。Scraperは検索結果をExcelファ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pythonは、旅行が好きな人のための格安航空券の検索のアシスタントです</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/451872/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本日の翻訳を公開している記事の著者は、彼女の目標は、航空券の価格を検索するSeleniumを使用したPython Webスクレイパーの開発について語ることであると述べています。</font><font style="vertical-align: inherit;">チケットを検索する場合、柔軟な日付が使用されます（指定された日付に対して+-3日）。</font><font style="vertical-align: inherit;">Scraperは検索結果をExcelファイルに保存し、それを起動したユーザーに、何とかして見つけたものに関する一般的な情報を電子メールで送信します。</font><font style="vertical-align: inherit;">このプロジェクトの目的は、旅行者が最良の取引を見つけられるようにすることです。</font><font style="vertical-align: inherit;">
もしあなたがその資料を扱っているとき、あなたが失われていると感じたら- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">この</font></a><font style="vertical-align: inherit;">記事を</font><font style="vertical-align: inherit;">見て</font><font style="vertical-align: inherit;">ください。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/xl/jo/rr/xljorr2xue-q63wegfrfyt5uxu4.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちは何を探していますか？</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで説明されているシステムを自由に使用できます。たとえば、週末のツアーや地元へのチケットの検索に使用しました。収益性の高いチケットを見つけることに真剣に取り組んでいる場合は、サーバーでスクリプトを実行して（</font><font style="vertical-align: inherit;">1か月に130ルーブルの</font><font style="vertical-align: inherit;">単純な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がこれに非常に適しています）、1日1回または2回実行します。検索結果はメールで送信されます。さらに、スクリプトがExcelファイルを検索結果とともにDropboxフォルダーに保存するようにすべてを構成することをお勧めします。これにより、そのようなファイルをいつでもどこからでも表示できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d39/b7b/f3b/d39b7bf3b4f8c11fa9617ae308f01247.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">間違いのある関税はまだ見つけていませんが、可能だと思います。</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
すでに述べたように、「柔軟な日付」を使用して検索すると、スクリプトは指定された日付から3日以内のオファーを見つけます。</font><font style="vertical-align: inherit;">スクリプトを開始すると、オファーは1方向のみで検索されますが、フライトの複数の方向でデータを収集できるように調整することは難しくありません。</font><font style="vertical-align: inherit;">その助けを借りて、あなたは誤った関税を探すことさえできます、そのような発見は非常に興味深いものになる可能性があります。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜ別のWebスクレーパーが必要なのですか？</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が最初にWebスクレイピングを始めたとき、正直に言って、それは特に興味深いものではありませんでした。予測モデリング、財務分析、そしておそらくテキストの感情的な色付けの分析の分野で、もっと多くのプロジェクトをやりたかったのです。しかし、Webサイトからデータを収集するプログラムを作成する方法を見つけることは非常に興味深いことがわかりました。このトピックを掘り下げたときに、Webスクレイピングがインターネットの「エンジン」であることに気付きました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは大胆すぎる発言だと思うかもしれません。しかし、GoogleがどのようにしてラリーペイジがJavaとPythonを使用して作成したWebスクレイパーから始まったかを考えてみてください。 Googlebotはインターネットの調査と調査を行っており、ユーザーに質問に対する最良の回答を提供しようとしています。 Webスクレイピングには無数のアプリケーションがあり、データサイエンスの分野で他のことに興味がある場合でも、分析用のデータを取得するには、スクレイピングスキルが必要になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで使用したトリックのいくつかは素晴らしい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">本で</font></a><font style="vertical-align: inherit;">見つけました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最近取得したウェブスクレイピングについて。</font><font style="vertical-align: inherit;">その中には、研究の実際的な応用に関する多くの簡単な例とアイデアがあります。</font><font style="vertical-align: inherit;">さらに、reCaptchaテストバイパスに関する非常に興味深い章があります。</font><font style="vertical-align: inherit;">そのような問題を解決するための特別なツールやサービス全体さえあることを知らなかったので、私にとってこれはニュースでした。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">旅行がすきですか？！</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このセクションの見出しにある単純で無害な質問に対しては、尋ねられた人の旅行からのいくつかの物語を提供して、肯定的な答えを聞くことがよくあります。私たちのほとんどは、旅行は新しい文化的環境に飛び込み、視野を広げる素晴らしい方法であることに同意するでしょう。しかし、誰かが航空券を探すのが好きかどうかについて誰かに質問した場合、私はそれに対する答えがそれほど肯定的であるとは程遠いことを確信しています。実際のところ、ここでPythonが役に立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
航空券の情報を検索するシステムを作成する方法で解決する必要がある最初のタスクは、情報を取得する適切なプラットフォームの選択です。この問題の解決は簡単ではありませんでしたが、最終的にはカヤックサービスを選択しました。私はMomondo、Skyscanner、Expediaなどのサービスを試しましたが、これらのリソース上のロボットに対する保護メカニズムは貫通できませんでした。私が人間であるとシステムに納得させようとするいくつかの試みの後、私は信号機、横断歩道、自転車に対処しなければならなかったので、ここでもカヤックが私に最も適していると判断しました。短時間でロードするページが多すぎると、チェックも開始されます。ボットに4〜6時間間隔でサイトにリクエストを送信させることができ、すべてが正常に機能しました。カヤックで作業するときに時々問題が発生しますが、チェックに悩まされ始めた場合は、手動で対処してからボットを起動するか、数時間待つとチェックが停止します。必要に応じて、コードを別のプラットフォームにうまく適合させることができます。そうする場合は、コメントで報告できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ウェブスクレイピングを始めたばかりで、一部のウェブサイトがそれに苦労している理由がわからない場合は、この分野で最初のプロジェクトを開始する前に、自分に好意を示し、Googleで次のような資料を探してください。 「Webスクレイピングマナー」。</font><font style="vertical-align: inherit;">ウェブスクレイピングに不当に関与している場合、実験は思ったよりも早く終了する可能性があります。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仕事の始まり</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、ウェブスクレイパーのコードで発生する一般的な概要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要なライブラリをインポートします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Chromeタブを開きます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボットを起動する関数を呼び出して、チケットを検索するときに使用される都市と日付を渡します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この関数は、最初の検索結果を受け取り、最も魅力的な（最高の）基準でソートし、ボタンを押して追加の結果をロードします。</font></font></li>
<li>           .</li>
<li>           (cheap)     (fastest).</li>
<li>    ,       (     ),     ,     ,    Excel-.</li>
<li>         .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのSeleniumプロジェクトはWebドライバーで始まることに注意してください。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chromedriver</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用してい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ますが</font></a><font style="vertical-align: inherit;">、Google Chrome </font><font style="vertical-align: inherit;">を使用してい</font><font style="vertical-align: inherit;">ますが、他のオプションもあります。 PhantomJSとFirefoxも人気があります。ドライバーをロードした後、適切なフォルダーに配置する必要があります。これで、ドライバーを使用するための準備が完了します。スクリプトの最初の行で、新しいChromeタブを開きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の話では、私は航空券の収益性の高いオファーを見つけるための新しい視野を開けようとしているわけではないことに注意してください。そのようなオファーを見つけるためのより高度なテクニックがあります。私はこの資料の読者に、この問題を解決するためのシンプルで実用的な方法を提供したいと思っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のコードは次のとおりです。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> sleep, strftime
<span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randint
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver
<span class="hljs-keyword">from</span> selenium.webdriver.common.keys <span class="hljs-keyword">import</span> Keys
<span class="hljs-keyword">import</span> smtplib
<span class="hljs-keyword">from</span> email.mime.multipart <span class="hljs-keyword">import</span> MIMEMultipart<font></font>
<font></font>
<span class="hljs-comment">#      chromedriver!</span>
chromedriver_path = <span class="hljs-string">'C:/{YOUR PATH HERE}/chromedriver_win32/chromedriver.exe'</span><font></font>
<font></font>
driver = webdriver.Chrome(executable_path=chromedriver_path) <span class="hljs-comment">#     Chrome</span>
sleep(<span class="hljs-number">2</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードの最初に、プロジェクト全体で使用されるパッケージインポートコマンドが表示されています。その</font></font><code>randint</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ため、新しい検索操作を開始する前に、ボットがランダムな秒数の間「眠りに落ちる」ように使用されます。通常、単一のボットではそれなしでは実現できません。上記のコードを実行すると、ボットがサイトでの作業に使用するChromeウィンドウが開きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
小さな実験を行って、kayak.comのWebサイトを別のウィンドウで開きましょう。出発地の都市、目的地の都市、およびフライトの日付を選択します。日付を選択するときに、範囲が+ -3日であることを確認します。このようなリクエストに応じてサイトが生成するものを考慮してコードを記述しました。たとえば、特定の日付のチケットのみを検索する必要がある場合は、ボットコードを変更する必要がある可能性が非常に高くなります。コードについては、適切に説明しますが、混乱していると感じた場合はお知らせください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、検索開始ボタンをクリックして、アドレスバーのリンクを確認します。以下の例で使用するリンクのように見えるはずです</font></font><code>kayak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。URLを格納する</font><font style="vertical-align: inherit;">変数</font><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">宣言されて</font><font style="vertical-align: inherit;">おり、メソッドが使用されています</font></font><code>get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webドライバー。</font><font style="vertical-align: inherit;">検索ボタンをクリックすると、結果がページに表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae6/ac7/1f7/ae6ac71f71c92c6ff76d5dd6a8fcfa25.png"></div><br><font style="vertical-align: inherit;"></font><code>get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数分で</font><font style="vertical-align: inherit;">
コマンド</font><font style="vertical-align: inherit;">を2〜3回以上</font><font style="vertical-align: inherit;">使用すると、</font><font style="vertical-align: inherit;">reCaptchaを使用したテストに合格するように求められました。</font><font style="vertical-align: inherit;">このテストを手動で実行し、システムが新しいテストの配置を決定するまで実験を続けることができます。</font><font style="vertical-align: inherit;">スクリプトをテストしたところ、最初の検索セッションは常に問題なく行われているように感じました。コードを試す場合は、定期的に手動で確認し、検索セッションの間隔を長くしてコードを実行するだけで済みます。</font><font style="vertical-align: inherit;">はい、考えてみれば、検索操作の10分間隔で受け取ったチケットの価格に関する情報が必要になることはほとんどありません。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XPathを使用したページの操作</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そこで、ウィンドウを開いてサイトをロードしました。価格やその他の情報を取得するには、XPathテクノロジーまたはCSSセレクターを使用する必要があります。私はXPathにこだわることに決め、CSSセレクターの必要性を感じませんでしたが、そのように動作することは十分に可能です。 XPathを使用してページを移動するのは大変な作業になる可能性があり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事で</font><font style="vertical-align: inherit;">説明した</font><font style="vertical-align: inherit;">、ページコードから対応する識別子をコピーする</font><font style="vertical-align: inherit;">方法を使用したとしても</font><font style="vertical-align: inherit;">、これは実際にはアクセスする最良の方法ではないことに気付きました必要な要素。ちなみに、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">本には、XPathセレクターとCSSセレクターを使用したページの基本的な操作に関する優れた説明があります。対応するWebドライバーメソッドは次のようになります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa6/5c0/5c0/fa65c05c0385c658a4eee0c08a6274ff.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、ボットの作業を続けます。</font><font style="vertical-align: inherit;">プログラムを利用して、最も安いチケットを選択してください。</font><font style="vertical-align: inherit;">次の画像では、XPathセレクターコードが赤で強調表示されています。</font><font style="vertical-align: inherit;">コードを表示するには、対象のページの要素を右クリックして、表示されるメニューで[検査]コマンドを選択する必要があります。</font><font style="vertical-align: inherit;">このコマンドは、さまざまなページ要素に対して呼び出すことができ、そのコードはコード表示ウィンドウで表示および強調表示されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2c4/eee/9dc/2c4eee9dc28a8ef0ff540e1c01d3eda5.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページコードの表示コード</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
からセレクターをコピーすることの欠点に関する私の推論の確認を見つけるには、次の機能に注意してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードをコピーすると、次のようになります。</font></font><br>
<br>
<pre><code class="python hljs">//*[@id=<span class="hljs-string">"wtKI-price_aTab"</span>]/div[<span class="hljs-number">1</span>]/div/div/div[<span class="hljs-number">1</span>]/div/span/span</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様のものをコピーするには、コードの必要な部分を右クリックして、表示されるメニューから[コピー]&gt; [XPathのコピー]を選択する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここに私が一番安いボタンを定義するために使用したものがあります：</font></font><br>
<br>
<pre><code class="python hljs">cheap_results = ‘//a[@data-code = <span class="hljs-string">"price"</span>]’</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9c9/4e3/8a4/9c94e38a436fa588ade8a2f92d97aa2d.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コピー&gt; XPathコマンドのコピー</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
2番目のオプションの方がはるかに単純に見えることは明らかです。</font><font style="vertical-align: inherit;">これを使用すると、と</font></font><code>data-code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等しい</font><font style="vertical-align: inherit;">属性を持つ要素aが検索されます</font></font><code>price</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">最初のオプションを使用する場合、</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">等しい</font><font style="vertical-align: inherit;">要素が検索され</font></font><code>wtKI-price_aTab</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ますが、要素へのXPathパスはのようになり</font></font><code>/div[1]/div/div/div[1]/div/span/span</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">ページへの同様のXPathリクエストはその仕事をしますが、一度だけです。</font><font style="vertical-align: inherit;">今すぐ</font></font><code>id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページが読み込まれたときに</font><font style="vertical-align: inherit;">何</font><font style="vertical-align: inherit;">が変わるの</font><font style="vertical-align: inherit;">か</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">言うことができ</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">文字シーケンス</font></font><code>wtKI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その結果、ページが読み込まれるたびに動的に変化するため、そのページが使用されているコードは、次のページの再読み込み後には役に立たなくなります。 XPathを理解するために少し時間をかけてください。この知識はあなたに役立つでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、XPathセレクターのコピーは、かなり単純なサイトで作業する場合に便利です。これが適切であれば、何も問題はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、リスト内のすべての検索結果を数行で取得する必要がある場合の対処方法を考えてみましょう。とても簡単です。各結果は、クラスを持つオブジェクト内にあります</font></font><code>resultWrapper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。すべての結果のダウンロードは、以下に示すようなループで実行できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記を理解すれば、解析するほとんどのコードを簡単に理解できるはずです。</font><font style="vertical-align: inherit;">このコードの作業の過程で、パス（XPath）を示すメカニズムを使用して、必要なもの（実際、これは結果がラップされる要素です）に目を向けます。</font><font style="vertical-align: inherit;">これは、要素のテキストを取得し、データを読み取ることができるオブジェクトに配置するために行われます（最初に使用され</font></font><code>flight_containers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、次に- </font></font><code>flights_list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0b2/3fc/b7f/0b23fcb7f32738fd6012541c40f68b97.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の3行が表示され、必要なものがすべてはっきりとわかります。</font><font style="vertical-align: inherit;">ただし、情報を取得するより興味深い方法があります。</font><font style="vertical-align: inherit;">各要素から個別にデータを取得する必要があります。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仕事に！</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
追加の結果をロードする関数を作成するのが最も簡単なので、それから始めましょう。プログラムが情報を受信するフライトの数を最大化し、同時にサービスに疑いを持たせて検証に至らせたいので、ページが表示されるたびに[結果をさらに読み込む]ボタンをクリックします。このコードでは</font></font><code>try</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ボタンが正常に読み込まれない場合があるため、追加</font><font style="vertical-align: inherit;">したブロックに注意する必要</font><font style="vertical-align: inherit;">があります。これも発生する場合は、この関数の呼び出しを関数コード</font></font><code>start_kayak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">コメント化して</font><font style="vertical-align: inherit;">ください。これについては、後で説明します。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#      ,     </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">load_more</span>():</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">try</span>:<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;more_results = <span class="hljs-string">'//a[@class = "moreButton"]'</span><font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;driver.find_element_by_xpath(more_results).click()<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#            ,   </span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'sleeping.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sleep(randint(<span class="hljs-number">45</span>,<span class="hljs-number">60</span>))
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">except</span>:
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">pass</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、この関数を長時間分析した後（ときどき夢中になります）、ページのスクレイピングを処理する関数を宣言する準備ができました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
と呼ばれる次の関数で必要なもののほとんどをすでに収集しました</font></font><code>page_scrape</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。時々、パスのステージについて返されたデータが結合されることがわかります。それらを分離するために、単純な方法を使用します。たとえば、変数</font></font><code>section_a_list </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">を使用する</font><font style="vertical-align: inherit;">とし</font></font><code>section_b_list</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><code>flights_df</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font><font style="vertical-align: inherit;">関数はデータフレームを返します</font><font style="vertical-align: inherit;">。これにより、さまざまなデータの並べ替え方法を使用して取得した結果を分離し、後でそれらを組み合わせることができます。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">page_scrape</span>():</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"""This function takes care of the scraping part"""</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;xp_sections = <span class="hljs-string">'//*[@class="section duration"]'</span><font></font>
 &nbsp;&nbsp;&nbsp;sections = driver.find_elements_by_xpath(xp_sections)<font></font>
 &nbsp;&nbsp;&nbsp;sections_list = [value.text <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> sections]<font></font>
 &nbsp;&nbsp;&nbsp;section_a_list = sections_list[::<span class="hljs-number">2</span>] <span class="hljs-comment">#       </span>
 &nbsp;&nbsp;&nbsp;section_b_list = sections_list[<span class="hljs-number">1</span>::<span class="hljs-number">2</span>]<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#     reCaptcha,    - .</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  ,  -   ,     ,    </span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#   if        -</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#    ,        </span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#    SystemExit        </span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> section_a_list == []:
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">raise</span> SystemExit<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#     A     B  </span><font></font>
 &nbsp;&nbsp;&nbsp;a_duration = []<font></font>
 &nbsp;&nbsp;&nbsp;a_section_names = []<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> section_a_list:
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  </span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a_section_names.append(<span class="hljs-string">''</span>.join(n.split()[<span class="hljs-number">2</span>:<span class="hljs-number">5</span>]))<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;a_duration.append(<span class="hljs-string">''</span>.join(n.split()[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>]))<font></font>
 &nbsp;&nbsp;&nbsp;b_duration = []<font></font>
 &nbsp;&nbsp;&nbsp;b_section_names = []<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> section_b_list:
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  </span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b_section_names.append(<span class="hljs-string">''</span>.join(n.split()[<span class="hljs-number">2</span>:<span class="hljs-number">5</span>]))<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;b_duration.append(<span class="hljs-string">''</span>.join(n.split()[<span class="hljs-number">0</span>:<span class="hljs-number">2</span>]))<font></font>
<font></font>
 &nbsp;&nbsp;&nbsp;xp_dates = <span class="hljs-string">'//div[@class="section date"]'</span><font></font>
 &nbsp;&nbsp;&nbsp;dates = driver.find_elements_by_xpath(xp_dates)<font></font>
 &nbsp;&nbsp;&nbsp;dates_list = [value.text <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> dates]<font></font>
 &nbsp;&nbsp;&nbsp;a_date_list = dates_list[::<span class="hljs-number">2</span>]<font></font>
 &nbsp;&nbsp;&nbsp;b_date_list = dates_list[<span class="hljs-number">1</span>::<span class="hljs-number">2</span>]
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#   </span>
 &nbsp;&nbsp;&nbsp;a_day = [value.split()[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> a_date_list]<font></font>
 &nbsp;&nbsp;&nbsp;a_weekday = [value.split()[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> a_date_list]<font></font>
 &nbsp;&nbsp;&nbsp;b_day = [value.split()[<span class="hljs-number">0</span>] <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> b_date_list]<font></font>
 &nbsp;&nbsp;&nbsp;b_weekday = [value.split()[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> value <span class="hljs-keyword">in</span> b_date_list]<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  </span>
 &nbsp;&nbsp;&nbsp;xp_prices = <span class="hljs-string">'//a[@class="booking-link"]/span[@class="price option-text"]'</span><font></font>
 &nbsp;&nbsp;&nbsp;prices = driver.find_elements_by_xpath(xp_prices)<font></font>
 &nbsp;&nbsp;&nbsp;prices_list = [price.text.replace(<span class="hljs-string">'$'</span>,<span class="hljs-string">''</span>) <span class="hljs-keyword">for</span> price <span class="hljs-keyword">in</span> prices <span class="hljs-keyword">if</span> price.text != <span class="hljs-string">''</span>]<font></font>
 &nbsp;&nbsp;&nbsp;prices_list = list(map(int, prices_list))<font></font>
<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment"># stops -   ,         ,   -  </span>
 &nbsp;&nbsp;&nbsp;xp_stops = <span class="hljs-string">'//div[@class="section stops"]/div[1]'</span><font></font>
 &nbsp;&nbsp;&nbsp;stops = driver.find_elements_by_xpath(xp_stops)<font></font>
 &nbsp;&nbsp;&nbsp;stops_list = [stop.text[<span class="hljs-number">0</span>].replace(<span class="hljs-string">'n'</span>,<span class="hljs-string">'0'</span>) <span class="hljs-keyword">for</span> stop <span class="hljs-keyword">in</span> stops]<font></font>
 &nbsp;&nbsp;&nbsp;a_stop_list = stops_list[::<span class="hljs-number">2</span>]<font></font>
 &nbsp;&nbsp;&nbsp;b_stop_list = stops_list[<span class="hljs-number">1</span>::<span class="hljs-number">2</span>]<font></font>
<font></font>
 &nbsp;&nbsp;&nbsp;xp_stops_cities = <span class="hljs-string">'//div[@class="section stops"]/div[2]'</span><font></font>
 &nbsp;&nbsp;&nbsp;stops_cities = driver.find_elements_by_xpath(xp_stops_cities)<font></font>
 &nbsp;&nbsp;&nbsp;stops_cities_list = [stop.text <span class="hljs-keyword">for</span> stop <span class="hljs-keyword">in</span> stops_cities]<font></font>
 &nbsp;&nbsp;&nbsp;a_stop_name_list = stops_cities_list[::<span class="hljs-number">2</span>]<font></font>
 &nbsp;&nbsp;&nbsp;b_stop_name_list = stops_cities_list[<span class="hljs-number">1</span>::<span class="hljs-number">2</span>]<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#   -,       </span>
 &nbsp;&nbsp;&nbsp;xp_schedule = <span class="hljs-string">'//div[@class="section times"]'</span><font></font>
 &nbsp;&nbsp;&nbsp;schedules = driver.find_elements_by_xpath(xp_schedule)<font></font>
 &nbsp;&nbsp;&nbsp;hours_list = []<font></font>
 &nbsp;&nbsp;&nbsp;carrier_list = []<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">for</span> schedule <span class="hljs-keyword">in</span> schedules:<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;hours_list.append(schedule.text.split(<span class="hljs-string">'\n'</span>)[<span class="hljs-number">0</span>])<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;carrier_list.append(schedule.text.split(<span class="hljs-string">'\n'</span>)[<span class="hljs-number">1</span>])
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#          a  b</span>
 &nbsp;&nbsp;&nbsp;a_hours = hours_list[::<span class="hljs-number">2</span>]<font></font>
 &nbsp;&nbsp;&nbsp;a_carrier = carrier_list[<span class="hljs-number">1</span>::<span class="hljs-number">2</span>]<font></font>
 &nbsp;&nbsp;&nbsp;b_hours = hours_list[::<span class="hljs-number">2</span>]<font></font>
 &nbsp;&nbsp;&nbsp;b_carrier = carrier_list[<span class="hljs-number">1</span>::<span class="hljs-number">2</span>]<font></font>
<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;cols = ([<span class="hljs-string">'Out Day'</span>, <span class="hljs-string">'Out Time'</span>, <span class="hljs-string">'Out Weekday'</span>, <span class="hljs-string">'Out Airline'</span>, <span class="hljs-string">'Out Cities'</span>, <span class="hljs-string">'Out Duration'</span>, <span class="hljs-string">'Out Stops'</span>, <span class="hljs-string">'Out Stop Cities'</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Return Day'</span>, <span class="hljs-string">'Return Time'</span>, <span class="hljs-string">'Return Weekday'</span>, <span class="hljs-string">'Return Airline'</span>, <span class="hljs-string">'Return Cities'</span>, <span class="hljs-string">'Return Duration'</span>, <span class="hljs-string">'Return Stops'</span>, <span class="hljs-string">'Return Stop Cities'</span>,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Price'</span>])<font></font>
<font></font>
 &nbsp;&nbsp;&nbsp;flights_df = pd.DataFrame({<span class="hljs-string">'Out Day'</span>: a_day,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Out Weekday'</span>: a_weekday,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Out Duration'</span>: a_duration,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Out Cities'</span>: a_section_names,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Return Day'</span>: b_day,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Return Weekday'</span>: b_weekday,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Return Duration'</span>: b_duration,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Return Cities'</span>: b_section_names,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Out Stops'</span>: a_stop_list,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Out Stop Cities'</span>: a_stop_name_list,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Return Stops'</span>: b_stop_list,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Return Stop Cities'</span>: b_stop_name_list,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Out Time'</span>: a_hours,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Out Airline'</span>: a_carrier,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Return Time'</span>: b_hours,
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Return Airline'</span>: b_carrier,    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'Price'</span>: prices_list})[cols]<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;flights_df[<span class="hljs-string">'timestamp'</span>] = strftime(<span class="hljs-string">"%Y%m%d-%H%M"</span>) <span class="hljs-comment">#   </span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> flights_df</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードが明確になるように、変数に名前を付けようとしました。</font><font style="vertical-align: inherit;">で始まる変数</font></font><code>a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はパスの最初のステップ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">参照し、2番目のステップ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">参照することに</font><font style="vertical-align: inherit;">注意して</font><font style="vertical-align: inherit;">ください</font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次の関数に進みます。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">補助メカニズム</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、追加の検索結果をロードできる関数と、これらの結果を処理する関数ができました。これらの2つの関数は、独立して開くことができるページをスクレイピングするために必要なすべてを提供するため、この記事でこれを完了することができます。ただし、上記の補助メカニズムの一部はまだ検討していません。たとえば、これはメールを送信するためのコードなどです。これはすべて、関数</font></font><code>start_kayak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">見つけることができます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この関数を使用するには、都市と日付に関する情報が必要です。彼女はこの情報を使用して、変数にリンクを形成します</font></font><code>kayak</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、最も一致するものでソートされた検索結果を含むページに移動するために使用されます。最初のスクレイピングセッションの後、ページ上部の表の価格を使用します。つまり、最低チケット価格と平均価格がわかります。これらすべては、サイトから発行された予測とともに、電子メールで送信されます。ページでは、対応するテーブルが左上隅にあるはずです。ちなみに、この場合、テーブルはページに表示されないため、正確な日付を使用して検索すると、エラーが発生する可能性があります。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">start_kayak</span>(<span class="hljs-params">city_from, city_to, date_start, date_end</span>):</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-string">"""City codes - it's the IATA codes!
 &nbsp;&nbsp;&nbsp;Date format - &nbsp;YYYY-MM-DD"""</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;kayak = (<span class="hljs-string">'https://www.kayak.com/flights/'</span> + city_from + <span class="hljs-string">'-'</span> + city_to +
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-string">'/'</span> + date_start + <span class="hljs-string">'-flexible/'</span> + date_end + <span class="hljs-string">'-flexible?sort=bestflight_a'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;driver.get(kayak)<font></font>
 &nbsp;&nbsp;&nbsp;sleep(randint(<span class="hljs-number">8</span>,<span class="hljs-number">10</span>))<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#    ,           try</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">try</span>:<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xp_popup_close = <span class="hljs-string">'//button[contains(@id,"dialog-close") and contains(@class,"Button-No-Standard-Style close ")]'</span>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;driver.find_elements_by_xpath(xp_popup_close)[<span class="hljs-number">5</span>].click()
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">except</span> Exception <span class="hljs-keyword">as</span> e:
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">pass</span>
 &nbsp;&nbsp;&nbsp;sleep(randint(<span class="hljs-number">60</span>,<span class="hljs-number">95</span>))<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'loading more.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
<span class="hljs-comment"># &nbsp;&nbsp;&nbsp;&nbsp;load_more()</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'starting first scrape.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;df_flights_best = page_scrape()<font></font>
 &nbsp;&nbsp;&nbsp;df_flights_best[<span class="hljs-string">'sort'</span>] = <span class="hljs-string">'best'</span>
 &nbsp;&nbsp;&nbsp;sleep(randint(<span class="hljs-number">60</span>,<span class="hljs-number">80</span>))<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#      ,     </span>
 &nbsp;&nbsp;&nbsp;matrix = driver.find_elements_by_xpath(<span class="hljs-string">'//*[contains(@id,"FlexMatrixCell")]'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;matrix_prices = [price.text.replace(<span class="hljs-string">'$'</span>,<span class="hljs-string">''</span>) <span class="hljs-keyword">for</span> price <span class="hljs-keyword">in</span> matrix]<font></font>
 &nbsp;&nbsp;&nbsp;matrix_prices = list(map(int, matrix_prices))<font></font>
 &nbsp;&nbsp;&nbsp;matrix_min = min(matrix_prices)<font></font>
 &nbsp;&nbsp;&nbsp;matrix_avg = sum(matrix_prices)/len(matrix_prices)<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'switching to cheapest results.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;cheap_results = <span class="hljs-string">'//a[@data-code = "price"]'</span><font></font>
 &nbsp;&nbsp;&nbsp;driver.find_element_by_xpath(cheap_results).click()<font></font>
 &nbsp;&nbsp;&nbsp;sleep(randint(<span class="hljs-number">60</span>,<span class="hljs-number">90</span>))<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'loading more.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
<span class="hljs-comment"># &nbsp;&nbsp;&nbsp;&nbsp;load_more()</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'starting second scrape.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;df_flights_cheap = page_scrape()<font></font>
 &nbsp;&nbsp;&nbsp;df_flights_cheap[<span class="hljs-string">'sort'</span>] = <span class="hljs-string">'cheap'</span>
 &nbsp;&nbsp;&nbsp;sleep(randint(<span class="hljs-number">60</span>,<span class="hljs-number">80</span>))<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'switching to quickest results.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;quick_results = <span class="hljs-string">'//a[@data-code = "duration"]'</span><font></font>
 &nbsp;&nbsp;&nbsp;driver.find_element_by_xpath(quick_results).click() &nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;sleep(randint(<span class="hljs-number">60</span>,<span class="hljs-number">90</span>))<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'loading more.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
<span class="hljs-comment"># &nbsp;&nbsp;&nbsp;&nbsp;load_more()</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'starting third scrape.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;df_flights_fast = page_scrape()<font></font>
 &nbsp;&nbsp;&nbsp;df_flights_fast[<span class="hljs-string">'sort'</span>] = <span class="hljs-string">'fast'</span>
 &nbsp;&nbsp;&nbsp;sleep(randint(<span class="hljs-number">60</span>,<span class="hljs-number">80</span>))<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#     Excel-,      </span><font></font>
 &nbsp;&nbsp;&nbsp;final_df = df_flights_cheap.append(df_flights_best).append(df_flights_fast)<font></font>
 &nbsp;&nbsp;&nbsp;final_df.to_excel(<span class="hljs-string">'search_backups//{}_flights_{}-{}_from_{}_to_{}.xlsx'</span>.format(strftime(<span class="hljs-string">"%Y%m%d-%H%M"</span>),<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;city_from, city_to, <font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;date_start, date_end), index=<span class="hljs-literal">False</span>)<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'saved df.....'</span>)<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#    ,  ,  ,   </span>
 &nbsp;&nbsp;&nbsp;xp_loading = <span class="hljs-string">'//div[contains(@id,"advice")]'</span><font></font>
 &nbsp;&nbsp;&nbsp;loading = driver.find_element_by_xpath(xp_loading).text<font></font>
 &nbsp;&nbsp;&nbsp;xp_prediction = <span class="hljs-string">'//span[@class="info-text"]'</span><font></font>
 &nbsp;&nbsp;&nbsp;prediction = driver.find_element_by_xpath(xp_prediction).text<font></font>
 &nbsp;&nbsp;&nbsp;print(loading+<span class="hljs-string">'\n'</span>+prediction)<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#    loading   , , ,     </span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#    -    "Not Sure"</span>
 &nbsp;&nbsp;&nbsp;weird = <span class="hljs-string">'¯\\_(ツ)_/¯'</span>
 &nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span> loading == weird:<font></font>
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;loading = <span class="hljs-string">'Not sure'</span><font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;username = <span class="hljs-string">'YOUREMAIL@hotmail.com'</span>
 &nbsp;&nbsp;&nbsp;password = <span class="hljs-string">'YOUR PASSWORD'</span><font></font>
<font></font>
 &nbsp;&nbsp;&nbsp;server = smtplib.SMTP(<span class="hljs-string">'smtp.outlook.com'</span>, <span class="hljs-number">587</span>)<font></font>
 &nbsp;&nbsp;&nbsp;server.ehlo()<font></font>
 &nbsp;&nbsp;&nbsp;server.starttls()<font></font>
 &nbsp;&nbsp;&nbsp;server.login(username, password)<font></font>
 &nbsp;&nbsp;&nbsp;msg = (<span class="hljs-string">'Subject: Flight Scraper\n\n\
Cheapest Flight: {}\nAverage Price: {}\n\nRecommendation: {}\n\nEnd of message'</span>.format(matrix_min, matrix_avg, (loading+<span class="hljs-string">'\n'</span>+prediction)))<font></font>
 &nbsp;&nbsp;&nbsp;message = MIMEMultipart()<font></font>
 &nbsp;&nbsp;&nbsp;message[<span class="hljs-string">'From'</span>] = <span class="hljs-string">'YOUREMAIL@hotmail.com'</span>
 &nbsp;&nbsp;&nbsp;message[<span class="hljs-string">'to'</span>] = <span class="hljs-string">'YOUROTHEREMAIL@domain.com'</span>
 &nbsp;&nbsp;&nbsp;server.sendmail(<span class="hljs-string">'YOUREMAIL@hotmail.com'</span>, <span class="hljs-string">'YOUROTHEREMAIL@domain.com'</span>, msg)<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'sent email.....'</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスクリプトは、Outlookアカウント（hotmail.com）を使用してテストしました。</font><font style="vertical-align: inherit;">Gmailアカウントが正しく動作するかどうかは確認しませんでした。このメールシステムは非常に人気がありますが、可能なオプションはたくさんあります。</font><font style="vertical-align: inherit;">Hotmailアカウントを使用する場合、すべてが機能するためには、コードにデータを入力する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この関数のコードの個別のセクションで実行される内容を正確に理解したい場合は、それらをコピーして実験することができます。</font><font style="vertical-align: inherit;">コード実験はそれを正しく理解する唯一の方法です。</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レディシステム</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまで説明したすべての処理が完了したので、関数が呼び出される単純なループを作成できます。</font><font style="vertical-align: inherit;">スクリプトはユーザーに都市と日付のデータを要求します。</font><font style="vertical-align: inherit;">スクリプトを常に再起動してテストする場合、このデータを毎回手動で入力することはほとんどありません。そのため、スクリプトに必要なデータがハードコーディングされている行の下にある行のコメントを外すことで、対応する行をコメントアウトできます。</font></font><br>
<br>
<pre><code class="python hljs">city_from = input(<span class="hljs-string">'From which city? '</span>)<font></font>
city_to = input(<span class="hljs-string">'Where to? '</span>)<font></font>
date_start = input(<span class="hljs-string">'Search around which departure date? Please use YYYY-MM-DD format only '</span>)<font></font>
date_end = input(<span class="hljs-string">'Return when? Please use YYYY-MM-DD format only '</span>)<font></font>
<font></font>
<span class="hljs-comment"># city_from = 'LIS'</span>
<span class="hljs-comment"># city_to = 'SIN'</span>
<span class="hljs-comment"># date_start = '2019-08-21'</span>
<span class="hljs-comment"># date_end = '2019-09-07'</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>,<span class="hljs-number">5</span>):<font></font>
 &nbsp;&nbsp;&nbsp;start_kayak(city_from, city_to, date_start, date_end)<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'iteration {} was complete @ {}'</span>.format(n, strftime(<span class="hljs-string">"%Y%m%d-%H%M"</span>)))<font></font>
 &nbsp;&nbsp;&nbsp;<font></font>
 &nbsp;&nbsp;&nbsp;<span class="hljs-comment">#  4 </span>
 &nbsp;&nbsp;&nbsp;sleep(<span class="hljs-number">60</span>*<span class="hljs-number">60</span>*<span class="hljs-number">4</span>)<font></font>
 &nbsp;&nbsp;&nbsp;print(<span class="hljs-string">'sleep finished.....'</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがスクリプトのテスト実行です。</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/44c/305/023/44c305023996a98a3dec745493dce7a7.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト実行スクリプト</font></font></font></i><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここまで来たら、おめでとうございます！</font><font style="vertical-align: inherit;">これで、機能するWebスクレーパーが完成しましたが、改善の方法はすでにたくさんあります。</font><font style="vertical-align: inherit;">たとえば、Twilioと統合して、電子メールの代わりにテキストメッセージを送信することができます。</font><font style="vertical-align: inherit;">VPNなどを使用して、複数のサーバーから同時に結果を受信できます。</font><font style="vertical-align: inherit;">また、サイトのユーザーが自分であるかどうかを確認する際に繰り返し問題が発生しますが、この問題も解決できます。</font><font style="vertical-align: inherit;">いずれにせよ、これで必要に応じて拡張できるベースができました。</font><font style="vertical-align: inherit;">たとえば、Excelファイルがメールの添付ファイルとしてユーザーに送信されるようにするためです。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja451860/index.html">Математики обнаружили идеальный способ перемножения чисел</a></li>
<li><a href="../ja451862/index.html">Joe Diprimaのミュージカルライトニング：独学のエンジニアがテスラをエンターテインメントと収益に結びつけています</a></li>
<li><a href="../ja451864/index.html">Windows OSで検出されたEternalBlueレベルの重大なRCE脆弱性</a></li>
<li><a href="../ja451866/index.html">ネットワーク内の最も近いノードを選択します</a></li>
<li><a href="../ja451870/index.html">すべてのプログラマーが知っておく必要のある最新のC ++機能</a></li>
<li><a href="../ja451874/index.html">GoogleのトップSEOトレンド</a></li>
<li><a href="../ja451876/index.html">フランクフルトデータセンター：Telehouseデータセンター</a></li>
<li><a href="../ja451878/index.html">VRグラス（Oculus Go）へのステレオビデオのライブストリーミング</a></li>
<li><a href="../ja451880/index.html">DevPRO'19：Wrikeブースからの眺め</a></li>
<li><a href="../ja451884/index.html">開発者としての7年間の仕事：私が学んだ教訓</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>