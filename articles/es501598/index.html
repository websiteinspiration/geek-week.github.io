<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ûüèø üßòüèæ üôéüèΩ Una modesta gu√≠a de esquemas de bases de datos. üëºüèæ ü§∞üèº üíÜ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Geometr√≠a de flores de Mookiezoolook 
 
 Para aplicaciones que se escalar√°n de acuerdo con el tr√°fico y la complejidad, es extremadamente importante d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Una modesta gu√≠a de esquemas de bases de datos.</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/501598/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/zo/al/m2/zoalm23rpnu233blf2nybyz6tk0.jpeg"></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geometr√≠a de flores de Mookiezoolook</font></font></i></a> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Para aplicaciones que se escalar√°n de acuerdo con el tr√°fico y la complejidad, es extremadamente importante dise√±ar inicialmente un esquema de base de datos competente. Si hace una mala elecci√≥n, tendr√° que invertir mucho esfuerzo para que esta plantilla incorrecta no se extienda a los servicios y controladores de back-end y, finalmente, a la interfaz.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, ¬øc√≥mo evaluar qu√© circuito es mejor? ¬øY qu√© significa "mejor" cuando hablamos de arquitectura de base de datos? El equipo de</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mail.ru Cloud Solutions lo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> invita a</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seguir las recomendaciones de Mike Alcha</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un consultor de desarrollo de software. Nos parece que resumi√≥ sucintamente algunos principios de arquitectura competente.</font></font><br>
<a name="habracut"></a><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/tg/ed/6j/tged6jbyakg4f0no_up6r9c-9aw.jpeg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Director: </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Creo que deber√≠amos construir una base de datos SQL </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desarrollador (¬øcomprende siquiera de qu√© est√° hablando o simplemente vio alg√∫n tipo de anuncio en una revista de negocios? ...): </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬ø </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">De </font></i><i><font style="vertical-align: inherit;">qu√© color quieres la base de datos? </font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">". </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Director: </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quiz√°s la lila tiene m√°s memoria </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algunos consejos b√°sicos</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, es importante luchar </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por dos cosas principales</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al dividir la informaci√≥n en tablas, toda la informaci√≥n se almacena.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La redundancia de almacenamiento es m√≠nima.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cuanto al segundo punto: ¬øqueremos reducir la redundancia solo por un problema con el tama√±o de almacenamiento? </font><font style="vertical-align: inherit;">No, hacemos esto principalmente porque la presencia de datos redundantes genera </font></font><i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">problemas de inconsistencia</font></font></strong></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si no actualiza todos los campos que representan la misma informaci√≥n durante la actualizaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay algunas pautas </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para acercarse a la buena arquitectura</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilice al menos una tercera forma normal (en la que cada atributo no clave "debe proporcionar informaci√≥n sobre la clave, la clave completa y nada m√°s que la clave", seg√∫n </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la redacci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Bill Kent).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crea la √∫ltima l√≠nea de defensa en forma de restricciones.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nunca almacene direcciones completas en un campo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nunca almacene el nombre y apellido en un campo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Establezca convenciones para nombres de tablas y campos y c√∫mplalas.</font></font></li>
</ol><br>
<i><div style="text-align:center;"><img src="https://habrastorage.org/webt/qu/lx/pr/qulxprdoqnbq5twc8dgw47qewry.jpeg"></div></i><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- ¬øEn que estas trabajando? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Optimizando esta consulta SQL". </font><font style="vertical-align: inherit;">Se ralentiza y los usuarios comienzan a quejarse. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- ¬ø </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y se </font></font></i><i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">requiere un</font></font></strong></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;"> lenguaje obsceno en los comentarios </font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para la optimizaci√≥n? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vieras el </font></font></i><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">c√≥digo </font></i></font><i><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">original</font></font></strong></i><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , no lo preguntar√≠as. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consideremos estas recomendaciones con m√°s detalle.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Use al menos una tercera forma normal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La arquitectura de la base de datos se puede dividir en las siguientes categor√≠as:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La primera forma normal.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La segunda forma normal.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tercera forma normal.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La forma normal de Boyce-Codd.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estas categor√≠as representan una clasificaci√≥n por calidad. </font><font style="vertical-align: inherit;">Revisaremos brevemente todas las categor√≠as y veremos por qu√© se necesita al menos una tercera forma normal.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Primera forma normal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la primera forma normal, cada valor de cada columna de cada tabla en la base de datos debe ser at√≥mico. </font><font style="vertical-align: inherit;">¬øQu√© significa at√≥mico? </font><font style="vertical-align: inherit;">En resumen, el valor at√≥mico es una "cosa √∫nica". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, tenemos una tabla como esta:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombre de pila</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apellido</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a√±os</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√°reas</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jhon</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gama</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{"Dise√±o de sitio web", "Investigaci√≥n de clientela"}</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mar√≠a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jane</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{"Planificaci√≥n estrat√©gica a largo plazo", "Reclutamiento"}</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tom</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herrero</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{"M√°rketing"}</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠, la columna de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√°reas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> contiene valores que no son at√≥micos. </font><font style="vertical-align: inherit;">Por ejemplo, en una l√≠nea de John Doe, el campo almacena dos entidades: dise√±o del sitio web e investigaci√≥n del cliente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces esta tabla no est√° en la primera forma normal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para llevarlo a este formulario, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solo se debe almacenar un valor en cada campo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segunda forma normal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la segunda forma normal, ninguna columna que no sea parte de la clave primaria (o que pueda actuar como parte de otra clave primaria) no puede derivarse de la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parte m√°s peque√±a de la clave primaria</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu√© significa eso? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supongamos que tiene una arquitectura de base de este tipo (enfatic√© los campos correspondientes a la clave primaria en esta tabla):</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID de empleado</font></font></u></td>
<td><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projecto ID</font></font></u></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Horas</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombre de empleado</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombre del proyecto</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Juan</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Dise√±o de p√°ginas web"</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">veinte</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mar√≠a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Dise√±o de p√°ginas web"</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este proyecto, el nombre del empleado se puede inferir directamente de employeee_id, porque la idea es que el nombre del empleado est√° determinado √∫nicamente por su identificador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Del mismo modo, el nombre del proyecto se identifica de forma exclusiva mediante el identificador project_id. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, tenemos dos columnas que se pueden deducir de la parte clave principal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada uno de estos ejemplos ser√≠a suficiente para sacar esta tabla de la segunda forma normal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra conclusi√≥n es que si la tabla estaba en la primera forma normal y todas las claves primarias son columnas individuales, entonces la tabla ya est√° en la segunda forma normal.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tercera forma normal</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que la tabla se corresponda con la tercera forma normal, debe estar en la segunda forma normal, mientras que no debe haber ning√∫n atributo (columnas) en ella, excepto la primaria, que dependen transitivamente de la clave primaria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu√© significa eso? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Digamos que tiene la siguiente arquitectura (que est√° lejos de ser ideal):</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombre de empleado</font></font></td>
<td><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ID de empleado</font></font></u></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a√±os</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√∫mero_departamental</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nombre de Departamento</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Juan</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"M√°rketing"</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mar√≠a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">456</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Operacional"</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tom</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"M√°rketing"</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En esta tabla, se puede inferir n√∫mero_departamental a partir de id_de_empleado, y se puede inferir nombre_departamental a partir del n√∫mero_departamental. ¬°As√≠ que nombre_departamental depende transitivamente de id_empleado! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si existe una dependencia transitiva de este tipo: employee_id ‚Üí department_number ‚Üí department_name, esta tabla no est√° en la tercera forma normal. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© problemas surgen debido a esto</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si el nombre del departamento puede derivarse de su n√∫mero, el almacenamiento de este campo para cada empleado introduce una redundancia excesiva. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imagine que el departamento de marketing cambia su nombre a "Marketing y ventas". ¬°Para mantener la coherencia, tendr√° que actualizar la celda en cada fila de la tabla para cada empleado en este departamento! En la tercera forma normal, esto no habr√≠a sucedido.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, esto es lo que sucede si Mary decide abandonar la empresa: debemos eliminar su fila de la tabla, pero si ella era la √∫nica empleada en el departamento de operaciones, entonces el departamento tambi√©n tendr√° que ser eliminado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos estos problemas se pueden evitar por completo en una tercera forma normal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c45/93e/423/c4593e423e573702d0039506bdbe562f.png"></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las haza√±as de mam√°</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">El nombre de su hija es ¬°Ayuda! </font><font style="vertical-align: inherit;">Me veo obligado a falsificar pasaportes</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Crear la √∫ltima l√≠nea de defensa en forma de restricciones.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La base de datos con la que est√° trabajando es m√°s que solo un grupo de tablas. Cierta funcionalidad est√° integrada en √©l. Muchas de estas caracter√≠sticas ayudan a garantizar la calidad y precisi√≥n de los datos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las restricciones establecen las reglas, qu√© valores se pueden ingresar en los campos de la base de datos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al definir relaciones en una base de datos, aseg√∫rese de establecer restricciones de clave externa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aseg√∫rese de especificar lo que debe suceder al eliminar y actualizar una fila asociada con otras filas en otras tablas (reglas ON DELETE y ON UPDATE). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aseg√∫rese de utilizar NOT NULL para todos los campos que nunca deben anularse. Puede tener sentido establecer un control en el backend, pero recuerde que los bloqueos siempre ocurren, por lo que agregar este tipo de restricci√≥n no afectar√°.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Establezca los l√≠mites de verificaci√≥n de VERIFICACI√ìN para asegurarse de que los valores de la tabla est√©n en el rango aceptable, por ejemplo, el precio de un producto siempre tiene un valor positivo. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un hecho interesante</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : en abril de 2020, precisamente esa restricci√≥n en el software </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">impidi√≥ cotizar en el MICEX de Mosc√∫</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> porque el precio de los futuros del petr√≥leo WTI cay√≥ por debajo de cero. </font><font style="vertical-align: inherit;">A diferencia de la bolsa de valores de Mosc√∫, la Bolsa Mercantil de Nueva York NYMEX </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">actualiz√≥ el software una semana antes del incidente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , por lo que pudo realizar transacciones con √©xito a un precio negativo, es decir, con un recargo al vendedor por parte del vendedor: aprox. </font><font style="vertical-align: inherit;">trans. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas las limitaciones de PostgreSQL se pueden encontrar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Nunca almacene direcciones completas en un campo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si su aplicaci√≥n o sitio web tiene un formulario con un campo donde el usuario ingresa su direcci√≥n, entonces huele mal. Es muy probable que en este caso tambi√©n tenga un campo en la base de datos para almacenar la direcci√≥n como una cadena simple. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, ¬øqu√© hacer si necesita combinar las compras de los clientes por ciudad para ver qu√© ciudad es el producto m√°s popular? ¬øpuedes hacerlo? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Ser√° muy dif√≠cil! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que la direcci√≥n completa se almacena como una cadena en el campo de la base de datos, ¬°primero tendr√° que calcular cu√°nto de esta cadena es la ciudad! Y esta es una tarea casi imposible, dados todos los formatos de direcci√≥n posibles en este campo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, aseg√∫rese de dividir el campo universal "Direcci√≥n" en campos espec√≠ficos: calle, n√∫mero de casa, ciudad, regi√≥n, c√≥digo postal, etc.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otro problema de direcci√≥n: campos an√≥nimos</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ hay una ilustraci√≥n del libro de Michaels Blach, The Copper Bullet para mejorar la calidad del software:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b98/165/d9e/b98165d9e6cd4b9e43350285a75609ba.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øQu√© problemas potenciales son visibles aqu√≠? </font><font style="vertical-align: inherit;">¬øPuedes distinguir f√°cilmente la ciudad de Chicago de las calles de Chicago? </font><font style="vertical-align: inherit;">Probablemente no. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, recuerde siempre dar nombres de columna claros a cada unidad de informaci√≥n.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/0e/te/dp/0etedpf1hxfr2sci5m1jliwd4zi.jpeg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥mo escribir un curr√≠culum</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øTienes experiencia en SQL? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No (no). </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entonces escribe: experto NoSQL.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Nunca almacene el nombre y apellido en un campo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Similar a la situaci√≥n con las direcciones: el n√∫mero de variaciones del nombre y apellido es demasiado grande para distinguirlos claramente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, puede separar el nombre del apellido, si hay un espacio entre ellos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, "Mike Alche" ‚Üí el nombre "Mike" y el apellido "Alche". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, ¬øqu√© pasa si el usuario ingres√≥ un segundo nombre? ¬øO tiene un apellido doble? Pero, ¬øqu√© pasa si hay un segundo nombre y un apellido doble? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øC√≥mo determinar d√≥nde est√° el nombre y d√≥nde est√° el apellido para dividir la cadena? Los errores son inevitables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una forma de evitar muchos problemas es crear campos separados (en formularios) para los nombres de usuario first_name y last_name. De esta manera, permite a los usuarios compartir sus propios nombres y puede almacenar datos de manera coherente. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: No estoy diciendo que los espacios est√©n prohibidos en los campos de la base de datos. </font><font style="vertical-align: inherit;">Por ejemplo, para nombres como Juan Martin Del Potro, la primera parte de Juan Martin est√° en el campo first_name y Del Potro est√° en el campo last_name. </font><font style="vertical-align: inherit;">Por supuesto, esto </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es </font><strong><font style="vertical-align: inherit;">perfecto</font></strong><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Opcionalmente, puede tener las columnas middle_name y second_last_name. </font><font style="vertical-align: inherit;">Observe con m√°s detalle las posibles variaciones de nombres y apellidos en la lista " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conceptos err√≥neos de los programadores sobre los nombres</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " y el art√≠culo " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conceptos err√≥neos de los programadores sobre los nombres, con ejemplos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". </font><font style="vertical-align: inherit;">Debe acordar alg√∫n tipo de compromiso entre precisi√≥n y practicidad.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Establezca convenciones para nombres de tablas y campos y c√∫mplalas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bastante molesto trabajar con datos que se parecen a user.firstName, user.lst_name, user.birthDate, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le aconsejar√≠a que establezca reglas de nomenclatura de subrayado, porque no todos los motores SQL manejan las letras may√∫sculas de la misma manera, y encerrar todo entre comillas es muy tedioso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Elija lo mismo que llamar a las tablas, en plural o singular (por ejemplo, usuarios en plural o usuario en singular). </font><font style="vertical-align: inherit;">Me gusta m√°s el singular, pero todos los marcos de backend parecen estar en plural por defecto. </font><font style="vertical-align: inherit;">Tienes que seguir el patr√≥n y usar el plural. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© m√°s leer</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ?</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu√© base de datos elegir para el proyecto, para que no tenga que volver a elegir</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   IIoT-:  Mail.ru Cloud Solutions       </a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">      </a>.</li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es501582/index.html">C√≥mo los precios din√°micos en Amazon y AliExpress conducen a bienes por valor de $ 24 millones</a></li>
<li><a href="../es501588/index.html">Gran prueba de procesadores de varias arquitecturas.</a></li>
<li><a href="../es501590/index.html">Art√≠culos en ingl√©s: Guerra despiadada de reglas y excepciones</a></li>
<li><a href="../es501594/index.html">Escapar del zool√≥gico o c√≥mo hice juegos casuales en iOS</a></li>
<li><a href="../es501596/index.html">C√≥mo hacer la vida m√°s f√°cil al usar Git (as√≠ como una selecci√≥n de materiales para inmersi√≥n profunda)</a></li>
<li><a href="../es501600/index.html">Consola de juegos stm32</a></li>
<li><a href="../es501604/index.html">Traducci√≥n del libro de Andrew Un, Passion for Machine Learning. Cap√≠tulos 51 y 52</a></li>
<li><a href="../es501610/index.html">Barra de desplazamiento personalizada en angular</a></li>
<li><a href="../es501612/index.html">Qu√© tarjeta gr√°fica elegir para su computadora en 2020</a></li>
<li><a href="../es501614/index.html">PostgreSQL Antipatterns: ¬øqu√© tan profundo es el agujero del conejo? pasar por la jerarqu√≠a</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>