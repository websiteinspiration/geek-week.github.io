<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§’ğŸ¿ ğŸ§¥ ğŸ‘©ğŸ½â€ğŸ¤â€ğŸ‘¨ğŸ¿ Top Fakapov Cyan ğŸ ğŸ¤¶ğŸ¼ ğŸ‘·</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bueno para todos!Â 
 
 Mi nombre es Nikita, soy lÃ­der del equipo de ingenieros cian. Una de mis responsabilidades en la empresa es reducir a cero la ca...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Top Fakapov Cyan</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cian/blog/499542/"><img src="https://habrastorage.org/webt/zy/iu/-q/zyiu-qkcptbeezgf_c5adiagete.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno para todos!&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mi nombre es Nikita, soy lÃ­der del equipo de ingenieros cian. </font><font style="vertical-align: inherit;">Una de mis responsabilidades en la empresa es reducir a cero la cantidad de incidentes relacionados con la infraestructura en el producto. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo que se discutirÃ¡ mÃ¡s adelante nos ha traÃ­do mucho dolor, y el propÃ³sito de este artÃ­culo es evitar que otras personas repitan nuestros errores o al menos minimizar su impacto.&nbsp;</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PreÃ¡mbulo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã‰rase una vez, cuando Cyan consistÃ­a en monolitos, y aÃºn no habÃ­a indicios de microservicios, medimos la disponibilidad del recurso verificando 3-5 pÃ¡ginas.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Respuesta: todo estÃ¡ bien, no responda durante mucho tiempo, alerta. </font><font style="vertical-align: inherit;">Las personas decidieron en las reuniones cuÃ¡nto tiempo no deberÃ­an trabajar para que esto se considere un incidente. </font><font style="vertical-align: inherit;">Un equipo de ingenieros siempre ha estado involucrado en la investigaciÃ³n del incidente. </font><font style="vertical-align: inherit;">Cuando se completÃ³ la investigaciÃ³n, escribieron una autopsia, una especie de informe a la oficina de correos en el formato: quÃ© fue, cuÃ¡nto tiempo, quÃ© se hizo en el momento, quÃ© se harÃ¡ en el futuro.&nbsp;</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las pÃ¡ginas principales del sitio, o tal como lo entendemos, han roto el fondo</font></font></h3>&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para comprender de alguna manera la prioridad del error, resaltamos las pÃ¡ginas mÃ¡s crÃ­ticas del sitio para la funcionalidad del negocio. </font><font style="vertical-align: inherit;">SegÃºn ellos, consideramos el nÃºmero de solicitudes y tiempos de espera exitosos / no exitosos. </font><font style="vertical-align: inherit;">Entonces medimos el tiempo de actividad.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supongamos que descubrimos que hay varias secciones sÃºper importantes del sitio responsables del servicio principal: bÃºsqueda y envÃ­o de anuncios. </font><font style="vertical-align: inherit;">Si el nÃºmero de solicitudes que fallaron es mayor al 1%, este es un incidente crÃ­tico. </font><font style="vertical-align: inherit;">Si dentro de los 15 minutos en horario estelar el porcentaje de errores supera el 0.1%, entonces esto tambiÃ©n se considera un incidente crÃ­tico. </font><font style="vertical-align: inherit;">Estos criterios cubren la mayorÃ­a de los incidentes, el resto estÃ¡ mÃ¡s allÃ¡ del alcance de este artÃ­culo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ot/mw/k9/otmwk90qyl-jcomorjhkofebrgq.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los mejores incidentes cian</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, precisamente aprendimos a determinar el hecho de que ocurriÃ³ el incidente.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora cada incidente en nuestro paÃ­s se describe en detalle y se refleja en la epopeya de Jira. </font><font style="vertical-align: inherit;">Por cierto: para esto comenzamos un proyecto separado, llamado FALLO, solo se pueden crear Ã©picas en Ã©l.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si acumula todos los fracasos en los Ãºltimos aÃ±os, entonces los lÃ­deres son:&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incidentes relacionados con mssql;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incidentes causados â€‹â€‹por factores externos;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">errores de administrador</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DetengÃ¡monos con mÃ¡s detalle en los errores de los administradores, asÃ­ como en algunos otros errores interesantes.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quinto lugar - "Poner orden en el DNS"</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Era un martes lluvioso. Decidimos limpiar el clÃºster de DNS.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
QuerÃ­a transferir los servidores dns internos de bind a powerdns, destacando servidores completamente separados para Ã©l, donde no hay nada mÃ¡s que dns.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Colocamos un servidor dns en cada ubicaciÃ³n de nuestros DC, y llegÃ³ el momento de mover las zonas de bind a powerdns y cambiar la infraestructura a nuevos servidores.&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el momento Ã¡lgido del movimiento, de todos los servidores que se indicaron en el enlace de almacenamiento en cachÃ© local en todos los servidores, solo habÃ­a uno que estaba en el centro de datos en San Petersburgo. Este DC fue inicialmente declarado como no crÃ­tico para nosotros, pero de repente se convirtiÃ³ en un Ãºnico punto de falla.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Justo durante ese perÃ­odo de reubicaciÃ³n, el canal entre MoscÃº y San Petersburgo cayÃ³. </font><font style="vertical-align: inherit;">De hecho, nos quedamos sin DNS durante cinco minutos y nos levantamos cuando el proveedor solucionÃ³ los problemas.&nbsp;</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusiones:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
si antes descuidamos los factores externos durante la preparaciÃ³n para el trabajo, ahora tambiÃ©n se incluyen en la lista de lo que nos estamos preparando. </font><font style="vertical-align: inherit;">Y ahora nos esforzamos por asegurarnos de que todos los componentes estÃ©n reservados n-2, y durante la duraciÃ³n del trabajo podemos reducir este nivel a n-1.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Al elaborar un plan de acciÃ³n, marque de antemano los puntos donde puede caer el servicio y piense en el escenario en el que todo fue "peor que en ninguna parte".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distribuya servidores DNS internos por diferentes geolocalizaciones / centros de datos / bastidores / interruptores / entradas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En cada servidor, coloque un servidor dns de almacenamiento en cachÃ© local, que redirige las solicitudes a los servidores dns principales y, si no estÃ¡ disponible, responderÃ¡ desde la memoria cachÃ©.&nbsp;</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuarto lugar: "Limpiar Nginx"</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un buen dÃ­a, nuestro equipo decidiÃ³ que "era suficiente para soportarlo", y comenzÃ³ el proceso de refactorizaciÃ³n de las configuraciones de nginx. </font><font style="vertical-align: inherit;">El objetivo principal es llevar las configuraciones a una estructura intuitiva. </font><font style="vertical-align: inherit;">Anteriormente, todo estaba "histÃ³ricamente establecido" y no habÃ­a lÃ³gica en sÃ­ misma. </font><font style="vertical-align: inherit;">Ahora cada nombre_servidor se ha extraÃ­do del archivo con el mismo nombre y se han distribuido todas las configuraciones en carpetas. </font><font style="vertical-align: inherit;">Por cierto, la configuraciÃ³n contiene 253949 lÃ­neas o 7836520 caracteres y ocupa casi 7 megabytes. </font><font style="vertical-align: inherit;">Estructura de nivel superior:&nbsp;</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estructura Nginx</font></font></b>
                        <div class="spoiler_text"><pre><code class="plaintext hljs">â”œâ”€â”€ access<font></font>
â”‚ &nbsp; â”œâ”€â”€ allow.list<font></font>
...<font></font>
â”‚ &nbsp; â””â”€â”€ whitelist.conf<font></font>
â”œâ”€â”€ geobase<font></font>
â”‚ &nbsp; â”œâ”€â”€ exclude.conf<font></font>
...<font></font>
â”‚ &nbsp; â””â”€â”€ geo_ip_to_region_id.conf<font></font>
â”œâ”€â”€ geodb<font></font>
â”‚ &nbsp; â”œâ”€â”€ GeoIP.dat<font></font>
â”‚ &nbsp; â”œâ”€â”€ GeoIP2-Country.mmdb<font></font>
â”‚ &nbsp; â””â”€â”€ GeoLiteCity.dat<font></font>
â”œâ”€â”€ inc<font></font>
â”‚ &nbsp; â”œâ”€â”€ error.inc<font></font>
...<font></font>
â”‚ &nbsp; â””â”€â”€ proxy.inc<font></font>
â”œâ”€â”€ lists.d<font></font>
â”‚ &nbsp; â”œâ”€â”€ bot.conf<font></font>
...<font></font>
â”‚ &nbsp; â”œâ”€â”€ dynamic<font></font>
â”‚ &nbsp; â””â”€â”€ geo.conf<font></font>
â”œâ”€â”€ lua<font></font>
â”‚ &nbsp; â”œâ”€â”€ cookie.lua<font></font>
â”‚ &nbsp; â”œâ”€â”€ log<font></font>
â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ log.lua<font></font>
â”‚ &nbsp; â”œâ”€â”€ logics<font></font>
â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ include.lua<font></font>
â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...<font></font>
â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ utils.lua<font></font>
â”‚ &nbsp; â””â”€â”€ prom<font></font>
â”‚ &nbsp; &nbsp; &nbsp; â”œâ”€â”€ stats.lua<font></font>
â”‚ &nbsp; &nbsp; &nbsp; â””â”€â”€ stats_prometheus.lua<font></font>
â”œâ”€â”€ map.d<font></font>
â”‚ &nbsp; â”œâ”€â”€ access.conf<font></font>
â”‚ &nbsp; â”œâ”€â”€ ..&nbsp;<font></font>
â”‚ &nbsp; â””â”€â”€ zones.conf<font></font>
â”œâ”€â”€ nginx.conf<font></font>
â”œâ”€â”€ robots.txt<font></font>
â”œâ”€â”€ server.d<font></font>
â”‚ &nbsp; â”œâ”€â”€ cian.ru<font></font>
â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ cian.ru.conf<font></font>
â”‚ &nbsp; â”‚ &nbsp; â”œâ”€â”€ ...<font></font>
â”‚ &nbsp; â”‚ &nbsp; â””â”€â”€ my.cian.ru.conf<font></font>
â”œâ”€â”€ service.d<font></font>
â”‚ &nbsp; â”œâ”€â”€ ...<font></font>
â”‚ &nbsp; â””â”€â”€ status.conf<font></font>
â””â”€â”€ upstream.d<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;â”œâ”€â”€ cian-mcs.conf<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;â”œâ”€â”€ ...<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;â””â”€â”€ wafserver.conf</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se volviÃ³ mucho mejor, pero en el proceso de renombrar y distribuir configuraciones, algunos de ellos tenÃ­an la extensiÃ³n incorrecta y no entraban en la directiva include * .conf. </font><font style="vertical-align: inherit;">Como resultado, parte de los hosts dejÃ³ de estar disponible y devolviÃ³ 301 al principal. </font><font style="vertical-align: inherit;">Debido al hecho de que el cÃ³digo de respuesta no era 5xx / 4xx, esto no se notÃ³ de inmediato, sino solo por la maÃ±ana. </font><font style="vertical-align: inherit;">DespuÃ©s de eso, comenzamos a escribir pruebas para probar componentes de infraestructura. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones:</font></font></b>&nbsp;<br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estructura correctamente las configuraciones (no solo nginx) y piensa en la estructura en una etapa temprana del proyecto. </font><font style="vertical-align: inherit;">Por lo tanto, los harÃ¡ mÃ¡s comprensibles para el equipo, lo que a su vez reducirÃ¡ el TTM.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para algunos componentes de infraestructura, escriba pruebas. </font><font style="vertical-align: inherit;">Por ejemplo: comprobar que todas las claves server_names devuelven el estado correcto, + cuerpo de respuesta. </font><font style="vertical-align: inherit;">SerÃ¡ suficiente tener a mano solo unos pocos scripts que verifican las funciones bÃ¡sicas del componente para que no recuerdes frenÃ©ticamente a las 3 a.m. quÃ© mÃ¡s hay que verificar.&nbsp;</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tercer lugar - "Lugar que terminÃ³ repentinamente en Cassandra"</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los datos crecÃ­an constantemente, y todo estaba bien hasta el momento en que la reparaciÃ³n de casos grandes comenzÃ³ a caer en el clÃºster Cassandra, porque la compactaciÃ³n no podÃ­a funcionar en ellos.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En un dÃ­a lluvioso, el racimo casi se convirtiÃ³ en una calabaza, a saber:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">los lugares permanecieron alrededor del 20% del grupo total;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es imposible agregar nodos por completo, porque la limpieza no funciona despuÃ©s de agregar un nodo debido a la falta de espacio en las particiones;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el rendimiento cae ligeramente, porque la compactaciÃ³n no funciona;&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El clÃºster estÃ¡ en modo de emergencia.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/lp/ah/ie/lpahie7bann64sajoibumpqbr5g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salir: se agregaron otros 5 nodos sin limpieza, despuÃ©s de lo cual comenzaron a eliminarse sistemÃ¡ticamente del clÃºster y volver a ingresarlos como nodos vacÃ­os en los que terminaba el lugar. </font><font style="vertical-align: inherit;">El tiempo pasÃ³ mucho mÃ¡s de lo que nos gustarÃ­a. </font><font style="vertical-align: inherit;">ExistÃ­a el riesgo de inaccesibilidad parcial o total del clÃºster.&nbsp;</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos los servidores cassandra no deben ocupar mÃ¡s del 60% del espacio en cada particiÃ³n.&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deben cargarse no mÃ¡s del 50% de la CPU.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No obstruya la planificaciÃ³n de la capacidad y piense en ello para cada componente, en funciÃ³n de sus detalles.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuantos mÃ¡s nodos haya en el clÃºster, mejor. </font><font style="vertical-align: inherit;">Los servidores que contienen una pequeÃ±a cantidad de datos se migran mÃ¡s rÃ¡pido, y dicho clÃºster es mÃ¡s fÃ¡cil de reanimar.&nbsp;</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Segundo lugar: "Los datos del almacenamiento de valores clave del cÃ³nsul han desaparecido"</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para el descubrimiento de servicios, nosotros, como muchos, usamos cÃ³nsul. Pero aquÃ­, su valor clave tambiÃ©n se usa para cÃ¡lculos de monolitos azul-verdes. Almacena informaciÃ³n sobre el flujo ascendente activo e inactivo, que cambia de lugar durante la implementaciÃ³n. Para esto, se escribiÃ³ un servicio de implementaciÃ³n que interactuaba con KV. En algÃºn momento, los datos de KV desaparecieron. Recuperado de la memoria, pero con una serie de errores. Como resultado, durante el cÃ¡lculo, la carga en el flujo ascendente se distribuyÃ³ de manera desigual, y obtuvimos muchos errores 502 debido a la sobrecarga de los backends en la CPU. Como resultado, pasamos del cÃ³nsul KV a postgres, de donde no es tan fÃ¡cil eliminarlos.&nbsp;&nbsp; </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recomendaciones:</font></font><br>
</b><br>
<ul>
<li>  -           . ,       ES â€”        ,    ,   ,    action.destructive_requires_name: true.</li>
<li>      . ,    ( , &nbsp;python),      .</li>
</ul><br>
<h4>  â€” Â« Â»&nbsp;</h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En algÃºn momento, notamos una distribuciÃ³n de carga desigual en el flujo ascendente nginx en los casos en que habÃ­a mÃ¡s de 10 servidores en el back-end. Debido al hecho de que el round-robin enviÃ³ solicitudes del 1 al Ãºltimo en sentido ascendente en orden, y cada recarga de nginx comenzÃ³ desde el principio, el primer flujo ascendente siempre tenÃ­a mÃ¡s solicitudes que el resto. Como resultado, trabajaron mÃ¡s lentamente y todo el sitio sufriÃ³. Esto se hizo mÃ¡s notable a medida que aumentaba la cantidad de trÃ¡fico. Simplemente actualizar nginx para habilitar aleatorio no funcionÃ³: debe rehacer un montÃ³n de cÃ³digo lua que no despegÃ³ en la versiÃ³n 1.15 (en ese momento). Tuve que parchear nuestro nginx 1.14.2, introduciendo soporte aleatorio en Ã©l. Esto resolviÃ³ el problema. Este error gana la nominaciÃ³n de "capitÃ¡n no obvio". </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusiones:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
fue muy interesante y emocionante investigar este error).&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configure el monitoreo de modo que ayude a encontrar tales fluctuaciones rÃ¡pidamente. </font><font style="vertical-align: inherit;">Por ejemplo, puede usar ELK para monitorear los rps en cada back-end de cada flujo ascendente, y monitorear su tiempo de respuesta desde el punto de vista de nginx. </font><font style="vertical-align: inherit;">En este caso, nos ayudÃ³ a identificar el problema.&nbsp;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, la mayorÃ­a de las fallas podrÃ­an haberse evitado con un enfoque mÃ¡s escrupuloso de lo que estÃ¡ haciendo. </font><font style="vertical-align: inherit;">Siempre debe recordar la Ley de Murphy:&nbsp; </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cualquier cosa que pueda salir mal, saldrÃ¡ mal,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y construirÃ¡ componentes basados â€‹â€‹en ella.&nbsp;</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es499528/index.html">Un puente matemÃ¡tico "deslumbrante" que se extiende mÃ¡s allÃ¡ del Gran Teorema de Fermat</a></li>
<li><a href="../es499532/index.html">Palabras en nÃºmeros: anÃ¡lisis de blog gratuito habravebinary con Yandex.Metrica</a></li>
<li><a href="../es499534/index.html">GuÃ­a de desarrollo del servicio backend de Python</a></li>
<li><a href="../es499536/index.html">Growbox como mÃ©todo de conocerse</a></li>
<li><a href="../es499540/index.html">CÃ³mo funciona la renderizaciÃ³n de juegos en 3D: texturizado y filtrado de texturas</a></li>
<li><a href="../es499544/index.html">Aprende redes neuronales en Hojas de cÃ¡lculo de Google</a></li>
<li><a href="../es499546/index.html">Desarrollo de firmware para una videocÃ¡mara analÃ³gica EVR-Y2022F</a></li>
<li><a href="../es499548/index.html">MÃ¡scara: Â¿cuidar a los demÃ¡s o una ilusiÃ³n de seguridad?</a></li>
<li><a href="../es499550/index.html">Soluciones de ecosistema de cÃ³digo bajo</a></li>
<li><a href="../es499556/index.html">Servidor de juegos en MS Orleans - Parte 3: Resumen</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>