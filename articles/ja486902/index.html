<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍩 👻 ☠️ Swift 5.1のプロトコル指向プログラミング 🐽 🍕 🎐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="プロトコルはSwiftの基本的な特性です。これらは、標準のSwiftライブラリで重要な役割を果たし、コード抽象化の一般的な方法です。多くの点で、他のプログラミング言語のインターフェースに似ています。
 
 このチュートリアルでは、プロトコル指向プログラミングと呼ばれるアプリケーション開発アプローチを...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Swift 5.1のプロトコル指向プログラミング</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486902/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトコル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はSwiftの基本的な特性です。</font><font style="vertical-align: inherit;">これらは、標準のSwiftライブラリで重要な役割を果たし、コード抽象化の一般的な方法です。</font><font style="vertical-align: inherit;">多くの点で、</font><font style="vertical-align: inherit;">他のプログラミング言語の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インターフェース</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">似てい</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このチュートリアルでは、プロトコル指向プログラミングと呼ばれるアプリケーション開発アプローチを紹介します。これは、Swiftのほぼ中心となっています。</font><font style="vertical-align: inherit;">これは、Swiftを学ぶときに理解する必要があることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このガイドでは、次のことを行います。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクト指向プログラミングとプロトコル指向プログラミングの違いを理解する。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準プロトコルの実装を理解する。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準のSwiftライブラリの機能を拡張する方法を学びます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジェネリックでプロトコルを拡張する方法を学びます。</font></font></li>
</ul><a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入門</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたがレーシングゲームを開発していると想像してください。あなたのプレーヤーは車、オートバイ、飛行機を運転することができます。鳥で飛んでもゲームですよね？ここでの主なことは、運転、飛行などが可能なあらゆる種類の「もの」のドフィガがあることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなアプリケーションを開発するための一般的なアプローチは、オブジェクト指向プログラミングです。この場合、すべてのロジックをいくつかの基本クラスで囲み、そこから継承します。したがって、基本クラスには、「リード」と「パイロット」のロジックが含まれている必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各車両のクラスを作成することから開発を開始します。 「鳥」を後で延期し、少し後でそれらに戻ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは見ている</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自動車</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オートバイ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能は非常に似ているため、基本クラス</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MotorVehicle</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を作成します</font><font style="vertical-align: inherit;">。車とオートバイはMotorVehicleから継承されます。同様に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">航空機の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本クラスを作成し</font><font style="vertical-align: inherit;">、そこから</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平面</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスを作成します</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたはすべてが大丈夫だと思っていますが、-お尻！ -ゲームのアクションはXXX世紀に行われ、一部の車はすでに</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">飛行</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">でき</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
だから、ギャグがありました。 Swiftには多重継承はありません。あなたの空飛ぶ車は、どうすればMotorVehicleとAircraftの両方から継承できますか？両方の機能を組み合わせた別の基本クラスを作成しますか？これを実現するための明確で簡単な方法がないため、おそらくそうではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、この恐ろしい状況で私たちのゲームを救うものは何でしょうか？</font><font style="vertical-align: inherit;">プロトコル指向プログラミングが急いでいます！</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトコル指向プログラミングはどのようなものですか？</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロトコルを使用すると、クラス、構造体、および列挙体の同様のメソッド、関数、およびプロパティをグループ化できます。ただし、基本クラスからの継承を使用できるのはクラスだけです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swiftのプロトコルの利点は、オブジェクトが複数のプロトコルに準拠できることです。</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
この方法を使用すると、コードはよりモジュール化されます。プロトコルは機能のビルディングブロックと考えることができます。オブジェクトに新しい機能を追加して特定のプロトコルに準拠させると、まったく新しいオブジェクトを最初から作成するのではなく、長すぎます。代わりに、オブジェクトの準備ができるまで、さまざまなビルディングブロックを追加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本クラスからプロトコルに移行すると、問題が解決します。</font><font style="vertical-align: inherit;">プロトコルを使用して、MotorVehicleとAircraftの両方に一致するFlyingCarクラスを作成できます。</font><font style="vertical-align: inherit;">いいですね</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コードを作ってみましょう</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Xcodeを実行してプレイグラウンドを作成し、SwiftProtocols.playgroundとして保存して、次のコードを追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Bird</span> </span>{
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span> { <span class="hljs-keyword">get</span> }
  <span class="hljs-keyword">var</span> canFly: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Flyable</span> </span>{
  <span class="hljs-keyword">var</span> airspeedVelocity: <span class="hljs-type">Double</span> { <span class="hljs-keyword">get</span> }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Command-Shift-Returnで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
コンパイルして、</font><font style="vertical-align: inherit;">すべてが正しいことを確認します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは</font><font style="vertical-align: inherit;">、</font><b><font style="vertical-align: inherit;">名前</font></b><font style="vertical-align: inherit;">と</font><b><font style="vertical-align: inherit;">canFlyプロパティ</font></b><font style="vertical-align: inherit;">を使用して、単純な</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトコルを定義し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。次に</font><font style="vertical-align: inherit;">、</font><b><font style="vertical-align: inherit;">airspeedVelocity</font></b><font style="vertical-align: inherit;">プロパティ</font><font style="vertical-align: inherit;">を使用して</font><b><font style="vertical-align: inherit;">Flyable</font></b><font style="vertical-align: inherit;">プロトコルを定義し</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
「プリプロトコル時代」では、開発者はFlyableクラスを基本クラスとして開始し、継承を使用して、Birdと飛行可能なその他すべてのものを定義します。</font><font style="vertical-align: inherit;">
しかし、プロトコル指向プログラミングでは、すべてプロトコルから始まります。この手法を使用すると、基本クラスなしでファンクショナルのスケッチをカプセル化できます。</font><font style="vertical-align: inherit;">
これからわか​​るように、これにより、型の設計プロセスがはるかに柔軟になります。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトコルに対応するタイプを決定します</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
遊び場の下部に次のコードを追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">FlappyBird</span>: <span class="hljs-title">Bird</span>, <span class="hljs-title">Flyable</span> </span>{
  <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
  <span class="hljs-keyword">let</span> flappyAmplitude: <span class="hljs-type">Double</span>
  <span class="hljs-keyword">let</span> flappyFrequency: <span class="hljs-type">Double</span>
  <span class="hljs-keyword">let</span> canFly = <span class="hljs-literal">true</span><font></font>
<font></font>
  <span class="hljs-keyword">var</span> airspeedVelocity: <span class="hljs-type">Double</span> {
    <span class="hljs-number">3</span> * flappyFrequency * flappyAmplitude<font></font>
  }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコードは</font><font style="vertical-align: inherit;">、BirdプロトコルとFlyableプロトコルの両方に準拠</font><font style="vertical-align: inherit;">する新しい</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FlappyBird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構造</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">定義し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">そのairspeedVelocityプロパティは、ゆるい周波数とゆるい振幅の働きです。</font><font style="vertical-align: inherit;">canFlyプロパティはtrueを返します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、さらに2つの構造の定義を追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Penguin</span>: <span class="hljs-title">Bird</span> </span>{
  <span class="hljs-keyword">let</span> name: <span class="hljs-type">String</span>
  <span class="hljs-keyword">let</span> canFly = <span class="hljs-literal">false</span><font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SwiftBird</span>: <span class="hljs-title">Bird</span>, <span class="hljs-title">Flyable</span> </span>{
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span> { <span class="hljs-string">"Swift \(version)"</span> }
  <span class="hljs-keyword">let</span> canFly = <span class="hljs-literal">true</span>
  <span class="hljs-keyword">let</span> version: <span class="hljs-type">Double</span>
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> speedFactor = <span class="hljs-number">1000.0</span><font></font>
  <font></font>
  <span class="hljs-keyword">init</span>(version: <span class="hljs-type">Double</span>) {
    <span class="hljs-keyword">self</span>.version = version<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">// Swift is FASTER with each version!</span>
  <span class="hljs-keyword">var</span> airspeedVelocity: <span class="hljs-type">Double</span> {<font></font>
    version * speedFactor<font></font>
  }<font></font>
}</code></pre><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ペンギン</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は鳥ですが飛べません。</font><font style="vertical-align: inherit;">継承を使用せず、すべての鳥を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">飛ばせる</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ようにしなかったのは良いこと</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロトコルを使用するときは、機能のコンポーネントを定義し、すべての適切なオブジェクトをプロトコルに準拠させます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に</font><font style="vertical-align: inherit;">、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftBird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を定義します</font><font style="vertical-align: inherit;">が、ゲームにはいくつかの異なるバージョンがあります。</font><font style="vertical-align: inherit;">バージョン番号が大きいほど</font><font style="vertical-align: inherit;">、計算されたプロパティとして定義されている</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">airspeedVelocity</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が大きくなり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ある程度の冗長性があります。</font><font style="vertical-align: inherit;">Birdの各タイプはcanFlyプロパティの明示的な定義を定義する必要がありますが、Flyableプロトコルの定義があります。</font><font style="vertical-align: inherit;">プロトコルメソッドのデフォルトの実装を決定する方法が必要なようです。</font><font style="vertical-align: inherit;">まあ、これにはプロトコル拡張があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトの動作でプロトコルを拡張する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロトコル拡張を使用すると、デフォルトのプロトコル動作を設定できます。</font><font style="vertical-align: inherit;">Birdプロトコル定義の直後にこのコードを記述します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Bird</span> </span>{
  <span class="hljs-comment">// Flyable birds can fly!</span>
  <span class="hljs-keyword">var</span> canFly: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">self</span> <span class="hljs-keyword">is</span> <span class="hljs-type">Flyable</span> }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコードは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトコルの拡張を定義します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この拡張機能</font><font style="vertical-align: inherit;">は、型が</font><b><font style="vertical-align: inherit;">Flyable</font></b><font style="vertical-align: inherit;">プロトコルに準拠している場合に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canFly</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティ</font><font style="vertical-align: inherit;">がtrueを返す</font><font style="vertical-align: inherit;">ことを決定し</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">つまり、Flyable birdはcanFlyを明示的に設定する必要がなくなりました。</font><font style="vertical-align: inherit;">
ここで</font><font style="vertical-align: inherit;">、FletpyBird、Penguin、SwiftBirdの定義から</font><b><font style="vertical-align: inherit;">let canFly = ...を</font></b><font style="vertical-align: inherit;">削除</font><b><font style="vertical-align: inherit;">し</font></b><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">コードをコンパイルし、すべてが正しいことを確認します。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">乗り換えしましょう</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Swiftの列挙型はプロトコルに準拠している場合があります。</font><font style="vertical-align: inherit;">次の列挙定義を追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">enum</span> <span class="hljs-title">UnladenSwallow</span>: <span class="hljs-title">Bird</span>, <span class="hljs-title">Flyable</span> </span>{
  <span class="hljs-keyword">case</span> african
  <span class="hljs-keyword">case</span> european
  <span class="hljs-keyword">case</span> unknown<font></font>
  <font></font>
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span> {
    <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span> {
    <span class="hljs-keyword">case</span> .african:
      <span class="hljs-keyword">return</span> <span class="hljs-string">"African"</span>
    <span class="hljs-keyword">case</span> .european:
      <span class="hljs-keyword">return</span> <span class="hljs-string">"European"</span>
    <span class="hljs-keyword">case</span> .unknown:
      <span class="hljs-keyword">return</span> <span class="hljs-string">"What do you mean? African or European?"</span><font></font>
    }<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-keyword">var</span> airspeedVelocity: <span class="hljs-type">Double</span> {
    <span class="hljs-keyword">switch</span> <span class="hljs-keyword">self</span> {
    <span class="hljs-keyword">case</span> .african:
      <span class="hljs-keyword">return</span> <span class="hljs-number">10.0</span>
    <span class="hljs-keyword">case</span> .european:
      <span class="hljs-keyword">return</span> <span class="hljs-number">9.9</span>
    <span class="hljs-keyword">case</span> .unknown:
      <span class="hljs-built_in">fatalError</span>(<span class="hljs-string">"You are thrown from the bridge of death!"</span>)<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnladenSwallow</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
は、適切なプロパティを定義することにより、</font><font style="vertical-align: inherit;">BirdとFlyableの2つのプロトコルに準拠しています。</font><font style="vertical-align: inherit;">このようにして、canFlyのデフォルト定義が実装されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトの動作をオーバーライドする</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのタイプ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnladenSwallowは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、によると</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鳥の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトコル</font><font style="vertical-align: inherit;">、自動的用の実装を受け</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canFly</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ただし、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">canFlyに対して</font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">false </font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">を</font></b><font style="vertical-align: inherit;">返す</font><font style="vertical-align: inherit;">には、</font><b><font style="vertical-align: inherit;">UnladenSwallow.unknownが</font></b><font style="vertical-align: inherit;">必要</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下のコードを追加してください：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">UnladenSwallow</span> </span>{
  <span class="hljs-keyword">var</span> canFly: <span class="hljs-type">Bool</span> {
    <span class="hljs-keyword">self</span> != .unknown<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在は、.africanと.europeanのみがcanFlyに対してtrueを返します。</font><font style="vertical-align: inherit;">見てみな！</font><font style="vertical-align: inherit;">プレイグラウンドの下部に次のコードを追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">UnladenSwallow</span>.unknown.canFly         <span class="hljs-comment">// false</span>
<span class="hljs-type">UnladenSwallow</span>.african.canFly         <span class="hljs-comment">// true</span>
<span class="hljs-type">Penguin</span>(name: <span class="hljs-string">"King Penguin"</span>).canFly  <span class="hljs-comment">// false</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
遊び場をコンパイルし、受信した値を上記のコメントに示されている値で確認します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、オブジェクト指向プログラミングで仮想メソッドを使用するのとほぼ同じ方法で、プロパティとメソッドを再定義します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張プロトコル</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
独自のプロトコルをSwift標準ライブラリの別のプロトコルに準拠させて、デフォルトの動作を定義することもできます。</font><font style="vertical-align: inherit;">Birdプロトコル宣言を次のコードに置き換えます。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Bird</span>: <span class="hljs-title">CustomStringConvertible</span> </span>{
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span> { <span class="hljs-keyword">get</span> }
  <span class="hljs-keyword">var</span> canFly: <span class="hljs-type">Bool</span> { <span class="hljs-keyword">get</span> }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">CustomStringConvertible</span> <span class="hljs-title">where</span> <span class="hljs-title">Self</span>: <span class="hljs-title">Bird</span> </span>{
  <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> {<font></font>
    canFly ? <span class="hljs-string">"I can fly"</span> : <span class="hljs-string">"Guess I'll just sit here :["</span><font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CustomStringConvertibleプロトコルへの準拠は、タイプに説明プロパティが必要であることを意味します。</font><font style="vertical-align: inherit;">このプロパティをBirdタイプおよびそのすべての派生物に追加する代わりに、プロトコル拡張CustomStringConvertibleを定義します。これはBirdタイプにのみ関連付けられます。</font><font style="vertical-align: inherit;">遊び場の下部に</font><b><font style="vertical-align: inherit;">UnladenSwallow.african</font></b><font style="vertical-align: inherit;">と</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
入力し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">コンパイルすると、「私は飛べます」と表示されます。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swift標準ライブラリのプロトコル</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、プロトコルはタイプを拡張してカスタマイズする効果的な方法です。</font><font style="vertical-align: inherit;">Swift標準ライブラリでは、このプロパティも広く使用されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のコードを遊び場に追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">let</span> numbers = [<span class="hljs-number">10</span>, <span class="hljs-number">20</span>, <span class="hljs-number">30</span>, <span class="hljs-number">40</span>, <span class="hljs-number">50</span>, <span class="hljs-number">60</span>]
<span class="hljs-keyword">let</span> slice = numbers[<span class="hljs-number">1</span>...<span class="hljs-number">3</span>]
<span class="hljs-keyword">let</span> reversedSlice = slice.reversed()<font></font>
<font></font>
<span class="hljs-keyword">let</span> answer = reversedSlice.<span class="hljs-built_in">map</span> { $<span class="hljs-number">0</span> * <span class="hljs-number">10</span> }
<span class="hljs-built_in">print</span>(answer)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このコードが何を出力するかはおそらくご存知でしょうが、ここで使用されているタイプには驚くかもしれません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、sliceはArrayではなく、ArraySliceです。</font><font style="vertical-align: inherit;">これは、配列の一部を操作する効率的な方法を提供する特別な「ラッパー」です。</font><font style="vertical-align: inherit;">したがって、reversedSliceはReversedCollection &lt;ArraySlice&gt;です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さいわい、map関数は、すべてのコレクション型に対応するSequenceプロトコルの拡張として定義されています。</font><font style="vertical-align: inherit;">これにより、配列とReversedCollectionの両方にマップ関数を適用し、違いに気付かないようにすることができます。</font><font style="vertical-align: inherit;">すぐに、この便利なトリックを利用できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたの印について</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでに、Birdプロトコルに準拠するいくつかのタイプを特定しました。</font><font style="vertical-align: inherit;">次に、完全に異なるものを追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Motorcycle</span> </span>{
  <span class="hljs-keyword">init</span>(name: <span class="hljs-type">String</span>) {
    <span class="hljs-keyword">self</span>.name = name<font></font>
    speed = <span class="hljs-number">200.0</span><font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">var</span> name: <span class="hljs-type">String</span>
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このタイプは鳥や飛行とは関係ありません。</font><font style="vertical-align: inherit;">ペンギンとのバイクレースをアレンジしたいです。</font><font style="vertical-align: inherit;">この奇妙な会社を開始する時が来ました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてを一緒に入れて</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どういうわけかそのような異なるレーサーを団結させるためには、レースのための共通のプロトコルが必要です。</font><font style="vertical-align: inherit;">これまでに作成したすべてのタイプに手を加えることなく、これらすべてを行うことができます。レトロアクティブモデリングと呼ばれる素晴らしい機能を利用します。</font><font style="vertical-align: inherit;">これを遊び場に追加するだけです：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">// 1</span>
<span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> { <span class="hljs-keyword">get</span> }  <span class="hljs-comment">// speed is the only thing racers care about</span><font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// 2</span>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">FlappyBird</span>: <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> {<font></font>
    airspeedVelocity<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">SwiftBird</span>: <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> {<font></font>
    airspeedVelocity<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Penguin</span>: <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> {
    <span class="hljs-number">42</span>  <span class="hljs-comment">// full waddle speed</span><font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">UnladenSwallow</span>: <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-keyword">var</span> speed: <span class="hljs-type">Double</span> {<font></font>
    canFly ? airspeedVelocity : <span class="hljs-number">0.0</span><font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Motorcycle</span>: <span class="hljs-title">Racer</span> </span>{}<font></font>
<font></font>
<span class="hljs-comment">// 3</span>
<span class="hljs-keyword">let</span> racers: [<span class="hljs-type">Racer</span>] =<font></font>
  [<span class="hljs-type">UnladenSwallow</span>.african,
   <span class="hljs-type">UnladenSwallow</span>.european,
   <span class="hljs-type">UnladenSwallow</span>.unknown,
   <span class="hljs-type">Penguin</span>(name: <span class="hljs-string">"King Penguin"</span>),
   <span class="hljs-type">SwiftBird</span>(version: <span class="hljs-number">5.1</span>),
   <span class="hljs-type">FlappyBird</span>(name: <span class="hljs-string">"Felipe"</span>, flappyAmplitude: <span class="hljs-number">3.0</span>, flappyFrequency: <span class="hljs-number">20.0</span>),
   <span class="hljs-type">Motorcycle</span>(name: <span class="hljs-string">"Giacomo"</span>)]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、次のことを行います。最初に、Racerプロトコルを定義します。</font><font style="vertical-align: inherit;">レースに参加できるのはこれだけです。</font><font style="vertical-align: inherit;">次に、以前に作成したすべての型をRacerプロトコルにキャストします。</font><font style="vertical-align: inherit;">最後に、各タイプのインスタンスを含む配列を作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
遊び場をコンパイルして、すべてが正常になるようにします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トップスピード</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ライダーの最高速度を決定する関数を書きます。</font><font style="vertical-align: inherit;">遊び場の最後に次のコードを追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">topSpeed</span><span class="hljs-params">(of racers: [Racer])</span></span> -&gt; <span class="hljs-type">Double</span> {<font></font>
  racers.<span class="hljs-built_in">max</span>(by: { $<span class="hljs-number">0</span>.speed &lt; $<span class="hljs-number">1</span>.speed })?.speed ?? <span class="hljs-number">0.0</span><font></font>
}<font></font>
<font></font>
topSpeed(of: racers) <span class="hljs-comment">// 5100</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、max関数を使用して、最高速度でライダーを見つけて返します。</font><font style="vertical-align: inherit;">配列が空の場合、0.0が返されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数をより一般的にする</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Racersアレイが十分な大きさであり、アレイ全体ではなく、その一部で最大速度を見つける必要があるとします。</font><font style="vertical-align: inherit;">解決策は、topSpeed（：:)を変更することです。これにより、引数として、具体的には配列ではなく、Sequenceプロトコルに準拠するすべてのものを受け取ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
topSpeed（of :)の実装を次のように置き換えます。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-comment">// 1</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">topSpeed</span>&lt;RacersType: Sequence&gt;<span class="hljs-params">(of racers: RacersType)</span></span> -&gt; <span class="hljs-type">Double</span>
    <span class="hljs-comment">/*2*/</span> <span class="hljs-keyword">where</span> <span class="hljs-type">RacersType</span>.<span class="hljs-type">Iterator</span>.<span class="hljs-type">Element</span> == <span class="hljs-type">Racer</span> {
  <span class="hljs-comment">// 3</span>
  racers.<span class="hljs-built_in">max</span>(by: { $<span class="hljs-number">0</span>.speed &lt; $<span class="hljs-number">1</span>.speed })?.speed ?? <span class="hljs-number">0.0</span>
}</code></pre><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RacersTypeは、関数の一般的な引数タイプです。</font><font style="vertical-align: inherit;">シーケンスプロトコルに準拠するものであれば何でもかまいません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで、シーケンスコンテンツはRacerプロトコルに準拠する必要があると判断します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数自体の本体は変更されません。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これをプレイグラウンドの最後に追加して確認します。</font></font><br>
<br>
<pre><code class="swift hljs">topSpeed(of: racers[<span class="hljs-number">1</span>...<span class="hljs-number">3</span>]) <span class="hljs-comment">// 42</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、ArraySliceを含む、Sequenceプロトコルに適合するすべてのタイプで関数が機能します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数をより「迅速」にする</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シークレット：もっと上手にできる。</font><font style="vertical-align: inherit;">これを一番下に追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Sequence</span> <span class="hljs-title">where</span> <span class="hljs-title">Iterator</span>.<span class="hljs-title">Element</span> == <span class="hljs-title">Racer</span> </span>{
  <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">topSpeed</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">Double</span> {
    <span class="hljs-keyword">self</span>.<span class="hljs-built_in">max</span>(by: { $<span class="hljs-number">0</span>.speed &lt; $<span class="hljs-number">1</span>.speed })?.speed ?? <span class="hljs-number">0.0</span><font></font>
  }<font></font>
}<font></font>
<font></font>
racers.topSpeed()        <span class="hljs-comment">// 5100</span>
racers[<span class="hljs-number">1</span>...<span class="hljs-number">3</span>].topSpeed() <span class="hljs-comment">// 42</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今、私たちはtopSpeed（）でシーケンスプロトコル自体を拡張しました。</font><font style="vertical-align: inherit;">SequenceにRacerタイプが含まれている場合にのみ適用されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトコルコンパレータ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Swiftプロトコルのもう1つの機能は、オブジェクトの等価演算子またはそれらの比較を定義する方法です。</font><font style="vertical-align: inherit;">以下を書きます：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Score</span> </span>{
  <span class="hljs-keyword">var</span> value: <span class="hljs-type">Int</span> { <span class="hljs-keyword">get</span> }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">RacingScore</span>: <span class="hljs-title">Score</span> </span>{
  <span class="hljs-keyword">let</span> value: <span class="hljs-type">Int</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スコアプロトコルを使用すると、このタイプのすべての要素を1つの方法で処理するコードを記述できます。ただし、RacingScoreなどの非常に特殊なタイプを取得した場合は、それをスコアプロトコルの他の派生物と混同しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スコアを比較して、スコアが最も高い人を確認します。 Swift 3以前は、開発者はプロトコルの演算子を定義するグローバル関数を作成する必要がありました。これで、これらの静的メソッドをモデル自体で定義できます。これを行うには、ScoreとRacingScoreの定義を次のように置き換えます。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Score</span>: <span class="hljs-title">Comparable</span> </span>{
  <span class="hljs-keyword">var</span> value: <span class="hljs-type">Int</span> { <span class="hljs-keyword">get</span> }<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">RacingScore</span>: <span class="hljs-title">Score</span> </span>{
  <span class="hljs-keyword">let</span> value: <span class="hljs-type">Int</span><font></font>
  <font></font>
  <span class="hljs-keyword">static</span> <span class="hljs-function"><span class="hljs-keyword">func</span> &lt;(lhs: RacingScore, rhs: RacingScore) -&gt; <span class="hljs-title">Bool</span> </span>{<font></font>
    lhs.value &lt; rhs.value<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RacingScoreのすべてのロジックが1か所にあります。</font><font style="vertical-align: inherit;">Comparableプロトコルでは、less than関数の実装のみを定義する必要があります。</font><font style="vertical-align: inherit;">他のすべての比較関数は、作成した「より小」関数の実装に基づいて、自動的に実装されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テスト：</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">RacingScore</span>(value: <span class="hljs-number">150</span>) &gt;= <span class="hljs-type">RacingScore</span>(value: <span class="hljs-number">130</span>) <span class="hljs-comment">// true</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オブジェクトに変更を加える</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでの各例では</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能</font><font style="vertical-align: inherit;">を</font><b><font style="vertical-align: inherit;">追加</font></b><font style="vertical-align: inherit;">する方法を示しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">しかし</font><font style="vertical-align: inherit;">、オブジェクトの</font><font style="vertical-align: inherit;">何かを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変更</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するプロトコルを作成したい場合はどう</font><font style="vertical-align: inherit;">でしょうか？</font><font style="vertical-align: inherit;">これは、使用して行うことができる</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変異</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たちのプロトコルのメソッドを。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいプロトコルを追加します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">Cheat</span> </span>{
  <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">boost</span><span class="hljs-params">(<span class="hljs-number">_</span> power: Double)</span></span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、不正行為を可能にするプロトコルを定義します。</font><font style="vertical-align: inherit;">どうやって？</font><font style="vertical-align: inherit;">ブーストの内容を任意に変更。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Cheatプロトコルに準拠するSwiftBird拡張機能を作成します。</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">SwiftBird</span>: <span class="hljs-title">Cheat</span> </span>{
  <span class="hljs-keyword">mutating</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">boost</span><span class="hljs-params">(<span class="hljs-number">_</span> power: Double)</span></span> {<font></font>
    speedFactor += power<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、ブースト（_ :)関数を実装し、送信された値によってspeedFactorを増加させます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変異キーワードは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構造がその値の一つが、この機能によって変更されることを理解します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
見てみな！</font></font><br>
<pre><code class="swift hljs"><span class="hljs-keyword">var</span> swiftBird = <span class="hljs-type">SwiftBird</span>(version: <span class="hljs-number">5.0</span>)<font></font>
swiftBird.boost(<span class="hljs-number">3.0</span>)<font></font>
swiftBird.airspeedVelocity <span class="hljs-comment">// 5015</span>
swiftBird.boost(<span class="hljs-number">3.0</span>)<font></font>
swiftBird.airspeedVelocity <span class="hljs-comment">// 5030</span></code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、遊び場の完全なソースコードをダウンロードできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単純なプロトコルを作成し、拡張機能を使用してその機能を向上させることにより、プロトコル指向プログラミングの可能性について学びました。デフォルトの実装を使用して、プロトコルに適切な「動作」を提供します。これは基本クラスとほとんど同じですが、構造と列挙にもすべて適用されるため、さらに優れています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、プロトコル拡張が基本的なSwiftプロトコルに適用されることも確認しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公式のプロトコルガイドがあり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロトコル指向プログラミング</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">に関するWWDC</font></a><font style="vertical-align: inherit;">の優れた</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">講義を</font></a><font style="vertical-align: inherit;">見ることができ</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のプログラミングパラダイムと同様に、夢中になって、左右のプロトコルを使い始める危険があります。</font><font style="vertical-align: inherit;">銀の弾丸スタイルの決定の危険性についての</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">興味深いノート</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja486884/index.html">日本の製薬会社がニューラルネットワークを使用して合成された医薬品のテストを開始</a></li>
<li><a href="../ja486888/index.html">本「オブジェクト指向アプローチ。5番目の整数。編」</a></li>
<li><a href="../ja486890/index.html">自己啓発：2つの椅子に座らずに3つ目の椅子を見つけた方法</a></li>
<li><a href="../ja486892/index.html">Contact Picker API、または連絡先をブラウザーと共有する方法</a></li>
<li><a href="../ja486896/index.html">MAG250でのUIDおよびストーカー認証</a></li>
<li><a href="../ja486904/index.html">SonarQubeでのソースコードの品質管理のステータスを開発者に示す</a></li>
<li><a href="../ja486908/index.html">Wulfric Ransomwareは存在しない暗号化プログラムです</a></li>
<li><a href="../ja486912/index.html">Lowkiq。なぜそれをしたのですか？</a></li>
<li><a href="../ja486914/index.html">8. Fortinet Getting Started v6.0。ユーザーと協力する</a></li>
<li><a href="../ja486918/index.html">Emacs-6つの生産性トリック</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>