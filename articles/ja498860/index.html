<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>❄️ 💃🏿 👂🏻 ReduxとReact-reduxの概要 🐕 📞 👰🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="目次
 はじめに
 1.インストールと使用開始
 2. Redux
 .... 2.1 createStore
 .... 2.2 reducer（）
 .... 2.3 dispatch（）
 .... 2.4 actionCreator（）
 .... 2.5アクション
 .... 2.6 ge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ReduxとReact-reduxの概要</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498860/"><img src="https://habrastorage.org/getpro/habr/post_images/1d3/8bd/7bf/1d38bd7bfd244a573a3170a3f753c900.png" alt="画像"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目次</font></font></h1><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はじめに</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.インストールと使用開始</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Redux</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1 createStore</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2 reducer（）</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3 dispatch（）</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4 actionCreator（）</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5アクション</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6 getState（）</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7 subscribe（）</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.8 CombineReducers（）</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9 initialState </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. React-redux</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1プロバイダー</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 mapStateToProps（）</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3 mapDispatchToProps（）</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
.... </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4接続（）</font></font></a><br>
<br>
<a name="00"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Reactに関する私の記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を読んで</font><font style="vertical-align: inherit;">（そうでない場合は、これを行うことを強くお勧めします）、アプリケーションの開発を開始しました。しかし、それは何ですか？アプリケーションの拡張により、現在の状態を監視することがより困難になり、いつ、どのコンポーネントが表示されないか、それらが表示されない場合、なぜ表示されないのか、変化するデータのフローを監視することが難しいことに気づきます。このため、Reduxライブラリがあります。軽量ではありますが、それ自体を快適に開発するには、多くのことを学ぶ必要があります。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今日は2つのライブラリを分析します：ReduxとReact-redux。 Reduxを使用するために追加のライブラリをダウンロードする必要はありませんが、React-reduxライブラリと組み合わせて使用​​すると、開発がさらに便利で簡単になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事のすべての例は</font><font style="vertical-align: inherit;">、Githubの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリにあります。 ReduxとReact-reduxを使用して完全にカスタマイズされたReactアプリケーションがあります。プロジェクトの開始点として使用できます。ファイル名を変更し、このリポジトリに新しいファイルを追加して、独自のアプリケーションを作成します。 [リリース]タブを見て、アプリケーションのさまざまなバージョンを見つけます。 1つ目はReduxのみを使用するアプリケーション、2つ目はReduxとReact-reduxを使用するアプリケーションです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reduxを使用する動機</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コアライブラリ（React）に付属するコンポーネントのローカルストレージメカニズムは、そのようなストレージが分離されているという点で不便です。たとえば、さまざまな独立したコンポーネントがイベントに応答するようにしたい場合は、ローカル状態を小道具の形で子コンポーネントに渡すか、最も近い親コンポーネントに上げる必要があります。どちらの場合も、これは便利ではありません。コードはより汚れて読みにくくなり、コンポーネントはそのネストに依存します。 Reduxを使用すると、コンポーネント全体から状態全体に簡単にアクセスできるため、この問題は解消されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxはユニバーサル開発ツールであり、さまざまなライブラリやフレームワークと組み合わせて使用​​できます。同じ記事で、ReactアプリケーションでのReduxの使用について説明します。</font></font><br>
<br>
<a name="01"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Reduxをインストールして開始する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
YarnとNpmのどちらを使用する場合でも、次のいずれかのコマンドを実行してReduxをインストールします。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># NPM</span><font></font>
npm install redux<font></font>
<font></font>
<span class="hljs-comment"># Yarn</span>
yarn add redux </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどの場合、コードベースが保存されているsrcフォルダーを使用しています。</font><font style="vertical-align: inherit;">reduxに関連するファイルは、通常、別のフォルダーに格納されます。</font><font style="vertical-align: inherit;">これを行うには、Reduxとアプリケーションストレージに関連するすべてを格納する/ src / storeフォルダを使用します。</font><font style="vertical-align: inherit;">別の名前を付けることも、別の場所に置くこともできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リポジトリの基本構造を作成します。</font><font style="vertical-align: inherit;">これは次のようになります。</font><font style="vertical-align: inherit;">
もちろん、ここではファイルにプリミティブ名を使用していますが、これは明確にするために行われています。</font><font style="vertical-align: inherit;">このプロジェクトでは、ファイルはそのように呼ばれるべきではありません。</font></font><br>
<br>
<code>.store<br>
├── actionCreators<br>
│ ├── action_1.js<br>
│ └── action_2.js<br>
├── actions<br>
│ ├── action_1.js<br>
│ └── action_2.js<br>
├── reducers<br>
│ ├── reducer_1.js<br>
│ ├── reducer_2.js<br>
│ └── rootReducer.js<br>
├── initialState.js<br>
└── store.js<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<a name="02"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Redux</font></font></h2><br>
<a name="021"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1 createStore</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxリポジトリを操作するための基本的な構造を作成したら、それを操作する方法を理解します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グローバルアプリケーションストレージは、通常はstore.jsと呼ばれる別のファイルに作成されます。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//   store.js</span>
<span class="hljs-keyword">import</span> { createStore } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> store = createStore(reducer);<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> store;</code></pre><br>
<a name="022"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2減速機（）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レデューサーは、状態の更新を担当する純粋な関数です。</font><font style="vertical-align: inherit;">ここで、ロジックは、ストアフィールドの更新に応じて実装されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本的なレデューサー関数は次のようになります。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reducer</span>(<span class="hljs-params">state, action</span>) </span>{
    <span class="hljs-keyword">switch</span>(action.type) {
        <span class="hljs-keyword">case</span> ACTION_1: <span class="hljs-keyword">return</span> { <span class="hljs-attr">value</span>: action.value_1 };
        <span class="hljs-keyword">case</span> ACTION_2: <span class="hljs-keyword">return</span> { <span class="hljs-attr">value</span>: action.value_2 };<font></font>
        <font></font>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この関数は、現在の状態とイベントオブジェクト（アクション）の値を取ります。</font><font style="vertical-align: inherit;">イベントオブジェクトには、イベントのタイプ（action.type）とイベントの値（action.value）の2つのプロパティが含まれています。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、入力フィールドのonChangeイベントを処理する必要がある場合、イベントオブジェクトは次のようになります。</font></font><br>
<br>
<pre><code class="json hljs">{<font></font>
    type: <span class="hljs-string">"ACTION_1"</span>,<font></font>
    value: <span class="hljs-string">"   "</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントによっては、意味を伝える必要がない場合があります。たとえば、onClickイベントを処理する場合、イベントが発生したこと、それ以上のデータは不要であること、コンポーネント自体に直接埋め込まれたロジックがそれに応答する方法、および部分的にレデューサーで応答する方法を通知できます。ただし、すべての場合において、イベントのタイプを判別する必要があります。減速機は尋ねます：何が起こりましたか？ actio.typeが「ACTION_1」と等しい場合は、イベント番号1が発生しました。次に、それを処理して状態を更新する必要があります。減速機が返すものと新しい状態になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ACTION_1とACTION_2はイベント定数です。異なるアクション。これらについては、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5アクション</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">についてさらに説明し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご想像のとおり、ストアは一連の独立したプロパティで構成される複雑なデータ構造を格納できます。</font><font style="vertical-align: inherit;">1つのプロパティを更新しても、他のプロパティは変更されません。</font><font style="vertical-align: inherit;">上記の例から、イベント番号1（ACTION_1）が発生すると、ストアのフィールド番号1（value_1）が更新され、フィールド番号2（value_2）は変更されません。</font><font style="vertical-align: inherit;">一般に、メカニズムはthis.setState（）メソッドに似ています。</font></font><br>
<br>
<a name="023"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3ディスパッチ（）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストアを更新するには、dispatch（）メソッドを呼び出す必要があります。</font><font style="vertical-align: inherit;">これは、store.jsで作成したストアオブジェクトで呼び出されます。</font><font style="vertical-align: inherit;">このオブジェクトはストアと呼ばれるため、私の場合の状態の更新は次のようになります。</font></font><br>
<br>
<pre><code class="javascript hljs">store.dispatch({ <span class="hljs-attr">type</span>: ACTION_1, <span class="hljs-attr">value_1</span>: <span class="hljs-string">"Some text"</span> });</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Onchangeは、後で説明するイベント定数です（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクションを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照</font><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この関数は、イベントを処理し、対応するストレージフィールドを更新するリデューサー関数を呼び出します。</font></font><br>
<br>
<a name="024"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4 actionCreator（）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、ディスパッチ（）に直接イベントオブジェクトを渡すと、調子が悪くなります。</font><font style="vertical-align: inherit;">これを行うには、actionCreatorと呼ばれる関数を使用します。</font><font style="vertical-align: inherit;">彼女はまさに期待通りのことをします。</font><font style="vertical-align: inherit;">イベントを作成します！</font><font style="vertical-align: inherit;">この関数の呼び出しは、ディスパッチする引数として渡され、必要な値（値）がactionCreatorに渡される必要があります。</font><font style="vertical-align: inherit;">基本のactionCreatorは次のとおりです。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">action_1</span>(<span class="hljs-params">value</span>) </span>{
    <span class="hljs-keyword">return</span> { 
        <span class="hljs-attr">type</span>: ACTION_1,
        <span class="hljs-attr">value_1</span>: value<font></font>
    };<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> action_1;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、ディスパッチコールは次のようになります。 </font></font><br>
<br>
<pre><code class="javascript hljs">store.dispatch(action_1(<span class="hljs-string">"Some value"</span>));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
actionCreatorを使用すると、コードがよりクリーンになります。</font></font><br>
<br>
<a name="025"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5アクション</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクションは、イベントを説明する定数です。</font><font style="vertical-align: inherit;">通常、これはイベントを説明する名前の付いた行です。</font><font style="vertical-align: inherit;">たとえば、イベント番号1を表す定数は次のようになります。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> ACTION_1 = <span class="hljs-string">"ACTION_1"</span>;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> ACTION_1;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
繰り返しますが、プロジェクトでは、onClick、createUserSesion、deleteItem、addItemなどのイベントに応じて定数に名前を付ける必要があります。</font><font style="vertical-align: inherit;">主なことはそれを明確にすることです。</font><font style="vertical-align: inherit;">私はどこにもインポートを記述しなかったので、定数を使用する前に必ずインポートしてください。</font><font style="vertical-align: inherit;">定数を特別なフォルダに保存することにより、定数を個別のファイルに分割することも慣習となっているためです。</font><font style="vertical-align: inherit;">それらをactionTypes.jsと呼ばれる単一のファイルに保存するものもあります。</font><font style="vertical-align: inherit;">そのような決定は正しくないとは言えませんが、理想的でもありません。</font></font><br>
<br>
<a name="026"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.6 getState（）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dispatch（）を使用して更新しましたが、新しいストアの値を確認するにはどうすればよいですか？</font><font style="vertical-align: inherit;">何も発明する必要はありません; getState（）メソッドがあります。</font><font style="vertical-align: inherit;">これは、ディスパッチメソッドと同様に、ストアオブジェクトのインスタンスで呼び出されます。</font><font style="vertical-align: inherit;">したがって、私の例では、呼び出し</font></font><br>
<br>
<pre><code class="javascript hljs">store.getState()</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストレージフィールドの値を返します。</font><font style="vertical-align: inherit;">たとえば、value_1フィールドの値を表示するには、次を呼び出す必要があります。</font></font><br>
<br>
<pre><code class="javascript hljs">store.getState().value_1</code></pre><br>
<a name="027"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.7購読（）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、状態が更新されたときにどのようにしてわかりますか？</font><font style="vertical-align: inherit;">これにはsubscribe（）メソッドがあります。</font><font style="vertical-align: inherit;">ストアインスタンスでも呼び出されます。</font><font style="vertical-align: inherit;">このメソッドは、ストアが更新されるたびに呼び出される関数を受け入れます。</font><font style="vertical-align: inherit;">彼は、言うまでもなく、更新のために彼に転送された機能に「署名」します。</font><font style="vertical-align: inherit;">たとえば、次のコードでは、更新ごとに（dispatch（）が呼び出されるたびに）コンソールに新しいストア値が表示されます。</font></font><br>
<br>
<pre><code class="javascript hljs">store.subscribe(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-built_in">console</span>.info(store.getState()))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメソッドは、unsubscribe（）関数を返します。</font><font style="vertical-align: inherit;">これにより、「アップデートの登録を解除」できます。</font><font style="vertical-align: inherit;">たとえば、コンポーネントがDOMから削除された場合、そのメソッドのサブスクライブを解除して、componentWillUnmount（）で更新しないようにする必要があります。</font><font style="vertical-align: inherit;">このライフサイクルメソッドは、コンポーネントがマウント解除されたときに呼び出され、更新のサブスクライブを解除する場所です。</font><font style="vertical-align: inherit;">デストラクタを入れるだけです。</font></font><br>
<br>
<a name="028"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.8 CombineReducers（）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CombineReducers（）を使用すると、複数のレデューサーを1つに結合できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネントを更新するためのロジックがかなり複雑である場合や、多数の異なるタイプのイベントを処理する必要がある場合は、ルートレデューサーが煩雑になる可能性があります。</font><font style="vertical-align: inherit;">最善の解決策は、それをいくつかの個別のレデューサーに分割することです。それぞれのレデューサーは、1種類のイベントのみを処理し、特定のフィールドを更新します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></b><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本レデューサーをいくつかに分割する場合、それぞれの名前は、ストア内で更新するフィールドに対応している必要があります。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> たとえば、レデューサーがフィールド番号1を更新すると、次のようになります。 </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">value_1</span>(<span class="hljs-params">state, action</span>) </span>{
    <span class="hljs-keyword">switch</span>(action.type) {
        <span class="hljs-keyword">case</span> ACTION_1: <span class="hljs-keyword">return</span> action.value_1;<font></font>
        <font></font>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> state;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> value_1;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レデューサーの名前（value_1）は、ストアで更新するプロパティを示します。</font><font style="vertical-align: inherit;">名前をvalue_2に変更すると、value_2が更新されます。</font><font style="vertical-align: inherit;">したがって、これを覚えておいてください！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単一のレデューサーを使用する場合、更新するフィールドを示します。</font></font><br>
<br>
<pre><code class="javascript hljs"> <span class="hljs-keyword">case</span> ACTION_1: <span class="hljs-keyword">return</span> { <span class="hljs-attr">value_1</span>: action.value_1 };</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、レデューサーを分割するときは、新しい値を返すだけです。 </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">case</span> ACTION_1: <span class="hljs-keyword">return</span> action.value_1;</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その名前は更新するフィールドであるため、レデューサーが更新するフィールドを示す必要はありません。</font></font><br>
<br>
<a name="029"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.9 initialState</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
initialStateは、ストアの初期状態を表すオブジェクトです。これは、createStore（）メソッドの2番目のオプションの引数です。リポジトリを作成すると、そのフィールドの初期状態をすぐに宣言できます。このオブジェクトは、初期状態のアナウンスが不要な場合でも作成することが望ましいです。このオブジェクトは、リポジトリの構造とそのフィールドの名前を確認するのに役立ちます。典型的なinitialStateオブジェクトは次のようになります。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> initialState = {
    <span class="hljs-attr">date_1</span>: <span class="hljs-string">"value..."</span>,
    <span class="hljs-attr">date_2</span>: <span class="hljs-string">"value..."</span><font></font>
};<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> initialState;</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
場合によっては（コンポーネントがストアからの値をすぐに使用する場合）、その宣言が必須になる場合があります。そうしないと、エラーが発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、レデューサーはデフォルトで常に現在の状態を返す必要があります。</font><font style="vertical-align: inherit;">たとえば、単一のレデューサーを使用する場合、スイッチの最後の値は次のようになります。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> store;</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レデューサーを独立した関数に分割すると、レデューサーは、それが担当するプロパティの値を返します。 </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> store.value_1;</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、initialStateオブジェクトをcreateStoreに渡さない場合は、レデューサーから返すことができます。</font><font style="vertical-align: inherit;">どちらの場合も、ストアの初期状態が初期化されます。</font></font><br>
<br>
<a name="03"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. React-redux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Reduxを使用するためのすべてが揃っているように見えます。</font><font style="vertical-align: inherit;">しかし、実際には、React-reduxパッケージなしでReactアプリケーションで使用すると、見栄えがよくありません。</font></font><br>
<br>
<a name="031"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1プロバイダー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネントでストアを使用するには、それをプロップに渡す必要があります。 </font></font><br>
<br>
<pre><code class="javascript hljs">ReactDOM.render(<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Main</span> <span class="hljs-attr">store</span>=<span class="hljs-string">{store}</span> /&gt;</span></span>, <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'root'</span>));</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、コンポーネントで使用します：this.props.state。</font><font style="vertical-align: inherit;">これを行うために、react-reduxはプロバイダーメソッドを提供します。</font></font><br>
<br>
<pre><code class="javascript hljs">ReactDOM.render(
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Provider</span> <span class="hljs-attr">store</span>=<span class="hljs-string">{store}</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">Main</span> /&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">Provider</span>&gt;</span></span>, 
<span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'root'</span>));</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、connectメソッドはストアを使用できます。</font><font style="vertical-align: inherit;">そうしないと、エラーが発生します。エラー：「接続（メイン）」のコンテキストで「ストア」が見つかりませんでした。</font><font style="vertical-align: inherit;">ルートコンポーネントをにラップするか、カスタムのReactコンテキストプロバイダーに接続し、対応するReactコンテキストコンシューマーを接続オプションのConnect（Main）に渡します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、プロバイダーにラップせずにストアをコンポーネントに直接渡すこともでき、これは機能します。</font><font style="vertical-align: inherit;">しかし、それでもプロバイダーを使用する方が良いでしょう。</font></font><br>
<br>
<a name="032"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 mapStateToProps（）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このメソッドは、ストアが更新され、ストアからコンポーネントに必要なプロパティが渡されるときに呼び出されます。</font><font style="vertical-align: inherit;">たとえば、フィールド番号1（value_1）が更新されるたびに、コンポーネントは応答してUIを更新する必要があります。</font><font style="vertical-align: inherit;">他のフィールドの更新に反応する必要はありません。</font><font style="vertical-align: inherit;">React-reduxを使用していない場合は、subscribe（）メソッドを使用して更新を確認し、フィールド番号1が更新されたかどうかを何らかの方法で確認する必要があります。</font><font style="vertical-align: inherit;">一般に、そのようなコードはダーティで冗長に見えることは容易に理解できます。</font><font style="vertical-align: inherit;">mapStateToProps（）を使用すると、コンポーネントに関係するフィールドを明確に判別できます。</font><font style="vertical-align: inherit;">そして彼はどの分野に反応すべきか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の例に戻り、コンポーネント1がフィールド番号1（値_1）を取得する必要がある場合、そのためのmapStateToPropsは次のようになります。 </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">state</span>) </span>{
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">value_1</span>: state.value_1<font></font>
    };<font></font>
}</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネント内で、this.props.value_1を介してvalue_1フィールドにアクセスできます。</font><font style="vertical-align: inherit;">そして、このフィールドが更新されるたびに、コンポーネントは再度レンダリングされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
/ src / storeに個別のフォルダーを作成してファイルを保存できます。各フォルダーには、すべてのコンポーネントのmapStateToProps関数が含まれます。</font><font style="vertical-align: inherit;">または、（私がしたように）各コンポーネントのmapStateToProps関数を返す単一の関数を使用します。</font><font style="vertical-align: inherit;">個人的に、私はこのアプローチが好きです。</font><font style="vertical-align: inherit;">このような関数は次のとおりです。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mapStateToProps</span>(<span class="hljs-params">component</span>) </span>{
    <span class="hljs-keyword">switch</span>(component) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"Component_1"</span>: {
            <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">state</span>) </span>{
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">value_1</span>: state.value_1<font></font>
                };<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-keyword">case</span> <span class="hljs-string">"Component_2"</span>: {
            <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">state</span>) </span>{
                <span class="hljs-keyword">return</span> {
                    <span class="hljs-attr">value_2</span>: state.value_2<font></font>
                };<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-attr">default</span>: <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> mapStateToProps;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この関数は、コンポーネントの名前を引数として引数の文字列を取り、このコンポーネントに必要なストアからのプロパティを持つオブジェクトを返すmapStateToProps関数を返します。</font><font style="vertical-align: inherit;">この関数はmapStateToPropsGenerator（）と呼ぶことができます。</font></font><br>
<br>
<a name="033"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.3 mapDispatchToProps（）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この関数は、メソッドをコンポーネントに渡して、必要なストアフィールドを更新します。コンポーネントから直接ディスパッチを呼び出さないようにするには、このメソッドを使用して、propsメソッドに呼び出しを渡し、ディスパッチ呼び出しを実行して対応するフィールドを更新します。たった今、それはよりエレガントに見え、コードはより理解しやすくきれいになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、コンポーネント番号1は、ストアからフィールド番号1を更新できる必要があります。その後、mapDispatchToPropsは次のようになります。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dispatch</span>) </span>{
    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">changeValue_1</span>: bindActionCreators(action_1, dispatch)<font></font>
    };<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、value_1プロパティを更新するために、this.props.changeValue_1（値）を介してchangeValue_1（）を呼び出します。 this.props.store.dispatch（action_1（value））から直接dispatchを呼び出すことはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bindActionCreatorsはreduxからインポートする必要があります。これにより、ディスパッチおよびactionCreator関数を単一のオブジェクトにラップできます。 bindActionCreatorsは使用できませんが、コードは冗長に見えます。コードがシンプルでミニチュアに見えるように、ある種の機能を実装するには、古くなっている必要があります。したがって、これ以上何も書くべきではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クリーンでわかりやすいコードのみ。 bindActionCreators（actionCreator、dispatch）メソッドは、2つの必須パラメーターを受け入れます。これは、すでに説明してディスパッチしたactionCreator関数です。ストアフィールドを変更するためのメソッドを返します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mapStateToPropsと同様に、ジェネレーター関数を使用して、各コンポーネントのmapDispatchToProps関数を返します。 </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { bindActionCreators } <span class="hljs-keyword">from</span> <span class="hljs-string">'redux'</span>;
<span class="hljs-keyword">import</span> action_1 <span class="hljs-keyword">from</span> <span class="hljs-string">'./actionCreators/action_1'</span>;
<span class="hljs-keyword">import</span> action_2 <span class="hljs-keyword">from</span> <span class="hljs-string">'./actionCreators/action_2'</span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">mapDispatchToProps</span>(<span class="hljs-params">component</span>) </span>{ 
    <span class="hljs-keyword">switch</span>(component) {
        <span class="hljs-keyword">case</span> <span class="hljs-string">"Component_1"</span>: <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dispatch</span>) </span>{
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">change_value_1</span>: bindActionCreators(action_1, dispatch)<font></font>
            };<font></font>
        };<font></font>
        <span class="hljs-keyword">case</span> <span class="hljs-string">"Component_2"</span>: <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">dispatch</span>) </span>{
            <span class="hljs-keyword">return</span> {
                <span class="hljs-attr">change_value_2</span>: bindActionCreators(action_2, dispatch)<font></font>
            };<font></font>
        };<font></font>
        <span class="hljs-keyword">default</span>: <span class="hljs-keyword">return</span> <span class="hljs-literal">undefined</span>;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> mapDispatchToProps;</code></pre><br>
<a name="034"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.4接続（）</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、今クライマックス！</font><font style="vertical-align: inherit;">これがないと、このすべてが機能しません。</font><font style="vertical-align: inherit;">これは接続機能です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mapStateToPropsとmapDispatchToPropsをコンポーネントに接続し、必要なフィールドとメソッドをコンポーネントに渡すのは彼女です。</font><font style="vertical-align: inherit;">コンポーネントの新しいラッパーコンポーネントを返します。</font><font style="vertical-align: inherit;">React-reduxのドキュメント自体には記載されていないため、このようなコンポーネントに適切な名前を付ける方法はわかりません。</font><font style="vertical-align: inherit;">個人的には、ラッパーコンポーネントの末尾に_wを追加します。</font><font style="vertical-align: inherit;">_w = wrap Componentのように。</font><font style="vertical-align: inherit;">この場合のコンポーネント接続は次のようになります。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> COMPONENT_1_W = connect(mapStateToProps(<span class="hljs-string">"Component_1"</span>), mapDispatchToProps(<span class="hljs-string">"Component_1"</span>))(Component_1);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 そして今、ReactDOM.render（）では、コンポーネントを渡しませんが、connect関数が返すコンポーネントを渡します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネントにmapStateToPropsまたはmapDispatchToPropsを渡す必要がない場合は、undefinedまたはnullを渡します。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja498840/index.html">ボットは電報を介してコンピュータを監視および制御します</a></li>
<li><a href="../ja498842/index.html">コメントのモデレート：それでも、ユーザーを信頼できますか？</a></li>
<li><a href="../ja498844/index.html">「家族の男」のジョークや参考文献は英語で説明される</a></li>
<li><a href="../ja498854/index.html">サイバー犯罪者が自分の目的でコロナウイルスのパンデミックをどのように使用するか</a></li>
<li><a href="../ja498856/index.html">Pythonで開発を学ぶ方法：Yandexの新しいビデオコース</a></li>
<li><a href="../ja498862/index.html">リモートサイトへの移行：保存されたビジネスプロセス、セキュリティについてはどうですか？</a></li>
<li><a href="../ja498866/index.html">VRヘルメットとゲームに関するよくある質問</a></li>
<li><a href="../ja498870/index.html">ウェビナー：ITスペシャリストのための履歴書の分析</a></li>
<li><a href="../ja498872/index.html">自己宣伝のミニッツ：Kubernetesによるスラムのイブニングスクール</a></li>
<li><a href="../ja498874/index.html">製品としてのAPI：バックエンドのみを理解しているときに作業を収益化する方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>