<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏾‍💻 👨🏿‍🎤 ➿ Wohnungsautomatisierung 🔟 🤭 👩🏾‍🌾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hintergrund
 Der alte Traum von der Wohnungsautomatisierung begann seine Verwirklichung mit dem Kauf einer Wohnung in einem neuen Gebäude. Bereits in ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Wohnungsautomatisierung</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506558/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hintergrund</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der alte Traum von der Wohnungsautomatisierung begann seine Verwirklichung mit dem Kauf einer Wohnung in einem neuen Gebäude. </font><font style="vertical-align: inherit;">Bereits in der Phase der Reparaturplanung ergaben sich die Hauptanforderungen an Versorgungsnetze:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flexible Steuerung von Beleuchtung, Wasserversorgung, Lüftung, Heizung und Stromversorgung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Fähigkeit, Skripte zu implementieren;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fernbedienung und Benachrichtigung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zentrales Abschalten aller Beleuchtungen;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zentrales Abschalten nicht vorrangiger Lasten und Wasserversorgung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in der Zukunft - die Möglichkeit der Sprachsteuerung.</font></font></li>
</ol><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elektriker</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da für mich die zuverlässigste Steuerungsoption eine Kabelschaltung ist, die Umsetzung der Idee, wurde beschlossen, mit der Änderung der Elektrik zu beginnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gemäß dem Projekt des Entwicklers wurden alle Lasten in 4 Gruppen unterteilt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kessel;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beleuchtung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Küchen- und Flurauslässe;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alles andere.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die gesamte modulare Automatisierung befand sich in der Diele, 4 Kabel führten in die Wohnung - 2 3x2,5 mm2 und 2 3x1,5 mm2, was meinen Anforderungen nicht entsprach. </font><font style="vertical-align: inherit;">Es wurde beschlossen, das Kabel von der Diele zu ziehen und die Schalttafel direkt in die Wohnung zu verlegen. </font><font style="vertical-align: inherit;">Infolgedessen verblieben ein Zähler und ein Einführungsschalter für 40 A in der Bodenplatte, dann ein 3x6 mm2-Kabel zur Wohnungsplatine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Gestaltung einer Wohnungsplatine wurden folgende Anforderungen berücksichtigt:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Überspannungsschutz;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prioritätslast (nicht trennbar);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht priorisierte (nicht verbundene) Last;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Differentialschutz für „gefährliche“ Gruppen (alles, was in feuchten Räumen betrieben wird, alles, was mit Wasser verbunden ist und alles, was Kinder erreichen können).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis entstand das folgende Schema:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/aj/ho/ue/ajhoueqw41w1cblhjxspipmvilm.png" alt="Bild"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Lasten wurden in trennbare und nicht trennbare Gruppen unterteilt. </font><font style="vertical-align: inherit;">Zu den nicht trennbaren Gruppen gehören: Stromversorgung für Kühlschrank, Kessel, Niedrigstromschrank und Steuerung. </font><font style="vertical-align: inherit;">Die getrennte Gruppe, zu der alle anderen Lasten gehören, wird über einen gemeinsamen Leistungsschalter und ein gemeinsames Schütz mit Strom versorgt, die durch Signale von der Steuerung gesteuert werden, und wir nehmen auch das Statussignal vom Schütz an die Steuerung auf. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die erforderliche modulare Automatisierung zu ermöglichen, wurde eine integrierte Abschirmung für 72 Module ausgewählt (wie sich später herausstellte - es ist nicht viel Platz in der Abschirmung vorhanden). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Prozess, Elektriker in der Wohnung komplett neu zu gestalten, hat begonnen. </font><font style="vertical-align: inherit;">Von den Merkmalen wurden Kabelwege von allen Lichtquellen und Schaltern direkt in die Wohnungsverkleidung gebracht.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automatisierung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aufgrund der Tatsache, dass ich mich in meiner Praxis mit industrieller Automatisierung befassen musste, wurden verschiedene Optionen für SPS und PLR von Siemens, ABB, Schneider-Electric, Aries usw. als Steuergeräte betrachtet. </font><font style="vertical-align: inherit;">Infolgedessen fiel die Wahl auf das speicherprogrammierbare Relais ONI PLR (PLR-S-CPU-1004R-AC-BE, der Kürze halber auch die Steuerung). </font><font style="vertical-align: inherit;">Warum genau so:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eingebauter RS-485-Bus mit Modbus-Protokollunterstützung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diskrete Ausgänge in Form von Relais mit 3 und 10 Ampere;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stromversorgung von 220V; </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kompakte Größen;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formfaktor für die Montage auf einer DIN-Schiene;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">das Vorhandensein eines Bildschirms und steuert direkt auf dem Fall;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preis.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da 10 digitale Eingänge und 4 Relaisausgänge nicht ausreichten, wurden neben dem Hauptgerät zwei Erweiterungsmodule mit 8 digitalen Eingängen, 4 Relaisausgängen 3A und 4 Relaisausgängen 10A ausgewählt. </font><font style="vertical-align: inherit;">Die Entwicklung für dieses Relais erfolgt in der Funktionsdiagrammsprache (FBD).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wasserversorgung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Bauherr verkaufte die Wasserversorgung der Wohnung so, dass sich 3 Kaltwasser-Steigleitungen in der Wohnung befinden. </font><font style="vertical-align: inherit;">weil </font><font style="vertical-align: inherit;">Da heißes Wasser in einem Gaskessel aufbereitet wird, um das Wasser beispielsweise im Badezimmer vollständig abzustellen, müssen sowohl die Steigleitung im Badezimmer als auch die Steigleitung in der Küche, von der aus der Kessel angetrieben wird, blockiert werden. </font><font style="vertical-align: inherit;">Auf dieser Basis wurden zur Kontrolle der Wasserversorgung und als System zum Schutz vor Undichtigkeiten 3 Sätze Hydro-Locks (autarke Antriebe und Sensoren) gekauft, mit denen eine zentralisierte externe Steuerung in einem einzigen System kombiniert und ein Signal über den Betrieb von Lecksensoren empfangen werden kann. </font><font style="vertical-align: inherit;">Ein STP-Kabel wurde vom Apartment Panel an den Installationsort jedes Laufwerks angeschlossen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Montierter Kugelhahn mit Antrieb:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/a1/ul/oc/a1ulocy0gp7iy1wpjhdzi_d4fag.png" alt="Bild"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auswahl der Verwaltungssoftware</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
weil </font><font style="vertical-align: inherit;">Ich bin Benutzer verschiedener Samsung-Geräte. Als Softwareverwaltungsplattform habe ich mich entschieden, bei der SmartThings-Software zu bleiben, die die Integration über einen Cloud-Connector unterstützt. </font><font style="vertical-align: inherit;">Um ONI PLR mit SmartThings Cloud zu verbinden, müssen Sie einen OPC-Server und CloudConnector entwickeln. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Zukunft ist die Integration in ein GSM-Modem als Backup-Steuerkanal sowie zur Notfallbenachrichtigung von Notfallsituationen geplant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Ergebnis entstand das folgende Diagramm der Interaktion von Systemkomponenten:</font></font><br>
 <br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/me/am/eg/meameg3yhqclqqe6m3glbkjuvkg.png" alt="Bild"></div><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Implementierung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das größte Problem in dieser Phase war die Lieferung von Komponenten, wie </font><font style="vertical-align: inherit;">Der Beginn der Arbeit fiel mit dem Beginn der Zeit der Selbstisolation zusammen. </font><font style="vertical-align: inherit;">Und da die Zeit für die Reparatur der Wohnung sehr begrenzt war, musste die gesamte Füllung für den Schild von 5 Lieferanten gesammelt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle notwendigen Kabel wurden in der Wohnung verteilt, in den Schild gebracht und entsprechend gekennzeichnet. </font><font style="vertical-align: inherit;">Das Zwischenergebnis ist auf dem Foto unten zu sehen:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zi/23/en/zi23en4sgef8kzorqyyavsyfz38.png" alt="Bild"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Möglichkeit einer gewohnheitsmäßigen Lichtsteuerung direkt von den Räumen aus zu realisieren, wurden Standardschalter mit einem Schlüssel und zwei Schlüsseln mit einer ungesicherten Position verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Anschluss von Schaltern und Lasten an die Steuerung erfolgte nach folgendem Schema:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bi/mr/on/bimrontj12po6p3cvftv2qtt1la.png" alt="Bild"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schalter</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gg/zj/yj/ggzjyjcktctegzkyknlgorzhilc.png" alt="Bild"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Inbetriebnahme der Steuerung und der Debugging-Software wurden beim Ein- und Ausschalten der Relaisausgänge in den Erweiterungsmodulen merkwürdige Verzögerungen von 0,5 - 1 Sekunde festgestellt. </font><font style="vertical-align: inherit;">Das Problem stellte sich als sehr häufig heraus - unaufmerksames Studium von Handbüchern. </font><font style="vertical-align: inherit;">Vor dem Anschließen mussten die Adressen für die Erweiterungsmodule mit DIP-Schaltern eingestellt werden. Sobald dies geschehen war, arbeitete der Controller wie eine Uhr. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Derzeit ist der zusammengebaute Schild im Innenraum wie folgt:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/z0/ms/e3/z0mse3wc4hbhqlylva1-7zhxnii.png" alt="Bild"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Derzeit sind folgende Funktionen implementiert:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lichtsteuerung über Schalter für eine Reihe von Räumen - von mehreren Orten aus;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einfache Szenarien mit automatischer Aktivierung der Belüftung in Räumen mit hoher Luftfeuchtigkeit (bisher ohne geeignete Sensoren, nur auf der Grundlage typischer Verhaltensszenarien, basierend auf der Zeit, in der sich Personen in den Räumen befanden);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">allgemeiner Stromausfall (separater Schalter);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zwangsabschaltung der Wasserversorgung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abschaltung der Wasserversorgung bei nassen Sensoren.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In naher Zukunft die Implementierung der Interaktion mit dem SmartThings-Ökosystem, die Implementierung komplexerer Arbeitsszenarien. </font><font style="vertical-align: inherit;">Derzeit sind die Abschlussarbeiten abgeschlossen, die Umsetzung des Programmteils des Projekts ist nach dem Umzug geplant.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de506530/index.html">So wählen Sie eine USV</a></li>
<li><a href="../de506532/index.html">Durch Dornen zu den Sternen: Stellen Sie ein Gerät her, mit dem Sie einen Laserpointer auf ein beliebiges Himmelsobjekt richten können</a></li>
<li><a href="../de506538/index.html">Wie Wikipedia Ihre persönlichen Daten preisgeben kann und wie es sie tatsächlich verwendet</a></li>
<li><a href="../de506542/index.html">DIY Videoaufnahme in die Cloud</a></li>
<li><a href="../de506548/index.html">Praktischer Einsatz von Kotlin in Startups und Unternehmen</a></li>
<li><a href="../de506560/index.html">Was Sie am Wochenende hören sollten: 5 ausgewählte Ausgaben des russischsprachigen Podcasts zur Audiotechnologie</a></li>
<li><a href="../de506562/index.html">Warum ist es besser, TS in JS im Voraus zu kompilieren?</a></li>
<li><a href="../de506568/index.html">Projektevaluierungsstufen und -momente</a></li>
<li><a href="../de506570/index.html">Funktionelles FizzBuzz auf Scala</a></li>
<li><a href="../de506572/index.html">Erstellen eines Prototyp-SPA-Onlineshops auf htmlix.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>