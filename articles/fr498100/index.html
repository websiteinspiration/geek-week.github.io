<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>âŒšï¸ ğŸˆ² ğŸ‘©ğŸ½â€ğŸŒ¾ Conception de clusters Kubernetes: combien devraient-ils y en avoir? ğŸ§“ ğŸ—¾ ğŸ‘¨ğŸ¿â€ğŸ’»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remarque perev. : Ce matÃ©riel du projet Ã©ducatif learnk8s est la rÃ©ponse Ã  une question populaire lors de la conception d'une infrastructure basÃ©e sur...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Conception de clusters Kubernetes: combien devraient-ils y en avoir?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/498100/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque </font><font style="vertical-align: inherit;">perev. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Ce matÃ©riel du projet Ã©ducatif </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">learnk8s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est la rÃ©ponse Ã  une question populaire lors de la conception d'une infrastructure basÃ©e sur Kubernetes. </font><font style="vertical-align: inherit;">Nous espÃ©rons que des descriptions suffisamment dÃ©taillÃ©es des avantages et des inconvÃ©nients de chaque option vous aideront Ã  faire le meilleur choix pour votre projet. </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/uz/_v/sp/uz_vspvw6jl4msryd1hwpzmc7lg.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TL; DR</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : le mÃªme ensemble de charges de travail peut Ãªtre exÃ©cutÃ© sur plusieurs grands clusters (chaque cluster aura un grand nombre de charges de travail) ou sur de nombreuses petites (avec un petit nombre de charges dans chaque cluster). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le tableau ci-dessous rÃ©sume les avantages et les inconvÃ©nients de chaque approche:</font></font><a name="habracut"></a><br>
<br>
<img src="https://habrastorage.org/webt/ij/lh/5w/ijlh5wkmppehbxtfe3_01dfghgq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous utilisez Kubernetes comme plate-forme pour les applications d'exploitation, plusieurs questions fondamentales sur les subtilitÃ©s de la configuration de cluster se posent souvent:</font></font><br>
<br>
<ul>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combien de clusters utiliser?</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle taille font-ils?</font></font></i></li>
<li> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Que doit inclure chaque cluster?</font></font></i></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je vais essayer de rÃ©pondre Ã  toutes ces questions en analysant les avantages et les inconvÃ©nients de chaque approche.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã‰noncÃ© d'une question</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que crÃ©ateur de logiciels, vous Ãªtes susceptible de dÃ©velopper et d'exploiter de nombreuses applications en parallÃ¨le. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En outre, de nombreuses instances de ces applications sont susceptibles de s'exÃ©cuter dans divers environnements - par exemple, il peut s'agir de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prod</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le rÃ©sultat est une matrice complÃ¨te d'applications et d'environnements: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ez/na/dp/eznadpf721b-xqsegk1r06-xnzs.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Applications et environnements</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dans l'exemple ci-dessus, 3 applications et 3 environnements sont prÃ©sentÃ©s, ce qui donne finalement 9 options possibles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque instance d'application est une unitÃ© de dÃ©ploiement autonome qui peut Ãªtre exploitÃ©e indÃ©pendamment des autres. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notez qu'une </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instance d'application</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peut Ãªtre constituÃ©e de nombreux </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">composants.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tels que frontend, backend, base de donnÃ©es, etc. </font><font style="vertical-align: inherit;">Dans le cas d'une application de microservice, l'instance inclura tous les microservices. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En consÃ©quence, les utilisateurs de Kubernetes ont plusieurs questions:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dois-je placer toutes les instances d'application dans un cluster?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dois-je crÃ©er un cluster distinct pour chaque instance de l'application?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ou peut-Ãªtre devriez-vous utiliser une combinaison des approches ci-dessus?</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes ces options sont tout Ã  fait viables, car Kubernetes est un systÃ¨me flexible qui ne limite pas l'utilisateur en possibilitÃ©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici quelques-unes des faÃ§ons possibles:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> une grande grappe commune;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de nombreux petits groupes hautement spÃ©cialisÃ©s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un cluster pour chaque application;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un cluster pour chaque environnement.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme indiquÃ© ci-dessous, les deux premiÃ¨res approches se trouvent aux extrÃ©mitÃ©s opposÃ©es de l'Ã©chelle des options: de </font></font><br>
<br>
<img src="https://habrastorage.org/webt/t6/0i/io/t60iio_6be7vuavwfgx00u0dtoc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plusieurs grands clusters (Ã  gauche) Ã  de nombreux petits (Ã  droite) </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En gÃ©nÃ©ral, un cluster est considÃ©rÃ© comme Â«plus grandÂ» que l'autre s'il a une plus grande somme de nÅ“uds et de pods. </font><font style="vertical-align: inherit;">Par exemple, un cluster avec 10 nÅ“uds et 100 pods est plus grand qu'un cluster avec 1 nÅ“ud et 10 pods. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, commenÃ§ons!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Un grand cluster commun</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premiÃ¨re option consiste Ã  placer toutes les charges de travail dans un cluster: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4f/yf/0w/4fyf0w9twiww8juvy388ptrtjgy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un grand cluster</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dans le cadre de cette approche, le cluster est utilisÃ© comme une </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plateforme d'infrastructure</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> universelle </font><font style="vertical-align: inherit;">- vous dÃ©ployez simplement tout ce dont vous avez besoin dans un cluster Kubernetes existant. </font></font><br>
<br>
<i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Namespace'y</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Kubernetes permet de sÃ©parer logiquement une partie du cluster les unes des autres, de sorte que son espace de noms puisse Ãªtre utilisÃ© pour chaque instance de l'application. </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examinons les avantages et les inconvÃ©nients de cette approche.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Utilisation efficace des ressources</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas d'un cluster unique, une seule copie de toutes les ressources nÃ©cessaires pour dÃ©marrer et gÃ©rer le cluster Kubernetes est requise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, cela est vrai pour les nÅ“uds maÃ®tres. </font><font style="vertical-align: inherit;">Habituellement, il y a 3 nÅ“uds maÃ®tres pour chaque cluster Kubernetes, donc pour un seul cluster, leur nombre le restera (Ã  titre de comparaison, 10 clusters auront besoin de 30 nÅ“uds maÃ®tres). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La subtilitÃ© ci-dessus s'applique Ã  d'autres services fonctionnant Ã  l'Ã©chelle du cluster, tels que les Ã©quilibreurs de charge, les contrÃ´leurs Ingress, les systÃ¨mes d'authentification, de journalisation et de surveillance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un seul cluster, tous ces services peuvent Ãªtre utilisÃ©s immÃ©diatement pour toutes les charges de travail (vous n'avez pas besoin d'en crÃ©er des copies, comme dans le cas de plusieurs clusters).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Pas cher</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En consÃ©quence de ce qui prÃ©cÃ¨de, un plus petit nombre de clusters est gÃ©nÃ©ralement moins cher car il n'y a aucun coÃ»t pour les ressources excÃ©dentaires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela est particuliÃ¨rement vrai pour les nÅ“uds maÃ®tres, qui peuvent coÃ»ter cher, quelle que soit la mÃ©thode de placement (sur site ou dans le cloud). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certains services Kubernetes gÃ©rÃ©s, tels que le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moteur Google Kubernetes (GKE)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou le service </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Azure Kubernetes (AKS)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , fournissent gratuitement une couche de contrÃ´le. </font><font style="vertical-align: inherit;">Dans ce cas, la question des coÃ»ts est moins aiguÃ«. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe Ã©galement des services gÃ©rÃ©s qui facturent des frais fixes pour chaque cluster Kubernetes (par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amazon Elastic Kubernetes Service, EKS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Administration efficace</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La gestion d'un seul cluster est plus facile que plusieurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'administration peut comprendre les tÃ¢ches suivantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mettre Ã  jour la version de Kubernetes;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Configuration du pipeline CI / CD</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Installation du plugin CNI;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mettre en place un systÃ¨me d'authentification des utilisateurs;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rÃ©glage du contrÃ´leur d'accÃ¨s;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
et bien d'autres ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas d'un cluster, tout cela ne devra Ãªtre fait qu'une seule fois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour de nombreux clusters, les opÃ©rations devront Ãªtre rÃ©pÃ©tÃ©es plusieurs fois, ce qui nÃ©cessitera probablement une certaine automatisation des processus et des outils pour garantir un processus systÃ©matique et uniforme. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et maintenant quelques mots sur les inconvÃ©nients.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Point de dÃ©faillance unique</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cas de dÃ©faillance d'un </font><font style="vertical-align: inherit;">cluster </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unique</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">toutes les</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> charges de travail </font><font style="vertical-align: inherit;">cesseront de fonctionner immÃ©diatement </font><font style="vertical-align: inherit;">! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a des tonnes d'options en cas de problÃ¨me:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> la mise Ã  jour de Kubernetes entraÃ®ne des effets secondaires inattendus;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le composant Ã  l'Ã©chelle du cluster (par exemple, le plug-in CNI) ne fonctionne pas comme prÃ©vu;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'un des composants du cluster n'est pas configurÃ© correctement.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> une dÃ©faillance de l'infrastructure sous-jacente.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un tel incident peut endommager gravement toutes les charges de travail situÃ©es dans un cluster commun.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Manque d'isolation dure</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Travailler dans un cluster partagÃ© signifie que les applications partagent le matÃ©riel, les capacitÃ©s rÃ©seau et le systÃ¨me d'exploitation sur les nÅ“uds du cluster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un sens, deux conteneurs avec deux applications diffÃ©rentes s'exÃ©cutant sur le mÃªme hÃ´te sont similaires Ã  deux processus exÃ©cutÃ©s sur la mÃªme machine exÃ©cutant le mÃªme noyau de systÃ¨me d'exploitation. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les conteneurs Linux fournissent une certaine forme d'isolement, mais ils sont loin d'Ãªtre aussi solides que ceux fournis, disons, par des machines virtuelles. En substance, un processus dans un conteneur est le mÃªme processus exÃ©cutÃ© sur le systÃ¨me d'exploitation hÃ´te.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Cela peut Ãªtre un problÃ¨me de sÃ©curitÃ©: une telle organisation permet thÃ©oriquement Ã  des applications indÃ©pendantes d'interagir les unes avec les autres (intentionnellement ou accidentellement).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En outre, toutes les charges de travail du cluster Kubernetes partagent certains services Ã  l'Ã©chelle du cluster, tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cela permet aux applications de trouver les services d'autres applications du cluster. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tous les Ã©lÃ©ments ci-dessus peuvent avoir des significations diffÃ©rentes selon les exigences de sÃ©curitÃ© des applications.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kubernetes fournit divers outils pour Ã©viter les problÃ¨mes de sÃ©curitÃ©, tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PodSecurityPolicies</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NetworkPolicies</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cependant, pour que leur configuration correcte nÃ©cessite une certaine expÃ©rience en plus, ils ne sont pas en mesure de fermer absolument tous les trous de sÃ©curitÃ©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est important de toujours se rappeler que Kubernetes a Ã©tÃ© initialement conÃ§u pour le </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partage.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et non pour l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isolement et la sÃ©curitÃ©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Manque de multi-location serrÃ©</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Compte tenu de l'abondance des ressources partagÃ©es dans le cluster Kubernetes, il existe de nombreuses faÃ§ons dont diffÃ©rentes applications peuvent Â«se frapper les talonsÂ». </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, une application peut monopoliser une ressource partagÃ©e (comme un processeur ou une mÃ©moire) et priver d'autres applications s'exÃ©cutant sur le mÃªme noeud d'accÃ¨s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetes fournit divers mÃ©canismes pour contrÃ´ler un tel comportement, tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les demandes de ressources et les limites </font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(voir Ã©galement l'article Â« </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Limites du processeur et limitation agressive dans Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Â» - environ la </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">traduction</font></a><font style="vertical-align: inherit;"> )</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ResourceQuotas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LimitRanges</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cependant, comme dans le cas de la sÃ©curitÃ©, leur configuration est assez banale et ils ne sont pas en mesure d'empÃªcher absolument tous les effets secondaires imprÃ©vus.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Un grand nombre d'utilisateurs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas d'un cluster unique, de nombreuses personnes doivent en ouvrir l'accÃ¨s. </font><font style="vertical-align: inherit;">Et plus leur nombre est Ã©levÃ©, plus ils risquent de Â«casser quelque choseÂ». </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã€ l'intÃ©rieur du cluster, vous pouvez contrÃ´ler qui et quoi faire en utilisant le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contrÃ´le d'accÃ¨s basÃ© sur les rÃ´les (RBAC) </font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(voir l'article Â« </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisateurs et autorisation RBAC dans Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Â» - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">transfert</font></a><font style="vertical-align: inherit;"> approximatif)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Cependant, cela n'empÃªchera pas les utilisateurs de Â«casserÂ» quelque chose dans les limites de leur domaine de responsabilitÃ©.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Les clusters ne peuvent pas croÃ®tre indÃ©finiment</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le cluster utilisÃ© pour toutes les charges de travail sera probablement assez volumineux (en termes de nombre de nÅ“uds et de pods). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais ici un autre problÃ¨me se pose: les clusters dans Kubernetes ne peuvent pas se dÃ©velopper indÃ©finiment. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe une limite thÃ©orique Ã  la taille du cluster. Chez Kubernetes, c'est environ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 000 nÅ“uds, 150 000 pods et 300 000 conteneurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, dans la vraie vie, les problÃ¨mes peuvent commencer beaucoup plus tÃ´t - par exemple, Ã  seulement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500 nÅ“uds</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le fait est que les grands clusters exercent une charge Ã©levÃ©e sur la couche de contrÃ´le Kubernetes. En d'autres termes, afin de maintenir le cluster opÃ©rationnel et d'utiliser efficacement les ressources, un rÃ©glage minutieux est nÃ©cessaire.</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce problÃ¨me est explorÃ© dans un article connexe du blog d'origine intitulÃ© Â« </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecting Kubernetes clusters - choose a worker node size</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Â». </font></font></i><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais regardons l'approche inverse: de nombreux petits clusters.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. De nombreuses petites grappes spÃ©cialisÃ©es</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec cette approche, vous utilisez un cluster sÃ©parÃ© pour chaque Ã©lÃ©ment dÃ©ployable: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g7/yo/qg/g7yoqg0kgb_f7vlpitxwitds32q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De nombreux petits clusters</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour les besoins de cet article, un </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã©lÃ©ment dÃ©ployable</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fait rÃ©fÃ©rence Ã  une instance d'une application - par exemple, la version de dÃ©veloppement d'une application distincte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette stratÃ©gie utilise Kubernetes comme un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">runtime</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> spÃ©cialisÃ© </font><font style="vertical-align: inherit;">pour des instances d'application individuelles. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examinons les avantages et les inconvÃ©nients de cette approche.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ "Rayon de souffle" limitÃ©</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'un cluster tombe en panne, les consÃ©quences nÃ©gatives sont limitÃ©es uniquement aux charges de travail qui ont Ã©tÃ© dÃ©ployÃ©es dans ce cluster. </font><font style="vertical-align: inherit;">Toutes les autres charges de travail restent intactes.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Isolation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les charges de travail hÃ©bergÃ©es sur des clusters individuels ne partagent pas de ressources telles que le processeur, la mÃ©moire, le systÃ¨me d'exploitation, le rÃ©seau ou d'autres services. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En consÃ©quence, nous obtenons une isolation Ã©troite entre les applications non liÃ©es, ce qui peut nuire Ã  leur sÃ©curitÃ©.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Petit nombre d'utilisateurs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã‰tant donnÃ© que chaque cluster ne contient qu'un ensemble limitÃ© de charges de travail, le nombre d'utilisateurs qui y ont accÃ¨s est rÃ©duit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moins il y a de personnes ayant accÃ¨s au cluster, plus le risque de Â«ruptureÂ» est faible. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Regardons les inconvÃ©nients.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Utilisation inefficace des ressources</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme mentionnÃ© prÃ©cÃ©demment, chaque cluster Kubernetes nÃ©cessite un certain ensemble de ressources de contrÃ´le: nÅ“uds maÃ®tres, composants de la couche de contrÃ´le, solutions de surveillance et de journalisation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cas d'un grand nombre de petits clusters, il est nÃ©cessaire d'allouer une plus grande part des ressources Ã  la gestion.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- CoÃ»t Ã©levÃ©</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une utilisation inefficace des ressources entraÃ®ne automatiquement des coÃ»ts Ã©levÃ©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, la maintenance de 30 nÅ“uds maÃ®tres au lieu de trois avec la mÃªme puissance de calcul affectera nÃ©cessairement les coÃ»ts.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- DifficultÃ©s d'administration</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GÃ©rer plusieurs clusters Kubernetes est beaucoup plus difficile que d'en gÃ©rer un. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, vous devrez configurer l'authentification et l'autorisation pour chaque cluster. </font><font style="vertical-align: inherit;">La mise Ã  jour de la version de Kubernetes devra Ã©galement Ãªtre effectuÃ©e plusieurs fois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TrÃ¨s probablement, vous devrez appliquer l'automatisation pour augmenter l'efficacitÃ© de toutes ces tÃ¢ches. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ConsidÃ©rons maintenant des scÃ©narios moins extrÃªmes.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Un cluster par application</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le cadre de cette approche, vous crÃ©ez un cluster sÃ©parÃ© pour toutes les instances d'une application particuliÃ¨re: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ez/ad/in/ezadindhrerehwyqlgpgw3reukg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster par application</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Cette maniÃ¨re peut Ãªtre considÃ©rÃ©e comme une gÃ©nÃ©ralisation du principe du Â« </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cluster sÃ©parÃ© par Ã©quipe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Â», car gÃ©nÃ©ralement une Ã©quipe d'ingÃ©nieurs est engagÃ©e dans le dÃ©veloppement d'une ou plusieurs applications. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Examinons les avantages et les inconvÃ©nients de cette approche.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Le cluster peut Ãªtre personnalisÃ© pour l'application</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si l'application a des besoins particuliers, ils peuvent Ãªtre implÃ©mentÃ©s dans un cluster sans affecter les autres clusters. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces besoins peuvent inclure des travailleurs GPU, des plugins CNI spÃ©cifiques, un maillage de service ou un autre service. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque cluster peut Ãªtre adaptÃ© Ã  l'application qui y est exÃ©cutÃ©e afin qu'il ne contienne que ce qui est nÃ©cessaire.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- DiffÃ©rents environnements dans un cluster</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'inconvÃ©nient de cette approche est que les instances d'application provenant d'environnements diffÃ©rents coexistent dans le mÃªme cluster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, la version prod de l'application s'exÃ©cute dans le mÃªme cluster que la version dev. </font><font style="vertical-align: inherit;">Cela signifie Ã©galement que les dÃ©veloppeurs mÃ¨nent leurs activitÃ©s dans le mÃªme cluster dans lequel la version de production de l'application est exploitÃ©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si, en raison des actions des dÃ©veloppeurs ou des problÃ¨mes de la version de dÃ©veloppement dans le cluster, une dÃ©faillance se produit, alors la version de prod peut potentiellement souffrir - un Ã©norme inconvÃ©nient de cette approche. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et enfin, le dernier script de notre liste.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Un cluster pour chaque environnement</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce scÃ©nario prÃ©voit l'attribution d'un groupe distinct pour chaque environnement: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/m_/pk/t7/m_pkt7oe54m46rxlmhomubzl-pi.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un cluster pour l'environnement</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Par exemple, vous pouvez avoir </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prod</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les clusters </font><font style="vertical-align: inherit;">dans lesquels vous exÃ©cuterez tous les </font><font style="vertical-align: inherit;">cas d'application conÃ§us pour un environnement spÃ©cifique. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voici les avantages et les inconvÃ©nients de cette approche.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Isolement de l'environnement prod</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette approche, tous les environnements sont isolÃ©s les uns des autres. </font><font style="vertical-align: inherit;">Cependant, dans la pratique, cela est particuliÃ¨rement important pour l'environnement de production. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les versions de production de l'application sont dÃ©sormais indÃ©pendantes de ce qui se passe dans d'autres clusters et environnements. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, si un problÃ¨me survient soudainement dans le cluster de dÃ©veloppement, les versions prod des applications continueront de fonctionner comme si de rien n'Ã©tait.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Le cluster peut Ãªtre adaptÃ© Ã  l'environnement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque cluster peut Ãªtre adaptÃ© Ã  son environnement. </font><font style="vertical-align: inherit;">Par exemple, vous pouvez:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> installer des outils de dÃ©veloppement et de dÃ©bogage dans le cluster de dÃ©veloppement;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installer des cadres et des outils de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans le cluster de </font><i><font style="vertical-align: inherit;">test</font></i><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez des Ã©quipements et des canaux rÃ©seau plus puissants dans le cluster </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prod</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela vous permet d'augmenter l'efficacitÃ© du dÃ©veloppement et du fonctionnement des applications.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ Restreindre l'accÃ¨s au cluster de production</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La nÃ©cessitÃ© de travailler directement avec un cluster de prod se pose rarement, de sorte que vous pouvez limiter considÃ©rablement le cercle des personnes qui y ont accÃ¨s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez aller encore plus loin et gÃ©nÃ©ralement priver les utilisateurs de l'accÃ¨s Ã  ce cluster et effectuer tous les dÃ©ploiements Ã  l'aide de l'outil CI / CD automatisÃ©. </font><font style="vertical-align: inherit;">Une telle approche minimisera le risque d'erreur humaine exactement lÃ  oÃ¹ elle est la plus pertinente. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et maintenant quelques mots sur les inconvÃ©nients.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Manque d'isolement entre les applications</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le principal inconvÃ©nient de cette approche est le manque d'isolation matÃ©rielle et de ressources entre les applications. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les applications indÃ©pendantes partagent les ressources du cluster: le cÅ“ur du systÃ¨me, le processeur, la mÃ©moire et certains autres services. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme dÃ©jÃ  mentionnÃ©, cela peut Ãªtre potentiellement dangereux.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- IncapacitÃ© Ã  localiser les dÃ©pendances des applications</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si l'application a des exigences particuliÃ¨res, elles doivent Ãªtre satisfaites dans tous les clusters. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, si une application a besoin d'un GPU, chaque cluster doit contenir au moins un travailleur avec un GPU (mÃªme s'il n'est utilisÃ© que par cette application). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En consÃ©quence, nous courons le risque de coÃ»ts plus Ã©levÃ©s et d'une utilisation inefficace des ressources.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous disposez d'un ensemble spÃ©cifique d'applications, vous pouvez les placer dans plusieurs grands clusters ou dans de nombreux petits. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'article examine les avantages et les inconvÃ©nients de diverses approches, allant d'un cluster mondial Ã  plusieurs petits et hautement spÃ©cialisÃ©s:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> une grande grappe commune;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de nombreux petits groupes hautement spÃ©cialisÃ©s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un cluster pour chaque application;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un cluster pour chaque environnement.</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alors, quelle approche choisir? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme d'habitude, la rÃ©ponse dÃ©pend du cas d'utilisation: vous devez peser le pour et le contre des diffÃ©rentes approches et choisir l'option la plus optimale. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, le choix n'est pas limitÃ© aux exemples ci-dessus - vous pouvez utiliser n'importe quelle combinaison d'entre eux! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, vous pouvez organiser une paire de grappes par Ã©quipe: un groupe pour le </font><font style="vertical-align: inherit;">dÃ©veloppement (qui aura </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dev</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tester</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les environnements </font><font style="vertical-align: inherit;">) et un groupe de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">production</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (oÃ¹ l'environnement de production sera situÃ©). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur la base des informations contenues dans cet article, vous pouvez optimiser les avantages et les inconvÃ©nients en consÃ©quence pour un scÃ©nario spÃ©cifique. </font><font style="vertical-align: inherit;">Bonne chance</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lisez aussi dans notre blog:</font></font><br>
<br>
<ul>
<li> Â«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">      Kubernetes</a>Â»;</li>
<li> Â«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">  Kubernetes (  ) :   </a>Â»;</li>
<li> Â«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Service Mesh:     Software Engineer    </a>Â»;</li>
<li> Â«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">   Kubernetes: , , </a>Â».</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr498088/index.html">Comment fonctionnent les chercheurs Avito</a></li>
<li><a href="../fr498090/index.html">Les dunes de sable sont capables de "communiquer" entre elles</a></li>
<li><a href="../fr498092/index.html">Une mÃ©thode alternative pour classer le champ Â«genreÂ» d'un passeport russe Ã  l'aide d'un rÃ©seau neuronal</a></li>
<li><a href="../fr498094/index.html">Comment nous avons transfÃ©rÃ© toutes les communications internes de l'entreprise vers en ligne</a></li>
<li><a href="../fr498096/index.html">Comment une dÃ©mo Memories tient dans 256 octets</a></li>
<li><a href="../fr498104/index.html">Comment les sites sont dÃ©veloppÃ©s Ã  partir de 100 000 $</a></li>
<li><a href="../fr498110/index.html">Â«Que faire lorsque des changements spectaculaires dans les processus dÃ©motivent une Ã©quipe.Â» L'expÃ©rience de l'ingÃ©nieur backend devenu chef d'Ã©quipe</a></li>
<li><a href="../fr498114/index.html">Attaque d'un pixel. Ou comment tromper un rÃ©seau de neurones</a></li>
<li><a href="../fr498118/index.html">ConfÃ©rences sur la tÃ©lÃ©commande: transformation en ligne du groupe JUG Ru</a></li>
<li><a href="../fr498120/index.html">Optimisation du temps de construction - Partie 1</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>