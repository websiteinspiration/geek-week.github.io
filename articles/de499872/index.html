<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚴🏼 🤾🏿 👨🏾‍🎤 Modularität in Java 9 🌰 👨‍👩‍👦 🔀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Hauptinnovation in Java 9 war die Einführung der Modularität. Es wurde viel über diese Funktion gesprochen, der Veröffentlichungstermin wurde mehr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Modularität in Java 9</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499872/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Hauptinnovation in Java 9 war die Einführung der Modularität. </font><font style="vertical-align: inherit;">Es wurde viel über diese Funktion gesprochen, der Veröffentlichungstermin wurde mehrmals verschoben, um alles richtig zu beenden. </font><font style="vertical-align: inherit;">In diesem Beitrag werden wir darüber sprechen, was den Mechanismus von Modulen gibt und was nützliches Java 9 im Allgemeinen bringt. </font><font style="vertical-align: inherit;">Grundlage für die Stelle war der Bericht meines Kollegen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sergei Malkevich</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p><br>
<img src="https://habrastorage.org/webt/iw/pu/7t/iwpu7tdtfukrgul-dx7psz6r2ia.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um die Module in dieser Java-Version zu implementieren, wurde ein ganzes Projekt zugewiesen - Project Jigsaw - das mehrere JEP und JSR enthält. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yr/w1/gx/yrw1gxgxxkoogldzhbojsyfdddc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für Fans der offiziellen Dokumentation können Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mehr über jeden JEP lesen </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mehr zum Projekt Puzzle</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Projekt Jigsaw, das Modularität implementiert, wurde bereits 2005 entwickelt: Zuerst wurde JSR 277 veröffentlicht, und bereits 2008 begannen die direkten Arbeiten an dem Projekt. </font><font style="vertical-align: inherit;">Die Veröffentlichung erfolgte erst 2017. </font><font style="vertical-align: inherit;">Das heißt, um die Module in Java zu verschrauben, dauerte es fast 10 Jahre. </font><font style="vertical-align: inherit;">Dies unterstreicht in der Tat den vollen Umfang der Arbeit und die Änderungen, die während der Implementierung der Modularität vorgenommen wurden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Welche Ziele setzen sich die Entwickler:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erleichterung der Entwicklung großer Anwendungen und Bibliotheken;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verbesserung der Sicherheit von Java SE im Allgemeinen und von JDK im Besonderen;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die Anwendungsleistung steigern;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schaffung der Möglichkeit, die Größe der JRE für die Ausführung auf kleinen Geräten zu verringern, um nicht zu viel Speicher zu verbrauchen;</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JAR HELL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dazu später mehr).</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was nützliches Java 9 gebracht hat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vor Version 9 waren JDK und JRE monolithisch. </font><font style="vertical-align: inherit;">Ihre Größe wuchs mit jeder Veröffentlichung. </font><font style="vertical-align: inherit;">Java 8 belegte bereits Hunderte von Megabyte, und all dies mussten die Entwickler jedes Mal „mit sich führen“, um Java-Anwendungen ausführen zu können. </font><font style="vertical-align: inherit;">Allein </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rt.jar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wiegt etwa 60 Mb. </font><font style="vertical-align: inherit;">Nun, hier fügen wir auch einen langsamen Start und einen hohen Speicherverbrauch hinzu. </font><font style="vertical-align: inherit;">Java 9 kam zur Rettung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JDK 9</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Modultrennung wurde eingeführt, nämlich das JDK wurde in 73 Module unterteilt. </font><font style="vertical-align: inherit;">Und mit jeder neuen Version wächst die Anzahl dieser Module. </font><font style="vertical-align: inherit;">In Version 11 liegt diese Zahl nahe bei 100. Diese Trennung ermöglichte es Entwicklern, das JLINK-Dienstprogramm zu erstellen. </font><font style="vertical-align: inherit;">Mit JLINK können Sie benutzerdefinierte JRE-Sets erstellen, die nur die „erforderlichen“ Module enthalten, die Ihre Anwendung wirklich benötigt. </font><font style="vertical-align: inherit;">Somit können eine einfache Anwendung und einige </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">benutzerdefinierte JRE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit einem minimalen (oder kleinen) Satz von Modulen schließlich in 20 MB passen, was eine gute Nachricht ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Liste der Module finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Aufkommen von Java 9 hat sich die JDK-Struktur geändert: Jetzt ist sie identisch mit der JRE-Struktur. </font><font style="vertical-align: inherit;">Wenn das JDK früher den JRE-Ordner enthielt, in dem sich wieder bin befindet und Dateien dupliziert werden, sieht jetzt alles so aus:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/du/9w/mn/du9wmn9grm8tmssx5qldnicxrci.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Module</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tatsächlich. Was ist ein Modul? Ein Modul ist eine neue Ebene der Paket- und Ressourcenaggregation (ursprünglich </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">„Eine eindeutig benannte, wiederverwendbare Gruppe verwandter Pakete sowie Ressourcen und ein Moduldeskriptor“</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Module werden in JAR-Dateien mit Paketen und </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modulbeschreibung module-info.java geliefert</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Die Datei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">module-info.java</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> enthält eine Beschreibung des Moduls: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Name, Abhängigkeiten, exportierte Pakete, verbrauchte und bereitgestellte Dienste, Berechtigungen für den Reflection-Zugriff. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispiele für Moduldeskriptorbeschreibungen:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> java.sql {
    <span class="hljs-keyword">requires</span> transitive java.logging;
    <span class="hljs-keyword">requires</span> transitive java.transaction.xa;
    <span class="hljs-keyword">requires</span> transitive java.xml;<font></font>
<font></font>
    <span class="hljs-keyword">exports</span> java.sql;
    <span class="hljs-keyword">exports</span> javax.sql;<font></font>
<font></font>
    uses java.sql.Driver;<font></font>
}</code></pre><br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> jdk.javadoc {
   <span class="hljs-keyword">requires</span> java.xml;<font></font>
   <font></font>
   <span class="hljs-keyword">requires</span> transitive java.compiler;
   <span class="hljs-keyword">requires</span> transitive jdk.compiler;<font></font>
   <font></font>
   <span class="hljs-keyword">exports</span> jdk.javadoc.doclet;<font></font>
   <font></font>
   provides java.util.spi.ToolProvider with<font></font>
       jdk.javadoc.internal.tool.JavadocToolProvider;<font></font>
   <font></font>
   provides javax.tools.DocumentationTool with<font></font>
       jdk.javadoc.internal.api.JavadocTool;<font></font>
   <font></font>
   provides javax.tools.Tool with<font></font>
      jdk.javadoc.internal.api.JavadocTool;   <font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Schlüsselwortmodul haben wir den Namen des Pakets </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jdk.javadoc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der von einem </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anderen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket </font><i><font style="vertical-align: inherit;">java.xml</font></i><font style="vertical-align: inherit;"> und transitiv von anderen Paketen abhängt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns die einzelnen Schlüsselwörter genauer an:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erfordert</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gibt die Module an, von denen das aktuelle Modul abhängt;</font></font></li>
</ul><br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erfordert transitiv</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - eine transitive Abhängigkeit - bedeutet Folgendes: Wenn das Modul </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> transitiv vom Modul </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> abhängig </font><font style="vertical-align: inherit;">ist und wir ein drittes Modul </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mX haben</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das von </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> abhängt, hat </font><font style="vertical-align: inherit;">das Modul </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mX auch Zugriff auf m2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
</ul><br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">erfordert statisch</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ermöglicht es Ihnen, Abhängigkeiten zur Kompilierungszeit anzugeben;</font></font></li>
</ul><br>
<ul>
<li><i>exports</i>  ,     (  “”);</li>
</ul><br>
<ul>
<li><i>exports...to…</i>   : <i>export com.my.package.name to com.specific.package</i>;            - () ()  ;</li>
</ul><br>
<ul>
<li><i>uses</i> ,    :<br>
 <br>
<pre><code class="java hljs">uses java.sql.Driver;</code></pre><br>
   ,     ;</li>
</ul><br>
<ul>
<li><i>provides</i> ,    :<br>
 <br>
<pre><code class="java hljs">provides javax.tools.Tool with<font></font>
    jdk.javadoc.internal.api.JavadocTool;</code></pre><br>
    — <i>javax.tools.Tool</i>,  with — .</li>
</ul><br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein wenig über Services.</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nehmen wir an, wir haben mehrere Module verbunden, die einen abstrakten Service implementieren - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MyService</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Beim </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der Anwendung haben wir die Möglichkeit zu entscheiden, welche Service-Implementierung verwendet werden soll, indem wir die erforderlichen Service-Implementierungsmodule auf </font><i><font style="vertical-align: inherit;">--module-path ziehen</font></i><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="java hljs">Iterable&lt;MyService&gt; services = <font></font>
        ServiceLoader.load(MyService.class);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daher enthält der zurückgegebene Iterator eine Liste der Implementierungen der MyService-Schnittstelle. Tatsächlich enthält es alle Implementierungen, die in den Modulen auf </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--module-path enthalten sind</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum wurden grundsätzlich Dienstleistungen eingeführt? Sie werden benötigt, um zu zeigen, wie unser Code verwendet wird. Das heißt, es gibt eine semantische Rolle. Bei Modularität geht es auch um Kapselung und Sicherheit, da wir die Implementierung privat machen und die Möglichkeit eines nicht autorisierten Zugriffs durch Reflexion ausschließen können. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine der Optionen für die Verwendung von Diensten ist eine relativ einfache Implementierung von Plugins. Wir können die Plugin-Schnittstelle für unsere Anwendung implementieren und Module verbinden, um mit ihnen zu arbeiten. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kehren wir zur Syntax zur Beschreibung der Module zurück:</font></font></u><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bis 9ki hatten wir durch Nachdenken Zugang zu fast allem und konnten tun, was wir wollen und mit dem, was wir wollen. </font><font style="vertical-align: inherit;">Und die 9. Version ermöglicht es Ihnen, wie bereits erwähnt, sich vor „illegalem“ Zugriff auf Reflexionen zu schützen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir können das Modul für den Reflexionszugriff vollständig öffnen, indem wir es für </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erklären </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="java hljs">open <span class="hljs-keyword">module</span> my.<span class="hljs-keyword">module</span> {<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oder wir können beliebige Pakete für den Reflection-Zugriff angeben, indem wir " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">opens"</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> deklarieren </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">module</span> my.<span class="hljs-keyword">module</span> {<font></font>
    opens com.my.coolpackage;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist es auch möglich, </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">öffnet</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com.my.coolpackage </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , wodurch Reflexions Zugang zum </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.my.coolpackage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket </font><font style="vertical-align: inherit;">aus dem Paket , </font><font style="vertical-align: inherit;">dass wir nach der </font><font style="vertical-align: inherit;">anzeigt </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">an</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modultypen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Project Jigsaw klassifiziert Module wie folgt:</font></font><br>
<br>
<ul>
<li>System Modules — Java SE  JDK .    ,   <i>java --list-modules</i>.</li>
</ul><br>
<ul>
<li>Application Modules —   ,   ,     (  ),    .</li>
</ul><br>
<ul>
<li>Automatic Modules —     ,  Java   JAR-. ,        ,    - .      JAR-  <i>--module-path</i>  Java     ,    JAR-. </li>
</ul><br>
<ul>
<li>Unnamed Module —  ,     JAR-,    <i>--class-path</i>.           Java .</li>
</ul><br>
<h3>Class-path vs module-path</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Aufkommen der Module erschien ein neues Konzept - der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modulpfad</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Im Wesentlichen ist dies der gleiche </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Klassenpfad</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , jedoch für Module. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Start einer modularen Anwendung erfolgt wie folgt: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/vp/0z/hhvp0zd-py0ds1onano6l8kj0lw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im normalen Startmodus geben wir die Optionen und den vollständigen Pfad zur Hauptklasse an. Wenn wir mit Modulen arbeiten möchten, geben wir auch Optionen und den Parameter </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-m</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oder </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-module an</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der nur angibt, dass wir die Module ausführen werden. Das heißt, wir übersetzen unsere Anwendung automatisch in den modularen Modus. Als nächstes geben wir den Namen des Moduls und den Pfad zur Hauptklasse vom Modul an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir uns im normalen Modus befinden, sind wir es gewohnt, mit den </font><i><font style="vertical-align: inherit;">Optionen </font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-cp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--class-path zu arbeiten</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im modularen Modus schreiben wir einen neuen Parameter </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-p</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--module-path vor</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der die Pfade zu den in der Anwendung verwendeten Modulen angibt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oft stoße ich auf die Tatsache, dass Entwickler nicht auf Version 9+ wechseln, weil sie glauben, dass sie mit Modulen arbeiten müssen. </font><font style="vertical-align: inherit;">Tatsächlich können wir unsere Anwendungen im alten Modus ausführen, ohne einen Parameter zu schreiben oder Module zu verwenden, sondern nur andere neue Chips.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jar Hölle</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte auch diagonal auf das Jar Hell-Problem eingehen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cs/bv/rq/csbvrqh03ughwg3yvyelzm5_irk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist Jar Hell auf den Punkt gebracht? Zum Beispiel haben wir eine Art unserer Anwendung, die von </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der X- </font></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bibliothek</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font><b><font style="vertical-align: inherit;">der Y-Bibliothek</font></b><font style="vertical-align: inherit;"> abhängt </font><font style="vertical-align: inherit;">. Gleichzeitig hängen beide Bibliotheken von </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Z-Bibliothek ab</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , jedoch von unterschiedlichen Versionen: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hängt von </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 1 ab</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nun, wenn Version 2 abwärtskompatibel mit Version 1 ist, dann kein Problem. Wenn nicht, ist es offensichtlich, dass es zu einem Versionskonflikt kommt, dh, dieselbe Bibliothek kann nicht von demselben Klassenladeprogramm in den Speicher geladen werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie kommst du aus dieser Situation heraus? Es gibt Standardmethoden, die Entwickler seit dem ersten Java verwenden, z. B. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ausschließen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , jemand verwendet Plugins für Maven, die die Namen der Stammpakete der Bibliothek umbenennen. Oder Entwickler suchen nach verschiedenen Versionen </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der X-Bibliothek</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , um eine kompatible Option zu finden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum bin ich: Die ersten Jigsaw-Prototypen implizierten, dass das Modul eine Version hatte und das Laden mehrerer Versionen über verschiedene ClassLoader ermöglichte, aber später wurde es aufgegeben. Infolgedessen funktionierte die „Silberkugel“, auf die viele warteten, nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber sofort waren wir vor solchen Problemen ein wenig sicher. Java 9 Deaktiviert </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geteilte Pakete</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Pakete, die in mehrere Module unterteilt sind. Das heißt, wenn wir das Paket </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.my.coolpackage</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in einem Modul haben, können wir es nicht in einem anderen Modul innerhalb derselben Anwendung verwenden. Wenn Sie die Anwendung mit Modulen starten, die dieselben Pakete enthalten, stürzen wir einfach ab. Diese kleine Verbesserung eliminiert die Möglichkeit eines unvorhersehbaren Verhaltens beim Herunterladen von Split-Paketen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusätzlich zu den Modulen selbst gibt es auch einen Ebenenmechanismus oder </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puzzle-Ebenen</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der auch zur Bewältigung des Jar Hell-Problems beiträgt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Puzzle-Schicht kann als ein lokales modulares System definiert werden. </font><font style="vertical-align: inherit;">Und hier ist anzumerken, dass die oben genannten Split-Pakete nur im Rahmen einer Jigsaw-Schicht verboten sind. </font><font style="vertical-align: inherit;">Module mit denselben Paketen haben einen Platz, müssen aber zu verschiedenen Ebenen gehören. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es sieht folgendermaßen aus: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mw/cu/s6/mwcus6cggzhadfiihrbo1olk2nw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Anwendung gestartet wird, wird die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boot-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schicht erstellt </font><font style="vertical-align: inherit;">, die die von Bootstrap geladenen Plattformmodule, zusätzliche vom Plattformlader geladene Plattformmodule und unsere vom Anwendungslader geladenen Anwendungsmodule enthält. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir können jederzeit unsere eigenen Ebenen erstellen und dort Module verschiedener Versionen „platzieren“ und nicht fallen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt einen großartigen, detaillierten YouTube-Vortrag zum Thema: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jar Hell mit Jigsaw Layers entkommen</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Modul-Engine aus Java 9 eröffnet uns neue Möglichkeiten, während die Unterstützung für Bibliotheken heute recht gering ist. </font><font style="vertical-align: inherit;">Ja, die Leute laufen Spring, Spring Boot und so weiter. </font><font style="vertical-align: inherit;">Die meisten Bibliotheken haben jedoch nicht auf die volle Nutzung von Modulen umgestellt. </font><font style="vertical-align: inherit;">Offensichtlich wurden all diese Änderungen von der technischen Gemeinschaft eher skeptisch wahrgenommen. </font><font style="vertical-align: inherit;">Module bieten uns neue Möglichkeiten, aber die Frage der Nachfrage bleibt offen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und schließlich biete ich eine Auswahl von Materialien zu diesem Thema an: </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Zusammenfassung der JDK-Module von </font></a></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Project Jigsaw </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Paul Deitel - Grundlegendes zu Java 9-Modulen </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">baeldung.com - Einführung in Project Jigsaw </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Alex Buckley - Modulare Entwicklung mit JDK 9 </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Evgeny Kozlov - Module in Java</font></a></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de499850/index.html">So analysieren Sie Wettbewerber und erstellen in 40 Minuten eine digitale Strategie</a></li>
<li><a href="../de499852/index.html">Englischsprachige Dokumentation für Angular</a></li>
<li><a href="../de499854/index.html">Apache Bigtop und die Wahl der Hadoop-Distribution heute</a></li>
<li><a href="../de499858/index.html">Was am Wochenende zu tun ist: Ein Überblick über einige Brettspiele für diejenigen, die keine Lust mehr auf Bluescreens haben</a></li>
<li><a href="../de499870/index.html">Pylint: Ein detaillierter Test des Code-Analysators</a></li>
<li><a href="../de499874/index.html">Hustenerkennung bei Intel NUC</a></li>
<li><a href="../de499876/index.html">Top 5 klassische Bücher zur Verbesserung der Finanzkompetenz und zur Vorbereitung auf die ersten Schritte des Austauschs</a></li>
<li><a href="../de499878/index.html">Der Kampf um Millisekunden. So wählen Sie den Server mit dem geringsten Ping aus</a></li>
<li><a href="../de499882/index.html">Wie wir Designer auswählen und technische Interviews durchführen</a></li>
<li><a href="../de499884/index.html">11 Dinge, die ich über CustDev verstanden habe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>