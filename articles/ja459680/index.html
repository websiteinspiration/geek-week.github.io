<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™†ğŸ» ğŸ’ ğŸ§˜ğŸ½ Highload ++ Siberia 2019-8 Oracleã‚¿ã‚¹ã‚¯ã«ç¶šã â„¹ï¸ ğŸ’ƒğŸ» â˜ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã“ã‚“ã«ã¡ã¯ï¼
 
 6æœˆ24ã€œ25æ—¥ã€Highload ++ Siberia 2019ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãŒãƒãƒœã‚·ãƒ“ãƒ«ã‚¹ã‚¯ã§é–‹å‚¬ã•ã‚Œã¾ã—ãŸã€‚ã¾ãŸã€ã€ŒOracle Container Basesï¼ˆCDB / PDBï¼‰ã¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã®ãŸã‚ã®å®Ÿè·µçš„ãªä½¿ç”¨ã€ã¨ã„ã†ãƒ¬ãƒãƒ¼ãƒˆã«ã‚‚å‚åŠ ã—ã¾ã—ãŸã€‚ãƒ†ã‚­ã‚¹ãƒˆç‰ˆã‚’å°‘ã—å¾Œã§...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Highload ++ Siberia 2019-8 Oracleã‚¿ã‚¹ã‚¯ã«ç¶šã</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sportmaster_lab/blog/459680/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã‚“ã«ã¡ã¯ï¼</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6æœˆ24ã€œ25æ—¥ã€Highload ++ Siberia 2019ã‚«ãƒ³ãƒ•ã‚¡ãƒ¬ãƒ³ã‚¹ãŒãƒãƒœã‚·ãƒ“ãƒ«ã‚¹ã‚¯ã§é–‹å‚¬ã•ã‚Œã¾ã—ãŸã€‚ã¾ãŸ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ŒOracle Container Basesï¼ˆCDB / PDBï¼‰ã¨ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢é–‹ç™ºã®ãŸã‚ã®å®Ÿè·µçš„ãªä½¿ç”¨ã€</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã¨ã„ã†ãƒ¬ãƒãƒ¼ãƒˆã«</font></a><font style="vertical-align: inherit;">ã‚‚å‚åŠ ã—</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã¾ã—ãŸ</font></a><font style="vertical-align: inherit;">ã€‚ãƒ†ã‚­ã‚¹ãƒˆç‰ˆã‚’å°‘ã—å¾Œã§æŠ•ç¨¿ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‹ã£ã“ã„ã„ã€ã‚ã‚ŠãŒã¨ã†</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚ªãƒ¬ã‚°ãƒ–ãƒ‹ãƒ³</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> çµ„ç¹”ã ã‘ã§ãªãã€æ¥ãŸã™ã¹ã¦ã®äººã®ãŸã‚ã«ã€‚ </font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/-7/k4/u1/-7k4u1btcjxquu515qeoyxnxigu.jpeg" width="350"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®æŠ•ç¨¿ã§ã¯ã€ãƒ–ãƒ¼ã‚¹ã§ã®ã‚¿ã‚¹ã‚¯ã‚’å…±æœ‰ã—ã¦ã€Oracleã§ã®çŸ¥è­˜ã‚’ãƒ†ã‚¹ãƒˆã§ãã‚‹ã‚ˆã†ã«ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚«ãƒƒãƒˆã®ä¸‹-8ã¤ã®ã‚¿ã‚¹ã‚¯ã€å›ç­”ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¨èª¬æ˜ã€‚</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®çµæœã¨ã—ã¦è¡¨ç¤ºã•ã‚Œã‚‹ã‚·ãƒ¼ã‚±ãƒ³ã‚¹ã®æœ€å¤§å€¤ã¯ã„ãã¤ã§ã™ã‹ï¼Ÿ</font></font></h3><br>
<pre><code class="sql hljs"><span class="hljs-keyword">create</span> <span class="hljs-keyword">sequence</span> s <span class="hljs-keyword">start</span> <span class="hljs-keyword">with</span> <span class="hljs-number">1</span>;<font></font>
 <font></font>
<span class="hljs-keyword">select</span> s.currval, s.nextval, s.currval, s.nextval, s.currval
<span class="hljs-keyword">from</span> dual
<span class="hljs-keyword">connect</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">level</span> &lt;= <span class="hljs-number">5</span>;
</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">25</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã„ã„ãˆã€é–“é•ã„ãŒã‚ã‚Šã¾ã™</font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›ç­”</font></font></b><div class="spoiler_text">  Oracle (  8.1.6):<br>
Within a single SQL statement, Oracle will increment the sequence only once per row. If a statement contains more than one reference to NEXTVAL for a sequence, Oracle increments the sequence once and returns the same value for all occurrences of NEXTVAL. If a statement contains references to both CURRVAL and NEXTVAL, Oracle increments the sequence and returns the same value for both CURRVAL and NEXTVAL regardless of their order within the statement.<br>
<br>
 , <b>     ,   5</b>.<br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®çµæœã€ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯ä½•è¡Œã‚ã‚Šã¾ã™ã‹ï¼Ÿ</font></font></h3><br>
<pre><code class="sql hljs"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t(i <span class="hljs-built_in">integer</span> <span class="hljs-keyword">check</span> (i &lt; <span class="hljs-number">5</span>));<font></font>
 <font></font>
<span class="hljs-keyword">create</span> <span class="hljs-keyword">procedure</span> p(p_from <span class="hljs-built_in">integer</span>, p_to <span class="hljs-built_in">integer</span>) <span class="hljs-keyword">as</span>
<span class="hljs-keyword">begin</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> p_from .. p_to <span class="hljs-keyword">loop</span>
        <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (i);
    <span class="hljs-keyword">end</span> <span class="hljs-keyword">loop</span>;
<span class="hljs-keyword">end</span>;<font></font>
/<font></font>
 <font></font>
exec p(1, 3);<font></font>
exec p(4, 6);<font></font>
exec p(7, 9);</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼“</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9</font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›ç­”</font></font></b><div class="spoiler_text">  Oracle (  11.2):<br>
<br>
Before executing any SQL statement, Oracle marks an implicit savepoint (not available to you). Then, if the statement fails, Oracle rolls it back automatically and returns the applicable error code to SQLCODE in the SQLCA. For example, if an INSERT statement causes an error by trying to insert a duplicate value in a unique index, the statement is rolled back.<br>
<br>
         single statement.  ,     ,   ;          ,   ;     , <b>     </b>.<br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã®çµæœã€ãƒ†ãƒ¼ãƒ–ãƒ«ã«ã¯ä½•è¡Œã‚ã‚Šã¾ã™ã‹ï¼Ÿ</font></font></h3><br>
<pre><code class="sql hljs"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t(i <span class="hljs-built_in">integer</span>, <span class="hljs-keyword">constraint</span> i_ch <span class="hljs-keyword">check</span> (i &lt; <span class="hljs-number">3</span>));<font></font>
 <font></font>
<span class="hljs-keyword">begin</span>
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-number">1</span>);
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-number">2</span>);
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-number">3</span>);
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-number">4</span>);
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-literal">null</span>);
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-number">5</span>);<font></font>
exception<font></font>
    when others then<font></font>
        dbms_output.put_line('Oops!');<font></font>
<span class="hljs-keyword">end</span>;<font></font>
/</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼“</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›ç­”</font></font></b><div class="spoiler_text">  Oracle (  11.2):<br>
<br>
A check constraint lets you specify a condition that each row in the table must satisfy. To satisfy the constraint, each row in the table must make the condition either TRUE or unknown (due to a null). When Oracle evaluates a check constraint condition for a particular row, any column names in the condition refer to the column values in that row.<br>
<br>
 ,  null  ,            3.       ,     <b>    </b>   1, null, 2   null.<br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã©ã®å€¤ã®ãƒšã‚¢ãŒãƒ–ãƒ­ãƒƒã‚¯å†…ã®åŒã˜é‡ã®ã‚¹ãƒšãƒ¼ã‚¹ã‚’å æœ‰ã—ã¾ã™ã‹ï¼Ÿ</font></font></h3><br>
<pre><code class="sql hljs"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t (<font></font>
    a <span class="hljs-built_in">char</span>(<span class="hljs-number">1</span> <span class="hljs-built_in">char</span>),<font></font>
    b <span class="hljs-built_in">char</span>(<span class="hljs-number">10</span> <span class="hljs-built_in">char</span>),<font></font>
    c <span class="hljs-built_in">char</span>(<span class="hljs-number">100</span> <span class="hljs-built_in">char</span>),<font></font>
    i <span class="hljs-built_in">number</span>(<span class="hljs-number">4</span>),<font></font>
    j <span class="hljs-built_in">number</span>(<span class="hljs-number">14</span>),<font></font>
    k <span class="hljs-built_in">number</span>(<span class="hljs-number">24</span>),<font></font>
    x <span class="hljs-built_in">varchar2</span>(<span class="hljs-number">1</span> <span class="hljs-built_in">char</span>),<font></font>
    y <span class="hljs-built_in">varchar2</span>(<span class="hljs-number">10</span> <span class="hljs-built_in">char</span>),<font></font>
    z <span class="hljs-built_in">varchar2</span>(<span class="hljs-number">100</span> <span class="hljs-built_in">char</span>));<font></font>
 <font></font>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t (a, b, i, j, x, y)
    <span class="hljs-keyword">values</span> (<span class="hljs-string">'Y'</span>, <span class="hljs-string">''</span>, <span class="hljs-number">10</span>, <span class="hljs-number">10</span>, <span class="hljs-string">''</span>, <span class="hljs-string">''</span>);
</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aã¨X</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bã¨Y</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CãŠã‚ˆã³K</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CãŠã‚ˆã³Z</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kã¨Z</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§ã¨J</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jã¨X</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒªã‚¹ãƒˆã•ã‚Œã¦ã„ã‚‹ã™ã¹ã¦</font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›ç­”</font></font></b><div class="spoiler_text">    (12.1.0.2)       Oracle.<br>
<br>
<b>CHAR Data Type</b><br>
The CHAR data type specifies a fixed-length character string in the database character set. You specify the database character set when you create your database. Oracle ensures that all values stored in a CHAR column have the length specified by size in the selected length semantics. If you insert a value that is shorter than the column length, then Oracle blank-pads the value to column length.<br>
<br>
<b>VARCHAR2 Data Type</b><br>
The VARCHAR2 data type specifies a variable-length character string in the database character set. You specify the database character set when you create your database. Oracle stores a character value in a VARCHAR2 column exactly as you specify it, without any blank-padding, provided the value does not exceed the length of the column.<br>
<br>
<b>NUMBER Data Type</b><br>
The NUMBER data type stores zero as well as positive and negative fixed numbers with absolute values from 1.0 x 10-130 to but not including 1.0 x 10126. If you specify an arithmetic expression whose value has an absolute value greater than or equal to 1.0 x 10126, then Oracle returns an error. Each NUMBER value requires from 1 to 22 bytes. Taking this into account, the column size in bytes for a particular numeric data value NUMBER(p), where p is the precision of a given value, can be calculated using the following formula: <i>ROUND((length(p)+s)/2))+1</i> where s equals zero if the number is positive, and s equals 1 if the number is negative.<br>
<br>
 ,       Nullâ€“.<br>
<br>
A null is the absence of a value in a column. Nulls indicate missing, unknown, or inapplicable data. Nulls are stored in the database if they fall between columns with data values. In these cases, they require 1 byte to store the length of the column (zero). Trailing nulls in a row require no storage because a new row header signals that the remaining columns in the previous row are null. For example, if the last three columns of a table are null, then no data is stored for these columns.<br>
<br>
   ,  . ,      AL32UTF8.        2 .<br>
<br>
1) A  X,   a 'Y'  1 ,   x â€˜â€™ â€“ 2 <br>
2) B  Y, â€˜â€™  b     10    14 , â€˜â€™  d â€“  8 .<br>
3) C  K.     NULL,     ,    1 .<br>
4) C  Z.     NULL,   Z â€“   ,     (0 ).    1 .<br>
5) K  Z.   .    K  1 ,  Z â€“ 0.<br>
6) I  J.  ,     2 .       : round( (1 + 0)/2) +1 = 1 + 1 = 2.<br>
7) J  X.    J  2 ,    X  2 .<br>
<br>
<b>,  :   K, I  J, J  X.</b><br>
</div></div><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T_Iã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ã‚¯ãƒ©ã‚¹ã‚¿åŒ–ä¿‚æ•°ã¯ãŠãŠã‚ˆãã©ã®ãã‚‰ã„ã§ã™ã‹ï¼Ÿ</font></font></h3><br>
<pre><code class="sql hljs"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t (i <span class="hljs-built_in">integer</span>);<font></font>
 <font></font>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">select</span> <span class="hljs-keyword">rownum</span> <span class="hljs-keyword">from</span> dual <span class="hljs-keyword">connect</span> <span class="hljs-keyword">by</span> <span class="hljs-keyword">level</span> &lt;= <span class="hljs-number">10000</span>;<font></font>
 <font></font>
<span class="hljs-keyword">create</span> <span class="hljs-keyword">index</span> t_i <span class="hljs-keyword">on</span> t(i);
</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°åã«ã¤ã„ã¦</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç´„æ•°ç™¾</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°åƒã®</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°ä¸‡å°ã®</font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›ç­”</font></font></b><div class="spoiler_text">  Oracle (  12.1):<br>
<br>
For a B-tree index, the index clustering factor measures the physical grouping of rows in relation to an index value.<br>
<br>
The index clustering factor helps the optimizer decide whether an index scan or full table scan is more efficient for certain queries). A low clustering factor indicates an efficient index scan.<br>
<br>
A clustering factor that is close to the number of blocks in a table indicates that the rows are physically ordered in the table blocks by the index key. If the database performs a full table scan, then the database tends to retrieve the rows as they are stored on disk sorted by the index key. A clustering factor that is close to the number of rows indicates that the rows are scattered randomly across the database blocks in relation to the index key. If the database performs a full table scan, then the database would not retrieve rows in any sorted order by this index key.<br>
<br>
     ,  clustering factor          .      8   ,         number ,   ,    clustering factor  <b> </b>.<br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nã®ã©ã®å€¤ã§æ¬¡ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆãŒæ¨™æº–è¨­å®šã§é€šå¸¸ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§æ­£å¸¸ã«å®Ÿè¡Œã•ã‚Œã¾ã™ã‹ï¼Ÿ</font></font></h3><br>
<pre><code class="sql hljs"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t (<font></font>
    a <span class="hljs-built_in">varchar2</span>(N <span class="hljs-built_in">char</span>),<font></font>
    b <span class="hljs-built_in">varchar2</span>(N <span class="hljs-built_in">char</span>),<font></font>
    c <span class="hljs-built_in">varchar2</span>(N <span class="hljs-built_in">char</span>),<font></font>
    d <span class="hljs-built_in">varchar2</span>(N <span class="hljs-built_in">char</span>));<font></font>
 <font></font>
<span class="hljs-keyword">create</span> <span class="hljs-keyword">index</span> t_i <span class="hljs-keyword">on</span> t (a, b, c, d);
</code></pre><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">200</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">400</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">800</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1600</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3200</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6400</font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›ç­”</font></font></b><div class="spoiler_text">  Oracle (  11.2):<br>
<br>
Logical Database Limits<br>
<br>
<div class="scrollable-table"><table>
<thead>
<tr>
<td><strong>Item</strong></td>
<td><strong>Type of Limit</strong></td>
<td><strong>Limit Value</strong></td>
</tr>
</thead>
<tbody>
<tr>
<td>Indexes</td>
<td>Total size of indexed column</td>
<td>75% of the database block size minus some overhead</td>
</tr>
</tbody>
</table></div><br>
 ,        6.      .   AL32UTF8      4 ,  ,  6       1500 .  Oracle     N = 400 (       1600  * 4  +  rowid),     <b> N = 200 ( )</b>     .<br>
</div></div><br>
<h3> INSERT   APPEND      direct-.  ,      ,    ?</h3><br>
<ul>
<li>    direct-,    </li>
<li>    direct-,     </li>
<li>    conventional-,    </li>
<li>    conventional-,     </li>
<li>   ,   </li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text"> ,     .          :<br>
<br>
<ol>
<li>  direct      ,  SQL-,     .  ,     ,   ,     ,        .</li>
<li>    ,           ( )    ,       .              production.</li>
<li>   ,  ,   .      ,  APPEND â€“ ,       ,      ,    â€“     .</li>
</ol><br>
 ,   â€“ <b>     (SQL) ,  .</b><br>
<br>
  Oracle (  8.04):<br>
<br>
Violations of the restrictions will cause the statement to execute serially, using the conventional insert path, without warnings or error messages. An exception is the restriction on statements accessing the same table more than once in a transaction, which can cause error messages.<br>
For example, if triggers or referential integrity are present on the table, then the APPEND hint will be ignored when you try to use direct-load INSERT (serial or parallel), as well as the PARALLEL hint or clause, if any.</div></div><br>
<h3>     ?</h3><br>
<pre><code class="sql hljs"><span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> t(i <span class="hljs-built_in">integer</span> <span class="hljs-keyword">not</span> <span class="hljs-literal">null</span> primary <span class="hljs-keyword">key</span>, j <span class="hljs-built_in">integer</span> <span class="hljs-keyword">references</span> t);<font></font>
 <font></font>
<span class="hljs-keyword">create</span> <span class="hljs-keyword">trigger</span> t_a_i <span class="hljs-keyword">after</span> <span class="hljs-keyword">insert</span> <span class="hljs-keyword">on</span> t <span class="hljs-keyword">for</span> <span class="hljs-keyword">each</span> <span class="hljs-keyword">row</span>
<span class="hljs-keyword">declare</span>
    <span class="hljs-keyword">pragma</span> autonomous_transaction;
<span class="hljs-keyword">begin</span>
    <span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (:new.i + <span class="hljs-number">1</span>, :new.i);
    <span class="hljs-keyword">commit</span>;
<span class="hljs-keyword">end</span>;<font></font>
/<font></font>
 <font></font>
<span class="hljs-keyword">insert</span> <span class="hljs-keyword">into</span> t <span class="hljs-keyword">values</span> (<span class="hljs-number">1</span>, <span class="hljs-literal">null</span>);
</code></pre><br>
<ul>
<li> </li>
<li> -  </li>
<li>,     </li>
<li>,      </li>
<li>,     </li>
<li>,   </li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"></b><div class="spoiler_text">             .      ,    , , .<br>
<br>
            ,        ,          ,  statement    -    . ,     .            commit.  ,    ,     ,         .     (    ,  ,    )       ,     . <b> deadlock    â€“     ,   </b>.<br>
</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja459662/index.html">ï»¿PVS-Studioã¯å¿…è¦ã§ã—ãŸãŒã€robots.txtã§ãƒã‚°ã‚’è¦‹ã¤ã‘ã‚‹ã“ã¨ãŒã§ãã¾ã›ã‚“ã§ã—ãŸ</a></li>
<li><a href="../ja459668/index.html">å†™çœŸã‹ã‚‰ãƒ†ã‚­ã‚¹ãƒˆã‚’èªè­˜ã™ã‚‹æ–¹æ³•ï¼šVisionãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®æ–°æ©Ÿèƒ½</a></li>
<li><a href="../ja459670/index.html">å¾Œè—¤ã‚¢ãƒ ã‚¹ãƒ†ãƒ«ãƒ€ãƒ </a></li>
<li><a href="../ja459672/index.html">Pythonã®ä¸‹ç·š</a></li>
<li><a href="../ja459674/index.html">è„…å¨ã‚¤ãƒ³ãƒ†ãƒªã‚¸ã‚§ãƒ³ã‚¹ã‚¨ãƒ”ãƒƒã‚¯ã‚µã‚¬</a></li>
<li><a href="../ja459682/index.html">ã‚¹ãƒˆãƒ¬ãƒ¼ã‚¸ã®ãƒ‡ãƒ¼ã‚¿å“è³ª</a></li>
<li><a href="../ja459684/index.html">Androidå‘ã‘ãƒ¢ã‚¹ã‚¯ãƒ¯ãƒ¡ãƒˆãƒ­ã¨å…¨ä¸–ç•Œã®åœ°å›³</a></li>
<li><a href="../ja459688/index.html">ä¸­å›½ã®ã‚¢ãƒ¼ãƒãƒ‹ã‚ºãƒ ï¼šæµè¡Œã«æ•æ„Ÿã§ãªã„ã€ç§‘å­¦ã¨ITãŒå¤šã„</a></li>
<li><a href="../ja459692/index.html">ç¢ºç«‹ã•ã‚ŒãŸåŒ–å­¦çš„åŸç†ã«åã™ã‚‹ææ–™å¤‰æ›´ã‚’ã©ã®ã‚ˆã†ã«ç™ºè¦‹ã—ãŸã‹</a></li>
<li><a href="../ja459694/index.html">ãƒŸãƒ¥ãƒ¼ã‚¸ã‚¢ãƒ ãƒ‡ãƒ¼ã‚¿ã‚¢ãƒ¼ãƒˆã€‚Radio 86RKã‚’é–‹æ¢±ã—ã¦èµ·å‹•ã™ã‚‹</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>