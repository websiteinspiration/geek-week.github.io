<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚎 👩🏾‍💻 🚦 Entwicklung einer Software für den dezentralen Rollerverleih. Wer hat gesagt, dass es einfach sein würde? 🧜 🏯 🔑</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel werde ich darüber sprechen, wie wir versucht haben, eine dezentrale Rollervermietung auf intelligenten Verträgen aufzubauen, und war...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Entwicklung einer Software für den dezentralen Rollerverleih. Wer hat gesagt, dass es einfach sein würde?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/tsystems/blog/490100/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In diesem Artikel werde ich darüber sprechen, wie wir versucht haben, eine dezentrale Rollervermietung auf intelligenten Verträgen aufzubauen, und warum wir immer noch einen zentralen Service brauchten.</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ry/kh/z5/rykhz5ioko9sidydvizts5ytasu.jpeg"><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie alles begann</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im November 2018 nahmen wir an einem Hackathon teil, der dem Internet der Dinge und der Blockchain gewidmet war. </font><font style="vertical-align: inherit;">Unser Team entschied sich für das Teilen von Rollern als Idee, da wir einen Roller vom Sponsor dieses Hackathons hatten. </font><font style="vertical-align: inherit;">Der Prototyp sah aus wie eine mobile Anwendung, mit der Sie einen Roller über NFC fahren können. </font><font style="vertical-align: inherit;">Aus Marketingsicht wurde die Idee durch eine Geschichte über eine „glänzende Zukunft“ mit einem offenen Ökosystem untermauert, in dem jeder Mieter oder Vermieter werden kann, alles basierend auf intelligenten Verträgen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unseren Stakeholdern hat diese Idee sehr gut gefallen und sie haben beschlossen, daraus einen Prototyp für Demonstrationen auf Ausstellungen zu machen. </font><font style="vertical-align: inherit;">Nach mehreren erfolgreichen Shows auf dem Mobile World Congress und Bosch Connected World im Jahr 2019 wurde beschlossen, den Rollerverleih an realen Nutzern, Mitarbeitern der Deutschen Telekom, zu testen. </font><font style="vertical-align: inherit;">Also haben wir begonnen, ein vollwertiges MVP zu entwickeln.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Krücken-Blockchain</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich denke, es lohnt sich nicht zu erklären, was der Unterschied zwischen einem Projekt für die Bühne und dem Projekt ist, das echte Menschen verwenden werden. </font><font style="vertical-align: inherit;">Sechs Monate lang mussten wir den rohen Prototyp in etwas für den Piloten geeignetes verwandeln. </font><font style="vertical-align: inherit;">Und dann wurde uns klar, was „Schmerz“ bedeutet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um unser System dezentral und offen zu gestalten, haben wir uns für intelligente Verträge von Ethereum entschieden. </font><font style="vertical-align: inherit;">Die Wahl fiel auf diese Plattform für dezentrale Onlinedienste aufgrund ihrer Beliebtheit und der Fähigkeit, eine serverlose Anwendung zu erstellen. </font><font style="vertical-align: inherit;">Wir planten, unser Projekt wie folgt umzusetzen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/b6/yx/wl/b6yxwlzn-ajira5tnsiepupfwgk.png" width="300"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider ist ein intelligenter Vertrag ein Code, der zum Zeitpunkt einer Transaktion von einer virtuellen Maschine ausgeführt wird und einen vollwertigen Server nicht ersetzen kann. Ein intelligenter Vertrag kann beispielsweise keine ausstehenden oder geplanten Aktivitäten ausführen. In unserem Projekt konnten wir den Minutenmietservice nicht implementieren, wie dies bei den meisten modernen Carsharing-Systemen der Fall ist. Daher haben wir nach Abschluss des Vorgangs die Kryptowährung vom Benutzer abgezogen, ohne die Gewissheit zu haben, dass er über genügend Geld verfügt. Dieser Ansatz ist nur für den internen Piloten akzeptabel und trägt natürlich zu den Problemen bei der Planung eines vollwertigen Produktionsprojekts bei.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu all dem oben Genannten wird die Feuchtigkeit der Plattform selbst hinzugefügt. Das Schreiben eines intelligenten Vertrags mit einer anderen Logik als ERC-20-Token führt beispielsweise zu einem Problem bei der Fehlerbehandlung. Normalerweise erhalten wir bei einer falschen Eingabe oder einer falschen Bedienung unserer Methoden einen Fehlercode als Antwort. Im Fall von Ethereum können wir nur die Menge an Gas erhalten, die zur Ausführung dieser Funktion aufgewendet wurde. Gas ist die Währung, die Sie für Transaktionen und Berechnungen bezahlen müssen: Je mehr Transaktionen in Ihrem Code enthalten sind, desto mehr zahlen Sie. Um zu verstehen, warum der Code nicht funktioniert, testen Sie ihn zunächst, simulieren alle möglichen Fehler und codieren das verbrauchte Gas als Fehlercode. Wenn Sie jedoch Ihren Code ändern, wird diese Fehlerbehandlung unterbrochen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Darüber hinaus ist es fast unmöglich, eine mobile Anwendung zu erstellen, die ehrlich mit der Blockchain funktioniert, ohne einen Schlüssel zu verwenden, der irgendwo in der Cloud gespeichert ist. Obwohl es ehrliche Geldbörsen gibt, bieten sie keine Schnittstellen zum Signieren externer Transaktionen. Dies bedeutet, dass Sie die native Anwendung nicht sehen können, wenn keine Krypto-Brieftasche integriert ist, der Benutzer wenig vertrauen (ich würde nicht vertrauen). Infolgedessen mussten wir hier auch eine Ecke schneiden. Intelligente Verträge wurden an das private Netzwerk von Ethereum geliefert, und die Brieftasche war trübe. Trotzdem verspürten unsere Benutzer den „Charme“ dezentraler Dienste in Form eines langen Wartens auf Transaktionen mehrmals pro Mietsitzung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All dies führt uns zu dieser Architektur. Wir sind uns einig, dass sie sich stark von dem unterscheidet, was wir geplant haben.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/eh/e0/eg/ehe0egtt1jpdk8siidr7ykabelm.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ass im Ärmel: Selbstsouveräne Identität </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können kein vollständig dezentrales System ohne dezentrale Identifikation aufbauen. </font><font style="vertical-align: inherit;">Self-Sovereign Identity (SSI) ist für diesen Teil verantwortlich. Das Wesentliche ist, dass Sie einen zentralen Identitätsanbieter (IDP) ausschalten und alle Daten und die Verantwortung für diese an die Personen verteilen. </font><font style="vertical-align: inherit;">Jetzt entscheidet der Benutzer, welche Daten er benötigt und mit wem er sie teilen wird. </font><font style="vertical-align: inherit;">Alle diese Informationen befinden sich auf dem Gerät des Benutzers. </font><font style="vertical-align: inherit;">Für die gemeinsame Nutzung benötigen wir jedoch ein dezentrales kryptografisches Beweissicherungssystem. </font><font style="vertical-align: inherit;">Alle modernen Implementierungen des SSI-Konzepts verwenden Blockchain als Speicher.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Was hat das Ass im Ärmel?" - du fragst. Wir haben den Dienst für einen internen Test unserer eigenen Mitarbeiter in Berlin und Bonn gestartet und waren angesichts der deutschen Gewerkschaften mit Schwierigkeiten konfrontiert. In Deutschland ist es Unternehmen untersagt, Arbeitnehmerbewegungen zu überwachen, und die Gewerkschaften kontrollieren dies. Diese Einschränkungen machen der zentralen Speicherung von Benutzeridentitätsdaten ein Ende, da wir in diesem Fall den Standort der Mitarbeiter gekannt hätten. Gleichzeitig konnten wir sie wegen der Möglichkeit, Motorroller zu entführen, nicht überprüfen. Dank Self-Sovereign Identity nutzten unsere Benutzer das System jedoch anonym, und der Roller selbst überprüfte die Verfügbarkeit eines Führerscheins, bevor er mit der Anmietung begann. Infolgedessen haben wir anonymisierte Benutzerkennzahlen beibehalten, wir hatten keine Dokumente oder persönlichen Daten: Alle wurden auf den Geräten der Fahrer selbst gespeichert.Dank SSI war die Lösung des Problems in unserem Projekt bereits vor dem Erscheinen fertig.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Gerät warf Probleme</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben Self-Sovereign Identity nicht selbst implementiert, da dies Fachwissen in Kryptographie und viel Zeit erfordert. </font><font style="vertical-align: inherit;">Stattdessen haben wir das Produkt unserer Partner Jolocom genutzt und deren mobile Geldbörse und Services in unsere Plattform integriert. </font><font style="vertical-align: inherit;">Leider hat dieses Produkt einen wesentlichen Nachteil: Die Hauptentwicklungssprache ist Node.js. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein solcher technologischer Stapel schränkt uns bei der Auswahl des in einen Roller eingebauten Eisens sehr ein. </font><font style="vertical-align: inherit;">Glücklicherweise fiel unsere Wahl zu Beginn des Projekts auf den Raspberry Pi Zero, und wir nutzten den vollwertigen Mikrocomputer. </font><font style="vertical-align: inherit;">Dadurch konnten wir die sperrigen Node.js auf einem Roller ausführen. </font><font style="vertical-align: inherit;">Darüber hinaus erhielten wir Überwachung und Fernzugriff über VPN mit vorgefertigten Tools.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abschließend</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotz aller „Schmerzen“ und Probleme wurde das Projekt gestartet. </font><font style="vertical-align: inherit;">Nicht alles funktionierte wie geplant, aber es war wirklich möglich, Roller zu fahren, indem man sie mietete. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ja, wir haben eine Reihe von Fehlern bei der Gestaltung der Architektur gemacht, die es uns nicht ermöglichten, den Service vollständig dezentral zu gestalten, aber selbst ohne diese Fehler hätten wir es kaum geschafft, eine serverlose Plattform zu erstellen. </font><font style="vertical-align: inherit;">Es ist eine Sache, eine andere Kryptopyramide zu schreiben, und eine andere ist ein vollwertiger Dienst, bei dem Sie Fehler behandeln, Grenzfälle lösen und ausstehende Aufgaben ausführen müssen. </font><font style="vertical-align: inherit;">Hoffen wir, dass kürzlich erschienene neue Plattformen flexibler und funktionaler sind.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490086/index.html">Anfänger Surf Guide oder Programmiererleben in Portugal</a></li>
<li><a href="../de490088/index.html">So fahren Sie mit dem Erstellen einer Karte in UE4 fort</a></li>
<li><a href="../de490092/index.html">Andrei Zaretsky, Alexander Trukhanov: „Die Gebühr war genug, um Kaffee zu trinken“</a></li>
<li><a href="../de490094/index.html">Zurück zu den Wurzeln: Wir fahren einen Computer direkt vom MBR aus</a></li>
<li><a href="../de490096/index.html">Einfache Möglichkeit, einen winzigen USB-Hub für Raspberry Pi zu erstellen</a></li>
<li><a href="../de490102/index.html">wc bis D: 712 Zeichen ohne einen einzigen Zweig</a></li>
<li><a href="../de490104/index.html">Intelligente Sonnenblende von Bosch. Prototypentest</a></li>
<li><a href="../de490110/index.html">Vom Entwickler zum Manager und umgekehrt</a></li>
<li><a href="../de490112/index.html">Monaden als Code-Wiederverwendungsmuster</a></li>
<li><a href="../de490114/index.html">Yandex.Practicum - Datenanalyst. Abschluss</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>