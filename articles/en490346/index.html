<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßúüèº üë©üèª‚Äç‚öïÔ∏è ‚ôìÔ∏è The role of the MQTT protocol in the development of the industrial Internet of things ‚åõÔ∏è üîà üõåüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="We often host events to which we invite industrial automation experts. In 2016, Arlen Nipper, who is one of the creators of the MQTT protocol, came to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>The role of the MQTT protocol in the development of the industrial Internet of things</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/advantech/blog/490346/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We often host events to which we invite industrial automation experts. </font><font style="vertical-align: inherit;">In 2016, Arlen Nipper, who is one of the creators of the MQTT protocol, came to us. </font><font style="vertical-align: inherit;">We want to share his report in Russian translation.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/02OnEj9-arQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Today I will talk about the Industrial Internet of Things (IIoT) and the </font></font><abbr title="Message Queue Telemetry Transport"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MQTT</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> data exchange protocol </font><font style="vertical-align: inherit;">. In 1978, I studied electrical engineering at the University of Oklahoma. I wondered: why am I doing this, it's boring and not exciting. Then I had the opportunity to be an intern at Amoco Pipeline. The company has installed an automated data management and control system - SCADA (Supervisory Control &amp; Data Acquisition). It included PLCs (programmable logic controllers) that transmitted data to the PDP-11 central computer via multi-channel telephone lines via Bell 202 modems. And in 2016 we use the same SCADA systems as we did over 35 years ago.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And the same SCADA systems, production automation systems, production control and management systems become an element of the IIoT infrastructure. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What is the IIoT infrastructure for? Users tend to gain more opportunities by spending less resources. This cannot be achieved without obtaining and using lower level production data.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
First, information technologies were introduced everywhere. Then ‚Äúclouds‚Äù appeared and everyone got access to the Internet. Now it remains only to use the "cloud" for SCADA systems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, we started rewriting old closed source protocols. So on the market appeared Modbus, Allen-Bradley, DNP 3.0. And then there was a deregulation of the activities of telecommunications companies, including AT&amp;T. Prior to this, production process control systems, SCADA systems, etc. worked on excellent conditions: AT&amp;T received large subsidies and was ready to pull its telephone lines wherever we wanted. After deregulation, prices soared, and quality collapsed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We began to use VSAT systems, but they worked slowly, with a large signal delay, and constant polling of devices was very expensive.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As a result of a joint project between Phillips 66 and IBM, in which I took part 19 years ago, the network protocol MQTT (MQ telemetry transport) appeared, which has been used for almost 20 years. Back in 1999, we had no idea about the Internet of things or the "cloud", but simply looked for ways to solve the problem. But we managed to create a protocol for critical real-time pipeline monitoring systems. Today, the MQTT protocol is one of the most used application protocols.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Actually, the Internet of things was conceived as a normal Internet of people, uniting users through web browsers, HTTP, etc., but which was supposed to combine ‚Äúthings‚Äù. Then we created the Industrial Internet of Things for production control systems, which has nothing to do with the ability to adjust the temperature of the thermostat through the phone. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To make the Industrial Internet of Things work, you need to: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. ‚ÄúUnbind‚Äù devices from applications and connect with the infrastructure.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Suppose I installed a beautiful Advantech UNO computer, developed an excellent application for it, to which I connected the computer through a protocol. This means that I rigidly linked the capabilities of the computer with the capabilities of the application.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And even if I find a solution to a problem, tomorrow it may not work. For example, to take advantage of a much larger amount of data, I have to change the code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That is why devices need to be attached not to the application, but to the infrastructure, and then embed applications in it. In this case, we will not be limited by the capabilities of applications. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Create a better solution at the level of operating technology (OT) than the existing one.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
I‚Äôve been developing this technology for nineteen years at IBM, but all implementation attempts were unsuccessful because we tried to push IIoT technology from IT to production.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But the IIoT solution must provide data from ‚Äúthings‚Äù and optimization at the operational level, regardless of whether the company is creating IIoT ‚Äî a plant, a pharmaceutical company, a water supply and sanitation system, or oil and gas companies. And now I am trying to create an effective OT solution in B &amp; B, because the Internet of things can only be created from the bottom up. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
According to a 2016 study, MQTT is the most used protocol on the Internet of things (HTTP takes first place, but does not provide real-time control, and we do not take it into account). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are many servers on the market that support the MQTT protocol. </font></font><br>
<img src="https://habrastorage.org/webt/uh/nu/ws/uhnuwsxdcbwcz8jl9qfelpukuku.jpeg"><br>
<sup><font color="9999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MQTT Servers</font></font></font></sup><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
At the same time, the number of client MQTT technologies is limited. </font></font><br>
<img src="https://habrastorage.org/webt/8m/jg/3v/8mjg3vvo3d_qhfpcpghfvy0vec0.jpeg"><br>
<sup><font color="9999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MQTT Clients</font></font></font></sup><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But in IIoT solutions you need to apply technologies known to yesterday's students of engineering and IT specialties. </font><font style="vertical-align: inherit;">So, graduates in computer specialties, for example, 2016, most likely use a single-board Raspberry Pi that supports the MQTT protocol to turn on and off the light in the room. </font><font style="vertical-align: inherit;">However, they may not know what OPC UA, Modbus, Allen-Bradley or DMP 3.0 protocols are. </font><font style="vertical-align: inherit;">The openness and accessibility of such technologies will lead to the emergence of a large number of SRP solutions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Accurate instructions for using MQTT in critical real-time production control systems do not exist. </font><font style="vertical-align: inherit;">But we developed the Sparkplug MQTT specification, which defines some basic rules for creating real-time production control systems using the MQTT protocol:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MQTT Topic Namespace,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MQTT Payload Definition,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MQTT State Management,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">High Availability / Redundancy / Scale.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is an open source specification that is publicly </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">available</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">In addition, we have developed a reference implementation of MQTT Client for message flow in C, Java, JavaScript, Python, and Node Read. </font><font style="vertical-align: inherit;">Therefore, our partners in the Advantech ecosystem use a single specification. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, we must ‚Äúuntie‚Äù devices from applications and offer a more advanced OT solution. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We strive to ensure that Advantech products interact with things in IoT:</font></font><br>
 <br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">liquid level sensors in tanks,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chromatographic gas analyzers</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">corrosion protection and monitoring units</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flow rate sensors,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hydraulic motor speed sensors, etc.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The means of such interaction is the protocol for the delivery of data collected by all these ‚Äúthings‚Äù, which needs the infrastructure and the channels of interaction between its components. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Our MQTT infrastructure includes devices that track physical events and publish data about such events on secure message brokers. The Advantech product line allows you to not only create the Internet of things, but also use SmartFlex and eWorks routers, which publish data and provide an interface for monitoring them.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After we ‚Äúuntied‚Äù devices from applications, you can embed devices and Internet access modules into the infrastructure and sign them to data published in real time via the MQTT protocol. At this stage, it is necessary to demonstrate to the user, production manager or SCADA manager that our OT solution is better, faster, safer and easier to scale than conventional SCADA systems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Previously, several SCADA systems could not be subscribed to the same topic. But if the systems are not tied to the application, we don‚Äôt even have to determine which SCADA system should receive information in the first or second turn - all systems, programs and devices can have access to the same production data in real time.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And at this stage, you can choose other interesting solutions and embed them in the infrastructure, for example, asset management applications, optimization of design and technical work, etc. </font></font><br>
<img src="https://habrastorage.org/webt/88/2q/oc/882qocd4fvuxrkgja36eqjbul4e.jpeg"><br>
<sup><font color="9999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Advantech Unique Energy / Environment Solution Topology A</font></font></font></sup><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
streamlined data flow allows you to begin creating the Industrial Internet of Things with which we are already familiar, including big data, cloud computing, etc. You can use Microsoft Azure, IBM Bluemix or AWS IoT, as well as the well-known Hadoop and Big Data, Storm and Spark and various visualization and analytics tools. </font><font style="vertical-align: inherit;">But it is impossible to be at this level if the devices are connected with applications and are not built into the necessary infrastructure.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en490336/index.html">Channel Anatomy in Go</a></li>
<li><a href="../en490338/index.html">In an innovative experiment, physicists learned to capture individual atoms.</a></li>
<li><a href="../en490340/index.html">Zen go</a></li>
<li><a href="../en490342/index.html">What we learned from testing the state information system</a></li>
<li><a href="../en490344/index.html">Who is techlide and why is the team needed it</a></li>
<li><a href="../en490348/index.html">How to give feedback and not start the Third World War</a></li>
<li><a href="../en490354/index.html">Enhancing the culture of information security in fintech companies</a></li>
<li><a href="../en490356/index.html">Introducing Kubernetes CCM (Cloud Controller Manager) for Yandex.Cloud</a></li>
<li><a href="../en490358/index.html">Does a modern programmer need to be able to create algorithms?</a></li>
<li><a href="../en490362/index.html">Kubernetes in the spirit of piracy: our path to microservices and a ready-made template for implementation</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>