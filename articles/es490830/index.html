<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèª‚Äçüé§ ü¶à üï• Gesti√≥n de contrase√±as en Zimbra Collaboration Suite Edici√≥n de c√≥digo abierto üèÅ üõåüèø ü§ö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La administraci√≥n de contrase√±as siempre ha sido uno de los problemas m√°s importantes asociados con la operaci√≥n segura de los sistemas de informaci√≥n...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Gesti√≥n de contrase√±as en Zimbra Collaboration Suite Edici√≥n de c√≥digo abierto</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/zimbra/blog/490830/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La administraci√≥n de contrase√±as siempre ha sido uno de los problemas m√°s importantes asociados con la operaci√≥n segura de los sistemas de informaci√≥n. La capacidad de almacenar de forma segura y cambiar r√°pidamente las contrase√±as de varias cuentas, la capacidad de los usuarios de restablecer de forma segura una contrase√±a olvidada y la capacidad de restablecer de forma segura una contrase√±a de administrador: todas estas funciones no son menos importantes que la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pol√≠tica de seguridad de contrase√±a de la</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que hablamos anteriormente. En este art√≠culo, veremos c√≥mo se implementan estas funciones en Zimbra OSE.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/op/xi/ie/opxiieyaijocgswpkt2td6f4-u0.png"><a name="habracut"></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cambiar la</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
contrase√±a de </font><b><font style="vertical-align: inherit;">usuario y administrador global</font></b><font style="vertical-align: inherit;"> La contrase√±a de </font><b><font style="vertical-align: inherit;">administrador global</font></b><font style="vertical-align: inherit;"> se establece durante la instalaci√≥n de Zimbra OSE y posteriormente se puede cambiar en la configuraci√≥n del cliente web. La contrase√±a del usuario se establece inicialmente al crear la cuenta, sin embargo, el administrador puede habilitar el cambio forzado de contrase√±a cuando el usuario inicia sesi√≥n por primera vez en el cliente web para que el usuario no olvide establecer su propia contrase√±a. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En caso de que el usuario olvide su contrase√±a, Zimbra OSE proporciona una funci√≥n de recuperaci√≥n de contrase√±a. Esta funci√≥n, si est√° habilitada por el administrador, permite al usuario especificar un buz√≥n de respaldo al que llegar√° un c√≥digo de confirmaci√≥n temporal. Con este c√≥digo √∫nico, un usuario puede acceder al cliente web Zimbra OSE y cambiar su contrase√±a.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, si el administrador de repente olvid√≥ la contrase√±a de su cuenta y debido a esto no puede iniciar sesi√≥n en el cliente web para cambiar la contrase√±a, puede usar el atributo&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setPassword</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o simplemente&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en la l√≠nea de comando. Por ejemplo, el comando&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmprov sp admin@company.ru qwerty le</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;permite cambiar la contrase√±a del administrador a qwerty sin iniciar sesi√≥n en el cliente web Zimbra OSE. Se puede usar el mismo comando para cambiar la contrase√±a de cualquier otro usuario.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta tambi√©n que el administrador no tiene la opci√≥n de ver la contrase√±a del usuario. Esta limitaci√≥n se debe al hecho de que Zimbra OSE, en principio, no almacena las contrase√±as de los usuarios en texto claro. En cambio, Zimbra OSE solo almacena hashes de contrase√±a salados y, cuando intenta iniciar sesi√≥n, compara el hash de la contrase√±a ingresada por el usuario con lo que est√° almacenado en el servidor LDAP. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cambio de contrase√±a durante la autenticaci√≥n a trav√©s de AD</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si AD se usa para autenticar usuarios, las contrase√±as tampoco se almacenan en el servidor. En cambio, Zimbra OSE simplemente pasa AD la entrada del usuario y recibe una respuesta sobre si esta cuenta est√° autenticada o no. Y dado que toda la informaci√≥n de la cuenta se almacena en otro servidor, cuando se usa AD externo, generalmente se recomienda deshabilitar la funci√≥n de cambio autom√°tico de contrase√±a en el cliente web Zimbra OSE.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, hay una manera de combinar la autenticaci√≥n de usuario a trav√©s de AD con la capacidad de cambiar de forma independiente la contrase√±a para los usuarios. </font><font style="vertical-align: inherit;">Esto puede hacerse mediante una extensi√≥n llamada&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Active Directory Change Password</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Cambia la funcionalidad del bot√≥n de cambio de contrase√±a en el cliente web Zimbra OSE para que cambie la contrase√±a en AD.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La extensi√≥n es bastante f√°cil de instalar y funciona de la siguiente manera:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El usuario hace clic en el bot√≥n de cambio de contrase√±a</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introducir la contrase√±a</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La extensi√≥n define el DN del usuario</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Busca un servidor AD externo</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Realiza cambios en la contrase√±a de la cuenta a trav√©s de una conexi√≥n segura</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La extensi√≥n se instala en la l√≠nea de comandos utilizando los siguientes comandos:</font></font><br>
&nbsp;<blockquote>&nbsp;mkdir -p /opt/zimbra/lib/ext/adpassword<br>
&nbsp; wget&nbsp;https://github.com/Zimbra-Community/ADPassword/raw/master/out/artifacts/ADPassword_jar/ADPassword.jar&nbsp;-O /opt/zimbra/lib/ext/adpassword/adPassword.jar<br>
&nbsp; su zimbra<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapBindDn "%u@company.ru"<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapSearchBase ¬´CN=Users,DC=DOMAIN,DC=EXT¬ª<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapSearchBindDn ¬´CN=serviceAccount,CN=Users,DC=DOMAIN,DC=EXT¬ª<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapSearchBindPassword "*********"<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapSearchFilter "(samaccountname=%u)"<br>
&nbsp; zmprov md domain.ext zimbraAuthLdapURL ¬´ldaps://ad.company.ru:636¬ª<br>
&nbsp; zmprov md domain.ext zimbraExternalGroupLdapSearchBase ¬´CN=Users,DC=DOMAIN,DC=EXT¬ª<br>
&nbsp; zmprov md domain.ext zimbraExternalGroupLdapSearchFilter "(samaccountname=%u)"<br>
&nbsp; zmprov md domain.ext zimbraAuthMech ¬´ad¬ª<br>
&nbsp; zmprov md domain.ext zimbraAuthMechAdmin ¬´ad¬ª<br>
&nbsp; zmprov md domain.ext zimbraPasswordChangeListener ADPassword<br>
&nbsp; zmprov gd domain.ext | grep -i ldap | grep -v Gal<br>
&nbsp; zmprov gd domain.ext | grep -i zimbraPasswordChangeListener<br>
&nbsp; zmprov md domain.ext zimbraAuthFallbackToLocal FALSE<br>
&nbsp; zmcontrol restart</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, si sus servidores Zimbra OSE y Active Directory usan diferentes certificados SSL, debe agregar el certificado AD a la lista de confianza en el servidor Zimbra OSE. Si ambos sistemas de informaci√≥n usan el mismo certificado, puede omitir este paso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, despu√©s de instalar esta extensi√≥n, sus usuarios podr√°n cambiar su contrase√±a directamente en el cliente web Zimbra OSE, incluso cuando utilicen la autenticaci√≥n mediante AD. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Restablecimiento masivo de contrase√±a</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es una situaci√≥n bastante aceptable en la que es posible que deba restablecer r√°pidamente las contrase√±as para una gran cantidad de usuarios de Zimbra OSE. En el caso de que el n√∫mero de usuarios sea lo suficientemente grande, restablecer las contrase√±as manualmente llevar√° mucho tiempo, lo que puede ser simplemente inaceptable en una situaci√≥n cr√≠tica. Un script puede ayudar a optimizar esta tarea, que puede restablecer autom√°ticamente las contrase√±as de los usuarios de un dominio separado y un servidor de correo completo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, restablezca las contrase√±as de todos los usuarios del dominio company.ru. Para hacer esto, inicie sesi√≥n en el servidor y ejecute el comando&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zmprov -l gaa company.ru&gt; /tmp/domainusers.txt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Como resultado de la ejecuci√≥n de este comando, se </font><b><font style="vertical-align: inherit;">crear√° el</font></b><font style="vertical-align: inherit;"> archivo de texto </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">domainusers.txt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, en el que se enumerar√°n todos los usuarios del dominio especificado por nosotros. </font><font style="vertical-align: inherit;">Si no especifica un dominio en este comando, todas las cuentas en este servidor se escribir√°n en el archivo de texto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de eso, puede eliminar del archivo de texto recibido todas las cuentas del sistema, como galsync o spam, as√≠ como aquellos usuarios cuya contrase√±a no se restablecer√°. </font><font style="vertical-align: inherit;">Cuando el archivo est√© listo, puede ejecutar el siguiente script:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para i en `cat / tmp / domainusers.txt`; </font><font style="vertical-align: inherit;">do newpass = "Z1mBr @` openssl rand -base64 12`0a "&amp;&amp; / opt / zimbra / bin / zmprov sp $ i $ newpass &amp;&amp; echo $ i $ newpass &gt;&gt; newlogin.txt &amp;&amp; echo $ i &amp;&amp; sleep 5s; </font><font style="vertical-align: inherit;">hecho</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El resultado de este script ser√° un archivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">newlogin.txt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> con nuevas contrase√±as de cuenta. Le recomendamos que lo guarde en un lugar seguro lo antes posible y elimine este archivo del servidor. Despu√©s de eso, puede informar a los usuarios de sus nuevas contrase√±as para que puedan continuar trabajando en Zimbra OSE. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contrase√±a separada para dispositivos m√≥viles.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otra caracter√≠stica interesante que est√° disponible despu√©s de instalar Zextras Suite de extensiones para Zimbra OSE es una contrase√±a separada para ingresar al buz√≥n desde un dispositivo m√≥vil. En otras palabras, se crea una contrase√±a adicional para una cuenta usando su cuenta en un dispositivo m√≥vil, con la cual puede sincronizar su dispositivo con un buz√≥n, pero no puede iniciar sesi√≥n en el cliente web Zimbra OSE. Esta caracter√≠stica puede aumentar significativamente la seguridad del uso del correo electr√≥nico fuera de la oficina, ya que el dispositivo m√≥vil puede verse comprometido o incluso robado, y la funci√≥n de contrase√±a m√≥vil ayudar√° a evitar que la contrase√±a de la cuenta real caiga en manos de los atacantes.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/FLGYFkXLMZU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear una contrase√±a para dispositivos m√≥viles es bastante simple. </font><font style="vertical-align: inherit;">Esto se puede hacer tanto en la consola de administraci√≥n usando el complemento Zextras como en la l√≠nea de comandos. </font><font style="vertical-align: inherit;">Entonces, por ejemplo, usando el comando&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zxsuite mobile setAccountMobilePassword manager@company.ru Z1mBr @,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le dar√° al usuario manager@company.ru la contrase√±a Z1mBr @. </font><font style="vertical-align: inherit;">Usando el comando&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zxsuite mobile getAccountMobilePassword manager@company.ru</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede ver la contrase√±a m√≥vil del usuario manager@company.ru, y usando el comando </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zxsuite mobile unsetAccountMobilePassword manager@company.ru</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> puede eliminar por completo la contrase√±a m√≥vil del usuario especificado.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para todas las preguntas relacionadas con la Suite Zextras, puede contactar al representante de la empresa Zextras Ekaterina Triandafilidi por correo electr√≥nico katerina@zextras.com</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es490816/index.html">¬øC√≥mo resisten los sitios de comercio electr√≥nico a las botnets AuthBots?</a></li>
<li><a href="../es490820/index.html">Todo Habr en una base</a></li>
<li><a href="../es490822/index.html">Los mejores materiales para hackear autos con DEF CON 2019-2020</a></li>
<li><a href="../es490826/index.html">La fuente de eficiencia de producci√≥n.</a></li>
<li><a href="../es490828/index.html">Creando roguelike en Unity desde cero</a></li>
<li><a href="../es490832/index.html">Marcado de calzado: a medida que ponemos en circulaci√≥n 2 millones de c√≥digos de marcado "1C" + "Signo honesto"</a></li>
<li><a href="../es490836/index.html">C√≥mo abrir comentarios y no ahogarse en spam</a></li>
<li><a href="../es490838/index.html">WiFi 6 est√° aqu√≠: lo que ofrece el mercado y por qu√© necesitamos esta tecnolog√≠a</a></li>
<li><a href="../es490840/index.html">Planeaci√≥n de recursos. Parte 4.1. Antes de hacer un plan de recursos</a></li>
<li><a href="../es490842/index.html">GPT-2 en im√°genes (visualizaci√≥n de modelos de lenguaje Transformer)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>