<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤑 🎄 🤳🏽 Hydrologie procédurale: simulation dynamique des rivières et des lacs 👨🏻‍🍳 👈🏾 👩🏽‍🚀</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remarque: le code source complet du projet est publié sur Github [ ici ]. Le référentiel contient également des informations détaillées sur la façon d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Hydrologie procédurale: simulation dynamique des rivières et des lacs</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498290/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/93d/664/fbe/93d664fbe19ce63dfa6b60d9621d07ae.png"></div><blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: le</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> code source complet du projet est publié sur Github [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]. </font><font style="vertical-align: inherit;">Le référentiel contient également des informations détaillées sur la façon de lire et d'utiliser le code.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir mis en œuvre la simulation de l'érosion hydraulique basée sur les particules, j'ai décidé qu'il serait possible d'étendre ce concept pour simuler d'autres aspects de l'hydrologie de surface. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai recherché les méthodes existantes de génération procédurale de rivières et de lacs, mais les résultats trouvés ne me convenaient pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'objectif principal de nombreuses méthodes est de créer des systèmes fluviaux (très beaux) en utilisant divers algorithmes (parfois basés sur une carte d'élévation précédemment créée ou un problème inverse), mais ils manquent d'une relation réaliste forte entre la topographie et l'hydrologie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, le traitement du modèle de l'eau sur le relief dans son ensemble est envisagé sur certaines ressources et une simulation de fluides très complexes est utilisée.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je vais démontrer ma tentative de surmonter ces problèmes avec une technique qui étend la capacité de simuler l'érosion hydraulique à base de particules. </font><font style="vertical-align: inherit;">J'expliquerai également comment, en général, je résous le problème de «l'eau sur le relief». </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ma méthode, je m'efforce à la fois de simplicité et de réalisme au prix d'une légère augmentation de la complexité du système d'érosion sous-jacent. </font><font style="vertical-align: inherit;">Je recommande de lire mon précédent article sur ce système [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traduction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur Habré], car le nouveau modèle est basé sur lui.</font></font><br>
<a name="habracut"></a><br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology6.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ce système est capable de générer rapidement un terrain d'aspect très réaliste avec l'hydrologie. </font><font style="vertical-align: inherit;">Cette vidéo a été rendue en temps réel. </font><font style="vertical-align: inherit;">Le système est capable de générer un nombre infini de tels paysages.</font></font></i><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explication:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> je ne suis pas géologue, j'ai donc créé le système en fonction de mes connaissances.</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Concept d'hydrologie</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je souhaite créer un système génératif capable de simuler de nombreux phénomènes géographiques, notamment:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migration fluviale et fluviale</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cascades naturelles</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formation de Canyon</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gonflement du sol et de la plaine inondable</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, les systèmes d'hydrologie et de topographie doivent être dynamiques et étroitement liés. </font><font style="vertical-align: inherit;">Le système d'érosion hydraulique à base de particules a déjà les aspects de base nécessaires pour cela:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le relief affecte le mouvement de l'eau</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'érosion et la sédimentation affectent le terrain</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, ce système simule l'érosion causée par la pluie, mais n'est pas en mesure de transmettre de nombreuses autres influences:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans un </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cours d'</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> eau en </font><font style="vertical-align: inherit;">mouvement </font><strong><font style="vertical-align: inherit;">, l'</font></strong><font style="vertical-align: inherit;"> eau se comporte différemment.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans une </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">piscine</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> debout </font><strong><font style="vertical-align: inherit;">, l'</font></strong><font style="vertical-align: inherit;"> eau se comporte différemment</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> je mentionnerai souvent les </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flux</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et les </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pools</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">L'hypothèse est faite dans le modèle qu'il s'agit de phénomènes bidimensionnels à grande échelle. </font><font style="vertical-align: inherit;">Ils réduisent considérablement la complexité du modèle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plupart des phénomènes géographiques ci-dessus peuvent être transmis à l'aide du modèle des écoulements et des bassins. </font><font style="vertical-align: inherit;">Idéalement, ils devraient emprunter et améliorer le réalisme d'un système à base de particules.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modèle hydrologique simplifié</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le stockage d'informations sur les flux et les pools dans une ou plusieurs structures de données (graphiques, objets, etc.) est trop compliqué et limite nos capacités. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, notre modèle hydrologique se compose de deux cartes: les </font><strong><font style="vertical-align: inherit;">cartes de </font></strong></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">débit</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et les </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cartes de bassin</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n'oubliez pas qu'ils sont modélisés comme des systèmes 2D.</font></font></blockquote><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cartes de flux et de piscine</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La carte des flux décrit l'eau qui coule à la surface (ruisseaux et rivières). </font><font style="vertical-align: inherit;">Il stocke la position moyenne des particules dans le temps sur la carte. </font><font style="vertical-align: inherit;">Les anciennes informations sont lentement supprimées. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La carte du bassin décrit l'eau plate à la surface (flaques d'eau, étangs, lacs, océans). </font><font style="vertical-align: inherit;">Il stocke la profondeur de l'eau dans la position correspondante de la carte.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: les</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cartes de flux et de pool sont des tableaux de la même taille que la carte de hauteur.</font></font></blockquote><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/869/209/77f/86920977ff555d0cf5a2e0a923d79207.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Relief à impact hydrologique. </font><font style="vertical-align: inherit;">La couche d'eau dans le rendu est tirée de cartes hydrologiques.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0f1/2a1/1c2/0f12a11c2164cc93995a9f5599b1a7a9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cartes hydrologiques combinées. </font><font style="vertical-align: inherit;">Le bleu clair est une carte du cours d'eau; le bleu foncé est une carte de la piscine. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces cartes sont générées et reliées par des particules déplaçant l'eau le long du terrain. </font><font style="vertical-align: inherit;">L'ajout de ces cartes hydrologiques nous donne également des informations indépendantes du temps qui permettent l'interaction des particules avec leur simulation séparément. </font><font style="vertical-align: inherit;">Les particules peuvent interagir grâce à l'utilisation de ces cartes pour obtenir des paramètres qui affectent leur mouvement. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> la carte du flux s'affiche après avoir traversé la fonction de facilité d'entrée et de sortie et est rendue sur le terrain en fonction de cela. </font><font style="vertical-align: inherit;">Pour obtenir des débits plus fins / plus nets (ou pour ignorer des valeurs plus faibles sur de grandes surfaces planes), cet affichage peut être modifié ou définir des valeurs de seuil pour lui.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'eau en tant que particule</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'eau se présente sous la forme d'une masse discrète («particules») ayant un volume et se déplaçant le long de la surface du relief. </font><font style="vertical-align: inherit;">Il a plusieurs paramètres qui affectent son mouvement (frottement, vitesse d'évaporation, vitesse de dépôt, etc.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit de la structure de données de base utilisée pour simuler l'hydrologie. </font><font style="vertical-align: inherit;">Les particules </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont </font><strong><font style="vertical-align: inherit;">pas stockées</font></strong><font style="vertical-align: inherit;"> , mais sont utilisées uniquement pour l'interaction entre les cartes des hauteurs, des flux et des piscines. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Note: le</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> concept d'une particule est expliquée plus en </font><font style="vertical-align: inherit;">détail dans un précédent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">post</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traduction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur Habré] (et un nombre infini d'autres ressources).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cycle hydrologique et interaction cartographique</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les cartes interagissent les unes avec les autres à travers un cycle hydrologique. </font><font style="vertical-align: inherit;">Le cycle hydrologique comprend les étapes suivantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Création d'une particule sur le terrain</font></font></li>
<li><strong></strong>        (.. <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">     </a>).</li>
<li>        ,                  <strong></strong>.</li>
<li>  ,           <strong></strong>.</li>
<li> ,     (    )      .</li>
<li>     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans tout le système, il n'y a que deux algorithmes: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descend (descente)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flood (inondation)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les particules descendantes changent la carte des écoulements et les particules inondantes changent la carte des bassins. </font><font style="vertical-align: inherit;">Ces algorithmes sont décrits en détail ci-dessous.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/989/a81/2cb/989a812cb5d769edbb76fd5a284d18b1.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagramme unidimensionnel du modèle hydrologique. </font><font style="vertical-align: inherit;">Les particules sont créées sur le terrain et traitées cycliquement par deux algorithmes: Descend et Flood. </font><font style="vertical-align: inherit;">Au cours du processus, les cartes des bassins et des flux changent, affectant à leur tour le mouvement des particules.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la mise en oeuvre</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ci-dessous, je vais expliquer la mise en œuvre complète du système utilisé pour générer les résultats et présenter des exemples de code. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> je n'afficherai que les éléments de code pertinents. </font><font style="vertical-align: inherit;">Plus d'informations peuvent être trouvées dans le référentiel sur Github. </font><font style="vertical-align: inherit;">Toutes les parties pertinentes du code se trouvent dans le fichier «water.h».</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classe de particules</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La structure de la particule Drop est identique à la structure du système précédent. </font><font style="vertical-align: inherit;">Descend et flood sont désormais membres de la structure car ils n'agissent que sur une seule particule à la fois.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Drop</span>{</span><font></font>
  <font></font>
  <span class="hljs-comment">//... constructors</span><font></font>
<font></font>
  <span class="hljs-keyword">int</span> index;                         <span class="hljs-comment">//Flat Array Index</span>
  glm::vec2 pos;                     <span class="hljs-comment">//2D Position</span>
  glm::vec2 speed = glm::vec2(<span class="hljs-number">0.0</span>);
  <span class="hljs-keyword">double</span> volume = <span class="hljs-number">1.0</span>;
  <span class="hljs-keyword">double</span> sediment = <span class="hljs-number">0.0</span>;<font></font>
<font></font>
  <span class="hljs-comment">//... parameters</span>
  <span class="hljs-keyword">const</span> <span class="hljs-keyword">double</span> volumeFactor = <span class="hljs-number">100.0</span>; <span class="hljs-comment">//"Water Deposition Rate"</span><font></font>
<font></font>
  <span class="hljs-comment">//Hydrological Cycle Functions</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">descend</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* h, <span class="hljs-keyword">double</span>* stream, <span class="hljs-keyword">double</span>* pool, <span class="hljs-keyword">bool</span>* track, glm::ivec2 dim, <span class="hljs-keyword">double</span> scale)</span></span>;
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">flood</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* h, <span class="hljs-keyword">double</span>* pool, glm::ivec2 dim)</span></span>;<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un paramètre supplémentaire est le facteur de volume, qui détermine comment les inondations transfèrent le volume au niveau de l'eau.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algorithme de descente</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme de descente est presque le même que l'algorithme d'érosion des particules simple. </font><font style="vertical-align: inherit;">Il reçoit une «piste» d'entrée supplémentaire - un tableau dans lequel il écrit toutes les positions visitées par lui. </font><font style="vertical-align: inherit;">Un tableau est nécessaire pour créer des cartes de flux plus tard.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Drop::descend</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* h, <span class="hljs-keyword">double</span>* stream, <span class="hljs-keyword">double</span>* pool, <span class="hljs-keyword">bool</span>* track, glm::ivec2 dim, <span class="hljs-keyword">double</span> scale)</span></span>{<font></font>
<font></font>
  glm::ivec2 ipos; <font></font>
<font></font>
  <span class="hljs-keyword">while</span>(volume &gt; minVol){<font></font>
<font></font>
    ipos = pos; <span class="hljs-comment">//Initial Position</span>
    <span class="hljs-keyword">int</span> ind = ipos.x*dim.y+ipos.y; <span class="hljs-comment">//Flat Array Index</span><font></font>
<font></font>
    <span class="hljs-comment">//Register Position</span>
    track[ind] = <span class="hljs-literal">true</span>;<font></font>
<font></font>
    <span class="hljs-comment">//...</span><font></font>
  }<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'ensemble des paramètres est modifié par les cartes de flux et de pool:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//...</span>
  <span class="hljs-comment">//Effective Parameter Set</span>
  <span class="hljs-keyword">double</span> effD = depositionRate;
  <span class="hljs-keyword">double</span> effF = friction*(<span class="hljs-number">1.0</span><span class="hljs-number">-0.5</span>*stream[ind]);
  <span class="hljs-keyword">double</span> effR = evapRate*(<span class="hljs-number">1.0</span><span class="hljs-number">-0.2</span>*stream[ind]);
<span class="hljs-comment">//...</span></code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai découvert qu'un tel changement de paramètre fonctionne bien.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le système précédent, les particules pouvaient sortir de ce cycle et être détruites uniquement avec une évaporation complète ou dépassant les limites du relief. </font><font style="vertical-align: inherit;">Maintenant, deux conditions de sortie supplémentaires ont été ajoutées ici:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//... nind is the next position after moving the particle</span><font></font>
  <font></font>
  <span class="hljs-comment">//Out-Of-Bounds</span>
  <span class="hljs-keyword">if</span>(!glm::all(glm::greaterThanEqual(pos, glm::vec2(<span class="hljs-number">0</span>))) ||<font></font>
     !glm::all(glm::lessThan((glm::ivec2)pos, dim))){<font></font>
       volume = <span class="hljs-number">0.0</span>;
       <span class="hljs-keyword">break</span>;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">//Slow-Down</span>
  <span class="hljs-keyword">if</span>(stream[nind] &gt; <span class="hljs-number">0.5</span> &amp;&amp; length(acc) &lt; <span class="hljs-number">0.01</span>)
    <span class="hljs-keyword">break</span>;<font></font>
<font></font>
  <span class="hljs-comment">//Enter Pool</span>
  <span class="hljs-keyword">if</span>(pool[nind] &gt; <span class="hljs-number">0.0</span>)
    <span class="hljs-keyword">break</span>;<font></font>
<font></font>
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la particule n'a pas une accélération suffisante et est entourée par d'autres particules, ou pénètre directement dans la piscine, alors elle termine prématurément la descente avec tout son volume restant et procède à l'algorithme d'inondation.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: la</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> condition de débordement réinitialise également le volume afin que les particules ne passent pas à l'algorithme d'inondation.</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algorithme d'inondation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une particule avec le volume restant peut déborder de sa position actuelle. Cela se produit s'il cesse de descendre (il n'y a pas d'accélération) ou entre dans un pool existant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'algorithme d'inondation transfère le volume de la particule à l'augmentation du niveau de l'eau, changeant la carte du bassin. La technique consiste à augmenter progressivement le niveau d'eau d'une fraction du volume des particules en utilisant le «plan d'essai». À mesure que le niveau de l'eau augmente, le volume des particules diminue.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c28/908/ebc/c28908ebc4f1efee43232578962beed2.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Animation d'algorithme d'inondation. Le plan d'essai et le niveau d'eau augmentent progressivement, réduisant le volume des particules. Si une fuite est détectée, le volume restant se déplace vers le point de fuite pour effectuer la descente.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
À chaque étape, nous effectuons un remplissage à partir de la position de la particule (c'est-à-dire, vérifions récursivement les positions des voisins), en ajoutant toutes les positions situées au-dessus du plan d'origine (niveau actuel de l'eau) et en dessous du plan de test au "set d'inondation". C'est la zone de relief qui fait partie de la piscine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant le remplissage, nous vérifions les fuites. Ce sont des points de l'ensemble des inondations qui sont en dessous du plan de test ET du plan d'origine. Si nous trouvons plusieurs points de fuite, nous sélectionnons le plus bas.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Drop::flood</span><span class="hljs-params">(<span class="hljs-keyword">double</span>* height, <span class="hljs-keyword">double</span>* pool, glm::ivec2 dim)</span></span>{<font></font>
<font></font>
  index = (<span class="hljs-keyword">int</span>)pos.x*dim.y + (<span class="hljs-keyword">int</span>)pos.y;
  <span class="hljs-keyword">double</span> plane = height[index] + pool[index];  <span class="hljs-comment">//Testing Plane</span>
  <span class="hljs-keyword">double</span> initialplane = plane;                 <span class="hljs-comment">//Water Level</span><font></font>
<font></font>
  <span class="hljs-comment">//Flood Set</span>
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">vector</span>&lt;<span class="hljs-keyword">int</span>&gt; <span class="hljs-built_in">set</span>;
  <span class="hljs-keyword">int</span> fail = <span class="hljs-number">10</span>; <span class="hljs-comment">//Just in case...</span><font></font>
<font></font>
  <span class="hljs-comment">//Iterate while particle still has volume</span>
  <span class="hljs-keyword">while</span>(volume &gt; minVol &amp;&amp; fail){<font></font>
<font></font>
    <span class="hljs-built_in">set</span>.clear();
    <span class="hljs-keyword">bool</span> tried[dim.x*dim.y] = {<span class="hljs-literal">false</span>};<font></font>
<font></font>
    <span class="hljs-comment">//Lowest Drain</span>
    <span class="hljs-keyword">int</span> drain;
    <span class="hljs-keyword">bool</span> drainfound = <span class="hljs-literal">false</span>;<font></font>
<font></font>
    <span class="hljs-comment">//Recursive Flood-Fill Function</span>
    <span class="hljs-built_in">std</span>::function&lt;<span class="hljs-keyword">void</span>(<span class="hljs-keyword">int</span>)&gt; fill = [&amp;](<span class="hljs-keyword">int</span> i){<font></font>
<font></font>
      <span class="hljs-comment">//Out of Bounds</span>
      <span class="hljs-keyword">if</span>(i/dim.y &gt;= dim.x || i/dim.y &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;
      <span class="hljs-keyword">if</span>(i%dim.y &gt;= dim.y || i%dim.y &lt; <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Position has been tried</span>
      <span class="hljs-keyword">if</span>(tried[i]) <span class="hljs-keyword">return</span>;<font></font>
      tried[i] = <span class="hljs-literal">true</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Wall / Boundary of the Pool</span>
      <span class="hljs-keyword">if</span>(plane &lt; height[i] + pool[i]) <span class="hljs-keyword">return</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Drainage Point</span>
      <span class="hljs-keyword">if</span>(initialplane &gt; height[i] + pool[i]){<font></font>
<font></font>
        <span class="hljs-comment">//No Drain yet</span>
        <span class="hljs-keyword">if</span>(!drainfound)<font></font>
          drain = i;<font></font>
<font></font>
        <span class="hljs-comment">//Lower Drain</span>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>( pool[drain] + height[drain] &lt; pool[i] + height[i] )<font></font>
          drain = i;<font></font>
<font></font>
        drainfound = <span class="hljs-literal">true</span>;
        <span class="hljs-keyword">return</span>; <span class="hljs-comment">//No need to flood from here</span><font></font>
      }<font></font>
<font></font>
      <span class="hljs-comment">//Part of the Pool</span>
      <span class="hljs-built_in">set</span>.push_back(i);<font></font>
      fill(i+dim.y);    <span class="hljs-comment">//Fill Neighbors</span><font></font>
      fill(i-dim.y);<font></font>
      fill(i+<span class="hljs-number">1</span>);<font></font>
      fill(i<span class="hljs-number">-1</span>);<font></font>
      fill(i+dim.y+<span class="hljs-number">1</span>);  <span class="hljs-comment">//Diagonals (Improves Drainage)</span>
      fill(i-dim.y<span class="hljs-number">-1</span>);<font></font>
      fill(i+dim.y<span class="hljs-number">-1</span>);<font></font>
      fill(i-dim.y+<span class="hljs-number">1</span>);<font></font>
    };<font></font>
<font></font>
    <span class="hljs-comment">//Perform Flood</span><font></font>
    fill(index);<font></font>
<font></font>
    <span class="hljs-comment">//...</span></code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour plus de simplicité, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algorithme de remplissage à</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> huit </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">voies</font></a><font style="vertical-align: inherit;"> est utilisé ici </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">À l'avenir, il sera possible de le mettre en œuvre plus efficacement.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir identifié les nombreux points d'inondation et de fuite, nous modifions le niveau d'eau et la carte de la piscine. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si un point de fuite est trouvé, nous déplaçons la particule (et son volume de «débordement») au point de fuite afin qu'elle puisse recommencer à descendre. </font><font style="vertical-align: inherit;">Ensuite, le niveau d'eau descend jusqu'à la hauteur du point de fuite.</font></font><br>
<br>
<pre><code class="cpp hljs">    <span class="hljs-comment">//...</span><font></font>
<font></font>
    <span class="hljs-comment">//Drainage Point</span>
    <span class="hljs-keyword">if</span>(drainfound){<font></font>
<font></font>
      <span class="hljs-comment">//Set the Particle Position</span><font></font>
      pos = glm::vec2(drain/dim.y, drain%dim.y);<font></font>
<font></font>
      <span class="hljs-comment">//Set the New Waterlevel (Slowly)</span>
      <span class="hljs-keyword">double</span> drainage = <span class="hljs-number">0.001</span>;<font></font>
      plane = (<span class="hljs-number">1.0</span>-drainage)*initialplane + drainage*(height[drain] + pool[drain]);<font></font>
<font></font>
      <span class="hljs-comment">//Compute the New Height</span>
      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; s: <span class="hljs-built_in">set</span>) <span class="hljs-comment">//Iterate over Set</span>
        pool[s] = (plane &gt; height[s])?(plane-height[s]):<span class="hljs-number">0.0</span>;<font></font>
<font></font>
      <span class="hljs-comment">//Remove some sediment</span>
      sediment *= <span class="hljs-number">0.1</span>;
      <span class="hljs-keyword">break</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//...</span></code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lorsque le niveau d'eau diminue en raison d'une fuite, j'ai découvert que cela fonctionne mieux avec un faible taux de fuite. </font><font style="vertical-align: inherit;">De plus, l'élimination d'une partie des roches sédimentaires facilite la mise en œuvre.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cette raison, les nouvelles particules entrant dans la piscine remplie déplacent instantanément leur volume vers le point de fuite, car l'ajout de volume à la piscine en déplace le même volume. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le point de fuite n'est pas trouvé, nous calculons le volume sous le plan de test et le comparons avec le volume de la particule. </font><font style="vertical-align: inherit;">Si elle est inférieure, nous retirons le volume de la particule et ajustons le niveau d'eau. </font><font style="vertical-align: inherit;">Puis l'avion d'essai monte. </font><font style="vertical-align: inherit;">S'il est plus grand, le plan de test est abaissé. </font><font style="vertical-align: inherit;">Le processus est répété jusqu'à ce que la particule manque d'espace ou qu'un point de fuite soit trouvé.</font></font><br>
<br>
<pre><code class="cpp hljs">    <span class="hljs-comment">//...</span><font></font>
<font></font>
    <span class="hljs-comment">//Get Volume under Plane</span>
    <span class="hljs-keyword">double</span> tVol = <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; s: <span class="hljs-built_in">set</span>)<font></font>
      tVol += volumeFactor*(plane - (height[s]+pool[s]));<font></font>
<font></font>
    <span class="hljs-comment">//We can partially fill this volume</span>
    <span class="hljs-keyword">if</span>(tVol &lt;= volume &amp;&amp; initialplane &lt; plane){<font></font>
<font></font>
      <span class="hljs-comment">//Raise water level to plane height</span>
      <span class="hljs-keyword">for</span>(<span class="hljs-keyword">auto</span>&amp; s: <span class="hljs-built_in">set</span>)<font></font>
        pool[s] = plane - height[s];<font></font>
<font></font>
      <span class="hljs-comment">//Adjust Drop Volume</span><font></font>
      volume -= tVol;<font></font>
      tVol = <span class="hljs-number">0.0</span>;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//Plane was too high and we couldn't fill it</span>
    <span class="hljs-keyword">else</span> fail--;<font></font>
<font></font>
    <span class="hljs-comment">//Adjust Planes</span>
    <span class="hljs-keyword">float</span> approach = <span class="hljs-number">0.5</span>;<font></font>
    initialplane = (plane &gt; initialplane)?plane:initialplane;<font></font>
    plane += approach*(volume-tVol)/(<span class="hljs-keyword">double</span>)<span class="hljs-built_in">set</span>.size()/volumeFactor;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">//Couldn't place the volume (for some reason)- so ignore this drop.</span>
  <span class="hljs-keyword">if</span>(fail == <span class="hljs-number">0</span>)<font></font>
    volume = <span class="hljs-number">0.0</span>;<font></font>
<font></font>
} <span class="hljs-comment">//End of Flood Algorithm</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La hauteur de l'avion est ajustée proportionnellement à la différence de volumes mise à l'échelle par la surface de la piscine (c'est-à-dire par la taille de l'ensemble). </font><font style="vertical-align: inherit;">En utilisant le coefficient de proximité, vous pouvez augmenter la stabilité de la façon dont l'avion atteint le niveau d'eau correct.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Enveloppe d'érosion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La classe mondiale contient les trois cartes sous la forme de tableaux ordinaires:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">World</span> {</span><font></font>
<font></font>
<span class="hljs-keyword">public</span>:
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">generate</span><span class="hljs-params">()</span></span>;            <span class="hljs-comment">//Initialize</span>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">erode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> cycles)</span></span>;     <span class="hljs-comment">//Erode with N Particles</span><font></font>
<font></font>
  <span class="hljs-comment">//...</span><font></font>
<font></font>
  <span class="hljs-keyword">double</span> heightmap[<span class="hljs-number">256</span>*<span class="hljs-number">256</span>] = {<span class="hljs-number">0.0</span>};
  <span class="hljs-keyword">double</span> waterstream[<span class="hljs-number">256</span>*<span class="hljs-number">256</span>] = {<span class="hljs-number">0.0</span>};
  <span class="hljs-keyword">double</span> waterpool[<span class="hljs-number">256</span>*<span class="hljs-number">256</span>] = {<span class="hljs-number">0.0</span>};<font></font>
<font></font>
};</code></pre><br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> la carte de hauteur est initialisée à l'aide du bruit Perlin.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque étape hydrologique pour une particule individuelle comprend les éléments suivants:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//...</span><font></font>
<font></font>
<span class="hljs-comment">//Spawn Particle</span>
glm::vec2 newpos = glm::vec2(rand()%(<span class="hljs-keyword">int</span>)dim.x, rand()%(<span class="hljs-keyword">int</span>)dim.y);
<span class="hljs-function">Drop <span class="hljs-title">drop</span><span class="hljs-params">(newpos)</span></span>;<font></font>
<font></font>
<span class="hljs-keyword">int</span> spill = <span class="hljs-number">5</span>;
<span class="hljs-keyword">while</span>(drop.volume &gt; drop.minVol &amp;&amp; spill != <span class="hljs-number">0</span>){<font></font>
<font></font>
  drop.descend(heightmap, waterstream, waterpool, track, dim, scale);<font></font>
<font></font>
  <span class="hljs-keyword">if</span>(drop.volume &gt; drop.minVol)<font></font>
    drop.flood(heightmap, waterpool, dim);<font></font>
<font></font>
  spill--;<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le paramètre de déversement détermine combien de fois une particule peut entrer dans la piscine et la quitter à nouveau avant d'être simplement détruite. </font><font style="vertical-align: inherit;">Sinon, les particules meurent lorsque leur volume est épuisé.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque: les</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> particules pénètrent rarement dans les piscines et les quittent plus d'une ou deux fois avant de s'évaporer complètement pendant les étapes de descente, mais j'ai ajouté cela juste au cas où.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La fonction d'érosion enveloppe ce code et effectue des étapes hydrologiques pour les particules de N, changeant directement la carte d'écoulement:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">World::erode</span><span class="hljs-params">(<span class="hljs-keyword">int</span> N)</span></span>{<font></font>
<font></font>
  <span class="hljs-comment">//Track the Movement of all Particles</span>
  <span class="hljs-keyword">bool</span> track[dim.x*dim.y] = {<span class="hljs-literal">false</span>};<font></font>
<font></font>
  <span class="hljs-comment">//Simulate N Particles</span>
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; N; i++){<font></font>
   <font></font>
    <span class="hljs-comment">//... simulate individual particle</span><font></font>
<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">//Update Path</span>
  <span class="hljs-keyword">double</span> lrate = <span class="hljs-number">0.01</span>;  <span class="hljs-comment">//Adaptation Rate</span>
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; dim.x*dim.y; i++)<font></font>
    waterstream[i] = (<span class="hljs-number">1.0</span>-lrate)*waterstream[i] + lrate*((track[i])?<span class="hljs-number">1.0</span>:<span class="hljs-number">0.0</span>);<font></font>
<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, le réseau de pistes est transmis à la fonction de descente. </font><font style="vertical-align: inherit;">J'ai trouvé que le suivi simultané du mouvement de plusieurs particules et des changements correspondants fournit de meilleurs résultats pour la carte de flux. </font><font style="vertical-align: inherit;">Le taux d'adaptation détermine la rapidité avec laquelle les anciennes informations sont supprimées.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des arbres</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juste pour le plaisir, j'ai ajouté des arbres pour voir si la simulation d'érosion pourrait être encore améliorée. </font><font style="vertical-align: inherit;">Ils sont stockés dans la classe mondiale comme vecteur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les arbres sont créés au hasard sur la carte dans des endroits où il n'y a pas de mares et de forts courants, et le terrain n'est pas très raide. </font><font style="vertical-align: inherit;">Ils ont également la possibilité de créer des arbres supplémentaires autour d'eux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En train de créer des arbres, ils écrivent sur la carte de densité de la végétation dans un certain rayon autour d'eux. </font><font style="vertical-align: inherit;">Une densité de végétation élevée réduit le transfert de masse entre les particules descendantes et la topographie. </font><font style="vertical-align: inherit;">Il s'agit de simuler la façon dont les racines maintiennent le sol en place.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">//... descend function</span>
<span class="hljs-keyword">double</span> effD = depositionRate*max(<span class="hljs-number">0.0</span>, <span class="hljs-number">1.0</span>-treedensity[ind]);
<span class="hljs-comment">//...</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les arbres meurent s'ils sont dans la piscine ou si le ruisseau en dessous est trop puissant. </font><font style="vertical-align: inherit;">De plus, ils ont une probabilité de décès aléatoire.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/trees.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grâce à l'ombrage et aux cartes normales, même des sprites d'arbres très simples rendent le relief plus beau.</font></font></i><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le modèle d'arbre se trouve dans le fichier "végétation.h" et dans la fonction "World :: grow ()".</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autres détails</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les résultats sont visualisés à l'aide d'un wrapper OpenGL fait maison, qui est présenté [ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ].</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">résultats</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les particules peuvent être créées sur la carte en fonction de la distribution dont vous avez besoin. </font><font style="vertical-align: inherit;">Dans mes démos, je les ai créées avec une distribution uniforme sur 256 × 256 cartes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme on peut le voir ci-dessous, la simulation résultante dépend fortement du choix du relief d'origine. </font><font style="vertical-align: inherit;">Le système est capable de simuler un grand nombre de phénomènes naturels. </font><font style="vertical-align: inherit;">Je ne pouvais pas obtenir correctement que des canyons. </font><font style="vertical-align: inherit;">Ils peuvent avoir besoin d'une simulation très longue et lente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'autres phénomènes peuvent être observés dans le système, tels que les cascades, la tortuosité et les deltas des rivières, les lacs, le gonflement des sols, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le système est également très bon pour distribuer les débits et les piscines dans les endroits où beaucoup de pluie s'accumule, et non dans des endroits aléatoires. </font><font style="vertical-align: inherit;">Par conséquent, l'hydrologie générée est étroitement liée au terrain.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="http://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/rivererosion.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulation hydrologique en temps réel sur une grille 256 × 256. </font><font style="vertical-align: inherit;">Le relief d'origine est relativement lisse, ce qui permet aux flux d'apparaître rapidement. </font><font style="vertical-align: inherit;">Au tout début, on peut observer la création la plus simple de piscines et de fuites, après quoi des flux importants apparaissent et subsistent.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaison des effets de rétrécissement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour comparer la différence créée en reliant une carte à un système d'érosion, vous pouvez simuler l'hydrologie sur la même carte, en incluant et en désactivant différents effets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai simulé le même terrain trois fois:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Érosion à base de particules (érosion de base) qui reçoit des cartes de débit et de pool. </font><font style="vertical-align: inherit;">Les pools affectent toujours la génération</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'érosion de base avec des paramètres modifiés par des cartes hydrologiques (en combinaison avec l'érosion)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Érosion combinée avec des paramètres modifiés par les cartes hydrologiques et affectant l'érosion par les arbres</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> il s'agit d'un système plutôt chaotique, et le type d'hydrologie qui apparaît dépend fortement du terrain. </font><font style="vertical-align: inherit;">Il est difficile de trouver un exemple de relief "très révélateur".</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39e/e81/65c/39ee8165c1b4a8ca4f8a987e12464de4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendu en relief du système de base</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/969/6b2/fc0/9696b2fc03defb56681b7bfff7fa6740.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendu d'élévation du système combiné</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/868/d7f/8bc/868d7f8bcd087c968833ba0a4c99619c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendu de la topographie d'un système arboré</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Une observation intéressante: la combinaison de cartes hydrologiques avec des paramètres de particules rétrécit en fait les lits des rivières. </font><font style="vertical-align: inherit;">En particulier dans les régions planes, les particules sont moins distribuées et fusionnent en une petite quantité de flux plus forts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une friction et une évaporation réduites résistent avec succès au fait que les particules commencent à préférer les canaux déjà existants. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'autres effets sont plus visibles avec l'observation directe du relief.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9a5/acd/d6b/9a5acdd6b7130655c66c716d0b713ec2.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carte hydrologique du système de base</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5df/f5a/575/5dff5a575ae295091062b6e2153694ff.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carte hydrologique du système combiné</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9d0/acb/8fa/9d0acb8fa508aa24afab3a5dddacf7a5.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carte hydrologique du système avec des arbres </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ces résultats ont été générés en exactement 60 secondes du temps de simulation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les arbres affectent également le rétrécissement. </font><font style="vertical-align: inherit;">Ils améliorent le processus de découpe de chemins dégagés dans les zones escarpées. </font><font style="vertical-align: inherit;">Ils forcent les ruisseaux à rester dans les canaux déjà posés, et réduisent donc la tortuosité. </font><font style="vertical-align: inherit;">Ainsi, l'emplacement des arbres affecte le mouvement de l'eau.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Example_Hydrology2.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple d'enregistrement de la façon dont l'emplacement des arbres peut aider à maintenir l'emplacement des cours d'eau. </font><font style="vertical-align: inherit;">C'est le même soulagement qu'auparavant, avec tous les effets activés.</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impact de la piscine</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le système de création de piscines fonctionne bien et permet à plusieurs plans d'eau de hauteurs différentes d'exister sur le même relief. </font><font style="vertical-align: inherit;">Ils peuvent également se renverser et se vider.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Pooling-1.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple d'une vidéo de la formation de piscines sur un relief de base plus rugueux avec une grande différence d'altitude. </font><font style="vertical-align: inherit;">Le lac supérieur est physiquement situé au-dessus du lac inférieur et rejette l'eau résultante directement dans le lac inférieur.</font></font></i><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai obtenu plusieurs graines, dans lesquelles trois lacs se sont coulés les uns dans les autres de manière séquentielle, mais je n'ai pas voulu passer beaucoup de temps à trouver la bonne pour cet article. </font><font style="vertical-align: inherit;">J'ai déjà généré trop de photos et de vidéos.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De temps en temps, le niveau de la piscine saute. </font><font style="vertical-align: inherit;">Je pense que cela se produit lorsque le niveau d'eau est proche du niveau de fuite et que beaucoup d'eau est ajoutée. </font><font style="vertical-align: inherit;">Cet effet peut être réduit en réduisant le taux de fuite dans la fonction d'inondation.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/475/469/f09/475469f09d224928863b2b2eaf48cfb8.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Après une autre minute de génération, plusieurs nouveaux pools sont apparus d'eux-mêmes.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/78a/36c/76e/78a36c76ed90db36cae64c47376fc585.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">À un angle plus prononcé, la différence de hauteur de bassin est plus visible.</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ac8/bd1/897/ac8bd18976e9cb06bd8d6d1fffd23667.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La carte hydrologique montre clairement que le bassin central se confond avec le bassin inférieur. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'exécution de l'algorithme d'inondation conduit au fait que les piscines voient un "mur" à la frontière de la carte. </font><font style="vertical-align: inherit;">Cela est visible dans les images ci-dessus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre amélioration possible pourrait être l'ajout du niveau de la mer au monde afin que les piscines observent les fuites aux bords de la carte au niveau de la mer, sinon elles débordent simplement.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vitesse de simulation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le temps de chaque étape de descente et d'inondation varie d'une particule à l'autre, mais il reste environ un ordre de grandeur (environ 1 microseconde). Avec des flux stables, les particules se déplacent plus rapidement sur la carte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le temps d'inondation varie proportionnellement à la taille de la piscine, car l'opération de coulée est l'étape la plus coûteuse. Plus les piscines sont grandes, plus la zone pour laquelle vous devez augmenter le niveau de l'eau est grande. Les grandes piscines sont définitivement le goulot d'étranglement du système. Si vous avez des idées pour augmenter la vitesse, faites-le moi savoir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le temps de descente varie proportionnellement à la taille de la carte et à de nombreux autres paramètres, dont le frottement et le taux d'évaporation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes les vidéos de cet article sont enregistrées en temps réel, c'est-à-dire qu'en général la simulation est rapide.</font></font><br>
<br>
<blockquote><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque:</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peu de temps après la publication de cet article, j'ai fait un petit changement dans la méthode de calcul des normales de surface, ce qui a augmenté la vitesse de simulation. </font><font style="vertical-align: inherit;">L'effet de ceci est très perceptible pendant la simulation, mais il est difficile de le comparer en raison de grandes variations dans le temps de lancement et d'inondation. </font><font style="vertical-align: inherit;">Selon mes estimations, la vitesse de simulation a doublé.</font></font></blockquote><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plus de belles vidéos</font></font></h3><br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology1.mp4" type="video/mp4"></video></div></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simulation d'hydrologie sur terrain vertical irrégulier.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology5.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un petit soulagement plus doux. </font><font style="vertical-align: inherit;">Certains lacs se révèlent un peu fluctuants.</font></font></i><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology3.mp4" type="video/mp4"></video></div></div></div><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulation d'hydrologie sur un terrain plat et lisse. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les vidéos suivantes ont été enregistrées après l'amélioration de la vitesse.</font></font><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology10.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terrain encore plus plat et plus lisse.</font></font></i><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology7.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vidéo avec une rivière formée de plusieurs ruisseaux connectés. </font><font style="vertical-align: inherit;">Le fleuve principal a deux points auxquels il incorpore des débits plus petits, et nous voyons comment il grandit.</font></font></i><br>
<br>
<div class="oembed"><div><div style="left: 0; width: 100%; height: 0; position: relative; padding-bottom: 56.25%;"><video controls="" style="top: 0; left: 0; width: 100%; height: 100%; position: absolute;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Votre navigateur ne prend pas en charge la vidéo HTML5.</font></font><source src="https://weigert.vsos.ethz.ch/wp-content/uploads/2020/04/Hydrology9.mp4" type="video/mp4"></video></div></div></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un relief plus inégal avec la formation de rivières. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je peux continuer indéfiniment.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion et travaux pour l'avenir</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette technique simple est toujours basée sur des particules, mais elle réussit à transmettre de nombreux effets supplémentaires. Il fournit un moyen facile de simuler le mouvement de l'eau à grande échelle sans simuler complètement la dynamique des fluides. De plus, elle travaille avec un modèle d'eau intuitif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les simulations, nous pouvons observer l'émergence de rivières sinueuses, de cascades, de lacs et de transfusions de lacs, de rivières qui se divisent en zones plates en deltas, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il serait intéressant d'ajouter différents types de sols sous la forme d'une carte des sols à partir de laquelle les paramètres d'érosion pourraient être tirés. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez également facilement changer le système d'arbres pour créer différents types d'arbres qui maintiennent le sol en place.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est difficile de transmettre la variété des résultats générés dans plusieurs photos et vidéos, vous devriez donc essayer de le faire vous-même, cela s'avère très intéressant. </font><font style="vertical-align: inherit;">Je recommande d'expérimenter avec les paramètres de la carte d'origine, y compris le bruit d'octave et l'échelle de la carte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez des questions ou des commentaires, vous pouvez me contacter. </font><font style="vertical-align: inherit;">J'ai travaillé assez dur sur ce projet, donc mon cerveau frittait et je suis sûr que j'ai raté certains aspects intéressants.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr498278/index.html">Editeur Peter. Soldes de printemps</a></li>
<li><a href="../fr498280/index.html">L'histoire de l'oiseau Dodo du genre Phoenix. La grande chute de Dodo EST</a></li>
<li><a href="../fr498282/index.html">[instruction] Création d'un compte et d'un site sur la plateforme Google Site</a></li>
<li><a href="../fr498284/index.html">Comment optimiser l'apprentissage de l'anglais</a></li>
<li><a href="../fr498288/index.html">Votre ville a besoin d'un bus de métro</a></li>
<li><a href="../fr498292/index.html">Économisez beaucoup d'argent sur de gros volumes dans PostgreSQL</a></li>
<li><a href="../fr498294/index.html">Détection d'objets Reconnaissez et régnez. Partie 1</a></li>
<li><a href="../fr498296/index.html">Conception au niveau du système. Partie 1. De l'idée au système</a></li>
<li><a href="../fr498298/index.html">Les entreprises utilisent des primes de bogue pour acheter le silence des pirates</a></li>
<li><a href="../fr498300/index.html">Blitz.Engine: Asset System</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>