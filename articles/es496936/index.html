<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïõ üíÖüèº ‚Ü™Ô∏è Encriptemos certificados SSL con cert-manager en Kubernetes üå∫ üë®üèø‚Äçüî¨ ‚ûø</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En este art√≠culo hablar√© sobre c√≥mo automatizar el pedido y la renovaci√≥n de certificados de Let's Encrypt (y no solo) para Ingress en Kubernetes util...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Encriptemos certificados SSL con cert-manager en Kubernetes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/496936/"><img src="https://habrastorage.org/webt/la/qd/o7/laqdo7i6ovirl5ciie_qmnbrau4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este art√≠culo hablar√© sobre c√≥mo automatizar el pedido y la renovaci√≥n de certificados de Let's Encrypt (y no solo) para Ingress en Kubernetes utilizando el complemento cert-manager. </font><font style="vertical-align: inherit;">Pero comenzar√© con una breve introducci√≥n a la esencia del problema.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un poco de programa educativo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El protocolo HTTP, desarrollado a principios de los a√±os 90 del siglo pasado, entr√≥ en nuestra vida cotidiana con tanta fuerza que es dif√≠cil imaginar al menos un d√≠a sin usarlo. Sin embargo, por s√≠ solo, ni siquiera proporciona un nivel m√≠nimo de seguridad al intercambiar informaci√≥n entre un usuario y un servidor web. HTTPS ("S" - seguro) viene al rescate: utilizando el paquete de los datos transmitidos en SSL / TLS, este protocolo ha demostrado su eficacia en la protecci√≥n de la informaci√≥n contra la intercepci√≥n y es promovido activamente por la industria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, Google se ha </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://security.googleblog.com/2014/08/"><font style="vertical-align: inherit;">adherido</font></a><font style="vertical-align: inherit;"> a 2014</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://security.googleblog.com/2014/08/"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Posici√≥n "HTTPS en todas partes" e incluso reduce la prioridad de los sitios sin ella en los resultados de b√∫squeda. Esta "propaganda" tampoco pasa por alto a los consumidores comunes: los navegadores modernos advierten a sus usuarios sobre la presencia y la correcci√≥n de los certificados SSL para los sitios visitados. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sr/me/il/srmeilomqktrr7qofwjlgpiw01i.png"><br>
<img src="https://habrastorage.org/webt/mj/jo/pf/mjjopfpjvy84bnbdae_mv6vluw8.png"><br>
<img src="https://habrastorage.org/webt/dd/t4/vn/ddt4vnh-3yseofqyzip5qma-dti.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El costo de un certificado para un sitio personal comienza desde decenas de d√≥lares. No siempre comprarlo est√° justificado y es apropiado. Afortunadamente, desde finales de 2015, hay disponible una alternativa gratuita en forma de certificados </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's Encrypt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (LE). Este proyecto sin fines de lucro fue creado por entusiastas de Mozilla para cubrir la mayor√≠a de los sitios web con encriptaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La autoridad de certificaci√≥n emite certificados </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">validados por el dominio</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(el m√°s simple entre los disponibles en el mercado) con un per√≠odo de validez de 90 d√≠as, y durante muchos a√±os ha sido posible emitir el llamado certificado comod√≠n para varios subdominios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para obtener el certificado, el sitio utiliza los algoritmos descritos en el protocolo del </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entorno de administraci√≥n de certificados automatizado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ACME), creado espec√≠ficamente para Let's Encrypt. </font><font style="vertical-align: inherit;">Al usarlo, la confirmaci√≥n de la propiedad del dominio se lleva a cabo mediante solicitudes mediante la colocaci√≥n de un c√≥digo HTTP espec√≠fico (llamado </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP-01</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) o la instalaci√≥n de registros </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS (DNS-01)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; a continuaci√≥n se brindar√° m√°s informaci√≥n sobre ellos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerente de certificacion</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cert-manager</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un proyecto especial para Kubernetes, que es un conjunto de CustomResourceDefinitions (de ah√≠ la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">limitaci√≥n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la versi√≥n m√≠nima admitida de K8s - v1.12) para la configuraci√≥n de CA (autoridades de certificaci√≥n) y el pedido directo de certificados. </font><font style="vertical-align: inherit;">Instalar CRD en un cl√∫ster es trivial y </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se reduce</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a usar un archivo YAML:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl create ns cert-manager<font></font>
kubectl apply -f https://github.com/jetstack/cert-manager/releases/download/v0.13.0/cert-manager.yaml</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambi√©n existe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> la posibilidad de instalar usando Helm.)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Para iniciar el procedimiento de pedido, los recursos de las autoridades de certificaci√≥n (CA) deben declararse en el cl√∫ster: </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o </font></font><code>ClusterIssuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que se utilizan para firmar el CSR (solicitudes de emisi√≥n de certificados). </font><font style="vertical-align: inherit;">La diferencia entre el primer recurso y el segundo est√° en el alcance:</font></font><br>
<br>
<ul>
<li> <code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se puede usar dentro del mismo espacio de nombres,</font></font></li>
<li> <code>ClusterIssuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> es un objeto de cl√∫ster global.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Practica con cert-manager</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No 1. </font><font style="vertical-align: inherit;">Certificado autofirmado</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos con el caso m√°s simple: pedir un certificado autofirmado. </font><font style="vertical-align: inherit;">Esta opci√≥n es bastante com√∫n, por ejemplo, para entornos de prueba din√°micos para desarrolladores o en el caso de utilizar un equilibrador externo que finalice el tr√°fico SSL. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El recurso </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se ver√° as√≠:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: selfsigned<font></font>
spec:<font></font>
  selfSigned: {}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y para emitir un certificado, es necesario describir el recurso </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, d√≥nde se indica c√≥mo emitirlo (consulte la secci√≥n a </font></font><code>issuerRef</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">continuaci√≥n) y d√≥nde se encuentra la clave privada (campo </font></font><code>secretName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Despu√©s de eso, Ingress tendr√° que referirse a esta clave (ver secci√≥n </font></font><code>tls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font><code>spec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: selfsigned-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: selfsigned<font></font>
  commonName: "yet-another.website"<font></font>
  dnsNames:<font></font>
  - "yet-another.website"<font></font>
---<font></font>
apiVersion: networking.k8s.io/v1beta1<font></font>
kind: Ingress<font></font>
metadata:<font></font>
  name: app<font></font>
spec:<font></font>
  tls:<font></font>
  - hosts:<font></font>
    - "yet-another.website"<font></font>
    secretName: tls-secret<font></font>
  rules:<font></font>
  - host: "yet-another.website"<font></font>
    http:<font></font>
      paths:<font></font>
      - path: /<font></font>
        backend:<font></font>
          serviceName: app<font></font>
          servicePort: 8080</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unos segundos despu√©s de agregar estos recursos al cl√∫ster, se emitir√° el certificado. </font><font style="vertical-align: inherit;">Puede ver el informe correspondiente en la salida del comando:</font></font><br>
<br>
<pre><code class="plaintext hljs">kubectl -n app describe  certificate selfsigned-crt<font></font>
...<font></font>
  Normal  GeneratedKey  5s    cert-manager  Generated a new private key<font></font>
  Normal  Requested     5s    cert-manager  Created new CertificateRequest resource "selfsigned-crt-4198958557"<font></font>
  Normal  Issued        5s    cert-manager  Certificate issued successfully</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si observa el recurso secreto en s√≠, entonces contiene:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clave privada </font></font><code>tls.key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">certificado ra√≠z </font></font><code>ca.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nuestro certificado autofirmado </font></font><code>tls.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El contenido de estos archivos se puede ver usando la utilidad </font></font><code>openssl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, por ejemplo, as√≠:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -issuer<font></font>
notBefore=Feb 10 21:01:59 2020 GMT<font></font>
notAfter=May 10 21:01:59 2020 GMT<font></font>
issuer=O = cert-manager, CN = yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vale la pena se√±alar que, en el caso general, los </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clientes conectados </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no confiar√°n en el</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> certificado emitido con este </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La raz√≥n es simple: no tiene una CA </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(consulte la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nota en el sitio web del proyecto</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Para evitar esto, debe especificar en la </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ruta al archivo secreto donde est√° contenido </font></font><code>ca.crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Puede ser una organizaci√≥n de CA corporativa: para firmar los certificados emitidos para Ingress con una clave que ya se utiliza para las necesidades de otros servicios de servidor / sistemas de informaci√≥n.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No 2. </font><font style="vertical-align: inherit;">Cifremos el certificado con validaci√≥n HTTP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para emitir certificados LE, como se mencion√≥ anteriormente, hay </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dos tipos de confirmaci√≥n de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> propiedad </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">de</font></a><font style="vertical-align: inherit;"> dominio </font><font style="vertical-align: inherit;">disponibles </font><font style="vertical-align: inherit;">: HTTP-01 y DNS-01. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El primer enfoque (HTTP-01) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=https://cert-manager.io/docs/configuration/acme/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lanzar un peque√±o servidor web con una implementaci√≥n separada, que enviar√° a Internet a trav√©s del enlace </font></font><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;YOUR_DOMAIN</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &gt; /. Conocidos / acme-challenge / &lt;TOKEN&gt; algunos datos solicitados al servidor de certificaci√≥n. </font><font style="vertical-align: inherit;">Por lo tanto, este m√©todo implica la disponibilidad de Ingress desde el exterior en el puerto 80 y la resoluci√≥n del registro DNS del dominio en direcciones IP p√∫blicas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La segunda opci√≥n para verificar el certificado emitido (DNS-01) </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proviene de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de tener una API para el servidor DNS que aloja los registros de dominio. El emisor, utilizando los tokens indicados, crea registros TXT en el dominio, que el servidor ACME luego recibe durante la confirmaci√≥n. Entre los proveedores de DNS oficialmente compatibles est√°n CloudFlare, AWS Route53, Google CloudDNS y otros, incluida su propia implementaci√≥n ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acme-dns</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Let's Encrypt tiene </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l√≠mites</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bastante </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">estrictos</font></a><font style="vertical-align: inherit;"> en las solicitudes a los servidores ACME. Para no entrar en una prohibici√≥n larga, se recomienda utilizar el tipo de certificado de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ensayo de letencrypt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para la depuraci√≥n </font><font style="vertical-align: inherit;">(la diferencia es solo en el servidor ACME). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, describimos los recursos:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-staging-v02.api.letsencrypt.org/directory <font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - http01:<font></font>
       ingress:<font></font>
         class: nginx<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: le-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: letsencrypt<font></font>
  commonName: yet-another.website<font></font>
  dnsNames:<font></font>
  - yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que la </font><font style="vertical-align: inherit;">direcci√≥n del </font><font style="vertical-align: inherit;">servidor </font><b><font style="vertical-align: inherit;">provisional</font></b><font style="vertical-align: inherit;"> se especifica </font><font style="vertical-align: inherit;">como </font></font><code>server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y </font></font><code>acme</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(c </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Reemplazarlo con una batalla ser√° posible m√°s tarde. </font><font style="vertical-align: inherit;">
Aplicando esta configuraci√≥n, rastreamos toda la ruta del pedido:</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La creaci√≥n </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gener√≥ un nuevo recurso </font></font><code>CertificateRequest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe certificate le-crt<font></font>
...<font></font>
Created new CertificateRequest resource <span class="hljs-string">"le-crt-1127528680"</span></code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En su descripci√≥n, una marca en la creaci√≥n </font></font><code>Order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe certificaterequests le-crt-1127528680<font></font>
‚Ä¶<font></font>
Created Order resource app/le-crt-1127528680-1805948596</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se </font></font><code>Order</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">describe con qu√© par√°metros de los pases de prueba y cu√°l es su estado actual es. </font><font style="vertical-align: inherit;">Dicha verificaci√≥n es realizada por el recurso </font></font><code>Challenge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe order le-crt-1127528680-1805948596<font></font>
‚Ä¶<font></font>
Created Challenge resource <span class="hljs-string">"le-crt-1127528680-1805948596-1231544594"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span></code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Finalmente, los detalles de este recurso contienen informaci√≥n sobre el estado del escaneo en s√≠:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe challenges le-crt-1127528680-1805948596-1231544594<font></font>
...<font></font>
  Reason:      Successfully authorized domain                                                                                                                                                                      <font></font>
...<font></font>
  Normal  Started         2m45s  cert-manager  Challenge scheduled <span class="hljs-keyword">for</span> processing<font></font>
  Normal  Presented       2m45s  cert-manager  Presented challenge using http-01 challenge mechanism<font></font>
  Normal  DomainVerified  2m22s  cert-manager  Domain <span class="hljs-string">"yet-another.website"</span> verified with <span class="hljs-string">"http-01"</span> validation</code></pre></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si se han cumplido todas las condiciones (es decir, se puede acceder al dominio desde el exterior, no hay prohibici√≥n de la LE ...): en menos de un minuto, se emitir√° el certificado. </font><font style="vertical-align: inherit;">Si tiene √©xito, </font></font><code>describe certificate le-crt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aparecer√° </font><font style="vertical-align: inherit;">un </font><font style="vertical-align: inherit;">registro </font><font style="vertical-align: inherit;">en la salida </font></font><code>Certificate issued successfully</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora puede cambiar de forma segura la direcci√≥n del servidor para combatir ( </font></font><code>https://acme-v02.api.letsencrypt.org/directory</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) y volver a ordenar los certificados reales ya firmados </font></font><code>Fake LE Intermediate X1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pero no </font></font><code>Let's Encrypt Authority X3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para hacer esto, primero debe eliminar el recurso </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: de lo contrario, no se activar√°n los procedimientos de pedido, porque el certificado ya existe y es relevante. </font><font style="vertical-align: inherit;">Eliminar un secreto llevar√° a su devoluci√≥n inmediata con un mensaje a </font></font><code>describe certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="plaintext hljs">  Normal  PrivateKeyLost  44s                   cert-manager  Lost private key for CertificateRequest "le-crt-613810377", deleting old resource</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Queda por aplicar el manifiesto de "combate" para </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">el ya descrito anteriormente </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(no ha cambiado):</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-v02.api.letsencrypt.org/directory<font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - http01:<font></font>
       ingress:<font></font>
         class: nginx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de recibir el mensaje </font></font><code>Certificate issued successfully</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>describe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verif√≠quelo:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -issuer<font></font>
notBefore=Feb 10 21:11:48 2020 GMT<font></font>
notAfter=May 10 21:11:48 2020 GMT<font></font>
issuer=C = US, O = Let<span class="hljs-string">'s Encrypt, CN = Let'</span>s Encrypt Authority X3</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Numero 3. </font><font style="vertical-align: inherit;">Comod√≠n LE con validaci√≥n de DNS</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Complicaremos la tarea escribiendo un certificado de inmediato en todos los subdominios del sitio y utilizando esta vez la verificaci√≥n de DNS (a trav√©s de CloudFlare). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero, obtenga el token en el panel de control de CloudFlare para trabajar a trav√©s de la API:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Perfil ‚Üí Tokens API ‚Üí Crear token.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Establezca los permisos de la siguiente manera:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Permisos:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zone - DNS - Editar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zona - Zona - Leer</font></font></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursos de zona:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incluir: todas las zonas</font></font></li>
</ul></li>
</ul></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Copie el token recibido despu√©s de guardar (por ejemplo :) </font></font><code>y_JNkgQwkroIsflbbYqYmBooyspN6BskXZpsiH4M</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cree un secreto en el que se almacenar√° este token y cons√∫ltelo en el emisor:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: v1<font></font>
kind: Secret<font></font>
metadata:<font></font>
  name: cloudflare-api-token<font></font>
type: Opaque<font></font>
stringData:<font></font>
  api-token: y_JNkgQwkroIsflbbYqYmBooyspN6BskXZpsiH4M<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https://acme-v02.api.letsencrypt.org/directory <font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - dns01:<font></font>
        cloudflare:<font></font>
          email: my-cloudflare-acc@example.com<font></font>
          apiTokenSecretRef:<font></font>
            name: cloudflare-api-token<font></font>
            key: api-token<font></font>
<font></font>
---<font></font>
apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Certificate<font></font>
metadata:<font></font>
  name: le-crt<font></font>
spec:<font></font>
  secretName: tls-secret<font></font>
  issuerRef:<font></font>
    kind: Issuer<font></font>
    name: letsencrypt<font></font>
  commonName: yet-another.website<font></font>
  dnsNames:<font></font>
  - "yet-another.website"<font></font>
  - "*.yet-another.website"</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(¬°No olvide usar la puesta en escena si est√° experimentando!)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pasemos por el proceso de confirmar la propiedad del dominio:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe challenges.acme.cert-manager.io le-crt-613810377-1285319347-3806582233<font></font>
...<font></font>
Status:<font></font>
  Presented:   <span class="hljs-literal">true</span>
  Processing:  <span class="hljs-literal">true</span>
  Reason:      Waiting <span class="hljs-keyword">for</span> dns-01 challenge propagation: DNS record <span class="hljs-keyword">for</span> <span class="hljs-string">"yet-another.website"</span> not yet propagated<font></font>
  State:       pending<font></font>
Events:<font></font>
  Type    Reason     Age   From          Message<font></font>
  ----    ------     ----  ----          -------<font></font>
  Normal  Started    54s   cert-manager  Challenge scheduled <span class="hljs-keyword">for</span> processing<font></font>
  Normal  Presented  53s   cert-manager  Presented challenge using dns-01 challenge mechanism</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aparecer√° un registro TXT en el panel: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/hk/jc/pohkjc19ui1olxdlfeaiuuqm3ne.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... y despu√©s de un tiempo el estado cambiar√° a:</font></font><br>
<br>
<pre><code class="plaintext hljs">Domain "yet-another.website" verified with "dns-01" validation</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aseg√∫rese de que el certificado sea v√°lido para cualquier subdominio:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app get secret tls-secret -ojson | jq -r <span class="hljs-string">'.data."tls.crt"'</span> | base64 -d | openssl x509 -dates -noout -text |grep DNS:<font></font>
          DNS:*.yet-another.website, DNS:yet-another.website</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La validaci√≥n por DNS, por regla general, no ocurre r√°pidamente, ya que la mayor√≠a de los proveedores de DNS tienen un per√≠odo de actualizaci√≥n de datos que muestra cu√°nto tiempo transcurre desde el momento en que el registro DNS se cambia a la actualizaci√≥n real de todos los servidores DNS del proveedor. </font><font style="vertical-align: inherit;">Sin embargo, el est√°ndar ACME tambi√©n proporciona una combinaci√≥n de dos opciones de verificaci√≥n, que pueden usarse para acelerar la recepci√≥n de un certificado para el dominio principal. </font><font style="vertical-align: inherit;">En este caso, la descripci√≥n </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ser√° la siguiente:</font></font><br>
<br>
<pre><code class="1c hljs">apiVersion: cert-manager.io/v1alpha2<font></font>
kind: Issuer<font></font>
metadata:<font></font>
  name: letsencrypt<font></font>
spec:<font></font>
  acme:<font></font>
    server: https:<span class="hljs-comment">//acme-v02.api.letsencrypt.org/directory</span><font></font>
    privateKeySecretRef:<font></font>
      name: letsencrypt<font></font>
    solvers:<font></font>
    - selector:<font></font>
        dnsNames:<font></font>
        - <span class="hljs-string">"*.yet-another.website"</span><font></font>
      dns01:<font></font>
        cloudflare:<font></font>
          email: my-cloudflare-acc@example.com<font></font>
          apiTokenSecretRef:<font></font>
            name: cloudflare-api-token<font></font>
            key: api-token            <font></font>
    - selector:<font></font>
        dnsNames:<font></font>
        - <span class="hljs-string">"yet-another.website"</span><font></font>
      http01:<font></font>
        ingress:<font></font>
          class: nginx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si aplica esta configuraci√≥n, se crear√°n dos recursos </font></font><code>Challenge</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl -n app describe orders le-crt-613810377-1285319347<font></font>
‚Ä¶<font></font>
  Normal  Created  3m29s  cert-manager  Created Challenge resource <span class="hljs-string">"le-crt-613810377-1285319347-3996324737"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span>                 
  Normal  Created  3m29s  cert-manager  Created Challenge resource <span class="hljs-string">"le-crt-613810377-1285319347-1443470517"</span> <span class="hljs-keyword">for</span> domain <span class="hljs-string">"yet-another.website"</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N√∫mero 4. </font><font style="vertical-align: inherit;">Uso de anotaciones especiales de entrada</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s de la ruta directa para crear certificados en cert-manager, es posible usar un componente llamado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ingress-shim</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y no crear recursos expl√≠citamente </font></font><code>Certificate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. La idea es que con la ayuda de anotaciones especiales de Ingress, el certificado se ordenar√° autom√°ticamente utilizando el indicado en ellos </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. El resultado es aproximadamente el siguiente recurso de Ingress:</font></font><br>
<br>
<pre><code class="plaintext hljs">apiVersion: networking.k8s.io/v1beta1<font></font>
kind: Ingress<font></font>
metadata:<font></font>
  annotations:<font></font>
    cert-manager.io/cluster-issuer: letsencrypt<font></font>
spec:<font></font>
  tls:<font></font>
  - hosts:<font></font>
    - "yet-another.website"<font></font>
    secretName: tls-secret<font></font>
  rules:<font></font>
  - host: "yet-another.website"<font></font>
    http:<font></font>
      paths:<font></font>
      - path: /<font></font>
        backend:<font></font>
          serviceName: app<font></font>
          servicePort: 8080</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para un funcionamiento correcto, solo la presencia del Emisor es suficiente aqu√≠, es decir, crear una entidad menos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, hay una </font><font style="vertical-align: inherit;">anotaci√≥n </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">obsoleta</font></font></b></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kube-lego</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><code>kubernetes.io/tls-acme: "true"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, - que requiere un trabajo </font></font><code>Issuer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">predeterminado al instalar cert-manager usando los par√°metros de Helm (o en las opciones de inicio del contenedor del administrador). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nosotros en la compa√±√≠a no utilizamos estas opciones y no podemos aconsejarlas debido a la opacidad de los enfoques utilizados para pedir certificados SSL (y al mismo tiempo a los diversos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">problemas que surgen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), pero a√∫n as√≠ decidimos mencionar en el art√≠culo para obtener una imagen m√°s completa.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En lugar de una conclusi√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mediante simples manipulaciones con CRD, aprendimos c√≥mo escribir certificados SSL renovables, autofirmados y gratuitos del proyecto Let's Encrypt para sitios de dominio lanzados como parte de Ingresss en cl√∫steres de Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El art√≠culo proporciona ejemplos para resolver los problemas m√°s comunes en nuestra pr√°ctica. </font><font style="vertical-align: inherit;">Sin embargo, las funciones de cert-manager no se limitan a las caracter√≠sticas descritas anteriormente. </font><font style="vertical-align: inherit;">En el sitio web de la utilidad, puede encontrar ejemplos de c√≥mo trabajar con otros servicios, por ejemplo, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paquete con Vault</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> o el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uso de centros</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> emisores </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">externos</font></a><font style="vertical-align: inherit;"> (emisores).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PD</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lea tambi√©n en nuestro blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una introducci√≥n a las pol√≠ticas de red de Kubernetes para profesionales de la seguridad</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consejos y trucos de Kubernetes: p√°gina de error personalizada en Ingress NGINX</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª;</font></font></li>
<li> ¬´<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">    Ingress  Kubernetes</a>¬ª.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es496914/index.html">El programa decimal m√°s corto</a></li>
<li><a href="../es496916/index.html">Ense√±anza, negociaci√≥n y consultor√≠a a distancia - Parte 3: servidor de reuniones Yealink y 4 ofertas especiales</a></li>
<li><a href="../es496920/index.html">Hacer una casa inteligente con ASP.NET Core y Arduino</a></li>
<li><a href="../es496922/index.html">Gu√≠a sobre la aplicaci√≥n inversa cliente-servidor en el ejemplo del trabajo NeoQUEST-2020</a></li>
<li><a href="../es496924/index.html">Enrutamiento de componentes web</a></li>
<li><a href="../es496938/index.html">Supercomputadoras, secuenciaci√≥n del genoma y las perspectivas de derrotar al coronavirus.</a></li>
<li><a href="../es496940/index.html">C√≥mo los ingenieros de GM prueban la electr√≥nica</a></li>
<li><a href="../es496942/index.html">Eventos digitales en Mosc√∫ del 13 al 19 de abril</a></li>
<li><a href="../es496944/index.html">Eventos digitales en San Petersburgo del 13 al 19 de abril.</a></li>
<li><a href="../es496946/index.html">Una vez m√°s sobre las llaves de hardware GPG por un centavo</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>