<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸŒŒ ğŸ‘²ğŸ½ ğŸ£ ExÃ©cutez la fourmi. Courir ğŸ‘¨â€ğŸ‘©â€ğŸ‘§ ğŸ›„ â™£ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cet article traite du processus de crÃ©ation d'un modÃ¨le de simulation du comportement d'une colonie de fourmis (peut Ãªtre lu sur Wikipedia ) dans l'en...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ExÃ©cutez la fourmi. Courir</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500994/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cet article traite du processus de crÃ©ation d'un modÃ¨le de simulation du comportement d'une colonie de fourmis (peut Ãªtre lu sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikipedia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) dans l'environnement de simulation "AnyLogic". </font><font style="vertical-align: inherit;">Cet article est pratique. </font><font style="vertical-align: inherit;">Il considÃ©rera l'utilisation de l'algorithme des fourmis pour rÃ©soudre le problÃ¨me des vendeurs ambulants (vous pouvez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lire ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ca/-m/xy/ca-mxya2npzn6aynp21dpuepx2g.gif"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En bref sur l'essence</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'essence du problÃ¨me des vendeurs ambulants est que le vendeur ambulant (vendeur) doit visiter N villes aprÃ¨s avoir visitÃ© chacune d'elles une seule fois le long de l'itinÃ©raire le plus court. Ã‰tant donnÃ© que cette tÃ¢che est complexe NP et que le nombre d'options pour tous les itinÃ©raires possibles entre N villes est calculÃ© comme Â«N!Â», Le temps de recherche d'itinÃ©raire le plus court augmentera exponentiellement avec une augmentation de N. En consÃ©quence, le temps de recherche d'itinÃ©raire le plus court (solution) utilisant l'algorithme La Â«recherche exhaustiveÂ» (qui donne une solution exacte) avec le nombre de villes N&gt; 16 augmente fortement (est exponentielle). Par consÃ©quent, nous ne rechercherons pas la route la plus courte en longueur, mais nous la fermerons (rationnelle) dans un temps fini en utilisant Â«l'algorithme antÂ».</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelques mots sur AnyLogic est un outil puissant qui vous permet de crÃ©er des modÃ¨les de simulation de complexitÃ© variable. </font><font style="vertical-align: inherit;">Il met en Å“uvre diffÃ©rentes approches de simulation. </font><font style="vertical-align: inherit;">Nous n'analyserons qu'une seule des approches, Ã  savoir la modÃ©lisation Â«agentÂ». </font><font style="vertical-align: inherit;">Il est implÃ©mentÃ© dans le langage de programmation Java, qui complÃ¨te les outils existants. </font><font style="vertical-align: inherit;">Le principal inconvÃ©nient de "AnyLogic" est la limitation de la version gratuite sur le nombre d'agents crÃ©Ã©s, leur nombre ne peut pas dÃ©passer 50 000. "Agent" est l'unitÃ© de base du systÃ¨me de simulation AnyLogic. </font><font style="vertical-align: inherit;">Plus d'informations peuvent Ãªtre trouvÃ©es sur le site </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.anylogic.ru</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outils</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Anylogic - tÃ©lÃ©chargez la version gratuite ici </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.anylogic.ru/downloads Introduction</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
initiale d' </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AnyLogic </font><font style="vertical-align: inherit;">: L' </font><font style="vertical-align: inherit;">interface d'AnyLogic est montrÃ©e dans la figure 1. Elle comprend:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la zone verte est l'espace de l'agent dans lequel nous allons crÃ©er;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zone rouge - propriÃ©tÃ©s de l'objet mis au point;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">palette - outils que vous pouvez utiliser lors de la crÃ©ation d'un modÃ¨le;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">projets - la structure du modÃ¨le dÃ©veloppÃ©.</font></font></li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/ni/-d/kx/ni-dkxyorpukg5a6xkitxe7nwpm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">1- FenÃªtre popup AnyLogic</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrÃ©ation de projet</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, tout est simple. </font><font style="vertical-align: inherit;">Cliquez sur l'Ã©lÃ©ment de menu "Fichier" Ã  cÃ´tÃ© de "CrÃ©er" puis "ModÃ¨le", entrez le nom du modÃ¨le et cliquez sur le bouton "Terminer" (Fig. 2). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ej/5e/96/ej5e96ohohjgxmygsj2teeedt1q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">2- CrÃ©ation d'un modÃ¨le</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrÃ©er des villes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, commenÃ§ons. La premiÃ¨re chose que nous ferons est de crÃ©er les soi-disant villes (haut du graphique) que la fourmi visitera. Pourquoi ouvrons-nous l'onglet Â«AgentÂ» dans la palette et faisons glisser le cercle rouge avec le petit homme dans l'agent Â«PrincipalÂ» Ã  partir de lÃ , comme le montre la figure 3. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v9/2x/nb/v92xnbu57t8ulh_cttg_i6p1e_0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 3- CrÃ©ation de villes</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
AprÃ¨s avoir relÃ¢chÃ© le bouton de la souris, une boÃ®te de dialogue apparaÃ®t ("Ã‰tape 1"), vous invitant Ã  crÃ©er un agent. OÃ¹ il sera nÃ©cessaire de sÃ©lectionner l'Ã©lÃ©ment "Population d'agents" et de cliquer sur le bouton "Suivant". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h5/bb/jm/h5bbjm3eyfyzggqc_ixb7bikqoi.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 4- CrÃ©ation de villes</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
La boÃ®te de dialogue suivante apparaÃ®t (Ã©tape 2) oÃ¹ vous devrez saisir le nom du nouveau type d'agent et le nom de la population d'agents. Entrez le type "MyTown" et le nom de la population "myTowns" et cliquez sur le bouton "Suivant". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0k/fi/ak/0kfiaknzozrmlyjkzpgnkdrtp2m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 4a - Entrez le nom du nouvel agent</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, la fenÃªtre suivante apparaÃ®tra (Ã©tape 4.). Ici, nous sÃ©lectionnons Â«2D Agent AnimationÂ» et l'icÃ´ne avec l'inscription Â«PlantÂ» et cliquez sur le bouton Â«FinishÂ» (Fig. 5). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/si/73/l7/si73l7efxqaj4-lsibjaq23bo5o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 5- Ajouter une animation pour l'agent</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
CrÃ©ez maintenant une variable qui dÃ©terminera le nombre initial de villes dans notre modÃ¨le. Pourquoi, depuis la "Palette", faites glisser l'icÃ´ne avec l'inscription "Variable" dans l'agent "Principal" et entrez son nom "numberTown". Ensuite, cliquez sur l'icÃ´ne de notre variable et dans l'onglet PropriÃ©tÃ©s, saisissez sa valeur initiale Ã©gale, par exemple, Ã  10 et sÃ©lectionnez son type Â«intÂ» (Fig. 6). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xg/ox/6o/xgox6ohlkcyugq_8bndgxeqe7pe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 6- CrÃ©ation d'une variable</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Maintenant, nous dÃ©finissons la valeur initiale de la population de notre ville Â«myTownsÂ», pour laquelle nous cliquons sur son icÃ´ne et dans l'onglet Â«PropriÃ©tÃ©sÂ» dans le champ Â«Nombre initial d'agentsÂ», Ã©crivez le nom de la variable que nous avons crÃ©Ã©e prÃ©cÃ©demment (Fig. 7).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n2/wn/wr/n2wnwrzolah44a3oiblzp0uitvw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">7 - Changer les propriÃ©tÃ©s de la population Â«myTownsÂ» Ensuite,</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
nous </font><i><font style="vertical-align: inherit;">tirerons la</font></i><font style="vertical-align: inherit;"> conclusion de nos villes dans l'agent Â«MainÂ» Ã  un endroit alÃ©atoire. </font><font style="vertical-align: inherit;">L'espace est limitÃ© Ã  un carrÃ© de 400x400 pixels. </font><font style="vertical-align: inherit;">Pourquoi, dans l'onglet Â«ProjetsÂ», sÃ©lectionner l'agent Â«PrincipalÂ» avec la souris et dans l'onglet Â«PropriÃ©tÃ©sÂ», dans le champ Â«Au dÃ©marrageÂ», ajouter le code Java suivant (Fig. 7a):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myTowns.size(); i++) {<font></font>
	myTowns.get(i).setXY(uniform(<span class="hljs-number">0</span>,<span class="hljs-number">400</span>), uniform(<span class="hljs-number">0</span>,<span class="hljs-number">400</span>));<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OÃ¹:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.size () - le nombre de villes crÃ©Ã©es;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.get (i) .setXY (uniforme (0,400), uniforme (0,400)) - dÃ©finit les coordonnÃ©es X et Y pour la i-Ã¨me ville;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uniforme (0,400) - une fonction qui renvoie un nombre alÃ©atoire dans la plage de 0 Ã  400 selon la loi de distribution Ã©galement probable d'une variable alÃ©atoire. </font><font style="vertical-align: inherit;">L'environnement AnyLogic possÃ¨de une boÃ®te Ã  outils Ã©tendue pour travailler avec diverses distributions de variables alÃ©atoires. </font><font style="vertical-align: inherit;">Il existe un constructeur intÃ©grÃ© de distributions de probabilitÃ©s, il est disponible dans la barre d'outils.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OÃ¹:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.size () - le nombre de villes crÃ©Ã©es;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myTowns.get (i) .setXY (uniforme (0,400), uniforme (0,400)) - dÃ©finit les coordonnÃ©es X et Y pour la i-Ã¨me ville;</font></font></li>
<li>uniform(0,400) â€“ ,        0  400      .   AnyLogic          .              . </li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/cx/9s/uh/cx9suhbif3brjkqje09vjpp0wos.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">7a - Nous organisons les villes,</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
puis nous pouvons dÃ©jÃ  voir ce que nous avons fait et commencer notre modÃ¨le. </font><font style="vertical-align: inherit;">Pour ce faire, utilisez la touche "F5", cliquez dessus et la fenÃªtre de lancement de l'expÃ©rience est lancÃ©e comme le montre la figure 8. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e7/w9/0j/e7w90jfs3sz6flkkxvkmhksfysk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">8 - Lancer l'expÃ©rience</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ensuite, cliquez sur le bouton "ExÃ©cuter" dans le coin infÃ©rieur gauche de la fenÃªtre et l'expÃ©rience dÃ©marre. </font><font style="vertical-align: inherit;">Vous devriez obtenir une fenÃªtre avec le contenu Ã  l'Ã©cran comme le montre la figure 9. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h5/hj/rw/h5hjrw2oona5nb5oxamr7wk1kro.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">9 - Le rÃ©sultat de l'expÃ©rience</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Donc, Ã  cette Ã©tape, nous avons crÃ©Ã© 10 villes et les avons placÃ©es dans un endroit alÃ©atoire (stochastique) sur notre Ã©cran. </font><font style="vertical-align: inherit;">Passons maintenant Ã  la crÃ©ation de nos "fourmis"</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CrÃ©er une fourmi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, l'unitÃ© de combat principale de notre modÃ¨le sera une fourmi. Il faut d'abord le crÃ©er, puis modÃ©liser son comportement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La crÃ©ation d'une fourmi est similaire Ã  la crÃ©ation d'une ville. Dans la "Palette", sÃ©lectionnez "Agent" et faites-le glisser vers "Principal". SÃ©lectionnez Â«Population d'agentsÂ», puis Â«Je veux crÃ©er un nouveau type d'agentÂ», puis entrez Â«Nom du nouveau typeÂ» et Â«Nom de la populationÂ» Â«MyAntÂ» Â«myAntsÂ» et cliquez sur Â«SuivantÂ». AprÃ¨s cela, nous sÃ©lectionnons l'animation Â«2DÂ» et, par exemple, l'icÃ´ne avec l'inscription Â«FighterÂ» appuyez sur Â«TerminerÂ» et cela devrait tourner comme indiquÃ© sur la figure 10. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q-/pb/wj/q-pbwj-wzsom4meb0xjebt8f6e0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 10 - CrÃ©er des fourmis</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'accord, l'avion ne ressemble pas Ã  une fourmi, nous allons donc le rÃ©parer. Nous allons dans le moteur de recherche Ã  la recherche d'une image qui reprÃ©sente une fourmi et changeons l'avion en fourmi. Pourquoi double-cliquez-vous sur le cercle rouge prÃ¨s de "myAnts". AprÃ¨s cela, l'onglet Â«myAntÂ» s'ouvrira oÃ¹ vous devrez retirer l'avion et placer la fourmi Ã  sa place (Fig. 11). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v-/5a/tp/v-5atplfehtp9oii49ogb4zarx4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 11 - Onglet MyAnt</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
SÃ©lectionnez le plan avec la souris et appuyez sur "Suppr". Ensuite, allez dans l'onglet Â«PrÃ©sentationÂ» et faites glisser l'Ã©lÃ©ment Â«ImageÂ» Ã  partir de lÃ . AprÃ¨s cela, une boÃ®te de dialogue s'ouvrira automatiquement pour sÃ©lectionner un fichier. SÃ©lectionnez le fichier avec notre fourmi (Fig.12) et cliquez sur OK. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3u/cv/jo/3ucvjoiromyqmon5c0gg8rnitps.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 12 - Onglet MyAnt avec fourmi et dÃ©jÃ  sans avion</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passez. </font><font style="vertical-align: inherit;">Mettez la fourmi Ã  l'Ã©chelle et dÃ©placez-la Ã  l'endroit oÃ¹ se trouvait l'avion. </font><font style="vertical-align: inherit;">Il devrait tourner comme indiquÃ© sur la figure 12a. </font><font style="vertical-align: inherit;">Toutes ces opÃ©rations sont effectuÃ©es Ã  l'aide de la souris. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bh/rr/n_/bhrrn_45uobnz9cpfxyxfmgpajm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">12a - Onglet MyAnt avec fourmi</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On fait revivre la fourmi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous devons apprendre Ã  notre fourmi fraÃ®chement prÃ©parÃ©e Ã  ramper entre les villes. </font><font style="vertical-align: inherit;">Certes, jusqu'Ã  prÃ©sent sans prendre en compte le modÃ¨le mathÃ©matique, mais laissez-le toujours fonctionner. </font><font style="vertical-align: inherit;">Et donc, ouvrez le diagramme "Diagramme d'Ã©tat" dans la "Palette" et continuez. </font><font style="vertical-align: inherit;">Nous transfÃ©rons les blocs suivants et les connectons ensemble:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le dÃ©but du diagramme d'Ã©tat est le point de dÃ©part du cycle de vie de notre fourmi;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã‰tat - ce bloc caractÃ©risera l'Ã©tat du cycle de vie de notre fourmi. </font><font style="vertical-align: inherit;">Ces blocs sont nÃ©cessaires en morceaux.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transition - une flÃ¨che qui reliera nos Â«Ã‰tatsÂ» les uns aux autres et effectuera la transition d'un Â«Ã‰tatÂ» Ã  un autre Â«Ã‰tatÂ» sous certaines conditions.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En consÃ©quence, il devrait se rÃ©vÃ©ler quelque chose comme le montre la figure 13. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rl/xk/ry/rlxkrykh7gpd6ujcc5aetxfldxm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">13 - La logique du comportement de la fourmi Ã‰crivons</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
maintenant la logique initiale du diagramme de la fourmi. </font><font style="vertical-align: inherit;">Nous sÃ©lectionnons avec la souris la flÃ¨che qui sort du bloc sous le nom Â«Select CityÂ» et ajoutons le code suivant dans le champ Â«ActionÂ» de l'onglet Â«PropertiesÂ» (Fig. 14):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-keyword">if</span> (randomTrue(<span class="hljs-number">0.5</span>)) {
		<span class="hljs-keyword">this</span>.moveTo(main.myTowns.get(i));
		<span class="hljs-keyword">break</span>;<font></font>
	} <font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, tout est trÃ¨s simple, nous traversons le cycle dans toutes les villes et lanÃ§ons une piÃ¨ce (nous gÃ©nÃ©rons une variable alÃ©atoire avec probabilitÃ© 0,5) si sa valeur est vraie (aigle), puis nous envoyons la fourmi dans cette ville en quittant le cycle. L'expression Â«this.moveTo (main.myTowns.get (i))Â» est une fonction qui envoie un agent Ã  un autre. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/ql/7y/scql7yplmodnhdrldsc6tvb3l2m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 14 - DÃ©finissez la logique initiale du mouvement de la fourmi.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ensuite, cliquez sur la flÃ¨che qui quitte le bloc "Mouvement" et dans l'onglet "PropriÃ©tÃ©s", dans le champ "Se produit", dÃ©finissez la valeur "A la rÃ©ception d'un message" et sÃ©lectionnez "A la rÃ©ception du message spÃ©cifiÃ©" dans le champ "Se produit". Â»Comme le montre la figure 15. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ks/hh/g9/kshhg9m8nyxvzqz9d1dj2xnrgtc.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 15 - DÃ©finir la logique de la transition entre Â«MouvementÂ» et Â«Tout contournÃ©Â»</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configurez maintenant la derniÃ¨re flÃ¨che qui sort du bloc "Motion". </font><font style="vertical-align: inherit;">Nous le sÃ©lectionnons avec la souris et dans l'onglet "PropriÃ©tÃ©s", dans le champ de transition, dÃ©finissez "A l'arrivÃ©e de l'agent". </font><font style="vertical-align: inherit;">La vue finale du Â«diagramme d'Ã©tatÂ» doit Ãªtre celle illustrÃ©e Ã  la figure 16. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/os/kv/af/oskvafwwsgpitd36rnozrirob9m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">16 - Diagramme d'Ã©tat avec transitions configurÃ©es entre les blocs</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Alors, regardons comment fonctionne le "Diagramme d'Ã©tat" du comportement des fourmis:</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le premier Ã©tat dans lequel la fourmi tombe est "Vybor_city", jusqu'Ã  prÃ©sent aucune action n'a Ã©tÃ© Ã©noncÃ©e.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il passe ensuite Ã  l'Ã©tat suivant lors de la transition. </font><font style="vertical-align: inherit;">Dans cette transition, nous avons ajoutÃ© un code qui dÃ©marre un cycle Ã  travers toutes les montagnes et fait courir les fourmis dans les villes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le bloc "Mouvement" est l'endroit oÃ¹ se trouve la fourmi jusqu'Ã  son arrivÃ©e dans la ville prÃ©cÃ©demment sÃ©lectionnÃ©e.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De plus, il a deux faÃ§ons. </font><font style="vertical-align: inherit;">D'abord, il revient au bloc "City_Choice" et tout se rÃ©pÃ¨te Ã  nouveau. </font><font style="vertical-align: inherit;">Sur le deuxiÃ¨me chemin, il devra partir quand il aura dÃ©jÃ  visitÃ© toutes les villes. </font><font style="vertical-align: inherit;">Jusqu'Ã  prÃ©sent, la deuxiÃ¨me voie n'est pas mise en place avec nous. </font><font style="vertical-align: inherit;">Nous les traiterons un peu plus tard.</font></font></li>
</ol><br>
<br>
<img src="https://habrastorage.org/webt/3z/aj/md/3zajmdqorvjpondmi8k03fmmz94.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">17 - Fonctionnement du diagramme d'Ã©tat</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Maintenant, nous pouvons appuyer sur "F5" pour voir ce qui s'est passÃ© (Fig. 18). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fr/cg/us/frcgusj3llqem0vaf8rxjngwwii.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">18 - Le renouveau des fourmis</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DÃ©finissez les critÃ¨res</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors, quels sont ces critÃ¨res (rÃ¨gles):</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une fourmi ne devrait visiter chaque ville qu'une seule fois.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ant, quand il a visitÃ© toutes les villes, met fin Ã  son mouvement dans la derniÃ¨re ville.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces critÃ¨res nous sont dictÃ©s par l'Ã©tat du problÃ¨me du voyageur de commerce. Chaque fourmi sera avec nous une sorte de vendeur ambulant qui sillonne les villes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apprenons Ã  la fourmi Ã  respecter ces rÃ¨gles. Pourquoi, depuis la "Palette", l'onglet "Agent", transfÃ©rez les "Collection" et "Variable" vers l'onglet "MyAnt" et nommez-les d'abord "isVisited" et le second comme "distance". La premiÃ¨re prendra en compte les villes que nous avons dÃ©jÃ  visitÃ©es, et la seconde la distance parcourue par la fourmi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-k/s-/a_/-ks-a_2igqbcyxzgzxiwlrbn9fe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 19 - Ajouter des variables</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Configurez la collection isVisited. Pourquoi le sÃ©lectionnons-nous avec la souris et dÃ©finissons-nous le Â«TypeÂ» des Ã©lÃ©ments Â«intÂ» dans l'onglet Â«PropriÃ©tÃ©sÂ» comme illustrÃ© Ã  la figure 20. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la variable Â«distanceÂ» dans ses propriÃ©tÃ©s, dans le champ Â«Valeur initialeÂ», dÃ©finissez Â«0Â» et le type de variable Â«doubleÂ» ". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cm/2v/te/cm2vte4vjkzqycf0r58qz8itz7u.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 20 - Collection de type "int"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SÃ©lectionnez maintenant la flÃ¨che sortant du bloc "City_block" et changez le code du champ "Action" en celui ci-dessous:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-keyword">if</span> (randomTrue(<span class="hljs-number">0.9</span>) &amp;&amp; isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {
		<span class="hljs-keyword">this</span>.moveTo(main.myTowns.get(i));<font></font>
		distance=distance+<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i));<font></font>
		isVisited.add(i);<font></font>
		<span class="hljs-keyword">break</span>;<font></font>
	} <font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le code ci-dessus, nous avons ajoutÃ© un chÃ¨que pour les villes dans lesquelles nous avons dÃ©jÃ  rÃ©ussi Ã  visiter, en tenant compte des villes que nous avons visitÃ©es et en tenant Ã©galement compte de la distance parcourue. </font><font style="vertical-align: inherit;">Le code est assez simple, je pense qu'il ne sera pas difficile Ã  comprendre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez essayer de lancer Â«F5Â» notre modÃ¨le et voir ce qui s'est passÃ©. </font><font style="vertical-align: inherit;">Maintenant, les fourmis ne traverseront toutes les villes qu'une seule fois et termineront leur mouvement dans le bloc.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Changer le placement initial des fourmis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã€ cette Ã©tape, nous dÃ©terminerons pour chaque fourmi que nous choisirons au hasard une ville Ã  partir de laquelle il commencera son voyage. </font><font style="vertical-align: inherit;">Pourquoi, dans l'onglet Â«ProjetsÂ», sÃ©lectionner l'agent Â«PrincipalÂ» avec la souris puis dans l'onglet Â«PropriÃ©tÃ©sÂ» ajouter le code suivant au champ Â«Au dÃ©marrageÂ» (Fig. 20a):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myAnts.size(); i++) {
	<span class="hljs-comment">//        </span>
	<span class="hljs-keyword">int</span> startTown = uniform_discr(<span class="hljs-number">0</span>,myTowns-<span class="hljs-number">1</span>);
	<span class="hljs-comment">//     </span><font></font>
	myAnts.get(i).setPosition(myTowns.get(startTown));<font></font>
	<span class="hljs-comment">//      </span><font></font>
	myAnts.get(i).isVisited.add(startTown);<font></font>
}<font></font>
</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/2i/et/cg/2ietcgzx9lkptrnj5rainnljcig.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">20a - Disposition des fourmis par ville</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
J'ai appliquÃ© une sÃ©lection alÃ©atoire de la ville initiale. </font><font style="vertical-align: inherit;">Vous pouvez initialement identifier toutes les fourmis dans une seule ville.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendre les fourmis imprÃ©visibles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Introduisons la formule suivante dans notre modÃ¨le: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kd/ld/xz/kdldxzse05ththx-oipffhru9oq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oÃ¹ Pi est la probabilitÃ© de transition le long du chemin du i-Ã¨me chemin, li est la longueur de la i-Ã¨me transition, fi est la quantitÃ© de phÃ©romone Ã  la i-Ã¨me transition, q est la valeur qui dÃ©termine la Â«cupiditÃ©Â» de l'algorithme, p - la valeur qui dÃ©termine le "troupeau" de l'algorithme, avec q + p = 1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai empruntÃ© cette formule sur le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">site</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En termes simples, cette formule vous permet de calculer la probabilitÃ© avec laquelle la fourmi devra effectuer la transition vers une ville particuliÃ¨re. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous devons ajouter plusieurs variables sans lesquelles nous ne pouvons pas le faire. Pourquoi revenir Ã  l'onglet Â«PrincipalÂ», figure 21. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zk/ba/cv/zkbacvaft1obpjrs1kw9hblkjos.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 21 - Onglet Â«PrincipalÂ»</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, nous ajoutons la variable "numberAnt", dans laquelle nous allons stocker la taille de la colonie de fourmis. Nous dÃ©finissons son type sur "int" et la valeur initiale est 100. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/80/o2/w4/80o2w43ra-j_fwfabeunywmjkbm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 21 - Variable Â«numberAntÂ»</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
SÃ©lectionnez ensuite la population Â«myAntsÂ» et rÃ©glez le champ Â«Initial number of agentsÂ» sur Â«numberAntÂ». </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La variable "p", qui dÃ©terminera le troupeau de l'algorithme. Son type est double et la valeur initiale est 0,5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La variable "q", qui dÃ©terminera la cupiditÃ© de l'algorithme. Son type est double et la valeur initiale est 0,5. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ge/m7/n0/gem7n0dj3rlhd_uu6aac3rrqyby.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 22 - Variables "q et p"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, maintenant, nous allons dÃ©finir une valeur alÃ©atoire de phÃ©romone pour chaque bord (route) entre les villes. Pourquoi crÃ©er une variable (tableau bidimensionnel) "matrixF". RÃ©glez-le dans l'onglet Â«PropriÃ©tÃ©sÂ» dans le champ Â«TypeÂ», sÃ©lectionnez la valeur Â«AutreÂ» et Ã©crivez Â«double [] []Â» dans le champ la valeur initiale Â«nouveau double [numberTown] [numberTown]Â» (Fig. 23). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wq/4d/oi/wq4doiphuc28xcg1a3vcveng4ms.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 23 - CrÃ©ation d'un tableau bidimensionnel "matrixF". Matrice de phÃ©romones</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ensuite, nous devons initialiser cette matrice. En d'autres termes, remplissez-le avec des valeurs alÃ©atoires. Nous prenons la valeur de la phÃ©romone au hasard dans la plage de 0,1 Ã  </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Pour cela, sur l'onglet "Projets", sÃ©lectionnez l'agent "Principal" avec la souris puis dans l'onglet "PropriÃ©tÃ©s" ajoutez le code suivant au champ "Au dÃ©marrage" (Fig. 23a):</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myTowns.size(); i++) {
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;myTowns.size(); j++) {<font></font>
		matrixF[i][j]=uniform(<span class="hljs-number">0.1</span>,<span class="hljs-number">1</span>);<font></font>
	}<font></font>
} <font></font>
</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/ob/an/ta/obanta0s5kb7vqnsc3wsn-qmbgg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">23a - Code d'initialisation de la matrice de phÃ©romones</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Maintenant, nous revenons Ã  l'onglet Â«MyAntÂ» et procÃ©dons au calcul de la probabilitÃ© de transition conformÃ©ment Ã  la formule ci-dessus. </font><font style="vertical-align: inherit;">SÃ©lectionnez la transition entre "City_Choice" et "Motion" et modifiez le code dans le champ Action comme suit (Fig. 24):</font></font><br>
<pre><code class="java hljs"><span class="hljs-comment">//       </span>
<span class="hljs-keyword">double</span> denominator=<span class="hljs-number">0</span>; 
<span class="hljs-comment">//          </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-keyword">if</span> (isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {	<span class="hljs-comment">//     </span>
	    <span class="hljs-comment">//  i   </span>
		denominator=denominator+(Math.pow(<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i)), main.q)*Math.pow(main.myTowns.get(i).f, main.p));<font></font>
	} <font></font>
}<font></font>
<span class="hljs-comment">//      i </span>
<span class="hljs-keyword">double</span> Pi=<span class="hljs-number">0</span>;
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">double</span> probility=uniform(<span class="hljs-number">0</span>,<span class="hljs-number">1</span>);
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;main.myTowns.size(); i++) {
	<span class="hljs-comment">//        Pi</span>
	<span class="hljs-keyword">if</span> (isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {
		<span class="hljs-comment">//     i-      </span>
		Pi=Pi+(Math.pow(<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i)), main.q)*Math.pow(main.myTowns.get(i).f, main.p))/denominator;<font></font>
	}<font></font>
	<span class="hljs-comment">//      Pi      probility</span>
	<span class="hljs-keyword">if</span> (probility&lt;Pi &amp;&amp; isVisited.indexOf(i)==-<span class="hljs-number">1</span>) {
		<span class="hljs-comment">//       i  </span>
		<span class="hljs-keyword">this</span>.moveTo(main.myTowns.get(i));
		<span class="hljs-comment">//     </span>
		distance=distance+<span class="hljs-keyword">this</span>.distanceTo(main.myTowns.get(i));
		<span class="hljs-comment">//           </span><font></font>
		isVisited.add(i);<font></font>
		<span class="hljs-keyword">break</span>;<font></font>
	} <font></font>
}<font></font>
</code></pre><br>
<br>
<img src="https://habrastorage.org/webt/7u/gr/re/7ugrreytqo1mjwh43xeaagissqm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">24 - Nous dÃ©finissons le comportement de la fourmi sur la base de l'expression analytique de ce qui prÃ©cÃ¨de.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Alors maintenant, je </font><i><font style="vertical-align: inherit;">vais</font></i><font style="vertical-align: inherit;"> expliquer un peu ce qui est quoi:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">li - this.distanceTo (main.myTowns.get (i)), la valeur de la longueur entre la position actuelle de la fourmi et la ville Â«iÂ»;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fi - main.matrixF [currentPos] [i], la valeur du niveau de phÃ©romone entre la ville actuelle et la ville "i";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dÃ©nominateur - dÃ©nominateur + (Math.pow (this.distanceTo (main.myTowns.get (i)), main.q) * Math.pow (main.matrixF [currentPos] [i], main.p));, dÃ©nominateur Pi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pi - Pi + (Math.pow (this.distanceTo (main.myTowns.get (i)), main.q) * Math.pow (main.myTowns.get (i) .f, main.p)) / dÃ©nominateur, la probabilitÃ© que la fourmi se dÃ©place de la ville actuelle vers la ville Â«iÂ».</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous sÃ©lectionnons la transition entre les blocs "Motion" et "All-bypass" avec la souris et sÃ©lectionnons "Quand la condition est remplie" dans le champ "Occurs", et dans le champ condition nous Ã©crivons la condition pour que la fourmi s'arrÃªte "isVisited.size () == main.myTowns.size ()" (fig.25). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1w/qz/ag/1wqzagqllmjga_yqm5a8-9c_crg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">25 - DÃ©terminez les conditions d'arrÃªt de la fourmi,</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
puis lancez le modÃ¨le Â«F5Â» et voyez ce qui s'est passÃ©. </font><font style="vertical-align: inherit;">Les fourmis voyageront entre les villes avec une probabilitÃ© calculÃ©e selon l'expression analytique ci-dessus.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mettre Ã  jour la valeur de la phÃ©romone</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, faisons deux choses. La premiÃ¨re action consiste Ã  augmenter la valeur des phÃ©romones sur le bord entre les villes le long desquelles la fourmi est passÃ©e. La seconde est l'Ã©vaporation des phÃ©romones sur les bords entre les villes, qui consiste Ã  rÃ©duire la valeur des phÃ©romones par rapport au temps de simulation.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, pour commencer par la premiÃ¨re action, nous mettrons Ã  jour la valeur de la phÃ©romone de la cÃ´te entre la ville dans laquelle se trouve la fourmi et dans laquelle il ira. La valeur par laquelle nous augmenterons la valeur actuelle des bords des phÃ©romones entre les villes sera calculÃ©e trÃ¨s, trÃ¨s simplement. Nous prenons notre valeur initiale maximale de la valeur des phÃ©romones = 1 cu et le diviser par la distance entre la ville oÃ¹ se trouve la fourmi et la ville oÃ¹ il va se rendre. En consÃ©quence, plus la distance entre les villes est petite, plus la valeur augmentera le niveau de la phÃ©romone de la cÃ´te. Pourquoi sÃ©lectionnons-nous l'agent MyAnt dans l'onglet Projets, utilisez la souris pour sÃ©lectionner la transition entre les blocs "City_title" et "Movement" et ajoutons le code suivant au champ d'action: "main.matrixF [currentPos] [i] = main.matrixF [currentPos] [i ] + 1 / this.distanceTo (main.myTowns.get (i); â€.Le rÃ©sultat doit Ãªtre comme le montre la figure 26</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wr/zi/jb/wrzijbuaavovmagcktbz4yrhkw0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 26 - Mise Ã  jour de la valeur du niveau de phÃ©romones des cÃ´tes le long desquelles la fourmi est passÃ©e</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Maintenant passons Ã  l'action n Â° 2 et crÃ©ons un Ã©vÃ©nement qui simulera l'Ã©vaporation des phÃ©romones sur les bords entre les villes. Pourquoi, dans l'onglet projets, sÃ©lectionnez l'agent Â«principalÂ» et crÃ©ez-y quelques variables supplÃ©mentaires. Le premier est Â«intensitÃ©Â» - il dÃ©terminera le taux (intensitÃ©) d'Ã©vaporation des phÃ©romones (valeur initiale Â«0,5Â», type Â«doubleÂ»). La deuxiÃ¨me Â«partieÂ» - caractÃ©risera la fraction par laquelle la valeur de la phÃ©romone sur le bord diminuera (valeur initiale Â«0,9Â», tapez Â«doubleÂ»). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rh/_8/ly/rh_8lydcrbmm7pkkitihtmsszi4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. 27 - CrÃ©er les variables "intensitÃ©" et "Part"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous prenons l'Ã©lÃ©ment "Event" de la "Palette" de l'onglet "Agent" et le transfÃ©rons vers l'agent "Main" et l'appelons "Ã©vaporation" - cet Ã©lÃ©ment simulera l'Ã©vaporation de la phÃ©romone sur les bords. </font><font style="vertical-align: inherit;">On clique dessus avec la souris et dans les "PropriÃ©tÃ©s" du champ "Type d'Ã©vÃ©nement", on sÃ©lectionne la valeur "Avec une intensitÃ© donnÃ©e" dans le champ "IntensitÃ©", on Ã©crit le nom de la variable qui stocke la valeur "intensitÃ©". </font><font style="vertical-align: inherit;">Le temps de rÃ©ponse est de quelques secondes. </font><font style="vertical-align: inherit;">Ensuite, ajoutez le code ci-dessous Ã  l'action:</font></font><br>
<pre><code class="java hljs"><span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myTowns.size(); i++) {
	<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> j=<span class="hljs-number">0</span>; j&lt;myTowns.size(); j++) {<font></font>
		matrixF[i][j]=matrixF[i][j]*Part;<font></font>
		<span class="hljs-keyword">if</span> (matrixF[i][j]&lt;<span class="hljs-number">0.1</span>) matrixF[i][j]=<span class="hljs-number">0.1</span>;<font></font>
	}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque l'Ã©vÃ©nement Â«Ã©vaporationÂ» est dÃ©clenchÃ©, les niveaux de phÃ©romones dans la matrice matrixF seront mis Ã  jour. </font><font style="vertical-align: inherit;">Par consÃ©quent, vous devriez pouvoir faire comme indiquÃ© sur la figure 28. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qq/p9/dl/qqp9dljysgcl9xg7jvydl74oees.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">28 - CrÃ©er l'Ã©vÃ©nement Â«Ã©vaporationÂ»</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DÃ©terminer le gagnant</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã€ cette Ã©tape, nous ajouterons un code qui dÃ©terminera le gagnant de notre fourmi marathon. Le vainqueur sera celui des fourmis ayant parcouru le parcours le plus court. En plus de tout, aprÃ¨s la fin du marathon, nous dessinons cette route Ã  l'Ã©cran. Pour ce faire, nous allons crÃ©er trois variables Â«bestAntÂ», Â«bestDistanceÂ» et Â«numberFinishÂ» dans l'agent Â«MainÂ». Dans la variable "bestAnt", nous stockons l'index de la fourmi "la plus rapide", le type de la variable sera "int" et la valeur initiale sera dÃ©finie sur "-1". Dans la variable "bestDistance", nous enregistrerons la valeur actuelle de la meilleure longueur d'itinÃ©raire entre les villes, le type de la variable sera "double" et la valeur initiale sera dÃ©finie sur l'infini "infinity". Dans la variable "numberFinish", nous enregistrerons le nombre de fourmis qui ont terminÃ© notre marathon,le type de la variable sera "int" et la valeur initiale est "0" (Fig. 29).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zd/2a/yw/zd2ayw0tmj6_wuft2sl2qz8tevu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">29 - CrÃ©er un Ã©vÃ©nement de variables</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ensuite, nous crÃ©ons une fonction qui, aprÃ¨s avoir terminÃ© toutes les fourmis, dessinera les lignes du meilleur itinÃ©raire entre les villes. </font><font style="vertical-align: inherit;">Pourquoi depuis la "Palette" nous glissons dans l'agent "Main" un Ã©lÃ©ment avec la fonction name. </font><font style="vertical-align: inherit;">DÃ©finissez le nom de la fonction sur drawPath et, dans l'onglet PropriÃ©tÃ©s, dans le champ du corps de la fonction, ajoutez le code suivant:</font></font><br>
<pre><code class="java hljs"><span class="hljs-comment">//        </span>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i&lt;myAnts.get(bestAnt).isVisited.size()-<span class="hljs-number">1</span>; i++) {
	<span class="hljs-comment">//    </span>
	ShapeLine myLine = <span class="hljs-keyword">new</span> ShapeLine();
	<span class="hljs-comment">//            i</span><font></font>
	myLine.setX(myTowns.get(myAnts.get(bestAnt).isVisited.get(i)).getX());<font></font>
	myLine.setY(myTowns.get(myAnts.get(bestAnt).isVisited.get(i)).getY());<font></font>
	<span class="hljs-comment">//            i+1</span>
	myLine.setEndX(myTowns.get(myAnts.get(bestAnt).isVisited.get(i+<span class="hljs-number">1</span>)).getX());<font></font>
	myLine.setEndY(myTowns.get(myAnts.get(bestAnt).isVisited.get(i+<span class="hljs-number">1</span>)).getY());
	<span class="hljs-comment">//    ""</span><font></font>
	myLine.setColor(blue);<font></font>
	<span class="hljs-comment">//   </span><font></font>
	myLine.setLineStyle(LINE_STYLE_SOLID );<font></font>
	<span class="hljs-comment">//   </span>
	myLine.setLineWidth(<span class="hljs-number">1</span>);
	<span class="hljs-comment">//    </span><font></font>
	presentation.add(myLine);	<font></font>
}<font></font>
	<span class="hljs-comment">//           </span>
	ShapeLine myLine = <span class="hljs-keyword">new</span> ShapeLine();<font></font>
	myLine.setX(myTowns.get(myAnts.get(bestAnt).isVisited.get(myAnts.get(bestAnt).isVisited.size()-<span class="hljs-number">1</span>)).getX());<font></font>
	myLine.setY(myTowns.get(myAnts.get(bestAnt).isVisited.get(myAnts.get(bestAnt).isVisited.size()-<span class="hljs-number">1</span>)).getY());<font></font>
	myLine.setEndX(myTowns.get(myAnts.get(bestAnt).isVisited.get(<span class="hljs-number">0</span>)).getX());<font></font>
	myLine.setEndY(myTowns.get(myAnts.get(bestAnt).isVisited.get(<span class="hljs-number">0</span>)).getY());<font></font>
	myLine.setColor(blue);<font></font>
	myLine.setLineStyle(LINE_STYLE_SOLID );<font></font>
	myLine.setLineWidth(<span class="hljs-number">1</span>);<font></font>
	presentation.add(myLine);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par consÃ©quent, vous devriez pouvoir faire comme indiquÃ© dans la figure 29a. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/am/eq/1b/ameq1bhejnkldupsbngygcqqndw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">29a - CrÃ©er la fonction "drawPath"</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Maintenant, revenons Ã  nos fourmis et ajoutons un code qui dÃ©terminera la fourmi du vainqueur, la longueur du meilleur itinÃ©raire et tracer cet itinÃ©raire entre les villes. </font><font style="vertical-align: inherit;">Pourquoi, dans l'onglet Â«ProjetsÂ», sÃ©lectionnez l'agent Â«MyAntÂ», puis sÃ©lectionnez le bloc Â«All BypassedÂ» et ajoutez le code suivant au champ Â«Logon ActionÂ»:</font></font><br>
<pre><code class="java hljs"><span class="hljs-comment">//    </span><font></font>
main.numberFinish++;<font></font>
<span class="hljs-comment">//      </span>
<span class="hljs-keyword">if</span> (main.bestDistance&gt;distance) {
	<span class="hljs-comment">//           </span>
	<span class="hljs-comment">//      </span><font></font>
	main.bestDistance=distance;<font></font>
	<span class="hljs-comment">//    </span>
	main.bestAnt = <span class="hljs-keyword">this</span>.getIndex();<font></font>
}<font></font>
<span class="hljs-comment">//         Main   </span>
<span class="hljs-keyword">if</span> (main.numberFinish==main.myAnts.size()) main.drawPath();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il devrait tourner comme indiquÃ© dans la figure 30. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/68/ss/7c/68ss7cvbvbfbwkz26u6abdvwit8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">30 - Ajout de logique au bloc "All Bypassed".</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ensuite, vous pouvez appuyer sur "F5" et lancer le modÃ¨le. </font><font style="vertical-align: inherit;">Les fourmis courront Ã  la recherche d'itinÃ©raires et une fois les villes terminÃ©es, la ligne bleue se connectera, ce qui est le meilleur itinÃ©raire.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter un histogramme au modÃ¨le</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que le modÃ¨le devienne plus scientifique, vous devez ajouter un graphique. Par consÃ©quent, nous ajouterons non seulement un graphique et un histogramme qui nous montreront la distribution de la longueur des routes que les fourmis ont surmontÃ©es. Pourquoi dans l'onglet "Projets" sÃ©lectionner l'agent "Principal" et aller dans son espace. De plus, dans la "Palette" nous allons dans l'onglet "Statistiques" et de lÃ  Ã  l'agent "Principal" nous transfÃ©rons l'Ã©lÃ©ment "DonnÃ©es d'histogramme" et directement l '"Histogramme" lui-mÃªme. Ensuite, nous sÃ©lectionnons les histogrammes avec la souris et dans l'onglet Â«PropriÃ©tÃ©sÂ», dans le champ Â«DonnÃ©esÂ», spÃ©cifiez le nom de nos Â«DonnÃ©es d'histogrammeÂ» c'est-Ã -dire "Les donnÃ©es". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il devrait tourner comme indiquÃ© dans la figure 31 </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7v/bz/6i/7vbz6ikwgs7t0iintfnp2jz6wyw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. 31 - Construire un horaire</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AprÃ¨s quoi nous devrons de nouveau retourner chez notre fourmi et lui faire remplir l '"Histogramme" avec les valeurs de la longueur de la route. </font><font style="vertical-align: inherit;">Pourquoi, dans l'onglet projets, sÃ©lectionnez l'agent "MyAnt" et accÃ©dez Ã  son espace. </font><font style="vertical-align: inherit;">Ensuite, sÃ©lectionnez le bloc "All Bypass" et ajoutez-y une ligne "main.data.add (distance);". </font><font style="vertical-align: inherit;">Il devrait tourner comme indiquÃ© sur la figure 32. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bf/wa/zl/bfwazly38mrpwolpx4awmowj10o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">32 - Construire un graphe</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ensuite, appuyez sur "F5" et procÃ©dez Ã  l'Ã©tude du comportement de l'algorithme de fourmi. </font><font style="vertical-align: inherit;">Il devrait en rÃ©sulter quelque chose, quelque chose comme le montre la figure 33. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3w/8w/is/3w8wissyoccebi-8ona5px-cop0.gif"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. </font><font style="vertical-align: inherit;">33 - ModÃ©lisation</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et Ã  la fin, je recommande d'ajouter plus d'imprÃ©visibilitÃ© au modÃ¨le. </font><font style="vertical-align: inherit;">Pour cela, dans l'onglet Â«ProjetsÂ», sÃ©lectionnez l'Ã©lÃ©ment Â«Simulation: MainÂ» avec la souris et rÃ©glez le paramÃ¨tre Â«RandomnessÂ» sur Â«Randomness initial number (unique runs)Â» dans l'onglet properties - cela rendra chaque lancement de modÃ¨le unique (Fig. 34). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ie/ow/i6/ieowi6e32wykpsao8owpxbwzwzu.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure. </font><font style="vertical-align: inherit;">34 - Faire des runs alÃ©atoires</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Merci de votre attention! </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le code source peut Ãªtre tÃ©lÃ©chargÃ© depuis GitHub</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr500978/index.html">Retrays retardÃ©s par RabbitMQ</a></li>
<li><a href="../fr500980/index.html">Cerveau rx</a></li>
<li><a href="../fr500984/index.html">Bad Apple ou Happy Radio Day, geeks</a></li>
<li><a href="../fr500986/index.html">Surveillance dans le centre de donnÃ©es: comment nous avons changÃ© l'ancien BMS en un nouveau. 3e partie</a></li>
<li><a href="../fr500992/index.html">Comment est la gestion de la performance dans les meilleures entreprises informatiques</a></li>
<li><a href="../fr500996/index.html">Comment devenir ingÃ©nieur DevOps en six mois ou plus vite. Partie 1. Introduction</a></li>
<li><a href="../fr501002/index.html">Umka: nouveau langage de script typÃ© statiquement</a></li>
<li><a href="../fr501004/index.html">Fais le. Travail</a></li>
<li><a href="../fr501006/index.html">Nous sommes amis STM32 avec Ã©cran LCD 1604 sur bus I2C (bibliothÃ¨que HAL)</a></li>
<li><a href="../fr501008/index.html">Pavage Dominos</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>