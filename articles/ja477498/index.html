<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔗 🙎🏼 🖼️ nginx-clickhouseを使用してNginxからログを収集し、Clickhouseに送信してGrafanaに表示します 🖖 🔃 🥋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私はルクソフト出身です。この記事では、nginxログをクリックしてクリックハウスに送信するnginx-clickhouseプロジェクトについて説明します。ログ分析を表示するために、Grafanaのダッシュボードがあります。
 

nginx、clickhouse、grafanaを標準の方法でインスト...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>nginx-clickhouseを使用してNginxからログを収集し、Clickhouseに送信してGrafanaに表示します</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/477498/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私はルクソフト出身です。</font><font style="vertical-align: inherit;">この記事では、</font><font style="vertical-align: inherit;">nginxログをクリックしてクリックハウスに送信する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nginx-clickhouseプロジェクト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">について説明</font><font style="vertical-align: inherit;">します。</font><font style="vertical-align: inherit;">ログ分析を表示するために、Grafanaのダッシュボードがあります。</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nginx、clickhouse、grafanaを標準の方法でインストールします。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのパッケージが同じサーバーにインストールされます。</font></font></p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">githubのnginx-clickhouseページ</font></font></a></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpmパッケージnginx-clickhouseをインストールします。</font></font></p><br>
<pre><code class="bash hljs">yum -y install yum-plugin-copr<font></font>
yum copr <span class="hljs-built_in">enable</span> antonpatsev/nginx-clickhouse-rpm<font></font>
yum -y install nginx-clickhouse<font></font>
systemctl start nginx-clickhouse</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTPサービスのエミュレーターとして、mockifyを使用します。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rpm mockifyパッケージをインストールする</font></font></p><br>
<pre><code class="bash hljs">yum -y install yum-plugin-copr<font></font>
yum copr <span class="hljs-built_in">enable</span> antonpatsev/mockify-rpm<font></font>
yum -y install mockify<font></font>
systemctl start mockify</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nginx-clickhouse log_formatの形式は次のとおりです。</font></font></p><br>
<pre><code class="nginx hljs"><span class="hljs-attribute">log_format</span> main <span class="hljs-string">'<span class="hljs-variable">$remote_addr</span> - <span class="hljs-variable">$remote_user</span> [<span class="hljs-variable">$time_local</span>] "<span class="hljs-variable">$request</span>" <span class="hljs-variable">$status</span> <span class="hljs-variable">$bytes_sent</span> "<span class="hljs-variable">$http_referer</span>" "<span class="hljs-variable">$http_user_agent</span>"'</span>;</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般的なnginx設定：</font></font></p><br>
<pre><code class="nginx hljs"><span class="hljs-attribute">user</span>  nginx;
<span class="hljs-attribute">worker_processes</span>  auto;
<span class="hljs-attribute">worker_rlimit_nofile</span> <span class="hljs-number">40960</span>;<font></font>
<font></font>
<span class="hljs-attribute">error_log</span>  /var/log/nginx/error.log <span class="hljs-literal">warn</span>;
<span class="hljs-attribute">pid</span>        /var/run/nginx.pid;<font></font>
<font></font>
<span class="hljs-section">events</span> {
    <span class="hljs-attribute">use</span> <span class="hljs-literal">epoll</span>;
    <span class="hljs-attribute">worker_connections</span> <span class="hljs-number">1024</span>;
    <span class="hljs-attribute">multi_accept</span> <span class="hljs-literal">on</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-section">http</span> {
    <span class="hljs-attribute">include</span>       /etc/nginx/mime.types;
    <span class="hljs-attribute">default_type</span>  application/octet-stream;<font></font>
<font></font>
    <span class="hljs-attribute">log_format</span> main <span class="hljs-string">'<span class="hljs-variable">$remote_addr</span> - <span class="hljs-variable">$remote_user</span> [<span class="hljs-variable">$time_local</span>] "<span class="hljs-variable">$request</span>" <span class="hljs-variable">$status</span> <span class="hljs-variable">$bytes_sent</span> "<span class="hljs-variable">$http_referer</span>" "<span class="hljs-variable">$http_user_agent</span>"'</span>;<font></font>
<font></font>
    <span class="hljs-attribute">access_log</span> /var/log/nginx/access.log main;<font></font>
<font></font>
    <span class="hljs-attribute">sendfile</span> <span class="hljs-literal">on</span>;
    <span class="hljs-attribute">tcp_nodelay</span> <span class="hljs-literal">on</span>;
    <span class="hljs-attribute">tcp_nopush</span> <span class="hljs-literal">on</span>;
    <span class="hljs-attribute">keepalive_timeout</span>  <span class="hljs-number">65</span>;<font></font>
<font></font>
    <span class="hljs-attribute">include</span> /etc/nginx/conf.d/<span class="hljs-regexp">*.conf</span>;
    <span class="hljs-attribute">open_file_cache</span> max=<span class="hljs-number">200000</span> inactive=<span class="hljs-number">20s</span>;
    <span class="hljs-attribute">open_file_cache_valid</span> <span class="hljs-number">30s</span>;
    <span class="hljs-attribute">open_file_cache_min_uses</span> <span class="hljs-number">2</span>;
    <span class="hljs-attribute">open_file_cache_errors</span> <span class="hljs-literal">on</span>;<font></font>
}</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仮想ホスト構成：</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhost1.conf：</font></font></p><br>
<pre><code class="plaintext hljs">server {<font></font>
        listen   80;<font></font>
        server_name vhost1;<font></font>
        location / {<font></font>
                proxy_pass http://127.0.0.1:8001/200;<font></font>
        }<font></font>
}</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhost2.conf：</font></font></p><br>
<pre><code class="plaintext hljs">server {<font></font>
        listen   80;<font></font>
        server_name vhost2;<font></font>
        location / {<font></font>
                proxy_pass http://127.0.0.1:8001/200;<font></font>
        }<font></font>
}</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhost3.conf：</font></font></p><br>
<pre><code class="plaintext hljs">server {<font></font>
        listen   80;<font></font>
        server_name vhost3;<font></font>
        location / {<font></font>
                proxy_pass http://localhost:8001/304;<font></font>
        }<font></font>
}</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhost4.conf：</font></font></p><br>
<pre><code class="plaintext hljs">server {<font></font>
        listen   80;<font></font>
        server_name vhost4;<font></font>
        location / {<font></font>
                proxy_pass http://localhost:8001/401;<font></font>
        }<font></font>
}</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhost5.conf：</font></font></p><br>
<pre><code class="plaintext hljs">server {<font></font>
        listen   80;<font></font>
        server_name vhost5;<font></font>
        location / {<font></font>
                proxy_pass http://localhost:8001/500;<font></font>
        }<font></font>
}</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仮想ホストをホストファイルに追加します。</font></font></p><br>
<pre><code class="bash hljs">cat /etc/hosts<font></font>
127.0.0.1 vhost1<font></font>
127.0.0.1 vhost2<font></font>
127.0.0.1 vhost3<font></font>
127.0.0.1 vhost4<font></font>
127.0.0.1 vhost5</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nginx-clickhouse構成のデフォルトは </font></font></p><br>
<pre><code class="plaintext hljs">/etc/nginx-clickhouse/config/config.yml</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ログへのパスは、パラメーターの構成で変更できます。 </font></font><code>log_path:</code></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリックハウスでは、メトリックデータベースを作成する必要があります。</font></font></p><br>
<pre><code class="sql hljs"><span class="hljs-keyword">create</span> <span class="hljs-keyword">database</span> metrics</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、あなたはnginxテーブルを作成する必要があります：</font></font></p><br>
<pre><code class="plaintext hljs">CREATE TABLE metrics.nginx (<font></font>
    RemoteAddr String,<font></font>
    RemoteUser String,<font></font>
    TimeLocal DateTime,<font></font>
    Date Date DEFAULT toDate(TimeLocal),<font></font>
    Request String,<font></font>
    RequestMethod String,<font></font>
    Status Int32,<font></font>
    BytesSent Int64,<font></font>
    HttpReferer String,<font></font>
    HttpUserAgent String,<font></font>
    RequestTime Float32,<font></font>
    UpstreamConnectTime Float32,<font></font>
    UpstreamHeaderTime Float32,<font></font>
    UpstreamResponseTime Float32,<font></font>
    Https FixedString(2),<font></font>
    ConnectionsWaiting Int64,<font></font>
    ConnectionsActive Int64<font></font>
) ENGINE = MergeTree(Date, (Status, Date), 8192)</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grafanaでは、Clickhouseのデータソースを作成するときに、名前を付けます</font></font><code>ClickHouse Main Server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Grafanaの元のダッシュボードでは、それが彼の名前です。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">また、内容を含むテーブル変数を作成する必要があります</font></font><code>metrics.nginx</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/418/708/ec3/418708ec3125ab0c910ec1ed2ced1d1e.png" alt="画像"></p><br>
<p>   Grafana    .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">issue</a>:</p><br>
<p>    :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="json hljs">{
    <span class="hljs-attr">"editable"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"gnetId"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"graphTooltip"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"hideControls"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"refresh"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"rows"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"collapse"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"height"</span>: <span class="hljs-string">"250px"</span>,
    <span class="hljs-attr">"panels"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"aliasColors"</span>: {},
    <span class="hljs-attr">"bars"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dashLength"</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">"dashes"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"fill"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"legend"</span>: {
    <span class="hljs-attr">"avg"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"current"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"max"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"min"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"total"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"values"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    <span class="hljs-attr">"lines"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"linewidth"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"nullPointMode"</span>: <span class="hljs-string">"null"</span>,
    <span class="hljs-attr">"percentage"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"pointradius"</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">"points"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"renderer"</span>: <span class="hljs-string">"flot"</span>,
    <span class="hljs-attr">"seriesOverrides"</span>: [],
    <span class="hljs-attr">"spaceLength"</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">12</span>,
    <span class="hljs-attr">"stack"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"steppedLine"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkcyan\"&gt;$columns&lt;/font&gt;(Status, &lt;font color=\"navajowhite\"&gt;count&lt;/font&gt;(&lt;font color=\"yellow\"&gt;*&lt;/font&gt;) &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; c) &lt;font color=\"darkorange\"&gt;from&lt;/font&gt; metrics&lt;font color=\"yellow\"&gt;.&lt;/font&gt;nginx_streaming"</span>,
    <span class="hljs-attr">"hide"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"interval"</span>: <span class="hljs-string">"15s"</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"$columns(Status, count(*) as c) from metrics.nginx"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT t, groupArray((Status, c)) as groupArr FROM ( SELECT (intDiv(toUInt32(TimeLocal), 15) * 15) * 1000 as t, Status, count(*) as c from metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY t, Status ORDER BY t) GROUP BY t ORDER BY t"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"thresholds"</span>: [],
    <span class="hljs-attr">"timeFrom"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"timeShift"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Streaming API Requests &amp; Response"</span>,
    <span class="hljs-attr">"tooltip"</span>: {
    <span class="hljs-attr">"shared"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"sort"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"value_type"</span>: <span class="hljs-string">"individual"</span><font></font>
    },<font></font>
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"graph"</span>,
    <span class="hljs-attr">"xaxis"</span>: {
    <span class="hljs-attr">"buckets"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"mode"</span>: <span class="hljs-string">"time"</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"values"</span>: []<font></font>
    },<font></font>
    <span class="hljs-attr">"yaxes"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"decimals"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"short"</span>,
    <span class="hljs-attr">"label"</span>: <span class="hljs-string">"Requests"</span>,
    <span class="hljs-attr">"logBase"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"max"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"min"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"short"</span>,
    <span class="hljs-attr">"label"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"logBase"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"max"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"min"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">true</span><font></font>
    }<font></font>
    ]<font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"repeat"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"repeatIteration"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"repeatRowId"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"showTitle"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Dashboard Row"</span>,
    <span class="hljs-attr">"titleSize"</span>: <span class="hljs-string">"h6"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"collapse"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"height"</span>: <span class="hljs-number">399</span>,
    <span class="hljs-attr">"panels"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"columns"</span>: [],
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"fontSize"</span>: <span class="hljs-string">"100%"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"pageSize"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"scroll"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"showHeader"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"sort"</span>: {
    <span class="hljs-attr">"col"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"desc"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">6</span>,
    <span class="hljs-attr">"styles"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"alias"</span>: <span class="hljs-string">"Time"</span>,
    <span class="hljs-attr">"dateFormat"</span>: <span class="hljs-string">"YYYY-MM-DD HH:mm:ss"</span>,
    <span class="hljs-attr">"pattern"</span>: <span class="hljs-string">"Time"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"date"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"alias"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"colorMode"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"decimals"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"pattern"</span>: <span class="hljs-string">"/.*/"</span>,
    <span class="hljs-attr">"thresholds"</span>: [],
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
    <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"short"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkcyan\"&gt;$columns&lt;/font&gt;(Status, &lt;font color=\"navajowhite\"&gt;count&lt;/font&gt;(&lt;font color=\"yellow\"&gt;*&lt;/font&gt;) &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; c) &lt;font color=\"darkorange\"&gt;from&lt;/font&gt; metrics&lt;font color=\"yellow\"&gt;.&lt;/font&gt;nginx_streaming"</span>,
    <span class="hljs-attr">"hide"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"interval"</span>: <span class="hljs-string">"3600s"</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"$columns(Status, count(*) as c) from metrics.nginx"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT t, groupArray((Status, c)) as groupArr FROM ( SELECT (intDiv(toUInt32(TimeLocal), 3600) * 3600) * 1000 as t, Status, count(*) as c from metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY t, Status ORDER BY t) GROUP BY t ORDER BY t"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Requests Stats Table"</span>,
    <span class="hljs-attr">"transform"</span>: <span class="hljs-string">"timeseries_to_columns"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"table"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"aliasColors"</span>: {},
    <span class="hljs-attr">"bars"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dashLength"</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">"dashes"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"fill"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">3</span>,
    <span class="hljs-attr">"legend"</span>: {
    <span class="hljs-attr">"avg"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"current"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"max"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"min"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"total"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"values"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    <span class="hljs-attr">"lines"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"linewidth"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"nullPointMode"</span>: <span class="hljs-string">"null"</span>,
    <span class="hljs-attr">"percentage"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"pointradius"</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">"points"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"renderer"</span>: <span class="hljs-string">"flot"</span>,
    <span class="hljs-attr">"seriesOverrides"</span>: [],
    <span class="hljs-attr">"spaceLength"</span>: <span class="hljs-number">10</span>,
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">6</span>,
    <span class="hljs-attr">"stack"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"steppedLine"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkcyan\"&gt;$rate&lt;/font&gt;(&lt;font color=\"navajowhite\"&gt;avg&lt;/font&gt;(RequestTime) &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; RequestTime) &lt;font color=\"darkorange\"&gt;FROM&lt;/font&gt; metrics&lt;font color=\"yellow\"&gt;.&lt;/font&gt;nginx_streaming"</span>,
    <span class="hljs-attr">"hide"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"$rate(avg(RequestTime) as RequestTime) FROM metrics.nginx"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT t, RequestTime/runningDifference(t/1000) RequestTimeRate FROM ( SELECT (intDiv(toUInt32(TimeLocal), 120) * 120) * 1000 as t, avg(RequestTime) as RequestTime FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY t ORDER BY t)"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkcyan\"&gt;$rate&lt;/font&gt;(&lt;font color=\"navajowhite\"&gt;avg&lt;/font&gt;(UpstreamResponseTime) &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; UpstreamResponseTime) &lt;font color=\"darkorange\"&gt;FROM&lt;/font&gt; metrics&lt;font color=\"yellow\"&gt;.&lt;/font&gt;nginx_streaming"</span>,
    <span class="hljs-attr">"hide"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"$rate(avg(UpstreamResponseTime) as UpstreamResponseTime) FROM metrics.nginx"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT t, UpstreamResponseTime/runningDifference(t/1000) UpstreamResponseTimeRate FROM ( SELECT (intDiv(toUInt32(TimeLocal), 120) * 120) * 1000 as t, avg(UpstreamResponseTime) as UpstreamResponseTime FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY t ORDER BY t)"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"B"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkcyan\"&gt;$rate&lt;/font&gt;(&lt;font color=\"navajowhite\"&gt;avg&lt;/font&gt;(UpstreamConnectTime) &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; UpstreamConnectTime) &lt;font color=\"darkorange\"&gt;FROM&lt;/font&gt; metrics&lt;font color=\"yellow\"&gt;.&lt;/font&gt;nginx_streaming"</span>,
    <span class="hljs-attr">"hide"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"$rate(avg(UpstreamConnectTime) as UpstreamConnectTime) FROM metrics.nginx"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT t, UpstreamConnectTime/runningDifference(t/1000) UpstreamConnectTimeRate FROM ( SELECT (intDiv(toUInt32(TimeLocal), 120) * 120) * 1000 as t, avg(UpstreamConnectTime) as UpstreamConnectTime FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY t ORDER BY t)"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"C"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"thresholds"</span>: [],
    <span class="hljs-attr">"timeFrom"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"timeShift"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Response Timing"</span>,
    <span class="hljs-attr">"tooltip"</span>: {
    <span class="hljs-attr">"shared"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"sort"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"value_type"</span>: <span class="hljs-string">"individual"</span><font></font>
    },<font></font>
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"graph"</span>,
    <span class="hljs-attr">"xaxis"</span>: {
    <span class="hljs-attr">"buckets"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"mode"</span>: <span class="hljs-string">"time"</span>,
    <span class="hljs-attr">"name"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"values"</span>: []<font></font>
    },<font></font>
    <span class="hljs-attr">"yaxes"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"short"</span>,
    <span class="hljs-attr">"label"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"logBase"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"max"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"min"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"short"</span>,
    <span class="hljs-attr">"label"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"logBase"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"max"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"min"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">true</span><font></font>
    }<font></font>
    ]<font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"repeat"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"repeatIteration"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"repeatRowId"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"showTitle"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Dashboard Row"</span>,
    <span class="hljs-attr">"titleSize"</span>: <span class="hljs-string">"h6"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"collapse"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"height"</span>: <span class="hljs-number">250</span>,
    <span class="hljs-attr">"panels"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"cacheTimeout"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colorBackground"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"colorValue"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"none"</span>,
    <span class="hljs-attr">"gauge"</span>: {
    <span class="hljs-attr">"maxValue"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"minValue"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdLabels"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdMarkers"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">4</span>,
    <span class="hljs-attr">"interval"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"mappingType"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"mappingTypes"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"value to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">1</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"range to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">2</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"maxDataPoints"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"nullPointMode"</span>: <span class="hljs-string">"connected"</span>,
    <span class="hljs-attr">"nullText"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"postfix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"postfixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"prefixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"rangeMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"from"</span>: <span class="hljs-string">"null"</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"to"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"sparkline"</span>: {
    <span class="hljs-attr">"fillColor"</span>: <span class="hljs-string">"rgba(31, 118, 189, 0.18)"</span>,
    <span class="hljs-attr">"full"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"lineColor"</span>: <span class="hljs-string">"rgb(31, 120, 193)"</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    <span class="hljs-attr">"tableColumn"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkorange\"&gt;SELECT&lt;/font&gt;&lt;br /&gt;        &lt;font color=\"cornflowerblue\"&gt;1&lt;/font&gt; &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; t,&lt;br /&gt;        &lt;font color=\"navajowhite\"&gt;count&lt;/font&gt;(&lt;font color=\"yellow\"&gt;*&lt;/font&gt;) &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; c&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;FROM&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$table&lt;/font&gt;&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;WHERE&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$timeFilter&lt;/font&gt; &lt;font color=\"darkorange\"&gt;GROUP BY&lt;/font&gt; t"</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"SELECT\n 1 as t,\n count(*) as c\n FROM $table\n WHERE $timeFilter GROUP BY t"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT 1 as t, count(*) as c FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY t"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"thresholds"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Total Requests"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"singlestat"</span>,
    <span class="hljs-attr">"valueFontSize"</span>: <span class="hljs-string">"80%"</span>,
    <span class="hljs-attr">"valueMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"="</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"valueName"</span>: <span class="hljs-string">"avg"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"cacheTimeout"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colorBackground"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"colorValue"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"ops"</span>,
    <span class="hljs-attr">"gauge"</span>: {
    <span class="hljs-attr">"maxValue"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"minValue"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdLabels"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdMarkers"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">5</span>,
    <span class="hljs-attr">"interval"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"mappingType"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"mappingTypes"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"value to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">1</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"range to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">2</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"maxDataPoints"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"nullPointMode"</span>: <span class="hljs-string">"connected"</span>,
    <span class="hljs-attr">"nullText"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"postfix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"postfixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"prefixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"rangeMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"from"</span>: <span class="hljs-string">"null"</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"to"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"sparkline"</span>: {
    <span class="hljs-attr">"fillColor"</span>: <span class="hljs-string">"rgba(31, 118, 189, 0.18)"</span>,
    <span class="hljs-attr">"full"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"lineColor"</span>: <span class="hljs-string">"rgb(31, 120, 193)"</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    <span class="hljs-attr">"tableColumn"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkorange\"&gt;SELECT&lt;/font&gt;&lt;br /&gt;        &lt;font color=\"cornflowerblue\"&gt;1&lt;/font&gt; &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; t,&lt;br /&gt;        &lt;font color=\"navajowhite\"&gt;count&lt;/font&gt;(&lt;font color=\"yellow\"&gt;*&lt;/font&gt;) &lt;font color=\"yellow\"&gt;/&lt;/font&gt; &lt;font color=\"cornflowerblue\"&gt;3600&lt;/font&gt;&lt;font color=\"yellow\"&gt;*&lt;/font&gt;&lt;font color=\"cornflowerblue\"&gt;24&lt;/font&gt; &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; c&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;FROM&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$table&lt;/font&gt;&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;WHERE&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$timeFilter&lt;/font&gt; &lt;font color=\"darkorange\"&gt;GROUP BY&lt;/font&gt; t"</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"SELECT\n 1 as t,\n count(*) / 3600*24 as c\n FROM $table\n WHERE $timeFilter GROUP BY t"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT 1 as t, count(*) / 3600*24 as c FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY t"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"thresholds"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"RPS"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"singlestat"</span>,
    <span class="hljs-attr">"valueFontSize"</span>: <span class="hljs-string">"80%"</span>,
    <span class="hljs-attr">"valueMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"="</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"valueName"</span>: <span class="hljs-string">"avg"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"cacheTimeout"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colorBackground"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"colorValue"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"none"</span>,
    <span class="hljs-attr">"gauge"</span>: {
    <span class="hljs-attr">"maxValue"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"minValue"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdLabels"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdMarkers"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">6</span>,
    <span class="hljs-attr">"interval"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"mappingType"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"mappingTypes"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"value to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">1</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"range to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">2</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"maxDataPoints"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"nullPointMode"</span>: <span class="hljs-string">"connected"</span>,
    <span class="hljs-attr">"nullText"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"postfix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"postfixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"prefixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"rangeMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"from"</span>: <span class="hljs-string">"null"</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"to"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"sparkline"</span>: {
    <span class="hljs-attr">"fillColor"</span>: <span class="hljs-string">"rgba(31, 118, 189, 0.18)"</span>,
    <span class="hljs-attr">"full"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"lineColor"</span>: <span class="hljs-string">"rgb(31, 120, 193)"</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    <span class="hljs-attr">"tableColumn"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkorange\"&gt;SELECT&lt;/font&gt;&lt;br /&gt;        &lt;font color=\"cornflowerblue\"&gt;1&lt;/font&gt; &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; t,&lt;br /&gt;        &lt;font color=\"navajowhite\"&gt;count&lt;/font&gt;(&lt;font color=\"yellow\"&gt;*&lt;/font&gt;) &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; c&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;FROM&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$table&lt;/font&gt;&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;WHERE&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$timeFilter&lt;/font&gt; &lt;font color=\"yellow\"&gt;AND&lt;/font&gt; Status &lt;font color=\"darkorange\"&gt;NOT&lt;/font&gt; &lt;font color=\"darkorange\"&gt;IN&lt;/font&gt; (&lt;font color=\"cornflowerblue\"&gt;200&lt;/font&gt;, &lt;font color=\"cornflowerblue\"&gt;201&lt;/font&gt;, &lt;font color=\"cornflowerblue\"&gt;401&lt;/font&gt;) &lt;font color=\"darkorange\"&gt;GROUP BY&lt;/font&gt; t"</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"SELECT\n 1 as t,\n count(*) as c\n FROM $table\n WHERE $timeFilter AND Status NOT IN (200, 201, 401) GROUP BY t"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT 1 as t, count(*) as c FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) AND Status NOT IN (200, 201, 401) GROUP BY t"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"thresholds"</span>: <span class="hljs-string">"10,20,50"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Failed Requests"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"singlestat"</span>,
    <span class="hljs-attr">"valueFontSize"</span>: <span class="hljs-string">"80%"</span>,
    <span class="hljs-attr">"valueMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"="</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"valueName"</span>: <span class="hljs-string">"avg"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"cacheTimeout"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colorBackground"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"colorValue"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"decimals"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"none"</span>,
    <span class="hljs-attr">"gauge"</span>: {
    <span class="hljs-attr">"maxValue"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"minValue"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdLabels"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdMarkers"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">9</span>,
    <span class="hljs-attr">"interval"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"mappingType"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"mappingTypes"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"value to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">1</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"range to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">2</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"maxDataPoints"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"nullPointMode"</span>: <span class="hljs-string">"connected"</span>,
    <span class="hljs-attr">"nullText"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"postfix"</span>: <span class="hljs-string">"%"</span>,
    <span class="hljs-attr">"postfixFontSize"</span>: <span class="hljs-string">"80%"</span>,
    <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"prefixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"rangeMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"from"</span>: <span class="hljs-string">"null"</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"to"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"sparkline"</span>: {
    <span class="hljs-attr">"fillColor"</span>: <span class="hljs-string">"rgba(31, 118, 189, 0.18)"</span>,
    <span class="hljs-attr">"full"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"lineColor"</span>: <span class="hljs-string">"rgb(31, 120, 193)"</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    <span class="hljs-attr">"tableColumn"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkorange\"&gt;SELECT&lt;/font&gt;&lt;br /&gt;        &lt;font color=\"cornflowerblue\"&gt;1&lt;/font&gt; &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; t, (&lt;font color=\"navajowhite\"&gt;sum&lt;/font&gt;(Status &lt;font color=\"yellow\"&gt;=&lt;/font&gt; &lt;font color=\"cornflowerblue\"&gt;500&lt;/font&gt; &lt;font color=\"yellow\"&gt;or&lt;/font&gt; Status &lt;font color=\"yellow\"&gt;=&lt;/font&gt; &lt;font color=\"cornflowerblue\"&gt;499&lt;/font&gt;)&lt;font color=\"yellow\"&gt;/&lt;/font&gt;&lt;font color=\"navajowhite\"&gt;sum&lt;/font&gt;(Status &lt;font color=\"yellow\"&gt;=&lt;/font&gt; &lt;font color=\"cornflowerblue\"&gt;200&lt;/font&gt; &lt;font color=\"yellow\"&gt;or&lt;/font&gt; Status &lt;font color=\"yellow\"&gt;=&lt;/font&gt; &lt;font color=\"cornflowerblue\"&gt;201&lt;/font&gt; &lt;font color=\"yellow\"&gt;or&lt;/font&gt; Status &lt;font color=\"yellow\"&gt;=&lt;/font&gt; &lt;font color=\"cornflowerblue\"&gt;401&lt;/font&gt;))&lt;font color=\"yellow\"&gt;*&lt;/font&gt;&lt;font color=\"cornflowerblue\"&gt;100&lt;/font&gt; &lt;font color=\"darkorange\"&gt;FROM&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$table&lt;/font&gt;&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;WHERE&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$timeFilter&lt;/font&gt; &lt;font color=\"darkorange\"&gt;GROUP BY&lt;/font&gt; t"</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"SELECT\n 1 as t, (sum(Status = 500 or Status = 499)/sum(Status = 200 or Status = 201 or Status = 401))*100 FROM $table\n WHERE $timeFilter GROUP BY t"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT 1 as t, (sum(Status = 500 or Status = 499)/sum(Status = 200 or Status = 201 or Status = 401))*100 FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY t"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"thresholds"</span>: <span class="hljs-string">"1,5"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Failing Prcent"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"singlestat"</span>,
    <span class="hljs-attr">"valueFontSize"</span>: <span class="hljs-string">"80%"</span>,
    <span class="hljs-attr">"valueMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"="</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"valueName"</span>: <span class="hljs-string">"current"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"cacheTimeout"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colorBackground"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"colorValue"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"s"</span>,
    <span class="hljs-attr">"gauge"</span>: {
    <span class="hljs-attr">"maxValue"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"minValue"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdLabels"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdMarkers"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">7</span>,
    <span class="hljs-attr">"interval"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"mappingType"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"mappingTypes"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"value to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">1</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"range to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">2</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"maxDataPoints"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"nullPointMode"</span>: <span class="hljs-string">"connected"</span>,
    <span class="hljs-attr">"nullText"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"postfix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"postfixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"prefixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"rangeMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"from"</span>: <span class="hljs-string">"null"</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"to"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"sparkline"</span>: {
    <span class="hljs-attr">"fillColor"</span>: <span class="hljs-string">"rgba(31, 118, 189, 0.18)"</span>,
    <span class="hljs-attr">"full"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"lineColor"</span>: <span class="hljs-string">"rgb(31, 120, 193)"</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    <span class="hljs-attr">"tableColumn"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkorange\"&gt;SELECT&lt;/font&gt;&lt;br /&gt;        &lt;font color=\"cornflowerblue\"&gt;1&lt;/font&gt;, &lt;font color=\"navajowhite\"&gt;avg&lt;/font&gt;(RequestTime) &lt;font color=\"darkorange\"&gt;FROM&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$table&lt;/font&gt;&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;WHERE&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$timeFilter&lt;/font&gt; &lt;font color=\"darkorange\"&gt;GROUP BY&lt;/font&gt; &lt;font color=\"cornflowerblue\"&gt;1&lt;/font&gt;"</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"SELECT\n 1, avg(RequestTime) FROM $table\n WHERE $timeFilter GROUP BY 1"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT 1, avg(RequestTime) FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY 1"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"thresholds"</span>: <span class="hljs-string">"0.02,0.05,0.1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Avg Response Time"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"singlestat"</span>,
    <span class="hljs-attr">"valueFontSize"</span>: <span class="hljs-string">"80%"</span>,
    <span class="hljs-attr">"valueMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"="</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"valueName"</span>: <span class="hljs-string">"avg"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"cacheTimeout"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colorBackground"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"colorValue"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"decimals"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"format"</span>: <span class="hljs-string">"s"</span>,
    <span class="hljs-attr">"gauge"</span>: {
    <span class="hljs-attr">"maxValue"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"minValue"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdLabels"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"thresholdMarkers"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">8</span>,
    <span class="hljs-attr">"interval"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"mappingType"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"mappingTypes"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"value to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">1</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"name"</span>: <span class="hljs-string">"range to text"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-number">2</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"maxDataPoints"</span>: <span class="hljs-number">100</span>,
    <span class="hljs-attr">"nullPointMode"</span>: <span class="hljs-string">"connected"</span>,
    <span class="hljs-attr">"nullText"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"postfix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"postfixFontSize"</span>: <span class="hljs-string">"70%"</span>,
    <span class="hljs-attr">"prefix"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"prefixFontSize"</span>: <span class="hljs-string">"50%"</span>,
    <span class="hljs-attr">"rangeMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"from"</span>: <span class="hljs-string">"null"</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"to"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"sparkline"</span>: {
    <span class="hljs-attr">"fillColor"</span>: <span class="hljs-string">"rgba(31, 118, 189, 0.18)"</span>,
    <span class="hljs-attr">"full"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"lineColor"</span>: <span class="hljs-string">"rgb(31, 120, 193)"</span>,
    <span class="hljs-attr">"show"</span>: <span class="hljs-literal">false</span><font></font>
    },<font></font>
    <span class="hljs-attr">"tableColumn"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"&lt;font color=\"darkorange\"&gt;SELECT&lt;/font&gt;&lt;br /&gt;        &lt;font color=\"cornflowerblue\"&gt;1&lt;/font&gt; &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; t, &lt;font color=\"navajowhite\"&gt;max&lt;/font&gt;(RequestTime) &lt;font color=\"darkorange\"&gt;as&lt;/font&gt; c&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;FROM&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$table&lt;/font&gt;&lt;br /&gt;    &lt;font color=\"darkorange\"&gt;WHERE&lt;/font&gt; &lt;font color=\"darkcyan\"&gt;$timeFilter&lt;/font&gt; &lt;font color=\"darkorange\"&gt;GROUP BY&lt;/font&gt; t"</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"SELECT\n 1 as t, max(RequestTime) as c\n FROM $table\n WHERE $timeFilter GROUP BY t"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT 1 as t, max(RequestTime) as c FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) GROUP BY t"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"thresholds"</span>: <span class="hljs-string">"0.2,0.5,1"</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Max Response Time"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"singlestat"</span>,
    <span class="hljs-attr">"valueFontSize"</span>: <span class="hljs-string">"80%"</span>,
    <span class="hljs-attr">"valueMaps"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"op"</span>: <span class="hljs-string">"="</span>,
    <span class="hljs-attr">"text"</span>: <span class="hljs-string">"N/A"</span>,
    <span class="hljs-attr">"value"</span>: <span class="hljs-string">"null"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"valueName"</span>: <span class="hljs-string">"current"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"repeat"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"repeatIteration"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"repeatRowId"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"showTitle"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Dashboard Row"</span>,
    <span class="hljs-attr">"titleSize"</span>: <span class="hljs-string">"h6"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"collapse"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"height"</span>: <span class="hljs-string">"450"</span>,
    <span class="hljs-attr">"panels"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"columns"</span>: [],
    <span class="hljs-attr">"datasource"</span>: <span class="hljs-string">"ClickHouse Main Server"</span>,
    <span class="hljs-attr">"fontSize"</span>: <span class="hljs-string">"100%"</span>,
    <span class="hljs-attr">"id"</span>: <span class="hljs-number">11</span>,
    <span class="hljs-attr">"links"</span>: [],
    <span class="hljs-attr">"pageSize"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"scroll"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"showHeader"</span>: <span class="hljs-literal">true</span>,
    <span class="hljs-attr">"sort"</span>: {
    <span class="hljs-attr">"col"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"desc"</span>: <span class="hljs-literal">true</span><font></font>
    },<font></font>
    <span class="hljs-attr">"span"</span>: <span class="hljs-number">8</span>,
    <span class="hljs-attr">"styles"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"alias"</span>: <span class="hljs-string">"Time"</span>,
    <span class="hljs-attr">"dateFormat"</span>: <span class="hljs-string">"HH:mm:ss"</span>,
    <span class="hljs-attr">"pattern"</span>: <span class="hljs-string">"Time"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"date"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"alias"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"colorMode"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"dateFormat"</span>: <span class="hljs-string">"YYYY-MM-DD HH:mm:ss"</span>,
    <span class="hljs-attr">"decimals"</span>: <span class="hljs-number">0</span>,
    <span class="hljs-attr">"pattern"</span>: <span class="hljs-string">"Status"</span>,
    <span class="hljs-attr">"thresholds"</span>: [],
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
    <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"none"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"alias"</span>: <span class="hljs-string">"Response Time"</span>,
    <span class="hljs-attr">"colorMode"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"dateFormat"</span>: <span class="hljs-string">"YYYY-MM-DD HH:mm:ss"</span>,
    <span class="hljs-attr">"decimals"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"pattern"</span>: <span class="hljs-string">"RequestTime"</span>,
    <span class="hljs-attr">"thresholds"</span>: [
    <span class="hljs-string">"50"</span>,
    <span class="hljs-string">"70"</span>,
    <span class="hljs-string">"100"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
    <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"dtdurations"</span><font></font>
    },<font></font>
    {<font></font>
    <span class="hljs-attr">"alias"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"colorMode"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"colors"</span>: [
    <span class="hljs-string">"rgba(245, 54, 54, 0.9)"</span>,
    <span class="hljs-string">"rgba(237, 129, 40, 0.89)"</span>,
    <span class="hljs-string">"rgba(50, 172, 45, 0.97)"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"decimals"</span>: <span class="hljs-number">2</span>,
    <span class="hljs-attr">"pattern"</span>: <span class="hljs-string">"/.*/"</span>,
    <span class="hljs-attr">"thresholds"</span>: [],
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
    <span class="hljs-attr">"unit"</span>: <span class="hljs-string">"short"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"targets"</span>: [<font></font>
    {<font></font>
    <span class="hljs-attr">"database"</span>: <span class="hljs-string">"metrics"</span>,
    <span class="hljs-attr">"dateColDataType"</span>: <span class="hljs-string">"Date"</span>,
    <span class="hljs-attr">"dateLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"dateTimeColDataType"</span>: <span class="hljs-string">"TimeLocal"</span>,
    <span class="hljs-attr">"datetimeLoading"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"formattedQuery"</span>: <span class="hljs-string">"SELECT TimeLocal as t, Status, RequestMethod, splitByChar(' ', Request)[2] as Request, RequestTime FROM $table WHERE $timeFilter AND Status NOT IN (200, 201) AND RequestMethod != 'OPTIONS' ORDER BY t"</span>,
    <span class="hljs-attr">"intervalFactor"</span>: <span class="hljs-number">1</span>,
    <span class="hljs-attr">"query"</span>: <span class="hljs-string">"SELECT TimeLocal as t, Status, RequestMethod, splitByChar(' ', Request)[2] as Request, RequestTime FROM $table WHERE $timeFilter AND Status NOT IN (200, 201) AND RequestMethod != 'OPTIONS' ORDER BY t"</span>,
    <span class="hljs-attr">"rawQuery"</span>: <span class="hljs-string">"SELECT TimeLocal as t, Status, RequestMethod, splitByChar(' ', Request)[2] as Request, RequestTime FROM metrics.nginx WHERE Date &gt;= toDate(1539358595) AND TimeLocal &gt;= toDateTime(1539358595) AND Status NOT IN (200, 201) AND RequestMethod != 'OPTIONS' ORDER BY t"</span>,
    <span class="hljs-attr">"refId"</span>: <span class="hljs-string">"A"</span>,
    <span class="hljs-attr">"resultFormat"</span>: <span class="hljs-string">"time_series"</span>,
    <span class="hljs-attr">"table"</span>: <span class="hljs-string">"nginx_streaming"</span>,
    <span class="hljs-attr">"tableLoading"</span>: <span class="hljs-literal">false</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Error Requests"</span>,
    <span class="hljs-attr">"transform"</span>: <span class="hljs-string">"timeseries_to_columns"</span>,
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"table"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"repeat"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"repeatIteration"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"repeatRowId"</span>: <span class="hljs-literal">null</span>,
    <span class="hljs-attr">"showTitle"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Dashboard Row"</span>,
    <span class="hljs-attr">"titleSize"</span>: <span class="hljs-string">"h6"</span><font></font>
    }<font></font>
    ],<font></font>
    <span class="hljs-attr">"schemaVersion"</span>: <span class="hljs-number">14</span>,
    <span class="hljs-attr">"style"</span>: <span class="hljs-string">"dark"</span>,
    <span class="hljs-attr">"tags"</span>: [],
    <span class="hljs-attr">"templating"</span>: {
    <span class="hljs-attr">"list"</span>: []<font></font>
    },<font></font>
    <span class="hljs-attr">"time"</span>: {
    <span class="hljs-attr">"from"</span>: <span class="hljs-string">"now-24h"</span>,
    <span class="hljs-attr">"to"</span>: <span class="hljs-string">"now"</span><font></font>
    },<font></font>
    <span class="hljs-attr">"timepicker"</span>: {
    <span class="hljs-attr">"refresh_intervals"</span>: [
    <span class="hljs-string">"5s"</span>,
    <span class="hljs-string">"10s"</span>,
    <span class="hljs-string">"30s"</span>,
    <span class="hljs-string">"1m"</span>,
    <span class="hljs-string">"5m"</span>,
    <span class="hljs-string">"15m"</span>,
    <span class="hljs-string">"30m"</span>,
    <span class="hljs-string">"1h"</span>,
    <span class="hljs-string">"2h"</span>,
    <span class="hljs-string">"1d"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"time_options"</span>: [
    <span class="hljs-string">"5m"</span>,
    <span class="hljs-string">"15m"</span>,
    <span class="hljs-string">"1h"</span>,
    <span class="hljs-string">"6h"</span>,
    <span class="hljs-string">"12h"</span>,
    <span class="hljs-string">"24h"</span>,
    <span class="hljs-string">"2d"</span>,
    <span class="hljs-string">"7d"</span>,
    <span class="hljs-string">"30d"</span><font></font>
    ]<font></font>
    },<font></font>
    <span class="hljs-attr">"timezone"</span>: <span class="hljs-string">""</span>,
    <span class="hljs-attr">"title"</span>: <span class="hljs-string">"Streaming API"</span>,
    <span class="hljs-attr">"version"</span>: <span class="hljs-number">17</span>
    }</code></pre></div></div><br>
<p>    Apache benchmark.</p><br>
<p> :</p><br>
<pre><code class="bash hljs">yum install -y httpd-tools</code></pre><br>
<p>    Apache benchmark   :</p><br>
<pre><code class="plaintext hljs">while true; do ab -c 1 -n 1 -t 1 http://vhost1/; sleep 2; done<font></font>
while true; do ab -c 1 -n 1 -t 1 http://vhost2/; sleep 2; done<font></font>
while true; do ab -c 1 -n 1 -t 1 http://vhost3/; sleep 2; done<font></font>
while true; do ab -c 1 -n 1 -t 1 http://vhost4/; sleep 2; done<font></font>
while true; do ab -c 1 -n 1 -t 1 http://vhost5/; sleep 2; done</code></pre><br>
<p>:</p><br>
<p><img src="https://habrastorage.org/webt/3m/l7/bv/3ml7bvqt_5yyi8ozwczvn6rjbro.png"></p><br>
<p><img src="https://habrastorage.org/webt/27/fp/ld/27fpld_mwyyqlo0f7-zjaw__h6m.png"></p><br>
<p>  github :</p><br>
<p><img src="https://habrastorage.org/getpro/habr/post_images/950/f98/afe/950f98afe48bd0855a3bf416e004bfda.png"></p><br>
<p>:</p><br>
<p>    .   .</p><br>
<p>     ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">issue</a>.</p><br>
<p>Telegram :<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Clickhouse</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">Nginx</a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> </a></p><br>
<p>  :      clickhouse,   self-hosted /            Nginx?</p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新：プロジェクトの作成者が私のプルリクエストを受け入れました：</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">//github.com/mintance/nginx-clickhouse/pull/9 </font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/mintance/nginx-clickhouse/pull/10 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com / mintance / nginx-clickhouse / pull / 11</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
また、作者は問題で答え始めました：</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">//github.com/mintance/nginx-clickhouse/issues/7 </font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/mintance/nginx-clickhouse/issues/ 8</font></font></a></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja477488/index.html">Neungers：スパイスは流れなければならない</a></li>
<li><a href="../ja477490/index.html">キッチンロボティクスパート2または別のBlynkアバター</a></li>
<li><a href="../ja477492/index.html">サーバールームには何が残りますか？</a></li>
<li><a href="../ja477494/index.html">1. Check Pointフォレンジックを使用したマルウェア分析。サンドブラストネットワーク</a></li>
<li><a href="../ja477496/index.html">ひびの入ったガラスマスク-計画的なPRですか？</a></li>
<li><a href="../ja477500/index.html">アプリケーションモデル（Avalanche-Javaのアプリケーションフレームワーク）</a></li>
<li><a href="../ja477502/index.html">健康な雇用主のリモートワーク</a></li>
<li><a href="../ja477506/index.html">サーバーなしのモバイルアプリケーションの開発</a></li>
<li><a href="../ja477508/index.html">レーダー探知機：倫理に関するいくつかの単語と法律に関する多くの単語</a></li>
<li><a href="../ja477510/index.html">Mikrotikの動的アドレスリストの自動バックアップと復元</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>