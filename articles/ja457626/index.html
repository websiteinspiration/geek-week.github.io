<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙏🏽 🤲🏼 ☑️ Bitrix CMS（BUS）の例を使用したPower BIを使用したユーザーアクセスレベルの改訂 🔼 🌊 🔗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事は、Power BIを使用して、1C-Bitrixを実行しているサイトでのユーザーアクセスを分析する例を示しています。
 
 問題
 時間の経過とともに、サイトの平均的なユーザーよりも高度な権限を持つインターネットリソースの開発に接続するユーザーが増えています。
 
 これに関して、機密機能...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Bitrix CMS（BUS）の例を使用したPower BIを使用したユーザーアクセスレベルの改訂</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/457626/"><img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.21-7683.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事は、Power BIを使用して、1C-Bitrixを実行しているサイトでのユーザーアクセスを分析する例を示しています。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
時間の経過とともに、サイトの平均的なユーザーよりも高度な権限を持つインターネットリソースの開発に接続するユーザーが増えています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これに関して、機密機能へのアクセスを制御することはますます困難になっています。まあ、多かれ少なかれ安全なレベルでアクセスを制御するのに役立つルールが書かれているならしかし、同僚が他の部署に移動したり、法令を遵守したりすることもよくあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然、これにはさまざまな脅威が伴います。たとえば、顧客ベースの漏洩、サボタージュまでなどです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私が取り組んできたプロジェクト</font><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">年齢は10年です。データベースには数十万のユーザーがいます。これには何百もの特権を持つユーザーが含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、Bitrix CMS（BUS）の制御下でさまざまなサイトオブジェクトに対するユーザーの監査を簡略化する方法の例を示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題は、Bitrix管理パネルでは、アクセスの全体像を把握する機会が提供されないことです。</font><font style="vertical-align: inherit;">一連のリンクをクリックして、管理ページが読み込まれるのを待つのも不愉快です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Power BIはこのためのメインツールとして使用されます（その主な目的から少し外れます）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
読者は、Power BIの基本レベルにすでに精通しており、SQLの基本を理解しており、Bitrix管理パネルの使用方法も知っていることが前提です。</font><font style="vertical-align: inherit;">Bitrixの標準のアクセシビリティ機能が検討されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bitrix管理パネルの欠点</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクセス-アクセスが許可されているすべてのモジュール/セクション/情報ブロックなどの概要データなど、アクセスに関する一貫した図がないため、標準の管理パネルで許容時間内に監査を行うことは不可能です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
管理パフォーマンス：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bitrix管理パネルの「ユーザーグループ」セクションには、ユーザー数を含むすべてのグループを選択するSQLクエリを生成する機能があります。</font><font style="vertical-align: inherit;">土台が小さいときはすべてが良い。</font><font style="vertical-align: inherit;">しかし、数十万のユーザーのデータベースと128 GBのRAMを備えた専用サーバーに数百のユーザーグループがある場合、このセクションを開くだけで8秒かかります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グループカードにもリクエストがあり、何らかの理由ですべてのユーザーグループを選択するのではなく、選択したグループのデータのみを受信します。</font><font style="vertical-align: inherit;">ホールドロス3秒。</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューション</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、問題にはいくつかの解決策があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイトへのアクセスを提供するためのルールを記述し、それらを明確に守ってください。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定期的にアクセス監査を実施します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">限られた会社のリソースを無駄にしない最高のものを望んでいます。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、2番目の方法のみを検討します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タスク</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張された権限を持つ各ユーザーのアクセスレベルに関するデータをすばやく取得できるツールを選択します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ツールをセットアップして、必要な詳細と対話性を備えたアクセス全体の画像を明確に示すようにします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセス監査を実施します。</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bitrixのストレージにアクセスする</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitrixを使用すると、ユーザーグループを通じて権限を非常に柔軟に構成できます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクセス設定は主にMySQLテーブルに保存されます。</font><font style="vertical-align: inherit;">一部の設定はファイルに保存されます。</font><font style="vertical-align: inherit;">たとえば、ファイルとフォルダへのアクセスは.access.phpファイルに保存されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下へのユーザーおよびユーザーグループアクセスの分析：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情報ブロック</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセスレベルのあるWebフォーム</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセスレベル付きのWebフォームのステータス</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイトのセクション</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセスレベルを備えたBitrixモジュール</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ツール</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データを適切に視覚化できるPower BI Desktopを使用すると、（ほとんど）さまざまなソースからデータをすぐに取得できます。</font><font style="vertical-align: inherit;">実際、Power BIは通常のExcel 2016以降で置き換えることができます。PowerQueryはすでに配布に含まれており、分析用にすべてのデータを選択できます。</font><font style="vertical-align: inherit;">ただし、Power BIを使用すると、データの関係に基づいてインタラクティブにデータを表示できるため、非表示の依存関係をすばやく見つけることができます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQLコネクタは、Power BIを介してMySQL Webサーバーへのクエリを作成するために必要です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースへのアクセスがSSH経由でのみ開かれている場合は、MySqlへのトンネリング用のKittyまたはPutty。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のアクセススキームが取得されます：Power BI→MySQL Connector→Kitty→MySQL。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BI</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Power BI Desktop-すぐにデータを視覚化し、（ほとんど）多数のソースからデータを取得できます。</font><font style="vertical-align: inherit;">実際、Power BIは通常のExcel 2016以降で置き換えることができます。PowerQueryはすでに配布に含まれており、分析用にすべてのデータを選択できます。</font><font style="vertical-align: inherit;">ただし、Power BIを使用すると、データの関係に基づいてインタラクティブにデータを表示できます。これにより、アクセスリビジョンに必要な非表示の依存関係をすばやく見つけることができます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">公式ページから</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ダウンロードでき</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQLコネクタ</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
移動し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ダウンロードとインストール。</font><font style="vertical-align: inherit;">インストール後にPCを再起動する必要がある場合があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キティ/パテ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BitrixデータベースへのSQLクエリを実行するには、トンネルを構成する必要があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーのIPとポートを入力します</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.21-24929.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSHでユーザー名とパスワードを打ちます</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.11-29155.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポート転送を行う：</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.11-29289.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将来使用するために行った設定をプロファイルに保存します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.21-24400.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始めます。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puttyをダウンロードして、次のコマンドで実行することもできます。</font></font><br>
<br>
<pre><code class="bash hljs">putty.exe -ssh <span class="hljs-string">"USER@HOST"</span> -pw <span class="hljs-string">"PASSWORD"</span> -2 -v -P 22 -L 3306:127.0.0.1:3306</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、Power BIでデータを更新する前に、Kitty / Puttyが実行されている必要があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーとユーザーグループ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くのCMSと同様に、Bitrixはユーザーグループを通じてアクセス権を区切るメカニズムを実装しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エンティティをデータベースからPower BIデータモデルにアンロードします。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">団体 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...グループとユーザー間の関係も同様です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">団体</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
活動的なグループのみに制限します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グループのリストは、b_groupテーブルに格納されます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続を作成します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.21-22207.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">入る：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フィールドサーバー：localhost：3306 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Database：bitrix_dbフィールド（Bitrixが動作するデータベースの名前）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQLクエリ：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">id</span>, timestamp_x, active, <span class="hljs-keyword">name</span>, description, anonymous <span class="hljs-keyword">FROM</span> b_group <span class="hljs-keyword">WHERE</span> active = <span class="hljs-string">'Y'</span>;</code></pre><br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.11-32597.png" alt="画像"><br>
 </li>
</ol><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースのユーザー名とパスワードを入力し、リクエストを送信します。</font></font><br>
 <br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.11-224.png" alt="画像"><br>
 <br>
 <img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.11-355.png" alt="画像"><br>
 <br>
 <img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.11-812.png" alt="画像"><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエストにすぐにわかりやすい名前を付けます。</font></font><br>
 <br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.21-18432.png" alt="画像"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 別のシートにグループを表形式でリストします。</font></font><br>
 <br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-2562.png" alt="画像"><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データを抽出して表示するこの方法は、Btrixデータベースに関連する他のクエリでも同様です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、高度な権限を持つすべてのユーザーをアンロードします。</font><font style="vertical-align: inherit;">ただし、「未登録を含むすべてのユーザー」など、追加の権限を与えないグループにのみ含まれるユーザーをアンロードしないでください（このグループとユーザーの接続は、バージョン12より前に登録されたすべてのユーザーに対して保存されることに注意してください）。グループはシステムバージョンと見なされ、データベースユーザーとの通信に関するデータは保存されません）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクティベートされたユーザーのみに制限します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、次のものが必要です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張権限を付与するグループのすべてのIDを選択します。</font><font style="vertical-align: inherit;">これは、トラフィックを節約するために必要です。</font><font style="vertical-align: inherit;">プロジェクトの複雑さによっては、b_user_groupのエントリ数が数百万に達することがあります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リンクをアンロードするための動的リクエストを作成するユーザー-グループ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">条項2からリンクを持っているユーザーをアンロードします。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はじめましょう：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クエリエディターを呼び出す：ホーム→クエリの編集</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「グループ」の最初のリクエストへのリンクを作成しましょう：</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.21-18742.png" alt="画像"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいリクエストの名前を「グループID」に変更し、セキュリティの観点から興味深いグループのみを選択します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-5782.png" alt="画像"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、コンマで区切られたグループIDを含む行を取得します。</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カスタム列を追加します：AddColumn→General→Custom Column</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-6399.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDとグループ化を除くすべての列を削除します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-6647.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「グループ化」列でグループ化：</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-6804.png" alt="画像"><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-6987.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のように別の列を追加します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-7947.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リストを展開して、値がコンマで区切られるようにします。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-7601.png" alt="画像"> </li>
<li>    : <br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-8091.png" alt="画像"> </li>
<li>Power BI      ,      SQL-:<br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-8306.png" alt="画像"> </li>
</ul></li>
<li>  “-”,     ,  ,      “”.<br>
<br>
SQL-:<br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> ug.user_id, ug.group_id
<span class="hljs-keyword">FROM</span> b_user_group ug
<span class="hljs-keyword">JOIN</span> b_group g <span class="hljs-keyword">ON</span> g.id = ug.group_id
<span class="hljs-keyword">JOIN</span> b_user u <span class="hljs-keyword">ON</span> u.id = ug.user_id
<span class="hljs-keyword">WHERE</span> g.ACTIVE = <span class="hljs-string">'Y'</span>
  <span class="hljs-keyword">AND</span> u.ACTIVE = <span class="hljs-string">'Y'</span>
  <span class="hljs-keyword">AND</span> ug.group_id <span class="hljs-keyword">IN</span> ();</code></pre><br>
     ID   .<br>
</li>
<li>         :<br>
<br>
<pre><code class="plaintext hljs">let<font></font>
    sql = "SELECT ug.user_id, ug.group_id #(lf)FROM b_user_group ug #(lf)JOIN b_group g ON g.id = ug.group_id #(lf)JOIN b_user u ON u.id = ug.user_id #(lf)WHERE g.ACTIVE = 'Y' #(lf)  AND u.ACTIVE = 'Y' #(lf)  AND ug.group_id IN ("&amp;#"ID "&amp;");",<font></font>
    Source = MySQL.Database("localhost:3306", "bitrix_db", [ReturnSingleDatabase=true, Query=sql, CreateNavigationProperties=false])<font></font>
in<font></font>
    Source</code></pre><br>
</li>
<li>     :<br>
<br>
<pre><code class="plaintext hljs">Formula.Firewall: Query '-' (step 'Source') references other queries or steps, so it may not directly access a data source. Please rebuild this data combination.</code></pre><br>
   ,    :<br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-11330.png" alt="画像"><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.21-19190.png" alt="画像"><br>
<br>
   .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「グループID」の場合と同じ方法で変数「ユーザーID」を作成します（つまり、ユーザーリクエストからリンクを作成します）。</font><font style="vertical-align: inherit;">これを使用して、分析に必要なユーザーのみを選択できるSQLクエリを生成します。</font><font style="vertical-align: inherit;">最初に、重複したuser_idを削除します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-12072.png" alt="画像"> </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ユーザーグループ」の場合と同様に、ユーザーを選択するリクエストを作成します。</font></font><br>
<br>
<pre><code class="sql hljs">SQL: <span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">id</span>, last_name, <span class="hljs-keyword">NAME</span>, email, date_register, last_login <span class="hljs-keyword">FROM</span> b_user <span class="hljs-keyword">WHERE</span> active = <span class="hljs-string">'Y'</span> <span class="hljs-keyword">AND</span> <span class="hljs-keyword">id</span> <span class="hljs-keyword">IN</span> ( );</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XXXはユーザーIDを置き換える必要があります。</font></font><br>
</li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエスト間の関係を設定する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Power BIでさまざまなビューのデータを対話的にフィルター処理できるようにするには、クエリ間の関係を定義する必要があります。</font><font style="vertical-align: inherit;">この場合、フィールドを接続する必要があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ユーザーグループ」[group_id]→「グループ」[id]</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ユーザーグループ」[user_id]→「ユーザー」[id]</font></font></li>
</ul><br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.12-14028.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、他のクエリをバインドします。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザーおよびユーザーグループレポート</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[レポート]タブで、テーブルを視覚化要素として使用してユーザーとグループのリストを表示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「Users」リクエストから、last_name、name、last_login、emailのフィールドを選択します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「User-group」リクエストから、group_idフィールドを選択します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜならリクエスト間に接続を割り当てたので、Power BIは集計関数Countを正しく使用して、個々のユーザーが属するグループの数をカウントできます。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-23646.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、別のテーブルを追加し、グループリクエストから名前フィールドを選択し、ユーザーグループリクエストからuser_idフィールドを選択します。グループのユーザー数を表示するには、集計の「カウント（個別）」を設定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜなら </font><font style="vertical-align: inherit;">「グループ」と「ユーザー」のリクエストは、関連付けられたリクエスト「ユーザー-グループ」を介して接続されます。グループのリストが表示されたテーブルでユーザーをクリックすると、選択したユーザーが属するグループのみが表示されます。</font><font style="vertical-align: inherit;">およびその逆。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-24194.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようにして、各ユーザーをクリックしてメンバーになっているグループを確認したり、グループをクリックしてグループに属しているユーザーを確認したりできます。</font><font style="vertical-align: inherit;">次に、ユーザーのアクセス権の変更について決定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、Power BI全般レポートに残りのテーブルを配置する方法を説明しています。</font><font style="vertical-align: inherit;">これは同様の方法で行われます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.access.php</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitrixでは、.access.phpファイルでグループ番号と必要なアクセスレベルを指定することにより、フォルダーとファイルへのアクセスを設定できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの仕事は、プロジェクトサーバーの周りに散在しているすべての.access.phpファイルのデータを表形式のビューに減らすことです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このため：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーからすべての.access.phpファイルを検索してアーカイブし、これらのファイルへのパスを保存します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
terminalkaを使用して、見つかったファイルを検索、コピー、およびアーカイブしました。</font><font style="vertical-align: inherit;">コマンドの例：</font></font><br>
<br>
<pre><code class="bash hljs">find “BITRIX_PROJECT_DIR” -name <span class="hljs-string">'.access.php'</span> -<span class="hljs-built_in">type</span> f &gt; “OUTPUT_DIR/.access.php.files.txt”&amp;&amp;tar cvfpz “OUTPUT_DIR/.access.php.files.tar”  -T “OUTPUT_DIR/.access.php.files.txt”&amp;&amp;find “OUTPUT_DIR” -<span class="hljs-built_in">type</span> d -<span class="hljs-built_in">exec</span> chmod 775 {} \; &amp;&amp; find “OUTPUT_DIR” -<span class="hljs-built_in">type</span> f -<span class="hljs-built_in">exec</span> chmod 775 {} \;&amp;&amp;find “OUTPUT_DIR” -<span class="hljs-built_in">type</span> d -<span class="hljs-built_in">exec</span> chown bitrix:bitrix {} \; &amp;&amp; find “OUTPUT_DIR”/ -<span class="hljs-built_in">type</span> f -<span class="hljs-built_in">exec</span> chown bitrix:bitrix {} \;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここに：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BITRIX_PROJECT_DIR-Bitrix上のプロジェクトを含むフォルダー。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OUTPUT_DIR-.access.phpのリストが見つかった.access.php.files.txtファイルと、見つかったすべての.access.phpのコピーを含む.access.php.files.tarアーカイブが配置されるフォルダーへのパス。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然、プロジェクトが多数ある場合（マルチサイトを使用）、すべてのプロジェクトを含むフォルダーを選択します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BIプロジェクトの横のどこかに.access.phpアーカイブをダウンロードして解凍します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを自動的に行うバッチファイルを作成しました。ダウンロードはwgetを介して実装されます。</font><font style="vertical-align: inherit;">7zipまで-解凍。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バッチファイルの例：バッチファイルの</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-27936.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
設定を含むファイル：</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-28309.png" alt="画像"><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、すべての.access.phpの内容を表形式で要約するクエリを作成します。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">便宜上、すべての.access.phpのコンテンツを抽出するフォルダーへのパスを含むパラメーターを作成します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-29768.png" alt="画像"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「フォルダー」タイプのリクエストを選択し、パスとしてパラメーターを選択します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-30043.png" alt="画像"></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[コンテンツ]フィールドを展開します</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-3956.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。XXXXXXXは列セパレーターです。すべてのファイルからデータをインポートした後は、列を1にする必要があります。</font></font></li>
<li>  Power BI    ,    .access.php.      “Remove other columns1”,    “Folder Path”:<br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-2519.png" alt="画像"></li>
<li> : Folder Path  Column1.</li>
<li>   Folder Path       :<br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-32195.png" alt="画像"></li>
<li> .access.php     :<br>
<br>
<pre><code class="php hljs">$PERM[<span class="hljs-string">""</span>][<span class="hljs-string">"ID "</span>] = <span class="hljs-string">"&lt; &gt;"</span>;</code></pre><br>
    : , ID ,  .     ,    (Split Column)    (Custom column).</li>
<li>     :<br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-7888.png" alt="画像"><br>
<br>
    ID   “*” (  ).              ,       “*” (    ).   ,  “”    DotAccessPhp:<br>
<br>
<ul>
<li> DotAccessPhpForRels     ID  ( ,  *   ID ) –       :<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-10824.png" alt="画像"></li>
<li> – DotAccessPhpForAll –  * ( ).</li>
</ul></li>
</ol><br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-11242.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リンク</font><font style="vertical-align: inherit;">
スキーム：</font><font style="vertical-align: inherit;">他のビューでDotAccessForRelsからファイルを選択するときに関連データのみを選択するには、「クロスフィルターの方向」パラメーターを両方に変更する</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-13400.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要があります。以下に追加する他のリクエストについても、これを行う必要があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">情報ブロック</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
情報ブロックのリストと、情報ブロックとグループのリンクのテーブルをアンロードする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクティブな情報ブロックに関する情報のみをアップロードします。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Infoblocks」というリクエストを作成します。</font><font style="vertical-align: inherit;">SQLクエリ：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> i.id, i.NAME <span class="hljs-string">''</span>, i.TIMESTAMP_X <span class="hljs-string">' '</span>, <span class="hljs-keyword">GROUP_CONCAT</span>(ist.SITE_ID SEPARATOR <span class="hljs-string">', '</span>) <span class="hljs-string">''</span>
<span class="hljs-keyword">FROM</span> b_iblock i
<span class="hljs-keyword">JOIN</span> b_iblock_site ist <span class="hljs-keyword">ON</span> ist.IBLOCK_ID = i.id
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>;<font></font>
  “-”:<font></font>
<span class="hljs-keyword">SELECT</span> ig.iblock_id, ig.group_id, ig.permission
<span class="hljs-keyword">FROM</span> b_iblock_group ig
<span class="hljs-keyword">JOIN</span> b_group g <span class="hljs-keyword">ON</span> g.id = ig.group_id
<span class="hljs-keyword">JOIN</span> b_iblock i <span class="hljs-keyword">ON</span> i.ID = ig.IBLOCK_ID
<span class="hljs-keyword">WHERE</span> g.ACTIVE = <span class="hljs-string">'Y'</span>
  <span class="hljs-keyword">AND</span> i.ACTIVE = <span class="hljs-string">'Y'</span>;</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「クロスフィルターの方向」パラメーターを両方に変更することを忘れずに、接続図を更新します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.16-31351.png" alt="画像"></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォーム</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フォームの場合、ユーザーグループの権限は、フォーム自体と、フォームに入力した結果が存在するステータスの両方に付与されます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「フォーム」のリクエストを作成します。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span><font></font>
  f.ID,<font></font>
  f.name <span class="hljs-string">''</span>,
  <span class="hljs-keyword">GROUP_CONCAT</span>(f2s.SITE_ID SEPARATOR <span class="hljs-string">', '</span>) <span class="hljs-string">''</span>
<span class="hljs-keyword">FROM</span> b_form f
<span class="hljs-keyword">JOIN</span> b_form_2_site f2s <span class="hljs-keyword">ON</span> f2s.FORM_ID = f.ID
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> <span class="hljs-number">1</span>, <span class="hljs-number">2</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-number">2</span>;</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエスト「フォームグループ」を作成します。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">DISTINCT</span><font></font>
  f2g.group_id,<font></font>
  f2g.form_id,<font></font>
  f2g.PERMISSION <span class="hljs-string">' '</span>
<span class="hljs-keyword">FROM</span> b_form_2_site f2s
<span class="hljs-keyword">JOIN</span> b_form_2_group f2g <span class="hljs-keyword">ON</span> f2g.FORM_ID = f2s.FORM_ID
<span class="hljs-keyword">JOIN</span> b_group g <span class="hljs-keyword">ON</span> g.ID = f2g.group_ID
<span class="hljs-keyword">WHERE</span> g.ACTIVE = <span class="hljs-string">'Y'</span>
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>;</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエスト「フォームのステータス」を作成します。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span>  fs.ID,  fs.TITLE <span class="hljs-string">''</span>,  fs.form_id
<span class="hljs-keyword">FROM</span> b_form_status fs
<span class="hljs-keyword">JOIN</span> b_form f <span class="hljs-keyword">ON</span> f.ID = fs.FORM_ID
<span class="hljs-keyword">WHERE</span> fs.ACTIVE = <span class="hljs-string">'Y'</span>
  <span class="hljs-keyword">AND</span> <span class="hljs-keyword">EXISTS</span> (<span class="hljs-keyword">SELECT</span> f2s.FORM_ID <span class="hljs-keyword">FROM</span> b_form_2_site f2s <span class="hljs-keyword">WHERE</span> f2s.FORM_ID = f.ID <span class="hljs-keyword">LIMIT</span> <span class="hljs-number">1</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-number">3</span>, <span class="hljs-number">2</span>;</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「フォームグループステータス」というリクエストを作成します</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span>  fs2g.status_id,  fs2g.group_id,  fs2g.PERMISSION <span class="hljs-string">''</span>
<span class="hljs-keyword">FROM</span> b_form_status_2_group fs2g
<span class="hljs-keyword">JOIN</span> b_form_status fs <span class="hljs-keyword">ON</span> fs.ID = fs2g.STATUS_ID
<span class="hljs-keyword">JOIN</span> b_group g <span class="hljs-keyword">ON</span> g.ID = fs2g.group_ID
<span class="hljs-keyword">JOIN</span> b_form f <span class="hljs-keyword">ON</span> f.ID = fs2g.GROUP_ID
<span class="hljs-keyword">JOIN</span> b_form_2_site f2s <span class="hljs-keyword">ON</span> f2s.FORM_ID = f.ID
<span class="hljs-keyword">WHERE</span> fs.ACTIVE = <span class="hljs-string">'Y'</span>
  <span class="hljs-keyword">AND</span> (g.ACTIVE = <span class="hljs-string">'Y'</span>)
<span class="hljs-keyword">ORDER</span> <span class="hljs-keyword">BY</span> <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>;</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続スキームの更新：</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.18-25734.png" alt="画像"></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リクエスト「モジュールグループ」を作成します。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> mg.MODULE_ID <span class="hljs-string">''</span>, mg.group_id, mg.G_ACCESS <span class="hljs-string">''</span>, t.LETTER, t.NAME
<span class="hljs-keyword">FROM</span> b_module_group mg
<span class="hljs-keyword">JOIN</span> b_group g <span class="hljs-keyword">ON</span> g.id = mg.GROUP_ID
<span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> b_task t <span class="hljs-keyword">ON</span> t.MODULE_ID = mg.MODULE_ID <span class="hljs-keyword">AND</span> t.BINDING = <span class="hljs-string">'module'</span>
<span class="hljs-keyword">WHERE</span> g.active = <span class="hljs-string">'Y'</span>
  <span class="hljs-keyword">AND</span> mg.G_ACCESS = t.LETTER;</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通信の更新：</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.20-998.png" alt="画像"></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スコアボード</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブルのスタイルをカスタマイズし、使用可能なスペースを最大限に活用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、次のような結果になるはずです。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.18-28241.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スコアボード（テーブル内の要素の数）が少し変更されました。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.20-1923.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、最初に1つのテーブルの外観を設定してから、[ホーム]→[フォーマットペインタ]を使用して、そのビューを他のテーブルに適用すると便利です。</font><font style="vertical-align: inherit;">この関数は、WordおよびExcelと同じように機能します（サンプルごとにフォーマット）。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理リンク</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
でサイトにすばやくアクセスし、管理パネルで設定を行うことができるように、DAX言語でカスタム列を追加して、それを「Web URL」の一種にすることができます。</font><font style="vertical-align: inherit;">これを行うには、作成された列を選択し、適切なタイプを割り当てます（モデリング→プロパティ→データカテゴリ→Web URL）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グループリクエストの例：</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.19-196.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビューに列を追加します。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.19-866.png" alt="画像"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、テーブルセルをクリックして、Bitrix管理パネルのグループカードに移動できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルレポート</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
便宜上、インターネットリソースのファイルとセクションへのアクセスに関するテーブルを配置することで、別のレポートを作成できます。</font></font><br>
<br>
<img src="https://www.uchitel-izd.ru/upload/files/clip2net/ol/2019/06.20-30194.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このレポートには、Bitrix管理パネルからすべての.access.phpを直接編集するためのリンクも追加されました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitrixは、明らかな長所と短所を持つcmsモンスターの間のチャンピオンであり、外側は美しく、内側はひどいです。</font><font style="vertical-align: inherit;">その中に便利なアクセス管理ツールはありません。</font><font style="vertical-align: inherit;">しかし、この問題は無料のツールの助けを借りて解決され、貴重なプログラマーがこのプロセスに時間を費やすことはありませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアプローチの利点には、Power BIのモデルをBitrixからの追加情報ですばやく補完する機能も含まれます。たとえば、.access.phpなどがいつ作成または変更されたかを誰かが知りたい場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、アクセス権モデルを</font><font style="vertical-align: inherit;">作成</font><font style="vertical-align: inherit;">してPower BIで視覚化した後足りる：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー、グループ、フォーム、ファイルを一貫してクリックし、アクセスに関するすべての接続をリアルタイムで確認します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要な管理ページにすばやく移動して編集を行います。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BIで直接、最新のBitrixデータでデータモデルを更新します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、監査が行われ、ユーザーアクセスが調整されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS市場には無料のモジュール「Access Control Center」がありますが、非常に限られており、最後のコメントは5年以上前のものです。</font><font style="vertical-align: inherit;">おそらく誰かがそのようなダッシュボードをBitrixで直接構築するアイデアを気に入って、彼はそれをモジュールとして実装するでしょう... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS2。</font><font style="vertical-align: inherit;">Power BIを使用して、さまざまな会計システムで隠された依存関係を見つける問題を解決するトピックに興味がある場合は、コメントを書き込んでください。</font><font style="vertical-align: inherit;">次に、この問題についてさらにいくつかの記事を書きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS3 </font><font style="vertical-align: inherit;">この記事の準備を手伝ってくれた同僚に感謝します。AlexanderVoronkov、Evgeny Shapochkin、Alexei Titov。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja457614/index.html">ヘッドハンターの練習から海外で就職する秘訣</a></li>
<li><a href="../ja457616/index.html">私の「うわー、私はそれを知りませんでした！」冗談の瞬間</a></li>
<li><a href="../ja457618/index.html">最新のフルスタック開発者であること</a></li>
<li><a href="../ja457622/index.html">Qtパフォーマンスの測定</a></li>
<li><a href="../ja457624/index.html">古い小屋を壊して、その場所に超高層ビルを建てた方法</a></li>
<li><a href="../ja457628/index.html">効果的なP2Mプログラムとプロジェクト管理</a></li>
<li><a href="../ja457630/index.html">プロ品質のデータサイエンティストの要件を開発した経験</a></li>
<li><a href="../ja457632/index.html">単体テストはいくらですか？</a></li>
<li><a href="../ja457634/index.html">Verilog上のDDS Synthesizer</a></li>
<li><a href="../ja457638/index.html">できればキャッチ・ミー。預言者バージョン</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>