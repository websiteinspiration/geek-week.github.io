<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚯 👍 ⛱️ Hyper-VからVMware、またはその逆：仮想ディスクの変換 🕺🏼 🥢 ▪️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、ハブル！
 
 VMDK、VHD、VHDXは完全に異なる仮想ディスクフォーマットであり、ほぼクローズされており、あるものから別のものへの変換は長くてつらいプロセスです。今日はそうではないことを説明します。これらの形式が互いにどのように関連しているか、Hyper-VからVMwareに、また...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Hyper-VからVMware、またはその逆：仮想ディスクの変換</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dataline/blog/479894/"><img src="https://habrastorage.org/webt/xs/fo/hq/xsfohqeyqsuronjrbjou2t4hpqw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
こんにちは、ハブル！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMDK、VHD、VHDXは完全に異なる仮想ディスクフォーマットであり、ほぼクローズされており、あるものから別のものへの変換は長くてつらいプロセスです。</font><font style="vertical-align: inherit;">今日はそうではないことを説明します。これらの形式が互いにどのように関連しているか、Hyper-VからVMwareに、またはその逆に移行するときにすばやく変換する方法を理解します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少し理論。</font><font style="vertical-align: inherit;">プロパティの観点から、仮想ディスクは2つのタイプに分類されます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シン（ダイナミックディスク）および </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">厚い（固定ディスク）。</font><font style="vertical-align: inherit;">その他すべて-違い、厚いプロビジョニングされた遅延ゼロ-トピックのバリエーションのみ。</font></font></li>
</ul><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これについては詳しく説明しません。</font><font style="vertical-align: inherit;">さらに厚いディスクについてお話します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディスクフォーマット</font></font></h3><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAW-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意のディスクの「未加工」イメージ。これは、特定のヘッダーとフッターを含まない通常のコンテナーであり、ディスクイメージを「そのまま」表します。このような画像をHEXエディターで開くと、GPT / MBRおよび/またはファイルシステムのヘッダーがすぐに表示されます。 Linuxでは、ddコマンドを使用してまったく同じイメージを取得します。この点でのRAWは、私たちにとって正直です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0o/e8/97/0oe897bapic5h0tljstnmhezofk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAWファイルの先頭。</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/d4/6a/-6/d46a-6wkfji6gv7t_i4na83c4is.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAWファイルの終わり。</font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMDC。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware ESXiは通常のRAWであり、ディスクジオメトリは通常のテキストファイル記述子（記述子）で記述されています。</font><font style="vertical-align: inherit;">仮想ディスクを仮想マシンに接続したり、データストア上のディレクトリの内容を参照したりしたときにvSphere Consoleに表示されるのは彼の名前です。</font><font style="vertical-align: inherit;">VMware ESXiはイメージに対して何もしません。</font><font style="vertical-align: inherit;">もちろんです。</font><font style="vertical-align: inherit;">ディスクはそれ自体に依存し、必要に応じて拡張します。</font><font style="vertical-align: inherit;">最高のVMwareの伝統では、記述子の形式は非常に単純です。</font></font><br>
<br>
<pre><code class="plaintext hljs"># Disk DescriptorFile<font></font>
version=1<font></font>
encoding="UTF-8"<font></font>
CID=fffffffe<font></font>
parentCID=ffffffff<font></font>
isNativeSnapshot="no"<font></font>
createType="vmfs"<font></font>
&nbsp;<font></font>
# Extent description<font></font>
RW 15122560 VMFS "disk-example-flat.vmdk"<font></font>
&nbsp;<font></font>
# The Disk Data Base<font></font>
#DDB<font></font>
ddb.adapterType = "lsilogic"<font></font>
ddb.geometry.cylinders = "941"<font></font>
ddb.geometry.heads = "255"<font></font>
ddb.geometry.sectors = "63"<font></font>
ddb.longContentID = "4f5dc83d0a5270bee54e2d85fffffffe"<font></font>
ddb.uuid = "60 00 C2 93 b4 38 ed dd-a3 85 88 48 68 40 2f c0"<font></font>
ddb.virtualHWVersion = "13"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、それは単純なだけでなく、機能的でもあります。サポートされている値に仮想ディスクを拡張するために、記述子ファイルにメモを書くことで十分です。</font><font style="vertical-align: inherit;">これにより、ディスクヘッダーにジオメトリ情報を保持する必要なく、ディスクをゼロで埋めたり、薄くマークしたりできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、記述子のすべてのセクションのいくつかの標準値です。</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクション</font></font></b><br>
</td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータ</font></font></b><br>
</td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明</font></font></b><br>
</td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">値</font></font></b><br>
</td>
</tr>
<tr>
<td>Header (# Disk DescriptorFile)<br>
</td>
<td>version<br>
</td>
<td>   .   .<br>
</td>
<td>1 ( )<br>
</td>
</tr>
<tr>
<td>CID<br>
</td>
<td>Content ID.  32-  ,     .  ParentCID   -.<br>
</td>
<td> 32- ,    .<br>
</td>
</tr>
<tr>
<td>parentCID<br>
</td>
<td>CID  .    ,    CID_NOPARENT (ffffffff).<br>
</td>
<td>Ffffffff (CID_NOPARENT)<br>
CID  .<br>
</td>
</tr>
<tr>
<td>createType<br>
</td>
<td>   ,    (      ,   ,     VMDK).  ESXi   .<br>
</td>
<td> ESXi – vmfs (   )  vmfsRawDeviceMap  vmfsPassthroughRawDeviceMap (  RDM).<br>
</td>
</tr>
<tr>
<td>isNativeSnapshot<br>
</td>
<td>,     : VMkernel    (VAAI).<br>
</td>
<td>no (VMkernel),<br>
yes (VAAI)<br>
</td>
</tr>
<tr>
<td>Extents (# Extent description)<br>
</td>
<td>&nbsp;<br>
</td>
<td>    ,    .  :<br>
&lt; &gt; &lt;&gt; &lt; &gt; &lt;   VMDK   &gt; &lt;&gt;.<br>
</td>
<td>&nbsp;<br>
</td>
</tr>
<tr>
<td>Access<br>
</td>
<td>   .<br>
</td>
<td>RW (/)<br>
RO ( )<br>
NOACCESS ( ).<br>
</td>
</tr>
<tr>
<td>Size<br>
</td>
<td> .<br>
</td>
<td>     .   :<br>
&lt;  &gt;/&lt;  &gt;<br>
     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.<br>
</td>
</tr>
<tr>
<td>Type of extent<br>
</td>
<td>    .<br>
</td>
<td>  <br>
FLAT, SPARSE, ZERO, VMFS, VMFSSPARSE, VMFSRDM, VMFSRAW.<br>
</td>
</tr>
<tr>
<td>Filename<br>
</td>
<td>   VMDK.<br>
</td>
<td>&nbsp;<br>
</td>
</tr>
<tr>
<td>Offset<br>
</td>
<td>,        .   ,  ,  0 (  ).  RDM   .<br>
</td>
<td>         .<br>
</td>
</tr>
<tr>
<td>Disk Database (# The Disk Data Base)<br>
</td>
<td>&nbsp;<br>
</td>
<td>   .<br>
</td>
<td>&nbsp;<br>
</td>
</tr>
<tr>
<td>ddb.adapterType<br>
</td>
<td>  SCSI- .<br>
</td>
<td>  3 :<br>
ide,<br>
buslogic,<br>
lsilogic.<br>
&nbsp;<br>
  VMware Paravirtual    lsilogic.<br>
</td>
</tr>
<tr>
<td>ddb.geometry.cylinders<br>
ddb.geometry.heads = «255»<br>
ddb.geometry.sectors = «63»<br>
</td>
<td> ,        .<br>
</td>
<td>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.<br>
</td>
</tr>
<tr>
<td>ddb.thinProvisioned<br>
</td>
<td>  .<br>
</td>
<td>1 –  ,<br>
0   –  <br>
</td>
</tr>
<tr>
<td>ddb.uuid<br>
</td>
<td> <br>
</td>
<td>&nbsp;<br>
</td>
</tr>
<tr>
<td>ddb.virtualHWVersion<br>
</td>
<td> Virtual Hardware<br>
</td>
<td>&nbsp;<br>
</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべての値の説明は、フォーマット仕様：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMware Virtual Disk Format 1.1 </font></font></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VHDにあります。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シックVHDは同じRAWですが、ディスクのジオメトリを記述する512バイトのフッターがあります。 Microsoft Hyper-V仮想マシンには、個別の記述子ファイルはありません。ディスクジオメトリの記述には4バイトかかります。実際には、ここから2 TBのディスクサイズの制限があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r4/_z/04/r4_z04hiog10hoi2l579iyrmd1c.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フッター。ディスクの最後の512バイト。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
最も興味深いのは、記述子ファイルを作成し、フッター付きのVHDディスクをESXiに挿入すると、VMwareハイパーバイザーがこのフッターを無視し、VHDをネイティブフッターとして受け入れることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Storage vMotionがディスクをシンに変換すると、このフッターが切り捨てられ、出力では最後にゼロのない同じRAWが得られます。シックディスクに変換する場合-正直RAW。これは、少し後で説明します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VHDX。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのディスクジオメトリ情報は、仮想ディスクの最初の4096 Kバイト（ヘッダー領域）に保存されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ox/ym/1r/oxym1rx0yugtthlby1q12svpkhy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VHDXシックディスクの一般的なスキーム。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
このエリアはどうですか？ヘッダーとそのログの2つのコピーが含まれています。BATとメタデータ領域は共通です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qo/nj/v6/qonjv68pmpjykfcltu2rijdy7mg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディスクヘッダーの論理構造。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヘッダーのコピーは、時間単位ごとに1つだけアクティブになります。これにより、読み取り/書き込み操作で予期しない中断が発生した場合に、特定のレベルのヘッダーフォールトトレランスが提供されます。各I / O操作の後、コピーが複製され、切り替えが行われます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/co/er/bb/coerbb6uef8wvkb7dsi1kzlcxda.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘッダー領域のレイアウト。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
VHDXをRAWに変換するには、最初の4096 KBをカットするだけです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ri/jk/1-/rijk1-iv3jiez0dicdlns3trqpe.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 MBのデータを開始します。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
もちろん、注意深い読者は言うでしょう：わかりました、Zhenyaですが、RAWをVHDXに弱く変換しますか？答えは次のとおりです。これは、ファイルシステムと、ファイルの先頭にデータを書き込むことができる量によって異なります。 NTFSファイルシステムで手動でこれを行うには、MFTでファイルの先頭を4 MB前方にシフトし、この場所にヘッダーを追加します。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">vhdxtool.exe</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ユーティリティは同じ原理で動作し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ただし、この変換では、4 MBのヘッダーとRAWの形式で美しい画像が得られません。ディスクは表示され、VHDXとしても正しく機能しますが、オフセットを使用した操作が原因で発生したゼロの「ガベージ」もたくさんあります。ドライブは最適化されません。このようなディスクを持つVMは、別のボリュームに移行するか、Convert-VHDまたはOptimize-VHDコマンドレットを使用して最適化することをお勧めします。これが行われない場合、ディスクは必要以上のスペースを使用し、動作が遅くなる可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、VMwareからHyper-Vへの移行シナリオでは、ソースディスクを読み取って近くにコピーを作成するためにバイトを必要とせずにインプレース変換が可能になるため、このユーティリティは不可欠です。すべての粗さは、最初のストレージライブマイグレーションで平滑化されます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMDK、VHD、VHDX形式のシックディスクは、実際にはそれほど大きな違いはありません。</font><font style="vertical-align: inherit;">これらは、さまざまな添加剤を含むRAWに基づいています。</font><font style="vertical-align: inherit;">ファイルシステムを操作するために同じHEXエディターまたはOS関数を使用すると、数秒で10 Tb VMDKまたはVHDXをターゲットハイパーバイザーディスクに変換できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMware ExsiがVHDをどのように処理するかを見てみましょう。&nbsp;</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例として、</font><font style="vertical-align: inherit;">VMwareドライバーとパラメーターを注入した</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Convert-WindowsImage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用してWindows Serverイメージを作成しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OSバージョン：Windows Server 2019 Standard、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディスクタイプ：固定、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディスクレイアウト：GPT、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディスクサイズ：30GB。</font></font></li>
</ul><br>
<img src="https://habrastorage.org/getpro/habr/post_images/7dd/463/979/7dd463979b824631f72dc3e07d821d87.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パラメータFileSize（実際のファイルサイズ）とSize（VMに換算したディスクサイズ）に注意してください。</font><font style="vertical-align: inherit;">値の違いは正確に512バイト、つまりフッターVHDのサイズです。</font></font></i></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドライブの名前をWin2019-test2-flat.vmdkに変更して、ESXiデータストアにロードします。</font></font><br>
<img src="https://habrastorage.org/getpro/habr/post_images/201/209/3e7/2012093e774ea467727395d88ca66dd6.png"></li>
<li>    VMware ESXi     Thick (Eager Zeroed),   VMDK        .<br>
<br>
<img src="https://habrastorage.org/webt/_o/7h/3r/_o7h3r7hzjarnxzu2ulhshxmcxw.png"></li>
<li>    WinSCP    :<br>
<img src="https://habrastorage.org/webt/jg/i9/hh/jgi9hh7y3kf2baf6nc6dpty-vci.png"><br>
<i> :   .</i></li>
<li>   ,     .    VMware Tools,   ,   Convert-WindowsImage     .<br>
<br>
<img src="https://habrastorage.org/webt/hh/td/0b/hhtd0bx6ca4fzhkr_qjl8z1oizq.png"></li>
<li>    Datastore  Storage vMotion      .<br>
<br>
<img src="https://habrastorage.org/webt/-x/2w/li/-x2wli_oyqrl9qdy4sabgb2ilpg.png"></li>
<li>  –   .<br>
<br>
<img src="https://habrastorage.org/webt/_b/m2/vh/_bm2vhobiqdotr59i_t1xbu903c.png"></li>
<li>             ,    RAW  .<br>
<br>
&nbsp;<img src="https://habrastorage.org/webt/s6/p4/es/s6p4esa78nxqqwuramt6xyrr7fi.png"><br>
<i> .</i></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じ焦点は、ddで作成されたRAWでも機能します。</font><font style="vertical-align: inherit;">そして反対方向にも。</font><font style="vertical-align: inherit;">これにより、VMware ESXiがサードパーティのフッターまたはRAWディスクを受け入れることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トリックが必要ない場合は、以下のツールを使用できます。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソース形式</font></font></b><br>
</td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">対象フォーマット</font></font></b><br>
</td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ツール</font></font></b><br>
</td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンド例</font></font></b><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VHD</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VHDX</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhdxtool.exe</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhdxtool upgrade -f &lt;ファイル名&gt; .vhd</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMDK（RAW）</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VHD</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhdtool.exe</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhdtool / convert &lt;ファイル名フラット&gt; .vmdk</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VMDK（RAW）</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VHDX</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhdtool.exe </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vhdxtool.exe</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhdtool / convert &lt;ファイル名フラット&gt; .vmdk</font></font><br>
<br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VHDX（RAW）</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VHDX</font></font><br>
</td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vhdxtool upgrade -f &lt;ファイル名&gt; .vhd</font></font><br>
</td>
</tr>
</tbody></table></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要約する。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シック仮想ディスクのさまざまなフォーマットはそれほど異なりません。さまざまな「添加物」を持つすべてのRAWの中心。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仮想ディスク形式の変換は怖くないし、私が示したように、それなしでできることもある。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらすべての主な利点は、Hyper-VからVMwareへの移行時間、およびその逆と、移行中のVMのダウンタイムを削減することです。 DataLineでは、VMのダウンタイムを30分未満にしてこれを実践します。記録は、ハイパーバイザー間の移行中のVMダウンタイムの40秒です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
異なるハイパーバイザー間で移行する場合、1回の変換では不十分であることを覚えておいてください。</font><font style="vertical-align: inherit;">少なくとも、最初にターゲットハイパーバイザーの統合コンポーネントをインストールし、ソースハイパーバイザーのコンポーネントの起動を削除または無効化し、ソースハイパーバイザーの仮想デバイスを削除する必要があります。</font><font style="vertical-align: inherit;">しかし、これはまったく別の話であり、私もそれについて語ることができます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">役立つリンク：</font></font></b><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/company/acelab/blog/262517</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.vmware.com/app/vmdk/?src=vmdk</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faq.sanbarrow.com/index.php?action=artikel&amp;cat=43&amp;id=36&amp;artlang=en</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">download.microsoft.com/download/f/f/e/ffef50a5-07dd-4cf8-aaa3-442c0673a029/Virtual%20Hard%20Disk%20Format%20Spec_10_18_06.doc</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docs.microsoft.com/en-us/openspecs/windows_protocols/ms-vhdx/83e061f8-f6e2-4de1-91bd-5d518a43d477</font></font></a> </li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja479884/index.html">UnityのカスタムCI / CD</a></li>
<li><a href="../ja479886/index.html">視覚ではなく聴覚：暗闇に適応するように脳ニューロンを再構成する</a></li>
<li><a href="../ja479888/index.html">高速復元力のある圧縮（続き）</a></li>
<li><a href="../ja479890/index.html">モノのインターネットの概念を実装する際の問題とタスク</a></li>
<li><a href="../ja479892/index.html">Gradleプラグイン、分散システムでのマルチスレッド化、モニタリングの自動化について：Yandex.Money metapのビデオ</a></li>
<li><a href="../ja479898/index.html">裸の真実</a></li>
<li><a href="../ja479900/index.html">ゲーム会社の顧客指向のデータレイク</a></li>
<li><a href="../ja479902/index.html">IntelliJ IDEA 2019.3：パフォーマンスの最適化と品質の向上</a></li>
<li><a href="../ja479904/index.html">NFCとは何ですか？基本を更新しますか？</a></li>
<li><a href="../ja479906/index.html">FinTech業界の概要：2019年末の最も有望な金融技術</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>