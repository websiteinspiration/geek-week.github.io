<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üöÇ üë©üèº‚Äçüî¨ üíµ Sicherheits-Spickzettel: Nodejs ü•â üîò üêØ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="√úber die Popularit√§t von NodeJS wurde bereits viel gesagt. Die Zunahme der Anzahl der Anwendungen ist offensichtlich - NodeJS ist recht einfach zu erl...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Sicherheits-Spickzettel: Nodejs</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/acribia/blog/493714/"><img src="https://habrastorage.org/webt/bs/ml/lo/bsmllozt2li3jmn_6ec8vy4krdq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úber die Popularit√§t von NodeJS wurde bereits viel gesagt. </font><font style="vertical-align: inherit;">Die Zunahme der Anzahl der Anwendungen ist offensichtlich - NodeJS ist recht einfach zu erlernen, verf√ºgt √ºber eine gro√üe Anzahl von Bibliotheken sowie ein sich dynamisch entwickelndes √ñkosystem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Empfehlungen f√ºr NodeJS-Entwickler</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> basierend auf OWASP- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;">Spickzettel</font></b></a><font style="vertical-align: inherit;"> erstellt </font><font style="vertical-align: inherit;">, damit Sie Sicherheitsprobleme bei der Entwicklung von Anwendungen vorhersehen k√∂nnen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sicherheitsempfehlungen f√ºr NodeJS-Anwendungen k√∂nnen in die folgenden Kategorien unterteilt werden:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sicherheit w√§hrend der Anwendungsentwicklung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serversicherheit;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plattformsicherheit;</font></font></li>
</ul><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsentwicklungssicherheit</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vermeiden Sie</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
R√ºckrufh√∂lle Die Verwendung von R√ºckruffunktionen (R√ºckrufen) ist eine der gr√∂√üten St√§rken von NodeJS. Wenn Sie jedoch R√ºckrufe verschachteln, k√∂nnen Sie leicht vergessen, den Fehler in einer der Funktionen zu behandeln. </font><font style="vertical-align: inherit;">Eine M√∂glichkeit, die R√ºckrufh√∂lle zu vermeiden, besteht darin, Versprechen zu verwenden. </font><font style="vertical-align: inherit;">Auch wenn das von Ihnen verwendete Modul das Arbeiten mit Versprechungen nicht unterst√ºtzt, k√∂nnen Sie Promise.promisifyAll () jederzeit verwenden. </font><font style="vertical-align: inherit;">Aber auch mit Versprechungen lohnt es sich, auf das Verschachteln zu achten. </font><font style="vertical-align: inherit;">Um den R√ºckruf-H√∂llenfehler vollst√§ndig zu vermeiden, halten Sie sich an eine ‚Äûflache‚Äú Kette von Versprechungen. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel f√ºr eine R√ºckrufh√∂lle:</font></font></i><br>
<br>
<pre><code class="java hljs"><span class="hljs-function">function <span class="hljs-title">func1</span><span class="hljs-params">(name, callback)</span> </span>{<font></font>
   setTimeout(function() {<font></font>
      <span class="hljs-comment">// operations</span>
   }, <span class="hljs-number">500</span>);<font></font>
}<font></font>
<span class="hljs-function">function <span class="hljs-title">func2</span><span class="hljs-params">(name, callback)</span> </span>{<font></font>
   setTimeout(function() {<font></font>
      <span class="hljs-comment">// operations</span>
   }, <span class="hljs-number">100</span>);<font></font>
}<font></font>
<span class="hljs-function">function <span class="hljs-title">func3</span><span class="hljs-params">(name, callback)</span> </span>{<font></font>
   setTimeout(function() {<font></font>
      <span class="hljs-comment">// operations</span>
   }, <span class="hljs-number">900</span>);<font></font>
}<font></font>
<span class="hljs-function">function <span class="hljs-title">func4</span><span class="hljs-params">(name, callback)</span> </span>{<font></font>
   setTimeout(function() {<font></font>
      <span class="hljs-comment">// operations</span>
   }, <span class="hljs-number">3000</span>);<font></font>
}<font></font>
<font></font>
func1(<span class="hljs-string">"input1"</span>, function(err, result1){
   <span class="hljs-keyword">if</span>(err){
      <span class="hljs-comment">// error operations</span><font></font>
   }<font></font>
   <span class="hljs-keyword">else</span> {
      <span class="hljs-comment">//some operations</span>
      func2(<span class="hljs-string">"input2"</span>, function(err, result2){
         <span class="hljs-keyword">if</span>(err){
            <span class="hljs-comment">//error operations</span><font></font>
         }<font></font>
         <span class="hljs-keyword">else</span>{
            <span class="hljs-comment">//some operations</span>
            func3(<span class="hljs-string">"input3"</span>, function(err, result3){
               <span class="hljs-keyword">if</span>(err){
                  <span class="hljs-comment">//error operations</span><font></font>
               }<font></font>
               <span class="hljs-keyword">else</span>{
                  <span class="hljs-comment">// some operations</span>
                  func4(<span class="hljs-string">"input 4"</span>, function(err, result4){
                     <span class="hljs-keyword">if</span>(err){
                        <span class="hljs-comment">// error operations</span><font></font>
                     }<font></font>
                     <span class="hljs-keyword">else</span> {
                        <span class="hljs-comment">// some operations</span><font></font>
                     }<font></font>
                  });<font></font>
               }<font></font>
            });<font></font>
         }<font></font>
      });<font></font>
   }<font></font>
});<font></font>
</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gleicher Code mit Flachkettenversprechen:</font></font></i><br>
<br>
<pre><code class="java hljs"><span class="hljs-function">function <span class="hljs-title">func1</span><span class="hljs-params">(name, callback)</span> </span>{<font></font>
   setTimeout(function() {<font></font>
      <span class="hljs-comment">// operations</span>
   }, <span class="hljs-number">500</span>);<font></font>
}<font></font>
<span class="hljs-function">function <span class="hljs-title">func2</span><span class="hljs-params">(name, callback)</span> </span>{<font></font>
   setTimeout(function() {<font></font>
      <span class="hljs-comment">// operations</span>
   }, <span class="hljs-number">100</span>);<font></font>
}<font></font>
<span class="hljs-function">function <span class="hljs-title">func3</span><span class="hljs-params">(name, callback)</span> </span>{<font></font>
   setTimeout(function() {<font></font>
      <span class="hljs-comment">// operations</span>
   }, <span class="hljs-number">900</span>);<font></font>
}<font></font>
<span class="hljs-function">function <span class="hljs-title">func4</span><span class="hljs-params">(name, callback)</span> </span>{<font></font>
   setTimeout(function() {<font></font>
      <span class="hljs-comment">// operations</span>
   }, <span class="hljs-number">3000</span>);<font></font>
}<font></font>
<font></font>
func1(<span class="hljs-string">"input1"</span>)<font></font>
   .then(function (result){<font></font>
      <span class="hljs-keyword">return</span> func2(<span class="hljs-string">"input2"</span>);<font></font>
   })<font></font>
   .then(function (result){<font></font>
      <span class="hljs-keyword">return</span> func3(<span class="hljs-string">"input3"</span>);<font></font>
   })<font></font>
   .then(function (result){<font></font>
      <span class="hljs-keyword">return</span> func4(<span class="hljs-string">"input4"</span>);<font></font>
   })<font></font>
   .<span class="hljs-keyword">catch</span>(function (error) {
      <span class="hljs-comment">// error operations</span><font></font>
   });<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Begrenzen Sie die Gr√∂√üe der Anforderung. Das</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Parsen des </font><b><font style="vertical-align: inherit;">Anforderungshauptteils</font></b><font style="vertical-align: inherit;"> kann sehr ressourcenintensiv sein. Wenn Sie die Gr√∂√üe der Anforderung nicht einschr√§nken, k√∂nnen Angreifer ausreichend gro√üe Anforderungen senden, die den gesamten Speicherplatz ausf√ºllen oder alle Serverressourcen ersch√∂pfen k√∂nnen. Gleichzeitig kann es jedoch falsch sein, die Anforderungsgr√∂√üe f√ºr alle F√§lle zu begrenzen, da Anforderungen wie das Herunterladen einer Datei vorliegen. Daher wird empfohlen, Grenzwerte f√ºr verschiedene Arten von Inhalten festzulegen. Mit dem Express-Framework kann dies beispielsweise wie folgt implementiert werden:</font></font><br>
<br>
<pre><code class="java hljs">app.use(express.urlencoded({ limit: <span class="hljs-string">"1kb"</span> }));<font></font>
app.use(express.json({ limit: <span class="hljs-string">"1kb"</span> }));<font></font>
app.use(express.multipart({ limit:<span class="hljs-string">"10mb"</span> }));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Es ist zu beachten, dass ein Angreifer den Typ des Anforderungsinhalts √§ndern und Einschr√§nkungen umgehen kann. Daher muss √ºberpr√ºft werden, ob der Inhalt der Anforderung mit dem im Anforderungsheader angegebenen Inhaltstyp √ºbereinstimmt. </font><font style="vertical-align: inherit;">Wenn die √úberpr√ºfung des Inhaltstyps die Leistung beeintr√§chtigt, k√∂nnen Sie nur bestimmte Typen oder Abfragen √ºberpr√ºfen, die gr√∂√üer als eine bestimmte Gr√∂√üe sind. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blockieren Sie die Ereignisschleife nicht</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Eine wichtige Komponente der Sprache ist die Ereignisschleife, mit der Sie lediglich den Ausf√ºhrungskontext wechseln k√∂nnen, ohne auf den Abschluss des Vorgangs warten zu m√ºssen. </font><font style="vertical-align: inherit;">Es gibt jedoch Blockierungsvorg√§nge, deren Abschluss NodeJS warten muss, bevor der Code fortgesetzt wird. </font><font style="vertical-align: inherit;">Beispielsweise blockieren die meisten synchronen Methoden:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">const</span> fs = require(<span class="hljs-string">'fs'</span>);<font></font>
fs.unlinkSync(<span class="hljs-string">'/file.txt'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wird empfohlen, solche Vorg√§nge asynchron auszuf√ºhren:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">const</span> fs = require(<span class="hljs-string">'fs'</span>);<font></font>
fs.unlink(<span class="hljs-string">'/file.txt'</span>, (err) =&gt; {
    <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Vergessen Sie gleichzeitig nicht, dass der nach dem asynchronen Aufruf stehende Code ausgef√ºhrt wird, ohne auf den Abschluss des vorherigen Vorgangs zu warten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im folgenden Code wird die Datei beispielsweise vor dem Lesen gel√∂scht, was zu einer Rennbedingung f√ºhren kann.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">const</span> fs = require(<span class="hljs-string">'fs'</span>);<font></font>
fs.readFile(<span class="hljs-string">'/file.txt'</span>, (err, data) =&gt; {
  <span class="hljs-comment">// perform actions on file content</span><font></font>
});<font></font>
fs.unlinkSync(<span class="hljs-string">'/file.txt'</span>);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Um dies zu vermeiden, k√∂nnen Sie alle Operationen in einer nicht blockierenden Funktion schreiben:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">const</span> fs = require(<span class="hljs-string">'fs'</span>);<font></font>
fs.readFile(<span class="hljs-string">'/file.txt'</span>, (err, data) =&gt; {
  <span class="hljs-comment">// perform actions on file content</span>
  fs.unlink(<span class="hljs-string">'/file.txt'</span>, (err) =&gt; {
    <span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err;<font></font>
  });<font></font>
});<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eingabefelder √ºberpr√ºfen Das</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
√úberpr√ºfen von </font><b><font style="vertical-align: inherit;">Eingabefeldern</font></b><font style="vertical-align: inherit;"> ist ein wichtiger Bestandteil der Sicherheit jeder Anwendung. Validierungsfehler k√∂nnen dazu f√ºhren, dass Ihre Anwendung sofort f√ºr viele Arten von Angriffen anf√§llig wird: SQL-Injection, xss, Command Injection und andere. Um die Formularvalidierung zu vereinfachen, k√∂nnen Sie Validator-Pakete verwenden, mongo-express-sanitize. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escape-Benutzerdaten</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Eine der Regeln, die Ihnen helfen, sich vor xss-Angriffen zu sch√ºtzen, besteht darin, Benutzerdaten zu sch√ºtzen. Sie k√∂nnen hierf√ºr die Escape-HTML- oder Node-Esapi-Bibliothek verwenden. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Protokolle f√ºhren</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dar√ºber hinaus hilft es beim Debuggen von Fehlern. Die Protokollierung kann verwendet werden, um auf Vorf√§lle zu reagieren. Weitere Informationen zur Notwendigkeit der Protokollierung finden Sie </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier.</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Eines der beliebtesten NodeJS-Protokollierungspakete ist Winston und Bunyan. </font><font style="vertical-align: inherit;">Das folgende Beispiel zeigt, wie Sie mit Winston Protokolle sowohl an die Konsole als auch an die Datei ausgeben:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> logger = <span class="hljs-keyword">new</span> (Winston.Logger) ({<font></font>
    transports: [<font></font>
        <span class="hljs-keyword">new</span> (winston.transports.Console)(),
        <span class="hljs-keyword">new</span> (winston.transports.File)({ filename: <span class="hljs-string">'application.log'</span> })<font></font>
    ],<font></font>
    level: <span class="hljs-string">'verbose'</span><font></font>
});<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Steuern des Ereigniszyklus</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn sich auf Ihrem Server ein intensiver Netzwerkverkehr befindet, k√∂nnen Benutzer Schwierigkeiten mit der Verf√ºgbarkeit Ihres Dienstes haben. </font><font style="vertical-align: inherit;">Dies ist im Wesentlichen ein DoS-Angriff. </font><font style="vertical-align: inherit;">In diesem Fall k√∂nnen Sie die Antwortzeit verfolgen und, wenn sie die angegebene Zeit √ºberschreitet, eine Nachricht an 503 Server Too Busy senden. </font><font style="vertical-align: inherit;">Das Modul toobusy-js kann helfen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Beispiel f√ºr die Verwendung des Moduls:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> toobusy = require(<span class="hljs-string">'toobusy-js'</span>);
<span class="hljs-keyword">var</span> express = require(<span class="hljs-string">'express'</span>);
<span class="hljs-keyword">var</span> app = express();<font></font>
app.use(function(req, res, next) {<font></font>
    <span class="hljs-keyword">if</span> (toobusy()) {
        <span class="hljs-comment">// log if you see necessary</span>
        res.send(<span class="hljs-number">503</span>, <span class="hljs-string">"Server Too Busy"</span>);<font></font>
    } <span class="hljs-keyword">else</span> {<font></font>
    next();<font></font>
    }<font></font>
});<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Treffen Sie Vorsichtsma√ünahmen gegen rohe Gewalt.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Auch hier kommen Module zur Rettung. </font><font style="vertical-align: inherit;">Zum Beispiel Express-Brute oder Express-Bouncer. </font><font style="vertical-align: inherit;">Anwendungsbeispiel:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> bouncer = require(<span class="hljs-string">'express-bouncer'</span>);<font></font>
bouncer.whitelist.push(<span class="hljs-string">'127.0.0.1'</span>); <span class="hljs-comment">// whitelist an IP address</span>
<span class="hljs-comment">// give a custom error message</span><font></font>
bouncer.blocked = function (req, res, next, remaining) {<font></font>
    res.send(<span class="hljs-number">429</span>, <span class="hljs-string">"Too many requests have been made. Please wait "</span> + remaining/<span class="hljs-number">1000</span> + <span class="hljs-string">" seconds."</span>);<font></font>
};<font></font>
<span class="hljs-comment">// route to protect</span>
app.post(<span class="hljs-string">"/login"</span>, bouncer.block, function(req, res) {
    <span class="hljs-keyword">if</span> (LoginFailed){  }
    <span class="hljs-keyword">else</span> {<font></font>
        bouncer.reset( req );<font></font>
    }<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verwendung von CAPTCHA ist eine weitere g√§ngige Brute-Force-Gegenma√ünahme. </font><font style="vertical-align: inherit;">Ein h√§ufig verwendetes Modul zur Implementierung von CAPTCHA ist svg-captcha. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden von CSRF-Token</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Eine der zuverl√§ssigsten M√∂glichkeiten zum Schutz vor CSRF-Angriffen ist die Verwendung eines CSRF-Tokens. </font><font style="vertical-align: inherit;">Das Token muss mit hoher Entropie generiert, streng √ºberpr√ºft und an die Sitzung des Benutzers gebunden werden. </font><font style="vertical-align: inherit;">Um den Betrieb des CSRF-Tokens sicherzustellen, k√∂nnen Sie das csurf-Modul verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anwendungsbeispiel:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> csrf = require(<span class="hljs-string">'csurf'</span>);<font></font>
csrfProtection = csrf({ cookie: <span class="hljs-keyword">true</span> });<font></font>
app.get(<span class="hljs-string">'/form'</span>, csrfProtection, function(req, res) {<font></font>
    res.render(<span class="hljs-string">'send'</span>, { csrfToken: req.csrfToken() })<font></font>
})<font></font>
app.post(<span class="hljs-string">'/process'</span>, parseForm, csrfProtection, function(req, res) {<font></font>
    res.send(<span class="hljs-string">'data is being processed'</span>);<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vergessen Sie nicht, das Token dem ausgeblendeten Feld auf der Seite hinzuzuf√ºgen:</font></font><br>
<br>
<pre><code class="plaintext hljs">&lt;input type="hidden" name="_csrf" value="{{ csrfToken }}"&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informationen zu</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CSRF-Token finden Sie in unserem </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;">Artikel</font></b></a><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L√∂schen Sie unn√∂tige Routen. Die</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Webanwendung sollte keine Seiten enthalten, die nicht von Benutzern verwendet werden, da dies die Angriffsfl√§che vergr√∂√üern kann. Daher m√ºssen alle nicht verwendeten API-Routen deaktiviert werden. Sie sollten diese Frage besonders beachten, wenn Sie Sails- oder Feathers-Frameworks verwenden, da diese automatisch API-Endpunkte generieren. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sch√ºtzen Sie sich vor HPP (HTTP Parameter Pollution)</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Standardm√§√üig f√ºgt express alle Parameter aus der Anforderung zu einem Array hinzu. OWASP empfiehlt die Verwendung des hpp-Moduls, das alle Parameterwerte aus req.query und / oder req.body ignoriert und einfach den letzten Wert aus den doppelten Werten ausw√§hlt.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> hpp = require(<span class="hljs-string">'hpp'</span>);<font></font>
app.use(hpp());<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úberwachen Sie die zur√ºckgegebenen Werte.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
In der Benutzertabelle k√∂nnen beispielsweise wichtige Daten gespeichert werden: Kennwort, E-Mail-Adresse, Geburtsdatum usw. </font><font style="vertical-align: inherit;">Daher ist es wichtig, nur die erforderlichen Daten zur√ºckzugeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel:</font></font><br>
<br>
<pre><code class="java hljs"> <span class="hljs-keyword">exports</span>.sanitizeUser = function(user) {
  <span class="hljs-keyword">return</span> {<font></font>
    id: user.id,<font></font>
    username: user.username,<font></font>
    fullName: user.fullName<font></font>
  };<font></font>
};<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie Deskriptoren.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Deskriptoren k√∂nnen verwendet werden, um das Verhalten einer Eigenschaft f√ºr verschiedene Operationen zu beschreiben: beschreibbar - ob es m√∂glich ist, den Wert einer Eigenschaft zu √§ndern, aufz√§hlbar - ob es m√∂glich ist, eine Eigenschaft in einer for..in-Schleife zu verwenden, konfigurierbar - ob es m√∂glich ist, eine Eigenschaft zu √ºberschreiben. </font><font style="vertical-align: inherit;">Es wird empfohlen, auf die aufgelisteten Eigenschaften zu achten, da beim Definieren der Eigenschaft eines Objekts alle diese Attribute standardm√§√üig auf true gesetzt sind. </font><font style="vertical-align: inherit;">Sie k√∂nnen den Wert von Eigenschaften wie folgt √§ndern:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> o = {};<font></font>
Object.defineProperty(o, <span class="hljs-string">"a"</span>, {<font></font>
    writable: <span class="hljs-keyword">true</span>,<font></font>
    enumerable: <span class="hljs-keyword">true</span>,<font></font>
    configurable: <span class="hljs-keyword">true</span>,<font></font>
    value: <span class="hljs-string">"A"</span><font></font>
});<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden von ACLs</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Acl kann dabei helfen, den Datenzugriff anhand von Rollen zu unterscheiden. </font><font style="vertical-align: inherit;">Das Hinzuf√ºgen von Berechtigungen sieht beispielsweise folgenderma√üen aus:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-comment">// guest is allowed to view blogs</span>
acl.allow(<span class="hljs-string">'guest'</span>, <span class="hljs-string">'blogs'</span>, <span class="hljs-string">'view'</span>)
<span class="hljs-comment">// allow function accepts arrays as any parameter</span>
acl.allow(<span class="hljs-string">'member'</span>, <span class="hljs-string">'blogs'</span>, [<span class="hljs-string">'edit'</span>, <span class="hljs-string">'view'</span>, <span class="hljs-string">'delete'</span>])
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catch uncaughtException</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Standardm√§√üig l√∂st NodeJS im Falle einer nicht erfassten Ausnahme den aktuellen Stack-Trace aus und beendet den Ausf√ºhrungsthread. </font><font style="vertical-align: inherit;">Mit NodeJS k√∂nnen Sie dieses Verhalten jedoch anpassen. </font><font style="vertical-align: inherit;">Im Falle einer nicht erfassten Ausnahme wird ein nicht erfasstes Ausnahmeereignis ausgel√∂st, das mithilfe des Prozessobjekts abgefangen werden kann:</font></font><br>
<br>
<pre><code class="java hljs">process.on(<span class="hljs-string">"uncaughtException"</span>, function(err) {
    <span class="hljs-comment">// clean up allocated resources</span>
    <span class="hljs-comment">// log necessary error details to log files</span>
    process.exit(); <span class="hljs-comment">// exit the process to avoid unknown state</span><font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass bei Auftreten einer nicht erfassten Ausnahme alle zugewiesenen Ressourcen (z. B. Dateideskriptoren und Handler) gel√∂scht werden m√ºssen, bevor der Z-Prozess abgeschlossen wird, um unvorhergesehene Fehler zu vermeiden. </font><font style="vertical-align: inherit;">Es wird dringend davon abgeraten, dass das Programm weiterhin ausgef√ºhrt wird, wenn eine nicht erfasste Ausnahme auftritt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au√üerdem sollte der Benutzer beim Anzeigen von Fehlermeldungen keine detaillierten Fehlerinformationen wie die Stapelverfolgung offenlegen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serversicherheit</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Setzen Sie beim Arbeiten mit Cookies Flags f√ºr Header.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Es gibt verschiedene Flags, die vor Angriffen wie xss und csrf sch√ºtzen k√∂nnen: httpOnly, das den Zugriff auf Cookies √ºber Javascript verhindert; </font><font style="vertical-align: inherit;">Sicher - Erm√∂glicht das Senden von Cookies nur √ºber HTTPS und SameSite, wodurch festgelegt wird, ob Cookies an Ressourcen von Drittanbietern √ºbertragen werden k√∂nnen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anwendungsbeispiel:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> session = require(<span class="hljs-string">'express-session'</span>);<font></font>
app.use(session({<font></font>
    secret: <span class="hljs-string">'your-secret-key'</span>,<font></font>
    key: <span class="hljs-string">'cookieName'</span>,<font></font>
    cookie: { secure: <span class="hljs-keyword">true</span>, httpOnly: <span class="hljs-keyword">true</span>, path: <span class="hljs-string">'/user'</span>, sameSite: <span class="hljs-keyword">true</span>}<font></font>
}));<font></font>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Festlegen von HTTP-Headern aus Sicherheitsgr√ºnden</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Im Folgenden finden Sie Header und Beispiele f√ºr die Verbindung, um sich vor einer Reihe h√§ufiger Angriffe zu sch√ºtzen. </font><font style="vertical-align: inherit;">Header werden mit dem Helmmodul festgelegt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Strict-Transport-Security: HTTP Strict Transport Security (HSTS) teilt dem Browser mit, dass auf die Anwendung nur √ºber HTTPS zugegriffen werden kann</font></font><br>
<br>
<pre><code class="java hljs">app.use(helmet.hsts()); <span class="hljs-comment">// default configuration</span>
app.use(helmet.hsts(<span class="hljs-string">"&lt;max-age&gt;"</span>, <span class="hljs-string">"&lt;includeSubdomains&gt;"</span>)); <span class="hljs-comment">// custom configuration</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ X-Frame-Optionen: Legt fest, ob die Seite in Frame, Iframe, Einbettung oder Objekt verwendet werden kann</font></font><br>
<br>
<pre><code class="java hljs">app.use(hemlet.xframe()); <span class="hljs-comment">// default behavior (DENY)</span>
helmet.xframe(<span class="hljs-string">'sameorigin'</span>); <span class="hljs-comment">// SAMEORIGIN</span>
helmet.xframe(<span class="hljs-string">'allow-from'</span>, <span class="hljs-string">'http://alloweduri.com'</span>); <span class="hljs-comment">//ALLOW-FROM uri</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ X-XSS-Schutz: Erm√∂glicht dem Browser, das Laden der Seite zu beenden, wenn er einen reflektierten XSS-Angriff erkennt.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> xssFilter = require(<span class="hljs-string">'x-xss-protection'</span>);<font></font>
app.use(xssFilter());<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ X-Content-Type-Options: Wird verwendet, um Angriffe mit MIME-Typen zu verhindern</font></font><br>
<br>
<pre><code class="java hljs">app.use(helmet.noSniff());
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Content-Security-Policy: Verhindert Angriffe wie XSS und Dateninjektionsangriffe</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">const</span> csp = require(<span class="hljs-string">'helmet-csp'</span>)<font></font>
app.use(csp({<font></font>
   directives: {<font></font>
       defaultSrc: [<span class="hljs-string">"'self'"</span>],  <span class="hljs-comment">// default value for all directives that are absent</span>
       scriptSrc: [<span class="hljs-string">"'self'"</span>],   <span class="hljs-comment">// helps prevent XSS attacks</span>
       frameAncestors: [<span class="hljs-string">"'none'"</span>],  <span class="hljs-comment">// helps prevent Clickjacking attacks</span>
       imgSrc: [<span class="hljs-string">"'self'"</span>, <span class="hljs-string">"'http://imgexample.com'"</span>],<font></font>
       styleSrc: [<span class="hljs-string">"'none'"</span>]<font></font>
    }<font></font>
}))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Cache-Control und Pragma: Zum Verwalten des Caching kann dieser Header insbesondere f√ºr Seiten n√ºtzlich sein, die vertrauliche Daten enthalten. </font><font style="vertical-align: inherit;">Beachten Sie jedoch, dass das Deaktivieren des Caching auf allen Seiten die Leistung beeintr√§chtigen kann.</font></font><br>
<br>
<pre><code class="java hljs">app.use(helmet.noCache());
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ X-Download-Optionen: Der Header verhindert, dass Inter Explorer heruntergeladene Dateien ausf√ºhrt</font></font><br>
<br>
<pre><code class="java hljs">app.use(helmet.ieNoOpen());
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ Expect-CT: Zertifikatstransparenz - Ein Mechanismus, der entwickelt wurde, um einige Probleme mit der SSL-Zertifikatinfrastruktur zu l√∂sen. Dieser Header informiert den Browser √ºber die Notwendigkeit einer zus√§tzlichen Zertifikat√ºberpr√ºfung in CT-Protokollen</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> expectCt = require(<span class="hljs-string">'expect-ct'</span>);<font></font>
app.use(expectCt({ maxAge: <span class="hljs-number">123</span> }));<font></font>
app.use(expectCt({ enforce: <span class="hljs-keyword">true</span>, maxAge: <span class="hljs-number">123</span> }));<font></font>
app.use(expectCt({ enforce: <span class="hljs-keyword">true</span>, maxAge: <span class="hljs-number">123</span>, reportUri: <span class="hljs-string">'http://example.com'</span>}));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‚Ä¢ X-Powered-By: Ein optionaler Header, der die auf dem Server verwendete Technologie angibt. </font><font style="vertical-align: inherit;">Sie k√∂nnen diesen Header wie folgt ausblenden:</font></font><br>
<br>
<pre><code class="java hljs">app.use(helmet.hidePoweredBy());
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Dar√ºber hinaus k√∂nnen Sie den Wert √§ndern, um echte Informationen zu den von Ihnen verwendeten Technologien auszublenden:</font></font><br>
<br>
<pre><code class="java hljs">app.use(helmet.hidePoweredBy({ setTo: <span class="hljs-string">'PHP 4.2.0'</span> }));
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plattformsicherheit</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktualisieren Sie Ihre Pakete Die</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sicherheit Ihrer Anwendung h√§ngt von der Sicherheit der von Ihnen verwendeten Pakete ab. Daher ist es wichtig, die neueste Version des Pakets zu verwenden. Um sicherzustellen, dass das von Ihnen verwendete Paket keine bekannten Sicherheitsl√ºcken enth√§lt, k√∂nnen Sie die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spezielle OWASP-Liste verwenden</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Sie k√∂nnen auch die Bibliothek verwenden, die Pakete auf bekannte Sicherheitsl√ºcken √ºberpr√ºft. Retire.js. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie keine unsicheren Funktionen.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt Funktionen, die nach M√∂glichkeit verworfen werden sollten. Zu diesen Funktionen geh√∂rt eval (), das eine als Argument verwendete Zeichenfolge ausf√ºhrt. In Kombination mit Benutzereingaben kann die Verwendung dieser Funktion zu einer Sicherheitsanf√§lligkeit bez√ºglich Remotecodeausf√ºhrung f√ºhren, da die Verwendung von child_process.exec aus √§hnlichen Gr√ºnden ebenfalls unsicher ist, da die Funktion die empfangenen Argumente an bin / sh √ºbergibt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dar√ºber hinaus gibt es eine Reihe von Modulen, die Sie mit Vorsicht verwenden sollten. Zum Beispiel das fs-Modul zum Arbeiten mit Dateien. Wenn die generierte Benutzereingabe auf bestimmte Weise an eine Funktion √ºbergeben wird, kann Ihre Anwendung anf√§llig f√ºr das Einschlie√üen einer lokalen Datei und eines Verzeichnisdurchlaufs werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das VM-Modul, das eine API zum Kompilieren und Ausf√ºhren von Code auf einer virtuellen V8-Maschine bereitstellt, sollte nur in der Sandbox verwendet werden. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hier</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> k√∂nnen Sie sich mit anderen Funktionen vertraut machen, die Ihre Anwendung m√∂glicherweise unsicher machen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seien Sie vorsichtig mit regul√§ren Ausdr√ºcken.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ein regul√§rer Ausdruck kann so geschrieben werden, dass Sie eine Situation erreichen, in der der Ausdruck exponentiell w√§chst, was zu einem Denial-of-Service f√ºhren kann. Solche Angriffe werden als ReDoS bezeichnet. Es gibt verschiedene Tools, mit denen √ºberpr√ºft werden kann, ob regul√§re Ausdr√ºcke sicher sind. Eines davon ist der Vuln-Regex-Detektor. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linter regelm√§√üig ausf√ºhren</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
W√§hrend der Entwicklung ist es schwierig, alle Empfehlungen zur Gew√§hrleistung der Sicherheit zu ber√ºcksichtigen. Wenn es um die Teamentwicklung geht, ist es nicht einfach, die Einhaltung der Regeln durch alle Teammitglieder zu erreichen. F√ºr solche Zwecke gibt es Tools f√ºr die statische Sicherheitsanalyse. Solche Tools suchen, ohne Ihren Code auszuf√ºhren, nach Schwachstellen darin. Dar√ºber hinaus k√∂nnen Sie mit Lintern benutzerdefinierte Regeln hinzuf√ºgen, um Stellen im Code zu finden, die m√∂glicherweise anf√§llig sind. Die am h√§ufigsten verwendeten Linters sind ESLint und JSHint. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verwenden Sie den strengen Modus.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Javascript verf√ºgt √ºber eine Reihe unsicherer und veralteter Funktionen, die nicht verwendet werden sollten. Um die M√∂glichkeit der Verwendung dieser Funktionen auszuschlie√üen, wird auch der strikte Modus bereitgestellt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Allgemeine Sicherheitsgrunds√§tze einhalten</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die beschriebenen Empfehlungen konzentrieren sich auf NodeJS, vergessen jedoch nicht die allgemeinen Sicherheitsprinzipien, die unabh√§ngig von der verwendeten Plattform eingehalten werden m√ºssen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de493702/index.html">Massiver √úbergang zur Fernarbeit: technische Probleme und Sicherheitsbedrohungen</a></li>
<li><a href="../de493704/index.html">Verwenden von TypeScript in JavaScript ohne Schreiben von TypeScript</a></li>
<li><a href="../de493706/index.html">Kennen Sie Ihren Feind: Erstellen Sie eine Node.js-Hintert√ºr</a></li>
<li><a href="../de493708/index.html">Anatomie meines Heimat-Kubernetes-Clusters</a></li>
<li><a href="../de493712/index.html">Neue TypeScript-Funktionen f√ºr verbesserte Benutzerfreundlichkeit</a></li>
<li><a href="../de493716/index.html">Typinferenz mit TypeScript unter Verwendung des Konstrukts as const und des Schl√ºsselworts infer</a></li>
<li><a href="../de493718/index.html">Diskussion: Standard-UNIX-Dienstprogramme, die nur wenige verwendet haben und derzeit verwenden</a></li>
<li><a href="../de493720/index.html">Der perfekte Sturm: Wie Technologie die Food-Service-Branche ver√§ndert</a></li>
<li><a href="../de493724/index.html">RPA | Prozessrobotisierung mit den Augen eines Analysten</a></li>
<li><a href="../de493726/index.html">Raucherkennungskomplex per Foto oder Video basierend auf Intel NUC</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>