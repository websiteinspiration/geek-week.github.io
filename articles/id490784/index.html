<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“€ ğŸ¥‘ ğŸ¸ Saya seorang pengembang Android dan saya tidak ingin melakukan pekerjaan manual. ğŸ–•ğŸ¾ ğŸš” â›µï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ketika saya menetap di Skyeng, matahari bersinar sedikit lebih terang, rumput tidak lebih hijau (itu adalah awal musim semi yang sama), dan pemimpin t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Saya seorang pengembang Android dan saya tidak ingin melakukan pekerjaan manual.</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/490784/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketika saya menetap di Skyeng, matahari bersinar sedikit lebih terang, rumput tidak lebih hijau (itu adalah awal musim semi yang sama), dan pemimpin tim meminta saya untuk menulis kepada Jira berapa banyak waktu yang dihabiskan untuk pengkodean, dan berapa banyak bicara dan ulasan. Setidaknya sekali setiap dua minggu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p0/gd/rw/p0gdrwyypbzz6wn81ybvknbmohq.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Berdasarkan data ini, kami berusaha memahami apakah perlu untuk menyesuaikan estimasi dan apakah ada masalah dalam komunikasi dalam tim," kata mereka. Tapi siapa "babayka" seperti itu tidak pernah diberi tahu.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena kita semua pekerja jarak jauh, ide itu terdengar masuk akal. Dan menarik bagi saya ke mana delapan jam ini telah berlalu: di sini mereka, tetapi untuk apa sebenarnya? Namun, penebangan tidak biasa. Dan secara umum kemalasan. Kemudian saya memutuskan untuk mencari sesuatu yang akan terus bekerja untuk saya. Dan dalam proses penelitian, saya sedikit terhanyut dan menulis plugin untuk IntelliJ IDEA. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah ini Anda akan menemukan</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ulasan subjektif alat jadi dan sepeda saya</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dengan sumber).</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saya mempelajari solusi yang digunakan tim</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal pertama yang saya lakukan adalah mencari tahu dari rekan saya yang menggunakan apa. </font><font style="vertical-align: inherit;">Opsinya kira-kira sebagai berikut:</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clockify</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - satu tombol untuk mengatur segalanya</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apakah Anda perlu waktu untuk menulis kode atau menulis dok? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugin ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan menambahkan tombol (pacman abu-abu yang cukup mencolok) hampir di mana saja.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yy/9-/ic/yy9-icorb-pi37wptn9yh7wxtxk.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jadi itu terlihat di Google Documents</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/1k/tf/m0/1ktfm0ax7-xl9rmwtlq9jvwtgec.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan di GitHub</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Anda dapat mengagumi Natrekannyi di dasbor, atau Anda dapat mengimpor ke dalam sebuah tabel dan menjatuhkannya ke Jira. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/bf/6h/jsbf6htyizodd76lwvq5hbzuqhy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integrasi ke Jira disediakan secara terpisah, juga oleh </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ekstensi browser.</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Namun, dimungkinkan untuk mengunggah tabel dengan worklog yang diperoleh dari Clockify ke kalender kerja Anda. </font><font style="vertical-align: inherit;">Dan untuk pelacakan waktu offline ada aplikasi desktop untuk windows, linux dan mac. </font><font style="vertical-align: inherit;">Aplikasi seluler juga. </font><font style="vertical-align: inherit;">Fungsionalitas utamanya adalah gratis, tetapi ada beberapa paket tarif dengan barang seperti privasi, pengingat dan template untuk proyek.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beralih</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , hanya Beralih</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semuanya hampir sama, tetapi sedikit lebih banyak barang - misalnya, dalam aplikasi desktop, Anda dapat mengatur sendiri pengingat tentang pencatatan waktu, nyalakan mode pomodoro, bahkan ada peluang untuk menautkan aplikasi tertentu ke proyek tertentu dan mengatur pelacakan otomatis.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hl/yp/sv/hlypsvcpl66hldse0c4ayfhkmzi.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tetapi ada nuansa: pada hari pertama penggunaan saya kagum dengan jendela ini dan pemberitahuan dengan pengingat. </font><font style="vertical-align: inherit;">Meskipun teorinya terdengar keren)</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Toggl + </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python script</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ketika hanya satu tombol tidak lagi cukup</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penemuan rekan saya. </font><font style="vertical-align: inherit;">Entah bagaimana, dia memutuskan untuk mengurangi isyarat untuk mengekspor tabel ke Jira dan menggeser pembongkaran pajak di Toggl ke sebuah skrip. </font><font style="vertical-align: inherit;">Anda bisa memasukkan cron dan menikmati hidup.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wakatime</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - kemana kita pergi, tidak perlu tombol</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mencatat semuanya sendiri. Karena itu, hal pertama yang harus diingat ketika menghubungkan ekstensi browsernya adalah daftar hitam. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain ekstensi, ia menyediakan beberapa integrasi dan jumlah plugin yang layak untuk IDE dan editor yang paling umum. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xz/4u/uk/xz4uuk51xsdjdkemxh-ichx8ceg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugin untuk IDE melacak waktu yang dihabiskan baik dalam cabang git tertentu dan dalam file tertentu. Di layar, daftar yang tersedia sangat mengesankan. Serenyk - â€œdalam rencanaâ€, untuk implementasi cepatnya, Anda dapat memilih. Beberapa plugin dalam langganan berbayar sebesar $ 9 per bulan.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, di dasbor, Anda dapat melihat berapa banyak waktu yang dihabiskan sebagai persentase untuk menulis kode dalam bahasa yang berbeda: jika Anda ingat bahwa proyek android biasa melibatkan penggunaan Kotlin, Java, Groovy dan xml - ini masuk akal untuk dirinya sendiri). </font><font style="vertical-align: inherit;">Dan jika Anda bekerja dengan plugin yang diinstal untuk sementara waktu, Anda akan melihat bahwa itu agak kejam: dasbor mendapatkan waktu membaca dan menulis kode aktif. </font><font style="vertical-align: inherit;">Dan menempel tidak masuk ke monitor dengan tampilan kaca. </font><font style="vertical-align: inherit;">Tak perlu dikatakan, seorang amatir.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hmm, kode sumber untuk WakaTime terbuka: Anda dapat mencoba memahami cara kerjanya ...</font></font></b><div class="spoiler_text">  , ?           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">   IDE  JetBrains</a>. <br>
<br>
 .     WakaTime.java.    ,         ,    Heartbeat (),   WakaTime CLI    .      , , ,       . <br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menulis sepeda Anda dengan analogi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mungkin senjata kentang akan lebih berguna, tetapi Anda tidak akan melakukan apa pun untuk tujuan penelitian. Setelah bermeditasi pada sumber-sumber WakaTime, saya memutuskan untuk membuat plug-in saya sendiri yang dapat melacak aktivitas dalam IDE, mencatat waktu untuk menulis, dan mengirimkan semuanya ke Jira (dalam aliran kami, cabang diberi nama setelah tugas di Jira, sehingga terlihat cukup realistis). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan agar tidak memenuhi permintaan server saat mengerjakan kode, kami akan mengirimkan log ketika Android Studio ditutup, dan sampai saat ini menyimpannya secara lokal.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Entitas apa yang dapat kita temukan dalam kode sumber plugin (dan digunakan dalam milik kita sendiri)?</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami tidak menggunakan Komponen (ini adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Legacy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang sebelumnya merupakan unit struktural utama dari plugin. Mungkin level aplikasi, level proyek, atau level modul. Ada ApplicationComponent di sumber WakaTime, tetapi mereka bisa, kode sumber sudah berusia lima tahun dan harus mempertahankan kompatibilitas ke belakang. Komponen terkait dengan siklus hidup tingkat yang terkait. Jadi, misalnya, ApplicationComponent dimuat ketika IDE dimulai. Ketika digunakan, mereka akan memblokir plugin dari memulai kembali tanpa me-restart IDE dan umumnya berperilaku tidak menyenangkan. Karena itu, lebih baik menggunakan layanan saja. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menggunakan Layanan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- unit struktural utama saat ini. </font><font style="vertical-align: inherit;">Mereka dibagi ke dalam level aplikasi, proyek, dan modul yang sama, membantu kami merangkum logika pada level yang sesuai dan menyimpan status plugin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak seperti komponen, Layanan harus dimuat sendiri menggunakan metode ServiceManager.getService (). </font><font style="vertical-align: inherit;">Platform ini memastikan bahwa setiap layanan adalah layanan tunggal. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Add Actions</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mereka bisa berupa jalan pintas, item menu tambahan - dalam satu kata, mereka bertanggung jawab atas segala sesuatu yang entah bagaimana memengaruhi tindakan pengguna dalam IDE. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menggunakan Ekstensi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - setiap ekstensi fungsi yang akan lebih rumit daripada Tindakan: misalnya, terhubung ke siklus hidup IDE dan melakukan sesuatu sambil menampilkan layar splash atau sebelum keluar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua ini harus dideklarasikan di file /META_INF/plugin.xml.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Plugin.xml dan build.gradle</font></font></h4><br>
<img src="https://habrastorage.org/webt/ap/ia/vz/apiavzht769ipgzd8ltqaobce4o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jendela pembuatan proyek. </font><font style="vertical-align: inherit;">Kami akan menulis plugin kami di Kotlin, dan menggunakan Gradle untuk perakitan.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ini adalah hal pertama yang kami lihat setelah membuat plugin kosong di IDEA (File -&gt; New -&gt; Project ... -&gt; Gradle -&gt; Plugin Platform IntelliJ). </font><font style="vertical-align: inherit;">Ini berisi informasi tentang dependensi plugin dan deskripsi singkatnya. </font><font style="vertical-align: inherit;">Ini harus mendeklarasikan komponen plug-in - komponen, layanan, tindakan, dan ekstensi yang disebutkan sebelumnya. </font><font style="vertical-align: inherit;">Tidak akan ada titik masuk khusus - itu akan menjadi tindakan kustom atau peristiwa siklus hidup IDE, tergantung pada kebutuhan kita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan memerlukan dependensi ini - lagipula, kami ingin menulis sebuah plugin untuk studio dan agar dapat bekerja dengan Git.</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">depends</span>&gt;</span>Git4Idea<span class="hljs-tag">&lt;/<span class="hljs-name">depends</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">depends</span>&gt;</span>com.intellij.modules.androidstudio<span class="hljs-tag">&lt;/<span class="hljs-name">depends</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Git4Idea adalah plug-in untuk sistem file virtual (VCS) dan menyediakan topik, berkat yang nantinya kita bisa mendengarkan acara git - seperti checkout, misalnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena kami juga menginginkan plugin untuk dapat bekerja dengan Jira, kami akan menghubungkan melalui gradle perpustakaan yang disediakan dengan klien lain. </font><font style="vertical-align: inherit;">Untuk melakukan ini, tambahkan repositori maven Atlassian di sana:</font></font><br>
<br>
<pre><code class="kotlin hljs">repositories {<font></font>
   mavenCentral()<font></font>
   maven {<font></font>
       url <span class="hljs-string">"https://packages.atlassian.com/maven/repository/public"</span><font></font>
   }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sebenarnya perpustakaan:</font></font><br>
<br>
<pre><code class="kotlin hljs">implementation <span class="hljs-string">"joda-time:joda-time:2.10.4"</span>
implementation(<span class="hljs-string">"com.atlassian.jira:jira-rest-java-client-core:4.0.0"</span>) {<font></font>
   exclude group: <span class="hljs-string">'org.slf4j'</span><font></font>
   dependencies {<font></font>
       implementation <span class="hljs-string">"com.atlassian.fugue:fugue:2.6.1"</span><font></font>
   }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kami menentukan versi IDE yang menarik bagi kami dan jalurnya (oh, jika Android Studio yang sebenarnya dimulai dan bekerja secepat versi ringan untuk debugging plugins):</font></font><br>
<br>
<pre><code class="kotlin hljs">intellij {<font></font>
   version <span class="hljs-string">'2019.1'</span>
   plugins <span class="hljs-string">'git4idea'</span>
   alternativeIdePath <span class="hljs-string">'E:\\Android Studio'</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan di sini, mungkin, suatu hari nanti kita akan menulis tentang fungsionalitas baru yang ditingkatkan. </font><font style="vertical-align: inherit;">Tapi tidak sekarang.</font></font><br>
<br>
<pre><code class="kotlin hljs">patchPluginXml {<font></font>
   changeNotes <span class="hljs-string">"""
     Add change notes here.&lt;br&gt;
     &lt;em&gt;most HTML tags may be used&lt;/em&gt;"""</span>
}</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Membuat UI</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mendorong sesuatu ke Jira, Anda harus masuk terlebih dahulu. </font><font style="vertical-align: inherit;">Adalah logis untuk melakukan ini segera setelah pembukaan proyek. </font><font style="vertical-align: inherit;">Sepertinya kami memerlukan ekstensi, dan kami tidak akan ragu untuk menyatakannya di plugin.xml:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">postStartupActivity</span> <span class="hljs-attr">implementation</span>=<span class="hljs-string">"Heartbeat"</span>/&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dan tunjukkan dialog di dalamnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Komponen UI terutama adalah komponen dari Swing dengan beberapa ekstensi dari platform SDK. </font><font style="vertical-align: inherit;">Semua ini baru saja dibungkus dengan kotlin ui dsl. </font><font style="vertical-align: inherit;">Pada saat penulisan, dokumentasi mencatat bahwa dsl dapat berubah sangat banyak antara versi utama, jadi kami menggunakannya dengan sedikit rasa takut:</font></font><br>
<br>
<pre><code class="kotlin hljs">
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createCenterPanel</span><span class="hljs-params">()</span></span>: JComponent? {<font></font>
<font></font>
   title = <span class="hljs-string">"Jira credentials"</span>
   setOKButtonText(<span class="hljs-string">"Save"</span>)<font></font>
<font></font>
   <span class="hljs-keyword">return</span> panel {<font></font>
       row {<font></font>
           JLabel(<span class="hljs-string">"Jira hostname"</span>)()<font></font>
           hostname = JTextField(<span class="hljs-string">"https://"</span>)<font></font>
           hostname()<font></font>
       }<font></font>
       row {<font></font>
           JLabel(<span class="hljs-string">"Username:"</span>)()<font></font>
           username = JTextField()<font></font>
           username()<font></font>
       }<font></font>
       row {<font></font>
           JLabel(<span class="hljs-string">"Password:"</span>)()<font></font>
           password = JPasswordField()<font></font>
           password()<font></font>
       }<font></font>
   }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami membuat dialog, menunjukkannya, menerima kredensial dari Jira. </font><font style="vertical-align: inherit;">Sekarang kita perlu menyelamatkan mereka, dan lebih baik dengan aman, sebanyak mungkin. </font><font style="vertical-align: inherit;">PersistingStateComponent akan datang untuk menyelamatkan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Perangkat PersistingStateComponent (tidak terlalu rumit)</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PersistingStateComponent dapat melakukan dua hal - saveState dan loadState: membuat serial dan menyimpan objek yang diteruskan ke sana dan mengambilnya dari penyimpanan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di mana tepatnya ia harus menyimpan data, ia belajar dari penjelasan Negara. </font><font style="vertical-align: inherit;">Dua opsi paling sederhana disebutkan dalam dokumentasi - tentukan file Anda atau simpan semuanya dalam pengaturan ruang kerja:</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-meta">@Storage(<span class="hljs-meta-string">"yourName.xml"</span>)</span>
<span class="hljs-meta">@Storage(StoragePathMacros.WORKSPACE_FILE)</span> 
<span class="hljs-meta">@State(
   name = <span class="hljs-meta-string">"JiraSettings"</span>,
   storages = [
       Storage(<span class="hljs-meta-string">"trackerSettings.xml"</span>)</span>
   ])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena kami memiliki kasus khusus, kami beralih ke dokumentasi untuk penyimpanan data sensitif.</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getState</span><span class="hljs-params">()</span></span>: Credentials? {
   <span class="hljs-keyword">if</span> (credentials == <span class="hljs-literal">null</span>)  {
       <span class="hljs-keyword">val</span> credentialAttributes = createCredentialAttributes()<font></font>
       credentials = PasswordSafe.instance.<span class="hljs-keyword">get</span>(credentialAttributes)<font></font>
   }<font></font>
   <span class="hljs-keyword">return</span> credentials<font></font>
}<font></font>
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadState</span><span class="hljs-params">(state: <span class="hljs-type">Credentials</span>)</span></span> {<font></font>
   credentials = state<font></font>
   <span class="hljs-keyword">val</span> credentialAttributes = createCredentialAttributes()<font></font>
   PasswordSafe.instance.<span class="hljs-keyword">set</span>(credentialAttributes, credentials)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PersistingStateComponent lain akan berhadapan dengan penyimpanan waktu yang dicatat untuk cabang yang berbeda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jira menemukan login. </font><font style="vertical-align: inherit;">Dengan penyimpanan data pengguna juga. </font><font style="vertical-align: inherit;">Sekarang Anda perlu melacak acara checkout di cabang untuk memulai hitungan mundur.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Berlangganan acara</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IntelliJ Platform memberikan kesempatan untuk menggantung Pengamat pada acara yang menarik bagi kami dengan berlangganan topik mereka di messageBus dari tingkat yang diinginkan. </font><font style="vertical-align: inherit;">Ini </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dok</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ini cukup menarik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Topik adalah titik akhir tertentu, representasi dari suatu peristiwa. </font><font style="vertical-align: inherit;">Yang perlu Anda lakukan hanyalah berlangganan dan laksanakan pendengar yang harus menangani apa yang terjadi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, saya perlu mendengarkan checkout di Git ...</font></font><br>
<br>
<pre><code class="kotlin hljs">subscribeToProjectTopic(project, GitRepository.GIT_REPO_CHANGE) {<font></font>
    GitRepositoryChangeListener {<font></font>
        currentBranch = it.currentBranch<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... menutup aplikasi (untuk menggadaikan waktu bahagia) ...</font></font><br>
<br>
<pre><code class="kotlin hljs">subscribeToAppTopic(AppLifecycleListener.TOPIC) {
    <span class="hljs-keyword">object</span>: AppLifecycleListener {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">appWillBeClosed</span><span class="hljs-params">(isRestart: <span class="hljs-type">Boolean</span>)</span></span> {
            <span class="hljs-keyword">if</span> (!isRestart) {<font></font>
                JiraClient.logTime(entry.key, DateTime.now(), entry.value)<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... dan menyimpan dokumen (hanya itu saja).</font></font><br>
<br>
<pre><code class="kotlin hljs">subscribeToAppTopic(AppTopics.FILE_DOCUMENT_SYNC) {<font></font>
    CustomSaveListener()<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini, pada prinsipnya, sudah cukup (jika tidak, Anda selalu dapat menulis sendiri). </font><font style="vertical-align: inherit;">Tetapi bagaimana jika kita ingin mendengar sedikit gulir dan gerakan mouse?</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. EditorEventMulticaster</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini mengumpulkan semua yang terjadi di jendela editor terbuka - mengedit, mengubah area yang terlihat, gerakan mouse - dan memungkinkan Anda untuk berlangganan di satu tempat dan segera. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kami memiliki semua yang kami butuhkan. </font><font style="vertical-align: inherit;">Kita dapat mengekstrak nama tugas di Jira dari cabang saat ini (jika ada), menghitung waktu yang dihabiskan untuk mengerjakannya, dan segera keluar dari studio untuk menambahkannya ke tugas.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Kode dan detail </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di sini</font></font></a></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menjalankannya, Anda memerlukan Android Studio terbaru (3.6.1). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menguji kinerja - git dan cabang dengan nama yang setidaknya mirip dengan tugas di Jira. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sehingga plugin tidak hanya menampilkan waktu ke konsol, tetapi melacaknya - batalkan komentar pada baris yang sesuai di Heartbeat.kt.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. Tautan yang bermanfaat</font></font></h4><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serangkaian artikel pengembangan plugin</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel menarik lainnya tentang mengembangkan plugin dari pengembang Android</font></font></a></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS Dan apa yang Anda pilih pada akhirnya?</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Sial, ini agak terlalu jahat. </font><font style="vertical-align: inherit;">Dan jika saya tidak menulis kode? </font><font style="vertical-align: inherit;">Dan jika saya mengambil hidung saya dan berusaha keras untuk memahami apa yang terjadi di dalamnya? </font><font style="vertical-align: inherit;">Dalam kode, dalam arti. </font><font style="vertical-align: inherit;">Bagaimanapun, ini membutuhkan sebagian besar waktu. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Lalu setidaknya gulir. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Jadi tidak jauh dari simulasi aktivitas kekerasan. </font><font style="vertical-align: inherit;">Dan kemudian, saya tidak bisa mematikan studio selama berminggu-minggu dan tidak me-reboot. </font><font style="vertical-align: inherit;">Mungkin kita tidak membutuhkan kebahagiaan seperti itu? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Jelas tidak perlu." </font><font style="vertical-align: inherit;">Maka diperlukan alasan lain, kalau tidak saya suka menulis plugin. </font><font style="vertical-align: inherit;">Dan saya masih tidak terlalu mengerti VCS. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Apakah kamu menggunakannya sendiri?" </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Tidak. </font><font style="vertical-align: inherit;">Saya entah bagaimana belajar log dengan tangan saya, tanpa terasa bagi diri saya sendiri.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id490772/index.html">Cara menulis dan menerbitkan kontrak pintar di Telegram Open Network (TON)</a></li>
<li><a href="../id490774/index.html">Responsif</a></li>
<li><a href="../id490778/index.html">Orang yang memahami pekerjaan seorang programmer dapat ditemukan di mana saja</a></li>
<li><a href="../id490780/index.html">Intel Xeon Scalable Gen2: Penjualan Besar Core</a></li>
<li><a href="../id490782/index.html">AnalogBytes Conference: Roskomnadzor, media, highload, dan semuanya</a></li>
<li><a href="../id490786/index.html">Analisis kebocoran urutan kedua: ketika bocor dari mereka yang mencuri data dari bank</a></li>
<li><a href="../id490788/index.html">REPL tidak berguna. Laporan Yandex</a></li>
<li><a href="../id490790/index.html">File Zip: Sejarah, Penjelasan, dan Implementasi</a></li>
<li><a href="../id490792/index.html">VXLAN dalam NSX-V - Underlay Bermasalah</a></li>
<li><a href="../id490796/index.html">Cara mengotomatiskan keamanan wadah dengan gaya Kebijakan sebagai Kode menggunakan CRD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>