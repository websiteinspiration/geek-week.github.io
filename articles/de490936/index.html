<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïí ü§±üèª ‚öõÔ∏è Erstellen Sie ML unter iOS üçã üò† üôÉ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="K√ºnstliche Intelligenz r√ºckt jedes Jahr n√§her, erst gestern war sie nur einer begrenzten Anzahl von Menschen zug√§nglich. Heute k√∂nnen wir selbst Model...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Erstellen Sie ML unter iOS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490936/"><img src="https://habrastorage.org/webt/pp/ax/t4/ppaxt4vc_weqdfh9qvgz7-9isk4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
K√ºnstliche Intelligenz r√ºckt jedes Jahr n√§her, erst gestern war sie nur einer begrenzten Anzahl von Menschen zug√§nglich. </font><font style="vertical-align: inherit;">Heute k√∂nnen wir selbst Modelle f√ºr maschinelles Lernen erstellen und diese in unseren Projekten verwenden. </font><font style="vertical-align: inherit;">In diesem Artikel werden wir die Tools zum Erstellen von ML vorstellen und versuchen, das Modell f√ºr die Klassifizierung von Bildern zu trainieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber bevor Sie beginnen, ein wenig Geschichte und Erkl√§rung. Auf der j√§hrlichen Konferenz f√ºr Entwickler WWDC2018 stellte Apple die Tools f√ºr die Arbeit mit maschinellem Lernen vor. Create ML. Das in Create ML trainierte Modell ist das Ergebnis der Anwendung eines Algorithmus f√ºr maschinelles Lernen auf einen Satz von Trainingsdaten. Modelle nehmen nicht viel Platz ein (ca. 3 MB), sodass sie im Projekt gespeichert werden k√∂nnen. Urspr√ºnglich wurde vorgeschlagen, Modelle mit Spielpl√§tzen in Xcode 10 zu trainieren und die Arbeit mit Bildern, Text und Tabellen zu unterst√ºtzen. Beim Starten der Spielpl√§tze des Projekts musste die CreateML-Bibliothek importiert und MLImageClassifierBuilder ausgef√ºhrt werden (falls wir das Modell f√ºr die Klassifizierung von Bildern trainiert haben).</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">import</span> CreateMLUI<font></font>
<font></font>
<span class="hljs-keyword">let</span> builder = <span class="hljs-type">MLImageClassifierBuilder</span>()<font></font>
builder.showInLineView()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Jahr 2019 f√ºhrte Apple ein v√∂llig neues Tool f√ºr die Arbeit mit Modellen f√ºr maschinelles Lernen ein, das von den Spielpl√§tzen getrennt wurde. </font><font style="vertical-align: inherit;">Es wurde m√∂glich, Modelle ohne eine einzige Codezeile zu trainieren. </font><font style="vertical-align: inherit;">Die Liste der Datentypen wurde mit Sounds und Aktivit√§ten erg√§nzt. </font><font style="vertical-align: inherit;">Insgesamt werden 5 Datentypen und 9 Modellvorlagen vorgestellt. </font><font style="vertical-align: inherit;">Schauen wir uns jeden Datentyp an und welche Modelle wir als Ergebnis erhalten k√∂nnen.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bilder</font></font></h4><br>
<img src="https://habrastorage.org/webt/q3/y2/zv/q3y2zvd6q-niypvycvnycgmzzh0.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Training mit Bildern stehen zwei Vorlagen zur Verf√ºgung - Bildklassifizierer (Bildklassifizierer) und Objektdetektor (Objektdetektor). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Bildklassifizierer wird verwendet, um Bilder anhand ihres Inhalts zu klassifizieren. Nachdem wir das Modell trainiert haben, k√∂nnen wir ein Objekt im Bild identifizieren und es einem Typ zuordnen. Zum Beispiel, um Tiere in Bildern zu identifizieren und sogar zu unterscheiden, welche Blume auf dem Foto abgebildet ist. In Create ML verwendet die Image Classifier-Vorlage das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbertragungstraining</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Transfer-Training ist die F√§higkeit, ein vorab trainiertes Modell mit Benutzerdaten zu kombinieren, wodurch Sie Modelle auf einer kleinen Anzahl von Bildern trainieren k√∂nnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Object Detector ist ein Deep-Learning-Modell. </font><font style="vertical-align: inherit;">Erm√∂glicht die Identifizierung mehrerer Objekte im Bild, z. B. Personen, Geb√§ude und Autos. </font><font style="vertical-align: inherit;">Und das alles auf einem Bild. </font><font style="vertical-align: inherit;">Es sollte auch hinzugef√ºgt werden, dass beim Trainieren von Object Detector-Modellen die Computer-GPU verwendet wird.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ger√§usche</font></font></h4><br>
<img src="https://habrastorage.org/webt/gr/73/vd/gr73vdrfokur6bj_89ey8vcl-ds.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Arbeit mit Sounds steht nur eine Vorlage zum Erstellen eines Modells zur Verf√ºgung - Sound Classifier (Sound Classifier). </font><font style="vertical-align: inherit;">Sound Classifier ist eine neue Vorlage, mit der Sie den dominantesten Sound im Audiostream bestimmen k√∂nnen. </font><font style="vertical-align: inherit;">Sie k√∂nnen beispielsweise bestimmen, welches Instrument in Audio klingt. </font><font style="vertical-align: inherit;">Sound Classifier verwendet wie Image Classifier ein √úbertragungstraining.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aktivit√§t</font></font></h4><br>
<img src="https://habrastorage.org/webt/zy/l9/ip/zyl9ipalz-mb6nk4cyghziuqqii.png" alt="Bild"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktivit√§t wird nur durch eine Vorlage dargestellt - Aktivit√§tsklassifizierer. </font><font style="vertical-align: inherit;">Der Aktivit√§tsklassifizierer ist eine neue Vorlage in Create ML und wird zum Klassifizieren von Bewegungsdaten von einem Beschleunigungsmesser und einem Gyroskop verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solche Modelle sind Deep-Learning-Modelle und werden mit der GPU eines Computers trainiert.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Text</font></font></h4><br>
<img src="https://habrastorage.org/webt/ke/qp/nh/keqpnhpb9wfqfbzqotb4wkwl3bk.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Text wird durch zwei Vorlagen dargestellt: Text Classifier (Text Classifier) ‚Äã‚Äãund Word Tagger (Word Marker). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Text Classifier wird verwendet, um S√§tze, Abs√§tze und sogar ganze Artikel anhand ihres Inhalts zu identifizieren. </font><font style="vertical-align: inherit;">Word Tagger wird zum Markieren von W√∂rtern oder zum Erkennen von Namen im Text verwendet.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabellen</font></font></h4><br>
<img src="https://habrastorage.org/webt/a-/du/6k/a-du6k8qs7sbukrf2swb2dajrdi.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabellen werden durch drei Vorlagen dargestellt: Tabellarischer Regressor (Tabellenregressor), Tabellarischer Klassifizierer (Tabellenklassifizierer) und Empfehlungsgeber (Empfehlungsgeber). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabular Regressor ist ein Modell, das basierend auf einigen Daten einen numerischen Wert vorhersagen kann. Sie k√∂nnen beispielsweise ein Modell trainieren, das das Wetter vorhersagt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der tabellarische Klassifikator klassifiziert Objekte anhand ihrer Merkmale. Sie k√∂nnen beispielsweise ein Modell trainieren, um die Gr√∂√üe der Kleidung in einem Online-Shop anhand verschiedener Benutzerparameter zu bestimmen. Ein Modell arbeitet mit Typen wie Integer, Double, String und Long, wenn das Ziel ein diskreter Wert ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Recommender k√∂nnen Sie Inhalte basierend auf dem Benutzerverhalten empfehlen, und alle Berechnungen werden direkt auf dem Ger√§t ausgef√ºhrt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir uns mit allen verf√ºgbaren Vorlagen vertraut gemacht haben, k√∂nnen wir mit der Erstellung unseres ersten Modells f√ºr maschinelles Lernen beginnen. </font><font style="vertical-align: inherit;">Beginnen wir mit Image Classifier.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bildklassifikator</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haben Sie die HBO Silicon Valley-Serie gesehen? </font><font style="vertical-align: inherit;">In einer der Serien der vierten Staffel zeigten sie eine Anwendung, die "Hot Dogs" und "Nicht Hot Dogs" in den Bildern erkennt. </font><font style="vertical-align: inherit;">Mit dem Bildklassifizierer k√∂nnen Sie ein Analogon dieser Anwendung erstellen. </font><font style="vertical-align: inherit;">Aber zuerst m√ºssen Sie die Daten f√ºr das Training des Modells vorbereiten. </font><font style="vertical-align: inherit;">Archiv mit Bildern </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einige Voraussetzungen f√ºr das Training des Image Classifier-Modells. Bilder sollten nicht kleiner als 299 x 299 Pixel sein. Trainingskits m√ºssen mindestens 10 Bilder enthalten, aber je mehr desto besser. Jetzt wissen wir, dass beim Training von Image Classifier ein √úbertragungstraining verwendet wird, mit dem Sie Modelle auf einer kleinen Anzahl von Bildern trainieren k√∂nnen. Die Anzahl der Bilder f√ºr jeden Satz muss gleich sein, da sonst eine Verschiebung in Richtung einer der Kategorien erfolgt. Ungef√§hr 80% der Bilder werden zum Trainieren des Modells und die restlichen 20% zum Testen verwendet. Au√üerdem sollten Bilder nicht wiederholt werden, dh in dem Ordner mit Bildern f√ºr das Training sollten keine Bilder vorhanden sein, die zum Testen weiter verwendet werden. Die Namen der Ordner f√ºr das Training werden als Bezeichner f√ºr die jeweiligen Klassen verwendet.bei der Verwendung von Modellen. In meinem Beispiel werden die Namen HotDog oder NotHotDog verwendet. Die Namen der Bilder selbst spielen keine Rolle, sie k√∂nnen nach Belieben aufgerufen werden. Ich habe sie mit Seriennummern versehen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem unsere Daten fertig sind, k√∂nnen wir mit dem Training des Modells beginnen. Um mit Create ML arbeiten zu k√∂nnen, ben√∂tigen wir Xcode 11 oder h√∂her. Ich werde Xcode 11.3.1 verwenden. Um das Tool "ML erstellen" auszuf√ºhren, m√ºssen Sie zu Xcode -&gt; Entwickler-Tool √∂ffnen -&gt; ML erstellen gehen. Es erscheint ein Fenster, in dem Sie ein vorhandenes ausw√§hlen oder ein neues Projekt erstellen k√∂nnen. W√§hlen Sie Neues Dokument. Als n√§chstes m√ºssen Sie eine Vorlage ausw√§hlen. In unserem Fall verwenden wir den Image Classifier. Geben Sie unserem Projekt einen Namen, klicken Sie auf Weiter und w√§hlen Sie den Ort aus, an dem das Projekt gespeichert werden soll. F√ºr die Arbeit mit dem Modell wird eine Arbeitsumgebung ge√∂ffnet.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vw/2y/d4/vw2yd4andp4krltnqbyza__tjau.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie wir sehen k√∂nnen, ist dies ein v√∂llig separates Projekt, in dem Sie mehrere Modelle erstellen und trainieren k√∂nnen. Der Name des Projekts (Projekt) wird links im Inspektor angezeigt. Wenn Sie darauf klicken, werden Informationen zum Projekt angezeigt und Sie k√∂nnen es bearbeiten. Weiter unten enth√§lt Model Sources alle in unserem Projekt verwendeten Modelle. Schauen wir uns nun den Abschnitt Dateneingaben im Hauptwerkzeugfenster an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trainingsdaten - hier m√ºssen Sie Bilder f√ºr Trainingsmodelle hinzuf√ºgen. Validierungsdaten - Hier k√∂nnen Sie eine Reihe von Bildern hinzuf√ºgen, um das Modelltraining zu testen (in meinem Fall habe ich Auto verlassen). Testen von Daten - Hier m√ºssen Sie Bilder zum Testen des Modells hinzuf√ºgen, die nicht am Training des Modells beteiligt waren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Abschnitt Parameter k√∂nnen Sie die maximale Anzahl von Iterationen angeben, die w√§hrend des Modelltrainings an einem einzelnen Bild ausgef√ºhrt werden. Im Abschnitt "Erweiterungen" k√∂nnen Sie die Effekte ausw√§hlen, die die Bilder √ºberlappen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem wir Create ML kennengelernt haben, k√∂nnen wir mit dem Training unseres ersten Modells beginnen. Wir ziehen einfach den Ordner Trainingsdaten (der Name kann ein beliebiger sein) auf die Registerkarte Trainingsdaten. Klicken Sie nun auf Zug. Der Lernprozess beginnt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fn/kr/7h/fnkr7hvzcxptgbmxeqb6fmlsmzo.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe also ungef√§hr 27 Sekunden gebraucht, um zu trainieren, und das Modell ist fast fertig. Nach dem Training k√∂nnen Sie bewerten, wie gut das Modell Bilder aus dem Trainingsdatensatz klassifiziert. Da das Modell in diesen Bildern trainiert ist, klassifiziert es sie gut. In meinem Fall identifizierte das Modell alle Bilder aus dem Trainingssatz und 97% der Bilder aus dem Testsatz. Die Testzeit ist gekommen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ys/gq/zp/ysgqzpxcpq1unlvnuotqix5ub9u.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gehen Sie zur Registerkarte Testen. Wie bei den Daten zum Trainieren des Modells ziehen Sie einfach den Ordner Testdaten in das Fenster Testdaten. Tats√§chlich k√∂nnten wir vor Beginn des Trainings einen Ordner mit Bildern zum Testen einrichten. Aber f√ºr die Linearit√§t des Prozesses werden wir es anders machen. Klicken Sie auf Modell testen. Nach den Testergebnissen kam das Modell zu 98% zurecht.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/db/eu/4w/dbeu4wa2zjzfwnciqmyrlfdvuli.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie zu Ausgabe gehen, k√∂nnen Sie die Leistung des Modells √ºberpr√ºfen, ohne es Ihrem Projekt hinzuzuf√ºgen. </font><font style="vertical-align: inherit;">F√ºgen Sie dazu Bilder eines Hotdogs und nicht eines Hotdogs hinzu und √ºberpr√ºfen Sie das Ergebnis. </font><font style="vertical-align: inherit;">Ich habe ein Bild von einem Salat und einem Hot Dog hinzugef√ºgt, und in beiden F√§llen hat das Modell gut funktioniert. </font><font style="vertical-align: inherit;">Nat√ºrlich erfordern ernsthafte Projekte m√∂glicherweise mehr Daten f√ºr Schulungen, mehr Iterationen usw. </font><font style="vertical-align: inherit;">F√ºr ein Testprojekt reicht dies jedoch aus. </font><font style="vertical-align: inherit;">Um das Modell zu speichern, √ºbertragen Sie es einfach von der Ausgabe in den gew√ºnschten Ordner. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f-/ar/v_/f-arv_g9ouougdhrt45cbuor6ka.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt schlage ich vor, das Modell in ein Testprojekt zu integrieren, das hier verf√ºgbar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dem Projekt wurde bereits ein Modell hinzugef√ºgt, Sie k√∂nnen jedoch jeden anderen Klassifikator verwenden. </font><font style="vertical-align: inherit;">Dadurch wird die Anwendung nicht besch√§digt, da die Modelle austauschbar sind und Sie mehrere Modelle im Projekt verwenden k√∂nnen. </font><font style="vertical-align: inherit;">√úbertragen Sie einfach das fertige Modell in das Projekt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lw/ry/ca/lwryca_dbpei0yb9cfq32zo4tne.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Abschnitt Modell des maschinellen Lernens finden Sie Informationen zum Modell. Diese Informationen k√∂nnen im Werkzeugprojekt ML erstellen angegeben werden. Bitte beachten Sie, dass das von uns trainierte Modell nur 17 KB ben√∂tigt. Weiter im Abschnitt Modellklasse werden wir gewarnt, dass eine Swift-Klasse mit dem Namen MyImageClassifier erstellt wird. Ich empfehle dringend, dort nichts zu ber√ºhren, da dies die Anwendung beeintr√§chtigen kann. Der Abschnitt Vorhersage beschreibt die Eingabeparameter und was wir als Ergebnis erhalten. Wenn Sie ein Modell verwenden, das Sie nicht unterrichtet haben, k√∂nnen Sie im Abschnitt "Experimentieren" das Modell √ºberpr√ºfen. √úbertragen Sie einfach das Bild. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gl/2r/sj/gl2rsjtpvwvmy-oglqrhunuhebo.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wechseln Sie zur ImageClassifierService-Klasse. Hier k√∂nnen Sie sehen, wie das Modell initialisiert wird.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeImageClassifierModel</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">VNCoreMLModel?</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span>? <span class="hljs-type">VNCoreMLModel</span>(<span class="hljs-keyword">for</span>: <span class="hljs-type">MyImageClassifier</span>().model)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Einfach genug, oder? </font><font style="vertical-align: inherit;">Als N√§chstes m√ºssen Sie eine Klassifizierungsanforderung erstellen, verarbeiten und ausf√ºhren.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeClassifierRequest</span><span class="hljs-params">(<span class="hljs-keyword">for</span> model: VNCoreMLModel, ciImage: CIImage)</span></span> {
    <span class="hljs-keyword">let</span> request = <span class="hljs-type">VNCoreMLRequest</span>(model: model) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] request, error <span class="hljs-keyword">in</span>
      <span class="hljs-keyword">self</span>?.handleClassifierResults(request.results)<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-keyword">let</span> handler = <span class="hljs-type">VNImageRequestHandler</span>(ciImage: ciImage)
    <span class="hljs-type">DispatchQueue</span>.global(qos: .userInteractive).async {
      <span class="hljs-keyword">do</span> {
        <span class="hljs-keyword">try</span> handler.perform([request])<font></font>
      } <span class="hljs-keyword">catch</span> {
        <span class="hljs-keyword">self</span>.onDidUpdateState?(.requestFailed)<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es bleibt nur das Ergebnis zu verarbeiten.</font></font><br>
<br>
<pre><code class="swift hljs">  <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">handleClassifierResults</span><span class="hljs-params">(<span class="hljs-number">_</span> results: [<span class="hljs-keyword">Any</span>]?)</span></span> {
    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> results = results <span class="hljs-keyword">as</span>? [<span class="hljs-type">VNClassificationObservation</span>],
      <span class="hljs-keyword">let</span> firstResult = results.first <span class="hljs-keyword">else</span> {<font></font>
      onDidUpdateState?(.requestFailed)<font></font>
      <span class="hljs-keyword">return</span><font></font>
    }<font></font>
    <font></font>
    <span class="hljs-type">DispatchQueue</span>.main.async { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
      <span class="hljs-keyword">let</span> confidence = (firstResult.confidence * <span class="hljs-number">100</span>).rounded()
      <span class="hljs-keyword">let</span> resultModel = <span class="hljs-type">ClassifierResultModel</span>(identifier: firstResult.identifier, confidence: <span class="hljs-type">Int</span>(confidence))
      <span class="hljs-keyword">self</span>?.onDidUpdateState?(.receiveResult(resultModel: resultModel))<font></font>
    }<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt k√∂nnen wir die Anwendung ausf√ºhren und die Genauigkeit des Modells √ºberpr√ºfen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/h1/bz/hhh1bzwwyaoyrsk2nfsws_jlhzs.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie wir sehen k√∂nnen, l√§uft das Modell gut. </font><font style="vertical-align: inherit;">Versuchen wir nun, unserem Modell ein Bild von keinem Hot Dog zu zeigen und zu sehen, wie sie damit umgeht. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rs/jh/zf/rsjhzfxccfvfxlnq3_rbhezq8ly.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie wir sehen k√∂nnen, definiert das Modell das Burger-Image als ‚Äûkein Hot Dog‚Äú. </font><font style="vertical-align: inherit;">Ich schlage vor, das Modell ein wenig zu verwirren und ein Bild eines Hundes in einem Hot-Dog-Kost√ºm hinzuzuf√ºgen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8r/2z/px/8r2zpx-sktr4ls-9w0y2teb-nfw.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier leistet unser geschultes Modell hervorragende Arbeit.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem kurzen Artikel haben wir das Tool "ML erstellen" vorgestellt. </font><font style="vertical-align: inherit;">Erfahren Sie, mit welchen Typen es funktioniert und welche Muster das Tool verwendet. </font><font style="vertical-align: inherit;">Sie versuchten auch, ihr Modell zu trainieren. </font><font style="vertical-align: inherit;">Der schwierigste Teil bei der Erstellung eines maschinellen Lernmodells besteht darin, Daten f√ºr das Lernen zu finden und vorzubereiten. </font><font style="vertical-align: inherit;">Sie k√∂nnen keine Modelle trainieren, sondern bereits trainierte verwenden. </font><font style="vertical-align: inherit;">Beispielsweise </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gibt es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bereits vorgefertigte Modelle, die mit Bildern und Text arbeiten. </font><font style="vertical-align: inherit;">Es gibt viele benutzerdefinierte Modelle auf Github. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bilder f√ºr Trainingsmodelle sind auch leicht zu finden, beispielsweise </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Archive von Google</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wenn Sie jedoch ein Modell f√ºr eng zielgerichtete Aufgaben trainieren m√ºssen, m√ºssen Sie Bilder sammeln und Ihre Archive erstellen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de490918/index.html">Andrei Zaretsky, Alexander Trukhanov (Fortsetzung): ‚ÄûWir hatten keinen Namen, aber es gab Arroganz‚Äú</a></li>
<li><a href="../de490920/index.html">Beschleunigen Sie Ihre Suche in Wurde ich auf 49 Mikrosekunden (C ++) pwned</a></li>
<li><a href="../de490924/index.html">Was ist Windows PowerShell und was isst es? Teil 2: Einf√ºhrung in die Programmiersprache</a></li>
<li><a href="../de490926/index.html">Unity Ball Trajektorie 2d f√ºr Anf√§nger</a></li>
<li><a href="../de490932/index.html">[Prognose] Motornet - ein Datenaustauschnetzwerk f√ºr Roboterfahrzeuge</a></li>
<li><a href="../de490938/index.html">Wir schreiben Tausende von Protokolldateien gleichzeitig</a></li>
<li><a href="../de490940/index.html">Erstellen eines Quadrocopters mit einem 3D-Drucker</a></li>
<li><a href="../de490950/index.html">Wir beleben den Hexapod wieder. Teil drei</a></li>
<li><a href="../de490952/index.html">M√§rz IT Events Digest</a></li>
<li><a href="../de490954/index.html">Warum Online-Unternehmen Zahlungen √ºber * Pay-Systeme lieben sollten - Yandex. Cash Desk-Recherche</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>