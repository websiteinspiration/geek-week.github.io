<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏿‍🎤 🐸 🧒🏼 ¿Qué es Windows PowerShell y qué come? Parte 2: Introducción al lenguaje de programación. 🖕🏼 💼 👩‍🎤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Históricamente, las utilidades de línea de comandos en sistemas Unix están mejor desarrolladas que en Windows, sin embargo, con el advenimiento de una...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>¿Qué es Windows PowerShell y qué come? Parte 2: Introducción al lenguaje de programación.</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/490924/"><font color="#999999"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Históricamente, las utilidades de línea de comandos en sistemas Unix están mejor desarrolladas que en Windows, sin embargo, con el advenimiento de una nueva solución, la situación ha cambiado.</font></font></i></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/webt/-b/i_/73/-bi_73lwdxmnzvtveeghrwvtqay.png"></a><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para PowerShell, puede escribir scripts en un lenguaje interpretado de paradigmas múltiples que contenga elementos de programación clásica procesal, orientada a objetos e incluso funcional: ramificación condicional, bucles, variables, matrices, tablas hash, clases, manejo de errores, así como funciones, cmdlets y tuberías. . </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El artículo anterior</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estaba dedicado a los conceptos básicos del trabajo en un entorno, y ahora ofrecemos a nuestros lectores una pequeña guía para programadores.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabla de contenido:</font></font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comentarios </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las variables y sus tipos </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variables del sistema </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Scopes </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">variables de entorno ( </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aritmética </font></font></a> <font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">) </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;">aritmético y de comparación </font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operadores de asignación </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operadores Los operadores lógicos </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de transición condicional </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bucles </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">matrices </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tablas hash </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funciones de </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">manejo Usted error</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
puede escribir código en cualquier editor de texto o utilizando el entorno de desarrollo integrado - la forma más fácil de tomar Windows PowerShell ISE incluido con los sistemas operativos de Microsoft Server. </font><font style="vertical-align: inherit;">Esto solo es necesario para scripts bastante complejos: conjuntos cortos de comandos son más fáciles de ejecutar de forma interactiva.</font></font><br>
<br>
<a name="section1"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comentarios</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El uso de comentarios se considera parte de un buen estilo de programación junto con sangría y espacios adecuados:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-comment">#       —     .</span><font></font>
<font></font>
<span class="hljs-comment">&lt;# 

             . 
            .

#&gt;</span></code></pre><br>
<a name="section2"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variables y sus tipos.</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las variables en PowerShell son objetos con nombre. </font><font style="vertical-align: inherit;">Sus nombres pueden incluir un guión bajo, así como letras y números. </font><font style="vertical-align: inherit;">El símbolo $ siempre se usa antes del nombre, y para declarar una variable, es suficiente indicarle al intérprete un nombre válido: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jw/f_/bo/jwf_bojczpfg_r16puek7uuo4r0.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para inicializar la variable (asignarle un valor), se usa el operador de asignación (símbolo =):</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test</span> = <span class="hljs-number">100</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede declarar una variable indicando su tipo entre corchetes (operador de conversión de tipo) antes del nombre o valor:</font></font><br>
<br>
<pre><code class="powershell hljs">[<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-number">100</span><font></font>
<font></font>
<span class="hljs-variable">$test</span> = [<span class="hljs-built_in">int</span>]<span class="hljs-number">100</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es importante comprender que las variables en PowerShell son objetos (clases) completos con propiedades y métodos cuyos tipos se basan en los disponibles en .NET Core. </font><font style="vertical-align: inherit;">Enumeramos los principales:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tipo (clase .NET)</font></font><br>
</th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripción</font></font><br>
</th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejemplo de código</font></font><br>
</th>
</tr>
<tr>
<td>[string]<br>
System.String<br>
</td>
<td> Unicode&nbsp;<br>
</td>
<td>$test = «»<br>
$test = ''<br>
</td>
</tr>
<tr>
<td>[char]<br>
System.Char<br>
</td>
<td> Unicode (16 )<br>
</td>
<td>[char]$test = 'c'<br>
</td>
</tr>
<tr>
<td>[bool]<br>
System.Boolean<br>
</td>
<td>  (  True  False)<br>
</td>
<td>[bool]$test = $true<br>
</td>
</tr>
<tr>
<td>[int]<br>
System.Int32<br>
</td>
<td>   (32 )<br>
</td>
<td>[int]$test = 123456789<br>
</td>
</tr>
<tr>
<td>[long]<br>
System.Int64<br>
</td>
<td>   (64 )<br>
</td>
<td>[long]$test = 12345678910<br>
</td>
</tr>
<tr>
<td>[single]<br>
System.Single<br>
</td>
<td>      32 <br>
</td>
<td>[single]$test = 12345.6789<br>
</td>
</tr>
<tr>
<td>[double]<br>
System.Double<br>
</td>
<td>      64  (8 )<br>
</td>
<td>[double]$test = 123456789.101112<br>
</td>
</tr>
<tr>
<td>[decimal]<br>
System.Decimal<br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Número de coma flotante de 128 bits (asegúrese de incluir d al final)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[decimal] $ prueba = 12345.6789d</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[DateTime] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
System.DateTime</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fecha y hora&nbsp;</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ test = Get-Date</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[array] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
System.Object []</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">una matriz cuyo índice de elemento comienza en 0</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ test_array = 1, 2, "prueba", 3, 4</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[tabla hash] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
System.Collections.Hashtable</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tablas hash: matrices asociativas con claves con nombre, basadas en el principio: @ {key = "value"}</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ test_hashtable = @ {one = "one"; </font><font style="vertical-align: inherit;">dos = "dos"; </font><font style="vertical-align: inherit;">tres = "tres"}</font></font><br>
</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PowerShell admite la conversión implícita de tipos, además, el tipo de la variable puede cambiar sobre la marcha (por ejemplo, utilizando el operador de asignación) si no se especifica a la fuerza; en este caso, el intérprete arrojará un error. </font><font style="vertical-align: inherit;">Puede determinar el tipo de variable del ejemplo anterior llamando al método GetType ():</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test</span>.GetType().FullName</code></pre><br>
<img src="https://habrastorage.org/webt/j5/qf/vp/j5qfvplzg-n84l33ie1ogez8gp4.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay varios cmdlets para administrar variables. </font><font style="vertical-align: inherit;">Su lista en una forma conveniente se muestra con el comando:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Get-Command</span> <span class="hljs-literal">-Noun</span> Variable | <span class="hljs-built_in">ft</span> <span class="hljs-literal">-Property</span> Name, Definition <span class="hljs-literal">-AutoSize</span> <span class="hljs-literal">-Wrap</span></code></pre><br>
<img src="https://habrastorage.org/webt/za/qc/1t/zaqc1t0hf3-onpravup8_h0euou.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para ver las variables declaradas y sus valores, puede usar el cmdlet especial:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Get-Variable</span> | more</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este método parece excesivamente engorroso, es mucho más conveniente trabajar con variables a través de operadores o accediendo a sus propiedades y métodos directamente. </font><font style="vertical-align: inherit;">Sin embargo, los cmdlets tienen derecho a existir porque le permiten especificar algunos parámetros adicionales. </font><font style="vertical-align: inherit;">Es importante comprender que las variables de usuario se definen solo dentro de la sesión actual. </font><font style="vertical-align: inherit;">Después de cerrar la consola o completar el script, se eliminan.</font></font><br>
<br>
<a name="section3"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variables del sistema</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Además de las declaradas por el usuario, hay variables integradas (del sistema) que no se eliminan después del final de la sesión actual. </font><font style="vertical-align: inherit;">Se dividen en dos tipos, mientras que los datos de estado de PowerShell se almacenan en variables automáticas, a las que no se les pueden asignar valores arbitrarios por sí mismos. </font><font style="vertical-align: inherit;">Estos incluyen, por ejemplo, $ PWD:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$PWD</span>.Path</code></pre><br>
<img src="https://habrastorage.org/webt/8u/-5/p1/8u-5p10pygkqcoql1kymnbl3q-g.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para almacenar la configuración del usuario, necesita variables de preferencia cuyos valores se puedan cambiar. </font><font style="vertical-align: inherit;">Por ejemplo, con la ayuda de $ ErrorActionPreference, se establece la respuesta del intérprete de comandos ante la aparición de errores no críticos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Además de operadores y cmdlets, existe la Variable: pseudoacumulador para acceder a las variables declaradas. </font><font style="vertical-align: inherit;">Puede trabajar con él por analogía con otras unidades, y las variables en este caso se parecen a los objetos del sistema de archivos:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Get-ChildItem</span> Variable: | more</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
o </font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">ls</span> Variable: | more</code></pre><br>
<img src="https://habrastorage.org/webt/h4/03/9e/h4039eawh2tpbuqpyqsidabwkyk.png" alt="imagen"><br>
<br>
<a name="section4"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alcances</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para las variables en PowerShell, existe la noción de alcance. </font><font style="vertical-align: inherit;">La acción del área global (Global) se extiende a toda la sesión actual; incluye, por ejemplo, variables del sistema. </font><font style="vertical-align: inherit;">Las variables locales solo están disponibles en el área donde se definieron: digamos dentro de la función. </font><font style="vertical-align: inherit;">También existe el concepto de un alcance de script, pero para los comandos de script, es esencialmente local. </font><font style="vertical-align: inherit;">Por defecto, cuando se declaran variables, se les da un alcance local, y para cambiar esto, se necesita una construcción especial del formulario: $ Global: variable = valor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, así:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$Global:test</span> = <span class="hljs-number">100</span></code></pre><br>
<a name="section5"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variables de entorno</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PowerShell tiene disponible otra pseudo-unidad Env, que puede usarse para acceder a las variables de entorno. </font><font style="vertical-align: inherit;">Cuando se inicia el shell, se copian del proceso principal (es decir, del programa que inició la sesión actual) y, por lo general, sus valores iniciales coinciden con los valores del panel de control. </font><font style="vertical-align: inherit;">Para ver las variables de entorno, use el cmdlet Get-ChildItem o sus alias (liases): ls y dir.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">dir</span> Env:</code></pre><br>
<img src="https://habrastorage.org/webt/rf/3d/19/rf3d19syyr5ouu4jnrnnf68gul4.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estas variables son secuencias de bytes (o caracteres, si lo desea), cuya interpretación depende solo del programa que los usa. </font><font style="vertical-align: inherit;">* -Los cmdlets variables no funcionan con variables de entorno. </font><font style="vertical-align: inherit;">Para acceder a ellos, deberá usar el prefijo del disco:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$env:TEST</span> = <span class="hljs-string">"Hello, World!"</span></code></pre><br>
<img src="https://habrastorage.org/webt/iq/fk/zv/iqfkzvl82gwr-uxadfpudoladtg.png" alt="imagen"><br>
<br>
<a name="section6"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operadores aritméticos y de comparación</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PowerShell tiene los siguientes operadores aritméticos: + (suma), - (resta), * (multiplicación), / (división) y% (módulo o resto de división). </font><font style="vertical-align: inherit;">El resultado de una expresión aritmética se calcula de izquierda a derecha de acuerdo con el orden de operaciones generalmente aceptado, y los paréntesis se utilizan para agrupar partes de la expresión. </font><font style="vertical-align: inherit;">Los espacios entre operadores se ignoran, solo se usan para facilitar la percepción. </font><font style="vertical-align: inherit;">El operador + también se concatena, y el operador * repite las líneas. </font><font style="vertical-align: inherit;">Si intenta agregar un número a una cadena, se convertirá en una cadena. </font><font style="vertical-align: inherit;">Además, PowerShell tiene muchos operadores de comparación que verifican la correspondencia entre dos valores y devuelven verdadero o falso booleano:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operador</font></font><br>
</th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descripción</font></font><br>
</th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ejemplo de código</font></font><br>
</th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-eq</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Igual (análogo = o == en otros idiomas)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ prueba = 100 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
$ prueba -eq 123&nbsp;</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Nebraska</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No es igual (analógico &lt;&gt; o! =)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ prueba = 100 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
$ prueba -ne 123&nbsp;&nbsp;&nbsp;</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-gt</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mayor que / Más (analógico&gt;)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ prueba = 100 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
$ prueba -gt 123</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ge</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mayor o igual / Mayor que o igual (análogo&gt; =)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ prueba = 100 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
$ prueba -ge 123</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-lt</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menos de (analógico &lt;)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ prueba = 100 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
$ prueba -lt 123&nbsp;&nbsp;</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-le</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menor o igual / Menor o igual (analógico &lt;=)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ prueba = 100 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
$ prueba -le 123</font></font><br>
</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay otros operadores similares que permiten, por ejemplo, comparar cadenas con un carácter comodín o usar expresiones regulares para unir patrones. </font><font style="vertical-align: inherit;">Los consideraremos en detalle en los siguientes artículos. </font><font style="vertical-align: inherit;">Los símbolos &lt;,&gt; y = no se usan para comparación, ya que se usan para otros fines.</font></font><br>
<br>
<a name="section7"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operadores de Asignación</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Además del operador más común =, hay otros operadores de asignación: + =, - =, * =, / = y% =. </font><font style="vertical-align: inherit;">Cambian el valor antes de la asignación. </font><font style="vertical-align: inherit;">Los operadores unarios ++ y - se comportan de manera similar, lo que aumenta o disminuye el valor de una variable - también se relacionan con operadores de asignación.</font></font><br>
<br>
<a name="section8"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operadores logicos</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La comparación no es suficiente para describir condiciones difíciles. </font><font style="vertical-align: inherit;">Puede escribir cualquier expresión lógica utilizando los operadores: -and, -or, -xor, -not y! .. Funcionan como en otros lenguajes de programación, y puede usar paréntesis para especificar el orden de cálculo:</font></font><br>
<br>
<pre><code class="powershell hljs">(<span class="hljs-string">""</span> <span class="hljs-operator">-eq</span> <span class="hljs-string">""</span>) <span class="hljs-operator">-and</span> (<span class="hljs-number">100</span> <span class="hljs-operator">-eq</span> <span class="hljs-number">100</span>)<font></font>
<font></font>
<span class="hljs-operator">-not</span> (<span class="hljs-number">123</span> <span class="hljs-operator">-gt</span> <span class="hljs-number">321</span>) <font></font>
<font></font>
!(<span class="hljs-number">123</span> <span class="hljs-operator">-gt</span> <span class="hljs-number">321</span>)</code></pre><br>
<a name="section9"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salto condicional</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los operadores de ramificación en PowerShell son estándar: IF (IF ... ELSE, IF ... ELSEIF ... ELSE) y SWITCH. </font><font style="vertical-align: inherit;">Considere su uso con ejemplos:</font></font><br>
<br>
<pre><code class="powershell hljs">[<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-number">100</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$test</span> <span class="hljs-operator">-eq</span> <span class="hljs-number">100</span>) {
      <span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test = 100"</span><font></font>
}<font></font>
<font></font>
<font></font>
<font></font>
[<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-number">50</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$test</span> <span class="hljs-operator">-eq</span> <span class="hljs-number">100</span>) {
       <span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test = 100"</span><font></font>
}<font></font>
<span class="hljs-keyword">else</span> {
      <span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test &lt;&gt; 100"</span><font></font>
}<font></font>
<font></font>
<font></font>
<font></font>
[<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-number">10</span>
<span class="hljs-keyword">if</span> (<span class="hljs-variable">$test</span> <span class="hljs-operator">-eq</span> <span class="hljs-number">100</span>) {
      <span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test = 100"</span><font></font>
}<font></font>
<span class="hljs-keyword">elseif</span> (<span class="hljs-variable">$test</span> <span class="hljs-operator">-gt</span> <span class="hljs-number">100</span>) {
      <span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test &gt; 100"</span><font></font>
}<font></font>
<span class="hljs-keyword">else</span> {
       <span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test &lt; 100"</span><font></font>
}<font></font>
<font></font>
<font></font>
<font></font>
[<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-number">5</span>
<span class="hljs-keyword">switch</span> (<span class="hljs-variable">$test</span>) {
     <span class="hljs-number">0</span> {<span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test = 0"</span>}
     <span class="hljs-number">1</span> {<span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test = 1"</span>}
     <span class="hljs-number">2</span> {<span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test = 2"</span>}
     <span class="hljs-number">3</span> {<span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test = 3"</span>}
     <span class="hljs-number">4</span> {<span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test = 4"</span>}
     <span class="hljs-number">5</span> {<span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test = 5"</span>}<font></font>
     default {<span class="hljs-built_in">Write-Host</span> <span class="hljs-string">"test &gt; 5    "</span>}<font></font>
}<font></font>
</code></pre><br>
<a name="section10"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ciclos</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay varios tipos de bucles en PowerShell: WHILE, DO WHILE, DO UNTIL, FOR y FOREACH. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El bucle de precondición funciona si / mientras se está ejecutando:</font></font><br>
<br>
<pre><code class="powershell hljs">[<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-number">0</span>
<span class="hljs-keyword">while</span> (<span class="hljs-variable">$test</span> <span class="hljs-operator">-lt</span> <span class="hljs-number">10</span>) {
      <span class="hljs-built_in">Write-Host</span> <span class="hljs-variable">$test</span>
      <span class="hljs-variable">$test</span> = <span class="hljs-variable">$test</span> + <span class="hljs-number">1</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los bucles con una condición posterior funcionarán al menos una vez, porque la condición se verifica después de la iteración. </font><font style="vertical-align: inherit;">En este caso, DO WHILE funciona mientras la condición sea verdadera y DO HASTA que sea falsa:</font></font><br>
<br>
<pre><code class="powershell hljs">[<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-number">0</span>
<span class="hljs-keyword">do</span> {
      <span class="hljs-built_in">Write-Host</span> <span class="hljs-variable">$test</span>
      <span class="hljs-variable">$test</span> = <span class="hljs-variable">$test</span> + <span class="hljs-number">1</span> <font></font>
}<font></font>
<span class="hljs-keyword">while</span> (<span class="hljs-variable">$test</span> <span class="hljs-operator">-lt</span> <span class="hljs-number">10</span>)<font></font>
<font></font>
<font></font>
<font></font>
[<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-number">0</span>
<span class="hljs-keyword">do</span> {
      <span class="hljs-built_in">Write-Host</span> <span class="hljs-variable">$test</span>
      <span class="hljs-variable">$test</span> = <span class="hljs-variable">$test</span> + <span class="hljs-number">1</span> <font></font>
}<font></font>
<span class="hljs-keyword">until</span> (<span class="hljs-variable">$test</span> <span class="hljs-operator">-gt</span> <span class="hljs-number">9</span>)
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El número de iteraciones del bucle FOR se conoce de antemano:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-keyword">for</span> ([<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-number">0</span>; <span class="hljs-variable">$test</span> <span class="hljs-operator">-lt</span> <span class="hljs-number">10</span>; <span class="hljs-variable">$test</span>++) {
       <span class="hljs-built_in">Write-Host</span> <span class="hljs-variable">$test</span><font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En un bucle FOREACH itera sobre elementos de una matriz o colección (tabla hash):</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_collection</span> = <span class="hljs-string">"item1"</span>, <span class="hljs-string">"item2"</span>, <span class="hljs-string">"item3"</span>
<span class="hljs-keyword">foreach</span> (<span class="hljs-variable">$item</span> <span class="hljs-keyword">in</span> <span class="hljs-variable">$test_collection</span>)<font></font>
{<font></font>
        <span class="hljs-built_in">Write-Host</span> <span class="hljs-variable">$item</span><font></font>
}<font></font>
</code></pre><br>
<a name="section11"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matrices</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las variables de PowerShell almacenan no solo objetos individuales (número, cadena, etc.), sino también objetos plurales. </font><font style="vertical-align: inherit;">La variedad más simple de tales variables son las matrices. </font><font style="vertical-align: inherit;">Una matriz puede constar de varios elementos, un elemento o estar vacío, es decir </font><font style="vertical-align: inherit;">no contienen elementos </font><font style="vertical-align: inherit;">Para declararlo, use el operador @ (), que necesitaremos en el siguiente artículo: es muy importante para agregar otras matrices a la matriz (crear matrices multidimensionales), pasar matrices a funciones como argumentos y tareas similares:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_array</span> = <span class="hljs-selector-tag">@</span>() <span class="hljs-comment">#  </span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando se inicializa la matriz, sus valores se enumeran con una coma (operador especial): </font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_array</span> = <span class="hljs-selector-tag">@</span>(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>) <span class="hljs-comment">#      </span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la mayoría de los casos, se puede omitir el operador @ ():</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_array</span> = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este caso, una matriz de un elemento se inicializa de la siguiente manera</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_array</span> = , <span class="hljs-number">1</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para acceder a los elementos de la matriz, se utiliza un índice entero a partir de cero y un operador de índice (corchetes):</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_array</span>[<span class="hljs-number">0</span>] = <span class="hljs-number">1</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puede especificar varios índices, separados por comas, incluidos </font><font style="vertical-align: inherit;">duplicar:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_array</span> = <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>
<span class="hljs-variable">$test_array</span>[<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]
<span class="hljs-variable">$test_array</span>[<span class="hljs-number">1</span>,<span class="hljs-number">1</span>,<span class="hljs-number">3</span>,<span class="hljs-number">3</span>,<span class="hljs-number">0</span>]</code></pre><br>
<img src="https://habrastorage.org/webt/vw/5t/qb/vw5tqbcl5agy4603ummtyg984es.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El operador </font></font><code>..</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(dos puntos: el operador de rango) devuelve una matriz de enteros en un segmento definido por los límites superior e inferior. </font><font style="vertical-align: inherit;">Por ejemplo, la expresión 1..4 muestra una matriz de cuatro elementos @ (1, 2, 3, 4), y la expresión 8..5 muestra una matriz @ (8, 7, 6, 5). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/r-/sk/1h/r-sk1h628lw2hraptfbcukhekgs.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando el operador de rango, puede inicializar una matriz ($ test_array = 1..4) u obtener un segmento, es decir </font><font style="vertical-align: inherit;">Una secuencia de elementos en una matriz con índices de otra. </font><font style="vertical-align: inherit;">En este caso, un número negativo -1 indica el último elemento de la matriz, -2: el penúltimo, etc.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_array</span> = <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>, <span class="hljs-string">""</span>
<span class="hljs-variable">$test_array</span>[<span class="hljs-number">0</span><span class="hljs-type">..2</span>]
<span class="hljs-variable">$test_array</span>[<span class="hljs-number">2</span><span class="hljs-type">..0</span>]
<span class="hljs-variable">$test_array</span>[-<span class="hljs-number">1</span><span class="hljs-type">..0</span>]
<span class="hljs-variable">$test_array</span>[-<span class="hljs-number">2</span><span class="hljs-type">..1</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que los valores de la matriz de enteros pueden ser mayores que el valor máximo del índice de la matriz de datos. </font><font style="vertical-align: inherit;">En este caso, todos los valores se devuelven al último:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_array</span>[<span class="hljs-number">0</span><span class="hljs-type">..100</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si intenta acceder a un único elemento de matriz inexistente, se devuelve $ null. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qt/oq/7v/qtoq7vdu_7qt710eszjme9s54rq.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En PowerShell, las matrices pueden contener elementos de diferentes tipos o estar fuertemente tipadas:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_array</span> = <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-string">""</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>
<span class="hljs-keyword">for</span> ([<span class="hljs-built_in">int</span>]<span class="hljs-variable">$i</span> = <span class="hljs-number">0</span>; <span class="hljs-variable">$i</span> <span class="hljs-operator">-lt</span> <span class="hljs-variable">$test_array</span>.count; <span class="hljs-variable">$i</span>++)<font></font>
{<font></font>
          <span class="hljs-built_in">Write-Host</span> <span class="hljs-variable">$test_array</span>[<span class="hljs-variable">$i</span>]<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donde la propiedad $ test_array.count es el número de elementos en la matriz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un ejemplo de creación de una matriz fuertemente tipada:</font></font><br>
<br>
<pre><code class="powershell hljs">[<span class="hljs-built_in">int</span>[]]<span class="hljs-variable">$test_array</span> = <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">7</span>, <span class="hljs-number">8</span>, <span class="hljs-number">9</span></code></pre><br>
<a name="section12"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tablas hash</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro tipo básico de variable en PowerShell son las tablas hash, también llamadas matrices asociativas. </font><font style="vertical-align: inherit;">Hashtable son similares a los objetos JSON y se construyen sobre una base de valor clave. </font><font style="vertical-align: inherit;">A diferencia de las matrices ordinarias, el acceso a sus elementos se lleva a cabo utilizando claves con nombre, que son propiedades de objeto (también puede usar el operador de índice - corchetes). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se declara una tabla hash vacía utilizando el símbolo de servicio @ y los corchetes del operador:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_hashtable</span> = <span class="hljs-selector-tag">@</span>{}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al declarar, puede crear claves inmediatamente y asignarles valores:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_hashtable</span> = <span class="hljs-selector-tag">@</span>{one=<span class="hljs-string">""</span>; two=<span class="hljs-string">""</span>; three=<span class="hljs-string">""</span>; <span class="hljs-string">"some key"</span>=<span class="hljs-string">"some value"</span>}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para agregar un elemento a la tabla hash, debe asignarle una clave que aún no existe o usar el método Add (). </font><font style="vertical-align: inherit;">Si la asignación se realiza con una clave existente, su valor cambiará. </font><font style="vertical-align: inherit;">Para eliminar un elemento de una tabla hash, use el método Remove ().</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-variable">$test_hashtable</span>.<span class="hljs-string">"some key"</span>
<span class="hljs-variable">$test_hashtable</span>[<span class="hljs-string">"some key"</span>]
<span class="hljs-variable">$test_hashtable</span>.Add(<span class="hljs-string">"four"</span>, <span class="hljs-string">""</span>)
<span class="hljs-variable">$test_hashtable</span>.five = <span class="hljs-string">""</span>
<span class="hljs-variable">$test_hashtable</span>[<span class="hljs-string">'five'</span>] = <span class="hljs-string">" "</span>
<span class="hljs-variable">$test_hashtable</span>.Remove(<span class="hljs-string">"one"</span>)</code></pre><br>
<img src="https://habrastorage.org/webt/tm/lu/rr/tmlurrhp6hctdugfaqilt06j3le.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las variables de este tipo se pueden pasar como argumentos a funciones y cmdlets; en el próximo artículo aprenderemos cómo hacerlo y también consideraremos otro tipo similar: PSCustomObject. </font></font><br>
<br>
<a name="section13"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Las funciones</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PowerShell tiene todos los elementos necesarios para la programación de procedimientos, incluidas las funciones. </font><font style="vertical-align: inherit;">La palabra de función Función se usa para describirlos, después de lo cual se requiere indicar el nombre de la función y el cuerpo entre corchetes de operador. </font><font style="vertical-align: inherit;">Si es necesario, pase argumentos a la función, puede especificarlos inmediatamente después del nombre entre paréntesis.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> - <span class="hljs-params">(1, ..., N)</span></span> <font></font>
{ <font></font>
        - <font></font>
} <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una función siempre devuelve un resultado: esta es una matriz de los resultados de todas sus declaraciones, si hay más de una. </font><font style="vertical-align: inherit;">Si hay una declaración, se devuelve un solo valor del tipo correspondiente. </font><font style="vertical-align: inherit;">La construcción return $ value agrega un elemento con el valor $ value a la matriz de resultados y aborta la lista de instrucciones, y una función vacía devuelve $ null. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, cree una función para cuadrar un número:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">sqr</span> <span class="hljs-params">(<span class="hljs-variable">$number</span>)</span></span><font></font>
{<font></font>
      <span class="hljs-keyword">return</span> <span class="hljs-variable">$number</span> * <span class="hljs-variable">$number</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tenga en cuenta que en el cuerpo de la función puede usar cualquier variable declarada antes de su llamada, y llamar a funciones en PowerShell puede parecer inusual: los argumentos (si los hay) no están encerrados entre paréntesis y están separados por espacios. </font></font><br>
<br>
<pre><code class="powershell hljs">sqr <span class="hljs-number">2</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
más o menos:</font></font><br>
<br>
<pre><code class="powershell hljs">sqr <span class="hljs-literal">-number</span> <span class="hljs-number">2</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debido a la forma en que se pasan los argumentos, la función misma a veces tiene que estar entre corchetes:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test_func</span> <span class="hljs-params">(<span class="hljs-variable">$n</span>)</span></span> {}<font></font>
test_func <span class="hljs-operator">-eq</span> <span class="hljs-variable">$null</span>     <span class="hljs-comment">#   </span>
(test_func) <span class="hljs-operator">-eq</span> <span class="hljs-variable">$null</span>   <span class="hljs-comment">#   — $true</span></code></pre><br>
<img src="https://habrastorage.org/webt/df/kv/mx/dfkvmx4lst2rmo68c0disf_ovl0.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al describir una función, puede asignar valores predeterminados a los argumentos:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">func</span> <span class="hljs-params">(<span class="hljs-variable">$arg</span> = value)</span></span> {
         <span class="hljs-comment"># </span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay otra sintaxis para describir los argumentos de la función, además, los parámetros se pueden leer desde la tubería; todo esto será útil en el próximo artículo cuando consideremos los módulos exportados y creemos sus propios cmdlets.</font></font><br>
<br>
<a name="section14"></a><h3><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Error al procesar</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PowerShell tiene un mecanismo Try ... Catch ... Finalmente para manejar excepciones. </font><font style="vertical-align: inherit;">El bloque Try contiene código en el que puede ocurrir un error, y el bloque Catch contiene su controlador. </font><font style="vertical-align: inherit;">Si no hubo error, no se ejecuta. </font><font style="vertical-align: inherit;">El bloque Finalmente se ejecuta después del bloque Try, independientemente de la ocurrencia de un error, y puede haber varios bloques Catch para excepciones de varios tipos. </font><font style="vertical-align: inherit;">La excepción en sí misma se escribe en la variable predeterminada sin declaración ($ _) y se puede recuperar fácilmente. </font><font style="vertical-align: inherit;">En el siguiente ejemplo, implementamos protección contra la entrada de un valor incorrecto:</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-keyword">try</span> {<font></font>
<font></font>
        [<span class="hljs-built_in">int</span>]<span class="hljs-variable">$test</span> = <span class="hljs-built_in">Read-Host</span> <span class="hljs-string">" "</span>
        <span class="hljs-number">100</span> / <span class="hljs-variable">$test</span><font></font>
<font></font>
} <span class="hljs-keyword">catch</span> {<font></font>
<font></font>
         <span class="hljs-built_in">Write-Warning</span> <span class="hljs-string">" "</span>
         <span class="hljs-built_in">Write-Host</span> <span class="hljs-variable">$_</span><font></font>
<font></font>
}<font></font>
</code></pre><br>
<img src="https://habrastorage.org/webt/tc/3s/e0/tc3se0iqqbes07g8jm0_zitavgw.png" alt="imagen"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahí es donde se refieren los conceptos básicos de programación de PowerShell. </font><font style="vertical-align: inherit;">En los siguientes artículos estudiaremos con más detalle el trabajo con variables de diferentes tipos, colecciones, expresiones regulares, la creación de funciones, módulos y cmdlets personalizados, así como la programación orientada a objetos. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 1: las características principales de Windows PowerShell </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 3: pasar parámetros a scripts y funciones, crear cmdlets </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 4: Trabajar con objetos, clases personalizadas</font></font><br>
</a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es490908/index.html">Zona de almacenamiento de datos</a></li>
<li><a href="../es490912/index.html">Cómo en Sportmaster elegimos un sistema de almacenamiento en caché. Parte 1</a></li>
<li><a href="../es490916/index.html">Problemas de interacción con equipos externos en grandes proyectos.</a></li>
<li><a href="../es490918/index.html">Andrei Zaretsky, Alexander Trukhanov (continuación): "No teníamos un nombre, pero había arrogancia"</a></li>
<li><a href="../es490920/index.html">Acelere su búsqueda en ¿Me han llevado a 49 microsegundos (C ++)</a></li>
<li><a href="../es490926/index.html">Trayectoria de la bola de la unidad 2d para principiantes</a></li>
<li><a href="../es490932/index.html">[Pronóstico] Motornet - una red de intercambio de datos para vehículos robóticos</a></li>
<li><a href="../es490936/index.html">Crea ML en iOS</a></li>
<li><a href="../es490938/index.html">Escribimos miles de archivos de registro a la vez</a></li>
<li><a href="../es490940/index.html">Hacer un quadrocopter usando una impresora 3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>