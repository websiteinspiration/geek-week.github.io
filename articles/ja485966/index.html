<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§¥ ğŸ‰ ğŸ‘©ğŸ¾â€ğŸ¨ ãƒªãƒãƒ¼ã‚¹USB-SATAã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ï¼ˆ1äººã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã®å±¥æ­´ï¼‰ ğŸ‘©ğŸ»â€ğŸ¤â€ğŸ‘¨ğŸ½ ğŸ‘©â€ğŸš’ â„ï¸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰
 

ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚·ãƒƒãƒ—ã¯ã€çŸ¥è­˜ã¨çµŒé¨“ã‚’ç©ã‚€ãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚ãƒ©ã‚¯ãƒ¼ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒ¼ãƒ ã¯ã€ã“ã®çŸ¥è­˜ã¨çµŒé¨“ã‚’æ¬¡ä¸–ä»£ã®ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆã«ä¼ãˆãªã‘ã‚Œã°ã€èº«ã®å›ã‚Šã®ãƒ‡ãƒã‚¤ã‚¹ã‚„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«ã‚’é«˜ã‚ã‚‹ã“ã¨ã¯ä¸å¯èƒ½ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚ãã®ãŸã‚ã€æ‰èƒ½ã®ã‚ã‚‹å­¦ç”Ÿã‚„å’æ¥­ç”Ÿã®ãŸã‚ã«å€‹äººã‚¤ãƒ³...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ãƒªãƒãƒ¼ã‚¹USB-SATAã‚¢ãƒ€ãƒ—ã‚¿ãƒ¼ï¼ˆ1äººã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã®å±¥æ­´ï¼‰</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ntc-vulkan/blog/485966/"><h1 id="predystoriya"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰</font></font></h1><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚·ãƒƒãƒ—ã¯ã€çŸ¥è­˜ã¨çµŒé¨“ã‚’ç©ã‚€ãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ©ã‚¯ãƒ¼ãƒ³ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒãƒ¼ãƒ ã¯ã€ã“ã®çŸ¥è­˜ã¨çµŒé¨“ã‚’æ¬¡ä¸–ä»£ã®ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆã«ä¼ãˆãªã‘ã‚Œã°ã€èº«ã®å›ã‚Šã®ãƒ‡ãƒã‚¤ã‚¹ã‚„ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®æƒ…å ±ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ¬ãƒ™ãƒ«ã‚’é«˜ã‚ã‚‹ã“ã¨ã¯ä¸å¯èƒ½ã ã¨è€ƒãˆã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã®ãŸã‚ã€æ‰èƒ½ã®ã‚ã‚‹å­¦ç”Ÿã‚„å’æ¥­ç”Ÿã®ãŸã‚ã«å€‹äººã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã‚·ãƒƒãƒ—ã‚’é•·å¹´ã«ã‚ãŸã£ã¦çµ„ç¹”ã—ã¦ã„ã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ç ”ç©¶ã¯ã€å¤§å­¦ã§æ•™ãˆã‚‰ã‚Œã¦ã„ãªã„ã‚¹ã‚­ãƒ«ã§ã™ã€‚</font><font style="vertical-align: inherit;">å…·ä½“çš„ãªä¾‹ã‹ã‚‰ã€çµŒé¨“è±Šå¯Œãªãƒ¡ãƒ³ã‚¿ãƒ¼ã®æŒ‡å°ã®ä¸‹ã§å­¦ã¶ã“ã¨ãŒã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">æ¯å¹´ã€ç§ãŸã¡ã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ³ã¯è¤‡é›‘ãªæŠ€è¡“çš„ãªå•é¡Œã‚’è§£æ±ºã—ã€ç›®æ¨™ã‚’é”æˆã—ã¦æ¬¡ã«é€²ã¿ã€å°‚é–€å®¶ã®è¦–é‡ã‚’åºƒã’ã€ä¸–ç•Œã‚’å°‘ã—å®‰å…¨ã«ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãã‚Œã‚‰ã®ãã‚Œãã‚Œã¯ã€ã‚¹ãƒšã‚·ãƒ£ãƒªã‚¹ãƒˆã«ãªã‚‹ã¨ã„ã†ç‹¬è‡ªã®ã‚¹ãƒˆãƒ¼ãƒªãƒ¼ã‚’æŒã£ã¦ã„ã¾ã™ã€ãã—ã¦ã‚«ãƒƒãƒˆã®ä¸‹ã§-ãã‚Œã‚‰ã®ã†ã¡ã®1ã¤ã®å§‹ã¾ã‚Šã€‚</font></font></p><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/eu/dr/h-/eudrh-mevrjhfjo4jfjouffyyk4.png"></div> <a name="habracut"></a><br>
<h1 id="vvedenie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‰æ›¸ã</font></font></h1><br>
<p>           Â« Â«Â».       -.  ,   ,     crackme  x86,   â€“         Â«Â».        ,      . </p><br>
<p>    -      â€“             .          USB-SATA-,        -.                . </p><br>
<p>        USB-SATA-.     .</p><br>
<h1 id="vizualnyy-shemotehnicheskiy-analiz">  </h1><br>
<p>          .       ,     .    :</p><br>
<img src="https://habrastorage.org/webt/9x/1n/ej/9x1nejzyxjz-zpfnb_d_v9y9giy.jpeg"> <br>
<p><em>USB-SATA-.  </em></p><br>
<img src="https://habrastorage.org/webt/tx/ra/je/txrajeoqdj1x7ytwn7huh0gdy6g.jpeg"> <br>
<p><em>USB-SATA-.  </em></p><br>
<p>    ,  ,       :   3,3 ,   1,2 .     -,   .     SPI,     512 .</p><br>
<p> ,      ,            Â«ASM1051Â».    ,   ,   . ,     ,   .  ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">datasheet</a>    <strong>ASM1053</strong>.</p><br>
<h1 id="usb">USB</h1><br>
<p>        USB-.  ,           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">USB</a>,         .<br>
, USB-         . ,  â€“  Mass Storage Device,     â€“ <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Human Interface Device (HID)</a>.           ,      Mass Storage     SCSI-.</p><br>
<div class="spoiler"><b class="spoiler_title">   USB,  </b><div class="spoiler_text"><ul>
<li><p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">USB in a NutShell</a></p><br>
</li>
<li><p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Universal Serial Bus Mass Storage Class</a></p><br>
</li>
<li><p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">USB Mass Storage Class on an Embedded Device</a></p><br>
</li>
<li><p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">SCSI Commands Reference Manual</a></p><br>
</li>
</ul></div></div><br>
<h1 id="chtenie-pamyati-iz-pzu">   </h1><br>
<p>   ASM1051,   ,   ,        .    .     -,    USB- ChipProg-48.     ,        .       ,    ,     .</p><br>
<h1 id="analiz-binarnogo-fayla">  </h1><br>
<p>          WinHex,     HEX-.    :</p><br>
<img src="https://habrastorage.org/webt/fz/g8/v7/fzg8v7gjqsop97y-kgybcmudrqa.jpeg"> <br>
<p><em>  ,   </em> </p><br>
<p>      .      <code>ASMT1051</code>,     044.     <code>asmedia</code>   018.         ,    WinHex.</p><br>
<img src="https://habrastorage.org/webt/ui/r9/ad/uir9adkobpc6gnl55k6vjnaf65i.jpeg"> <br>
<p><em>    </em> </p><br>
<p>   ,     .   0x00  0xFF (   ),      :</p><br>
<ul>
<li>0x02; </li>
<li>0x74; </li>
<li>0x90; </li>
<li>0xA3; </li>
<li>0xE0; </li>
<li>0xF0. </li>
</ul><br>
<p>     ,     .     â€“   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> (opcode)</a>  ,    ( â€“ ),  ,    .</p><br>
<p>  ,            , :</p><br>
<ul>
<li>mov; </li>
<li>jmp; </li>
<li>call; </li>
<li>ret. </li>
</ul><br>
<p>,         ,    .</p><br>
<p>        ,    .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Intel 8051</a>    .   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>      , :</p><br>
<ul>
<li>0x02 â€“ LJMP addr16; </li>
<li>0x74 â€“ MOV A, #immed; </li>
<li>0x90 â€“ MOV DPTR, #immed; </li>
<li>0xA3 â€“ INC DPTR; </li>
<li>0xE0 â€“ MOVX A, @DPTR; </li>
<li>0xF0 â€“ MOVX @DPTR, A. </li>
</ul><br>
<p> ,       .         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">IDA Pro</a>,       :</p><br>
<blockquote><em>Â«  ,         ?Â»</em></blockquote><p> ,  ,      - Â«Â»     000.</p><br>
<p> ,        .         SPI- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">EM100</a>.      ,          ,  , EM100      . ,      ,      SPI-.               USB  .</p><br>
<img src="https://habrastorage.org/webt/8i/rp/f2/8irpf2mpqht4crvi8aqwcj3ot7s.jpeg"> <br>
<p><em>SPI-    USB-SATA-</em> </p><br>
<p>         -     .   ,     ,   ,    .</p><br>
<img src="https://habrastorage.org/webt/yc/v6/te/ycv6teqfm5n_7gzvwgss1d6ycwk.png"> <br>
<p><em>     (    SPI-)</em> </p><br>
<p>   ,        ASM1051,   ,    0x03 (Read Data).</p><br>
<p>  ASM1051  0x80 ,    0x0000.  â€“  ,    0x0080,       0x8082.        ,    0x0082.</p><br>
<p> ,    ,     ,    0x0082, ,   .       â€“   .   ,       ASM1051   - ,     .        0x80 .</p><br>
<p>   ,             8051,       0x0082.     IDA Pro,  Processor type Intel 8051  offset   0x0082.</p><br>
<img src="https://habrastorage.org/webt/r8/fy/pl/r8fyplytapyh-i_lfgazwcsoxga.png"> <br>
<p><em>    IDA Pro   0x82</em></p><br>
<p>       .</p><br>
<p><strong><em>:</em></strong></p><br>
<ol>
<li> ASM1051   8051. </li>
<li>   ,     082.    - . </li>
<li> 080  -  . </li>
</ol><br>
<h1 id="analiz-koda"> </h1><br>
<p>,   ,    IDA  ,       . </p><br>
<p>      ,    32- ,   ,   <code>switch ()</code>  .           R7    - .      .</p><br>
<h2 id="nahodka--1"> â„– 1</h2><br>
<p>,       INQUIRY (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">SCSI-</a>)   ,   ,       . , ,        ,    INQUIRY  ,   .     .          , ASM1051       .     080   .   8051    () , , ASM1051    . </p><br>
<p>  ,   080   ,       .     ,     SPI   .</p><br>
<img src="https://habrastorage.org/webt/ep/cl/8i/epcl8it0d2d63f8oq1tctpmfvii.png"> <br>
<p><em>SPI-   </em> </p><br>
<p>     .   IDA 000, 080  0EB    ,     ,    05  . </p><br>
<img src="https://habrastorage.org/webt/sv/ym/kf/svymkfdb-0nsj764k8igczukjj0.png"> <br>
<p><em>   05.  checksum-8</em> </p><br>
<p>       ,    . ,       080<strong>7E</strong>   05.   checksum-8  ,    080<strong>04</strong>  080<strong>7E</strong>.     080<strong>7F</strong>     .</p><br>
<img src="https://habrastorage.org/webt/j4/ao/x2/j4aox2tkbow4wzw57rrbprixw9u.png"> <br>
<p><em>   </em> </p><br>
<p>       .    ,    07   0x5A.    checksum-8     004  07E,   07,         07F.</p><br>
<p>      -     00082  0807F (   ),       08083.    08082    05.</p><br>
<p>,    ,      .    ,   -         .      SCSI- INQUIRY    .</p><br>
<p><strong><em>:</em></strong> </p><br>
<ol>
<li>   ASM1051     . </li>
<li>  ASM1051   checksum-8   004  07E     07F. </li>
<li>  -    ,      Â«Â» (  00082  0807F).   ASM1051      08083  ,    08082   05. </li>
<li>   ,  ASM1051   ,      . </li>
</ol><br>
<h2 id="nahodka--2"> â„– 2</h2><br>
<p>       ,        PRINTF (   ).    ,       R7  <strong></strong> . </p><br>
<img src="https://habrastorage.org/webt/fn/0a/9a/fn0a9aafvgus1v4emxuf6j9kbea.png"> <br>
<p><em> PRINTF  IDA Pro</em> </p><br>
<p>      .    .          0x7F6  .    ,    .   ,     .    R7      0xC001, ,   ,      R7   .   ,     R7   Â«.Â»  Â«-Â»,  ,    .      ,         0x16A     0xC001,    . ,   <strong>041</strong> ( Â«Â»  ASCII)    0001  034 ( <strong>Â«4Â»</strong>  ASCII),   031 ( <strong>Â«1Â»</strong>  ASCII).    .</p><br>
<p> ,         ,      0x7F6  ,     .      ,    . ,    0001    (    ),   ,  ,  ,  .</p><br>
<p>   UART.  ,   ,   :</p><br>
<ol>
<li>   ASM1051,   UART.</li>
<li>  UART (, ,  -).</li>
<li>   UART   (  ,  ).</li>
</ol><br>
<p>   :           ,       UART.         .      ,        .</p><br>
<p> Â«Â»  ,       ,         07F6.        WinHex. </p><br>
<img src="https://habrastorage.org/webt/rm/rw/mg/rmrwmgen5bw46g0r1a7uchsnkog.png"> <br>
<p><em>  ,   </em> </p><br>
<p>       .          .  ,       UART ,         ,   ,    Â«Â»  UART   .   ,     UART  ,    . </p><br>
<p>    ,       Rx  Tx,       .   ,  Rx  Tx  ASM1051   ,    ASM1053 â€“  40  41 .      41 ( Tx)   -    :</p><br>
<img src="https://habrastorage.org/webt/qn/s7/rq/qns7rq-nxvqvqcgzlo4hwqb7spc.png"> <br>
<p><em>    41 â€“ Tx</em> </p><br>
<p>     USB-UART       ,            .</p><br>
<img src="https://habrastorage.org/webt/jn/x2/-f/jnx2-fwuhcewoy4aodelx7ugqbk.jpeg"> <br>
<p><em>    RX  TX</em></p><br>
<p>     Â«    41 â€“ TxÂ»:   ,   , â€“ 1 ,     â€“ 6,3 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>,   950000 ,    UART â€“ 921600 . ,    -    ,      ,   Â«Â».       Terminal 1.9b        ASM1051    .</p><br>
<img src="https://habrastorage.org/webt/fa/de/pc/fadepckvko4t2dyacaqt93hidao.png"> <br>
<p><em>  Terminal 1.9b    </em></p><br>
<p><strong><em>:</em></strong> </p><br>
<p>  ASM1051    UART.       0001.    â€“ 921600 .   -.  41 â€“ Tx,  40 â€“ Rx (   ).</p><br>
<h2 id="nahodka--3"> â„– 3</h2><br>
<p>   ,  ,    ,     .     ,    ,   <code>switch ()</code>.</p><br>
<img src="https://habrastorage.org/webt/zq/ra/nr/zqranrtexseqh7xpj0ynpjav9su.png"> <br>
<p><em>      0x800F</em></p><br>
<p>,  -    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">SCSI-</a>,      ,           0x800F. ,       Read(10), Write(10), Read(16), Write(16).   ,     SCSI,   .    ,    ,     Read/Write (u_Switch). ,         0x16A (   0x800F),  ,         .    <code>switch ()</code>.</p><br>
<img src="https://habrastorage.org/webt/8c/ni/xf/8cnixfxf9a1bcyzv0ttlsgpmcqo.png"> <br>
<p><em>Switch SCSI-</em></p><br>
<p>     ,       SCSI-,       . , ,    ,        0x16A   0x1A,      u_Switch      0x1B85. ,    ,      u_Switch,     SCSI.       06  0xDF,     . </p><br>
<p> ,          -. </p><br>
<img src="https://habrastorage.org/webt/4m/kn/bz/4mknbzam6xol2fhb750trvrxs_c.png"> <br>
<p><em> 13  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Universal Serial Bus Mass Storage Class</a></em></p><br>
<p>    <strong>0x0F</strong>   0x8000.        0x800F   SCSI.       ,   ,   Command Block Wrapper (CBW)  CBWCB    <strong>0x0F</strong>. ,   RAM- ASM1051,   0x8000,   USB-,     .</p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th> </th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>08000-08003</td>
<td>dCBWSignature (USBC â€“    )</td>
</tr>
<tr>
<td>08004-08007</td>
<td>dCBWTag</td>
</tr>
<tr>
<td>08008-0800B</td>
<td>dCBWDataTransferLength</td>
</tr>
<tr>
<td>0800C</td>
<td>bmdCBWFlag</td>
</tr>
<tr>
<td>0800D</td>
<td>bCBWLUN</td>
</tr>
<tr>
<td>0800E</td>
<td>bCBWCBLength</td>
</tr>
<tr>
<td>0800F-0801F</td>
<td>CBWCB â€“ SCSI-   </td>
</tr>
</tbody>
</table></div><br>
<p>     ,      USBC (    dCBWSignature)       08000. ,  ,    ,  USB-   RAM-   08000.</p><br>
<img src="https://habrastorage.org/webt/-t/et/eo/-teteok9i6rotmpp1w6wxy0bun4.png"> <br>
<p><em>  dCBWSignature     USBC</em></p><br>
<p><strong><em>:</em></strong> </p><br>
<ol>
<li> ASM1051     SCSI-,    . </li>
<li>  USB- â€“ 08000. SCSI-      0800F,     / . </li>
</ol><br>
<h2 id="nahodka--4"> â„– 4</h2><br>
<p>,      ,  ,    .       .       ,              Â« â€“  Â»,      .</p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th>SCSI-</th>
<th> </th>
</tr>
</thead>
<tbody>
<tr>
<td>00</td>
<td>   080   .         <em></em> (,   0x80 ,     <code>asmedia</code>  <code>ASM1051</code>)</td>
</tr>
<tr>
<td>01</td>
<td>  080   </td>
</tr>
<tr>
<td>03</td>
<td>     080    .    ( )   </td>
</tr>
<tr>
<td>04</td>
<td>    RAM- ASM1051.         ,  </td>
</tr>
<tr>
<td>05</td>
<td>    RAM  </td>
</tr>
<tr>
<td>07</td>
<td>     ATA-</td>
</tr>
<tr>
<td>08</td>
<td> </td>
</tr>
</tbody>
</table></div><br>
<p>,           IDA.      , ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   </a>  ASM1051,     .          .   ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Device Monitoring Studio</a>  ,         . </p><br>
<p> ,  ,     :    ( 0xE1),   03  ,      ( 08).          Python,      ,   -   .      ,       ASM1051  USB,      .</p><br>
<p><strong><em></em></strong></p><br>
<p>  ,     SCSI-: 0xE1, 03  08.</p><br>
<h2 id="nahodka--5"> â„– 5</h2><br>
<p>  ,       . </p><br>
<img src="https://habrastorage.org/webt/be/9e/st/be9estiir9g45o0thkj4bacvsmm.png"> <br>
<p><em>     0884     0x8002</em></p><br>
<p>  SCSI- MODE SENSE(10)    .       . ,    <strong>0884</strong>    .          08002. </p><br>
<p>  ,   <strong>0884</strong>     , ,  ,  . </p><br>
<img src="https://habrastorage.org/webt/fc/mw/sh/fcmwsh6pa3zzkpbsfxxici-t4g4.jpeg"> <br>
<p><em> 362  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">SCSI Commands Reference Manual</a></em></p><br>
<p> ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">SCSI-</a> 05 (MODE SENSE),  ,  USB-SATA-     MODE SENSE.       WP (Write Protect â€“   ). ,  <strong></strong>   08002   ,   <strong></strong>   USB- (08000)    <strong>3</strong>.</p><br>
<p><strong><em>:</em></strong></p><br>
<p> USB-SATA-         <strong>0884</strong>     USB-   WP. </p><br>
<h2 id="nahodka--6"> â„– 6</h2><br>
<p> ,      SCSI- MODE SENSE,    GPIO.   ,      ASM1051        (SCSI- 04)   <strong>0884</strong>.       Python,   SCSI-,      <strong>0884</strong>     . </p><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th> 0xC884</th>
<th>7</th>
<th>6</th>
<th>5</th>
<th>4</th>
<th>3</th>
<th>2</th>
<th>1</th>
<th>0</th>
</tr>
</thead>
<tbody>
<tr>
<td> ASM1051</td>
<td>â€“</td>
<td>â€“</td>
<td>37</td>
<td>â€“</td>
<td>9</td>
<td>10</td>
<td>45</td>
<td>44</td>
</tr>
</tbody>
</table></div><br>
<p>      ,   ,     <strong>0884</strong>     ASM1051 . ,       GPIO,      (SCSI- 05)    â€“   .</p><br>
<p>  ,       ,  -       .  , ,        , , ,     <strong>0884</strong>    . </p><br>
<p> ,     ,   GPIO,       .   ,     <strong>0884</strong>.      10. ,         ,       <strong>0884</strong>.          â€“ <strong>0880</strong>,            (,    ).  ,   ,   <strong>0880</strong>      (/),   <strong>0884</strong>   ,  - .</p><br>
<p>        <strong>0880</strong>    ,    <strong>0884</strong>    .     <strong>0884</strong>  .           ASM1051.</p><br>
<p><strong><em>:</em></strong></p><br>
<p>   GPIO  ASM1051.    <strong>0880</strong>   /   I/O.  0884    I/O.</p><br>
<h2 id="nahodka--5-prodolzhenie"> â„– 5. </h2><br>
<p>  GPIO-  ,  45-           <strong>0884</strong>.           <strong>WP</strong>,    USB.       45-    ,    HDD,     ,  .</p><br>
<img src="https://habrastorage.org/webt/9m/yq/lv/9myqlvzd8guku1qfcllendjrtcc.png"> <br>
<p><em>     HDD,      45-  </em></p><br>
<p>    .       GND 45-      ,      HDD.     . </p><br>
<p><strong><em></em></strong> </p><br>
<p>  45-  ASM1051         HDD.</p><br>
<h1 id="razrabotka-sobstvennogo-ustroystva">  </h1><br>
<p>      USB-SATA-.           ASM1051.   ,  -  ,     .   ,     GPIO.    â€“  ASM1051  ,         HDD. ,   ,     (Â«     Â»),     ,  ,         USB-SATA-   ASM1051.</p><br>
<p>,           footprint  ASM1051,       datasheet  ASM1053.     ,        ASM1051   .</p><br>
<img src="https://habrastorage.org/webt/mf/9k/pi/mf9kpiav5oxxejflxjfndixzccy.jpeg"> <br>
<p><em>ASM1051     </em></p><br>
<p>   ,       3D- ,    .</p><br>
<img src="https://habrastorage.org/webt/4n/vk/ea/4nvkearirndsx2wx6lzbv2--iu0.png"> <br>
<p><em>3D-      </em></p><br>
<p>           <strong>WP</strong>.  GPIO ASM1051      ,   UART.  ,      SATA,     HDD.      USB 3.0 Micro-B     Type-C.  HDD      USB,   HDD 3.5"  +12 ,           12  21 .     .</p><br>
<img src="https://habrastorage.org/webt/zh/ji/wu/zhjiwuyqzibs09gswjbdlths-_g.jpeg"> <br>
<p><em>    </em></p><br>
<h1 id="zaklyuchenie"></h1><br>
<p>      ,       . </p><br>
<p>          -,    ,   .         Â« Â«Â»,          .        ,       .</p><br>
<p>  ,    (,   )   embedded-. ,  ,       .      ,    ,    , ,         .</p><br>
<p>      ,   datasheets,    ,   .       ,  <strong>   !</strong></p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/6d/ts/lv/6dtslv2uikkshhl7tmsi7fgjp0y.png"></a> </p><br>
<p><em>Raccoon Security â€“     Â«Â»     , , ,       .</em><br>
<em>        ,         ,     .</em><br>
<strong>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.</strong></p><cut></cut></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja485954/index.html">1æœˆ28æ—¥ã®Javaãƒ€ã‚¤ã‚¸ã‚§ã‚¹ãƒˆ</a></li>
<li><a href="../ja485956/index.html">Vueã‚¹ãƒˆã‚¢ãƒ•ãƒ­ãƒ³ãƒˆãƒã‚§ãƒƒã‚¯ã‚¢ã‚¦ãƒˆ</a></li>
<li><a href="../ja485958/index.html">[ç®¡ç†è€…ã®æ¦‚è¦]ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãŒç®¡ç†è€…æ¨©é™ã‚’å¿…è¦ã¨ã—ã€ã‚ãªãŸãŒãã†ã§ãªã„å ´åˆ</a></li>
<li><a href="../ja485960/index.html">ãƒ”ãƒ¥ã‚¢ã‚¤ãƒ¼ãƒ“ãƒ«ãƒ‘ã‚¤ã‚½ãƒ³</a></li>
<li><a href="../ja485962/index.html">æ–°è¦ã‚³ãƒ­ãƒŠã‚¦ã‚¤ãƒ«ã‚¹nCOV / 2019-nCoV / NCP / COVID19ï¼šäºˆæ¸¬ã€çµ±è¨ˆã€ä¿è­·ã€ãƒ‹ãƒ¥ãƒ¼ã‚¹[4å›ç›®ã®å†ç‰ˆã€rev.05.06]</a></li>
<li><a href="../ja485968/index.html">ãã—ã¦å†ã³ãƒ­ãƒƒã‚¯ã‚’ãƒã‚¤ãƒ‘ã‚¹ã—ã¾ã™ã€‚RouterOS + BGP + OSPF</a></li>
<li><a href="../ja485970/index.html">æœ€è¿‘ã®ãƒˆãƒƒãƒ—30ã®ã‚¤ãƒ³ã‚¿ãƒ“ãƒ¥ãƒ¼ï¼šé–‹ç™ºã€ãƒ‡ã‚¶ã‚¤ãƒ³ã€ã‚µã‚¤ã‚¨ãƒ³ã‚¹ãƒãƒƒãƒ—ã€ãƒ©ã‚¤ãƒ•ã‚¹ã‚¿ã‚¤ãƒ«</a></li>
<li><a href="../ja485972/index.html">ãƒ‡ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã«ãŠã‘ã‚‹å›å¸°åˆ†ææ³•</a></li>
<li><a href="../ja485974/index.html">Raspberry PiãŠã‚ˆã³SIM7600E 4G HATãƒ¢ãƒ‡ãƒ </a></li>
<li><a href="../ja485976/index.html">éš†èµ·ãƒ¢ãƒ‡ãƒªãƒ³ã‚°ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«ã€‚ãƒ‘ãƒ¼ãƒˆ2</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>