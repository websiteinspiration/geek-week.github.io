<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍🎨 🎻 ♿️ Hecho a medida: una historia sobre cómo una línea de código se convirtió en kilotones de carbón ⚪️ 👨🏿‍🎤 👸🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="El teléfono de Brad estalló en el familiar trino de una llamada de oficina. 
 
 - ¿Si? Ladró, levantando el teléfono. - ¿Qué deseas? 
 
 Según los est...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Hecho a medida: una historia sobre cómo una línea de código se convirtió en kilotones de carbón</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digital-ecosystems/blog/501536/"><img src="https://habrastorage.org/webt/vf/7f/mt/vf7fmthf1wdqwbwh8pdjpic4sli.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El teléfono de Brad estalló en el familiar trino de una llamada de oficina. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - ¿Si? Ladró, levantando el teléfono. - ¿Qué deseas? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Según los estándares de Brad, tal forma de comunicarse por teléfono se consideraba incluso cortés. Como el principal comerciante de ecxecor, una de las compañías de comercio de energía más grandes del mundo, Brad no iba a complacer a nadie, y consideraba cualquier manifestación de sentimientos, excepto la burla arrogante, como un signo de debilidad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Uh", dijo la secretaria obviamente nerviosa, "aquí estás ... uh ... entrega". Ellos ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "" Pf ", resopló Brad, interrumpiéndola de un vistazo. - Bueno, firme por ella! ¿O es tan difícil? ¿No puedes manejarlo tú mismo?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Ya ves", dijo el secretario, "me piden que te explique cómo amarrar". </font><font style="vertical-align: inherit;">Y también tenemos que pagar una tarifa de amarre. </font><font style="vertical-align: inherit;">Dicen que estás al tanto. </font><font style="vertical-align: inherit;">No entiendo nada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Está bien", se quejó Brad. </font><font style="vertical-align: inherit;">- Parece, y la verdad, todo lo que necesitas hacer aquí.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lanzó el teléfono y salió de la oficina de su esquina. </font><font style="vertical-align: inherit;">A pesar de que la residencia de Æxecor estaba ubicada en un área adyacente al antiguo puerto deportivo, su oficina era considerada una de las más lujosas de la ciudad. </font><font style="vertical-align: inherit;">En un extremo del espacioso edificio, que solía ser un almacén, se ubicaron las oficinas de los jefes, en el otro, Brad iba y se dirigía, había una sala de recepción, cuyas ventanas daban al muelle personal de la compañía cerca del río. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Bueno, aquí estoy! </font><font style="vertical-align: inherit;">Anunció enojado, apenas cruzando el umbral del pasillo. </font><font style="vertical-align: inherit;">- Vamos, extiéndelo. </font><font style="vertical-align: inherit;">Que debería ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Brad se detuvo antes de terminar la oración. Su mirada se dirigió de inmediato al espectáculo en el muelle cerca de la oficina de Æxecor, que se abría a través de altas ventanas de piso a techo. Había una barcaza de tamaño monstruoso, no, una armada entera de barcazas aseguradas llenas hasta el borde con montones de carbón. Toda esta armada pretendía amarrar en el muelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Qué demonios ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 " "Y tú debes ser Brad", dijo una voz llena de vida. Brad volvió la vista hacia el campesino de aspecto desvencijado con algún tipo de ropa de trabajo, que estaba sentado en una de las sillas de la sala de espera. "Bueno, para empezar, ¿cómo amarramos?" Tengo dos tapones, pero no puedes atraparlo. ¿Y tienes algo listo para descargar?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por una vez, Brad se quedó sin palabras. </font><font style="vertical-align: inherit;">No tenía idea de quién era esta persona, y casi no entendió una palabra de lo que estaba diciendo. </font><font style="vertical-align: inherit;">Por otra parte, esta comunidad, poco a poco se acerca al edificio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Uh ..." murmuró, "oye ... trajiste ... carbón?" </font><font style="vertical-align: inherit;">Y para nosotros </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - ¡Bueno, sí! </font><font style="vertical-align: inherit;">¡Veintiocho mil toneladas de oro viejo y negro! </font><font style="vertical-align: inherit;">- El trabajador arrugó la frente burlonamente y agregó: - Bueno, a menos, por supuesto, que la dirección no se haya equivocado, jaja. </font><font style="vertical-align: inherit;">¿Es esto Æxecor? </font><font style="vertical-align: inherit;">Litera número cincuenta y tres? </font><font style="vertical-align: inherit;">¿Eres Brad, el mismo tipo que lo ordenó? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y luego la mano de Brad se encontró en una fracción de segundo con la cara de Brad. </font><font style="vertical-align: inherit;">Se dio cuenta de que algo había salido muy mal de acuerdo con el plan, y en lugar de vender virtualmente veintiocho mil toneladas de carbón, de alguna manera las puso en sus manos</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un curso corto en el comercio de futuros de materias primas.</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si alguna vez has visto la clásica </font><font style="vertical-align: inherit;">película </font><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " de 1983 con Eddie Murphy y Dan Ackroyd en los papeles principales, ya puedes imaginar cómo se venden las materias primas. En sus términos más generales, los productos, por ejemplo, oro, lana, soja, son vendidos por los fabricantes y, en última instancia, llegan a los clientes. Pero Billy Ray Valentine hizo su dinero y destruyó a los hermanos Duke no solo vendiendo jugo de naranja concentrado congelado de una bandeja. Se las arregló para entrar en el mercado debido a que vendió y compró contratos de futuros. De hecho, esta es la única forma en que se realiza el comercio de productos básicos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los contratos de futuros son bastante transparentes: usted acepta comprar bienes en cantidades de X a un precio de Y por unidad en un momento determinado en el futuro. Por supuesto, puede parecer extraño que una persona decida comprar veinte toneladas de pechuga por $ 34,420 en abril (incluso si ama mucho la pechuga), pero la conclusión es que tiene la intención de vender esta entrega mucho antes de principios de abril y por un monto que excede significativamente 34 420 $. Casi cualquier producto que pueda imaginar se vende y compra de esta manera, incluso antes del inicio de la producción. El objetivo de este esquema comercial es que los riesgos (y beneficios) causados ​​por las fluctuaciones en los precios de los productos básicos ya no se otorgan a los productores (agricultores, mineros, etc.), sino a los comerciantes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, los comerciantes de productos básicos no están interesados ​​en quedarse con kilotones de carne en sus manos. Por lo tanto, toda una cadena de intermediarios (corredores, bolsas de valores, cámaras de compensación) que trabajan en el sudor de sus caras, se incluye en el proceso, de modo que la persona que dice: "En mayo compraré trescientas toneladas de carne por $ 518,000", puedo estar seguro de que no lo compraré en mayo. trescientas toneladas de pechuga por $ 518,000 en el sentido literal de estas palabras.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los corredores, por ejemplo, organizan transacciones circulares, sugiriendo que cada contrato de futuros comprado será compensado vendiendo el contrato correspondiente a una persona que esté realmente interesada en el producto. </font><font style="vertical-align: inherit;">Los sistemas de comercio automatizado utilizados por los intercambios tienen códigos de práctica incorporados para detectar errores obvios (por ejemplo, la entrega de grandes cantidades de bienes al territorio de una empresa comercial). </font><font style="vertical-align: inherit;">Y finalmente, las cámaras de compensación una vez más verifican las transacciones para asegurarse de que no se envíe nada por error. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con base en lo anterior, es casi imposible para un comerciante ser el propietario real de los bienes que compra. </font><font style="vertical-align: inherit;">Casi.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como un reloj</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Æxecor solo comerciaba carbón en un intercambio (WTFSE), y las transacciones relacionadas con el carbón no se realizaban con mucha frecuencia. En consecuencia, cuando WTFSE introdujo una nueva API que se dirigió al usuario y se basó en servicios web, el sistema de comercio interno no pudo interactuar con ella. Un par de acuerdos sobre el carbón se avecinaban en el horizonte, por lo que la empresa tenía un pequeño problema inminente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afortunadamente, había un par de programadores autodidactas en Æxecor y lograron armar una solución que se llevaba bien con la nueva API WTFSE. En esencia, el programador agregó un código XML a las solicitudes de negociación. En particular, había tal fragmento:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">AdditionalProperties</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">PhysicallyDeliver</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>False<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">PhysicallyDeliver</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">AdditionalProperties</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¿No encuentra nada extraño en este código XML? Si respondió: "El valor no debe ser falso, sino 0", puede darse una palmadita en el hombro. Al final resultó que, el sistema WTFSE percibió solo 1 y 0 para denotar verdadero y falso, respectivamente; cualquier otro valor simplemente se equiparó automáticamente a uno. ¡Uy! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, en circunstancias normales, un gran desastre no habría salido de esto. Para asegurarse de que todo sea correcto en la transacción, WTFSE (y cualquier otro intercambio) envía una confirmación de la transacción al cliente, donde toda la información de origen se escribe en XML. Por lo tanto, ambas partes tienen acceso a los datos. En el lado de Æxecor, todo parecía completamente seguro, principalmente debido a las siguientes líneas en el código:</font></font><br>
<br>
<pre><code class="xml hljs"><font></font>
bool physicallyDeliver = <font></font>
    (getNodeVal("PhysicallyDeliver").toLower() == "true");</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien hecho, el desarrollador hizo la verificación ... solo una línea puede dar muchos más valores que verdadero o falso. Digamos 1 o 0. Vaya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero incluso el hecho de que la transacción incorrecta por error pasó la verificación, en teoría, todavía no es un desastre, porque la cámara de compensación habría notado que algo estaba fundamentalmente mal con ella. No puede llamar al servicio de entrega de FedEx y pedirles que lleven varios miles de toneladas de materias primas a algún edificio de oficinas en el centro de negocios. La lista de puntos donde puede entregar materias primas es muy limitada; por lo general, se trata de almacenes cerca de depósitos o puertos. Sin embargo, la residencia Æxecor estaba ubicada cerca del muelle de cincuenta y tres en la zona costera con instalaciones de almacenamiento, que recientemente ha sido renovada; a primera vista, es un lugar razonable para entregar una pila completa de carbón, especialmente desde el punto de vista de la máquina. Ups</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afortunadamente, el mercado de comercio de futuros de productos básicos no depende completamente del software. En ambos lados de la transacción (y también en un par de puntos intermedios), los datos pasan a través de los empleados de los departamentos operativos que verifican si el comerciante ha hecho alguna estupidez: por ejemplo, marcó accidentalmente la casilla "entrega física", ingresó la transacción grupal, que inmediatamente dará una pérdida, y así sucesivamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como tantas personas están viendo transacciones, sería lógico suponer que al menos alguien se dio cuenta de que el gigante comercial Execor pide físicamente que les entregue una carga de carbón por un millón y medio de dólares. Sí, alguien probablemente lo notó, pero Brad estaba involucrado en el trato, lo que significa que era imposible concebir que hubiera algún tipo de malentendido.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como el principal comerciante de xecor, Brad transmitió a todos con la mayor claridad: nadie, "incluso Su Santidad el Papa de Roma" se atreve a cuestionar sus acciones. </font><font style="vertical-align: inherit;">Al final, Brad tiene que tomar las decisiones de licitación más difíciles que nadie más puede comprender. </font><font style="vertical-align: inherit;">A veces compra caro y vende barato. </font><font style="vertical-align: inherit;">A veces retiene los bienes, aunque el precio baja. </font><font style="vertical-align: inherit;">A veces se niega a venderlo, independientemente del precio. </font><font style="vertical-align: inherit;">Los caminos de Brad son misteriosos, y si dice: "¡Hazlo!", Entonces es mejor hacerlo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navidad temprana</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Simplemente no me digas que no es tu carbón", sintiendo que el negocio estaba sucio, el trabajador tomó una posición defensiva. - Lo necesitas, no lo necesitas - entiéndelo tú mismo. Pero su carbón, Sr. Brad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Brad estaría encantado de objetar, pero él mismo entendió: su carbón. Peor aún, una y otra vez lo confirmó con confianza al departamento de operaciones de Æxecor. Simplemente asumió que era típico para él que estos estúpidos cambiaformas de papel realmente no pudieran leer. Volvió mentalmente a su última conversación con un empleado del departamento de compras de carbón ("Te dije que te hicieras un trato, ¿qué palabra no entiendes?") Y se perdió en sus pensamientos sobre qué hacer con cincuenta y seis millones de libras de carbón en su encarnación física.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trate de imaginar por un momento cómo usted mismo se saldría con una pila de carbón por valor de un millón y medio de dólares. Incluso las características de Craigslist todavía tienen límites. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al final resultó que, vender carbón real fue aún más difícil de lo que Brad podría haber imaginado. El mercado de productos básicos, de hecho, comercia solo con futuros: todos los que necesitan veintiocho mil toneladas de carbón en este momento ya lo han comprado por adelantado. De todos modos, ¿quién comprará carbón de algún tipo oscuro llamado Brad? Al final, gastando sumas altísimas en berthage, entrega, impuestos ambientales, atraque, descarga, carga y otros aranceles, Brad con el corazón roto a la mitad vendió carbón a veinte centavos por dólar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Después de esta "compra grandiosa", la montaña de carbón de Brad nunca fue olvidada. </font><font style="vertical-align: inherit;">Cada vez, al pasar junto a colegas en el corredor, sabía que recordaban el carbón, y sabían que él entendía esto. </font><font style="vertical-align: inherit;">Nadie se burló ni se burló de él en particular, pero no importó. </font><font style="vertical-align: inherit;">Brad ya no era percibido como el Jefe de Comercio de ecxecor, se convirtió en el tipo que por error compró un avance de carbón.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es501522/index.html">Seminarios web gratuitos de Skillbox: juegos de escritura en PHP, Unity y Unreal Engine</a></li>
<li><a href="../es501524/index.html">Secretos de sincronización de los campos electromagnéticos de la Tierra y un organismo vivo.</a></li>
<li><a href="../es501526/index.html">¿Por qué el inglés canadiense se considera "sucio" y qué tiene que ver Keanu Reeves con él?</a></li>
<li><a href="../es501528/index.html">El libro "Bash y ciberseguridad: ataque, defensa y análisis desde la línea de comando de Linux"</a></li>
<li><a href="../es501534/index.html">Ahora con COVID-19 también hay una erupción</a></li>
<li><a href="../es501538/index.html">Sangría en Python - Opción de solución</a></li>
<li><a href="../es501544/index.html">Teléfono inteligente perfecto</a></li>
<li><a href="../es501546/index.html">"¿Por qué estoy pasando por esto?" - los psicólogos explican cómo encontrar el significado de forma aislada</a></li>
<li><a href="../es501548/index.html">Dorofei Proleskovsky: "El único proyecto de mapeo en el que tiene sentido invertir su tiempo y energía es OSM"</a></li>
<li><a href="../es501554/index.html">Estamos creando una cuenta personal para el servicio SaaS por seguridad</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>