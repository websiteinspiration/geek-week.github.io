<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤽🏽 🎅🏻 ⚪️ Mekanika bahasa tumpukan dan pointer 😀 🕊️ ⚓️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pendahuluan
 Ini adalah yang pertama dari empat artikel dalam seri yang akan memberikan wawasan tentang mekanisme dan desain pointer, tumpukan, tumpuk...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mekanika bahasa tumpukan dan pointer</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496846/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pendahuluan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah yang pertama dari empat artikel dalam seri yang akan memberikan wawasan tentang mekanisme dan desain pointer, tumpukan, tumpukan, analisis pelarian, dan semantik Go / pointer. </font><font style="vertical-align: inherit;">Posting ini adalah tentang tumpukan dan petunjuk. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar Isi:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mekanika Bahasa Di Stacks Dan Pointer</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mekanika Bahasa Pada Analisis Escape</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terjemahan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mekanika Bahasa Tentang Memori</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desain Filosofi Pada Data Dan Semantik</font></font></a></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengantar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan menyembunyikan - pointer sulit dimengerti. </font><font style="vertical-align: inherit;">Jika digunakan secara tidak benar, pointer dapat menyebabkan kesalahan yang tidak menyenangkan dan bahkan masalah kinerja. </font><font style="vertical-align: inherit;">Ini terutama benar ketika menulis program kompetitif atau multithreaded. </font><font style="vertical-align: inherit;">Tidak mengherankan, banyak bahasa mencoba menyembunyikan pointer dari programmer. </font><font style="vertical-align: inherit;">Namun, jika Anda menulis di Go, Anda tidak bisa lepas dari petunjuk. </font><font style="vertical-align: inherit;">Tanpa pemahaman yang jelas tentang pointer, akan sulit bagi Anda untuk menulis kode yang bersih, sederhana, dan efisien.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbatasan bingkai</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fungsi dilakukan dalam batas bingkai yang menyediakan ruang memori terpisah untuk setiap fungsi terkait. Setiap frame memungkinkan fungsi untuk bekerja dalam konteksnya sendiri, dan juga menyediakan kontrol aliran. Suatu fungsi memiliki akses langsung ke memori di dalam frame-nya melalui sebuah pointer, tetapi akses ke memori di luar frame membutuhkan akses tidak langsung. Agar suatu fungsi dapat mengakses memori di luar bingkainya, memori ini harus digunakan bersamaan dengan fungsi ini. Mekanisme dan batasan yang ditetapkan oleh batas-batas ini harus dipahami dan dipelajari terlebih dahulu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika suatu fungsi dipanggil, transisi antara dua frame terjadi. Kode berpindah dari bingkai fungsi panggilan ke bingkai fungsi yang dipanggil. Jika data diperlukan untuk memanggil fungsi, maka data ini harus ditransfer dari satu frame ke frame lainnya. Transfer data antara dua frame di Go dilakukan "berdasarkan nilai." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keuntungan dari transmisi data “by value” adalah keterbacaan. Nilai yang Anda lihat dalam panggilan fungsi adalah apa yang disalin dan diterima di sisi lain. Itulah mengapa saya menghubungkan "pass by value" dengan WYSIWYG, karena apa yang Anda lihat adalah apa yang Anda dapatkan. Semua ini memungkinkan Anda untuk menulis kode yang tidak menyembunyikan biaya beralih antara dua fungsi. Ini membantu mempertahankan model mental yang baik tentang bagaimana setiap pemanggilan fungsi akan memengaruhi program selama transisi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihatlah program kecil ini yang memanggil fungsi dengan mengirimkan data integer "berdasarkan nilai": </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar 1:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">01</span> <span class="hljs-keyword">package</span> main
<span class="hljs-number">02</span>
<span class="hljs-number">03</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
<span class="hljs-number">04</span>
<span class="hljs-number">05</span>    <span class="hljs-comment">// Declare variable of type int with a value of 10.</span>
<span class="hljs-number">06</span>    count := <span class="hljs-number">10</span>
<span class="hljs-number">07</span>
<span class="hljs-number">08</span>    <span class="hljs-comment">// Display the "value of" and "address of" count.</span>
<span class="hljs-number">09</span>    <span class="hljs-built_in">println</span>(<span class="hljs-string">"count:\tValue Of["</span>, count, <span class="hljs-string">"]\tAddr Of["</span>, &amp;count, <span class="hljs-string">"]"</span>)
<span class="hljs-number">10</span>
<span class="hljs-number">11</span>    <span class="hljs-comment">// Pass the "value of" the count.</span>
<span class="hljs-number">12</span>    increment(count)
<span class="hljs-number">13</span>
<span class="hljs-number">14</span>    <span class="hljs-built_in">println</span>(<span class="hljs-string">"count:\tValue Of["</span>, count, <span class="hljs-string">"]\tAddr Of["</span>, &amp;count, <span class="hljs-string">"]"</span>)
<span class="hljs-number">15</span> }
<span class="hljs-number">16</span>
<span class="hljs-number">17</span> <span class="hljs-comment">//go:noinline</span>
<span class="hljs-number">18</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">increment</span><span class="hljs-params">(inc <span class="hljs-keyword">int</span>)</span></span> {
<span class="hljs-number">19</span>
<span class="hljs-number">20</span>    <span class="hljs-comment">// Increment the "value of" inc.</span>
<span class="hljs-number">21</span>    inc++
<span class="hljs-number">22</span>    <span class="hljs-built_in">println</span>(<span class="hljs-string">"inc:\tValue Of["</span>, inc, <span class="hljs-string">"]\tAddr Of["</span>, &amp;inc, <span class="hljs-string">"]"</span>)
<span class="hljs-number">23</span> }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika program Go Anda diluncurkan, runtime menciptakan goroutine utama untuk mulai mengeksekusi semua kode, termasuk kode di dalam fungsi utama. Gorutin adalah jalur eksekusi yang sesuai dengan utas sistem operasi, yang akhirnya berjalan pada beberapa kernel. Dimulai dengan versi 1.8, setiap goroutine dilengkapi dengan blok awal memori kontinu berukuran 2048 byte, yang membentuk ruang stack. Ukuran tumpukan awal ini telah berubah selama bertahun-tahun dan dapat berubah di masa mendatang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tumpukan ini penting karena memberikan ruang memori fisik untuk batas bingkai yang diberikan ke masing-masing fungsi individu. Pada saat goroutine utama menjalankan fungsi utama pada Listing 1, tumpukan program (pada level yang sangat tinggi) akan terlihat seperti ini: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar 1:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/z4/7w/l0/z47wl0tm16nh5u-gf8u9m0kemba.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada Gambar 1, Anda dapat melihat bahwa bagian dari tumpukan "dibingkai" untuk fungsi utama. </font><font style="vertical-align: inherit;">Bagian ini disebut " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stack frame</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", dan inilah frame yang menunjukkan batas fungsi utama pada stack. </font><font style="vertical-align: inherit;">Frame diatur sebagai bagian dari kode yang dieksekusi ketika fungsi dipanggil. </font><font style="vertical-align: inherit;">Anda juga dapat melihat bahwa memori untuk variabel jumlah dialokasikan pada 0x10429fa4 di dalam bingkai untuk utama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada hal menarik lainnya, diilustrasikan dalam Gambar 1. Semua memori tumpukan di bawah bingkai aktif tidak valid, tetapi memori dari bingkai aktif dan di atas valid. </font><font style="vertical-align: inherit;">Anda perlu memahami batas antara bagian tumpukan yang valid dan tidak valid.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alamat</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Variabel digunakan untuk menetapkan nama ke sel memori tertentu untuk meningkatkan keterbacaan kode dan membantu Anda memahami data apa yang sedang Anda kerjakan. </font><font style="vertical-align: inherit;">Jika Anda memiliki variabel, maka Anda memiliki nilai dalam memori, dan jika Anda memiliki nilai dalam memori, maka itu harus memiliki alamat. </font><font style="vertical-align: inherit;">Pada baris 09, fungsi utama memanggil fungsi println built-in untuk menampilkan "nilai" dan "alamat" dari variabel count. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 2:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">09</span>    <span class="hljs-built_in">println</span>(<span class="hljs-string">"count:\tValue Of["</span>, count, <span class="hljs-string">"]\tAddr Of["</span>, &amp;count, <span class="hljs-string">"]"</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan ampersand "&amp;" untuk mendapatkan alamat lokasi variabel bukanlah hal baru, bahasa lain juga menggunakan operator ini. </font><font style="vertical-align: inherit;">Output dari baris 09 akan terlihat seperti output di bawah ini jika Anda menjalankan kode pada arsitektur 32-bit seperti Go Playground: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 3:</font></font><br>
<br>
<pre><code class="go hljs">count:  Value Of[ <span class="hljs-number">10</span> ]  Addr Of[ <span class="hljs-number">0x10429fa4</span> ]</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Panggilan fungsi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, pada saluran 12, fungsi utama memanggil fungsi kenaikan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 4:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">12</span>    increment(count)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Melakukan panggilan fungsi berarti program harus membuat bagian memori yang baru pada stack. Namun, semuanya sedikit lebih rumit. Agar berhasil menyelesaikan panggilan fungsi, diharapkan bahwa data akan ditransfer melintasi batas bingkai dan ditempatkan dalam bingkai baru selama transisi. Secara khusus, nilai integer diharapkan akan disalin dan dikirim selama panggilan. Anda dapat melihat persyaratan ini dengan melihat deklarasi fungsi kenaikan pada baris 18. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar 5:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">18</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">increment</span><span class="hljs-params">(inc <span class="hljs-keyword">int</span>)</span></span> {</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda melihat lagi pada panggilan ke fungsi kenaikan pada baris 12, Anda akan melihat bahwa kode melewati "nilai" dari jumlah variabel. Nilai ini akan disalin, ditransfer, dan ditempatkan di bingkai baru untuk fungsi kenaikan. Ingat bahwa fungsi kenaikan hanya dapat membaca dan menulis ke memori dalam bingkai sendiri, sehingga diperlukan variabel inc untuk mendapatkan, menyimpan, dan mengakses salinan nilai penghitung yang ditransmisikan sendiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tepat sebelum kode di dalam fungsi increment mulai dijalankan, tumpukan program (pada level yang sangat tinggi) akan terlihat seperti ini: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar 2:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2g/jw/n9/2gjwn96mbhikaxys6ftv3cf4s14.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat melihat bahwa sekarang ada dua frame pada stack - satu untuk main dan satu di bawah untuk increment. </font><font style="vertical-align: inherit;">Di dalam bingkai untuk peningkatan, Anda dapat melihat variabel inc yang berisi nilai 10, yang disalin dan diteruskan selama panggilan fungsi. </font><font style="vertical-align: inherit;">Alamat variabel inc adalah 0x10429f98, dan kurang dalam memori karena frame didorong ke stack, yang hanya detail implementasi yang tidak berarti apa-apa. </font><font style="vertical-align: inherit;">Yang penting adalah bahwa program mengambil nilai hitung dari bingkai untuk utama dan menempatkan salinan nilai ini dalam bingkai untuk meningkat menggunakan variabel inc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sisa kode di dalam increment increment dan menampilkan "value" dan "address" dari variabel inc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 6:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">21</span>    inc++
<span class="hljs-number">22</span>    <span class="hljs-built_in">println</span>(<span class="hljs-string">"inc:\tValue Of["</span>, inc, <span class="hljs-string">"]\tAddr Of["</span>, &amp;inc, <span class="hljs-string">"]"</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Output dari baris 22 di taman bermain akan terlihat seperti ini: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 7:</font></font><br>
<br>
<pre><code class="go hljs">inc:    Value Of[ <span class="hljs-number">11</span> ]  Addr Of[ <span class="hljs-number">0x10429f98</span> ]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginilah bentuk stack setelah mengeksekusi baris kode yang sama: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar 3: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/59/1o/kv/591okvkseze5gjqum4k8hp-qv34.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah mengeksekusi baris 21 dan 22, fungsi increment berakhir dan mengembalikan kontrol ke fungsi utama. </font><font style="vertical-align: inherit;">Kemudian fungsi utama lagi menampilkan "nilai" dan "alamat" dari jumlah variabel lokal pada baris 14. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar 8:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">14</span>    <span class="hljs-built_in">println</span>(<span class="hljs-string">"count:\tValue Of["</span>,count, <span class="hljs-string">"]\tAddr Of["</span>, &amp;count, <span class="hljs-string">"]"</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Output penuh dari program di taman bermain akan terlihat seperti ini: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar 9:</font></font><br>
<br>
<pre><code class="go hljs">count:  Value Of[ <span class="hljs-number">10</span> ]  Addr Of[ <span class="hljs-number">0x10429fa4</span> ]<font></font>
inc:    Value Of[ <span class="hljs-number">11</span> ]  Addr Of[ <span class="hljs-number">0x10429f98</span> ]<font></font>
count:  Value Of[ <span class="hljs-number">10</span> ]  Addr Of[ <span class="hljs-number">0x10429fa4</span> ]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nilai hitungan dalam bingkai untuk main adalah sama sebelum dan sesudah panggilan ke kenaikan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kembali dari fungsi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang sebenarnya terjadi pada memori pada tumpukan ketika fungsi keluar dan kontrol kembali ke fungsi panggilan? Jawaban singkatnya bukanlah apa-apa. Inilah yang tampak seperti tumpukan setelah fungsi kenaikan kembali: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar 4: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qq/ve/-n/qqve-nygmg0jnhsnwrubpchwfky.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tumpukan terlihat persis sama seperti pada Gambar 3, kecuali bahwa bingkai yang terkait dengan fungsi kenaikan sekarang dianggap sebagai memori tidak valid. Ini karena frame untuk main sekarang aktif. Memori yang dibuat untuk fungsi penambahan tetap tidak tersentuh.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Membersihkan bingkai memori dari fungsi pengembalian akan membuang-buang waktu, karena tidak diketahui apakah memori ini akan diperlukan lagi. </font><font style="vertical-align: inherit;">Jadi ingatan tetap seperti itu. </font><font style="vertical-align: inherit;">Selama setiap panggilan fungsi, ketika sebuah frame diambil, memori tumpukan untuk frame ini dihapus. </font><font style="vertical-align: inherit;">Ini dilakukan dengan menginisialisasi nilai-nilai yang sesuai dengan bingkai. </font><font style="vertical-align: inherit;">Karena semua nilai diinisialisasi sebagai "nilai nol", tumpukan dengan benar dibersihkan dengan setiap panggilan fungsi.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berbagi Nilai</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana jika penting untuk fungsi kenaikan untuk bekerja secara langsung dengan variabel jumlah yang ada di dalam bingkai untuk main? </font><font style="vertical-align: inherit;">Di sinilah saatnya untuk pointer. </font><font style="vertical-align: inherit;">Pointer melayani satu tujuan - untuk berbagi nilai dengan suatu fungsi sehingga fungsi tersebut dapat membaca dan menulis nilai ini, bahkan jika nilai tersebut tidak ada langsung di dalam bingkai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda tidak merasa perlu "membagikan" nilainya, maka Anda tidak perlu menggunakan pointer. </font><font style="vertical-align: inherit;">Saat mempelajari petunjuk, penting untuk berpikir bahwa menggunakan kamus yang bersih, bukan operator atau sintaksis. </font><font style="vertical-align: inherit;">Ingat bahwa pointer dimaksudkan untuk dibagikan dan ketika membaca kode, ganti operator &amp; dengan frasa “berbagi”.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenis Pointer</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk setiap jenis yang Anda nyatakan, atau yang dideklarasikan langsung oleh bahasa itu sendiri, Anda mendapatkan jenis penunjuk gratis yang dapat Anda gunakan untuk berbagi. Sudah ada tipe built-in yang disebut int, jadi ada tipe pointer bernama * int. Jika Anda mendeklarasikan jenis bernama Pengguna, Anda mendapatkan jenis penunjuk bernama * Pengguna gratis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua jenis pointer memiliki dua karakteristik yang identik. Pertama, mereka mulai dengan karakter *. Kedua, mereka semua memiliki ukuran yang sama dalam memori dan representasi menempati 4 atau 8 byte yang mewakili alamat. Pada arsitektur 32-bit (misalnya, di taman bermain) pointer membutuhkan 4 byte memori, dan pada arsitektur 64-bit (misalnya, komputer Anda) pointer membutuhkan 8 byte memori. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam spesifikasi, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tipe penunjuk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dianggap </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tipe literal</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang berarti mereka adalah tipe tanpa nama yang terdiri dari tipe yang ada.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Akses memori tidak langsung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihatlah program kecil ini yang membuat panggilan fungsi, melewati alamat "berdasarkan nilai". </font><font style="vertical-align: inherit;">Ini akan membagi variabel jumlah dari bingkai tumpukan utama dengan fungsi kenaikan: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 10:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">01</span> <span class="hljs-keyword">package</span> main
<span class="hljs-number">02</span>
<span class="hljs-number">03</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
<span class="hljs-number">04</span>
<span class="hljs-number">05</span>    <span class="hljs-comment">// Declare variable of type int with a value of 10.</span>
<span class="hljs-number">06</span>    count := <span class="hljs-number">10</span>
<span class="hljs-number">07</span>
<span class="hljs-number">08</span>    <span class="hljs-comment">// Display the "value of" and "address of" count.</span>
<span class="hljs-number">09</span>    <span class="hljs-built_in">println</span>(<span class="hljs-string">"count:\tValue Of["</span>, count, <span class="hljs-string">"]\t\tAddr Of["</span>, &amp;count, <span class="hljs-string">"]"</span>)
<span class="hljs-number">10</span>
<span class="hljs-number">11</span>    <span class="hljs-comment">// Pass the "address of" count.</span>
<span class="hljs-number">12</span>    increment(&amp;count)
<span class="hljs-number">13</span>
<span class="hljs-number">14</span>    <span class="hljs-built_in">println</span>(<span class="hljs-string">"count:\tValue Of["</span>, count, <span class="hljs-string">"]\t\tAddr Of["</span>, &amp;count, <span class="hljs-string">"]"</span>)
<span class="hljs-number">15</span> }
<span class="hljs-number">16</span>
<span class="hljs-number">17</span> <span class="hljs-comment">//go:noinline</span>
<span class="hljs-number">18</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">increment</span><span class="hljs-params">(inc *<span class="hljs-keyword">int</span>)</span></span> {
<span class="hljs-number">19</span>
<span class="hljs-number">20</span>    <span class="hljs-comment">// Increment the "value of" count that the "pointer points to". (dereferencing)</span>
<span class="hljs-number">21</span>    *inc++
<span class="hljs-number">22</span>    <span class="hljs-built_in">println</span>(<span class="hljs-string">"inc:\tValue Of["</span>, inc, <span class="hljs-string">"]\tAddr Of["</span>, &amp;inc, <span class="hljs-string">"]\tValue Points To["</span>, *inc, <span class="hljs-string">"]"</span>)
<span class="hljs-number">23</span> }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tiga perubahan menarik dilakukan pada program aslinya. </font><font style="vertical-align: inherit;">Perubahan pertama ada di baris 12: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 11:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">12</span>    increment(&amp;count)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kali ini, pada baris 12, kode tidak menyalin dan meneruskan "nilai" ke variabel jumlah, tetapi meneruskan "alamat" alih-alih variabel jumlah. Sekarang Anda dapat mengatakan: "Saya berbagi" jumlah variabel dengan kenaikan fungsi. Inilah yang dikatakan operator &amp; - “bagikan.” </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pahami bahwa ini masih "lewat nilai," dan satu-satunya perbedaan adalah bahwa nilai yang Anda berikan adalah alamat, bukan bilangan bulat. Alamat juga merupakan nilai; ini adalah apa yang disalin dan melewati batas bingkai untuk memanggil fungsi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena nilai alamat disalin dan diteruskan, Anda memerlukan variabel di dalam bingkai kenaikan untuk mendapatkan dan menyimpan alamat integer ini. Deklarasi variabel pointer integer ada di baris 18. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar 12:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">18</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">increment</span><span class="hljs-params">(inc *<span class="hljs-keyword">int</span>)</span></span> {</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda melewati alamat nilai tipe Pengguna, maka variabel tersebut harus dinyatakan sebagai * Pengguna. Terlepas dari kenyataan bahwa semua variabel pointer menyimpan nilai alamat, mereka tidak dapat mengirimkan alamat apa pun, hanya alamat yang terkait dengan jenis pointer. Prinsip dasar berbagi nilai adalah bahwa fungsi penerima harus membaca atau menulis ke nilai itu. Anda memerlukan informasi tentang jenis nilai apa pun untuk membaca dan menulisnya. Compiler akan memastikan bahwa hanya nilai-nilai yang terkait dengan tipe pointer yang benar yang digunakan dengan fungsi ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beginilah bentuk stack setelah memanggil fungsi increment: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar 5:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uk/ak/zj/ukakzj1mpr_9m3thjmv2i04e_hw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar 5 menunjukkan seperti apa tumpukan itu ketika "lewat nilai" dilakukan dengan menggunakan alamat sebagai nilainya. Variabel pointer di dalam frame untuk fungsi increment sekarang menunjuk ke variabel count, yang terletak di dalam frame untuk main. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, menggunakan variabel pointer, fungsi tersebut dapat melakukan pembacaan tidak langsung dan mengubah operasi untuk variabel jumlah yang terletak di dalam bingkai untuk main. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 13:</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-number">21</span>    *inc++</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kali ini, karakter * bertindak sebagai operator dan diterapkan ke variabel pointer. Menggunakan * sebagai operator berarti "nilai yang ditunjuk oleh pointer." Variabel pointer menyediakan akses tidak langsung ke memori di luar bingkai fungsi yang menggunakannya. Kadang-kadang membaca atau menulis tidak langsung ini disebut pointer dereferencing. Fungsi kenaikan masih perlu memiliki variabel pointer di dalam bingkai, yang dapat langsung dibaca untuk melakukan akses tidak langsung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar 6 menunjukkan seperti apa tumpukan setelah baris 21. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar 6: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rn/ph/vi/rnphvi1x69rrhspljslmvxilauq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut ini adalah hasil akhir dari program ini: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listing 14:</font></font><br>
<br>
<pre><code class="go hljs">count:  Value Of[ <span class="hljs-number">10</span> ]              Addr Of[ <span class="hljs-number">0x10429fa4</span> ]<font></font>
inc:    Value Of[ <span class="hljs-number">0x10429fa4</span> ]      Addr Of[ <span class="hljs-number">0x10429f98</span> ]   Value Points To[ <span class="hljs-number">11</span> ]<font></font>
count:  Value Of[ <span class="hljs-number">11</span> ]              Addr Of[ <span class="hljs-number">0x10429fa4</span> ]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin memperhatikan bahwa “nilai” dari variabel penunjuk inc cocok dengan “alamat” variabel penghitung. </font><font style="vertical-align: inherit;">Ini membangun hubungan berbagi yang memungkinkan akses tidak langsung ke memori di luar bingkai. </font><font style="vertical-align: inherit;">Segera setelah fungsi kenaikan menulis melalui pointer, perubahan akan terlihat ke fungsi utama ketika kontrol dikembalikan ke sana.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variabel pointer tidak spesial</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Variabel pointer tidak spesial karena mereka adalah variabel yang sama dengan variabel lainnya. </font><font style="vertical-align: inherit;">Mereka memiliki alokasi memori, dan mengandung makna. </font><font style="vertical-align: inherit;">Kebetulan bahwa semua variabel pointer, terlepas dari jenis nilai yang mereka dapat tunjukkan, selalu memiliki ukuran dan presentasi yang sama. </font><font style="vertical-align: inherit;">Yang dapat membingungkan adalah bahwa karakter * bertindak sebagai operator di dalam kode dan digunakan untuk mendeklarasikan tipe pointer. </font><font style="vertical-align: inherit;">Jika Anda dapat membedakan deklarasi tipe dari operasi pointer, ini dapat membantu menghilangkan beberapa kebingungan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Posting ini menjelaskan tujuan pointer, operasi stack, dan mekanisme pointer di Go. </font><font style="vertical-align: inherit;">Ini adalah langkah pertama dalam memahami mekanisme, prinsip desain, dan teknik penggunaan yang diperlukan untuk menulis kode yang koheren dan mudah dibaca. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada akhirnya, inilah yang Anda pelajari:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fungsi dilakukan dalam batas bingkai, yang menyediakan ruang memori terpisah untuk setiap fungsi yang sesuai.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketika suatu fungsi dipanggil, transisi antara dua frame terjadi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keuntungan dari transmisi data “by value” adalah keterbacaan.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tumpukan ini penting karena memberikan ruang memori fisik untuk batas bingkai yang diberikan ke masing-masing fungsi individu.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Semua memori tumpukan di bawah bingkai aktif tidak valid, tetapi memori dari bingkai aktif dan di atas valid.</font></font></li>
<li>   ,         .</li>
<li>    ,   ,      .</li>
<li>    —    ,        ,         .</li>
<li>   ,  ,   ,     ,      .</li>
<li>-          ,   .</li>
<li>-   - ,      ,     .     ,    .</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id496832/index.html">Tur foto: apa yang mereka lakukan di laboratorium nanofotonik hibrida dan optoelektronika dari Institut Fisika Baru ITMO</a></li>
<li><a href="../id496836/index.html">QSerializer: solusi untuk serialisasi JSON / XML sederhana</a></li>
<li><a href="../id496838/index.html">Metodologi penyebaran proyek yang digunakan oleh Slack</a></li>
<li><a href="../id496840/index.html">Musk percaya bahwa 12 ribu satelit tidak akan mengganggu para astronom. Pendapatnya tidak konsisten dengan model</a></li>
<li><a href="../id496842/index.html">Model epidemi sederhana dengan alat Python dasar</a></li>
<li><a href="../id496848/index.html">Intisari materi menarik untuk pengembang seluler # 340 (pada 6 - 12 April)</a></li>
<li><a href="../id496850/index.html">Plugin Maven untuk JPackage dari Java 14</a></li>
<li><a href="../id496852/index.html">Penyortiran halus</a></li>
<li><a href="../id496856/index.html">Rumah pintar tanpa remote, tetapi dengan kubus</a></li>
<li><a href="../id496858/index.html">Berita FOSS No. 11 - ulasan perangkat lunak bebas dan sumber terbuka untuk 6-12 April 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>