<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•° üî£ ‚ôëÔ∏è Front work on the backend development of the largest portals on open source software: sharing experience üè¥Û†ÅßÛ†Å¢Û†Å≥Û†Å£Û†Å¥Û†Åø üåû üëã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the areas of the Digital Design group of companies is the creation of portal solutions that provide end users with a large set of custom servic...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Front work on the backend development of the largest portals on open source software: sharing experience</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digdes/blog/492168/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One of the areas of the Digital Design group of companies is the creation of portal solutions that provide end users with a large set of custom services within a single site. Services can be different: news, forums, document repositories, statistics, events, etc. ‚Äî‚Äì this is what we call the portal. In this article I would like to tell how the team and I create portal solutions: what we use, what advantages and disadvantages of our implementation are possible.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kd/zc/ec/kdzcecf50s32rayfvhbfipze8ai.png"><br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In general, the idea of ‚Äã‚Äãa portal with your own hands did not arise by chance. Recently, Russia has introduced restrictions on the use of proprietary software, which primarily affected large IT companies working in tight symbiosis with the public sector. Our experience working on portals in the external and internal environment of the largest employers in Russia and abroad allowed us to evaluate the best practices and standardize many things. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, the site of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rosstandart</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is in the public domain, it has a large flow of visitors, so we searched and created solutions that will work stably under conditions of instant high load. It is also necessary to consider that many portal elements need to be indexed in search engines (from the point of view of a self-written portal solution it is not as simple and obvious as it seems), but we did not use ready-made solutions and CMS (since not everyone could handle tasks set by the customer). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main interest of the implementation for us as developers is that each portal service is a self-contained unit that can exist without knowing anything about neighboring services. Due to this, they can be developed, updated and scaled independently of each other.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This article is the first part of a series of articles: it describes how everything looks from the backend side, what technologies we use, how the architecture works, what difficulties and advantages the approach we have implemented has. </font><font style="vertical-align: inherit;">The following articles will also describe the frontend development side. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So, let's begin.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecture</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main goal was to develop a platform based on open-source solutions, which is easy to scale and maintain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This platform has two deployment options at the customer‚Äôs facilities: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) The first option requires more capacities, but allows you to easily scale and support multiple systems at the same time due to microservice architecture. There are many ways to implement it, but we chose the Spring Cloud (Gateway, Discovery) framework along with Spring Boot (based on experience, our Java architect decided that this technology stack would be best suited for these tasks). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hg/po/8k/hgpo8kzivz1uqazqjbqfbt600_c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) The second option is modular. It is considered if it is planned to support only one system (portal). This option is good because the entire infrastructure can be deployed on one or two servers.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zz/kd/sd/zzkdsdvf-x2tcnkz97h54o6ibuq.jpeg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Used technologies</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Open JDK 8 </font></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wildfly</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> application server </font><b><font style="vertical-align: inherit;">- DBMS. </font></b><font style="vertical-align: inherit;">All modules are implemented on the basis of ORM technologies, therefore, in theory, it will make it easy to migrate to another DBMS. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ExoPlatform</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a portal platform that allows you to combine various modules in a single web application, manage their location on the page, administer access rights and much more. </font><font style="vertical-align: inherit;">Community version can be downloaded on the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">official website</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but only for Tomcat application server. </font><font style="vertical-align: inherit;">You can take the sources and modify the assembly of the platform for Wildfly. </font><font style="vertical-align: inherit;">Holivar in this article on the topic: "why did not choose Liferay" will not arrange. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modules</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- these are the so-called portlets, they are executed in the portlet container and are responsible for drawing their area on the page. Portlets are being developed according to the JSR specification ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSR 362</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Framework</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is the basis of all applications developed in Digital Design from the point of view of Java development ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://spring.io/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). The framework has many modules for implementing various tasks (Spring MVC, Spring Mail, Spring Data (JPA), Spring JMS and much more). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Cloud</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - the basis for the development of microservices (Discovery, Gateway, Ribbon, Config Server). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keycloak</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- authorization and access control server (IDM \ IAM). The server supports several authorization protocols (OpenId, SAML, Oauth, Kerberos). This allows you to easily manage authorization strategies, configure access rights and ensure security of access to system resources. (https://www.keycloak.org/). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kurento</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a media server. It was used to develop video and audio broadcasts between users using the WebRTC protocol (https://www.kurento.org/). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elasticsearch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a full-text search server. To search the portal, its own crawler was developed, which collected data from the portal for indexing, as well as a parser for extracting the contents of files. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swagger</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a self-documenting guide for interacting with the Rest-API. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jasperepors</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Reporting framework. </font><font style="vertical-align: inherit;">JasperStudio is used to build report templates. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graylog</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a server for collecting logs from applications. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All modules are built using Maven and CI \ CD (Jenkins).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modules and Services</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Microservices that ensure the functioning of modules include:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">File management service</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a microservice that allows you to store data in a single storage, analyze the contents, convert files to other formats for playback or display on the web interface, download and attach to other systems. </font><font style="vertical-align: inherit;">As well as co-editing files and their versioning.</font></font></li>
<li><b>  </b> ‚Äì ,        .  ,            ,   Elasticseach (  ,    ..).      Apache Tika,           .</li>
<li><b> </b> ‚Äì ,        -   \-   WebRTC   - Kurento.</li>
<li><b> </b> ‚Äì ,             .    ElasticSearch,       JasperReports.</li>
<li><b> \</b> ‚Äì ,          .</li>
<li><b>  </b> ‚Äì ,           ,    ,        .</li>
<li><b> -</b> ‚Äì ,    Workflow      BPMN.      JBPM.</li>
</ul><br>
<h4>  </h4><br>
<br>
<ul>
<li><b>WCM </b>‚Äì      .</li>
<li><b> </b> ‚Äì  , ,    .</li>
<li><b> </b>‚Äì   .</li>
<li><b> </b>‚Äì     .</li>
<li><b> </b> ‚Äì    .</li>
<li><b> </b>‚Äì          .</li>
<li><b> </b> ‚Äî -           c     .</li>
<li><b> </b>‚Äì   -.   , ,    .</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Organizational structure</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - various directories and reports.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Administrative module</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Management of access rights to the portal, sites, pages, portraits and display settings for portlets, pages and virtual portals.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Navigation</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - allows you to create custom navigation on the portal and portal nodes.</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Surveys and tests</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a large module with the ability to create tests and surveys of various types (from a single choice, to questions-loops and differentials). </font><font style="vertical-align: inherit;">Designed for testing, training and conducting surveys among portal users.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And there are many other specific and not very modules with business processes for specific customers. </font><font style="vertical-align: inherit;">There are about 30 of them.</font></font><br>
 <br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Difficulties and advantages. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Benefits of this solution.</font></font></h4><br>
<ul>
<li>         ,           .</li>
<li>      ,     ,    ,       .</li>
<li>         JNDI,              .           .</li>
<li>       ,       .</li>
<li>        , ,  .</li>
<li>          .</li>
<li> ,       ,    open-source ,   .</li>
<li>             .</li>
<li>    open-source ,        .</li>
</ul><br>
<h4>,    </h4><br>
<ul>
<li>   API    ‚Äì         .</li>
<li>      ‚Äì   ABAC .</li>
<li>  ‚Äì   -     .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Centralized data caching - a centralized cache server is planned to be introduced (this is necessary for centralized collection of logs for the work of dev test prod stands to correctly monitor the stability and correctness of our ecosystem).</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This set of technologies, coupled with the chosen architectural solution, allows us to raise the issue of developing portal, intranet and external solutions "on the conveyor": do it quickly, efficiently, with different settings and use the best practices. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And in the next article we will tell how our frontend is arranged: about the assembly and how we achieved great reuse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Continued very soon ...</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en492154/index.html">Launch of ExoMars delayed to the next launch window in 2022</a></li>
<li><a href="../en492156/index.html">Subtracted. Want. Do</a></li>
<li><a href="../en492162/index.html">Eye Interfaces. Report in Yandex</a></li>
<li><a href="../en492164/index.html">Gateway to the sky, or the city of the future</a></li>
<li><a href="../en492166/index.html">Widgets on Android. A rare feature to figure out</a></li>
<li><a href="../en492172/index.html">Thin backup of Linux file systems. How to create working copies of a three-terabyte MySQL DBMS in 20 seconds</a></li>
<li><a href="../en492174/index.html">Wireless DIY Soil Moisture Monitor</a></li>
<li><a href="../en492178/index.html">A seven-thousand-pixel path: evolution of monitor resolutions and our requirements</a></li>
<li><a href="../en492182/index.html">Information Security Fundamentals at Microsoft Teams</a></li>
<li><a href="../en492184/index.html">Forbes talked with market representatives about the mandatory preinstallation of Russian software. We selected the main points</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>