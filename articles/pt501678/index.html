<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👎🏽 ✋ ➗ GUI universal ~ = fim da miséria 🍭 🈲 🎖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Para mim, a GUI ideal é um aplicativo que não requer programação, design, manutenção e é capaz de funcionar igualmente com qualquer idioma e em qualqu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>GUI universal ~ = fim da miséria</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501678/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para mim, a GUI ideal é um aplicativo que não requer programação, design, manutenção e é capaz de funcionar igualmente com qualquer idioma e em qualquer plataforma sem ajustes. </font><font style="vertical-align: inherit;">É possível em nossa vida tentarmos descobrir isso.</font></font><br>
<br>
<a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">É fácil aprender algo individualmente com Vue / React, JavaFX, Python PyQt, ... mas obter dados e interagir com o zoológico de software de uma maneira simples e elegante, sem pensar no sistema operacional do usuário / navegadores / plataformas, é uma tarefa não resolvida para essas ferramentas. Não quero entrar na nova estrutura (até a antiga, esquecida), alterando a linguagem de programação, varrendo o ancinho e entupindo minha cabeça com lixo. Quero programar exatamente minha tarefa, sem me distrair com a luta com todos os tipos de estruturas de GUI. E eu encontrei uma solução para mim. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como um protocolo de troca, usaremos o Json como o formato principal em termos de popularidade / compreensibilidade / legibilidade / suporte para todas as linguagens de programação em um grau ou outro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O servidor envia dados Json, segundo os quais a nossa GUI do aplicativo deve criar uma imagem que satisfaça as especificações de uma bela GUI. </font><font style="vertical-align: inherit;">Hoje, o Google com seu design de materiais é o padrão, então aceite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os requisitos para uma GUI moderna incluem a presença de elementos padrão, como botões, campos de entrada, tabelas, etc. Vamos estimar como usar o conjunto mínimo de convenções para informar à GUI que precisamos de certos elementos na tela. </font><font style="vertical-align: inherit;">Aqui estão os principais:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Botão sem estado {'name': 'Push me'}. </font><font style="vertical-align: inherit;">Se o elemento contiver apenas um nome, será um botão.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O campo de entrada é {'name': 'Edit me', 'value': ''} porque o valor do tipo é uma sequência.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> O botão do comutador {'name': 'My state', 'value': false} porque o tipo false é booleano.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Selecione na lista {'name': 'Alternar algo', valor: 'choice1', options = ['choice1', 'choice2', 'choice3']}</font></font></li>
<li>  {‘name’:’Image, ‘url'’: ’..’, ‘width’: .., ‘height’:… }</li>
<li>  {‘name’:’My table’, 'headers'=[‘Name’, ‘Synonym’], rows = [<br>
 [‘young’, ‘youthful’],<br>
 [‘small’, ‘ meager’],<br>
 ...]<br>
}<br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para personalização, você pode definir o tipo de elemento como {type: 'ButtonSwitcher'} se o tipo selecionado automaticamente pelo JSON não for adequado para você. </font><font style="vertical-align: inherit;">Isso é possível quando o mesmo JSON pode ser exibido de mais de uma maneira. </font><font style="vertical-align: inherit;">Por exemplo, 'Selecionar de uma lista' pode ser representado como um campo de entrada com uma lista suspensa ou também pode ser um conjunto horizontal de botões, um dos quais está ativo e corresponde ao valor atual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com um pequeno número de opções, faz sentido usar automaticamente a opção de botão, com um número grande (mais de 3) - um campo de seleção de entrada. </font><font style="vertical-align: inherit;">Nossa própria GUI escolhe a melhor maneira de renderizar, mas se você realmente precisar dela - digite: ... para ajudar. </font><font style="vertical-align: inherit;">Normalmente, o tipo não é necessário e o designer do carro deve lidar sozinho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos completar a imagem em detalhes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se o nome não deve ser exibido na tela, ele deve começar com _;</font></font></li>
<li>   -  ,  ‘icon’: ‘   Material Design ’; push -     {‘name’: ‘_Check’, ‘icon’: ‘check’}</li>
<li>     , Viewers,    ,   ‘colors’, ‘params’,…           //  .   —   ,     . </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Para o agrupamento lógico de elementos, introduzimos o conceito de um bloco que agrupa elementos logicamente relacionados em um bloco visual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
{'name': 'Block 1', 'elems': [{'name': '_Check', 'icon': 'check'}, ...]} </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Dentro do bloco, todos os elementos devem ter nomes exclusivos, porque são id . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Normalmente, os blocos são construídos horizontalmente, se eles não podem caber em tudo na tela (eles iniciaram a GUI do aplicativo em um celular, por exemplo), o designer de automóveis os oculta, mas adiciona ícones à barra de ferramentas para abri-los com um toque. Isso oferece a opção de trabalhar com uma GUI complexa, mesmo em telas pequenas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O nível superior da descrição é Tela. Parece que {'name': 'Screan', bloqueia: [..], menu: [{'name': 'Screen', 'icon': ..,}, ..], 'toolbar': [JSON set - elementos (botões, campos, o que for)]}</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adicione detalhes de implementação para a uniGUI condicional que suporta nosso protocolo JSON. É um processo separado que se comunica com o servidor de dados Websocket e fornece a exibição de seus dados com relatórios subsequentes de todas as atualizações desses dados importantes para o servidor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao se conectar ao servidor, o uniGUI espera receber a tela. Depois de recebê-lo, ele projeta e desenha as informações resultantes de uma maneira ideal para a tela atual do usuário e aguarda uma reação do usuário e do servidor. A partir da imagem de dados construída, o servidor recebe um fluxo de mensagens JSON que descrevem completamente o que o usuário fez. Eles têm a forma ['Block', 'Elem', 'tipo de ação', 'value'], onde 'Block' e 'Elem' são os nomes do bloco e do elemento, value é o valor do evento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O servidor pode aceitar a alteração ou revertê-la enviando uma janela de informações sobre a discrepância. Ele pode gerar uma caixa de diálogo, descrita como um bloco, e possui adicional. o parâmetro 'buttons', que descreve os botões na caixa de diálogo. O cliente exibe instantaneamente os dados atuais do servidor e suas alterações. Apenas objetos alterados pelo servidor são enviados.Para receber eventos e garantir seu processamento, criaremos uma camada Websocket (framework), que converterá automaticamente as mensagens em chamadas para manipuladores que estão associados aos nossos dados (objetos).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toda a mágica do servidor se resume ao fato de que nossos dados exibidos devem ser vinculados à camada de forma que, sem qualquer codificação, garanta sua tradução automática em JSON e chame notificações de retorno da atividade do usuário. Como depende dos recursos de um idioma específico, para cada idioma a camada pode ter opções diferentes, tanto arquitetural quanto especificamente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, em um caso, a camada possui uma pasta de capturas de tela, cada um dos módulos nos quais tem uma descrição de uma tela no Python. Na inicialização, a camada lê as telas, fornece ao usuário uma prioridade global = 0. Todos os dados são transmitidos automaticamente usando o jsonpickle. Elementos complexos têm sua própria "inteligência", removendo o cuidado dos detalhes do programador. Por exemplo, uma tabela recebe um conjunto de linhas, nas quais, por padrão, a linha de identificação pode estar ausente quando o número de dados na linha == o número de elementos nos cabeçalhos. Nesse caso, quando o usuário seleciona uma linha ou edita seu conteúdo, o servidor envia a identificação para o índice na linha como id ee. Se o número de dados na linha for um a mais do que nos cabeçalhos, o último elemento nas linhas será interpretado como id e será enviado para o servidor. Essa automação simplifica muito a vida em que você não precisa de detalhes específicos,mas se você precisar de repente, ele estará disponível da maneira menos trabalhosa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A tarefa de fornecer tradução automática em JSON, seguindo um formato que ocupa uma ou duas páginas, é completamente solucionável em qualquer idioma (espero que sim). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para não discutir a aplicabilidade dessa abordagem para aplicativos complexos, abaixo estão as capturas de tela como as descritas pela uniGUI, escritas em flutter. A escolha recaiu sobre ele em várias plataformas e a falta de camadas adicionais, como JS / chrome. A vibração negativa pode ser um suporte de área de trabalho repugnante e baixa qualidade do código da camada superior (elementos da GUI), uma arquitetura desagradável para atualizações de pontos e gerenciamento de elementos como dados, que, no entanto, são tratados. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4u/9h/2z/4u9h2zlhr0bzbvhbugz5obt8y6a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A GUI do aplicativo de fluxo de mensagens -&gt; servidor é mais ou menos assim: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [Glossário, Termos, =, 658] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [_Detalhes, Links, @, @Folliculitis] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [_Detalhes, Links, @, @Adolescent]</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [barra de ferramentas, _Back, =, _Back] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [barra de ferramentas, _Forward, =, _Forward] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [barra de ferramentas, _Back, =, _Back] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [_Detalhes, _Status, =, Virtual] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [_Detalhes, _Status </font><font style="vertical-align: inherit;">, =, Virtual] </font><font style="vertical-align: inherit;">flutter: [_Detalhes, _Status , =, Stable] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [_Detalhes, Links, @,</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Inflamação</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [_Details, _Status, =, Virtual] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [_Details, _Status, =, Stable] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [barra de ferramentas, _Back, =, _Back] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
flutter: [_Details, Links, @, @Folliculitis] </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Haverá desacelere essa GUI ao aguardar eventos do servidor. Não, porque a GUI funciona no modo de notificação do servidor, reagindo a todas as ações do usuário como uma GUI local normal. Por padrão, ele considera o silêncio do servidor nas ações do usuário como OK. Ao mudar de tela, fica claro que sua descrição deve vir. Pode haver um atraso em comparação com a GUI incorporada do aplicativo típico.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total. </font><font style="vertical-align: inherit;">Hoje, é possível, nas ferramentas atuais, criar uma GUI que remova 90% do código de serviço padrão padrão e não se preocupe onde e como ele funcionará. </font><font style="vertical-align: inherit;">Pelo menos para aplicativos de negócios / ciências. </font><font style="vertical-align: inherit;">Este artigo é uma prova de conceito de que a criação de um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">navegador de aplicativos condicional</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> não </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">é</font></a><font style="vertical-align: inherit;"> apenas possível, mas necessária.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt501668/index.html">Fornecer comunicações de objetos e ferramentas em movimento para aumentar sua confiabilidade</a></li>
<li><a href="../pt501670/index.html">Quanto custa a vida ou US $ 2,1 milhões por injeção: uma maravilhosa terapia genética</a></li>
<li><a href="../pt501672/index.html">Como os mods para jogos Unity são desenvolvidos. Parte 2: escrevendo seu mod</a></li>
<li><a href="../pt501674/index.html">Angular: torne o código legível para o back-end. Bônus: troca de APIs e cache de consultas</a></li>
<li><a href="../pt501676/index.html">Compare operadores c # ?: vs if-else vs switch</a></li>
<li><a href="../pt501680/index.html">Algumas dicas sobre como acelerar a montagem de imagens do Docker. Por exemplo, até 30 segundos</a></li>
<li><a href="../pt501684/index.html">Claustro -> fácil gerenciamento de cluster OTP</a></li>
<li><a href="../pt501688/index.html">Desempenho adicional de SSR com o servidor Nuxt fullstack (parte 2)</a></li>
<li><a href="../pt501690/index.html">Quem é um engenheiro de DevOps, o que ele faz, quanto ganha e como se tornar um</a></li>
<li><a href="../pt501696/index.html">Visão geral do Postgresql do painel para postgres_exporter (Prometheus)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>