<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🚪 🔉 💘 Interaksi dengan NIDD melalui SCEF menggunakan utilitas Postman. Tur singkat SCEF dan fitur-fiturnya 💃🏼 🐙 🏤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Artikel ini akan memungkinkan mereka yang baru memulai pengembangan mereka atau sudah menerapkan teknologi NB-IoT untuk mendapatkan ide tentang bagaim...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Interaksi dengan NIDD melalui SCEF menggunakan utilitas Postman. Tur singkat SCEF dan fitur-fiturnya</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489608/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel ini akan memungkinkan mereka yang baru memulai pengembangan mereka atau sudah menerapkan teknologi NB-IoT untuk mendapatkan ide tentang bagaimana berinteraksi dari jarak jauh dengan perangkat NB-IoT.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hj/ax/eq/hjaxeqtz5llcdmfzbwcv6zosici.png" alt="gambar"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ulasan singkat</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NB-IoT dengan mudah menginjak tumit 2G dan telah memantapkan dirinya sebagai standar hemat energi untuk komunikasi seluler, yang di masa mendatang akan dapat menekan 2G, yang telah memperkuat posisinya. Alasan untuk ini adalah kemampuan untuk secara fleksibel mendekati masalah konsumsi energi dari salah satu bagian yang paling memakan perangkat - pemancar radio. Jika Anda tidak merinci lebih dalam, maka bersama dengan NB-IoT, kami memiliki kesempatan untuk secara fleksibel mengkonfigurasi mode operasi perangkat dengan menyesuaikan jadwal koneksi perangkat dan interaksi perangkat dengan server di Internet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sejalan dengan ini, jumlah perangkat pelanggan yang terhubung secara bersamaan ke satu sel meningkat secara signifikan, serta biaya operator seluler untuk mempertahankan operabilitas komunikasi ini sendiri.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diasumsikan bahwa pembaca memiliki perkiraan pemahaman tentang teknologi NB-IoT dan ada pengalaman interaksi yang minimal.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel ini diperbarui dan diperbarui secara berkala.</font></font></blockquote><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesulitan dalam jaringan NB-IoT</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bersama dengan kemampuan untuk mengontrol pemancar radio dan efisiensi energi yang tinggi, masalah pengiriman data dalam arah dari server ke modul (perangkat) telah datang. Alasannya adalah memungkinkan untuk menyediakan ratusan ribu perangkat dengan alamat IP putih, tetapi ini memerlukan sejumlah besar overhead dan mengurangi keandalan keseluruhan jaringan karena kerumitannya. Modul menerima alamat untuk NAT operator dan sulit bagi operator untuk menerjemahkannya "keluar" karena banyaknya perangkat. Sebagai contoh: 100 ribu perangkat adalah jumlah alamat IP yang sama dan dalam kerangka IPv4 sepertinya tidak mungkin untuk menerapkan ini. Transisi ke IPv6 dapat menyelesaikan masalah ini, tetapi Anda masih harus membayar untuk alamat "putih" perangkat di jaringan, yang secara signifikan akan mempengaruhi kantong klien korporat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artinya, dalam kasus umum, ternyata perangkat hanya dapat bekerja dalam mode satu arah dengan mentransmisikan data ke server tanpa kemungkinan menerima data dari server, karena server praktis tidak sadar ketika perangkat pertama kali berhubungan. </font><font style="vertical-align: inherit;">Atau, gunakan rata-rata tidak lebih dari lima menit setelah koneksi antara perangkat dan server untuk mentransfer data dari server ke perangkat dibuat.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NIDD (Pengiriman Data Non-IP) - mengapa ini diperlukan?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika bekerja dengan jaringan NB-IoT, sangat sulit untuk beralih ke perangkat untuk mengirimkan perintah atau data tertentu.Untuk menyelesaikan masalah ini, sebuah mekanisme untuk mengoptimalkan transfer sejumlah kecil data, Pengiriman Data Non-IP (NIDD), diciptakan. </font><font style="vertical-align: inherit;">Mekanisme ini mengurangi ukuran keseluruhan dari pesan yang dikirimkan dengan mengurangi header. </font><font style="vertical-align: inherit;">Ini, pada gilirannya, secara positif mempengaruhi karakteristik perangkat: ini mengurangi konsumsi daya dan meningkatkan otonomi (usia baterai). </font><font style="vertical-align: inherit;">Akibatnya, penolakan dukungan IP mengarah ke perangkat yang lebih murah, mengurangi waktu pengembangan, meningkatkan daya saing di pasar perangkat IoT, dll.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SCEF (Fungsi Paparan Kemampuan Layanan) - hadiah untuk pengguna</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEF adalah elemen fungsional dari jaringan yang pertama kali muncul dan 3GPP Release 13, ditempatkan di sisi operator seluler dan menyediakan saluran komunikasi yang aman antara SCS / AS (Server Kemampuan Layanan / Server Aplikasi) dan perangkat NB-IoT. SCEF menyediakan saluran komunikasi saat berkomunikasi dengan perangkat melalui NIDD dan menyediakan akses ke kemampuan / layanan jaringan tambahan dari jaringan NB-IoT melalui antarmuka pemrograman aplikasi tunggal (dari deskripsi T8 API). Dalam 3GPP Release 13, hanya mekanisme SCEF untuk berinteraksi dengan antarmuka jaringan seluler yang distandarisasi. Dengan demikian, beban jaringan dioptimalkan, interaksi dengan perangkat disederhanakan, algoritma perangkat itu sendiri disederhanakan.SCEF juga memenuhi persyaratan tinggi untuk keamanan transmisi data dan pemenuhan persyaratan untuk mengkonfirmasi transfer data yang berhasil di kedua arah.</font></font><br>
<br>
<h3>    </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SCEF memungkinkan Anda untuk abstrak dari sistem interaksi yang kompleks dengan perangkat NB-IoT, termasuk ketika yang terakhir dalam mode eDRX atau PSM dan tidak tersedia untuk transfer data ke arah perangkat server-&gt;. Ketika perangkat telah menerima pendaftaran dan "setuju" dengan jaringan operator jaringan tentang jadwal komunikasi, menggunakan antarmuka yang sederhana, Anda dapat mentransfer data ke perangkat dan menerima data darinya, mengelola "berlangganan" perangkat Anda dan AS ke acara-acara tertentu, mengatur dan mengikat yang unik sendiri Nama ID universal dan banyak lagi. Semua ini melalui antarmuka yang sama - T8 API. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penting untuk dicatat bahwa server (AS) bisa bukan satu, tetapi beberapa, dan Anda dapat secara fleksibel mengkonfigurasi distribusi informasi antara server untuk acara atau kelompok perangkat tertentu.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana itu bekerja</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solusi paling populer untuk mengatur akses perangkat ke jaringan seluler adalah penggunaan modul seluler, misalnya:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/f6/yn/xw/f6ynxwxpeypur3-lg6wabxhwyay.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika mendaftar di jaringan seluler, modul semacam itu mengirimkan informasi kepada operator, termasuk IMSI dari kartu SIM pelanggan yang dapat dikaitkan oleh operator dengan akun pelanggan atau pelanggan itu sendiri jika ia memiliki akses ke akun pribadi operator. Di belakang layar SCEF menyembunyikan pengetahuan tentang sesi komunikasi berikutnya dengan perangkat. Pendaftaran perangkat non-IP di jaringan operator hanya dimungkinkan jika ada setidaknya satu langganan dari SCS / AS ke perangkat ini. Tidak ada langganan - tidak ada yang akan berkomunikasi dengan perangkat ini melalui NIDD, dan perangkat tidak akan terdaftar di jaringan. Dengan demikian, SCEF, mengetahui tentang sesi komunikasi berikutnya, dapat mentransfer data dari / ke perangkat, sesuai dengan parameter pengiriman yang ditentukan dan masa pakai pesan yang dikirim, tanpa perlu mengatur pemantauan tambahan tentang status transfer data dan kontrol pengiriman.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keringanan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enkapsulasi unit byte data dari perangkat ke protokol TCP dan mentransfernya ke server mahal dalam hal ratusan ribu perangkat pelanggan dalam armada perusahaan. </font><font style="vertical-align: inherit;">SCEF memungkinkan Anda untuk meninggalkan IP pada perangkat dan hanya mentransfer data non-IP, tanpa header IP melalui saluran sinyal, yang berkontribusi terhadap pengurangan ganda dalam biaya byte yang ditransmisikan dan memberikan manfaat tambahan dari penggunaan layanan. </font><font style="vertical-align: inherit;">Selain itu, SCEF tidak membuat perubahan apa pun pada data yang dikirimkan baik ke perangkat maupun darinya, payload ditransmisikan secara transparan. </font><font style="vertical-align: inherit;">Oleh karena itu, menggunakan NIDD adalah mungkin untuk mentransfer tidak hanya data yang tidak terstruktur, tetapi juga data yang "dibungkus" dalam format standar yang dapat dimengerti, seperti JSON, untuk menyederhanakan pemrosesan data di sisi AS.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Awal pekerjaan</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Struktur URI (Uniform Resource Identifier) ​​pada contoh Postman</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama-tama, Anda perlu mendapatkan akses ke akun pribadi Anda dari operator (layanan M2M-manager). </font><font style="vertical-align: inherit;">Untuk implementasi komersial MTS, satu antarmuka Akun Pribadi disediakan, di mana Anda dapat secara mandiri membuat APN, akses login / kata sandi ke API dan menetapkan nama ScsAsID, extID untuk perangkat Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu </font><font style="vertical-align: inherit;">setidaknya kita perlu:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ScsAsID - ID AS Anda</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APN - yang biasanya digunakan untuk berinteraksi dengan jaringan tidak akan berfungsi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Login / Kata Sandi - data untuk akses ke akun pribadi Anda dan interaksi dengan SCEF</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">URI - alamat dan port HTTP pada jaringan yang disediakan untuk Anda oleh SCEF </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">externalID - ID perangkat kami</font></font></li>
</ul><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mari kita lanjutkan berlatih</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teorinya sudah berakhir, mari kita beralih ke bagian yang paling menarik - praktik pada modul produksi SIMCom Wireless Solutions - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIM7020E</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ue/d6/_o/ued6_opqiacsy2l1axsi8zch1d0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, Anda perlu mengkonfigurasi modul itu sendiri untuk bekerja dengan NIDD. </font><font style="vertical-align: inherit;">Untuk melakukan ini, pertama-tama letakkan modul dalam mode CFUN = 0 dan konfigurasikan:</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+CFUN=0<font></font>
+CPIN: NOT READY<font></font>
<font></font>
OK<font></font>
AT+ENVDM=1,tel_conn_mgr,default_pdn_flag,1,30<font></font>
OK<font></font>
AT*MCGDEFCONT="Non-IP","&lt;APN&gt;"<font></font>
OK<font></font>
AT+CFUN=1<font></font>
OK<font></font>
<font></font>
+CPIN: READY<font></font>
AT+EGACT=1,4,"&lt;APN&gt;"<font></font>
+EGACT:1<font></font>
<font></font>
OK<font></font>
<font></font>
+EGACT:1,1,1,4</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memeriksa pendaftaran modul di jaringan data paket</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+CGREG?<font></font>
+CGREG: 0,1<font></font>
<font></font>
OK</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan selesai mengatur NIDD</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+NIDD=0,"&lt;APN&gt;","&lt;login&gt;","&lt;pass&gt;"<font></font>
+NIDD=0,0<font></font>
<font></font>
OK</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Respons modul akan berisi akun_id di sini: + NIDD = 0, &lt;account_id&gt; - ini akan sangat berguna ketika mengaktifkan NIDD pada modul.</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+NIDD=1,0<font></font>
+NIDD=1,0<font></font>
<font></font>
OK</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, akun_id adalah 0. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selesai. </font><font style="vertical-align: inherit;">Pada tahap ini, pekerjaan dengan modul selesai. </font><font style="vertical-align: inherit;">Mari beralih ke pengaturan SCEF. </font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poin penting: tanpa berlangganan terdaftar di SCEF, modul tidak akan menerima pendaftaran di jaringan!</font></font></u><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SCEF</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API T8</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada dokumen khusus yang merinci interaksi dengan SCEF. </font><font style="vertical-align: inherit;">API ini mendefinisikan serangkaian model data, sumber daya, dan prosedur terkait untuk mentransmisikan data non-IP.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yd/nm/zz/ydnmzzwqtgnhqbxt7gnrsdpow00.png"></div><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dengan SCEF dan langganan layanan - JSON (Notasi Objek JavaScript)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Data yang menyertakan konfigurasi SCEF dan ditransmisikan melalui HTTP / 1.1 ke SCEF harus dikodekan dalam format JSON, dan isi permintaan HTTP itu sendiri di bidang Tipe-Konten harus menyertakan header "application / json". </font><font style="vertical-align: inherit;">Pada saat yang sama, jika pesan dikirim ke penerima dan konfirmasi pengiriman diterima - SCEF harus menghapus konfigurasi yang sesuai, kirim pesan melalui HTTP POST untuk AS dengan kode status "200 OK" dan nyalakan laporan acara.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tukang pos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan mempelajari cara bekerja dengan utilitas ini, di Internet Anda dapat menemukan banyak ulasan. </font><font style="vertical-align: inherit;">Saya hanya dapat mengatakan bahwa ia memiliki beberapa batasan dalam versi gratisnya, tetapi kami tidak perlu banyak, fungsi yang disediakan secara gratis lebih dari cukup untuk tugas-tugas kami. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah kami mengunduhnya dan membukanya, tab pertama akan menyambut kami - Launchpad, tempat kami akan ditawari untuk membuat permintaan pertama kami, kami tidak akan menolak.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mf/ej/si/mfejsivr_jj6forivsfp0jhstbu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segera lanjutkan ke konfigurasi perangkat baru kami. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Awalnya, kami telah mengkonfigurasi metode GET, beralih ke POST (beberapa saat kemudian akan menjadi jelas mengapa ini diperlukan). </font><font style="vertical-align: inherit;">Pada tab "Otorisasi", masukkan "kredensial" yang kami miliki:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/96/ci/zc/96cizcahk44iy5-rpfvcznue3jw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang buat permintaan pertama kami:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kp/zj/rp/kpzjrpd26ykmyt5r6xtyyoizk1w.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di badan permintaan, kami menunjukkan:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"pdnEstablishmentOption"</span>: <span class="hljs-string">"WAIT_FOR_UE"</span>,
    <span class="hljs-attr">"duration"</span>:<span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">"notificationDestination"</span>: <span class="hljs-string">"http://&lt;IP &gt;:&lt;port&gt;"</span>
}</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penting!</font></font></b>
                        <div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhatikan:</font></font><br>
<ul>
<li>“duration” –      duration     SLA SCEF    (SCSAS/ID)   , SCEF    ,    </li>
<li>“maximumPacketSize” –       / </li>
</ul></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita segera perhatikan bahwa opsi berikut dimungkinkan di "pdnEstablishmentOption":</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WAIT_FOR_UE - buffer jika perangkat tidak tersedia (tidak terdaftar di jaringan atau di PSM atau di negara bagian lain)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INDICATE_ERROR - segera merespons dengan kesalahan jika perangkat tidak tersedia</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SEND_TRIGGER - gunakan layanan Pemicu Perangkat (saluran pengiriman alternatif melalui SMS). </font><font style="vertical-align: inherit;">Artikel ini tidak dipertimbangkan.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menggunakan parameter yang sama untuk mengirim data ke perangkat. </font><font style="vertical-align: inherit;">Dan saat membuat langganan, kami dapat segera mengirim data ke perangkat, mengurangi jumlah permintaan API. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua! </font><font style="vertical-align: inherit;">Anda dapat mengklik tombol Kirim dan hati-hati memeriksa apa yang kami dapatkan sebagai respons dari SCEF:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"duration"</span>: <span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">"notificationDestination"</span>: <span class="hljs-string">"http://&lt;IP &gt;:&lt;port&gt;"</span>,<font></font>
    “reliableDataService<span class="hljs-attr">": false,
    "</span>maximumPacketSize<span class="hljs-attr">": 500,
    "</span>self<span class="hljs-attr">": "</span>/3gpp-nidd/v1/&lt;ScsAsID&gt;/configurations/&lt;ID &gt;<span class="hljs-attr">",
    "</span>status<span class="hljs-attr">": "</span>ACTIVE<span class="hljs-attr">"
}</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada baris pribadi, kami terutama tertarik pada ID dari konfigurasi yang kami buat, sangat tidak diinginkan untuk kehilangannya, karena kemungkinan besar operator tidak akan mendukung fungsi permintaan dari semua konfigurasi yang dibuat. </font><font style="vertical-align: inherit;">Ketika ada beberapa ribu perangkat yang dibuat dalam kerangka kerja satu ScsAsID, terlalu banyak beban akan dibuat pada server SCEF untuk menyiarkan semua konfigurasi perangkat. </font><font style="vertical-align: inherit;">Kami menganggapnya sebagai aturan: satu perangkat = satu langganan sebagai bagian dari layanan ScsAsID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, kita sudah dapat menerima data dari modul di server, alamat IP dan port yang ditunjukkan di atas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transfer data dari modul ke AS</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita coba mentransfer data dari perangkat ke AS, kembali ke modul SIM7020E dan jika kita tidak menyentuhnya dari bab sebelumnya dan tidak mematikannya, kami akan mengirimkan perintah ke sana:</font></font><br>
<br>
<pre><code class="plaintext hljs">AT+NIDD=3,&lt;account_id&gt;,"6162636465"<font></font>
OK</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harap dicatat bahwa pesan kami dikodekan dalam HEX dan berisi urutan sederhana: "abcde". </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hampir segera di server (AS), yang merupakan tuan rumah, kita akan melihat:</font></font><br>
<br>
<pre><code class="xml hljs">POST / HTTP/1.1<font></font>
OCSGHTTPProcessor: 147ff7c6-a43d-4fc9-b303-0ca50f497747<font></font>
X-callback-t8-type: 3<font></font>
X-callback-url: http://<span class="hljs-tag">&lt;<span class="hljs-name">IP</span> &gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span><font></font>
X-api-network-service-node: 0<font></font>
Content-Type: application/json<font></font>
Content-Length: 214<font></font>
Host: <span class="hljs-tag">&lt;<span class="hljs-name">IP</span> &gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span><font></font>
Connection: Keep-Alive<font></font>
User-Agent: Apache-HttpAsyncClient/4.1.3 (Java/1.8.0_181)<font></font>
<font></font>
{"externalId":"<span class="hljs-tag">&lt;<span class="hljs-name">ID</span> &gt;</span>","niddConfiguration":"/3gpp-nidd/v1/<span class="hljs-tag">&lt;<span class="hljs-name">ScsAsID</span>&gt;</span>/configurations/<span class="hljs-tag">&lt;<span class="hljs-name">ID</span> &gt;</span>","data":"YWJjZGU=","reliableDataService":false}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pesan itu sendiri tiba dalam penyandian </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Base64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan terlihat seperti ini:</font></font><br>
<pre><code class="plaintext hljs">YWJjZGU=</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kami menerjemahkan dari pengkodean Base64, kami mendapatkan pesan asli kami:</font></font><br>
<pre><code class="plaintext hljs">abcde</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengkodean Base64 digunakan karena fakta bahwa ketika menggunakan pengkodean ASCII, beberapa data kadang-kadang hilang dan menggunakan Base64 membuat transmisi lebih dapat diandalkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perlu juga dicatat bahwa dalam hal ini informasi yang dikirimkan dari modul tidak disimpan di dalam SCEF dan segera dikirim ke server kami melalui HTTP.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transfer data dari AS ke modul</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengirim data ke arah dari AS ke modul, mari kembali ke tukang pos dan membuat permintaan baru menggunakan metode POST dan pengkodean Base64. Kami akan mengirimkan 1234567890 (di Base64: MTIzNDU2Nzg5MA ==) ke modul kami: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wz/mj/mc/wzmjmczcilbscfvrsjryyi5qfr8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harap perhatikan bahwa sebuah addendum telah muncul di bidang "address", di mana kami mengindikasikan konfigurasi mana yang ingin kami kirimi pesan. Jika beberapa perangkat disertakan dalam konfigurasi kami, Anda dapat menggunakan pengenal "externalGroupID" dan kemudian semuanya akan menerima data ini. Poin penting lainnya adalah masa pakai pesan yang dikirim, ditunjukkan dalam hitungan detik dan memiliki jangkauan yang cukup luas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ngomong-ngomong, jika perangkat tidak online saat ini, maka pesan kami akan buffered di SCEF, dan baris "maksimumLatency" akan memberi tahu kami berapa detik tersisa sampai pesan dihancurkan jika perangkat tidak menghubungi sebelum timer kami atur. . </font><font style="vertical-align: inherit;">Di bawah ini adalah apa yang akan terlihat seperti konfigurasi SCEF saat ini (menggunakan mekanisme GET, lebih dari itu di bawah):</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"duration"</span>: <span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">"notificationDestination"</span>: <span class="hljs-string">"http://&lt;IP &gt;:&lt;port&gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"ACTIVE"</span>,
    <span class="hljs-attr">"niddDownlinkDataTransfers"</span>: [<font></font>
    {<font></font>
        <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
        <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
        <span class="hljs-attr">"data"</span>: <span class="hljs-string">"MDEyMzQ1Njc4OTA="</span>,
        <span class="hljs-attr">"maximumLatency"</span>: <span class="hljs-number">96</span>,
        <span class="hljs-attr">"priority"</span>: <span class="hljs-number">1</span>,
        <span class="hljs-attr">"self"</span>: <span class="hljs-string">"/3gpp-nidd/v1/&lt;ScsAsID&gt;/configurations/&lt;ID &gt;/downlink-data-deliveries/1"</span><font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika, setelah penghitung waktu kedaluwarsa, perangkat masih belum menghubungi, SCEF akan memberi tahu server Anda (AS) bahwa pesan itu tidak terkirim karena penghitung waktu berakhir dan pesan akan dihapus:</font></font><br>
<br>
<pre><code class="xml hljs">POST / HTTP/1.1<font></font>
OCSGHTTPProcessor: 14c8cab8-ecce-4868-a59e-1f784224518b<font></font>
X-callback-t8-type: 4<font></font>
X-callback-url: http://<span class="hljs-tag">&lt;<span class="hljs-name">IP</span> &gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span><font></font>
X-api-network-service-node: 0<font></font>
Content-Type: application/json<font></font>
Content-Length: 139<font></font>
Host: <span class="hljs-tag">&lt;<span class="hljs-name">IP</span> &gt;</span>:<span class="hljs-tag">&lt;<span class="hljs-name">port</span>&gt;</span><font></font>
Connection: Keep-Alive<font></font>
User-Agent: Apache-HttpAsyncClient/4.1.3 (Java/1.8.0_181)<font></font>
<font></font>
{"niddDownlinkDataTransfer":"/3gpp-nidd/v1/<span class="hljs-tag">&lt;<span class="hljs-name">ScsAsID</span>&gt;</span>/configurations/<span class="hljs-tag">&lt;<span class="hljs-name">ID</span> &gt;</span>/downlink-data-deliveries/1","status":"FAILURE"}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika berhasil, SCEF akan segera merespons:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"SUCCESS"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menambahkan kemampuan untuk memprioritaskan pesan jika pesan itu di-buffer. </font><font style="vertical-align: inherit;">Ini diatur oleh parameter "prioritas". </font><font style="vertical-align: inherit;">Ketika pesan baru dikirim ke perangkat dan jika buffer pengiriman terlampaui oleh SCEF, pesan akan diganti dengan pesan dengan prioritas lebih rendah, jika tidak maka pesan tidak akan diterima untuk pengiriman. </font><font style="vertical-align: inherit;">Dimungkinkan juga untuk menghapus pesan dari buffer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika pesan tidak dapat dikirim, dan buffer, Anda akan menerima yang berikut:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"self"</span>: <span class="hljs-string">"/3gpp-nidd/v1/&lt;ScsAsID&gt;/configurations/&lt;ID &gt;/downlink-data-deliveries/2"</span>,
   <span class="hljs-attr">"status"</span>: <span class="hljs-string">"BUFFERING"</span>
}</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penting!</font></font></b>
                        <div class="spoiler_text">  :<br>
/&lt;ID &gt;/downlink-data-deliveries/<b>1</b><br>
 –      SCEF.  ,    .         .</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menerima pesan, modul akan melaporkan URC berikut:</font></font><br>
<br>
<pre><code class="plaintext hljs">+NIDD=4,0,11,0,"3031323334353637383930"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang dalam terjemahan dari HEX ke ASCII akan menjadi pesan kami:</font></font><br>
<br>
<pre><code class="plaintext hljs">1234567890</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Biarkan saja di sini. </font><font style="vertical-align: inherit;">Pemberitahuan pengiriman pesan "buffered":</font></font><br>
<br>
<pre><code class="json hljs">{
<span class="hljs-attr">"niddDownlinkDataTransfer"</span>:<span class="hljs-string">"3gpp-nidd/v1/&lt;ScsAsID&gt;/configurations/&lt;ID &gt;/downlink-data-deliveries/1"</span>,
<span class="hljs-attr">"status"</span>:<span class="hljs-string">"SUCCESS"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memantau status status perangkat dimungkinkan melalui layanan SCEF lain yang disebut “Kegiatan Pemantauan (MONTE)”. </font><font style="vertical-align: inherit;">Di dalam MONTE, dimungkinkan untuk menerima pemberitahuan tentang acara dan waktu (misalnya, ketika perangkat menjadi tersedia), menggunakan sistem berlangganan serupa. </font><font style="vertical-align: inherit;">Tapi mari kita bicarakan ini lain kali.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mendapatkan konfigurasi dari SCEF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda mungkin memperhatikan bahwa Anda bisa mendapatkan konfigurasi saat ini dari SCEF. </font><font style="vertical-align: inherit;">Ayo lakukan itu. </font><font style="vertical-align: inherit;">Kami mengambil tukang pos yang sudah kami cintai dan membuat permintaan berikut menggunakan metode GET:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/i_/jp/j6/i_jpj6tfbbgoxt0u5sf6gl9obnk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu </font><font style="vertical-align: inherit;">kita membiarkan badan pesan itu sendiri kosong, dan di bilah alamat kita hanya perlu menentukan ID konfigurasi yang dibuat untuk kita untuk menerima keadaan saat ini sebagai tanggapan:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">"&lt;ID &gt;"</span>,
    <span class="hljs-attr">"duration"</span>: <span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">"notificationDestination"</span>: <span class="hljs-string">" http://&lt;IP &gt;:&lt;port&gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"ACTIVE"</span>,
    <span class="hljs-attr">"niddDownlinkDataTransfers"</span>: []<font></font>
}</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menghapus konfigurasi pada SCEF</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baik dan yang terakhir - kami akan menghapus konfigurasi yang dibuat oleh kami. </font><font style="vertical-align: inherit;">Untuk melakukan ini, gunakan bilah alamat yang sama seperti pada konfigurasi saat ini, tetapi ubah ke DELETE:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/w_/bt/n5/w_btn5pki3qerymozmgnub-f4ug.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai tanggapan, kami akan menerima:</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"externalId"</span>: <span class="hljs-string">" &lt;ID &gt;"</span>,
    <span class="hljs-attr">"duration"</span>: <span class="hljs-string">"2020-12-31T23:59:59Z"</span>,
    <span class="hljs-attr">" notificationDestination"</span>: <span class="hljs-string">" http://&lt;IP &gt;:&lt;port&gt;"</span>,
    <span class="hljs-attr">"reliableDataService"</span>: <span class="hljs-literal">false</span>,
    <span class="hljs-attr">"status"</span>: <span class="hljs-string">"TERMINATED"</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di mana pada baris "status" kita akan melihat bahwa konfigurasi yang dibuat oleh kami dihapus.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih dari satu disertasi dapat ditulis tentang topik menggunakan SCEF, topiknya luas dan akan segera menjadi sangat relevan untuk banyak perangkat M2M di semua bidang, dan terutama untuk Internet hal-hal. </font><font style="vertical-align: inherit;">Hal utama yang ingin saya sampaikan kepada Anda adalah bagaimana mulai bekerja dengan NIDD dan SCEF di luar kotak sehingga Anda dapat mengetahuinya sendiri. </font><font style="vertical-align: inherit;">Tetapi saya juga selalu senang membantu Anda: support@simcom.com (ditandai untuk Tim RUS), dalam surat itu Anda harus menunjukkan rincian kontak Anda dan beberapa kata tentang proyek Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam artikel berikut, kami akan menganalisis dengan cermat aspek-aspek lain dari bekerja dengan modul seluler, dan Anda menulis di komentar topik mana yang menarik bagi Anda. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya ingin mengucapkan terima kasih khusus kepada Sergey Novikov, pakar senior solusi konvergen dan layanan multimedia.</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sanov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) dari MTS untuk bantuan yang tak ternilai dalam mempersiapkan artikel.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumber yang digunakan</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NB-IoT: bagaimana cara kerjanya? </font><font style="vertical-align: inherit;">Bagian 3: SCEF - satu jendela akses ke layanan operator </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ETSI TS 129 122</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id489594/index.html">Kerangka vs Platform: apa bedanya?</a></li>
<li><a href="../id489596/index.html">Intisari materi menarik untuk pengembang seluler # 334 (pada 17-23 Februari)</a></li>
<li><a href="../id489600/index.html">GDC-2020: apa yang diharapkan dari salah satu pameran pengembangan game terbesar</a></li>
<li><a href="../id489602/index.html">Prerender pada kanvas 2D</a></li>
<li><a href="../id489604/index.html">Bagaimana saya, pemimpin tim, mengevaluasi proyek</a></li>
<li><a href="../id489610/index.html">Otomatisasi rumah penuh di gedung baru</a></li>
<li><a href="../id489612/index.html">Konferensi DEFCON 27. Duplikasi kunci mekanis dengan akses terbatas. Bagian 2</a></li>
<li><a href="../id489614/index.html">Menandai residu sepatu dalam 1C. Memecahkan masalah pemindaian dan pengunggahan ke Tanda Jujur</a></li>
<li><a href="../id489618/index.html">Apakah kita memerlukan format seperti itu? .. dan beberapa statistik</a></li>
<li><a href="../id489620/index.html">9 Tips Terminal Windows oleh Scott Hanselman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>