<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗯️ 🚏 🚡 k8sのプロダクション対応イメージ 🐎 ⚜️ 🌲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="このストーリーは、特にKubernetesの下で、食料品環境でコンテナーをどのように使用するかについてです。この記事は、コンテナからのメトリックとログのコレクション、およびイメージのビルドに特化しています。
 
 
 
 私たちは、B2BおよびB2C向けのオンライン取引およびフィンテック製品のサービ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>k8sのプロダクション対応イメージ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/exness/blog/488392/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このストーリーは、特にKubernetesの下で、食料品環境でコンテナーをどのように使用するかについてです。</font><font style="vertical-align: inherit;">この記事は、コンテナからのメトリックとログのコレクション、およびイメージのビルドに特化しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4o/r6/tm/4or6tm3pqygawzhld3ht0opp_3e.jpeg" alt="画像"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは、B2BおよびB2C向けのオンライン取引およびフィンテック製品のサービスを開発するフィンテック企業Exnessの出身です。</font><font style="vertical-align: inherit;">私たちのR＆Dには多くの異なるチームがあり、開発部門には100人以上の従業員がいます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは、開発者がコードを収集して実行するためのプラットフォームを担当するチームを代表しています。</font><font style="vertical-align: inherit;">特に、アプリケーションからメトリック、ログ、およびイベントを収集、保存、提供する責任があります。</font><font style="vertical-align: inherit;">現在、私たちは製品環境で約3,000のDockerコンテナーを運用し、50 TBのビッグデータストレージをサポートし、Kubernetes、Rancher、およびさまざまなパブリッククラウドプロバイダーなどのインフラストラクチャを中心に構築されたアーキテクチャソリューションを提供しています。&nbsp;</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちのモチベーション</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何が燃えているか？</font><font style="vertical-align: inherit;">誰も答えられない。</font><font style="vertical-align: inherit;">囲炉裏はどこですか？</font><font style="vertical-align: inherit;">理解するのは難しいです。</font><font style="vertical-align: inherit;">いつ発火しましたか？</font><font style="vertical-align: inherit;">あなたは見つけることができますが、すぐにはできません。&nbsp;</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/915/b6a/807/915b6a8072231adcddda50f86093038e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜいくつかのコンテナは立っているのに他のコンテナは立っているのですか？</font><font style="vertical-align: inherit;">どのコンテナのせいですか？</font><font style="vertical-align: inherit;">実際、コンテナの外側は同じですが、内側にはそれぞれ独自のNeoがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/182/9b5/e14/1829b5e14acf8849524f20c5cbb907d3.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの開発者は文盲です。</font><font style="vertical-align: inherit;">彼らは会社に利益をもたらす良いサービスを作ります。</font><font style="vertical-align: inherit;">しかし、アプリケーションを含むコンテナーがランダムに移動する場合、おかしなことがあります。</font><font style="vertical-align: inherit;">1つのコンテナはCPUを消費しすぎ、もう1つはネットワークを消費し、3つ目はI / O操作を消費し、4つ目は一般的にソケットで何を行うか不明です。</font><font style="vertical-align: inherit;">これがすべて落ち、船は沈みます。&nbsp;</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エージェント</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
内部で何が起こっているのかを理解するために、エージェントを直接コンテナに入れることにしました。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/405/66a/551/40566a55180bbdda60ad9c49f790b22b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのエージェントは、コンテナを互いに破壊しないような状態に保つ封じ込めプログラムです。エージェントは標準化されており、これによりコンテナーの処理に対する標準化されたアプローチが可能になります。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのケースでは、エージェントは、タグ付けされた、トロッティング付きの標準形式でログを提供する必要があります。また、ビジネスアプリケーションの点で拡張可能な標準化されたメトリックも提供する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エージェントは、さまざまなイメージ（Debian、Alpine、Centosなど）をサポートする、さまざまなオーケストレーションシステムで動作できる、運用と保守のためのユーティリティも意味します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、エージェントはDockerファイルを含むシンプルなCI / CDをサポートする必要があります。</font><font style="vertical-align: inherit;">そうしないと、コンテナが「湾曲した」レールで配送され始めるため、船はバラバラになります。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">組立工程と対象デバイスイメージ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてを標準化して管理できるようにするには、いくつかの標準的な組み立てプロセスに従う必要があります。</font><font style="vertical-align: inherit;">したがって、私たちはコンテナごとにコンテナを収集することにしました-このような再帰。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ad3/41a/ada/ad341aadafbc26fadf0df4e14616cae1.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、コンテナは実線で表されています。</font><font style="vertical-align: inherit;">同時に、彼らは「人生はラズベリーに見えない」ように彼らに配布物を入れることに決めました。</font><font style="vertical-align: inherit;">なぜこれが行われたのか、以下で説明します。</font></font><br>
&nbsp;<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、ビルドツール-特定のバージョンのコンテナーが作成されます。これは、特定のバージョンのディストリビューションと特定のバージョンのスクリプトを指します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうやって使うの？</font><font style="vertical-align: inherit;">コンテナーが置かれているDocker Hubがあります。</font><font style="vertical-align: inherit;">外部の依存関係を取り除くために、システム内でミラーリングします。</font><font style="vertical-align: inherit;">結果のコンテナは黄色でマークされます。</font><font style="vertical-align: inherit;">必要なすべてのディストリビューションとスクリプトをコンテナにインストールするためのテンプレートを作成します。</font><font style="vertical-align: inherit;">その後、操作の準備が整ったイメージを収集します。開発者はコードといくつかの特別な依存関係をその中に配置します。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜこのアプローチが良いのですか？&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まず、ビルドツールのフルバージョンコントロール-ビルドコンテナ、スクリプト、ディストリビューションのバージョン。&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第二に、標準化を達成しました。テンプレートを作成するのと同じ方法で、中間的ですぐに使用できるイメージを作成します。&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第三に、コンテナは移植性を提供します。</font><font style="vertical-align: inherit;">今日はGitlabを使用し、明日はTeamCityまたはJenkinsに切り替えて、同じ方法でコンテナーを起動できるようにします。&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4に、依存関係を最小限に抑えます。</font><font style="vertical-align: inherit;">ディストリビューションをコンテナに配置するのは偶然ではありません。これにより、インターネットから毎回ダウンロードする必要がなくなるためです。&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5に、アセンブリの速度が向上しました。ローカルイメージがあるため、イメージのローカルコピーを利用できるため、ダウンロードに時間を費やす必要がありません。&nbsp;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、制御された柔軟な組み立てプロセスを実現しています。</font><font style="vertical-align: inherit;">同じツールを使用して、フルバージョン管理でコンテナを構築します。&nbsp;</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビルド手順のしくみ</font></font></h1><br>
<img src="https://habrastorage.org/getpro/habr/post_images/36f/569/f11/36f569f111cc0f0f7e963ec9944e7656.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アセンブリは1つのコマンドで起動され、プロセスはイメージで実行されます（赤で強調表示）。開発者にはDockerファイル（黄色で強調表示）があります。変数を値に置き換えてレンダリングします。そして、途中でヘッダーとフッターを追加します-これらは私たちのエージェントです。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヘッダーは、対応する画像から分布を追加します。そして、フッターはサービスを内部にインストールし、ワークロードの起動、ロギングおよびその他のエージェントを構成し、エントリーポイントを置き換えます。&nbsp;</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a58/668/435/a58668435efa2b0ce59e6d2c0fc6fc3e.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監督を置くかどうか、長い間考えていました。結局、彼らは私たちが彼を必要とすると決めました。 S6を選択します。スーパーバイザーは、コンテナーの制御を提供します。これにより、メインプロセスで障害が発生した場合にコンテナーに接続でき、コンテナーを再作成せずに手動で制御できます。ログと指標は、コンテナ内で実行されるプロセスです。彼らはまた、何らかの形で制御される必要があり、私たちはこれを監督者の助けを借りて行います。最後に、S6はハウスキーピング、信号処理、その他のタスクを処理します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまなオーケストレーションシステムを使用しているため、アセンブリと起動の後、コンテナはどのような環境にあるかを理解し、状況に応じて行動する必要があります。例えば：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより、1つのイメージを収集して別のオーケストレーションシステムで起動でき、このオーケストレーションシステムの詳細を考慮して起動されます。</font></font><br>
<br>
&nbsp;<img src="https://habrastorage.org/getpro/habr/post_images/9cf/fed/b5e/9cffedb5e38cfc8d67d3c107d4f4cc49.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じコンテナーの場合、DockerとKubernetesで異なるプロセスツリーを取得します</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/83b/56d/46f/83b56d46fcf929d8ae6365822be7a5ee.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。ペイロードはS6スーパーバイザーで実行されます。コレクターとイベントに注意してください-これらはログとメトリックスを担当するエージェントです。 Kubernetesにはありませんが、Dockerにはあります。どうして？&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「ハース」（以下、Kubernetesポッドと呼びます）の仕様を見ると、イベントコンテナがハースで実行されていることがわかります。このコンテナには、メトリックとログを収集する機能を実行する別のコレクタコンテナがあります。</font><font style="vertical-align: inherit;">Kubernetesの機能を使用できます。1つの囲炉裏で、単一のプロセスやネットワークスペースでコンテナを実行できます。</font><font style="vertical-align: inherit;">実際にエージェントを紹介し、いくつかの機能を実行します。</font><font style="vertical-align: inherit;">また、同じコンテナがDockerで起動された場合、エージェントは内部で起動されるため、出力で同じ機能をすべて受け取ります。つまり、ログとメトリックを配信できます。&nbsp;</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指標とログ</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メトリックとログの配信は困難な作業です。彼女の決定にはいくつかの側面があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インフラストラクチャは、ログの大量配信ではなく、ペイロードを満たすために作成されます。つまり、このプロセスは、コンテナーリソースの最小要件で実行する必要があります。 「Docker Hubコンテナを取得して起動すれば、ログを配信できます。」&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の側面は、ログの量の制限です。複数のコンテナーでログの量が急増する状況（アプリケーションがループ内にスタックトレースを表示する）である場合、CPU、通信チャネル、ログ処理システムの負荷が増加し、これがホスト全体およびホスト上の他のコンテナーの動作に影響する場合があります。ホストの「秋」。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3番目の側面-箱から出してできるだけ多くのメトリック収集メソッドをサポートする必要があります。ファイルの読み取りとPrometheus-endpointのポーリングから特定のアプリケーションプロトコルの使用まで。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後の側面-リソースの消費を最小限に抑える必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Telegrafと呼ばれるオープンソースのGoソリューションを選択しました。これは、140種類を超える入力チャネル（入力プラグイン）と30種類の出力（出力プラグイン）をサポートするユニバーサルコネクタです。これを確定しました。次に、例としてKubernetesでどのように使用されるかを説明します。&nbsp;</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/951/b60/324/951b603240a67d0e2867a66c3ce2f13a.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者が負荷をデプロイし、Kubernetesが囲炉裏を作成するリクエストを受け取ったとします。</font><font style="vertical-align: inherit;">この時点で、コレクターと呼ばれるコンテナーが各ポッドに自動的に作成されます（ミューテーションwebhookを使用します）。</font><font style="vertical-align: inherit;">コレクターは私たちのエージェントです。</font><font style="vertical-align: inherit;">最初、このコンテナは、Prometheusおよびログ収集システムと連携するように構成されています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを行うために、彼は囲炉裏の注釈を使用し、その内容に応じて、たとえばプロメテウスの終点を作成します。&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">炉の仕様とコンテナーの特定の設定に基づいて、ログの配信方法を決定します。</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Docker APIを介してログを収集します。開発者がログをstdoutまたはstderrに配置するだけで十分であり、Collectorがそれを把握します。</font><font style="vertical-align: inherit;">ホストの混雑を防ぐために、ログはチャンクごとに少し遅れて収集されます。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メトリックは、コンテナー内のワークロードインスタンス（プロセス）で収集されます。</font><font style="vertical-align: inherit;">すべてにタグが付けられます：名前空間、アンダーなど、その後Prometheus形式に変換され、収集に使用できるようになります（ログを除く）。</font><font style="vertical-align: inherit;">また、ログ、メトリクス、イベントをKafkaに送信します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ログはGraylogで入手できます（視覚分析用）。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ログ、メトリック、イベントは長期保存のためにClickhouseに送信されます。</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、すべてがAWSで機能し、KafkaのGraylogをCloudwatchに置き換えるだけです。</font><font style="vertical-align: inherit;">ログをそこに送信すると、すべてが非常に便利であることがわかります。クラスターとコンテナーが誰に属しているかがすぐにわかります。</font><font style="vertical-align: inherit;">Google Stackdriverについても同様です。</font><font style="vertical-align: inherit;">つまり、このスキームはオンプレミスのKafkaとクラウドの両方で機能します。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポッドを備えたKubernetesがない場合、スキームはもう少し複雑ですが、同じ原理で機能します。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/dc3/8ff/e25/dc38ffe25475cb321c11e0bb41f30901.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じプロセスがコンテナ内で実行され、S6を使用して調整されます。</font><font style="vertical-align: inherit;">すべての同じプロセスが同じコンテナ内で実行されています。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終的に</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ログとメトリックを収集して配信するためのオプションを使用して、画像を組み立てて運用するための完全なソリューションを作成しました。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CIテンプレートを開発した画像に基づいて、画像の組み立てに対する標準化されたアプローチを開発しました。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ収集エージェントは、Telegrafの拡張機能です。</font><font style="vertical-align: inherit;">私たちはそれらを本番環境でうまく実行しました。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポッドにエージェントを備えたコンテナを実装するために、変異Webhookを使用します。&nbsp;</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes / Rancherエコシステムに統合。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じコンテナーを異なるオーケストレーションシステムで実行して、期待どおりの結果を得ることができます。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全に動的なコンテナー管理構成を作成しました。&nbsp;</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
共著者：</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イリヤ・プルドニコフ</font></font></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja488380/index.html">「1つの場所」を介してSTMで最も簡単な開始</a></li>
<li><a href="../ja488382/index.html">アクセスしたサイトに3〜25秒の遅延を追加します</a></li>
<li><a href="../ja488386/index.html">ネットワーク異常分析ツールの適用事例：ブラウザープラグインによる攻撃</a></li>
<li><a href="../ja488388/index.html">再ログインとHTTP基本認証</a></li>
<li><a href="../ja488390/index.html">OpenId ConnectでTelegramボットの友達を作る方法</a></li>
<li><a href="../ja488404/index.html">2020年に待つ価値のあるゲーム</a></li>
<li><a href="../ja488406/index.html">IPv6-あなたはそれを間違っています</a></li>
<li><a href="../ja488408/index.html">STM32 Ethernet-RS485 IoTゲートウェイ</a></li>
<li><a href="../ja488410/index.html">開発の10年で学んだ7つの教訓</a></li>
<li><a href="../ja488412/index.html">discord.jsに基づくDiscordボットの作成</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>