<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçÖ üç¥ üèáüèª Complementando o SQL. Parte 1. A complexidade da an√°lise. Hist√≥rias sobre como finalizar o arquivo ANTLR üìÄ üì´ üë©üèº‚Äçüè´</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Publico o artigo original sobre Habr, cuja tradu√ß√£o est√° publicada no blog da Codingsight .
 
 O que acontecer√° neste artigo?
 Trabalho na empresa h√° ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Complementando o SQL. Parte 1. A complexidade da an√°lise. Hist√≥rias sobre como finalizar o arquivo ANTLR</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502416/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Publico o artigo original sobre Habr, cuja tradu√ß√£o est√° publicada no blog da </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codingsight</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que acontecer√° neste artigo?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trabalho na empresa h√° mais de cinco anos, que desenvolve </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a linha</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> IDE para trabalhar com bancos de dados. Ao iniciar o trabalho neste artigo, eu n√£o conseguia imaginar quantas hist√≥rias interessantes eu conseguia lembrar, porque, quando terminei, recebi mais de 30 p√°ginas de texto. Depois de um pouco de reflex√£o, agrupei as hist√≥rias por t√≥pico e dividi o artigo em v√°rias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä medida que publicar, adicionarei links para as seguintes partes: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 1. A complexidade da an√°lise. Hist√≥rias sobre como finalizar o ANTLR com um arquivo</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Parte 2. Otimiza√ß√£o do trabalho com seq√º√™ncias de caracteres e abrir arquivos </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parte 3. Vida </font><font style="vertical-align: inherit;">√∫til </font><font style="vertical-align: inherit;">das extens√µes do Visual Studio. Trabalhe com IO. Uso incomum do SQL </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parte 4. Trabalhando com exce√ß√µes, o impacto dos dados no processo de desenvolvimento. Usando o ML.NET</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muitas coisas interessantes aconteceram durante o trabalho: encontramos v√°rios bugs no .NET, otimizamos algumas fun√ß√µes v√°rias vezes e outras apenas por cento, fizemos algo muito legal na primeira vez e algo que n√£o conseguimos, mesmo depois de algumas tentativas. </font><font style="vertical-align: inherit;">Minha equipe est√° desenvolvendo e dando suporte aos recursos da linguagem IDE, sendo a principal a conclus√£o de c√≥digo. </font><font style="vertical-align: inherit;">Da√≠ o nome da s√©rie de artigos. </font><font style="vertical-align: inherit;">Em cada uma das partes, contarei v√°rias hist√≥rias: algumas sobre sucessos, outras sobre fracassos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesta parte, vou me concentrar nos problemas de an√°lise de SQL, na luta contra esses problemas e nos erros cometidos nessa luta.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hg/xl/vm/hgxlvmyga2eic3ul4c_i72mrxma.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para quem est√° interessado em apenas parte disso e apenas para facilitar a navega√ß√£o, o conte√∫do do artigo:</font></font><br>
<br>
<h3><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conte√∫do</font></font></u></h3><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quem sou eu?</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quais s√£o as dificuldades?</font></font></a><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenvolvimento de desktop</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analisando SQL e Dialetos</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guerras dedicadas</font></font></a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cool </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bike</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> solutions</font></font></a><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heran√ßa gramatical</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outra ANTLR de p√≥s-processamento</font></font></a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erros</font></font></a><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lise sem √°rvores</font></font></a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></a></li>
</ul><br>
<a name="Who"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quem sou eu?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eu vim para este trabalho em junho, com muito pouca experi√™ncia. </font><font style="vertical-align: inherit;">Eu, como muitos, vim para programa√ß√£o porque queria fazer brinquedos. </font><font style="vertical-align: inherit;">V√°rios, mesmo com bastante sucesso. </font><font style="vertical-align: inherit;">Eu at√© escrevi sobre o desenvolvimento de um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Recentemente, a prop√≥sito, ele a ressuscitou em outro servidor. Ainda havia uma d√∫zia de jogos feitos ou abandonados em diferentes est√°gios de prontid√£o. Al√©m dos jogos, antes de come√ßar este trabalho, consegui concluir v√°rios projetos como freelancer. O maior deles foi o aplicativo de m√≠dia social, que era um portal de futebol com tabelas de torneios, dados de jogadores e a capacidade de notificar os usu√°rios da pontua√ß√£o ou dos objetivos marcados via SMS. Isso foi feito h√° quase 10 anos. Naquela √©poca, nem todo mundo usava smartphones, e quem costumava ir mais frequentemente sem a Internet ou com o EDGE de tr√™s maldi√ß√µes no qual abrir um site de texto nem sempre era poss√≠vel. Ent√£o a ideia me pareceu boa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De alguma forma, al√©m de jogos, eu tamb√©m fui atra√≠do por criar ajustes diferentes para mim ou para outros desenvolvedores. √Äs vezes, ele estava perto do que eu tinha que fazer no trabalho um pouco mais tarde. Por exemplo, um dos projetos que eu fiz ao estudar a API do Win32 foi um programa que destacava o c√≥digo XML no Rich Edit Control. Al√©m disso, foi poss√≠vel fazer o upload de c√≥digos retroiluminados para c√≥digos BMP, HTML ou BB que estavam na moda em diferentes f√≥runs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outro projeto que ficou muito pr√≥ximo do que aconteceu no trabalho foi um programa que analisa o c√≥digo C / C ++ e cria um diagrama de blocos a partir dele. O fluxograma estava em estrita conformidade com os requisitos de um professor da universidade. Foi feito desajeitadamente, na testa, com zero conhecimento da teoria da an√°lise sint√°tica, e trabalhou exclusivamente no meu car√°ter de baixa qualidade. Alguns anos depois, enquanto limpava o computador do lixo antigo, deparei-me com ele e n√£o consegui remov√™-lo, ent√£o o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">publiquei</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">github</font></a><font style="vertical-align: inherit;"> por uma quest√£o de hist√≥ria.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas experi√™ncias, juntamente com freelancers, proporcionaram uma experi√™ncia bastante boa e possibilitaram um emprego. </font><font style="vertical-align: inherit;">Com o tempo, depois de algumas d√∫zias de an√°lises de sangue e l√°grimas, come√ßo a beneficiar a empresa e o produto. </font><font style="vertical-align: inherit;">Voltando, √© bem engra√ßado entender que, como resultado de v√°rios acidentes, comecei a fazer exatamente o que me atra√≠a.</font></font><br>
<a name="difficulties"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quais s√£o as dificuldades?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse bloco √© necess√°rio para imergir o leitor no contexto do que estamos realmente fazendo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bp/sh/st/bpshstukfseasxycc6eyk1epb3s.jpeg"><br>
<a name="desktop"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desenvolvimento de desktop</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez isso n√£o seja nem complexidade, porque j√° √© um campo muito maduro no qual n√£o h√° muito desconhecido, as bibliotecas s√£o est√°veis, as melhores pr√°ticas s√£o conhecidas. </font><font style="vertical-align: inherit;">Esse recurso do nosso projeto est√° aqui, porque eu, como muitos outros programadores, propenso √† novidade, e a novidade agora est√° na web. </font><font style="vertical-align: inherit;">Houve dias em que, na chuva, subi no parapeito da janela, coberto com um cobertor, uma caneca de cacau, e pensei em redis, reagir, carga pesada e sistemas distribu√≠dos que est√£o sendo desenvolvidos em algum lugar sem mim agora. </font><font style="vertical-align: inherit;">O outro lado desse problema √© que n√£o √© f√°cil descrever a complexidade do projeto para desenvolvedores familiares que bebem cerveja, e quando voc√™ trabalha em aplicativos que operam de acordo com leis fundamentalmente diferentes, fica ainda mais dif√≠cil.</font></font><br>
<br>
<a name="dialects"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analisando SQL e Dialetos</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tamb√©m escrevi pequenos analisadores para diferentes idiomas antes deste trabalho. Durante algum tempo eu ministrei cursos de .NET. Para alguns grupos, como uma tarefa adicional, como parte do t√≥pico "string", eles sugeriram a cria√ß√£o de seu pr√≥prio analisador JSON simples. Somente o SQL e suas variantes est√£o longe de XML ou JSON projetados para serem igualmente compreens√≠veis para analisadores e pessoas. Al√©m disso, o SQL √© sintaticamente mais complexo que o C / C ++, com suas muitas fun√ß√µes acumuladas ao longo de uma longa hist√≥ria. O SQL √© estruturado de maneira diferente, eles tentaram fazer com que parecesse uma linguagem natural, com bastante sucesso, a prop√≥sito. O idioma possui v√°rios milhares de palavras-chave (dependendo do dialeto). Freq√ºentemente, para distinguir uma express√£o de outra, voc√™ precisa espiar duas ou mais palavras (tokens) para a frente. Essa abordagem √© chamada de lookahead. Existe uma classifica√ß√£o de analisadores de acordo comqu√£o longe eles podem olhar √† frente: LA (1), LA (2) ou LA (*), o que significa que o analisador pode olhar o mais longe poss√≠vel para determinar a ramifica√ß√£o correta. √Äs vezes, o final opcional de uma cl√°usula dentro de uma instru√ß√£o SQL coincide com o in√≠cio de outra, que tamb√©m √© opcional: tais situa√ß√µes tornam os analisadores muito mais complicados. O T-SQL derrama √°gua no fogo, no qual o ponto-e-v√≠rgula √© opcional e o final poss√≠vel, mas n√£o obrigat√≥rio, de algumas instru√ß√µes SQL pode entrar em conflito com o in√≠cio de outras.tais situa√ß√µes complicam bastante os analisadores. O T-SQL derrama √°gua no fogo, no qual o ponto-e-v√≠rgula √© opcional e o final poss√≠vel, mas n√£o obrigat√≥rio, de algumas instru√ß√µes SQL pode entrar em conflito com o in√≠cio de outras.tais situa√ß√µes complicam bastante os analisadores. O T-SQL derrama √°gua no fogo, no qual o ponto-e-v√≠rgula √© opcional e o final poss√≠vel, mas n√£o obrigat√≥rio, de algumas instru√ß√µes SQL pode entrar em conflito com o in√≠cio de outras.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainda n√£o acredita? Existe um mecanismo para descrever linguagens formais atrav√©s de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gram√°ticas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Gram√°tica √© um c√≥digo em um idioma que descreve outro. A partir de uma gram√°tica, voc√™ geralmente pode gerar um analisador usando uma ferramenta. As ferramentas e idiomas de descri√ß√£o gramatical mais famosos s√£o o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">YACC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ANTLR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Os analisadores gerados pelo YACC s√£o usados ‚Äã‚Äãdiretamente nos mecanismos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MariaDB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Voc√™ pode tentar lev√°-los diretamente do c√≥digo-fonte aberto e desenvolver a conclus√£o do c√≥digo e outras fun√ß√µes com base na an√°lise SQL com base neles. Al√©m disso, essa implementa√ß√£o receberia atualiza√ß√µes gratuitas em termos de desenvolvimento, e o analisador se comportaria como id√™ntico ao mecanismo de banco de dados. Ent√£o, por que usamos o ANTLR? Ele suporta qualitativamente C # /. NET, existem boas ferramentas para trabalhar com ele, sua sintaxe √© muito mais f√°cil de ler e escrever. A sintaxe do ANTLR acabou sendo t√£o conveniente que a Microsoft a usou recentemente na </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documenta√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> oficial do </font><font style="vertical-align: inherit;">C #.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voltemos √† minha prova da complexidade do SQL, em compara√ß√£o com outras linguagens, em termos de an√°lise. Para fazer isso, quero comparar os tamanhos da gram√°tica para diferentes idiomas dispon√≠veis publicamente. No dbForge, usamos nossas pr√≥prias gram√°ticas, elas s√£o mais completas do que as dispon√≠veis publicamente, mas, infelizmente, est√£o muito entupidas com inser√ß√µes de c√≥digo C # para oferecer suporte a fun√ß√µes diferentes, mais sobre isso na se√ß√£o "Analisando sem √°rvores" na se√ß√£o "Erros". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abaixo est√£o os tamanhos de gram√°tica para diferentes idiomas: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 475 linhas analisador + 273 lexer = 748 linhas </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Java</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 615 linhas analisador + 211 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lexer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 826 linhas </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C #</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 1159 linhas analisador + 433 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lexer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 1592 linhas </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C ++</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 1933 linhas </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MySQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- analisador de 2515 linhas + 1189 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lexer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 3704 linhas </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T-SQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - analisador de 4035 linhas + 896 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lexer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 4931 linhas </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PL SQL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - analisador de linhas 6719 + 2366 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lexer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 9085 linhas </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No final de alguns lexers, h√° uma enumera√ß√£o dos caracteres unicode dispon√≠veis no idioma, isso √© in√∫til em avalia√ß√£o da complexidade do idioma. Peguei o n√∫mero de linhas antes de iniciar essas transfer√™ncias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pode haver perguntas sobre a complexidade de analisar um idioma com base no n√∫mero de linhas em sua gram√°tica. As perguntas tamb√©m podem ser sobre a abund√¢ncia de gram√°ticas abertas em compara√ß√£o com a sintaxe real dos idiomas. Apesar disso, ainda considero √∫til fornecer esses n√∫meros, pois o spread √© muito grande.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso n√£o √© tudo, porque n√£o precisamos apenas analisar v√°rios arquivos no SQL. Estamos fazendo um IDE, o que significa que devemos trabalhar em scripts incompletos ou inv√°lidos. Mesmo se voc√™ escrever seus scripts sem erros, talvez voc√™ os escreva de forma inconsistente, √© improv√°vel que o script seja v√°lido durante todo o processo de seu desenvolvimento. Por exemplo, primeiro escrevo "SELECT FROM", ap√≥s o que terei o prazer de ver a lista de tabelas dispon√≠veis. Quando seleciono uma tabela, reorganizo o carro para SELECT, pressione a barra de espa√ßo e aguarde a lista de colunas dessa tabela espec√≠fica. Este √© um exemplo muito simples, mas mostra que o analisador que fornece a conclus√£o do c√≥digo no IDE n√£o pode falhar, com a exce√ß√£o de encontrar um script inv√°lido. Tivemos que criar muitos truques para garantir que a dica de ferramenta funcionasse corretamente em muitos desses cen√°rios,mas os usu√°rios ainda enviam cen√°rios diferentes para trabalhar com scripts inacabados, o que significa que precisamos criar novos truques.</font></font><br>
<a name="predicates"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guerras dedicadas</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao analisar o c√≥digo, √†s vezes h√° situa√ß√µes em que a pr√≥xima palavra n√£o deixa claro qual das duas alternativas escolher. </font><font style="vertical-align: inherit;">√Äs vezes, basta espiar um n√∫mero estritamente definido de palavras com anteced√™ncia e voc√™ pode definitivamente escolher uma alternativa. </font><font style="vertical-align: inherit;">O mecanismo para resolver esse tipo de imprecis√£o √© chamado de lookahead da ANTLR. </font><font style="vertical-align: inherit;">O m√©todo analisador, neste caso, √© constru√≠do como uma cadeia incorporada de ifs, cada um dos quais parece mais uma palavra. </font><font style="vertical-align: inherit;">Abaixo est√° um exemplo de gram√°tica que gera incerteza desse tipo.</font></font><br>
<br>
<pre><code class="lisp hljs">rule1:<font></font>
    'a' rule2 | rule3<font></font>
    <span class="hljs-comment">;</span><font></font>
<font></font>
rule2:<font></font>
    'b' 'c' 'd'<font></font>
    <span class="hljs-comment">;</span><font></font>
<font></font>
rule3:<font></font>
    'b' 'c' 'e'<font></font>
    <span class="hljs-comment">;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No meio da regra1, depois de passar o token 'a', o analisador ter√° que olhar 2 token adiante para escolher qual regra seguir. Mais uma vez, essa verifica√ß√£o ser√° feita dentro da regra. Essa gram√°tica pode ser reescrita para que essa apar√™ncia n√£o exista; infelizmente, a estrutura geralmente sofre com essas otimiza√ß√µes e o ganho de desempenho √© relativamente baixo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem mecanismos mais complexos para resolver incertezas mais complexas. Um deles √© o mecanismo de predicado de sintaxe (synpred) no ANTLR3.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele vem em socorro nesses casos em que, por exemplo, a conclus√£o opcional de uma cl√°usula cruza com o in√≠cio da outra opcional a seguir. </font><font style="vertical-align: inherit;">O predicado, em termos de ANTLR3, √© o m√©todo gerado, que faz uma passagem virtual pelo texto de acordo com uma das alternativas e, se for bem-sucedido, retorna verdadeiro, essa conclus√£o do predicado √© chamada de bem-sucedida. </font><font style="vertical-align: inherit;">O passe virtual tamb√©m √© chamado de passe de retorno. </font><font style="vertical-align: inherit;">Se o predicado funcionou com sucesso, √© feito um passo real. </font><font style="vertical-align: inherit;">Isso se torna um problema quando outro predicado come√ßa dentro de um predicado e, em seguida, uma se√ß√£o pode ser percorrida cem e mil vezes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considere um exemplo simplificado. </font><font style="vertical-align: inherit;">Existem 3 pontos de incerteza (A, B, C).</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O analisador entra em A, lembra a posi√ß√£o no texto, inicia uma passagem virtual do 1¬∫ n√≠vel.</font></font></li>
<li>   B,    ,    2- .</li>
<li>   C,    ,    3- .</li>
<li>     3- ,   2    .</li>
<li>     2 ,   1   B   .</li>
<li>    ,       A, B  .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim, todas as verifica√ß√µes dentro de C ser√£o realizadas 4 vezes, B - 3 vezes, A - 2 vezes. Mas e se a alternativa adequada for o segundo ou o terceiro da lista? Ent√£o, em algum est√°gio de um dos predicados, ele falhar√°, a posi√ß√£o no texto ser√° revertida e outro predicado come√ßar√° a ser executado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analisando repetidamente a causa do congelamento do aplicativo, nos deparamos com casos em que a ‚Äúcauda‚Äù sinprada foi executada milhares de vezes. Os Synpreds s√£o especialmente problem√°ticos em regras recursivas. Infelizmente, por sua natureza, o SQL √© recursivo, que √© pelo menos a capacidade de usar uma subconsulta em quase todos os lugares. √Äs vezes, com a ajuda de v√°rios truques e truques, acaba resultando na regra, de modo que o predicado se foi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, o synpred tem um efeito negativo no desempenho. Em algum momento, foi necess√°rio colocar sua popula√ß√£o sob controle estrito. O √∫nico problema √© que, ao escrever o c√≥digo gramatical, a apar√™ncia do synpred pode n√£o ser √≥bvia. Al√©m disso, √†s vezes uma mudan√ßa em uma regra leva ao aparecimento de um predicado em outra. Isso n√£o pode ser controlado manualmente. Para controlar o n√∫mero de predicados, escrevemos um regular simples, chamado por uma Tarefa MsBuild especial. Se o n√∫mero de predicados for diferente do n√∫mero especificado em um arquivo separado, a Tarefa interrompeu o assembly e relatou um erro. Vendo esse erro, o desenvolvedor teve que reescrever o c√≥digo de regra v√°rias vezes, tentando se livrar de predicados desnecess√°rios, possivelmente envolvendo outros desenvolvedores no problema. Se um predicado √© inevit√°vel,o desenvolvedor atualiza o n√∫mero de predicados no arquivo correspondente. Uma altera√ß√£o nesse arquivo chama aten√ß√£o extra para a revis√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em casos raros, at√© escrevemos nossos pr√≥prios predicados em C # para contornar os que o ANTLR gera. </font><font style="vertical-align: inherit;">Felizmente, esse mecanismo tamb√©m existe.</font></font><br>
<a name="bikes"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cool </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bike</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> solutions</font></font></h2><br>
<img src="https://habrastorage.org/webt/r2/sr/zk/r2srzksxi_3aseqm2bv50nwjfby.jpeg"><br>
<a name="inheritance"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Heran√ßa gramatical</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s o an√∫ncio de quaisquer altera√ß√µes em cada um dos DBMS que apoiamos, nosso trabalho para apoi√°-los come√ßa. Quase sempre, o ponto de partida para isso √© apoiar constru√ß√µes sint√°ticas na gram√°tica. Para cada dialeto SQL, escrevemos nossa pr√≥pria gram√°tica, isso gera alguma repeti√ß√£o do c√≥digo, mas, no final das contas, √© mais f√°cil do que procurar um comum entre eles. Apenas alguns anos atr√°s, o MySQL e o MariaDB eram muito semelhantes, escrever gram√°ticas separadas era impratic√°vel. Como essas poucas constru√ß√µes que estavam no MariaDB, mas n√£o estavam no MySQL, suportamos a gram√°tica do MySQL. Este foi um momento desagrad√°vel: para o usu√°rio do MySQL, poder√≠amos sugerir constru√ß√µes que n√£o seriam v√°lidas. Nos √∫ltimos anos, o MariaDB e o MySQL se tornaram muito divergentes em termos de sintaxe e mais. Ficou aparenteque √© errado oferecer suporte a dois idiomas diferentes na mesma gram√°tica.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma solu√ß√£o poss√≠vel pode ser uma c√≥pia completa da gram√°tica, ap√≥s a qual cada uma √© suportada separadamente. Como resultado de uma longa discuss√£o, tomamos uma decis√£o ousada. Estou muito feliz por n√£o termos copiado o c√≥digo, todas as c√©lulas em mim resistiram a essa decis√£o. Decidiu-se escrever seu pr√≥prio ANTLR, o pr√©-processador de gram√°tica, que implementa o mecanismo de heran√ßa gramatical. H√° algum tempo, deparei-me com uma gram√°tica ANTLR3 no reposit√≥rio oficial de gram√°ticas ANTLR4. Eu acho que essa frase precisa ser lida v√°rias vezes para perceber a profundidade da loucura.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Discutindo a id√©ia de heran√ßa, rapidamente percebemos que gostar√≠amos de ter um mecanismo para o polimorfismo. A capacidade da gram√°tica do herdeiro n√£o apenas redefinir a regra, mas tamb√©m chamar a base. Al√©m disso, quero controlar a posi√ß√£o da chamada da regra b√°sica: come√ßo, meio ou fim. Decidimos que todas as regras podem ser redefinidas, para isso voc√™ n√£o precisa especificar nada adicional. Para redefinir uma regra, basta declarar uma regra com o mesmo nome na gram√°tica sucessora. Depois disso, a regra da gram√°tica pai estar√° dispon√≠vel com um nome diferente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O ANTLR torna uma ferramenta agrad√°vel para o desenvolvimento ajustando - h√° uma extens√£o para o VS, h√° o ANTLRWorks. Apresentando o mecanismo de heran√ßa, eu n√£o gostaria de perder esta oportunidade. Mas como ent√£o indicar a gram√°tica b√°sica? Voc√™ pode criar algum tipo de conven√ß√£o para nomear arquivos, mas isso n√£o √© de todo √≥bvio. Outra op√ß√£o seria indicar essas informa√ß√µes adicionais em um arquivo separado, mas mesmo agora, ao digitar essas linhas, senti o cheiro dessa solu√ß√£o. A sa√≠da foi uma indica√ß√£o da gram√°tica b√°sica na gram√°tica do herdeiro no formato de um coment√°rio da ANTLR. Todas as ferramentas simplesmente ignoram esse texto e podemos facilmente extrair o c√≥digo que nos interessa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os requisitos foram formados, √© hora de implement√°-los. Escrevemos a Tarefa MsBuild, que foi incorporada ao sistema geral de compila√ß√£o como uma a√ß√£o de pr√©-compila√ß√£o. Task executou o trabalho do pr√©-processador de gram√°tica ANTLR, gerando a gram√°tica resultante da base e herdada. A gram√°tica resultante j√° foi processada pela pr√≥pria ANTLR. Se uma regra com o mesmo nome da pai for encontrada na gram√°tica sucessora, a regra b√°sica ser√° renomeada: o nome da gram√°tica pai ser√° adicionado ao seu nome ap√≥s o sublinhado. Por esse nome, ele poderia ser contatado no herdeiro.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O mecanismo do pr√©-processador em si n√£o demorou muito tempo, mas, juntamente com a gera√ß√£o do analisador, resultou em lentid√£o de todas as remontagens do projeto em 10 a 20 segundos. </font><font style="vertical-align: inherit;">Em algum momento, isso deixou de nos agradar. </font><font style="vertical-align: inherit;">Decidimos pensar em como isso pode ser otimizado. </font><font style="vertical-align: inherit;">A solu√ß√£o foi adicionar o hash da soma de todas as gram√°ticas das quais depende, na forma de um coment√°rio, ao cabe√ßalho do arquivo do analisador CS. </font><font style="vertical-align: inherit;">Antes de fazer qualquer coisa, o pr√©-processador comparava esses hashes com os arquivos do disco e, se eles n√£o diferiam, o arquivo do analisador era considerado relevante. </font><font style="vertical-align: inherit;">No est√°gio inicial de desenvolvimento, tivemos que analisar mais de uma vez os analisadores e gram√°ticas inv√°lidas coletadas pela vers√£o desatualizada do pr√©-processador. </font><font style="vertical-align: inherit;">Como resultado, a soma de hash da montagem com o pr√©-processador apareceu no coment√°rio do cabe√ßalho.</font></font><br>
<a name="postprocessing"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outra ANTLR de p√≥s-processamento</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em muitas linguagens de programa√ß√£o, se a palavra for a chave, ela n√£o poder√° mais ser usada como o nome do objeto. No SQL, dependendo do dialeto, de 800 a 3000 palavras-chave. A maioria deles est√° intimamente relacionada √† √°rea de assunto; al√©m disso, nem todos foram introduzidos imediatamente; portanto, a proibi√ß√£o de us√°-los como nomes de objetos seria recebida com uma onda de indigna√ß√£o. O SQL introduz o conceito de palavras-chave reservadas e n√£o reservadas. Voc√™ n√£o pode nomear um objeto da mesma maneira que uma palavra-chave reservada (SELECT, FROM etc) sem cit√°-lo, pois n√£o √© uma palavra-chave reservada (CONVERSATION, AVAILABILITY etc) - voc√™ pode. Esse comportamento complica o desenvolvimento do analisador. No momento da an√°lise lexical, o contexto √© desconhecido, mas o analisador requer n√∫meros diferentes para o identificador e a palavra-chave. Para resolver esse problema, adicionamos mais um p√≥s-processamento ao analisador ANTLR.O p√≥s-processamento substitui todas as verifica√ß√µes expl√≠citas por um identificador, com uma chamada para um m√©todo especial. Este m√©todo implementa uma verifica√ß√£o mais complicada. Se um identificador for inserido e outro for esperado, tudo estar√° bem, mas se uma palavra-chave n√£o reservada for fornecida √† entrada, ela dever√° ser verificada adicionalmente. Uma verifica√ß√£o adicional √© que o m√©todo √© examinado no contexto atual na procura por ramifica√ß√µes, onde essa palavra-chave n√£o reservada pode ser usada precisamente como uma palavra-chave e, se n√£o houver ramifica√ß√µes, pode ser usada como um identificador.mas se uma palavra-chave n√£o reservada for inserida, ela precisar√° ser verificada adicionalmente. Uma verifica√ß√£o adicional √© que o m√©todo √© examinado no contexto atual na procura por ramifica√ß√µes, onde essa palavra-chave n√£o reservada pode ser usada precisamente como uma palavra-chave e, se n√£o houver ramifica√ß√µes, pode ser usada como um identificador.mas se uma palavra-chave n√£o reservada for inserida, ela precisar√° ser verificada adicionalmente. Uma verifica√ß√£o adicional √© que o m√©todo √© examinado no contexto atual na procura por ramifica√ß√µes, onde essa palavra-chave n√£o reservada pode ser usada precisamente como uma palavra-chave e, se n√£o houver ramifica√ß√µes, pode ser usada como um identificador.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A rigor, esse problema s√≥ pode ser resolvido por meio do ANTLR, mas essa solu√ß√£o n√£o ser√° √≥tima. </font><font style="vertical-align: inherit;">Uma solu√ß√£o cl√°ssica para esse problema √© criar uma regra que lista todas as palavras-chave n√£o reservadas e um token de identificador. </font><font style="vertical-align: inherit;">Al√©m disso, sempre que for permitido usar um identificador, n√£o ser√° mais usado o token de identificador do identificador, mas essa √© uma regra especial. </font><font style="vertical-align: inherit;">Essa solu√ß√£o n√£o apenas faz com que voc√™ lembre-se de adicionar a palavra-chave quando a digita, n√£o apenas onde √© usada, mas tamb√©m nesta regra especial, mas tamb√©m funciona muito mais devagar.</font></font><br>
<a name="mistakes"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erros</font></font></h2><br>
<a name="trees"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">An√°lise sem √°rvores</font></font></h3><br>
<img src="https://habrastorage.org/webt/g1/ty/qw/g1tyqwxs43omgbkeozhr5ygvxw0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado do analisador, como regra, √© uma √°rvore de sintaxe. </font><font style="vertical-align: inherit;">Uma √°rvore de sintaxe ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">abstrata</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">concreta</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) √© uma estrutura de dados que reflete o texto do programa atrav√©s do prisma da gram√°tica formal. </font><font style="vertical-align: inherit;">Se voc√™ deseja implementar um editor de c√≥digo com preenchimento autom√°tico para o idioma criado recentemente, tendo estudado o problema, provavelmente implementar√° aproximadamente o seguinte algoritmo:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Analise o texto no editor. </font><font style="vertical-align: inherit;">Obtenha a √°rvore de sintaxe.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Encontre o n√≥ sob o carro. </font><font style="vertical-align: inherit;">Combine com a gram√°tica. </font><font style="vertical-align: inherit;">Descubra quais palavras-chave e tipos de objetos estar√£o dispon√≠veis no momento.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse caso, a gram√°tica √© convenientemente representada como um gr√°fico ou uma m√°quina de estados finitos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Infelizmente, no in√≠cio do desenvolvimento, o IDE ANTLR existia em sua terceira vers√£o. A quarta vers√£o foi reescrita do zero e √© fundamentalmente diferente da terceira; ao passar o c√≥digo, o analisador gerar√° automaticamente uma √°rvore de an√°lise sem uma √∫nica linha adicional. Na terceira vers√£o, havia um mecanismo pelo qual se podia dizer √† ANTLR como construir uma √°rvore, mas n√£o era muito agrad√°vel us√°-la. Al√©m disso, muitos exemplos e artigos sobre este t√≥pico sugeriram o uso do mecanismo de a√ß√µes para executar c√≥digo no momento em que o analisador passa a regra. Esse mecanismo √© incrivelmente conveniente e permite que voc√™ obtenha resultados rapidamente. Infelizmente, essa solu√ß√£o levou a grandes problemas de arquitetura com o desenvolvimento do produto e a um aumento na complexidade do suporte a novas funcionalidades. O fato √© que, em um arquivo, em um arquivo gramatical,as a√ß√µes come√ßaram a se acumular associadas a um grande n√∫mero de funcionalidades diferentes, o que seria bom para se espalhar para diferentes montagens. No futuro, fomos capazes de distribuir os manipuladores de a√ß√£o para diferentes montagens implementando uma vers√£o bastante complicada do padr√£o de notificador de assinante, mas as chamadas em si, com a transmiss√£o das informa√ß√µes necess√°rias, ainda bagun√ßam nossa gram√°tica, complicam o suporte de novas funcionalidades e imp√µem restri√ß√µes s√©rias e desagrad√°veis ‚Äã‚Äã√† arquitetura.complicam o suporte de novas funcionalidades e imp√µem restri√ß√µes s√©rias e desagrad√°veis ‚Äã‚Äã√† arquitetura.complicam o suporte de novas funcionalidades e imp√µem restri√ß√µes s√©rias e desagrad√°veis ‚Äã‚Äã√† arquitetura.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas nem tudo √© t√£o √≥bvio quanto parece. </font><font style="vertical-align: inherit;">O fato √© que o ANTLR3 √© muito mais r√°pido que o ANTLR4. </font><font style="vertical-align: inherit;">De acordo com nossas medidas, as diferen√ßas s√£o de cerca de 6 vezes. </font><font style="vertical-align: inherit;">Al√©m disso, a √°rvore de sintaxe para scripts grandes pode ocupar muito espa√ßo na RAM e, desde que tenhamos que sobreviver no espa√ßo de endere√ßo de 32 bits dos est√∫dios Visual e SqlServer Management, isso pode ser cr√≠tico.</font></font><br>
<a name="end"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os subtotais podem ser os seguintes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ANTLR uma ferramenta poderosa para construir analisadores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sua vantagem sobre os outros s√£o ferramentas, sintaxe conveniente, um grande n√∫mero de idiomas suportados</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ANTLR4 foi reescrito do zero e implica trabalhar com o analisador diferente da terceira vers√£o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sempre existe uma maneira de obter um pouco mais das bibliotecas do ThirdParty do que elas oferecem</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linguagem espec√≠fica do SQL, criar analisadores para ela n√£o √© uma tarefa f√°cil</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A an√°lise de c√≥digo para tarefas relacionadas √† cria√ß√£o de um IDE tem suas pr√≥prias peculiaridades: voc√™ precisa considerar trabalhar em scripts n√£o criptografados ou inv√°lidos</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vejo voc√™ na pr√≥xima parte!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt502406/index.html">Antiguidades: uma segunda abordagem para v√≠deo VHS, est√©reo Hi-Fi e sab√£o</a></li>
<li><a href="../pt502408/index.html">Falsifica√ß√µes e teorias da conspira√ß√£o. Como n√£o enlouquecer e salvar os outros?</a></li>
<li><a href="../pt502410/index.html">29¬∫ lan√ßamento bem-sucedido do ano. EUA. Lan√ßamento militar. "Avi√£o espacial" X-37</a></li>
<li><a href="../pt502412/index.html">Guilloch√© de uma maneira diferente</a></li>
<li><a href="../pt502414/index.html">FOSS News No. 16 - uma revis√£o do software livre e de c√≥digo aberto de 11 a 17 de maio de 2020</a></li>
<li><a href="../pt502418/index.html">Monitor de imagem 3D</a></li>
<li><a href="../pt502420/index.html">CSS Interessante Encontra no Design do Twitter</a></li>
<li><a href="../pt502432/index.html">O resumo de materiais frescos do mundo do front-end da √∫ltima semana n ¬∞ 415 (11 a 17 de maio de 2020)</a></li>
<li><a href="../pt502436/index.html">CI TeamCity - Automa√ß√£o de processos de compila√ß√£o de testes de Android e UI</a></li>
<li><a href="../pt502438/index.html">Python material. Cart√µes personalizados com efeitos OpenGL</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>