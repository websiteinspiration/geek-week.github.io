<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéê üçØ üëãüèø .NET: Traitement de la d√©pendance ü§ó üò¨ üßëüèº‚Äçü§ù‚Äçüßëüèª</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Qui n'a pas rencontr√© de probl√®mes dus √† la redirection d'assembly? Tr√®s probablement, tous ceux qui ont d√©velopp√© une application relativement volumi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>.NET: Traitement de la d√©pendance</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jugru/blog/499838/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qui n'a pas rencontr√© de probl√®mes dus √† la redirection d'assembly? </font><font style="vertical-align: inherit;">Tr√®s probablement, tous ceux qui ont d√©velopp√© une application relativement volumineuse seront t√¥t ou tard confront√©s √† ce probl√®me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, je travaille chez JetBrains, dans le projet JetBrains Rider, et je suis impliqu√© dans la t√¢che de migration de Rider vers .NET Core. </font><font style="vertical-align: inherit;">Auparavant engag√© dans une infrastructure partag√©e dans Circuit, une plateforme d'h√©bergement d'applications bas√©e sur le cloud. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/je/f5/e-/jef5e-nc0okqm_ssla0qhniugio.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sous la cin√©matique se trouve la transcription de mon rapport de la conf√©rence DotNext 2019 √† Moscou, o√π j'ai parl√© des difficult√©s lors de l'utilisation d'assemblys dans .NET et montr√© avec des exemples pratiques ce qui se passe et comment y faire face.</font></font><a name="habracut"></a><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/fMlTLw1agE0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans tous les projets o√π je travaillais en tant que d√©veloppeur .NET, j'ai d√ª faire face √† divers probl√®mes de connexion des d√©pendances et de chargement des assemblys. </font><font style="vertical-align: inherit;">Nous en parlerons.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Structure du poste:</font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Probl√®mes de d√©pendance</font></font></b></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chargement rigoureux du gr√©ement</font></font></b></a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redirection de liaison</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nom fort</font></font></a></li>
</ul><br>
</li>
<li><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET Core</font></font></a></b> <br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Framework partag√©s, .runtimeconfig.json</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manifeste de d√©pendance (.deps.json)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacks pour ex√©cuter JetBrains Rider sur Core</font></font></a></li>
</ul><br>
</li>
<li><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√©l√©chargements d'assemblages de d√©bogage</font></font></a> </b><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journaux de fusion</font></font></a> </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âv√©nements d'ex√©cution</font></font></a></li>
</ul><br>
</li>
</ol><br>
<a name="problems"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quels sont les probl√®mes de d√©pendance?</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'ils ont commenc√© √† d√©velopper le .NET Framework au d√©but des ann√©es 2000, le probl√®me de l'enfer de la d√©pendance √©tait d√©j√† connu, lorsque dans toutes les biblioth√®ques les d√©veloppeurs autorisent la rupture des modifications, et ces biblioth√®ques deviennent incompatibles avec le code d√©j√† compil√©. </font><font style="vertical-align: inherit;">Comment r√©soudre un tel probl√®me? </font><font style="vertical-align: inherit;">La premi√®re solution est √©vidente. </font><font style="vertical-align: inherit;">Maintenez toujours la compatibilit√© descendante. </font><font style="vertical-align: inherit;">Bien s√ªr, ce n'est pas tr√®s r√©aliste, car casser le changement est tr√®s facile √† mettre en code. </font><font style="vertical-align: inherit;">Par exemple: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/un/gj/tv/ungjtvaiofi7qkm6a4if5cpgh10.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rupture des modifications et biblioth√®ques .NET</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est un exemple sp√©cifique √† .NET. Nous avons une m√©thode et nous avons d√©cid√© d'y ajouter un param√®tre avec une valeur par d√©faut. Le code continuera √† √™tre compil√© si nous le r√©assemblons, mais binaire ce sera deux m√©thodes compl√®tement diff√©rentes: une m√©thode n'a aucun argument, la deuxi√®me m√©thode a un argument. Si le d√©veloppeur √† l'int√©rieur de la d√©pendance a rompu la compatibilit√© descendante de cette mani√®re, nous ne pourrons pas utiliser le code qui a √©t√© compil√© avec cette d√©pendance sur la version pr√©c√©dente.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La deuxi√®me solution aux probl√®mes de d√©pendance consiste √† ajouter des versions de biblioth√®ques, d'assemblages - n'importe quoi. Il peut y avoir des r√®gles de version diff√©rentes, le fait est que nous pouvons en quelque sorte distinguer diff√©rentes versions de la m√™me biblioth√®que les unes des autres, et vous pouvez comprendre si la mise √† jour s'arr√™tera ou non. Malheureusement, d√®s que nous introduisons les versions, un autre type de probl√®me appara√Æt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vg/xc/wu/vgxcwufmesq4jly-ecfrh5p-ko8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'enfer des versions est l'impossibilit√© d'utiliser une d√©pendance qui est compatible binaire, mais qui a en m√™me temps une version qui ne correspondait pas √† l'ex√©cution ou √† un autre composant qui v√©rifie ces versions. Dans .NET, une manifestation typique de l'enfer de version est FileLoadException, bien que le fichier se trouve sur le disque, mais pour une raison quelconque, il n'est pas charg√© avec runtime.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qy/wg/5m/qywg5mjhpkuogm6yez7uhnxitji.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans .NET, les assemblys ont de nombreuses versions diff√©rentes - ils ont essay√© de corriger les hells de version de diff√©rentes mani√®res et de voir ce qui s'est pass√©. Nous avons un package </font></font><code>System.Collections.Immutable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Beaucoup de gens le connaissent. Il dispose de la derni√®re version du package NuGet 1.6.0. Il contient une biblioth√®que, un assemblage avec la version 1.2.4.0. Vous avez re√ßu que vous ne disposez pas d'une biblioth√®que de build version 1.2.4.0. Comment comprendre qu'il se trouve dans le package NuGet 1.6.0? √áa ne sera pas facile. En plus de la version d'assemblage, cette biblioth√®que a plusieurs autres versions. Par exemple, Version du fichier d'assemblage, Version des informations d'assemblage. Ce package NuGet contient en fait trois assemblys diff√©rents avec les m√™mes versions (pour diff√©rentes versions de la norme .NET). </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation .NET </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Norme Opbuild</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De nombreuses documentations ont √©t√© √©crites sur la fa√ßon de travailler avec des assemblys dans .NET. </font><font style="vertical-align: inherit;">Il existe un guide .NET pour d√©velopper des applications modernes pour .NET prenant en compte le .NET Framework, .NET Standard, .NET Core, l'open source et tout ce qui peut √™tre. </font><font style="vertical-align: inherit;">Environ 30% du document entier est consacr√© au chargement des assemblages. </font><font style="vertical-align: inherit;">Nous analyserons des probl√®mes sp√©cifiques et des exemples pouvant survenir.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi tout cela est-il n√©cessaire? </font><font style="vertical-align: inherit;">Tout d'abord, pour √©viter de monter sur un r√¢teau. </font><font style="vertical-align: inherit;">Deuxi√®mement, vous pouvez faciliter la vie des utilisateurs de vos biblioth√®ques car avec votre biblioth√®que, ils n'auront pas les probl√®mes de d√©pendance auxquels ils sont habitu√©s. </font><font style="vertical-align: inherit;">Il vous aidera √©galement √† g√©rer la migration d'applications complexes vers .NET Core. </font><font style="vertical-align: inherit;">Et pour couronner le tout, vous pouvez devenir un SRE, c'est un ing√©nieur de redirection senior (contraignant), auquel tout le monde dans l'√©quipe vient et demande comment √©crire une autre redirection.</font></font><a name="assembly"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assemblage strict Chargement</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le chargement d'assemblage strict est le principal probl√®me auquel les d√©veloppeurs sur .NET Framework sont confront√©s. </font><font style="vertical-align: inherit;">Elle s'exprime en </font></font><code>FileLoadException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Avant de passer √† l'assemblage strict se chargeant lui-m√™me, permettez-moi de vous rappeler quelques √©l√©ments de base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous cr√©ez une application .NET, vous vous retrouvez avec un artefact, qui se trouve g√©n√©ralement dans Bin / Debug ou Bin / Release, et contient un certain ensemble d'assemblys d'assemblage et de fichiers de configuration. </font><font style="vertical-align: inherit;">Les assemblages se r√©f√©reront les uns aux autres par leur nom, nom de l'assemblage. </font><font style="vertical-align: inherit;">Il est important de comprendre que les liens d'assembly se trouvent directement dans l'assembly qui r√©f√©rence cet assembly; il n'y a pas de fichiers de configuration magiques dans lesquels les r√©f√©rences d'assembly sont √©crites. </font><font style="vertical-align: inherit;">M√™me s'il peut vous sembler que de tels fichiers existent. </font><font style="vertical-align: inherit;">Les r√©f√©rences sont dans les assemblages eux-m√™mes sous forme binaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans .NET, il existe un processus de r√©solution d'assembly - c'est lorsque la d√©finition d'assembly est d√©j√† convertie en un assembly r√©el, qui est sur le disque ou charg√© quelque part en m√©moire. La r√©solution d'assembly est effectu√©e deux fois: au stade de la construction, lorsque vous avez des r√©f√©rences dans * .csproj, et √† l'ex√©cution, lorsque vous avez des r√©f√©rences √† l'int√©rieur des assemblys, et selon certaines r√®gles, ils se transforment en assemblys qui peuvent √™tre t√©l√©charg√©s. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">// Nom simple </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MyAssembly, Version = 6.0.0.0, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Culture = neutre, PublicKeyToken = null </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
// Nom fort </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Newtonsoft.Json, Version = 6.0.0.0, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Culture = neutre, PublicKeyToken = 30ad4fe6b2a6aeed // PublicKey</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons au probl√®me. Nom de l'assemblage Il existe deux types principaux. Le premier type de nom d'assembly est le nom simple. Ils sont faciles √† identifier par le fait qu'ils ont PublicKeyToken = null. Il y a un nom Strong, il est facile de les identifier par le fait que leur PublicKeyToken n'est pas nul, mais une certaine valeur. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/40/0v/uf/400vuf0e3w-ykw2fkdx2-ufdutq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons un exemple. Nous avons un programme qui d√©pend de la biblioth√®que avec les utilitaires MyUtils, et la version de MyUtils est 9.0.0.0. Le m√™me programme a un lien vers une autre biblioth√®que. Cette biblioth√®que souhaite √©galement utiliser MyUtils, mais la version 6.0.0.0. La version 9.0.0.0 et la version 6.0.0.0 de MyUtils ont PublicKeyToken = null, c'est-√†-dire qu'elles ont un nom simple. Quelle version tombera dans l'artefact binaire, 6.0.0.0 ou 9.0.0.0? 9√®me version. Ma biblioth√®que peut-elle utiliser la version 9.0.0.0 de MyUtils, qui est entr√©e dans l'artefact binaire?</font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/fs/2x/jsfs2xd1erckl8dkphbrhojfhxk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, il peut, car MyUtils a un nom simple et, en cons√©quence, le chargement d'assembly Strict n'existe pas pour lui. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kz/tn/a6/kztna61effl0kkiuwnkvi1gpad8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre exemple. </font><font style="vertical-align: inherit;">Au lieu de MyUtils, nous avons une biblioth√®que compl√®te de NuGet, qui a un nom fort. </font><font style="vertical-align: inherit;">La plupart des biblioth√®ques de NuGet ont un nom fort.</font></font><br>
<br>
<a name="redirects"></a><img src="https://habrastorage.org/webt/rr/xp/qi/rrxpqilvehdbvemijol2iuutbie.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au stade de la construction, la version 9.0.0.0 est copi√©e sur BIN, mais au moment de l'ex√©cution, nous obtenons la fameuse </font></font><code>FileLoadException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pour que MyLibrary, qui veut que la version 6.0.0.0 </font></font><code>Newtonsoft.Json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, puisse utiliser la version 9.0.0.0, vous devez aller √©crire la redirection de liaison vers </font></font><code>App.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redirection de liaison</font></font></h3><br>
<br>
<img src="https://habrastorage.org/webt/lw/d_/yq/lwd_yq2otb7kqsbpkpglszjlr-y.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redirection des versions d'assembly</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il indique qu'un assembly avec un tel nom et un tel publicKeyToken doit √™tre redirig√© d'une telle gamme de versions vers une telle gamme de versions. </font><font style="vertical-align: inherit;">Il semble que ce soit un enregistrement tr√®s simple, mais il se trouve n√©anmoins ici </font></font><code>App.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais pourrait se trouver dans d'autres fichiers. </font><font style="vertical-align: inherit;">Il existe un fichier </font></font><code>machine.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† l'int√©rieur du .NET Framework, √† l'int√©rieur du runtime, dans lequel un ensemble standard de redirections est d√©fini, qui peut diff√©rer d'une version √† l'autre du .NET Framework. </font><font style="vertical-align: inherit;">Il peut arriver que sur 4.7.1 rien ne fonctionne pour vous, mais sur 4.7.2 cela fonctionne d√©j√†, ou vice versa. </font><font style="vertical-align: inherit;">Vous devez garder √† l'esprit que les redirections peuvent provenir non seulement de la v√¥tre </font></font><code>.App.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et cela doit √™tre pris en compte lors du d√©bogage.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous simplifions l'√©criture des redirections</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Personne ne veut √©crire des redirections de liaison avec leurs mains. Donnons cette t√¢che √† MSBuild! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pg/qk/ct/pgqkctk1hwcp0lewpamhi5wn35o.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment activer et d√©sactiver la redirection de liaison automatique</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Quelques conseils pour simplifier l'utilisation de la redirection de liaison. Astuce 1: Activez la g√©n√©ration automatique de redirection de liaison dans MSBuild. Allum√© par la propri√©t√© en </font></font><code>*.csproj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Lors de la construction d'un projet, il entrera dans un artefact binaire </font></font><code>App.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ce qui indique des redirections vers des versions de biblioth√®ques qui se trouvent dans le m√™me artefact. Cela ne fonctionne que pour ex√©cuter des applications, une application console, WinExe. Pour les biblioth√®ques, cela ne fonctionne pas, car pour les biblioth√®ques</font></font><code>App.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le plus souvent, il n'est tout simplement pas pertinent, car il est pertinent pour une application qui lance et charge les assemblages elle-m√™me. Si vous avez fait une configuration pour la biblioth√®que, dans l'application, certaines d√©pendances peuvent √©galement diff√©rer de celles qui √©taient lors de la construction de la biblioth√®que, et il s'av√®re que la configuration de la biblioth√®que n'a pas beaucoup de sens. N√©anmoins, parfois, pour les biblioth√®ques, les configurations ont toujours un sens. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ik/g6/6n/ikg66nyqel3ejmqbln9xb1magyq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La situation lorsque nous √©crivons des tests. Les tests se trouvent g√©n√©ralement dans ClassLibrary et ils ont √©galement besoin de redirections. Les frameworks de test sont capables de reconna√Ætre que la biblioth√®que avec les tests a une configuration dll et d'√©changer les redirections qui s'y trouvent pour le code des tests. Vous pouvez g√©n√©rer ces redirections automatiquement. Si nous avons un ancien format</font></font><code>*.csproj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pas de style SDK, vous pouvez utiliser la m√©thode simple, changer le OutputType en Exe et ajouter un point d'entr√©e vide, cela forcera MSBuild √† g√©n√©rer des redirections. Vous pouvez aller dans l'autre sens et utiliser le hack. Vous pouvez ajouter une autre propri√©t√© √† </font></font><code>*.csproj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ce qui fait que MSBuild consid√®re que pour ce OutputType, vous devez toujours g√©n√©rer des redirections de liaison. Cette m√©thode, bien qu'elle ressemble √† un hack, vous permettra de g√©n√©rer des redirections pour les biblioth√®ques qui ne peuvent pas √™tre refaites dans Exe, et pour d'autres types de projets (√† l'exception des tests). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le nouveau format, les </font></font><code>*.csproj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">redirections seront g√©n√©r√©es elles-m√™mes si vous utilisez Microsoft.NET.Test.Sdk moderne.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Troisi√®me conseil: n'utilisez pas la g√©n√©ration de redirection de liaison avec NuGet. NuGet a la capacit√© de g√©n√©rer une redirection de liaison pour les biblioth√®ques qui passent des packages aux derni√®res versions, mais ce n'est pas la meilleure option. Toutes ces redirections devront √™tre ajout√©es </font></font><code>App.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et valid√©es, et si vous g√©n√©rez des redirections √† l'aide de MSBuild, les redirections sont g√©n√©r√©es lors de la g√©n√©ration. Si vous les validez, vous pouvez avoir des conflits de fusion. Vous-m√™me pouvez simplement oublier de mettre √† jour la redirection de liaison dans le fichier, et si elles sont g√©n√©r√©es pendant la construction, vous n'oublierez pas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yi/fr/zq/yifrzq4fnvwitenrhkteup1cjfq.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©soudre la r√©f√©rence d' </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assembly G√©n√©rer des redirections de liaison</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devoirs pour ceux qui veulent mieux comprendre comment fonctionne la g√©n√©ration de redirections de liaison: d√©couvrez comment cela fonctionne, voyez ceci dans le code. Allez dans le r√©pertoire .NET, allez bump partout avec la propri√©t√© name, qui est utilis√©e pour activer la g√©n√©ration. Il s'agit g√©n√©ralement d'une telle approche courante, s'il existe une propri√©t√© √©trange pour MSBuild, vous pouvez profiter de son utilisation. Heureusement, la propri√©t√© est g√©n√©ralement utilis√©e dans les configurations XML, et vous pouvez facilement trouver leur utilisation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous examinez le contenu de ces cibles XML, vous verrez que cette propri√©t√© d√©clenche deux t√¢ches MSBuild. La premi√®re t√¢che est appel√©e </font></font><code>ResolveAssemblyReferences</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et g√©n√®re un ensemble de redirections qui sont √©crites dans des fichiers. La deuxi√®me t√¢che </font></font><code>GenerateBindingRedirects</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©crit les r√©sultats de la premi√®re t√¢che dans</font></font><code>App.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Il existe une logique XML qui corrige l√©g√®rement le fonctionnement de la premi√®re t√¢che et supprime certaines redirections inutiles ou en ajoute de nouvelles.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alternative aux configurations XML</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'est pas toujours pratique de conserver les redirections dans la configuration XML. </font><font style="vertical-align: inherit;">Nous pouvons avoir une situation o√π l'application t√©l√©charge le plugin, et ce plugin utilise d'autres biblioth√®ques qui n√©cessitent des redirections. </font><font style="vertical-align: inherit;">Dans ce cas, nous ne connaissons peut-√™tre pas l'ensemble des redirections dont nous avons besoin, ou nous ne souhaitons pas g√©n√©rer de XML. </font><font style="vertical-align: inherit;">Dans une telle situation, nous pouvons cr√©er un AppDomain et, quand il est cr√©√©, toujours y transf√©rer o√π se trouve le XML avec les redirections n√©cessaires. </font><font style="vertical-align: inherit;">Nous pouvons √©galement g√©rer les erreurs de chargement des assemblages directement pendant l'ex√©cution. </font><font style="vertical-align: inherit;">Rantime .NET offre une telle opportunit√©.</font></font><br>
<br>
<pre><code class="cs hljs">AppDomain.CurrentDomain.AssemblyResolve += (sender, eventArgs) =&gt; <font></font>
{ <font></font>
   <span class="hljs-keyword">var</span> name = eventArgs.Name; 
   <span class="hljs-keyword">var</span> requestingAssembly = eventArgs.RequestingAssembly; <font></font>
   <font></font>
   <span class="hljs-keyword">return</span> Assembly.LoadFrom(...); <span class="hljs-comment">// PublicKeyToken should be equal</span><font></font>
};<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il a un √©v√©nement, il s'appelle </font></font><code>CurrentDomain.AssemblyResolve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. En vous abonnant √† cet √©v√©nement, nous recevrons des erreurs concernant tous les t√©l√©chargements d'assembly ayant √©chou√©. Nous obtenons le nom de l'assembly qui n'a pas √©t√© charg√© et nous obtenons l'assembly d'assembly qui a demand√© le premier assembly √† charger. Ici, nous pouvons charger manuellement l'assembly au bon endroit, par exemple, en supprimant la version, en la prenant simplement du fichier et en renvoyant cet √©v√©nement √† partir du gestionnaire. Ou renvoyez null si nous n'avons rien √† retourner, si nous ne pouvons pas charger l'assembly. PublicKeyToken doit √™tre le m√™me, les assemblys avec diff√©rents PublicKeyToken ne sont en aucun cas amis entre eux.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8q/m7/ge/8qm7ge64h4pbldvju9ya91uz8zm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cet √©v√©nement s'applique √† un seul domaine d'application. </font><font style="vertical-align: inherit;">Si notre plugin cr√©e un AppDomain en lui-m√™me, alors cette redirection dans le runtime ne fonctionnera pas en eux. </font><font style="vertical-align: inherit;">Vous devez en quelque sorte vous abonner √† cet √©v√©nement dans tous les AppDomain que le plugin a cr√©√©s. </font><font style="vertical-align: inherit;">Nous pouvons le faire en utilisant AppDomainManager. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AppDomainManager est un assembly s√©par√© qui contient une classe qui impl√©mente une interface sp√©cifique, et l'une des m√©thodes de cette interface vous permettra d'initialiser tout nouveau AppDomain cr√©√© dans l'application. </font><font style="vertical-align: inherit;">Une fois l'AppDomain cr√©√©, cette m√©thode sera appel√©e. </font><font style="vertical-align: inherit;">Vous pouvez y souscrire √† cet √©v√©nement.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chargement d'assemblage strict et .NET Core</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans .NET Core, il n'y a pas de probl√®me appel√© ¬´chargement d'assemblage strict¬ª, car les assemblys sign√©s n√©cessitent exactement la version demand√©e. Il y a une autre exigence. Pour tous les assemblys, qu'ils soient sign√©s par Strong name ou non, il est v√©rifi√© que la version charg√©e lors de l'ex√©cution est sup√©rieure ou √©gale √† la pr√©c√©dente. Si nous sommes dans la situation d'une application avec des plugins, nous pouvons avoir une telle situation que le plugin a √©t√© collect√©, par exemple, √† partir d'une nouvelle version du SDK, et l'application dans laquelle il est t√©l√©charg√© utilise jusqu'√† pr√©sent l'ancienne version du SDK, et au lieu de s'effondrer nous pouvons √©galement souscrire √† cet √©v√©nement, mais d√©j√† dans .NET Core, et √©galement charger l'assembly que nous avons. Nous pouvons √©crire ce code:</font></font><br>
<pre><code class="cs hljs">AppDomain.CurrentDomain.AssemblyResolve += (s, eventArgs) =&gt; <font></font>
{ <font></font>
     CheckForRecursion(); <font></font>
     <span class="hljs-keyword">var</span> name = eventArgs.Name;
     <span class="hljs-keyword">var</span> requestingAssembly = eventArgs.RequestingAssembly; <font></font>
    <font></font>
     name.Version = <span class="hljs-keyword">new</span> Version(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>); <font></font>
     <font></font>
     <span class="hljs-keyword">return</span> Assembly.Load(name); <font></font>
};<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons le nom de l'assembly qui n'a pas d√©marr√©, nous annulons la version et l'appelons √† </font></font><code>Assembly.Load</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partir de la m√™me version. Il n'y aura pas de r√©cursivit√© ici, car j'ai d√©j√† v√©rifi√© la r√©cursivit√©. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mt/cs/kr/mtcskrokxuvcn8i4gueywowb3_m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il √©tait n√©cessaire de t√©l√©charger la version 0.0.2.0 de MyUtils. Dans BIN, nous avons la version 0.0.1.0 de MyUtils. Nous avons fait une redirection de la version 0.0.2.0 vers la version 0.0. La version 0.0.1.0 ne se chargera pas avec nous. Une sortie s'envolera pour nous qu'il n'a pas √©t√© possible de charger l'assembly avec la version 0.0.2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16‚Äì1</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16‚Äì1</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">new</span> Version(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>) == <span class="hljs-keyword">new</span> Version(<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">-1</span>, <span class="hljs-number">-1</span>) <font></font>
<font></font>
<span class="hljs-keyword">class</span> <span class="hljs-title">Version</span> { 
     <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">int</span> _Build; 
     <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">int</span> _Revision; 
     <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">int</span> _Major; 
     <span class="hljs-keyword">readonly</span> <span class="hljs-keyword">int</span> _Minor; <font></font>
} <font></font>
(<span class="hljs-keyword">ushort</span>) <span class="hljs-number">-1</span> == <span class="hljs-number">65535</span>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la classe Version, tous les composants ne sont pas obligatoires, et au lieu des composants facultatifs ‚Äì1 sont stock√©s, mais quelque part √† l'int√©rieur, un d√©bordement se produit et les 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16‚Äì1</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont obtenus </font><font style="vertical-align: inherit;">. Si vous √™tes int√©ress√©, vous pouvez essayer de trouver exactement o√π le d√©bordement se produit. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/m5/bl/vl/m5blvl8u1xrfdigr0ay45_ps3q8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous travaillez avec des assemblages de r√©flexion et souhaitez obtenir tous les types, il peut s'av√©rer que tous les types ne peuvent pas obtenir votre m√©thode GetTypes. Un assembly a une classe qui h√©rite d'une autre classe qui se trouve dans un assembly qui n'est pas charg√©.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> IEnumerable <span class="hljs-title">GetTypesSafe</span>(<span class="hljs-params"><span class="hljs-keyword">this</span> Assembly assembly</span>)</span> <font></font>
{ <font></font>
    <span class="hljs-keyword">try</span> <font></font>
    { <font></font>
        <span class="hljs-keyword">return</span> assembly.GetTypes(); <font></font>
    }<font></font>
    <span class="hljs-keyword">catch</span> (ReflectionTypeLoadException e) <font></font>
   { <font></font>
        <span class="hljs-keyword">return</span> e.Types.Where(x =&gt; x != <span class="hljs-literal">null</span>); <font></font>
    } <font></font>
}<font></font>
<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, le probl√®me sera qu'une exception ReflectionTypeLoadException sera lev√©e. </font><font style="vertical-align: inherit;">√Ä l'int√©rieur, </font></font><code>ReflectionTypeLoadException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il y a une propri√©t√© dans laquelle il y a ces types qui ont quand m√™me r√©ussi √† √™tre charg√©s. </font><font style="vertical-align: inherit;">Toutes les biblioth√®ques populaires ne tiennent pas compte de cette chose. </font><font style="vertical-align: inherit;">AutoMapper, au moins une de ses versions, s'il est confront√© √† ReflectionTypeLoadException, vient de tomber, au lieu d'aller chercher les types √† l'int√©rieur de l'exception.</font></font><a name="name"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nom fort</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assemblages √† nom fort</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Parlons des causes du chargement strict des assemblages, il s'agit du nom fort. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le nom fort est la signature de l'assembly par une cl√© priv√©e utilisant un cryptage asym√©trique. PublicKeyToken est le hachage de cl√© publique de cet assembly. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un nom fort vous permet de distinguer les diff√©rents assemblys qui portent le m√™me nom. Par exemple, MyUtils n'est pas un nom unique, il peut y avoir plusieurs assemblys avec ce nom, mais si vous signez Strong name, ils auront diff√©rents PublicKeyToken et nous pouvons les distinguer de cette fa√ßon. Un nom fort est requis pour certains sc√©narios de chargement d'assembly.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, afin d'installer un assembly dans le Global Assembly Cache ou de t√©l√©charger plusieurs versions de c√¥te √† c√¥te √† la fois. </font><font style="vertical-align: inherit;">Plus important encore, les assemblys nomm√©s forts ne peuvent r√©f√©rencer que d'autres assemblys nomm√©s forts. </font><font style="vertical-align: inherit;">√âtant donn√© que certains utilisateurs souhaitent signer leurs versions avec un nom fort, les d√©veloppeurs de biblioth√®ques signent √©galement leurs biblioth√®ques, de sorte qu'il est plus facile pour les utilisateurs de les installer, de sorte que les utilisateurs n'aient pas √† re-signer ces biblioth√®ques.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nom fort: Legacy?</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noms forts et biblioth√®ques .NET</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Microsoft dit explicitement sur MSDN que vous ne devez pas utiliser de nom fort √† des fins de s√©curit√©, qu'ils ne fournissent que pour distinguer diff√©rents assemblys portant le m√™me nom. La cl√© d'assemblage ne peut en aucun cas √™tre modifi√©e; si vous la modifiez, vous interromprez les redirections vers tous vos utilisateurs. Si vous avez une partie priv√©e de la cl√© du nom fort divulgu√© √† l'acc√®s public, vous ne pouvez en aucun cas retirer cette signature. Le format de fichier SNK dans lequel se trouve le nom fort ne fournit pas une telle opportunit√©, et d'autres formats de stockage de cl√©s contiennent au moins un lien vers la liste de r√©vocation de certificats CRL, par laquelle on peut comprendre que ce certificat n'est plus valide. Il n'y a rien de tel dans SNK.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le guide Open-source contient les recommandations suivantes. Premi√®rement, pour des raisons de s√©curit√©, utilisez √©galement d'autres technologies. Deuxi√®mement, si vous avez une biblioth√®que open source, il est g√©n√©ralement sugg√©r√© de valider la partie priv√©e de la cl√© dans le r√©f√©rentiel, afin qu'il soit plus facile pour les gens de bifurquer votre biblioth√®que, de la reconstruire et de la placer dans une application pr√™te √† l'emploi. Troisi√®mement, ne changez jamais de nom fort. Trop destructeur. Malgr√© le fait qu'il soit trop destructeur et √©crit √† ce sujet dans le guide Open-source, Microsoft a parfois des probl√®mes avec ses propres biblioth√®ques.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ue/kg/l3/uekgl3iwrexq7ejjbabccq4y4p4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe une biblioth√®que appel√©e System.Reactive. </font><font style="vertical-align: inherit;">Auparavant, il s'agissait de plusieurs packages NuGet, l'un d'eux est Rx-Linq. </font><font style="vertical-align: inherit;">Ceci est juste un exemple, le m√™me pour les autres packages. </font><font style="vertical-align: inherit;">Dans la deuxi√®me version, il a √©t√© sign√© avec une cl√© Microsoft. </font><font style="vertical-align: inherit;">Dans la troisi√®me version, il est pass√© au r√©f√©rentiel du projet </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/dotnet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et a commenc√© √† avoir une signature .NET Foundation. </font><font style="vertical-align: inherit;">La biblioth√®que, en fait, a chang√© de nom fort. </font><font style="vertical-align: inherit;">Le package NuGet a √©t√© renomm√©, mais l'assembly est appel√© √† l'int√©rieur exactement comme avant. </font><font style="vertical-align: inherit;">Comment rediriger de la deuxi√®me version vers la troisi√®me? </font><font style="vertical-align: inherit;">Cette redirection ne peut pas √™tre effectu√©e.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Validation forte du nom</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment: d√©sactiver la fonction de contournement de nom fort</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre argument selon lequel le nom fort est d√©j√† une chose du pass√© et reste purement formel est qu'ils ne sont pas valid√©s. Nous avons un assembly sign√© et nous voulons corriger une sorte de bogue, mais nous n'avons pas acc√®s aux sources. Nous pouvons simplement prendre dnSpy - c'est un utilitaire qui vous permet de d√©compiler et de corriger les assemblys d√©j√† compil√©s. Tout fonctionnera pour nous. Parce que par d√©faut, le contournement de la validation du nom fort est activ√©, c'est-√†-dire qu'il v√©rifie uniquement que le PublicKeyToken est √©gal et que l'int√©grit√© de la signature elle-m√™me n'est pas v√©rifi√©e. Il peut y avoir des √©tudes environnementales dans lesquelles la signature est toujours v√©rifi√©e, et ici un exemple frappant est IIS. L'int√©grit√© de la signature est v√©rifi√©e sur IIS (le contournement de la validation du nom fort est d√©sactiv√© par d√©faut) et tout se cassera si nous modifions l'assembly sign√©. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une addition:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous pouvez d√©sactiver la v√©rification de signature pour l'assembly √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aide </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">de signe public.</font></a><font style="vertical-align: inherit;"> Avec lui, seule la cl√© publique est utilis√©e pour la signature, ce qui garantit la s√©curit√© du nom de l'assembly. Les cl√©s publiques utilis√©es par Microsoft sont publi√©es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Rider, la signature publique peut √™tre activ√©e dans les propri√©t√©s du projet. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vl/_j/ct/vl_jctjjgui-mbcgo5uyzd26lrc.png"><br>
<br>
<img src="https://habrastorage.org/webt/ni/if/hp/niifhpriuvymkfhz78sdeaigs54.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quand changer les versions de l'assemblage de fichiers</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le guide open-source propose √©galement une politique de gestion des versions, dont le but est de r√©duire le nombre de redirections de liaison et de modifications n√©cessaires pour les utilisateurs sur le Framework NET. Cette politique de version est que nous ne devons pas changer constamment la version de l'assembly. Bien s√ªr, cela peut entra√Æner des probl√®mes d'installation dans le GAC, de sorte que l'image native install√©e peut ne pas correspondre √† l'assembly et vous devez effectuer √† nouveau la compilation JIT, mais, √† mon avis, c'est moins mal que les probl√®mes de version. Dans le cas de CrossGen, les assemblys natifs ne sont pas install√©s globalement - il n'y aura aucun probl√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, le package NuGet Newtonsoft.Json, il a plusieurs versions: 12.0.1, 12.0.2, etc. - tous ces packages ont un assembly avec la version 12.0.0.0. </font><font style="vertical-align: inherit;">La recommandation est que la version de l'assembly soit mise √† jour lorsqu'une version majeure du package NuGet change.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©sultats</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suivez les conseils pour le .NET Framework: g√©n√©rez des redirections manuellement et essayez d'utiliser la m√™me version de d√©pendances dans tous les projets de votre solution. </font><font style="vertical-align: inherit;">Cela devrait consid√©rablement r√©duire le nombre de redirections. </font><font style="vertical-align: inherit;">Vous avez besoin d'un nom fort uniquement si vous avez un sc√©nario de chargement de build sp√©cifique o√π il est n√©cessaire, ou si vous d√©veloppez une biblioth√®que et souhaitez simplifier la vie des utilisateurs qui ont vraiment besoin d'un nom fort. </font><font style="vertical-align: inherit;">Ne changez pas le nom fort.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Norme .NET</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous passons √† .NET Standard. Il est assez √©troitement li√© √† la version Hell dans le .NET Framework. .NET Standard est un outil pour √©crire des biblioth√®ques compatibles avec diverses impl√©mentations de la plate-forme .NET. Les impl√©mentations font r√©f√©rence √† .NET Framework, .NET Core, Mono, Unity et Xamarin. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hk/-a/-u/hk-a-u16d-oitjurhvta7lhafdi.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Lien vers la documentation</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit du tableau de prise en charge de .NET Standard pour diff√©rentes versions de diff√©rentes versions de runtimes. Et ici, nous pouvons voir que le .NET Framework ne prend en aucun cas en charge la version 2.1 .NET Standard. La sortie du .NET Framework, qui prendra en charge la norme .NET 2.1 et versions ult√©rieures, n'est pas encore pr√©vue. Si vous d√©veloppez une biblioth√®que et souhaitez qu'elle fonctionne pour les utilisateurs sur .NET Framework, vous devrez avoir une cible pour .NET Standard 2.0. Outre le fait que .NET Framework ne prend pas en charge la derni√®re version de la norme .NET, pr√™tons attention √† l'ast√©risque. Le .NET Framework 4.6.1 prend en charge .NET Standard 2.0, mais avec un ast√©risque. Il y a une telle note directement dans la documentation, o√π ai-je obtenu ce tableau.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ay/mq/yu/aymqyunvnqjivv13dpqkrzvac6i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons un exemple de projet. Une application sur le .NET Framework qui a une d√©pendance ciblant la norme .NET. Quelque chose comme √ßa: ConsoleApp et ClassLibrary. Biblioth√®que cible .NET Standard. Lorsque nous assemblerons ce projet, ce sera comme √ßa dans notre BIN. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fh/62/og/fh62og_vou9gzibnv5gdd2mp_uk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous aurons une centaine de DLL, dont une seule li√©e √† l'application, tout le reste est venu pour prendre en charge la norme .NET. Le fait est que .NET Standard 2.0 est apparu plus tard que .NET Framework 4.6.1, mais en m√™me temps, il s'est av√©r√© √™tre compatible avec l'API, et les d√©veloppeurs ont d√©cid√© d'ajouter la prise en charge de Standard 2.0 √† .NET 4.6.1. Nous ne l'avons pas fait en natif (en l'incluant </font></font><code>netstandard.dll</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans le runtime lui-m√™me), mais de telle mani√®re que .NET Standard * .dll et toutes les autres fa√ßades d'assemblage sont plac√©s directement dans BIN.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/15/am/af15amgkrw698xqylhfwemd67uy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous regardons les d√©pendances de la version du .NET Framework que nous ciblons et le nombre de biblioth√®ques qui sont tomb√©es dans le BIN, nous verrons qu'il n'y en a pas tellement en 4.7.1, et depuis 4.7.2 il n'y a plus de biblioth√®ques suppl√©mentaires, et .NET La norme y est prise en charge nativement. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rf/wu/va/rfwuvalfp3bi6zijyw5kjz-wjva.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit d'un tweet de l'un des d√©veloppeurs .NET, qui d√©crit ce probl√®me et recommande d'utiliser le .NET Framework version 4.7.2 si nous avons des biblioth√®ques .NET Standard. </font><font style="vertical-align: inherit;">Pas m√™me avec la version 2.0 ici, mais avec la version 1.5.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©sultats</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si possible, augmentez le cadre cible de votre projet √† au moins 4.7.1, de pr√©f√©rence 4.7.2. </font><font style="vertical-align: inherit;">Si vous d√©veloppez une biblioth√®que pour faciliter la vie des utilisateurs de biblioth√®que, cr√©ez une cible distincte pour le .NET Framework, cela √©vitera un grand nombre de DLL qui peuvent entrer en conflit avec quelque chose.</font></font><a name="dotnet"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.NET Core</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commen√ßons par une th√©orie g√©n√©rale. </font><font style="vertical-align: inherit;">Nous verrons comment nous avons lanc√© JetBrains Rider sur .NET Core et pourquoi nous devrions en parler. </font><font style="vertical-align: inherit;">Rider est un tr√®s grand projet, il a une √©norme solution d'entreprise avec un grand nombre de projets diff√©rents, un syst√®me complexe de d√©pendances, vous ne pouvez pas simplement le prendre et migrer vers un autre runtime √† la fois. </font><font style="vertical-align: inherit;">Pour ce faire, nous devons utiliser des hacks, que nous analyserons √©galement.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Application .NET Core</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä quoi ressemble une application .NET Core typique? Cela d√©pend de la fa√ßon exacte dont il est d√©ploy√©, de ce qu'il va finalement faire. Nous pouvons avoir plusieurs sc√©narios. Le premier est un d√©ploiement d√©pendant de Framework. C'est la m√™me chose que dans le .NET Framework lorsque l'application utilise le runtime pr√©install√© sur l'ordinateur. Il peut s'agir d'un d√©ploiement autonome, c'est lorsque l'application porte un runtime. Et il peut y avoir un d√©ploiement √† fichier unique, c'est lorsque nous obtenons un fichier exe, mais dans le cas de .NET Core √† l'int√©rieur de ce fichier exe, il y a un artefact d'application autonome, il s'agit d'une archive auto-extractible. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/yi/3c/hxyi3c3yxhavujn9ljcmtxkuvj0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous ne consid√©rerons que le d√©ploiement d√©pendant du Framework. Nous avons une DLL avec l'application, il y a deux fichiers de configuration, le premier est requis, ceci </font></font><code>runtimeconfig.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et</font></font><code>deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">√Ä partir de .NET Core 3.0, un fichier exe est g√©n√©r√© qui est n√©cessaire pour rendre l'application plus pratique √† ex√©cuter, de sorte que vous n'avez pas besoin d'entrer la commande .NET si nous sommes sous Windows. </font><font style="vertical-align: inherit;">Les d√©pendances tombent dans cet artefact, √† commencer par .NET Core 3.0, dans .NET Core 2.1, vous devez publier ou utiliser une autre propri√©t√© dans </font></font><code>*.csproj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><a name="config"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cadres partag√©s, </font></font><code>.runtimeconfig.json</code></h3><br>
<br>
<img src="https://habrastorage.org/webt/cc/a5/ab/cca5ab5zhb3v6b1itc9jjbsiwje.jpeg"><br>
<br>
<code>.runtimeconfig.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contient les param√®tres d'ex√©cution n√©cessaires √† son ex√©cution. Il indique sous quel Framework partag√© l'application sera lanc√©e, et cela ressemble √† ceci. Nous indiquons que l'application s'ex√©cutera sous ¬´Microsoft.NETCore.App¬ª version 3.0.0, il peut y avoir un autre Framework partag√©. D'autres param√®tres peuvent √©galement √™tre ici. Par exemple, vous pouvez activer le garbage collector du serveur. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/c5/un/ic/c5unicttj2dp5ol0jiewknhb48i.jpeg"><br>
<br>
<code>.runtimeconfig.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g√©n√©r√© lors de l'assemblage du projet. Et si nous voulons inclure le GC du serveur, nous devons en quelque sorte modifier ce fichier √† l'avance, avant m√™me d'assembler le projet, ou de l'ajouter √† la main. Vous pouvez ajouter vos param√®tres ici comme ceci. Nous pouvons inclure une propri√©t√© dans </font></font><code>*.csproj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, si cette propri√©t√© est fournie par les d√©veloppeurs .NET, ou si la propri√©t√© n'est pas fournie, nous pouvons cr√©er un fichier appel√©</font></font><code>runtimeconfig.template.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et √©crivez ici les param√®tres n√©cessaires. Lors de l'assemblage, d'autres param√®tres n√©cessaires seront ajout√©s √† ce mod√®le, par exemple, le m√™me Framework partag√©. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rl/bu/e9/rlbue9y7cikkyzwenefcu2rdxy8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Framework partag√© est un ensemble de runtime et de biblioth√®ques. En fait, la m√™me chose que le runtime .NET Framework, qui √©tait install√© juste une fois sur la machine et pour tous √©tait une version. Shared Framework et, contrairement √† un seul environnement d'ex√©cution .NET Framework, peuvent √™tre versionn√©s, diff√©rentes applications peuvent utiliser diff√©rentes versions des environnements d'ex√©cution install√©s. Le cadre partag√© peut √©galement √™tre h√©rit√©. Le Shared Framework lui-m√™me peut √™tre affich√© dans les emplacements du disque tels qu'ils sont g√©n√©ralement install√©s sur le syst√®me.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nc/df/7i/ncdf7ioj8afrolkvnlouh77jiaq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe plusieurs Framework partag√©s standard, par exemple, Microsoft.NETCore.App, qui ex√©cute les applications de console conventionnelles, AspNetCore.App, pour les applications Web et WindowsDesktop.App, le nouveau Framework partag√© dans .NET Core 3, qui ex√©cute les applications de bureau sur Windows Forms et WPF. Les deux derniers Framework partag√©s compl√®tent essentiellement le premier n√©cessaire pour les applications console, c'est-√†-dire qu'ils ne portent pas un tout nouveau runtime, mais compl√®tent simplement celui existant avec les biblioth√®ques n√©cessaires. Cet h√©ritage semble se trouver √©galement dans les r√©pertoires Shared Framework </font></font><code>runtimeconfig.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans lesquels le Shared Framework de base est sp√©cifi√©.</font></font><a name="man"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©pendance manifest ( </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qb/sc/qv/qbscqv1sh6jb_r19ps_qrusogfi.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sondage par d√©faut - .NET Core Le</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
deuxi√®me fichier de configuration est le suivant </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ce fichier contient une description de toutes les d√©pendances de l'application ou du Framework partag√©, ou de la biblioth√®que, les biblioth√®ques l' </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ont √©galement. Il contient toutes les d√©pendances, y compris les transitives. Et le comportement du runtime .NET Core diff√®re selon que </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'application en dispose ou non. Sinon </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, l'application pourra charger tous les assemblys qui se trouvent dans son Framework partag√© ou dans son r√©pertoire BIN. Si tel </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est le cas, la validation est activ√©e. Si l'un des assemblys r√©pertori√©s dans </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne l'est pas, l'application ne d√©marre tout simplement pas. Vous verrez l'erreur pr√©sent√©e ci-dessus. Si l'application essaie de charger un assembly en runtime, ce qui</font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si, par exemple, en utilisant des m√©thodes de chargement d'assemblage ou pendant le processus de r√©solution d'assemblages, vous verrez une erreur tr√®s similaire au chargement d'assemblage strict.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pilote Jetbrains</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rider est un IDE .NET. Tout le monde ne sait pas que Rider est un IDE compos√© d'un frontend bas√© sur IntelliJ IDEA et √©crit en Java et Kotlin, et un backend. Le backend est essentiellement R #, qui peut communiquer avec IntelliJ IDEA. Ce backend est maintenant une application .NET multiplateforme. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O√π cela fonctionne-t-il? Windows utilise le .NET Framework, qui est install√© sur l'ordinateur de l'utilisateur. Sur d'autres syst√®mes d'information, sous Linux et Mac, Mono est utilis√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce n'est pas une solution id√©ale lorsqu'il y a des temps d'ex√©cution diff√©rents partout, et je veux passer √† l'√©tat suivant pour que Rider s'ex√©cute sur .NET Core. Afin d'am√©liorer les performances, car dans .NET Core, toutes les derni√®res fonctionnalit√©s y sont associ√©es. Pour r√©duire la consommation de m√©moire. Il y a maintenant un probl√®me avec la fa√ßon dont Mono fonctionne avec la m√©moire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le passage √† .NET Core vous permettra d'abandonner les technologies h√©rit√©es et non prises en charge et vous permettra de faire passer des correctifs pour les probl√®mes d√©tect√©s lors de l'ex√©cution. </font><font style="vertical-align: inherit;">Le passage √† .NET Core vous permettra de contr√¥ler la version du runtime, c'est-√†-dire que Rider ne s'ex√©cutera plus sur le .NET Framework install√© sur l'ordinateur de l'utilisateur, mais sur une version sp√©cifique de .NET Core, qui peut √™tre interdite, en tant que d√©ploiement autonome. </font><font style="vertical-align: inherit;">La transition vers .NET Core permettra √† terme d'utiliser de nouvelles API import√©es sp√©cifiquement dans Core. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, l'objectif est de lancer un prototype, de le lancer, juste pour v√©rifier comment cela fonctionnera, quels sont les points de d√©faillance potentiels, quels composants devront √™tre r√©√©crits √† nouveau, ce qui n√©cessitera un traitement global.</font></font><br>
<br>
<a name="rider"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fonctionnalit√©s qui rendent difficile la traduction de Rider en .NET Core</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Visual Studio, m√™me si R # n'y est pas install√©, se </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bloque √† partir de la m√©moire insuffisante sur les grandes solutions, dans lesquelles se trouvent des projets avec le style SDK * .csproj</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Le style SDK * .csproj est l'une des conditions principales pour une relocalisation compl√®te de .NET Core. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est un probl√®me parce que Rider est bas√© sur R #, ils vivent dans le m√™me r√©f√©rentiel, les d√©veloppeurs R # veulent utiliser Visual Studio pour d√©velopper leur propre produit dans leur produit afin de le rendre alimentaire. </font><font style="vertical-align: inherit;">Dans R #, il existe des liens de biblioth√®ques sp√©cifiques pour le framework avec lequel vous devez faire quelque chose. </font><font style="vertical-align: inherit;">Sous Windows, nous pouvons utiliser le Framework pour les applications de bureau, et sous Linux et Mac, Mock est d√©j√† utilis√© pour les biblioth√®ques Windows avec des fonctionnalit√©s minimales.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©cision</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons d√©cid√© de rester sur les anciens pour le moment </font></font><code>*.csproj</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, assembler sous le Framework complet, mais comme les assemblages du Framework et du Core sont compatibles binaires, ex√©cutez-les sur Core. </font><font style="vertical-align: inherit;">Nous n'utilisons pas de fonctionnalit√©s incompatibles, ajoutons manuellement tous les fichiers de configuration n√©cessaires et t√©l√©chargeons les versions sp√©ciales des d√©pendances pour .NET Core, le cas √©ch√©ant.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä quels hacks avez-vous d√ª aller?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un hack: nous voulons appeler une m√©thode qui n'est disponible que dans le Framework, par exemple, cette m√©thode est n√©cessaire en R #, mais pas sur Core. </font><font style="vertical-align: inherit;">Le probl√®me est que s'il n'y a pas de m√©thode, la m√©thode qui l'appelle lors de la compilation JIT tombera plus t√¥t </font></font><code>MissingMethodException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Autrement dit, une m√©thode qui n'existe pas a ruin√© la m√©thode qui l'appelle.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Method</span>(<span class="hljs-params"></span>)</span> { 
  <span class="hljs-keyword">if</span> (NetFramework) <font></font>
     CallNETFrameworkOnlyMethod();<font></font>
<font></font>
  ... <font></font>
} <font></font>
[<span class="hljs-meta">MethodImpl(MethodImplOptions.NoInlining)</span>] 
<span class="hljs-function"><span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CallNETFrameworkOnlyMethod</span>(<span class="hljs-params"></span>)</span> { <font></font>
  NETFrameworkOnlyMethod(); <font></font>
}<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution est l√†: nous appelons des m√©thodes incompatibles dans des m√©thodes distinctes. Il y a un autre probl√®me: une telle m√©thode peut devenir inline, donc nous la marquons avec un attribut </font></font><code>NoInlining</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hack num√©ro deux: nous devons √™tre capables de charger des assemblages dans des chemins relatifs. Nous avons un assemblage pour le Framework, il existe une version sp√©ciale pour .NET Core. Comment t√©l√©charger la version .NET Core pour .NET Core? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qm/zm/w7/qmzmw79gtllee8uyswgrn0oqnum.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ils nous aideront </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Voyons </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la biblioth√®que System.Diagnostics.PerformanceCounter. Une telle biblioth√®que est remarquable par sa</font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il a une section d'ex√©cution, dans laquelle une version de la biblioth√®que avec son chemin d'acc√®s relatif est indiqu√©e. Cette biblioth√®que, l'assembly sera charg√© sur tous les runtimes, et il ne fait que lancer les ex√©cutions. Si, par exemple, il se charge sur Linux, PerformanceCounter ne fonctionne pas sur la conception sous Linux et une PlatformNotSupportedException s'en √©chappe. Il y a √©galement </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une section runtimeTargets </font><font style="vertical-align: inherit;">dans ceci </font><font style="vertical-align: inherit;">et ici est d√©j√† indiqu√©e la version de cet assembly sp√©cifiquement pour Windows, o√π PerformanceCounter devrait fonctionner.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous prenons la section runtime et y √©crivons le chemin relatif vers la biblioth√®que que nous voulons charger, cela ne nous aidera pas. La section d'ex√©cution d√©finit en fait le chemin relatif √† l'int√©rieur du package NuGet, et non par rapport au BIN. Si nous recherchons cet assemblage dans BIN, seul le nom de fichier sera utilis√© √† partir de l√†. La section runtimeTargets contient d√©j√† un chemin relatif honn√™te, un chemin honn√™te relatif au BIN. Nous allons prescrire un chemin relatif pour nos assemblys dans la section runtimeTargets. Au lieu de l'identifiant d'ex√©cution, qui est ¬´gagnant¬ª ici, nous pouvons en prendre un autre que nous aimons. Par exemple, nous √©crirons l'identifiant d'ex√©cution ¬´any¬ª, et cet assembly sera g√©n√©ralement charg√© sur toutes les plateformes. Ou nous √©crirons ¬´unix¬ª, et il d√©marrera sous Linux, et sur Mac, et ainsi de suite.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prochain hack: nous voulons t√©l√©charger sur Linux et sur Mac Mock pour construire WindowsBase. Le probl√®me est que l'assembly nomm√© WindowsBase est d√©j√† pr√©sent dans le Framework partag√© </font></font><code>Microsoft.NETCore.App</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, m√™me si nous ne sommes pas sous Windows. Sur Windows Shared Framework, </font></font><code>Microsoft.WindowsDesktop.App</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WindowsBase red√©finit la version qui se trouve dans </font></font><code>NETCore.App</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Regardons </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ces Framework, plus pr√©cis√©ment les sections qui d√©crivent WindowsBase. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gc/ox/f3/gcoxf3q7mbfm_a9hzmcujfin5zc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici la diff√©rence: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5q/pz/wq/5qpzwq-n21m38b_0xedi9txpwoc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
si certaines biblioth√®ques entrent en conflit et sont pr√©sentes dans plusieurs </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, le maximum d'entre elles est s√©lectionn√© pour la paire compos√©e de </font></font><code>assemblyVersion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>fileVersion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Le guide .NET indique qu'il </font></font><code>fileVersion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suffit de l'afficher dans l'Explorateur Windows, mais ce n'est pas le cas, il tombe dans</font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. C'est le seul cas que je connaisse quand la version prescrit </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>assemblyVersion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>fileVersion</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sont effectivement utilis√©s. Dans tous les autres cas, j'ai vu un comportement qui, quelles que </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">soient les </font><font style="vertical-align: inherit;">versions </font><font style="vertical-align: inherit;">√©crites, l'assembly continuerait de toute fa√ßon √† se charger. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bw/re/j8/bwrej8fa8_gyuyvcjnt3ixvljce.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quatri√®me hack. T√¢che: nous avons un fichier .deps.json pour les deux hacks pr√©c√©dents, et nous en avons besoin uniquement pour des d√©pendances sp√©cifiques. Puisqu'ils sont </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">g√©n√©r√©s en mode semi-manuel, nous avons un script qui, selon une description de ce qui devrait y arriver, le g√©n√®re pendant la construction, nous voulons garder cela aussi </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">minimal que possible afin que nous puissions comprendre ce qu'il contient. Nous voulons d√©sactiver la validation et autoriser le t√©l√©chargement des assemblys qui se trouvent dans le BIN mais qui ne sont pas d√©crits dans </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solution: activez la configuration personnalis√©e dans runtimeconfig. </font><font style="vertical-align: inherit;">Ce param√®tre est r√©ellement n√©cessaire pour la compatibilit√© descendante avec .NET Core 1.0.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©sultats</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, </font></font><code>.runtime.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur .NET Core - ce sont des sortes d'analogues </font></font><code>App.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><code>App.config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vous permettent de faire les m√™mes choses, par exemple, de charger des assemblages de mani√®re relative. </font><font style="vertical-align: inherit;">√Ä l'aide de la </font></font><code>.deps.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©√©criture manuelle, vous pouvez personnaliser le chargement des assemblys sur .NET Core, si vous avez un sc√©nario tr√®s complexe.</font></font><a name="load"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T√©l√©chargements d'assemblages de d√©bogage</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai parl√© de certains types de probl√®mes, vous devez donc √™tre en mesure de d√©boguer les probl√®mes de chargement des assemblys. </font><font style="vertical-align: inherit;">Qu'est-ce qui peut aider? </font><font style="vertical-align: inherit;">Tout d'abord, les runtimes √©crivent des journaux sur la fa√ßon dont ils chargent les assemblys. </font><font style="vertical-align: inherit;">Deuxi√®mement, vous pouvez regarder de plus pr√®s les ex√©cutions qui vous arrivent. </font><font style="vertical-align: inherit;">Vous pouvez √©galement vous concentrer sur les √©v√©nements d'ex√©cution.</font></font><a name="fusion"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journaux de fusion</font></font></h3><br>
<br>
<img src="https://habrastorage.org/webt/jl/4v/be/jl4vbeqsyjzmab2rx0xvdg-lpi4.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Retour aux principes de base: Utilisation de Fusion Log Viewer pour d√©boguer les erreurs obscures </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fusion</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le m√©canisme de chargement des assemblys dans le .NET Framework s'appelle Fusion, et il sait comment enregistrer ce qu'il a fait sur le disque. Pour activer la journalisation, vous devez ajouter des param√®tres sp√©ciaux au registre. Ce n'est pas tr√®s pratique, il est donc logique d'utiliser des utilitaires, √† savoir Fusion Log Viewer et Fusion ++. Fusion Log Viewer est un utilitaire standard fourni avec Visual Studio et peut √™tre lanc√© √† partir de la ligne de commande Visual Studio, Visual Studio Developer Command Prompt. Fusion ++ est un analogue open source de cet outil avec une interface plus agr√©able.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/9h/bt/ou9hbtdgx1yjp6rjjdm3q61efpu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fusion Log Viewer ressemble √† ceci. C'est pire que WinDbg car cette fen√™tre ne s'√©tire m√™me pas. N√©anmoins, vous pouvez percer les coches ici, bien qu'il ne soit pas toujours √©vident de savoir quel ensemble de coches est correct. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gu/h2/by/guh2byfmgazm8yvbxfa_jhf25wo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fusion ++ poss√®de un bouton ¬´D√©marrer la journalisation¬ª, puis le bouton ¬´Arr√™ter la journalisation¬ª appara√Æt. Dans celui-ci, vous pouvez voir tous les enregistrements sur le chargement des assemblages, lire les journaux sur ce qui se passait exactement. Ces journaux ressemblent √† ceci de mani√®re concise.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zf/ep/5m/zfep5myuovdov4t7mmtw4czhwqc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit d'une exemption du chargement d'assemblage strict. </font><font style="vertical-align: inherit;">Si nous regardons les journaux de Fusion, nous verrons que nous devions t√©l√©charger la version 9.0.0.0 apr√®s avoir trait√© toutes les configurations. </font><font style="vertical-align: inherit;">Nous avons trouv√© un dossier dans lequel on soup√ßonne que nous avons l'assemblage dont nous avons besoin. </font><font style="vertical-align: inherit;">Nous avons vu que la version 6.0.0.0 est dans ce fichier. </font><font style="vertical-align: inherit;">Nous avons un avertissement que nous avons compar√© les noms complets des assemblys, et ils diff√®rent dans la version principale. </font><font style="vertical-align: inherit;">Et puis une erreur s'est produite - incompatibilit√© de version.</font></font><a name="events"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âv√©nements d'ex√©cution</font></font></h3><br>
<br>
<img src="https://habrastorage.org/webt/pu/np/bn/punpbnrdvfv_mm5bpweej75ofq8.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journalisation des √©v√©nements d'ex√©cution</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sur Mono, vous pouvez activer la journalisation √† l'aide de variables d'environnement et les journaux seront √©ventuellement √©crits dans </font></font><code>stdout</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>stderr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Pas si pratique, mais la solution fonctionne. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/vv/g9/rjvvg9dfv0ji5sbxm_crgu3ok0a.jpeg"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sondage par d√©faut - </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentation </font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">.NET Core </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">/ documentation de conception / suivi d'h√¥te</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
. .NET Core poss√®de √©galement une variable d'environnement sp√©ciale </font></font><code>COREHOST_TRACE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui inclut la connexion </font></font><code>stderr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Avec .NET Core 3.0, vous pouvez √©crire des journaux dans un fichier en sp√©cifiant le chemin d'acc√®s √† celui-ci dans une variable </font></font><code>COREHOST_TRACEFILE</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<img src="https://habrastorage.org/webt/eo/b5/yf/eob5yf90z7cgilees68uxtrhw0w.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un √©v√©nement se d√©clenche lorsque les assemblys ne se chargent pas. Ceci est un √©v√©nement </font></font><code>AssembleResolve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il y a un deuxi√®me √©v√©nement utile, celui-ci </font></font><code>FirstChanceException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Vous pouvez vous y abonner et obtenir une erreur sur le chargement des assemblys, m√™me si quelqu'un a √©crit try..catch et a rat√© toutes les ex√©cutions √† l'endroit o√π</font></font><code>FileLoadException</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eu lieu. </font><font style="vertical-align: inherit;">Si l'application a d√©j√† √©t√© compil√©e, vous pouvez la d√©marrer </font></font><code>perfview</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et elle peut surveiller les ex√©cutions .NET et y trouver celles li√©es au t√©l√©chargement des fichiers.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©sultats</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transf√©rez le travail vers des outils, vers des outils de d√©veloppement, vers un IDE, vers MSBuild, ce qui vous permet de g√©n√©rer des redirections. </font><font style="vertical-align: inherit;">Vous pouvez basculer vers .NET Core, puis vous oublierez ce qu'est le chargement d'assemblage strict et vous pourrez utiliser la nouvelle API comme nous le souhaitons dans Rider. </font><font style="vertical-align: inherit;">Si vous connectez la biblioth√®que .NET Standard, augmentez la version cible du .NET Framework √† au moins 4.7.1. </font><font style="vertical-align: inherit;">Si vous semblez √™tre dans une situation d√©sesp√©r√©e, recherchez des hacks, utilisez-les ou inventez vos propres hacks pour des situations d√©sesp√©r√©es. </font><font style="vertical-align: inherit;">Et armez-vous avec des outils de d√©bogage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vous recommande fortement de lire les liens suivants:</font></font><br>
<br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">.NET Guide</a>;</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">     .NET Core</a>.</li>
</ul><br>
<br>
<blockquote>         <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">DotNext 2020 Piter</a> .       ,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> 8   JUG Ru Group</a>.</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr499824/index.html">Le condens√© des √©v√©nements pour les recruteurs RH et IT en mai 2020</a></li>
<li><a href="../fr499826/index.html">Pression art√©rielle r√©partie</a></li>
<li><a href="../fr499832/index.html">Comment organiser rapidement et en toute s√©curit√© le travail √† distance des employ√©s? Nous parlons de diff√©rentes approches: avec VDI ‚Äã‚Äãet pas seulement</a></li>
<li><a href="../fr499834/index.html">Rencontrez l'arithmom√®tre Felix</a></li>
<li><a href="../fr499836/index.html">Udalenka vs. bureau pour l'√©quipe de d√©veloppement</a></li>
<li><a href="../fr499842/index.html">Pourquoi les gens r√©apprennent</a></li>
<li><a href="../fr499846/index.html">Quand la collecte s√©par√©e des ordures commencera √† fonctionner et pourquoi la surveillance vid√©o des sites pour les conteneurs √† ordures est n√©cessaire</a></li>
<li><a href="../fr499850/index.html">Comment analyser les concurrents et mettre en place une strat√©gie digitale en 40 minutes</a></li>
<li><a href="../fr499852/index.html">Documentation en anglais pour Angular</a></li>
<li><a href="../fr499854/index.html">Apache Bigtop et le choix de la distribution Hadoop aujourd'hui</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>