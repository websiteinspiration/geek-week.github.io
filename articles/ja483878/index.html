<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤳🏽 🌘 🎲 15分でAndroidの主要コンポーネントについて話す方法 🧓🏻 🌓 🌬️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前書き
 

この記事では、これまでAndroidのプログラミングに慣れていなかった人に、その主要コンポーネントについて伝える方法について説明します。興味を持って、すべてが多くの人が考えるほど難しくないことを示すため。同時に、15分で、誰もが自分で読んで明確な質問に戻ることができるといういくつかの基...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>15分でAndroidの主要コンポーネントについて話す方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483878/"><h1 id="vvedenie"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前書き</font></font></h1><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事では、これまでAndroidのプログラミングに慣れていなかった人に、その主要コンポーネントについて伝える方法について説明します。</font><font style="vertical-align: inherit;">興味を持って、すべてが多くの人が考えるほど難しくないことを示すため。</font><font style="vertical-align: inherit;">同時に、15分で、誰もが自分で読んで明確な質問に戻ることができるといういくつかの基本的な理論の説明に入る必要はありません。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初めてこれをやろうとしたとき、私は不愉快なことに自分自身に驚きました。私の「単純で理解できる」説明は退屈さをもたらし、その範囲内で、広大さを把握し、すべてについて簡単に少しだけ説明しようとする必死の試みが明確に追跡されました。言うまでもありませんが、そのような話は興味をそそる可能性は低く、むしろあなたの対談者を怖がらせる一方で、以前に計画に小さな計算機があったとしても、あなた自身の何かをしたいという欲求を減らします。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このトピックに関する膨大な数の記事がインターネットに投稿されていることは秘密ではありませんが、私の場合、物語は少し異なります。</font><font style="vertical-align: inherit;">つまり、何が起こっているのかを見て、コメントします。</font><font style="vertical-align: inherit;">私の意見では、すべてが非常に単純で明確であるように見えます。コードの断片も小さく、非常に単純で、独自のプロジェクトですぐに使用できます。</font><font style="vertical-align: inherit;">このアプローチでは、クラシックなAndroidツールの概要がかなり広がっているように見えます。最初のアプリケーションを作成するとき、「何を使うべきか」という質問の代わりに、「コンポーネントXを正確にどのように使うべきか」というより具体的な質問があります。</font><font style="vertical-align: inherit;">そして、この人に関するすべての詳細は、彼が望めば、自分で見つけることができます。</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">じゃ、行こう！</font></font></p><br>
<h1 id="izuchaem-komponenty"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントを学ぶ</font></font></h1><br>
<p> ,  , …   ,     MainActivity.   "  "    .</p><br>
<p>  ,    —  main_activity.xml,     .    LinearLayout,      .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">&lt;LinearLayout<font></font>
android:orientation="vertical" android:layout_width="match_parent"<font></font>
android:layout_height="match_parent"&gt;<font></font>
<font></font>
&lt;TextView<font></font>
    android:id="@+id/textView"<font></font>
    android:layout_width="match_parent"<font></font>
    android:layout_height="wrap_content"<font></font>
    android:text="Android Demo Application" /&gt;<font></font>
<font></font>
&lt;TextView<font></font>
    android:id="@+id/textView3"<font></font>
    android:layout_width="match_parent"<font></font>
    android:layout_height="wrap_content"<font></font>
    android:text=" 1" /&gt;<font></font>
<font></font>
&lt;Button<font></font>
    android:id="@+id/buttonShowToast"<font></font>
    android:layout_width="match_parent"<font></font>
    android:layout_height="wrap_content"<font></font>
    android:text=" Toast" /&gt;<font></font>
...<font></font>
&lt;/LinearLayout&gt;</code></pre></div></div><br>
<h2 id="prostye-komponenty"> </h2><br>
<h3 id="toast">Toast</h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/g7/oh/a7/g7oha7j9ymxha54ezk_u9p962qk.jpeg"></p></div></div><br>
<p>   MainActivity.java      — " Toast" ( ).<br>
    main_activity.xml     OnClickListener  MainActivity.java. </p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">Button btn = findViewById(R.id.buttonShowToast);<font></font>
btn.setOnClickListener(new View.OnClickListener() {<font></font>
    @Override<font></font>
    public void onClick(View v) {<font></font>
        Toast.makeText(getApplicationContext(), "This is a Toast", Toast.LENGTH_LONG).show();<font></font>
        }<font></font>
});</code></pre></div></div><br>
<p>,    ,    ! ,   ?</p><br>
<h3 id="vzaimodeystvie-s-drugim-activity">   Activity</h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のアクティビティ</font></font><br>
<img src="https://habrastorage.org/webt/tz/oj/zh/tzojzhhwxgkdbhlgmw8mizvzk8m.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のアクティビティ</font></font><br>
<img src="https://habrastorage.org/webt/d8/tn/t6/d8tnt6ov9udgwmnxtxtrllgz1ui.jpeg"></p></div></div><br>
<p>   -     . ,    !   "   Activity" —          .          ?        :    — shared_prefs,   startActivityForResult / onActivityResult (     ,  - :   <strong></strong>   <strong></strong>    startActivityForResult,    <strong></strong>    onActivityResult  <strong></strong> .  ,     ).<br>
,  ,   !</p><br>
<p>  shared_prefs:</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">String valueToSave = "test";<font></font>
SharedPreferences.Editor editor = getSharedPreferences("demoapp", MODE_PRIVATE).edit();<font></font>
editor.putString("myValue", valueToSave);<font></font>
editor.apply();</code></pre></div></div><br>
<p>  shared_prefs:</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">SharedPreferences prefs = getSharedPreferences("demoapp", MODE_PRIVATE);<font></font>
String storedValue = prefs.getString("myValue", "NOT_FOUND");</code></pre></div></div><br>
<p>  onActivityResult — .   .</p><br>
<h3 id="sohranenie-i-vosstanovlenie-nastroek">   </h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/bq/_s/3v/bq_s3vglngrttsakobha70texya.jpeg"></p></div></div><br>
<p>    shared_prefs,     .   "   ",             (,         — ).         shared_prefs,    .   ,  onResume —      !<br>
:</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">SharedPreferences.Editor editor = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE).edit();<font></font>
EditText et = findViewById(R.id.editTextName);<font></font>
String name = et.getText().toString();<font></font>
editor.putString("name", name);<font></font>
editor.apply();</code></pre></div></div><br>
<p>:</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">SharedPreferences prefs = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE);<font></font>
EditText et = findViewById(R.id.editTextName);<font></font>
et.setText(prefs.getString("name", ""));<font></font>
...</code></pre></div></div><br>
<h3 id="prostoe-menyu"> </h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/nc/9u/6y/nc9u6ypwmnmxhrvpoflexjjtuhe.jpeg"></p></div></div><br>
<p>  —  .    ,       —   onCreateOptionsMenu      my_menu.xml.</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">@Override<font></font>
public boolean onCreateOptionsMenu(Menu menu) {<font></font>
    MenuInflater inflater = getMenuInflater();<font></font>
    inflater.inflate(R.menu.my_menu, menu);<font></font>
    return true;<font></font>
}</code></pre></div></div><br>
<h3 id="vsplyvayuschee-menyu"> </h3><br>
<p>   —    .            .<br>
       .</p><br>
<h3 id="audiopleer"></h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jl/c8/fj/jlc8fj0leasmypoxdtysiyywfdg.jpeg"></p></div></div><br>
<p>  ,  ,       ,    seekBar  -,    —    .    —   .   .    ,      "".   ,     … !    —   .<br>
      .</p><br>
<h3 id="veb-brauzer">-</h3><br>
<p>      ,   -    . </p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/5h/od/rw/5hodrwcppknr_gl2nkkq1odvdfe.jpeg"></p></div></div><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">WebView view = findViewById(R.id.webView);<font></font>
view.setWebViewClient(new WebViewClient());<font></font>
view.getSettings().setJavaScriptEnabled(true);<font></font>
view.getSettings().setCacheMode(WebSettings.LOAD_NO_CACHE);<font></font>
view.loadUrl("https://google.com");</code></pre></div></div><br>
<p>   .</p><br>
<h2 id="servisy-i-uvedomleniya">  </h2><br>
<h3 id="broadcastreceiver">BroadcastReceiver</h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/vl/jj/qu/vljjquneo8n5iiejykuxgd81mug.jpeg"></p></div></div><br>
<p>,         .  -  (   , ) ,         onActivityResult .             ? ,     ,       .    BroadcastReceiver'.</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">public BroadcastReceiver MyReceiver = new BroadcastReceiver() {<font></font>
    @Override<font></font>
    public void onReceive(Context context, Intent intent) {<font></font>
            Toast.makeText(getApplicationContext(), "Broadcast receiver: received!", Toast.LENGTH_LONG).show();<font></font>
    }<font></font>
};</code></pre></div></div><br>
<p>     ,     :    ,   ,     ,      action'y BroadcastReceiver  ,     . </p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">IntentFilter filter = new IntentFilter();<font></font>
filter.addAction("MyCustomActionName");<font></font>
registerReceiver(MyReceiver, filter);<font></font>
<font></font>
sendBroadcast(new Intent("MyCustomActionName"));</code></pre></div></div><br>
<p>     ,   Receiver,    ,  :  ,    .</p><br>
<h3 id="prostoy-servis"> </h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/jh/c6/5b/jhc65b-blaklmc4cd0n8v_fzrms.jpeg"></p></div></div><br>
<p>   ,  BroadcastReceiver     .       ,   Android-,      .  ,       .      Receiver'a:   Activity    Service.<br>
Receiver  Service    , ,    ,        Activity.</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">public BroadcastReceiver MyServiceReceiver = new BroadcastReceiver() {<font></font>
@Override<font></font>
 public void onReceive(Context context, Intent intent) {<font></font>
        Toast.makeText(getApplicationContext(), "Toast from Service: I hear you!", Toast.LENGTH_LONG).show();<font></font>
    }<font></font>
};</code></pre></div></div><br>
<p>Receiver  Activity        TextView.</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">public BroadcastReceiver MyPrintReceiver = new BroadcastReceiver() {<font></font>
@Override<font></font>
public void onReceive(Context context, Intent intent) {<font></font>
        Toast.makeText(getApplicationContext(), "pong", Toast.LENGTH_SHORT).show();<font></font>
<font></font>
        TextView tv = findViewById(R.id.textViewSimpleServiceStatus);<font></font>
        String msg = intent.getStringExtra("msg");<font></font>
        tv.setText(msg);<font></font>
    }<font></font>
};</code></pre></div></div><br>
<p>,   ,       Activity   Toast("ping").      Activity      TextView   Toast("pong").<br>
    —   ""  ,    —      .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">Handler handler = new Handler();<font></font>
runnable = new Runnable() {<font></font>
    public void run() {<font></font>
        if (running) {<font></font>
            printMsg("Service is still running " + running);<font></font>
            handler.postDelayed(runnable, 5000);  //  <font></font>
        } else {<font></font>
            printMsg("Service exited");<font></font>
        }<font></font>
    }<font></font>
};<font></font>
handler.postDelayed(runnable, 5000);</code></pre></div></div><br>
<p>  handler    ,        ping  5 .</p><br>
<p>  ,   ,   Toast("Service created!")   ping-pong .   TextView     .</p><br>
<p>,    .    !       :   ( Toast("Service created!"))   "".   ""  —    ,   !         .  .   ,         .    ,          "". ,  ,    ,       .        ,        :   ,            ,  ?  .       ?</p><br>
<p>       .    Android, ,    ,     ,  Foreground-,             .<br>
  onCreate  :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">String CHANNEL_ID = "my_channel_01";<font></font>
NotificationChannel channel = new NotificationChannel(CHANNEL_ID,<font></font>
        "Channel human readable title",<font></font>
        NotificationManager.IMPORTANCE_DEFAULT);<font></font>
((NotificationManager) getSystemService(Context.NOTIFICATION_SERVICE)).createNotificationChannel(channel);<font></font>
<font></font>
Notification notification = new NotificationCompat.Builder(this, CHANNEL_ID)<font></font>
        .setContentTitle("")<font></font>
        .setContentText("").build();<font></font>
startForeground(1, notification);</code></pre></div></div><br>
<p>    :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">startForegroundService(new Intent(getApplicationContext(), TestServiceForeground.class));</code></pre></div></div><br>
<p>   -,      .     Foreground .     ,  ,        ,       ,   5   "".        . </p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/-d/xv/of/-dxvofzx6oknkrfw6eyiwpowybk.jpeg"></p></div></div><br>
<p>    ,  ,          .</p><br>
<h3 id="plavayuschaya-knopka-overlay">  (Overlay)</h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/hw/ca/l0/hwcal0xkvtxak6ciqpa1zdjexas.jpeg"></p></div></div><br>
<p>,   ,          —    .           Overlays —       "  ".    Draw Overlay    ,       ,    .</p><br>
<h3 id="otpravka-uvedomleniy"> </h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/vu/sb/w-/vusbw-5nvjt-ws-kgrw95hfwzpy.jpeg"></p></div></div><br>
<p>   ,      -,    .  ,   .   (  )      — -,   ,          . </p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">private void createNotificationChannel() {<font></font>
try {<font></font>
        CharSequence channelName = CHANNEL_ID;<font></font>
        String channelDesc = "channelDesc";<font></font>
        if (Build.VERSION.SDK_INT &gt;= Build.VERSION_CODES.O) {<font></font>
            int importance = NotificationManager.IMPORTANCE_LOW;<font></font>
            NotificationChannel channel = new NotificationChannel(CHANNEL_ID, channelName, importance);<font></font>
            channel.setDescription(channelDesc);<font></font>
            NotificationManager notificationManager = getSystemService(NotificationManager.class);<font></font>
            assert notificationManager != null;<font></font>
            NotificationChannel currChannel = notificationManager.getNotificationChannel(CHANNEL_ID);<font></font>
            if (currChannel == null) {<font></font>
                notificationManager.createNotificationChannel(channel);<font></font>
                Toast.makeText(getApplicationContext(), "channel created", Toast.LENGTH_SHORT).show();<font></font>
            } else {<font></font>
                Toast.makeText(getApplicationContext(), "channel exists", Toast.LENGTH_SHORT).show();<font></font>
            }<font></font>
        }<font></font>
    } catch (Exception e) {<font></font>
    }<font></font>
}</code></pre></div></div><br>
<p>         .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">public void setNotify() {<font></font>
    try {<font></font>
        Intent snoozeIntent = new Intent("ActionFromNotify");<font></font>
        PendingIntent snoozePendingIntent =<font></font>
                PendingIntent.getBroadcast(this, 0, snoozeIntent, 0);<font></font>
<font></font>
        String title = "Start";<font></font>
        Intent intent = new Intent(this, MainActivity.class);<font></font>
        intent.setFlags(Intent.FLAG_ACTIVITY_NEW_TASK | Intent.FLAG_ACTIVITY_CLEAR_TASK);<font></font>
<font></font>
        NotificationCompat.Action action = new NotificationCompat.Action.Builder(R.drawable.ic_launcher_background, title, snoozePendingIntent).build();<font></font>
        NotificationCompat.Builder mBuilder = new NotificationCompat.Builder(this, CHANNEL_ID)<font></font>
                .setSmallIcon(R.drawable.ic_launcher_background)<font></font>
                .setContentTitle("MyNotification")<font></font>
                .setContentText("Text here")<font></font>
                .setPriority(NotificationCompat.PRIORITY_LOW)<font></font>
                .setContentIntent(null)<font></font>
                .setOngoing(true)  //  <font></font>
                .setSound(null)<font></font>
                .addAction(action);<font></font>
        NotificationManagerCompat notificationManager = NotificationManagerCompat.from(this);<font></font>
        int notificationId = (int) (System.currentTimeMillis() / 4);<font></font>
        notificationManager.notify(notificationId, mBuilder.build());<font></font>
<font></font>
    } catch (Exception e) {<font></font>
        Log.e("error", e.toString());<font></font>
    }<font></font>
}</code></pre></div></div><br>
<h3 id="servis-s-otpravkoy-uvedomleniy">   </h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/nj/ee/lr/njeelrzozunwgncm4a3vusood6k.jpeg"></p></div></div><br>
<p>    , ,   .      .        ?  ,    .          (  Foreground —  ),     5 . ,      ,      .</p><br>
<p>          (       ),       .        —  .</p><br>
<h2 id="dopolnitelnye-komponenty"> </h2><br>
<h3 id="tablica-s-dannymi">  </h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/_r/sx/f_/_rsxf_zb6buobcqpdlrxtcuhtpc.jpeg"></p></div></div><br>
<p>      .       .</p><br>
<h3 id="okno-s-vkladkami">  </h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/d4/l3/tc/d4l3tc6j_ruxlnmm-p7nl4l-jce.jpeg"></p></div></div><br>
<p>  —   .    TabView       .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">public class TabsActivity extends TabActivity {<font></font>
<font></font>
@Override<font></font>
protected void onCreate(Bundle savedInstanceState) {<font></font>
    super.onCreate(savedInstanceState);<font></font>
    setContentView(R.layout.tabs_activity);<font></font>
<font></font>
    //  TabHost<font></font>
    TabHost tabHost = getTabHost();<font></font>
<font></font>
    TabHost.TabSpec tabSpec;<font></font>
<font></font>
    tabSpec = tabHost.newTabSpec("tag1");<font></font>
    tabSpec.setIndicator("");<font></font>
    tabSpec.setContent(new Intent(this, SaveRestorePrefsActivity.class));<font></font>
    tabHost.addTab(tabSpec);<font></font>
<font></font>
    tabSpec = tabHost.newTabSpec("tag2");<font></font>
    tabSpec.setIndicator("");<font></font>
    tabSpec.setContent(new Intent(this, FloatingMenuActivity.class));<font></font>
    tabHost.addTab(tabSpec);<font></font>
...<font></font>
    }<font></font>
}</code></pre></div></div><br>
<h3 id="vyvod-obektov-struktur-fragment-i-tablica"> -: Fragment  </h3><br>
<p> -     .<br>
    </p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/ck/hw/nz/ckhwnzzk1fbl4ohzv5cwrc5rhiq.jpeg"></p></div></div><br>
<p>   </p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/k9/ap/ty/k9aptygs4p29eczt1qlru2pgqk8.jpeg"></p></div></div><br>
<h3 id="zhiznennyy-cikl-activity">  Activity</h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/8j/kg/-e/8jkg-eoo706wtilrcga7nhefnr0.jpeg"></p></div></div><br>
<p>   ,     .    ,   onCreate    .            - .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">@Override<font></font>
protected void onResume() {<font></font>
    super.onResume();<font></font>
    Toast.makeText(getApplicationContext(), "onResume -    ", Toast.LENGTH_SHORT).show();<font></font>
}<font></font>
<font></font>
@Override<font></font>
protected void onDestroy() {<font></font>
    super.onDestroy();<font></font>
    Toast.makeText(getApplicationContext(), "onDestroy -  ", Toast.LENGTH_SHORT).show();<font></font>
}<font></font>
<font></font>
@Override<font></font>
protected void onPause() {<font></font>
    super.onPause();<font></font>
    Toast.makeText(getApplicationContext(), "onPause -      ", Toast.LENGTH_SHORT).show();<font></font>
}</code></pre></div></div><br>
<p>    OnTouchListener',  onTextChanged.</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">CheckBox cb = findViewById(R.id.checkBoxChangeExample);<font></font>
cb.setOnCheckedChangeListener(new CompoundButton.OnCheckedChangeListener() {<font></font>
        public void onCheckedChanged(CompoundButton buttonView, boolean isChecked) {<font></font>
            printMsg("CheckBox - OnCheckedChangeListener: new value is checked = " + isChecked);<font></font>
        }<font></font>
    });<font></font>
<font></font>
    SeekBar seekBar = (SeekBar) findViewById(R.id.seekBarChangeExample);<font></font>
    seekBar.setMax(100);<font></font>
    seekBar.setOnTouchListener(new View.OnTouchListener() {<font></font>
        @Override<font></font>
        public boolean onTouch(View v, MotionEvent event) {<font></font>
            Integer progress = ((SeekBar)v).getProgress();<font></font>
           printMsg("SeekBar - OnTouchListener: new value is = " + progress.toString());<font></font>
            return false;<font></font>
        }<font></font>
    });</code></pre></div></div><br>
<h2 id="otlozhennoe-parallelnoe-i-regulyarnoe-vypolnenie">,    </h2><br>
<p>      —    .</p><br>
<h3 id="otlozhennoe-vypolnenie-handler"> : Handler</h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/og/lv/xh/oglvxhy6hgo0yqpamaybomdrmus.jpeg"></p></div></div><br>
<p>   Handler.   handler    —    ,      . ,     ,    —      ,     .<br>
 .  handler,     " Toast  5 ". ,  Toast     sleep' (   )  .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">Handler handler = new Handler();<font></font>
Runnable r = new Runnable() {<font></font>
public void run() {<font></font>
    Toast.makeText(getApplicationContext(), "Delayed task executed", Toast.LENGTH_SHORT).show();<font></font>
                }<font></font>
            };<font></font>
handler.postDelayed(r, 5000);</code></pre></div></div><br>
<p>   handler  :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">Runnable r = new Runnable() {<font></font>
     public void run() {<font></font>
         Toast.makeText(getApplicationContext(), "Delayed task executed", Toast.LENGTH_SHORT).show();<font></font>
          handler.postDelayed(this, 5000);  //  <font></font>
            }<font></font>
        };<font></font>
handler.postDelayed(r, 5000);</code></pre></div></div><br>
<p>,     5 ,  Handler</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">handler.removeCallbacksAndMessages(null);</code></pre></div></div><br>
<p> ,     Handler   .    ,   -    . , … while(true)  sleep!   ,     .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">Runnable r = new Runnable() {<font></font>
public void run() {<font></font>
    long initTime = System.currentTimeMillis();<font></font>
    boolean timeElapsed = false;<font></font>
    while(!timeElapsed){<font></font>
        if(System.currentTimeMillis() - initTime &gt; 10000 ){<font></font>
            timeElapsed = true;  //   ,   ! (  ,    ).         sleep<font></font>
                    }<font></font>
                }<font></font>
            }<font></font>
        };<font></font>
Toast.makeText(getApplicationContext(), "Hard Delayed task started", Toast.LENGTH_SHORT).show();<font></font>
handler.postDelayed(r, 100);</code></pre></div></div><br>
<p>  , ,    10       —         .  ,      —         .  UI    ,      .     UI-   : ,    ,    UI-    .</p><br>
<h3 id="parallelnoe-vypolnenie-potok"> : </h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/l7/3q/81/l73q81k62jyqkcimlbw_nvtotqe.jpeg"></p></div></div><br>
<p>   —        ?<br>
   ,     .        , -     handler'       10 . </p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">Thread thread = new Thread()<font></font>
    {<font></font>
        @Override<font></font>
        public void run() {<font></font>
            try {<font></font>
                sendMsgUsingBroadcast("Thread started");<font></font>
                long initTime = System.currentTimeMillis();<font></font>
                boolean timeElapsed = false;<font></font>
                while(!timeElapsed){<font></font>
                    if(System.currentTimeMillis() - initTime &gt; 10000 ){<font></font>
                        timeElapsed = true;<font></font>
                    }<font></font>
                }<font></font>
                sendMsgUsingBroadcast("Thread stopped"); <font></font>
            } catch (Exception e) {<font></font>
                sendMsgUsingBroadcast("Thread error " + e.toString()); <font></font>
            }<font></font>
        }<font></font>
    };<font></font>
    thread.start();</code></pre></div></div><br>
<p>,  —   !     .<br>
  —   .  ,    ,       .       .     shared_prefs     :         running=true.      ,   running==true,   ,   .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">Thread thread = new Thread()<font></font>
    {<font></font>
        @Override<font></font>
        public void run() {<font></font>
            try {<font></font>
                sendMsgUsingBroadcast("Thread started");  <font></font>
                SharedPreferences prefs = getSharedPreferences(MY_PREFS_NAME, MODE_PRIVATE);<font></font>
                while (true) {<font></font>
                    if (!prefs.getBoolean("running", false)) {<font></font>
                        break;<font></font>
                    } else {<font></font>
                        try {<font></font>
                            Thread.sleep(100);<font></font>
                        } catch (Exception e) {}<font></font>
                    }<font></font>
                }<font></font>
                sendMsgUsingBroadcast("Thread stopped"); <font></font>
<font></font>
            } catch (Exception e) {<font></font>
                sendMsgUsingBroadcast("Thread error " + e.toString()); <font></font>
            }<font></font>
        }<font></font>
    };<font></font>
    thread.start();</code></pre></div></div><br>
<p>,              ,    Handler  .  ,   ,    ,       .      :     ,        ,      -  ,            ,   —          .    :  ,        ,           -   ? ,    ,               ,  -    ,             ?</p><br>
<h3 id="povtoryayuscheesya-vypolnenie-alarmmanager"> : AlarmManager</h3><br>
<p>      AlarmManager.</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/zf/9p/_u/zf9p_ushxeqt_yto0askm_xo-fw.jpeg"></p></div></div><br>
<p> ,    —  sendBroadcast  Action,        BroadcastReceiver!</p><br>
<p> BroadcastReceiver, ,   ,    :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">public class MyAlarmServiceReceiver extends BroadcastReceiver {<font></font>
private String CHANNEL_ID = "MyNotificationsChannel";<font></font>
<font></font>
@Override<font></font>
public void onReceive(Context context, Intent intent) {<font></font>
    Toast.makeText(context, "MyAlarmServiceReceiver onReceive", Toast.LENGTH_SHORT).show();<font></font>
    setNotify("Notify from AlarmManager", context);<font></font>
    }<font></font>
}</code></pre></div></div><br>
<p> AlarmManager   Receiver  15 :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">AlarmManager alarmManager = (AlarmManager) getSystemService(ALARM_SERVICE);<font></font>
Intent intent = new Intent(AlarmActivity.this, MyAlarmServiceReceiver.class);<font></font>
PendingIntent pendingIntent = PendingIntent.getBroadcast(getApplicationContext(),<font></font>
                    0,<font></font>
                    intent,<font></font>
                    PendingIntent.FLAG_UPDATE_CURRENT);<font></font>
Calendar calendar = Calendar.getInstance();<font></font>
calendar.setTimeInMillis(System.currentTimeMillis());<font></font>
calendar.set(Calendar.HOUR_OF_DAY, 1);<font></font>
calendar.set(Calendar.MINUTE, 10);<font></font>
//alarmManager.setExactAndAllowWhileIdle(AlarmManager.RTC_WAKEUP, 1 * 60 * 1000, pendingIntent);  // not repeating - just one run, if needed<font></font>
alarmManager.setRepeating(AlarmManager.RTC_WAKEUP, System.currentTimeMillis(),     AlarmManager.INTERVAL_FIFTEEN_MINUTES, pendingIntent);</code></pre></div></div><br>
<p>     :  15      .</p><br>
<p>  (     )   .</p><br>
<h3 id="logirovanie"></h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p><img src="https://habrastorage.org/webt/96/e-/0r/96e-0rjswq33id8bi4g4xjq3du8.jpeg"></p></div></div><br>
<p> Logcat Reader   ,     .<br>
    (      )  ,     .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">String LOG_TAG = "MYDEMOAPP";<font></font>
Log.i(LOG_TAG, "Test info log");<font></font>
Log.d(LOG_TAG, "Test debug log");<font></font>
Log.e(LOG_TAG, "Test error log");</code></pre></div></div><br>
<p>     ,   ,       MainActivity,     ,   .</p><br>
<h1 id="ishodnyy-kod"> </h1><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">    <br>
</a></p><br>
<h1 id="zaklyuchenie"></h1><br>
<p>   ,           Android.           ,    ,   ,      :     ,     .  , ,           -       Android-.</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja483862/index.html">マイクロコントローラーの仮想機能-ダークサイド</a></li>
<li><a href="../ja483864/index.html">C ++より高速です。PHPより遅い</a></li>
<li><a href="../ja483872/index.html">窓の模様または運転手の惨劇：二次元の氷がどのように成長するか</a></li>
<li><a href="../ja483874/index.html">VVVVVVコードの公開は、ゲームがいかに失礼かを示しました。</a></li>
<li><a href="../ja483876/index.html">赤い企業文化はロシアのビジネスの主要な問題です（パート1）</a></li>
<li><a href="../ja483880/index.html">今日のプログラミングは20年前のプログラミングとどう違うのですか？</a></li>
<li><a href="../ja483882/index.html">Clean Swiftアーキテクチャでの単体テスト</a></li>
<li><a href="../ja483886/index.html">Movix Proセットトップボックス：ソフトウェアから最後のナットまで</a></li>
<li><a href="../ja483888/index.html">コンパイルせずにJava 11で単一ファイルプログラムを実行する</a></li>
<li><a href="../ja483894/index.html">Avito Kafkaミートアップ：コネクター、統合、クラウド</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>