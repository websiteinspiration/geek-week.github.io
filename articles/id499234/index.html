<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍🚒 🔰 🥅 Jaringan di Flexiant Cloud Orchestrator 🦊 🗨️ 📺</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dalam kelanjutan dari seri artikel tentang orkestra cloud, Flexiant ingin berbicara tentang bagaimana organisasi jaringan untuk mesin dan wadah virtua...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Jaringan di Flexiant Cloud Orchestrator</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499234/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam kelanjutan dari seri artikel tentang orkestra cloud, Flexiant ingin berbicara tentang bagaimana organisasi jaringan untuk mesin dan wadah virtual dikelola di bawah orkestra ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flexiant mengidentifikasi empat jenis jaringan yang dapat diakses oleh klien di mesin virtualnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVIP adalah jaringan di mana satu / 32 alamat dialokasikan untuk klien. Routing ke alamat IP ini dilakukan pada mesin host di mana mesin virtual </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IP Publik </font><font style="vertical-align: inherit;">berada </font><font style="vertical-align: inherit;">- jaringan di mana klien menerima VLAN dan / 29 subnet yang terpisah. Ini adalah jaringan utama yang kami gunakan. Routing untuk itu dilakukan pada node router khusus yang dikelola oleh Flexiant Cloud Orchestrator.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Private IP - network, organisasi yang mirip dengan yang sebelumnya, kecuali tidak ditampilkan secara eksternal pada node router. Klien dapat menggunakannya untuk membuat jaringan internal antara mesin virtual mereka. Alamat IP dapat ditetapkan baik dari antarmuka dan pada mesin itu sendiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interworking VLAN - sekali lagi, sangat mirip dengan Private IP, kecuali bahwa itu tidak tersedia untuk klien secara langsung tanpa partisipasi dari penyedia. Kami memberikan jaringan ini kepada klien ketika ia perlu menghubungkan infrastruktur L2 yang ada ke infrastruktur Flexiant Cloud Orchestrator.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua jaringan kecuali yang pertama beroperasi dalam VLAN terisolasi yang terpisah, sehingga semua protokol L2 tersedia untuk klien: arp, dhcp, lldp, dll. Jaringan PVIP berjalan pada L3, dan kami menggunakannya untuk klien yang ingin mendapatkan perlindungan dari DDoS. Jika mereka ingin melindungi alamat IP, maka mereka perlu menggunakannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap jaringan ditugaskan ke adaptor mesin virtual. Dengan demikian, dalam satu mesin virtual dapat ada beberapa jenis jaringan pada saat yang bersamaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alamat IP untuk IP Privat dan Interworking VLAN dapat dipilih oleh klien secara sewenang-wenang. Alamat IP untuk IP Publik dan PVIP dipilih dari daftar di panel kontrol.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_l/zn/kr/_lznkrleqhvfpqv5okrisl7wcb4.jpeg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segera setelah adaptor menerima jaringan, dan opsional alamat IP, informasi tentang ini masuk ke database orkestra, dan pengaturan yang sesuai dimasukkan pada node routing (untuk jaringan IP Publik), node komputasi (untuk PVIP), serta di server DHCP yang berada pada node manajemen, jika alamat IP telah ditetapkan. Tabel korespondensi antara alamat mac virtual kartu dan alamat IP yang dipilih dimasukkan ke dalam database PgSQL, dari mana selanjutnya diambil oleh server DHCP.</font></font><br>
<cut></cut><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada setiap node, apakah itu node router atau node komputasi, agen Flexiant diinstal, yang menerima perintah dari orkestra. Di dalam node sendiri, router virtual dibesarkan di namespace jaringan yang terpisah. Dengan demikian, tumpukan jaringan Linux pada node dan tumpukan jaringan router independen satu sama lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Router-Nodes yang memastikan fungsi IP Publik saling menduplikasi menggunakan protokol VRRP dalam implementasi carp. Jika salah satu node gagal, lalu lintas akan melalui yang lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah contoh rute pada node rute untuk satu:</font></font><br>
<br>
<pre><code class="plaintext hljs">Router0# ip a l<font></font>
…<font></font>
766: VLAN367: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc noqueue state UP group default<font></font>
    link/ether 00:1e:67:d3:67:5c brd ff:ff:ff:ff:ff:ff<font></font>
    inet6 fe80::e0fe:25ff:fef9:7304/64 scope link<font></font>
     valid_lft forever preferred_lft forever<font></font>
…<font></font>
Router0# brctl show VLAN367<font></font>
bridge name     bridge id               STP enabled     interfaces<font></font>
VLAN367         8000.001e67d3675c       no              bond0.367<font></font>
                                                                               evrl-000190<font></font>
<font></font>
#         ,     shell  screen,       <font></font>
<font></font>
Router0# evrs<font></font>
Router0# ip a l evrr-000190<font></font>
768: evrr-000190: &lt;BROADCAST,MULTICAST,UP,LOWER_UP&gt; mtu 1500 qdisc pfifo_fast state UP group default qlen 1000<font></font>
    link/ether e6:52:0f:21:83:b0 brd ff:ff:ff:ff:ff:ff<font></font>
    inet 217.23.xxx.xxx/29 scope global evrr-000190<font></font>
       valid_lft forever preferred_lft forever<font></font>
    inet6 fe80::e452:fff:fe21:83b0/64 scope link<font></font>
       valid_lft forever preferred_lft forever<font></font>
<font></font>
Router0# ip r l 217.23.xxx.xxx<font></font>
217.23.xxx.xxx/29 dev evrr-000190  proto kernel  scope link  src 217.23.xxx.xxx<font></font>
Router#0 ip r l ip r l 0.0.0.0/0<font></font>
default via 10.158.192.3 dev evrr-000000  proto bird<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sepasang antarmuka evrr / evrl adalah veths biasa di Linux yang menghubungkan dua ruang nama jaringan. Dengan demikian, terlihat bagaimana lalu lintas masuk ke router virtual diarahkan ke sana untuk antarmuka tertentu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manajemen firewall juga terjadi di router virtual. Tabel dan rantai terpisah dibuat yang memungkinkan atau tidak mengizinkan lalu lintas ke antarmuka jaringan tertentu.</font></font><br>
<br>
<pre><code class="plaintext hljs">Router0# iptables -nvL evrr-000190-4i<font></font>
Chain evrr-000190-4i (1 references)<font></font>
 pkts bytes target     prot opt in     out     source               destination<font></font>
 435M  124G RETURN     all  --  *      *       217.23.xxx.xxx        0.0.0.0/0<font></font>
    0     0 DROP       all  --  *      *       0.0.0.0/0            0.0.0.0/0<font></font>
Router0# iptables -nvL evrr-000190-4o<font></font>
Chain evrr-000190-4o (1 references)<font></font>
pkts bytes target     prot opt in     out     source               destination<font></font>
587M  782G ACCEPT     all  --  *      *       0.0.0.0/0            217.23.xxx.xxx<font></font>
6038K  350M DROP       all  --  *      *       0.0.0.0/0            0.0.0.0/0<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menggunakan OSPF sebagai protokol routing, konfigurasi dengan compute dan node router sampai ke inti jaringan, dan dari sana ke router inti. </font><font style="vertical-align: inherit;">Sebagai perangkat lunak pada node, bird digunakan, yang dikendalikan oleh Flexiant. </font><font style="vertical-align: inherit;">Kami juga membuat perubahan pada templat konfigurasi, karena Flexiant memungkinkan kami melakukan ini. </font><font style="vertical-align: inherit;">Flexiant juga memungkinkan Anda untuk menggunakan statika dan bgp sebagai protokol perutean. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal pembayaran, semua jaringan gratis. </font><font style="vertical-align: inherit;">Pembayaran hanya untuk alamat IP untuk jaringan IPIP dan Publik. </font><font style="vertical-align: inherit;">Namun, alamat IP untuk PVIP lebih mahal karena dilindungi dari serangan DDoS.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id499220/index.html">Mentransfer pengembang ke situs jarak jauh karena coronavirus meningkatkan produktivitas di Google dan Microsoft</a></li>
<li><a href="../id499224/index.html">Sudah waktunya untuk mulai belajar dengan benar</a></li>
<li><a href="../id499226/index.html">Tanpa pandemi: cara membuat film tentang cryptocurrency seharga $ 1000 dan masuk ke distribusi film top AS</a></li>
<li><a href="../id499230/index.html">Cara memelihara cacing puas yang sehat: parsing manual 1910</a></li>
<li><a href="../id499232/index.html">Mengkonfigurasi server CI dan VPS gitlab.com</a></li>
<li><a href="../id499236/index.html">Nomor telepon melalui Layanan Negara</a></li>
<li><a href="../id499238/index.html">Menyolder di rumah: stream recording</a></li>
<li><a href="../id499240/index.html">Melalui duri ke bintang-bintang, atau analisis data dalam urusan surga</a></li>
<li><a href="../id499242/index.html">Para peneliti mengirim data dari PC desktop melalui getaran di atas meja</a></li>
<li><a href="../id499244/index.html">Organisasi sinergis. Bagian II</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>