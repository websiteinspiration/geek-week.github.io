<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úâÔ∏è ‚è≠Ô∏è üóÉÔ∏è Deklarative Programmierung von Client-Server-Anwendungen auf Android. Teil 2 üõ•Ô∏è üê• üõ∞Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der vorherige Artikel zeigte kurz die Vorteile der deklarativen Programmierung von Client-Server-Anwendungen f√ºr Android im Vergleich zu Imperativ. 
 ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Deklarative Programmierung von Client-Server-Anwendungen auf Android. Teil 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502024/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vorherige Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zeigte kurz die Vorteile der deklarativen Programmierung von Client-Server-Anwendungen f√ºr Android im Vergleich zu Imperativ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt werden wir ein kleines, aber ausreichendes Projekt schreiben, um die Wirksamkeit der DePro-Bibliothek zu bewerten. </font><font style="vertical-align: inherit;">Es ist Teil eines der p√§dagogischen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiele der Bibliothek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das Design aller von uns beschriebenen Bildschirme ist in den folgenden Abbildungen dargestellt:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f6c/afe/af5/f6cafeaf546e9467b0a1b71b122b7eeb.png" alt="Bild"> <img src="https://habrastorage.org/getpro/habr/post_images/287/0cb/0b9/2870cb0b957f2ed4318cd78a137ebf3a.png" alt="Bild"> <img src="https://habrastorage.org/getpro/habr/post_images/0d7/f08/980/0d7f08980838c23cc41258eca7a3093e.png" alt="Bild"><br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DRAWER-Bildschirm CATALOG-Bildschirm PRODUCT_LIST-Bildschirm</font></font></pre><br>
<img src="https://habrastorage.org/getpro/habr/post_images/5a1/32c/952/5a132c9529aadcf1101fe14137e4ff17.png" alt="Bild"> <img src="https://habrastorage.org/getpro/habr/post_images/b4b/c8e/768/b4bc8e768bb0d616ddb4a4325986cdab.png" alt="Bild"> <img src="https://habrastorage.org/getpro/habr/post_images/227/00e/5f5/22700e5f57ffbc8fc43429ee87f79b87.png" alt="Bild"><br>
<pre> CATALOG_           DESCRIPT          CHARACTERISTIC</pre><br>
<img src="https://habrastorage.org/getpro/habr/post_images/5a6/635/394/5a6635394bccc0473f79ed51b0fab8b6.png" alt="Bild"> <img src="https://habrastorage.org/getpro/habr/post_images/150/f30/32f/150f3032f242fc892db119d5b0fc15a2.png" alt="Bild"> <img src="https://habrastorage.org/getpro/habr/post_images/a0d/44f/49b/a0d44f49bd430384c67a9e6a81a4bbe1.png" alt="Bild"><br>
<pre> FITNESS           FITNESS_          </pre><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus diesen Bildschirmen wird ihre Funktionalit√§t allgemein verstanden. Das Seitenmen√º enth√§lt zwei Elemente: "Verzeichnis" und "Fitness". Wenn Sie ein Element ausw√§hlen, wird der entsprechende Bildschirm angezeigt. Der KATALOG-Bildschirm enth√§lt eine horizontale "Nachrichten" -Liste. Wenn Sie auf ein ‚Äûneues Produkt‚Äú klicken, wird ein Bildschirm mit einer Beschreibung dieses Produkts angezeigt. Die Beschreibung besteht aus zwei Registerkarten: "Beschreibung" und "Merkmale". Ebenfalls auf dem KATALOG-Bildschirm befindet sich eine Dropdown-Liste "Katalog". Wenn Sie auf den Abw√§rtspfeil klicken, wird das Verzeichnis ge√∂ffnet (geschlossen). Wenn Sie auf die gesamte Zeile klicken, wird der Bildschirm PRODUCT_LIST mit einer Liste der Produkte f√ºr den ausgew√§hlten Artikel im Katalog angezeigt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie auf den Punkt ‚ÄûFitness‚Äú klicken, wird der Bildschirm FITNESS mit einer Liste der Dienste angezeigt. Die Liste h√§ngt von dem im Spinner ausgew√§hlten Verein ab. Wenn Sie versuchen, die Anwendung zu beenden, wird ein Warndialogfeld angezeigt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Server √ºbertr√§gt Daten im JSON-Format an die Anwendung. </font><font style="vertical-align: inherit;">Die Datenstruktur f√ºr jeden Bildschirm wird unten beschrieben. </font><font style="vertical-align: inherit;">In Anwendungen, die in DePro √ºber die API geschrieben wurden, wird nur die URL verwendet. Die Datenstruktur wird nur ben√∂tigt, um die Ansicht mit dem Namen (ID) korrekt festzulegen, da die Bindung nach Namen ausgef√ºhrt wird. </font><font style="vertical-align: inherit;">Es ist erw√§hnenswert, dass Daten ein unvollst√§ndiger Teil der realen Daten sind. </font><font style="vertical-align: inherit;">Daher gibt es m√∂glicherweise keine Verbindungen zu Namen und Bildern. </font><font style="vertical-align: inherit;">Insbesondere Produktbilder insgesamt 20 St√ºck. </font><font style="vertical-align: inherit;">Daher kann das gleiche Bild in vielen Produkten sein.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API zum Beispiel Bildschirme</font></font></b>
                        <div class="spoiler_text"> CATALOG    () URL depro/cron/news,  GET.       .     .<br>
<br>
 <br>
<br>
<pre><code class="plaintext hljs">    {<font></font>
        "product_id":4610,<font></font>
        "catalog_id":15984,<font></font>
        "product_name":"  20  6  ( 1*20) APRO",<font></font>
        "catalog_code":"ZRG-20kit",<font></font>
        "picture":"depro/cronimg/picture_1.jpeg",<font></font>
        "bar_code":"4824041010653",<font></font>
        "oem":"",<font></font>
        "price":175.98,<font></font>
        "brand":"APRO",<font></font>
        "product_code":"032578",<font></font>
        "gift":0,<font></font>
        "bonus":0,<font></font>
        "new_product":1,<font></font>
        "quantity":5<font></font>
    },<font></font>
    . . .<font></font>
</code></pre><br>
     URL depro/cron/catalog. <br>
<br>
   URL depro/cron/catalog_ex   catalog_id      id ,  .<br>
<br>
    :<br>
<br>
<pre><code class="plaintext hljs">[<font></font>
    {<font></font>
        "catalog_id":15510,<font></font>
        "parent_id":0,<font></font>
        "catalog_name":""<font></font>
    },<font></font>
    {<font></font>
        "catalog_id":15584,<font></font>
        "parent_id":0,<font></font>
        "catalog_name":""<font></font>
    },<font></font>
    . . .<font></font>
]<font></font>
</code></pre><br>
 PRODUCT_LIST URL depro/cron/product_list  : expandedLevel  catalog_id.<br>
 expandedLevel ‚Äî    (0, 1  2), catalog_id ‚Äî id  .<br>
<br>
   0  1    ,    ,                .<br>
<br>
 GET<br>
<br>
        ()<br>
<br>
       URL depro/cron/product_barcode  <br>
 barcode_scanner. <br>
<br>
       URL depro/cron/product_search   product_name.     LIKE.  product_name      .<br>
<br>
        .<br>
<br>
 DESCRIPT <br>
<br>
 : URL depro/cron/product_id   product_id.  GET.<br>
<br>
<br>
<br>
<pre><code class="plaintext hljs">{<font></font>
    "product_id":2942,<font></font>
    "catalog_id":15594,<font></font>
    "product_name":"   2110, 2111, 2112,  Sens ''  ",<font></font>
    "catalog_code":"23.3828"<font></font>
    ,"picture":"depro/cronimg/picture_16.jpeg",<font></font>
    "bar_code":"2000000148472",<font></font>
    "oem":"2112-3851010",<font></font>
    "price":103.02,<font></font>
    "brand":", . , ",<font></font>
    "product_code":"027729",<font></font>
    "gift":1,<font></font>
    "bonus":0,<font></font>
    "new_product":0,<font></font>
    "quantity":16<font></font>
}<font></font>
</code></pre><br>
: URL depro/cron/product_analog   product_id.  GET.<br>
<br>
<br>
<br>
<pre><code class="plaintext hljs">[<font></font>
    {<font></font>
        "product_id":561,<font></font>
        "catalog_id":15587,<font></font>
        "product_name":"   2110, 2111, 2112 (  16 . ) AURORA",<font></font>
        "catalog_code":"WP-LA2112",<font></font>
        "picture":"depro/cronimg/picture_12.jpeg",<font></font>
        "bar_code":"2900011680711",<font></font>
        "oem":"2112-1307010",<font></font>
        "price":188.16,<font></font>
        "brand":"AURORA, Poland",<font></font>
        "product_code":"016807",<font></font>
        "gift":0,<font></font>
        "bonus":1,<font></font>
        "new_product":0,<font></font>
        "quantity":15<font></font>
    },<font></font>
    . . .<font></font>
]</code></pre><br>
<br>
 CHARACTERISTIC URL depro/cron/product_charact   product_id.  GET.<br>
<br>
<br>
<pre><code class="plaintext hljs">[<font></font>
    {<font></font>
        "prop_id":2764,<font></font>
        "product_id":2942,<font></font>
        "name":"",<font></font>
        "value":", . , "<font></font>
    },<font></font>
    {<font></font>
        "prop_id":2765,<font></font>
        "product_id":2942,<font></font>
        "name":"   ",<font></font>
        "value":","<font></font>
    },<font></font>
    . . .<font></font>
]</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie nun unsere Schritte zum Schreiben einer Bewerbung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. Im Studio erstellen wir ein neues Projekt. Der Name kann nach eigenem Ermessen festgelegt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Bereitstellung von Ressourcen. Wie im ersten Artikel erw√§hnt, werden Ressourcendateien (XML) herk√∂mmlich verwendet. Um keine Zeit mit bekannten Dingen zu verschwenden, laden wir einfach </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alle erforderlichen Ressourcen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> herunter </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entpacken Sie die resultierende Datei res_example.zip. L√∂schen Sie im Studio den gesamten Inhalt des res-Ordners. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úbertragen Sie den Inhalt des entpackten res-Ordners in den res-Ordner des Projekts. Danach m√ºssen Sie unter Ber√ºcksichtigung der Funktionen von Android Studio m√∂glicherweise das Projekt l√∂schen und / oder den Befehl Ung√ºltige Caches / Neustart ausf√ºhren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Verbindung der Bibliothek </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Abschnitt Abh√§ngigkeiten der Datei build.gradle des Moduls m√ºssen Sie Folgendes angeben:</font></font><br>
<br>
<pre><code class="java hljs">    implementation <span class="hljs-string">'github.com/deprosystem/depro:compon:3.0.1'</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Android-Bereich der build.gradle-Datei des Moduls m√ºssen Sie Folgendes angeben:</font></font><br>
<br>
<pre><code class="java hljs">    packagingOptions {<font></font>
        exclude <span class="hljs-string">'META-INF/DEPENDENCIES'</span><font></font>
    }<font></font>
    compileOptions {<font></font>
        sourceCompatibility JavaVersion.VERSION_1_8<font></font>
        targetCompatibility JavaVersion.VERSION_1_8<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Auswahl des Attributs minSdkVersion m√ºssen Sie ber√ºcksichtigen, dass die Bibliothek minSdkVersion = 17 unterst√ºtzt. Nach dem √Ñndern von build.gradle m√ºssen Sie das Projekt synchronisieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Erstellung der notwendigen Klassen (Dateien). </font><font style="vertical-align: inherit;">Bei der Arbeit mit der Bibliothek werden nur 4 Klassen verwendet: MyDeclareScreens - alle Bildschirme werden beschrieben; </font><font style="vertical-align: inherit;">MyParams - Legen Sie die erforderlichen Parameter f√ºr die Anwendung fest. </font><font style="vertical-align: inherit;">MyApp - Die DePro-Bibliothek wird initiiert. </font><font style="vertical-align: inherit;">MainActivity - Startaktivit√§t. </font><font style="vertical-align: inherit;">Sie k√∂nnen Ihre eigenen Klassennamen verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie die Klasse MyDeclareScreens.java. </font><font style="vertical-align: inherit;">Sein Inhalt ist wie folgt:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyDeclareScreens</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">DeclareScreens</span> </span>{<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> <span class="hljs-keyword">static</span> String<font></font>
            MAIN = <span class="hljs-string">"main"</span>, DRAWER = <span class="hljs-string">"DRAWER"</span>, CATALOG = <span class="hljs-string">"CATALOG"</span>,<font></font>
            DESCRIPT = <span class="hljs-string">"DESCRIPT"</span>, CHARACTERISTIC = <span class="hljs-string">"CHARACTERISTIC"</span>,<font></font>
            PRODUCT_LIST = <span class="hljs-string">"PRODUCT_LIST"</span>, PRODUCT_DESCRIPT = <span class="hljs-string">"PRODUCT_DESCRIPT"</span>,<font></font>
            FITNESS = <span class="hljs-string">"FITNESS"</span>;<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">declare</span><span class="hljs-params">()</span> </span>{<font></font>
        activity(MAIN, R.layout.activity_main)<font></font>
                .navigator(finishDialog(R.string.attention, R.string.finishOk))<font></font>
                .drawer(R.id.drawer, R.id.content_frame, R.id.left_drawer, <span class="hljs-keyword">null</span>, DRAWER);<font></font>
<font></font>
        fragment(DRAWER, R.layout.fragment_drawer)<font></font>
                .menu(model(menu), view(R.id.recycler));<font></font>
<font></font>
        fragment(CATALOG, R.layout.fragment_catalog)<font></font>
                .navigator(handler(R.id.back, VH.OPEN_DRAWER))<font></font>
                .component(TC.RECYCLER_HORIZONTAL, model(Api.NEWS_PROD).pagination().progress(R.id.progr),<font></font>
                        view(R.id.recycler_news, R.layout.item_news_prod),<font></font>
                        navigator(start(PRODUCT_DESCRIPT)))<font></font>
                .component(TC.RECYCLER, model(Api.CATALOG),<font></font>
                        view(R.id.recycler, <span class="hljs-string">"expandedLevel"</span>, <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[]{R.layout.item_catalog_type_1,<font></font>
                                R.layout.item_catalog_type_2, R.layout.item_catalog_type_3})<font></font>
                                .expanded(R.id.expand, R.id.expand, model(Api.CATALOG_EX, <span class="hljs-string">"catalog_id"</span>)),<font></font>
                        navigator(start(PRODUCT_LIST)));<font></font>
<font></font>
        activity(PRODUCT_LIST, R.layout.activity_product_list, <span class="hljs-string">"%1$s"</span>, <span class="hljs-string">"catalog_name"</span>).animate(AS.RL)<font></font>
                .navigator(back(R.id.back))<font></font>
                .component(TC.RECYCLER, model(Api.PRODUCT_LIST, <span class="hljs-string">"expandedLevel,catalog_id"</span>),<font></font>
                        view(R.id.recycler, R.layout.item_product_list)<font></font>
                                .visibilityManager(visibility(R.id.bonus_i, <span class="hljs-string">"bonus"</span>),<font></font>
                                        visibility(R.id.gift_i, <span class="hljs-string">"gift"</span>),<font></font>
                                        visibility(R.id.newT, <span class="hljs-string">"new_product"</span>)),<font></font>
                        navigator(start(PRODUCT_DESCRIPT)));<font></font>
<font></font>
        activity(PRODUCT_DESCRIPT, R.layout.activity_product_descript, <span class="hljs-string">"%1$s"</span>, <span class="hljs-string">"catalog_name"</span>).animate(AS.RL)<font></font>
                .navigator(back(R.id.back))<font></font>
                .setValue(item(R.id.product_name, TS.PARAM, <span class="hljs-string">"product_name"</span>))<font></font>
                .component(TC.PAGER_F, view(R.id.pager, DESCRIPT, CHARACTERISTIC)<font></font>
                        .setTab(R.id.tabs, R.array.descript_tab_name));<font></font>
<font></font>
        fragment(DESCRIPT, R.layout.fragment_descript)<font></font>
                .component(TC.PANEL, model(Api.PRODUCT_ID, <span class="hljs-string">"product_id"</span>),<font></font>
                        view(R.id.panel).visibilityManager(visibility(R.id.bonus, <span class="hljs-string">"bonus"</span>)))<font></font>
                .component(TC.RECYCLER, model(Api.ANALOG_ID_PRODUCT,<span class="hljs-string">"product_id"</span>),<font></font>
                        view(R.id.recycler, R.layout.item_product_list).noDataView(R.id.not_analog)<font></font>
                                .visibilityManager(visibility(R.id.bonus_i, <span class="hljs-string">"bonus"</span>),<font></font>
                                        visibility(R.id.gift_i, <span class="hljs-string">"gift"</span>),<font></font>
                                        visibility(R.id.newT, <span class="hljs-string">"new_product"</span>)),<font></font>
                        navigator(start(<span class="hljs-number">0</span>, PRODUCT_DESCRIPT, PS.RECORD),<font></font>
                                handler(<span class="hljs-number">0</span>, VH.BACK))) ;<font></font>
<font></font>
        fragment(CHARACTERISTIC, R.layout.fragment_characteristic)<font></font>
                .component(TC.RECYCLER, model(Api.CHARACT_ID_PRODUCT, <span class="hljs-string">"product_id"</span>),<font></font>
                        view(R.id.recycler, <span class="hljs-string">"2"</span>, <span class="hljs-keyword">new</span> <span class="hljs-keyword">int</span>[] {R.layout.item_property, R.layout.item_property_1}));<font></font>
<font></font>
        fragment(FITNESS, R.layout.fragment_fitness)<font></font>
                .navigator(handler(R.id.back, VH.OPEN_DRAWER))<font></font>
                .component(TC.SPINNER, model(JSON, getString(R.string.clubs)),<font></font>
                        view(R.id.spinner, R.layout.item_spin_drop, R.layout.item_spin_hider))<font></font>
                .component(TC.RECYCLER, model(Api.FITNESS, <span class="hljs-string">"clubId"</span>),<font></font>
                        view(R.id.recycler, R.layout.item_fitness), <span class="hljs-keyword">null</span>).eventFrom(R.id.spinner);<font></font>
    }<font></font>
<font></font>
    Menu menu = <span class="hljs-keyword">new</span> Menu()<font></font>
            .item(R.drawable.list, R.string.m_catalog, CATALOG, <span class="hljs-keyword">true</span>)<font></font>
            .divider()<font></font>
            .item(R.drawable.ic_aura, R.string.fitness, FITNESS);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden sp√§ter alle verwendeten DePro-Konstruktionen beschreiben. </font><font style="vertical-align: inherit;">Verwenden Sie zum Verbinden des Imports die Tastenkombination Alt + Eingabetaste. </font><font style="vertical-align: inherit;">Rot wird auch die API-Klasse hervorgehoben, in der die Adressen f√ºr alle Anforderungen festgelegt sind. </font><font style="vertical-align: inherit;">Der Inhalt wird sp√§ter bekannt gegeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie die Klasse MyParams.java. </font><font style="vertical-align: inherit;">In den meisten F√§llen sind die Standardeinstellungen ausreichend. </font><font style="vertical-align: inherit;">In unserem Fall legen wir nur die Basis-URL fest.</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyParams</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AppParams</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">setParams</span><span class="hljs-params">()</span> </span>{<font></font>
        baseUrl = <span class="hljs-string">"https://deprosystem.com/"</span>;<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ñndern Sie den vom Studio der MainActivity-Klasse erstellten Inhalt wie folgt:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MainActivity</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">BaseActivity</span> </span>{
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getNameScreen</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">return</span> MyDeclareScreens.MAIN;<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Manifest f√ºr MainActivity k√∂nnen Sie die Hochformatausrichtung festlegen. </font><font style="vertical-align: inherit;">Grunds√§tzlich unterst√ºtzt die Bibliothek die Bildschirmrotation, aber in dieser Version ist f√ºr Bildschirme vom Typ activity () neben dem Start auch die Hochformatausrichtung vorgeschrieben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstellen Sie die MyApp-Klasse:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">MyApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Application</span> </span>{
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> MyApp instance;
    <span class="hljs-keyword">private</span> Context context;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MyApp <span class="hljs-title">getInstance</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">if</span> (instance == <span class="hljs-keyword">null</span>) {<font></font>
            instance = <span class="hljs-keyword">new</span> MyApp();<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> instance;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">onCreate</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">super</span>.onCreate();<font></font>
        instance = <span class="hljs-keyword">this</span>;<font></font>
        context = getApplicationContext();<font></font>
<font></font>
        DeclareParam.build(context)<font></font>
                .setAppParams(<span class="hljs-keyword">new</span> MyParams())<font></font>
                .setDeclareScreens(<span class="hljs-keyword">new</span> MyDeclareScreens());<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist ein regul√§rer Singleton in der onCreate-Methode, f√ºr die MyParams und MyDeclareScreens festgelegt sind. </font></font><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Denken Sie daran, MyApp im Manifest zu beschreiben.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Erstellen Sie zum Abschluss die Api-Klasse:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Api</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String CATALOG = <span class="hljs-string">"depro/cron/catalog"</span>,<font></font>
            NEWS_PROD = <span class="hljs-string">"depro/cron/news_prod"</span>,<font></font>
            PRODUCT_LIST = <span class="hljs-string">"depro/cron/product_list"</span>,<font></font>
            PRODUCT_ID = <span class="hljs-string">"depro/cron/product_id"</span>,<font></font>
            ANALOG_ID_PRODUCT = <span class="hljs-string">"depro/cron/product_analog"</span>,<font></font>
            CHARACT_ID_PRODUCT = <span class="hljs-string">"depro/cron/product_charact"</span>,<font></font>
            FITNESS = <span class="hljs-string">"depro/cron/fitness"</span>,<font></font>
            CATALOG_EX = <span class="hljs-string">"depro/cron/catalog_ex"</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. Jetzt k√∂nnen Sie die Anwendung zur Ausf√ºhrung ausf√ºhren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn alles korrekt eingegeben wurde, werden beim Start der Anwendung alle angegebenen Bildschirme angezeigt (und funktionieren). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie wir sehen, haben wir nur f√ºnf einfache Klassen f√ºr die gesamte Anwendung. Und vier von ihnen sind Hilfskr√§fte. Ihr Inhalt ist unabh√§ngig von der Anzahl der Bildschirme. Die im Allgemeinen nicht triviale Beschreibung der Bildschirme nimmt ebenfalls etwas Platz ein (weniger als 80 Zeilen). Nun zeigen wir, dass die Beschreibung nicht nur nicht gro√ü, sondern auch nicht kompliziert ist. Dazu beschreiben wir den Betrieb der verwendeten Bibliothekskomponenten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie im ersten Artikel angegeben, k√∂nnen Bildschirme in der Bibliothek entweder Aktivit√§t oder Fragment sein, wodurch der Bildschirmname (Zeile) und das Layout festgelegt werden. Links zu Bildschirmen werden anhand ihrer Namen erstellt. Die Auswahl des zu verwendenden Bildschirmtyps erfolgt auf √ºbliche Weise.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hauptbildschirm</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Aus dem Design geht hervor, dass der Startbildschirm ein Seitenmen√º und einen Container f√ºr Fragmente enth√§lt. Im Markup von R.layout.activity_main wird ein Standard-DrawerLayout festgelegt. Daher geben wir in der Beschreibung des MAIN-Bildschirms die Schubladenkomponente an, an die wir die ID des DrawerLayout selbst und seiner Container f√ºr die Seitenleiste und die Fragmente √ºbergeben. Wir geben auch den Namen des Bildschirms (SCHUBLADE) an, der in der Seitenleiste angezeigt wird. Der finishDialog-Navigator gibt an, dass Sie vor dem Beenden der Anwendung einen Best√§tigungsdialog ausgeben m√ºssen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DRAWER-Bildschirm</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Enth√§lt nur eine </font><b><font style="vertical-align: inherit;">Men√ºkomponente</font></b><font style="vertical-align: inherit;"> mit einer im Modell angegebenen </font><b><font style="vertical-align: inherit;">Men√ºtypvariablen</font></b><font style="vertical-align: inherit;"> und einem Markup-Element vom Typ RecyclerView in der ID-Ansicht, das das Men√º anzeigt. Das Men√º selbst zeigt an, dass der Men√ºpunkt ‚ÄûKATALOG‚Äú beim Starten des Men√ºs im Fragmentcontainer angezeigt wird.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KATALOG-Bildschirm</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Enth√§lt eine horizontale neue Liste. Beim Empfang von Daten vom Server verwendet das Modell die Paginierung und zeigt den Fortschritt in R.id.progr an. Wenn Ihr Internet schnell ist, bemerken Sie m√∂glicherweise nicht, dass ein Panel mit Fortschritt angezeigt wird. Wenn Sie es sehen m√∂chten, k√∂nnen Sie zu einem langsameren Internet wechseln oder die Hintergrundfarbe von R.id.progr √§ndern. In diesem Fall wird es zumindest blinken. F√ºr die Paginierung werden standardm√§√üig die in AppParams angegebenen Parameter verwendet. Die Ansicht erh√§lt R.id.recycler_news mit einer RecyclerView und einem Layout f√ºr Elemente. Wenn Sie auf ein Element in der Liste klicken, wird der Bildschirm PRODUCT_DESCRIPT gestartet.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verzeichnisliste ist eine Dropdown-Liste. Die Offenlegungsstufe wird im Feld "expandLevel" definiert. Wenn es nicht mit den Quelldaten √ºbertragen wird, wird die Bibliothek selbst damit umgehen. Der gleiche Parameter legt fest, welches Layout aus der Liste auf jeder Offenlegungsebene verwendet werden soll. Die Tatsache, dass die Liste ein Dropdown-Men√º ist, dient der erweiterten (...) Funktionalit√§t. Das Modell wird im Cator so eingestellt, dass Daten vom Server f√ºr die n√§chsten Ebenen empfangen werden. Das Modell gibt die Adresse der Api.CATALOG_EX-Anforderung und den Namen des Anforderungsparameters "catalog_id" an. In erweitert wird auch R.id.expand angezeigt - ein Markup-Element in Elementen, indem Sie darauf klicken, auf das die Liste erweitert wird, und die ID des Elements, das beim Erweitern animiert um 180 Grad gedreht wird - Schlie√üen der Liste. Und schlie√ülich zeigt der Navigator anWenn Sie auf das Listenelement klicken, wird der Bildschirm PRODUCT_LIST aufgerufen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Navigator, der sich auf den gesamten Bildschirm bezieht, zeigt an, dass beim Klicken auf das Element R.id.back ein Seitenbereich ge√∂ffnet wird. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bildschirm PRODUCT_LIST</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Wenn Sie einen Bildschirm angeben, wird angezeigt, dass der aktuelle Wert des Parameters catalog_name in der Kopfzeile angezeigt wird und die Ausgabeanimation von rechts nach links (AS.RL) erfolgt. Die Listenbeschreibung ist uns bereits bekannt. Das einzige, was f√ºr die Pr√§sentation vorgesehen ist, ist der Sichtbarkeitsmanager, der die Sichtbarkeit der Markup-Elemente in Abh√§ngigkeit von den Werten der entsprechenden Daten steuert. Der Navigator f√ºr den gesamten Bildschirm zeigt an, dass Sie beim Klicken auf das Element R.id.back zum vorherigen Bildschirm zur√ºckkehren. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bildschirm PRODUCT_DESCRIPT</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neu f√ºr uns ist eine Komponente vom Typ PAGER_F. Es ist einem regul√§ren ViewPager zugeordnet. Ihm wird eine Liste der anzuzeigenden Bildschirme (Fragmente) angezeigt, und TabLayout (setTab) ist verbunden. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Bildschirm PRODUCT_DESCRIPT wird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf der Registerkarte </font><b><font style="vertical-align: inherit;">BESCHREIBUNG angezeigt</font></b><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine Komponente vom Typ PANEL zeigt die vom Modell erhaltenen Daten an. In der Liste ‚ÄûAnaloga‚Äú wird eine Liste √§hnlicher Produkte angezeigt, sofern vorhanden. Wenn Sie die Funktion noDataView () verwenden, wird die Meldung ‚ÄûAnaloga fehlen‚Äú angezeigt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bildschirm CHARACTERISTIC</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Zeigt eine Liste der Produktfunktionen an. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bildschirm</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
FITNESS Eine Komponente vom Typ SPINNER zeigt eine Liste der Clubs mit der Option zur Auswahl eines Clubs an. Die Liste der Clubs wird im Modell als JSON-Zeichenfolge festgelegt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Liste der Klassenkategorien ist normal. </font><font style="vertical-align: inherit;">Die Funktion eventFrom (...) gibt an, dass beim √Ñndern der mit R.id.spinner verkn√ºpften Komponente (in unserem Fall des Spiners) die Daten aktualisiert werden m√ºssen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der im Artikel beschriebene Code der Anwendung kann auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> angezeigt werden </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Artikel dient nur zur Orientierung. </font><font style="vertical-align: inherit;">Weitere Informationen zu den Funktionen der DePro-Bibliothek finden Sie in der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de502004/index.html">Kanban-Methode: Verstehen Sie Ihren Prozess als kollektiven Wissensaufbauprozess - Teil 1 (Rezepte)</a></li>
<li><a href="../de502008/index.html">Programmierung f√ºr die Massen</a></li>
<li><a href="../de502014/index.html">Ihr Arbeitgeber: Feiern Sie den Freelancer Day</a></li>
<li><a href="../de502018/index.html">Podcast zur Sicherheit mobiler Ger√§te und zur Entwicklung von Schutzl√∂sungen f√ºr diese</a></li>
<li><a href="../de502020/index.html">RoadHunters.io - bringt Motorradfahrer auf die ganze Welt</a></li>
<li><a href="../de502028/index.html">Vanya geht zu Gro√ümutter oder dynamischem JavaScript adaptiv</a></li>
<li><a href="../de502030/index.html">Webdienste in Oracle</a></li>
<li><a href="../de502034/index.html">Kontrollierte und unkontrollierte Komponenten in React m√ºssen nicht kompliziert sein</a></li>
<li><a href="../de502038/index.html">Ein Atom anheben, Ansatz 2.0.1</a></li>
<li><a href="../de502040/index.html">√úber Phrasal Verbs-5 (hoch / runter)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>