<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☝🏾 👾 🚩 パート4：RISC-RISC-VでLinuxを引き続き実行する 👼 🤟🏿 ♨️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="写真では、LinuxカーネルがGPIO経由で挨拶を送信しています。
 

ストーリーのこの部分では、RISC-V RocketChipをCyclone IVを搭載した中国のマザーボードに移植する場合でも、Linuxを実行し、IPコアメモリコントローラーを自分で構成し、ハードウェアのdts-descr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>パート4：RISC-RISC-VでLinuxを引き続き実行する</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459470/"><p><img src="https://habrastorage.org/webt/wq/cw/ae/wqcwaewtqxjju-xcycuspdxaipe.jpeg" width="45%" align="left"> <em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">写真では、LinuxカーネルがGPIO経由で挨拶を送信しています。</font></font></em></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストーリーのこの部分では、RISC-V RocketChipをCyclone IVを搭載した中国のマザーボードに移植する場合でも、Linuxを実行し、IPコアメモリコントローラーを自分で構成し、ハードウェアのdts-descriptionをわずかに変更する方法も学びます。</font><font style="vertical-align: inherit;">この記事は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第3部の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">続きです</font><font style="vertical-align: inherit;">が、かなり前の</font><font style="vertical-align: inherit;">記事とは</font><font style="vertical-align: inherit;">異なり、かなり短くなります。</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... </font></font><code>setup_smp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カーネルがSMPサポートで構成されている場合にのみ呼び出されるため、マルチコアを無効にしてみることができます。</font><font style="vertical-align: inherit;">メモリモジュールで原子性のサポートも実装する必要がある場合は不快です（キャッシュ自体がこれでビジーであるように思われます）が、シングルコアの場合は、停止することはありません。</font></font></p><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それでも離陸しなかった...</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">[    0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000<font></font>
[    0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 Thu Jul 4 18:38:10 MSK 2019<font></font>
[    0.000000] bootconsole [early0] enabled<font></font>
[    0.000000] Initial ramdisk at: 0x(____ptrval____) (16777216 bytes)<font></font>
[    0.000000] Zone ranges:<font></font>
[    0.000000]   DMA32    [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000bffffffffff]<font></font>
[    0.000000] Movable zone start for each node<font></font>
[    0.000000] Early memory node ranges<font></font>
[    0.000000]   node   0: [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB)<font></font>
[    0.000000] Unable to find "cpu" devicetree entry<font></font>
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 258055<font></font>
[    0.000000] Kernel command line: debug console=ttySIF0,125200 root=/dev/mmcblk0p2 loglevel=7 rootwait<font></font>
[    0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)<font></font>
[    0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)<font></font>
[    0.000000] Sorting __ex_table...<font></font>
[    0.000000] BUG: Bad page state in process swapper  pfn:80bf7<font></font>
[    0.000000] page:ffffffe03f029e08 count:0 mapcount:-65280 mapping:0000000000000000 index:0x1<font></font>
[    0.000000] flags: 0x0()<font></font>
[    0.000000] raw: 0000000000000000 0000000000000100 0000000000000200 0000000000000000<font></font>
[    0.000000] raw: 0000000000000001 0000000000000000 00000000ffff00ff<font></font>
[    0.000000] page dumped because: nonzero mapcount<font></font>
[    0.000000] Modules linked in:<font></font>
[    0.000000] CPU: 0 PID: 0 Comm: swapper Not tainted 4.19.0-sifive-1+ #1<font></font>
[    0.000000] Call Trace:<font></font>
[    0.000000] [&lt;ffffffe00002cfde&gt;] walk_stackframe+0x0/0xa0<font></font>
[    0.000000] [&lt;ffffffe00002d1da&gt;] show_stack+0x2a/0x34<font></font>
[    0.000000] [&lt;ffffffe00063c898&gt;] chachachllachachachTradeonachachach_inachachipachachachachllachachachTradeonachachachdevachachachypachachachllachachachTradeona+0x20/0x28<font></font>
[    0.000000] [&lt;ffffffe00009499c&gt;] bad_page+0xe4/0x102<font></font>
[    0.000000] [&lt;ffffffe0000949f2&gt;] free_pages_check_bad+0x38/0x7a<font></font>
[    0.000000] [&lt;ffffffe000094bb0&gt;] free_pcppages_bulk+0x106/0x36c<font></font>
[    0.000000] [&lt;ffffffe0000957be&gt;] free_unref_page_commit.isra.23+0x86/0x8e<font></font>
[    0.000000] [&lt;ffffffe0000960bc&gt;] free_unref_page+0x44/0x58<font></font>
[    0.000000] [&lt;ffffffe0000960de&gt;] __free_pages.part.28+0xe/0x22<font></font>
[    0.000000] [&lt;ffffffe0000056da&gt;] __free_pages_bootmem+0x86/0x90<font></font>
[    0.000000] [&lt;ffffffe000007c46&gt;] free_all_bootmem+0x156/0x1ba<font></font>
[    0.000000] [&lt;ffffffe0000023f8&gt;] mem_init+0x36/0x44<font></font>
[    0.000000] [&lt;ffffffe0000007a0&gt;] start_kernel+0x1aa/0x328<font></font>
[    0.000000] [&lt;ffffffe000000058&gt;] _sinittext+0x58/0x5c<font></font>
[    0.000000] Disabling lock debugging due to kernel taint<font></font>
[    0.000000] BUG: Bad page state in process swapper  pfn:80bf9<font></font>
[    0.000000] page:ffffffe03f029e78 count:0 mapcount:-65280 mapping:0000000000000000 index:0x0<font></font>
[    0.000000] flags: 0x0()<font></font>
[    0.000000] raw: 0000000000000000 ffffffe03f020080 ffffffe03f020080 0000000000000000<font></font>
[    0.000000] raw: 0000000000000000 0000000000000000 00000000ffff00ff<font></font>
[    0.000000] page dumped because: nonzero mapcount<font></font>
[    0.000000] Modules linked in:<font></font>
[    0.000000] CPU: 0 PID: 0 Comm: swapper Tainted: G    B             4.19.0-sifive-1+ #1<font></font>
[    0.000000] Call Trace:<font></font>
[    0.000000] [&lt;ffffffe00002cfde&gt;] walk_stackframe+0x0/0xa0<font></font>
[    0.000000] [&lt;ffffffe00002d1da&gt;] show_stack+0x2a/0x34<font></font>
[    0.000000] [&lt;ffffffe00063c898&gt;] chachachllachachachTradeonachachach_inachachipachachachachllachachachTradeonachachachdevachachachypachachachllachachachTradeona+0x20/0x28<font></font>
[    0.000000] [&lt;ffffffe00009499c&gt;] bad_page+0xe4/0x102<font></font>
[    0.000000] [&lt;ffffffe0000949f2&gt;] free_pages_check_bad+0x38/0x7a<font></font>
[    0.000000] [&lt;ffffffe0000955c6&gt;] __free_pages_ok+0x3fe/0x430<font></font>
[    0.000000] [&lt;ffffffe0000960ea&gt;] __free_pages.part.28+0x1a/0x22<font></font>
[    0.000000] [&lt;ffffffe0000056da&gt;] __free_pages_bootmem+0x86/0x90<font></font>
[    0.000000] [&lt;ffffffe000007c46&gt;] free_all_bootmem+0x156/0x1ba<font></font>
[    0.000000] [&lt;ffffffe0000023f8&gt;] mem_init+0x36/0x44<font></font>
[    0.000000] [&lt;ffffffe0000007a0&gt;] start_kernel+0x1aa/0x328<font></font>
[    0.000000] [&lt;ffffffe000000058&gt;] _sinittext+0x58/0x5c<font></font>
[    0.000000] BUG: Bad page state in process swapper  pfn:80bfa<font></font>
[    0.000000] page:ffffffe03f029eb0 count:0 mapcount:-65280 mapping:0000000000000000 index:0x0<font></font>
[    0.000000] flags: 0x0()<font></font>
[    0.000000] raw: 0000000000000000 ffffffe03f0200b8 ffffffe03f0200b8 0000000000000000<font></font>
[    0.000000] raw: 0000000000000000 0000000000000000 00000000ffff00ff<font></font>
[    0.000000] page dumped because: nonzero mapcount<font></font>
[    0.000000] Modules linked in:<font></font>
[    0.000000] CPU: 0 PID: 0 Comm: swapper Tainted: G    B             4.19.0-sifive-1+ #1<font></font>
[    0.000000] Call Trace:<font></font>
[    0.000000] [&lt;ffffffe00002cfde&gt;] walk_stackframe+0x0/0xa0<font></font>
[    0.000000] [&lt;ffffffe00002d1da&gt;] show_stack+0x2a/0x34<font></font>
[    0.000000] [&lt;ffffffe00063c898&gt;] chachachllachachachTradeonachachach_inachachipachachachachllachachachTradeonachachachdevachachachypachachachllachachachTradeona+0x20/0x28<font></font>
[    0.000000] [&lt;ffffffe00009499c&gt;] bad_page+0xe4/0x102<font></font>
[    0.000000] [&lt;ffffffe0000949f2&gt;] free_pages_check_bad+0x38/0x7a<font></font>
[    0.000000] [&lt;ffffffe0000955c6&gt;] __free_pages_ok+0x3fe/0x430<font></font>
[    0.000000] [&lt;ffffffe0000960ea&gt;] __free_pages.part.28+0x1a/0x22<font></font>
[    0.000000] [&lt;ffffffe0000056da&gt;] __free_pages_bootmem+0x86/0x90<font></font>
[    0.000000] [&lt;ffffffe000007c46&gt;] free_all_bootmem+0x156/0x1ba<font></font>
[    0.000000] [&lt;ffffffe0000023f8&gt;] mem_init+0x36/0x44<font></font>
[    0.000000] [&lt;ffffffe0000007a0&gt;] start_kernel+0x1aa/0x328<font></font>
[    0.000000] [&lt;ffffffe000000058&gt;] _sinittext+0x58/0x5c<font></font>
[    0.000000] BUG: Bad page state in process swapper  pfn:80bfb<font></font>
[    0.000000] page:ffffffe03f029ee8 count:0 mapcount:-65280 mapping:0000000000000000 index:0x0<font></font>
[    0.000000] flags: 0x0()<font></font>
[    0.000000] raw: 0000000000000000 ffffffe03f0200f0 ffffffe03f0200f0 0000000000000000<font></font>
[    0.000000] raw: 0000000000000000 0000000000000000 00000000ffff00ff<font></font>
[    0.000000] page dumped because: nonzero mapcount<font></font>
[    0.000000] Modules linked in:<font></font>
[    0.000000] CPU: 0 PID: 0 Comm: swapper Tainted: G    B             4.19.0-sifive-1+ #1<font></font>
[    0.000000] Call Trace:<font></font>
[    0.000000] [&lt;ffffffe00002cfde&gt;] walk_stackframe+0x0/0xa0<font></font>
[    0.000000] [&lt;ffffffe00002d1da&gt;] show_stack+0x2a/0x34<font></font>
[    0.000000] [&lt;ffffffe00063c898&gt;] chachachllachachachTradeonachachach_inachachipachachachachllachachachTradeonachachachdevachachachypachachachllachachachTradeona+0x20/0x28<font></font>
[    0.000000] [&lt;ffffffe00009499c&gt;] bad_page+0xe4/0x102<font></font>
[    0.000000] [&lt;ffffffe0000949f2&gt;] free_pages_check_bad+0x38/0x7a<font></font>
[    0.000000] [&lt;ffffffe0000955c6&gt;] __free_pages_ok+0x3fe/0x430<font></font>
[    0.000000] [&lt;ffffffe0000960ea&gt;] __free_pages.part.28+0x1a/0x22<font></font>
[    0.000000] [&lt;ffffffe0000056da&gt;] __free_pages_bootmem+0x86/0x90<font></font>
[    0.000000] [&lt;ffffffe000007c46&gt;] free_all_bootmem+0x156/0x1ba<font></font>
[    0.000000] [&lt;ffffffe0000023f8&gt;] mem_init+0x36/0x44<font></font>
[    0.000000] [&lt;ffffffe0000007a0&gt;] start_kernel+0x1aa/0x328<font></font>
[    0.000000] [&lt;ffffffe000000058&gt;] _sinittext+0x58/0x5c<font></font>
[    0.000000] BUG: Bad page state in process swapper  pfn:80bfc<font></font>
[    0.000000] page:ffffffe03f029f20 count:0 mapcount:-65280 mapping:0000000000000000 index:0x0<font></font>
[    0.000000] flags: 0x0()<font></font>
[    0.000000] raw: 0000000000000000 ffffffe03f020028 ffffffe03f020028 0000000000000000<font></font>
[    0.000000] raw: 0000000000000000 0000000000000000 00000000ffff00ff<font></font>
...</code></pre></div></div><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">興味深いことに、すべてのデバッグを行った後、「参照」カーネル出力がどのようになるかを確認することを決定し</font></font><code>make qemu</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、同様のエラーを確認しました。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">悲しいかな、次のレベル（Linuxカーネル）はより複雑です。JDBを介してRocketChipに接続されたGDBは、MMUの構成方法に関係なく、明らかに物理アドレスで動作します。カーネルは、関心のある瞬間にアドレスマッピングをすでに構成しているので、</font></font><code>display/10i $pc</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">うまくいきません-たくさんしか見えません</font></font><code>unimp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">しかし、バイアスをすでに把握している場合は（そう思われます</font></font><code>0x80200000 -&gt; 0xffffffe000000000</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、不正行為を行うことができます。</font></font></p><br>
<pre><code class="plaintext hljs">1: x/10i $pc<font></font>
=&gt; 0xffffffe000002436 &lt;setup_smp&gt;:      unimp<font></font>
   0xffffffe000002438 &lt;setup_smp+2&gt;:    unimp<font></font>
   0xffffffe00000243a &lt;setup_smp+4&gt;:    unimp<font></font>
   0xffffffe00000243c &lt;setup_smp+6&gt;:    unimp<font></font>
   0xffffffe00000243e &lt;setup_smp+8&gt;:    unimp<font></font>
   0xffffffe000002440 &lt;setup_smp+10&gt;:   unimp<font></font>
   0xffffffe000002442 &lt;setup_smp+12&gt;:   unimp<font></font>
   0xffffffe000002444 &lt;setup_smp+14&gt;:   unimp<font></font>
   0xffffffe000002446 &lt;setup_smp+16&gt;:   unimp<font></font>
   0xffffffe000002448 &lt;setup_smp+18&gt;:   unimp<font></font>
(gdb) undisplay 1<font></font>
(gdb) display/10i ($pc - 0xffffffe000002436 + 0x80202436)<font></font>
2: x/10i ($pc - 0xffffffe000002436 + 0x80202436)<font></font>
   0x80202436:  addi    sp,sp,-96<font></font>
   0x80202438:  sd      s0,80(sp)<font></font>
   0x8020243a:  sd      s1,72(sp)<font></font>
   0x8020243c:  sd      s2,64(sp)<font></font>
   0x8020243e:  sd      s3,56(sp)<font></font>
   0x80202440:  sd      s4,48(sp)<font></font>
   0x80202442:  sd      s5,40(sp)<font></font>
   0x80202444:  sd      s6,32(sp)<font></font>
   0x80202446:  sd      s7,24(sp)<font></font>
   0x80202448:  sd      s8,16(sp)</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブレークポイントも同様に添付されています。</font></font></p><br>
<pre><code class="plaintext hljs">(gdb) p setup_smp<font></font>
$1 = {&lt;text variable, no debug info&gt;} 0xffffffe000002436 &lt;setup_smp&gt;<font></font>
(gdb) b *0x80202436<font></font>
Breakpoint 1 at 0x80202436<font></font>
(gdb) c<font></font>
Continuing.<font></font>
<font></font>
Program received signal SIGTRAP, Trace/breakpoint trap.<font></font>
setup_smp () at /home/trosinenko/freedom-u-sdk/linux/arch/riscv/kernel/smpboot.c:58<font></font>
58              while ((dn = of_find_node_by_type(dn, "cpu"))) {<font></font>
(gdb) bt<font></font>
#0  setup_smp () at /home/trosinenko/freedom-u-sdk/linux/arch/riscv/kernel/smpboot.c:58<font></font>
#1  0xffffffe0000022a2 in setup_arch () at /home/trosinenko/freedom-u-sdk/linux/arch/riscv/kernel/setup.c:253<font></font>
#2  0x0000000000000000 in ?? ()<font></font>
Backtrace stopped: frame did not save the PC</code></pre><br>
<p>     ,    —  GDB  -   trap.  ,     <code>s</code>  <code>n</code>  <code>si</code>, gdb    ,      ,    GDB  .      —   ,    gdb (,   breakpoint-, ,  ).</p><br>
<p>,     :   <code>printk</code>   <code>of_find_node_by_type</code>,      , ,    -     . ,  -   «Serial port»,      dtb   <code>device_type</code>.      ,   ,   ,   :       :   8Mb,     .  16Mb,    .     FDT    (      <code>a1</code>), , ,  ,    <strong></strong>  .  ,     (  ,      ,       ),       <code>drivers/of/fdt.c</code>  <code>#define pr_debug printk</code>.   :</p><br>
<div class="spoiler"><b class="spoiler_title">  </b><div class="spoiler_text"><pre><code class="diff hljs">diff --git a/arch/riscv/kernel/setup.c b/arch/riscv/kernel/setup.c<font></font>
index 3db0d71d128b..fac47df9d1db 100644<font></font>
<span class="hljs-comment">--- a/arch/riscv/kernel/setup.c</span>
<span class="hljs-comment">+++ b/arch/riscv/kernel/setup.c</span><font></font>
@@ -173,6 +173,7 @@ asmlinkage void __init setup_vm(void)<font></font>
<font></font>
 void __init parse_dtb(unsigned int hartid, void *dtb)<font></font>
 {<font></font>
<span class="hljs-addition">+       printk("HART = %u DTB = %lx\n", hartid, dtb);</span><font></font>
        early_init_dt_scan(__va(dtb));<font></font>
 }<font></font>
<font></font>
diff --git a/drivers/of/base.c b/drivers/of/base.c<font></font>
index 74eaedd5b860..c019e4158e1d 100644<font></font>
<span class="hljs-comment">--- a/drivers/of/base.c</span>
<span class="hljs-comment">+++ b/drivers/of/base.c</span><font></font>
@@ -940,10 +940,12 @@ struct device_node *of_find_node_by_type(struct device_node *from,<font></font>
        unsigned long flags;<font></font>
<font></font>
        raw_spin_lock_irqsave(&amp;devtree_lock, flags);<font></font>
<span class="hljs-deletion">-       for_each_of_allnodes_from(from, np)</span>
<span class="hljs-addition">+       for_each_of_allnodes_from(from, np) {</span>
<span class="hljs-addition">+               printk("%lx %lx [%s] | [%s]\n", from, np, np-&gt;type, type);</span><font></font>
                if (np-&gt;type &amp;&amp; (of_node_cmp(np-&gt;type, type) == 0)<font></font>
                    &amp;&amp; of_node_get(np))<font></font>
                        break;<font></font>
<span class="hljs-addition">+       }</span><font></font>
        of_node_put(from);<font></font>
        raw_spin_unlock_irqrestore(&amp;devtree_lock, flags);<font></font>
        return np;<font></font>
diff --git a/drivers/of/fdt.c b/drivers/of/fdt.c<font></font>
index 800ad252cf9c..2b45870ebada 100644<font></font>
<span class="hljs-comment">--- a/drivers/of/fdt.c</span>
<span class="hljs-comment">+++ b/drivers/of/fdt.c</span>
<span class="hljs-meta">@@ -31,6 +31,8 @@</span><font></font>
<font></font>
 #include "of_private.h"<font></font>
<font></font>
<span class="hljs-addition">+#define pr_debug printk</span>
<span class="hljs-addition">+</span><font></font>
 /*<font></font>
  * of_fdt_limit_memory - limit the number of regions in the /memory node<font></font>
  * @limit: maximum entries<font></font>
@@ -1253,6 +1255,7 @@ bool __init early_init_dt_scan(void *params)<font></font>
  */<font></font>
 void __init unflatten_device_tree(void)<font></font>
 {<font></font>
<span class="hljs-addition">+       printk("INITIAL: %lx\n", initial_boot_params);</span><font></font>
        __unflatten_device_tree(initial_boot_params, NULL, &amp;of_root,<font></font>
                                early_init_dt_alloc_memory_arch, false);</code></pre></div></div><br>
<div class="spoiler"><b class="spoiler_title">  </b><div class="spoiler_text"><pre><code class="plaintext hljs">                SIFIVE, INC.<font></font>
<font></font>
         5555555555555555555555555<font></font>
        5555                   5555<font></font>
       5555                     5555<font></font>
      5555                       5555<font></font>
     5555       5555555555555555555555<font></font>
    5555       555555555555555555555555<font></font>
   5555                             5555<font></font>
  5555                               5555<font></font>
 5555                                 5555<font></font>
5555555555555555555555555555          55555<font></font>
 55555           555555555           55555<font></font>
   55555           55555           55555<font></font>
     55555           5           55555<font></font>
       55555                   55555<font></font>
         55555               55555<font></font>
           55555           55555<font></font>
             55555       55555<font></font>
               55555   55555<font></font>
                 555555555<font></font>
                   55555<font></font>
                     5<font></font>
<font></font>
           SiFive RISC-V Core IP<font></font>
 {<font></font>
  #address-cells = &lt;0x00000001&gt;;<font></font>
  #size-cells = &lt;0x00000001&gt;;<font></font>
  compatible = "freechips,rocketchip-unknown-dev";<font></font>
  model = "freechips,rocketchip-unknown";<font></font>
  chosen {<font></font>
    linux,initrd-start = &lt;0x82000000&gt;;<font></font>
    riscv,kernel-end = &lt;0x81200000&gt;;<font></font>
    riscv,kernel-start = &lt;0x80200000&gt;;<font></font>
    #address-cells = &lt;0x00000001&gt;;<font></font>
    #size-cells = &lt;0x00000000&gt;;<font></font>
    bootargs = &lt;0x64656275 0x6720636f 0x6e736f6c 0x653d7474 0x79534946 0x302c3132 0x35323030 0x20726f6f 0x743d2f64 0x65762f6d 0x6d63626c 0x6b307032 0x206c6f67 0x6c657665 0x6c3d3720 0x726f6f74 0x77616974&gt;;<font></font>
  }<font></font>
  firmware {<font></font>
    sifive,uboot = "YYYY-MM-DD";<font></font>
  }<font></font>
  aliases {<font></font>
    serial0 = &lt;0x2f736f63 0x2f736572 0x69616c40 0x36343030 0x30303030&gt;;<font></font>
  }<font></font>
  cpus {<font></font>
    #address-cells = &lt;0x00000001&gt;;<font></font>
    #size-cells = &lt;0x00000000&gt;;<font></font>
    cpu@0 {<font></font>
      device_type = "cpu";<font></font>
      clock-frequency = &lt;0x00000000&gt;;<font></font>
      compatible = "sifive,rocket0", "riscv";<font></font>
      d-cache-block-size = &lt;0x00000010&gt;;<font></font>
      d-cache-sets = &lt;0x00000040&gt;;<font></font>
      d-cache-size = &lt;0x00001000&gt;;<font></font>
      d-tlb-sets = &lt;0x00000001&gt;;<font></font>
      d-tlb-size = &lt;0x00000020&gt;;<font></font>
      i-cache-block-size = &lt;0x00000010&gt;;<font></font>
      i-cache-sets = &lt;0x00000040&gt;;<font></font>
      i-cache-size = &lt;0x00001000&gt;;<font></font>
      i-tlb-sets = &lt;0x00000001&gt;;<font></font>
      i-tlb-size = &lt;0x00000020&gt;;<font></font>
      mmu-type = "riscv,sv39";<font></font>
      next-level-cache = &lt;0x00000001&gt;;<font></font>
      reg = &lt;0x00000000&gt;;<font></font>
      riscv,isa = "rv64imafdc";<font></font>
      status = "okay";<font></font>
      timebase-frequency = &lt;0x000f4240&gt;;<font></font>
      tlb-split;<font></font>
      interrupt-controller {<font></font>
        #interrupt-cells = &lt;0x00000001&gt;;<font></font>
        compatible = "riscv,cpu-intc";<font></font>
        interrupt-controller;<font></font>
        phandle = &lt;0x00000002&gt;;<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
  ram@80000000 {<font></font>
    device_type = "memory";<font></font>
    reg = &lt;0x80000000 0x40000000&gt;;<font></font>
    reg-names = "mem";<font></font>
    phandle = &lt;0x00000001&gt;;<font></font>
  }<font></font>
  soc {<font></font>
    #address-cells = &lt;0x00000001&gt;;<font></font>
    #size-cells = &lt;0x00000001&gt;;<font></font>
    compatible = "freechips,rocketchip-unknown-soc", "simple-bus";<font></font>
    ranges;<font></font>
    clint@2000000 {<font></font>
      compatible = "riscv,clint0";<font></font>
      interrupts-extended = &lt;0x00000002 0x00000003 0x00000002 0x00000007&gt;;<font></font>
      reg = &lt;0x02000000 0x00010000&gt;;<font></font>
      reg-names = "control";<font></font>
    }<font></font>
    debug-controller@0 {<font></font>
      compatible = "sifive,debug-013", "riscv,debug-013";<font></font>
      interrupts-extended = &lt;0x00000002 0x0000ffff&gt;;<font></font>
      reg = &lt;0x00000000 0x00001000&gt;;<font></font>
      reg-names = "control";<font></font>
    }<font></font>
    gpio@64002000 {<font></font>
      #gpio-cells = &lt;0x00000002&gt;;<font></font>
      #interrupt-cells = &lt;0x00000002&gt;;<font></font>
      compatible = "sifive,gpio0";<font></font>
      gpio-controller;<font></font>
      interrupt-controller;<font></font>
      interrupt-parent = &lt;0x00000003&gt;;<font></font>
      interrupts = &lt;0x00000003 0x00000004 0x00000005 0x00000006 0x00000007 0x00000008&gt;;<font></font>
      reg = &lt;0x64002000 0x00001000&gt;;<font></font>
      reg-names = "control";<font></font>
    }<font></font>
    interrupt-controller@c000000 {<font></font>
      #interrupt-cells = &lt;0x00000001&gt;;<font></font>
      compatible = "riscv,plic0";<font></font>
      interrupt-controller;<font></font>
      interrupts-extended = &lt;0x00000002 0x0000000b 0x00000002 0x00000009&gt;;<font></font>
      reg = &lt;0x0c000000 0x04000000&gt;;<font></font>
      reg-names = "control";<font></font>
      riscv,max-priority = &lt;0x00000007&gt;;<font></font>
      riscv,ndev = &lt;0x00000008&gt;;<font></font>
      phandle = &lt;0x00000003&gt;;<font></font>
    }<font></font>
    rom@10000 {<font></font>
      compatible = "sifive,maskrom0";<font></font>
      reg = &lt;0x00010000 0x00002000&gt;;<font></font>
      reg-names = "mem";<font></font>
    }<font></font>
    serial@64000000 {<font></font>
      compatible = "sifive,uart0";<font></font>
      interrupt-parent = &lt;0x00000003&gt;;<font></font>
      interrupts = &lt;0x00000002&gt;;<font></font>
      reg = &lt;0x64000000 0x00001000&gt;;<font></font>
      reg-names = "control";<font></font>
    }<font></font>
    spi@64001000 {<font></font>
      #address-cells = &lt;0x00000001&gt;;<font></font>
      #size-cells = &lt;0x00000000&gt;;<font></font>
      compatible = "sifive,spi0";<font></font>
      interrupt-parent = &lt;0x00000003&gt;;<font></font>
      interrupts = &lt;0x00000001&gt;;<font></font>
      reg = &lt;0x64001000 0x00001000&gt;;<font></font>
      reg-names = "control";<font></font>
      mmc@0 {<font></font>
        compatible = "mmc-spi-slot";<font></font>
        disable-wp;<font></font>
        reg = &lt;0x00000000&gt;;<font></font>
        spi-max-frequency = &lt;0x01312d00&gt;;<font></font>
        voltage-ranges = &lt;0x00000ce4 0x00000ce4&gt;;<font></font>
      }<font></font>
    }<font></font>
    tlclk {<font></font>
      #clock-cells = &lt;0x00000000&gt;;<font></font>
      clock-frequency = &lt;0x017d7840&gt;;<font></font>
      clock-output-names = "tlclk";<font></font>
      compatible = "fixed-clock";<font></font>
    }<font></font>
  }<font></font>
}<font></font>
[    0.000000] HART = 0 DTB = 81200000<font></font>
[    0.000000] search "chosen", depth: 0, uname:<font></font>
[    0.000000] search "chosen", depth: 1, uname: chosen<font></font>
[    0.000000] Looking for initrd properties...<font></font>
[    0.000000] Command line is: debug console=ttySIF0,125200 root=/dev/mmcblk0p2 loglevel=7 rootwait<font></font>
[    0.000000] dt_root_size_cells = 1<font></font>
[    0.000000] dt_root_addr_cells = 1<font></font>
[    0.000000] memory scan node ram@80000000, reg size 8,<font></font>
[    0.000000]  - 80000000 ,  40000000<font></font>
[    0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000<font></font>
[    0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019<font></font>
[    0.000000] bootconsole [early0] enabled<font></font>
[    0.000000] initrd not found or empty - disabling initrd<font></font>
[    0.000000] Zone ranges:<font></font>
[    0.000000]   DMA32    [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000bffffffffff]<font></font>
[    0.000000] Movable zone start for each node<font></font>
[    0.000000] Early memory node ranges<font></font>
[    0.000000]   node   0: [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] INITIAL: ffffffe001000000<font></font>
[    0.000000]  -&gt; unflatten_device_tree()<font></font>
[    0.000000] Unflattening device tree:<font></font>
[    0.000000] magic: d00dfeed<font></font>
[    0.000000] size: 00001000<font></font>
[    0.000000] version: 00000011<font></font>
[    0.000000]   size is 13512, allocating...<font></font>
[    0.000000]   unflattening (____ptrval____)...<font></font>
[    0.000000] fixed up name for  -&gt;<font></font>
[    0.000000] fixed up name for chosen -&gt; chosen<font></font>
[    0.000000] fixed up name for firmware -&gt; firmware<font></font>
[    0.000000] fixed up name for aliases -&gt; aliases<font></font>
[    0.000000] fixed up name for cpus -&gt; cpus<font></font>
[    0.000000] fixed up name for cpu@0 -&gt; cpu<font></font>
[    0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller<font></font>
[    0.000000] fixed up name for ram@80000000 -&gt; ram<font></font>
[    0.000000] fixed up name for soc -&gt; soc<font></font>
[    0.000000] fixed up name for clint@2000000 -&gt; clint<font></font>
[    0.000000] fixed up name for debug-controller@0 -&gt; debug-controller<font></font>
[    0.000000] fixed up name for gpio@64002000 -&gt; gpio<font></font>
[    0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller<font></font>
[    0.000000] fixed up name for rom@10000 -&gt; rom<font></font>
[    0.000000] fixed up name for serial@64000000 -&gt; serial<font></font>
[    0.000000] fixed up name for spi@64001000 -&gt; spi<font></font>
[    0.000000] fixed up name for mmc@0 -&gt; mmc<font></font>
[    0.000000] fixed up name for tlclk -&gt; tlclk<font></font>
[    0.000000]  &lt;- unflatten_device_tree()<font></font>
[    0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB)<font></font>
[    0.000000] 0 ffffffe03effcab0 [attach() failed for %s with error %d<font></font>
[    0.000000] ] | [cpu]<font></font>
[    0.000000] 0 ffffffe03eff0020 [(null)] | [cpu]</code></pre></div></div><br>
<div class="spoiler"><b class="spoiler_title">  QEMU</b><div class="spoiler_text"><pre><code class="plaintext hljs">                SIFIVE, INC.<font></font>
<font></font>
         5555555555555555555555555<font></font>
        5555                   5555<font></font>
       5555                     5555<font></font>
      5555                       5555<font></font>
     5555       5555555555555555555555<font></font>
    5555       555555555555555555555555<font></font>
   5555                             5555<font></font>
  5555                               5555<font></font>
 5555                                 5555<font></font>
5555555555555555555555555555          55555<font></font>
 55555           555555555           55555<font></font>
   55555           55555           55555<font></font>
     55555           5           55555<font></font>
       55555                   55555<font></font>
         55555               55555<font></font>
           55555           55555<font></font>
             55555       55555<font></font>
               55555   55555<font></font>
                 555555555<font></font>
                   55555<font></font>
                     5<font></font>
<font></font>
           SiFive RISC-V Core IP<font></font>
 {<font></font>
  #address-cells = &lt;0x00000002&gt;;<font></font>
  #size-cells = &lt;0x00000002&gt;;<font></font>
  compatible = "riscv-virtio";<font></font>
  model = "riscv-virtio,qemu";<font></font>
  chosen {<font></font>
    linux,initrd-start = &lt;0x00000000 0x88000000&gt;;<font></font>
    linux,initrd-end = &lt;0x00000000 0x88442b86&gt;;<font></font>
    riscv,kernel-start = &lt;0x00000000 0x80200000&gt;;<font></font>
    riscv,kernel-end = &lt;0x00000000 0x80c482ac&gt;;<font></font>
    bootargs = "";<font></font>
    stdout-path = &lt;0x2f756172 0x74403130 0x30303030&gt;;<font></font>
  }<font></font>
  uart@10000000 {<font></font>
    interrupts = &lt;0x0000000a&gt;;<font></font>
    interrupt-parent = &lt;0x00000002&gt;;<font></font>
    clock-frequency = &lt;0x00384000&gt;;<font></font>
    reg = &lt;0x00000000 0x10000000 0x00000000 0x00000100&gt;;<font></font>
    compatible = "ns16550a";<font></font>
  }<font></font>
  test@100000 {<font></font>
    reg = &lt;0x00000000 0x00100000 0x00000000 0x00001000&gt;;<font></font>
    compatible = "sifive,test0";<font></font>
  }<font></font>
  virtio_mmio@10008000 {<font></font>
    interrupts = &lt;0x00000008&gt;;<font></font>
    interrupt-parent = &lt;0x00000002&gt;;<font></font>
    reg = &lt;0x00000000 0x10008000 0x00000000 0x00001000&gt;;<font></font>
    compatible = "virtio,mmio";<font></font>
  }<font></font>
  virtio_mmio@10007000 {<font></font>
    interrupts = &lt;0x00000007&gt;;<font></font>
    interrupt-parent = &lt;0x00000002&gt;;<font></font>
    reg = &lt;0x00000000 0x10007000 0x00000000 0x00001000&gt;;<font></font>
    compatible = "virtio,mmio";<font></font>
  }<font></font>
  virtio_mmio@10006000 {<font></font>
    interrupts = &lt;0x00000006&gt;;<font></font>
    interrupt-parent = &lt;0x00000002&gt;;<font></font>
    reg = &lt;0x00000000 0x10006000 0x00000000 0x00001000&gt;;<font></font>
    compatible = "virtio,mmio";<font></font>
  }<font></font>
  virtio_mmio@10005000 {<font></font>
    interrupts = &lt;0x00000005&gt;;<font></font>
    interrupt-parent = &lt;0x00000002&gt;;<font></font>
    reg = &lt;0x00000000 0x10005000 0x00000000 0x00001000&gt;;<font></font>
    compatible = "virtio,mmio";<font></font>
  }<font></font>
  virtio_mmio@10004000 {<font></font>
    interrupts = &lt;0x00000004&gt;;<font></font>
    interrupt-parent = &lt;0x00000002&gt;;<font></font>
    reg = &lt;0x00000000 0x10004000 0x00000000 0x00001000&gt;;<font></font>
    compatible = "virtio,mmio";<font></font>
  }<font></font>
  virtio_mmio@10003000 {<font></font>
    interrupts = &lt;0x00000003&gt;;<font></font>
    interrupt-parent = &lt;0x00000002&gt;;<font></font>
    reg = &lt;0x00000000 0x10003000 0x00000000 0x00001000&gt;;<font></font>
    compatible = "virtio,mmio";<font></font>
  }<font></font>
  virtio_mmio@10002000 {<font></font>
    interrupts = &lt;0x00000002&gt;;<font></font>
    interrupt-parent = &lt;0x00000002&gt;;<font></font>
    reg = &lt;0x00000000 0x10002000 0x00000000 0x00001000&gt;;<font></font>
    compatible = "virtio,mmio";<font></font>
  }<font></font>
  virtio_mmio@10001000 {<font></font>
    interrupts = &lt;0x00000001&gt;;<font></font>
    interrupt-parent = &lt;0x00000002&gt;;<font></font>
    reg = &lt;0x00000000 0x10001000 0x00000000 0x00001000&gt;;<font></font>
    compatible = "virtio,mmio";<font></font>
  }<font></font>
  cpus {<font></font>
    #address-cells = &lt;0x00000001&gt;;<font></font>
    #size-cells = &lt;0x00000000&gt;;<font></font>
    timebase-frequency = &lt;0x00989680&gt;;<font></font>
    cpu@0 {<font></font>
      device_type = "cpu";<font></font>
      reg = &lt;0x00000000&gt;;<font></font>
      status = "okay";<font></font>
      compatible = "riscv";<font></font>
      riscv,isa = "rv64imafdcsu";<font></font>
      mmu-type = "riscv,sv48";<font></font>
      clock-frequency = &lt;0x3b9aca00&gt;;<font></font>
      interrupt-controller {<font></font>
        #interrupt-cells = &lt;0x00000001&gt;;<font></font>
        interrupt-controller;<font></font>
        compatible = "riscv,cpu-intc";<font></font>
        linux,phandle = &lt;0x00000001&gt;;<font></font>
        phandle = &lt;0x00000001&gt;;<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
  memory@80000000 {<font></font>
    device_type = "memory";<font></font>
    reg = &lt;0x00000000 0x80000000 0x00000000 0x40000000&gt;;<font></font>
  }<font></font>
  soc {<font></font>
    #address-cells = &lt;0x00000002&gt;;<font></font>
    #size-cells = &lt;0x00000002&gt;;<font></font>
    compatible = "simple-bus";<font></font>
    ranges;<font></font>
    pci@30000000 {<font></font>
      interrupt-map-mask = &lt;0x00001800 0x00000000 0x00000000 0x00000007&gt;;<font></font>
      interrupt-map = &lt;0x00000000 0x00000000 0x00000000 0x00000001 0x00000002 0x00000020 0x00000000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000021 0x00000000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000022 0x00000000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000021 0x00000800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000022 0x00000800 0x00000000 0x00000000 0x00000003 0x00000002 0x00000023 0x00000800 0x00000000 0x00000000 0x00000004 0x00000002 0x00000020 0x00001000 0x00000000 0x00000000 0x00000001 0x00000002 0x00000022 0x00001000 0x00000000 0x00000000 0x00000002 0x00000002 0x00000023 0x00001000 0x00000000 0x00000000 0x00000003 0x00000002 0x00000020 0x00001000 0x00000000 0x00000000 0x00000004 0x00000002 0x00000021 0x00001800 0x00000000 0x00000000 0x00000001 0x00000002 0x00000023 0x00001800 0x00000000 0x00000000 0x00000002 0x00000002 0x00000020 0x00001800 0x00000000 0x00000000 0x00000003 0x00000002 0x00000021 0x00001800 0x00000000 0x00000000 0x00000004 0x00000002 0x00000022&gt;;<font></font>
      ranges = &lt;0x01000000 0x00000000 0x00000000 0x00000000 0x03000000 0x00000000 0x00010000 0x02000000 0x00000000 0x40000000 0x00000000 0x40000000 0x00000000 0x40000000&gt;;<font></font>
      reg = &lt;0x00000000 0x30000000 0x00000000 0x10000000&gt;;<font></font>
      dma-coherent;<font></font>
      bus-range = &lt;0x00000000 0x000002ff&gt;;<font></font>
      linux,pci-domain = &lt;0x00000000&gt;;<font></font>
      device_type = "pci";<font></font>
      compatible = "pci-host-ecam-generic";<font></font>
      #size-cells = &lt;0x00000002&gt;;<font></font>
      #interrupt-cells = &lt;0x00000001&gt;;<font></font>
      #address-cells = &lt;0x00000003&gt;;<font></font>
    }<font></font>
    interrupt-controller@c000000 {<font></font>
      linux,phandle = &lt;0x00000002&gt;;<font></font>
      phandle = &lt;0x00000002&gt;;<font></font>
      riscv,ndev = &lt;0x00000035&gt;;<font></font>
      riscv,max-priority = &lt;0x00000007&gt;;<font></font>
      reg-names = "control";<font></font>
      reg = &lt;0x00000000 0x0c000000 0x00000000 0x04000000&gt;;<font></font>
      interrupts-extended = &lt;0x00000001 0x0000000b 0x00000001 0x00000009&gt;;<font></font>
      interrupt-controller;<font></font>
      compatible = "riscv,plic0";<font></font>
      #interrupt-cells = &lt;0x00000001&gt;;<font></font>
      #address-cells = &lt;0x00000000&gt;;<font></font>
    }<font></font>
    clint@2000000 {<font></font>
      interrupts-extended = &lt;0x00000001 0x00000003 0x00000001 0x00000007&gt;;<font></font>
      reg = &lt;0x00000000 0x02000000 0x00000000 0x00010000&gt;;<font></font>
      compatible = "riscv,clint0";<font></font>
    }<font></font>
  }<font></font>
}<font></font>
[    0.000000] HART = 0 DTB = 80e00000<font></font>
[    0.000000] search "chosen", depth: 0, uname:<font></font>
[    0.000000] search "chosen", depth: 1, uname: chosen<font></font>
[    0.000000] Looking for initrd properties...<font></font>
[    0.000000] initrd_start=0x88000000  initrd_end=0x88442b86<font></font>
[    0.000000] Command line is: earlyprintk<font></font>
[    0.000000] dt_root_size_cells = 2<font></font>
[    0.000000] dt_root_addr_cells = 2<font></font>
[    0.000000] memory scan node memory@80000000, reg size 16,<font></font>
[    0.000000]  - 80000000 ,  40000000<font></font>
[    0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000<font></font>
[    0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019<font></font>
[    0.000000] bootconsole [early0] enabled<font></font>
[    0.000000] Initial ramdisk at: 0x(____ptrval____) (4467590 bytes)<font></font>
[    0.000000] Zone ranges:<font></font>
[    0.000000]   DMA32    [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000bffffffffff]<font></font>
[    0.000000] Movable zone start for each node<font></font>
[    0.000000] Early memory node ranges<font></font>
[    0.000000]   node   0: [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] INITIAL: ffffffe000c00000<font></font>
[    0.000000]  -&gt; unflatten_device_tree()<font></font>
[    0.000000] Unflattening device tree:<font></font>
[    0.000000] magic: d00dfeed<font></font>
[    0.000000] size: 00000d56<font></font>
[    0.000000] version: 00000011<font></font>
[    0.000000]   size is 14192, allocating...<font></font>
[    0.000000]   unflattening (____ptrval____)...<font></font>
[    0.000000] fixed up name for  -&gt;<font></font>
[    0.000000] fixed up name for chosen -&gt; chosen<font></font>
[    0.000000] fixed up name for uart@10000000 -&gt; uart<font></font>
[    0.000000] fixed up name for test@100000 -&gt; test<font></font>
[    0.000000] fixed up name for virtio_mmio@10008000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10007000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10006000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10005000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10004000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10003000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10002000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10001000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for cpus -&gt; cpus<font></font>
[    0.000000] fixed up name for cpu@0 -&gt; cpu<font></font>
[    0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller<font></font>
[    0.000000] fixed up name for memory@80000000 -&gt; memory<font></font>
[    0.000000] fixed up name for soc -&gt; soc<font></font>
[    0.000000] fixed up name for pci@30000000 -&gt; pci<font></font>
[    0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller<font></font>
[    0.000000] fixed up name for clint@2000000 -&gt; clint<font></font>
[    0.000000]  &lt;- unflatten_device_tree()<font></font>
[    0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB)<font></font>
[    0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe888 [cpu] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03effec00 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03effeee8 [memory] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03efff0b0 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03efff320 [pci] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03efff858 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03efffd58 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe888 [cpu] | [cpu]<font></font>
[    0.000000] elf_hwcap is 0x112d<font></font>
[    0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632<font></font>
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 258055<font></font>
[    0.000000] Kernel command line: earlyprintk<font></font>
[    0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)<font></font>
[    0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)<font></font>
[    0.000000] Sorting __ex_table...<font></font>
[    0.000000] Memory: 949716K/1046528K available (6565K kernel code, 342K rwdata, 2564K rodata, 208K init, 832K bss, 96812K reserved, 0K cma-reserved)<font></font>
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<font></font>
[    0.000000] rcu: Hierarchical RCU implementation.<font></font>
[    0.000000] rcu:     RCU event tracing is enabled.<font></font>
[    0.000000] rcu:     RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1.<font></font>
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1<font></font>
[    0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0<font></font>
[    0.000000] plic: mapped 53 interrupts to 2 (out of 2) handlers.<font></font>
[    0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x24e6a1710, max_idle_ns: 440795202120 ns<font></font>
[    0.000000] Console: colour dummy device 80x25<font></font>
[    0.000000] console [tty0] enabled<font></font>
[    0.000000] bootconsole [early0] disabled<font></font>
[    0.000000] HART = 0 DTB = 80e00000<font></font>
[    0.000000] search "chosen", depth: 0, uname:<font></font>
[    0.000000] search "chosen", depth: 1, uname: chosen<font></font>
[    0.000000] Looking for initrd properties...<font></font>
[    0.000000] initrd_start=0x88000000  initrd_end=0x88442b86<font></font>
[    0.000000] Command line is: earlyprintk<font></font>
[    0.000000] dt_root_size_cells = 2<font></font>
[    0.000000] dt_root_addr_cells = 2<font></font>
[    0.000000] memory scan node memory@80000000, reg size 16,<font></font>
[    0.000000]  - 80000000 ,  40000000<font></font>
[    0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000<font></font>
[    0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Sat Jul 6 12:14:41 MSK 2019<font></font>
[    0.000000] bootconsole [early0] enabled<font></font>
[    0.000000] Initial ramdisk at: 0x(____ptrval____) (4467590 bytes)<font></font>
[    0.000000] Zone ranges:<font></font>
[    0.000000]   DMA32    [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000bffffffffff]<font></font>
[    0.000000] Movable zone start for each node<font></font>
[    0.000000] Early memory node ranges<font></font>
[    0.000000]   node   0: [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] INITIAL: ffffffe000c00000<font></font>
[    0.000000]  -&gt; unflatten_device_tree()<font></font>
[    0.000000] Unflattening device tree:<font></font>
[    0.000000] magic: d00dfeed<font></font>
[    0.000000] size: 00000d56<font></font>
[    0.000000] version: 00000011<font></font>
[    0.000000]   size is 14192, allocating...<font></font>
[    0.000000]   unflattening (____ptrval____)...<font></font>
[    0.000000] fixed up name for  -&gt;<font></font>
[    0.000000] fixed up name for chosen -&gt; chosen<font></font>
[    0.000000] fixed up name for uart@10000000 -&gt; uart<font></font>
[    0.000000] fixed up name for test@100000 -&gt; test<font></font>
[    0.000000] fixed up name for virtio_mmio@10008000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10007000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10006000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10005000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10004000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10003000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10002000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for virtio_mmio@10001000 -&gt; virtio_mmio<font></font>
[    0.000000] fixed up name for cpus -&gt; cpus<font></font>
[    0.000000] fixed up name for cpu@0 -&gt; cpu<font></font>
[    0.000000] fixed up name for interrupt-controller -&gt; interrupt-controller<font></font>
[    0.000000] fixed up name for memory@80000000 -&gt; memory<font></font>
[    0.000000] fixed up name for soc -&gt; soc<font></font>
[    0.000000] fixed up name for pci@30000000 -&gt; pci<font></font>
[    0.000000] fixed up name for interrupt-controller@c000000 -&gt; interrupt-controller<font></font>
[    0.000000] fixed up name for clint@2000000 -&gt; clint<font></font>
[    0.000000]  &lt;- unflatten_device_tree()<font></font>
[    0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB)<font></font>
[    0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe888 [cpu] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03effec00 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03effeee8 [memory] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03efff0b0 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03efff320 [pci] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03efff858 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] ffffffe03effe888 ffffffe03efffd58 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.000000] 0 ffffffe03effe888 [cpu] | [cpu]<font></font>
[    0.000000] elf_hwcap is 0x112d<font></font>
[    0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632<font></font>
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 258055<font></font>
[    0.000000] Kernel command line: earlyprintk<font></font>
[    0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)<font></font>
[    0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)<font></font>
[    0.000000] Sorting __ex_table...<font></font>
[    0.000000] Memory: 949716K/1046528K available (6565K kernel code, 342K rwdata, 2564K rodata, 208K init, 832K bss, 96812K reserved, 0K cma-reserved)<font></font>
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<font></font>
[    0.000000] rcu: Hierarchical RCU implementation.<font></font>
[    0.000000] rcu:     RCU event tracing is enabled.<font></font>
[    0.000000] rcu:     RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1.<font></font>
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1<font></font>
[    0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0<font></font>
[    0.000000] plic: mapped 53 interrupts to 2 (out of 2) handlers.<font></font>
[    0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x24e6a1710, max_idle_ns: 440795202120 ns<font></font>
[    0.000000] Console: colour dummy device 80x25<font></font>
[    0.000000] console [tty0] enabled<font></font>
[    0.000000] bootconsole [early0] disabled<font></font>
[    0.000000] Calibrating delay loop (skipped), value calculated using timer frequency.. 20.00 BogoMIPS (lpj=100000)<font></font>
[    0.000000] pid_max: default: 32768 minimum: 301<font></font>
[    0.000000] Mount-cache hash table entries: 2048 (order: 2, 16384 bytes)<font></font>
[    0.000000] Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes)<font></font>
[    0.020000] rcu: Hierarchical SRCU implementation.<font></font>
[    0.020000] smp: Bringing up secondary CPUs ...<font></font>
[    0.020000] smp: Brought up 1 node, 1 CPU<font></font>
[    0.050000] devtmpfs: initialized<font></font>
[    0.050000] 0 ffffffe03effc808 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effca78 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effcd98 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effd068 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effd230 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effd4b8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effd740 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effd9c8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effdc50 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effded8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effe160 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effe3e8 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effe670 [&lt;NULL&gt;] | [cpu]<font></font>
[    0.050000] 0 ffffffe03effe888 [cpu] | [cpu]<font></font>
[    0.050000] random: get_random_u32 called from bucket_table_alloc+0x76/0x17a with crng_init=0<font></font>
[    0.050000] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns<font></font>
[    0.050000] futex hash table entries: 256 (order: 2, 16384 bytes)<font></font>
[    0.060000] NET: Registered protocol family 16<font></font>
[    0.090000] vgaarb: loaded<font></font>
[    0.090000] SCSI subsystem initialized<font></font>
[    0.090000] usbcore: registered new interface driver usbfs<font></font>
[    0.090000] usbcore: registered new interface driver hub<font></font>
[    0.090000] usbcore: registered new device driver usb<font></font>
[    0.090000] pps_core: LinuxPPS API ver. 1 registered<font></font>
[    0.090000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt;<font></font>
[    0.090000] PTP clock support registered<font></font>
[    0.100000] Advanced Linux Sound Architecture Driver Initialized.<font></font>
[    0.100000] clocksource: Switched to clocksource riscv_clocksource<font></font>
[    0.110000] NET: Registered protocol family 2<font></font>
[    0.110000] tcp_listen_portaddr_hash hash table entries: 512 (order: 1, 8192 bytes)<font></font>
[    0.110000] TCP established hash table entries: 8192 (order: 4, 65536 bytes)<font></font>
[    0.110000] TCP bind hash table entries: 8192 (order: 5, 131072 bytes)<font></font>
[    0.110000] TCP: Hash tables configured (established 8192 bind 8192)<font></font>
[    0.110000] UDP hash table entries: 512 (order: 2, 16384 bytes)<font></font>
[    0.110000] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)<font></font>
[    0.110000] NET: Registered protocol family 1<font></font>
[    0.120000] Unpacking initramfs...<font></font>
[    0.590000] workingset: timestamp_bits=62 max_order=18 bucket_order=0<font></font>
[    0.620000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 251)<font></font>
[    0.620000] io scheduler noop registered<font></font>
[    0.620000] io scheduler deadline registered<font></font>
[    0.620000] io scheduler cfq registered (default)<font></font>
[    0.620000] io scheduler mq-deadline registered<font></font>
[    0.620000] io scheduler kyber registered<font></font>
[    0.620000] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4<font></font>
[    0.690000] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled<font></font>
[    0.690000] 10000000.uart: ttyS0 at MMIO 0x10000000 (irq = 10, base_baud = 230400) is a 16550A<font></font>
[    0.720000] console [ttyS0] enabled<font></font>
[    0.720000] [drm] radeon kernel modesetting enabled.<font></font>
[    0.720000] [drm] amdgpu kernel modesetting enabled.<font></font>
[    0.730000] loop: module loaded<font></font>
[    0.730000] libphy: Fixed MDIO Bus: probed<font></font>
[    0.740000] e1000e: Intel(R) PRO/1000 Network Driver - 3.2.6-k<font></font>
[    0.740000] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.<font></font>
[    0.740000] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver<font></font>
[    0.740000] ehci-pci: EHCI PCI platform driver<font></font>
[    0.740000] ehci-platform: EHCI generic platform driver<font></font>
[    0.740000] mousedev: PS/2 mouse device common for all mice<font></font>
[    0.740000] usbcore: registered new interface driver usbhid<font></font>
[    0.740000] usbhid: USB HID core driver<font></font>
[    0.740000] usbcore: registered new interface driver snd-usb-audio<font></font>
[    0.740000] NET: Registered protocol family 10<font></font>
[    0.750000] Segment Routing with IPv6<font></font>
[    0.750000] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver<font></font>
[    0.750000] NET: Registered protocol family 17<font></font>
[    0.750000] Key type dns_resolver registered<font></font>
[    0.760000] ALSA device list:<font></font>
[    0.760000]   No soundcards found.<font></font>
[    0.770000] Freeing unused kernel memory: 208K<font></font>
[    0.770000] This architecture does not have kernel memory protection.<font></font>
[    0.770000] Run /init as init process</code></pre></div></div><br>
<p>(«»   ,     BBL)   , FDT  ,   —  -    «» .</p><br>
<p>    ,  BBL    «»   ,     ,   ,       <code>#address-cells = &lt;1&gt;; #size-cells = &lt;1&gt;;</code>.</p><br>
<p>  ,  ,    <code>type</code>  <code>name</code> «»,    :     (  ) , -  <code>0xabcdef -&gt; 0xab00ef</code>.    :  ,     ,    <code>printk</code>   .     <code>printk</code> ,   . ,    .   ,    <code>objdump</code> ,   breakpoint-       .      :      -    known-good , ,   ,     .         ,    !       ,  ,     .   ...</p><br>
<h2 id="zamenyaem-pamyat"> </h2><br>
<p>        ,  , , ,      .   ,     —     ,     DDR2 SO-DIMM. ,        ,      Memtest (Linux, ,       . <strong>     ,       ...</strong>).   ,  ,         .   ,    !  ,    «»,      .</p><br>
<p>,       .  , Quartus 18     IP Core ,     . , -      .    :   IP Catalog  DDR2 SDRAM Controller with ALTMEMPHY Intel FPGA IP       ,   .   —     .</p><br>
<h3 id="poluchaem-parametry-modulya-pamyati">   </h3><br>
<p>     :    SPD. ,      SPD     ,             .</p><br>
<p> Ubuntu   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>:    <code>i2c-tools</code>,   <code>eeprom</code>  <code>i2c-i801</code> ( , ,     ),    <code>decode-dimms</code>:</p><br>
<div class="spoiler"><b class="spoiler_title"> decode-dimms</b><div class="spoiler_text"><pre><code class="plaintext hljs"># decode-dimms version 6231 (2014-02-20 10:54:34 +0100)<font></font>
<font></font>
Memory Serial Presence Detect Decoder<font></font>
By Philip Edelbrock, Christian Zuckschwerdt, Burkart Lingner,<font></font>
Jean Delvare, Trent Piepho and others<font></font>
<font></font>
Decoding EEPROM: /sys/bus/i2c/drivers/eeprom/0-0050<font></font>
Guessing DIMM is in                             bank 1<font></font>
<font></font>
---=== SPD EEPROM Information ===---<font></font>
EEPROM Checksum of bytes 0-62                   OK (0x00)<font></font>
SPD Revision                                    Invalid<font></font>
Fundamental Memory type                         Unknown (0x00)<font></font>
<font></font>
---=== Manufacturing Information ===---<font></font>
Manufacturer                                    Undefined<font></font>
Part Number                                     Undefined<font></font>
<font></font>
Decoding EEPROM: /sys/bus/i2c/drivers/eeprom/4-0050<font></font>
Guessing DIMM is in                             bank 1<font></font>
<font></font>
---=== SPD EEPROM Information ===---<font></font>
EEPROM Checksum of bytes 0-62                   OK (0x00)<font></font>
SPD Revision                                    Invalid<font></font>
Fundamental Memory type                         Unknown (0x00)<font></font>
<font></font>
---=== Manufacturing Information ===---<font></font>
Manufacturer                                    Undefined<font></font>
Part Number                                     Undefined<font></font>
<font></font>
Decoding EEPROM: /sys/bus/i2c/drivers/eeprom/6-0050<font></font>
Guessing DIMM is in                             bank 1<font></font>
<font></font>
---=== SPD EEPROM Information ===---<font></font>
EEPROM Checksum of bytes 0-62                   OK (0x76)<font></font>
# of bytes written to SDRAM EEPROM              128<font></font>
Total number of bytes in EEPROM                 256<font></font>
Fundamental Memory type                         DDR2 SDRAM<font></font>
SPD Revision                                    1.2<font></font>
<font></font>
---=== Memory Characteristics ===---<font></font>
Maximum module speed                            800 MHz (PC2-6400)<font></font>
Size                                            1024 MB<font></font>
Banks x Rows x Columns x Bits                   8 x 13 x 10 x 64<font></font>
Ranks                                           2<font></font>
SDRAM Device Width                              16 bits<font></font>
Module Height                                   30.0 mm<font></font>
Module Type                                     SO-DIMM (67.6 mm)<font></font>
DRAM Package                                    Planar<font></font>
Voltage Interface Level                         SSTL 1.8V<font></font>
Module Configuration Type                       No Parity<font></font>
Refresh Rate                                    Reduced (7.8 us) - Self Refresh<font></font>
Supported Burst Lengths                         4, 8<font></font>
tCL-tRCD-tRP-tRAS                               6-6-6-18<font></font>
Supported CAS Latencies (tCL)                   6T, 5T, 4T<font></font>
Minimum Cycle Time                              2.50 ns at CAS 6 (tCK min)<font></font>
                                                3.00 ns at CAS 5<font></font>
                                                3.75 ns at CAS 4<font></font>
Maximum Access Time                             0.40 ns at CAS 6 (tAC)<font></font>
                                                0.45 ns at CAS 5<font></font>
                                                0.50 ns at CAS 4<font></font>
Maximum Cycle Time (tCK max)                    8.00 ns<font></font>
<font></font>
---=== Timing Parameters ===---<font></font>
Address/Command Setup Time Before Clock (tIS)   0.17 ns<font></font>
Address/Command Hold Time After Clock (tIH)     0.25 ns<font></font>
Data Input Setup Time Before Strobe (tDS)       0.05 ns<font></font>
Data Input Hold Time After Strobe (tDH)         0.12 ns<font></font>
Minimum Row Precharge Delay (tRP)               15.00 ns<font></font>
Minimum Row Active to Row Active Delay (tRRD)   10.00 ns<font></font>
Minimum RAS# to CAS# Delay (tRCD)               15.00 ns<font></font>
Minimum RAS# Pulse Width (tRAS)                 45.00 ns<font></font>
Write Recovery Time (tWR)                       15.00 ns<font></font>
Minimum Write to Read CMD Delay (tWTR)          7.50 ns<font></font>
Minimum Read to Pre-charge CMD Delay (tRTP)     7.50 ns<font></font>
Minimum Active to Auto-refresh Delay (tRC)      60.00 ns<font></font>
Minimum Recovery Delay (tRFC)                   127.50 ns<font></font>
Maximum DQS to DQ Skew (tDQSQ)                  0.20 ns<font></font>
Maximum Read Data Hold Skew (tQHS)              0.30 ns<font></font>
<font></font>
---=== Manufacturing Information ===---<font></font>
Manufacturer                                    Samsung<font></font>
Manufacturing Location Code                     0x02<font></font>
Part Number                                     M4 70T2864QZ3-CF7<font></font>
Revision Code                                   0x3351<font></font>
Manufacturing Date                              2009-W34<font></font>
Assembly Serial Number                          0x79C64E9A<font></font>
<font></font>
Number of SDRAM DIMMs detected and decoded: 3</code></pre></div></div><br>
<p>  ,      ,     .</p><br>
<p>     :</p><br>
<p><img src="https://habrastorage.org/webt/ki/ko/wq/kikowqnmhy2udulovzqtnnebg5s.jpeg" width="45%"><img src="https://habrastorage.org/webt/7t/g2/l3/7tg2l30tx8ylwijagknepu0im_o.jpeg" width="45%"></p><br>
<p>        : K4T1G164QQ-HCF7.     ,  datasheet        ,       IP Core.      : - <code>ns</code>, - — <code>ps</code>,      <code>tCK</code>.  ,     ,    —      (    ,    «»   ).      :        ,     ,              Verilog:    <code>MemIfBundle</code>  <code>val mem_ba = IO(Output(UInt(2.W)))</code>,   8 (..   3 ),  ,     —    output    — ,   ,   ,   .</p><br>
<p>,       ,   ,          :    .</p><br>
<p>,   <code>timebase-frequency</code>  DTS    CPU    <code>cpus</code> (     ), :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="plaintext hljs">[    0.000000] OF: fdt: Ignoring memory range 0x80000000 - 0x80200000<font></font>
[    0.000000] Linux version 4.19.0-sifive-1+ (trosinenko@trosinenko-pc) (gcc version 8.3.0 (Buildroot 2019.02-07449-g4eddd28f99)) #1 SMP Tue Jul 9 22:42:36 MSK 2019<font></font>
[    0.000000] bootconsole [early0] enabled<font></font>
[    0.000000] Initial ramdisk at: 0x(____ptrval____) (16777216 bytes)<font></font>
[    0.000000] Zone ranges:<font></font>
[    0.000000]   DMA32    [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000]   Normal   [mem 0x00000000c0000000-0x00000bffffffffff]<font></font>
[    0.000000] Movable zone start for each node<font></font>
[    0.000000] Early memory node ranges<font></font>
[    0.000000]   node   0: [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] Initmem setup node 0 [mem 0x0000000080200000-0x00000000bfffffff]<font></font>
[    0.000000] software IO TLB: mapped [mem 0xbb1fc000-0xbf1fc000] (64MB)<font></font>
[    0.000000] elf_hwcap is 0x112d<font></font>
[    0.000000] percpu: Embedded 17 pages/cpu @(____ptrval____) s29400 r8192 d32040 u69632<font></font>
[    0.000000] Built 1 zonelists, mobility grouping on.  Total pages: 258055<font></font>
[    0.000000] Kernel command line: debug console=ttySIF0,125200 root=/dev/mmcblk0p2 loglevel=7 rootwait<font></font>
[    0.000000] Dentry cache hash table entries: 131072 (order: 8, 1048576 bytes)<font></font>
[    0.000000] Inode-cache hash table entries: 65536 (order: 7, 524288 bytes)<font></font>
[    0.000000] Sorting __ex_table...<font></font>
[    0.000000] Memory: 937696K/1046528K available (6565K kernel code, 343K rwdata, 2564K rodata, 208K init, 832K bss, 108832K reserved, 0K cma-reserved)<font></font>
[    0.000000] SLUB: HWalign=64, Order=0-3, MinObjects=0, CPUs=1, Nodes=1<font></font>
[    0.000000] rcu: Hierarchical RCU implementation.<font></font>
[    0.000000] rcu:     RCU event tracing is enabled.<font></font>
[    0.000000] rcu:     RCU restricting CPUs from NR_CPUS=8 to nr_cpu_ids=1.<font></font>
[    0.000000] rcu: Adjusting geometry for rcu_fanout_leaf=16, nr_cpu_ids=1<font></font>
[    0.000000] NR_IRQS: 0, nr_irqs: 0, preallocated irqs: 0<font></font>
[    0.000000] plic: mapped 8 interrupts to 1 (out of 2) handlers.<font></font>
[    0.000000] clocksource: riscv_clocksource: mask: 0xffffffffffffffff max_cycles: 0x1d854df40, max_idle_ns: 3526361616960 ns<font></font>
[    0.000000] Console: colour dummy device 80x25<font></font>
[    0.000000] Calibrating delay loop (skipped), value calculated using timer frequency.. 2.00 BogoMIPS (lpj=10000)<font></font>
[    0.020000] pid_max: default: 32768 minimum: 301<font></font>
[    0.030000] Mount-cache hash table entries: 2048 (order: 2, 16384 bytes)<font></font>
[    0.040000] Mountpoint-cache hash table entries: 2048 (order: 2, 16384 bytes)<font></font>
[    0.140000] rcu: Hierarchical SRCU implementation.<font></font>
[    0.190000] smp: Bringing up secondary CPUs ...<font></font>
[    0.190000] smp: Brought up 1 node, 1 CPU<font></font>
[    0.220000] devtmpfs: initialized<font></font>
[    0.300000] random: get_random_u32 called from bucket_table_alloc+0x76/0x17a with crng_init=0<font></font>
[    0.330000] clocksource: jiffies: mask: 0xffffffff max_cycles: 0xffffffff, max_idle_ns: 19112604462750000 ns<font></font>
[    0.340000] futex hash table entries: 256 (order: 2, 16384 bytes)<font></font>
[    0.380000] NET: Registered protocol family 16<font></font>
[    1.850000] vgaarb: loaded<font></font>
[    1.870000] SCSI subsystem initialized<font></font>
[    1.900000] usbcore: registered new interface driver usbfs<font></font>
[    1.910000] usbcore: registered new interface driver hub<font></font>
[    1.920000] usbcore: registered new device driver usb<font></font>
[    1.930000] pps_core: LinuxPPS API ver. 1 registered<font></font>
[    1.940000] pps_core: Software ver. 5.3.6 - Copyright 2005-2007 Rodolfo Giometti &lt;giometti@linux.it&gt;<font></font>
[    1.950000] PTP clock support registered<font></font>
[    1.970000] Advanced Linux Sound Architecture Driver Initialized.<font></font>
[    2.010000] clocksource: Switched to clocksource riscv_clocksource<font></font>
[    2.600000] NET: Registered protocol family 2<font></font>
[    2.640000] tcp_listen_portaddr_hash hash table entries: 512 (order: 1, 8192 bytes)<font></font>
[    2.650000] TCP established hash table entries: 8192 (order: 4, 65536 bytes)<font></font>
[    2.670000] TCP bind hash table entries: 8192 (order: 5, 131072 bytes)<font></font>
[    2.700000] TCP: Hash tables configured (established 8192 bind 8192)<font></font>
[    2.720000] UDP hash table entries: 512 (order: 2, 16384 bytes)<font></font>
[    2.730000] UDP-Lite hash table entries: 512 (order: 2, 16384 bytes)<font></font>
[    2.750000] NET: Registered protocol family 1<font></font>
[    2.770000] Unpacking initramfs...<font></font>
[   23.980000] Initramfs unpacking failed: junk in compressed archive<font></font>
[   24.030000] workingset: timestamp_bits=62 max_order=18 bucket_order=0<font></font>
[   25.020000] Block layer SCSI generic (bsg) driver version 0.4 loaded (major 251)<font></font>
[   25.030000] io scheduler noop registered<font></font>
[   25.040000] io scheduler deadline registered<font></font>
[   25.050000] io scheduler cfq registered (default)<font></font>
[   25.060000] io scheduler mq-deadline registered<font></font>
[   25.060000] io scheduler kyber registered<font></font>
[   25.120000] sifive_gpio 64002000.gpio: SiFive GPIO chip registered 6 GPIOs<font></font>
[   25.150000] shpchp: Standard Hot Plug PCI Controller Driver version: 0.4<font></font>
[   28.870000] Serial: 8250/16550 driver, 4 ports, IRQ sharing disabled<font></font>
[   28.940000] sifive-serial 64000000.serial: unable to find controller clock<font></font>
[   28.950000] sifive-serial: probe of 64000000.serial failed with error -2<font></font>
[   28.980000] [drm] radeon kernel modesetting enabled.<font></font>
[   28.990000] [drm] amdgpu kernel modesetting enabled.<font></font>
[   29.500000] loop: module loaded<font></font>
[   29.610000] sifive_spi 64001000.spi: Unable to find bus clock<font></font>
[   29.620000] sifive_spi: probe of 64001000.spi failed with error -2<font></font>
[   29.640000] libphy: Fixed MDIO Bus: probed<font></font>
[   29.680000] e1000e: Intel(R) PRO/1000 Network Driver - 3.2.6-k<font></font>
[   29.690000] e1000e: Copyright(c) 1999 - 2015 Intel Corporation.<font></font>
[   29.700000] ehci_hcd: USB 2.0 'Enhanced' Host Controller (EHCI) Driver<font></font>
[   29.710000] ehci-pci: EHCI PCI platform driver<font></font>
[   29.720000] ehci-platform: EHCI generic platform driver<font></font>
[   29.750000] mousedev: PS/2 mouse device common for all mice<font></font>
[   29.790000] usbcore: registered new interface driver usbhid<font></font>
[   29.800000] usbhid: USB HID core driver<font></font>
[   29.820000] usbcore: registered new interface driver snd-usb-audio<font></font>
[   29.900000] NET: Registered protocol family 10<font></font>
[   29.960000] Segment Routing with IPv6<font></font>
[   29.960000] sit: IPv6, IPv4 and MPLS over IPv4 tunneling driver<font></font>
[   30.020000] NET: Registered protocol family 17<font></font>
[   30.020000] Key type dns_resolver registered<font></font>
[   30.070000] bootconsole [early0] uses init memory and must be disabled even before the real one is ready<font></font>
[   30.080000] bootconsole [early0] disabled</code></pre><br>
<p>     .</p></div></div><br>
<p>      :</p><br>
<pre><code class="plaintext hljs">[   23.980000] Initramfs unpacking failed: junk in compressed archive<font></font>
...<font></font>
[   28.940000] sifive-serial 64000000.serial: unable to find controller clock<font></font>
...<font></font>
[   29.610000] sifive_spi 64001000.spi: Unable to find bus clock</code></pre><br>
<p>…       .</p><br>
<p>       :    <code>clocks</code>    ,         <code>tlclk</code>:</p><br>
<pre><code class="diff hljs">diff --git a/arch/riscv/dts/zeowaa-1gb.dts b/arch/riscv/dts/zeowaa-1gb.dts<font></font>
index 4b2cebc..1347e76 100644<font></font>
<span class="hljs-comment">--- a/arch/riscv/dts/zeowaa-1gb.dts</span>
<span class="hljs-comment">+++ b/arch/riscv/dts/zeowaa-1gb.dts</span>
<span class="hljs-meta">@@ -96,6 +97,7 @@</span><font></font>
                 L8: serial@64000000 {<font></font>
                         compatible = "sifive,uart0";<font></font>
                         interrupt-parent = &lt;&amp;L0&gt;;<font></font>
<span class="hljs-addition">+                        clocks = &lt;&amp;tlclk&gt;;</span><font></font>
                         interrupts = &lt;2&gt;;<font></font>
                         reg = &lt;0x64000000 0x1000&gt;;<font></font>
                         reg-names = "control";<font></font>
<span class="hljs-meta">@@ -107,6 +109,7 @@</span><font></font>
                         interrupt-parent = &lt;&amp;L0&gt;;<font></font>
                         interrupts = &lt;1&gt;;<font></font>
                         reg = &lt;0x64001000 0x1000&gt;;<font></font>
<span class="hljs-addition">+                        clocks = &lt;&amp;tlclk&gt;;</span><font></font>
                         reg-names = "control";<font></font>
                         L12: mmc@0 {<font></font>
                                 compatible = "mmc-spi-slot";<font></font>
<span class="hljs-meta">@@ -116,7 +119,7 @@</span><font></font>
                                 voltage-ranges = &lt;3300 3300&gt;;<font></font>
                         };<font></font>
                 };<font></font>
<span class="hljs-deletion">-                L11: tlclk {</span>
<span class="hljs-addition">+                tlclk: tlclk {</span><font></font>
                         #clock-cells = &lt;0&gt;;<font></font>
                         clock-frequency = &lt;25000000&gt;;<font></font>
                         clock-output-names = "tlclk";</code></pre><br>
<p>  <code>#define pr_debug printk</code>    <code>init/initramfs.c</code>,      initramfs     :</p><br>
<pre><code class="plaintext hljs">[    2.760000] Unpacking initramfs...<font></font>
[    2.770000] Detected gzip compressed data<font></font>
[   23.940000] Detected (null) compressed data<font></font>
[   23.970000] Initramfs unpacking failed: junk in compressed archive</code></pre><br>
<p> , ,   <strong></strong> initramfs,  <strong></strong>.</p><br>
<p>, -  , ,   .    ?     issue  : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">linux failed to bringup on vc707 board</a> — ,  UART ,   ,    .  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>  11  2018  —  . ,        ,      .    ,    ! ,  initramfs  , ,  .</p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー= root、パスワード= sifiveとしてログインすると</font></font><code>sysfs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ボード上のLEDを</font><font style="vertical-align: inherit;">介して問題なく（さらに、GPIO番号にはすべてが考慮され、対応する疑似ファイルから読み取る必要があるだけのベースがあることが理解できます）</font><font style="vertical-align: inherit;">。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前回と同様に、Linuxローンチのテキストビデオを適用します。</font><font style="vertical-align: inherit;">コンソールをearlyprintkから標準のものに切り替えるとき、UARTの速度が正しく設定されていない場合、出力のように見えるガベージの種類があります。</font><font style="vertical-align: inherit;">興味深いことに、プレイヤーはこの「混乱」を無事に達成しました。</font></font></p><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://asciinema.org/a/256637.svg"></a></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja459456/index.html">ダガズ：エピソード（パート1）</a></li>
<li><a href="../ja459458/index.html">ok.tech：データの説明＃2</a></li>
<li><a href="../ja459460/index.html">Reduxとそのソリューションを使用する際の困難</a></li>
<li><a href="../ja459462/index.html">YandexのSEO。すべて検索しますか？</a></li>
<li><a href="../ja459464/index.html">Lua in Moscow 2019：Roberto Jerusalemへのインタビュー</a></li>
<li><a href="../ja459472/index.html">Heroku + Docker + Spring Boot</a></li>
<li><a href="../ja459474/index.html">1秒で完全に入力されたテキストを作成する方法：たくさん書く人のためのWordのマクロ</a></li>
<li><a href="../ja459478/index.html">マルチスレッドバックアップアプリケーションの作成経験</a></li>
<li><a href="../ja459480/index.html">Vivaldi：ブラウザはどのようにしてお金を稼ぐのですか？</a></li>
<li><a href="../ja459482/index.html">カテゴリツリーを倒した方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>