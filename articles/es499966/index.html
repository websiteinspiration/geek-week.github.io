<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üà∂ üë®üèΩ‚Äçüé§ üõÅ Medici√≥n de los rayos UVA UVB üÜó ‚ùáÔ∏è üöÄ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Todos amamos el sol y, por supuesto, sabemos sobre los peligros de la radiaci√≥n ultravioleta para la piel humana. Obviamente, no puedes tomar el sol e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Medici√≥n de los rayos UVA UVB</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499966/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Todos amamos el sol y, por supuesto, sabemos sobre los peligros de la radiaci√≥n ultravioleta para la piel humana. </font><font style="vertical-align: inherit;">Obviamente, no puedes tomar el sol en la playa durante mucho tiempo. </font><font style="vertical-align: inherit;">Pero no es nada obvio, ¬øes posible caminar bajo la camiseta bajo el sol y nadar, caminar en las monta√±as? </font><font style="vertical-align: inherit;">Despu√©s de otra "quema" del sol en las monta√±as en Krasnaya Polyana, surgi√≥ la pregunta: c√≥mo medir el √≠ndice instant√°neo de radiaci√≥n ultravioleta y saber cu√°ndo es el momento de esconderse a la sombra. </font><font style="vertical-align: inherit;">Como resultado, naci√≥ este peque√±o dispositivo: un sensor de radiaci√≥n UV con una serie de funciones adicionales.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lp/o8/0g/lpo80gvoszy35k9hzmltwzls640.png"></div><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øQu√© debe poder hacer el dispositivo?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La funci√≥n principal es medir el √≠ndice de radiaci√≥n UV. </font><font style="vertical-align: inherit;">Adem√°s, quer√≠a medir la temperatura del aire y la temperatura del agua, con una precisi√≥n de al menos 0.5 grados (especialmente cuando me ba√±√© en la piscina con agua helada y mir√© un term√≥metro chino que estaba nadando all√≠, 28 grados, y no estaba cerca). </font><font style="vertical-align: inherit;">Y, por supuesto, la bater√≠a.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Componentes principales: VEML6075 + MCP3421 + STM8</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No hay muchos sensores para medir el √≠ndice UV. </font><font style="vertical-align: inherit;">Una sonda UV com√∫nmente utilizada es un fototransistor. </font><font style="vertical-align: inherit;">Pero result√≥ ser bastante dif√≠cil de calibrar. </font><font style="vertical-align: inherit;">La elecci√≥n recay√≥ en el sensor digital: VEML6075. </font><font style="vertical-align: inherit;">Result√≥ ser muy bueno. </font><font style="vertical-align: inherit;">Lo √∫nico negativo es que es dif√≠cil de comprar, la entrega tuvo que esperar aproximadamente un mes a trav√©s de los canales oficiales: "El quinto elemento" (China no lo consider√≥, es desagradable adivinar la calidad en un dispositivo de una sola vez). </font><font style="vertical-align: inherit;">Ventajas del sensor:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calibraci√≥n f√°cil en casa</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Respuesta cosenoidal de la superficie del sensor: cuenta de la incidencia de rayos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lecturas de √≠ndice precisas en dos rangos - UVA UVB</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bajo consumo</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comunicaci√≥n I2C: sensor totalmente digital</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, el tama√±o del sensor daba miedo 2x2 mm, no hab√≠a pistola de calor, pens√© que ser√≠a dif√≠cil soldar un poco con un soldador normal, pero result√≥ bien.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2g/rf/34/2grf34roitfitmtsmw0fbuwirkw.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La segunda pregunta: la medici√≥n de la temperatura del agua, decidida con un termopar. Para una lectura precisa de los datos de este sensor, use un ADC muy preciso, con una fuente de voltaje de referencia integrada: MCP3421. La resoluci√≥n de 18 bits + 8x de amplificaci√≥n de se√±al para un termopar tipo K proporciona una resoluci√≥n de temperatura de 0.01 grados, m√°s que suficiente. Dada la necesidad de medir la temperatura del compuesto, la precisi√≥n estaba en la regi√≥n de 0.2 grados. Comprobado midiendo agua hirviendo y hielo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como microcontrolador, la opci√≥n m√°s simple y econ√≥mica, STM8S003F3. Todo est√° a bordo (temporizadores, I2C) necesarios para el sensor, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como el dispositivo deber√≠a funcionar al sol, se utiliza una pantalla LCD como indicador. Quer√≠a compacidad, eleg√≠ esta:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hq/xp/mm/hqxpmmnlgkhbuyw75ngmqkkemag.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con la gesti√≥n tuvo que atormentar. </font><font style="vertical-align: inherit;">Multiplexar los pines LCD en un microcontrolador convencional sigue siendo esa tarea, pero en general todo sali√≥ bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El caso eligi√≥ un modelo peque√±o y compacto de la compa√±√≠a Sanhe "20-31". </font><font style="vertical-align: inherit;">Tama√±o externo - 35x45x18 mm. </font><font style="vertical-align: inherit;">Todo encaja: el tablero, el indicador y la bater√≠a. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No dar√© el circuito y la placa, todo est√° en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Calibraci√≥n del sensor UV</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despu√©s de recibir las lecturas del sensor, no estaban muy contentos, no eran similares a las lecturas del "centro hidroel√©ctrico". Tuve que aprender a calibrar correctamente el sensor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para calcular correctamente el √≠ndice de radiaci√≥n UV de acuerdo con las lecturas del sensor, es necesario usar varias constantes. ¬øC√≥mo calcularlos sin equipo especial? Aqu√≠ est√° la f√≥rmula completa para calcular el √≠ndice: las </font></font><br>
<img src="https://habrastorage.org/webt/kn/l0/45/knl045dun5ltafhqfxurbbhbhhu.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
constantes k1 y k2 no se pueden calcular sin equipo. Pero son necesarios para el c√°lculo m√°s preciso, de modo que puedan tomarse como una unidad. Las constantes de sensibilidad del sensor se pueden tomar de la tabla:</font></font><br>
<img src="https://habrastorage.org/webt/m-/qw/gz/m-qwgzn9s3emcnggn5mwlivxpum.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Necesitamos las constantes de la primera l√≠nea, ya que el sensor no est√° cubierto por tefl√≥n (no pudimos comprar tefl√≥n √≥ptico, por lo que el sensor finalmente est√° abierto). UVAresp y UVBresp. Pero las constantes a, b, c, d deben calcularse. Hice esto con un depurador. Es necesario obtener los datos uva, uvb, uvcomp1, uvcomp2 y calcular las constantes en Excel. No es conveniente mostrarlos en la pantalla: hay muy pocos d√≠gitos. Aqu√≠ es donde se necesita el depurador. Establezca un punto de interrupci√≥n despu√©s de recibir los datos y vea los valores calculados. Tambi√©n puede usar la capacidad de desconectar ST-link de STM8 durante la depuraci√≥n y la conexi√≥n inversa. ¬°En este caso, la sesi√≥n de depuraci√≥n no se interrumpe! Otra opci√≥n es usar STM8 STUDIO. Este programa especial le permite obtener variables en cualquier momento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para calcular las constantes sin equipo especial, usemos esto (esto se describe en la nota de aplicaci√≥n al sensor). La luz solar en su espectro tiene radiaci√≥n UV, radiaci√≥n IR y radiaci√≥n visible. Para calcular la intensidad de la radiaci√≥n UV, es necesario restar el exceso de datos sobre la radiaci√≥n IR y la radiaci√≥n visible. Para hacer esto, use los datos uvcomp1 (responsable de la radiaci√≥n visible) y uvcomp2 (responsable de la radiaci√≥n IR). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para calcular las constantes en la f√≥rmula utilizada, se necesitan dos fuentes de luz artificial: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ‚Ä¢ una l√°mpara incandescente ordinaria: emite en el espectro IR y radiaci√≥n visible, no hay radiaci√≥n UV </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ‚Ä¢ L√°mpara LED: emite solo en radiaci√≥n visible, no hay radiaci√≥n UV e IR</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comenzamos con la l√°mpara LED. Como no hay radiaci√≥n UV, el √≠ndice correspondiente ser√° cero. </font></font><br>
<img src="https://habrastorage.org/webt/bq/z5/5w/bqz55wsnzk-wkzmntjp6uhyi-ou.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La l√°mpara LED no tiene radiaci√≥n IR, por lo que UVcomp2 ser√° 0. Y en este caso, puede encontrar los coeficientes </font></font><br>
<img src="https://habrastorage.org/webt/ka/-7/vn/ka-7vnca8jipxdomakrheh53_ok.gif"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teniendo estos coeficientes, no es dif√≠cil encontrar los coeficientes byd cuando se usa una l√°mpara convencional, cuando UVcomp2 no es igual a cero. </font></font><br>
<img src="https://habrastorage.org/webt/hk/s-/0-/hks-0-eysabxkag42fy15lz8b2c.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando este m√©todo simple puede obtener las constantes necesarias. Dicha calibraci√≥n debe realizarse por la tarde cuando no hay luz solar y otras fuentes de luz. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un sensor correctamente calibrado es muy f√°cil de verificar. En un d√≠a soleado, al mediod√≠a, cuando no hay nubes en el cielo, debe medir la intensidad apuntando el sensor exactamente al sol. Las lecturas deben coincidir con los datos transmitidos en los sitios meteorol√≥gicos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al broncearse, para medir con precisi√≥n la radiaci√≥n, el sensor debe mantenerse paralelo a la superficie del cuerpo. </font><font style="vertical-align: inherit;">Para obtener el √≠ndice de corriente m√°ximo, el sensor debe dirigirse al sol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sensor comenz√≥ a mostrar los mejores resultados con el tiempo promedio de datos m√°ximo (el sensor tiene la capacidad de establecer este par√°metro, el tiempo durante el cual promedia los indicadores): 800 ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que las lecturas fueran absolutamente perfectas, tambi√©n tuvimos que seguir las recomendaciones del desarrollador: pintar el tablero de negro para que no se refleje y rodee el sensor con un embudo negro.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usar experiencia</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dir√© de inmediato sobre el consumo: es extremadamente peque√±o, es de aproximadamente 2 mA cuando todos los sensores y el microcontrolador est√°n funcionando. Con un uso poco frecuente, la bater√≠a dura aproximadamente 3 meses con una sola carga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considero que la precisi√≥n de las lecturas es muy alta. Revis√© en varias regiones (Mosc√∫, Sochi, Crimea): las lecturas coinciden al mediod√≠a con los sitios meteorol√≥gicos. Por lo tanto, creo que en tiempo nublado tambi√©n se puede confiar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la fabricaci√≥n del sensor, tuve que estudiar qu√© es la radiaci√≥n UV y c√≥mo sigue siendo da√±ina. Qu√© tipos de eso son. ¬øC√≥mo afecta a la piel? ¬øC√≥mo afecta la posici√≥n del sol en el horizonte y si la radiaci√≥n UV es perjudicial para los ojos?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Personalmente, revis√© todos los art√≠culos sobre "quemar" en m√≠ mismo. El sensor demostr√≥ ser excelente. Ahora, despu√©s de haber visto el √≠ndice 13 en el sensor en las monta√±as, me puse una camisa ajustada y cubr√≠ todas las partes del cuerpo. Y en la noche, cuando el √≠ndice 5 - camino tranquilamente y me relajo bajo los c√°lidos rayos del sol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aprend√≠ que en un d√≠a soleado, puedes tener una buena quemadura de sol en Mosc√∫: el √≠ndice llega a las 9 del mediod√≠a. Y tambi√©n, que al nadar, el tiempo que pasa bajo el sol se duplica. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para m√≠, este dispositivo fue muy √∫til, todav√≠a lo uso, toda la familia conf√≠a en el testimonio.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por el momento, agreg√≥ un sensor de humedad muy preciso: HTS221. </font><font style="vertical-align: inherit;">Tambi√©n funciona en I2C, as√≠ que acabo de hacer una mini placa y pegarla dentro. </font><font style="vertical-align: inherit;">Soldado con un alambre barnizado de 0,15 mm. </font><font style="vertical-align: inherit;">Entonces, ahora tambi√©n muestra humedad, con mucha m√°s precisi√≥n que los medidores chinos vendidos en el mercado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Escribir√© un poco sobre el gran signo de menos grasa: de acuerdo con las recomendaciones del desarrollador, es mejor cerrar el sensor con tefl√≥n √≥ptico para aislar el sensor del polvo y la suciedad. </font><font style="vertical-align: inherit;">No funcion√≥ encontrar tal tefl√≥n en el riel, por lo que el sensor se vuelve polvoriento y, a veces, lo limpio con un bastoncillo de algod√≥n.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es499954/index.html">Storacle - almacenamiento descentralizado de archivos</a></li>
<li><a href="../es499958/index.html">Cree una demostraci√≥n en l√≠nea del Primero de Mayo en poco m√°s de tres horas</a></li>
<li><a href="../es499960/index.html">JanusGraph Graph DBMS experiment para resolver el problema de encontrar caminos adecuados</a></li>
<li><a href="../es499962/index.html">Algunos datos sobre los clasificadores en cascada, que rara vez se consideran seriamente en los art√≠culos cient√≠ficos.</a></li>
<li><a href="../es499964/index.html">La NASA ha seleccionado tres compa√±√≠as que participar√°n en el programa de creaci√≥n de un barco para aterrizar en la luna</a></li>
<li><a href="../es499968/index.html">Lista de los mitaps en l√≠nea m√°s persistentes que tienen lugar incluso en mayo</a></li>
<li><a href="../es499970/index.html">Estudiamos el motor VoIP Mediastreamer2. Parte 12</a></li>
<li><a href="../es499972/index.html">Resumen de eventos en l√≠nea de mayo</a></li>
<li><a href="../es499974/index.html">Juegos 3D en Javascript de Instagram, o ruta de vuelo de salchichas</a></li>
<li><a href="../es499978/index.html">Traducci√≥n del libro de Andrew Un, Pasi√≥n por el aprendizaje autom√°tico, cap√≠tulos 36 y 37</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>