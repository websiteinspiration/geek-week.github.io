<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👑 ⚾️ ⚖️ Investigasi: apa yang lebih tinggi dari prioritas utas di Windows? 🛡️ 🕺🏾 ▶️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Penyelidikan ini, seperti banyak penelitian lainnya, dimulai dengan fakta bahwa saya melakukan bisnis sendiri, bukan mencoba mencari masalah sendiri. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Investigasi: apa yang lebih tinggi dari prioritas utas di Windows?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498498/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyelidikan ini, seperti banyak penelitian lainnya, dimulai dengan fakta bahwa saya melakukan bisnis sendiri, bukan mencoba mencari masalah sendiri. Kali ini, yang saya lakukan hanyalah membuka tutup laptop dan mencoba masuk ke sistem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk beberapa kali pertama, ketika ini mengakibatkan penundaan dua puluh detik, saya mengabaikan masalahnya, berharap itu akan menyelesaikan sendiri. Beberapa kali berikutnya saya memikirkan penyelidikan, tetapi masalah kinerja yang muncul bahkan sebelum Anda masuk lebih sulit untuk diselesaikan, dan saya malas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika saya perhatikan bahwa saya menghindari menutup laptop karena saya takut keterlambatan ini terlalu sering, saya menyadari bahwa sudah waktunya untuk melakukan ini dengan serius. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untungnya, saya baru-baru ini memperbaiki </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">jejak</font></a><font style="vertical-align: inherit;"> buffer cincin </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIforETW</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membuatnya dapat diandalkan, jadi saya memulainya dan mulai menunggu acara penundaan berikutnya. Saya tidak perlu menunggu lama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya perlu beberapa kali untuk mendapatkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jejak ETW</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan saya </font><font style="vertical-align: inherit;">. Dan karena wilayah ini asing bagi saya, perlu beberapa waktu untuk mencari tahu apa yang terjadi. Saya masih belum sepenuhnya memahami masalahnya, tetapi 90% memahami alasan terjadinya. Saya berhasil belajar banyak, termasuk beberapa detail baru tentang Windows scheduler, dan saya juga menemukan solusi yang sangat efektif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jejak ideal yang akhirnya saya rekam saat memuat ke Microsoft Windows Performance Analyzer (WPA) terlihat seperti ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/349/031/72d/34903172d4e4c5f85b33a02255942315.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peristiwa standar, jendela dalam fokus dan penggunaan CPU.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tabel ini dan dua grafik berisi satu ton informasi. Tabel atas ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acara Generik</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) menunjukkan penekanan tombol yang direkam untuk UIforETW. Saya mencoba menekan tombol (kode kunci virtual 162) sekali per detik hingga bidang input kata sandi muncul. Karena 17 penekanan tombol ini dipilih, dalam grafik di bawah ini ditampilkan dengan garis biru vertikal untuk visualisasi yang disederhanakan dari waktu pelaksanaan peristiwa penting. Sumbu x mewakili waktu dalam detik.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bilah horizontal pada grafik atas ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jendela dalam Fokus</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) menunjukkan proses mana yang memiliki fokus selama ini. </font><font style="vertical-align: inherit;">Ada enam proses yang berbeda secara total. </font><font style="vertical-align: inherit;">Periode </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tracing off</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah waktu singkat di mana laptop ditutup. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Grafik bawah menunjukkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penggunaan CPU</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Informasi diperoleh dari pemindahan data konteks, oleh karena itu harus sepenuhnya akurat dan lengkap. </font><font style="vertical-align: inherit;">Dalam penelusuran ini, nilai 100% menunjukkan momen ketika semua delapan prosesor logis dari notebook delapan-inti empat-inti saya digunakan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah menerima data jejak, saya harus mencari tahu apa yang dilakukan laptop saya secara diam-diam ketika penutup ditutup dan sampai saat saya kembali ke sistem.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Badai sebelum jeda</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang bisa kita lihat, laptop di awal jejak laptop relatif sederhana, sebagaimana mestinya. Lalu aku menutup tutupnya. Ini tampaknya telah menyebabkan lonjakan aktivitas CPU dan perubahan fokus windows. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Window in Focus</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berubah dari UIforETW ke Idle, lalu ke csrss, kembali ke Idle, ke LogonUI, dan kemudian kembali ke Idle. Siapa sangka?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selama interval ini, laptop melakukan sekitar 17 detik pemrosesan CPU dari berbagai jenis. Sebagian darinya adalah pekerjaan yang harus dimatikan. Bagian - ini adalah program (termasuk alat Google internal) yang terdaftar di Penjadwal Tugas untuk pelaksanaan "Ketika pengguna mengunci workstation" - itu logis. Saya bahkan memperhatikan bahwa pekerjaan sedang dilakukan untuk membuat elemen UI untuk masuk ketika pengguna terus bekerja - Anda harus siap terlebih dahulu, bukan?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CPU 17 detik - waktu yang cukup lama untuk laptop untuk tidur. </font><font style="vertical-align: inherit;">Bahkan di laptop saya dengan empat inti dan delapan utas, prosesnya memakan waktu lebih dari empat detik. </font><font style="vertical-align: inherit;">Di laptop rumah saya, butuh lebih dari 13 detik waktu CPU untuk tertidur, dan hampir semuanya masuk ke kode Windows. </font><font style="vertical-align: inherit;">Apakah </font><font style="vertical-align: inherit;">layanan kebijakan diagnostik </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">benar</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><em><font style="vertical-align: inherit;">benar</font></em><font style="vertical-align: inherit;"> perlu menjalankan beberapa pencarian SruDbTable sebelum laptop dapat beristirahat? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya pikir kerja yang berlebihan ini ketika akan tidur </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">juga</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> masalah, tapi ini bukan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">yang sangat</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> masalah yang saya cari. </font><font style="vertical-align: inherit;">Jadi saya memutuskan untuk memunggungi dia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan baru kemudian saya menyadari bahwa pada saat inilah butiran kehancuran serangga saya dilemparkan ...</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tidur</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah memblokir laptop, tidak ada aktivitas CPU. </font><font style="vertical-align: inherit;">Dalam pengujian khusus ini, laptop terkunci selama sekitar 16 detik.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kebangkitan konvulsif</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktivitas CPU pada transisi ke tidur tidak dapat dibandingkan dengan ketika mulai bangun. </font><font style="vertical-align: inherit;">Selama waktu ini, laptop saya yang kelebihan beban memakan waktu sekitar 172 detik waktu CPU (!!!) selama 22,6 detik. </font><font style="vertical-align: inherit;">Ini banyak pekerjaan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu misteri dari proses ini adalah penurunan penggunaan CPU menjadi hampir nol sekitar satu detik setelah ledakan aktivitas awal. </font><font style="vertical-align: inherit;">Periode waktu henti yang singkat ini tampaknya agak tidak normal, mengingat kekacauan di sekitarnya. </font><font style="vertical-align: inherit;">Tapi saya pikir fitur ini tidak berhubungan dengan masalah, jadi saya tidak memperhatikannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misteri lain adalah mengapa </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">begitu banyak</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">program menjadi hidup setelah jeda singkat ini. Lucu bahwa penyusup paling serius yang bertanggung jawab untuk 31,6 dari 172 detik CPU adalah Windows Performance Analyzer (WPA) - program yang saya gunakan untuk menganalisis jejak. Tiga salinan yang saya jalankan sedang bekerja keras untuk merender UI saya, meskipun belum terlihat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, pola gelap terjadi ketika mencoba menginisialisasi perangkat laptop. KeStallExecutionProcessor adalah loop menunggu, dan aneh melihat bahwa ini adalah fungsi yang paling dapat dieksekusi dari seluruh sistem. Apakah siklus tunggu kedua-aneh satu-satunya cara untuk memulai peralatan? </font><font style="vertical-align: inherit;">Apakah </font><font style="vertical-align: inherit;">benar-benar perlu menghabiskan waktu 700 ms CPU untuk menginisialisasi </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mouse dan keyboard</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? Haruskah Microsoft dan Intel mengabaikan rekomendasi Microsoft pada</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maksimal 50 mikrodetik</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa7/c4e/cf4/fa7c4ecf4fe56c7c9014ee252f4557b0.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Driver dari siklus menunggu. </font><font style="vertical-align: inherit;">i8042prt.sys ditulis oleh Microsoft. </font><font style="vertical-align: inherit;">Dua berikut ini dibuat oleh Intel. </font></font></i> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada akhirnya, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">banyak</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> program yang </font><font style="vertical-align: inherit;">aktif berjalan selama ini </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sebagian besar dari mereka tampaknya menghadapi masalah yang sama dengan WPA - mereka putus asa untuk menggambar piksel pada layar tersembunyi, dan ini menyinggung bug Windows. </font><font style="vertical-align: inherit;">Tetapi bahkan tanpa bug explorer.exe ini dan program lain secara aktif mencari </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sesuatu</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk dilakukan. </font><font style="vertical-align: inherit;">Tetapi pada akhirnya, meskipun penggunaan CPU yang berlebihan ini merupakan </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> penting </font><em><font style="vertical-align: inherit;">dari</font></em><font style="vertical-align: inherit;"> masalah, itu bukan </font><font style="vertical-align: inherit;">masalah </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">itu sendiri</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Jadi sekali lagi saya berhenti memperhatikannya.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fokus</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat menganalisis jejak, penting untuk mengetahui kapan tindakan penting terjadi. Bukti utama adalah peristiwa input, karena saya berhenti mengklik kontrol setelah formulir input kata sandi muncul. Berikut adalah tiga penekanan tombol kontrol terakhir dalam bentuk perkiraan pada </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jendela di</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bagan </font><em><font style="vertical-align: inherit;">Fokus</font></em><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/158/50d/6f9/15850d6f9eecb243c2984cd4988c6bb1.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampaknya peristiwa kritis mendapatkan fokus dari LockApp.exe, setelah itu fokus mendapat LogonUI.exe hampir secara instan. </font><font style="vertical-align: inherit;">Agaknya, saya memasukkan kata sandi di LogonUI.exe (lebih mudah bahwa jejak tidak mencegat peristiwa keyboard), setelah itu fokus beralih ke explorer sebentar, dan kemudian ke UIforETW, dari mana saya mulai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LogonUI.exe juga tidak bisa mendapatkan fokus sebelum LockApp.exe - pola ini berulang di semua jejak yang saya pelajari. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, setelah lebih dari seribu kata yang didedikasikan untuk memecahkan teka-teki ini, kami akhirnya memiliki pertanyaan yang jelas yang dapat kami selidiki: mengapa LockApp.exe mendapatkan fokus setelah keluar dari waktu henti, dibutuhkan dua puluh detik?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami punya pertanyaan? </font><font style="vertical-align: inherit;">Bagus, mari kita jawab</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menggunakan data </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penggunaan CPU (Tepat) yang</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diperoleh dari </font><font style="vertical-align: inherit;">alih </font><font style="vertical-align: inherit;">konten, </font><font style="vertical-align: inherit;">saya segera menemukan bahwa dalam waktu dua puluh detik setelah bangun LockApp.exe menerima kurang dari satu milidetik waktu CPU, dan selama lebih dari 14 detik (dari 35,158 detik hingga 49,827 detik) tidak berfungsi umumnya:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f50/5dc/954/f505dc954915bdbf5a857eac5c4303f4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LockApp tidak berfungsi sama sekali untuk waktu yang lama</font></font></i><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentasi tentang arti kolom dalam tabel Penggunaan CPU (Precise) ada di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika suatu proses atau utas belum berjalan selama beberapa waktu, dan Anda ingin mencari tahu mengapa, biasanya petunjuk penting dapat ditemukan dalam sakelar konteks pertama setelah jeda yang lama, yaitu beralih ke penelusuran selama 49,827 detik. </font><font style="vertical-align: inherit;">Saya memesan ulang kolom untuk menampilkan lebih banyak data dari sakelar konteks ini:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7f4/23d/7ca/7f423d7cad82b87f4c5556551b0e8fec.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LockApp disiapkan tetapi tidak dieksekusi. Aneh ...</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hitung, sama dengan 1 berarti kita melihat data untuk sakelar konteks tunggal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Waktu Sejak Terakhir, sama dengan 38,2 juta mikrodetik, berarti utas ini tidak akan dijalankan dalam 38,2 detik. Ini sendiri tidak baik atau buruk. Aliran yang menganggur menghemat energi, dan pada akhirnya laptop itu dalam mimpi selama beberapa waktu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switch-In Time hanya memberi tahu kita kapan tepatnya thread tersebut cocok dengan CPU - ketika konteksnya beralih ke thread tersebut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan sekarang kita pergi ke kolom Ready. Dia memberi tahu kami berapa lama utas itu </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">siap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk dieksekusi, tetapi tidak dieksekusi. Dengan kata lain, utas ini sedang </font><font style="vertical-align: inherit;">menunggu </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sesuatu</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (kunci, pegangan) dan ini </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah sesuatu</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dibebaskan atau diinisiasi, tetapi utas masih </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak berjalan</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> selama 19,493 detik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk lebih memahami kolom </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siap (kami)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Anda dapat melihat pada kolom </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Waktu Siap</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dia memberi tahu kita ketika sungai disiapkan. Kita melihat bahwa selama 30,333 detik penelusuran, utas ini disiapkan untuk eksekusi, tetapi tidak dieksekusi hingga 49,827 detik. Ini sepertinya penting. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Susunan kolom ini sebaliknya menunjukkan kepada kita saklar konteks yang sama:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/07f/b5c/c85/07fb5cc85d3dfc066a6c3cbd508ef7d7.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stack Thread Baru dan Stack Thread Ready</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jadi, thread ini (yang diharapkan oleh Stack Thread Baru NtWaitForWorkViaWorkerFactory untuk ditampilkan) diperintahkan untuk bangun (proses sistem yang memanggil KeSetEvent) tidak lama setelah saya membuka tutup notebook selama 30,333 detik penelusuran. </font><font style="vertical-align: inherit;">Tapi itu tidak dimulai pada saat itu (yang akan menjadi "baik"), tetapi setelah 19.494 detik, dan ini buruk. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Biasanya, ketika melakukan analisis harapan seperti itu, saya menghabiskan banyak waktu untuk mencari tahu mengapa aliran menunggu dan apa yang menyebabkannya tidak siap. </font><font style="vertical-align: inherit;">Tetapi ini adalah pertama kalinya saya melakukan analisis harapan, di mana itu tidak penting, dan pertanyaannya adalah mengapa utas yang sudah jadi ini tidak dieksekusi.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kasing ...</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kebanyakan orang tidak menghabiskan begitu banyak waktu mempelajari jejak ETW, jadi diperlukan penjelasan di sini. </font><font style="vertical-align: inherit;">Ini </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sangat</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aneh. </font><font style="vertical-align: inherit;">Jika utas sudah siap, maka biasanya mulai seketika, atau setelah beberapa milidetik. </font><font style="vertical-align: inherit;">Kesiapan streaming, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seperti namanya</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , berarti streaming siap untuk dieksekusi dan hampir tidak ada yang dapat mengganggu itu. </font><font style="vertical-align: inherit;">Tapi mari kita cari tahu apa yang bisa mencegah eksekusi utas jadi.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prioritas utas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awalnya saya menyarankan bahwa ini adalah kasus sederhana dari "lapar" CPU. Lusinan proses membutuhkan waktu CPU, dan karena itu, LockApp tidak mendapatkan yang benar sampai beban berkurang. Namun, teori </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini tidak</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sesuai dengan gejalanya, karena proses LockApp dapat memakan waktu sekitar 18 detik </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bahkan</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tanpa waktu CPU.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teori kelaparan CPU baik karena dapat diverifikasi. Saya berhasil meningkatkan prioritas proses LockApp menggunakan Task Manager (selama salah satu periode singkat ketika itu tidak ditangguhkan oleh sistem UWP), oleh karena itu, dalam penelusuran akhir yang saya gunakan untuk posting ini, LockApp dieksekusi dengan prioritas tinggi. Utas Windows biasa berjalan dengan prioritas sekitar 8-10. Prioritas tertinggi yang dapat dijalankan utas Windows reguler (non-waktu nyata) adalah 15. Jejak ETW saya menunjukkan bahwa LockApp selalu bekerja dengan prioritas 13 atau lebih tinggi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah timeline CPU untuk kritis 19,494 detik, dikelompokkan dan diwarnai berdasarkan prioritas utas ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">New In Pri</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, prioritas saat ini yang ditugaskan ke utas). </font><font style="vertical-align: inherit;">Kami melihat bahwa utas dengan prioritas 4, 8, 9, dan 10 menghabiskan sebagian besar waktu CPU, terutama di akhir:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/81b/7d5/431/81b7d5431d0a307a93d2250fec9f2b1c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menggunakan CPU berdasarkan Prioritas</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Berikut adalah gambar lain dengan utas tersembunyi dengan prioritas 0-12. </font><font style="vertical-align: inherit;">Setiap kali grafik turun di bawah 12,5% (yang berarti satu prosesor logis dari waktu CPU delapan-thread notebook saya), LockApp </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">harus</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diluncurkan, dan itu menjadi sangat sulit dipercaya bahwa prioritas mencegahnya dieksekusi begitu sering ketika banyak utas dengan prioritas yang lebih rendah atau sama dapatkan banyak waktu.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ec/c2c/66b/2ecc2c66b4df4902a3c5be388596524f.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prioritas penggunaan CPU, utas prioritas tinggi saja</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hilangkan inversi prioritas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada spekulasi bahwa algoritma inversi prioritas Windows sangat kondusif untuk utas lainnya sehingga LockApp.exe diblokir. </font><font style="vertical-align: inherit;">Tetapi karena grafik yang ditunjukkan di atas menunjukkan bahwa prioritas yang sebenarnya digunakan dalam keputusan perencanaan, asumsi ini (selalu tidak meyakinkan) harus ditinggalkan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stack core unloading</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika saya berbicara tentang teka-teki ini di Twitter, salah satu komentator menyarankan agar </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tumpukan inti thread diturunkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Saya tidak terbiasa dengan situasi ini, tetapi setelah penjelasan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">John Werth</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dia mengerti di bidangnya) saya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mematikan swapping tumpukan kernel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan menyalakan kembali komputer. </font><font style="vertical-align: inherit;">Tidak ada yang berubah. </font><font style="vertical-align: inherit;">Bahkan, saya tidak berpikir bahwa ini akan membantu, mengingat saya memiliki memori 32 GB, dan masalah terjadi berulang kali dan sering; </font><font style="vertical-align: inherit;">tapi lebih baik memastikan ini.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeda proses</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena LockApp adalah aplikasi UWP modern, ini tunduk pada pembatasan yang serupa dengan yang ada pada aplikasi ponsel cerdas. Antara lain, ini berarti bahwa itu dapat ditangguhkan ketika tidak di latar depan, dan kemudian "mencairkan" ketika kembali ke latar depan. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">James Forshaw</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mengusulkan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rekaman ETW Microsoft-Windows-Kernel-Process</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mendapatkan data tentang ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acara dirancang untuk menyebabkan kebingungan maksimal. Nama tugas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Process Freeze</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> digunakan untuk "pencairan" dan "pembekuan", dan versi dari </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">win: Stop</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> event </font><font style="vertical-align: inherit;">berarti bahwa prosesnya dimulai (telah berhenti membeku), dan versi dari </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">win: Start</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">berarti proses berhenti (mulai membeku). Semua ini sangat logis, tetapi sangat membingungkan. Jika nama acara dibagi menjadi Freeze dan Thaw, maka akan ada lebih sedikit kebingungan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak ada dokumentasi untuk acara ini, tetapi berkat analisisnya, saya memutuskan bahwa acara ini selalu dibuat oleh </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tugas Latar Belakang / Layanan Infrastruktur Pialang</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nama dan ID proses dari proses yang sesuai ditunjukkan di bidang FrozenProcessID.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e04/32f/424/e0432f42442fa30ad0f7e6ed77f8d1c2.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProcessFreeze Events (juga digunakan untuk pencairan es) Sangat</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
menarik untuk menyelidiki penyedia ini - ia memiliki banyak peristiwa yang menjanjikan - tetapi pada akhirnya ternyata LockApp tidak berhenti atau mencairkan es selama penelusuran. </font><font style="vertical-align: inherit;">Namun, penyedia ini sepertinya cukup berguna, jadi saya </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memodifikasi UIforETW</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sehingga versi yang akan datang selalu mencatatnya.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami sudah mengesampingkan semuanya</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagi saya, tidak ada satu pun teori yang diuraikan di atas yang sangat mungkin, dan sekarang kita semua telah menyisihkannya. </font><font style="vertical-align: inherit;">Saya mulai mencari bantuan, dan meminta saya untuk memberi saya ide dari seorang teman dari Microsoft. </font><font style="vertical-align: inherit;">Dan pada saat itu saya menemukan bahwa aliran prioritas 0-31 yang sangat terkenal di Windows sebenarnya hanya lima bit prioritas rendah dari </font><font style="vertical-align: inherit;">sistem prioritas </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penuh</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penggunaan posisi resmi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ternyata ketidaktahuan saya adalah kesalahan saya sendiri. </font><font style="vertical-align: inherit;">Jika saya membaca dengan seksama semua 108 halaman bagian </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Threads</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Internal, Edisi 7, Bagian 1</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , saya akan mengerti apa yang terjadi. </font><font style="vertical-align: inherit;">Jika Anda ingin melompat maju, maka topik ini diungkapkan pada halaman </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">287 hingga 295</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bidang super-prioritas yang tidak saya ketahui ini disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peringkat</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Itu muncul di WPA sebagai kolom tersembunyi default (untuk menemukannya, Anda harus membuka View Editor) yang disebut </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewThreadRank</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Saat merencanakan utas, Peringkat Utas memiliki prioritas di atas prioritas. </font><font style="vertical-align: inherit;">Hampir semua aliran memiliki Peringkat 0, dan aliran dengan Peringkat 0 selalu memiliki prioritas lebih tinggi daripada aliran dengan Peringkat 2. Dengan menyertakan kolom</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewThreadRank</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan melihat sisi kiri meja, kita dapat langsung melihat masalahnya:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/374/745/f0e/374745f0eeaee797c6a8472f62d5b3f4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peringkat lebih penting daripada prioritas</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
. Streaming LockApp.exe memiliki Peringkat 2, yang berarti bahwa meskipun prioritas 14, mereka memiliki prioritas terendah dalam sistem.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penjelasan yang hampir lengkap</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena ternyata utas LockApp.exe memiliki Peringkat 2, mereka hanya dapat dieksekusi ketika </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak ada</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utas dengan Peringkat 0 “ingin” dijalankan. </font><font style="vertical-align: inherit;">Karena banyak aplikasi (untuk alasan yang tidak diketahui) secara aktif membuat layar mereka yang tidak terlihat, mereka berjuang untuk setiap remah waktu CPU, tidak meninggalkan apa pun untuk peringkat yang lebih tinggi. </font><font style="vertical-align: inherit;">Setelah LockApp.exe menerima sebagian kecil dari waktu CPU, dengan cepat pindah ke Peringkat 0 (dan beban CPU turun), setelah itu proses login dilakukan dengan cara biasa.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah mempelajari informasi ini, saya mulai mempelajari bagaimana peringkat LockApp berubah dari waktu ke waktu. Dalam beberapa detik terakhir sebelum tidur, LockApp tiba-tiba pindah dari peringkat 0 ke 2. Peringkat tersebut dirancang untuk mencegah CPU mengambil terlalu banyak waktu, seperti ketika </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Foto Windows terlalu tertarik pada pemrosesan latar belakang yang tidak diinginkan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan melakukan transisi dari peringkat 2 hingga 19:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/cbc/b93/e8b/cbcb93e8bc2145f78e5ea10edba3fa8e.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Microsoft.Foto turun peringkat</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dari dokumentasi Anda dapat memahami bahwa tujuan utama peringkat aliran adalah pembagian waktu CPU yang adil antar sesi pada mesin sehingga proses satu pengguna tidak membahayakan orang lain. Kedua opsi ini untuk menggunakan peringkat memperjelas bahwa peringkat aliran hanya akan meningkat jika menggunakan banyak waktu CPU, dan ketika laptop pergi tidur, LockApp.exe hanya menggunakan 79,3 ms dari waktu CPU, dan sisa sistem - 17 dari waktu CPU . Namun demikian, OS untuk beberapa alasan memutuskan untuk menurunkan versi LockApp ke 2 dalam proses tidur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OS mengubah peringkat aliran hanya jika itu milik "kelompok perencanaan" ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KSCHEDULING_GROUP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), dan kebanyakan utas di instalasi Windows biasa bukan anggota. </font><font style="vertical-align: inherit;">Akibatnya, sebagian besar utas tidak tunduk pada perubahan peringkat, sehingga mereka dapat menghabiskan waktu CPU seperti yang mereka inginkan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Teka-teki yang tersisa</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sayangnya, masih belum jelas mengapa LockApp.exe turun ke peringkat 2 sebelum menyalakan sleep.I akan menganggap bahwa LockApp berada di grup perencanaan dan mungkin salah satu algoritma berperilaku salah. Tetapi saya tidak dapat menemukan API untuk menyelidiki ini, dan waktu sudah hampir habis. Jika Anda mengetahui detailnya, maka tuliskan komentar di artikel asli. Prinsip menggunakan peringkat sebagai komponen terpenting dalam keputusan perencanaan seharusnya, menurut saya, mau tidak mau hancur jika sebagian besar proses dalam sistem tidak terlibat di dalamnya - utas dalam kelompok perencanaan selalu menghadapi risiko dibiarkan tanpa sumber daya yang diperlukan. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perencanaan Alokasi Sumber Daya Dinamis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DFSS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) pasti akan gagal jika kebanyakan utas tidak terlibat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga, saya tidak tahu mengapa begitu banyak aplikasi tetap aktif setelah tidur. Ini biasanya dijelaskan oleh fakta bahwa “banyak penghitung waktu berakhir ketika laptop dalam mode tidur selama beberapa jam,” tetapi penjelasan ini tidak cocok jika laptop tersebut hanya dalam mimpi selama beberapa detik, dan perilaku rendering WPA menunjukkan bahwa sesuatu terjadi dalam sistem jendela sesuatu yang salah. Tambahkan ke aplikasi perilaku buruk dan driver siklus menunggu, dan semuanya ditumpuk dari waktu ke waktu oleh CPU.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fakta bahwa badai CPU mereda dan LockApp mulai pada saat yang sama mengarah ke penjelasan yang jelas: LockApp hanya dapat bekerja ketika permintaan CPU turun. </font><font style="vertical-align: inherit;">Tetapi ada penjelasan yang sama meyakinkannya: begitu LockApp mendapatkan kemampuan untuk menjalankan (atau, mungkin, LogonUI mendapatkannya), permintaan CPU turun. </font><font style="vertical-align: inherit;">Kedua penjelasan bekerja, tetapi saya pikir yang terakhir lebih masuk akal, karena kalau tidak kita tidak bisa menjelaskan mengapa rendering WPA yang tampaknya tak berkesudahan tiba-tiba berhenti.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solusi untuk masalah tersebut</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segera setelah saya menyadari bahwa LockApp.exe adalah aplikasi terpisah yang memiliki masalah dengan peluncuran, dan meningkatkan prioritasnya tidak membantu, saya menonaktifkannya. </font><font style="vertical-align: inherit;">File DisableLockScreen.reg membantu saya dengan ini:</font></font><br>
<br>
<blockquote>Windows Registry Editor Version 5.00<br>
[HKEY_LOCAL_MACHINE\SOFTWARE\Policies\Microsoft\Windows\Personalization]<br>
“NoLockScreen”=dword:00000001</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan mematikan layar kunci, laptop bangun segera setelah membuka penutup. </font><font style="vertical-align: inherit;">Saya tidak melihat pengereman atau badai CPU, dan sekarang hanya perlu satu langkah lebih sedikit untuk masuk. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Posting Pertama twitter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya diposting ketika saya pertama kali mengalami masalah berisi kerangka waktu untuk penyelidikan yang mungkin berguna untuk seseorang. </font><font style="vertical-align: inherit;">Selain itu, banyak orang pintar dari twitter datang ke pos tersebut, terima kasih kepada mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika saya kembali ke artikel tersebut, saya menemukan bahwa setelah menyalakan kembali layar kunci, masalahnya hilang. </font><font style="vertical-align: inherit;">Sebuah reboot sederhana tidak memperbaikinya - pada bulan Februari saya reboot berkali-kali, tetapi kami mungkin tidak tahu mengapa itu hilang.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diskusi</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r / pemrograman</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r / Windows10</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Berita peretas</font></font></a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id498486/index.html">Cara memperluas semantik berbahasa Inggris untuk iklan pencarian di ceruk yang sempit</a></li>
<li><a href="../id498490/index.html">Sistem sertifikasi yang efektif yang akan memungkinkan Anda untuk menjadi pemimpin yang lebih baik</a></li>
<li><a href="../id498492/index.html">Sayang, kami membunuh birokrasi: bagaimana digitalisasi mengubah dialog antara pemasok dan X5</a></li>
<li><a href="../id498494/index.html">JEP 360: Jenis Tertutup (Pratinjau)</a></li>
<li><a href="../id498496/index.html">Pengumuman mitap online PiterJS # 46: kinerja, komponen UI yang kompleks, dan CSS-in-TS</a></li>
<li><a href="../id498500/index.html">Apa yang harus dilihat di karantina? Pilihan bahan dari Technostream (bagian 1)</a></li>
<li><a href="../id498504/index.html">Salam Tahun Baru dan COVID-19: bagaimana peretas menggunakan berita</a></li>
<li><a href="../id498510/index.html">X. Tinjauan umum versi kotak telepon dan menghubungkan ke situs jarak jauh</a></li>
<li><a href="../id498512/index.html">Memerangi kemacetan lalu lintas di kota kecil dengan anggaran kecil: hasil 6 bulan proyek</a></li>
<li><a href="../id498516/index.html">Tukang pos - Metrik AutoMetrica di AppMetrica</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>