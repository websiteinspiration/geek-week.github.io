<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦓 😍 👸🏾 スマートホームデバイスをSmartThingsエコシステムに組み込む 👍🏼 🥁 💤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="スマートホームプラットフォームを使用すると、デバイスを統合し、それらの相互作用の新しいシナリオを作成できます。プラットフォームの効果はわかっています。ユーザーは、新しいデバイスに切り替えるよりも、既存のデバイスと互換性のあるものを選択する傾向があります。したがって、新しい独創的なデバイスの開発者は、...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>スマートホームデバイスをSmartThingsエコシステムに組み込む</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/samsung/blog/489834/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スマートホームプラットフォームを使用すると、デバイスを統合し、それらの相互作用の新しいシナリオを作成できます。</font><font style="vertical-align: inherit;">プラットフォームの効果はわかっています。ユーザーは、新しいデバイスに切り替えるよりも、既存のデバイスと互換性のあるものを選択する傾向があります。</font><font style="vertical-align: inherit;">したがって、新しい独創的なデバイスの開発者は、クラウドエコシステムや個人アカウントの形で独自の「自転車」を開発するよりも、「鉄」製品に焦点を合わせて、すでに完成したプラットフォームに統合する方が収益性が高いかもしれません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自分のデバイスをSamsung SmartThings Smart Homeプラットフォームに統合する方法を見てみましょう。</font><font style="vertical-align: inherit;">ボタンスイッチと3色電球の例を使用して、スマートホームデバイスを制御するための直接接続オプションを実装しています。&nbsp;</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cx/se/xy/cxsexydnzipoeqmkj3n7jq9x4iu.gif"><br>
<a name="habracut"></a><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜスマートホームプラットフォームが必要なのですか？</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、ガジェットとスマートデバイスが販売されています。 Bluetoothコントロール付きのやかんやWiFi付きの電球を購入しても問題ありません。しかし、これはあなたの家を「スマート」にするのでしょうか？状況は珍しいことではありません。電球は、製造元からのモバイルアプリケーションによってのみ制御されます。これは、少なくともいくつかの異なるブランドを組み合わせようとしている場合に不便になります。したがって、理想的なプラットフォームは、異なるメーカーのデバイスを同じ方法で管理できるプラットフォームです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、Xerox PARCのMark Weiserが夢見た「日常生活に溶け込んだコンピューター」を見たいと思います。特別なアプリケーションを操作しないで、注意を向けないでください。私たちの習慣を変えない、スマートな環境との自然な相互作用を望んでいます。これを技術的に実装する方法は？たとえば、家の中の異種デバイスが関係しているシナリオが考えられます。あなたが目を覚ました-ウェアラブルデバイスがこれを検出し、やかんがオンになりました。あなたは家に帰った-ドアのセンサーはこれを記録しました、時間を考慮して、カーテンが閉まり、ランプがオンになり、温度を考慮してエアコンがオンになりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インターネットを使用すると、シナリオがさらに便利になります。たとえば、アイロンの付いたコンセントがオフになっているかどうかをリモートで確認できます。</font><font style="vertical-align: inherit;">または、ありきたりな例：スマートホームが天気予報を見て、どのように着るかをアドバイスしました。</font><font style="vertical-align: inherit;">または、スマートスピーカーから音声コントロールを追加することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スマートホームプラットフォームは、これらすべてのために設計されています。</font><font style="vertical-align: inherit;">Samsung SmartThingsプラットフォームで何ができるかを検討してください。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">背景-SmartThingsとは何ですか？</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SmartThingsはスタートアップとしてスタートした。彼が現れたとき、2012年にアメリカで、「スマートホーム」の話題はまだ誇大宣伝の頂点にありませんでした、まだスマートスピーカーやさまざまなガジェットが店舗にありませんでした。アイデアは、ある事件の後、スタートアップの創設者であるアレックスホーキンソンに思い付きました。それから彼は家で何が起こっているのか知っていれば問題を防ぐことができたのではないかと考えました。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ターンキーソリューションの検索に失敗した後、ホーキンソンと彼の同僚はデバイスのプロトタイプを作成し、キックスターターでキャンペーンを開始しました。キャンペーンは成功し、30日間で計画されていた25万ドルではなく120万ドルを調達しました。スマートソケット、ドアオープンセンサー、モーションセンサー、プレゼンスセンサーなど、キットに少数のデバイスが含まれるハブハブの販売が始まりました。そして、2019年にはすでにSamsung SmartThingsブランドで、ハブの3番目のバージョンがリリースされました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/xk/vi/hexkviuwr8rq2bf7z84ft-akdnm.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kickstarterで成功するための鍵は、アイアンとソフトウェアの実用的なプロトタイプを入手できることと、メーカーコミュニティにとって親しみやすさでした。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スタートアップのクリエーターはDIY環境を離れたため、早い段階でアーリーアダプターとして行動できるオタクメーカー向けのオープンAPIのコンセプトを一貫して開発しています。 Kickstarterキャンペーンでは、サードパーティのデバイスをシームレスに接続するためのArduinoとさまざまなクラウドモジュールのシールドがありました。インターネットで、SmartThingsと互換性のある自家製のデバイスの多くの例を見つけることができます。それが</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鶏小屋の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">制御</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ドア</font></a><font style="vertical-align: inherit;">（深刻なライフタスクの解決策-捕食性のミンクから鶏を救う）であるか</font><font style="vertical-align: inherit;">、Airbnbを使用するゲスト用の電子ロックコードの</font><font style="vertical-align: inherit;">リモート</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インストールで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ある</font><font style="vertical-align: inherit;">かどうか</font><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ct/fd/tl/ctfdtl25yhvhmrnz2yufm_qwhfw.jpeg" width="500"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">写真ソース：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//www.hackster.io/aaronpk/auto-airbnb-entry-745799</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2012〜2013年、SmartThingsは数回の投資を行い、1250万ドルを受け取りました。</font><font style="vertical-align: inherit;">そして最後に、2014年に彼女はSamsungに興味を持ち、モノのインターネット市場への参入戦略の一環として2億ドルで買収されました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラットフォームのクラウド機能は無料のままでした。作成者、現在はSamsungの従業員であり、大量のトラフィックに対して課金する理論的な可能性を排除していないことを強調し、デバイス開発者には常に無料のオプションがあることを強調します。</font><font style="vertical-align: inherit;">ほとんどすべてのクラウドサービスで収益化が可能になり、多くの場合、試用期間でも銀行カードを添付する必要があるため、これは良いことです。</font><font style="vertical-align: inherit;">SmartThingsは完全に無料のプラットフォームです。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SmartThingsアーキテクチャ</font></font></h1><br>
<img src="https://habrastorage.org/webt/dm/gw/ir/dmgwirddjoqbh-1caazcx5kg-sc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パターンを左から右に移動しましょう。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイス</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SmartThingsデバイス-これは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、SmartThingsスイートの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスだけでなく</font><font style="vertical-align: inherit;">、パートナーのリストにある多くのサードパーティパートナーでも</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">かまい</font></a><font style="vertical-align: inherit;">ません</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ut/j6/oq/utj6oqymmwwnqazkm_jekxgymwq.jpeg" width="300"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスが公式にサポートされているリストにない場合は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスハンドラー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を検索</font><font style="vertical-align: inherit;">し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">て（</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発者</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">コミュニティー</font></a><font style="vertical-align: inherit;">から提供され</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">て</font></a><font style="vertical-align: inherit;">いる可能性があり</font><font style="vertical-align: inherit;">ます）、独自に作成できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続方法</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の方法でデバイスをプラットフォームに接続できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハブ接続-インターネットに接続されていないが、そのようなシステムのZigBeeのような従来のワイヤレスネットワークを介して接続されているデバイスに関連するハブハブを介して。&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接接続-インターネット経由で直接クラウドに接続。</font><font style="vertical-align: inherit;">SmartThingsは最近</font><font style="vertical-align: inherit;">カムコーダー、電球、スマートソケットを</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リリースし</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ハブなしでWiFi経由で動作します。</font><font style="vertical-align: inherit;">これは、このガイドで実装するオプションです。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラウド接続-すでに独自のクラウドエコシステムを備えているデバイス用のサードパーティクラウドを介して。</font><font style="vertical-align: inherit;">これはより複雑なので、そのようなオプションは考慮しません。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハブ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、ご家庭のさまざまな機器を接続するには、さまざまなプロトコルをサポートする特別な小型サーバー「スマートホーム」が必要です。</font><font style="vertical-align: inherit;">彼-ハブ、ハブ、ゲートウェイ-名前は異なります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gx/yy/_b/gxyy_bk9o6kvzdfzldagqw4lbb0.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハブとそれに接続するデバイスのセット。</font><font style="vertical-align: inherit;">写真ソース：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IXBT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">応用</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SmartThingsアプリは、メインのモバイルOSにインストールできるアプリケーションであり、その助けを借りて、システムへの新しいデバイスの追加、追加済みのデバイスの制御、自動化ルールの設定、プッシュとSMSによる通知の受信など、さまざまなことが可能です。&nbsp;</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ua/tu/-q/uatu-qhi_oijgiuumtopuqsjedk.png" width="400"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抽象化</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SmartThingsでは、他の多くのスマートホームプラットフォームと同様に、部屋、シーン、シナリオなどの抽象化があります。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスは部屋にグループ化されます。</font><font style="vertical-align: inherit;">これまたはそのガジェットをアプリケーションの1つの部屋に接続し、「キッチン」、「バスルーム」、「廊下」と呼びます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まだシーン（シーン）があります。これらは、「スリープ」、「休憩」、「仕事」、「映画鑑賞」のシチュエーションです。各シチュエーションは、独自のデバイス状態のセットによって特徴付けられます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qt/vo/5o/qtvo5o8yo8thwuwhptupdthayjc.png" width="300"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーション画面のシーンと部屋</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、スクリプト（ルーチン）：if-then自動化ルール。デフォルトでは、プログラムには4つのシナリオがあります。「私は戻ってきました」、「おやすみ」、「バイ」、「おはよう」です。朝の状況や移動の場合、ドアを開ける場合などに応じてスクリプトの起動を設定できます。重要な例：家に入ったとき-個人のビデオの漏洩を防ぐために、家の監視カメラでネットワークトラフィックをブロックします。または残酷な教育の例：夕方の11時にタブレットをネットワークから強制的に切断して、健康な睡眠の代わりにインターネットに固執しないようにします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7j/gp/qg/7jgpqgdehbjdzjtpmfnf7a2supc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、電話のSmartThingsプログラムには、典型的なアクションを記憶するという興味深い機会があります。電話を頻繁に使用すると、時間の経過とともに、最も頻繁に起動されるアプリケーションに基づいてシーンを構成するのに最適な方法がわかり始めます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムに新しいデバイスを追加するために、プラグインシステムが提供されています。開発者は、自分のデバイス（SmartThingsアプリケーション内のユーザーインターフェイスとデバイスのロジック）のプラグインをプログラムできます。これは基本的にWebアプリケーションです。開発者の観点から、プラグインはデバイスからのイベントまたは通知をサブスクライブし、メッセージを送信し、デバイスとの接続のステータスを監視できます。</font><font style="vertical-align: inherit;">プラグインのライフサイクルに関する</font><font style="vertical-align: inherit;">明確な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらは、電話でアプリケーションが膨らまないように、必要に応じてユーザーが「プラグインストア」からダウンロードします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2t/i7/6p/2ti76pkvardmqwv2efyxjh5nec4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ここではプラグインを実行しませんが、単純化します。標準のプラットフォームツールのみを使用して自家製のデバイスを追加します。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスをSmartThingsと互換性のあるものにする</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたは質問があるかもしれません：なぜですか？</font><font style="vertical-align: inherit;">あなたがデバイス開発者であれば、それを互換性にすることの意味は何ですか？</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主な利点は、エコシステム全体との自動統合による製品価値の向上です。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能テストに合格することを条件として、製品ボックスに「SmartThingsと互換性があります」というロゴを貼り付けることができます。これにより、SmartThingsエコシステムでのデバイスの問題のないインストールと構成が保証されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のプラットフォームと同様に、タスクが容易になります。たとえば、ユーザーインターフェースなどを試して開発する必要がなくなり、SmartThingsインターフェースの標準ボタンやその他の要素を使用できます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SmartThingsコミュニティのおかげで、PRとユーザーのオーディエンスを獲得できます（活発でアクティブです）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下のマニュアルでは、独自の完全カスタムデバイスを接続します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">提案されていること</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SmartThings Device SDK（STDK）は、2019年10月のSamsung Developer Conferenceで最近発表されました。以下に</font><font style="vertical-align: inherit;">、このSDKの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マニュアルの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻訳を示し</font><font style="vertical-align: inherit;">ます。翻訳だけではありません。同じことを自分たちの手で繰り返したので、元のマニュアルを超える実用的なコメントがいくつかあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最終結果がビデオに表示されるようになる方法：</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Rvo6pbI2-0U" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RGBランプはWiFi経由でSmartThingsプラットフォームに接続されており、電話で制御します。ランプ自体は最も安価で簡単な方法で実装されています-超人気のESP8266チップ上に。 Ironは重要ではありません。SDKはCで記述されており、パブリックドメインに配置されており、必要に応じて移植できるため、どのマイクロコントローラーでも実行できます。 ESPが本番環境に入る可能性は低いです（第一に、WiFiよりもスマートホームの他のインターフェイスを使用する方が便利です）が、モデルやイラストには非常に適しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果として得られる「スマート電球」の機能は次のとおりです。電話のカラーホイールを使用したRGB-LEDコントロール。ボタンを使用してオフおよびオンにするだけでなく。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発プロセスを図に示します。</font></font><br>
<img src="https://habrastorage.org/webt/ba/kb/_h/bakb_hunqhwmmaovm0jk2xrbqgk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
示されているプロセスは難しいものではなく、一部のステップは逆にすることができます。これについては、マニュアルで説明します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鉄</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オリジナルのマニュアルには、WeMos D1 Miniボードの例のすべてが記載されています。これは、ブレッドボードに挿入できるESP8266ベースのデバッグボードです。</font><font style="vertical-align: inherit;">一般的に、トリッキーなことは何もありません。ファンの間で非常に人気のある中国のESPチップのモジュールであり、ブレッドボードのサイズのより広いボードに便利にはんだ付けされています。</font><font style="vertical-align: inherit;">したがって、他のボードですべてを行うことができます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rs/lo/8t/rslo8ts8_gfmrhvrrnh-jb87yry.jpeg" width="200"> <img src="https://habrastorage.org/webt/bl/sg/mw/blsgmwf3onhbr9x9y4s9dxialiw.jpeg" width="200"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">左：WeMos D1、右-Troyka WiFiシールド</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">柔らかい</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サンプルをビルドするために必要なもの：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ubuntu Linuxバージョン18.04以上（WindowsとMacOSの両方の例を作成できますが、明確にするためにLinuxを選択しました）</font></font><br>
</li>
<li>  Android    1.7.39,  iOS    1.6.41-343.   Play Market  SmartThings,     Samsung Account.       Samsung,    .<br>
</li>
<li>ESP8266 SDK.  , <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>  ,   ,   :<br>
<br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> https://github.com/espressif/ESP8266_RTOS_SDK.git</code></pre><br>
     SDK   IDF_PATH:<br>
<br>
<pre><code class="bash hljs">nano ~/.bashrc
<span class="hljs-built_in">export</span> IDF_PATH=<span class="hljs-string">"~/git/ESP8266_RTOS_SDK:<span class="hljs-variable">$IDF_PATH</span>"</span></code></pre></li>
<li>   :<br>
<br>
<pre><code class="bash hljs">sudo apt-get install gcc git wget make libncurses-dev flex bison gperf python python-pip python-setuptools python-serial python-cryptography python-future python-pyparsing python-pyelftools</code></pre><br>
   ():<br>
<br>
<pre><code class="bash hljs">sudo mkdir /opt/Espressif<font></font>
sudo chown username /opt/Espressif/<font></font>
<span class="hljs-built_in">cd</span> /opt/Espressif<font></font>
wget https://dl.espressif.com/dl/xtensa-lx106-elf-linux64-1.22.0-100-ge567ec7-5.2.0.tar.gz<font></font>
tar -xzf ./xtensa-lx106-elf-linux64-1.22.0-100-ge567ec7-5.2.0.tar.gz<font></font>
<span class="hljs-built_in">cd</span> xtensa-lx106-elf
<span class="hljs-built_in">export</span> PATH=<span class="hljs-string">"/opt/Espressif/xtensa-lx106-elf/bin:<span class="hljs-variable">$PATH</span>"</span></code></pre><br>
</li>
<li>Smart Things Device SDK C –   .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>  github,         ,     ,       .<br>
<br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> https://github.com/SmartThingsCommunity/st-device-sdk-c-ref.git
<span class="hljs-built_in">cd</span> st-device-sdk-c-ref<font></font>
./setup.sh esp8266</code></pre><br>
</li>
</ul><br>
<h2></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のデバイスが例として考慮されます：スマートスイッチとスマート電球。</font><font style="vertical-align: inherit;">シンプルで外部周辺機器を必要としないスマートスイッチから始めます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手順1.デバイスを登録します。</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SmartThings開発者ワークスペース</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">
作業が開始され</font><font style="vertical-align: inherit;">ます。ここでは、Samsungアカウントを使用してログインする必要があります。</font><font style="vertical-align: inherit;">このアカウントは無料で作成され、作成するためにサムスンの電話を持っている必要はありません。&nbsp;</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rz/vc/tb/rzvctbgclnb7ug6rcxccoqsfe88.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者ワークスペースでは、すぐに最初のプロジェクトを作成するように求められます。</font><font style="vertical-align: inherit;">その後、2つのプロジェクトオプションから、デバイス統合を選択する必要があることに同意します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mh/7z/0f/mh7z0fghp37p2_kfmlj4p3bjkvg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
選択には、デバイスを統合するための3つのオプションが与えられます。&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SmartThings Cloud Connector-SmartThingsクラウドに接続される独自のクラウドを持つデバイスを接続するため</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SmartThings HubはZigBee、Z-Wave、Bluetoothデバイスでは利用できません。また、執筆時点では、ハブはまだロシアでは正式に販売されていません。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直接接続は、仲介なしで直接接続する最も簡単なオプションです。&nbsp;</font></font><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3番目のオプションを選択します。</font><font style="vertical-align: inherit;">たとえば、簡単にするためにプロジェクト名を考えてください-SmartSwitch。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/dg/5w/ordg5wpiqskc-9kyau_hjlquhaq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスプロファイルを追加します。</font><font style="vertical-align: inherit;">OOPに関して言えば、デバイスプロファイルはそのような「クラス」であり、特定のデバイスは「クラスインスタンス」です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SmartThings機能の観点からデバイスの機能特性を判断する必要があります。</font><font style="vertical-align: inherit;">あなたはできる</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読み</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、デバイスの一般的な「機能」についての</font><font style="vertical-align: inherit;">マニュアルインチ</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gk/sx/wl/gksxwlnkswip3cxd21fngup5jc0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フィールドに値を入力します。</font><font style="vertical-align: inherit;">たとえば、プロファイル名を入力できます。テストスイッチプロファイル、説明-任意のテキスト、デバイスタイプ-スイッチ、ベンダーID-任意のテキスト。</font><font style="vertical-align: inherit;">「デバイスタイプ」は、デバイスのアイコンとユーザーインターフェイスに影響します。</font><font style="vertical-align: inherit;">リストに表示されるデバイスのタイプはそれほど多くありません（たとえば、ワインセラー-ワインキャビネットなどのエキゾチックなデバイスはあります）。そのため、デバイスが見つからない場合でも、気が遠くなることはなく、最も近いデバイスを選択してください。</font><font style="vertical-align: inherit;">最後の画面（ダッシュボードコントロール）では、何も変更できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロファイルを作成した後、右上の「プロジェクトにデバイスプロファイルを追加」ボタンをクリックすることを忘れないでください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/py/_m/ou/py_mouuxfu6aqpzsuhypzlwxhau.png"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要：直接接続されているすべてのデバイスにヘルスチェックが必要です。</font><font style="vertical-align: inherit;">それをデバイスプロファイルに追加します。&nbsp;</font></font><br>
</li>
<li>  « »   : Switch, Health Check.<br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、認証プロファイル（オンボーディングプロファイル）を追加します。つまり、このプロファイルでは、最初に接続してログインしたときに表示される画面をカスタマイズできます。名前と3桁の数字を入力します。現時点では、他の2つの画面をスキップできます。最後の画面で、デバイスのボタンを押して、確認オプション-ボタン確認-を選択します。このマニュアルでは、ボタンが内蔵されたボードを入手したと想定しています。突然ボタンがなくなった場合（たとえば、別のESPモジュールを使用している場合）は、認証なしでオプションを選択できます。これはJust Worksと呼ばれます。つまり、質問せずに「ただ機能する」だけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、前の例と同様に、「デバイスのオンボーディングをプロジェクトに追加」ボタンをクリックすることを忘れないでください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_4/8w/k1/_48wk1mewseukstfc4rbvdjx8qw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あとは、[展開]ボタンをクリックするだけです。</font><font style="vertical-align: inherit;">その後、SmartThingsアプリケーションでデバイスを表示できますが、開発者モードでのみ表示されます。</font><font style="vertical-align: inherit;">デプロイがプッシュされず、「モデル名を追加してください」と書かれている場合-これは、デバイスオンボーディングIDを指定していないことを意味し、下のページを下にスクロールして実行します-任意の名前を入力します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l1/cc/pr/l1ccprru9d4xx-2onzisikmuhlk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、電話で仮想デバイスのテストを開始できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のステップ全体がビデオで詳細に示されています。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/0KLJNC2nj5M" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラウドにデバイスを登録する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際のハードウェアで作業を開始する前に、何か他のことをする必要があります。 [Deploy]ボタンを押すと、画面の表示が異なります。そこに新しい[Device Identity]フィールドが表示されます。&nbsp; </font></font><br>
<img src="https://habrastorage.org/webt/ow/hj/tk/owhjtkpdu8stli8nbv5hykchulo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SmartThingsクラウドでデバイスを認証するには、シリアル番号と公開鍵を入力する必要があります（ED25519署名スキームを使用）。これは簡単です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例は、SDKのツールを使用してED25519キーのペアを作成する方法を示しています。</font><font style="vertical-align: inherit;">プログラムの結果として、</font><b><font style="vertical-align: inherit;">tools / keygen / linux / output_ {serialNumber}フォルダーに</font></b><font style="vertical-align: inherit;">ある</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">device_info.json</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルを取得し</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
keygenのLinuxバージョンは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">st-iot-device-sdk-c-reference / iot-core / tools / keygen / linux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">st-device-sdk-c / tools / keygen / linuxにあります</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストデバイスのシリアル番号は、STDK + [MNID]形式+英数字形式（8文字）でランダムに生成されます。</font><font style="vertical-align: inherit;">MNIDは、アカウントの管理セクションの開発者プロファイルで確認できます。&nbsp;</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f6/6b/tq/f66btqfqggupzu83olz6lbaru6c.png" width="300"><br>
<br>
<img src="https://habrastorage.org/webt/qv/1k/p0/qv1kp0xha-it8b8xnyaa4hj2fe8.png" width="300"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、英数字部分を生成するには、keygenパラメーターとしてMNID（4文字）を入力する必要があります。</font><font style="vertical-align: inherit;">以下の例では、MNIDはfJ * cです。</font></font><br>
<br>
<pre><code class="bash hljs">
&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-built_in">cd</span> ~/Workspace/st-iot-device-sdk-c-ref/iot-core/tools/keygen<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;./stdk-keygen -m fJ*c<font></font>
&nbsp;&nbsp;&nbsp; Go Device Identity of Developer Workspace.<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Serial Number:<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;┌──────────┬──────────┐<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;│ STDKfJ*c&nbsp; &nbsp; │ abed**5c   │<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;└──────────┴──────────┘<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;Public Key:<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;waGgyjWIvHhF1LU***FG2hx/4u***ADFHr/ry0j5jbk=<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
keygen発行から「abed ** 5c」をコピーし、[Device Identity Registration]セクションのXXXXXXXXフィールドに貼り付けます。</font><font style="vertical-align: inherit;">公開鍵の入力を求めるウィンドウが表示されます。</font></font><br>
<img src="https://habrastorage.org/webt/wv/bd/ft/wvbdftti3tqz7qug9us-jphddq8.png" width="500"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
keygen発行から公開キーをコピーし（この例では「waGgyjWIvHhF1LU *** FG2hx / 4u *** ADFHr / ry0j5jbk =」）、[デバイスの公開キー]フィールドに貼り付けます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gx/wn/60/gxwn602ru15zwlvouhg68zo8918.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ2.デバイスのファームウェア</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスにダウンロードするコードについて話します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファームウェアの例は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">st-device-sdk-c-ref / apps / esp8266 /フォルダーにあります</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">st_switchの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例に興味があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発者のオフィスにあるデバイスの概要ウィンドウで</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onboarding_profile.json</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">ダウンロードし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o5/he/mn/o5hemnlglw1ak1cu134aqeka4sm.png"><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンロードした</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onboarding_profile.json</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">をアプリケーションのディレクトリ（この場合は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apps / esp8266 / st_switch / main）に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コピーします</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~/Workspace/st-device-sdk-c-ref/apps/esp8266/st_switch/main/<font></font>
cp ~/Downloads/onboarding_profile.json .<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのようなファイルの例はすでにあります-それをあなたのものに置き換えてください。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同様に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">device_info.json</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">を、デバイス固有の情報が配置さ</font><font style="vertical-align: inherit;">れている</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tools / keygen / linux / output_ {serialNumber}フォルダー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から同じフォルダー</font><font style="vertical-align: inherit;">にコピーし</font><font style="vertical-align: inherit;">、既存のファイルを置き換えます。</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~/Workspace/st-device-sdk-c-ref/iot-core/tools/keygen/linux/<font></font>
cp output_{serialNumber}/device_info.json ~/Workspace/st-device-sdk-c-ref/apps/esp8266/st_switch/main/</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このファイルには、キーとシリアル番号に加えて、「firmwareVersion」という行があります。これは、プログラムのバージョンに置き換えることができます。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次に、プログラムをアセンブルしてフラッシュします。</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~/Workspace/st-device-sdk-c-ref<font></font>
./build.sh esp8266 st_switch<font></font>
./build.sh esp8266 st_switch flash<font></font>
./build.sh esp8266 st_switch monitor</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または同じですが、短くなります：</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ~/Workspace/st-device-sdk-c-ref<font></font>
./build.sh esp8266 st_switch flash monitor</code></pre><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
！</font><font style="vertical-align: inherit;">プログラムをフラッシュできない場合-ほとんどの場合、ESP8266ボードをプログラミングモードにするのを忘れています。</font><font style="vertical-align: inherit;">これは通常、ボード自体のボタンを押すことによって行われます。</font><font style="vertical-align: inherit;">たとえば、Wi-Fi Troykaモジュールは、PROGボタンを押したまま、RESETボタンを押して離すことで変換できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファームウェアをダウンロードしたら、ボードを再起動することを忘れないでください。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ3.電話からの接続と制御</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スマートフォンのSmartThingsアプリでデベロッパーモードをオンにします。方法</font><font style="vertical-align: inherit;">は公式ウェブサイトに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記載さ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れていますが、言葉で説明する方が簡単です。「ギア」から設定を入力し、「SmartThings Details」ボタンを20秒間押します。 「開発者モード」メニューが下に表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/di/vs/hs/divshsyn6jnwbmaox3t_mkpaebe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバイスがSmartThingsアプリケーションのリストに表示されます。アプリケーションを起動し、プラスボタンをクリックして[デバイスを追加]をクリックします。ベンダーリストの最後までスクロールし、「My Testing Devices」アイコンを確認します。それをクリックして、デバイスを選択します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_o/ks/pa/_okspakmd1pndm_lh-xpbeehyw8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、すでに開発者モードをアクティブにしてデバイスをオンにしている場合は、この特定のデバイスを追加するためのポップアップメニューが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接続</font><i><font style="vertical-align: inherit;">が開始されます</font></i><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8n/by/pd/8nbypdf-00xmksrlukpvetjlv2m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SmartThingsアプリケーションからデバイスを管理します。&nbsp;</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wi-Fiのパスワードがまだわからないため、最初はデバイスがアクセスポイントとして表示されます。</font><font style="vertical-align: inherit;">接続プロセス中に、デバイスが接続するネットワークを指定します。</font><font style="vertical-align: inherit;">非表示のアクセスポイントがある場合、ESPはそれにアクセスできません。そのため、オープンポイントを選択してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果は次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/--/pw/ne/--pwnex-v3o9iewlsmw7xk-lps8.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例（</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">st-switch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）では、ボード自体のボタンを押して、ボードの組み込みLEDを制御します。</font><font style="vertical-align: inherit;">ご覧のとおり、この例では、追加の周辺機器は必要なく、ESP8266ボードのみが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、モバイルアプリケーションのコントロールパネルのボタンを使用してデバイスをオン/オフにすることもできます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nz/ze/-7/nzze-7ywppruvlqiafqpz4-xgew.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、物理的なボタンを押すと、アプリケーションの電球のステータスも更新されます。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スマートライトの例</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スマートスイッチの例を実行したら、少し複雑にしてみましょう。</font><font style="vertical-align: inherit;">RGB LEDがあり、外部ボタンのオン/オフを切り替え、アプリケーションで色を選択します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">鉄</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接続スキームはシンプルになります：</font></font><br>
<img src="https://habrastorage.org/webt/sv/xh/cf/svxhcfrv9zn7brswyuebeh_jd9o.png" width="500"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回路図も害はありません：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1z/gu/8v/1zgu8vamare3efr_qqtqt_s6bqa.png" width="500"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソース（st-device-sdk-c-ref / apps / esp8266 / st_lampにあります）を見ると、接続は次のようになります：</font><font style="vertical-align: inherit;">
結論に従って再割り当てできますお手持ちのボードのモデルです。</font><font style="vertical-align: inherit;">ボードには1つの表記法（D1、D2 ...）があり、コードには別の表記法がありますが、これはボードのドキュメントを見るだけで簡単に理解できます。</font></font><br>
<br>
<code>#define GPIO_OUTPUT_NOTIFICATION_LED 2<br>
#define GPIO_INPUT_BUTTON 5<br>
#define GPIO_OUTPUT_COLORLED_R 16<br>
#define GPIO_OUTPUT_COLORLED_G 14<br>
#define GPIO_OUTPUT_COLORLED_B 12<br>
#define GPIO_OUTPUT_COLORLED_0 13&nbsp;</code><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソフトウェア部分</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソフトウェアの部分によると、いくつかのステップを変更します：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能を追加するときは、スイッチ、スイッチレベル、カラーコントロール、ヘルスチェックを指定する必要があります。</font><font style="vertical-align: inherit;">そこにあるデバイスの種類-ライト。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例と同じフォルダーにあるファームウェアの例を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">取り上げ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">これは</font><b><font style="vertical-align: inherit;">st_lamp</font></b><font style="vertical-align: inherit;">と呼ばれ</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。&nbsp;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションのインターフェースは次の</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r9/qh/d_/r9qhd_lnaxlrnd5qcxonqzu2k70.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ようになります。実際の動作-もう一度GIF：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cx/se/xy/cxsexydnzipoeqmkj3n7jq9x4iu.gif"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、すぐに使える例があります。</font><font style="vertical-align: inherit;">接続、認証、デバイスインターフェイスに関連するすべてのコードが既に完了していることがわかります。</font><font style="vertical-align: inherit;">SmartThingsの例は、どのハードウェアデバイスにも関連付けられていないという点で価値があり、スマートホームを開発している場合、2k20で必要なプラットフォーム機能を監視および評価できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g8/kt/h0/g8kth04siprq-9s2uwlli2fp6ae.jpeg" align="left"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tatyana Volkova-Samsung IT AcademyのInternet of Thingsトラックカリキュラムの著者、Samsung Research Centerの企業の社会的責任プログラムのスペシャリスト</font></font><br>
</i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja489822/index.html">セルオートマトンを使用して疑似乱数を生成する：ルール30</a></li>
<li><a href="../ja489824/index.html">知っておきたい7つのオープンソースクラウドセキュリティ監視ツール</a></li>
<li><a href="../ja489826/index.html">JavaScriptのMathオブジェクトの変更可能なメソッドについて</a></li>
<li><a href="../ja489828/index.html">Node.jsでのGeoJSONの操作：実用的な入門</a></li>
<li><a href="../ja489832/index.html">人工原子ビーズ：大環状分子による操作</a></li>
<li><a href="../ja489836/index.html">未来のライダー：128ではなく11,000レーザー</a></li>
<li><a href="../ja489838/index.html">SSR（サーバー側レンダリング）を使用したNuxtサーバー側メモリリーク</a></li>
<li><a href="../ja489840/index.html">ドライブの構造：ハードドライブ</a></li>
<li><a href="../ja489844/index.html">一部のJavaデコンパイラーの比較分析</a></li>
<li><a href="../ja489848/index.html">同僚/従業員が@％§のように振る舞うのはなぜですか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>