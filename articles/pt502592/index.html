<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ‚Äçüíª ‚õÖÔ∏è üîì Neomorfismo usando SwiftUI. Parte 1 üë©üèΩ‚Äçüè´ üåø üë™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sauda√ß√£o, Khabrovites! Antecipando o lan√ßamento do curso avan√ßado ‚ÄúIOS Developer‚Äù, preparamos outra tradu√ß√£o interessante.
 
 
 
 O design n√£o m√≥rfico...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Neomorfismo usando SwiftUI. Parte 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/502592/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sauda√ß√£o, Khabrovites! </font><font style="vertical-align: inherit;">Antecipando o lan√ßamento do curso avan√ßado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúIOS Developer‚Äù,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> preparamos outra tradu√ß√£o interessante.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/nr/7d/ml/nr7dmlj7ru0rbnazf8ce8wox3ra.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O design n√£o m√≥rfico √© talvez a tend√™ncia mais interessante dos √∫ltimos meses, embora, na verdade, a Apple o tenha usado como motivo de design na WWDC18. </font><font style="vertical-align: inherit;">Neste artigo, veremos como voc√™ pode implementar um design n√£o m√≥rfico usando o SwiftUI, por que voc√™ pode fazer isso e, o mais importante, como refinar esse design para aumentar sua acessibilidade.</font></font><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importante</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : O neomorfismo - tamb√©m chamado de neuromorfismo - tem s√©rias conseq√º√™ncias para a acessibilidade. Portanto, apesar da tenta√ß√£o de ler a primeira parte deste artigo e pular o resto, pe√ßo que voc√™ leia o artigo at√© o final e estude as vantagens e desvantagens para que voc√™ possa ver toda a imagem. .</font></font><br>
</blockquote><a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/z3tJdxwlo_Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No√ß√µes b√°sicas de neomorfismo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de avan√ßarmos para o c√≥digo, quero descrever brevemente dois princ√≠pios b√°sicos dessa dire√ß√£o no design, pois eles ser√£o relevantes √† medida que avan√ßamos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O neomorfismo usa brilho e sombra para determinar as formas dos objetos na tela.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O contraste tende a diminuir; </font><font style="vertical-align: inherit;">n√£o s√£o usados ‚Äã‚Äãbranco ou preto completamente, o que permite destacar realces e sombras.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado final √© uma apar√™ncia que lembra ‚Äúpl√°stico extrudado‚Äù - um design de interface do usu√°rio que certamente parece novo e interessante sem esbarrar nos olhos. </font><font style="vertical-align: inherit;">N√£o posso deixar de repetir mais uma vez que reduzir o contraste e usar sombras para destacar formas afeta seriamente a acessibilidade, e voltaremos a isso mais tarde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, ainda acho que o tempo gasto aprendendo sobre neomorfismo no SwiftUI vale a pena - mesmo que voc√™ n√£o o use em seus pr√≥prios aplicativos, √© como um kata para escrever c√≥digo para ajudar a aprimorar suas habilidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo bem, chega de conversa fiada - vamos para o c√≥digo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Construindo um mapa n√£o m√≥rfico</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O ponto de partida mais simples √© criar um mapa n√£o m√≥rfico: um ret√¢ngulo arredondado que conter√° algumas informa√ß√µes. A seguir, veremos como podemos transferir esses princ√≠pios para outras partes do SwiftUI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar criando um novo projeto iOS usando o modelo de aplicativo Single View. Certifique-se de usar o SwiftUI para a interface do usu√°rio e depois nomeie o projeto Neumorfismo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dica: se voc√™ tiver acesso √† pr√©-visualiza√ß√£o do SwiftUI no Xcode, recomendo que voc√™ o ative imediatamente - ser√° muito mais f√°cil experimentar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Come√ßaremos definindo uma cor que represente um tom cremoso. </font><font style="vertical-align: inherit;">Isso n√£o √© cinza puro, mas sim uma sombra muito sutil que adiciona um pouco de calor ou frescor √† interface. </font><font style="vertical-align: inherit;">Voc√™ pode adicion√°-lo ao diret√≥rio de ativos, se desejar, mas agora √© mais f√°cil fazer isso no c√≥digo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adicione isso </font></font><code>Color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fora da estrutura </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Color</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> offWhite = <span class="hljs-type">Color</span>(red: <span class="hljs-number">225</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">225</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">235</span> / <span class="hljs-number">255</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sim, √© quase branco, mas √© escuro o suficiente para fazer o branco parecer um brilho quando precisamos dele. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora podemos preencher o corpo </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fornecendo-o </font></font><code>ZStack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que ocupa a tela inteira, usando nossa nova cor quase branca para preencher todo o espa√ßo:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span>: <span class="hljs-title">View</span> </span>{
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-type">Color</span>.offWhite<font></font>
        }<font></font>
        .edgesIgnoringSafeArea(.all)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para representar nosso mapa, usaremos um ret√¢ngulo arredondado na resolu√ß√£o de 300x300 para torn√°-lo bonito e claro na tela. </font><font style="vertical-align: inherit;">Ent√£o adicione isso </font></font><code>ZStack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, sob a cor:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">25</span>)<font></font>
    .frame(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por padr√£o, ser√° preto, mas, para a implementa√ß√£o do neomorfismo, queremos reduzir drasticamente o contraste, substituindo-o pela mesma cor que usamos no fundo, tornando a forma invis√≠vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o mude assim:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">25</span>)<font></font>
    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
    .frame(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>)</code></pre><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um ponto importante:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> determinamos a forma usando sombras, uma escura e uma clara, como se a luz emitisse raios do canto superior esquerdo da tela.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O SwiftUI nos permite aplicar modificadores v√°rias vezes, o que facilita a implementa√ß√£o do neomorfismo. </font><font style="vertical-align: inherit;">Adicione os dois modificadores a seguir ao seu ret√¢ngulo arredondado:</font></font><br>
<br>
<pre><code class="swift hljs">.shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
.shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eles representam o deslocamento da sombra escura no canto inferior direito e o deslocamento da sombra clara no canto superior esquerdo. </font><font style="vertical-align: inherit;">A sombra clara √© vis√≠vel porque usamos um fundo quase branco e agora o mapa se torna vis√≠vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Escrevemos apenas algumas linhas de c√≥digo, mas j√° temos um mapa n√£o m√≥rfico - espero que voc√™ concorde que o SwiftUI surpreendentemente facilite o processo!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/_z/0h/he_z0hdu4zlhtftzxwsvxo5k9t8.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criando um bot√£o n√£o m√≥rfico simples</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De todos os elementos de uma interface do usu√°rio, o neomorfismo representa um risco bastante baixo para os cart√µes - se a interface do usu√°rio dentro de seus cart√µes for clara, o cart√£o poder√° n√£o ter uma borda clara e isso n√£o afetar√° a acessibilidade. Os bot√µes s√£o outra quest√£o, porque s√£o projetados para interagir, portanto, reduzir o contraste pode fazer mais mal do que bem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos lidar com isso criando nosso pr√≥prio estilo de bot√£o, pois √© dessa maneira que o SwiftUI permite distribuir as configura√ß√µes de bot√µes em muitos lugares. Isso √© muito mais conveniente do que adicionar muitos modificadores a cada bot√£o que voc√™ criar - podemos simplesmente definir o estilo uma vez e us√°-lo em muitos lugares.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos definir um estilo de bot√£o que ficar√° vazio: o SwiftUI nos fornecer√° o r√≥tulo do bot√£o, que pode ser texto, imagem ou outra coisa, e o enviaremos de volta sem altera√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adicione esta estrutura em algum lugar externo </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SimpleButtonStyle</span>: <span class="hljs-title">ButtonStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {<font></font>
        configuration.label<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este </font></font><code>configuration.label</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© o conte√∫do do bot√£o, e em breve adicionaremos outra coisa. </font><font style="vertical-align: inherit;">Primeiro, vamos definir um bot√£o que o utilize para que voc√™ possa ver como o design est√° evoluindo:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Button</span>(action: {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Button tapped"</span>)<font></font>
}) {<font></font>
    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
        .foregroundColor(.gray)<font></font>
}<font></font>
.buttonStyle(<span class="hljs-type">SimpleButtonStyle</span>())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ n√£o ver√° nada de especial na tela, mas podemos corrigi-lo adicionando nosso efeito n√£o m√≥rfico ao estilo do bot√£o. Desta vez, n√£o usaremos um ret√¢ngulo arredondado, porque para √≠cones simples, o c√≠rculo √© melhor, mas precisamos adicionar um pouco de recuo para que a √°rea de clique do bot√£o seja grande e bonita. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Altere seu m√©todo </font></font><code>makeBody()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adicionando um pouco de recuo e, em seguida, colocando nosso efeito n√£o m√≥rfico como pano de fundo para o bot√£o:</font></font><br>
<br>
<pre><code class="swift hljs">configuration.label<font></font>
    .padding(<span class="hljs-number">30</span>)<font></font>
    .background(<font></font>
        <span class="hljs-type">Circle</span>()<font></font>
            .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
    )</code></pre><br>
<img src="https://habrastorage.org/webt/nm/-x/yp/nm-xyp4klovncqtomhthav-za7y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso nos aproxima o suficiente do efeito desejado, mas se voc√™ executar o aplicativo, ver√° que, na pr√°tica, o comportamento ainda n√£o √© perfeito - o bot√£o n√£o reage visualmente quando pressionado, o que parece estranho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para corrigir isso, precisamos ler a propriedade </font></font><code>configuration.isPressed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dentro do nosso estilo de bot√£o personalizado, que informa se o bot√£o est√° pressionado ou n√£o. Podemos usar isso para melhorar nosso estilo e fornecer alguma indica√ß√£o visual de se o bot√£o est√° pressionado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar com um simples: usaremos os </font></font><code>Group</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bot√µes como plano de fundo e, em seguida, verificaremos </font></font><code>configuration.isPressed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e retornaremos um c√≠rculo plano se o bot√£o for pressionado, ou nosso atual c√≠rculo escuro, caso contr√°rio:</font></font><br>
<br>
<pre><code class="swift hljs">configuration.label<font></font>
    .padding(<span class="hljs-number">30</span>)<font></font>
    .background(<font></font>
        <span class="hljs-type">Group</span> {
            <span class="hljs-keyword">if</span> configuration.isPressed {
                <span class="hljs-type">Circle</span>()<font></font>
                    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-type">Circle</span>()<font></font>
                    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
            }<font></font>
        }<font></font>
    )</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como um </font></font><code>isPressed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≠rculo com uma cor quase branca √© usado </font><font style="vertical-align: inherit;">no estado </font><font style="vertical-align: inherit;">, ele torna nosso efeito invis√≠vel quando o bot√£o √© pressionado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aviso: devido ao modo como o SwiftUI calcula as √°reas toc√°veis, involuntariamente tornamos a √°rea de clique do nosso bot√£o muito pequena - agora voc√™ precisa tocar na pr√≥pria imagem e n√£o no design n√£o morfol√≥gico ao seu redor. </font><font style="vertical-align: inherit;">Para corrigir isso, adicione um modificador </font></font><code>.contentShape(Circle())</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">imediatamente depois </font></font><code>.padding(30)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, for√ßando o SwiftUI a usar todo o espa√ßo dispon√≠vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, podemos criar o efeito da concavidade artificial invertendo a sombra - copiando dois modificadores </font></font><code>shadow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do efeito base, trocando os valores X e Y por branco e preto, como mostrado aqui:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">if</span> configuration.isPressed {
    <span class="hljs-type">Circle</span>()<font></font>
        .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-type">Circle</span>()<font></font>
        .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estime o resultado.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bk/nz/gv/bknzgvars2r0e4anrdqngo12wr4.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crie sombras internas para um clique no bot√£o</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nosso c√≥digo atual, em princ√≠pio, j√° funciona, mas as pessoas interpretam o efeito de maneira diferente - alguns o veem como um bot√£o c√¥ncavo, outros veem que o bot√£o ainda n√£o foi pressionado, apenas a luz vem de um √¢ngulo diferente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A id√©ia da melhoria √© criar uma sombra interna que simule o efeito de pressionar o bot√£o para dentro. Isso n√£o faz parte do kit SwiftUI padr√£o, mas podemos implement√°-lo facilmente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criar uma sombra interna requer dois gradientes lineares, e eles ser√£o apenas o primeiro de muitos gradientes internos que usaremos neste artigo; portanto, adicionaremos imediatamente uma pequena extens√£o auxiliar para </font></font><code>LinearGradient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simplificar a cria√ß√£o de gradientes padr√£o:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">LinearGradient</span> </span>{
    <span class="hljs-keyword">init</span>(<span class="hljs-number">_</span> colors: <span class="hljs-type">Color</span>...) {
        <span class="hljs-keyword">self</span>.<span class="hljs-keyword">init</span>(gradient: <span class="hljs-type">Gradient</span>(colors: colors), startPoint: .topLeading, endPoint: .bottomTrailing)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com isso, podemos simplesmente fornecer uma lista vari√°vel de cores para recuperar seu gradiente linear na dire√ß√£o diagonal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, sobre o ponto importante: em vez de adicionar duas sombras invertidas ao c√≠rculo pressionado, vamos sobrepor um novo c√≠rculo com um borr√£o (tra√ßo) e depois aplicar outro c√≠rculo com um gradiente como m√°scara. </font><font style="vertical-align: inherit;">Isso √© um pouco mais complicado, mas deixe-me explicar aos poucos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nosso c√≠rculo base √© nosso c√≠rculo atual com efeito neom√≥rfico, preenchido com uma cor quase branca.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colocamos um c√≠rculo em cima dele, emoldurado por uma moldura cinza, e desfocamos um pouco para suavizar as bordas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em seguida, aplicamos uma m√°scara com outro c√≠rculo a esse c√≠rculo sobreposto no topo, desta vez preenchido com um gradiente linear.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando voc√™ aplica uma vista como m√°scara a outra, o SwiftUI usa o canal alfa da m√°scara para determinar o que deve ser exibido na vista base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, se desenharmos um tra√ßado cinza emba√ßado e o mascararmos com um gradiente linear de preto para transparente, o tra√ßado emba√ßado ficar√° invis√≠vel de um lado e aumentar√° gradualmente do outro - obteremos um gradiente interno suave. Para tornar o efeito mais pronunciado, podemos mudar ligeiramente os c√≠rculos sombreados nas duas dire√ß√µes. Depois de experimentar um pouco, descobri que desenhar uma sombra clara com uma linha mais grossa que uma escura ajuda a maximizar o efeito.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lembre-se de que duas sombras s√£o usadas para criar uma sensa√ß√£o de profundidade no neomorfismo: uma clara e outra escura; portanto, adicionaremos esse efeito da sombra interna duas vezes com cores diferentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mude o c√≠rculo da </font></font><code>configuration.isPress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seguinte maneira:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Circle</span>()<font></font>
    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
    .overlay(<font></font>
        <span class="hljs-type">Circle</span>()<font></font>
            .stroke(<span class="hljs-type">Color</span>.gray, lineWidth: <span class="hljs-number">4</span>)<font></font>
            .blur(radius: <span class="hljs-number">4</span>)<font></font>
            .offset(x: <span class="hljs-number">2</span>, y: <span class="hljs-number">2</span>)<font></font>
            .mask(<span class="hljs-type">Circle</span>().fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.black, <span class="hljs-type">Color</span>.clear)))<font></font>
    )<font></font>
    .overlay(<font></font>
        <span class="hljs-type">Circle</span>()<font></font>
            .stroke(<span class="hljs-type">Color</span>.white, lineWidth: <span class="hljs-number">8</span>)<font></font>
            .blur(radius: <span class="hljs-number">4</span>)<font></font>
            .offset(x: -<span class="hljs-number">2</span>, y: -<span class="hljs-number">2</span>)<font></font>
            .mask(<span class="hljs-type">Circle</span>().fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.clear, <span class="hljs-type">Color</span>.black)))<font></font>
    )</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ executar o aplicativo novamente, ver√° que o efeito de pressionar um bot√£o √© muito mais pronunciado e parece melhor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1r/f1/ha/1rf1hanjn-9zhj0xhglha6e4lr0.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Com isso, a primeira parte da tradu√ß√£o chegou ao fim. </font><font style="vertical-align: inherit;">Nos pr√≥ximos dias, publicaremos a continua√ß√£o e agora convidamos voc√™ a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aprender mais sobre o pr√≥ximo curso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt502576/index.html">Apple Watch de baixo custo: como eles queriam me "criar" no Avito e Yulia</a></li>
<li><a href="../pt502578/index.html">Sobre a revolu√ß√£o nos radares, prazos e entrada na quarta dimens√£o</a></li>
<li><a href="../pt502580/index.html">Confirmar em c√≥digo aberto como desenvolvedor? Lidamos com os direitos (oi, nginx)</a></li>
<li><a href="../pt502584/index.html">O fabricante Mi Band lan√ßar√° uma m√°scara transparente auto-desinfetante para prote√ß√£o contra COVID-19</a></li>
<li><a href="../pt502588/index.html">A incr√≠vel hist√≥ria do PowerPoint</a></li>
<li><a href="../pt502594/index.html">7 raz√µes pelas quais os projetos da web n√£o terminam e como lidar com isso</a></li>
<li><a href="../pt502596/index.html">Cursos educacionais em quarentena gratuitos: design</a></li>
<li><a href="../pt502598/index.html">Semana 21 de Seguran√ßa: Vulnerabilidade no Servi√ßo de Impress√£o do Windows</a></li>
<li><a href="../pt502604/index.html">Uma introdu√ß√£o ao TLS para Patrik Patrick (Parte 1)</a></li>
<li><a href="../pt502608/index.html">Como come√ßamos o mercado de aplicativos no servi√ßo SaaS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>