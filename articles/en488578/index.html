<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üè¥ üë®‚Äçüë©‚Äçüëß ü•© Red-black trees in javascript üë®‚Äçüç≥ üç™ üèÑ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi Habr! Recently studied red-black trees. I tried to visualize the details of the operation of the insertion and deletion algorithms on d3.js. I hope...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Red-black trees in javascript</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488578/"><img src="https://habrastorage.org/webt/g1/ma/0y/g1ma0ylwbmox0fkw3hgmj1my34q.jpeg" alt="image" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hi Habr! </font><font style="vertical-align: inherit;">Recently studied red-black trees. </font><font style="vertical-align: inherit;">I tried to visualize the details of the operation of the insertion and deletion algorithms on d3.js. </font><font style="vertical-align: inherit;">I hope the result will help save some time for those who study algorithms in javascript. </font><font style="vertical-align: inherit;">You can see it </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">The source code of the implementation from which I relied on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Under cat short details.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Search for existing solutions</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main goal of the idea was to understand the implementation of the algorithm and visualize it. The first step was to look for an implementation with full and understandable explanations and js code. In the search process, it was saddened that the authors at times unfinished the source, for example, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">there</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is an insertion algorithm, but no deletion. Or they do visualization </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">like this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , but they don‚Äôt provide links to the source. Then I found </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> excellent article. But at least kill, I still can‚Äôt understand why the author inserted the code with pictures and did not give a link to the source code upon request in comments. There is also an </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npm red-black-tree package</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , the entire source code of which is: 'in progress ...' in readme. Also found a popular </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">implementation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> red-black trees on js, on which a lot of packages and millions of downloads per week depend, but the code there is five years old.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prioritization and task specification</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Porakinin brain, I decided that the readability and comprehensibility of the code for educational purposes is a priority, so I took as a basis the article that was mentioned at the beginning, and not the npm package. </font><font style="vertical-align: inherit;">The implementation turned out to be more convenient and visual in terms of reading code. </font><font style="vertical-align: inherit;">In the article, the author begins with a binary tree, then extends it to red-black. </font><font style="vertical-align: inherit;">For visualization, it seems quite logical to inherit from a red-black tree and make an animated tree. </font><font style="vertical-align: inherit;">Therefore, having re-typed the code and making sure that it works, I started drawing an animated tree. </font><font style="vertical-align: inherit;">D3.js. comes to the rescue. </font><font style="vertical-align: inherit;">There are wonderful transitions that allow you to move elements to the right positions and smoothly transform them into suitable states, as the algorithm works.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The meaning of red-black trees</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I thought for a long time, as if in a simple way, to explain what's what. </font><font style="vertical-align: inherit;">Probably, all the same, you need to read the theory from different sources. </font><font style="vertical-align: inherit;">As the saying goes: "You won‚Äôt throw words out of a song." </font><font style="vertical-align: inherit;">But simple summary conclusions can be formulated in a nutshell. </font><font style="vertical-align: inherit;">The bottom line is that there are several cases when inserting and deleting an element, depending on which ‚Äúgrandfathers‚Äù, ‚Äúdads‚Äù, ‚Äúuncles‚Äù, ‚Äúchildren‚Äù, ‚Äúbrothers‚Äù repaint and shift (turn) to the side where there are fewer elements . </font><font style="vertical-align: inherit;">As a result, it never happens that the path from the farthest node to the root node is too long, so the search for the desired element in such a structure is very fast. </font><font style="vertical-align: inherit;">Well, this is offset by the complexity of insertion and deletion.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en488568/index.html">Do neural networks dream of electric money?</a></li>
<li><a href="../en488570/index.html">How the US Secret Service confused cyberpunk RPG with a textbook for hackers</a></li>
<li><a href="../en488572/index.html">Unity Analyzers Now Open-Source</a></li>
<li><a href="../en488574/index.html">Students write Uart driver for STM32F411</a></li>
<li><a href="../en488576/index.html">Armenian eco-movement: how a simple wall calendar grew into a large anti-plastic campaign</a></li>
<li><a href="../en488582/index.html">Creating a Smart Library Demo Using Intel Distribution of the OpenVINO toolkit</a></li>
<li><a href="../en488584/index.html">What you will want to know before writing an application for Apple Watch: our experience</a></li>
<li><a href="../en488586/index.html">The Ember Times - Issue 135</a></li>
<li><a href="../en488588/index.html">C ++ 20 approved! What to expect and what to prepare for developers in C ++ 23</a></li>
<li><a href="../en488590/index.html">FOSS News No. 3 - Review of free and open source news for February 10-16, 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>