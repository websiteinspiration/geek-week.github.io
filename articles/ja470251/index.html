<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📏 📂 🛀🏽 Flutterでデスクトップアプリケーションを実行した方法（+ボーナス） 🍺 🎬 🎎</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="最近、Flutterの次のリリース（1.9）がリリースされたというニュースに気づきました。これは、Webアプリケーションの早期サポートを含むさまざまな利点を約束します。
 
 職場では、React Nativeでモバイルアプリケーションを開発していますが、好奇心を持ってFlutterを調べています。...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Flutterでデスクトップアプリケーションを実行した方法（+ボーナス）</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/470251/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最近、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flutter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の次の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">リリース（1.9）がリリースされた</font></a><font style="vertical-align: inherit;">というニュース</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">に気づきました</font></a><font style="vertical-align: inherit;">。これは、Webアプリケーションの早期サポートを含むさまざまな利点を約束します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
職場では、React Nativeでモバイルアプリケーションを開発していますが、好奇心を持ってFlutterを調べています。知らない人のために：FlutterではAndroidとiOSのアプリケーションをすでに作成できます。Webアプリケーションのサポートはリリースの準備が進んでおり、デスクトップをサポートする計画もあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは「すべてを統治する1つの指輪」です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数日かけて、どのようなアプリケーションを作成できるか考えたので、アスタリスク付きのタスクを選択することにしました。これらの使い古されたトラックには何が必要ですか？デスクトップ上でスイングして、英雄的に困難を克服してください！今後はほとんど問題は発生しなかったと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アンダーザカット-Flutterツールを使用して通常のReact Nativeプログラマーのタスクをどのように解決したか、およびテクノロジーの一般的な印象についてのストーリー。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/cx/hs/hxcxhsjx7ycplrsm2nhgrq0k8xu.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flutterのどの機能に「触れたい」かを考えて、アプリケーションでは次のようにする必要があると判断しました。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リモートAPIへのリクエスト。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画面間の遷移。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移行アニメーション</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状態マネージャー-reduxまたは類似の何か。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バックエンドの方法がわからないので、サードパーティのオープンAPIを探すことにしました。</font><font style="vertical-align: inherit;">その結果、私はこのリソース</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-XMLとJSON、APIのCBRコース</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に落ち着きました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">さて、ここで最終的にアプリケーションの機能を決定しました。2つの画面があり、メイン画面にはCBR為替レートでの通貨のリストがあります。リストアイテムをクリックすると、詳細情報の画面が開きます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トレーニング</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
チーム</font></font><code>flutter create</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はWindows / Linux用のプロジェクトを作成する方法をまだ知らない</font><font style="vertical-align: inherit;">ので</font><font style="vertical-align: inherit;">（Macのみが現在サポート</font><font style="vertical-align: inherit;">されています。</font><font style="vertical-align: inherit;">このフラグを使用して</font></font><code>--macos</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ください）、</font><font style="vertical-align: inherit;">準備された例がある</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリ</font><font style="vertical-align: inherit;">を使用する必要が</font><font style="vertical-align: inherit;">あります。</font><font style="vertical-align: inherit;">リポジトリのクローンを作成し、そこからフォルダーを取得し、</font></font><code>example</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要に応じて名前を変更して、引き続き作業を行います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デスクトッププラットフォームのサポートはまだ開発中であるため、いくつかの操作を実行する必要があります。</font><font style="vertical-align: inherit;">開発中の機能にアクセスするには、ターミナルで実行します。</font></font><br>
<br>
<pre><code class="bash hljs">flutter channel master<font></font>
flutter upgrade</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、プラットフォームを使用できることをFlutterに伝える必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">flutter config --<span class="hljs-built_in">enable</span>-linux-desktop</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または</font></font><br>
<br>
<pre><code class="bash hljs">flutter config --<span class="hljs-built_in">enable</span>-macos-desktop</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または</font></font><br>
<br>
<pre><code class="bash hljs">flutter config --<span class="hljs-built_in">enable</span>-windows-desktop</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてが順調に進んだ場合、コマンドを</font></font><code>flutter doctor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行すると、同様の結論が表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/g0/up/m0/g0upm0iqiijcj7yrwkrm6h-lwvy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、景色の準備が整い、ホールの観客がいます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レイアウト</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React Nativeの後に最初に目を引くのは、JSXのような特別なマークアップ言語がないことです。 Flutterでは、マークアップとビジネスロジックの両方を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dartで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成する必要があります</font><font style="vertical-align: inherit;">。最初は、これは面倒です：見た目には何もキャッチされず、コードは扱いにくいようであり、これらのブラケットもコンポーネントの最後にあります！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、次のとおりです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ar/qm/iu/arqmiuoau_llzvwuutjszehkbbw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは制限ではありません。間違った場所で1つ削除する価値があり、楽しい（ない）娯楽が保証されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、Flutterのコンポーネントのスタイリング機能により、大きなコンポーネントの場合、エディターの左端からのインデントは非常に速く増加し、それに伴って閉じる括弧の数も増えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この機能は、Flutterではスタイルが同じコンポーネント（より正確には、ウィジェット）であることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React Nativeで3つのボタンを連続して</font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置してコンテナスペースを均等に配置</font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">場合、</font><font style="vertical-align: inherit;">スタイル</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">指定</font></font><code>flexDirection: 'row'</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">してボタン</font></font><code>flex: 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">スタイル</font><font style="vertical-align: inherit;">を追加</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">だけで十分です</font><font style="vertical-align: inherit;">。Flutterには、</font></font><code>Row</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素を連続して配置</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">ための</font><font style="vertical-align: inherit;">個別のコンポーネント</font><font style="vertical-align: inherit;">と、「スケーラビリティ "利用可能なスペースの項目：</font></font><code>Expanded</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、代わりに</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;View style={{<span class="hljs-attr">height</span>: <span class="hljs-number">100</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">300</span>, <span class="hljs-attr">flexDirection</span>: <span class="hljs-string">'row'</span>}}&gt;<font></font>
  &lt;Button title='A' style={{flex:1}}&gt;<font></font>
  &lt;Button title='B' style={{flex:1}}&gt;<font></font>
  &lt;Button title='C' style={{flex:1}}&gt;<font></font>
&lt;/View&gt;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このように書く必要があります：</font></font><br>
<br>
<pre><code class="java hljs">Container(<font></font>
  height: <span class="hljs-number">100</span>,<font></font>
  width: <span class="hljs-number">300</span>,<font></font>
  child: Row(<font></font>
    children: &lt;Widget&gt;[<font></font>
      Expanded(<font></font>
        child: RaisedButton(<font></font>
          onPressed: () {},<font></font>
          child: Text(<span class="hljs-string">'A'</span>),<font></font>
        ),<font></font>
      ),<font></font>
        Expanded(<font></font>
        child: RaisedButton(<font></font>
          onPressed: () {},<font></font>
          child: Text(<span class="hljs-string">'B'</span>),<font></font>
        ),<font></font>
      ),<font></font>
        Expanded(<font></font>
        child: RaisedButton(<font></font>
          onPressed: () {},<font></font>
          child: Text(<span class="hljs-string">'C'</span>),<font></font>
        ),<font></font>
      ),<font></font>
    ],<font></font>
  ),<font></font>
)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もっと冗長でしょ？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または、このコンテナに角の丸いフレームを追加するとします。</font><font style="vertical-align: inherit;">React Nativeでは、スタイルに追加するだけです。</font></font><br>
<br>
<pre><code class="javascript hljs">borderRadius: <span class="hljs-number">5</span>, <span class="hljs-attr">borderWidth</span>: <span class="hljs-number">1</span>, <span class="hljs-attr">borderColor</span>: <span class="hljs-string">'#ccc'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flutterでは、次のようなものをコンテナー引数に追加する必要があります。</font></font><br>
<br>
<pre><code class="java hljs">decoration: BoxDecoration(<font></font>
  borderRadius: BorderRadius.all(Radius.circular(<span class="hljs-number">5</span>)),<font></font>
  border: Border.all(width: <span class="hljs-number">1</span>, color: Color(<span class="hljs-number">0xffcccccc</span>))<font></font>
),</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、最初、私のマークアップは巨大なコードのシートになり、悪魔は彼の足を折るでしょう。</font><font style="vertical-align: inherit;">しかし、すべてがそれほど悪いわけではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、大きなコンポーネントはもちろん分解する必要があります-個別のウィジェットに配置するか、少なくともウィジェットクラスのメソッドに配置します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第2に、VS CodeのFlutterプラグインは非常に役立ちます。上の画像では、角かっこへのコメントはプラグイン自体によって署名されており（それらは削除できません）、角かっこで混乱しないようにします。</font><font style="vertical-align: inherit;">さらに、オート</font></font><code>Ctrl+Shift+I</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォーマット</font><font style="vertical-align: inherit;">ツール-30分後、定期的にクリック</font><font style="vertical-align: inherit;">してコードをフォーマットする</font><font style="vertical-align: inherit;">ことに慣れ</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、第2版のDart言語の構文がはるかに快適になったので、1日の終わりまでにDart言語の使用を既に楽しんでいました。</font><font style="vertical-align: inherit;">珍しい？</font><font style="vertical-align: inherit;">はい。</font><font style="vertical-align: inherit;">しかし、不快ではありません。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APIリクエスト</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
React Nativeでは、一部のAPIからデータを取得するために、通常はに</font></font><code>fetch</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">戻る</font><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">します</font></font><code>Promise</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flutterでも状況は似ています。</font><font style="vertical-align: inherit;">ドキュメントの例を見た後、</font><font style="vertical-align: inherit;">httpパッケージ</font><font style="vertical-align: inherit;">を</font></font><code>pubspec.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><code>package.json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSの世界の</font><font style="vertical-align: inherit;">アナログ</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">に追加し、</font><font style="vertical-align: inherit;">次のようなものを書きました。</font></font><br>
<br>
<pre><code class="java hljs">Future&lt;http.Response&gt; getAnything() {
  <span class="hljs-keyword">return</span> http.get(URL);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オブジェクトの</font></font><code>Future</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">意味はPromiseとよく似ているため、ここではすべてがかなり透過的です。</font><font style="vertical-align: inherit;">まあ、jsonオブジェクトのシリアル化/逆シリアル化では、特別なメソッドを使用したモデルクラスの概念を使用できます</font></font><code>fromJSON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ </font></font><code>toJSON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ご覧ください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画面間の遷移</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私がデスクトップアプリケーションを作成していたという事実にもかかわらず、Flutterの観点からは、どのプラットフォームで回転しているかに違いはありません。</font><font style="vertical-align: inherit;">まあ、つまり、私の場合、これは一般的にそうです-私にはわかりません。</font><font style="vertical-align: inherit;">実際、フラッターアプリケーションが起動されるシステムウィンドウは、スマートフォンの画面と同じです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画面間の遷移は非常に簡単です。画面ウィジェットクラスを作成してから、標準クラスを使用します</font></font><code>Navigator</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も単純なケースでは、次のようになります。</font></font><br>
<br>
<pre><code class="java hljs">RaisedButton(<font></font>
  child: Text(<span class="hljs-string">'Go to Detail'</span>),<font></font>
  onPressed: () {<font></font>
    Navigator.of(context).push&lt;<span class="hljs-keyword">void</span>&gt;(MaterialPageRoute(builder: (context) =&gt; DetailScreen()));<font></font>
  },<font></font>
)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションに複数の画面がある場合は、最初にルートのディクショナリを準備してから、メソッドを使用する方が合理的</font></font><code>pushNamed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">ドキュメントからの小さな例：</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NavigationApp</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">StatelessWidget</span> </span>{
  <span class="hljs-comment">// This widget is the root of your application.</span>
  <span class="hljs-meta">@override</span>
  <span class="hljs-function">Widget <span class="hljs-title">build</span><span class="hljs-params">(BuildContext context)</span> </span>{
    <span class="hljs-keyword">return</span> MaterialApp(<font></font>
            ...<font></font>
      routes: &lt;String, WidgetBuilder&gt;{<font></font>
        <span class="hljs-string">'/a'</span>: (BuildContext context) =&gt; usualNavscreen(),
        <span class="hljs-string">'/b'</span>: (BuildContext context) =&gt; drawerNavscreen(),<font></font>
      }<font></font>
            ...<font></font>
  );<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// AnyWidget</span><font></font>
...<font></font>
onPressed: () {<font></font>
  Navigator.of(context).pushNamed(<span class="hljs-string">'/a'</span>);<font></font>
},<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、画面を切り替えるための特別なアニメーションを準備して、次のようなものを書くことができます：</font></font><br>
<br>
<pre><code class="java hljs">Navigator.of(context).push&lt;<span class="hljs-keyword">void</span>&gt;(ScaleRoute(page: DetailScreen()));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これ</font></font><code>ScaleRoute</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、遷移アニメーションを作成するための特別なクラスです。</font><font style="vertical-align: inherit;">そのようなアニメーションの良い例は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここにあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">国家管理</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションのどの部分からでも一部のデータにアクセスする必要がある場合があります。 React Nativeでは、これらの目的で（ほとんどではないにしても）使用されることがよくあります</font></font><code>redux</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flutterの場合、</font><font style="vertical-align: inherit;">さまざまなアプリケーションアーキテクチャの使用例を示す</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります。Redux、MVC、MVUや、これまで聞いたことがないものもあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの例を少し回って、私はに立ち止まることにしました</font></font><code>Provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、アイデアは非常に単純です。</font></font><code>ChangeNotifier</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データを格納</font><font style="vertical-align: inherit;">するクラスから継承する特別なクラスを作成し、</font><font style="vertical-align: inherit;">このクラスのメソッドを使用して更新し、必要に応じてそこから取得します。詳細については、</font><font style="vertical-align: inherit;">パッケージの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、</font></font><code>pubspec.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パッケージ</font><font style="vertical-align: inherit;">に追加し</font><font style="vertical-align: inherit;">ます</font></font><code>provider</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、Providerクラスを準備します。</font><font style="vertical-align: inherit;">私の場合、それは次のようになります：</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> <span class="hljs-string">'package:flutter/material.dart'</span>;
<span class="hljs-keyword">import</span> <span class="hljs-string">'package:rates_app/models/rate.dart'</span>;<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RateProvider</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ChangeNotifier</span> </span>{<font></font>
  Rate currentrate;<font></font>
<font></font>
  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setCurrentRate</span><span class="hljs-params">(Rate rate)</span> </span>{
    <span class="hljs-keyword">this</span>.currentrate = rate;<font></font>
    notifyListeners();<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは</font></font><code>Rate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-これは私のクラスのモデル通貨（フィールドを持つある</font></font><code>name</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>code</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など）、</font></font><code>currentrate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">選択した通貨を格納されているフィールド、および- </font></font><code>setCurrentRate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-値が更新される方法</font></font><code>currentrate</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロバイダーをアプリケーションに接続するには、アプリケーションクラスコードを変更します。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@override</span>
  <span class="hljs-function">Widget <span class="hljs-title">build</span><span class="hljs-params">(BuildContext context)</span> </span>{
    <span class="hljs-keyword">return</span> ChangeNotifierProvider(<font></font>
      builder: (context) =&gt; RateProvider(), <span class="hljs-comment">//  </span><font></font>
      child: MaterialApp(<font></font>
       ...<font></font>
        ),<font></font>
        home: HomeScreen(),<font></font>
      ),<font></font>
    );<font></font>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、選択した通貨を保存したい場合は、次のように記述します。</font></font><br>
<br>
<pre><code class="java hljs">Provider.of&lt;RateProvider&gt;(context).setCurrentRate(rate);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、保存された値を取得したい場合、これは：</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">var</span> rate = Provider.of&lt;RateProvider&gt;(context).currentrate;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてが非常に透明で、定型文はありません（Reduxとは異なります）。</font><font style="vertical-align: inherit;">もちろん、おそらくもっと複雑なアプリケーションでは、すべてがそれほどスムーズではないかもしれませんが、私の例のようなものでは、純粋なワインになります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションを構築する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
理論的には、コマンドはアプリケーションの構築に使用されます</font></font><code>flutter build &lt;platform&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。実際に、コマンドを実行すると</font><font style="vertical-align: inherit;">
、「怪我はしませんでした」</font></font><code>flutter build linux</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">というメッセージが表示</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cy/ai/px/cyaipxfgk9xrmgncqc9mylbz6j0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">されました。フォルダーの重み（</font></font><code>build</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">287.5 MB）</font><font style="vertical-align: inherit;">に恐怖を感じ</font><font style="vertical-align: inherit;">、魂が単純だったため、このフォルダーを元に戻せずに削除しました。それが判明したように-無駄に。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディレクトリを削除した後、</font></font><code>build</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトの開始が停止しました。復元できなかったので、元の例からコピーしました。それは助けにはならなかった-コレクターは行方不明のファイルを誓った。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少し調べたところ、このフォルダ</font></font><code>snapshot_blob.bin.d</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にファイルがあり、プロジェクトで使用されるすべてのファイルへのパスが含まれていることがわかりました。私は不足しているパスを追加し、それはうまくいきました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、現時点では、Flutterはデスクトップ用のリリースビルドを準備できません。</font><font style="vertical-align: inherit;">とにかく、Linuxの場合。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、このマイナスに目を近づけると、アプリケーションは私が望んでいたように見え、</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そう</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/79/e6/zz/79e6zzdw9kggfwkiyelfsmrokt0.gif"><br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボーナス</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは約束されたボーナスを渡します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションの作成段階でも、他のプラットフォームに移植するのがどれほど難しいかを確認したいと思っていました。</font><font style="vertical-align: inherit;">携帯電話から始めましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
きっと野蛮な方法はありませんが、私は最短経路が直接であると決めました。</font><font style="vertical-align: inherit;">つまり、新しいプロジェクトFlutterを作成し、彼のファイル</font></font><code>pubspec.yaml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ディレクトリ</font></font><code>assets</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>fonts</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font><font style="vertical-align: inherit;">行</font><font style="vertical-align: inherit;">を</font></font><code>lib</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加しまし</font></font><code>AndroidManifest.xml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">た：</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">"android.permission.INTERNET"</span> /&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションはハーフキックで始まり、これを手に入れました </font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/3m/8p/r4/3m8pr4rwdjllpixpsjdla574kl8.jpeg"><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初は、ウェブをいじる必要がありました。</font><font style="vertical-align: inherit;">Webプロジェクトの作成方法がわからなかったため、インターネットからの指示を使用しましたが、何らかの理由で機能しませんでした。</font><font style="vertical-align: inherit;">私はもう唾を吐きたかったが、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マニュアルに</font><font style="vertical-align: inherit;">出くわした</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、すべてが可能な限りシンプルであることがわかりました。Webアプリケーションのサポートを有効にする必要がありました。</font><font style="vertical-align: inherit;">マニュアルから絞る：</font></font><br>
<br>
<pre><code class="bash hljs">flutter channel master<font></font>
flutter upgrade<font></font>
flutter config --<span class="hljs-built_in">enable</span>-web
<span class="hljs-built_in">cd</span> &lt;into project directory&gt;<font></font>
flutter create .<font></font>
flutter run -d chrome</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、必要なファイルを同じプロジェクトでこの野蛮な方法で転送し、受け取った </font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果</font></font></b><div class="spoiler_text"><img src="https://habrastorage.org/webt/ac/nt/gw/acntgwqqzvghgus9ll6thtbanbe.png"><br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般的な印象</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初はFlutterで作業するのは異例でした。私は常にReact Nativeの通常のアプローチを使用しようとしましたが、これが妨げになりました。</font><font style="vertical-align: inherit;">また、dartコードの冗長性が少し面倒でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手（とコーン）を少し手に入れた後、React Nativeに対するFlutterの利点がわかり始めました。</font><font style="vertical-align: inherit;">いくつか挙げます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">舌</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 Dartは完全に理解可能で快適な言語であり、厳密な静的型付けを備えています。 JavaScriptの後、それは新鮮な空気の息のようでした。実行時にコードが壊れるのではないかと心配するのをやめました。 FlowとTypeScriptがあると誰かが言うかもしれませんが、それはそうではありません-私たちのプロジェクトでは両方を使用し、他の何かが常にどこかで壊れました。 React Nativeで書くとき、自分のコードがいつでも壊れる可能性のあるマッチ棒の小道具にあるように思わずにはいられません。 Flutterを使用すると、この感覚を忘れてしまい、価格がコードの冗長性である場合は、支払う準備ができています。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラットホーム</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 React Nativeでは、ネイティブコンポーネントを使用しますが、これは通常は問題ありません。ただし、このため、プラットフォーム固有のコードを記述し、各プラットフォームに固有のバグを検出する必要がある場合があります。それは信じられないほど疲れることがあります。 Flutterを使用すると、悪夢のようなこれらの問題を忘れることができます（大規模なアプリケーションではすべてがそれほどスムーズではない場合もあります）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 React Nativeの環境では、すべてが悲しいです。 vscodeプラグインは絶えず低下し、デバッガは16ギガのオペレーショナルと70ギガのスワップを飲み込んで、システムをしっかりと停止させます（個人的な経験から）、そして最も一般的なエラー修正シナリオ：「node_modulesを削除して、パッケージを再度インストールし、何度か再起動してみてください。」これは通常は役立ちますが、bljad！そうではありません、そうではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、AndroidStudioとXcodeを定期的に実行する必要があります。これは、一部がこの方法でのみ実行されるためです（公平に言うと、RN 0.60のリリースにより、これは改善されました）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような背景に対して、vscodeの公式Flutterプラグインは非常によく見えます。コードのヒントにより、ドキュメントを見なくてもプラットフォームに慣れることができます。オートフォーマットにより、コーディングスタイルや通常のデバッガーなどの問題が解決されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、それはより成熟したツールのように見えます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クロスプラットフォーム</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 React Nativeは、「一度学んで、どこにでも書ける」という原則を公言します。一度習得すれば、さまざまなプラットフォーム向けに書くことができます。確かに、各プラットフォームでは、それに固有の問題が発生します。しかし、これはおそらくReact Nativeの未成熟の結果にすぎないのかもしれません-現在、最新の安定バージョンは0.61です。多分バージョン1.0のリリースで、これらの問題のほとんどはなくなるでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Flutterのアプローチは、どこでもコンパイルして1回書き込み、コンパイルするようなものです。また、デスクトップが現時点で本番環境に対応していない場合でも、Webはまだアルファ版ですが、すべてが順調に進んでいます。そして、すべてのプラットフォームで単一のコードベースを使用できることは、強力な議論です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、Flutterにも欠陥がないわけではありませんが、Flutterの使用経験が少しあるため、それらを特定できません。</font><font style="vertical-align: inherit;">したがって、より客観的な評価が必要な場合は、目新しさの効果を無視してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、Flutterは成長する余地はありますが、主に前向きな感情を残したことに注意してください。</font><font style="vertical-align: inherit;">そして、次のプロジェクトは、React Nativeではなく、そのプロジェクトから始めたいと思っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトのソースコードは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubにあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS私はこの機会に、過去の教師の日に関わったすべての人を祝福します。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja470235/index.html">CTORECORDSチャンネルの作成者であるDmitry Simonovへのインタビュー：「techdirの主な品質は、成功する習慣です」</a></li>
<li><a href="../ja470237/index.html">週末の文学：技術者のための簡単な読書</a></li>
<li><a href="../ja470239/index.html">生産における未開発のERP：集中治療または遺体安置所？（前編）</a></li>
<li><a href="../ja470241/index.html">スタートアップストーリー：アイデアを段階的に開発し、存在しない市場に参入し、国際的な拡大を実現する方法</a></li>
<li><a href="../ja470247/index.html">RESHI.RU-ロボットは数学の学校のテキスト問題を解決して説明します</a></li>
<li><a href="../ja470255/index.html">ALGLIBを使用した債券ポートフォリオの最適化</a></li>
<li><a href="../ja470257/index.html">JavaのImmutableListの周りのスタンピード</a></li>
<li><a href="../ja470259/index.html">Aimybox in search：音声アシスタントを作成するためのフレームワークにはiOSウィザードが必要です</a></li>
<li><a href="../ja470265/index.html">C ++の省略に関するチートシートなど。パート1：C ++</a></li>
<li><a href="../ja470267/index.html">認定温度監視</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>