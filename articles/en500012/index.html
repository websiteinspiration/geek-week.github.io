<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîÆ üïã üêô Entity Framework Core üßöüèΩ üóø üéóÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hi friends. On this wonderful May day, we continue to work and today we want to talk about the fact that in May OTUS launches the ‚ÄúC # Developer‚Äù cour...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Entity Framework Core</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/500012/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hi friends. </font><font style="vertical-align: inherit;">On this wonderful May day, we continue to work and today we want to talk about the fact that in May OTUS launches the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúC # Developer‚Äù</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> course that everyone loves </font><font style="vertical-align: inherit;">, as well as a separate </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C # ASP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> course </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">. </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">NET Core</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Traditionally, on the eve of the start of the courses, we begin to publish useful material. </font><font style="vertical-align: inherit;">Go.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/bw/f5/ib/bwf5ibkijfmmf-t2xeqe_5tsag4.png"><br>
<hr><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduction</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Most modern ASP NET Core applications use the Entity Framework Core. </font><font style="vertical-align: inherit;">Entity Framework Core is a technology for accessing databases from Microsoft. </font><font style="vertical-align: inherit;">It allows you to interact with the DBMS using entities, that is, classes and NET objects, rather than database tables. </font><font style="vertical-align: inherit;">This is the most famous and functional ORM tool in C #. </font><font style="vertical-align: inherit;">ORM is an object-relational mapping - mapping data to real objects. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, if a developer works directly with databases, a programmer should think about connecting, preparing SQL and SQL parameters, how to send queries and transactions. </font><font style="vertical-align: inherit;">And with the help of the Entity Framework Core, all this is done automatically - the developer works directly with the NET classes.</font></font><a name="habracut"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ORM Approaches</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ORM has several approaches. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The first</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is Code First. It implies that C # code is written first, and then a database is created using this code. For this approach, it is very important to define the classes of the model or entity that will be stored in the database, describe it in C # classes as a model, and write a context class that will work with the database used. The Code First approach is most often used by C # programmers. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Second approach</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Database-First- is suitable for those who know SQL well, but in this case it is not necessary to know C # well. </font><font style="vertical-align: inherit;">The database is created first, then the EDMX database model is generated. </font><font style="vertical-align: inherit;">This XML in the .edmx file contains information about the structure of the database, the data model, and their mapping to each other. </font><font style="vertical-align: inherit;">Visual Studio has a graphic designer with which you can work with .edmx </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Model-First - this is the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">third</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ORM </font><b><font style="vertical-align: inherit;">approach</font></b><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">It is often used by architects, since with this approach you can not know either SQL or C # syntax. </font><font style="vertical-align: inherit;">In this case, a graphical EDMX model is created first, at this time C # model classes are created in the background, and then a database is generated based on the EDMX diagram.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entity Framework Core Models</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
All database tables are defined in the Entity Framework as classes of models or entities, as a rule, according to the principle of 1 table, for example users, - 1 class in NET, for example, User. </font><font style="vertical-align: inherit;">Such pairs are called conventions, and they are defined in the data context class as DbSet sets and this approach works by default. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Although mechanisms exist such as the Fluent API and data annotations, it is possible to override these conventions or additional configuration rules.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migrations</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
During the development process, it is quite probable that the Entity Framework model class has changed, and you have to delete the database in order to maintain model compliance. </font><font style="vertical-align: inherit;">But when you delete a database, all data from it is also deleted. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To save data when the model changes, there is a migration function in the Entity Framework Core. </font><font style="vertical-align: inherit;">It allows you to consistently apply schema changes to the database in order to synchronize it with the data model. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In migration, there are operations that allow you to delete, add columns and tables, foreign keys, change column settings, add, delete and change data, and so on. </font><font style="vertical-align: inherit;">When you create a migration, a class is automatically created where the operations that are necessary to apply the Up () migration and return it to the Down () method are performed.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LINQ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LINQ is inextricably linked to the Entity Framework in NET. </font><font style="vertical-align: inherit;">LINQ is a Language Integrated Query or Intralingual Query - this is a technology that is a set of functions in NET that allow you to write structured database queries. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For work with Entity Framework Core uses technology LINQ to Entities. </font><font style="vertical-align: inherit;">LINQ uses SQL-like C # expressions to retrieve data from a database. </font><font style="vertical-align: inherit;">Any relational database works through SQL queries, and the Entity Framework Core translates LINQ to Entities expressions into SQL queries that are understandable for the database used.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, we briefly went over the capabilities of the Entity Framework Core. </font><font style="vertical-align: inherit;">As you saw, it is really very powerful, and so much so that the programmer who works with it does not even need to know SQL. </font><font style="vertical-align: inherit;">And Entity Framework Core rightfully holds first place among ORMs in the NET world.</font></font><br>
<br>
<hr><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sign up for a free lesson on the topic: ‚ÄúValidating data in C #‚Äù</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASP.NET Core: Quick Start</font></font></a></li>
</ul><br>
<br>
<hr></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en499994/index.html">When coronavirus will end</a></li>
<li><a href="../en500000/index.html">To Radio Day. Communication - the nerves of war</a></li>
<li><a href="../en500002/index.html">IT specialists vs salesmen: and the world cracked in half</a></li>
<li><a href="../en500008/index.html">Meet upscalers</a></li>
<li><a href="../en500010/index.html">History of dirty hydrogen</a></li>
<li><a href="../en500014/index.html">Fully responsive design is more than just media queries</a></li>
<li><a href="../en500016/index.html">Practical work with FPGAs in the set of Redd. Mastering DMA for the Avalon-ST bus and switching between Avalon-MM buses</a></li>
<li><a href="../en500018/index.html">Imitation of freehand drawing on the example of RoughJS</a></li>
<li><a href="../en500020/index.html">Google Earth Engine - Unique Big Geodata Analysis Platform</a></li>
<li><a href="../en500022/index.html">Why participate in community life and how does it help professional growth?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>