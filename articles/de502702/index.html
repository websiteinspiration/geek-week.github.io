<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐹 ✒️ 🕴🏿 Informationen zum Speichern von JWT-Token in Browsern 🖱️ 🎛️ 🍽️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Der offene JWT-Standard wurde 2015 offiziell veröffentlicht ( rfc7519 ) und verspricht interessante Funktionen und breite Perspektiven. Die ordnungsge...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Informationen zum Speichern von JWT-Token in Browsern</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502702/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/a6/oz/ut/a6ozutnu2esctapau7wo8-htm78.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der offene JWT-Standard wurde 2015 offiziell veröffentlicht ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rfc7519</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) und verspricht interessante Funktionen und breite Perspektiven. </font><font style="vertical-align: inherit;">Die ordnungsgemäße Speicherung des Zugriffstokens ist für den Aufbau eines Autorisierungs- und Authentifizierungssystems im modernen Web von entscheidender Bedeutung, da Websites, die mit SPA-Technologie erstellt wurden, immer beliebter werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine falsche Aufbewahrung von Token führt zu deren Diebstahl und Wiederverwendung durch Angreifer.</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wo also lagern?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berücksichtigen Sie die wichtigsten Optionen zum Speichern des JWT-Zugriffstokens in einem Browser:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lokaler Speicher / Sitzungsspeicher</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Die Methode ist nicht sicher und anfällig für Angriffe wie XSS, insbesondere wenn Sie Skripts von CDNs von Drittanbietern verbinden (das Hinzufügen des Integritätsattributs kann keine 100% ige Sicherheit garantieren) oder wenn Sie nicht sicher sind, ob die Skripts, mit denen Sie eine Verbindung herstellen, nicht in der Lage sind, Daten zusammenzuführen Speicher zur Seite. </font><font style="vertical-align: inherit;">Wenn lokaler Speicher zwischen Registerkarten verfügbar ist, ist Sitzungsspeicher nur auf einer Registerkarte verfügbar, und das Öffnen einer Site auf einer neuen Registerkarte führt nur zu einer neuen Runde von Zugriffstoken / Autorisierung.</font></font></li>
<li>               , ,   fetch      .         –          .</li>
<li><b>Cookies</b>.      «»     cookie sessions.   Access   cookie   CSRF.       XSS .    CSRF    Cookie <b>SameSite </b>  <b>Strict</b>–       ,     ,     credentials,       CSRF . <br>
          – Access     JS    <b>httpOnly</b>,  <b>Secure</b>      . <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein wichtiger Punkt ist, ein Cookie nur für die Domänen- / Pfad-API zu setzen, damit Anforderungen an die öffentliche Statik keinen Overhead im Header enthalten.</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist das Ergebnis?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cookies sind bei korrekter Verwendung die geeignete und sicherste Lösung zum Speichern des JWT Access-Tokens und müssen die folgenden Regeln befolgen:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wird für die Domänen- / Pfad-API installiert, um Overhead beim Anfordern statischer Dateien (öffentliche Images / Styles / JS-Dateien) zu vermeiden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haben Sie ein </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sicheres</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Flag </font><font style="vertical-align: inherit;">(nur zur Übertragung über https).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haben Sie das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">httpOnly-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Flag </font><font style="vertical-align: inherit;">(für </font><font style="vertical-align: inherit;">den </font><b><font style="vertical-align: inherit;">unzugänglichen</font></b><font style="vertical-align: inherit;"> Zugriff über JavaScript).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SameSite</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Attribut </font><font style="vertical-align: inherit;">muss </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Strenge</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gegen CSRF - </font><font style="vertical-align: inherit;">Angriffe zu schützen, verbieten die Übertragung von Cookies , </font><font style="vertical-align: inherit;">wenn der Übergang zu Ihrer API nicht aus der Domäne Satz im Cookie war.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der Serverseite sollte es auch konfiguriert werden:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Content-Security-Policy</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Beschränken Sie vertrauenswürdige Domänen, um mögliche XSS-Angriffe zu verhindern</font></font></li>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X-Frame-Options-</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Header </font><font style="vertical-align: inherit;">zum Schutz vor Clickjacking-Angriffen.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X-XSS-Schutz</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Erzwingen Sie den integrierten Schutzmechanismus des Browsers vor XSS-Angriffen.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X-Content-Type-Options</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - zum Schutz vor dem Ersetzen von MIME-Typen.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Einhaltung dieser Maßnahmen in Verbindung mit der häufigen Rotation von Zugriffs- / Aktualisierungstoken sollte dazu beitragen, ein hohes Maß an Sicherheit auf der Site zu gewährleisten.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einschränkungen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Trotz der Tatsache, dass das </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SameSite-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Attribut </font><font style="vertical-align: inherit;">in vielen gängigen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Browsern unterstützt wird</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , gibt es auch Browser, die es nicht oder nur teilweise unterstützen (Hallo IE und Safari für Mac). </font><font style="vertical-align: inherit;">In diesen Fällen benötigen Sie einen Fallback für CSRF-Token. </font><font style="vertical-align: inherit;">In diesem Fall muss neben Anforderungen an die API auch das CSRF-Token übertragen werden. </font><font style="vertical-align: inherit;">Das richtige CSRF-Token muss vom Server unter Berücksichtigung des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fingerabdrucks</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des </font><font style="vertical-align: inherit;">Benutzers </font><font style="vertical-align: inherit;">generiert werden, </font><font style="vertical-align: inherit;">um die Wahrscheinlichkeit seiner Ersetzung zu minimieren.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de502682/index.html">Computer Vision auf Intel OWT WebRTC-Server mit Hardwarebeschleunigung</a></li>
<li><a href="../de502684/index.html">Warum er: 5 Fragen an Lehrer bei Ozon Go</a></li>
<li><a href="../de502686/index.html">RIT ++ 2020: Konsultationen mit Avito-Ingenieuren bei Zuma</a></li>
<li><a href="../de502696/index.html">Wie Internetdienstanbieter einen globalen Stromausfall bei Ausbrüchen vermeiden</a></li>
<li><a href="../de502700/index.html">Stack Overflow Creator: „Entwickler sind diejenigen, die das Skript für die Zukunft schreiben.“</a></li>
<li><a href="../de502704/index.html">Wie wir die Unterstützung umgeschult haben, um menschlich zu sprechen, und was passiert ist</a></li>
<li><a href="../de502706/index.html">Der Zustand der Soft Skills</a></li>
<li><a href="../de502712/index.html">Wie funktioniert ein Adress-LED-Streifen?</a></li>
<li><a href="../de502714/index.html">Exportieren Sie OpenStreetMap-Daten mit dem visuellen Editor auf rete.js.</a></li>
<li><a href="../de502716/index.html">Sie können Ihren Heimcomputer nicht freigeben? Machen Sie eins aus zwei</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>