<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👃🏼 🛌🏿 🦎 VK miniアプリでのアプリケーション開発 🖖🏻 ⛹🏾 👩🏼‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="VKで動作するアプリケーションの開発に目を向けるべきなのはなぜですか？私は背後に大量サービスのフロントエンド開発を何年も行ってきました。VKontakteソーシャルネットワークが現在開発者に提供しているものは、非常に多くの視聴者との別のコミュニケーションチャネルを構築する迅速かつ効果的な方法です。以...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>VK miniアプリでのアプリケーション開発</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/480974/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VKで動作するアプリケーションの開発に目を向けるべきなのはなぜですか？</font><font style="vertical-align: inherit;">私は背後に大量サービスのフロントエンド開発を何年も行ってきました。VKontakteソーシャルネットワークが現在開発者に提供しているものは、非常に多くの視聴者との別のコミュニケーションチャネルを構築する迅速かつ効果的な方法です。</font><font style="vertical-align: inherit;">以下では、VKミニアプリのアイデア、アプリケーション開発時に使用するテクノロジー、注意すべき点について説明します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/au/2v/2d/au2v2d1ko6i5ifqn2lnydurcczg.jpeg" alt="画像"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blog.ru Cloud Solutionsブログの投稿に関する記事の最初の公開：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> ://mcs.mail.ru/blog/razrabotka-prilozhenij-v-vk-mini-apps</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a></i><br>
<br>
<a name="habracut"></a><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VKミニアプリプラットフォーム</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VKontakteは、サードパーティの開発者にWebアプリケーションを作成し、アプリケーションディレクトリに配置したり、ネットワーク内で宣伝したりする機会を提供します。</font><font style="vertical-align: inherit;">アプリケーションユーザーは、Google Play / App Storeから個々のネイティブアプリケーションをダウンロードする必要はありません。選択したアプリケーションの機能は、VKontakteのメインアプリケーションのユーザーセッション内、またはソーシャルネットワークサイトのブラウザーから利用できます。</font><font style="vertical-align: inherit;">ソーシャルネットワークには</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、VKミニアプリプラットフォームを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使い始める方法に関する詳細な手順があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションインフラストラクチャVK miniアプリ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VKミニアプリは、特定のアドレスにある通常のWebリソースです。</font><font style="vertical-align: inherit;">ソーシャルネットワークの「アプリケーションコントロールパネル」に配置する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VKontakteでは、アプリケーションの3つのバージョンを配置できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モバイルクライアント用-つまり、ネイティブVKontakteアプリケーションで開くため。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デスクトップオプション- </font><font style="vertical-align: inherit;">ブラウザの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vk.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">携帯電話のブラウザ用のオプション（https://m.vk.com）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
配置するときは、「開発モード」を有効にすることもできます。</font><font style="vertical-align: inherit;">これにより、アプリケーション管理者として指定されたVKontakteユーザーは、3つのストアフロントのそれぞれをテストするために個別のアドレスを使用できます。</font><font style="vertical-align: inherit;">つまり、アプリケーションを開くと、通常のユーザーには条件付きアドレスyourapp.comにあるものが表示され、管理者にはtest.yourapp.comが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webリソースは、デスクトップからiFrameを介して開かれると、通常のWebViewを介してVKontakteアプリケーションに埋め込まれます。</font><font style="vertical-align: inherit;">そのため、JavaScript機能の一部が使用できない場合があることを念頭に置いて、徹底的なテストが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまなデバイスでWebアプリケーションをテストした後、モデレートのために送信して、ディレクトリに配置することができます。</font><font style="vertical-align: inherit;">モデレート申請は「アプリケーションコントロールパネル」から送信されます。</font><font style="vertical-align: inherit;">VKontakteが発表したモデレート期間は7日間です。</font><font style="vertical-align: inherit;">新しいアプリケーション（VKontakteの用語に関するサービス）の計算は、毎週木曜日に行われます。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">適切なアプリケーションの作成方法に関する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">詳細なメモ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があり</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">モデレーションを申請する前に、彼女に注意深く確認することをお勧めします。</font></font></blockquote><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーション開発VK miniアプリ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、VK Mini Appsアプリケーションは、実際には、iFrameまたはWebViewを介してプラットフォームに埋め込まれた通常のWebアプリケーションです。したがって、それが書かれる技術の選択はあなた次第です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、フロントエンドを開発するために、VKontakte </font><font style="vertical-align: inherit;">は、Reactで作成された</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">既製のVK UIコンポーネントの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">独自の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ライブラリーを</font></a><font style="vertical-align: inherit;">推奨してい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは便利です。多くの標準コンポーネントが用意されており、ページまたはSPAの構造に埋め込むだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンポーネントはVKontakteスタイルガイドに従ってすでにスタイルが設定されています-ユーザーがソーシャルネットワーク内で既に使用していたコントロールやインタラクティブ機能を操作する方がより身近で便利になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VKontakteでは、開発者が厳密なフロントエンド構築アーキテクチャに従う必要はありません。必要なものだけを取り、必要に応じてコンポーネントを変更します。</font><font style="vertical-align: inherit;">たとえば、クラス、イベントハンドラーを愚かなビューコンポーネントにいつでも追加したり、ネストされたコンポーネントを任意の深さで作成したりすることができます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">VKUIに</font></a></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
はかなり詳細な（完全ではありませんが）</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントがあり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">GitHubのソースコード：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">//github.com/VKCOM/VKUI</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、最も簡単なインストール：</font></font><br>
<br>
<pre><code class="javascript hljs">npm i —save-dev @vkontakte/vkui</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションのページレイアウトの先頭に次のメタタグを配置してください。そうしないと、ネイティブのVKontakteナビゲーションがiOSデバイスで正しく表示されません。</font></font><br>
<br>
<pre><code class="javascript hljs">&lt;meta content=»width=device-width, initial-scale=<span class="hljs-number">1</span>, shrink-to-fit=no, user-scalable=no, viewport-fit=cover» name=»viewport» /&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Reactアプリケーションをページに埋め込むだけです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションを開くオプション</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VKontakte自体が、アプリケーションを開くためのアドレスバーに起動パラメーターを追加します。それらのリストは次のとおりです：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vk_user_id、vk_app_id、vk_are_notifications_enabled、vk_language、vk_ref、vk_access_token_settings、vk_group_id、vk_viewer_group_role、vk_platform、vk_is_favorite、sign</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。それはほぼ同じアドレスで開きますアプリケーションのフレームです。</font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">youvkapp.ru/?vk_access_token_settings=notify&amp;vk_app_id=888888&amp;vk_are_notifications_enabled=1&amp;vk_is_app_user=1&amp;vk_is_favorite=1&amp;vk_language=ru&amp;vk_platform=desktop_web&amp;vk_ref=other&amp;vk_user_id=111111&amp;sign=fsdfsdgfgfiuoitu8345u34j</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより、特定のユーザーとの個人的なやり取りを開始するために、アプリケーションの開始時にURLから抽出されたかなり完全なデータセットをすでに取得できます。</font><font style="vertical-align: inherit;">たとえば、ロシア語、英語などの1つの言語で彼と話すか、通知を含めるように依頼します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2019年11月の場合、Vkontakteはこのリストに追加のパラメーターを含める予定はありません。</font><font style="vertical-align: inherit;">ただし、URLには任意のハッシュを渡すことができます。例：</font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">youvkapp.ru＃custom_param</font></font></a></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ルーティング</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションに複数の画面がある場合（これは単なるケースです）、画面間の遷移が必要です。</font><font style="vertical-align: inherit;">Reactアプリケーションの状態は、この画面またはその画面の表示を担当します。</font><font style="vertical-align: inherit;">ビューの編成に関しては、VKontakteは2つの方法を提供します：VKUIビューおよびVKUIパネルのアクティブなコンポーネントを変更します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各ビューは、プライマリ、セカンダリ、コールディレクトリ、検索ページなど、独自のユーザーシナリオを担当します。</font><font style="vertical-align: inherit;">ビュー内には独自のパネルのセットが含まれています-これらはユーザースクリプトの特定の手順（画面）です。</font><font style="vertical-align: inherit;">抽象的には、次のようになります。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> {Root, View, Panel} <span class="hljs-keyword">from</span> ‘@vkontakte/vkui’;
<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Root</span> <span class="hljs-attr">activeView</span>=<span class="hljs-string">{this.state.views.activeView}</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">id</span>=<span class="hljs-string">»main»</span> <span class="hljs-attr">activePanel</span>=<span class="hljs-string">{this.state.views.main.activePanel}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Panel</span> <span class="hljs-attr">id</span>=<span class="hljs-string">»step-1″</span>&gt;</span>
         …
      <span class="hljs-tag">&lt;/<span class="hljs-name">Panel</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Panel</span> <span class="hljs-attr">id</span>=<span class="hljs-string">»step-2″</span>&gt;</span>
         …
      <span class="hljs-tag">&lt;/<span class="hljs-name">Panel</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">id</span>=<span class="hljs-string">»search»</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Panel</span> <span class="hljs-attr">id</span>=<span class="hljs-string">»search-panel»</span>&gt;</span>
         …
      <span class="hljs-tag">&lt;/<span class="hljs-name">Panel</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">View</span> <span class="hljs-attr">id</span>=<span class="hljs-string">»info»</span> <span class="hljs-attr">activePanel</span>=<span class="hljs-string">{this.state.views.info.activePanel}</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Panel</span> <span class="hljs-attr">id</span>=<span class="hljs-string">»oferta»</span>&gt;</span>
         …
      <span class="hljs-tag">&lt;/<span class="hljs-name">Panel</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Panel</span> <span class="hljs-attr">id</span>=<span class="hljs-string">»conditions»</span>&gt;</span>
         …
      <span class="hljs-tag">&lt;/<span class="hljs-name">Panel</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">Panel</span> <span class="hljs-attr">id</span>=<span class="hljs-string">»about»</span>&gt;</span>
         …
      <span class="hljs-tag">&lt;/<span class="hljs-name">Panel</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">View</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">Root</span>&gt;</span></span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
activePanelの状態で、表示する要素のIDを書き込みます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レイアウトとコンポーネント</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、VK UIコンポーネントを使用して作成されたPanel内の典型的なページが表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VK UIライブラリは、インタラクティブアプリケーションの構築に必要なコンポーネントのほぼ完全なセットを提供します：あらゆる種類のフォーム要素、ポップアップ、様式化されたアラート、ギャラリー、ナビゲーションパネル、スピナー、アバター、フッターなど。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> {<font></font>
   Button,<font></font>
   Div,<font></font>
   FormLayout,<font></font>
   Input,<font></font>
   Panel,<font></font>
   PanelHeader,<font></font>
   PanelHeaderBack,<font></font>
   Search,<font></font>
   View<font></font>
} <span class="hljs-keyword">from</span> <span class="hljs-string">"@vkontakte/vkui"</span>;
<span class="hljs-keyword">import</span> Icon36Done <span class="hljs-keyword">from</span> <span class="hljs-string">"@vkontakte/icons/dist/36/done"</span>;
<span class="hljs-keyword">import</span> CustomTextarea <span class="hljs-keyword">from</span> <span class="hljs-string">"./YourComponents/CustomTextarea"</span>;<font></font>
<font></font>
render() {<font></font>
   <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">PanelHeader</span>
            <span class="hljs-attr">left</span>=<span class="hljs-string">{</span>&lt;<span class="hljs-attr">PanelHeaderBack</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {this.Actions.historyBack()}} /&gt;}
         &gt;App Title<span class="hljs-tag">&lt;/<span class="hljs-name">PanelHeader</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">Icon36Done</span> <span class="hljs-attr">width</span>=<span class="hljs-string">{48}</span> <span class="hljs-attr">height</span>=<span class="hljs-string">{48}</span> /&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">Div</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>This is the first page<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"page-hint"</span>&gt;</span>You can do some interaction here<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">Div</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">FormLayout</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Input</span>
               <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span>
               <span class="hljs-attr">defaultValue</span>=<span class="hljs-string">""</span>
               <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Enter your name"</span>
               <span class="hljs-attr">className</span>=<span class="hljs-string">"active"</span>
            /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">CustomTextarea</span>
               <span class="hljs-attr">name</span>=<span class="hljs-string">"textarea1"</span>
               <span class="hljs-attr">className</span>=<span class="hljs-string">"custom"</span>
               <span class="hljs-attr">disabled</span>=<span class="hljs-string">{this.state.blocks.textarea.disabled}</span>
               <span class="hljs-attr">value</span>=<span class="hljs-string">{this.state.userData.textarea}</span>
            /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">Button</span>
               <span class="hljs-attr">size</span>=<span class="hljs-string">"xl"</span>
               <span class="hljs-attr">level</span>=<span class="hljs-string">"secondary"</span>
            &gt;</span>Submit<span class="hljs-tag">&lt;/<span class="hljs-name">Button</span>&gt;</span>
         <span class="hljs-tag">&lt;/<span class="hljs-name">FormLayout</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">Search</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">{this.state.search.text}</span>
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.onSearch}</span>
         /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
   )<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、別のvkontakteパッケージが表示されました。</font></font><br>
<br>
<pre><code class="javascript hljs">npm i —save-dev @vkontakte/icons</code></pre><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">便利なマネージャー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">
使用して</font><font style="vertical-align: inherit;">、目的のアイコンを選択できます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本的なルール</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、コンポーネントまたはヘッダーの独自のレイアウトを正しく使用することです。</font><font style="vertical-align: inherit;">ヘッダーの右側に、ネイティブのVKontakteアプリケーションがコントロールボタンを配置します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ge/cc/_o/gecc_oj3rinrnjov7k-ddrsm3h0.jpeg" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カスタムブロック：</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> {<font></font>
   Textarea<font></font>
} <span class="hljs-keyword">from</span> «@vkontakte/vkui»;<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CustomTextarea</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">React</span>.<span class="hljs-title">Component</span> </span>{<font></font>
   render() {<font></font>
      <span class="hljs-keyword">return</span> (
         <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">»form-group</span> <span class="hljs-attr">custom_textarea</span>»&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">»FormLayout__row-top»</span>&gt;</span>Custom textarea is here<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
               <span class="hljs-tag">&lt;<span class="hljs-name">Textarea</span>
                  <span class="hljs-attr">disabled</span>=<span class="hljs-string">{this.props.disabled}</span>
                  <span class="hljs-attr">name</span>=<span class="hljs-string">{name}</span>
                  <span class="hljs-attr">id</span>=<span class="hljs-string">{name}</span>
                  <span class="hljs-attr">onChange</span>=<span class="hljs-string">{(e)</span> =&gt;</span> this.bindData(e, this.props.name)}
                  value={this.props.value}
                  className={this.props.className}
               /&gt;
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
         &lt;/div&gt;<font></font>
      );<font></font>
   }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
注意が必要です。VKontakteは、コンポーネントがデスクトップに適切に表示されない可能性があることを宣言しています。</font><font style="vertical-align: inherit;">ただし、独自のCSSルールを追加することでスタイルを設定できます。</font><font style="vertical-align: inherit;">たとえば、1つのアプリケーションのパネル間の遷移のアニメーションは、次のように様式化されています。</font></font><br>
<br>
<pre><code class="css hljs"><span class="hljs-selector-class">.desktop_web</span> {<font></font>
   .View__panel—prev {<font></font>
      <span class="hljs-attribute">max-width</span>: <span class="hljs-number">458px</span> <span class="hljs-meta">!important</span>;
      <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
      <span class="hljs-attribute">left</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">50%</span> — <span class="hljs-number">230px</span>) <span class="hljs-meta">!important</span>;
      <span class="hljs-attribute">-webkit-animation</span>: root-android-animation-hide-back <span class="hljs-number">3s</span> <span class="hljs-built_in">cubic-bezier</span>(.<span class="hljs-number">4</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">2</span>, <span class="hljs-number">1</span>);
      <span class="hljs-attribute">animation</span>: root-android-animation-hide-back <span class="hljs-number">3s</span> <span class="hljs-built_in">cubic-bezier</span>(.<span class="hljs-number">4</span>, <span class="hljs-number">0</span>, .<span class="hljs-number">2</span>, <span class="hljs-number">1</span>);<font></font>
   }<font></font>
   <span class="hljs-selector-class">.View__panel</span>—<span class="hljs-selector-tag">next</span> {
      <span class="hljs-attribute">max-width</span>: <span class="hljs-number">460px</span> <span class="hljs-meta">!important</span>;
      <span class="hljs-attribute">left</span>: <span class="hljs-built_in">calc</span>(<span class="hljs-number">50%</span> — <span class="hljs-number">230px</span>) <span class="hljs-meta">!important</span>;<font></font>
   }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのスタイルは、アプリケーションに接続されたスタイルの一般的なストリームで接続されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VK Connectライブラリ</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VK Connectライブラリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、VKontakteネットワーク自体の幅広い機能へのアクセスを提供し、モバイルアプリケーションから作業している場合はデバイスの機能へのアクセスを提供します。</font><font style="vertical-align: inherit;">接続するには、パッケージをインストールする必要があります</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vkontakte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ vk-connect：</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npm i —save-dev</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vkontakte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ vk-connect</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VK Connectの多くの機能には、QRコードのスキャン、地理位置情報の取得、連絡先カードの呼び出しがあります。ソーシャルネットワークの機能を使用するための幅広い機会もあります。通知のオン/オフ、壁への投稿の公開、コミュニティの承認、メッセージの購読です。これらは賢く使用する必要があります。たとえば、通知の数には制限があり、1日に1つしかありません。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通知に</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">別の推奨事項</font></a><font style="vertical-align: inherit;">があります</font><font style="vertical-align: inherit;">。機能の完全なリストは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ドキュメントに記載されています</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションが一般的に動作を開始するには、最初に初期化を実行する必要があります。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> connect <span class="hljs-keyword">from</span> ‘@vkontakte/vk-connect’;<font></font>
connect.send(«VKWebAppInit», {});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ライブラリとのそれ以降のすべての相互作用は、同様の方法で行われます。</font><font style="vertical-align: inherit;">connect.sendメソッドを使用して、目的のアクションを呼び出し、回答を聞きます。</font><font style="vertical-align: inherit;">これを行うには、イベントをサブスクライブする必要があります。</font></font><br>
<br>
<pre><code class="javascript hljs">connect.subscribe(<span class="hljs-function">(<span class="hljs-params">e</span>) =&gt;</span> {
   <span class="hljs-keyword">switch</span> (e.detail.type) {
      <span class="hljs-keyword">case</span> «VKWebAppGetUserInfoResult» :
         <span class="hljs-keyword">this</span>.bindConnectUserData(e.detail.data);
         <span class="hljs-keyword">break</span>;<font></font>
   }<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
詳細オブジェクトでは、タイプが返されます-応答を待っているイベントのタイプの名前とデータ-データセット。</font><font style="vertical-align: inherit;">上記の例では、アプリケーションユーザーに関する情報（名前、性別、生年月日、居住地、ソーシャルネットワーク上のアバターの画像へのリンク）を返す必要があるconnect.sendリクエスト（「VKWebAppGetUserInfo」、{}）への応答をリッスンします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VKontakteは、すべてのデバイス（iOS、Android、Web）のすべてのイベントのサポートを保証するものではないため、コードを実行する前にこのサポートを確認することをお勧めします。</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">if</span> (connect.supports(«VKWebAppGetUserInfo»)) …</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VK Connect </font><font style="vertical-align: inherit;">ライブラリ自体が提供できる以上のものが必要な場合は、VK Connect </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がVK API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">へ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">の</font></a><font style="vertical-align: inherit;">リクエストのサポートも提供し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="javascript hljs">connect.send(«VKWebAppCallAPIMethod», {«method»: «users.get», «request_id»: «your_unique_req_id», «params»: {«user_ids»: «<span class="hljs-number">1</span>», «v»:»<span class="hljs-number">5.103</span>″, «access_token»:»your_token»}});</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VK Pay</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VK Payは、実際にはMoney Mail.Ruを使用したオンライン決済サービスを使用するための便利なフロントエンドです。</font><font style="vertical-align: inherit;">支払いフォームを呼び出すには、VK Connectライブラリの呼び出しを使用して支払いウィンドウを開きます。</font></font><br>
<br>
<pre><code class="javascript hljs">connect.send(«VKWebAppOpenPayForm», {«app_id»: <span class="hljs-number">888888</span>, «action»: «pay-to-service», «params»: {}});</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、VKontakteネットワーク上の内部の支払い手段を使用して、サービスや商品を販売できます。</font><font style="vertical-align: inherit;">詳細は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公式ドキュメントを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ご覧ください</font><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja480958/index.html">衛星接続。運営会社の概要と評価について少し</a></li>
<li><a href="../ja480960/index.html">複数のXcodeターゲットで失われたファイルを見つける</a></li>
<li><a href="../ja480962/index.html">新しいマルチクレットニューロプロセッサ用のCコンパイラの開発</a></li>
<li><a href="../ja480964/index.html">フレネルゾーンとCCQ（クライアント接続品質）または高品質のワイヤレスブリッジの基本的な要素とは</a></li>
<li><a href="../ja480970/index.html">Dockerイメージセキュリティのベストプラクティス10 パート1</a></li>
<li><a href="../ja480976/index.html">JSON-RPC APIテストライブラリ</a></li>
<li><a href="../ja480978/index.html">シニョーラの後に人生はありますか？</a></li>
<li><a href="../ja480980/index.html">サイバーセキュリティの最新テクノロジー分析</a></li>
<li><a href="../ja480982/index.html">3. Fortinet Getting Started v6.0。レイアウトの準備</a></li>
<li><a href="../ja480984/index.html">一般的なネットワークセキュリティエラーの回避</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>