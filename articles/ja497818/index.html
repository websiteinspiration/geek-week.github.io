<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>#⃣ 🥕 🗃️ Citrixを使用してGPUでVMにリモートアクセス 🕗 🔕 🖖🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="このガイドでは、Citrixが提供するテクノロジーを使用して仮想デスクトップへのリモートアクセスを準備するために必要な手順について詳しく説明します。
 
 デスクトップ仮想化テクノロジーに最近慣れた方に役立ちます。これは、承認後にCitrix、Nvidia、Microsoftのサイトで入手できる、1...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Citrixを使用してGPUでVMにリモートアクセス</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497818/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このガイドでは、Citrixが提供するテクノロジーを使用して仮想デスクトップへのリモートアクセスを準備するために必要な手順について詳しく説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デスクトップ仮想化テクノロジーに最近慣れた方に役立ちます。これは、承認後にCitrix、Nvidia、Microsoftのサイトで入手できる、10を超えるマニュアルから集められた便利なコマンドのコレクションです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この実装には、Nvidia Tesla M60グラフィックアクセラレータとCentos 7オペレーティングシステムを使用して仮想マシン（VM）へのリモートアクセスを準備する手順が含まれています。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでは始めましょう。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仮想マシンをホストするためのハイパーバイザーの準備</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XenServer 7.4をダウンロードしてインストールするにはどうすればよいですか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenServerをCitrix XenCenterに追加する方法 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nvidiaドライバーをダウンロードしてインストールするにはどうすればよいですか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nvidia Tesla M60モードを変更するには？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストレージをマウントする方法は？</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XenServer 7.4</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XenServer 7.4の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ダウンロードリンク</font><font style="vertical-align: inherit;">は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Webサイトで承認後に入手できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/eb/p2/kr/ebp2kr2edt_ktpzrhsimmkaofbi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenServer.isoを4x NVIDIA Tesla M60がインストールされているサーバーに定期的にインストールしましょう。私の場合、isoはIPMI経由でマウントされます。 Dellサーバーの場合、BMCはIDRACを通じて管理されます。インストール手順は、Linuxのようなオペレーティングシステムのインストールとほぼ同じです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のXenServer c GPUアドレスは192.168.1.100 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
です。ハイパーバイザーと仮想マシンを管理するローカルコンピューターにXenCenter.msiをインストールします。 「サーバー」タブをクリックし、「追加」をクリックして、GPUとXenServerを備えたサーバーを追加します。 XenServerのインストール時に指定したユーザー名とパスワードrootを入力します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yy/qv/qw/yyqvqwxcbnxhwkj0ho3brs1lqom.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenCenterでは、追加したハイパーバイザーの名前をクリックすると、[コンソール]タブが表示されます。</font><font style="vertical-align: inherit;">メニューで、[リモートサービス構成]を選択し、SSH認証を有効にします-[リモートシェルを有効/無効にする]。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nvidiaドライバー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は自由に感情を抑制し、vGPUを使用して作業し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">て</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いる</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">間</font></a><font style="vertical-align: inherit;">は、初めて</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">nvid.nvidia.comにアクセス</font></a><font style="vertical-align: inherit;">した</font><font style="vertical-align: inherit;">こと</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">は</font></a><font style="vertical-align: inherit;">ありません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">承認が機能しない場合は、Internet Explorerをお勧めします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vGPUおよびGPUMode Changeユーティリティからzipをダウンロードします</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。NVIDIA </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- </font><font style="vertical-align: inherit;">GRID </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">XenServer </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">7.4-390.72-390.75-391.81.zipNVIDIA </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">gpumodeswitch </font><font style="vertical-align: inherit;">-2020-01.zip </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sj/ia/ny/sjianylmppn9as35nnxtrwj-bhw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バージョンに従っています。</font><font style="vertical-align: inherit;">ダウンロードしたアーカイブの名前は、将来仮想マシンにインストールできる適切なNVIDIAドライバーのバージョンを示しています。</font><font style="vertical-align: inherit;">私の場合、390.72です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenServerにzip-sをスローして解凍します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GPUモードを変更してvGPUドライバーをインストールする</font></font><br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in">cd</span> NVIDIA-gpumodeswitch-2020-01<font></font>
$ gpumodeswitch --listgpumodes<font></font>
$ gpumodeswitch --gpumode graphics<font></font>
$ <span class="hljs-built_in">cd</span> ../NVIDIA-GRID-XenServer-7.4-390.72-390.75-391.81<font></font>
$ yum install NVIDIA-vGPU-xenserver-7.4-390.72.x86_64.rpm<font></font>
$ reboot</code></pre><br>
<img src="https://habrastorage.org/webt/qg/0m/lx/qg0mlxigfdyfvxvfpoijuh-sisa.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マウントストレージ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク上の任意のコンピュータでNFSを使用して共有ディレクトリを設定します。</font></font><br>
<br>
<pre><code class="bash hljs">$ yum install epel-release<font></font>
$ yum install nfs-utils libnfs-utils<font></font>
$ systemctl <span class="hljs-built_in">enable</span> rpcbind<font></font>
$ systemctl <span class="hljs-built_in">enable</span> nfs-server<font></font>
$ systemctl <span class="hljs-built_in">enable</span> nfs-lock<font></font>
$ systemctl <span class="hljs-built_in">enable</span> nfs-idmap<font></font>
$ systemctl start rpcbind<font></font>
$ systemctl start nfs-server<font></font>
$ systemctl start nfs-lock<font></font>
$ systemctl start nfs-idmap<font></font>
$ firewall-cmd --permanent --zone=public --add-service=nfs<font></font>
$ firewall-cmd --permanent --zone=public --add-service=mountd<font></font>
$ firewall-cmd --permanent --zone=public --add-service=rpc-bind<font></font>
$ firewall-cmd --reload<font></font>
$ mkdir -p /nfs/store1<font></font>
$ chmod -R 777 /nfs/store1<font></font>
$ touch /nfs/store1/forcheck<font></font>
$ cat /etc/exports<font></font>
  ...<font></font>
  /nfs/store1 192.168.1.0/24(rw,async,crossmnt,no_root_squash,no_all_squash,no_subtree_check)<font></font>
$ systemctl restart nfs-server</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenCenterで、XenServerを選択し、「ストレージ」タブで「新しいSR」を選択します。</font><font style="vertical-align: inherit;">ストレージのタイプを指定します-NFS ISO。</font><font style="vertical-align: inherit;">パスはNFS共有ディレクトリを指す必要があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Centos 7に基づくCitrixマスターイメージ</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Centos 7で仮想マシンを作成する方法 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仮想マシンを準備してディレクトリを作成するにはどうすればよいですか？</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Centos 7の画像</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenCenterを使用して、GPUを備えた仮想マシンを作成します。</font><font style="vertical-align: inherit;">[VM]タブで、[新しいVM]をクリックします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/et/fs/9g/etfs9g7biwgmswos8eazlinr_ba.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
必要なパラメーターを選択します</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。VMテンプレート-その他のインストールメディア</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
名前-テンプレート</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ISOライブラリからインストール-Centos 7（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンロード</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、マウントされたNFS ISOストレージから選択します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vCPUの数-4 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トポロジ-ソケットあたり4コアの1ソケット</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メモリ-30 Gb </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GPUタイプ-GRID M60-4Q </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この仮想ディスクを使用-80 Gb </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成後、仮想マシンは左側の縦のリストに表示されます。</font><font style="vertical-align: inherit;">それをクリックして、「コンソール」タブに移動します。</font><font style="vertical-align: inherit;">Centos 7インストーラーが読み込まれ、GNOMEシェルでOSをインストールするために必要な手順を完了するまで待機します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">画像の準備</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Centos 7でイメージを準備するのに長い時間がかかりました。</font><font style="vertical-align: inherit;">これにより、Linuxの初期セットアップを容易にし、Citrix Machine Creation Services（MCS）を使用して仮想マシンカタログを作成できる一連のスクリプトが作成されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ws-adにインストールされたDHCPサーバーは、新しい仮想マシンにIPアドレス192.168.1.129を割り当てました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
基本的な設定は次のとおりです。</font></font><br>
<br>
<pre><code class="bash hljs">$ hostnamectl <span class="hljs-built_in">set</span>-hostname template<font></font>
$ yum install -y epel-release<font></font>
$ yum install -y lsb mc gcc<font></font>
$ firewall-cmd --permanent --zone=dmz --remove-service=ssh<font></font>
$ firewall-cmd --permanent --zone=external --remove-service=ssh<font></font>
$ firewall-cmd --permanent --zone=home --remove-service=ssh<font></font>
$ firewall-cmd --permanent --zone=home --remove-service=mdns<font></font>
$ firewall-cmd --permanent --zone=home --remove-service=samba-client<font></font>
$ firewall-cmd --permanent --zone=home --remove-service=dhcpv6-client<font></font>
$ firewall-cmd --permanent --zone=internal --remove-service=dhcpv6-client<font></font>
$ firewall-cmd --permanent --zone=internal --remove-service=samba-client<font></font>
$ firewall-cmd --permanent --zone=internal --remove-service=mdns<font></font>
$ firewall-cmd --permanent --zone=internal --remove-service=ssh<font></font>
$ firewall-cmd --permanent --zone=public --remove-service=ssh<font></font>
$ firewall-cmd --permanent --zone=public --remove-service=dhcpv6-client<font></font>
$ firewall-cmd --permanent --zone=work --remove-service=dhcpv6-client<font></font>
$ firewall-cmd --permanent --zone=work --remove-service=ssh<font></font>
$ firewall-cmd --permanent --zone=public --add-service=ssh<font></font>
$ firewall-cmd --complete-reload</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenCenterの「コンソール」タブで、仮想マシンのDVDドライブにguest-tools.isoをマウントし、Linux用のXenToolsをインストールします。</font></font><br>
<br>
<pre><code class="bash hljs">$ mount /dev/cdrom /mnt<font></font>
$ /mnt/Linux/install.sh<font></font>
$ reboot</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenServerをセットアップするとき、NVIDIA WebサイトからダウンロードしたNVIDIA-GRID-XenServer-7.4-390.72-390.75-391.81.zipアーカイブを使用しました。これには、XenServerのNVIDIAドライバーに加えて、vGPUクライアントに必要なNVIDIAドライバーが含まれています。</font><font style="vertical-align: inherit;">VMにダウンロードしてインストールします。</font></font><br>
<br>
<pre><code class="bash hljs">$ cat /etc/default/grub<font></font>
  GRUB_TIMEOUT=5<font></font>
  GRUB_DISTRIBUTOR=<span class="hljs-string">"<span class="hljs-subst">$(sed 's, release .*$,,g' /etc/system-release)</span>"</span><font></font>
  GRUB_DEFAULT=saved<font></font>
  GRUB_DISABLE_SUBMENU=<span class="hljs-literal">true</span>
  GRUB_TERMINAL_OUTPUT=<span class="hljs-string">"console"</span>
  GRUB_CMDLINE_LINUX=<span class="hljs-string">"rhgb quiet modprobe.blacklist=nouveau"</span>
  GRUB_DISABLE_RECOVERY=<span class="hljs-string">"true"</span><font></font>
$ grub2-mkconfig -o /boot/grub2/grub.cfg<font></font>
$ wget http://vault.centos.org/7.6.1810/os/x86_64/Packages/kernel-devel-3.10.0-957.el7.x86_64.rpm<font></font>
$ yum install kernel-devel-3.10.0-957.el7.x86_64.rpm<font></font>
$ reboot<font></font>
$ init 3<font></font>
$ NVIDIA-GRID-XenServer-7.4-390.72-390.75-391.81/NVIDIA-Linux-x86_64-390.75-grid.run<font></font>
$ cat /etc/nvidia/gridd.conf<font></font>
  ServerAddress=192.168.1.111<font></font>
  ServerPort=7070<font></font>
  FeatureType=1<font></font>
$ reboot</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CentOSに7のダウンロードリンクのためのLinux仮想配信エージェント1811（VDA）をダウンロード</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LinuxのVDAすること</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、認可後に利用可能である</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrix社の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Webサイト</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="bash hljs">$ yum install -y LinuxVDA-1811.el7_x.rpm<font></font>
$ cat /var/xdl/mcs/mcs.conf<font></font>
  <span class="hljs-comment">#!/bin/bash</span><font></font>
  dns1=192.168.1.110<font></font>
  NTP_SERVER=some.ntp.ru<font></font>
  AD_INTEGRATION=winbind<font></font>
  SUPPORT_DDC_AS_CNAME=N<font></font>
  VDA_PORT=80<font></font>
  REGISTER_SERVICE=Y<font></font>
  ADD_FIREWALL_RULES=Y<font></font>
  HDX_3D_PRO=Y<font></font>
  VDI_MODE=Y<font></font>
  SITE_NAME=domain.ru<font></font>
  LDAP_LIST=ws-ad.domain.ru<font></font>
  SEARCH_BASE=DC=domain,DC=ru<font></font>
  START_SERVICE=Y<font></font>
$ /opt/Citrix/VDA/sbin/deploymcs.sh<font></font>
$ <span class="hljs-built_in">echo</span> <span class="hljs-string">"exclude=kernel* xorg*"</span> &gt;&gt; /etc/yum.conf</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Citrix Studioで、マシンカタログとデリバリーグループを作成します。</font><font style="vertical-align: inherit;">この前に、Windows Serverをインストールして構成する必要があります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドメインコントローラを備えたWindows Server</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Server 2016をダウンロードしてインストールする方法 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows Serverコンポーネントをインストールする方法 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Active Directory、DHCP、およびDNSを構成する方法</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windowsサーバー2016</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows Serverを搭載した仮想マシン（VM）はGPUを必要としないため、GPUを使用しないサーバーをハイパーバイザーとして使用します。上記の説明と同様に、システム仮想マシンをホストするための別のXenServerをインストールします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、Active Directoryを使用してWindows Server用の仮想マシンを作成します。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Microsoftの</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
WebサイトからWindows Server 2016をダウンロードします</font><font style="vertical-align: inherit;">。 Internet Explorerを使用してリンクにアクセスすることをお勧めします。</font><font style="vertical-align: inherit;">
XenCenterを使用して、仮想マシンを作成します。 [VM]タブで、[新しいVM]をクリックします。</font><font style="vertical-align: inherit;">
必要なパラメーターを選択します</font><font style="vertical-align: inherit;">
。VM </font><font style="vertical-align: inherit;">
テンプレート-Windows Server 2016（64ビット）</font><font style="vertical-align: inherit;">名前-ws-ad.domain.ru </font><font style="vertical-align: inherit;">
ISOライブラリからインストール</font><font style="vertical-align: inherit;">-WindowsServer2016.iso </font><font style="vertical-align: inherit;">、マウントされたNFS ISOストレージから選択します。</font><font style="vertical-align: inherit;">
vCPUの数-4</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/9t/u3/br/9tu3brk0d6qqy6k6drtf7gd2sig.png"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/im/ea/yf/imeayf3rgvlrpaq4kqer_ofoei0.png"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トポロジ-1ソケット（ソケットあたり4コア）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メモリ-20 Gb </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GPUタイプ-なし</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この仮想ディスクを使用-100 Gb </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワーク</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成後、仮想マシンは左側の縦のリストに表示されます。それをクリックして、「コンソール」タブに移動します。 Windows Serverインストーラーが読み込まれ、OSのインストールに必要な手順を完了するまで待ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenTools VMにインストールします。 VMを右クリックし、[Citrix VM Toolsをインストール...]をクリックします。その後、XenToolsを実行およびインストールするために必要なイメージがマウントされます。インストールの最後に、VMの再起動が必要になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
設定したネットワークアダプタ：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPアドレス- 192.168.1.110 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マスク- 255.255.255.0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲートウェイ- 192.168.1.1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DNS1 - 8.8.8.8 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DNS2 - 8.8.4.4</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows Serverがアクティブ化されていない場合は、アクティブ化します。</font><font style="vertical-align: inherit;">キーは、イメージがダウンロードされた同じ場所で取得できます。</font></font><br>
<br>
<pre><code class="bash hljs">[PowerShell]$ slmgr -ipk xxxxx-xxxxx-xxxxx-xxxxx-xxxxx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンピュータ名を設定します。</font><font style="vertical-align: inherit;">私の場合、これはws-adです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンポーネントのインストール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーマネージャーで、[役割と機能の追加]を選択します。</font><font style="vertical-align: inherit;">DHCPサーバー、DNCサーバー、およびActive Directoryドメインサービスのインストールに注意してください。</font><font style="vertical-align: inherit;">[自動的に再読み込み]チェックボックスをオンにします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r2/5c/mk/r25cmkhjpon52zta-7ysbpffyig.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクティブディレクトリを構成する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMを再起動したら、[このサーバーをドメインコントローラーレベルに上げる]をクリックして、新しいdomain.ruフォレストを追加します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DHCPサーバーのセットアップ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーマネージャーの上部パネルで、感嘆符をクリックして、DHCPサーバーのインストール時に変更を保存します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DHCPサーバーの設定に移りましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wf/t6/pg/wft6pgjw4_lxdcvqa0rkphy4hhe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいエリア192.168.1.120-130を作成します。</font><font style="vertical-align: inherit;">残りは変更しません。</font><font style="vertical-align: inherit;">[今すぐDHCP設定を構成する]を選択し、ゲートウェイとしてws-ad IPアドレス（192.168.1.110）を入力します。これは、仮想マシンのネットワークアダプターの設定でディレクトリから指定されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNSサーバーのセットアップ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DNSサーバーの設定に移りましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sg/pc/kc/sgpckcwrrfz4z-6jy5pf0ibbnbo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
domain.ruドメイン内のすべてのDNSサーバーに対して、直接表示の新しいゾーン-プライマリゾーンを作成してみましょう。</font><font style="vertical-align: inherit;">それ以外は変更しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じオプションを選択して、新しい逆引き参照ゾーンを作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DNSサーバーのプロパティの[詳細設定]タブで、[再帰を無効にする]チェックボックスをオンにします。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストユーザーを作成する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「Active Directory管理センター」に行きましょう</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tp/4s/si/tp4ssidqmpefwnpa1excc5oexii.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
右側の「ユーザー」セクションで、「作成」をクリックします。</font><font style="vertical-align: inherit;">名前（例：test）を入力し、下の[OK]をクリックします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/vd/pm/b-vdpmjw8osh9g0tor-ab0jl4sg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成したユーザーを選択し、右側の垂直メニューで「パスワードのリセット」を選択します。</font><font style="vertical-align: inherit;">「次回システムにログオンするときにパスワードの変更を要求する」というチェックマークを残します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrix Delivery Controllerを搭載したWindows Server</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windows Server 2016をダウンロードしてインストールする方法 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Citrix Delivery Controllerをダウンロードしてインストールする方法は？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Citrix License Managerをインストールして構成するにはどうすればよいですか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NVIDIA License Managerをインストールして構成するにはどうすればよいですか？</font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Windowsサーバー2016</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows Serverを搭載した仮想マシン（VM）はGPUを必要としないため、GPUを使用しないサーバーをハイパーバイザーとして使用します。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Microsoftの</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
WebサイトからWindows Server 2016をダウンロードします</font><font style="vertical-align: inherit;">。 Internet Explorerを使用してリンクにアクセスすることをお勧めします。</font><font style="vertical-align: inherit;">
XenCenterを使用して、仮想マシンを作成します。 [VM]タブで、[新しいVM]をクリックします。</font><font style="vertical-align: inherit;">
必要なパラメーターを選択します</font><font style="vertical-align: inherit;">
。VMテンプレート-Windows Server 2016（64ビット）</font><font style="vertical-align: inherit;">
名前-ws-dc </font><font style="vertical-align: inherit;">
ISOライブラリからインストール</font><font style="vertical-align: inherit;">-WindowsServer2016.iso </font><font style="vertical-align: inherit;">、マウントされたNFS ISOストレージから選択します。</font><font style="vertical-align: inherit;">
vCPUの数-4 </font><font style="vertical-align: inherit;">
トポロジ-ソケットあたり4コアの1ソケット</font><font style="vertical-align: inherit;">
メモリ-20 Gb </font><font style="vertical-align: inherit;">
GPUタイプ-なし</font><font style="vertical-align: inherit;">
この仮想ディスクを使用-100 Gb </font><font style="vertical-align: inherit;">
ネットワーク</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/9t/u3/br/9tu3brk0d6qqy6k6drtf7gd2sig.png"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/im/ea/yf/imeayf3rgvlrpaq4kqer_ofoei0.png"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作成後、仮想マシンは左側の縦のリストに表示されます。それをクリックして、「コンソール」タブに移動します。 Windows Serverインストーラーが読み込まれ、OSのインストールに必要な手順が完了するまで待機します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
XenTools VMにインストールします。 VMを右クリックし、[Citrix VM Toolsをインストール...]をクリックします。その後、XenToolsを実行およびインストールするために必要なイメージがマウントされます。インストールの最後に、VMの再起動が必要になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
設定したネットワークアダプタ：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPアドレス- 192.168.1.111 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マスク- 255.255.255.0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲートウェイ- 192.168.1.1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DNS1 - 8.8.8.8 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DNS2 - 8.8.4.4 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
のWindows Serverがアクティブ化されていない場合、我々はそれをアクティブにします。キーは、イメージがダウンロードされた同じ場所で取得できます。</font></font><br>
<br>
<pre><code class="bash hljs">[PowerShell]$ slmgr -ipk xxxxx-xxxxx-xxxxx-xxxxx-xxxxx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンピュータ名を設定します。</font><font style="vertical-align: inherit;">私の場合、これはws-dcです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMをドメインdomen.ruに追加し、再起動して、ドメイン管理者アカウントDOMEN \ Administratorでログインします。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrix配信コントローラー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Citrix Virtual Apps and Desktops 1811をws-dc.domain.comからダウンロードします。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrix Virtual Apps and Desktops</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンロードリンク</font><font style="vertical-align: inherit;">は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Webサイトにログインすると表示され</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ik/wy/--/ikwy--onnx7q_qlpdy8jjrn9_qi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ダウンロードしたisoをマウントして実行します。</font><font style="vertical-align: inherit;">Citrix Virtual Apps and Desktops 7を選択します。</font><font style="vertical-align: inherit;">次に、「はじめに」をクリックします。</font><font style="vertical-align: inherit;">再起動が必要な場合があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/-l/x5/po-lx5nd34-fuw7gibvgajcg42w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の場合、インストールには次のコンポーネントを選択するだけで十分</font><font style="vertical-align: inherit;">
です</font><font style="vertical-align: inherit;">
。Delivery </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Controller </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Studio </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
License Server </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StoreFront </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何も変更せずに、[インストール]をクリックします。</font><font style="vertical-align: inherit;">再起動が2回以上必要になります。その後、インストールが続行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストールが完了するとすぐに、Citrixファーム管理環境であるCitrix Studioが起動します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tp/4q/_x/tp4q_xeo9tdviobu4zaannj-vfk.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrix Site Setup</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3つの最初のセクション-サイトのセットアップを選択します。</font><font style="vertical-align: inherit;">設定するときは、サイト名-ドメインを指定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「接続」セクションでは、我々はGPUでハイパーバイザーを接続するためのデータを指定：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接続アドレス- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.1.100</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ユーザー名-ルート</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パスワード-あなたのパスワード</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接続名- M60 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハイパーバイザーへのローカル使用のストレージ-店舗管理を。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのリソースの名前-m60。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネットワークを選択します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GPUタイプとグループを選択します-GRID M60-4Q。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrixマシンカタログのチューニング</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のセクション（マシンカタログ）を設定するときは、[シングルセッションOS（デスクトップOS）]を選択します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マスターイメージ-準備された仮想マシンイメージとCitrix Virtual Apps and Desktops-1811のバージョンを選択します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディレクトリ内の仮想マシン</font><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">数（例：4）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を選択します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">仮想マシンの名前の付け方を示します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">この</font><font style="vertical-align: inherit;">例</font><font style="vertical-align: inherit;">では、これはデスクトップ##です。</font><font style="vertical-align: inherit;">この場合、desktop01-04という名前の4つのVMが作成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マシンカタログ名-m60。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機械カタログの説明-m60。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4つのVMを含むマシンカタログを作成すると、左側のXenCenterの垂直リストにそれらが表示されます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrixデリバリーグループ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3番目のセクションでは、まず、アクセスを許可するVMの数を選択します。</font><font style="vertical-align: inherit;">4つすべてを示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[デスクトップ]セクションで、[追加]をクリックして、アクセスを提供するVMグループを追加します。</font><font style="vertical-align: inherit;">表示名-m60。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デリバリーグループ名-m60。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3つのメインセクションを設定すると、Citrix Studioのメインウィンドウは次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kb/s3/up/kbs3up5h_utcj8db_caznbwgo_i.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrixライセンスマネージャー</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrix</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Webサイトの個人アカウントからライセンスファイルをダウンロードします</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
左側の縦のリストで、[すべてのライセンスツール（レガシー）]を選択します。 「ライセンスのアクティブ化と割り当て」タブに移動します。 Citrix VDAライセンスを選択し、[続行]をクリックします。デリバリーコントローラーの名前を指定します-ws-dc.domain.ruとライセンスの数-4. [続行]をクリックします。生成されたws-dc.domain.ruのライセンスファイルをダウンロードします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-f/6o/tg/-f6otgoimp8n0qh_xdcrfvf5hew.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Citrix Studioの左側の縦のリストで、「ライセンス」セクションを選択します。右側の縦のリストで、[ライセンス管理コンソール]をクリックします。開いたブラウザウィンドウで、ドメインユーザーDOMEN \ Administratorの承認用のデータを入力します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Citrix Licensing Managerで、「ライセンスのインストール」タブに移動します。ライセンスファイルを追加するには、[ダウンロードしたライセンスファイルを使用する]を選択します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bo/sy/rz/bosyrz3sj4ysmjs0vlwfhcp36ki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Citrixコンポーネントのインストールには、複数の仮想マシン、1つのコンポーネント-1つのVMの使用が含まれます。</font><font style="vertical-align: inherit;">私の場合、すべてのCitrixシステムサービスは同じVM内で動作します。</font><font style="vertical-align: inherit;">この点で、私は1つのバグに気づきました。バグの修正は私にとって特に困難でした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ws-dcを再起動した後に別の性質の問題がある場合は、最初に実行中のサービスを確認することをお勧めします。</font><font style="vertical-align: inherit;">次に、VMの再起動後に自動的に開始されるCitrixサービスのリストを示します。</font></font><br>
<br>
<pre><code class="plaintext hljs">SQL Server (SQLEXPRESS)<font></font>
Citrix Configuration Service<font></font>
Citrix Delegated Administration Service<font></font>
Citrix Analytics<font></font>
Citrix Broker Service<font></font>
Citrix Configuration Logging Service<font></font>
Citrix AD Identity Service<font></font>
Citrix Host Service<font></font>
Citrix App Library<font></font>
Citrix Machine Creation Service<font></font>
Citrix Monitor Service<font></font>
Citrix Storefront Service<font></font>
Citrix Trust Service<font></font>
Citrix Environment Test Service<font></font>
Citrix Orchestration Service<font></font>
FlexNet License Server -nvidia</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単一のVMにさまざまなCitrixサービスをインストールするときに発生する問題が発生しました。</font><font style="vertical-align: inherit;">再起動後、すべてのサービスが開始されるわけではありません。</font><font style="vertical-align: inherit;">チェーン全体の実行は怠惰でした。</font><font style="vertical-align: inherit;">解決策は難しいグーグルだったので、ここに持ってきます-レジストリで2つのパラメーターを変更する必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">HKEY_LOCAL_MACHINE\SYSTEM\CurrentControlSet\Control<font></font>
Name : ServicesPipeTimeout<font></font>
Value :240000<font></font>
<font></font>
Name : WaitToKillServiceTimeout<font></font>
Value : 20000</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nvidiaライセンスマネージャー</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nvid.nvidia.comの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
個人アカウントからWindows用のNVIDIA License Managerをダウンロードします</font><font style="vertical-align: inherit;">。 Internet Explorerを使用することをお勧めします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/au/hb/ih/auhbihphsv81hapm3cpgpxjbcmi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ws-dcにインストールします。これを行うには、まず</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JAVA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をインストールして</font><font style="vertical-align: inherit;">、環境変数JAVA_HOMEを追加</font><font style="vertical-align: inherit;">する必要があり</font><font style="vertical-align: inherit;">ます。その後、setup.exeを実行してNVIDIA License Managerをインストールできます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nv/bd/wu/nvbdwuyf4xtx-fsqqpa2qwzunke.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーを作成し、サイト</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nvid.nvidia.comの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">個人アカウントにライセンスファイルを生成してダウンロードしましょう</font><font style="vertical-align: inherit;">。 ws-dcのライセンスファイルを転送しましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r-/ui/zb/r-uizbl706_p1w35j27fk0lv2wu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブラウザーを使用して、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">localhost</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：8080 / licserver </font><font style="vertical-align: inherit;">で利用可能なNVIDIAライセンスマネージャーWebインターフェイスにログインし</font><font style="vertical-align: inherit;">、ライセンスファイルを追加します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/ut/oc/viutocj16sitn-q_diao-oehmfa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vGPUを使用したアクティブなセッションは、[ライセンス済みクライアント]セクションで確認できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrixマシンカタログへのリモートアクセス</font></font></h2><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Citrix Receiverをインストールする方法？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仮想デスクトップに接続する方法は？</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
稼働中のコンピューターでブラウザー（私の場合はChrome）を開き、Citrix StoreWebのWebインターフェースのアドレスにアクセスします。</font></font><br>
<br>
<pre><code class="bash hljs">http://192.168.1.111/Citrix/StoreWeb</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Citrix Receverがまだインストールされていない場合は、「Discover Receiver」をクリックします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ri/iv/nh/riivnhuygym-oivw0iaq0hghr_g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用許諾契約</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">注意深く読み、Citrix Receiverをダウンロードしてインストールします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r3/9b/cd/r39bcddyu-e57s9tpk6gj-o19vg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストール後、ブラウザーに戻り、「続行」をクリックします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ia/vw/dg/iavwdgrxnyukfifcb03b0gvbyf4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Chromeブラウザーで通知が開き、「Citrix Receiver Launcherアプリケーションを開く」をクリックします。 、次に「再検出」または「インストール済み」</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7o/hs/bx/7ohsbxmdogzv7tvdwji5xwa1xam.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の接続では、テストユーザーテストのデータを使用します。</font><font style="vertical-align: inherit;">一時的なパスワードを永続的なパスワードに変更します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/as/9k/l0/as9kl0vlibg4fmhts2rjgrsupvw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
承認後、「アプリケーション」タブに移動して「M60」</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j9/fb/md/j9fbmdbevvo42-2su76ifsaisnk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ディレクトリ</font><font style="vertical-align: inherit;">を選択し</font><font style="vertical-align: inherit;">、提案されたファイルに拡張子.icaをダウンロードします。</font><font style="vertical-align: inherit;">それをダブルクリックした後、Centos 7デスクトップでDesktop Veiwerにウィンドウが開きます</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n2/70/3p/n2703pzygelapwl6ixj7n5wcgfm.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja497808/index.html">3Dは自分で行います。パート2：それは3次元です</a></li>
<li><a href="../ja497810/index.html">PVS Studio.VS。GCC 10の統計分析。独立したミニテスト</a></li>
<li><a href="../ja497812/index.html">MITの科学者は、夢を少なくとも部分的に制御できるデバイスを開発しています</a></li>
<li><a href="../ja497814/index.html">不可避を受け入れる5つの段階、または自動プロファイリングのプログラムの開発方法</a></li>
<li><a href="../ja497816/index.html">ロシア鉄道は私に誰かのチケットを送ります</a></li>
<li><a href="../ja497820/index.html">それらに対する誤った逆問題の統計的正則化。Turchin（パート1）</a></li>
<li><a href="../ja497822/index.html">瓶の中の男</a></li>
<li><a href="../ja497826/index.html">OPSIを使用して世界をすばやくキャプチャしたり、Windowsコンピューターのネットワークを管理する方法</a></li>
<li><a href="../ja497828/index.html">2 in 1：セキュリティ保護付きの暗号化</a></li>
<li><a href="../ja497830/index.html">OWASPモスクワ2020/1レコーディング</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>