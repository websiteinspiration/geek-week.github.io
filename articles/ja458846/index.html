<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â¬…ï¸ ğŸ¤› ğŸ‘ğŸ» Unityã‚’ä½¿ç”¨ã—ã¦åˆ¥ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒãƒ¼ã‚’é–‹ç™ºã™ã‚‹æ–¹æ³•ã€‚åˆ¥ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ« ğŸ§“ğŸ½ ğŸ¥¦ ğŸ¢</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ã“ã‚“ã«ã¡ã¯ã€ãƒãƒ–ãƒ«ï¼
 

2Dã‚²ãƒ¼ãƒ ã®ãƒ¬ãƒ™ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³ã¨å‘¼ã°ã‚Œã‚‹Habrã«é–¢ã™ã‚‹è¨˜äº‹ã®ç¿»è¨³ã«åŸºã¥ã„ã¦ã€ç§ãŒã‚²ãƒ¼ãƒ ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ç›®æ¨™ã‚’ã©ã®ã‚ˆã†ã«è¨­å®šã—ãŸã‹ã‚’ä¼ãˆã‚‹åˆ¥ã®è¨˜äº‹ãŒã‚«ãƒƒãƒˆã®ä¸‹ã§ã‚ãªãŸã‚’å¾…ã£ã¦ã„ã¾ã™ã€‚
 

è¨˜äº‹ã«ã¯å¤šãã®ãƒ†ã‚­ã‚¹ãƒˆï¼ˆé€šå¸¸ã¨ã‚½ãƒ¼ã‚¹ã®ä¸¡æ–¹ï¼‰ã¨å¤šãã®å†™çœŸãŒã‚ã‚Šã¾ã™ã€‚
 

...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Unityã‚’ä½¿ç”¨ã—ã¦åˆ¥ã®ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒãƒ¼ã‚’é–‹ç™ºã™ã‚‹æ–¹æ³•ã€‚åˆ¥ã®ãƒãƒ¥ãƒ¼ãƒˆãƒªã‚¢ãƒ«</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/458846/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã‚“ã«ã¡ã¯ã€ãƒãƒ–ãƒ«ï¼</font></font></p><br>
<p><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2Dã‚²ãƒ¼ãƒ ã®ãƒ¬ãƒ™ãƒ«ãƒ‡ã‚¶ã‚¤ãƒ³ãƒ‘ã‚¿ãƒ¼ãƒ³</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨å‘¼ã°ã‚Œã‚‹Habrã«é–¢ã™ã‚‹è¨˜äº‹ã®ç¿»è¨³ã«åŸºã¥ã„ã¦ã€ç§ãŒã‚²ãƒ¼ãƒ ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ç›®æ¨™ã‚’ã©ã®ã‚ˆã†ã«è¨­å®šã—ãŸã‹ã‚’ä¼ãˆã‚‹åˆ¥ã®è¨˜äº‹ãŒã‚«ãƒƒãƒˆã®ä¸‹ã§ã‚ãªãŸã‚’å¾…ã£ã¦ã„ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¨˜äº‹ã«ã¯å¤šãã®ãƒ†ã‚­ã‚¹ãƒˆï¼ˆé€šå¸¸ã¨ã‚½ãƒ¼ã‚¹ã®ä¸¡æ–¹ï¼‰ã¨å¤šãã®å†™çœŸãŒã‚ã‚Šã¾ã™ã€‚</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€åˆã®è¨˜äº‹ã‚’å§‹ã‚ã‚‹å‰ã«ã€ã‚ãªãŸã®ã“ã¨ã‚’çŸ¥ã£ã¦ãŠãã¾ã—ã‚‡ã†ã€‚ç§ã®åå‰ã¯ãƒ‡ãƒ‹ã‚¹ã§ã™ã€‚ç§ã¯åˆè¨ˆ7å¹´ã®çµŒé¨“ã‚’æŒã¤ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã¨ã—ã¦åƒã„ã¦ã„ã¾ã™ã€‚ã‚·ã‚¹ãƒ†ãƒ ç®¡ç†è€…ã¯ã€æ…é‡ã«1åº¦å±•é–‹ã—ãŸå¾Œã€ãƒ¢ãƒ‹ã‚¿ãƒ¼ä¸Šã§ã•ã¾ã–ã¾ãªã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã®ã¡ã‚‰ã¤ãã‚’æ¤œè¨ã™ã‚‹ä¸€ç¨®ã®ITã‚¹ã‚¿ãƒƒãƒ•ã§ã‚ã‚‹ã¨è¨€ã£ã¦ã„ã‚‹ã®ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚æ™‚é–“ãŒçµŒã¤ã«ã¤ã‚Œã€çŸ¥è­˜ã®å¢ƒç•Œã‚’åºƒã’ã¦ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«åˆ‡ã‚Šæ›¿ãˆã‚‹ã¨ããŒããŸã¨ã„ã†çµè«–ã«é”ã—ã¾ã—ãŸã€‚è©³ç´°ã«ã¯è§¦ã‚Œãšã«ã€C ++ã¨Pythonã§ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆã—ã‚ˆã†ã¨ã—ã¾ã—ãŸã€‚ã—ã‹ã—ã€1å¹´ä»¥ä¸Šã®ç ”ç©¶ã®çµæœã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã¨ã‚·ã‚¹ãƒ†ãƒ ã‚½ãƒ•ãƒˆã‚¦ã‚§ã‚¢ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¯ç§ã®ã‚‚ã®ã§ã¯ãªã„ã¨ã„ã†çµè«–ã«é”ã—ã¾ã—ãŸã€‚ã•ã¾ã–ã¾ãªç†ç”±ã§ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚‚ã£ã¨æ·±ãè€ƒãˆã¦ã€ç§ã¯è‡ªåˆ†è‡ªèº«ã«è³ªå•ã—ã¾ã—ãŸã€‚ç•°ãªã‚‹ç¨®é¡ã®ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°æ©Ÿå™¨ã§æœ¬å½“ã«ä½•ã‚’ã—ãŸã„ã®ã§ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">ç§è‡ªèº«ã¸ã®ç§ã®è³ªå•ã¯ã€ç§ã‚’å¹¼å¹´æœŸã€ã¤ã¾ã‚ŠPS1ã€PS2ã€PCç”¨ã®Railroad Tycoon 3ã«è²»ã‚„ã—ãŸå¹¸ã›ãªæ™‚é–“ã«ç§ã‚’é ãã«æŠ•ã’è¾¼ã¿ã¾ã—ãŸ...ã€ã¾ã‚ã€ã‚ãªãŸã¯ç†è§£ã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ†ãƒ¬ãƒ“ã‚²ãƒ¼ãƒ ï¼</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã•ã¾ã–ã¾ãªãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°è³‡æ–™ã®æ•°ã«ã‚ˆã£ã¦ã€é¸æŠè‚¢ã¯Unityã«ã‚ã‚Šã¾ã—ãŸï¼ˆè»Šè¼ªã‚’å†ç™ºæ˜ã—ãªã„ã®ã§ã™ã‹ï¼Ÿï¼‰ã€‚</font><font style="vertical-align: inherit;">ã•ã¾ã–ã¾ãªè³‡æ–™ã‚’1ã‹æœˆé–“èª­ã‚“ã§è¦‹ãŸå¾Œã€ç§ã¯æœ€åˆã®éå¸¸ã«ã‚·ãƒ³ãƒ—ãƒ«ãªå­ä¾›å‘ã‘ã‚²ãƒ¼ãƒ ã‚’ãƒ—ãƒ¬ã‚¤ãƒãƒ¼ã‚±ãƒƒãƒˆã«ãƒªãƒªãƒ¼ã‚¹ã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã„ã‚ã°ææ€–ã‚’å…‹æœã™ã‚‹ã“ã¨ã€‚</font><font style="vertical-align: inherit;">çµå±€ã®ã¨ã“ã‚ã€ãƒ—ãƒ¬ã‚¤å¸‚å ´ã§ã®ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒªãƒªãƒ¼ã‚¹ã¯æ€–ããªã„ã§ã™ã‚ˆã­ï¼Ÿ</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°ãƒ¶æœˆå¾Œã€ç§ã¯ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒãƒ¼ã‚’ã™ã§ã«ã‚ˆã‚Šè¤‡é›‘ã«ãƒªãƒªãƒ¼ã‚¹ã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ãã®å¾Œã€ä¼‘æ†©ãŒã‚ã‚Šã¾ã—ãŸï¼ˆçµå±€ã®ã¨ã“ã‚ã€ä½œæ¥­ã¯å–ã‚Šçµ„ã¾ãªã‘ã‚Œã°ãªã‚Šã¾ã›ã‚“ï¼‰ã€‚</font></font></p><br>
<p>                2D- (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://habr.com/ru/post/456152/</a>)     â€”   ?          ,     ,    .       OneNote       (   ).</p><br>
<p>     ?  .      â€”   ,   .   ,    -  â€”      .   ,    -  â€”    . </p><br>
<p>        .</p><br>
<h3></h3><br>
<p><em>,     . ,     Super Mario Bros (Nintendo, 1985 ). </em></p><br>
<p>  ,   ,    .  :</p><br>
<pre><code class="plaintext hljs">â€¢   ( )<font></font>
â€¢     <font></font>
â€¢     <font></font>
â€¢      <font></font>
â€¢       </code></pre><br>
<p>  ,        .    .            Unity. ,    ,       <strong>SptiteMode</strong>  <strong>Single</strong>  <strong>Multiple</strong>.</p><br>
<p><img src="https://habrastorage.org/webt/xx/ot/ny/xxotnyobz6-0kunbcizdwwk-4zu.png" alt="ç”»åƒ"></p><br>
<p> <strong>Apply</strong>,  <strong>SpriteEditor</strong>.</p><br>
<p>  <strong>Sprite Editor</strong>            .</p><br>
<p> ,  Unity        .     <strong>Sprite Editor</strong>    <strong>Slice</strong>.         <strong>Type =&gt; Automatic, Pivot =&gt; Center</strong>. ,     â€”    <strong>Slice</strong>. ,       .</p><br>
<img src="https://habrastorage.org/webt/bf/tb/kv/bftbkvncerh-ybaf6_nlgaxprdg.png"><br>
<p>      . ,        .     .  ,  .<br>
   .   ,        <strong>Hierarchy</strong>      <strong>Create Empty</strong></p><br>
<img src="https://habrastorage.org/webt/l1/zb/ap/l1zbap5u09_kzb1mllj1tqwizgw.png"><br>
<p>  ,    ,       â€” <strong>Transform</strong>.       ,     .</p><br>
<p>    <strong>transform</strong>    :</p><br>
<blockquote><ul>
<li><strong>Transform</strong> â€”  .    , Transform  <strong> </strong> ,            .</li>
<li><strong>transform</strong> â€”   .  , <strong>     </strong>        . ,     :<br>
<pre><code class="cs hljs">transform.position = <span class="hljs-keyword">new</span> Vector2 (transform.position.x + dirX, transform.position.y + dirY);.</code></pre><br>
<br>
        .</li>
</ul><br>
</blockquote><p>    ,        <strong>Add Component</strong>. ,      .       (   ),      , Unity     .     <strong>HeroScript.cs</strong>.</p><br>
<img src="https://habrastorage.org/webt/fi/hf/gn/fihfgnpyl-ndmnx23l8mbotdh4a.png"><br>
<p>,  ,            :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">private</span> Animator animator; <span class="hljs-comment">//      .</span>
<span class="hljs-keyword">private</span> Rigidbody2D rb2d;   <span class="hljs-comment">//rb    </span></code></pre></div></div><br>
<p>, ,     :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-comment">/*  ,     */</span><font></font>
    Vector3 localScale;<font></font>
    <span class="hljs-keyword">bool</span> facingRight = <span class="hljs-literal">true</span>;<font></font>
    [<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> dirX, dirY; <span class="hljs-comment">//   </span>
    [<span class="hljs-meta">Range(1f, 20f)</span>]<font></font>
    [<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> moveSpeed; <span class="hljs-comment">//   </span>
    <span class="hljs-keyword">private</span> SpriteRenderer sprite; <span class="hljs-comment">//   SpriteRenderer</span>
    <span class="hljs-comment">/*   ,     */</span></code></pre></div></div><br>
<p> , . ,      ,       .      :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-comment">/*
*      .
*        
*    .
*/</span>
<span class="hljs-keyword">public</span> <span class="hljs-keyword">enum</span> CharState<font></font>
{<font></font>
    idle, <span class="hljs-comment">//   0</span>
    Run, <span class="hljs-comment">//    1</span>
    Walk, <span class="hljs-comment">//    2</span>
    Die <span class="hljs-comment">//   3</span>
}</code></pre></div></div><br>
<p> ,        :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">public</span> CharState State<font></font>
    {<font></font>
        <span class="hljs-keyword">get</span>
    {<span class="hljs-comment">//    CharState    animator       int</span>
    <span class="hljs-keyword">return</span> (CharState)animator.GetInteger(<span class="hljs-string">"State"</span>);<font></font>
        } <font></font>
        <span class="hljs-keyword">set</span>
        { <span class="hljs-comment">//    animator     int    State       ,      int.</span>
    animator.SetInteger(<span class="hljs-string">"State"</span>, (<span class="hljs-keyword">int</span>)<span class="hljs-keyword">value</span>);<font></font>
    }<font></font>
    }</code></pre></div></div><br>
<p>   .       ,      . ,  .    Unity      ,    int   .</p><br>
<p> ,          . ,   ,     Unity        ,      .</p><br>
<p><img src="https://habrastorage.org/webt/zx/md/y8/zxmdy88fwc5gglpbjz3bkj0rjfq.png" alt="ç”»åƒ"></p><br>
<p>     .  ,           -   <strong>Play</strong>.    ,    <strong>Animator</strong>.         ,    <strong>Entry</strong>    ,   . <strong>AnyState</strong>          .  ,   ,     <strong>AnyState</strong>       <strong>Make Transaction</strong>      .       .  ,    ,      .</p><br>
<p><img src="https://habrastorage.org/webt/-d/0d/7j/-d0d7j-y1okjqhr6wgywx2ht768.png" alt="ç”»åƒ"></p><br>
<p>   ,      <strong>State</strong>,    .    ,     .  <strong>Parameters</strong>.      <strong>int State</strong>. ,     .  ,       <strong>Can Transaction To Self</strong>.                   <strong>Conditions</strong>,   ,       3  <strong>State</strong>.   Unity  ,   .<br>
     .  .</p><br>
<p> ,     .     .     ,  ,         .  ,   <strong>Assets Store</strong>    Standart Assets,     ,    ,  :</p><br>
<p><strong> â€¢ CrossPlatformInput<br>
â€¢ Editor<br>
â€¢ Environment</strong></p><br>
<p>  ,   Unity        <strong>Mobile Input</strong>.  .</p><br>
<p>    <strong>UI</strong>  â€”  .  4    . , ,   .   Image   ,    ,   .       :</p><br>
<img src="https://habrastorage.org/webt/c6/jv/kk/c6jvkketndj8sqq4vodxamn-oni.png"><br>
<p>     <strong>AxisTouchButton</strong>.     4 .  <strong>axisName</strong> ,      .  <strong>axisValue</strong>   ,      .  <strong>responseSpeed</strong>   ,        .  <strong>returnToCentreSpeed</strong>   ,       .       .      <strong>axisValue</strong>  -1,    .       <strong>axisName</strong>  <strong>Vertical</strong>.    <strong>axisValue</strong>   1,   -1.</p><br>
<p>,  <strong>HeroScript.cs</strong>.    <strong>using</strong>   </p><br>
<pre><code class="cs hljs"><span class="hljs-keyword">using</span> UnityStandardAssets.CrossPlatformInput; <span class="hljs-comment">//    .</span></code></pre><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs">       :
    <span class="hljs-comment">/*  ,     */</span>
    Vector3 localScale; <span class="hljs-comment">//  </span>
    <span class="hljs-keyword">bool</span> facingRight = <span class="hljs-literal">true</span>; <font></font>
    [<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> dirX, dirY; <span class="hljs-comment">//   </span>
    [<span class="hljs-meta">Range(1f, 20f)</span>]<font></font>
    [<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> moveSpeed; <span class="hljs-comment">//   </span>
    <span class="hljs-keyword">private</span> SpriteRenderer sprite; <span class="hljs-comment">//   SpriteRenderer</span>
    <span class="hljs-comment">/*   ,     */</span></code></pre></div></div><br>
<p>   Start   :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs">  <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
    localScale = transform.localScale;<font></font>
        animator = GetComponent&lt;Animator&gt;(); <span class="hljs-comment">//     .</span>
        sprite = GetComponent&lt;SpriteRenderer&gt;(); <span class="hljs-comment">//  SpriteRenderer</span><font></font>
        rb = GetComponent&lt;Rigidbody2D&gt;();<font></font>
        State = CharState.idle;<font></font>
    }</code></pre></div></div><br>
<p> ,      :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">MoveHero</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        dirX = CrossPlatformInputManager.GetAxis (<span class="hljs-string">"Horizontal"</span>) * moveSpeed * Time.deltaTime;<font></font>
        dirY = CrossPlatformInputManager.GetAxis (<span class="hljs-string">"Vertical"</span>) * moveSpeed * Time.deltaTime;<font></font>
        transform.position = <span class="hljs-keyword">new</span> Vector2 (transform.position.x + dirX, transform.position.y + dirY);<font></font>
    }</code></pre></div></div><br>
<p> ,   .  <strong>dirX</strong>  <strong>DirY</strong>      ,     (<strong>Horizontlal</strong>  <strong>Vertical</strong>)    (     )        .<br>
<strong>transform.position</strong>      <strong>Transform</strong>   .</p><br>
<p>   ,      â€”     ,      ,   .     <strong>Idle</strong>   ,     .  ,   .  ,  ,     :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">CheckWhereToFace</span> (<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">if</span> (dirX &gt; <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            facingRight = <span class="hljs-literal">true</span>;<font></font>
            State = CharState.Walk;<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> (dirX &lt; <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            facingRight = <span class="hljs-literal">false</span>;<font></font>
            State = CharState.Walk;<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> (dirX == <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            State = CharState.idle;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (dirY &lt; <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            State = CharState.Walk;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (dirY &gt; <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            State = CharState.Walk;<font></font>
        }<font></font>
<span class="hljs-keyword">if</span> (((facingRight) &amp;&amp; (localScale.x &lt; <span class="hljs-number">0</span>)) || ((!facingRight) &amp;&amp; (localScale.x &gt; <span class="hljs-number">0</span>)))<font></font>
            localScale.x *= <span class="hljs-number">-1</span>;<font></font>
<font></font>
transform.localScale = localScale;</code></pre></div></div><br>
<p>         .  ,   <strong>dirX</strong> &gt; 0 (   ),          .   0,     180    .  <strong>dirX</strong>  ,        .</p><br>
<p>       <strong>Scale</strong> ,   <strong>flipX = true</strong>?  ,      -     ,       -.      ,  ,              (),      .    ,     - ,    .</p><br>
<p>  <strong> CheckWhereToFace()</strong>   <strong>Update()</strong>,    .</p><br>
<p>.  2   5 .    . ,    3  ,   ,    .   ,     .            .    ,       <strong>UI =&gt; Panel</strong>.</p><br>
<p>   ,   </p><br>
<p><img src="https://habrastorage.org/webt/yp/oz/fs/ypozfsb3q_vygo6usfn1t_btnyc.png" alt="ç”»åƒ"></p><br>
<p>     (Image)   ().    .    (  ),    (Image)   ,     Image  .  Image   .   Image,       Image <strong>Type = Filled</strong>.         .</p><br>
<p><img src="https://habrastorage.org/webt/ld/vo/qy/ldvoqyj2ioak7ufaycjjmjvbeta.png" alt="ç”»åƒ"></p><br>
<p><img src="https://habrastorage.org/webt/l7/wu/ok/l7wuokjirtsp-p66wixm2zybfbu.png" alt="ç”»åƒ"></p><br>
<p>   :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-comment">/*  ,     */</span>
    [<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">float</span> Health = <span class="hljs-number">100</span>, Eat = <span class="hljs-number">100</span>, Water = <span class="hljs-number">100</span>, _Eat = <span class="hljs-number">0.05f</span>, _Water = <span class="hljs-number">0.1f</span>;  <span class="hljs-comment">//        .    _  .</span>
    <span class="hljs-comment">/*   ,     */</span><font></font>
<font></font>
<span class="hljs-comment">/*  ,      */</span>
    [<span class="hljs-meta">SerializeField</span>]<font></font>
    Image iHealt, iEat, iWater; <span class="hljs-comment">//     </span>
    <span class="hljs-comment">/*   ,      */</span></code></pre></div></div><br>
<p>      .    ,        .  ,           .    :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> <span class="hljs-title">fEat</span>(<span class="hljs-params"><span class="hljs-keyword">float</span> x</span>)</span><font></font>
    {<font></font>
        Eat = Eat - x * Time.deltaTime;<font></font>
        iEat.fillAmount = Eat / <span class="hljs-number">100f</span>;  <span class="hljs-comment">// ,       </span>
        <span class="hljs-keyword">return</span> Eat;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> <span class="hljs-title">fWater</span>(<span class="hljs-params"><span class="hljs-keyword">float</span> x</span>)</span><font></font>
    {<font></font>
        Water = Water - x * Time.deltaTime;<font></font>
        iWater.fillAmount = Water / <span class="hljs-number">100</span>;
        <span class="hljs-keyword">return</span> Water;<font></font>
    }</code></pre></div></div><br>
<p>,  ,        :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">Needs</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">if</span> (fEat(_Eat) &lt; <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            Debug.Log(Eat);<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fEat(<span class="hljs-number">0</span>) == <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            StartCoroutine(ifDie());<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (fWater(_Water) &lt; <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            Debug.Log(Water);<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (fWater(<span class="hljs-number">0</span>) == <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            StartCoroutine(ifDie());<font></font>
        }</code></pre></div></div><br>
<p> <strong>Needs()</strong>   <strong> Update()</strong>    . ,   </p><br>
<pre><code class="cs hljs"><span class="hljs-keyword">if</span> (fEat(_Eat) &lt; <span class="hljs-number">0</span>)</code></pre><br>
<p> ,           <strong>Eat</strong>  <strong>Water</strong>.        0,          .   -      ,     </p><br>
<pre><code class="cs hljs">StartCoroutine(ifDie());</code></pre><br>
<p>      :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function">IEnumerator <span class="hljs-title">ifDie</span>(<span class="hljs-params"></span>)</span><font></font>
{<font></font>
    State = CharState.Die;<font></font>
    <span class="hljs-function"><span class="hljs-keyword">yield</span> return new <span class="hljs-title">WaitForSeconds</span>(<span class="hljs-params"><span class="hljs-number">2</span></span>)</span>;<font></font>
    SceneManager.LoadScene(<span class="hljs-string">"WoodDay"</span>, LoadSceneMode.Single);<font></font>
}</code></pre></div></div><br>
<h3> </h3><br>
<p><em> ,      . :   Super Mario Bros (Nintendo, 1985 ). </em></p><br>
<p> ,          ,      <strong>BoxCollider2D</strong>  <strong>Rigidbody2D</strong>.  ,   ,      <strong>BoxCollider2D</strong>.  <strong>BoxCollider2D</strong>        .       ,        . ,      ,   .   ,        ,   ,      ,    .</p><br>
<img src="https://habrastorage.org/webt/ey/0n/hv/ey0nhvwblv9xamkiyesto7exsve.png"><br>
<p>,    .  ,       . ,    ,               . ,     CTRL+D (     )    .</p><br>
<p><img src="https://habrastorage.org/webt/b6/dm/6t/b6dm6tbsz6mezi1upkenyd9sloa.png" alt="ç”»åƒ"></p><br>
<h3></h3><br>
<p><em> / ,     .</em></p><br>
<p> ,         . ,      :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">public</span> GameObject objectToFollow;
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">float</span> speed = <span class="hljs-number">2.0f</span>;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Update</span> (<span class="hljs-params"></span>)</span> <font></font>
    {<font></font>
        CamFoll();<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">CamFoll</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">float</span> interpolation = speed * Time.deltaTime;<font></font>
<font></font>
        Vector3 position = <span class="hljs-keyword">this</span>.transform.position;<font></font>
        position.y = Mathf.Lerp(<span class="hljs-keyword">this</span>.transform.position.y, objectToFollow.transform.position.y, interpolation);<font></font>
        position.x = Mathf.Lerp(<span class="hljs-keyword">this</span>.transform.position.x, objectToFollow.transform.position.x, interpolation);<font></font>
<font></font>
        <span class="hljs-keyword">this</span>.transform.position = position;<font></font>
    }</code></pre></div></div><br>
<p>  <strong>objectToFollow</strong>  <strong>GameObject</strong>   ,    ,    speed ,        GameObject.</p><br>
<p>  interpolation         .     Lerp,                .  ,      </p><br>
<pre><code class="cs hljs">position.y = Mathf.Lerp(<span class="hljs-keyword">this</span>.transform.position.y, objectToFollow.transform.position.y, interpolation);</code></pre><br>
<p>   . ,   â€”        - .    â€”     .</p><br>
<h3></h3><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><p>,     . :   1001 Spikes (Nicalis and 8bits Fanatics, 2014 ). </p></div></div><br>
<p>  -,          ,           ( ,         â€”       ).<br>
  ,    ,            .</p><br>
<p>  <strong>GameObject</strong>      <strong>SpriteRenderer</strong>  <strong>PolygonCollider2D</strong>.   <strong>SpriteRenderer</strong>          .  ,   <strong>tag = Thorn</strong>.</p><br>
<p>,  <strong>GameObject</strong>   ,     ,     ,       .       <strong>ColliderReaction.cs</strong></p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">private</span> Rigidbody2D rb2d;<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Start</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        rb2d = GetComponent&lt;Rigidbody2D&gt;();<font></font>
    }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnTriggerEnter2D</span>(<span class="hljs-params">Collider2D collision</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">switch</span> (collision.gameObject.tag)<font></font>
        {<font></font>
            <span class="hljs-keyword">case</span> <span class="hljs-string">"Thorn"</span>:<font></font>
            {<font></font>
                rb2d.AddForce(transform.up * <span class="hljs-number">4</span>, ForceMode2D.Impulse);<font></font>
                HeroScript.Health = HeroScript.Health - <span class="hljs-number">5</span>;<font></font>
            }   <font></font>
            <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    }</code></pre></div></div><br>
<p>    22.         <strong>Thorn</strong>,   <strong>Switch</strong>   ,   .    ,  <strong>Thorn</strong>. -,   ,          5    .  ,  ,          :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">case</span> <span class="hljs-string">"Enemy"</span>:<font></font>
            {<font></font>
                rb2d.AddForce(transform.up * <span class="hljs-number">2</span>, ForceMode2D.Impulse);<font></font>
                HeroScript.Health = HeroScript.Health - <span class="hljs-number">10</span>;<font></font>
            } <font></font>
            <span class="hljs-keyword">break</span>;</code></pre></div></div><br>
<p>,      </p><br>
<h3>   .</h3><br>
<p> ,    .</p><br>
<p> ,          ,      ,     .<br>
       . </p><br>
<p>   ,     ,      ,    .         ,   ,    ( ).<br>
,    :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs">[<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">private</span> Transform inst; <span class="hljs-comment">//    </span>
    [<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">private</span> GameObject FireWoodPref; <span class="hljs-comment">//  </span>
    [<span class="hljs-meta">SerializeField</span>]
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> fireWood; <span class="hljs-comment">//       </span></code></pre></div></div><br>
<p>     <strong>fireWood</strong>  :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">Awake</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        fireWood = Random.Range(<span class="hljs-number">4</span>,<span class="hljs-number">10</span>);<font></font>
    }</code></pre></div></div><br>
<p>   ,     ,       :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">fireWoodCounter</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> x</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; fireWood; i++)<font></font>
        {<font></font>
            fireWood = fireWood - x;<font></font>
            InstantiateFireWood();<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> fireWood;<font></font>
    }</code></pre></div></div><br>
<p>,       .<br>
private void InstantiateFireWood():</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs">    {<font></font>
        Instantiate(FireWoodPref, inst.position, inst.rotation);<font></font>
    }</code></pre></div></div><br>
<img src="https://habrastorage.org/webt/g6/sb/di/g6sbdisre8fpoe58lkkr3bvyeha.png"><br>
<p>         :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">OnTriggerEnter2D</span>(<span class="hljs-params">Collider2D collision</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">switch</span> (collision.gameObject.tag)<font></font>
        {<font></font>
            <span class="hljs-keyword">case</span> <span class="hljs-string">"Player"</span>:<font></font>
            {<font></font>
                <span class="hljs-keyword">if</span> (InventoryOnHero.woodCount &gt; <span class="hljs-number">10</span>)<font></font>
                {<font></font>
                    Debug.Log(<span class="hljs-string">"   !"</span>);<font></font>
                }<font></font>
                <span class="hljs-keyword">else</span><font></font>
                {<font></font>
                    InventoryOnHero.woodCount = InventoryOnHero.woodCount + <span class="hljs-number">1</span>;<font></font>
                    Destroy(<span class="hljs-keyword">this</span>.gameObject);<font></font>
                }<font></font>
            }<font></font>
            <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    }</code></pre></div></div><br>
<p>,     ,     .</p><br>
<p>  ,     .  ,      ,   ,         .<br>
,  -    .   ,       .</p><br>
<p>     2       .       <strong>BoxCollider2D</strong>.  ,    ,      - ,  .</p><br>
<p>       :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs">[<span class="hljs-meta">SerializeField</span>]
<span class="hljs-keyword">private</span> Transform inst1, inst2; <span class="hljs-comment">//       </span>
[<span class="hljs-meta">SerializeField</span>]
<span class="hljs-keyword">private</span> GameObject bridgePref1, bridgePref2; <span class="hljs-comment">//  </span>
[<span class="hljs-meta">SerializeField</span>]
<span class="hljs-keyword">private</span> <span class="hljs-keyword">int</span> BridgeCount; <span class="hljs-comment">//   ,   .   </span></code></pre></div></div><br>
<p>:</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">BuildBridge</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">if</span> (InventoryOnHero.woodCount == <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            Debug.LogWarning (<span class="hljs-string">" !"</span>);<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (InventoryOnHero.woodCount &gt; <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            BridgeCount = BridgeCount - <span class="hljs-number">1</span>;<font></font>
            InventoryOnHero.woodCount = InventoryOnHero.woodCount - <span class="hljs-number">1</span>;<font></font>
<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">switch</span> (BridgeCount)<font></font>
        {<font></font>
            <span class="hljs-keyword">case</span> <span class="hljs-number">5</span>: Inst1();
            <span class="hljs-keyword">break</span>;<font></font>
<font></font>
            <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>: Inst2();
            <span class="hljs-keyword">break</span>;<font></font>
<font></font>
            <span class="hljs-keyword">default</span>: Debug.LogWarning(<span class="hljs-string">"-      "</span>);
            <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    }</code></pre></div></div><br>
<p> ,    ,       . ,   10 ,  12  8.</p><br>
<p>, ,      ,  ,    .  ,   1  ,      1   .    ,      5,   ,        .  0,   .  ,   .</p><br>
<p>     .</p><br>
<p>   ,   <strong>ColliderReaction.cs</strong>:</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OnTriggerStay2D</span>(<span class="hljs-params">Collider2D collision</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">switch</span> (collision.gameObject.tag)<font></font>
        {<font></font>
            <span class="hljs-keyword">case</span> <span class="hljs-string">"Ladder"</span>:<font></font>
            {<font></font>
                rb2d.gravityScale = <span class="hljs-number">0</span>;<font></font>
            }<font></font>
            <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    }<font></font>
<font></font>
     <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">OnTriggerExit2D</span>(<span class="hljs-params">Collider2D collision</span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">switch</span> (collision.gameObject.tag)<font></font>
        {<font></font>
            <span class="hljs-keyword">case</span> <span class="hljs-string">"Ladder"</span>:<font></font>
            {<font></font>
                rb2d.gravityScale = <span class="hljs-number">1</span>;<font></font>
            }<font></font>
            <span class="hljs-keyword">break</span>;<font></font>
        }<font></font>
    }</code></pre></div></div><br>
<p> <strong>OnTriggerStay2D</strong> ,          .  ,     0. ,        .  <strong>OnTriggerExit2D</strong>  ,              .</p><br>
<h3></h3><br>
<p><em>,   .</em></p><br>
<p>   19    ,           . ,       ,    ,  ,      ,   .</p><br>
<p>  GO,      <strong>SpriteRenderer</strong>, <strong>BoxCollider2D</strong>, <strong>Rigidbody2D</strong>. ,      â€” ,        .       ,          ru.stackoverflow.com.</p><br>
<p><img src="https://habrastorage.org/webt/fu/uw/ri/fuuwriruf0zli9r6pwvprae_qba.png" alt="ç”»åƒ"></p><br>
<p>        <strong>Trees</strong>.</p><br>
<p>,        . ,    -,      ,          Raycast     2     (4   ).  ,  ,   ,      (   ).        (    ),      .      ,      .     ,      ,       .  ,      . ,     ,                 (     ,      ).</p><br>
<p>  ,     .   ,       - .</p><br>
<p>    :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs">[<span class="hljs-meta">SerializeField</span>]
<span class="hljs-keyword">private</span> GameObject area;
<span class="hljs-keyword">private</span> <span class="hljs-keyword">bool</span> m1 = <span class="hljs-literal">true</span>, m2; <span class="hljs-comment">// m  move</span>
<span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">fGreenMonster</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
            <span class="hljs-keyword">float</span> dist = Vector3.Distance(greenMonster.transform.position, area.transform.position);<font></font>
            Debug.Log(dist);<font></font>
         <span class="hljs-keyword">if</span> (m1)<font></font>
         {<font></font>
            <span class="hljs-keyword">if</span> (dist &lt; <span class="hljs-number">3f</span>)<font></font>
            {<font></font>
                transform.position += <span class="hljs-keyword">new</span> Vector3(speed,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) * Time.deltaTime;<font></font>
                SR.flipX = <span class="hljs-literal">true</span>;<font></font>
<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span><font></font>
            {<font></font>
                m1 = <span class="hljs-literal">false</span>;<font></font>
                m2 = <span class="hljs-literal">true</span>;<font></font>
            }<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (m2)<font></font>
        {<font></font>
            <span class="hljs-keyword">if</span>(dist &gt;= <span class="hljs-number">1f</span>)<font></font>
            {<font></font>
                transform.position += <span class="hljs-keyword">new</span> Vector3(-speed,<span class="hljs-number">0</span>,<span class="hljs-number">0</span>) * Time.deltaTime;<font></font>
                SR.flipX = <span class="hljs-literal">false</span>;<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span><font></font>
            {<font></font>
                m2 = <span class="hljs-literal">false</span>;<font></font>
                m1 = <span class="hljs-literal">true</span>;<font></font>
            }<font></font>
        }<font></font>
    }</code></pre></div></div><br>
<p>     <strong>Update()</strong>    ,        .   ,  3 ,   .   3,        ,     .</p><br>
<p><img src="https://habrastorage.org/webt/nf/4y/6e/nf4y6edxsifi9_m3eq56d0xlbtw.png" alt="ç”»åƒ"></p><br>
<p> ,         .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">fSunFlower</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        canBullet = canBullet - minus * Time.deltaTime;<font></font>
        <span class="hljs-keyword">if</span> (canBullet &lt;= <span class="hljs-number">0</span> &amp;&amp; SR.flipX == <span class="hljs-literal">false</span>)<font></font>
        {<font></font>
            GameObject newArrow = Instantiate(sunFlowerBullet) <span class="hljs-keyword">as</span> GameObject;<font></font>
            newArrow.transform.position = transform.position;<font></font>
            Rigidbody2D rb = newArrow.GetComponent&lt;Rigidbody2D&gt;();<font></font>
            rb.velocity = sunFlowerTrans.transform.forward * -sunFlowerBulletSpeed;<font></font>
            canBullet = <span class="hljs-number">2</span>;<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">if</span> (canBullet &lt;= <span class="hljs-number">0</span> &amp;&amp; SR.flipX == <span class="hljs-literal">true</span>)<font></font>
        {<font></font>
            GameObject newArrow = Instantiate(sunFlowerBullet) <span class="hljs-keyword">as</span> GameObject;<font></font>
            newArrow.transform.position = transform.position;<font></font>
            Rigidbody2D rb = newArrow.GetComponent&lt;Rigidbody2D&gt;();<font></font>
            rb.velocity = sunFlowerTrans.transform.forward * sunFlowerBulletSpeed;<font></font>
            canBullet = <span class="hljs-number">2</span>;<font></font>
        }</code></pre></div></div><br>
<pre><code class="cs hljs">canBullet = canBullet - minus * Time.deltaTime;</code></pre><br>
<p>  ,      .</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">if</span> (canBullet &lt;= <span class="hljs-number">0</span> &amp;&amp; SR.flipX == <span class="hljs-literal">false</span>)<font></font>
{<font></font>
    GameObject newArrow = Instantiate(sunFlowerBullet)<font></font>
}</code></pre></div></div><br>
<p> ,  ,     ,   ,    :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">int</span> <span class="hljs-title">Damage</span>(<span class="hljs-params"><span class="hljs-keyword">int</span> x</span>)</span><font></font>
    {<font></font>
        Health = Health - x;<font></font>
        <span class="hljs-keyword">return</span> Health;<font></font>
    }</code></pre></div></div><br>
<p>, ,     :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">ifDie</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">if</span> (Damage(<span class="hljs-number">0</span>) &lt;= <span class="hljs-number">0</span>)<font></font>
        {<font></font>
            Destroy(<span class="hljs-keyword">this</span>.gameObject);<font></font>
        }<font></font>
    }</code></pre></div></div><br>
<p>  0,   .</p><br>
<p> ,         :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-keyword">if</span> (bGreenMonster)<font></font>
        {<font></font>
            fGreenMonster();<font></font>
        }<font></font>
        <span class="hljs-keyword">if</span> (bSunFlower)<font></font>
        {<font></font>
            fSunFlower();<font></font>
        }</code></pre></div></div><br>
<p>  ,         .</p><br>
<p><img src="https://habrastorage.org/webt/-1/1s/ki/-11skihlzc3vevw5zqiuxstlmre.png" alt="ç”»åƒ"></p><br>
<p>  .</p><br>
<p> ,      ?</p><br>
<p>,       .</p><br>
<p>     :</p><br>
<img src="https://habrastorage.org/webt/7i/oe/3l/7ioe3lshbpcu-hkwa09wydzefbs.png"><br>
<p> :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs">[<span class="hljs-meta">SerializeField</span>]
<span class="hljs-keyword">private</span> Transform Hero; <span class="hljs-comment">//        </span>
[<span class="hljs-meta">SerializeField</span>]
<span class="hljs-keyword">private</span> <span class="hljs-keyword">float</span> distWhatHeroSee; <span class="hljs-comment">//  </span>
[<span class="hljs-meta">SerializeField</span>]
<span class="hljs-keyword">private</span> LayerMask Tree, BridgeBuild, LadderBuild ,drinkingWater, lEnemy; <span class="hljs-comment">//  </span></code></pre></div></div><br>
<p>     ,         :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs"><span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">AttackBtn</span>(<span class="hljs-params"></span>)</span><font></font>
    {<font></font>
        <span class="hljs-keyword">if</span> (CrossPlatformInputManager.GetButtonDown(<span class="hljs-string">"Attack"</span>))<font></font>
        {<font></font>
            GameObject.Find(<span class="hljs-string">"Hero"</span>).GetComponent&lt;HeroScript&gt;().State = CharState.AttackA;<font></font>
            Collider2D[] Trees = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, Tree);<font></font>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; Trees.Length; i++)<font></font>
            {<font></font>
                Trees[i].GetComponent&lt;TreeControl&gt;().fireWoodCounter(<span class="hljs-number">1</span>);<font></font>
                Debug.Log(<span class="hljs-string">"Trees Collider"</span>);<font></font>
                HeroScript.Water = HeroScript.Water - <span class="hljs-number">0.7f</span>;<font></font>
            }<font></font>
<font></font>
            <span class="hljs-comment">// BB  BridgeBuild</span><font></font>
            Collider2D[] BB = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, BridgeBuild);<font></font>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; BB.Length; i++)<font></font>
            {<font></font>
                BB[i].GetComponent&lt;BridgeBuilding&gt;().BuildBridge();<font></font>
                HeroScript.Water = HeroScript.Water - <span class="hljs-number">0.17f</span>;<font></font>
            }</code></pre></div></div><br>
<pre><code class="cs hljs">GameObject.Find(<span class="hljs-string">"Hero"</span>).GetComponent&lt;HeroScript&gt;().State = CharState.AttackA;</code></pre><br>
<p>     ,          .<br>
,   :</p><br>
<div class="spoiler"><b class="spoiler_title"> </b><div class="spoiler_text"><pre><code class="cs hljs">Collider2D[] Trees = Physics2D.OverlapCircleAll(Hero.position, distWhatHeroSee, Tree);
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; Trees.Length; i++)<font></font>
            {<font></font>
                Trees[i].GetComponent&lt;TreeControl&gt;().fireWoodCounter(<span class="hljs-number">1</span>);<font></font>
                Debug.Log(<span class="hljs-string">"Trees Collider"</span>);<font></font>
                HeroScript.Water = HeroScript.Water - <span class="hljs-number">0.7f</span>;<font></font>
            }</code></pre></div></div><br>
<p>  <strong>Trees</strong> ,      .      ,        ,       ,    .         .<br>
 ,            . Simple as that!</p><br>
<p>  , -    :</p><br>
<p><img src="https://habrastorage.org/webt/x6/cg/du/x6cgduvtlqneym3ulljopmfy2yo.png" alt="ç”»åƒ"></p><br>
<p>     ,       â€”  .<br>
  ,      .  ,         ,    ,     .</p><br>
<p>  2        ,                     .</p><br>
<p>!</p><br>
<p> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.</p><br>
<p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://opengameart.org/</a>,  :</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a></li>
<li>  Unity  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ru.stackoverflow.com</a></li>
<li>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Google Play</a></li>
<li>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Google Play</a></li>
<li>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">sourceforge.net.</a><br>
            worldofonehero@gmail.com.</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja458834/index.html">ãƒãƒ¼ãƒ«ãƒ»ã‚¢ãƒ¬ãƒ³ã®äººæ ¼ã®å´é¢ã€ãã‚Œã«ã¤ã„ã¦ç§ãŒæœ›ã‚€ã»ã©å¤šãã®äººã€…ã¯çŸ¥ã‚Šã¾ã›ã‚“ã§ã—ãŸ</a></li>
<li><a href="../ja458836/index.html">ãƒœãƒ«ã‚·ãƒ¥æŒ‡æ•°ã€‚ä¾¡æ ¼/å“è³ªæ¯”ã‚’è©•ä¾¡ã€æ¯”è¼ƒã€æ±ºå®šã™ã‚‹ãŸã‚ã®ä½“ç³»çš„ãªã‚¢ãƒ—ãƒ­ãƒ¼ãƒ</a></li>
<li><a href="../ja458840/index.html">Great Chinese Firewallã‚’ã©ã®ã‚ˆã†ã«è²«é€šã—ãŸã‹ï¼ˆãƒ‘ãƒ¼ãƒˆ2ï¼‰</a></li>
<li><a href="../ja458842/index.html">å¿è€ã¨åŠ´åƒã¯ãƒ†ã‚­ã‚¹ãƒˆå…¨ä½“ã‚’æŠ½å‡ºã—ã¾ã™</a></li>
<li><a href="../ja458844/index.html">VeriSMâ„¢ã‚¢ãƒ—ãƒ­ãƒ¼ãƒã®é©å¿œã«ã‚ˆã‚‹ã‚µã‚¤ãƒ­ç ´å£Š</a></li>
<li><a href="../ja458848/index.html">Rust 1.36.0ãƒªãƒªãƒ¼ã‚¹ï¼šå°†æ¥ã®ç‰¹æ€§ã€å‰²ã‚Šå½“ã¦ã®å®‰å®šåŒ–ã€MaybeUninit <T></a></li>
<li><a href="../ja458850/index.html">å®‰ãåŠ¹ç‡çš„ã«è‹±èªã‚’å­¦ã³ã¾ã—ã‚‡ã†ã€‚ãƒ‘ãƒ¼ãƒˆ2</a></li>
<li><a href="../ja458854/index.html">MotionLayoutï¼šã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã®æ–¹ãŒå„ªã‚Œã€ã‚³ãƒ¼ãƒ‰ãŒå°‘ãªã„</a></li>
<li><a href="../ja458856/index.html">å®‰ãã¦é«˜ä¾¡ãªå˜4é›»æ± </a></li>
<li><a href="../ja458860/index.html">PostgreSQLã‚’æœ€é©åŒ–ã™ã‚‹ãŸã‚ã®Linuxã‚«ãƒ¼ãƒãƒ«ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ã®èª¿æ•´</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>