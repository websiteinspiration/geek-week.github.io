<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍓 🤱 🕐 Android in einem industriellen Controller 📢 👨🏾‍🎨 👨‍👧‍👧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bei jeder Ingenieurarbeit bewegt sich der Gedanke so, dass in der Entwicklung in jeder Hinsicht gleichzeitig die am besten geeigneten Lösungen angewen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Android in einem industriellen Controller</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498618/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bei jeder Ingenieurarbeit bewegt sich der Gedanke so, dass in der Entwicklung in jeder Hinsicht gleichzeitig die am besten geeigneten Lösungen angewendet werden. Und in einer Branche, in der Automatisierung und stillschweigende Kontrolle einiger Prozesse erforderlich sind, ist menschliches Eingreifen sogar unerwünscht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jene. Wenn Sie einige Objekte in Industriewerkstätten berührungslos überwachen müssen, ohne lange Kabel zu sammeln, Statistiken in einer Datenbank zur Analyse sammeln müssen, versuchen Sie es doch schon lange mit vertrauten ... Android-Smartphones.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie über Programmierkenntnisse für Android verfügen, verfügt die gesamte Hardware für den industriellen Controller auf dem Smartphone bereits über Sensoren, Mobilkommunikation und einen Akku für eine gewisse Autonomie. Nun, das Display wird natürlich auch für eine Weile benötigt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber wenn jemand plötzlich ein zuverlässiges kompaktes Android-Gerät mit Hardware genau wie ein Smartphone, aber ohne Display herstellen würde, wäre es ideal. Und ja - dies ist nicht nur ein HDMI-WiFi-Dongle für einen Fernseher, nämlich mit einem Akku, einem GSM-Modul und einer Kamera.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei Zuordnung - es können keine Sensoren verwendet werden, heiß. Sehr heiß. Jene. Sie müssen berührungslos steuern - nichts als eine Kamera reicht aus. Es gibt genügend QR-Codes für die Kamera, um die erforderlichen Objekte zu steuern. Gleichzeitig muss sich der Regler an einem kühlen Ort mit normalen Temperaturen befinden. Es stellt sich heraus, dass alles real ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mobiles Internet ist jetzt in Städten, sogar in Unternehmen - es ist ziemlich erträglich, zumindest kann der Betreiber mit einem toleranten Signalpegel empfangen werden. Und sogar 4G kann bereits verwendet werden, obwohl sich der Signalpegel natürlich kurz vor dem Ausschalten ausgleichen kann - aber dazu später mehr. Das Senden von Daten an den Server (mit vorläufiger Akkumulation in der lokalen Datenbank), sobald das Internet verfügbar ist, ist also kein Problem.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach vorläufiger Entwicklung der Software und Tests stellt sich heraus, dass die Temperaturbedingungen für das Smartphone vollständig erfüllt sind, Temperaturen bis zu 40 Grad. Moderne Lithiumbatterien auf Smartphones sind bis zu 45 ° C vollständig deklariert, und bei 50 - moderne Smartphones, die die Temperatur mit einem in die Batterie integrierten Sensor regeln - beginnen sie, über Überhitzung zu „schreien“ und schalten das Laden programmgesteuert aus, wenn sie angeschlossen sind. Daher muss die Kühlung berücksichtigt werden. Damit die Machbarkeit bereits vollständig bewiesen ist, ist das System in der allgemeinen Struktur einfach, alle Teile des Systems passen perfekt in den Kopf - das heißt, „vorwärts und mit dem Lied“, um zu codieren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Entwicklung des Controller-Gehäuses wird ein Android-Smartphone mit Netzteil mit durchdachter Eingabe in das Netzkabel mitgeliefert. Und ein Kühlsystem. Was, wie sich später herausstellt, nicht nur zum Kühlen von Eisen sehr wichtig ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn es soweit ist und das System bereits voll funktionsfähig ist, zeigt der Server den Benutzern die Datenschilder und Grafiken an, überprüft die Bereiche der gemessenen Parameter und benachrichtigt die Benutzer über die bevorstehenden Probleme, und dann beginnen allmählich ... die Nuancen eines strukturell „einfachen“ Systems zu erscheinen ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nein, es gibt keine Probleme mit dem Akku, das Smartphone ist ständig mit dem Ladegerät verbunden, der interne Akku-Controller ist großartig, pustet und erledigt seine kontinuierliche Arbeit. Es stellt sich jedoch heraus, dass für die zuverlässige Erkennung von QR-Codes sowohl der Kamerawinkel, die Beleuchtung und die Schatten, die den Code teilweise bedecken, als auch der Status des Codes, der bei hohen Temperaturen allmählich ausbrennt, gleichzeitig wichtig sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann, nach einem Monat „Kampftests“, scheint sich plötzlich die Qualität der Erkennung von QR-Codes allmählich verschlechtert zu haben, und jetzt ist es überhaupt nicht mehr geeignet: Es stellt sich heraus, dass der Staub ständig in der Luft vorhanden ist, was bei einer kurzen Inspektion der Werkstatt nicht sichtbar ist, aber welche setzt sich allmählich auf dem Glas ab, das das Kameraobjektiv bedeckt. Eine Staubschicht sammelt sich langsam und ... es ist klar, wie dies am Ende endet.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier hat sich das Kühlsystem als nützlich erwiesen, nicht nur zum Kühlen, sondern jetzt auch zum Schutz vor Staub. Es erzeugt einen „übermäßigen“ Luftdruck von innen, bläst um das Objektiv herum und verhindert, dass sich Staub auf dem Objektiv absetzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Während all dieser Ereignisse gibt es natürlich ein kontinuierliches Debugging von Software, Algorithmen und Hardware, auf die Entwickler keinen physischen Zugriff haben - alles nur über die Fernbedienung. Ein paar Veröffentlichungen pro Tag, wie Der im Voraus beschriebene allgemeine Algorithmus der Ausrüstung in der Werkstatt, der in den Zeichnungen und Zeichnungen perfekt verstanden wird, enthält in Wirklichkeit auch eine Reihe kleiner Nuancen. Und die Verifizierungsalgorithmen im Code multiplizieren sich kontinuierlich.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für Fernbedienung und Software-Updates in Android wird TeamViewer Host verwendet (verwendet!). Es gab keine Probleme damit, wahrscheinlich 4-5 Monate, alles war wunderbar verbunden, es gab Zugriff auf den Smartphone-Bildschirm. Alles funktionierte über das 4g-Internet eines russischen Bundesbetreibers im kostenlosen Modus. Natürlich dachten wir, dass es früher oder später notwendig sein würde, eine Geschäftslizenz zu erwerben, weil Es ist unzweckmäßig, das gesamte Fernbedienungssystem selbst zusammenzustellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es war nicht alles schlecht, bis die TeamViewer-Entwickler dort etwas auf ihrem System aktualisierten und wir keinen Zugriff hatten. Nun, logischerweise dachten wir, dass dies auf eine kostenlose Einschränkung zurückzuführen ist, obwohl es eine Ehre war, dies zu wissen, und wir erwarben eine Lizenz (lange Zeit und nicht völlig zensiert überrascht über ihre Kosten). Dies half jedoch nicht - es war der Beginn der technischen Probleme von TeamViewer, die eine Neuinstallation des Clients sowie Einstellungen und eine Bestätigung auf dem Smartphone-Bildschirm erforderten. Zu denen gab es weder physischen noch virtuellen Zugang. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Zugriff auf das System wurde später nur durch physisches Erreichen des Smartphones wiederhergestellt. Ich habe vergessen zu erwähnen, dass das Smartphone mit offizieller Firmware neu im Geschäft war. Ohne Root-Zugriff auf alle Betriebssystemfunktionen. Und es hat eine Weile ziemlich gut funktioniert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kurz gesagt, über TeamViewer (TV) - nach diesen ersten Qualen wurde die Zahlung des Geschäftskontos zurückerstattet (nur telefonisch, keine Möglichkeit, Support über das Internet zu erhalten, ist unrealistisch). Es wurde klar, dass wir Alternativen zum Fernsehen brauchten. Später, als sich die Situation wiederholte, traten wir aus irgendeinem Grund zum zweiten Mal mit dem Erwerb eines TeamViewer-Geschäftskontos auf diesen Rechen, aber es wurde klar, dass wir nicht allein gequält werden, sondern eine Gruppe von Benutzern mit Bergen von Android-Geräten mit einer Geschäftslizenz. Die Arbeit mit dieser Software wurde eingestellt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und es wurde klar, dass für alle Industrieanlagen das Wichtigste die Möglichkeit eines Neustarts ist. Einschließlich eines externen Fernbefehls. Wiedererlangung des Zugriffs auf das System, unabhängig von Softwareproblemen. Aus diesem Grund wurde beschlossen, ein Smartphone mit root zu erstellen und seine zusätzliche Fernbedienungssoftware über einen eigenen Server zu entwickeln, natürlich mit der Möglichkeit, das Smartphone neu zu starten. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine solche Software wurde entwickelt und ihre Verwendung mehr als einmal bestätigt: Zusätzlich zur Fernsteuerung über den Server wurden Befehle über SMS-Nachrichten implementiert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Während dieser ganzen Zeit war nur eine Komponente des Systems nicht zufriedenstellend und arbeitete fast rund um die Uhr und war sogar überrascht, weil Mehr als sechs Monate ununterbrochener Betrieb des Systems über 4G sind bereits vergangen. Das Smartphone wurde gesteuert, Daten flossen, und die Möglichkeit, mehrmals aus der Ferne neu zu starten, half dabei, Störungen der eigenen Hauptsoftware zu überwinden, die mit der Kamera und den QR-Codes funktioniert. Das Internet verschwand sehr selten und buchstäblich in wenigen zehn Sekunden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber nichts ist "für immer unter dem Mond", und sobald das System verschwunden ist. Absolut. Weder Daten auf dem Server noch Daten von Google Geo-Tracking oder eine Antwort über die eigene Remotecontrol-Software. Nun, es ist Zeit, das System durch einen Befehl in einer SMS-Nachricht zurückzusetzen. Aber FIG. Und es hat nicht geholfen. Und der Befehl zum Einschalten der Internetverbindung hat nicht geholfen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig wurde ein eingehender Anruf an die Nummer der in das Smartphone eingelegten SIM-Karte vollständig für sich selbst weitergeleitet, unabhängig davon, wie oft Sie sie überprüfen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich dachte bereits, dass die bösen Kulhacker in das System eindrangen, meine gesamte Android-Software entfernten und am Ende „die Tür zuschlagen“ - das mobile Internet abschneiden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schließlich antwortete der Telekommunikationsbetreiber: "Wir entschuldigen uns für das technische Problem mit der von Ihnen verwendeten Zelle." Der Anruf funktioniert aber, die SMS nicht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und dann erinnerte ich mich, dass ich einmal die erzwungene Aufnahme von WiFi in die Software vorgesehen hatte, ich weiß nicht warum - diese Verbindung wird in den Geschäften des Unternehmens nicht verwendet. Und das Smartphone war natürlich schon in der Entwicklungsphase mit WiFi verbunden. Es bleibt zu versuchen, auf einem anderen Smartphone den WiFi-Zugangspunkt einzuschalten, ihn mit dem Namen meines Heimnetzwerks zu benennen, das dem Netzwerk entsprechende Passwort festzulegen und ... und BINGO - das Stück Eisen hat Kontakt aufgenommen! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keine einzige SMS, nachdem der Fehler dieses Betreibers auf Android eingegangen war, meine Software hat sie nicht erhalten. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und nur durch einen Neustart des Eisenstücks, während es WiFi-Internet gab, war es möglich, die SIM-Karte des Betreibers und des mobilen Internets wiederherzustellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und jetzt ist die Möglichkeit zum Neustart über einen regulären eingehenden Anruf in der Fernbedienungssoftware enthalten, damit ein solcher Pfosten des Bedieners die Arbeit nicht beeinträchtigt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fazit: Das System arbeitet ca. 10 Monate, der Akku des Smartphones ist in Ordnung, die Kamera ist in Ordnung. </font><font style="vertical-align: inherit;">Es ist also nicht erforderlich, einen teuren Industriecomputer zusammenzubauen oder zu kaufen oder externe Peripheriegeräte daran anzuschließen - mit einem modernen Android-Smartphone ist dies durchaus möglich. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber ich bin sicher, dass es nicht gelingen wird, „Hämorrhoiden“ und alle möglichen unangenehmen Nuancen zu vermeiden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und ich habe diese Schlussfolgerung für mich selbst gezogen: die Schritte zum Einrichten eines Android-Smartphones für die Offline-Fernarbeit als Teil eines industriellen Controllers</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Auswahl eines Geräts für den industriellen Einsatz - nur mit der Möglichkeit, Root zu erhalten (für die Möglichkeit eines Neustarts)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aktualisieren Sie alles automatisch Mögliche und deaktivieren Sie Updates</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Holen Sie sich Root auf dem Gerät (!)</font></font></li>
<li>  ()  Google Play Market —  (   ),       </li>
<li>      : «    »</li>
<li>   :  « »</li>
<li>  SIM- –  - ( SIM —  !)</li>
<li>    SIM-:   </li>
<li>    RemoteControl —       </li>
<li>      (AirDroid, Teamviewer Host)  </li>
<li>   -  ( ,  )</li>
<li>     -</li>
<li>   </li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Installieren Sie den Standard-Launcher (Host-Anwendung) (wenn möglich, konfigurieren Sie ihn im letzten Moment).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Installieren Sie Ihr RemoteReset-Dienstprogramm - Starten Sie das gerootete Android per SMS neu und rufen Sie (!) An - überprüfen Sie den Neustart und den automatischen Start aller oben genannten Funktionen (und überprüfen Sie den Vorgang über das Internet).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Schalten Sie WLAN ein und stellen Sie im Voraus eine Verbindung zu den Netzwerken her: insbesondere zum mobilen Zugangspunkt vom Smartphone des Betreibers; für den alternativen Zugang des Smartphones zum Internet mit lokaler Aktivierung dieses Zugangspunkts)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Lade die Batterie auf</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Starten Sie die Haupthostanwendung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Trennen Sie das Gerät vom Computer, bis es während der Installation eingeschaltet wird</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS: Die detaillierteren Details erlauben natürlich nicht die Aufteilung kommerzieller / rechtlicher Verpflichtungen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de498604/index.html">Entfernen Sie Ihre Kinder von unseren blauen Bildschirmen oder warum Sie Yandex.Station nicht für ein Kind kaufen können</a></li>
<li><a href="../de498608/index.html">Herstellung von NES gameinvitro "MULTIDEFENDER"</a></li>
<li><a href="../de498610/index.html">Wie kann man Code mit Symfony 5-Bundles wiederverwenden? Teil 3. Integration des Bundles in den Host: Vorlagen, Stile, JS</a></li>
<li><a href="../de498612/index.html">Entscheiden Sie nicht für den Designer die Aufgabe des Designers</a></li>
<li><a href="../de498614/index.html">Analyse einer Reihe von Werbevideos für das Spiel Spin Voyage</a></li>
<li><a href="../de498620/index.html">Die Welt berühren: Biomechanik des menschlichen Hautrezeptors</a></li>
<li><a href="../de498624/index.html">[Anleitung] Erstellen von Google-Tests (Google-Formulare)</a></li>
<li><a href="../de498628/index.html">So erstellen Sie einen Raketenbeschleuniger für PowerCLI-Skripte </a></li>
<li><a href="../de498630/index.html">Physikalische Simulation von Hunderttausenden von Partikeln auf Unity + DOTS</a></li>
<li><a href="../de498632/index.html">Peptid für einen schönen Mulatten</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>