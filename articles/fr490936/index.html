<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëì üâë üò¶ Cr√©er ML sur iOS üôÇ ü§Ωüèø üåÆ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'intelligence artificielle se rapproche chaque ann√©e, hier encore, elle n'√©tait accessible qu'√† un nombre limit√© de personnes. Aujourd'hui, nous pouv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cr√©er ML sur iOS</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/490936/"><img src="https://habrastorage.org/webt/pp/ax/t4/ppaxt4vc_weqdfh9qvgz7-9isk4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'intelligence artificielle se rapproche chaque ann√©e, hier encore, elle n'√©tait accessible qu'√† un nombre limit√© de personnes. </font><font style="vertical-align: inherit;">Aujourd'hui, nous pouvons cr√©er nous-m√™mes des mod√®les d'apprentissage automatique et les utiliser dans nos projets. </font><font style="vertical-align: inherit;">Dans cet article, nous allons pr√©senter les outils Create ML et essayer de former le mod√®le de classification des images.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais avant de commencer, un peu d'histoire et d'explication. Lors de la conf√©rence annuelle des d√©veloppeurs de la WWDC2018, Apple a pr√©sent√© les outils permettant de travailler avec l'apprentissage automatique Create ML. Le mod√®le form√© √† Create ML est le r√©sultat de l'application d'un algorithme d'apprentissage automatique √† un ensemble de donn√©es d'apprentissage. Les mod√®les ne prennent pas beaucoup de place (environ 3 Mo), ils peuvent donc √™tre stock√©s dans le projet. Initialement, il a √©t√© propos√© de former des mod√®les √† l'aide de Playgrounds dans Xcode 10 et a pris en charge le travail avec des images, du texte et des tableaux. Lors du lancement des aires de jeux du projet, il √©tait n√©cessaire d'importer la biblioth√®que CreateML et d'ex√©cuter MLImageClassifierBuilder (au cas o√π nous aurions form√© le mod√®le pour classer les images).</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">import</span> CreateMLUI<font></font>
<font></font>
<span class="hljs-keyword">let</span> builder = <span class="hljs-type">MLImageClassifierBuilder</span>()<font></font>
builder.showInLineView()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 2019, Apple a introduit un tout nouvel outil pour travailler avec des mod√®les d'apprentissage automatique, le s√©parant de Playgrounds. </font><font style="vertical-align: inherit;">Il est devenu possible de former des mod√®les sans une seule ligne de code. </font><font style="vertical-align: inherit;">La liste des types de donn√©es a √©t√© remplie de sons et d'activit√©s. </font><font style="vertical-align: inherit;">Au total, 5 types de donn√©es et 9 mod√®les de mod√®les sont pr√©sent√©s. </font><font style="vertical-align: inherit;">Examinons chaque type de donn√©es et les mod√®les que nous pouvons obtenir en cons√©quence.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Images</font></font></h4><br>
<img src="https://habrastorage.org/webt/q3/y2/zv/q3y2zvd6q-niypvycvnycgmzzh0.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous vous entra√Ænez √† utiliser des images, deux mod√®les sont disponibles - Image Classifier (classificateur d'images) et Object Detector (d√©tecteur d'objets). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le classificateur d'images est utilis√© pour classer les images en fonction de leur contenu. Apr√®s avoir form√© le mod√®le, nous pouvons identifier un objet dans l'image et l'attribuer √† un certain type. Par exemple, pour identifier les animaux dans les images et m√™me distinguer quelle fleur est repr√©sent√©e sur la photo. Dans Create ML, le mod√®le Image Classifier utilise la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">formation par transfert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La formation par transfert est la capacit√© de combiner un mod√®le pr√©-form√© avec des donn√©es utilisateur, ce qui vous permet de former des mod√®les sur un petit nombre d'images.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Object Detector est un mod√®le d'apprentissage en profondeur. </font><font style="vertical-align: inherit;">Vous permet d'identifier plusieurs objets dans l'image, tels que des personnes, des b√¢timents, des voitures. </font><font style="vertical-align: inherit;">Et tout cela en une seule image. </font><font style="vertical-align: inherit;">Il convient √©galement d'ajouter que lors de la formation des mod√®les Object Detector, le GPU de l'ordinateur est utilis√©.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des sons</font></font></h4><br>
<img src="https://habrastorage.org/webt/gr/73/vd/gr73vdrfokur6bj_89ey8vcl-ds.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous travaillez avec des sons, un seul mod√®le est disponible pour cr√©er un mod√®le - Sound Classifier (sound classifier). </font><font style="vertical-align: inherit;">Sound Classifier est un nouveau mod√®le et vous permet de d√©terminer le son le plus dominant dans le flux audio. </font><font style="vertical-align: inherit;">Par exemple, vous pouvez d√©terminer quel instrument sonne en audio. </font><font style="vertical-align: inherit;">Sound Classifier, comme Image Classifier, utilise la formation par transfert.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Activit√©</font></font></h4><br>
<img src="https://habrastorage.org/webt/zy/l9/ip/zyl9ipalz-mb6nk4cyghziuqqii.png" alt="image"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'activit√© est repr√©sent√©e par un seul mod√®le - Classificateur d'activit√©. </font><font style="vertical-align: inherit;">Le classificateur d'activit√© est un nouveau mod√®le dans Create ML et est utilis√© pour classer les donn√©es de mouvement d'un acc√©l√©rom√®tre et d'un gyroscope. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces mod√®les sont des mod√®les d'apprentissage en profondeur et sont form√©s √† l'aide du GPU d'un ordinateur.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Texte</font></font></h4><br>
<img src="https://habrastorage.org/webt/ke/qp/nh/keqpnhpb9wfqfbzqotb4wkwl3bk.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le texte est repr√©sent√© par deux mod√®les: Text Classifier (classificateur de texte) et Word Tagger (marqueur de mots). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le classificateur de texte est utilis√© pour identifier des phrases, des paragraphes et m√™me des articles entiers en fonction de leur contenu. </font><font style="vertical-align: inherit;">Word Tagger est utilis√© pour marquer des mots ou reconna√Ætre des noms dans le texte.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les tables</font></font></h4><br>
<img src="https://habrastorage.org/webt/a-/du/6k/a-du6k8qs7sbukrf2swb2dajrdi.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les tableaux sont repr√©sent√©s par trois mod√®les: Tabular Regressor (table regressor), Tabular Classifier (table classifier) ‚Äã‚Äãet Recommender (recommender). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabular Regressor est un mod√®le qui peut pr√©dire une valeur num√©rique bas√©e sur certaines donn√©es. Par exemple, vous pouvez former un mod√®le qui pr√©dira la m√©t√©o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le classificateur tabulaire classe les objets en fonction de leurs caract√©ristiques. Par exemple, vous pouvez former un mod√®le pour d√©terminer la taille des v√™tements dans une boutique en ligne en fonction de divers param√®tres utilisateur. Un mod√®le fonctionne avec des types tels que entier, double, cha√Æne et long si la cible est une valeur discr√®te. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recommender vous permet de recommander du contenu en fonction du comportement de l'utilisateur, et tous les calculs sont effectu√©s directement sur l'appareil.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nous nous sommes familiaris√©s avec tous les mod√®les disponibles, nous pouvons commencer √† cr√©er notre premier mod√®le d'apprentissage automatique. </font><font style="vertical-align: inherit;">Commen√ßons par Image Classifier.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classificateur d'images</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avez-vous regard√© la s√©rie HBO Silicon Valley? </font><font style="vertical-align: inherit;">Dans l'une des s√©ries de la quatri√®me saison, ils ont montr√© une application qui reconna√Æt les "hot dogs" et "pas les hot dogs" dans les images. </font><font style="vertical-align: inherit;">√Ä l'aide du classificateur d'images, vous pouvez cr√©er un analogue de cette application. </font><font style="vertical-align: inherit;">Mais vous devez d'abord pr√©parer les donn√©es pour la formation du mod√®le. </font><font style="vertical-align: inherit;">Archive avec des images </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelques exigences pour la formation du mod√®le Image Classifier. Les images ne doivent pas √™tre inf√©rieures √† 299 x 299 pixels. Les kits de formation doivent contenir au moins 10 images, mais le plus sera le mieux. Nous savons maintenant que lors de la formation Image Classifier, une formation de transfert est utilis√©e, ce qui vous permet de former des mod√®les sur un petit nombre d'images. Le nombre d'images pour chaque ensemble doit √™tre √©gal, sinon il y aura un d√©calage vers l'une des cat√©gories. Environ 80% des images sont utilis√©es pour la formation du mod√®le et les 20% restants pour les tests. De plus, les images ne doivent pas √™tre r√©p√©t√©es, c'est-√†-dire que dans le dossier contenant les images pour la formation, il ne doit pas y avoir d'images qui seront utilis√©es ult√©rieurement pour les tests. Les noms des dossiers de formation seront utilis√©s comme identifiants pour les classes respectives,lors de l'utilisation de mod√®les. Mon exemple utilise les noms HotDog ou NotHotDog. Les noms des images elles-m√™mes ne jouent aucun r√¥le, elles peuvent √™tre appel√©es √† votre guise. Je les ai d√©sign√©s avec des num√©ros de s√©rie.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nos donn√©es sont pr√™tes, nous pouvons commencer √† former le mod√®le. Pour travailler avec Create ML, nous avons besoin de Xcode 11 ou sup√©rieur. J'utiliserai Xcode 11.3.1. Pour ex√©cuter l'outil Create ML, vous devez aller dans Xcode -&gt; Open Developer Tool -&gt; Create ML. Une fen√™tre appara√Ætra o√π vous pourrez en s√©lectionner un existant ou cr√©er un nouveau projet. S√©lectionnez Nouveau document. Ensuite, vous devez s√©lectionner un mod√®le, dans notre cas, nous utiliserons Image Classifier. Donnez un nom √† notre projet, cliquez sur Suivant et s√©lectionnez l'endroit o√π le projet sera stock√©. Un environnement de travail s'ouvre pour travailler avec le mod√®le.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vw/2y/d4/vw2yd4andp4krltnqbyza__tjau.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous pouvons le voir, il s'agit d'un projet compl√®tement s√©par√© o√π vous pouvez cr√©er et former plusieurs mod√®les. Le nom du projet (Projet) est affich√© dans l'inspecteur √† gauche, en cliquant dessus il affiche des informations sur le projet et vous permet de le modifier. Plus loin, Model Sources contient tous les mod√®les utilis√©s dans notre projet. Regardons maintenant la section Entr√©es de donn√©es dans la fen√™tre principale de l'outil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donn√©es d'entra√Ænement - ici, vous devez ajouter des images pour les mod√®les d'entra√Ænement. Donn√©es de validation - ici, vous pouvez ajouter un ensemble d'images pour tester la formation du mod√®le (dans mon cas, j'ai quitt√© Auto). Test des donn√©es - ici, vous devez ajouter des images pour tester le mod√®le qui n'ont pas √©t√© impliqu√©es dans la formation du mod√®le.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la section Param√®tres, vous pouvez sp√©cifier le nombre maximal d'it√©rations effectu√©es sur une seule image pendant l'apprentissage du mod√®le. Et dans la section Augmentations, vous pouvez s√©lectionner les effets qui chevauchent les images. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nous nous sommes familiaris√©s avec Create ML, nous pouvons commencer √† former notre premier mod√®le. Nous glissons simplement le dossier Training Data (le nom peut √™tre n'importe lequel) dans l'onglet Training Data. Maintenant, cliquez sur Train. Le processus d'apprentissage commence.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fn/kr/7h/fnkr7hvzcxptgbmxeqb6fmlsmzo.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il m'a donc fallu environ 27 secondes pour m'entra√Æner et le mod√®le est presque pr√™t. Apr√®s la formation, vous pouvez √©valuer dans quelle mesure le mod√®le classe les images de l'ensemble de donn√©es de formation. Puisque le mod√®le est form√© √† ces images, il les classe bien. Dans mon cas, le mod√®le a identifi√© toutes les images de l'ensemble d'apprentissage et 97% des images de l'ensemble de test. Le temps des tests est venu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ys/gq/zp/ysgqzpxcpq1unlvnuotqix5ub9u.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acc√©dez √† l'onglet Test. Comme pour les donn√©es d'apprentissage du mod√®le, faites simplement glisser le dossier Testing Data vers la fen√™tre Testing Data. En fait, nous pourrions cr√©er un dossier avec des images pour les tests avant de commencer la formation. Mais pour la lin√©arit√© du processus, nous le ferons diff√©remment. Cliquez sur Test Model. Selon les r√©sultats des tests, le mod√®le a fait face √† 98%.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/db/eu/4w/dbeu4wa2zjzfwnciqmyrlfdvuli.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En acc√©dant √† Sortie, vous pouvez v√©rifier les performances du mod√®le sans l'ajouter √† votre projet. </font><font style="vertical-align: inherit;">Pour ce faire, ajoutez des images d'un hot-dog et non d'un hot-dog et v√©rifiez le r√©sultat. </font><font style="vertical-align: inherit;">J'ai ajout√© une image d'une salade et d'un hot dog et, dans les deux cas, le mod√®le s'est tr√®s bien pass√©. </font><font style="vertical-align: inherit;">Bien s√ªr, les projets s√©rieux peuvent n√©cessiter plus de donn√©es pour la formation, plus d'it√©rations, etc. </font><font style="vertical-align: inherit;">Mais pour un projet de test, cela suffira. </font><font style="vertical-align: inherit;">Pour enregistrer le mod√®le, transf√©rez-le simplement de Output vers le dossier souhait√©. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f-/ar/v_/f-arv_g9ouougdhrt45cbuor6ka.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, je sugg√®re d'essayer d'int√©grer le mod√®le dans un projet de test, qui est disponible </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Un mod√®le a d√©j√† √©t√© ajout√© au projet, mais vous pouvez utiliser n'importe quel autre classificateur. </font><font style="vertical-align: inherit;">Cela ne cassera pas l'application, car les mod√®les sont interchangeables et vous pouvez utiliser plusieurs mod√®les dans le projet. </font><font style="vertical-align: inherit;">Transf√©rez simplement le mod√®le fini dans le projet.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lw/ry/ca/lwryca_dbpei0yb9cfq32zo4tne.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la section Mod√®le d'apprentissage automatique, vous pouvez trouver des informations sur le mod√®le. Ces informations peuvent √™tre sp√©cifi√©es dans le projet d'outil Cr√©er ML. Veuillez noter que le mod√®le que nous avons form√© ne prend que 17 Ko. Plus loin dans la section Model Class, nous sommes avertis qu'une classe Swift sera cr√©√©e avec le nom MyImageClassifier, je d√©conseille fortement d'y toucher quoi que ce soit, car cela pourrait affecter l'application. La section Pr√©diction d√©crit les param√®tres d'entr√©e et ce que nous obtenons en cons√©quence. Dans le cas o√π vous utilisez un mod√®le que vous n'avez pas enseign√©, dans la section Exp√©rimentation, vous pouvez v√©rifier le mod√®le, il suffit de transf√©rer l'image. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gl/2r/sj/gl2rsjtpvwvmy-oglqrhunuhebo.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acc√©dez √† la classe ImageClassifierService, ici vous pouvez voir comment le mod√®le est initialis√©.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeImageClassifierModel</span><span class="hljs-params">()</span></span> -&gt; <span class="hljs-type">VNCoreMLModel?</span> {
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">try</span>? <span class="hljs-type">VNCoreMLModel</span>(<span class="hljs-keyword">for</span>: <span class="hljs-type">MyImageClassifier</span>().model)<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assez simple, non? </font><font style="vertical-align: inherit;">Ensuite, vous devez cr√©er, traiter et ex√©cuter une demande de classification.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeClassifierRequest</span><span class="hljs-params">(<span class="hljs-keyword">for</span> model: VNCoreMLModel, ciImage: CIImage)</span></span> {
    <span class="hljs-keyword">let</span> request = <span class="hljs-type">VNCoreMLRequest</span>(model: model) { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] request, error <span class="hljs-keyword">in</span>
      <span class="hljs-keyword">self</span>?.handleClassifierResults(request.results)<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-keyword">let</span> handler = <span class="hljs-type">VNImageRequestHandler</span>(ciImage: ciImage)
    <span class="hljs-type">DispatchQueue</span>.global(qos: .userInteractive).async {
      <span class="hljs-keyword">do</span> {
        <span class="hljs-keyword">try</span> handler.perform([request])<font></font>
      } <span class="hljs-keyword">catch</span> {
        <span class="hljs-keyword">self</span>.onDidUpdateState?(.requestFailed)<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il ne reste plus qu'√† traiter le r√©sultat.</font></font><br>
<br>
<pre><code class="swift hljs">  <span class="hljs-keyword">private</span> <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">handleClassifierResults</span><span class="hljs-params">(<span class="hljs-number">_</span> results: [<span class="hljs-keyword">Any</span>]?)</span></span> {
    <span class="hljs-keyword">guard</span> <span class="hljs-keyword">let</span> results = results <span class="hljs-keyword">as</span>? [<span class="hljs-type">VNClassificationObservation</span>],
      <span class="hljs-keyword">let</span> firstResult = results.first <span class="hljs-keyword">else</span> {<font></font>
      onDidUpdateState?(.requestFailed)<font></font>
      <span class="hljs-keyword">return</span><font></font>
    }<font></font>
    <font></font>
    <span class="hljs-type">DispatchQueue</span>.main.async { [<span class="hljs-keyword">weak</span> <span class="hljs-keyword">self</span>] <span class="hljs-keyword">in</span>
      <span class="hljs-keyword">let</span> confidence = (firstResult.confidence * <span class="hljs-number">100</span>).rounded()
      <span class="hljs-keyword">let</span> resultModel = <span class="hljs-type">ClassifierResultModel</span>(identifier: firstResult.identifier, confidence: <span class="hljs-type">Int</span>(confidence))
      <span class="hljs-keyword">self</span>?.onDidUpdateState?(.receiveResult(resultModel: resultModel))<font></font>
    }<font></font>
  }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons maintenant ex√©cuter l'application et v√©rifier la pr√©cision du mod√®le. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hh/h1/bz/hhh1bzwwyaoyrsk2nfsws_jlhzs.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous pouvons le voir, le mod√®le se porte bien. </font><font style="vertical-align: inherit;">Essayons maintenant de montrer √† notre mod√®le une image d'un hot-dog et de voir comment elle s'en sort. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rs/jh/zf/rsjhzfxccfvfxlnq3_rbhezq8ly.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous pouvons le voir, le mod√®le d√©finit l'image du burger comme ¬´pas un hot-dog¬ª. </font><font style="vertical-align: inherit;">Je propose de confondre un peu le mod√®le et d'ajouter une image d'un chien en costume de hot dog. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8r/2z/px/8r2zpx-sktr4ls-9w0y2teb-nfw.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et ici, notre mod√®le form√© fait un excellent travail.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce court article, nous avons pr√©sent√© l'outil Create ML. </font><font style="vertical-align: inherit;">A appris avec quels types il fonctionne et quels mod√®les l'outil utilise. </font><font style="vertical-align: inherit;">Ils ont √©galement essay√© de former leur mod√®le. </font><font style="vertical-align: inherit;">La partie la plus difficile dans la cr√©ation d'un mod√®le d'apprentissage automatique consiste √† trouver et √† pr√©parer des donn√©es pour l'apprentissage. </font><font style="vertical-align: inherit;">Vous ne pouvez pas former de mod√®les, mais utilisez des mod√®les d√©j√† form√©s. </font><font style="vertical-align: inherit;">Par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il existe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©j√† des mod√®les pr√™ts √† l'emploi qui fonctionnent avec des images et du texte. </font><font style="vertical-align: inherit;">Il existe de nombreux mod√®les personnalis√©s sur github. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les images des mod√®les de formation sont √©galement faciles √† trouver, par exemple, les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">archives de Google</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Mais si vous avez besoin de former un mod√®le pour des t√¢ches √©troitement cibl√©es, vous devez collecter des images et cr√©er vos archives.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr490918/index.html">Andrei Zaretsky, Alexander Trukhanov (suite): "Nous n'avions pas de nom, mais il y avait de l'arrogance"</a></li>
<li><a href="../fr490920/index.html">Acc√©l√©rez votre recherche dans Have I Been Pwned √† 49 microsecondes (C ++)</a></li>
<li><a href="../fr490924/index.html">Qu'est-ce que Windows PowerShell et que mange-t-il? Partie 2: Introduction au langage de programmation</a></li>
<li><a href="../fr490926/index.html">Trajectoire Unity Ball 2D pour les d√©butants</a></li>
<li><a href="../fr490932/index.html">[Pr√©vision] Motornet - un r√©seau d'√©change de donn√©es pour les v√©hicules robotis√©s</a></li>
<li><a href="../fr490938/index.html">Nous √©crivons des milliers de fichiers journaux √† la fois</a></li>
<li><a href="../fr490940/index.html">Faire un quadricopt√®re √† l'aide d'une imprimante 3D</a></li>
<li><a href="../fr490950/index.html">Nous ressuscitons l'hexapode. Partie trois</a></li>
<li><a href="../fr490952/index.html">R√©sum√© des √©v√©nements informatiques de mars</a></li>
<li><a href="../fr490954/index.html">Pourquoi les entreprises en ligne devraient aimer les paiements via les syst√®mes de paiement * - Yandex.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>