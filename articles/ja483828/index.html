<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💀 👰🏻 🥨 輝きと貧困の原子交換 📃 🧚🏽 👐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="なぜアトミックスワップが悪いのか、チャネルがそれらをどのように支援するのか、コンスタンチノープルのハードフォークで何が重要であったのか、そしてガスの代償がないときに何をすべきなのか。
 
 セキュリティ専門家の主な動機は、責任を回避したいという欲求です。
 
 プロビデンスは礼儀正しく、最初の不可逆...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>輝きと貧困の原子交換</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483828/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜアトミックスワップが悪いのか、チャネルがそれらをどのように支援するのか、コンスタンチノープルのハードフォークで何が重要であったのか、そしてガスの代償がないときに何をすべきなのか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セキュリティ専門家の主な動機は、責任を回避したいという欲求です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロビデンスは礼儀正しく、最初の不可逆的なトランザクションを待たずにICOを去りましたが、すぐに暗号通貨交換の開発の背後にいることがわかりました。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は間違いなくMalchish Kibalchishではありません。すべてのキーとパスワードを渡すには、1つの厳密な外観で十分です。</font><font style="vertical-align: inherit;">したがって、アーキテクトとしての私の主な目標は、暗号解読の真っ赤な攻撃を、私にとって重要なインフラストラクチャ要素から可能な限り遠ざけることでした。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あなたの鍵でも問題でもない</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは資産交換システムを構築しており、自宅でこれらの資産の中間保管を除外したいと考えていますが、トランザクションのセキュリティを確保する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
物議を醸す状況で裁判官として行動し、購入者、販売者、エスクローの3つの署名のうち2つを必要とするウォレットと取引を行うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、参加者がエスクローへの攻撃に成功すると、必要な2つの署名を受け取ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アトミックスワップは、保証人が正直な行動のみを許可するスマートコントラクトである交換スキームです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オオカミの山羊とキャベツについてのなぞなぞのように、あなたは唯一の正しいシナリオに従ってのみ行動することができ、そこから後退すると損失を被ることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
貪欲な動物の代わりにのみ、順序はハッシュ関数を提供します。ハッシュ関数では、競合を見つけるのが非常に難しく、開始する価値がありません。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ1：謎</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アリスが朝のほんの一握りの「暗号原」のためにボブにビットコインを与えたいと仮定します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼女はいくつかの大きな秘密を作ります</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それからハッシュを取得します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それはビットコインをスマートコントラクトに転送し、そこからボブは秘密を提示することでお金を取ることができます（それからのハッシュはコントラクトで指定されたものと同じでなければなりません）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボブが夕方に彼のビットコインにいない場合、アリスはそれらを自分に戻すことができます。</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ2：餌</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボブはゲームに入り、「cryptoeuro」を彼の契約に転送します。契約は次のように書かれています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アリスは秘密の番号を提示することで「クリプトコイン」を受け取ることができます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">昼食前に、ボブはアリスが現れない場合、預金を返すことができます</font></font><br>
</li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ3：餌の解決策</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アリスは彼女のお金のために来て、彼女の秘密を明らかにしながら、ボブの契約からお金を受け取ります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後のステップ：謎を解く</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボブはトランザクションを確認し、アクイリンの視線でアリスが契約に提示した秘密を彼女から隔離します。</font><font style="vertical-align: inherit;">彼はこの秘密を使用してビットコインを収集します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何かがうまくいかないとき</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アリスが突然致命的であることが判明した場合、ボブは昼食のために彼の元を取ります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、危険なボブがより良い時間までお金を保持することを決定した場合、夜のアリスはビットコインを返します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テキストではなく写真を好む場合は、Habréに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アトミックスワップの作業に関する</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より詳細で視覚的な</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">説明があります</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タイムアウトの違いは、最後の瞬間にボブのお金を奪う悪意のあるアリスに対して私たちを保証するように設計されており、震えている指でヘクスをトランザクションに追い込む間にタイムアウトが期限切れになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
参加者はお金を失うことはできません、最大は払い戻しを待つ必要があります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロックチェーンのサポート</font></font></b><div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、相互作用するブロックチェーンから何も必要としないフェルトブーツのような単純なスキームです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">少なくとも1つのブランチを持つスマートコントラクトのサポート</font></font></li>
<li>       (    )</li>
<li>.</li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一見すると、「さようなら、私たちの会議は間違いだった」と交換に言うことができますが、それはありませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのすべてのメリットについて、アトミックスワップソリューションは流動性に左右されません。</font><font style="vertical-align: inherit;">主にBTC-USDの最も人気のあるペアでは、法定部分が完全にトークン化されなかったためです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
USDTの成功により、保管されているUSDCから最もアルゴリズム的なDAIまで、あらゆるテイストに対してERC20形式の安定したコインの波が生まれました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、簡単にするために、アリスがいくつかのERC20トークンのボブコインをボブに販売するという事実についてさらに説明します。さらに多くの技術的な問題があるため、スタビライザーの成功を期待しています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">速度</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビットコインとイーサリアムだけでは速すぎませんが、ここでは最初にすべての確認を含む1つの入金を待機し、次に2番目の入金を待機する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、最初に参加者が秘密を知っているお金を寄付し、対戦相手がファイナリティを待ってから、自分の部分を転送するためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、非常に不安定な資産を扱っているため、この間、コースは大幅に変わる可能性があり、条件の変更は容易ではありません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">守秘義務</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どの交換でも、両方のブロックチェーンにアーティファクトが残ります。</font><font style="vertical-align: inherit;">注意深いオブザーバーは、スマートコントラクトの同じハッシュに気づき、ここで取引が行われたという論理的な結論を下すことができます。そこから、為替レートから税まで多くの結論を下すことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
交換があなたの出来事を知っているとき-これは非常に不愉快であり、誰もがそれを知っているとき-それは二重に不愉快です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使いやすさ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的にブロックチェーンスケート、特にエーテル。</font><font style="vertical-align: inherit;">売り手と買い手がどんな体の動きをしなければならないか見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
売り手の観点から見ると、すべてが比較的単純です。ビットコインをp2shアドレスに転送する必要があるだけです。</font><font style="vertical-align: inherit;">エーテルでは、すべてがはるかにトリッキーです。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">契約する</font></font></b><div class="spoiler_text">      :<br>
<br>
<pre><code class="plaintext hljs">contract iERC20 {<font></font>
    function totalSupply() public view returns (uint256);<font></font>
    function transfer(address receiver, uint numTokens) public returns (bool);<font></font>
    function balanceOf(address tokenOwner) public view returns (uint);<font></font>
    function approve(address delegate, uint numTokens) public returns (bool);<font></font>
    function allowance(address owner, address delegate) public view returns (uint);<font></font>
    function transferFrom(address owner, address buyer, uint numTokens) public returns (bool);<font></font>
}<font></font>
<font></font>
contract Swapper {<font></font>
<font></font>
    struct Swap {<font></font>
        iERC20 token;<font></font>
        bytes32 hash;<font></font>
        uint amount;<font></font>
        uint refundTime;<font></font>
        bytes32 secret;<font></font>
    }<font></font>
<font></font>
    mapping (address =&gt; mapping(address =&gt; Swap)) swaps;<font></font>
<font></font>
    function create(iERC20 token, bytes32 hash, address receiver, uint amount, uint refundTime) public {<font></font>
        require(swaps[msg.sender][receiver].amount == 0); // check is swap with given hash already exists<font></font>
        require(token.transferFrom(msg.sender, address(this), amount)); // transfer locked tokens to swap contract<font></font>
        swaps[msg.sender][receiver] = Swap(token, hash, amount, refundTime, 0x00); //create swap<font></font>
    }<font></font>
    <font></font>
    function hashOf(bytes32 secret) public pure returns(bytes32) {<font></font>
        return sha256(abi.encodePacked(secret));<font></font>
    }<font></font>
<font></font>
<font></font>
    function withdraw(address owner, bytes32 secret) public {<font></font>
        Swap memory swap = swaps[owner][msg.sender];<font></font>
        require(swap.secret == bytes32(0));<font></font>
        require(swap.hash == sha256(abi.encodePacked(secret))); // swap exists<font></font>
        swaps[owner][msg.sender].secret = secret;<font></font>
        swap.token.transfer(msg.sender, swap.amount);<font></font>
    }<font></font>
<font></font>
    function refund(address receiver) public {<font></font>
        Swap memory swap = swaps[msg.sender][receiver];<font></font>
        require(now &gt; swap.refundTime);<font></font>
        delete swaps[msg.sender][receiver];<font></font>
        swap.token.transfer(msg.sender, swap.amount);<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
<b>!</b>          ,     . <b> </b>.<br>
</div></div><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボブはトークンコントラクトのメソッドを呼び出して</font></font><code>approve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、スワップコントラクトにトークンへのアクセスを許可する</font><font style="vertical-align: inherit;">必要があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボブはスワップを作成し、メソッドを使用して</font></font><code>transferFrom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、送信者トークンを自分のアドレスに転送します</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アリスイン</font></font><code>withdraw</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は秘密と契約の原因</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">明らかにする</font></font><code>transfer</code><br>
</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどのウォレットと暗号交換は</font></font><code>approve</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トークンを</font><font style="vertical-align: inherit;">サポートしていません</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザー自身がよく間違えられ、トークンを契約に転送するだけです。その後、トークンは失われます。</font><font style="vertical-align: inherit;">Etherscanに関するコメントは悲惨な悲嘆に満ちています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
契約を呼び出すには、ETHでコミッションを支払う必要があるため、トランザクションの開始前に両方の参加者が在庫を購入する必要があり、これを実行する人はほとんどいません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ガスホルダー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、可能な限り送信者のチェックを削除し、過剰なガスに苦しんで誰もが契約を結んでいる人がいると想定することは価値があります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アップグレードされた契約</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">contract Swapper {<font></font>
<font></font>
    struct Swap {<font></font>
        iERC20 token;<font></font>
        address receiver;<font></font>
        uint amount;<font></font>
        address refundAddress;<font></font>
        uint refundTime;<font></font>
    }<font></font>
<font></font>
    mapping (bytes32 =&gt;  Swap) swaps;<font></font>
<font></font>
    function create(iERC20 token, bytes32 hash, address receiver, uint amount, address refundAddress, uint refundTime) public {<font></font>
        require(swaps[hash].amount == 0); // use hash once<font></font>
        require(token.transferFrom(msg.sender, address(this), amount));<font></font>
        swaps[hash] = Swap(token, receiver, amount, refundAddress, refundTime);<font></font>
    }<font></font>
<font></font>
<font></font>
    function withdraw(bytes memory secret) public {<font></font>
        bytes32 hash = sha256(secret);<font></font>
        Swap memory swap = swaps[hash];<font></font>
        require(swap.amount &gt; 0);<font></font>
        delete swaps[hash];<font></font>
        swap.token.transfer(swap.receiver, swap.amount);<font></font>
    }<font></font>
<font></font>
    function refund(bytes32 hash) public {<font></font>
        Swap memory swap = swaps[hash];<font></font>
        require(now &gt; swap.refundTime);<font></font>
        delete swaps[hash];<font></font>
        swap.token.transfer(swap.refundAddress, swap.amount);<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">契約キーの二元論とEIP 712</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご存知のように、空中のアドレスは契約である場合もあれば、件名、つまりキーである場合もあります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キーの主な用途は、メッセージに署名することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bobキーの署名を確認する前に、必要なすべてのパスを作成する送信者としてBobコントラクトを使用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、誰でもメンバーのコミッションを後援することができますが、キーを知っている人だけが決定を下します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ボブ契約</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">library EIP712ProxyLibrary {<font></font>
    function hashCommand(address sender, iERC20 token, Swapper swapper, bytes32 hash, address receiver, uint amount, address refundAddress, uint refundTime) public view returns(bytes32);<font></font>
}<font></font>
<font></font>
contract ProxyBob {<font></font>
    address owner;<font></font>
<font></font>
    constructor(address _owner) public {<font></font>
        owner = _owner;<font></font>
    }<font></font>
<font></font>
    function createSwap(Swapper swapper, iERC20 token, bytes32 hash, address receiver, uint amount, address refundAddress, uint refundTime, uint8 v, bytes32 r, bytes32 s) public {<font></font>
        require(owner == ecrecover(EIP712ProxyLibrary.hashCommand(address(this), token, swapper, hash, receiver, amount, refundAddress, refundTime), v, r, s));<font></font>
        token.approve(address(swapper), amount);<font></font>
        swapper.create(token, hash, receiver, amount, refundAddress, refundTime);<font></font>
    }<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ethereumには、複雑なデータ構造の署名を処理するための</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EIP 712</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">標準</font><font style="vertical-align: inherit;">があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Metamaskウォレットブログを参照してください。</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分裂とルール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの場合、Ethereumコントラクトをハッキングするシナリオは次のようになります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参加者は契約に資金を支払います</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その後、お金を取ります</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何かがおかしい</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻撃者は何度もお金を取ります</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の例に戻ると、なぞなぞが空のバイトセットである場合に問題が発生します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100万を盗む方法</font></font></b><div class="spoiler_text">    <code>0x66687aadf862bd776c8fc18b8e9f8e20089714856ee233b3902a591d0d5f2925</code><br>
 sha256  <code>0x0000000000000000000000000000000000000000000000000000000000000000</code><br>
     <br>
     ,  -   0 = 0<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トランザクションごとに個別のコントラクトを作成することで、EVMレベルでコントラクトを分離できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、これだけではありません。すべてのトランザクションに独自のアドレスがあり、ウォレットまたは取引所からトークンを転送できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放棄された契約とcreate2</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし今度は、トランザクションごとに契約を作成し、バイヤーが労働力をそこに「暗号化」するのを待つ必要があります。</font><font style="vertical-align: inherit;">「モーニングコントラクト、イブニングマネー」のスキームでは、買い手が落とされる危険が常にあり、エーテルは既にコントラクトの作成に費やされています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
朝は金を、夕方はバイトを稼ぐことは可能ですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンスタンチノープルのハードフォークでは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EIP 1014</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発者が</font><font style="vertical-align: inherit;">、確定的なアドレスで新しいコントラクトを作成するcreate2ステートメントを追加</font><font style="vertical-align: inherit;">し</font><font style="vertical-align: inherit;">ました。</font></font><br>
<br>
<pre><code class="plaintext hljs">keccak256( 0xff ++ address ++ salt ++ keccak256(init_code))[12:]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どこ </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">住所-工場契約住所</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソルト-いくつかの数字、その意味は次のシリーズで学びます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">init_code-バイトコードとコンストラクターのパラメーターを契約します。</font></font></li>
</ul><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工場</font></font></b><div class="spoiler_text">    assembly,     :<br>
<br>
<pre><code class="plaintext hljs">contract Factory {<font></font>
  event Deployed(address addr, uint256 salt);<font></font>
<font></font>
  function create2(bytes memory code, uint256 salt) public {<font></font>
    address addr;<font></font>
    assembly {<font></font>
<font></font>
      addr := create2(0, add(code, 0x20), mload(code), salt)<font></font>
    }<font></font>
<font></font>
    emit Deployed(addr, salt);<font></font>
  }<font></font>
}<font></font>
</code></pre><br>
       web3:<br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> MyContract = <span class="hljs-keyword">new</span> web3.eth.Contract(ABI, {})
<span class="hljs-keyword">const</span> ode = MyContract.deploy({
    <span class="hljs-attr">data</span>: BYTECODE,
    <span class="hljs-attr">arguments</span>: contructorArgs  <font></font>
}).encodeABI();<font></font>
<span class="hljs-keyword">const</span> factory = <span class="hljs-keyword">new</span> web3.eth.Contract(FACTORY_ABI, factoryAddress);<font></font>
tx = factory.methods.create2(ode, salt);<font></font>
</code></pre><br>
-    solidity       -   .<br>
<br>
 ,          ,    ,    ,    .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、トークンを事前に作成せずにコントラクトに転送できるようになりました。ネットワークでトークンを公開するまで、コントラクトが正確に何を行うかは誰にもわかりません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カラスはカラスをつつきません</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その</font><font style="vertical-align: inherit;">ような子供のトリックは</font><font style="vertical-align: inherit;">本当のアナリスト、特に</font><font style="vertical-align: inherit;">マネーロンダリング</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">体制の敵との</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">戦いに良い投資を受けたアナリストを</font><font style="vertical-align: inherit;">止めない</font><font style="vertical-align: inherit;">ことは明らかであり</font><font style="vertical-align: inherit;">、契約を作成した後でも彼はまだハッシュを見るでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハッシュが点灯しないことを確認するにはどうすればよいですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スワップをオフチェーンに転送します。参加者はスワップ契約に転送するために署名を交換し、秘密は非公開です。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一歩一歩</font></font></b><div class="spoiler_text">  “”,           .<br>
<br>
    -     ,    .<br>
<br>
     <br>
<br>
<ul>
<li>          ,      </li>
<li>            .</li>
<li>   .</li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この時点で、調和が生じます。アリスとボブの両方がいつでも取引を完了することができます。</font><font style="vertical-align: inherit;">このような友好的な環境では、彼らはから署名を交換して、最終的な住所にお金を引き出すことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
外部のオブザーバーから見ると、お金は2の2のマルチ署名との契約を通過したように見えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、このようなスキームでは、すべての確認後に秘密が作成されるため、両方の当事者が同時に預金を行うことができます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レベル2</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは1つのアドレスにお金を引き出すことができ、中間トランザクションを発行することができないため、複数のアドレスにお金を引き出すことができ、中間トランザクションを無制限に行うことができます。</font><font style="vertical-align: inherit;">交換に必要なセットだったわけではありませんが、スワップの収集を開始した場合、停止するのは困難です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、アリスとボブは力強くメインで向きを変えることができます。</font><font style="vertical-align: inherit;">たとえば、Satoshiを1秒あたりに交換することで平均価格を自動的に計算したり、マーケットメーカーと流動性受領者を直接接続したりできます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一歩一歩</font></font></b><div class="spoiler_text"><ul>
<li>                p2sh  ,      <br>
</li>
<li>  ,          .<br>
</li>
<li>  </li>
<li>    ,                    </li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで高速のp2p取引にアクセスできるようになりました。主なことは、時間を監視し、タイムアウト前に取引を成立させることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、契約をわずかに調整したので、チャネルに不死を与えることができるため、ネットワークの作成が大幅に簡略化されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、これについては次のシリーズで説明します。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja483818/index.html">エンジン、スクリプト言語、ビジュアルノベル-45時間以内</a></li>
<li><a href="../ja483820/index.html">クレジットの発行に影響するもの。住宅ローンのデフォルトのリスク競争の概要</a></li>
<li><a href="../ja483822/index.html">コードなしで作成できない5つのJavaScript機能</a></li>
<li><a href="../ja483824/index.html">私の5つのルールを学び、夢の仕事を手に入れ、前向きに考え、それを前進させる方法...</a></li>
<li><a href="../ja483826/index.html">Voアナログ出力を使用したCO2センサーモデルMH-Z19Bの接続</a></li>
<li><a href="../ja483830/index.html">iOSのルーティング：アプリケーションを書き直さないユニバーサルナビゲーション</a></li>
<li><a href="../ja483834/index.html">Debian：単にi386をamd64に変える</a></li>
<li><a href="../ja483842/index.html">ホームクラウドの作成の歴史。パート5. 2019の更新-PHP 7.2、MariaDB 10.4およびNextcloud 17</a></li>
<li><a href="../ja483844/index.html">ロシアの信用および金融セクターにおける情報保護に関する規制文書の分析</a></li>
<li><a href="../ja483846/index.html">Linuxでの代替ウィンドウ管理</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>