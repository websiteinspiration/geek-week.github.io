<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💅🏾 👩🏿‍🎨 🖕🏼 UIKit開発者向けのUIKitおよびSwiftUIアプリケーションでの結合ベースのMVVM 🙆🏾 🌬️ 🔅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私たちは、それを知っているObservableObjecそのとトンクラス@Publishedのプロパティで作成されているCombineために特別View Modelの中でSwiftUI。ただし、アーキテクチャ View ModelのUIKit実装で  もまったく同じことが使用できますMVVMが、この...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>UIKit開発者向けのUIKitおよびSwiftUIアプリケーションでの結合ベースのMVVM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492530/"><img src="https://habrastorage.org/webt/ku/lm/v5/kulmv5qftg5ynrc21jjj3rou7ro.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは、それを知っている</font></font><code>ObservableObjec</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのとトンクラス</font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のプロパティで作成されている</font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ために特別</font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の中で</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。ただし</font><font style="vertical-align: inherit;">、アーキテクチャ</font></font><code> View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装で&nbsp; </font><font style="vertical-align: inherit;">も</font><font style="vertical-align: inherit;">まったく同じ</font><font style="vertical-align: inherit;">ことが使用できます</font></font><code>MVVM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が、この場合は</font></font><code>bind</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">要素を</font><font style="vertical-align: inherit;">l </font><font style="vertical-align: inherit;">の</font></font><code>@Published </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティ</font><font style="vertical-align: inherit;">に手動で "バインド"（</font><font style="vertical-align: inherit;">）する</font><font style="vertical-align: inherit;">必要があり</font><font style="vertical-align: inherit;">ます</font></font><code>View Mode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。驚かれることでしょうが、</font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを</font><font style="vertical-align: inherit;">利用</font><font style="vertical-align: inherit;">して、数行のコードを実行</font><font style="vertical-align: inherit;">でき</font><font style="vertical-align: inherit;">ます。さらに、</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションを</font><font style="vertical-align: inherit;">設計</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">際にこのイデオロギーを順守する</font><font style="vertical-align: inherit;">ことで、後で簡単にに切り替えることができます</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事の目的は、を使用して</font></font><code>MVVM</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アーキテクチャ</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">エレガントに実装する方法を、基本的に単純な例で示すことです</font></font><code>&nbsp;Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。対照的に、同じものの使用を示します</font></font><code>View Model </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMa</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> p </font><font style="vertical-align: inherit;">サイトから</font><font style="vertical-align: inherit;">特定の都市の最新の気象情報</font><font style="vertical-align: inherit;">を選択できるようにする2つの簡単なアプリケーションについて説明します</font><font style="vertical-align: inherit;">。しかし</font></font><code> UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、そのうちの1つはアプリケーション</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">作成され、もう1つは</font><font style="vertical-align: inherit;">ヘルプ</font><font style="vertical-align: inherit;">で作成されます</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。ユーザーにとって、これらのアプリケーションはほとんど同じに見えます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3r/2m/mo/3r2mmow1d4zuhf7a8gcaabv6adi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Githubにあり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザーインターフェイス（</font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）には</font></font><code>UI </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、都市を入力するテキストフィールドと気温を表示するラベルの</font><font style="vertical-align: inherit;">2つの</font><font style="vertical-align: inherit;">要素</font><font style="vertical-align: inherit;">しか含まれません</font><font style="vertical-align: inherit;">。都市を入力するためのテキストボックスはアクティブな入力（</font></font><code>Input</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）で、温度ラベルはパッシブEXIT（</font></font><code>Output</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）です。&nbsp;&nbsp; </font><font style="vertical-align: inherit;">アーキテクチャで</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
の役割</font><font style="vertical-align: inherit;">は、INPUT（s）を</font><font style="vertical-align: inherit;">（または</font><font style="vertical-align: inherit;">to </font><font style="vertical-align: inherit;">）から</font><font style="vertical-align: inherit;">取得し、</font><font style="vertical-align: inherit;">アプリケーションのビジネスロジックを実装して、OUTPUTSを</font><font style="vertical-align: inherit;">（または</font><font style="vertical-align: inherit;">to </font><font style="vertical-align: inherit;">）に</font><font style="vertical-align: inherit;">渡し、&nbsp; </font><font style="vertical-align: inherit;">このデータを必要な形式で表示することです。</font><font style="vertical-align: inherit;">プロパティを</font><font style="vertical-align: inherit;">持つ</font><font style="vertical-align: inherit;">クラスを</font><font style="vertical-align: inherit;">使用すれば、同期や非同期など、どのようなビジネスロジックで</font><font style="vertical-align: inherit;">
作成&nbsp; </font><font style="vertical-align: inherit;">すること</font><font style="vertical-align: inherit;">も非常に簡単です</font><font style="vertical-align: inherit;">。</font></font><code>View Model </code><font style="vertical-align: inherit;"></font><code>MVVM</code><font style="vertical-align: inherit;"></font><code>View</code><font style="vertical-align: inherit;"></font><code>ViewController</code><font style="vertical-align: inherit;"></font><code>UIKit</code><font style="vertical-align: inherit;"></font><code>View</code><font style="vertical-align: inherit;"></font><code>ViewController</code><font style="vertical-align: inherit;"></font><code>UIKit</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>View Model</code><font style="vertical-align: inherit;"></font><code>Combine</code><font style="vertical-align: inherit;"></font><code>ObservableObject </code><font style="vertical-align: inherit;"></font><code> @Published</code><font style="vertical-align: inherit;"></font><br>
<br>
<h2>   <code>API</code>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">OpenWeatherMap</a></h2><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
サービスで</font><font style="vertical-align: inherit;">&nbsp; は</font><font style="vertical-align: inherit;">、&nbsp; </font><font style="vertical-align: inherit;">非常に広範な気象情報を選択でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">が、関心のあるデータのモデルは非常に単純です。これは</font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、選択した都市の現在の気象に関する</font><font style="vertical-align: inherit;">詳細情報を提供&nbsp; </font><font style="vertical-align: inherit;">し、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Model.swift</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルにあります&nbsp; </font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nn/mk/bp/nnmkbpg0dfdnan0olkkx_amlwus.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この特定のタスクでは、温度のみに関心がありますが</font></font><code>temp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、構造内にある&nbsp; </font></font><code>Main</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合、モデルは現在の天気に関する完全な詳細情報をルート構造として提供&nbsp; </font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、将来的にはこのアプリケーションの機能を拡張する必要があると考えています。構造</font></font><code>WeatherDetail&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はコード化可能</font></font><code>JSON</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。これ</font><font style="vertical-align: inherit;">により</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">わずか2行のコードで文字通り</font><font style="vertical-align: inherit;">データをモデルに</font><font style="vertical-align: inherit;">デコードできます&nbsp; </font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
構造&nbsp; </font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;も</font></font><code>Identifiable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちは、天気予報の配列を表示するために、将来的に自分のためにそれを容易にしたい場合は&nbsp; </font></font><code>[WeatherDetail]</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;、リストの形で事前に数日間&nbsp; </font></font><code>List</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;の</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これは、将来のより洗練された現在の天気アプリにとっても空白です。プロトコルに</font></font><code>Identifiable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font><code> id,</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すでに</font><font style="vertical-align: inherit;">所有</font><font style="vertical-align: inherit;">して</font><font style="vertical-align: inherit;">いるプロパティ</font><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">存在</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">必要がある</font><font style="vertical-align: inherit;">ため、追加の作業は必要ありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービスを含むサービスは、&nbsp; </font></font><code>URLs </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要なリソースを取得するための</font><font style="vertical-align: inherit;">あらゆる種類のサービス</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">提供</font><font style="vertical-align: inherit;">します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス&nbsp; </font><font style="vertical-align: inherit;">は</font></font><code>URLs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、特定の都市の5日間の現在の天気または予報に関する詳細情報を取得</font><font style="vertical-align: inherit;">すること</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">提供します</font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。このアプリケーションでは、現在の気象情報のみに関心があり、この場合は</font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機能を使用して計算</font></font><code>absoluteURL (city: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/i1/3i/ha/i13ihapejao-kzmclk5fz1k4vni.png"><br>
<br>
<code>API</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;ため</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMapの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス、</font><font style="vertical-align: inherit;">&nbsp;我々はそれを配置します</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WeatherAPI.swiftの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">。その中心部分は</font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、都市の&nbsp; </font><font style="vertical-align: inherit;">詳細な気象情報を選択する方法です&nbsp; </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<ul>
<li><code>fetchWeather (for city: String) -&gt; AnyPublisher&lt;WeatherDetail, Never&gt;</code></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークのコンテキストでは、</font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;このメソッドは詳細な気象情報だけ</font></font><code>WeatherDetail</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">でなく、対応する「パブリッシャー」も</font><font style="vertical-align: inherit;">返します&nbsp; </font></font><code>Publisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">私たちの「パブリッシャー」</font></font><code>AnyPublisher&lt;WeatherDetail, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はエラーを返さず</font></font><code>Never</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、サンプリングまたはコーディングエラーが引き続き発生する場合、代理人は</font></font><code>WeatherDetail.placeholder</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エラーの原因に関する追加のメッセージなしで</font><font style="vertical-align: inherit;">戻り&nbsp; </font><font style="vertical-align: inherit;">ます。&nbsp;</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">OpenWeatherMap</font></a><font style="vertical-align: inherit;"> Webサイトから</font><font style="vertical-align: inherit;">&nbsp;都市の詳細な天気情報を</font><font style="vertical-align: inherit;">選択し</font><font style="vertical-align: inherit;">、エラーを返さない</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メソッド</font></font><code>fetchWeather (for city: String) -&gt; AnyPublisher&lt;WeatherDetail, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">さらに詳しく検討し&nbsp; </font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code>&nbsp;city</code><font style="vertical-align: inherit;"></font><code>Never</code><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/3h/am/tl/3hamtl2_qeyqozmtw3vnp6ezmeq.png"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">市の名前に基づいて、</font><font style="vertical-align: inherit;">詳細な気象情報を要求</font><font style="vertical-align: inherit;">&nbsp;する関数</font><font style="vertical-align: inherit;">を&nbsp; </font><font style="vertical-align: inherit;">使用し</font><font style="vertical-align: inherit;">て&nbsp; </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;フォーム</font></font><code>URL</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を作成します</font><font style="vertical-align: inherit;">。</font></font><code>absoluteURL(city:city)</code><font style="vertical-align: inherit;"></font><code>WeatherDetail</code><font style="vertical-align: inherit;"></font></li>
<li> «» <code>dataTaskPublisher(for:)</code>,     <code>Output</code>   <code>(data: Data, response: URLResponse)</code>, &nbsp; <code>Failure</code>&nbsp;-&nbsp;<code>URLError</code>,</li>
<li>  <code>map { }</code>    (<code>data: Data, response: URLResponse) </code>    &nbsp;<code>data</code>,&nbsp;</li>
<li> <code>JSON </code>&nbsp;<code>data</code>   ,   &nbsp;<code>WeatherDetail</code>,     ,</li>
<li>  -     «»   &nbsp;<code>catch (error ... )</code>&nbsp;  «» <code>WeatherDetail.placeholder</code>,</li>
<li>  <code> main</code> ,          <code>UI</code>,</li>
<li>«»  «»   <code>eraseToAnyPublisher()</code>    <code>AnyPublisher</code>.</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようにして取得された非同期の「パブリッシャー」は</font></font><code>AnyPublisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、それ自体では「離陸しない</font><font style="vertical-align: inherit;">」ため</font><font style="vertical-align: inherit;">、誰かが「サブスクライブ」するまで何も配信しません。</font><font style="vertical-align: inherit;">私たちは、それを使用する&nbsp; </font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;役割を果たしているクラス</font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で&nbsp; </font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">両方と</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。&nbsp;</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビューモデルを作成</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;2つの</font><font style="vertical-align: inherit;">プロパティを</font><font style="vertical-align: inherit;">持つプロトコル</font><font style="vertical-align: inherit;">を&nbsp; </font><font style="vertical-align: inherit;">実装</font></font><code> View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">する非常に単純なクラス</font><font style="vertical-align: inherit;">
を</font><font style="vertical-align: inherit;">作成するには&nbsp; </font><font style="vertical-align: inherit;">： &nbsp;</font></font><code>TempViewModel</code><font style="vertical-align: inherit;"></font><code>ObservableObject</code><font style="vertical-align: inherit;"></font><code>@Published </code><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/db/gz/mt/dbgzmtbrpltinyd30ap_j6ykiok.png"><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つ&nbsp; </font></font><code>@Published var city: String</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は都市です（その値はでユーザーによって規制されているため、条件付きで入口と呼ぶことができます</font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。&nbsp;&nbsp;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目&nbsp; </font></font><code>@Published var currentWeather = WeatherDetail.placeholder </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、現時点でのこの都市の天気です（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Webサイトからデータを取得することで取得できるため、条件付きでこのプロパティをEXITと呼ぶことができます&nbsp; </font><font style="vertical-align: inherit;">）。</font></font></li>
</ol><br><font style="vertical-align: inherit;"></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;プロパティ&nbsp; </font><font style="vertical-align: inherit;">
を設定する&nbsp; </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、単純なプロパティ</font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と「パブリッシャー」の&nbsp; </font><font style="vertical-align: inherit;">両方として使用できるようになります&nbsp; </font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラス&nbsp; </font></font><code>TempViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では、関心のあるプロパティを宣言するだけでなく、それらの相互作用のビジネスロジックを指定することもできます。このために、クラスインスタンス</font></font><code>TempViewModel&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">初期化するときに、クラスインスタンスの&nbsp; </font></font><code>init?</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ライフサイクル」全体を通じて動作する「サブスクリプション」を作成し</font></font><code>TempViewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、現在の天気</font></font><code>currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;の都市&nbsp; </font><font style="vertical-align: inherit;">への依存を再現でき&nbsp; </font><font style="vertical-align: inherit;">ます&nbsp; </font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うに</font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、入力「パブリッシャー」</font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;から出力「パブリッシャー」まで</font><font style="vertical-align: inherit;">チェーンを伸ばし</font></font><code>AnyPublisher&lt;WeatherDetail, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。その値は現在の天気です。その後、「サブスクライバー」の助けを借りてそれに「サブスクライブ」します&nbsp;</font></font><code>assign (to: \.currentWeather, on: self)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;そして、現在の天気の望ましい値を</font></font><code>currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;「出力」</font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;プロパティ</font><font style="vertical-align: inherit;">として&nbsp; </font><font style="vertical-align: inherit;">取得し&nbsp; </font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単にプロパティからではなく</font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、つまり</font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作成に参加</font><font style="vertical-align: inherit;">する「パブリッシャー」からでは</font><font style="vertical-align: inherit;">なく、チェーンをプルする必要</font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;があります。それを変更します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これをどうやって行うのでしょうか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
武器庫</font></font><code> fetchWeather (for city: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">には教室内に&nbsp; </font><font style="vertical-align: inherit;">関数があり</font><font style="vertical-align: inherit;">&nbsp;、都市</font><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">応じて詳細な気象情報を</font></font><code>WeatherAPI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">含む「発行元」</font></font><code>AnyPublisher&lt;WeatherDetail, Never&gt;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を&nbsp; </font><font style="vertical-align: inherit;">返します。「発行元」</font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の値を使用して&nbsp; </font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、この関数の引数に変換することができます。</font><font style="vertical-align: inherit;">
オペレーター</font><font style="vertical-align: inherit;">&nbsp;を</font><font style="vertical-align: inherit;">サポート</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;するには、適切な発行元&nbsp; </font></font><code>fetchWeather (for city: String)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に&nbsp; </font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセスしてください&nbsp; </font></font><code>flatMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wz/1r/9j/wz1r9juemdlcse18ko2k4xcvgcs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オペレーター</font></font><code>flatMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前の「パブリッシャー」から受信したデータに基づいて、新しい「パブリッシャー」を作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、我々は非常に単純な「加入者」の助けを借りて、この新たに受信した「パブリッシャー」に「購読」&nbsp; </font></font><code>assign (to: \.currentWeather, on: self)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とし、「出版社」から受け取った値に割り当てる</font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティを&nbsp; </font></font><code>currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/ug/yt/ygugytbie7fl6ezfiala6jn-p9o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私達はちょうど作成した</font></font><code>init( )</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非同期「パブリッシャー」をして、その結果、それまで「購読」</font></font><code>AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「サブスクリプション」 」</font></font><br>
<br>
<code>AnyCancellable </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「サブスクリプション」を使用すると、発信者はいつでも「サブスクリプション」をキャンセルして「パブリッシャー」から値を受け取ることができなくなります。さらに、</font></font><code>&nbsp;AnyCancellable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「サブスクリプション」がそのスコープを離れる</font><font style="vertical-align: inherit;">とすぐに</font><font style="vertical-align: inherit;">、「パブリッシャー」が占有していたメモリが解放されます。したがって、それが</font></font><code>init( ) </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完了</font><font style="vertical-align: inherit;">するとすぐに</font><font style="vertical-align: inherit;">、この「サブスクリプション」はシステムによって削除されます&nbsp;</font></font><code>ARC</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、時間遅れで受信した現在の天気に関する非同期情報を割り当てる時間がない&nbsp; </font></font><code>currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。このような「サブスクリプション」を保存するに</font><font style="vertical-align: inherit;">は、クラスインスタンスの「ライフサイクル」全体を通じてこの変数の「サブスクリプション」</font><font style="vertical-align: inherit;">を保持</font><font style="vertical-align: inherit;">するOUTSIDE </font></font><code>init()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変数</font><font style="vertical-align: inherit;">を作成する必要があり</font><font style="vertical-align: inherit;">ます&nbsp; </font><font style="vertical-align: inherit;">。&nbsp; </font><font style="vertical-align: inherit;">変数</font><font style="vertical-align: inherit;">
の</font><font style="vertical-align: inherit;">「サブスクリプション」は、</font><font style="vertical-align: inherit;">演算子を使用して&nbsp; </font><font style="vertical-align: inherit;">
格納され</font><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">その結果、「サブスクリプション」は、クラスインスタンスの「ライフサイクル」全体を通じて保持されます&nbsp; </font><font style="vertical-align: inherit;">。出版社の価値は必要に応じて変更できます</font><font style="vertical-align: inherit;">&nbsp;。この都市の</font><font style="vertical-align: inherit;">現在の天気はいつでも自由に利用でき</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">
都市を入力するときのサーバー呼び出しの数を減らすため&nbsp;</font></font><code>var&nbsp;cancellableSet</code><font style="vertical-align: inherit;"></font><code>AnyCancellable</code><font style="vertical-align: inherit;"></font><code>TempViewMode</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>AnyCancellable</code><font style="vertical-align: inherit;"></font><code>cancellableSet</code><font style="vertical-align: inherit;"></font><code>store ( in: &amp;self.cancellableSet)</code><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/dq/xh/y9/dqxhy9d4lnobqznxdlhx_lt83k4.png"><br>
<br><font style="vertical-align: inherit;"></font><code>TempViewModel</code><font style="vertical-align: inherit;"></font><code>$city</code><font style="vertical-align: inherit;"></font><code>currentWeather</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、市の名前が付いた行の「発行者」を直接使用するのではなく&nbsp; </font></font><code>$city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、演算子</font></font><code>debounce</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>removeDuplicates</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：を</font><font style="vertical-align: inherit;">&nbsp;使用した</font><font style="vertical-align: inherit;">変更バージョンを</font><font style="vertical-align: inherit;">使用し</font><font style="vertical-align: inherit;">ます</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ho/m9/ho/hom9ho7cbdou92ol4fd6dizlqd4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。演算子は&nbsp; </font></font><code>debounce</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ユーザーがキーボードで必要な情報の入力を完了するまで待機してから、リソース集中型のタスクを1回だけ実行します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、オペレーター</font></font><code>removeDuplicates</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は以前の値と異なる場合にのみ値を公開します。</font><font style="vertical-align: inherit;">たとえば、ユーザーが最初に</font></font><code>john</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、次に</font></font><code>joe</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、次にと</font><font style="vertical-align: inherit;">入力した場合、</font></font><code>john</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受け取るの</font></font><code>john</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は1回だけです。</font><font style="vertical-align: inherit;">これは私たちを</font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より効率的に</font><font style="vertical-align: inherit;">するのに役立ちます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SwiftUIでUIを作成する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それ</font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">できたので</font><font style="vertical-align: inherit;">、始め</font><font style="vertical-align: inherit;">ましょう</font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。最初に</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、次に</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちがで</font></font><code>Xcode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">て新しいプロジェクトを作成</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、得られた構造で、私たちは</font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp; 私たちのものを置く&nbsp; </font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code> @ObservedObject </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、変数</font></font><code>model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><code>Text ("Hello, World!") </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイトル&nbsp; </font></font><code>Text ("WeatherApp")</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">置き換え&nbsp; </font><font style="vertical-align: inherit;">、都市を入力するテキストボックスと</font></font><code>TextField ("City", text: self.$model.city)&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">気温を表示するラベルを</font><font style="vertical-align: inherit;">追加します&nbsp; </font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zz/oc/si/zzocsimzbd7bpssf_-ckigkggdi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変数の値を直接使用しました</font></font><code>model:&nbsp;TempViewModel()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。テキストボックスで都市を入力</font></font><code>$model.city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、ラベルで温度を表示するために使用しました</font></font><code>model.currentWeather.main?.temp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、への変更&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&nbsp;のプロパティは、「再描画」につながる</font></font><code>View</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sd/jx/uk/sdjxukkrljf2xfbo944koyt4ee4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは私たちがいるという事実によって保証され</font></font><code>View Model </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ています</font></font><code>@ObservedObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すなわち、自動「結合」されている（</font></font><code>binding</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私達の特性の</font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザインタフェース要素（</font></font><code>UI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">が行われます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このような自動「バインド」はでのみ可能</font></font><code>SwiftUI</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UIKitでUIを作成する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで何をし</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ますか？</font><font style="vertical-align: inherit;">ありません&nbsp;  </font></font><code>@ObservedObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">では&nbsp; </font></font><code>UIKit </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>binding</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手動で</font><font style="vertical-align: inherit;">「バインディング」（</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を実行し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">この「手動バインディング」を行う方法は多数あります。</font></font><br>
<br>
<ul>
<li><code>Key-Value Observing </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><code>KVO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code>key paths</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティを監視し、変更されたという通知を受け取る</font><font style="vertical-align: inherit;">ために使用するメカニズム&nbsp; </font><font style="vertical-align: inherit;">。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数型反応型プログラミングまたは</font></font><code>FRP</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：フレームワークの使用</font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><code>Delegation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：デリゲートメソッドを使用して、プロパティ値が変更されたという通知を送信します。</font></font></li>
<li><code>Boxing</code>:    <code>didSet { }</code>    ,    .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事のタイトルを与えられれば、私たちは自然にフィールドで働きます</font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。では</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーション、我々はそれがで「手動バインディング」作ることがいかに簡単であるかが表示されます</font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーション、我々はまた、2つのがあります</font></font><code>UI </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：要素</font></font><code>UITextField</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の都市を入力すると、</font></font><code> UILabel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">温度を表示するために。では</font></font><code>ViewController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、私たちは自然に持っているだろう</font></font><code>Outlet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、これらの要素を：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dc/_w/xs/dc_wxscdvx2gfvhkzpn2sppn_k8.png"><br>
<br>
<img src="https://habrastorage.org/webt/dp/hi/du/dphidu2qg7ym1bn1sorekv0opts.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常の変数の形で</font></font><code>viewModel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、我々は同じものを持っている</font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前のセクションで：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/py/lr/n1/pylrn1luepommf97vwrthhyz3oy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
で「手動バインディング」を行う前に</font></font><code>Combine</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、のは、テキストフィールドにしましょう</font></font><code>UITextField</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちの同盟国と私たちのコンテンツの「発行者」を</font></font><code>text</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/z0/dn/wg/z0dnwgxqkqam7mcy8qbyo6ajvx4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより</font></font><code>viewDidLoad</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、関数を使用して「手動バインディング」を</font><font style="vertical-align: inherit;">非常に簡単に</font><font style="vertical-align: inherit;">実装</font><font style="vertical-align: inherit;">でき</font><font style="vertical-align: inherit;">ます</font></font><code>binding ()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/q0/qu/-f/q0qu-ftfjqr_giedbnah50cwe2m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
確かに、私たちは「発行者」に「購読」</font></font><code> cityTextField.textPublisher</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非常に単純な「加入者」の助けを借りて&nbsp; </font></font><code>assign (to: \.city, on: viewModel)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、テキストフィールドにユーザーが入力したテキストに割り当てる</font></font><code>cityTextField</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちの「入力」に&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のプロパティ</font></font><code>city</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちを</font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、別の方向に変更を加えます。</font><font style="vertical-align: inherit;">&nbsp;「サブスクライバー」</font><font style="vertical-align: inherit;">とそのクロージャー</font><font style="vertical-align: inherit;">の助けを借り</font><font style="vertical-align: inherit;">て「出力」&nbsp; </font></font><code>@Published</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロパティ&nbsp; </font></font><code>$currentWeather</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に「サブスクライブ」</font></font><code>sink </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font></font><code>receiveValue</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、温度値を形成して、ラベルに割り当て</font></font><code> temperatureLabel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
受信した&nbsp; </font></font><code>viewDidLoad&nbsp;</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「サブスクリプション」は変数に格納されます</font></font><code>var&nbsp;cancellableSet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。それらを一度作成すると、クラスインスタンスの「ライフサイクル」全体を通して、</font></font><code>ViewController</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および私たちの「サブスクリプション」と一緒</font><font style="vertical-align: inherit;">に行動することができ</font><font style="vertical-align: inherit;">ます&nbsp;</font></font><code>View Model</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アプリケーションのすべてのビジネスロジックを実装します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、このプロトコル</font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はでは機能し</font></font><code>UIKit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ませんが、干渉はしません。</font></font><code>UIKit </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全プロトコルに無関心</font></font><code>ObservableObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、原則的に、それが中に除去することができる&nbsp; </font><font style="vertical-align: inherit;">アプリケーション：</font><font style="vertical-align: inherit;">
私たちは変わらず、それを維持したいために、しかし、我々はこれをしない</font><font style="vertical-align: inherit;">で、現在のアプリケーションのため</font><font style="vertical-align: inherit;">に、おそらく将来のアプリケーションとのために</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
それで全部です。コードは</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Githubにあり</font></a><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">
結論</font><font style="vertical-align: inherit;">
官能性反応性フレームワークは</font><font style="vertical-align: inherit;">、あなたが非常に簡単かつ簡潔に実装することができます</font><font style="vertical-align: inherit;">両方のアーキテクチャを</font><font style="vertical-align: inherit;">して</font><font style="vertical-align: inherit;">、理解し、読み取り可能なコードの形で。</font><font style="vertical-align: inherit;">
リンク：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Combine + UIKit + MVVM</font></a></font><code>View Model</code><font style="vertical-align: inherit;"></font><code>UIKit </code><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/wp/fs/pi/wpfspirlf9jp-e2magbcorvzany.png"><br>
<br><font style="vertical-align: inherit;"></font><code>View Model</code><font style="vertical-align: inherit;"></font><code> UIKit</code><font style="vertical-align: inherit;"></font><code>SwiftUI</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>Combine</code><font style="vertical-align: inherit;"></font><code> MVVM</code><font style="vertical-align: inherit;"></font><code>SwiftUI</code><font style="vertical-align: inherit;"></font><code>UIKit</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Combine </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS MVVMチュートリアルの</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">使用</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">：</font></a></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
PSの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Combineチュートリアルを</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">使用</font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">したMVC </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">MVVM </font></a><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">からのリファクタリング</font></a><font style="vertical-align: inherit;">天気情報を確認したい場合は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenWeatherMap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に登録し</font><font style="vertical-align: inherit;">&nbsp;て取得</font><font style="vertical-align: inherit;">する必要が</font><font style="vertical-align: inherit;">あります</font></font><code> API key</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このプロセスには2分もかかりません。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja492514/index.html">ロシアとカザフスタンで取引相手の法的に重要な電子文書フローを確立する方法は？</a></li>
<li><a href="../ja492518/index.html">ウイルスの発生にはリモートでの作業が必要です。つまり、ドキュメントのデジタル署名が必要です</a></li>
<li><a href="../ja492520/index.html">nanoCAD Plus 20のベアリングカップのパラメーター化された3Dモデリング</a></li>
<li><a href="../ja492522/index.html">リモートチームコミュニケーション</a></li>
<li><a href="../ja492524/index.html">経験とつながりなしに$ 1,000,000を稼いだ後、それらを使って翻訳者を作る方法</a></li>
<li><a href="../ja492534/index.html">それで、モスクワに本当のハリケーンがあるかどうか？2020年3月13日の事件を熱く追求して分析</a></li>
<li><a href="../ja492538/index.html">Wrike TechClub：配信インフラストラクチャ-プロセスとツール（DevOps + QAA）。英語の論文</a></li>
<li><a href="../ja492540/index.html">ゲーム「ちょっと待って！」Arduinoで</a></li>
<li><a href="../ja492546/index.html">Niktoを使用して任意のサイトの脆弱性をチェックする</a></li>
<li><a href="../ja492548/index.html">Unity Machine Learning：MOエージェントに壁を飛び越えるように教える</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>