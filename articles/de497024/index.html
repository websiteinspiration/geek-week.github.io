<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üîü ‚ùÑÔ∏è üçì Warum Hyperkonvergenz? Cisco HyperFlex √úbersicht und Tests üë®üèæ‚Äç‚öñÔ∏è üè´ üöà</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In der IT sind die Hauptsache drei Buchstaben
 Die Aufgabe jeder IT-Infrastruktur besteht darin, eine zuverl√§ssige Plattform f√ºr die Gesch√§ftsprozesse...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Warum Hyperkonvergenz? Cisco HyperFlex √úbersicht und Tests</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cti/blog/497024/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In der IT sind die Hauptsache drei Buchstaben</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Aufgabe jeder IT-Infrastruktur besteht darin, eine zuverl√§ssige Plattform f√ºr die Gesch√§ftsprozesse des Unternehmens bereitzustellen. Es wird traditionell angenommen, dass die Qualit√§t der Informationstechnologie-Infrastruktur anhand von drei Hauptparametern bewertet wird: Zug√§nglichkeit, Sicherheit, Zuverl√§ssigkeit. Die Bewertung f√ºr dieses Tripel h√§ngt jedoch in keiner Weise mit dem Gesch√§ft und dem direkten Einkommen / Verlust des Unternehmens zusammen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Drei Hauptbuchstaben regieren die IT. Wenn die Buchstaben ‚ÄûRUB‚Äú nicht an der Spitze der IT-Hierarchie stehen, bauen Sie Ihre IT-Infrastruktur falsch auf. Nat√ºrlich ist es schwierig, die IT direkt aufzubauen, beginnend mit den Einnahmen / Ausgaben. Daher gibt es eine Hierarchie von ‚Äûdrei Buchstaben‚Äú - von den wichtigsten bis zu den privateren. SLA, RPO, RTO, GRC - all dies ist Branchenexperten bekannt und wird seit langem beim Aufbau von Infrastrukturen eingesetzt. Leider werden diese Indikatoren nicht immer zu einer End-to-End-Hierarchie verkn√ºpft.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oj/wm/6n/ojwm6n6_0mqymccxwojckh8q4fi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viele Unternehmen bauen heute eine Infrastruktur f√ºr die Zukunft mit der Technologie von gestern auf der Architektur von gestern. </font><font style="vertical-align: inherit;">Gleichzeitig zeigt die beschleunigte Entwicklung der IT, dass moderne Services nicht nur das Gesch√§ft, sondern auch die Gesellschaft grundlegend ver√§ndern. Menschen im digitalen Zeitalter sind es gewohnt, dass einige Sekunden ausreichen, um auf Informationen zuzugreifen. </font><font style="vertical-align: inherit;">IT aus einer unverst√§ndlichen Technologie ist f√ºr die Massen allt√§glich geworden, wie zum Beispiel ein Burger oder ein Caf√©. </font><font style="vertical-align: inherit;">Dies hat der IT neue √§u√üerst wichtige drei Buchstaben hinzugef√ºgt. </font><font style="vertical-align: inherit;">Diese Buchstaben - TTM (Time to Market) - die Zeit vor der Einf√ºhrung eines produktiven Dienstes auf dem Markt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ot/k1/ns/otk1nsmpnwofr1v2bzlexp5a9j8.png"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sds</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf der anderen Seite stieg ein Kraken aus den Tiefen der Technologie auf und stellte die traditionelle IT und den Lebensstil um. Mit zunehmender Rechenleistung von x86-Prozessoren wurden Softwarespeichersysteme zum ersten Tentakel. Klassische Speichersysteme waren sehr spezielle Eisenst√ºcke, die mit ‚Äûkundenspezifischem Silizium‚Äú, verschiedenen propriet√§ren Hardwarebeschleunigern und spezieller Software gef√ºllt waren. Und es wurde von einer speziell ausgebildeten Person verwaltet, die in der Gesellschaft praktisch als Priester eines dunklen Kultes verehrt wurde. Die Erweiterung des im Unternehmen betriebenen Datenspeichersystems war ein ganzes Projekt mit vielen Berechnungen und Genehmigungen - schlie√ülich ist es teuer!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die hohen Kosten und die Komplexit√§t haben die Erstellung von Softwarespeichersystemen auf der √ºblichen x86-Hardware mit einem gemeinsamen Allzweckbetriebssystem - Windows, Linux, FreeBSD oder Solaris - vorangetrieben. Von der komplexen benutzerdefinierten Hardware blieb nur Software √ºbrig, die nicht einmal im Kernel, sondern auf Benutzerebene funktionierte. Die ersten Softwaresysteme waren nat√ºrlich recht einfach und in ihrer Funktionalit√§t eingeschr√§nkt, oft waren sie spezialisierte Nischenl√∂sungen, aber die Zeit verging. Und jetzt haben sogar gro√üe Anbieter von Speichersystemen begonnen, spezielle Hardwarel√∂sungen aufzugeben - TTM f√ºr solche Systeme konnte der Konkurrenz nicht mehr standhalten, und die Kosten des Fehlers wurden sehr hoch. Mit seltenen Ausnahmen wurden sogar klassische Speichersysteme bis 2020 zu den am h√§ufigsten verwendeten x86-Servern, nur mit sch√∂nen Plastikm√ºndungen und einer Reihe von Festplattenregalen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das zweite Tentakel des sich n√§hernden Kraken ist das Auftreten und die massive Akzeptanz der Flash-Speichertechnologie auf dem Markt, die zu einer konkreten S√§ule geworden ist, die einem Elefanten den R√ºcken bricht.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Leistung von Magnetplatten hat sich seit vielen Jahren nicht ge√§ndert, und die Prozessoren von Speichercontrollern haben Hunderte von Platten vollst√§ndig bew√§ltigt. </font><font style="vertical-align: inherit;">Leider wird die Quantit√§t fr√ºher oder sp√§ter zu Qualit√§t - und das Speichersystem befindet sich bereits auf einem durchschnittlichen Niveau, ganz zu schweigen vom urspr√ºnglichen, es hat eine Obergrenze f√ºr die sinnvolle Anzahl von Flash-Laufwerken. </font><font style="vertical-align: inherit;">Ab einer bestimmten Menge (buchst√§blich von zehn Festplatten) h√∂rt die Systemleistung nicht auf zu wachsen, sondern kann auch aufgrund der Notwendigkeit, ein immer gr√∂√üeres Volumen zu verarbeiten, abnehmen. </font><font style="vertical-align: inherit;">Schlie√ülich √§ndern sich die Verarbeitungsleistung und der Durchsatz der Steuerungen mit zunehmender Kapazit√§t nicht. </font><font style="vertical-align: inherit;">Theoretisch bestand die L√∂sung in der Entwicklung von Scale-Out-Systemen, mit denen viele unabh√§ngige Regale mit Festplatten und Prozessorressourcen zu einem einzigen Cluster zusammengefasst werden k√∂nnen, der von au√üen als ein einziges Speichersystem mit mehreren Controllern betrachtet wird. </font><font style="vertical-align: inherit;">Es war nur noch ein Schritt √ºbrig.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hyperkonvergenz</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der naheliegendste Schritt in die Zukunft war die Vereinheitlichung bisher unterschiedlicher Datenspeicherungs- und -verarbeitungspunkte. Mit anderen Worten, warum nicht verteilten Speicher nicht auf separaten Servern, sondern direkt auf den Virtualisierungshosts implementieren, wodurch ein spezielles Speichernetzwerk und dedizierte Hardware abgelehnt und somit Funktionen kombiniert werden. Der Kraken wachte auf. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber lassen Sie mich sagen, sehen Sie, denn Kombination ist Konvergenz. Woher kommt dieses bl√∂de Pr√§fix hyper?</font></font><br>
<blockquote>        .        +  + .    .    ,      ‚Äú ‚Äù.<br>
‚Ä¶<br>
 ,  ,            ,        .       ‚Äî       SDS.<br>
<br>
:<br>
<br>
<ul>
<li>  ‚Äî , ,       ,   /.    .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konvergiertes System - alles aus einer Quelle, einem Support, einer Partnernummer. </font><font style="vertical-align: inherit;">Nicht zu verwechseln mit der Selbstorganisation eines Anbieters.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und es stellt sich heraus, dass der Begriff f√ºr unsere konvergierte Architektur bereits vergeben ist. </font><font style="vertical-align: inherit;">Genau die gleiche Situation wie beim Vorgesetzten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hyperkonvergentes System - Ein konvergiertes System mit konvergierter Architektur.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Definitionen stammen aus dem Artikel ‚Äû </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Allgemeine Theorie und Arch√§ologie der Virtualisierung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äú, an dessen Schreiben ich lebhaft </font><font style="vertical-align: inherit;">teilgenommen habe </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was gibt den hyperkonvergenten Ansatz in der Anwendung f√ºr die drei genannten Buchstaben?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beginnen Sie mit einem Mindestvolumen (und minimalen Kosten)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Speicherkapazit√§t w√§chst mit der Rechenleistung</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeder Knoten des Systems ist sein Controller - und das Problem der ‚ÄûGlasdecke‚Äú wird beseitigt (Festplatten k√∂nnen, aber der Controller existiert nicht mehr).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Speicherverwaltung wurde erheblich vereinfacht</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im letzten Absatz werden hyperkonvergierte Systeme von Speicheradministratoren im alten Modus, die zum Verwalten von Warteschlangen an Fibre Channel-Ports verwendet werden, sehr abgelehnt. </font><font style="vertical-align: inherit;">Der Speicherplatz wird mit nur wenigen Mausklicks √ºber die Verwaltungskonsole der virtuellen Infrastruktur zugewiesen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit anderen Worten, nur Clouds sind beim Starten eines Produkts schneller als hyperkonvergente Systeme, aber Clouds sind nicht f√ºr jeden geeignet und / oder nicht immer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie ein Technikfreak sind und bis hierher lesen - freuen Sie sich, die allgemeinen Worte sind beendet und jetzt erz√§hle ich Ihnen von meiner pers√∂nlichen Sicht auf das Cisco Hyperflex-System, das ich f√ºr die Durchf√ºhrung verschiedener Tests in hartn√§ckigen Pfoten bekam.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cisco Hyperflex</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warum Cisco?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cisco ist in erster Linie als der dominierende Anbieter auf dem Markt f√ºr Netzwerkger√§te bekannt. Gleichzeitig ist Cisco in anderen Segmenten des Marktes f√ºr Rechenzentren weit verbreitet und bietet sowohl Server- als auch hyperkonvergente L√∂sungen sowie Automatisierungs- und Steuerungssysteme an. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√úberraschenderweise gibt es bis 2020 immer noch Menschen: ‚ÄûCisco-Server? Und von wem nimmt sie sie? "</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cisco begann bereits 2009 mit dem Umgang mit Servern und entschied sich zu diesem Zeitpunkt f√ºr den Weg des aktiven Wachstums von Blade-L√∂sungen. Die Idee von Cisco war es, den Ansatz anonymer Taschenrechner zu implementieren. Das Ergebnis war ein UCS-System (Unified Computing System), das aus zwei spezialisierten Switches (sie wurden Fabric Interconnect genannt) und 1 bis 20 Chassis (8 Blades halber Gr√∂√üe) oder bis zu 160 Servern bestand. Zur gleichen Zeit wurde das Chassis im Allgemeinen mit einem St√ºck Eisen mit Strom dumm, alle Logik und Umschaltung werden in Fabric Interconnect gemacht; Das Chassis ist nur eine M√∂glichkeit, Server zu hosten und mit dem System zu verbinden. Fabric Interconnect ist voll verantwortlich f√ºr alle Serverinteraktionen mit der Au√üenwelt - Ethernet, FC und Management. Es scheint, dass die Klingen und Klingen, was da ist, au√üer f√ºr externes Schalten, und nicht wie alle anderen im Chassis.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein entscheidender Moment bei der Implementierung derselben ‚Äûanonymen Taschenrechner‚Äú. Als Teil des Cisco UCS-Konzepts haben Server keine andere Pers√∂nlichkeit als eine Seriennummer. Weder MAC noch WWN noch irgendetwas anderes. Das von Fabric Interconnect betriebene UCS-Verwaltungssystem basiert auf Serverprofilen und -vorlagen. Nach dem Verbinden eines Serverb√ºndels im Geh√§use muss ihnen ein geeignetes Profil zugewiesen werden, in dem alle identifizierenden Adressen und Kennungen festgelegt sind. Wenn Sie nur ein Dutzend Server haben, ist das Spiel nat√ºrlich nicht wert. Aber wenn es mindestens zwei oder sogar drei Dutzend von ihnen gibt, ist dies ein ernsthafter Vorteil. Es wird einfach und schnell, Konfigurationen zu migrieren oder, was noch wichtiger ist, Serverkonfigurationen in der richtigen Menge zu replizieren und die √Ñnderungen sofort auf eine gro√üe Anzahl von Servern anzuwenden.Im Wesentlichen wird eine Reihe von Servern (z. B. eine Virtualisierungsfarm) als eine Einheit verwaltet. Der im UCS-System vorgeschlagene Ansatz erm√∂glicht es, mit dem richtigen Ansatz die Lebensdauer von Administratoren erheblich zu vereinfachen, die Flexibilit√§t zu erh√∂hen und die Risiken erheblich zu verringern. Daher sind UCS-Blades in 2-3 Jahren buchst√§blich zur meistverkauften Blade-Plattform in der westlichen Hemisph√§re geworden und heute weltweit eine von zwei dominanten Plattformen, zusammen mit HPE.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es wurde schnell klar, dass der gleiche Ansatz, der auf einer universellen Fabrik mit integrierter Verwaltung auf der Grundlage von Richtlinien und Vorlagen basiert, voll gefragt ist und nicht nur f√ºr Blades, sondern auch f√ºr Rack-Server gilt. In diesem Sinne bieten die mit Fabric Interconnect verbundenen Cisco Rack-Mount-Server dieselben Vorteile, die Blades so beliebt machen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heute werde ich √ºber HyperFlex sprechen, eine hyperkonvergente Cisco-L√∂sung, die auf Rack-Mount-Servern basiert, die mit Fabric Interconnect verbunden sind. Was macht HyperFlex interessant und erw√§genswert im Test:</font></font><br>
<br>
<ul>
<li>  Cisco   ,  , ¬´¬ª ‚Äì        ,      HyperFlex;     , ,   ,         HyperFlex    ;</li>
<li>   ‚Äì          ;  HyperFlex  ,    ,      ;          ,       .</li>
<li> ¬´  ¬ª ‚Äî     ¬´ ¬ª,       ,       ;</li>
<li>           Fabric Interconnect    Cisco   -,     SAN ,       native FC;</li>
<li>    ‚Äú‚Äù ‚Äì  ,  ,     ;</li>
<li>   Cisco      ,   ,            ,      ;</li>
<li>  ,      , Cisco        HCI,      , HyperFlex      ,   ,   .</li>
</ul><br>
<h3> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlex ist ein echtes hyperkonvergentes System mit dedizierten Controller-VMs. </font><font style="vertical-align: inherit;">Ich m√∂chte Sie daran erinnern, dass der Hauptvorteil einer solchen Architektur die potenzielle Portabilit√§t f√ºr verschiedene Hypervisoren ist. </font><font style="vertical-align: inherit;">Heute hat Cisco die Unterst√ºtzung f√ºr VMware ESXi und Microsoft Hyper-V implementiert. Es ist jedoch m√∂glich, dass eine der KVM-Optionen mit zunehmender Beliebtheit im Unternehmenssegment angezeigt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Betrachten Sie den Arbeitsmechanismus am Beispiel von ESXi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ger√§te, die die VM_DIRECT_PATH-Technologie verwenden - Cache-Festplatten und Festplatten auf Speicherebene - werden direkt auf die Controller-VM (im Folgenden CVM) √ºbertragen. </font><font style="vertical-align: inherit;">Daher schlie√üen wir die Auswirkung des Hypervisor-Festplattenstapels auf die Leistung aus. </font><font style="vertical-align: inherit;">Zus√§tzliche VIB-Pakete werden im Hypervisor selbst installiert:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E / A-Visor: Stellt den Einh√§ngepunkt f√ºr den NFS-Datenspeicher f√ºr den Hypervisor bereit</font></font></li>
<li>VAAI:   VMware  API  ¬´ ¬ª </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Virtuelle Festplattenbl√∂cke werden mit relativ geringer Granularit√§t gleichm√§√üig auf alle Hosts in einem Cluster verteilt. Wenn die VM auf dem Host eine Art von Plattenoperationen ausf√ºhrt, geht die Operation √ºber den Plattenstapel des Hypervisors zum Datenspeicher, dann zu IO Visor und dann zu dem f√ºr diese Bl√∂cke verantwortlichen CVM. In diesem Fall kann sich CVM auf einem beliebigen Host im Cluster befinden. Angesichts der sehr begrenzten Ressourcen von IO Visor gibt es nat√ºrlich keine Metadatentabellen und die Auswahl wird mathematisch bestimmt. Als n√§chstes verarbeitet das CVM, von dem die Anforderung kam, sie. Beim Lesen sendet es Daten entweder von einer der Cache-Ebenen (RAM, Schreib-Cache, Lese-Cache) oder von den Festplatten seines Hosts. Bei der Aufzeichnung wird in das lokale Journal geschrieben und die Operation f√ºr ein (RF2) oder zwei (RF3) CVM dupliziert.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k_/hq/eq/k_hqeqytlifhbevdrf8r7mk_rv0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vielleicht reicht dies v√∂llig aus, um das Prinzip der Arbeit im Rahmen dieser Ver√∂ffentlichung zu verstehen, andernfalls werde ich Cisco-Trainern Brot abnehmen und mich sch√§men. </font><font style="vertical-align: inherit;">Nicht wirklich, aber immer noch genug.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frage zu synthetischen Tests</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Navigator, Ger√§te! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- 36! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Was ist 36? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Was ist mit Ger√§ten? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So etwas sieht heute aus wie die meisten synthetischen Tests von Speichersystemen. Warum so? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bis vor relativ kurzer Zeit waren die meisten Speichersysteme flach und hatten einen einheitlichen Zugang. Was bedeutet das? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der insgesamt verf√ºgbare Speicherplatz wurde von Datentr√§gern mit denselben Eigenschaften gesammelt. Zum Beispiel 300 15k-Laufwerke. Und die Leistung war im gesamten Raum gleich. Mit dem Aufkommen der Tiered Storage-Technologie sind Speichersysteme nicht mehr flach - die Leistung variiert innerhalb eines einzelnen Speicherplatzes. Und es ist nicht nur unterschiedlich, sondern auch unvorhersehbar, abh√§ngig von den Algorithmen und Funktionen eines bestimmten Speichermodells.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und alles w√§re nicht so interessant, wenn nicht hyperkonvergierte Systeme mit Datenlokalisierung erscheinen w√ºrden. </font><font style="vertical-align: inherit;">Neben der Ungleichm√§√üigkeit des Speicherplatzes selbst (Erm√ºdungserscheinungen, Flash-Caches) besteht auch ein ungleichm√§√üiger Zugriff darauf - je nachdem, ob sich eine der Datenkopien auf den lokalen Datentr√§gern des Knotens befindet oder √ºber das Netzwerk zugegriffen werden muss. </font><font style="vertical-align: inherit;">All dies f√ºhrt dazu, dass die Anzahl der synthetischen Tests absolut beliebig sein kann und √ºber nichts praktisch Sinnvolles spricht. </font><font style="vertical-align: inherit;">Zum Beispiel den Kraftstoffverbrauch eines Autos nach einer Werbebrosch√ºre, die man im wirklichen Leben nie erreichen kann.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Frage zur Dimensionierung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Kehrseite der synthetischen Testnummern war die Gr√∂√üenbestimmung von Zahlen und Spezifikationen unter der Vorverkaufstastatur. Der Vorverkauf ist in diesem Fall in zwei Kategorien unterteilt - einige h√§mmern Ihre TK nur dumm in den Konfigurator des Anbieters, und der zweite √ºbernimmt sie selbst, weil sie verstehen, wie sie funktioniert. Aber mit der Sekunde m√ºssen Sie im Detail √ºberlegen, was Sie in Ihrer TK geschrieben haben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie Sie wissen, ohne eine klare TK - das Ergebnis von HZ. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nk/li/uq/nkliuqyn2iv0ogsigw-nd_m94ky.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus praktischer Erfahrung - als ich in einem Wettbewerb mit einem der Kunden ein ziemlich schweres hyperkonvergentes System dimensionierte, nahm ich pers√∂nlich nach dem Piloten die Lastindikatoren aus dem System und verglich sie mit dem, was im TOR geschrieben wurde. Es stellte sich wie in einem Witz heraus:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Rabinovich, stimmt es, dass Sie eine Million in der Lotterie gewonnen haben? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Oh, wer hat dir das gesagt? </font><font style="vertical-align: inherit;">Nicht eine Million, sondern zehn Rubel, nicht in der Lotterie, sondern bevorzugt, und nicht gewonnen, sondern verloren.</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit anderen Worten, die klassische GIGO-Situation - Garbage In Garbage Out - Garbage Inlet = Garbage in der Ausgabe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt fast garantiert zwei Arten von praktikablen Gr√∂√üen f√ºr die Hyperkonvergenz: Nehmen Sie uns mit einer Marge, oder wir werden f√ºr eine lange Zeit einen Piloten fahren und Indikatoren nehmen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt noch einen Punkt bei der Dimensionierung und Bewertung von Spezifikationen. Verschiedene Systeme sind unterschiedlich aufgebaut und arbeiten unterschiedlich mit Festplatten. Ihre Controller interagieren unterschiedlich. Daher ist es praktisch sinnlos, "Kopf an Kopf" gem√§√ü den Spezifikationen die Anzahl und das Volumen der Festplatten zu vergleichen. Sie haben eine Art TK, innerhalb derer Sie das Lastniveau verstehen. Und dann gibt es eine bestimmte Anzahl von Getrieben, in denen Ihnen verschiedene Systeme angeboten werden, die die Anforderungen an Leistung und Zuverl√§ssigkeit erf√ºllen. Was ist der grundlegende Unterschied, wie viel kostet eine Festplatte und welcher Typ in System 1, und dass es in System 2 mehr / weniger davon gibt, wenn beide die Aufgabe erfolgreich bew√§ltigen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da die Leistung h√§ufig von Controllern bestimmt wird, die auf denselben Hosts wie virtuelle Maschinen arbeiten, kann sie bei einigen Arten von Lasten erheblich schwanken, da Prozessoren mit unterschiedlichen Frequenzen in unterschiedlichen Clustern stehen und alle anderen Faktoren gleich sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit anderen Worten, selbst der erfahrenste Vorverkaufsarchitekt und Erzmagier wird Ihnen die Spezifikation nicht genauer mitteilen, als Sie die Anforderungen formulieren, und zwar genauer als ‚Äûna ja, irgendwo SAM-VOSEM‚Äú ohne Pilotprojekte.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/79/su/eq/79sueqtcnez6nz-kop4mp1i4qlq.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úber Schnappsch√ºsse</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlex kann seine nativen Snapshots von virtuellen Maschinen mithilfe der Redirect-on-Write-Technologie erstellen. Und hier ist es notwendig, separat anzuhalten, um verschiedene Technologien von Schnappsch√ºssen zu betrachten. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anf√§nglich gab es Snapshots vom Typ Copy-on-Write (CoW), und native VMware vSphere-Snapshots k√∂nnen als klassisches Beispiel verwendet werden. Das Funktionsprinzip ist dasselbe wie bei vmdk √ºber VMFS oder NFS, bei nativen Dateisystemen wie VSAN. Nach dem Erstellen eines CoW-Snapshots werden die Originaldaten (Bl√∂cke oder VMDK-Dateien) eingefroren. Wenn Sie versuchen, in eingefrorene Bl√∂cke zu schreiben, wird eine Kopie erstellt und die Daten werden in einen neuen Block / eine neue Datei (Delta-Datei f√ºr VMDK) geschrieben. Infolgedessen nimmt mit zunehmendem Snapshot-Baum die Anzahl der "falschen" Festplattenzugriffe zu, die keine produktive Bedeutung haben, und</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leistungsabf√§lle / Verz√∂gerungen nehmen zu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anschlie√üend wurden RoWect-Snapshots (Redirect-on-Write) erfunden, bei denen anstelle von Kopien von Bl√∂cken mit Daten eine Kopie von Metadaten erstellt wird und der Datensatz ohne Verz√∂gerungen und zus√§tzliche Lesungen und √úberpr√ºfungen fortgesetzt wird. Bei korrekter Implementierung von RoW-Snapshots hat dies nahezu keinen Einfluss auf die Leistung des Festplattensystems. Der zweite Effekt der Arbeit mit Metadaten anstelle der Live-Daten selbst ist nicht nur die sofortige Erstellung von Snapshots, sondern auch von VM-Klonen, die unmittelbar nach der Erstellung √ºberhaupt keinen Speicherplatz beanspruchen (wir ber√ºcksichtigen den System-Overhead f√ºr VM-Servicedateien nicht).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und der dritte wichtige Punkt, der RoW von CoW-Snapshots f√ºr produktive Systeme radikal unterscheidet, ist das sofortige Entfernen von Snapshots. Es scheint, dass dies so ist? Sie m√ºssen sich jedoch daran erinnern, wie CoW-Snapshots funktionieren und dass das Entfernen eines Snapshots nicht wirklich eine Delta-Entfernung ist, sondern ein Commit. Und hier h√§ngt die Zeit ihres Commits stark von der Gr√∂√üe des akkumulierten Deltas und der Leistung des Festplattensystems ab. RoW-Snapshots werden sofort festgeschrieben, da das L√∂schen (Festschreiben) von RoW-Snapshots eine Aktualisierung der Metadatentabelle darstellt, unabh√§ngig davon, wie viele Terabyte Unterschied sich ansammeln.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier erscheint eine interessante Anwendung von RoW-Snapshots - lassen Sie das RPO auf Werte von mehreren zehn Minuten fallen. Backups alle 30 Minuten sind im Allgemeinen fast unm√∂glich, und in den meisten F√§llen werden sie einmal am Tag durchgef√ºhrt, was eine RPO von 24 Stunden ergibt. Gleichzeitig k√∂nnen wir RoW-Snapshots nach einem Zeitplan erstellen, die RPO auf 15 bis 30 Minuten bringen und f√ºr ein oder zwei Tage speichern. Keine Beeintr√§chtigung der Leistung, nur Kapazit√§ten ausgeben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber es gibt einige Nuancen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr den ordnungsgem√§√üen Betrieb nativer Snapshots und die Integration in VMware ben√∂tigt HyperFlex einen offiziellen Snapshot namens Sentinel. Der Sentinel-Snapshot wird automatisch erstellt, wenn Sie zum ersten Mal einen Snapshot f√ºr eine bestimmte VM √ºber HXConnect erstellen. Sie sollten ihn nicht l√∂schen. Sie sollten nicht "zur√ºckkehren". Sie m√ºssen sich nur damit abfinden, dass dies in der Schnittstelle in der Liste der Snapshots der erste Service-Snapshot von Sentinel ist. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6v/xv/fk/6vxvfkz6yuhzkylorocntklep1w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlex-Snapshots k√∂nnen im absturzkonsistenten Modus oder im anwendungskonsistenten Modus ausgef√ºhrt werden. Der zweite Typ umfasst das "Leeren von Puffern" in der VM, erfordert VMTools und wird gestartet, wenn das Kontrollk√§stchen "Ruhe" im HXConnect-Snapshot-Men√º aktiviert ist.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zus√§tzlich zu HyperFlex-Snapshots verbietet niemand die Verwendung von "nativen" VMware-Snapshots. </font><font style="vertical-align: inherit;">Es lohnt sich f√ºr eine bestimmte virtuelle Maschine, zu bestimmen, welche Snapshots Sie verwenden werden, und sich in Zukunft auf diese Technologie zu konzentrieren, um verschiedene Snapshots f√ºr eine VM nicht zu ‚Äûst√∂ren‚Äú. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Rahmen des Tests habe ich versucht, Schnappsch√ºsse zu erstellen und deren FIO zu √ºberpr√ºfen. </font><font style="vertical-align: inherit;">Und doch, ja, ich kann best√§tigen, dass Schnappsch√ºsse wirklich RoW sind und die Leistung nicht beeintr√§chtigen. </font><font style="vertical-align: inherit;">Snapshots werden wirklich schnell erstellt (einige Sekunden, abh√§ngig vom Lastprofil und der Gr√∂√üe des Datasets). Ich kann basierend auf den Ergebnissen die folgende Empfehlung geben: Wenn Ihre Last viele zuf√§llige Schreibvorg√§nge enth√§lt, sollten Sie mit der Erstellung eines Snapshots √ºber die HXConnect-Oberfl√§che beginnen, mit dem H√§kchen ‚ÄûQuiesce‚Äú und einem vorl√§ufigen das Vorhandensein eines Sentinel-Schnappschusses.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tests</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Testplattform</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die folgende Plattform fiel in z√§he Pfoten:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 x C220 M4 (2630v4 10c x 2,20 GHz, 256, 800 + 6 * 960)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vSphere 6.7</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HX Data Platform 4.0.2</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Patch-Test l√∂schen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was f√ºr Tests ohne CrystalDisk? Das kann nicht sein, normale Leute starten immer eine kristallisierte Scheibe! Nun, wenn es notwendig ist, dann ist es notwendig. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hp/tl/x5/hptlx5eb-ojjdbwet5l87h6wjx4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr die Crystal Disk wurde eine speziell erstellte VM mit 2 vCPU 4 GB und Windows 7 an Bord erstellt. Oh, und ich habe es satt, Patches darauf anzubringen, ich werde es dir sagen! Der Test wurde in den besten Traditionen der besten H√§user in London und Paris durchgef√ºhrt - n√§mlich wurde nur eine virtuelle Festplatte als n√§chstes hinzugef√ºgt, ohne nachzudenken, und der Test wurde gestartet. Ja, und nat√ºrlich ist CrystalDiskMark selbst nicht am Testen beteiligt, sondern lediglich eine Schnittstelle, sondern l√§dt das Festplattensystem direkt mit dem bekannten DiskSpd-Paket, das im Kit enthalten ist. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ns/wt/i9/nswti9u6hmne-srf37nniqjevzq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was mich buchst√§blich beeindruckt hat - aus irgendeinem Grund haben alle die Auswahl der Einheiten in der oberen rechten Ecke √ºbersprungen. Und alle op!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kg/3y/th/kg3ythef08dpqq3zcsrr20wmq8w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√∂ren Sie, ehrlich gesagt, ich habe im Next-Next-Finish-Modus nicht 75.000 IOPS und mehr als 1 Gigabyte pro Sekunde von der Mikromaschine erwartet! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um es milde auszudr√ºcken, nicht jedes Unternehmen in Russland hat Lasten, die diese Indikatoren insgesamt √ºberschreiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Weitere Tests wurden mit VMware HCI Bench und Nutanix XRay als ‚Äûideologisch feindlich‚Äú gegen√ºber HyperFlex durchgef√ºhrt, und dementsprechend wurde erwartet, dass wir keine Gefangenen machen w√ºrden. Die Zahlen erwiesen sich als √§u√üerst nahe beieinander, sodass die Ergebnisse des XRay-Pakets einfach deshalb als Grundlage herangezogen wurden, weil es √ºber ein komfortableres Berichtssystem und vorgefertigte Ladevorlagen verf√ºgt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
F√ºr diejenigen, die niemandem vertrauen und die vollst√§ndige Kontrolle √ºber den Prozess w√ºnschen, erinnere ich Sie an meinen Artikel √ºber den Aufbau eines eigenen Systems zur Erzeugung der Last auf einer hyperkonvergenten Plattform - "</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leistungstests giperkonvergentnyh Systeme und Sicherheitsdatenbl√§tter mit eigenen H√§nden</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Achtung! </font><font style="vertical-align: inherit;">Uwaga! </font><font style="vertical-align: inherit;">Pozor!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle weiteren Ergebnisse und deren Interpretationen sind die Meinung des Autors des Artikels und werden von sich aus im Rahmen der Untersuchung des Systems abgegeben. </font><font style="vertical-align: inherit;">Die meisten Tests sind reine Kunststoffe und gelten nur zum Verst√§ndnis der Grenzwertindikatoren in extremen und entarteten F√§llen, die Sie im wirklichen Leben niemals erreichen werden.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FourCorners Microbenchmark</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der 4-seitige Mikrotest wurde entwickelt, um das System ‚Äûschnell‚Äú auf die ultimative theoretische Leistung und Spitzenleistung der Steuerungen zu bewerten. Die praktische Anwendung f√ºr diesen Test besteht darin, das System unmittelbar nach dem Start auf Konfigurations- und Umgebungsfehler, insbesondere Netzwerkfehler, zu √ºberpr√ºfen. Jene. Wenn Sie solche Systeme regelm√§√üig betreiben, wissen Sie nur, mit welchen Zahlen Sie rechnen sollten, wenn alles in Ordnung ist. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/im/wl/70/imwl70bqxpwhlum10vhlhm1kbk0.png"><br>
<br>
<img src="https://habrastorage.org/webt/61/xf/ss/61xfss1sc92seaez55-aq_shz2i.png"><br>
<br>
<img src="https://habrastorage.org/webt/4x/38/l7/4x38l7clygg4y5lavoks-lecrfs.png"><br>
<br>
<img src="https://habrastorage.org/webt/si/he/kg/sihekgnrrioansimgwwetryowme.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Endg√ºltige Zahlen: 280k / 174k IOPS, 3.77 / 1.72 GBps (Lesen / Schreiben) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie haben sich unsere Controller verhalten?</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-_/co/qv/-_coqvha1rwj6l78ng3fl_kowoi.png"><br>
<br>
<img src="https://habrastorage.org/webt/xu/hd/8s/xuhd8szlg-hrwoyeasjl-nqybbm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daraus geht hervor, dass der gesamte Ressourcenverbrauch f√ºr 4 Controller und 4 VM-Lasten 49 Kerne von 2,2 betrug. Gem√§√ü VMware-Statistiken betrug die CPU-Auslastung der Controller bis zu 80%, d. H. Tats√§chlich wurde die Leistung durch die Leistung von Controllern und insbesondere von Prozessoren begrenzt. Die Geschwindigkeit der sequentiellen Operationen beruhte speziell auf der Geschwindigkeit des 10G-Netzwerks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lass es uns erneut versuchen. Die Spitzenleistung auf einem kleinen 4-Knoten-Cluster mit nicht den schnellsten 2,2-GHz-Prozessoren betr√§gt fast 300.000 IOPS in 4U-H√∂hen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Gespr√§ch ‚Äûhier haben wir 10, 20 oder sogar 40% mehr / weniger‚Äú ist aufgrund der Reihenfolge der Zahlen praktisch bedeutungslos. Das gleiche wie zu messen "und ich kann ein Auto 240 haben, ich habe 280" trotz der Tatsache, dass das Limit 80 ist.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
280k / 4-Knoten ergeben eine Spitzenleistung von 70k / Knoten, was beispielsweise die Zahlen des VMware VSAN-Rechners √ºberschreitet, bei dem davon ausgegangen wird, dass der AF-Knoten nicht mehr als 46k pro Plattengruppe ausgibt. </font><font style="vertical-align: inherit;">In unserem Fall gibt es hier in der VMware-Terminologie nur eine Datentr√§gergruppe, die tats√§chlich mit x1.8 ausgef√ºhrt wird.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Auswirkung der Gr√∂√üe des Datenspeicherblocks</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Erstellen eines HyperFlex-Datenspeichers k√∂nnen Sie die Datenblockgr√∂√üe ausw√§hlen - 4 KB oder 8 KB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was wird es beeinflussen? </font><font style="vertical-align: inherit;">F√ºhren Sie den gleichen viereckigen Test durch. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/70/rc/vf/70rcvfpf8-l_zewvlxiawo6lgmm.png"><br>
<br>
<img src="https://habrastorage.org/webt/gd/s6/ys/gds6ysghq6zmspmh1aiprlngtni.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn das Bild fast identisch mit dem Lesen ist, ist die Aufzeichnung im Gegenteil von Bedeutung. </font><font style="vertical-align: inherit;">Der viereckige Test verwendet eine 8k-Last. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gesamtzahl: 280.000 / 280.000, 172-158.000 / 200-180.000 (4.000 bis 8.000). </font><font style="vertical-align: inherit;">Wenn die Blockgr√∂√üe √ºbereinstimmt, werden + 15% der Schreibleistung erhalten. </font><font style="vertical-align: inherit;">Wenn Sie eine erhebliche Menge an Aufzeichnung mit einem kleinen Block (4 KB) in der Last erwarten, erstellen Sie einen Datenspeicher f√ºr diese bestimmte Last mit einem 4 KB-Block, andernfalls verwenden Sie 8 KB.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OLTP-Simulator</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein viel n√§heres Bild zur Realit√§t liefert ein anderer Test. </font><font style="vertical-align: inherit;">Als Teil davon werden zwei Generatoren mit einem Profil in der N√§he eines Transaktions-DBMS und einem Lastniveau von 6000 + 400 IOPS gestartet. </font><font style="vertical-align: inherit;">Hier wird die Verz√∂gerung gemessen, die auf einem stabil niedrigen Niveau bleiben sollte. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/aw/tb/ty/awtbtyfcnnow6yydbgr28dpgiqc.png"><br>
<br>
<img src="https://habrastorage.org/webt/o9/kd/m1/o9kdm1zv2lksnqi1g7qk8o5gl7m.png"><br>
<br>
<img src="https://habrastorage.org/webt/cp/3n/oh/cp3noh9aqrp7y0kfrdgehpd19xe.png"><br>
<br>
<img src="https://habrastorage.org/webt/rn/qh/0j/rnqh0jmup291dks_4ir4eg1ssu8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Verz√∂gerung f√ºr die VM-Last betrug 1,07 / 1,08 ms. </font><font style="vertical-align: inherit;">Alles in allem ein tolles Ergebnis, aber lasst uns etwas W√§rme hinzuf√ºgen!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenbank-Colocation: Hohe Intensit√§t</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie sich die Transaktionsbasis in Abh√§ngigkeit von den Verz√∂gerungen verh√§lt, wenn pl√∂tzlich ein verrauschter aufeinanderfolgender Nachbar gebildet wird. </font><font style="vertical-align: inherit;">Nun, sehr laut. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0s/wg/1w/0swg1wykmap5tqivoahd3qymfbe.png"><br>
<br>
<img src="https://habrastorage.org/webt/kr/uy/xh/kruyxhmfiswvbc2tue7whwpwu60.png"><br>
<br>
<img src="https://habrastorage.org/webt/jw/3l/ib/jw3libpbrez473tlexzbilmepyy.png"><br>
<br>
<img src="https://habrastorage.org/webt/p1/4g/2j/p14g2jumznxoh8oyw2y1f3slyge.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die OLTP-Basis auf Knoten 1 erzeugt also 4200 IOPS mit einer Verz√∂gerung von 0,85 ms. </font><font style="vertical-align: inherit;">Was passiert, wenn ein DSS-System pl√∂tzlich beginnt, Ressourcen in sequentiellen Operationen zu verbrauchen? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zwei Generatoren auf den Knoten 2 und 3 laden die Plattform mit 1,18 / 1,08 GBit / s, also insgesamt 2,26 GBit / s. </font><font style="vertical-align: inherit;">Die Verz√∂gerung bei OLTP w√§chst nat√ºrlich und wird weniger flach, aber der Durchschnittswert bleibt 1,85 ms, und die Basis erh√§lt ihre 4200 IOPS ohne Probleme.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnappschuss Auswirkungen</font></font></h3><br>
<img src="https://habrastorage.org/webt/n0/eo/w8/n0eow8pfcfna7kqwhrt0xblqq8g.png"><br>
<br>
<img src="https://habrastorage.org/webt/-a/0h/dl/-a0hdlvysga1zwnpwtyvb1zq1_c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das System erstellt nacheinander einmal pro Stunde mehrere Snapshots auf einer OLTP-Basis. </font><font style="vertical-align: inherit;">Der Zeitplan enth√§lt nichts √úberraschendes. Dar√ºber hinaus ist dies im Allgemeinen ein Indikator f√ºr die Funktionsweise klassischer VMware-Snapshots, da Nutanix XRay nur mit eigenen Snapshots arbeiten kann. </font><font style="vertical-align: inherit;">Sie m√ºssen nicht regelm√§√üig vSphere-Snapshots verwenden, da nicht alle Joghurts gleicherma√üen n√ºtzlich sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Native HyperFlex-Schnappsch√ºsse funktionieren viel besser. Verwenden Sie sie und Ihr Haar wird weich und seidig!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Big-Data-Aufnahme</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie wird HyperFlex eine gro√üe Menge von Daten verarbeiten, die nacheinander hochgeladen werden? </font><font style="vertical-align: inherit;">Sagen wir mal 1 TB. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0f/ll/m7/0fllm7dze4walp1c2xff9msn-wg.png"><br>
<br>
<img src="https://habrastorage.org/webt/vx/go/ig/vxgoigfhqqpqguabodmsmklgmma.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Test dauerte 27 Minuten, einschlie√ülich Klonen, Einstellen und Starten der Generatoren.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Durchsatzskalierbarkeit</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laden Sie nun schrittweise den gesamten Cluster und sehen Sie sich die stetigen Zahlen an. Beginnen Sie mit dem zuf√§lligen Lesen und Schreiben. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iu/kb/jy/iukbjyoms8btipiqv8ckw7-oikg.png"><br>
<br>
<img src="https://habrastorage.org/webt/zw/zj/gy/zwzjgyqeu9wn4ofiatztt5umy70.png"><br>
<br>
<img src="https://habrastorage.org/webt/zd/eu/r2/zdeur21emet_sylypa1p7btvg9c.png"><br>
<br>
<img src="https://habrastorage.org/webt/_u/z1/_p/_uz1_p1ht5ll4bihnaeuxj_znoa.png"><br>
<br>
<img src="https://habrastorage.org/webt/-c/ms/o4/-cmso46htkcgb6ixeetyowyninq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir sehen ein stabiles Bild mit einer allm√§hlichen Abnahme der Leistung der Maschinenlast von 78.000 auf 55-57.000 IOPS mit glatten Regalen. Gleichzeitig steigt die Gesamtleistung stetig von 78 auf 220.000 IOPS. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/to/cj/w0/tocjw0zga3ug1recbqb8oa133sq.png"><br>
<br>
<img src="https://habrastorage.org/webt/3z/nt/df/3zntdf3yigfx_acxr0ra6n5nwfa.png"><br>
<br>
<img src="https://habrastorage.org/webt/od/4x/jh/od4xjhnjcvxthkezbcrncc33c5a.png"><br>
<br>
<img src="https://habrastorage.org/webt/mu/zj/mz/muzjmzjtko49unkx1iwzzm_zzo0.png"><br>
<br>
<img src="https://habrastorage.org/webt/v4/wr/0j/v4wr0jbbzvpfz94majmfgisny1m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Aufnahme ist etwas weniger fl√ºssig, aber immer noch stabile Regale von 64.000 bis 19-21.000 pro Auto. Gleichzeitig ist die Belastung der Steuerungen wesentlich geringer. Wenn w√§hrend des Lesens die Gesamtlast des Prozessors von 44 auf 109 erh√∂ht wurde, dann bei der Aufnahme von 57 auf 73 GHz.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier k√∂nnen Sie das einfachste und offensichtlichste Beispiel f√ºr die Merkmale hyperkonvergenter Systeme beobachten - der einzige Verbraucher kann einfach nicht alle Ressourcen des Systems vollst√§ndig nutzen, und wenn die Last hinzugef√ºgt wird, gibt es keinen signifikanten Leistungsabfall. </font><font style="vertical-align: inherit;">Der Tropfen, den wir beobachten, ist bereits das Ergebnis extremer synthetischer Belastungen, die alles bis zum letzten Tropfen zusammendr√ºcken sollen, was bei einem normalen Produkt fast nie der Fall ist.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OLTP brechen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu diesem Zeitpunkt wurde es sogar langweilig, wie vorhersehbar HyperFlex war. </font><font style="vertical-align: inherit;">Dringende Notwendigkeit, etwas zu brechen! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nw/rq/da/nwrqdazu_dn_gpyg6cdu3z0paju.png"><br>
<br>
<img src="https://habrastorage.org/webt/wr/fw/ks/wrfwkshatwbjd5gr2rvvtevdf8s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der rote Punkt markiert den Moment, in dem die Controller-VM auf einem der Hosts mit einer Last heruntergefahren wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da die Neuerstellung in HyperFlex standardm√§√üig nur dann sofort gestartet wird, wenn die Festplatte verloren geht und wenn der Knoten verloren geht, das Zeitlimit 2 Stunden betr√§gt, wird der Moment der erzwungenen Neuerstellung mit einem gr√ºnen Punkt markiert.</font></font><br>
<br>
<pre><code class="plaintext hljs">login as: admin<font></font>
 HyperFlex StorageController 4.0(2a)<font></font>
admin@192.168.***.***'s password:<font></font>
&lt;b&gt;admin@SpringpathController0VY9B6ERXT:~$&lt;/b&gt; stcli rebalance status<font></font>
rebalanceStatus:<font></font>
    percentComplete: 0<font></font>
    rebalanceState: cluster_rebalance_not_running<font></font>
rebalanceEnabled: True<font></font>
&lt;b&gt;admin@SpringpathController0VY9B6ERXT:~$&lt;/b&gt; stcli rebalance start -f<font></font>
msgstr: Successfully started rebalance<font></font>
params:<font></font>
msgid: Successfully started rebalance<font></font>
&lt;b&gt;admin@SpringpathController0VY9B6ERXT:~$&lt;/b&gt; stcli rebalance status<font></font>
rebalanceStatus:<font></font>
    percentComplete: 16<font></font>
    rebalanceState: cluster_rebalance_ongoing<font></font>
rebalanceEnabled: True<font></font>
&lt;b&gt;admin@SpringpathController0VY9B6ERXT:~$&lt;/b&gt;</code></pre><br>
<img src="https://habrastorage.org/webt/sh/ry/qo/shryqousd3rdr6w7pwmdemcjpzk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Operationen erstarrten f√ºr ein paar Sekunden und wurden erneut fortgesetzt, wobei der Wiederaufbau fast bemerkt wurde. </font><font style="vertical-align: inherit;">Es befindet sich in einem stabilen Zustand, wenn es weit von einer Cluster√ºberlastung entfernt ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum ist 2 Stunden Cisco kein Problem, obwohl Konkurrenten weniger Nummern haben? </font><font style="vertical-align: inherit;">Cisco empfiehlt dringend, RF3 als grundlegende Datenschutzstufe f√ºr alles au√üer f√ºr Computer zu verwenden, die nicht schade sind. </font><font style="vertical-align: inherit;">Sie haben beschlossen, Patches zu installieren oder etwas mit dem Host zu tun. Schalten Sie ihn aus. </font><font style="vertical-align: inherit;">Und es besteht die M√∂glichkeit, dass gerade in diesem Moment ein anderer Host ausf√§llt - und dann wird im Fall von RF2 alles zum Einsatz, und mit RF3 gibt es eine aktive Kopie der Daten. </font><font style="vertical-align: inherit;">Und ja, es ist durchaus m√∂glich, 2 Stunden bei einem Unfall mit RF2 zu √ºberleben, bis die Wiederherstellung von RF3 beginnt.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mach mich fertig!</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Brechen - so brechen. </font><font style="vertical-align: inherit;">Volle Ladung. </font><font style="vertical-align: inherit;">In diesem Fall habe ich einen Test mit einem Profil erstellt, das mehr oder weniger einer realen Last √§hnelt (70% gelesen, 20% zuf√§llig, 8k, 6d 128q). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4k/6l/rr/4k6lrrwh29qbybibwy2_gvq9y-e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ratet mal, wo CVM ausgeschaltet wurde und wo der Wiederaufbau begonnen hat? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0h/ur/am/0huramdwazcpyvzycht-hn1bwks.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Situation mit dem Wiederaufbau schnitt HyperFlex recht gut ab, ohne einen katastrophalen Leistungsabfall oder eine mehrfache Zunahme der Verz√∂gerungen zu verursachen, selbst unter Last unter den Tomaten. </font><font style="vertical-align: inherit;">Das einzige, was ich wirklich gerne h√§tte, ist, lieber Cisco. Machen Sie das Timeout standardm√§√üig auf weniger als 2 Stunden.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abschlie√üend erinnere ich mich an den Zweck des Tests: das Cisco HyperFlex-System heute zu untersuchen, ohne die Historie zu betrachten, seine Leistung unter Verwendung von Kunststoffen zu untersuchen und Schlussfolgerungen √ºber seine Anwendbarkeit auf ein reales Produkt zu ziehen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schlussfolgerung 1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zur Leistung. Die Leistung ist sehr gut und Sie werden hier keine weiteren Kommentare abgeben. Da ich im Test ein System der vorherigen Generation hatte, kann ich genau eines sagen: Bei HyperFlex All Flash wird die Kapazit√§t, der Prozessor, der Speicher, aber nicht die Festplatten knapp. Au√üer vielleicht 1% der √ºberladenen Anwendungen, aber Sie m√ºssen ein Gespr√§ch mit ihnen pers√∂nlich f√ºhren. Native RoW-Snapshots funktionieren. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schlussfolgerung 2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nach Verf√ºgbarkeit. Das System ist nach dem Erkennen eines Fehlers recht gut (manchmal ohne Leistungsabfall) und erf√ºllt die Wiederherstellung der Anzahl der Datenkopien. Es gibt eine leichte Beschwerde im 2-Stunden-Standardzeitlimit vor Beginn der Wiederherstellung (wenn der Host verloren geht), aber angesichts der dringend empfohlenen RF3 ist dies eher ein Trottel. Die Wiederherstellung nach einem Festplattenfehler beginnt sofort. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schlussfolgerung 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, in Preis und Vergleich mit Wettbewerbern. </font><font style="vertical-align: inherit;">Der Preis des Systems kann je nach Konfiguration f√ºr ein bestimmtes Projekt um ein Vielfaches variieren. </font><font style="vertical-align: inherit;">Ein gro√üer Teil der Projektkosten entf√§llt auf lizenzierte System- und Anwendungssoftware, die auf der Infrastrukturplattform funktioniert. </font><font style="vertical-align: inherit;">Der einzige Weg, sich mit Wettbewerbern zu vergleichen, besteht darin, bestimmte kommerzielle Angebote zu vergleichen, die den technischen Anforderungen entsprechen, insbesondere f√ºr Ihr Unternehmen f√ºr ein bestimmtes Projekt. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Endg√ºltige Schlussfolgerung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Das System funktioniert und ist f√ºr die Verwendung im Produkt f√ºr April 2020 ziemlich ausgereift, wenn die Empfehlungen des Anbieters gelesen und angewendet werden, anstatt zu rauchen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de497010/index.html">In Zeiten des Marktabschwungs investieren: 3 Strategien f√ºr das Verhalten an der B√∂rse</a></li>
<li><a href="../de497014/index.html">Wer sind Sie, QS-Ingenieur oder Tester?</a></li>
<li><a href="../de497016/index.html">13. April Java Digest</a></li>
<li><a href="../de497020/index.html">DocuSign, ein beliebter digitaler Signaturdienst, unterst√ºtzt jetzt die GlobalSign-Infrastruktur</a></li>
<li><a href="../de497022/index.html">Aktualisieren des Unternehmensnetzwerkzugriffs. Neue ExtremeSwitching X435 Gigabit-Switches</a></li>
<li><a href="../de497028/index.html">Willkommen bei Robot Operating System MeetUp</a></li>
<li><a href="../de497030/index.html">Erfahrung in der Implementierung von Netzwerkfabriken basierend auf EVPN VXLAN und Cisco ACI und ein kleiner Vergleich</a></li>
<li><a href="../de497032/index.html">Dienstleistungsgesch√§ft und Krise: Erfolgsgeschichten. Wie funktioniert es f√ºr Sie, √ºber den Tellerrand hinaus zu denken?</a></li>
<li><a href="../de497034/index.html">Was ist das neue nRF Connect SDK f√ºr Nordic? Evolution, Revolution oder Alternative?</a></li>
<li><a href="../de497036/index.html">Wann muss der Videosequenzerkennungsprozess gestoppt werden?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>