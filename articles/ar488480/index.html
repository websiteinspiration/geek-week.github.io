<!doctype html>
<html class="no-js" lang="ar">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>๐ฃ๐ฟ ๐ง๐ผโ๐คโ๐ง๐ป ๐ ูุตุจุงุญ ุฐูู "ููุฃุซุฑูุงุก" ุจุฃูุฏููู "ุงููุณููุฉ" ุ ุฅูู "ุจุณูุท" ููุฑูุญ ๐ฉ๐พโ๐คโ๐ฉ๐ฝ ๐๐ฟ ๐ฅ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ุงูููุฏูุฉ
 ูุงู ุจุฅุถุงุกุฉ "ุญุฏูุซุฉ" ูู ุงููุทุจุฎ ููุญูุถ ูุงููููุฏ ูุทุงููุฉ ุงููุทุน ุนูู ุฃุณุงุณ ุดุฑูุท LED ุงูุฐู ูุชุญูู ููู ุฃุฑุฏูููู (ุฏุนู ูุทูู ุนููู ุงููุตุจุงุญ 1). ุนูู ูุฐุง ุงูุชุตููู ู...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ูุตุจุงุญ ุฐูู "ููุฃุซุฑูุงุก" ุจุฃูุฏููู "ุงููุณููุฉ" ุ ุฅูู "ุจุณูุท" ููุฑูุญ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488480/"><img src="https://habrastorage.org/webt/os/hi/gl/oshiglmjknpmabuu6ivivauqzdw.jpeg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุฏูุฉ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงู ุจุฅุถุงุกุฉ "ุญุฏูุซุฉ" ูู ุงููุทุจุฎ ููุญูุถ ูุงููููุฏ ูุทุงููุฉ ุงููุทุน ุนูู ุฃุณุงุณ ุดุฑูุท LED ุงูุฐู ูุชุญูู ููู ุฃุฑุฏูููู (ุฏุนู ูุทูู ุนููู ุงููุตุจุงุญ 1). </font><font style="vertical-align: inherit;">ุนูู ูุฐุง ุงูุชุตููู ููุฏุฉ ุนุงููู ุ ุญุชู ุชุฏููุฑ ุฌุฒุก ุงูููุฉ ูู "ุงูุนููู". </font><font style="vertical-align: inherit;">ูุฐู ููุงุณุจุฉ ููุชุงุฒุฉ ูุฅุนุงุฏุฉ ุงุฎุชุฑุงุน ุงูุนุฌูุฉ ูู "ุณูุฉ ุงูููููุงุช" ูุฑุฉ ุฃุฎุฑู (ุงููุตุจุงุญ 2). </font><font style="vertical-align: inherit;">ุตุญูุญ ุ ูุฐู ุงููุฑุฉ ุณุชููู "ุงูููุงูุฉ" ุจุงูุธุฉ ุงูุซูู ููุชูุงููุฉ ูุน ุงูููุฒู ุงูุฐูู Z-wave. </font><font style="vertical-align: inherit;">ูููุง ููู ูุตุฉ ุญูู ุงุณุชุจุฏุงู arduino ุจู ZUNo (ูุญุฏุฉ ูุชูุงููุฉ ูุน arduino ูุฅูุดุงุก ุฌูุงุฒ Z-wave) ูุน ุงูุญุฏ ุงูุฃูุตู ูู ุญูุธ ุงูุชุนูููุงุช ุงูุจุฑูุฌูุฉ ูุดุฑุญ ุงูุชุบููุฑุงุช ุงูุถุฑูุฑูุฉ.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุงุฐุง ุญุฏุซ ูุจู ุฃู ุธูุฑุช ููุงู</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฐุงุช ูุฑุฉ ุ ูู ุฃุฌู ุบุณู ุงูุฃุทุจุงู ุฃู ุทูู ุงูุทุนุงู ุ ูุงู ูู ุงูุถุฑูุฑู ุชุดุบูู ุงููุตุจุงุญ ููู ุงูุญูุถ. </font><font style="vertical-align: inherit;">ูุงู ูุตุจุงุญ ุทุงููุฉ ุชู ุฅุนุงุฏุฉ ุจูุงุฆู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ุฃูู ุฃุญุจ ุงูุถุบุท ุนูู ุงูููุชุงุญ ุงูุตุบูุฑ ุจุฃูุฏ ูุจุชูุฉ ูุฃูู ุญูู 220 ูููุช ุฅูู ุงููุตุจุงุญ ุงููุชููุฌ. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tl/yz/dq/tlyzdqgfcsedxxsswsqlekygins.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃูุถูุง ุ ุณูุท ุงููุตุจุงุญ ูู ุงููุตุจุงุญ ุจุดูู ุฑุฆูุณู ุนูู ุงูุญูุถ ุ ููููู ุฃุฑุฏุช ุฅุถุงุกุฉ ุทุงููุฉ ุงูุทูู ูุงููููุฏ ุจุดูู ุฃูุถู. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูุฃูุฏุงู:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุฌุนู ุถูุก ุชุดุบูู / ุฅููุงู ูู ุงููุทุจุฎ ุชูุงุณ ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ุชุถูุก ุงูุญูุถ ูุทุงููุฉ ุงูุทูู ูุงููููุฏ ุจุงูุชุณุงูู ุ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ููุฑ ุงูุทุงูุฉ ุนู ุทุฑูู ุงุณุชุจุฏุงู ุงููุตุงุจูุญ ุงููุชููุฌุฉ ุจูุตุงุจูุญ LED.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงู ุจุชุฌููุน ุงููุตุจุงุญ 1. ููุชููู ูู ุตูุฏูู ุฃููููููู ุจุทูู 2 ูุชุฑ ูุน ูุงุดุฑ ูุดุฑูุท RGB ููุญุฏุฉ ุชุญูู. ุชู ุดุฑุงุก ุตูุฏูู ููุงุดุฑ ุฌุงูุฒ ูู ุงููุชุฌุฑ ุ ููุงู ููุงู ุดุฑูุท ุ ููุงูุช ูุญุฏุฉ ุงูุชุญูู ูู ุงูุฒุงููุฉ ููุชุฑุฉ ุทูููุฉ ููุงูุช ุชูุชุธุฑ ูู ุงูุฃุฌูุญุฉ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุงูุช ุงูุญุงูุฉ ุตูุงุนูุฉ (ุถุฏ ุงูุบุจุงุฑ ูููุงูู ูููุงุก). ูุธุฑูุง ูุฃู ุงูุดุฑูุท ูู 12 ูููุช ุ ูุฅู ูุญุฏุฉ ุชุฒููุฏ ุงูุทุงูุฉ ูู 220 ูููุช ุฅูู 12 ูููุช ุชูุน ูู ุงููุญุฏุฉ ุ ููุง ุฃู ููุญุฉ ุงูุนุฒู ุงูุฌููุงููุฉ ููุชุญูู ูู ุงูุดุฑูุท ุงููุงุฆู ุนูู TLP250 (optocoupler) ุชุชุญูู ุฃูุถูุง ูู ูู ูุฐุง arduino ูู ุชุตููู ูุถุบูุท.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ุญุตูุช ุนูู ุงูุนุฒูุฉ ุงูุฌููุงููุฉ ูู ุงููุดุฑูุน ุงููุฏูู. ุจูุฌุฑุฏ ุฃู ุตูุนุช ุฅุถุงุกุฉ ุฎูููุฉ ููููู ุจุงุฑ ูู ููุถุฏุฉ ุงูููู ุงูุฎุงุตุฉ ุจู. ุนูุฏูุง ุชู ูุชุญ ุงูุจุงุจ ุ ุณุฌูุช ููุญุฉ ุงูููุณ ุชุบูุฑูุง ูู ุงูุณุนุฉ ูุดุบูุช ุถูุก ูููุถูุง ุจูุฏูุก. ุฃู ุฃู ุงููุฌูุณ ูุงู ููุงุณุจูุง ุชูุงููุง ูููุดุฑูุน ุงูุญุงูู ุ ููู ูุง ุชุจูู ูู ูุทุน ูู ุดูุก ุบูุฑ ุถุฑูุฑู. ูุงู ููุงู ูุญูู ุฎุทู 5 ูููุช ุนูู ุงูููุญุฉ ุ ููุงู ูุนูู ุจูุงุณุทุฉ ZUNo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชู ุงูุชุฎุทูุท ูุชุดุบูู ุงููุตุจุงุญ ุจุฏุฑุฌ ูุฏูู ุฅูู ุฌูุงุฒ ููุงุณ ุงููุณุงูุฉ ุจุงูููุฌุงุช ููู ุงูุตูุชูุฉ. ูุงู ุจุชุฑููุจู ูู ุงูุบุทุงุก ุ ูุฏุฎูุช ุฌููุน ุงูุฃุฌุฒุงุก ุงูุฃุฎุฑู ูู ุงูุตูุฏูู. ูู "ููุซูู" ูุซุจุช ุจูุงุฏุฉ ูุงุตูุฉ ุชุฐูุจ ุงูุณุงุฎูุฉ. ูู ููุช ุงูุงุฎุชุจุงุฑ ุ ููุช ุจุนูู ุฒุฑ ุจุฌูุงุฑ ูุฒูุฏ ุงูุทุงูุฉ ุฅูู ูุญุฏุฉ ุงูุชุญูู ูู ููุชุงุญ ุงูุถูุก ููุชุซุจูุช ุงูุฎุงุฑุฌู.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r2/dn/tj/r2dntjzjoijyn-g7vk4vdkg-d5y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุตุจุญ ุชุดุบูู ุงูุฃุถูุงุก ุฃูุซุฑ ุฑุงุญุฉ ูุฃูุงููุง. </font><font style="vertical-align: inherit;">ุชู ุชุซุจูุชู ุฑุฃุณุงู ุนูู ุนูุจ ุฃุณูู ุฎุฒุงูุฉ ุงููุทุจุฎ ููุงู ูู ุงูุตุนุจ ุงูุญุตูู ุนูู ุงููุงุก ูู ุงูุฃูุฏู ุงููุจููุฉ ูู ุงูุฏุงุฎู.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชูุชุงุฌุงุช ูุญุฏุฉ ุงูุชุญูู ุงูุณุงุจูุฉ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุตุจุญุช ุฅุถุงุกุฉ ููุทูุฉ ุงูุนูู ูู ุงููุทุจุฎ ุฃูุซุฑ ุฅูุชุงุนูุง ูููุชุนุฉ ุ ุจุณุจุจ ุนุฑุถ ุงูููู ุบูุฑ ุงูุทุจูุนู ูุดุฑูุท LED ุงูุฎุงุต ุจู ุ ุชุบูุฑ ููู ุจุนุถ ุงูููุชุฌุงุช. </font><font style="vertical-align: inherit;">ุนูู ุณุจูู ุงููุซุงู: ุจุฏุง ุงูุฌุฒุฑ ุฃูุซุฑ ุดููุฉ ุจูุซูุฑ ุจุณุจุจ ุงูููู ุงูุฃูุซุฑ ุฅุดุฑุงููุง. </font><font style="vertical-align: inherit;">ููููุง ูู ุชุชุฏุฎู ูุซูุฑูุง ุ ูุขูู ุฃูุง ุชุณุจุจ ุงููุซูุฑ ูู ุงูุฃุฐู. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุน ุชุดุบูู / ุฅููุงู ุงูุชูุงูุณ ุ ุชุญูู ูู ุดูุก ุฅูู ุฃุณูุฃ. </font><font style="vertical-align: inherit;">ุงููุง ุนููุช. </font><font style="vertical-align: inherit;">ูููู ุจุนุฏ 5 ุฏูุงุฆู ูู ุญุงูุฉ ุฅููุงู ุงูุชุดุบูู ุ ุจุฏุฃุช ุงูููุถุงุช ุนูู ุดุฑูุท LED. </font><font style="vertical-align: inherit;">ูู ุฃุจุฏุฃ ูู ุฅุนุงุฏุฉ ุงูุฏุงุฆุฑุฉ ุนูู optocouplers ูุชุฑู ูู ุดูุก ููุง ูู. </font><font style="vertical-align: inherit;">ููุท ูุชุดุบูู ูุฅููุงู ุจุฏุฃ ุงุณุชุฎุฏุงู ุงูููุชุงุญ ุงูุฌุฏูุฏ. </font><font style="vertical-align: inherit;">ุฃุญุจ ุงูุฌููุน ูููุนู ูุดููู.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูู ูุฏุงุฑ ุนุงููู ูู ุงูุงุณุชุฎุฏุงู ุ ูุชู ุฅูุฑุงุฒ ุงูุฏููู ูุงููุฑูุจุงุช ุงูุฃุฎุฑู ุฃุซูุงุก ุงูุทูู ุงููุชุฑุงูู ุนูู ุงูุฌุณู ูุฏุงุฎูู. </font><font style="vertical-align: inherit;">ุงุฎุชุฑูุช ูุฐู ุงูููุญุฉ ุฌุฒุฆููุง ูู ุงูุณูู ูู ุฎูุงู ุงููุชุญุงุช ูุฏุฎูู ุงูุฃุณูุงู. </font><font style="vertical-align: inherit;">ูููู ุจุณุจุจ ุงูุณุทุญ ุงููุงูุน ููุฌุณู ุ ุชุชูุซู ูุฐู ุงููุงุฏุฉ ูู ูุชูุฉ ููุงููุฉ. </font><font style="vertical-align: inherit;">ุฅูู ูุทูู ุงููููุณ ุ ุนุฏูู ุงูุฑุงุฆุญุฉ ู ... (ูู ุฃุชุฐููู). </font><font style="vertical-align: inherit;">ุงูุชูุทุช ุจุนุถ ุงูุตูุฑ ููููุงู ุนูู ุดูู ุฌุฑุซููุฉ ุชููู. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jz/fr/ys/jzfrystsmthfk7fy5j_o70kkcfm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ot/br/mg/otbrmglxan7uooc1a1e4n88z9iq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุนูู ุงูุฌุฏุฑุงู ุ ุชุชุญูู ูุฐู ุงููุงุฏุฉ ุฅูู ุบุงุฑุฉ ุฑููุจุฉ ุ ูุง ูุชู ุบุณููุง ููุท.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ูุง ุฃุตุจุญ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ ุฃู ุจุญุซุช ูู ุตูุงุฏูู ุ ูุฌุฏุช ูุญุฏุฉ ุชูุณุนุฉ ุบูุฑ ููุชููุฉ ูู ZUNo. </font><font style="vertical-align: inherit;">ZUNo ุนุจุงุฑุฉ ุนู ููุญุฉ ุชุดุจู ุฃุฑุฏูููู ูุชุตููู ุฌูุงุฒู ุงูุฎุงุต ุงููุชูุงูู ูุน ุงูููุฒู ุงูุฐูู Z-Wave. </font><font style="vertical-align: inherit;">ูุจุฑูุฌุฉ ูู ุจูุฆุฉ ุงุฑุฏูููู.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููุงุตูุงุช ุงููุตูุน:</font></font></b><div class="spoiler_text"><ul>
<li>28 kB Flash memory for your sketches</li>
<li>2 kB RAM available</li>
<li>Z-Wave RF transmitter at 9.6/40/100 kbps</li>
<li>26 GPIO (overlaps with special hardware controllers)</li>
<li>4 ADC</li>
<li>5 PWM</li>
<li>2 UART</li>
<li>1 USB (serial port)</li>
<li>16 kB EEPROM</li>
<li>1 SPI (master or slave)</li>
<li>4 IR controllers, 1 IR learn capability</li>
<li>1 TRIAC/ZEROX to control dimmer</li>
<li>3 Interrupts</li>
<li>1 Timer 4 MHz</li>
<li>I2C (software)</li>
<li>1-Wire (software)</li>
<li>8x6 Keypad Scanner (software)</li>
<li>2 service LED, 1 service button</li>
<li>1 user test LED</li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุฌุนู ูุญุฏุฉ ุงูุชูุณูุน ZUNo ููุญุฉ ุชุตุญูุญ ูุงููุฉ ุ ูุงูุชู ุ ุจุนุฏ ุชุตุญูุญ ุงููููุฐุฌ ุงูุฃููู ุ ูููู ุงุณุชุฎุฏุงููุง ูุฌูุงุฒ ูุงูู. </font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุจุนุถ ุงููุนูููุงุช ูู ุงูุดุฑูุฉ ุงููุตูุนุฉ:</font></font></b><div class="spoiler_text"><ul>
<li>One 0-10 V analog output โ control industrial dimmers</li>
<li>Up to four PWM or switch outputs (up to 5 A per channel) โ control contactors, switches, halogen bulbs or LED strips</li>
<li>Up to eight digital 0/3 V inputs or outputs โ connect various low voltage digital senors and actors</li>
<li>Up to four digital 0/3, 0/5 or 0/12 V digital or analog inputs โ connect industrial 10 V sensors or any Arduino-compatible sensor</li>
<li>RS485 or UART โ for industial meters</li>
<li>OneWire โ for DS18B20 or other sensors</li>
</ul><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุงููุณุจุฉ ููุดุฑูุนู ุ ุฃุญุชุงุฌ ุฅูู 3 ุชุฑุงูุฒุณุชูุฑุงุช ูููุฉ ูุชุญููู 12 ูููุช ุฅูู ุดุฑูุท LED ููุญูู ูู 12 ูููุช ุฅูู 5 ูููุช ูุชุดุบูู ZUNo. </font><font style="vertical-align: inherit;">ูุง ูุชู ูุญุงู ุฃู ุงุฎุชุจุงุฑ ุจููุฉ ุฃุทุฑุงู ูุญุฏุฉ ุงูุชูุณูุน. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4j/kr/tt/4jkrtt63ocqqrkugav0nrtfvtn8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูู ูุฐุง ุงูุฌุฒุก ูู ุงูุฏุงุฆุฑุฉ ุ ูุง ููุฌุฏ ุงูุตูุงู ุงูุซูุงุฆู ุงููุงูู ูุฅูุฏุงุฏ ุงูุทุงูุฉ ุ ููุญูุงูุฉ ูู "ุงูุนูุงุณ ุงููุทุจูุฉ" ุ ููุฌุจ ุชูุตูู ุงูููุงููุงุช ุนูู ุฃุจูุงุจ ุงูุชุฑุงูุฒุณุชูุฑุงุช ุฐุงุช ุชุฃุซูุฑ ูุฌุงู ุงูุทุงูุฉ ุจุงูุจูุงุจุฉ ุ ูููุณ ุฃูุงู ุงูููุงูู ุงููุญุฏุฏ. </font><font style="vertical-align: inherit;">ุณุฃูุชุจ ุงููุฒูุฏ ุนู ูุฐุง ูู ุงูุงุณุชูุชุงุฌุงุช. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุชู ุชูููุฑ ูุญุฏุฉ ุงูุชูุณุนุฉ ูุฐู ูู ูุจูุช ูู Gainta. </font><font style="vertical-align: inherit;">ูุงูุช ูุญุฏุฉ ุงูุชุญูู ุงูุณุงุจูุฉ ุงูุฎุงุตุฉ ุจู ุฃูุถูุง ูู ุงูุญุงูุฉ ูู ูุฐู ุงูุดุฑูุฉ ุ ูููู ุจุญุฌู ูุฎุชูู. </font><font style="vertical-align: inherit;">ูุณูุก ุงูุญุธ ุ ูู ุชูู ุงูุฃุฑุจุทุฉ ุงูููุฌูุฏุฉ ูู ุงููุญุฏุฉ ุงูููุทูุฉ ููุงุณุจุฉ ููุญุงูุฉ ุงููุฏููุฉ ุ ููู ุฃุฑุบุจ ูู ุญูุฑ ูุงุญุฏุฉ ุฌุฏูุฏุฉ ุ ูุชุฑูุช ุงูุญุงูุฉ ุงููุฏููุฉ. </font><font style="vertical-align: inherit;">ุชู "ุฒุฑุน" ุงูููุญ ุนูู ุงููุงุฏุฉ ุงููุงุตูุฉ ุงููุฐูุจุฉ ุจุงูุญุฑุงุฑุฉ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wm/ls/ah/wmlsahydh07_hxmpqaryl1atchs.jpeg"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ููููุง ุนู ุจุฑูุฌุฉ Arduino ู ZUNo</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฌุจ ุฃู ุชุญุชูู ุฃุฌูุฒุฉ Z-wave ุนูู ุนุฏุฏ ูุนูู ูู ุงููุฆุงุช. ุชุตู ุงููุฆุงุช ูุธุงุฆู ุงูุฌูุงุฒ ููุงุฌูุงุช ุงูุชูุงุนู. ุนูู ุณุจูู ุงููุซุงู ุ ูุชุญูู ูุตุจุงุญู ูู ุดุฑูุท LED ูุชููู ูู ุซูุงุซุฉ ุฃููุงู (ุฃุญูุฑ ุ ุฃุฎุถุฑ ุ ุฃุฒุฑู). ูุชู ุชูููุฐ ูุฐู ุงููุธุงุฆู ุจูุงุณุทุฉ ูุฆุฉ Switch ูุชุนุฏุฏุฉ ุงููุณุชููุงุช. ุฅุฐุง ุฃุถููุงู ุฅูู ุงูุฑุณู ุ ูููููุง ุชุบููุฑ ุณุทูุน ุฃุญุฏ ุงูุฃููุงู ุนู ุจูุนุฏ. ููุชุญูู ูู ุซูุงุซุฉ ุฃููุงู ุ ุชุญุชุงุฌ ุฅูู ุฅูุดุงุก ุซูุงุซ ุญุงูุงุช ูู ูุฐู ุงููุฆุฉ. ูู ุฃุชุญุฏุซ ุนู ูุฐุง ุจูุฒูุฏ ูู ุงูุชูุงุตูู ูุงูุชูุงุตูู. ูุฃู ุงููุนุงูุฌุฉ ุงูุฑูุชูููุฉ ูููุฆุฉ ูุฎููุฉ ููุณุชุฎุฏูู ZUNo ุจููุฑุฉ "ุงูููุงุฉ". ุนูู ุณุจูู ุงููุซุงู ุ ุฃุญุชุงุฌ ุฅูู ุซูุงุซ ูุฆุงุช ูู Switch ูุชุนุฏุฏ ุงููุณุชููุงุช ุ ูุฐูู ูู ุงูุฑูุฒ ูุฌุจ ุฃู ุชุธูุฑ 3 ูููุงุช ูู ุงูุชุจุฏูู ูุชุนุฏุฏ ุงููุณุชููุงุช ูุงูุนุฏูุฏ ูู ูุธุงุฆู ุฑุฏ ุงูุงุชุตุงู ููุชุญูู ุงููุงุณููู. ููู ููุนู ุฐููุ ุชุญุชุงุฌ ุฃูุถูุง ุฅูู ุฅุถุงูุฉ ูุฆุฉ Switch ุงูุฃุณุงุณูุฉ ุูุชุดุบูู ุงููุตุจุงุญ ูุฅููุงูู ุจููุณุฉ ุฒุฑ (ูู ูุงุฌูุฉ ูุญุฏุฉ ุชุญูู ุงูุดุจูุฉ) ุ ูููุณ ูุชูููู 3 ูููุงุช ูู ูู ูุฑุฉ.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุญุชุงุฌ ุฅูู ุงูุฐูุงุจ ุฅูู ูููุน ุงููุทูุฑูู ุ ุญูุซ ูุชู ูุถุน ุฃูุซูุฉ ุนูู </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z-uno.z-wave.me/Reference/ZUNO_SWITCH_MULTILEVEL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ูุญุชูู ูู ูุตู ูุฏุนูู ูู ZUNo ุนูู ูุตู ููุซุงู. </font><font style="vertical-align: inherit;">ุจุนุฏ ุฐูู ุ ุงูุณุฎ ูุงูุตู ุงููุธุงุฆู ุงูููุชุฑุญุฉ ูู ุฑุณูู. </font><font style="vertical-align: inherit;">ููุฌุฏ ุงูุขู ูู ุงูุฑุณู ุงูุชุฎุทูุทู ุซูุงุซ ูููุงุช ุชุจุฏูู ูุชุนุฏุฏุฉ ุงููุณุชููุงุช ู 6 ูุธุงุฆู ุฑุฏ ุงุชุตุงู ููุงุณุชุฌุงุจุฉ ููุฃูุงูุฑ ูู ุงูุฑุงุฏูู. </font><font style="vertical-align: inherit;">ุฃูุง ูุณุช ูุนูุฏูุง ุฌุฏูุง ูู ูุฆุงุช Z-Wave ุ ูุฐูู ุนูู ุฌูุงุฒ ุดุฑูุท LED ุงูุณุงุจู ุงูุฎุงุต ุจู ูุน ูุฐู ุงููุฌููุนุฉ ูู ุงููุฆุงุช. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชู ุฅุนูุงู ุงููููุงุช ุนูู ุงููุญู ุงูุชุงูู:</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุนููุงู ุงูููุณุฏ</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs">ZUNO_SETUP_CHANNELS(<font></font>
      ZUNO_SWITCH_MULTILEVEL(getRed, setRed),<font></font>
      ZUNO_SWITCH_MULTILEVEL(getGreen, setGreen),<font></font>
      ZUNO_SWITCH_MULTILEVEL(getBlue, setBlue),<font></font>
      ZUNO_SWITCH_BINARY(switch_getter, switch_setter)<font></font>
);</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุฃุฏู ุฐูู ุฅูู ุฅูุดุงุก ุนูุงุตุฑ ูุงุฌูุฉ ุงููุณุชุฎุฏู ุงูุชุงููุฉ ูู ูุญุฏุฉ ุงูุชุญูู ุจุนุฏ ุฅุถุงูุชูุง ุฅูู ุงูุดุจูุฉ: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/to/-y/if/to-yif5eaf9xkuxdk4t2oxp6ph4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุถุจุท ุงูููู ุ ูุงู ูู ุงูุถุฑูุฑู ูุชุญ ูู ููู ูุชููููู ูู ูุงุฆูุฉ ูุญุฏุฉ ุงูุชุญูู ุจุดูู ูููุตู. </font><font style="vertical-align: inherit;">ุงููุง ููุณุช ูุฑูุญุฉ ูุจุทูุฆุฉ. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ููุช ูุญุธูุธุง. </font><font style="vertical-align: inherit;">ุงุชุถุญ ุฃููู ูุณุช ูุญุฏู. </font><font style="vertical-align: inherit;">ููุฏ ููุฑูุง ูููุง ูุฌุนููุง ุงูููุงุฉ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ar&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z-uno.z-wave.me/Reference/ZUNO_SWITCH_COLOR</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">ุงูุขู ููุงู ููุงุฉ ูุงุญุฏุฉ ููุท ููุธููุชุงู ูุฑุฏ ุงูุงุชุตุงู ูู ุงูุฑุณู. </font><font style="vertical-align: inherit;">ูู ูุงุฆูุฉ ูุญุฏุฉ ุงูุชุญูู ุ ูุชู ุชูููุฐ ุฅุนุฏุงุฏ ุงูููู ุจุดูู ูููุตู ููู ููู ุ ููุฐูู ูู ูุฑุฉ ูุงุญุฏุฉ ุ ูู ุฎูุงู ุงูุชุญุฏูุฏ ูู ุงูููุญุฉ.</font></font><br>
<br>
<pre><code class="cpp hljs">ZUNO_SETUP_CHANNELS(ZUNO_SWITCH_COLOR(SWITCH_COLOR_FLAGS_RED|SWITCH_COLOR_FLAGS_GREEN|SWITCH_COLOR_FLAGS_BLUE, getterFunction, setterFunction));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููู ูุงุฆูุฉ ูุญุฏุฉ ุงูุชุญูู ุ ูุจุฏู ุงูุฃูุฑ ููุง ููู: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/m3/zn/qk/m3znqkbwue228cttqmqmhggvwxu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงููุธููุฉ ุงูุชุงููุฉ ุชุณุชุฌูุจ ููุทูุจุงุช ุนุจุฑ ุงูุฑุงุฏูู. </font><font style="vertical-align: inherit;">ูุฏ ูุฃุชู ุทูุจ ููุฑุงุกุฉ ุญุงูุฉ ุฅุญุฏู ูููุงุช ุงูุฃููุงู.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function">BYTE <span class="hljs-title">getterFunction</span><span class="hljs-params">(BYTE component)</span> </span>{
  <span class="hljs-keyword">switch</span>(component)<font></font>
  {<font></font>
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_RED:
      <span class="hljs-keyword">return</span> pwmR;
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_GREEN:
      <span class="hljs-keyword">return</span> pwmG;
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_BLUE:
      <span class="hljs-keyword">return</span> pwmB;
      <span class="hljs-keyword">break</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> <span class="hljs-number">3</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุฐู ูุธููุฉ ูุชุนููู ุงูุฃููุงู ูู ูุงุฌูุฉ ุงูุชุญูู.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setterFunction</span><span class="hljs-params">(BYTE component, BYTE newValue)</span> 
</span>{
  <span class="hljs-keyword">switch</span>(component)<font></font>
  {<font></font>
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_RED:<font></font>
      pwmR = newValue;<font></font>
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_GREEN:<font></font>
      pwmG = newValue;<font></font>
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_BLUE:<font></font>
      pwmB = newValue;<font></font>
      <span class="hljs-keyword">break</span>;<font></font>
  }<font></font>
  radio_action = <span class="hljs-number">1</span>;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูู ูู ุงูุฑูุฒ ุงูุฐู ุชุญุชุงุฌ ุฅูู ุฅุถุงูุชู ูุชุญููู ุฑุณู ุงุฑุฏูููู ุฅูู ุฑุณู ูู ZUNo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงุณุชูุชุงุฌ</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุจุนุฏ ุงูุชุฌููุน ูุงูุชุซุจูุช ุ ุชู ุงูุงูุชูุงุก ูู ุฌููุน ุงูููุงู ุงููุนููุฉ. </font><font style="vertical-align: inherit;">ููุน ุฐูู ุ ุธูุช ุนุงุฏุฉ ุชุดุบูู ุงูุถูุก ูุน ุงูููุชุงุญ (ุงุชุถุญ ุฃูู ููุงุณุจ ุฌุฏูุง). </font><font style="vertical-align: inherit;">ูุนูู ุฎูุงุฑ ุงูุชุถููู ุงููุงุชูุงูุณู ุฃูุถูุง. </font><font style="vertical-align: inherit;">ูู ุจูู ุฃูุฌู ุงููุตูุฑ ุ ุฃูุฏ ุฃู ุฃุดูุฑ ุฅูู ูููุถ ูุตุจุงุญ LED ููุฏุฉ ุซุงููุฉ ุจุนุฏ ุชุทุจูู ุงูุทุงูุฉ ุนูู ูุญุฏุฉ ุงูุชุญูู. </font><font style="vertical-align: inherit;">ููุฑุฌุน ุฐูู ุฅูู ุงูุชููุฆุฉ ุงูุทูููุฉ ููุฃุฌูุฒุฉ ุงูุทุฑููุฉ ZUNo. </font><font style="vertical-align: inherit;">ุนูุฏ ูุฐู ุงูููุทุฉ ุ ูุง ูููู ุงูุชูุจุค ุจุงูุณุงููู. </font><font style="vertical-align: inherit;">ุฃุนุชูุฏ ุฃู ุงูููุงูู ุงููุงุจู ููุณุญุจ ุนูู ุจูุงุจุฉ ุงูุชุฑุงูุฒุณุชูุฑ ุณูุตุญุญ ุงููููู ุฅุฐุง ูุถุนุชู ุจุนุฏ ุงูููุงูู ุงููุญุฏุฏ. </font><font style="vertical-align: inherit;">ุฅุฐุง ูุงู ุฑูุฒ ุงูุชููุฆุฉ ุจุถุจุท ุงูุฃุฑุฌู ุนูู ุงูุฅุฎุฑุงุฌ ูุชุบููุฑ ูุณุชููุงุช ุงูููุทู ุนู ูุตุฏ ุ ููููู ุชุฌุฑุจุฉ ูุฑุดุญ RC ุ ูุงูุฐู ูู ููุฑ ูุจุถุงุช ูุตูุฑุฉ. </font><font style="vertical-align: inherit;">ูู ุฃูุนููุง ุจุนุฏ ุ ูุฑุจูุง ูู ุฃูุนููุง ุนูู ุงูุฅุทูุงู!</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุงูููุฌูุฏุงุช</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุชุจุณุท ZUNo ููุญุฏุฉ ุงูุชูุณุน ุงูุฎุงุตุฉ ุจูุง ุฅูู ุญุฏ ูุจูุฑ "ุงูุฅุจุฏุงุน ุงูููู ุงูููุฒูู". ููุน ุฐูู ุ ูุฅููู ุฃุนุชุจุฑ ุฃู ูุฐู ุงูููุชุฌุงุช ุจุงูุธุฉ ุงูุซูู ุ ูุฅุฐุง ุนููุช ูู ููุงู ุขุฎุฑ ููู ุชูู ูุนุฏุงุช Z-Wave ูุณุชูููุฉ ุ ูุณุฃูุนู ูู ุดูุก ุนูู ESP8266. ุฃุซูุงุก ุงูุชุทููุฑ ุ ุชุนููุช "ูุนูุงุฑูุง" ุฌุฏูุฏูุง ูุชูููุฒ ุงูุฃุณูุงู ูู ูุตุฏุฑ ุงูุทุงูุฉ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sx/c4/4h/sxc44hipyu2ml_agdxtaqthtvrs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ุงูุขู ุ ูู ูุชู ุชูููุฒ ุงูุฃุฑุถ ุจุดุฑูุท ุฃุณูุฏ ููุท ุ ูููู ููุง ูู ุงูุญุงู ูู ุญุงูุชู ุงูุณูู "ุงูุฅูุฌุงุจู". ุจุงููุณุจุฉ ููุญุฏุฉ ุงูุชูุณุน ุ ูุงู ูุฐุง ููููุง. ูุดู ูุญูู 5 ูููุช LM2594 (ุงูุณุนุฑ ูู Chip ู Dip ุญูุงูู 200 ุฑูุจู). ุขูู ุฃูู ูู ุงูุฅุตุฏุงุฑ ุงูุชุงูู ูู ูุญุฏุฉ ุงูุชูุณุน ุณูููู ููุงู ุตูุงู ุซูุงุฆู ููุญูุงูุฉ ุถุฏ "ุนูุณ ุงููุทุจูุฉ". ูุณูู ุฃุชุญูู ูู ูุทุจูุฉ ุฃุณูุงู ุงูุชูุฑูุฏ. ุนูุจ ุขุฎุฑ ูุฑุชุจุท ุจุงูุฌุณู. ุชุจุฏู ุงูุญุงูุฉ ุฌูุฏุฉ ุ ููููู ูู ุฃุณุชุทุน ุชูุตูู ุงูุฃุณูุงู ุฏูู ุงููููุท ุจุงููุชู ุงูุทุฑููุฉ. ุขูู ุฃู ูููู ููุงู ุฅุตุฏุงุฑ ูุน ูุชู ุทุฑููุฉ ุฃุฎุฑู (ูุชูุตูู ุงูุฃุณูุงู ูู ุงูุฃุนูู ุ ุฃู ุจุฒุงููุฉ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุง ุฃุญุจ ุชุฎุฒูู ุงูุตูุฑ ุนูู ุงูุฎุฏูุงุช ุงูุณุญุงุจูุฉ ูุบุงูุจูุง ูุง ุฃููู ุจุนูู ูุณุฎ ุงุญุชูุงุทูุฉ. ูุฐูู ุ ูุฅู ูุนุธู ุงูุตูุฑ ุงููุฑุชุจุทุฉ ุจุนูููุฉ ุงูุชุตููู ูุงููุตุจุงุญ 1 ุชุงููุฉ ุจุดูู ูุง ูููู ุฅุตูุงุญู.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zz/wz/ov/zzwzovgton7f2yxvy-2bd4zhucu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ูุฐุง ูู ูู ูุง ุชุจูู ูู ุนูููุฉ ุงูุชุฌููุน ูุงูุชุตุญูุญ. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ููุจุฏู ุฃู ุงูุฅุถุงุกุฉ ุงูุฎูููุฉ ููุฏ ุงูุชุดุบูู ุ ุฅุฐุง ุงูุญูู ููููุงู. </font><font style="vertical-align: inherit;">ุฅุฐุง ููุช ุจุงูุชุตููุจ ุ ููู ูุธูุฑ ุงููุฑุจุน ูุงูููุชุงุญ.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ya/qj/hn/yaqjhnpkhd7ge2ohejbp9ywkqpq.jpeg"> <br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ุฑุณู ู ZUNo. </font><font style="vertical-align: inherit;">ุฃุฑูู ุ ููุท ูุชุฃููุฏ ุฃู ูู ุดูุก ุฃุณุงุณู</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"EEPROM.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"EEPR.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">int</span> readPin = <span class="hljs-number">9</span>;
<span class="hljs-keyword">int</span> triggerPin = <span class="hljs-number">10</span>;<font></font>
byte controlState = <span class="hljs-number">0</span>;<font></font>
word lastValue;<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> REDPIN   PWM1     <span class="hljs-comment">// pin connection R </span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> GREENPIN PWM2     <span class="hljs-comment">// pin connection G</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> BLUEPIN  PWM3     <span class="hljs-comment">// pin connection B</span></span><font></font>
<font></font>
ZUNO_SETUP_CHANNELS(ZUNO_SWITCH_COLOR(SWITCH_COLOR_FLAGS_RED|SWITCH_COLOR_FLAGS_GREEN|SWITCH_COLOR_FLAGS_BLUE, getterFunction, setterFunction));<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> ON 1</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> OFF 0</span>
<span class="hljs-keyword">uint8_t</span> switch_=OFF;<font></font>
<font></font>
<span class="hljs-keyword">uint8_t</span> pwmR=<span class="hljs-number">0</span>;
<span class="hljs-keyword">uint8_t</span> pwmG=<span class="hljs-number">0</span>;
<span class="hljs-keyword">uint8_t</span> pwmB=<span class="hljs-number">0</span>;
<span class="hljs-keyword">uint8_t</span> b_pwmR=<span class="hljs-number">0</span>;
<span class="hljs-keyword">uint8_t</span> b_pwmG=<span class="hljs-number">0</span>;
<span class="hljs-keyword">uint8_t</span> b_pwmB=<span class="hljs-number">0</span>;<font></font>
<font></font>
<span class="hljs-keyword">enum</span><font></font>
{<font></font>
  DEF_R = <span class="hljs-number">255</span>,<font></font>
  DEF_G = <span class="hljs-number">255</span>,<font></font>
  DEF_B = <span class="hljs-number">255</span><font></font>
};<font></font>
<span class="hljs-keyword">uint8_t</span> radio_action = <span class="hljs-number">0</span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> 
</span>{ <font></font>
  init_EEPROM();<font></font>
  Serial.begin();<font></font>
  pinMode(readPin, INPUT);<font></font>
  pinMode(triggerPin, OUTPUT);<font></font>
  digitalWrite(triggerPin, LOW);<font></font>
  pinMode(REDPIN, OUTPUT);<font></font>
  pinMode(GREENPIN, OUTPUT);<font></font>
  pinMode(BLUEPIN, OUTPUT);<font></font>
  analogWrite(REDPIN, pwmR &amp; <span class="hljs-number">0xff</span>);<font></font>
  analogWrite(GREENPIN, pwmG &amp; <span class="hljs-number">0xff</span>);<font></font>
  analogWrite(BLUEPIN, pwmB &amp; <span class="hljs-number">0xff</span>);<font></font>
  <font></font>
} <font></font>
<span class="hljs-keyword">int</span> act=<span class="hljs-number">1</span>;
<span class="hljs-keyword">int</span> actf = <span class="hljs-number">0</span>;
<span class="hljs-keyword">int</span> cnt=<span class="hljs-number">57</span>; <font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span>
</span>{
  <span class="hljs-keyword">int</span> tmp;
  <span class="hljs-comment">// trigger measurement</span><font></font>
  digitalWrite(triggerPin, LOW);<font></font>
  delayMicroseconds(<span class="hljs-number">10</span>);<font></font>
  digitalWrite(triggerPin, HIGH);<font></font>
  delayMicroseconds(<span class="hljs-number">10</span>);<font></font>
  digitalWrite(triggerPin, LOW);<font></font>
  <span class="hljs-comment">// read pulse width</span>
  tmp = pulseIn(readPin, HIGH, <span class="hljs-number">100000</span>);<font></font>
  lastValue = tmp / <span class="hljs-number">58</span>;<font></font>
  Serial.print(<span class="hljs-string">" cm= "</span>);<font></font>
  Serial.println(lastValue);<font></font>
  <span class="hljs-keyword">if</span> (lastValue &lt; <span class="hljs-number">30</span>)<font></font>
  {<font></font>
    cnt++;<font></font>
  }<font></font>
  <span class="hljs-keyword">else</span><font></font>
  {<font></font>
    cnt--;<font></font>
  }<font></font>
  <span class="hljs-keyword">if</span> (cnt &gt; <span class="hljs-number">55</span>)<font></font>
  { <font></font>
    act=<span class="hljs-number">1</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">if</span> (cnt &gt; <span class="hljs-number">60</span>)<font></font>
    cnt= <span class="hljs-number">60</span>;
  <span class="hljs-keyword">if</span> (cnt &lt; <span class="hljs-number">50</span>)<font></font>
  {<font></font>
    act=<span class="hljs-number">0</span>;<font></font>
    actf=<span class="hljs-number">0</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">if</span> (cnt &lt; <span class="hljs-number">45</span> )<font></font>
    cnt = <span class="hljs-number">45</span>;<font></font>
  <font></font>
  <span class="hljs-keyword">if</span> ((act == <span class="hljs-number">1</span>) &amp;&amp; (actf == <span class="hljs-number">0</span>))<font></font>
  {  <font></font>
    actf = <span class="hljs-number">1</span>;
    <span class="hljs-keyword">if</span> (switch_ == OFF)<font></font>
    {<font></font>
      switch_=ON;<font></font>
      b_pwmG = pwmG;<font></font>
      b_pwmB = pwmB;<font></font>
      b_pwmR = pwmR;<font></font>
    }<font></font>
    <span class="hljs-keyword">else</span><font></font>
    {<font></font>
      switch_=OFF;<font></font>
      b_pwmR=<span class="hljs-number">0</span>;<font></font>
      b_pwmG=<span class="hljs-number">0</span>;<font></font>
      b_pwmB=<span class="hljs-number">0</span>;<font></font>
    }<font></font>
    analogWrite(REDPIN, b_pwmR &amp; <span class="hljs-number">0xff</span>);<font></font>
    analogWrite(GREENPIN, b_pwmG &amp; <span class="hljs-number">0xff</span>);<font></font>
    analogWrite(BLUEPIN, b_pwmB &amp; <span class="hljs-number">0xff</span>); <font></font>
  } <font></font>
  <font></font>
  Serial.print(<span class="hljs-string">"cnt = "</span>);    <font></font>
  Serial.print(cnt);  <font></font>
  Serial.print(<span class="hljs-string">" || "</span>);    <font></font>
  Serial.print(pwmR);  <font></font>
  Serial.print(<span class="hljs-string">" "</span>);      <font></font>
  Serial.print(pwmG);  <font></font>
  Serial.print(<span class="hljs-string">" "</span>);<font></font>
  Serial.print(pwmB);  <font></font>
  Serial.print(<span class="hljs-string">" "</span>);<font></font>
  Serial.println(<span class="hljs-string">""</span>);
 <span class="hljs-comment">// delay(10);</span><font></font>
<font></font>
 <span class="hljs-keyword">if</span>(radio_action)<font></font>
 {<font></font>
    radio_action = <span class="hljs-number">0</span>;<font></font>
    eepr_save_col();<font></font>
    analogWrite(REDPIN, pwmR &amp; <span class="hljs-number">0xff</span>);<font></font>
    analogWrite(GREENPIN, pwmG &amp; <span class="hljs-number">0xff</span>);<font></font>
    analogWrite(BLUEPIN, pwmB &amp; <span class="hljs-number">0xff</span>);<font></font>
 }<font></font>
}<font></font>
<font></font>
<span class="hljs-function">BYTE <span class="hljs-title">getterFunction</span><span class="hljs-params">(BYTE component)</span> </span>{
  <span class="hljs-keyword">switch</span>(component)<font></font>
  {<font></font>
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_RED:
      <span class="hljs-keyword">return</span> pwmR;
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_GREEN:
      <span class="hljs-keyword">return</span> pwmG;
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_BLUE:
      <span class="hljs-keyword">return</span> pwmB;
      <span class="hljs-keyword">break</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> <span class="hljs-number">3</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setterFunction</span><span class="hljs-params">(BYTE component, BYTE newValue)</span> 
</span>{
  <span class="hljs-keyword">switch</span>(component)<font></font>
  {<font></font>
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_RED:<font></font>
      pwmR = newValue;<font></font>
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_GREEN:<font></font>
      pwmG = newValue;<font></font>
      <span class="hljs-keyword">break</span>;
    <span class="hljs-keyword">case</span> SWITCH_COLOR_COMPONENT_BLUE:<font></font>
      pwmB = newValue;<font></font>
      <span class="hljs-keyword">break</span>;<font></font>
  }<font></font>
  radio_action = <span class="hljs-number">1</span>;<font></font>
}<font></font>
</code></pre><br>
</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ar488470/index.html">Kim Dotcom: ุงุดุชุนูุช ุ ุฃูุซุฑ ุงููุทููุจูู ุนุจุฑ ุงูุฅูุชุฑูุช. ุงูุฌุฒุก 4</a></li>
<li><a href="../ar488472/index.html">ูุฑุงุกุฉ ูู ุนุทูุฉ ููุงูุฉ ุงูุฃุณุจูุน: 10 ููุงุฏ ุญูู ุงูุฃุฏูุงุช ุงูุตูุชูุฉ - ูู ุฑุงุฏูู ุงูุณูุงุฑุฉ ุงูุณููููุชูุฉ ุฅูู ููุงุจุณ ุฅูุบุงุก ุงูุถูุถุงุก</a></li>
<li><a href="../ar488474/index.html">ุญูู ุงูููู ูุงูุตูุช ู "ุงุณุชูุดุงู ุงูุญุดูุฏ" ูููุน ูููุตู ูู ุงูุฌูุงู</a></li>
<li><a href="../ar488476/index.html">ููุงุฆู ุฃูุจูุจ ุชุณูุง</a></li>
<li><a href="../ar488478/index.html">ููู ูุงูุฉ ููุงุนุฏ ุจูุงูุงุช MS SQL Server ุฅูู ุฌูุงุฒ ุขุฎุฑ</a></li>
<li><a href="../ar488482/index.html">ูู ูู Appium ูููุงุณ</a></li>
<li><a href="../ar488484/index.html">ุฅุทูุงู SQL - ุญุฏุซ Microsoft SQL Server 2019</a></li>
<li><a href="../ar488488/index.html">ูู OpenBSD. ุงููููู ูู ุงูุจูุฌุฉ</a></li>
<li><a href="../ar488490/index.html">Likbez ุนูู ุฃุฌูุฒุฉ ุงูุชููุณ. ูู ูุณุงุนุฏ ุฌูุงุฒ ุงูุชููุณ ูุน ุนุฏูู ุงูููุฑูุณุ ูุธุฑุฉ ุนุงูุฉ ุนูู 11 ุชููุณ</a></li>
<li><a href="../ar488498/index.html">ูุฎุชุจุฑุงุช ุฌุงูุนุฉ ITMO: ุฅุถุงุกุฉ LED ูุฅููุชุฑูููุงุช ุจุตุฑูุฉ ุชุนูู ุจุงูููุฌุงุช ุงูุฏูููุฉ ูุงูุงุชุตุงูุงุช ุงูุถูุฆูุฉ</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>