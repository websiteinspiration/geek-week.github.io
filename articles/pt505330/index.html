<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🧑🏿‍🤝‍🧑🏽 🎧 🧕 Como não criar uma criptomoeda do zero em 3 anos 👩🏿‍🍳 🙅🏿 👆🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, descreverei como escrevi criptomoeda sozinha do zero, que tecnologias interessantes aprendi a partir daí, com que experiência deixei e o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como não criar uma criptomoeda do zero em 3 anos</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505330/"><img src="https://habrastorage.org/webt/p5/vm/p3/p5vmp3vpw1waurtqnk8ccsaqmgc.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, descreverei como escrevi criptomoeda sozinha do zero, que tecnologias interessantes aprendi a partir daí, com que experiência deixei e o que aconteceu então. </font><font style="vertical-align: inherit;">Este não é um tutorial, mas apenas uma descrição dos eventos, mas se eu quiser, posso escrever alguns artigos sobre o que e por quê, embora não tenha certeza se alguém precisa. </font><font style="vertical-align: inherit;">No final do artigo, haverá conclusões às quais cheguei após três anos de criação.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Olá pessoal, não escrevo nada aqui há muito tempo. </font><font style="vertical-align: inherit;">Meu último post sobre o prólogo teve mais ou menos sucesso e o público gostou. </font><font style="vertical-align: inherit;">Desde que eu gosto de me encaixar em todos os tipos de empreendimentos estranhos, eu queria fazer alguma coisa.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um pouco de história</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Então, no verão de 2017, comecei a ler sobre blockchain e criptomoedas e, assim, como aprender comigo é melhor obtido na prática - decidi escrever minha própria criptomoeda. </font><font style="vertical-align: inherit;">De fato, o objetivo não era apenas estudar, tudo começou com um simples pensamento - blockchain - o registro e, portanto - o banco de dados. </font><font style="vertical-align: inherit;">Por que, então, apenas dados financeiros são armazenados na blockchain - por que não armazenar dados arbitrários?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com esses pensamentos em mente, comecei a estudar a blockchain Bitcoin e a repeti completamente em nodejs com meus cálculos (e, é claro, bicicletas) em 4 meses. Em outubro de 2017, eu tinha um rascunho de trabalho com um código muito torto, difícil de manter, literalmente em novembro, escrevi outro cliente SPV e adicionei suporte leve à rede, além de refazer o pool de mineração (a única parte que não fiz do zero, mas apenas pegou o finalizado e finalizou), criou e projetou o explorador de blocos, que se comunicava com o nó local por meio de métodos rpc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
III ... houve eventos que estavam além do meu controle, adiando o desenvolvimento (e possivelmente lançando) por um período indeterminado (até o 19º ano, como se viu mais tarde). Deixe-me lembrá-lo que em algum lugar do outono e inverno da 17ª criptomoeda de repente decidiu ir ao máximo de seus preços.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O fato de eu ter uma criptomoeda funcional com uma certa idéia e infraestrutura e ter perdido o momento em que todos, absolutamente todas as criptomoedas mostravam seus máximos e qualquer criptomoeda poderia ser lançada (até mesmo algum token fornecido com tijolos) - acrescentou um pouco de decepção à minha planos brilhantes, mas não me desesperei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naquele momento, eu não podia continuar o desenvolvimento, mas havia tempo para estudar as 10 principais criptomoedas, então criei um canal de telegrama no qual analisei as principais criptomoedas, que estavam naquela época entre as 10 principais do lado técnico. A propósito, se habrayuzery quiser - eu posso "portar" esses artigos aqui.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa análise no futuro, quando eu voltei ao desenvolvimento - eles me permitiram melhorar o modelo e pensar em mais detalhes sobre a arquitetura da futura criptomoeda. </font><font style="vertical-align: inherit;">Em 2019, voltei ao desenvolvimento e comecei do zero. </font><font style="vertical-align: inherit;">Pensei na arquitetura futura com mais detalhes, me livrei das referências cruzadas no código, excluí módulos redundantes, transferi alguns dos módulos para separar pacotes npm e coletamos criptomoedas recentemente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detalhes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devo dizer imediatamente que este não é um projeto, mas apenas um conjunto de códigos inúteis, por isso espero que não seja banido por links para o github e indicando os nomes. </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criptomoeda</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após o primeiro experimento relativamente bem-sucedido, fiquei mais ousado e decidi que o próximo projeto deveria ser mais bonito em termos de código do que o primeiro protótipo. </font><font style="vertical-align: inherit;">Além disso, decidi tornar o sistema modular, na forma de uma estrutura, para poder conectar e desconectar módulos, se necessário. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, escrever uma criptomoeda em termos técnicos não é uma tarefa tão difícil, em resumo:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">construir um banco de dados para blocos e indexação</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">organizar um protocolo para troca de mensagens entre nós</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definir formato de serialização de dados e algoritmo de assinatura de transação</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">definir consenso e estabelecer regras para adicionar e validar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servidor rpc opcional</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e, em seguida, configure o cliente do console e tente executar gerando o bloco genesis e configurando validadores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">após uma tonelada de erros e imprecisões corrigidos - você tem uma criptomoeda funcional, parabéns</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, há o estágio de adicionar funções que não estão na base. </font><font style="vertical-align: inherit;">Por exemplo, eu tenho esse datascript, a base do projeto.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datascript</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O projeto que escrevi por 4 meses foi chamado orwell e é um fork do bitcoin em maior medida, mas também pressupõe que cada transação, além de informações financeiras, contenha dados adicionais no formato HEX, que (se a transação for válida e se enquadra no bloco) são traduzidos para um especialista Uma VM que descriptografa esses dados e os converte em um banco de dados regular. </font><font style="vertical-align: inherit;">Chamei essa VM de orwelldb e o formato é datascript, exemplo de descriptografia: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hex:</font></font><br>
<br>
<code>ef01fd4f01190b6578616d706c6564617461fd3f0154fd3b011f000f0fa1067e45f40003f1096f776e65725f6b65798230343233633635653064373364626161386537393435633965663135626338366533643864396638636364323636626366323362623032646336333432386636623239343766336164643731636536333962653739646561333933313237613061336661623136613339306630326537363966633135373561333535333130323461f30a70726976696c6567657301f1008230346231363165656566623739363163366637306137643338666434373764616633333437643231346561663365313639643964316434336232346437323338383665343063643962633563633232393638333635656531663962653635333932303539383630643735656432356136303836653830666462653138336565613364f20b7772697465536372697074fdb815</code> <br>
<br>
<pre><code class="json hljs">[<font></font>
{<font></font>
   <span class="hljs-attr">"dataset"</span>: <span class="hljs-string">"exampledata"</span>,
   <span class="hljs-attr">"operator"</span>: <span class="hljs-string">"create"</span>,
   <span class="hljs-attr">"content"</span>: {
    <span class="hljs-attr">"owner_key"</span>: <span class="hljs-string">"0423c65e0d73dbaa8e7945c9ef15bc86e3d8d9f8ccd266bcf23bb02dc63428f6b2947f3add71ce639be79dea393127a0a3fab16a390f02e769fc1575a35531024a"</span>,
    <span class="hljs-attr">"privileges"</span>: [
<span class="hljs-string">"04b161eeefb7961c6f70a7d38fd477daf3347d214eaf3e169d9d1d43b24d723886e40cd9bc5cc22968365ee1f9be65392059860d75ed25a6086e80fdbe183eea3d"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"writeScript"</span>: <span class="hljs-number">5560</span><font></font>
   },<font></font>
   <span class="hljs-attr">"canRead"</span>: <span class="hljs-literal">true</span>,
   <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span><font></font>
  }<font></font>
]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou falar um pouco sobre o conteúdo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O datascript contém uma matriz de chamadas para um banco de dados específico e seus conjuntos de dados; nesse caso, a transação descreve a criação de um novo conjunto de dados (ou seja, uma tabela, se estamos falando de bancos de dados relacionais), que segue o conteúdo do campo "operator". Além da criação, também pode haver "gravação" e "configurações" - adicionando (ou alterando) dados e atualizando os parâmetros do conjunto de dados, respectivamente. "Conteúdo" são apenas os dados gravados no conjunto de dados. Nesse caso, criamos uma tabela, para que o conteúdo seja idêntico ao que está escrito com operator = settings - table settings. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para descrever exatamente o que está escrito lá, é preciso recorrer ao conceito de um script de dados. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou demonstrar o diagrama de 2017 criado para esses fins:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nj/jd/_7/njjd_72nro0czhi3e_4bbhkbrv4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O script de dados, por analogia com o bitcoin e seus scripts de bloqueio e desbloqueio, contém read e writeScript, o primeiro determina quem pode ler a mensagem e o segundo - quem pode gravar em um conjunto de dados específico. </font><font style="vertical-align: inherit;">Scripts são linguagens orientadas a pilha. </font><font style="vertical-align: inherit;">O Readscript está escrito na própria mensagem e indica quem pode ler a mensagem. </font><font style="vertical-align: inherit;">Isso é implementado usando criptografia. </font><font style="vertical-align: inherit;">Ao especificar a criptografia, apenas quem possui a chave necessária no armazenamento de chaves pode ler, caso contrário, quem quiser. </font><font style="vertical-align: inherit;">As mensagens com a instrução create / settings nunca devem ser criptografadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um exemplo de readScript aberto (qualquer um pode lê-lo):</font></font><br>
<br>
<pre><code class="plaintext hljs">DATA_HEXJSON + jsonhexbytes <font></font>
 DATA_HEXJSON  = 0x54</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criptografado:</font></font><br>
<br>
<pre><code class="plaintext hljs">DATA_HEXJSONENCRYPTED + var_str(encrypted data) + PUSHDATA_DBREADPRIVATEKEY + uint8(encryption) + OP_DECRYPT + OP_HASH256 + DATA_HASH + char[32](hash) + OP_EQUAL</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
na forma bruta: </font></font><br>
<br>
<pre><code class="plaintext hljs">0x53 + var_str + 0x56 + (0x1 or 0x2) + 0x57 + 0x59 + 0x58 + char[32] + 0x87</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teste de descriptografia de dados com verificação de hash de dados descriptografados. </font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se alguém estiver interessado, descrevi com mais detalhes tudo na documentação do protocolo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github: docscript de dados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas o jsonhex especificado no código é minha implementação de traduzir o json em um formato binário. </font><font style="vertical-align: inherit;">Parece que você poderia deixar o json de sempre, mas eu queria uniformidade, então desenvolvi um protocolo separado. </font><font style="vertical-align: inherit;">Se você quiser ler sobre ele, aqui está a documentação: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github: bitowl</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Writescript é registrado nas configurações do conjunto de dados, no exemplo é 0x5560. </font><font style="vertical-align: inherit;">Nesse caso, diz:</font></font><br>
<br>
<pre><code class="plaintext hljs">PUSHDATA_DBWRITEPUBLICKEY  OP_CHECKDBPRIVILEGES</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa. </font><font style="vertical-align: inherit;">envie a chave pública do remetente da mensagem para a pilha - e verifique a lista de privilégios para esse conjunto de dados. </font><font style="vertical-align: inherit;">Se essa chave estiver na lista de privilégios (o remetente da mensagem de criação ou a chave do proprietário), ele poderá escrever. </font><font style="vertical-align: inherit;">Além disso, se o escrito estiver vazio, significa ALL, ou seja, </font><font style="vertical-align: inherit;">qualquer um pode escrever neste conjunto de dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para operator = settings, tudo parece igual, apenas as configurações dentro do conteúdo são alteradas. </font><font style="vertical-align: inherit;">Para gravação - o conteúdo contém os dados reais.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um pouco sobre blockchain</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas e o banco de dados, você pergunta? No meu caso, fiz um hack - se a transação contiver um conteúdo de script de dados - a primeira saída dessa transação é sempre zero e esse script de dados é enviado a ela, ou seja, todo endereço na rede é um banco de dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse modelo permite que você armazene dados dentro da própria blockchain, o que oferece alguma flexibilidade, mas ao mesmo tempo adiciona problemas com o armazenamento, porque a blockchain do bitcoin já cresceu para quase 500 gigabytes, e isso é apenas nos dados financeiros. Se você adicionar aqui também os arbitrários - será redundante. Portanto, o armazenamento era limitado a todos os tipos de chaves e conexões para autorização. E, a propósito, todas as regras são validadas no nível da VM durante a criação, mas você precisa sincronizá-lo com o blockchain.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, criei alguns conjuntos de dados do sistema no banco de dados do sistema: domínio, masternode, token, dapp, assim, você pode criar domínios para cada endereço / banco de dados e operar não com um conjunto de caracteres obscuros, mas com um apelido conveniente (por exemplo), além de domínios Por design, eles podem ser usados ​​em dapps (sobre os quais escreverei mais adiante). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quanto ao token e ao masternode do conjunto de dados, o primeiro armazena os tokens de usuário que cada participante pode criar e o masternode armazena uma lista de chaves públicas dos participantes que são validadores de rede. </font><font style="vertical-align: inherit;">Uma pequena digressão é necessária aqui.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consenso </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A base da blockchain é o consenso, ou seja, um acordo entre nós, um determinado conjunto de regras que operam na rede e todos cumprem para que a rede esteja operacional. Por exemplo, o consenso de Bitcoin é Prova de trabalho, ou mineração, que, tenho certeza, já foi escrito aqui muitas vezes. A essência do consenso é verificar os novos blocos publicados pelos participantes da rede. No Bitcoin, os participantes da rede publicam blocos aleatoriamente - quem encontrar o primeiro receberá uma recompensa. Ele inicialmente fez o mesmo em sua rede, mas depois decidiu que não era racional, já que um minerador de bitcoin seria suficiente para interromper minha rede e aplicar um ataque de 51%. Então, depois de algum tempo, implementei o módulo de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consenso consensusjs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que descreveu vários consensos diferentes: centralizado, PoW, PoS (PoW + PoS), dpow estático, dos estático, dospos dinâmicos. Finalmente parei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O delegado dinâmico pos (ddpos) assume que, desde o início, se houver um certo número de delegados (validadores) cuja lista seja classificada por classificação e número de moedas em uso, será criada uma rodada durante a qual cada validador da lista publica um bloco em ordem estrita. Quando a rodada termina, um novo é calculado e cada membro da rede tem a oportunidade de calcular independentemente a rodada atual e a próxima rodada com base nos dados abertos da rede.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, isso requer a tabela de masternode, nela armazenamos todos aqueles que expressaram o desejo de ser um validador e sua classificação atual. </font><font style="vertical-align: inherit;">No início de cada rodada, classificamos esta tabela e criamos uma rodada com os N validadores resultantes. </font><font style="vertical-align: inherit;">Se o número de validadores for menor que N, criamos uma rodada com os validadores de rede padrão descritos no arquivo de configuração (suas chaves públicas).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">democracia</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O conceito de votação na rede foi inventado e implementado na versão antiga da criptomoeda, que permite receber dados médios da rede de todos os nós votados. </font><font style="vertical-align: inherit;">Na nova versão, implementei um módulo separado, mas não consegui integrá-lo. </font><font style="vertical-align: inherit;">Supunha-se que, com a ajuda da democracia, seria possível alterar os parâmetros da rede por votação justa, bem como reduzir o tamanho da cadeia de blocos armazenada mudando a gênese do bloco (o bloco de gênese se torna maior ao colocar UTXO e dados antigos), mas permitiria sincronizar nem um milhão de blocos , mas apenas os últimos 1000, por exemplo. </font><font style="vertical-align: inherit;">Além disso, a votação pode gerenciar garfos e alterações na rede, além de resolver problemas organizacionais relacionados à rede. </font><font style="vertical-align: inherit;">É verdade que não consegui implementar este módulo, como escrevi acima, mas a ideia permaneceu.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapps</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O conceito de dapps foi inventado um pouco mais tarde, após o pico do bitcoin no início do dia 18. Houve a ideia de registrar o aplicativo (chave pública) na blockchain, registrar trabalhadores (chaves públicas) nas tabelas do sistema, comunicação dos trabalhadores com o aplicativo e os trabalhadores já trabalhariam em sua própria blockchain isolada. Ainda há um visualizador nesse conceito, ou seja, Como parte do aplicativo com uma interface para comunicação com o cliente, o navegador e um aplicativo separado podem atuar como visualizador. Mais tarde, recusei essa ideia, pois demorei muito tempo para implementá-la e a tornou um pouco mais fácil.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Você também pode registrar o dApp no ​​blockchain, associá-lo a um domínio e um participante, sabendo o domínio que está associado à chave pública do aplicativo, pode interagir com esse aplicativo. </font><font style="vertical-align: inherit;">Ao acessar o domínio, o servidor DNS transparente no cliente da rede lê a solicitação do usuário, criptografa-o usando criptografia ecdh, para que apenas o participante com a chave pública do aplicativo possa ler o conteúdo e enviá-lo à rede. </font><font style="vertical-align: inherit;">O aplicativo recebe essa solicitação, a envia para o terminal especificado na configuração para esta aplicação e retorna o resultado à rede, também criptografada.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A propósito, um fato engraçado: como os nós se comunicam usando a criptografia ecdh e o dApp envia e recebe dados é criptografado - no momento da transferência entre os nós, parte da mensagem é criptografada duas vezes.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com esse método, é obtida uma rede criptografada, na qual cada participante pode criar sites (e não apenas), e fica mais fácil controlar o tráfego, pois cada participante contém sua própria chave pública, com a qual ele "navega no site", os endereços IP são cortados de solicitações e respostas tornando a rede anônima. </font><font style="vertical-align: inherit;">Assim, inicialmente há autorização e também é possível ver o saldo do usuário, o saldo de tokens (associado ao site, por exemplo) e concluir o processo de pagamento sem sair do site e da rede. </font><font style="vertical-align: inherit;">A única desvantagem no momento dos testes era o desempenho - dessa forma, os sites carregam 10 vezes mais devagar, pois são enviados por uma rede descentralizada. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O mecanismo descrito acima é apenas um conceito, mas já está meio implementado. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sob o spoiler, enviei um link para o código que implementa isso (github):</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Código dapp bruto</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/gettocat/friday/blob/master/node/modules/dapps/index.js</font></font></a><br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Onde eu começaria agora</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 E, no final, quero escrever alguns truques que aplicaria se tivesse que começar tudo de novo com o conhecimento atual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A arquitetura modular é definitivamente apenas para cada módulo estar minimamente conectado com todos os outros e pode ser substituída em caso de, por exemplo, mudança de consenso. O </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
isolamento de módulos é essencialmente uma continuação do parágrafo anterior, que é especificamente sobre módulos funcionais, não lógicos. </font><font style="vertical-align: inherit;">Por exemplo - no meu código, o consenso é implementado por um módulo consensusjs separado, que permite testá-lo para cima e para baixo antes de implementá-lo em um rascunho de trabalho, o mesmo se aplica às chamadas primitivas (formato da transação, blocos e sua serialização / desserialização), para que você possa testar a funcionalidade de um módulo específico até incorporando-o no código principal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testes - cobrir cada módulo com testes é a base do bem-estar durante o processo de lançamento e do sono normal à noite (testado em si mesmo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versões em tudo - como as criptomoedas são um sistema fechado - é necessário pensar com antecedência sobre o que acontecerá a seguir - como você o apoiará. </font><font style="vertical-align: inherit;">É necessário pensar em um modelo para atualizar a funcionalidade de versão para versão para todos os participantes, a fim de não sofrer aqueles que ainda não atualizaram, pois no caso oposto pode ocorrer uma bifurcação não intencional da rede principal. </font><font style="vertical-align: inherit;">No meu módulo consensusjs, a funcionalidade para determinar garfos e versões válidas de blocos foi implementada, mas ainda não o adicionei ao código principal.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumário</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como prometi, no final do artigo, resumirei alguns dos resultados. Este post pode ser considerado um ponto da história com uma criptomoeda caseira. Por um lado, percebi que não era para produção, era necessário um controle de código mais sensível, cobertura de teste e outras coisas dos projetos de produção, além de mais de um programador. E finanças, finanças, finanças. Em nenhum lugar sem ele. Eu não tenho tudo isso e não tinha, então estava interessado em tentar, estudar a tecnologia e ver se valia a pena ou não. Valeu a pena. Posso dizer que, depois do trabalho realizado, comecei a entender melhor muitos aspectos da programação e da tecnologia (eu realmente avancei no trabalho com sequências de bytes, por exemplo) e definitivamente estudei o blockchain e as tecnologias baseadas nele.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, tenho certeza de que o Ethereum usa um conceito semelhante com dados de transação e uma máquina virtual que processa esses dados, apenas o Ethereum usa dados como funções (se de uma maneira simples) e os acessa (além de criar contratos). Eu tenho certeza que os scripts internos do bitcoin (a linguagem de pilha) são uma coisa bastante forte, Satoshi implicou na criação de contratos inteligentes com base neles muito antes do surgimento do conceito de "contrato inteligente", mas o uso desses scripts é limitado no bitcoin, pois possíveis erros anteriormente desconhecidos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se conversarmos sobre as tecnologias que eu gostei após meus três anos de pesquisa - este é definitivamente um consenso, ou seja, acordo entre os participantes da rede e regras gerais para validação de mensagens. O filtro bloom é uma coisa bastante interessante, que nos permite enviar um filtro para outro participante, pelo qual ele filtra os dados enviados sem revelar detalhes. Assim - você obtém dados sem revelar que tipo de dados você precisa. Merkle tree como uma estrutura de armazenamento de dados, a base de nós leves no bitcoin e nas árvores de estado (existem três deles) ethereum. O PoW é uma idéia tão simples, mas ao mesmo tempo tão elegante: “todo mundo está procurando por um número menor que a complexidade média total dos últimos N blocos calculados pela razão usual.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quanto aos contras, existem muitos deles também. O primeiro deles são os custos trabalhistas. Com o tempo, me esqueci dessa idéia, mesmo que ela tenha me capturado por cerca de 3 anos. Por exemplo, agora a criptomoeda parece ter sido lançada, e parece que ela já não aguenta nada para lançá-la, mas após 5 mil blocos um bug estranho se formou com o fato de que, por algum motivo, a contagem de blocos começa do zero (os índices parecem estar travando de alguma forma) , para procurar o que não há tempo, nem desejo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez um dia voltarei a essa idéia ou semelhante a ela (ou com base nela). </font><font style="vertical-align: inherit;">Se desejar, você pode estudar o código ou dividir o projeto de sexta-feira no meu github, todo o código está sob a licença MIT. </font><font style="vertical-align: inherit;">Definitivamente, definitivamente não vou parar de trabalhar nessa direção, porque as tecnologias descentralizadas são muito interessantes, embora bastante trabalhosas. </font><font style="vertical-align: inherit;">Estou aguardando no PM se houver dúvidas / sugestões ou esclarecimentos. </font><font style="vertical-align: inherit;">Ajudarei a descobrir se você precisar de repente. </font><font style="vertical-align: inherit;">Abaixo, organizarei uma pesquisa - vale a pena escrever mais sobre este tópico aqui, embora a classificação em si coloque tudo no lugar.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt505302/index.html">10 dicas de design de circuitos</a></li>
<li><a href="../pt505306/index.html">De jogos a projetos de comércio eletrônico. Alterando o programa de dois anos do Technopark</a></li>
<li><a href="../pt505310/index.html">O que distingue empresas tecnologicamente avançadas e como a techlide pode ajudar sua equipe a crescer</a></li>
<li><a href="../pt505314/index.html">Sincronização de hora do Linux: NTP, Chrony e systemd-timesyncd</a></li>
<li><a href="../pt505322/index.html">Despachante do futuro: como mudará seu papel na empresa de serviços?</a></li>
<li><a href="../pt505336/index.html">Como: Manet ou Monet? A rede neural responde</a></li>
<li><a href="../pt505340/index.html">Funcionários do Walmart tentam provar que a IA anti-roubo não funciona</a></li>
<li><a href="../pt505342/index.html">A injeção de dependência e o princípio de inversão de dependência NÃO SÃO UM E MESMO</a></li>
<li><a href="../pt505362/index.html">Vite - desenvolvimento de leads sem pacotes no Vue</a></li>
<li><a href="../pt505378/index.html">Todo esse marketing: como trabalhar com pontos de contato em uma empresa de TI?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>