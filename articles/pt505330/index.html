<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßëüèø‚Äçü§ù‚ÄçüßëüèΩ üéß üßï Como n√£o criar uma criptomoeda do zero em 3 anos üë©üèø‚Äçüç≥ üôÖüèø üëÜüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Neste artigo, descreverei como escrevi criptomoeda sozinha do zero, que tecnologias interessantes aprendi a partir da√≠, com que experi√™ncia deixei e o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como n√£o criar uma criptomoeda do zero em 3 anos</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505330/"><img src="https://habrastorage.org/webt/p5/vm/p3/p5vmp3vpw1waurtqnk8ccsaqmgc.jpeg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste artigo, descreverei como escrevi criptomoeda sozinha do zero, que tecnologias interessantes aprendi a partir da√≠, com que experi√™ncia deixei e o que aconteceu ent√£o. </font><font style="vertical-align: inherit;">Este n√£o √© um tutorial, mas apenas uma descri√ß√£o dos eventos, mas se eu quiser, posso escrever alguns artigos sobre o que e por qu√™, embora n√£o tenha certeza se algu√©m precisa. </font><font style="vertical-align: inherit;">No final do artigo, haver√° conclus√µes √†s quais cheguei ap√≥s tr√™s anos de cria√ß√£o.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ol√° pessoal, n√£o escrevo nada aqui h√° muito tempo. </font><font style="vertical-align: inherit;">Meu √∫ltimo post sobre o pr√≥logo teve mais ou menos sucesso e o p√∫blico gostou. </font><font style="vertical-align: inherit;">Desde que eu gosto de me encaixar em todos os tipos de empreendimentos estranhos, eu queria fazer alguma coisa.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um pouco de hist√≥ria</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, no ver√£o de 2017, comecei a ler sobre blockchain e criptomoedas e, assim, como aprender comigo √© melhor obtido na pr√°tica - decidi escrever minha pr√≥pria criptomoeda. </font><font style="vertical-align: inherit;">De fato, o objetivo n√£o era apenas estudar, tudo come√ßou com um simples pensamento - blockchain - o registro e, portanto - o banco de dados. </font><font style="vertical-align: inherit;">Por que, ent√£o, apenas dados financeiros s√£o armazenados na blockchain - por que n√£o armazenar dados arbitr√°rios?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com esses pensamentos em mente, comecei a estudar a blockchain Bitcoin e a repeti completamente em nodejs com meus c√°lculos (e, √© claro, bicicletas) em 4 meses. Em outubro de 2017, eu tinha um rascunho de trabalho com um c√≥digo muito torto, dif√≠cil de manter, literalmente em novembro, escrevi outro cliente SPV e adicionei suporte leve √† rede, al√©m de refazer o pool de minera√ß√£o (a √∫nica parte que n√£o fiz do zero, mas apenas pegou o finalizado e finalizou), criou e projetou o explorador de blocos, que se comunicava com o n√≥ local por meio de m√©todos rpc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
III ... houve eventos que estavam al√©m do meu controle, adiando o desenvolvimento (e possivelmente lan√ßando) por um per√≠odo indeterminado (at√© o 19¬∫ ano, como se viu mais tarde). Deixe-me lembr√°-lo que em algum lugar do outono e inverno da 17¬™ criptomoeda de repente decidiu ir ao m√°ximo de seus pre√ßos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O fato de eu ter uma criptomoeda funcional com uma certa id√©ia e infraestrutura e ter perdido o momento em que todos, absolutamente todas as criptomoedas mostravam seus m√°ximos e qualquer criptomoeda poderia ser lan√ßada (at√© mesmo algum token fornecido com tijolos) - acrescentou um pouco de decep√ß√£o √† minha planos brilhantes, mas n√£o me desesperei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naquele momento, eu n√£o podia continuar o desenvolvimento, mas havia tempo para estudar as 10 principais criptomoedas, ent√£o criei um canal de telegrama no qual analisei as principais criptomoedas, que estavam naquela √©poca entre as 10 principais do lado t√©cnico. A prop√≥sito, se habrayuzery quiser - eu posso "portar" esses artigos aqui.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa an√°lise no futuro, quando eu voltei ao desenvolvimento - eles me permitiram melhorar o modelo e pensar em mais detalhes sobre a arquitetura da futura criptomoeda. </font><font style="vertical-align: inherit;">Em 2019, voltei ao desenvolvimento e comecei do zero. </font><font style="vertical-align: inherit;">Pensei na arquitetura futura com mais detalhes, me livrei das refer√™ncias cruzadas no c√≥digo, exclu√≠ m√≥dulos redundantes, transferi alguns dos m√≥dulos para separar pacotes npm e coletamos criptomoedas recentemente.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Detalhes</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devo dizer imediatamente que este n√£o √© um projeto, mas apenas um conjunto de c√≥digos in√∫teis, por isso espero que n√£o seja banido por links para o github e indicando os nomes. </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Criptomoeda</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s o primeiro experimento relativamente bem-sucedido, fiquei mais ousado e decidi que o pr√≥ximo projeto deveria ser mais bonito em termos de c√≥digo do que o primeiro prot√≥tipo. </font><font style="vertical-align: inherit;">Al√©m disso, decidi tornar o sistema modular, na forma de uma estrutura, para poder conectar e desconectar m√≥dulos, se necess√°rio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, escrever uma criptomoeda em termos t√©cnicos n√£o √© uma tarefa t√£o dif√≠cil, em resumo:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">construir um banco de dados para blocos e indexa√ß√£o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">organizar um protocolo para troca de mensagens entre n√≥s</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definir formato de serializa√ß√£o de dados e algoritmo de assinatura de transa√ß√£o</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">definir consenso e estabelecer regras para adicionar e validar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">servidor rpc opcional</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e, em seguida, configure o cliente do console e tente executar gerando o bloco genesis e configurando validadores</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ap√≥s uma tonelada de erros e imprecis√µes corrigidos - voc√™ tem uma criptomoeda funcional, parab√©ns</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, h√° o est√°gio de adicionar fun√ß√µes que n√£o est√£o na base. </font><font style="vertical-align: inherit;">Por exemplo, eu tenho esse datascript, a base do projeto.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datascript</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O projeto que escrevi por 4 meses foi chamado orwell e √© um fork do bitcoin em maior medida, mas tamb√©m pressup√µe que cada transa√ß√£o, al√©m de informa√ß√µes financeiras, contenha dados adicionais no formato HEX, que (se a transa√ß√£o for v√°lida e se enquadra no bloco) s√£o traduzidos para um especialista Uma VM que descriptografa esses dados e os converte em um banco de dados regular. </font><font style="vertical-align: inherit;">Chamei essa VM de orwelldb e o formato √© datascript, exemplo de descriptografia: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hex:</font></font><br>
<br>
<code>ef01fd4f01190b6578616d706c6564617461fd3f0154fd3b011f000f0fa1067e45f40003f1096f776e65725f6b65798230343233633635653064373364626161386537393435633965663135626338366533643864396638636364323636626366323362623032646336333432386636623239343766336164643731636536333962653739646561333933313237613061336661623136613339306630326537363966633135373561333535333130323461f30a70726976696c6567657301f1008230346231363165656566623739363163366637306137643338666434373764616633333437643231346561663365313639643964316434336232346437323338383665343063643962633563633232393638333635656531663962653635333932303539383630643735656432356136303836653830666462653138336565613364f20b7772697465536372697074fdb815</code> <br>
<br>
<pre><code class="json hljs">[<font></font>
{<font></font>
   <span class="hljs-attr">"dataset"</span>: <span class="hljs-string">"exampledata"</span>,
   <span class="hljs-attr">"operator"</span>: <span class="hljs-string">"create"</span>,
   <span class="hljs-attr">"content"</span>: {
    <span class="hljs-attr">"owner_key"</span>: <span class="hljs-string">"0423c65e0d73dbaa8e7945c9ef15bc86e3d8d9f8ccd266bcf23bb02dc63428f6b2947f3add71ce639be79dea393127a0a3fab16a390f02e769fc1575a35531024a"</span>,
    <span class="hljs-attr">"privileges"</span>: [
<span class="hljs-string">"04b161eeefb7961c6f70a7d38fd477daf3347d214eaf3e169d9d1d43b24d723886e40cd9bc5cc22968365ee1f9be65392059860d75ed25a6086e80fdbe183eea3d"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"writeScript"</span>: <span class="hljs-number">5560</span><font></font>
   },<font></font>
   <span class="hljs-attr">"canRead"</span>: <span class="hljs-literal">true</span>,
   <span class="hljs-attr">"success"</span>: <span class="hljs-literal">true</span><font></font>
  }<font></font>
]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou falar um pouco sobre o conte√∫do. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O datascript cont√©m uma matriz de chamadas para um banco de dados espec√≠fico e seus conjuntos de dados; nesse caso, a transa√ß√£o descreve a cria√ß√£o de um novo conjunto de dados (ou seja, uma tabela, se estamos falando de bancos de dados relacionais), que segue o conte√∫do do campo "operator". Al√©m da cria√ß√£o, tamb√©m pode haver "grava√ß√£o" e "configura√ß√µes" - adicionando (ou alterando) dados e atualizando os par√¢metros do conjunto de dados, respectivamente. "Conte√∫do" s√£o apenas os dados gravados no conjunto de dados. Nesse caso, criamos uma tabela, para que o conte√∫do seja id√™ntico ao que est√° escrito com operator = settings - table settings. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para descrever exatamente o que est√° escrito l√°, √© preciso recorrer ao conceito de um script de dados. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vou demonstrar o diagrama de 2017 criado para esses fins:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nj/jd/_7/njjd_72nro0czhi3e_4bbhkbrv4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O script de dados, por analogia com o bitcoin e seus scripts de bloqueio e desbloqueio, cont√©m read e writeScript, o primeiro determina quem pode ler a mensagem e o segundo - quem pode gravar em um conjunto de dados espec√≠fico. </font><font style="vertical-align: inherit;">Scripts s√£o linguagens orientadas a pilha. </font><font style="vertical-align: inherit;">O Readscript est√° escrito na pr√≥pria mensagem e indica quem pode ler a mensagem. </font><font style="vertical-align: inherit;">Isso √© implementado usando criptografia. </font><font style="vertical-align: inherit;">Ao especificar a criptografia, apenas quem possui a chave necess√°ria no armazenamento de chaves pode ler, caso contr√°rio, quem quiser. </font><font style="vertical-align: inherit;">As mensagens com a instru√ß√£o create / settings nunca devem ser criptografadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um exemplo de readScript aberto (qualquer um pode l√™-lo):</font></font><br>
<br>
<pre><code class="plaintext hljs">DATA_HEXJSON + jsonhexbytes <font></font>
 DATA_HEXJSON  = 0x54</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criptografado:</font></font><br>
<br>
<pre><code class="plaintext hljs">DATA_HEXJSONENCRYPTED + var_str(encrypted data) + PUSHDATA_DBREADPRIVATEKEY + uint8(encryption) + OP_DECRYPT + OP_HASH256 + DATA_HASH + char[32](hash) + OP_EQUAL</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
na forma bruta: </font></font><br>
<br>
<pre><code class="plaintext hljs">0x53 + var_str + 0x56 + (0x1 or 0x2) + 0x57 + 0x59 + 0x58 + char[32] + 0x87</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teste de descriptografia de dados com verifica√ß√£o de hash de dados descriptografados. </font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Se algu√©m estiver interessado, descrevi com mais detalhes tudo na documenta√ß√£o do protocolo: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github: docscript de dados</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas o jsonhex especificado no c√≥digo √© minha implementa√ß√£o de traduzir o json em um formato bin√°rio. </font><font style="vertical-align: inherit;">Parece que voc√™ poderia deixar o json de sempre, mas eu queria uniformidade, ent√£o desenvolvi um protocolo separado. </font><font style="vertical-align: inherit;">Se voc√™ quiser ler sobre ele, aqui est√° a documenta√ß√£o: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github: bitowl</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Writescript √© registrado nas configura√ß√µes do conjunto de dados, no exemplo √© 0x5560. </font><font style="vertical-align: inherit;">Nesse caso, diz:</font></font><br>
<br>
<pre><code class="plaintext hljs">PUSHDATA_DBWRITEPUBLICKEY  OP_CHECKDBPRIVILEGES</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa. </font><font style="vertical-align: inherit;">envie a chave p√∫blica do remetente da mensagem para a pilha - e verifique a lista de privil√©gios para esse conjunto de dados. </font><font style="vertical-align: inherit;">Se essa chave estiver na lista de privil√©gios (o remetente da mensagem de cria√ß√£o ou a chave do propriet√°rio), ele poder√° escrever. </font><font style="vertical-align: inherit;">Al√©m disso, se o escrito estiver vazio, significa ALL, ou seja, </font><font style="vertical-align: inherit;">qualquer um pode escrever neste conjunto de dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para operator = settings, tudo parece igual, apenas as configura√ß√µes dentro do conte√∫do s√£o alteradas. </font><font style="vertical-align: inherit;">Para grava√ß√£o - o conte√∫do cont√©m os dados reais.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um pouco sobre blockchain</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas e o banco de dados, voc√™ pergunta? No meu caso, fiz um hack - se a transa√ß√£o contiver um conte√∫do de script de dados - a primeira sa√≠da dessa transa√ß√£o √© sempre zero e esse script de dados √© enviado a ela, ou seja, todo endere√ßo na rede √© um banco de dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse modelo permite que voc√™ armazene dados dentro da pr√≥pria blockchain, o que oferece alguma flexibilidade, mas ao mesmo tempo adiciona problemas com o armazenamento, porque a blockchain do bitcoin j√° cresceu para quase 500 gigabytes, e isso √© apenas nos dados financeiros. Se voc√™ adicionar aqui tamb√©m os arbitr√°rios - ser√° redundante. Portanto, o armazenamento era limitado a todos os tipos de chaves e conex√µes para autoriza√ß√£o. E, a prop√≥sito, todas as regras s√£o validadas no n√≠vel da VM durante a cria√ß√£o, mas voc√™ precisa sincroniz√°-lo com o blockchain.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, criei alguns conjuntos de dados do sistema no banco de dados do sistema: dom√≠nio, masternode, token, dapp, assim, voc√™ pode criar dom√≠nios para cada endere√ßo / banco de dados e operar n√£o com um conjunto de caracteres obscuros, mas com um apelido conveniente (por exemplo), al√©m de dom√≠nios Por design, eles podem ser usados ‚Äã‚Äãem dapps (sobre os quais escreverei mais adiante). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quanto ao token e ao masternode do conjunto de dados, o primeiro armazena os tokens de usu√°rio que cada participante pode criar e o masternode armazena uma lista de chaves p√∫blicas dos participantes que s√£o validadores de rede. </font><font style="vertical-align: inherit;">Uma pequena digress√£o √© necess√°ria aqui.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consenso </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A base da blockchain √© o consenso, ou seja, um acordo entre n√≥s, um determinado conjunto de regras que operam na rede e todos cumprem para que a rede esteja operacional. Por exemplo, o consenso de Bitcoin √© Prova de trabalho, ou minera√ß√£o, que, tenho certeza, j√° foi escrito aqui muitas vezes. A ess√™ncia do consenso √© verificar os novos blocos publicados pelos participantes da rede. No Bitcoin, os participantes da rede publicam blocos aleatoriamente - quem encontrar o primeiro receber√° uma recompensa. Ele inicialmente fez o mesmo em sua rede, mas depois decidiu que n√£o era racional, j√° que um minerador de bitcoin seria suficiente para interromper minha rede e aplicar um ataque de 51%. Ent√£o, depois de algum tempo, implementei o m√≥dulo de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consenso consensusjs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que descreveu v√°rios consensos diferentes: centralizado, PoW, PoS (PoW + PoS), dpow est√°tico, dos est√°tico, dospos din√¢micos. Finalmente parei. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O delegado din√¢mico pos (ddpos) assume que, desde o in√≠cio, se houver um certo n√∫mero de delegados (validadores) cuja lista seja classificada por classifica√ß√£o e n√∫mero de moedas em uso, ser√° criada uma rodada durante a qual cada validador da lista publica um bloco em ordem estrita. Quando a rodada termina, um novo √© calculado e cada membro da rede tem a oportunidade de calcular independentemente a rodada atual e a pr√≥xima rodada com base nos dados abertos da rede.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na verdade, isso requer a tabela de masternode, nela armazenamos todos aqueles que expressaram o desejo de ser um validador e sua classifica√ß√£o atual. </font><font style="vertical-align: inherit;">No in√≠cio de cada rodada, classificamos esta tabela e criamos uma rodada com os N validadores resultantes. </font><font style="vertical-align: inherit;">Se o n√∫mero de validadores for menor que N, criamos uma rodada com os validadores de rede padr√£o descritos no arquivo de configura√ß√£o (suas chaves p√∫blicas).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">democracia</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O conceito de vota√ß√£o na rede foi inventado e implementado na vers√£o antiga da criptomoeda, que permite receber dados m√©dios da rede de todos os n√≥s votados. </font><font style="vertical-align: inherit;">Na nova vers√£o, implementei um m√≥dulo separado, mas n√£o consegui integr√°-lo. </font><font style="vertical-align: inherit;">Supunha-se que, com a ajuda da democracia, seria poss√≠vel alterar os par√¢metros da rede por vota√ß√£o justa, bem como reduzir o tamanho da cadeia de blocos armazenada mudando a g√™nese do bloco (o bloco de g√™nese se torna maior ao colocar UTXO e dados antigos), mas permitiria sincronizar nem um milh√£o de blocos , mas apenas os √∫ltimos 1000, por exemplo. </font><font style="vertical-align: inherit;">Al√©m disso, a vota√ß√£o pode gerenciar garfos e altera√ß√µes na rede, al√©m de resolver problemas organizacionais relacionados √† rede. </font><font style="vertical-align: inherit;">√â verdade que n√£o consegui implementar este m√≥dulo, como escrevi acima, mas a ideia permaneceu.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapps</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O conceito de dapps foi inventado um pouco mais tarde, ap√≥s o pico do bitcoin no in√≠cio do dia 18. Houve a ideia de registrar o aplicativo (chave p√∫blica) na blockchain, registrar trabalhadores (chaves p√∫blicas) nas tabelas do sistema, comunica√ß√£o dos trabalhadores com o aplicativo e os trabalhadores j√° trabalhariam em sua pr√≥pria blockchain isolada. Ainda h√° um visualizador nesse conceito, ou seja, Como parte do aplicativo com uma interface para comunica√ß√£o com o cliente, o navegador e um aplicativo separado podem atuar como visualizador. Mais tarde, recusei essa ideia, pois demorei muito tempo para implement√°-la e a tornou um pouco mais f√°cil.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ tamb√©m pode registrar o dApp no ‚Äã‚Äãblockchain, associ√°-lo a um dom√≠nio e um participante, sabendo o dom√≠nio que est√° associado √† chave p√∫blica do aplicativo, pode interagir com esse aplicativo. </font><font style="vertical-align: inherit;">Ao acessar o dom√≠nio, o servidor DNS transparente no cliente da rede l√™ a solicita√ß√£o do usu√°rio, criptografa-o usando criptografia ecdh, para que apenas o participante com a chave p√∫blica do aplicativo possa ler o conte√∫do e envi√°-lo √† rede. </font><font style="vertical-align: inherit;">O aplicativo recebe essa solicita√ß√£o, a envia para o terminal especificado na configura√ß√£o para esta aplica√ß√£o e retorna o resultado √† rede, tamb√©m criptografada.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A prop√≥sito, um fato engra√ßado: como os n√≥s se comunicam usando a criptografia ecdh e o dApp envia e recebe dados √© criptografado - no momento da transfer√™ncia entre os n√≥s, parte da mensagem √© criptografada duas vezes.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com esse m√©todo, √© obtida uma rede criptografada, na qual cada participante pode criar sites (e n√£o apenas), e fica mais f√°cil controlar o tr√°fego, pois cada participante cont√©m sua pr√≥pria chave p√∫blica, com a qual ele "navega no site", os endere√ßos IP s√£o cortados de solicita√ß√µes e respostas tornando a rede an√¥nima. </font><font style="vertical-align: inherit;">Assim, inicialmente h√° autoriza√ß√£o e tamb√©m √© poss√≠vel ver o saldo do usu√°rio, o saldo de tokens (associado ao site, por exemplo) e concluir o processo de pagamento sem sair do site e da rede. </font><font style="vertical-align: inherit;">A √∫nica desvantagem no momento dos testes era o desempenho - dessa forma, os sites carregam 10 vezes mais devagar, pois s√£o enviados por uma rede descentralizada. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O mecanismo descrito acima √© apenas um conceito, mas j√° est√° meio implementado. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sob o spoiler, enviei um link para o c√≥digo que implementa isso (github):</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo dapp bruto</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/gettocat/friday/blob/master/node/modules/dapps/index.js</font></font></a><br>
</div>
                    </div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Onde eu come√ßaria agora</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 E, no final, quero escrever alguns truques que aplicaria se tivesse que come√ßar tudo de novo com o conhecimento atual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A arquitetura modular √© definitivamente apenas para cada m√≥dulo estar minimamente conectado com todos os outros e pode ser substitu√≠da em caso de, por exemplo, mudan√ßa de consenso. O </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
isolamento de m√≥dulos √© essencialmente uma continua√ß√£o do par√°grafo anterior, que √© especificamente sobre m√≥dulos funcionais, n√£o l√≥gicos. </font><font style="vertical-align: inherit;">Por exemplo - no meu c√≥digo, o consenso √© implementado por um m√≥dulo consensusjs separado, que permite test√°-lo para cima e para baixo antes de implement√°-lo em um rascunho de trabalho, o mesmo se aplica √†s chamadas primitivas (formato da transa√ß√£o, blocos e sua serializa√ß√£o / desserializa√ß√£o), para que voc√™ possa testar a funcionalidade de um m√≥dulo espec√≠fico at√© incorporando-o no c√≥digo principal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Testes - cobrir cada m√≥dulo com testes √© a base do bem-estar durante o processo de lan√ßamento e do sono normal √† noite (testado em si mesmo). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vers√µes em tudo - como as criptomoedas s√£o um sistema fechado - √© necess√°rio pensar com anteced√™ncia sobre o que acontecer√° a seguir - como voc√™ o apoiar√°. </font><font style="vertical-align: inherit;">√â necess√°rio pensar em um modelo para atualizar a funcionalidade de vers√£o para vers√£o para todos os participantes, a fim de n√£o sofrer aqueles que ainda n√£o atualizaram, pois no caso oposto pode ocorrer uma bifurca√ß√£o n√£o intencional da rede principal. </font><font style="vertical-align: inherit;">No meu m√≥dulo consensusjs, a funcionalidade para determinar garfos e vers√µes v√°lidas de blocos foi implementada, mas ainda n√£o o adicionei ao c√≥digo principal.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sum√°rio</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como prometi, no final do artigo, resumirei alguns dos resultados. Este post pode ser considerado um ponto da hist√≥ria com uma criptomoeda caseira. Por um lado, percebi que n√£o era para produ√ß√£o, era necess√°rio um controle de c√≥digo mais sens√≠vel, cobertura de teste e outras coisas dos projetos de produ√ß√£o, al√©m de mais de um programador. E finan√ßas, finan√ßas, finan√ßas. Em nenhum lugar sem ele. Eu n√£o tenho tudo isso e n√£o tinha, ent√£o estava interessado em tentar, estudar a tecnologia e ver se valia a pena ou n√£o. Valeu a pena. Posso dizer que, depois do trabalho realizado, comecei a entender melhor muitos aspectos da programa√ß√£o e da tecnologia (eu realmente avancei no trabalho com sequ√™ncias de bytes, por exemplo) e definitivamente estudei o blockchain e as tecnologias baseadas nele.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, tenho certeza de que o Ethereum usa um conceito semelhante com dados de transa√ß√£o e uma m√°quina virtual que processa esses dados, apenas o Ethereum usa dados como fun√ß√µes (se de uma maneira simples) e os acessa (al√©m de criar contratos). Eu tenho certeza que os scripts internos do bitcoin (a linguagem de pilha) s√£o uma coisa bastante forte, Satoshi implicou na cria√ß√£o de contratos inteligentes com base neles muito antes do surgimento do conceito de "contrato inteligente", mas o uso desses scripts √© limitado no bitcoin, pois poss√≠veis erros anteriormente desconhecidos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se conversarmos sobre as tecnologias que eu gostei ap√≥s meus tr√™s anos de pesquisa - este √© definitivamente um consenso, ou seja, acordo entre os participantes da rede e regras gerais para valida√ß√£o de mensagens. O filtro bloom √© uma coisa bastante interessante, que nos permite enviar um filtro para outro participante, pelo qual ele filtra os dados enviados sem revelar detalhes. Assim - voc√™ obt√©m dados sem revelar que tipo de dados voc√™ precisa. Merkle tree como uma estrutura de armazenamento de dados, a base de n√≥s leves no bitcoin e nas √°rvores de estado (existem tr√™s deles) ethereum. O PoW √© uma id√©ia t√£o simples, mas ao mesmo tempo t√£o elegante: ‚Äútodo mundo est√° procurando por um n√∫mero menor que a complexidade m√©dia total dos √∫ltimos N blocos calculados pela raz√£o usual.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quanto aos contras, existem muitos deles tamb√©m. O primeiro deles s√£o os custos trabalhistas. Com o tempo, me esqueci dessa id√©ia, mesmo que ela tenha me capturado por cerca de 3 anos. Por exemplo, agora a criptomoeda parece ter sido lan√ßada, e parece que ela j√° n√£o aguenta nada para lan√ß√°-la, mas ap√≥s 5 mil blocos um bug estranho se formou com o fato de que, por algum motivo, a contagem de blocos come√ßa do zero (os √≠ndices parecem estar travando de alguma forma) , para procurar o que n√£o h√° tempo, nem desejo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez um dia voltarei a essa id√©ia ou semelhante a ela (ou com base nela). </font><font style="vertical-align: inherit;">Se desejar, voc√™ pode estudar o c√≥digo ou dividir o projeto de sexta-feira no meu github, todo o c√≥digo est√° sob a licen√ßa MIT. </font><font style="vertical-align: inherit;">Definitivamente, definitivamente n√£o vou parar de trabalhar nessa dire√ß√£o, porque as tecnologias descentralizadas s√£o muito interessantes, embora bastante trabalhosas. </font><font style="vertical-align: inherit;">Estou aguardando no PM se houver d√∫vidas / sugest√µes ou esclarecimentos. </font><font style="vertical-align: inherit;">Ajudarei a descobrir se voc√™ precisar de repente. </font><font style="vertical-align: inherit;">Abaixo, organizarei uma pesquisa - vale a pena escrever mais sobre este t√≥pico aqui, embora a classifica√ß√£o em si coloque tudo no lugar.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt505302/index.html">10 dicas de design de circuitos</a></li>
<li><a href="../pt505306/index.html">De jogos a projetos de com√©rcio eletr√¥nico. Alterando o programa de dois anos do Technopark</a></li>
<li><a href="../pt505310/index.html">O que distingue empresas tecnologicamente avan√ßadas e como a techlide pode ajudar sua equipe a crescer</a></li>
<li><a href="../pt505314/index.html">Sincroniza√ß√£o de hora do Linux: NTP, Chrony e systemd-timesyncd</a></li>
<li><a href="../pt505322/index.html">Despachante do futuro: como mudar√° seu papel na empresa de servi√ßos?</a></li>
<li><a href="../pt505336/index.html">Como: Manet ou Monet? A rede neural responde</a></li>
<li><a href="../pt505340/index.html">Funcion√°rios do Walmart tentam provar que a IA anti-roubo n√£o funciona</a></li>
<li><a href="../pt505342/index.html">A inje√ß√£o de depend√™ncia e o princ√≠pio de invers√£o de depend√™ncia N√ÉO S√ÉO UM E MESMO</a></li>
<li><a href="../pt505362/index.html">Vite - desenvolvimento de leads sem pacotes no Vue</a></li>
<li><a href="../pt505378/index.html">Todo esse marketing: como trabalhar com pontos de contato em uma empresa de TI?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>