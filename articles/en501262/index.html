<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèΩ üí≠ üë≤üèª How to become a DevOps engineer in six months or even faster. Part 2. Configuration ü§òüèΩ üï• üë®üèΩ‚Äç‚úàÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="How to become a DevOps engineer in six months or even faster. Part 1. Introduction
 
 Freshen up your memory quickly
 In the first part, I argued that...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>How to become a DevOps engineer in six months or even faster. Part 2. Configuration</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/501262/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to become a DevOps engineer in six months or even faster. </font><font style="vertical-align: inherit;">Part 1. Introduction</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Freshen up your memory quickly</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the first part, I argued that the work of the DevOps engineer is to create fully automated digital pipelines that move code from the developer's machine to production. Effectively doing this job requires an understanding of the basics, which are the OS, a programming language and a cloud storage service, as well as a good understanding of the tools and skills that are based on this. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let me remind you that your goal is to first study blue things from left to right, and then also to study purple things from left to right. Now we will look at the first of 6 months of training devoted to configuration.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8h/si/_5/8hsi_5b76dlbdzblhhsrv8x5w8g.jpeg"><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What happens at the configuration stage? </font><font style="vertical-align: inherit;">Since the code we create needs machines to run, the configuration phase actually creates the infrastructure that runs our code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the past, building support infrastructure was a lengthy, time-consuming, and error-prone trial. </font><font style="vertical-align: inherit;">Now that we have our amazing cloud, all the preparations can be done with the click of a button. </font><font style="vertical-align: inherit;">Or at least a few taps. </font><font style="vertical-align: inherit;">However, it turns out that pressing buttons to complete these tasks is a bad idea because it means:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">propensity to make mistakes (and people make mistakes);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ignoring versions (button clicks cannot be stored in the Git repository);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">irreproducibility and non-repeatability (more cars = more clicks);</font></font></li>
<li>    (  ,          ).</li>
</ul><br>
<br>
<img src="https://habrastorage.org/webt/tr/i-/11/tri-11vurp1kkaxiee30svfv_fs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, think about all the work necessary to provide your development environment ... then an int environment ... then QA ... then staging ... then prod in the USA ... then prod in the EU ... it will quickly become quite tedious and annoying. Therefore, instead of mechanical clicks of the mouse button, a new method called ‚Äúinfrastructure-as-code‚Äù is used, and this is what will be discussed at this stage of configuring your system. ‚ÄúInfrastructure as code‚Äù means configuring a system using configuration files, rather than manually editing configurations on servers or interactively. This method can be a declarative or scripted description of the infrastructure. In accordance with DevOps best practices, "infrastructure-as-code" requires that any work necessary to provide computing resources,performed only with code. By "computing resources" I mean everything necessary for the application to run correctly in prod: its own computing resources, storage, network, databases, etc. Hence the name - "infrastructure as code."</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition, this means that instead of ‚Äúsnapping‚Äù our path through the mechanical deployment of infrastructure, we will:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Describe the desired state of the infrastructure in Terraform</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">store it in our source code control version control system;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">go through the formal Pull Request process to receive feedback;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test performance;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perform configuration in order to ensure the operation of the system with all necessary resources.</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why is this, and not that?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The obvious question is: ‚ÄúWhy Terraform? </font><font style="vertical-align: inherit;">Why not Chef, Puppet, Ansible, CFEngine, Salt or CloudFormation? ‚Äù </font><font style="vertical-align: inherit;">Good question! </font><font style="vertical-align: inherit;">During his discussion, whole barrels of virtual ink were spilled. </font><font style="vertical-align: inherit;">I think you should learn Terraform because:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it is very fashionable, so you will have tons of employment opportunities;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it is easier to digest;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">it is a cross-platform product.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, you can choose any other option and also succeed. But I have to note the following. This industry is developing rapidly and quite randomly, but I see such a development: traditionally, things like Terraform and CloudFormation were used to provide infrastructure, while Ansible and similar systems were used to configure it. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f7/ih/fw/f7ihfwjvyecavjfoobtahik6ppe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, you can consider Terraform as a foundation tool, and Ansible as a crane for building a house on this foundation, with the subsequent deployment of the application as a roof (deployment can also be done using Ansible).</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In other words, you create your virtual machines using Terraform, and then use Ansible to configure the servers as well as deploy your applications. Traditionally, these things are used in this way. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, Ansible can do much of what (if not all) Terraform can do, but the converse is also true. Don't let this bother you. Just know that Terraform is one of the industry's leading infrastructure-as-code tools, so I highly recommend that you start with it.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jy/db/vh/jydbvhr9ru8-ntqown7vur13lsi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fact, experience with Terraform + AWS is one of DevOps' most sought after engineering skills. </font><font style="vertical-align: inherit;">But even if you are going to donate Ansible to Terraform, you still need to know how to programmatically configure a large number of servers, right? </font><font style="vertical-align: inherit;">It turns out that this is not necessary!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Immutable Deployment</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I predict that configuration management tools such as Ansible will lose their importance, while infrastructure provisioning tools such as Terraform or CloudFormation will increase it. And all this because of what is called ‚Äúimmutable deployment.‚Äù Simply put, this means the practice of never changing the deployed infrastructure, that is, your deployment unit is a virtual machine or a Docker container, not a piece of code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, you do not deploy the code to a set of static virtual machines, but deploy the entire virtual machines along with the code baked into them. You do not change the way you configure virtual machines, but instead deploy new virtual machines with the desired configuration. You are not fixing prod machines; you are deploying new, already fixed machines.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You do not start one set of virtual machines in dev, and another set of machines in prod, they are all the same. In fact, you can completely safely disable all SSH access to all prod machines, because there is nothing to do there - no settings to change, no logs to view (I will talk more about the logs later). When used correctly, this is a very powerful template that I highly recommend using! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Immutable deployments require configuration to be separate from your code. Please read the manifest of </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Twelve-Factor App</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which details this (and other amazing ideas!) In great detail. This is a must read for practicing DevOps.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disconnecting the code from the configuration is very important, because you do not want to redeploy the entire application stack every time you ‚Äútrick‚Äù your database passwords. Instead, make sure that applications retrieve it from an external configuration store (SSM / Consul / etc.). In addition, you can easily see how with the advent of immutable deployments, tools like Ansible begin to play a less prominent role. The reason is that you only need to configure one server and deploy it a whole bunch of times as part of your automatic scaling group.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you create containers, then by definition you need immutable deployments. You do not want your dev container to be different from the QA container, which will also be different from the prod container. You need exactly the same container in all environments, as this avoids configuration bias and simplifies rollback in case of problems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In addition to containers, for those just starting out, preparing your AWS infrastructure using Terraform is a good DevOps training model and what you really need to learn.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But wait ... what if you need to look at the logs to fix the problem? In this case, you don‚Äôt need to enter the machines to view the logs; just look at the centralized logging infrastructure for all your logs. Some guy has already published a detailed </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on this resource </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">on</font></a><font style="vertical-align: inherit;"> how to deploy the ELK stack in AWS ECS, you can read it to find out how this is done in practice. Again, you can completely turn off remote access and feel much more secure than most people there.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To summarize, we can say that our fully automated journey ‚ÄúDevOps‚Äù begins with the preparation of the computing resources needed to complete the code setup phase. </font><font style="vertical-align: inherit;">And the best way to achieve this is to use immutable deployments. </font><font style="vertical-align: inherit;">If you're interested in where to start, grab the Terraform + AWS combination as your starting point! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That's all for the configuration phase, in the next article we will consider the second phase - the version. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to become a DevOps engineer in six months or even faster. </font><font style="vertical-align: inherit;">Part 3. Versions</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A bit of advertising :)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thank you for staying with us. Do you like our articles? Want to see more interesting materials? Support us by placing an order or recommending to your friends, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud VPS for developers from $ 4.99</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unique analog of entry-level servers that was invented by us for you: </font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The whole truth about VPS (KVM) E5-2697 v3 (6 Cores) 10GB DDR4 480GB SSD 1Gbps from $ 19 or how to divide the server?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (options are available with RAID1 and RAID10, up to 24 cores and up to 40GB DDR4). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xd 2 times cheaper at the Equinix Tier IV data center in Amsterdam?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Only we have </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV from $ 199</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the Netherlands!</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - from $ 99! </font></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Read about</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> How to Build Infrastructure Bldg. </font><font style="vertical-align: inherit;">class c using Dell R730xd E5-2650 v4 servers costing 9,000 euros for a penny?</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en501252/index.html">Pattern matching in Java: InstanceOf (JEP 305)</a></li>
<li><a href="../en501254/index.html">News from the world of OpenStreetMap No. 510 (04.21.2020-27.04.2020)</a></li>
<li><a href="../en501256/index.html">Crash course: How the Boeing management revolution spawned the 737 MAX disaster</a></li>
<li><a href="../en501258/index.html">JavaScript touch slider</a></li>
<li><a href="../en501260/index.html">Browse Money Podcast Podcast</a></li>
<li><a href="../en501266/index.html">What awaits us in Wi-Fi 7, IEEE 802.11be?</a></li>
<li><a href="../en501268/index.html">Ttf2mesh library - convert TrueType fonts to a grid</a></li>
<li><a href="../en501270/index.html">Time to hand out your toys</a></li>
<li><a href="../en501272/index.html">Cons of Durov</a></li>
<li><a href="../en501276/index.html">Add thousands of clips to a YouTube playlist from a Telegram channel</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>