<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>♉️ 🕶️ 🌺 Zabbix 5.0 oder Was ist neu mit Template Server von IPMI 🤦🏻 💱 👩🏾‍🔬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Sie müssen das Gerät überwachen, und in Ihrem bevorzugten Zabbix-System gibt es keine vorgefertigte Vorlage für diesen Gerätetyp. Vertraute Situation?...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Zabbix 5.0 oder Was ist neu mit Template Server von IPMI</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/jetinfosystems/blog/498052/"><img src="https://habrastorage.org/webt/qb/2s/vv/qb2svvvulvembgowfo16hune6kq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie müssen das Gerät überwachen, und in Ihrem bevorzugten Zabbix-System gibt es keine vorgefertigte Vorlage für diesen Gerätetyp. </font><font style="vertical-align: inherit;">Vertraute Situation? </font><font style="vertical-align: inherit;">Jeder kommt auf seine Weise heraus. </font><font style="vertical-align: inherit;">Ein Administrator sucht im Internet nach einer Lösung. </font><font style="vertical-align: inherit;">Der zweite entwickelt sich selbst. </font><font style="vertical-align: inherit;">Und einige werden diese Aufgabe aufgeben. </font><font style="vertical-align: inherit;">Jetzt erweitert das Zabbix-Team mit jeder neuen Version den Satz vordefinierter Vorlagen im System. </font><font style="vertical-align: inherit;">In der kommenden Version 5.0 wird beispielsweise eine neue universelle Vorlage zum Überwachen von Servern über IPMI angezeigt - Vorlagenserver von IPMI. </font><font style="vertical-align: inherit;">Die Kollegen baten um Hilfe beim Debuggen seiner Arbeit an Geräten verschiedener Hersteller. </font><font style="vertical-align: inherit;">Für uns ist dies immer noch eine einmalige Gelegenheit, eine Probefahrt für neue Funktionen zu arrangieren. </font><font style="vertical-align: inherit;">Wir teilen die Ergebnisse.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie sieht die neue Vorlage aus? </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Ihren Server mithilfe dieser Vorlage zu überwachen, müssen Sie im System einen „Host“ mit konfigurierter Überwachung über IPMI erstellen und eine Vorlage Server per IPMI-Vorlage daran anhängen (Abb. 1). Es wird keine detaillierte Beschreibung dieses Vorgangs geben: Detaillierte Anweisungen finden Sie in der offiziellen Zabbix-Dokumentation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feige. 1. Template Server Template von IPMI</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/eab/b66/5ae/eabb665aebebd1dcbb76251f4fd6bf30.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berücksichtigen Sie die Prinzipien dieser Vorlage und ihre Struktur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Basis der Vorlage ist das Dienstprogramm ipmitool. Sie können die erforderlichen Statistiken über IPMI von den Geräten abrufen. Die Verwendung der Funktionalität dieses Dienstprogramms und das Abrufen aller erforderlichen Daten steht dem Benutzer jetzt über die Webschnittstelle mit dem Datenelementtyp IPMI-Agent und dem speziellen Schlüssel ipmi.get zur Verfügung. Dies war nur dank des Auftretens des Schlüssels ipmi.get in der neuen Version möglich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Vorlage "Vorlagenserver nach IPMI" ist das Datenelement "Artikel mit IPMI-Sensoren abrufen" für die Organisation der Informationserfassung mithilfe dieser neuen Funktionalität verantwortlich (Abb. 2). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feige. 2. Element IPMI-Sensorelement abrufen</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3d1/c93/42f/3d1c9342fdfcc52a10728b7f7217e737.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch den Betrieb des Datenelements Item Get IPMI-Sensoren werden im Zabbix-System Informationen zum Gerätezustand in einem strukturierten JSON-Format angezeigt (Abb. 3). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feige. </font><font style="vertical-align: inherit;">3. Ein Beispiel für das Ergebnis des Operationselements IPMI-Sensoren abrufen</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3dd/7a2/614/3dd7a26140cff08a6c94c1e43439f47a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zusätzlich zum Datenelement Item Get IPMI-Sensoren enthält die Vorlage zwei Erkennungsregeln für die Erkennung diskreter Sensoren (Abb. 4) und die Erkennung von Schwellenwertsensoren (Abb. 5). </font><font style="vertical-align: inherit;">Diese Erkennungsregeln verwenden den JSON, der sich aus der Operation des Datenelements Item Get IPMI-Sensoren ergibt, um automatisch neue Datenelemente und Trigger zu erstellen. </font><font style="vertical-align: inherit;">Dies ist in den folgenden Abbildungen im Abschnitt Master-Artikel deutlich zu sehen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feige. </font><font style="vertical-align: inherit;">4. Erkennungsregel für diskrete Sensoren</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a09/50e/c78/a0950ec78ae4ae2bb7bac56b5fcc7a6c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feige. </font><font style="vertical-align: inherit;">5. Erkennungsregel für Schwellenwertsensoren</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5d9/f2d/f0b/5d9f2df0b22d287f153c5ec934f538a1.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum verwendet die Vorlage zwei Erkennungsregeln und nicht eine? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Erkennung diskreter Sensoren ermöglicht die automatische Erstellung von Datenelementen, deren Werte vom Typ Zeichenfolge sind. Mit der Erkennungsregel Erkennung von Schwellenwertsensoren können Sie automatisch Datenelemente erstellen, deren Werte vom Typ "Nummer" sind. Darüber hinaus kann diese Regel für jedes Datenelement bis zu 6 Trigger bilden (Abb. 6). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Werte für Triggerbedingungen werden von JSON übernommen, d. H. Vom Gerät selbst. Trigger werden für 6 Schwellenwerte erstellt: niedriger gefährlich, niedriger kritisch, niedriger nicht kritisch, oben nicht kritisch, oben kritisch, oben gefährlich. Wenn in JSON ein Wert für einen Schwellenwert fehlt, wird kein Trigger erstellt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In einem gebildeten Trigger kann der Schwellenwert auf Zabbix-Ebene neu definiert werden. </font><font style="vertical-align: inherit;">Unserer Meinung nach besteht die logischste Möglichkeit, einen Auslöser zu ändern, darin, ihn auf Geräteebene umzuwandeln. </font><font style="vertical-align: inherit;">Wie das geht, erfahren Sie normalerweise in der Anleitung zum Gerät. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feige. </font><font style="vertical-align: inherit;">6. 6 Prototyp-Trigger für Erkennungsregeln Erkennung von Schwellenwertsensoren</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/772/26b/190/77226b1904a38f64c3721c6709df9463.png"></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Harness und gehen</font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , 
um die Vorlage Server von IPMI - </font><font style="vertical-align: inherit;">Vorlage zu testen, haben wir ausgewählte Server von drei Herstellern: IBM, HP und Huawei. </font><font style="vertical-align: inherit;">Einige Minuten nach der Verbindung wurden die in der Tabelle gezeigten Ergebnisse von ihnen erhalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabelle 1. Ergebnisse des Vorlagenservers nach IPMI</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerätehersteller</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ausstattungsmodell</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anzahl der automatisch erstellten Datenelemente</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anzahl der automatisch erstellten Trigger</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HP</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProLiant DL360 G5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zwanzig</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Huawei</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1288H V5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">175</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">56</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ibm</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">System x</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">139</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle Geräte konnten mit einer neuen Vorlage und einem neuen ipmi.key erfolgreich überwachen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die meisten Daten konnten wir von Huawei-Geräten und am allerwenigsten von HP erhalten. </font><font style="vertical-align: inherit;">Der Grund dafür liegt in der unterschiedlichen Hardware der Geräte und hängt nicht mit der Arbeitsqualität der neuen Vorlage zusammen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den folgenden Screenshots sehen Sie die Datenelemente und Trigger, die automatisch von der Vorlage erstellt werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feige. </font><font style="vertical-align: inherit;">7. Datenelemente, die automatisch von der Vorlage erstellt werden</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/caa/6d2/1b6/caa6d21b6c1a76171143301767da2610.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Feige. </font><font style="vertical-align: inherit;">8. Auslöser, die automatisch von der Vorlage erstellt werden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f38/9fd/19b/f389fd19b353ee63f4bbee48995ad923.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Template Server von IPMI erwies sich als der beste. Es erwies sich als einfach zu bedienen und vor allem "universell". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Vorlage Template Server by IPMI wird in die Liste der Basisvorlagen von Zabbix Version 5.0 aufgenommen. Wir unterstützen diesen Ansatz des Herstellers nachdrücklich. Selbst wenn Spezialisten gezwungen sind, ihre eigenen speziellen Vorlagen zu erstellen, empfehlen wir, die vom Hersteller selbst festgelegten und in Template Server by IPMI beobachteten Ansätze als Grundlage zu verwenden. Verwenden Sie zunächst die automatische Objekterkennung mithilfe des Masterartikels. Und zweitens wenden Sie die automatische Triggererkennung mithilfe des Master-Elements an, wenn dies möglich ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun und freue mich auf die baldige Veröffentlichung von Zabbix 5.0!</font></font><br>
<br>
<i>:  ,    « »</i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de498036/index.html">Mark Andriessen: Es ist Zeit für uns selbst zu schaffen (es ist Zeit zu bauen)</a></li>
<li><a href="../de498038/index.html">Die Verdauung von frischen Materialien aus der Welt des Frontends für die letzte Woche Nr. 411 (13.-19. April 2020)</a></li>
<li><a href="../de498042/index.html">Analysieren, nicht validieren</a></li>
<li><a href="../de498046/index.html">Die Forscher entwickeln einen Ansatz zur Verringerung der Verzerrung in Computer-Vision-Datensätzen</a></li>
<li><a href="../de498050/index.html">Kultur als Grundlage für die jährliche Skalierung des x2-Teams. Über Einstellungsfehler und Kultur passen</a></li>
<li><a href="../de498054/index.html">Besiege den Dragon News Feed: Stelle sicher, dass du ein gutes Leben lebst</a></li>
<li><a href="../de498056/index.html">Digitale Veranstaltungen in Moskau vom 20. bis 26. April</a></li>
<li><a href="../de498060/index.html">PostgreSQL Industrial Tuning-Ansatz: Datenbankexperimente. Nikolay Samokhvalov</a></li>
<li><a href="../de498062/index.html">IBM wöchentliche Seminare - April 2020</a></li>
<li><a href="../de498064/index.html">Klassischer Marktemulator</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>