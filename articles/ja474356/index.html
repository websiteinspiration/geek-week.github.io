<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ğŸ½â€ğŸ’¼ ğŸ‘†ğŸ» ğŸ‘¨ğŸ¿â€ğŸ’» ThingJS v1.0-alpha âœ‰ï¸ ğŸ‘¨ğŸ¿â€ğŸš’ ğŸ‘³</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="éå»2å¹´é–“ã€ç§ã¯ç‹¬è‡ªã®IoTãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’é–‹ç™ºã—ã¦ãŠã‚Šã€ä»Šæ—¥ã¯ãã®ã‚¢ãƒ«ãƒ•ã‚¡ç‰ˆã‚’è¡¨ç¤ºã™ã‚‹æº–å‚™ãŒã§ãã¦ã„ã¾ã™ã€‚
 

ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã¨ã‚‚ã«ã€IoTãƒ‡ãƒã‚¤ã‚¹ã‚’ä½œæˆãŠã‚ˆã³ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚ã“ã®æ´»å‹•ã®éç¨‹ã§ã€è¤‡æ•°ã®ç†Šæ‰‹å°å±‹ã‚’è§£ä½“ã—ã¾ã—ãŸã€‚ThingJSã¯ã€æ¬²æœ›ã‹ã‚‰ç”Ÿã¾ã‚ŒãŸã®ã§ã¯ãªãã€ç§ãŸã¡ã®ç”Ÿæ´»ã‚’æ¥½ã«ã™ã‚‹ãŸã‚...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ThingJS v1.0-alpha</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474356/"><p><img src="https://habrastorage.org/webt/hd/vu/kq/hdvukqu1cfju8ygby3otuzmptmu.png"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éå»2å¹´é–“ã€ç§ã¯ç‹¬è‡ªã®</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã‚’</font><font style="vertical-align: inherit;">é–‹ç™ºã—ã¦ãŠã‚Š</font><font style="vertical-align: inherit;">ã€ä»Šæ—¥</font><font style="vertical-align: inherit;">ã¯</font><font style="vertical-align: inherit;">ãã®ã‚¢ãƒ«ãƒ•ã‚¡ç‰ˆã‚’è¡¨ç¤ºã™ã‚‹æº–å‚™</font><font style="vertical-align: inherit;">ãŒ</font><font style="vertical-align: inherit;">ã§ãã¦ã„ã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‘ãƒ¼ãƒˆãƒŠãƒ¼ã¨ã¨ã‚‚ã«ã€IoTãƒ‡ãƒã‚¤ã‚¹ã‚’ä½œæˆãŠã‚ˆã³ã‚µãƒãƒ¼ãƒˆã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®æ´»å‹•ã®éç¨‹ã§ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¤‡æ•°ã®ç†Šæ‰‹å°å±‹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’è§£ä½“ã—</font><font style="vertical-align: inherit;">ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ThingJSã¯ã€æ¬²æœ›ã‹ã‚‰ç”Ÿã¾ã‚ŒãŸã®ã§ã¯ãªãã€ç§ãŸã¡ã®ç”Ÿæ´»ã‚’æ¥½ã«ã™ã‚‹ãŸã‚ã®ãƒ‹ãƒ¼ã‚ºã‹ã‚‰ç”Ÿã¾ã‚Œã¾ã—ãŸãŒã€åŒæ™‚ã«ã‚ãªãŸã«ã‚‚é¡˜ã£ã¦ã„ã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã®è¨˜äº‹ã¯ã€IoTã®ãƒˆãƒ”ãƒƒã‚¯ã«è¿‘ã„äººã€…ã«ã¨ã£ã¦èˆˆå‘³æ·±ã„ã‚‚ã®ã§ã‚ã‚Šã€ã™ã§ã«ã“ã®åˆ†é‡ã§ä½•ã‹ã‚’è¡Œã£ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">é‡è¦ãªæ³¨æ„ç‚¹ã¯ã€JavaScripté–‹ç™ºè€…ã«ã¨ã£ã¦ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãŒï¼ˆçªç„¶ï¼‰é–¢å¿ƒã‚’æŒã¤å¿…è¦ãŒã‚ã‚‹ã“ã¨ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®è¨€èªã¯ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ã®åŸºç¤ã¨ã—ã¦é¸æŠã•ã‚Œã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚‚ã¡ã‚ã‚“ã€C / C ++é–‹ç™ºè€…ã‚‚èª­ã‚€ã¹ãã‚‚ã®ãŒã‚ã‚Šã¾ã™ã€‚</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€åˆã«ã€IoTãƒ‡ãƒã‚¤ã‚¹ã®é–‹ç™ºä¸­ã«ç™ºç”Ÿã—ãŸä¸»ãªå•é¡Œã«ã¤ã„ã¦ãŠè©±ã—ã¾ã™ã€‚æ¬¡ã«ã€ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ãŒãã‚Œã‚‰ã‚’ã©ã®ã‚ˆã†ã«å‡¦ç†ã™ã‚‹ã‹ã‚’èª¬æ˜ã—ã¾ã™ã€‚æœ€å¾Œã«ã€ã™ã¹ã¦ãŒé€€å±ˆã§ã™ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ“ãƒ‡ã‚ª</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŠ€è¡“çš„ãªéƒ¨åˆ†ã€</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãã—ã¦ã™ã¹ã¦ã®</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ©ã‚¤ãƒ–ã«</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è§¦ã‚Œã‚‹ã“ã¨ãŒã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font></p><a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›®æ¬¡</font></font></b><div class="spoiler_text"><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoTã®å•é¡Œ</font></font></a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çŸ­ã„æ‰‹ã®å•é¡Œ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">, , , </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">   </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> IoT </a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  ThingJS</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Blink </a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">manifest.json</a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> â€œcomponentsâ€</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> â€œscriptsâ€</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> â€œrequiresâ€</a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">blink.js</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Blink.vue</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">scripts/blink.js</a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> ? </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">FAQ </a></li>
</ul></div></div><br>
<h1 id="problemy-iot--anchorproblemsanchor"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IoTã®å•é¡Œï¼š </font></font><a name="problems"></a></h1><br>
<h2 id="--problema-korotkih-ruk-anchorshort-handsanchor"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -çŸ­è…•ã®å•é¡Œ </font></font><a name="short-hands"></a></h2><br>
<p>  IoT  .      ,   .  ,        .                 .   .  -.  ..  ..</p><br>
<p>      ,    ,       ()    .     ,   . </p><br>
<h2 id="--problema-vavilonskoy-bashni-anchortoweranchor"> â€”    <a name="tower"></a></h2><br>
<p>  IoT      .    IoT  â€¦ .   .     ,    ,    .       .      â€œ â€.</p><br>
<p>          ,       .      ,   ,        -.  ,  IoT      ,       .</p><br>
<h2 id="--problema-stokgolmskogo-sindroma-anchorsindromanchor"> â€”    <a name="sindrom"></a></h2><br>
<p>  ,    .  Google, Microsoft, Yandex, ,   ..             .       .    â€” .       .  ,          .</p><br>
<h1 id="resheniya-problem-anchorsolutionsanchor"> : <a name="solutions"></a></h1><br>
<h2 id="--soobschestvo-zavisimosti-modno-molodezhno-anchorcommunityanchor"> â€” , , ,  <a name="community"></a></h2><br>
<p>  , ,     IoT  .        .        .</p><br>
<p>   , , ,     ,  ,      . </p><br>
<p>   ,   ,     .      ,        ,    .           .</p><br>
<p> , , ,           ,  -.     â€œ â€. </p><br>
<p><img src="https://habrastorage.org/webt/zt/xk/ok/ztxkokx7yqcgzwymgrq3o-ueah4.png"></p><br>
<p>,   â€œ â€.   ,    ,    ,        . </p><br>
<p>,        ,    .  ,         . ..    ,     .</p><br>
<h2 id="--bolshe-obeschaniy-i-abstrakciy-anchorpromisesanchor"> â€”     <a name="promises"></a></h2><br>
<p>    .     â€”  .         .       ,  .   .       .   â€” .  .  .</p><br>
<p>   ,     ,  .         .   .    ,    â€”   .   ,   .</p><br>
<p>       .         .   .    ,        .</p><br>
<p>            .       .  ,      â€œdo-render-video-streamâ€   payload  IP WEB-.  ,   ,       .</p><br>
<p><img src="https://habrastorage.org/webt/3s/th/vn/3sthvnlojthoq_gh9uqirnbqedg.png"></p><br>
<p>    ?     .    ,    . ,    http    UART.        .</p><br>
<h1 id="--virtualnye-iot-ustroystva-anchorvirtualanchor"> â€”  IoT  <a name="virtual"></a></h1><br>
<p> ThingJS      ,     â€”  .  ,          (),     . </p><br>
<p>       backend (//  ..)  frontend (,   ..),   b2b   f2f.  ,    .</p><br>
<p><img src="https://habrastorage.org/webt/-l/vg/bd/-lvgbdkme-d81bzhaqpqjwhcnly.png"></p><br>
<p>    WEB-,       â€”  .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">http://192.168.4.1</a>  WEB ,   â€œâ€  .  ( )   ( )   ,     .       .   :         ,    ..,           .</p><br>
<p>              .  ,   ,       ,  , ,   . </p><br>
<p>     ,    .   .              .</p><br>
<h1 id="tehnicheskaya-informaciya-anchortech-infoanchor">  <a name="tech-info"></a></h1><br>
<h2 id="struktura-prilozheniya-thingjs-anchorapp-structanchor">  ThingJS <a name="app-struct"></a></h2><br>
<p><img src="https://habrastorage.org/webt/sz/-w/ul/sz-wuldlbfp7z2kcc1vgrqov_ta.png"></p><br>
<h2 id="stek-tehnologiy-anchortech-stackanchor">  <a name="tech-stack"></a></h2><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ESP32</a>.    . ,  ,       .</p><br>
<p>     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Espressif </a>.     .  cmake.    ,   Espressif.</p><br>
<p>, esp-idf,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Mongoose WEB Server</a>,    JavaScript  Mongoose <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">mJS</a>.</p><br>
<p>    JavaScript   VUE 2.     webpack.   â€” npm.       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">VUE CLI</a>. </p><br>
<p>         UI ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">vuetifyjs</a>.</p><br>
<h2 id="vozmozhnosti-sredy-razrabotki-anchordev-skilsanchor">   <a name="dev-skils"></a></h2><br>
<p> JavaScript  ( ):</p><br>
<ul>
<li> IDE â€” WEBStorm;</li>
<li> ,   VUE CLI  IDE;</li>
<li>   ( mJS  );</li>
<li> mJS   debugger,      ;</li>
<li>        (JavaScript       );</li>
<li>Runtime      .  ,  ,    ;</li>
<li> ESLint    .</li>
</ul><br>
<p>   ( ):</p><br>
<ul>
<li> IDE â€” CLion;</li>
<li>  esp-idf  IDE;</li>
<li>       esp-idf;</li>
<li>     .</li>
</ul><br>
<h2 id="podderzhivaemye-ustroystva-anchorhw-supportedanchor">  <a name="hw-supported"></a></h2><br>
<p>     ESP32.  ,       .        IoT ,      ThingJS. </p><br>
<h2 id="sravnenie-s-konkurentami-anchorvs-otheranchor">   <a name="vs-other"></a></h2><br>
<p>     .          .         . ,     . ,   -  ,       .</p><br>
<h1 id="bystryy-start-anchorget-startedanchor">  <a name="get-started"></a></h1><br>
<h2 id="mne-tolko-posmotret-anchorvideoanchor">   <a name="video"></a></h2><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/dhPIAL2N0MQ" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2 id="hochu-poprobovat-anchortouch-itanchor">  <a name="touch-it"></a></h2><br>
<p>       ,       ESP32 c flash 4mb      USB.     ESP32 core board v2.</p><br>
<p><img src="https://habrastorage.org/webt/ik/qw/jy/ikqwjyhkejf5t5kwdmbn20lq1ko.png"></p><br>
<p>       Aliexpress  Ebay.  ,     .     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.</p><br>
<p>       â€œBlinkâ€,   .       ,   GPIO2.     ,     . Blink     .       (),      .     . </p><br>
<p>        1  5.</p><br>
<p><img src="https://habrastorage.org/webt/ey/vg/e7/eyvge7dfugct2jtk2u2rq8wkpqs.png"></p><br>
<p>    â€”     .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.      .</p><br>
<h2 id="blink-prilozhenie-anchorblinkanchor">Blink  <a name="blink"></a></h2><br>
<h3 id="sborka-iz-ishodnikov-anchorblink-bouldanchor">   <a name="blink-bould"></a></h3><br>
<p>Blink        ,   ,   .           .</p><br>
<p> .          (   )   1.         .      â€œ  â€. </p><br>
<p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a> src/applications/blink.     blink    â€œâ€,     . ,  git, npm  nodejs    .</p><br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> --branch alpha https://github.com/rpiontik/ThingJS-front
<span class="hljs-built_in">cd</span> ThingJS-front<font></font>
npm install<font></font>
npm run build</code></pre><br>
<p>   ,       :</p><br>
<p><img src="https://habrastorage.org/webt/7b/a-/n8/7ba-n8_6y8hng41irp6jttozxks.png"></p><br>
<p>!       ThingJS.      dist/apps/blink       ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">"  "</a>.</p><br>
<h3 id="sostav-prilozheniya-anchorblink-containsanchor">  <a name="blink-contains"></a></h3><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th></th>
</tr>
<tr>
<td>scripts/blink.js</td>
<td>,    </td>
</tr>
<tr>
<td>blink.js</td>
<td>   </td>
</tr>
<tr>
<td>Blink.vue</td>
<td>VUE ,   </td>
</tr>
<tr>
<td>favicon.svg</td>
<td> </td>
</tr>
<tr>
<td>langs.js</td>
<td>  </td>
</tr>
<tr>
<td>manifest.json</td>
<td> </td>
</tr>
</tbody></table></div><br>
<p>       .      .</p><br>
<h3 id="manifestjson-anchorblink-manifestanchor">manifest.json <a name="blink-manifest"></a></h3><br>
<pre><code class="json hljs">{
 <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Blink"</span>,
 <span class="hljs-attr">"vendor"</span> : <span class="hljs-string">"rpiontik"</span>,
 <span class="hljs-attr">"version"</span> : <span class="hljs-number">1</span>,
 <span class="hljs-attr">"subversion"</span> : <span class="hljs-number">0</span>,
 <span class="hljs-attr">"patch"</span> : <span class="hljs-number">0</span>,
 <span class="hljs-attr">"description"</span>: {
   <span class="hljs-attr">"ru"</span>: <span class="hljs-string">" "</span>,
   <span class="hljs-attr">"en"</span>: <span class="hljs-string">"Blink Example"</span><font></font>
 },<font></font>
 <span class="hljs-attr">"components"</span>: {...},
 <span class="hljs-attr">"scripts"</span>: {...},
 <span class="hljs-attr">"requires"</span> : {...}<font></font>
}</code></pre><br>
<p>    ,   .           .  ,    .    :</p><br>
<h4 id="blok-components-anchorblink-manifest-componentsanchor"> â€œcomponentsâ€ <a name="blink-manifest-components"></a></h4><br>
<pre><code class="json hljs"><span class="hljs-string">"components"</span>: {
   <span class="hljs-attr">"blink-app"</span>: {
     <span class="hljs-attr">"source"</span>: <span class="hljs-string">"blink.js"</span>,
     <span class="hljs-attr">"intent_filter"</span>: [<font></font>
       {<font></font>
         <span class="hljs-attr">"action"</span>: <span class="hljs-string">"thingjs.intent.action.MAIN"</span>,
         <span class="hljs-attr">"category"</span>: <span class="hljs-string">"thingjs.intent.category.LAUNCH"</span><font></font>
       }<font></font>
     ]<font></font>
   }<font></font>
 }</code></pre><br>
<p>     .  â€œsourceâ€      (. blink.js)       webpack (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">entry</a>).  ,       .         (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">lazy load</a>).</p><br>
<p>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">â€œintent_filterâ€</a>.      Android,      .   .           .   ,   ,          .</p><br>
<p>  ,  â€œblink-appâ€        .     ,     .</p><br>
<p>  ,   </p><br>
<p><code>thingjs.intent.category.LAUNCH &gt;&gt; thingjs.intent.category.PREFERENCE</code></p><br>
<p>,       ,       .    â€œâ€   â€œSettingsâ€.      .</p><br>
<p> ,   ,          .       .</p><br>
<h4 id="blok-scripts-anchorblink-manifest-scriptsanchor"> â€œscriptsâ€ <a name="blink-manifest-scripts"></a></h4><br>
<pre><code class="json hljs"><span class="hljs-string">"scripts"</span>: {
 <span class="hljs-attr">"entry"</span>: <span class="hljs-string">"blink"</span>,
 <span class="hljs-attr">"subscriptions"</span> : [<span class="hljs-string">"$-script-restart"</span>, <span class="hljs-string">"blink"</span>],
 <span class="hljs-attr">"modules"</span>: {
   <span class="hljs-attr">"blink"</span>: {
     <span class="hljs-attr">"hot_reload"</span>: <span class="hljs-literal">true</span>,
     <span class="hljs-attr">"source"</span>: <span class="hljs-string">"scripts/blink.js"</span>,
     <span class="hljs-attr">"optimize"</span>: <span class="hljs-literal">false</span><font></font>
   }<font></font>
 }<font></font>
}</code></pre><br>
<p>      â€œcomponentsâ€,        . </p><br>
<p>     .   â€œentryâ€.   ,        .    ,     ,    .</p><br>
<p>    â€œsubscriptionsâ€.      :</p><br>
<ul>
<li><strong>$-script-restart</strong> â€”       ;</li>
<li><strong>blink</strong> â€”  ,     blink.</li>
</ul><br>
<p>  â€œmodulesâ€    .   :</p><br>
<ul>
<li><strong>hot_reload</strong> â€”      true,              (hot reload);</li>
<li><strong>optimize</strong> â€”  true,         .</li>
</ul><br>
<h4 id="blok-requires-anchorblink-manifest-requiresanchor"> â€œrequiresâ€ <a name="blink-manifest-requires"></a></h4><br>
<pre><code class="json hljs"><span class="hljs-string">"requires"</span> : {
 <span class="hljs-attr">"interfaces"</span> : {
   <span class="hljs-attr">"blink"</span> : {
     <span class="hljs-attr">"type"</span> : <span class="hljs-string">"bit_port"</span>,
     <span class="hljs-attr">"required"</span> : <span class="hljs-literal">true</span>,
     <span class="hljs-attr">"default"</span> : <span class="hljs-number">2</span>,
     <span class="hljs-attr">"description"</span> : {
       <span class="hljs-attr">"ru"</span> : <span class="hljs-string">"LED "</span>,
       <span class="hljs-attr">"en"</span> : <span class="hljs-string">"LED indicator"</span><font></font>
     }<font></font>
   }<font></font>
 }<font></font>
}</code></pre><br>
<p>      ,            .         GPIO2.         .</p><br>
<p>    .   ,    ,       â€œbit_portâ€.      (required = true)   ,  GPIO2 (default = 2).        â€œblinkâ€.</p><br>
<p>     ,     .             ( ,    ).     .      ,     ,          . ..     â€œdefaultâ€.</p><br>
<p> ,        ,       .</p><br>
<h3 id="blinkjs-anchorblink-blink-jsanchor">blink.js <a name="blink-blink-js"></a></h3><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> App <span class="hljs-keyword">from</span> <span class="hljs-string">'./Blink.vue'</span>;
<span class="hljs-keyword">import</span> Langs <span class="hljs-keyword">from</span> <span class="hljs-string">'./langs'</span>;<font></font>
<font></font>
$includeLang(Langs);<font></font>
$exportComponent(<span class="hljs-string">'blink-app'</span>, App);</code></pre><br>
<p>    ,    (. manifest.js/components)     VUE  â€˜blink-appâ€™    $exportComponent,     .</p><br>
<p>,   â€”   ?     VUE ,    source?   ,     .       (runtime ).  ,   ,     (  ),   . ..,   .</p><br>
<h3 id="blinkvue-anchorblink-blink-vueanchor">Blink.vue <a name="blink-blink-vue"></a></h3><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
 <span class="hljs-attr">name</span>: <span class="hljs-string">'Blink'</span>,
 <span class="hljs-attr">watch</span>: {<font></font>
   blink_state (state) {<font></font>
     <span class="hljs-comment">// Send event to script</span>
     <span class="hljs-keyword">this</span>.$bus.$emit($consts.EVENTS.UBUS_MESSAGE, <span class="hljs-string">'blink'</span>, state);<font></font>
   }<font></font>
 },<font></font>
 data () {<font></font>
   <span class="hljs-keyword">return</span> {
     <span class="hljs-attr">blink_state</span>: <span class="hljs-literal">true</span><font></font>
   };<font></font>
 }<font></font>
};</code></pre><br>
<p>    .    â€œblink_stateâ€     ($bus)   .  ,   ,        .</p><br>
<h3 id="scriptsblinkjs-anchorblink-script-blink-jsanchor">scripts/blink.js <a name="blink-script-blink-js"></a></h3><br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> active = <span class="hljs-literal">true</span>;
<span class="hljs-keyword">let</span> state = <span class="hljs-literal">true</span>;<font></font>
<font></font>
<span class="hljs-comment">// Set port direction</span><font></font>
$res.blink.direction($res.blink.DIR_MODE_DEF_OUTPUT);<font></font>
<font></font>
<span class="hljs-comment">// Run background process</span>
setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
 <span class="hljs-keyword">if</span> (active) {
   <span class="hljs-comment">// $res - is container with required resources</span><font></font>
   $res.blink.set(state);<font></font>
   <span class="hljs-comment">// Do invert</span><font></font>
   state = !state;<font></font>
 }<font></font>
}, <span class="hljs-number">1000</span>);<font></font>
<font></font>
<span class="hljs-comment">// Event listener</span>
<span class="hljs-comment">// $bus - system bus interface</span>
$bus.on(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event, content, data</span>) </span>{
 <span class="hljs-keyword">if</span> (event === <span class="hljs-string">'blink'</span>) {<font></font>
   active = !!<span class="hljs-built_in">JSON</span>.parse(content);<font></font>
 }<font></font>
}, <span class="hljs-literal">null</span>);</code></pre><br>
<p> ,         JavaScript.   ,     JavaScript  .    . ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">mJS</a>.          . </p><br>
<p>    .  ,       â€œdebuggerâ€. ,   .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">â€œ â€</a>.</p><br>
<p>     .     â€œ$â€.</p><br>
<ul>
<li><strong>$res</strong> â€”  ,   ;</li>
<li><strong>$bus</strong> â€”  .</li>
</ul><br>
<p>..      â€œbit_portâ€ (. profile.json/requires)   â€œblinkâ€,      $res.blink.     :</p><br>
<ul>
<li><strong>set(value)</strong> â€”   GPIO</li>
<li><strong>get()</strong> â€”    GPIO</li>
<li><strong>direction(value)</strong> â€”   GPIO</li>
</ul><br>
<p>  direction        $res.blink.: DIR_MODE_DISABLE; DIR_MODE_DEF_INPUT; DIR_MODE_DEF_OUTPUT; DIR_MODE_INPUT_OUTPUT_OD; DIR_MODE_INPUT_OUTPUT.</p><br>
<p>       $bus.on.        ,    .    :</p><br>
<ul>
<li><strong>event</strong> â€”  .      : â€œ$-script-restartâ€  â€œblinkâ€.      â€” blink.       ,       .</li>
<li><strong>content</strong> â€”     .    126      . </li>
<li><strong>data</strong> â€” ,         .    ,  null.</li>
</ul><br>
<p> .    ,    .</p><br>
<h2 id="realizaciya-interfeysa-anchorintefacesanchor">  <a name="intefaces"></a></h2><br>
<p>ThingJS          .     ,     , ,   .. .</p><br>
<p>,         .  ,  ,      .     .      ,   .  ,   .       .</p><br>
<p>   â€œbit_portâ€,     â€œBlinkâ€.    ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ThingJS-template</a> alpha .       .</p><br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> --branch alpha https://github.com/rpiontik/ThingJS-template</code></pre><br>
<p>   :</p><br>
<ul>
<li><strong>ThingJS-boards</strong> â€”     .   ESP32_CORE_BOARD V2  ;</li>
<li><strong>ThingJS-extern</strong> â€”   ,   ThingJS;</li>
<li><strong>ThingJS-core</strong> â€”  ;</li>
<li><strong>ThingJS-front </strong> â€”   ;</li>
<li><strong>ThingJS-stdi</strong> â€”  .</li>
</ul><br>
<p>   ThingJS-stdi.   :</p><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th></th>
</tr>
<tr>
<td>implementation/tgsi_bit_port.c</td>
<td>  bit_port</td>
</tr>
<tr>
<td>implementation/tgsi_bit_port.h</td>
<td>   bit_pro</td>
</tr>
<tr>
<td>CMakeLists.txt</td>
<td>cmake  </td>
</tr>
<tr>
<td>README.md</td>
<td></td>
</tr>
<tr>
<td>sdti_utils.h</td>
<td></td>
</tr>
<tr>
<td>thingjs_stdi.c</td>
<td>  </td>
</tr>
<tr>
<td>thingjs_stdi.h</td>
<td>   </td>
</tr>
</tbody></table></div><br>
<p> ,      â€” implementation/tgsi_bit_port.c.     ,    .</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">thingjsBitPortRegister</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{
   <span class="hljs-keyword">static</span> <span class="hljs-keyword">int</span> thingjs_bit_port_cases[] = DEF_CASES(<font></font>
           DEF_CASE(GPIO0),  DEF_CASE(GPIO2), DEF_CASE(GPIO3), DEF_CASE(GPIO4),<font></font>
           DEF_CASE(GPIO5),  DEF_CASE(GPIO12), DEF_CASE(GPIO13), DEF_CASE(GPIO14),<font></font>
           DEF_CASE(GPIO15), DEF_CASE(GPIO16), DEF_CASE(GPIO17), DEF_CASE(GPIO18),<font></font>
           DEF_CASE(GPIO19), DEF_CASE(GPIO21), DEF_CASE(GPIO22), DEF_CASE(GPIO23),<font></font>
           DEF_CASE(GPIO25), DEF_CASE(GPIO26), DEF_CASE(GPIO27), DEF_CASE(GPIO32),<font></font>
           DEF_CASE(GPIO33)<font></font>
   );<font></font>
<font></font>
   <span class="hljs-keyword">static</span> <span class="hljs-keyword">const</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">st_thingjs_interface_manifest</span> <span class="hljs-title">interface</span> = {</span>
           .type           = <span class="hljs-string">"bit_port"</span>,<font></font>
           .constructor    = thingjsBitPortConstructor,<font></font>
           .cases          = thingjs_bit_port_cases<font></font>
   };<font></font>
<font></font>
   thingjsRegisterInterface(&amp;interface);<font></font>
}</code></pre><br>
<p> thingjsBitPortRegister     ThingJS.      thingjsRegisterInterface,      . </p><br>
<ul>
<li><strong>type</strong> â€”  .        manifest.json ;</li>
<li><strong>constructor</strong> â€”    .    ,      ;</li>
<li><strong>cases</strong> â€” ,    ,       .   ,   GPIO.         .</li>
</ul><br>
<p>      mJS.</p><br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">mjs_val_t</span> <span class="hljs-title">thingjsBitPortConstructor</span><span class="hljs-params">(struct mjs *mjs, cJSON *params)</span> </span>{
   <span class="hljs-comment">//Validate preset params</span>
   <span class="hljs-comment">//The params must have pin number</span>
   <span class="hljs-keyword">if</span> (!cJSON_IsNumber(params))
       <span class="hljs-keyword">return</span> MJS_UNDEFINED;
   <span class="hljs-comment">//Get pin number</span>
   <span class="hljs-keyword">gpio_num_t</span> gpio = params-&gt;valueint;
   <span class="hljs-comment">//Create mjs object</span>
   <span class="hljs-keyword">mjs_val_t</span> interface = mjs_mk_object(mjs);
   <span class="hljs-comment">/* Configure the IOMUX register for pad BLINK_GPIO (some pads are
      muxed to GPIO on reset already, but some default to other
      functions and need to be switched to GPIO. Consult the
      Technical Reference for a list of pads and their default
      functions.)
   */</span><font></font>
   gpio_pad_select_gpio(gpio);<font></font>
   <span class="hljs-comment">//Add protected property to interface</span>
   mjs_set(mjs, interface, <span class="hljs-string">"gpio"</span>, ~<span class="hljs-number">0</span>, mjs_mk_number(mjs, gpio));
   <span class="hljs-comment">//Set protected flag</span>
   mjs_set_protected(mjs, interface, <span class="hljs-string">"gpio"</span>, ~<span class="hljs-number">0</span>, <span class="hljs-literal">true</span>);
   <span class="hljs-comment">//Bind functions</span>
   mjs_set(mjs, interface, <span class="hljs-string">"set"</span>, ~<span class="hljs-number">0</span>,<font></font>
           mjs_mk_foreign_func(mjs, (<span class="hljs-keyword">mjs_func_ptr_t</span>) thingjsBitPortSet));<font></font>
   mjs_set(mjs, interface, <span class="hljs-string">"get"</span>, ~<span class="hljs-number">0</span>,<font></font>
           mjs_mk_foreign_func(mjs, (<span class="hljs-keyword">mjs_func_ptr_t</span>) thingjsBitPortGet));<font></font>
   mjs_set(mjs, interface, <span class="hljs-string">"direction"</span>, ~<span class="hljs-number">0</span>,<font></font>
           mjs_mk_foreign_func(mjs, (<span class="hljs-keyword">mjs_func_ptr_t</span>) thingjsBitPortDirection));
   <span class="hljs-comment">//Consts</span>
   mjs_set(mjs, interface, <span class="hljs-string">"DIR_MODE_DISABLE"</span>, ~<span class="hljs-number">0</span>, mjs_mk_number(mjs, GPIO_MODE_DISABLE));<font></font>
   mjs_set(mjs, interface, <span class="hljs-string">"DIR_MODE_DEF_INPUT"</span>, ~<span class="hljs-number">0</span>, mjs_mk_number(mjs, GPIO_MODE_DEF_INPUT));<font></font>
   mjs_set(mjs, interface, <span class="hljs-string">"DIR_MODE_DEF_OUTPUT"</span>, ~<span class="hljs-number">0</span>, mjs_mk_number(mjs, GPIO_MODE_DEF_OUTPUT));<font></font>
   mjs_set(mjs, interface, <span class="hljs-string">"DIR_MODE_INPUT_OUTPUT_OD"</span>, ~<span class="hljs-number">0</span>, mjs_mk_number(mjs, GPIO_MODE_INPUT_OUTPUT_OD));<font></font>
   mjs_set(mjs, interface, <span class="hljs-string">"DIR_MODE_INPUT_OUTPUT"</span>, ~<span class="hljs-number">0</span>, mjs_mk_number(mjs, GPIO_MODE_INPUT_OUTPUT));
   <span class="hljs-comment">//Return mJS interface object</span>
   <span class="hljs-keyword">return</span> interface;<font></font>
}</code></pre><br>
<p>  :</p><br>
<ul>
<li><strong>mjs</strong> â€”   ;</li>
<li><strong>params</strong> â€”   .      GPIO.</li>
</ul><br>
<p>  mJS â€œinterfaceâ€,      :</p><br>
<ul>
<li><strong>gpio</strong> â€” readonly ,      GPIO;</li>
<li><strong>set</strong> â€”    ;</li>
<li><strong>get</strong> â€”     ;</li>
<li><strong>direction</strong> â€”   GPIO;</li>
</ul><br>
<p>,  ,     (DIR_MODE_DISABLE, DIR_MODE_DEF_INPUT  ..).</p><br>
<p>  ,      (  Blink  â€œblinkâ€)    $res.       Blink (<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">scripts/blink.js</a>).</p><br>
<p>        .      .</p><br>
<h1 id="sreda-razrabotki-anchordevanchor">  <a name="dev"></a></h1><br>
<h2 id="razrabotka-prilozheniy-anchordev-appanchor">  <a name="dev-app"></a></h2><br>
<p>     VUE CLI,        ThingJS.   , ..    VUE CLI     ,      .</p><br>
<p>      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ThingJS-front</a> alpha-. ,  git, npm  nodejs    .</p><br>
<pre><code class="bash hljs">git <span class="hljs-built_in">clone</span> --branch alpha https://github.com/rpiontik/ThingJS-front
<span class="hljs-built_in">cd</span> ThingJS-front<font></font>
npm install</code></pre><br>
<p>    IDE WEBStorm.</p><br>
<p>     VUE CLI.    : </p><br>
<ol>
<li>     build. </li>
<li>  dev  (config/dev.env.js)    â€œHW_DEVICE_URLâ€.             .</li>
<li>   src/applications.    ,    .  ,     : ante ()  blink ().</li>
<li>,    src/applications     . , ,     ,    ,        . ..       ,    .</li>
</ol><br>
<p> ,     dev-.          â€œâ€,     .  ,  dev-:</p><br>
<pre><code class="bash hljs">npm run dev</code></pre><br>
<p>    :</p><br>
<p><img src="https://habrastorage.org/webt/c2/ku/if/c2kuifxxfz1ppogv-_50rp7wtuo.png"></p><br>
<p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">http://0.0.0.0:8080</a>      :</p><br>
<p><img src="https://habrastorage.org/webt/no/cv/ax/nocvaxx5-kdjtvy0x7i5_jfvcbg.png"></p><br>
<p>            VUE.   ,     ,    :</p><br>
<ul>
<li><strong>$const</strong> â€”     ,    ;</li>
<li><strong>$bus</strong> â€”  ;</li>
<li><strong>$store</strong> â€”   (VUEX).<br>
       .</li>
</ul><br>
<p>    â€”   â€œlangâ€.   ,         .</p><br>
<pre><code class="xml hljs">v-bind:label="'BLINK_SATE' | lang"</code></pre><br>
<p>         ,    () .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.</p><br>
<p>      ,  ,     IP   .      <a href="">http://[IP</a> ].   WEB-.</p><br>
<p>       config/dev.env.js</p><br>
<pre><code class="javascript hljs"><span class="hljs-meta">'use strict'</span>
<span class="hljs-keyword">const</span> merge = <span class="hljs-built_in">require</span>(<span class="hljs-string">'webpack-merge'</span>)
<span class="hljs-keyword">const</span> prodEnv = <span class="hljs-built_in">require</span>(<span class="hljs-string">'./prod.env'</span>)<font></font>
<font></font>
<span class="hljs-built_in">module</span>.exports = merge(prodEnv, {
 <span class="hljs-attr">NODE_ENV</span>: <span class="hljs-string">'"development"'</span>,
 <span class="hljs-attr">HW_DEVICE_URL</span>: <span class="hljs-string">'"http://[IP ]"'</span>
 <span class="hljs-comment">//HW_DEVICE_URL: '"http://192.168.8.105"',</span>
 <span class="hljs-comment">//HW_DEVICE_URL: '"http://192.168.4.1"',</span>
})</code></pre><br>
<p> dev-  ,     .  ,    , ,    ,   dev-.</p><br>
<p>    dev-   ,     src/application  ,     ,     .   ,   .      dev-   .  ,        ,    â€œâ€    ,    dev.</p><br>
<p>    :</p><br>
<pre><code class="bash hljs">npm run prod</code></pre><br>
<p>     . <u><strong>  dev-</strong></u>.</p><br>
<p>     .                (hot reload).       .  ,      blink  debugger   .</p><br>
<pre><code class="javascript hljs"><span class="hljs-comment">// Event listener</span>
<span class="hljs-comment">// $bus - system bus interface</span>
$bus.on(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">event, content, data</span>) </span>{
 <span class="hljs-keyword">if</span> (event === <span class="hljs-string">'blink'</span>) {
   <span class="hljs-keyword">debugger</span>;<font></font>
   active = !!<span class="hljs-built_in">JSON</span>.parse(content);<font></font>
 }<font></font>
}, <span class="hljs-literal">null</span>);</code></pre><br>
<p>      Blink,     :</p><br>
<p><img src="https://habrastorage.org/webt/bj/lw/qg/bjlwqgwrzgutdhi0vr2oed_cuee.png"></p><br>
<p>   â€œStart debuggerâ€,    .      .</p><br>
<p><img src="https://habrastorage.org/webt/m7/8u/3e/m78u3etl9hleirs072xjgpye_rw.png"></p><br>
<p>        .</p><br>
<p><img src="https://habrastorage.org/webt/0m/i_/nt/0mi_nt0gx_-e-7nnvrrtdhxb9kg.png"></p><br>
<p>    .    .     .    . , .   .        .</p><br>
<p>      .        .   ,   .</p><br>
<h2 id="razrabotka-proshivki-anchordev-firmwareanchor">  <a name="dev-firmware"></a></h2><br>
<p>      Espressif.  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>      . </p><br>
<p>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>.      .      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">â€œ â€</a>.</p><br>
<p>      1-2        .</p><br>
<h1 id="chto-dalshe-anchorwhat-afteranchor"> ? <a name="what-after"></a></h1><br>
<p>,    , :</p><br>
<ul>
<li>  ;</li>
<li>  , , ;</li>
<li>   ;</li>
<li>    ;</li>
<li>Runtime ;</li>
<li>    .</li>
</ul><br>
<p>,   ,       .        .    ,          OpenSource. </p><br>
<p>       pull-     .</p><br>
<h1 id="ssylki-anchorrefsanchor"> <a name="refs"></a></h1><br>
<p>  ThingJS:</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a></li>
</ul><br>
<p>  ThingJS:</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    </a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">    </a></li>
</ul><br>
<p> :</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">ESP32</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">esp-idf</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Mongoose WEB Server</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">mJS</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Vue 2</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">vuetifyjs</a></li>
</ul><br>
<h1 id="faq-anchorfaqanchor">FAQ <a name="faq"></a></h1><br>
<p>       .</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja474342/index.html">ãƒ†ãƒ¼ãƒ–ãƒ«ãƒ“ãƒ¥ãƒ¼ã‚’ä½¿ç”¨ã—ã¦ãƒ“ãƒ‡ã‚ªã®ã‚·ãƒ¼ãƒ³ã‚’é«˜é€ŸåŒ–ã™ã‚‹</a></li>
<li><a href="../ja474344/index.html">ç”£æ¥­ã«ãŠã‘ã‚‹ãƒ¢ãƒã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆï¼šã‚¹ãƒãƒ¼ãƒˆãƒ—ãƒ©ãƒ³ãƒˆã®ä»•çµ„ã¿</a></li>
<li><a href="../ja474346/index.html">Linuxï¼ˆWSLï¼‰ç”¨ã®Windowsã‚µãƒ–ã‚·ã‚¹ãƒ†ãƒ ã§ã®Dockeré–‹ç™º</a></li>
<li><a href="../ja474352/index.html">ã€Œãƒãƒªã‚ªã€ãƒ¦ãƒ‹ãƒ†ã‚£2Dã®ã‚ˆã†ãªã‚¸ãƒ£ãƒ³ãƒ—ã«ã‚ˆã‚‹æ•µã®ç ´å£Š</a></li>
<li><a href="../ja474354/index.html">ã‚³ãƒ³ãƒ†ãƒŠå†…ã®ã‚¹ãƒãƒ¼ãƒˆãƒ›ãƒ¼ãƒ ï¼ˆioBroker + Dockerå†…ã®Zigbeeï¼‰</a></li>
<li><a href="../ja474358/index.html">é€±æœ«ã«ååˆ†ãªç¡çœ ã‚’ã¨ã‚‹ï¼šãƒ›ãƒ¯ã‚¤ãƒˆãƒã‚¤ã‚ºãŒå¤§äººã®ãƒªãƒ©ãƒƒã‚¯ã‚¹ã¨å­ä¾›ã®ç¡çœ ã®è³ªã®ç›£è¦–ã«ã©ã®ã‚ˆã†ã«å½¹ç«‹ã¤ã‹</a></li>
<li><a href="../ja474360/index.html">ã“ã‚Œã‚‰ã®5ã¤ã®åŸå‰‡ã§CSSã‚’æ”¹å–„ã—ã¦ãã ã•ã„ã€‚</a></li>
<li><a href="../ja474364/index.html">ã‚¨ãƒ¬ã‚¯ãƒˆãƒ­ãƒ‹ã‚¯ã‚¹é–‹ç™ºã€‚æœ€ã‚‚æœ‰ç”¨ãªçµ±åˆã‚»ãƒ³ã‚µãƒ¼ã®ä¸»è¦³çš„ãƒ¬ãƒ“ãƒ¥ãƒ¼</a></li>
<li><a href="../ja474366/index.html">11æœˆ4ã€œ10æ—¥ã«ãƒ¢ã‚¹ã‚¯ãƒ¯ã§é–‹å‚¬ã•ã‚Œã‚‹ãƒ‡ã‚¸ã‚¿ãƒ«ã‚¤ãƒ™ãƒ³ãƒˆ</a></li>
<li><a href="../ja474368/index.html">ã€Œæ©Ÿæ¢°å­¦ç¿’ã€ã®ã‚ã‚‰ã™ã˜ã€‚ç¢ºç‡è«–ã€‚ãƒ™ã‚¤ã‚ºã®å…¬å¼</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>