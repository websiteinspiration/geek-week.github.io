<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôãüèº ü¶è ‚¨ÖÔ∏è Medianproben. Konfidenzintervalle und Vergleich ü•É üìì üç™</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die Ver√∂ffentlichung liegt in der Natur der Beschreibung des Pfades, der zur effizienten Algorithmusisierung von Methoden zur Berechnung des Konfidenz...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Medianproben. Konfidenzintervalle und Vergleich</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/505834/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Ver√∂ffentlichung liegt in der Natur der Beschreibung des Pfades, der zur effizienten Algorithmusisierung von Methoden zur Berechnung des Konfidenzintervalls (Konfidenzintervall = CI) f√ºr f√ºhrt </font></font></p><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verteilungsmediane;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Medianunterschiede zweier Verteilungen.</font></font></li>
</ul><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Aufgabe ist rein praktisch, man kann in die Tiefen der Mathematik eintauchen, aber dies ist kein Selbstzweck und es reicht nicht immer aus, wenn ein Ballon auf den Grund geht.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Samples sind gro√ü, 10 ^ 5 - 10 ^ 7 Datens√§tze, merklich asymmetrisch, mit langen Schw√§nzen, k√∂nnen mehrere Modi haben. </font><font style="vertical-align: inherit;">In diesem Fall sind die Mediane emissionsresistenter.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Anwendung der klassischen Statistik, beispielsweise des Wilcoxon-Mann-Whitney-Kriteriums zur Sch√§tzung des Medianunterschieds f√ºr solche Volumina, ist nicht erfolgreich. </font><font style="vertical-align: inherit;">Ja, und viele Dinge m√ºssen unter den Sternchen gelesen werden, um diese Kriterien korrekt anzuwenden. </font><font style="vertical-align: inherit;">In der Tat √ºberpr√ºft dieses Kriterium keineswegs die Gleichheit der Mediane, und f√ºr Mediane funktioniert es nur mit den gleichen Verteilungsformen von zwei Stichproben. </font><font style="vertical-align: inherit;">Usw. </font><font style="vertical-align: inherit;">usw.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie k√∂nnen den Bootstrap-Hammer greifen, aber Sie m√ºssen dar√ºber nachdenken + es braucht Zeit und Speicher, um ihn zu simulieren.</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andererseits kommen Mathematiker sehr oft unter bestimmten Annahmen auf verschiedene analytische Vereinfachungen, die es erm√∂glichen, komplexe Probleme in einer Formel zu l√∂sen. </font><font style="vertical-align: inherit;">Die Suche nach dem letzteren Ansatz f√ºhrte zu den folgenden L√∂sungen (in Bezug auf die oben beschriebenen Proben).</font></font></p><a name="habracut"></a><br>
<h1 id="ci-dlya-median"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CI f√ºr Mediane</font></font></h1><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine erste Diskussion bei StackExchange </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Konfidenzintervall f√ºr Median"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bringt </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">David J. Olives</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Artikel </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">"Ein einfaches Konfidenzintervall f√ºr den Median", 2005,</font></a><font style="vertical-align: inherit;"> und einen sehr eleganten Code, der einfacher zu finden ist:</font></font></p><br>
<pre><code class="plaintext hljs">x &lt;- faithful$waiting<font></font>
sort(x)[qbinom(c(.025,.975), length(x), 0.5)]</code></pre><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der Code wird </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">von hier √ºbernommen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></p><br>
<h1 id="ci-dlya-raznicy-median"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CI f√ºr den Unterschied der Mediane</font></font></h1><br>
<p>        .<br>
   StackExchange <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">"How to construct a 95% confidence interval of the difference between medians?"</a> <br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">"Bootstrap hypothesis test for median of differences"</a>.</p><br>
<p> ,     ,      .</p><br>
<p>  2 :</p><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Price R.M., Bonett D.G. "Distribution-free confidence intervals for difference and ratio of medians". J Stat Comput Simul 72, 2002</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">Price R.M., Bonett D.G. "Statistical inference for a linear function of medians: Confidence intervals, hypothesis testing, and sample size requirements</a></li>
</ul><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"> </b>
                        <div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"># test from table 3 of b&amp;p 2002</span>
x1 &lt;- c(<span class="hljs-number">77</span>, <span class="hljs-number">87</span>, <span class="hljs-number">88</span>, <span class="hljs-number">114</span>, <span class="hljs-number">151</span>, <span class="hljs-number">210</span>, <span class="hljs-number">219</span>, <span class="hljs-number">246</span>, <span class="hljs-number">253</span>, <span class="hljs-number">262</span>, <span class="hljs-number">296</span>, <span class="hljs-number">299</span>, <span class="hljs-number">306</span>,
        <span class="hljs-number">376</span>, <span class="hljs-number">428</span>, <span class="hljs-number">515</span>, <span class="hljs-number">666</span>, <span class="hljs-number">1310</span>, <span class="hljs-number">2611</span>)<font></font>
x2 &lt;- c(<span class="hljs-number">59</span>, <span class="hljs-number">106</span>, <span class="hljs-number">174</span>, <span class="hljs-number">207</span>, <span class="hljs-number">219</span>, <span class="hljs-number">237</span>, <span class="hljs-number">313</span>, <span class="hljs-number">365</span>, <span class="hljs-number">458</span>, <span class="hljs-number">497</span>, <span class="hljs-number">515</span>, <span class="hljs-number">529</span>,
        <span class="hljs-number">557</span>, <span class="hljs-number">615</span>, <span class="hljs-number">625</span>, <span class="hljs-number">645</span>, <span class="hljs-number">973</span>, <span class="hljs-number">1065</span>, <span class="hljs-number">3215</span>)<font></font>
<font></font>
<span class="hljs-comment"># sort vectors</span><font></font>
x1 &lt;- sort(x1)<font></font>
x2 &lt;- sort(x2)<font></font>
<font></font>
<span class="hljs-comment"># get medians</span><font></font>
x1_mdn &lt;- median(x1)<font></font>
x2_mdn &lt;- median(x2)<font></font>
<font></font>
<span class="hljs-comment"># stuff to calculate variance of medians</span><font></font>
x1_n &lt;- length(x1)<font></font>
x2_n &lt;- length(x2)<font></font>
<font></font>
x1_aj &lt;- round((x1_n + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> - x1_n ^ (<span class="hljs-number">1</span> / <span class="hljs-number">2</span>))<font></font>
x2_aj &lt;- round((x2_n + <span class="hljs-number">1</span>) / <span class="hljs-number">2</span> - x2_n ^ (<span class="hljs-number">1</span> / <span class="hljs-number">2</span>))<font></font>
<font></font>
z &lt;- <span class="hljs-number">1.855</span> <span class="hljs-comment"># from table 1 of b&amp;p 2002, see p. 376</span><font></font>
<font></font>
<span class="hljs-comment"># calculate variance</span>
x1_var &lt;- ((x1[x1_n - x1_aj + <span class="hljs-number">1</span>] - x1[x1_aj]) / (<span class="hljs-number">2</span> * z)) ^ <span class="hljs-number">2</span>
x2_var &lt;- ((x2[x2_n - x2_aj + <span class="hljs-number">1</span>] - x2[x2_aj]) / (<span class="hljs-number">2</span> * z)) ^ <span class="hljs-number">2</span><font></font>
<font></font>
<span class="hljs-comment"># contrast coefficients, such that its median(d) - median(dg)</span>
x1_cj &lt;- <span class="hljs-number">1</span>
x2_cj &lt;- <span class="hljs-number">-1</span><font></font>
<font></font>
<span class="hljs-comment"># median difference</span><font></font>
mdn_diff &lt;- x1_mdn * x1_cj + x2_mdn * x2_cj<font></font>
<font></font>
<span class="hljs-comment"># standard error</span>
mdn_diff_se &lt;- (((x1_cj ^ <span class="hljs-number">2</span>) * x1_var) + ((x2_cj ^ <span class="hljs-number">2</span>) * x2_var)) ^ (<span class="hljs-number">1</span> / <span class="hljs-number">2</span>)<font></font>
<font></font>
<span class="hljs-comment"># 95% confidence interval</span>
lb &lt;- mdn_diff - <span class="hljs-number">1.96</span> * mdn_diff_se<font></font>
ub &lt;- mdn_diff + <span class="hljs-number">1.96</span> * mdn_diff_se<font></font>
<font></font>
<span class="hljs-comment"># within roundng error of p. 376 of b&amp;p 2002</span>
paste0(mdn_diff, <span class="hljs-string">" ["</span>, round(lb), <span class="hljs-string">", "</span>, round(ub), <span class="hljs-string">"]"</span>)</code></pre></div>
                    </div><br>
<p>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"></a>.</p><br>
<p>       ?          (,   ,    ),   Clickhouse.     SQL   .            .</p><br>
<p>P.S. </p><br>
<ol>
<li>     -   .      .  -       ,   .</li>
<li>        : <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">" "</a>.</li>
</ol><br>
<p>  ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">¬´, -  data science.     ?¬ª</a>.</p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de505802/index.html">Hosting und dedizierte Server: Beantworten Sie Fragen. Teil 4</a></li>
<li><a href="../de505812/index.html">4 Ingenieure, 7000 Server und eine globale Pandemie</a></li>
<li><a href="../de505814/index.html">Radarr, Jackett und der Bot im Wagen. Laden Sie Torrents auf neue Weise herunter</a></li>
<li><a href="../de505824/index.html">Anleitung: Ihr eigenes L2TP-VPN</a></li>
<li><a href="../de505826/index.html">Wie man 100% Vision und noch mehr bekommt</a></li>
<li><a href="../de505838/index.html">FPGA-Technologie f√ºr Tausende von Anwendungen</a></li>
<li><a href="../de505846/index.html">Was sind die wirklichen mathematischen Probleme bei der Entwicklung von Impfstoffen aus COVID-19?</a></li>
<li><a href="../de505850/index.html">C ++ - Konzeptbasierter Polymorphismus im Produktcode: PassManager in LLVM</a></li>
<li><a href="../de505856/index.html">Von Brute-Force bis zum Versuch der Privatsph√§re - was SaaS-Anbieter erwartet</a></li>
<li><a href="../de505860/index.html">Spring Boot, Hibernate und Kotlin f√ºr Anf√§nger Schritt f√ºr Schritt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>