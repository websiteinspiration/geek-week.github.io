<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§∂üèø üßìüèª üí∞ etcd 3.4.3: recherche sur la fiabilit√© et la s√©curit√© du stockage üö§ üöÆ ü§®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Remarque perev. : Le contenu de cet article n'est pas enti√®rement typique de notre blog. Cependant, comme beaucoup le savent, etcd est situ√© au c≈ìur d...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>etcd 3.4.3: recherche sur la fiabilit√© et la s√©curit√© du stockage</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/487534/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque perev.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Le contenu de cet article n'est pas enti√®rement typique de notre blog. Cependant, comme beaucoup le savent, etcd est situ√© au c≈ìur de Kubernetes, c'est pourquoi cette √©tude, men√©e par un consultant ind√©pendant dans le domaine de la fiabilit√©, s'est av√©r√©e int√©ressante aupr√®s des ing√©nieurs exploitant ce syst√®me. De plus, il est int√©ressant dans le contexte de l'am√©lioration des projets Open Source qui ont d√©j√† fait leurs preuves en production, m√™me √† un niveau tr√®s "bas".</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/xd/av/d3/xdavd35rjqklgnrnd-0wulkpayo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> coffre de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> valeurs-cl√©s (KV),</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"> etc.</font></a><font style="vertical-align: inherit;"> est une base de donn√©es distribu√©e bas√©e sur l'algorithme de consensus Raft. Dans une analyse</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> men√©e en 2014</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous avons constat√© que etcd 0.4.1 √©tait affect√© par les soi-disant lectures p√©rim√©es par d√©faut</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(lire les op√©rations qui renvoient une ancienne valeur non pertinente en raison d'un retard de synchronisation - environ transl.)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nous avons d√©cid√© de revenir √† etcd (cette fois - √† la version 3.4.3) afin d'√©valuer √† nouveau en d√©tail son potentiel dans le domaine de la fiabilit√© et de la s√©curit√©.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons constat√© que le fonctionnement avec des paires de "valeurs-cl√©s" strictement s√©rialisables et que les processus de l'observateur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(montres)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> livraient √† chaque changement de cl√© de commande. </font><font style="vertical-align: inherit;">Cependant, les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verrous</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans etcd sont fondamentalement dangereux, et les risques qui leur sont associ√©s sont exacerb√©s par un bogue, √† la suite de quoi la pertinence du </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bail</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> n'est pas v√©rifi√©e </font><font style="vertical-align: inherit;">apr√®s avoir attendu le verrou. </font><font style="vertical-align: inherit;">Vous pouvez lire le commentaire des d√©veloppeurs etcd sur notre rapport </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur le blog du projet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©tude a √©t√© parrain√©e par la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud Native Computing Foundation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (CNCF), qui fait partie de la Linux Foundation. </font><font style="vertical-align: inherit;">Elle a √©t√© r√©alis√©e dans le plein respect </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des politiques √©thiques de Jepsen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Origines</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le r√©f√©rentiel Etc KV est un syst√®me distribu√© con√ßu pour √™tre utilis√© comme base de coordination. Comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zookeeper</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consul</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , etcd stocke de petites quantit√©s d'√©tats rarement mis √† jour ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par d√©faut jusqu'√† 8 Go</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) sous la forme d'une carte de valeurs-cl√©s et fournit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lectures, √©critures et microtransactions </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">strictement s√©rialisables</font></a><font style="vertical-align: inherit;"> dans tout l'entrep√¥t de donn√©es, ainsi que des primitives de coordination comme les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verrous</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , le suivi </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(montres)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et s√©lection des leaders. De nombreux syst√®mes distribu√©s, tels que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OpenStack</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , utilisent etcd pour stocker des m√©tadonn√©es de cluster, coordonner des vues coordonn√©es de donn√©es, choisir un leader, etc.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En 2014, nous avons d√©j√† r√©alis√© une √©valuation de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">etcd 0.4.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ensuite, nous avons constat√© que par d√©faut, il est sujet aux lectures p√©rim√©es en raison de l'optimisation. Alors que le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">travail sur les principes de Raft</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> discute de la n√©cessit√© de diviser les op√©rations de lecture en threads et de les passer par un syst√®me de consensus pour assurer la viabilit√©, etcd lit localement tout leader sans v√©rifier un √©tat plus actuel sur le nouveau leader. L'√©quipe de d√©veloppement etcd a impl√©ment√© l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">indicateur de quorum facultatif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et dans l'API etcd version 3.0 </font><font style="vertical-align: inherit;">, la </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">lin√©arisation</font></a><font style="vertical-align: inherit;"> pour toutes les op√©rations, √† l'exception des op√©rations de suivi, </font><font style="vertical-align: inherit;">est apparue </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">par d√©faut</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
L'API etcd 3.0 se concentre sur une carte plate KV o√π les cl√©s et les valeurs sont opaques</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des tableaux d'octets </font><i><font style="vertical-align: inherit;">( </font></i><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">opaques</font></a></i><i><font style="vertical-align: inherit;"> )</font></i><font style="vertical-align: inherit;"> . √Ä l'aide de requ√™tes de plage, vous pouvez simuler des cl√©s hi√©rarchiques. Les utilisateurs peuvent lire, √©crire et supprimer des cl√©s, ainsi que surveiller le flux des mises √† jour pour une seule cl√© ou une plage de cl√©s. La bo√Æte √† outils etcd est compl√©t√©e par des baux (objets variables avec une dur√©e de vie limit√©e, qui sont maintenus √† l'√©tat actif par les demandes de pulsation du client), des verrous (objets nomm√©s d√©di√©s li√©s aux baux) et le choix des leaders. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la version 3.0, etcd propose une </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">API transactionnelle</font></a><font style="vertical-align: inherit;"> limit√©e</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour les op√©rations atomiques avec de nombreuses cl√©s. </font><font style="vertical-align: inherit;">Dans ce mod√®le, une transaction est une expression conditionnelle avec un pr√©dicat, une vraie branche et une fausse branche. </font><font style="vertical-align: inherit;">Un pr√©dicat peut √™tre une conjonction de plusieurs comparaisons de cl√©s: √©galit√© ou diverses in√©galit√©s, selon les versions d'une cl√©, r√©vision globale, etc., ou la valeur de cl√© actuelle. </font><font style="vertical-align: inherit;">Les vraies et fausses branches peuvent inclure plusieurs op√©rations de lecture et d'√©criture; </font><font style="vertical-align: inherit;">tous sont appliqu√©s atomiquement en fonction du r√©sultat de l'estimation du pr√©dicat.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.1 Garanties de coh√©rence dans la documentation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depuis octobre 2019, la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> etcd </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">de l'API</font></a><font style="vertical-align: inherit;"> indique que ¬´tous les appels d'API d√©montrent une coh√©rence coh√©rente - la forme la plus solide de garantie de coh√©rence disponible sur les syst√®mes distribu√©s¬ª. Ce n'est pas le cas: la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coh√©rence coh√©rente est</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> strictement plus faible que la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lin√©arisation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et la lin√©arisation est certainement r√©alisable dans les syst√®mes distribu√©s. En outre, la documentation indique que ¬´pendant l'op√©ration de lecture, etcd ne garantit pas le transfert de la valeur [la plus r√©cente (mesur√©e par l'horloge externe apr√®s la fin de la requ√™te)] disponible sur n'importe quel membre du cluster¬ª. C'est aussi une d√©claration trop conservatrice: si etcd fournit la lin√©arisation, les op√©rations de lecture sont toujours associ√©es √† l'√©tat valid√© le plus r√©cent dans l'ordre de lin√©arisation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La documentation affirme √©galement que etcd garantit une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isolation s√©rialisable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: toutes les op√©rations (m√™me celles qui affectent plusieurs touches) sont effectu√©es dans un ordre g√©n√©ral. Les auteurs d√©crivent l'isolement s√©rialisable comme ¬´le plus haut niveau d'isolement disponible dans les syst√®mes distribu√©s¬ª. Cela (selon ce que vous entendez par ¬´niveau d'isolement¬ª) n'est pas vrai non plus; la s√©rialisabilit√© stricte est plus forte que la s√©rialisation simple, tandis que la premi√®re est √©galement r√©alisable dans les syst√®mes distribu√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La documentation indique que toutes les op√©rations (sauf le suivi) dans etcd sont lin√©arisables par d√©faut. Dans ce cas, la lin√©arisation est d√©finie comme la coh√©rence avec des horloges globales faiblement synchronis√©es. Il convient de noter qu'une telle d√©finition n'est pas seulement incompatible avec la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©finition de la lin√©arisation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Herlihy &amp; Wing, mais implique √©galement une violation de la causalit√©: les n≈ìuds avec des heures de pointe vont essayer de lire les r√©sultats d'op√©rations qui n'ont m√™me pas commenc√©. Nous supposons que etcd n'est toujours pas une machine √† remonter le temps, et comme il est bas√© sur l'algorithme Raft, la d√©finition g√©n√©ralement accept√©e de la lin√©arisation devrait √™tre appliqu√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisque les op√©rations KV dans etcd sont s√©rialisables et lin√©arisables, nous pensons qu'en fait, etcd fournit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une s√©rialisation stricte</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> par d√©faut </font><font style="vertical-align: inherit;">. Cela a du sens, car toutes les cl√©s etcd sont dans une seule machine d'√©tat, et Raft fournit un ordre complet de toutes les op√©rations sur cette machine d'√©tat. En fait, l'ensemble de donn√©es etcd est un seul objet lin√©arisable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le drapeau optionnel </font></font><code>serializable</code> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s'abaisse</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Niveau des op√©rations de lecture, de la coh√©rence s√©rialisable stricte √† r√©guli√®re, permettant la lecture d'un √©tat valid√© p√©rim√©. </font><font style="vertical-align: inherit;">Notez que le drapeau </font></font><code>serializable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'affecte pas la s√©rialisation de l'histoire; </font><font style="vertical-align: inherit;">Les op√©rations KV, etc. sont s√©rialisables dans tous les cas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. D√©veloppement de tests</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cr√©er </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une suite de tests,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous avons utilis√© la </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">biblioth√®que Jepsen</font></a><font style="vertical-align: inherit;"> appropri√©e</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. La version etcd 3.4.3 (la derni√®re en date d'octobre 19) a √©t√© analys√©e, travaillant sur des clusters Debian Stretch compos√©s de 5 n≈ìuds. Nous avons impl√©ment√© un certain nombre de d√©fauts dans ces clusters, notamment les partitions r√©seau, l'isolement des n≈ìuds individuels, le partitionnement du cluster en majorit√© et en minorit√©, ainsi que les partitions non transitives √† majorit√© chevauchante. Ils ont ¬´abandonn√©¬ª et suspendu des sous-ensembles al√©atoires de n≈ìuds, ainsi que des dirigeants d√©lib√©r√©ment handicap√©s. Des distorsions temporelles pouvant atteindre plusieurs centaines de secondes ont √©t√© introduites, √† des intervalles de plusieurs secondes et √† des millisecondes ("scintillement" rapide). √âtant donn√© que etcd prend en charge la modification dynamique du nombre de composants, nous avons ajout√© et supprim√© des n≈ìuds au hasard pendant les tests.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les charges de test comprenaient des registres, des ensembles et des tests transactionnels pour v√©rifier les op√©rations sur KV, ainsi que des charges sp√©cialis√©es pour les serrures et les montres.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.1 Registres</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour √©valuer la fiabilit√© de etcd pendant les op√©rations KV, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test de registre a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©t√© d√©velopp√© au </font><font style="vertical-align: inherit;">cours duquel des op√©rations al√©atoires de lecture, d'√©criture, de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparaison et de d√©finition</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ont √©t√© effectu√©es </font><font style="vertical-align: inherit;">sur des cl√©s d'unit√©. </font><font style="vertical-align: inherit;">Les r√©sultats ont √©t√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©valu√©s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† l'aide de l' </font><font style="vertical-align: inherit;">outil de lin√©arisation </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Knossos</font></a><font style="vertical-align: inherit;"> √† l'aide du mod√®le de registre de comparaison / d'installation et des informations de version.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.2 Ensembles</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour quantifier les lectures p√©rim√©es, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©t√© d√©velopp√© </font><font style="vertical-align: inherit;">qui a utilis√© une transaction </font><font style="vertical-align: inherit;">de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comparaison et de d√©finition</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour lire un ensemble d'entiers √† partir d'une seule cl√©, puis ajouter une valeur √† cet ensemble. </font><font style="vertical-align: inherit;">Pendant le test, nous avons √©galement effectu√© une lecture parall√®le de l'ensemble complet. </font><font style="vertical-align: inherit;">Apr√®s l'ach√®vement du test, les r√©sultats ont √©t√© analys√©s pour la survenue de cas o√π l'√©l√©ment, qui √©tait connu pour </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√™tre</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pr√©sent dans l'ensemble, √©tait absent dans les r√©sultats de lecture. </font><font style="vertical-align: inherit;">Ces cas ont √©t√© utilis√©s pour quantifier les lectures p√©rim√©es et les mises √† jour perdues.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.3 Ajouter un test</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour v√©rifier la s√©rialisabilit√© stricte, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test d'ajout a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©t√© d√©velopp√© au </font><font style="vertical-align: inherit;">cours duquel les transactions ont √©t√© lues en parall√®le et ont ajout√© des valeurs √† des listes constitu√©es d'ensembles uniques d'entiers. Chaque liste a √©t√© stock√©e dans une cl√© etcd, et des ajouts ont √©t√© effectu√©s au sein de chaque transaction, en lisant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">chaque cl√© qui devait √™tre modifi√©e</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en une seule transaction, puis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ces cl√©s ont √©t√© √©crites et des lectures ont √©t√© effectu√©es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans la deuxi√®me transaction, qui </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©tait prot√©g√©e</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour s'assurer qu'aucune cl√© enregistr√©e n'a chang√© depuis la premi√®re lecture. </font><font style="vertical-align: inherit;">√Ä la fin du test, nous avons trac√© la relation entre les transactions en fonction de la priorit√© en temps r√©el et la relation des op√©rations de lecture et d'ajout. </font><font style="vertical-align: inherit;">La v√©rification de ce graphique pour les boucles a permis de d√©terminer si les op√©rations √©taient strictement s√©rialisables. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alors que etcd emp√™che les transactions d'√©crire plusieurs fois la m√™me cl√©, vous pouvez cr√©er des transactions avec jusqu'√† un enregistrement par cl√©. </font><font style="vertical-align: inherit;">Nous nous sommes √©galement assur√©s que les op√©rations de lecture dans la m√™me transaction refl√©taient les op√©rations d'√©criture pr√©c√©dentes de la m√™me transaction.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.4 Serrures</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que service de coordination, etcd promet un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">support int√©gr√© pour le verrouillage distribu√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nous avons √©tudi√© ces verrous de deux mani√®res. Au d√©but, des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demandes de verrouillage et de d√©verrouillage al√©atoires ont √©t√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> g√©n√©r√©es </font><font style="vertical-align: inherit;">, recevant un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bail pour chaque verrou et le laissant ouvert</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† l'aide du client </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">etc.</font></a><font style="vertical-align: inherit;"> int√©gr√© dans le client Java </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code> keepalive</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jusqu'√† sa </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lib√©ration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nous avons test√© les r√©sultats avec Knossos pour voir s'ils forment une impl√©mentation lin√©aris√©e du service de verrouillage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour un test plus pratique (et pour quantifier la fr√©quence des √©checs de verrouillage), nous avons utilis√© des verrous et etcd pour organiser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'exclusion mutuelle lors des mises √† jour de l'ensemble en m√©moire</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et recherch√© les mises √† jour perdues dans cet ensemble. </font><font style="vertical-align: inherit;">Ce test nous a permis de confirmer directement si les syst√®mes utilisant etcd comme mutex peuvent mettre √† jour en toute s√©curit√© l'√©tat interne. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La troisi√®me version du test de verrouillage impliquait des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gardes sur la cl√© de bail</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour modifier l'ensemble stock√© dans etcd.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.5 Suivi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de v√©rifier que les surveillances fournissent des informations sur chaque mise √† jour de cl√©, une cl√© a √©t√© cr√©√©e dans le cadre du test et </font><font style="vertical-align: inherit;">des valeurs enti√®res uniques </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aveugles ont √©t√© attribu√©es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pendant ce temps, les clients ont partag√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cette cl√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pendant plusieurs secondes √† la fois. </font><font style="vertical-align: inherit;">Chaque fois apr√®s le d√©but de la montre, le client a commenc√© la r√©vision sur laquelle il s'√©tait arr√™t√© la derni√®re fois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä la fin de ce processus, nous nous sommes </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">assur√©s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que chaque client a observ√© la m√™me s√©quence de changements cl√©s.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. R√©sultats</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.1 Suivi √† partir de la 0e r√©vision</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors du suivi d'une cl√©, les clients peuvent sp√©cifier une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©vision initiale</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est ¬´une r√©vision facultative avec laquelle le suivi d√©marre (inclusivement)¬ª. Si l'utilisateur veut voir chaque op√©ration avec une certaine cl√©, il peut sp√©cifier la premi√®re r√©vision de etcd. Qu'est-ce que cet audit? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le mod√®le de donn√©es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">glossaire</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ne fournissent pas de r√©ponse √† cette question; les r√©visions sont d√©crites comme augmentant de fa√ßon monotone les compteurs 64 bits, mais il n'est pas clair si etcd d√©marre √† partir de 0 ou 1. Il est raisonnable de supposer que le compte √† rebours est √† partir de z√©ro (juste au cas o√π). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√©las, c'est faux. La demande de la 0e r√©vision oblige etcd √† d√©marrer la diffusion des mises √† jour, en commen√ßant par la </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©vision actuelle sur le serveur plus un</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais pas avec le tout premier. </font><font style="vertical-align: inherit;">La demande de 1√®re r√©vision donne toutes les modifications. </font><font style="vertical-align: inherit;">Ce comportement n'est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">document√© nulle part</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pensons qu'en pratique, cette subtilit√© est peu susceptible d'entra√Æner des probl√®mes de production, car la plupart des clusters ne s'attardent pas sur la premi√®re r√©vision. </font><font style="vertical-align: inherit;">De plus, etcd compresse l'histoire de toute fa√ßon au fil du temps, donc dans les applications du monde r√©el, tr√®s probablement, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en tout cas, il</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ne n√©cessite pas de lire toutes les versions, √† partir de la 1√®re r√©vision. </font><font style="vertical-align: inherit;">Un tel comportement est justifi√©, mais il ne nuirait pas √† la description correspondante dans la documentation.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.2 Serrures mythiques</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La documentation de l'API pour les verrous</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indique qu'une cl√© verrouill√©e "peut √™tre utilis√©e conjointement avec des transactions pour garantir que les mises √† jour dans etcd se produisent uniquement lorsque le verrou est d√©tenu". √âtrange, mais il ne fournit aucune garantie pour les serrures elles-m√™mes et leur fonction n'est pas expliqu√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, dans d'autres documents, les responsables de la maintenance, etc. partagent toujours des informations sur l'utilisation des verrous. Par exemple, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'annonce de la sortie de etcd 3.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©crit une application </font></font><code>etcdctl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour bloquer les changements de partage de fichiers sur un disque. De plus, dans un probl√®me sur GitHub avec une question sur le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">but sp√©cifique des verrous, l'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> un des d√©veloppeurs etcd a r√©pondu ce qui suit:</font></font><br>
<br>
<blockquote>     etcd  ,   (  )        ,     (        etcd), - :<br>
<br>
<ol>
<li>    etcd;</li>
<li>  - ( ,     etcd);</li>
<li>    .</li>
</ol></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un tel exemple est donn√© dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><code>  etcdctl</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: un verrou a √©t√© utilis√© pour prot√©ger l'√©quipe </font></font><code>put</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais n'a pas li√© la cl√© de verrouillage √† la mise √† jour. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√©las, ce n'est pas s√ªr car cela permet √† plusieurs clients de d√©tenir simultan√©ment le m√™me verrou. Le probl√®me est aggrav√© par la suspension des processus, les pannes de r√©seau ou les partitions, mais il peut √©galement se produire dans des clusters compl√®tement sains sans aucune d√©faillance externe. Par exemple, dans cette </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ex√©cution de test, le</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> processus num√©ro 3 d√©finit correctement le verrou et le processus 1 obtient le m√™me verrou en parall√®le avant m√™me que le processus 3 n'ait la possibilit√© de le supprimer:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ko/hy/lz/kohylznbfb8bh5a2m1l88kysrg4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La violation du mutex √©tait plus visible sur les baux avec des TTL courts: les TTL de 1, 2 et 3 secondes n'√©taient pas en mesure de fournir l'exclusion mutuelle apr√®s seulement quelques minutes de test (m√™me dans des grappes saines). Les suspensions de processus et les partitions r√©seau ont entra√Æn√© des probl√®mes encore plus rapidement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'une de nos variantes de test de verrouillage, des mutex etcd ont √©t√© utilis√©s pour prot√©ger les mises √† jour conjointes d'un ensemble d'entiers (comme le sugg√®re la documentation etcd). Chaque mise √† jour lit la valeur d'exemple en m√©moire actuelle et, apr√®s environ une seconde, r√©√©crit cette collection avec l'ajout d'un √©l√©ment unique. Avec des baux avec un TTL de deux secondes, cinq processus parall√®les et une pause de processus toutes les cinq secondes, nous avons pu provoquer une perte r√©guli√®re d'environ 18% des mises √† jour confirm√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce probl√®me a √©t√© exacerb√© par le m√©canisme de verrouillage interne dans etcd. Si un client attendait qu'un autre client le d√©verrouille, a perdu son bail et apr√®s que le verrou a √©t√© lib√©r√©, le serveur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'a pas rev√©rifi√© le bail</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour s'assurer qu'il est toujours valide avant d'informer le client que le verrou est maintenant derri√®re lui. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'inclusion d'un ch√®que de bail suppl√©mentaire, ainsi que la s√©lection de TTL plus longs et la d√©finition minutieuse des </font><font style="vertical-align: inherit;">d√©lais d' </font><font style="vertical-align: inherit;">expiration des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©lections</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , r√©duiront la fr√©quence de ce probl√®me. Cependant, les violations de mutex ne peuvent pas √™tre compl√®tement √©limin√©es, car les verrous distribu√©s sont fondamentalement dangereux dans les syst√®mes asynchrones. Le Dr Martin Kleppmann le d√©crit de mani√®re convaincante dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">son article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Ä propos des verrous distribu√©s. Selon lui, les services de blocage doivent sacrifier l'exactitude afin de maintenir la viabilit√© dans les syst√®mes asynchrones: si le processus se bloque lors du contr√¥le du blocage, le service de blocage a besoin d'un moyen pour forcer le d√©verrouillage du blocage. Cependant, si le processus n'est pas tomb√©, mais s'ex√©cute simplement lentement ou est temporairement indisponible, le d√©verrouiller peut entra√Æner son maintien √† plusieurs endroits en m√™me temps.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais m√™me si le service de blocage distribu√© utilise, disons, une sorte de d√©tecteur de d√©faillance magique et peut effectivement garantir l'exclusion mutuelle, dans le cas d'une ressource non locale, son utilisation sera toujours dangereuse. Supposons que le processus A envoie un message √† la base de donn√©es D tout en maintenant un verrou. Apr√®s cela, le processus A se bloque et le processus B re√ßoit un verrou et envoie √©galement un message √† la base D. Le probl√®me est qu'un message du processus A (en raison de l'asynchronie) peut venir apr√®s un message du processus B, violant l'exception mutuelle que le verrou √©tait cens√© fournir. . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour √©viter ce probl√®me, il est n√©cessaire de s'appuyer sur le fait que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le syst√®me de stockage lui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">m√™me</font></a><font style="vertical-align: inherit;"> prendra en charge l'exactitude des transactions ou, si le service de verrouillage fournit un tel m√©canisme, utilisez</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jeton </font><font style="vertical-align: inherit;">¬´ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cl√¥ture¬ª</font></font></i><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui sera inclus dans toutes les op√©rations effectu√©es par le d√©tenteur de la serrure. Cela garantira qu'aucune op√©ration du d√©tenteur de verrou pr√©c√©dent ne se produira soudainement entre les op√©rations du propri√©taire de verrou actuel. Par exemple, dans </font><font style="vertical-align: inherit;">le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">service de blocage Chubby</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de Google </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">,</font></a><font style="vertical-align: inherit;"> ces jetons sont appel√©s </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">s√©quenceurs</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans etcd, vous pouvez utiliser la r√©vision de la cl√© de verrouillage comme un jeton de blocage ordonn√© globalement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, les cl√©s de verrouillage dans etcd peuvent √™tre utilis√©es pour prot√©ger les mises √† jour transactionnelles dans etcd lui-m√™me. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V√©rification de la version de la cl√© de verrouillage dans le cadre de la transaction</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, les utilisateurs peuvent emp√™cher une transaction si le verrou n'est plus maintenu (c'est-√†-dire que la version de la cl√© de verrouillage est sup√©rieure √† z√©ro). </font><font style="vertical-align: inherit;">Dans nos tests, cette approche nous a permis d'isoler avec succ√®s les op√©rations de lecture-modification-√©criture dans lesquelles l'√©criture √©tait la seule transaction prot√©g√©e par verrouillage. </font><font style="vertical-align: inherit;">Cette approche fournit un isolement similaire aux jetons de barrage, mais (comme les jetons de barrage) ne garantit pas l'atomicit√©: un processus peut se bloquer ou perdre un mutex lors d'une mise √† jour comprenant de nombreuses op√©rations, laissant etcd dans un √©tat logiquement incoh√©rent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les r√©sultats du travail sur les enjeux du projet:</font></font><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les montres commen√ßant √† la r√©vision 0 commencent plus tard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - non d√©cid√©;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les verrous reviennent apr√®s le blocage sans v√©rifier la propri√©t√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - en ma√Ætre;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les verrous ne sont pas document√©s comme dangereux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - pas r√©solus.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Discussion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans nos tests, etcd 3.4.3 a r√©pondu aux attentes concernant les op√©rations KV: nous avons observ√© une coh√©rence strictement s√©rialisable des transactions en lecture, √©criture et m√™me multi-cl√©s, malgr√© la suspension des processus, les plantages, la manipulation de l'horloge et du r√©seau, ainsi qu'un changement dans le nombre de membres du cluster . </font><font style="vertical-align: inherit;">Un comportement strictement s√©rialisable a √©t√© impl√©ment√© par d√©faut dans les op√©rations KV; </font><font style="vertical-align: inherit;">la performance des lectures avec l'indicateur </font></font><code>serializable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a entra√Æn√© l'apparition de lectures p√©rim√©es (comme d√©crit dans la documentation). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moniteur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(montres)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour fonctionner correctement - au moins sur les touches individuelles. </font><font style="vertical-align: inherit;">Jusqu'√† ce que la compression de l'historique d√©truise les anciennes donn√©es, la montre a √©mis avec succ√®s chaque mise √† jour de cl√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, il s'est av√©r√© que les verrous dans etcd (comme tous les verrous distribu√©s) ne fournissent pas d'exclusion mutuelle. Diff√©rents processus peuvent maintenir le verrou en m√™me temps - m√™me dans des grappes saines avec des horloges parfaitement synchronis√©es. La documentation avec l'API de verrouillage n'a rien dit √† ce sujet et les exemples de verrous pr√©sent√©s n'√©taient pas s√ªrs. Cependant, certains des probl√®mes avec les verrous ont d√ª dispara√Ætre apr√®s la publication de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ce correctif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suite √† notre collaboration, l'√©quipe etcd a apport√© un certain nombre d'amendements √† la documentation (ils sont d√©j√† apparus sur GitHub et seront publi√©s dans les futures versions du site web du projet). La page API des garanties GitHub indique maintenant que par d√©faut etcd est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strictement s√©rialisable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et l'affirmation selon laquelle le s√©riel et le s√©rialisable sont les niveaux de coh√©rence les plus solides disponibles dans les syst√®mes distribu√©s a √©t√© supprim√©e. En ce qui concerne les r√©visions, il est maintenant indiqu√© que le d√©but doit √™tre √† </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partir de l'unit√© (1)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , bien que la documentation de l'API </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne dise toujours pas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qu'une tentative de d√©marrage √† partir de la 0e r√©vision entra√Ænera ¬´des √©v√©nements de sortie qui se sont produits apr√®s la r√©vision actuelle plus 1¬ª. au lieu de "l'envoi de tous les √©v√©nements". La documentation des probl√®mes de s√©curit√© des verrous est en </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cours d'√©laboration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certaines modifications de la documentation, telles que la description du comportement sp√©cial de etcd lors de la lecture, en commen√ßant par une r√©vision z√©ro, n√©cessitent toujours une attention particuli√®re.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme d'habitude, nous soulignons que Jepsen pr√©f√®re une approche exp√©rimentale de la v√©rification de la s√©curit√©: nous pouvons confirmer la pr√©sence de bugs, mais pas leur absence. </font><font style="vertical-align: inherit;">Des efforts consid√©rables sont d√©ploy√©s pour trouver des probl√®mes, mais nous ne pouvons pas prouver l'exactitude g√©n√©rale de etcd.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.1 Recommandations</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous utilisez des verrous dans etcd, demandez-vous si vous en avez besoin pour la s√©curit√© ou simplement pour augmenter les performances en limitant la simultan√©it√© de mani√®re probabiliste. Les verrous Etcd peuvent √™tre utilis√©s pour augmenter les performances, mais leur utilisation √† des fins de s√©curit√© peut √™tre risqu√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En particulier, si vous utilisez le verrou etcd pour prot√©ger une ressource partag√©e telle qu'un fichier, une base de donn√©es ou un service, cette ressource doit garantir la s√©curit√© </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sans</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> blocage. Une fa√ßon d'y parvenir est d'utiliser un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">jeton de barrage monotone</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il peut s'agir, par exemple, d'une r√©vision etcd associ√©e √† la cl√© de verrouillage en cours. La ressource partag√©e doit s'assurer qu'une fois que le client a utilis√© le jeton</font></font><code>y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour effectuer une op√©ration, toute op√©ration avec un jeton </font></font><code>x &lt; y</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sera rejet√©e. Cette approche ne garantit pas l'atomicit√©, mais elle garantit que les op√©rations dans le cadre du verrouillage sont effectu√©es dans l'ordre et non par intermittence. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pensons que les utilisateurs ordinaires ne rencontreront probablement pas ce probl√®me. Mais si vous </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comptez</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> toujours </font><font style="vertical-align: inherit;">sur la lecture de toutes les modifications de etcd, en commen√ßant par la premi√®re r√©vision, n'oubliez pas que vous devez passer 1, pas 0 comme param√®tre. Nos exp√©riences montrent qu'une r√©vision nulle dans ce cas signifie "r√©vision actuelle", pas "Au plus t√¥t."</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, les verrous et etcd (comme tous les verrous distribu√©s) induisent les utilisateurs en erreur: ils voudront peut-√™tre les utiliser comme des verrous ordinaires, mais ils seront tr√®s surpris lorsqu'ils se rendront compte que ces verrous ne procurent pas d'exclusion mutuelle. </font><font style="vertical-align: inherit;">La documentation de l'API, les articles de blog, les probl√®mes sur GitHub ne disent rien sur ce risque. </font><font style="vertical-align: inherit;">Nous vous recommandons d'inclure dans la documentation etcd des informations indiquant que les verrous ne fournissent pas d'exclusion mutuelle et de fournir des exemples d'utilisation de jetons de barrage pour mettre √† jour le statut des ressources partag√©es au lieu d'exemples pouvant entra√Æner la perte de mises √† jour.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.2 Plans futurs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le projet etcd est consid√©r√© comme stable depuis plusieurs ann√©es: l'algorithme Raft bas√© sur lui a bien fonctionn√©, l'API pour les op√©rations KV est simple et directe. Bien que certaines fonctionnalit√©s suppl√©mentaires aient r√©cemment re√ßu une nouvelle API, sa s√©mantique est relativement simple. Nous pensons que nous avons d√©j√† √©tudi√© suffisamment de commandes de base comme </font></font><code>get</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>put</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, les transactions, le blocage et le suivi. Cependant, d'autres tests doivent √™tre effectu√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le moment, nous n'avons pas proc√©d√© √† une √©valuation suffisamment d√©taill√©e des </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">suppressions.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Il peut y avoir des cas limites associ√©s aux versions et r√©visions, lorsque les objets sont constamment cr√©√©s et supprim√©s. Lors de futurs tests, nous comptons soumettre les op√©rations de retrait √† une √©tude plus approfondie. Nous n'avons pas non plus test√© les requ√™tes de plage ou les op√©rations de suivi avec plusieurs cl√©s, bien que nous suspections que leur s√©mantique soit similaire aux op√©rations avec des cl√©s uniques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les tests, nous avons utilis√© la suspension des processus, les plantages, les manipulations avec l'horloge, le r√©seau a √©t√© divis√© et la composition du cluster a chang√©; dans les coulisses, il y avait des probl√®mes comme des dommages au disque et d'autres </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©checs byzantins</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> au niveau d'un n≈ìud. Ces opportunit√©s pourraient √™tre explor√©es dans de futures recherches. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le travail a √©t√© soutenu par la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud Native Computing Foundation.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, qui fait partie de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la Fondation Linux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et respecte </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les politiques √©thiques de Jepsen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Nous tenons √† remercier l'√©quipe etcd pour son aide, et les repr√©sentants suivants en particulier: Chris Aniszczyk, Gyuho Lee, Xiang Li, Hitoshi Mitake, Jingyi Hu et Brandon Philips.</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS du traducteur</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lisez aussi dans notre blog:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TiKV - base de donn√©es cl√©-valeur distribu√©e pour le cloud natif</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zetcd de CoreOS: Remplacement de ZooKeeper par ... stockage etcd</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KeyDB comme remplacement [potentiel] de Redis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bases de donn√©es et Kubernetes (revue et reportage vid√©o)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ."</font></font></li>
</ul></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487516/index.html">Techniques et tactiques de chasse des attaquants utilisant des fichiers Prefetch</a></li>
<li><a href="../fr487518/index.html">Produits radioactifs. Spectrom√®tre gamma. Partie 2</a></li>
<li><a href="../fr487522/index.html">Nous faisons voler le terminal (partie 1)</a></li>
<li><a href="../fr487524/index.html">Pourquoi un hackathon de d√©marrage mat√©riel a-t-il besoin</a></li>
<li><a href="../fr487528/index.html">–ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º —Å–æ–≥–ª–∞—à–µ–Ω–∏–∏ –∏ –ø–æ–ª–∏—Ç–∏–∫–µ –∫–æ–Ω—Ñ–∏–¥–µ–Ω—Ü–∏–∞–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞ —Å–µ—Ä–≤–∏—Å–∞—Ö –•–∞–±—Ä–∞</a></li>
<li><a href="../fr487538/index.html">.NET Interactive est arriv√©! | Ordinateurs portables .NET Preview 2</a></li>
<li><a href="../fr487540/index.html">HighLoad ++, Anastasia Tsymbalyuk, Stanislav Tselovalnikov (Sberbank): comment nous sommes devenus MDA</a></li>
<li><a href="../fr487542/index.html">PRESENT - Cryptage de blocs ultra-l√©ger (traduction du PRESENT original: Un chiffrement de blocs ultra-l√©ger)</a></li>
<li><a href="../fr487544/index.html">Documentation .NET: Nouveaut√©s de janvier</a></li>
<li><a href="../fr487548/index.html">Nouvelle exp√©rience: appel des services .NET gRPC √† partir d'un navigateur avec gRPC-Web</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>