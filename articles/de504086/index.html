<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üññ üåã ‚è™ Computersystem-Simulatoren - sehen sie wie die Realit√§t aus? ü•ú ‚ôèÔ∏è ü§∞üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In einer einfachen und leicht zug√§nglichen Sprache √ºber grundlegende Begriffe aus dem Bereich der Simulatoren sowie Arten und Detaillierungsgrade von ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Computersystem-Simulatoren - sehen sie wie die Realit√§t aus?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/auriga/blog/504086/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In einer einfachen und leicht zug√§nglichen Sprache √ºber grundlegende Begriffe aus dem Bereich der Simulatoren sowie Arten und Detaillierungsgrade von Modellen. </font><font style="vertical-align: inherit;">Material f√ºr eine einfache und schnelle Bekanntschaft mit diesem Bereich.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n6/ra/jd/n6rajd4edfjmszumvujqoaqtxt8.jpeg" alt="Bild"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn ich vor einiger Zeit nach der Simulation gefragt worden w√§re, w√§re mir als erstes mein Sohn eingefallen, der am Vorabend der Kontrolle in der Schule √ºber seinen kranken Magen spricht. In den letzten zehn Jahren habe ich jedoch mit Simulatoren verschiedener Computersysteme gearbeitet, von Telefonen bis zu Servern, die auf Mikroprozessoren, SOCs (System-On-Chip) und Chips√§tzen eines der gr√∂√üten Hersteller basieren (der Name steht leider unter der NDA), und meine Idee von Die Simulation hat sich ge√§ndert. Aber das Wichtigste zuerst.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin sicher, dass viele von Ihnen auf Simulatoren gesto√üen sind, die oft als virtuelle Maschinen oder Hypervisoren bezeichnet werden. </font><font style="vertical-align: inherit;">Jemand installiert Parallels Studio auf seinem Mac, um Windows unter MacOS auszuf√ºhren. Jemand verwendet ein Produkt von VmWare - Workstation, um ein anderes Betriebssystem (OS) zu installieren, das bereits installiert ist. </font><font style="vertical-align: inherit;">Diejenigen, die mit Linux vertraut sind, bevorzugen KVM und QEMU. </font><font style="vertical-align: inherit;">Ebenfalls beliebt bei den Menschen ist VirtualBox. </font><font style="vertical-align: inherit;">Menschen, die professionell FPGA-basierte Hardware (Programmable Logic Integrated Circuits) entwickeln, kennen VCS von Synopsys und Mentor Graphics Questa. </font><font style="vertical-align: inherit;">Und doch ist dies nur ein kleiner Teil dessen, was man als Simulatoren bezeichnen kann.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist ein Simulator? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Simulator ist ein Modell, normalerweise eine Software, ein reales Ger√§t. </font><font style="vertical-align: inherit;">Dementsprechend ist die Simulation ein Prozess eines solchen Modells, der den Betrieb der Vorrichtung wiederholt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Prinzip k√∂nnen Sie ein Modell f√ºr jedes Ger√§t erstellen. Am h√§ufigsten werden jedoch Simulatoren von Mikroprozessorger√§ten verwendet, d. H. Ger√§te, deren zentrale Komponente ein Mikroprozessor ist, und der Rest der Logik wird bereits darauf aufgebaut. </font><font style="vertical-align: inherit;">Eine der Hauptanwendungen des Simulators besteht darin, Programme zu starten, die f√ºr diesen Mikroprozessor selbst entwickelt wurden. </font><font style="vertical-align: inherit;">Gleichzeitig ist die Verwendung eines realen Ger√§ts aus dem einen oder anderen Grund schwierig. Beispielsweise kann es sein, dass es noch nicht existiert, wenn wir √ºber die Modellierung der zuk√ºnftigen Generation von Mikroprozessoren sprechen.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airbnb in der Simulation - Gast und Gastgeber</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Code, der im Simulator ausgef√ºhrt wird, wird als "Gastcode" bezeichnet. Es kann sich um ein "Gastprogramm" oder das gesamte "Gastbetriebssystem" handeln. </font><font style="vertical-align: inherit;">Das simulierte System selbst wird einfach als "Gast" bezeichnet. </font><font style="vertical-align: inherit;">Das System, der Computer, auf dem der Simulator ausgef√ºhrt wird, wird wiederum als "Host" (englischer Host) bezeichnet, und das Betriebssystem, das auf dem Host ausgef√ºhrt wird, auf dem der Simulator ausgef√ºhrt wird, wird als "Host-Betriebssystem" bezeichnet.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/0z/u-/6c/0zu-6c26huucbitovqa4ln8pjcc.jpeg" alt="Bild"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir k√∂nnen also sagen, dass ein Simulator, der einen bestimmten Satz von Gast-Systemanweisungen implementiert, diese mit den verf√ºgbaren Host-System-Tools simuliert.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulation und Emulation - welcher Name ist richtig?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Modell kann das Ger√§t mit unterschiedlicher Genauigkeit und Detailgenauigkeit wiederholen. </font><font style="vertical-align: inherit;">Oft ist dies eine Simulation nur des externen Verhaltens des Systems, das dem Programmcode zur Verf√ºgung steht. </font><font style="vertical-align: inherit;">Dem Code ist es egal, wie genau dieser oder jener Prozessorbefehl im Inneren implementiert ist - Hauptsache, er funktioniert. </font><font style="vertical-align: inherit;">Diese Version der Simulation ist √ºblich, nicht schwer zu entwickeln und recht schnell, verlangsamt sich auch auf normalen Benutzercomputern nicht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies reicht jedoch nicht aus, wenn wir beispielsweise wissen m√∂chten, wie lange das Programm auf echter Hardware ausgef√ºhrt wird. </font><font style="vertical-align: inherit;">Dies erfordert nicht nur die Modellierung des externen Verhaltens, sondern auch eine Wiederholung der internen Struktur und Logik der Arbeit. </font><font style="vertical-align: inherit;">Dies kann auch mit unterschiedlichen Detail- und Genauigkeitsgraden erfolgen. </font><font style="vertical-align: inherit;">Es ist richtiger, solche Modellemulatoren zu nennen, die das Ger√§t wirklich emulieren, und die Ergebnisse nicht zu "simulieren".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Erstellen von Emulatoren ist aufgrund der gr√∂√üeren Funktionalit√§t, die im Modell implementiert werden muss, viel komplizierter. </font><font style="vertical-align: inherit;">Sie funktionieren auch viel langsamer als Simulatoren des externen Verhaltens des Ger√§ts. </font><font style="vertical-align: inherit;">Bei Emulatoren geht es √ºberhaupt nicht darum, Windows zu starten - es kann Jahre dauern. </font><font style="vertical-align: inherit;">Niemand ist an der Erstellung eines Software-Emulators f√ºr die gesamte Plattform beteiligt - es ist sehr lang und teuer. </font><font style="vertical-align: inherit;">Stattdessen werden einzelne Komponenten des Systems emuliert, z. B. derselbe Zentralprozessor, und nur ein Teil des Simulationsprozesses wird darauf gestartet. </font><font style="vertical-align: inherit;">Verschiedene Hybridschemata sind m√∂glich, wenn ein Teil des Simulators ein Modell auf hoher Ebene ist, ein Teil ein Modell auf niedriger Ebene ist, ein Teil sich in einem FPGA befindet und ein Teil tats√§chlich ein echtes St√ºck Eisen ist.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/j3/yd/ltj3ydvpjsh9jgsczxuqi-cu2x0.jpeg" alt="Bild"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 Ebenen mit Simulationsdetails</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie ich oben geschrieben habe, ist die h√§ufigste Option die Simulation auf der Ebene der Prozessorbefehle, der sogenannten ISA (Instruction Set Architecture) oder genauer das Ergebnis ihrer Ausf√ºhrung, d.h. ohne die gesamte interne Logik zu emulieren, wie dies in einem realen Prozessor geschieht, und ohne die Ausf√ºhrungszeit verschiedener Anweisungen zu ber√ºcksichtigen. Solche Simulatoren werden auch als funktional bezeichnet. So funktionieren VirtualBox, VMware Workstation, Wind River Simics, KVM und QEMU. Auf diese Weise k√∂nnen Sie bequem und ohne unn√∂tige zus√§tzliche Aktionen Programme ausf√ºhren, die f√ºr das simulierte Ger√§t entwickelt wurden. Mit anderen Worten, weder eine Neukompilierung noch andere Manipulationen mit laufenden Programmen sind erforderlich. In solchen F√§llen hei√üt es, dass es m√∂glich ist, unver√§nderten Bin√§rcode auszuf√ºhren.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir von einer h√∂heren Abstraktionsebene sprechen, ist dies die Implementierung eines bestimmten ABI (Application Binary Interface). Kurz gesagt, ABI beschreibt eine bin√§re Schnittstelle f√ºr die Interaktion zweier Programme - normalerweise eines Benutzerprogramms und einer Bibliothek oder eines Betriebssystems. ABI behandelt Aufrufkonventionen (√úbergeben von Parametern und R√ºckgabewerten), Gr√∂√üen von Datentypen und Systemaufrufe. Wie es funktioniert? Wenn ein f√ºr Linux geschriebenes Programm beispielsweise einen zus√§tzlichen Thread (aus dem englischen Thread) zur Ausf√ºhrung erstellen muss, wird die Funktion pthread_create () aufgerufen. Was aber, wenn Sie in Windows eine Bibliothek mit einer solchen Funktion erstellen und die erforderlichen Mechanismen zum Verkn√ºpfen der Anwendung und der Bibliothek implementieren (dynamische Verkn√ºpfung)? In diesem Fall k√∂nnen Linux-Anwendungen unter Windows ausgef√ºhrt werden. Windows "simuliert" Linux.Genau dies wurde im Windows-Subsystem f√ºr Linux unter Windows 10 getan, mit dem Sie unver√§nderte bin√§re Linux-Anwendungen unter Windows ausf√ºhren k√∂nnen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns nun sehen, wie die unteren und detaillierten Simulationsebenen aussehen. Dies ist die Mikroarchitektur-Ebene, auf der echte interne Algorithmen und Prozessorbl√∂cke simuliert werden, z. B. ein Befehlsdecoder, Warteschlangen, eine Verarbeitungseinheit au√üerhalb der Reihenfolge, ein Verzweigungspr√§diktor, ein Cache, ein Scheduler und Z√§hlger√§te selbst. Eine solche Modellierung erm√∂glicht es uns, die tats√§chliche Geschwindigkeit der Programmausf√ºhrung zu analysieren und sie beispielsweise f√ºr vorhandene Architekturen zu optimieren. Bei der Simulation von Prototypen zuk√ºnftiger Mikroprozessoren ist eine Vorhersage und Bewertung der Leistung dieser Ger√§te m√∂glich.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unterhalb der Ebene der mikroarchitektonischen Simulation befindet sich die Ebene der Emulation der logischen Elemente, aus denen moderne Chips bestehen. Solche Emulatoren sind sowohl Software als auch Hardware, die FPGAs verwenden. Die FPGA-Logik wird unter Verwendung von RTL (Register Transfer Level) in den Sprachen Verilog, VHDL usw. beschrieben. Nach der Kompilierung wird ein Bild (Bitstream) erhalten, das dann in das FPGA geflasht wird. Und daf√ºr ist es nicht notwendig, einen L√∂tkolben zu verwenden und die Elektrotechnik zu verstehen. Die Karte ist beispielsweise √ºber eine USB- oder JTAG-Schnittstelle mit einem Computer verbunden, und eine spezielle Software des Herstellers der FPGA-Karte f√ºhrt die Aufzeichnung durch. Die Kosten f√ºr solche Boards reichen von zehn Dollar f√ºr die einfachsten Optionen bis zu Millionen Dollar f√ºr gro√üe FPGA-Boards von der Gr√∂√üe eines Geh√§uses, das in gro√üen Chipherstellern verwendet wird.In solchen Unternehmen ist die FPGA-Simulation die letzte Phase, bevor RTL in Produktion geht.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn es sich um einfache Ger√§te handelt und Sie das FPGA-Image zur Hand haben, k√∂nnen Sie sich an spezialisierte Unternehmen wenden, die ein echtes Ger√§t (kein FPGA) mit programmierter Logik herstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die folgende Abbildung zeigt die beschriebenen Simulationsstufen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jr/zp/yb/jrzpybtaxtzvnzr9rxixvbkifqo.jpeg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zus√§tzlich zu diesen Simulationsstufen musste ich mich auch mit Hybridsimulatoren befassen. Tats√§chlich handelt es sich um miteinander verbundene Simulatoren, die verschiedene Teile des Systems auf verschiedenen Ebenen modellieren. Beispielsweise m√ºssen Sie die Bandbreite einer neuen Netzwerkkarte analysieren, die mit dem Treiber zusammenarbeitet, der f√ºr ein bestimmtes Betriebssystem entwickelt wird. Ein solches Netzwerkger√§t sowie eine Reihe verwandter Ger√§te k√∂nnen zuerst auf der Ebene der Mikroarchitektur zur vorl√§ufigen Analyse und dann im FPGA auf der Ebene der Logikelemente zur endg√ºltigen √úberpr√ºfung implementiert werden. Gleichzeitig wird der Rest des Systems, der nur teilweise beteiligt ist, auf Befehlsebene implementiert. Sie k√∂nnen nicht darauf verzichten, da beispielsweise das Betriebssystem geladen werden muss und es keinen Sinn macht, es auf einer niedrigeren und komplexeren Ebene zu implementieren.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist also mit dem Vergleich von Simulatoren und Realit√§t? </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie jetzt klar ist, gibt es keine Aufgabe, diesen oder jenen Simulator der Realit√§t so √§hnlich wie m√∂glich zu machen. </font><font style="vertical-align: inherit;">Das Unternehmen stellt eine Aufgabe, und die Simulation wird mit dem Grad der ‚Äû√Ñhnlichkeit‚Äú mit der Realit√§t durchgef√ºhrt, der minimal ausreicht, um dieses Problem zu l√∂sen, ohne zus√§tzliches Geld und Zeit zu verschwenden. </font><font style="vertical-align: inherit;">In einem Fall kann es sich um eine einfache Bibliothek handeln, die die erforderliche bin√§re Schnittstelle (ABI) implementiert, und in dem anderen Fall kann auf einen detaillierten Mikroarchitektur-Simulator nicht verzichtet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies sind die grundlegendsten Informationen dar√ºber, was Simulatoren sind und was sie sind. </font><font style="vertical-align: inherit;">Im n√§chsten Artikel werde ich die Details der Implementierung von Vollplattform-Simulatoren, Beat-Modellen und der Arbeit mit Tracks beschreiben.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de504072/index.html">Die ideale Benutzervereinbarung: Wie k√∂nnen Risiken f√ºr Entwickler minimiert werden?</a></li>
<li><a href="../de504074/index.html">Glass Nightmare: S√§uberung des nuklearen Erbes des Kalten Krieges in Hanford</a></li>
<li><a href="../de504080/index.html">Wie Apple- und Google-Mitarbeiter Gesundheitsbeamten dabei helfen, Coronavirus gemeinsam zu verfolgen</a></li>
<li><a href="../de504082/index.html">Was machen wir mit den zus√§tzlichen 1,2 GHz?</a></li>
<li><a href="../de504084/index.html">Entdecken Sie den iOS-Fehler mit Hopper</a></li>
<li><a href="../de504088/index.html">Erweiterte Windows-Protokollierung. Auf der Suche nach Mimikatz</a></li>
<li><a href="../de504092/index.html">Schauen Sie sich zun√§chst JavaScript-Datens√§tze und -Tupel an</a></li>
<li><a href="../de504096/index.html">Optimaler Newbie Way f√ºr C ++ / Qt</a></li>
<li><a href="../de504098/index.html">Dipfake Video ein Bild</a></li>
<li><a href="../de504102/index.html">Einf√ºhrung in Python Functools</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>