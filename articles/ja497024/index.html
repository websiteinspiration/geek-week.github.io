<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💶 👨‍✈️ 🤜🏽 なぜハイパーコンバージェンスなのか？Cisco HyperFlexの概要とテスト 😸 ❣️ 👨🏼‍🔧</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ITでは、主なものは3文字です
 ITインフラストラクチャのタスクは、会社のビジネスプロセスに信頼できるプラットフォームを提供することです。情報技術インフラストラクチャの品質は、アクセス性、セキュリティ、信頼性の3つの主要なパラメータに従って評価されると伝統的に信じられています。ただし、このトリプル...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>なぜハイパーコンバージェンスなのか？Cisco HyperFlexの概要とテスト</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/cti/blog/497024/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ITでは、主なものは3文字です</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ITインフラストラクチャのタスクは、会社のビジネスプロセスに信頼できるプラットフォームを提供することです。情報技術インフラストラクチャの品質は、アクセス性、セキュリティ、信頼性の3つの主要なパラメータに従って評価されると伝統的に信じられています。ただし、このトリプルの評価は、ビジネスおよび会社の直接的な収入/損失とはまったく関係がありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ITを支配する3つの主要な手紙。 「RUB」という文字がIT階層の先頭にない場合は、ITインフラストラクチャが正しく構築されていません。もちろん、ITを直接構築することは、収入/費用からのみでは困難であり、したがって、最も重要なものからよりプライベートなものまで、「3文字」の階層があります。 SLA、RPO、RTO、GRC-これらすべては業界の専門家に知られており、インフラストラクチャの構築に長い間使用されてきました。残念ながら、これらのインジケーターをエンドツーエンドの階層にリンクしているとは限りません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oj/wm/6n/ojwm6n6_0mqymccxwojckh8q4fi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日、多くの企業が、昨日のアーキテクチャに昨日のテクノロジーを使用して、未来に向けたインフラストラクチャを構築しています。</font><font style="vertical-align: inherit;">同時に、ITの急速な発展は、現代のサービスがビジネスだけでなく社会にも根本的に変化していることを示しています。デジタル時代の人々は、数秒で情報にアクセスできることに慣れています。</font><font style="vertical-align: inherit;">ハンバーガーやコーヒーショップなど、理解しにくい技術によるITは、一般の人々にとって当たり前になっています。</font><font style="vertical-align: inherit;">これにより、ITに非常に重要な新しい3つの文字が追加されました。</font><font style="vertical-align: inherit;">これらの文字-TTM（Time to Market）-市場で生産的なサービスを開始する前の時間。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ot/k1/ns/otk1nsmpnwofr1v2bzlexp5a9j8.png"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SDS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一方で、クラーケンは技術の深みから立ち上がり、従来のITとライフスタイルを覆しました。 x86プロセッサの処理能力が向上するにつれて、ソフトウェアストレージシステムが最初の触手となりました。従来のストレージシステムは、「カスタムシリコン」、さまざまな独自のハードウェアアクセラレータ、および特殊なソフトウェアで満たされた非常に特殊な鉄でした。そして、それは暗黒教団の司祭として会社で実際に崇拝された特別に訓練された人によって管理されました。会社で運用しているデータストレージシステムを拡張することは、多くの計算と承認を伴うプロジェクト全体でした。結局、それはコストがかかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
高いコストと複雑さにより、一般的な汎用OS（Windows、Linux、FreeBSD、またはSolaris）を備えた通常のx86ハードウェアの上にソフトウェアストレージシステムが作成されるようになりました。複雑なカスタムハードウェアのソフトウェアのみが残り、カーネルでも機能せず、ユーザーレベルで機能しました。最初のソフトウェアシステムはもちろん非常にシンプルで機能が制限されていました。多くの場合、それらは特殊なニッチソリューションでしたが、時間が経ちました。そして今、大規模なストレージシステムベンダーでさえ、特殊なハードウェアソリューションを放棄し始めています。そのようなシステムのTTMは競争に耐えられなくなり、エラーのコストが非常に高くなりました。実際、まれな例外を除いて、2020年までのクラシックストレージシステムでさえ、最も一般的なx86サーバーになりました。美しいプラスチック製の面と多数のディスクシェルフを備えています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接近中のクラーケンの第2の触手は、象の背中を打破する具体的な柱となったフラッシュメモリテクノロジーの出現と大量採用です。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
磁気ディスクのパフォーマンスは何年も変化しておらず、ストレージコントローラのプロセッサは数百のディスクに完全に対応しています。</font><font style="vertical-align: inherit;">しかし、悲しいかな、量は遅かれ早かれ品質に変わります-そして、ストレージシステムはすでに平均的なレベルにあり、最初のものは言うまでもありません、それは意味のあるフラッシュドライブの数に上限があります。</font><font style="vertical-align: inherit;">一定量（文字通り10ディスクから）では、システムのパフォーマンスは成長を止めることはありませんが、さらに大きなボリュームを処理する必要があるため、システムのパフォーマンスが低下し始める場合もあります。</font><font style="vertical-align: inherit;">結局のところ、コントローラーの処理能力とスループットは、容量を増やしても変化しません。</font><font style="vertical-align: inherit;">理論的には、解決策は、ディスクとプロセッサリソースを備えた多くの独立したシェルフを単一のクラスターに組み立て、外部からは単一のマルチコントローラーストレージシステムとして見えるスケールアウトシステムの出現でした。</font><font style="vertical-align: inherit;">あと一歩でした。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハイパーコンバージェンス</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
未来への最も明白なステップは、以前は異種のデータストレージと処理ポイントの統合でした。言い換えると、分散ストレージを個別のサーバーではなく仮想化ホストに直接実装して、特殊なストレージネットワークと専用ハードウェアを拒否し、機能を組み合わせてみませんか。クラーケンは目を覚ました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、私が言っておきますが、組み合わせは収束です。この愚かな接頭辞ハイパーはどこから来たのですか？</font></font><br>
<blockquote>        .        +  + .    .    ,      “ ”.<br>
…<br>
 ,  ,            ,        .       —       SDS.<br>
<br>
:<br>
<br>
<ul>
<li>  — , ,       ,   /.    .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">統合システム-すべて1つのソース、1つのサポート、1つのパートナー番号から。</font><font style="vertical-align: inherit;">1つのベンダーからの自己組織化と混同しないでください。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、私たちのコンバージドアーキテクチャの用語はすでに採用されていることがわかります。</font><font style="vertical-align: inherit;">監督者と全く同じ状況。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハイパーコンバージドシステム-コンバージドアーキテクチャを備えたコンバージドシステム。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
定義は、記事「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仮想化の一般理論と考古学</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」に基づいています。</font><font style="vertical-align: inherit;">この記事</font><font style="vertical-align: inherit;">の執筆では、活発な役割を果たしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
言及された3つの文字に対するアプリケーションでのハイパーコンバージドアプローチは何ですか？</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最小ボリューム（および最小コスト）から始めます</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストレージ容量はコンピューティング能力とともに増大します</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムの各ノードはそのコントローラーです-「ガラスの天井」の問題が取り除かれます（ディスクはできますが、コントローラーはもう存在しません）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストレージ管理を大幅に簡素化</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後の段落では、ハイパーコンバージドシステムは、ファイバーチャネルポートのキューを管理するために使用される旧モードのストレージ管理者からは非常に嫌われています。</font><font style="vertical-align: inherit;">スペースは、仮想インフラストラクチャ管理コンソールからマウスを数回クリックするだけで割り当てられます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
言い換えれば、クラウドだけがハイパーコンバージドシステムよりも製品の起動が速いですが、クラウドはすべての人に適しているわけではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたが技術管理者であり、ここまで読んだ場合-喜ばしいことですが、一般的な言葉は終わったので、私はCisco Hyperflexシステムの個人的な見解についてお話しします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シスコハイパーフレックス</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シスコが選ばれる理由</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シスコは、主にネットワーク機器市場の主要ベンダーとして知られていますが、同時に、データセンター市場の他のセグメントにも非常に広く存在し、サーバーソリューションとハイパーコンバージドソリューション、および自動化と制御システムの両方を提供しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
驚いたことに、2020年までにまだ人がいます。そして、彼女は彼らを誰から連れて行きますか？」</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シスコはすでに2009年にサーバーへの対応を開始し、当時積極的に成長しているブレードソリューションのパスを選択しました。シスコのアイデアは、匿名の計算機のアプローチを実装することでした。その結果、2つの専用スイッチ（ファブリックインターコネクトと呼ばれていました）と1〜20台のシャーシ（8つのハーフサイズブレード）または最大160台のサーバーで構成されるUCS（Unified Computing System）システムが生まれました。同時に、シャーシは一般​​的に電力を備えた鉄片でバカになり、すべてのロジックとスイッチングはファブリックインターコネクトで行われました。シャーシは、サーバーをホストしてシステムに接続するための単なる方法です。ファブリックインターコネクトは、イーサネット、FC、管理など、外部とのすべてのサーバーの対話を完全に担当します。ブレードとブレード、外部スイッチングを除いて何がそこにあるのか、そしてシャーシの他の誰とも同じではないようです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じ「匿名の計算機」の実装における重要な瞬間。 Cisco UCSの概念の一部として、サーバーにはシリアル番号以外の個性はありません。 MACもWWNも何も。ファブリックインターコネクトを搭載したUCS管理システムは、サーバープロファイルとテンプレートに基づいています。シャーシ内のサーバーのバンドルを接続した後、すべての識別アドレスと識別子が設定された適切なプロファイルを割り当てる必要があります。もちろん、サーバーが12台しかない場合は、ゲームの価値はありません。しかし、少なくとも2つ、または3ダースさえあれば、これは重大な利点です。構成の移行、またはより重要なことには、サーバー構成を適切な量で複製し、変更を多数のサーバーに即座に適用することが簡単かつ迅速になります。基本的に、一連のサーバー（仮想化ファームなど）を単一のエンティティとして管理します。 UCSシステムのフレームワークで提案されたアプローチにより、適切なアプローチにより、管理者の生活を大幅に簡素化し、柔軟性を高め、リスクを大幅に削減できます。そのため、UCSブレードは文字通り2〜3年で西半球で最も売れているブレードプラットフォームになり、今日では世界的に普及しています。 HPEとともに、2つの主要なプラットフォームの1つ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポリシーとテンプレートに基づく統合管理を備えたユニバーサルファクトリに基づく同じアプローチが完全に需要があり、ブレードだけでなくラックサーバーにも適用されることがすぐに明らかになりました。その意味で、ファブリックインターコネクトに接続されたシスコのラックマウントサーバーは、ブレードを非常に普及させるのと同じ利点をすべて得ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日は、ファブリックインターコネクトに接続されたラックマウントサーバー上に構築されたシスコのハイパーコンバージドソリューションであるHyperFlexについて説明します。 HyperFlexを興味深いものにし、レビューで検討する価値があるもの：</font></font><br>
<br>
<ul>
<li>  Cisco   ,  , «» –        ,      HyperFlex;     , ,   ,         HyperFlex    ;</li>
<li>   –          ;  HyperFlex  ,    ,      ;          ,       .</li>
<li> «  » —     « »,       ,       ;</li>
<li>           Fabric Interconnect    Cisco   -,     SAN ,       native FC;</li>
<li>    “” –  ,  ,     ;</li>
<li>   Cisco      ,   ,            ,      ;</li>
<li>  ,      , Cisco        HCI,      , HyperFlex      ,   ,   .</li>
</ul><br>
<h3> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlexは、専用のコントローラーVMを備えた真のハイパーコンバージドシステムです。</font><font style="vertical-align: inherit;">このようなアーキテクチャの主な利点は、さまざまなハイパーバイザーへの移植性の可能性であることを思い出させてください。</font><font style="vertical-align: inherit;">現在、シスコはVMware ESXiとMicrosoft Hyper-Vのサポートを実装していますが、企業セグメントで人気が高まるにつれて、KVMオプションの1つが登場する可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ESXiの例での作業のメカニズムを検討します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VM_DIRECT_PATHテクノロジーを使用するデバイス（キャッシュディスクとストレージレベルのディスク）は、コントローラーVM（以下、CVM）に直接スローされます。</font><font style="vertical-align: inherit;">したがって、パフォーマンスに対するハイパーバイザーディスクスタックの影響を除外します。</font><font style="vertical-align: inherit;">追加のVIBパケットがハイパーバイザー自体にインストールされます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IO Visor：ハイパーバイザーのNFSデータストアのマウントポイントを提供します</font></font></li>
<li>VAAI:   VMware  API  « » </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仮想ディスクブロックは、比較的細分性が低く、クラスター内のすべてのホストに均等に分散されます。ホスト上のVMが何らかのディスク操作を実行すると、ハイパーバイザーのディスクスタックを介して操作がデータストアに移動し、次にIO Visorに移動して、これらのブロックを担当するCVMに移動します。この場合、CVMはクラスター内の任意のホストに配置できます。 IO Visorのリソースは非常に限られているため、もちろんメタデータテーブルはなく、選択は数学的に決定されます。次に、リクエストを受け取ったCVMがそれを処理します。読み取りの場合、キャッシュレベル（RAM、書き込みキャッシュ、読み取りキャッシュ）の1つから、またはホストのディスクからデータを送信します。記録の場合、ローカルジャーナルに書き込み、1つ（RF2）または2つ（RF3）のCVMの操作を複製します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/k_/hq/eq/k_hqeqytlifhbevdrf8r7mk_rv0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、これでこの出版物のフレームワーク内の作業の原理を理解するには十分です。それ以外の場合は、シスコのトレーナーからパンを取って、恥ずかしく思います。</font><font style="vertical-align: inherit;">それほどではありませんが、それでも十分です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模擬試験に関する質問</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-ナビゲーター、アプライアンス！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-36！</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-36は何ですか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-アプライアンスはどうですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日のようなものは、ストレージシステムのほとんどの模擬テストのように見えます。何故ですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
比較的最近まで、ほとんどのストレージシステムはフラットで均一なアクセスが可能でした。これは何を意味するのでしょうか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用可能な合計ディスク容量は、同じ特性を持つディスクから収集されました。たとえば、300個の15kドライブ。そして、パフォーマンスは空間全体で同じでした。階層型ストレージテクノロジーの登場により、ストレージシステムはフラットではなくなりました。パフォーマンスは単一のディスクスペース内で変化します。また、特定のストレージモデルのアルゴリズムと機能に応じて、異なるだけでなく予測不可能でもあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、データのローカリゼーションを伴うハイパーコンバージドシステムが登場しなければ、すべてがそれほど面白くありません。</font><font style="vertical-align: inherit;">ディスクスペース自体の不均一性（タイヤ、フラッシュキャッシュ）に加えて、データコピーの1つがノードのローカルディスクにあるか、ネットワーク経由でアクセスする必要があるかによって、ディスクスペースへのアクセスも不均一になります。</font><font style="vertical-align: inherit;">これはすべて、模擬テストの数は絶対にいくつでもあり得、実際的に意味のあるものについては何も語らないという事実につながります。</font><font style="vertical-align: inherit;">たとえば、実際の生活では決して達成できない広告パンフレットによる自動車の燃料消費量。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイズに関する質問</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
模擬テストの数値の裏側は、プレセールキーボードの下のサイジング数と仕様です。この場合のプリセールスは2つのカテゴリに分けられます。TKがベンダーのコンフィギュレータにばかげてハンマーで打たれるものもあれば、TKがどのように機能するかを理解しているため、2番目はそれを自分で受け取るものもあります。しかし、2番目では、TKに何を書き込んだかを詳細に検討する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご存じのとおり、明確なTKなし-HZの結果。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nk/li/uq/nkliuqyn2iv0ogsigw-nd_m94ky.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際の経験から-顧客の1人との競争でかなり重いハイパーコンバージドシステムのサイジングを行うとき、私はパイロット後に個人的にシステムから負荷インジケーターを取り、それらをTORに記述されたものと比較しました。それは冗談のように判明しました：</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-ラビノビッチ、宝くじで100万を獲得したのは本当ですか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -ああ、誰が言ったの？</font><font style="vertical-align: inherit;">100万ではありませんが、宝くじではなく10ルーブルですが、優先され、当選しませんでしたが、負けました。</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、従来のGIGOの状況-ガベージインガベージアウト-ガベージインレット=出力のガベージ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハイパーコンバージェンスに適用可能な実用的なサイジングは、2つのタイプであることがほぼ保証されています。余裕を持って私たちを受け入れるか、または長い間パイロットを運転して指標を取ることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仕様のサイジングと評価にはもう1つポイントがあります。異なるシステムは異なる方法で構築され、ディスクで異なる動作をします;それらのコントローラーは異なる相互作用をします。したがって、ディスクの数とボリュームの仕様に応じて「直接比較」を比較することは実質的に無意味です。一定のTKがあり、その中で負荷のレベルを理解しています。そして、特定の数のギアボックスがあり、パフォーマンスと信頼性の要件を満たすさまざまなシステムが提供されています。基本的な違いは何ですか、システム1のディスクコストとタイプはどれくらいか、システム2のどちらかがタスクにうまく対処できれば、それらの数は増減します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの場合、パフォーマンスは仮想マシンと同じホスト上にあるコントローラーによって決定されるため、一部のタイプの負荷では、周波数の異なるプロセッサーが異なるクラスターに配置されているため、他のすべての条件が同じであるため、負荷がかなり大きくなる可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、最も経験豊富なプレセールアーキテクトアーキテクチャでも、要件を定式化するよりも正確に、パイロットプロジェクトなしの「まあ、どこかSAM-VOSEM」より正確に仕様を伝えることはできません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/79/su/eq/79sueqtcnez6nz-kop4mp1i4qlq.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スナップショットについて</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlexは、リダイレクトオンライトテクノロジーを使用して、仮想マシンのネイティブスナップショットを実行できます。そしてここでは、スナップショットのさまざまなテクノロジーを検討するために、個別に停止する必要があります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初は、コピーオンライト（CoW）タイプのスナップショットがあり、VMware vSphereネイティブスナップショットを古典的な例として取り上げることができます。動作原理は、VMFSまたはNFS上のvmdkと同じです。これは、VSANなどのネイティブファイルシステムを使用します。 CoWスナップショットを作成した後、元のデータ（ブロックまたはvmdkファイル）が凍結され、凍結されたブロックに書き込もうとすると、コピーが作成され、データが新しいブロック/ファイル（vmdkのデルタファイル）に書き込まれます。その結果、スナップショットツリーが大きくなると、生産的な意味を持たない「偽の」ディスクアクセスの数が増加します。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パフォーマンスの低下/遅延が増大し</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Redirect-on-Write（RoW）スナップショットが発明されました。このスナップショットでは、データを含むブロックのコピーを作成する代わりに、メタデータのコピーが作成され、レコードは遅延や追加の読み取りとチェックなしで続行されます。 RoWスナップショットが正しく実装されていれば、ディスクシステムのパフォーマンスへの影響はほとんどありません。ライブデータ自体ではなくメタデータを操作する2番目の効果は、スナップショットの即時作成だけでなく、VMクローンでもあります。これは、作成直後は領域をまったく占有しません（VMサービスファイルのシステムオーバーヘッドは考慮していません）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして3番目の重要なポイントは、本番システムのRoWをCoWスナップショットから根本的に区別することは、スナップショットの即時削除です。これはそうですか？ただし、CoWスナップショットがどのように機能するか、およびスナップショットの削除は実際には差分削除ではなく、そのコミットであることを覚えておく必要があります。ここで、彼女のコミットの時間は、累積されたデルタのサイズとディスクシステムのパフォーマンスに大きく依存します。 RoWスナップショットは、数テラバイトの差分が蓄積されても、RoWスナップショットの削除（コミット）はメタデータテーブルの更新であるため、即座にコミットされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、ここにRoWスナップショットの興味深いアプリケーションが表示されます-RPOを数十分の値にドロップします。一般的なケースでは、30分ごとにバックアップを作成することはほとんど不可能であり、ほとんどの場合、1日に1回実行されるため、RPOは24時間になります。しかし、同時に、スケジュールに従ってRoWスナップショットを作成し、RPOを15〜30分にして、1〜2日保存することもできます。パフォーマンスにペナルティはなく、容量のみを使います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、いくつかのニュアンスがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ネイティブスナップショットの適切な操作とVMwareとの統合のために、HyperFlexはSentinelと呼ばれる公式のスナップショットを必要とします。 Sentinelスナップショットは、HXConnectを介して特定のVMのスナップショットを最初に作成するときに自動的に作成されます。削除しないでください。スナップショットのリストにあるインターフェースでは、これがSentinelの最初のサービススナップショットであるという事実に我慢する必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6v/xv/fk/6vxvfkz6yuhzkylorocntklep1w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlexスナップショットは、クラッシュコンシステントモードまたはアプリケーションコンシステントモードで実行できます。 2番目のタイプには、VM内の「バッファーのフラッシュ」が含まれ、VMToolsが必要であり、HXConnectスナップショットメニューで[Quiesce]チェックボックスがオンになっている場合に開始されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlexスナップショットに加えて、「ネイティブ」のVMwareスナップショットの使用を禁止する人はいません。</font><font style="vertical-align: inherit;">特定の仮想マシンがどのスナップショットを使用するかを決定し、将来このテクノロジーに焦点を当て、1つのVMのさまざまなスナップショットを「邪魔しない」ようにすることは価値があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストの一環として、スナップショットを作成してFIOを確認しようとしました。</font><font style="vertical-align: inherit;">それでも、はい、スナップショットが実際にRoWであることを確認できます。これらはパフォーマンスに影響を与えません。</font><font style="vertical-align: inherit;">スナップショットは実際にすばやく作成されます（負荷プロファイルとデータセットのサイズに応じて数秒）。その結果によれば、次の推奨事項を提示できます。ロードにランダムな書き込み操作が多数ある場合は、「Quiesce」チェックマークと予備のHXConnectインターフェイスからスナップショットの作成を開始する必要があります。 Sentinelスナップショットの存在。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストプラットフォーム</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のプラットフォームは粘り強い足に落ちました：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 x C220 M4（2630v4 10c x 2.20 GHz、256、800 + 6 * 960）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vSphere 6.7</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HXデータプラットフォーム4.0.2</font></font></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パッチテストをクリア</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CrystalDiskなしでどのようなテストを行いますか？そうです、これは不可能です。通常の人は常に結晶化したディスクを開始します！まあ、それが必要であれば、それは必要です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hp/tl/x5/hptlx5eb-ojjdbwet5l87h6wjx4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クリスタルディスクには、2つのvCPU 4GBとWindows 7を搭載した特別に作成されたVMが作成されました。ああ、それにパッチを当てるのにうんざりしました。テストはロンドンとパリの最高の家の最高の伝統で行われました。つまり、次の次の仕上げの仮想ディスクが1つだけ考えられずに追加され、テストが開始されました。はい、ちなみに、もちろんCrystalDiskMark自体はテストに関与していません。これは単なるインターフェースですが、キットに含まれている有名なDiskSpdパッケージでディスクシステムを直接ロードします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ns/wt/i9/nswti9u6hmne-srf37nniqjevzq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
文字通り私を襲ったもの-何らかの理由で、すべてが右上隅にあるユニットの選択をスキップしました。そして、すべてop！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kg/3y/th/kg3ythef08dpqq3zcsrr20wmq8w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
正直言って、次の次の仕上げモードのマイクロマシンから75万IOPS、1秒あたり1ギガバイトを超えることは期待できませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
控えめに言っても、ロシアのすべての会社がこれらの指標を超える負荷を持っているわけではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMware HCIベンチとNutanix XRayを使用して、HyperFlexに対して「思想的に敵対的」なものとしてさらにテストが行​​われたため、囚人を連れて行かないことが予想されました。数値が非常に近いことが判明したため、XRayパッケージの結果は、より便利なレポーティングシステムと既製のロードテンプレートがあるという単純な理由で基礎として使用されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誰も信用せず、プロセスを完全に制御したい人のために、ハイパーコンバージドプラットフォームで負荷を生成するための独自のシステムの構築に関する私の記事を思い出します-"</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パフォーマンステストgiperkonvergentnyhシステムとSDSを自分の手で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Achtung！</font><font style="vertical-align: inherit;">うわが！</font><font style="vertical-align: inherit;">ポザー！</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それ以降のすべての結果とその解釈は、記事の著者の意見であり、システムの研究の枠組みの中で自分たちで与えられています。</font><font style="vertical-align: inherit;">テストの大部分はベアシンセティックスであり、実際には決して達成できない極端な縮退したケースの最終的な指標を理解するためにのみ適用できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FourCornersマイクロベンチマーク</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4面マイクロテストは、システムの「高速」を評価して、コントローラーの最終的な理論性能とピーク性能を評価するように設計されています。このテストの実用的なアプリケーションは、起動直後にシステムをチェックして、構成エラーや環境エラー、特にネットワークエラーがないかどうかを確認することです。それら。そのようなシステムを定期的に実行している場合は、「すべてが順調である場合」に何を期待する必要があるかがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/im/wl/70/imwl70bqxpwhlum10vhlhm1kbk0.png"><br>
<br>
<img src="https://habrastorage.org/webt/61/xf/ss/61xfss1sc92seaez55-aq_shz2i.png"><br>
<br>
<img src="https://habrastorage.org/webt/4x/38/l7/4x38l7clygg4y5lavoks-lecrfs.png"><br>
<br>
<img src="https://habrastorage.org/webt/si/he/kg/sihekgnrrioansimgwwetryowme.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最終的な数値：280k / 174k IOPS、3.77 / 1.72 GBps（読み取り/書き込み）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コントローラーの動作は？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-_/co/qv/-_coqvha1rwj6l78ng3fl_kowoi.png"><br>
<br>
<img src="https://habrastorage.org/webt/xu/hd/8s/xuhd8szlg-hrwoyeasjl-nqybbm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここから、4つのコントローラーと4つのVM負荷の合計リソース消費量は2.2の49コアであったことがわかります。 VMwareの統計によると、コントローラーのCPU使用率は最大80％でした。実際、パフォーマンスはコントローラー、特にプロセッサーのパフォーマンスによって制限されていました。シーケンシャル操作の速度は、特に10Gネットワ​​ークの速度に対抗しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう一度やってみましょう。最速の2.2GHzプロセッサーではない小さな4ノードクラスターのピークパフォーマンスは、4Uの高さでほぼ30万IOPSです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「ここでは10、20、または40％多い/少ない」という会話は、数字の順序が原因で実質的に意味がありません。制限が80であるにもかかわらず、「240の車を所有でき、280の車を所有できます」と測定を開始するのと同じです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
280k / 4ノードは70k /ノードのピークパフォーマンスを提供します。これは、たとえば、VMware VSAN計算機からの数値を超えています。これは、AFノードがディスクグループごとに46k以下を発行すると想定しています。</font><font style="vertical-align: inherit;">私たちの場合、VMwareの用語では、実際にはx1.8で実行されるディスクグループは1つだけです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データストアブロックサイズの影響</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlexデータストアを作成するときに、データブロックサイズを選択できます-4kまたは8k。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは何に影響しますか？</font><font style="vertical-align: inherit;">同じ四角形テストを実行します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/70/rc/vf/70rcvfpf8-l_zewvlxiawo6lgmm.png"><br>
<br>
<img src="https://habrastorage.org/webt/gd/s6/ys/gds6ysghq6zmspmh1aiprlngtni.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
絵が読書とほとんど同じである場合、反対の記録が重要です。</font><font style="vertical-align: inherit;">四角形テストでは8kの負荷を使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
合計数：280k / 280k、172-158k / 200-180k（4k 8k）。</font><font style="vertical-align: inherit;">ブロックサイズが一致すると、書き込みパフォーマンスの+ 15％が得られます。</font><font style="vertical-align: inherit;">ロード内の小さなブロック（4k）で大量の記録が予想される場合-4kブロックでこの特定のロード用のデータストアを作成します。それ以外の場合は8kを使用します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OLTPシミュレータ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現実に非常に近い絵は別のテストによって与えられます。</font><font style="vertical-align: inherit;">その一部として、トランザクションDBMSに近いプロファイルと6000 + 400 IOPSの負荷レベルで2つのジェネレーターが起動されます。</font><font style="vertical-align: inherit;">ここでは、遅延が測定され、安定した低レベルに留まる必要があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/aw/tb/ty/awtbtyfcnnow6yydbgr28dpgiqc.png"><br>
<br>
<img src="https://habrastorage.org/webt/o9/kd/m1/o9kdm1zv2lksnqi1g7qk8o5gl7m.png"><br>
<br>
<img src="https://habrastorage.org/webt/cp/3n/oh/cp3noh9aqrp7y0kfrdgehpd19xe.png"><br>
<br>
<img src="https://habrastorage.org/webt/rn/qh/0j/rnqh0jmup291dks_4ir4eg1ssu8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VMロードの遅延は1.07 / 1.08 msでした。</font><font style="vertical-align: inherit;">全体として素晴らしい結果ですが、少し熱を加えましょう！</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースコロケーション：高強度</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
突然騒々しい連続した隣人が形成された場合、遅延に応じてトランザクションベースがどのように動作するか。</font><font style="vertical-align: inherit;">まあ、とてもうるさいです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0s/wg/1w/0swg1wykmap5tqivoahd3qymfbe.png"><br>
<br>
<img src="https://habrastorage.org/webt/kr/uy/xh/kruyxhmfiswvbc2tue7whwpwu60.png"><br>
<br>
<img src="https://habrastorage.org/webt/jw/3l/ib/jw3libpbrez473tlexzbilmepyy.png"><br>
<br>
<img src="https://habrastorage.org/webt/p1/4g/2j/p14g2jumznxoh8oyw2y1f3slyge.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、ノード1のOLTPベースは0.85ミリ秒の遅延で4200 IOPSを生成します。</font><font style="vertical-align: inherit;">DSSシステムが一連の操作で突然リソースを消費し始めたらどうなりますか？</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ノード2と3の2つのジェネレーターは、それぞれ1.18 / 1.08 GBpsでプラットフォームをロードし、合計で2.26 GBpsです。</font><font style="vertical-align: inherit;">もちろん、OLTPの遅延は大きくなり、平坦ではなくなりますが、平均値は1.85msのままで、ベースは問題なく4200 IOPSを受け取ります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スナップショットへの影響</font></font></h3><br>
<img src="https://habrastorage.org/webt/n0/eo/w8/n0eow8pfcfna7kqwhrt0xblqq8g.png"><br>
<br>
<img src="https://habrastorage.org/webt/-a/0h/dl/-a0hdlvysga1zwnpwtyvb1zq1_c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムは、OLTPベースで1時間に1回、いくつかのスナップショットを順番に取得します。</font><font style="vertical-align: inherit;">Nutanix XRayは独自のスナップショットを除いてネイティブスナップショットを操作する方法を知らないため、スケジュールには驚くべきことは何もありません。さらに、これは一般にVMwareクラシックスナップショットの動作の指標です。</font><font style="vertical-align: inherit;">すべてのヨーグルトが同等に役立つわけではないため、vSphereスナップショットを定期的に使用する必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlexのネイティブスナップショットはより効果的に機能します。スナップショットを使用すると、髪が柔らかく滑らかになります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビッグデータの取り込み</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperFlexは、連続してアップロードされた大量のデータをどのように消化しますか？</font><font style="vertical-align: inherit;">1TBとしましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0f/ll/m7/0fllm7dze4walp1c2xff9msn-wg.png"><br>
<br>
<img src="https://habrastorage.org/webt/vx/go/ig/vxgoigfhqqpqguabodmsmklgmma.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストには27分かかりました。これには、発電機のクローン作成、調整、起動が含まれます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スループットのスケーラビリティ</font></font></h3><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、クラスタ全体を徐々にロードし、安定した数値を確認します。ランダム読み取りから始めて、次に書き込みます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/iu/kb/jy/iukbjyoms8btipiqv8ckw7-oikg.png"><br>
<br>
<img src="https://habrastorage.org/webt/zw/zj/gy/zwzjgyqeu9wn4ofiatztt5umy70.png"><br>
<br>
<img src="https://habrastorage.org/webt/zd/eu/r2/zdeur21emet_sylypa1p7btvg9c.png"><br>
<br>
<img src="https://habrastorage.org/webt/_u/z1/_p/_uz1_p1ht5ll4bihnaeuxj_znoa.png"><br>
<br>
<img src="https://habrastorage.org/webt/-c/ms/o4/-cmso46htkcgb6ixeetyowyninq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スムーズなシェルフで、マシン負荷のパフォーマンスが78kから55-57k IOPSに徐々に低下する安定した画像が表示されています。同時に、全体的なパフォーマンスは78から220k IOPSに着実に向上しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/to/cj/w0/tocjw0zga3ug1recbqb8oa133sq.png"><br>
<br>
<img src="https://habrastorage.org/webt/3z/nt/df/3zntdf3yigfx_acxr0ra6n5nwfa.png"><br>
<br>
<img src="https://habrastorage.org/webt/od/4x/jh/od4xjhnjcvxthkezbcrncc33c5a.png"><br>
<br>
<img src="https://habrastorage.org/webt/mu/zj/mz/muzjmzjtko49unkx1iwzzm_zzo0.png"><br>
<br>
<img src="https://habrastorage.org/webt/v4/wr/0j/v4wr0jbbzvpfz94majmfgisny1m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
録音は少し滑らかではありませんが、車あたり64kから19-21kの安定した棚です。同時に、コントローラーの負荷が大幅に軽減されます。読み取り中に合計プロセッサ負荷レベルが44から109に増加した場合、記録時に57 GHzから73 GHzに。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、ハイパーコンバージドシステムの機能の最も単純で最も明白な例を確認できます。唯一のコンシューマーは、システムのすべてのリソースを完全に利用できず、負荷が追加されても、パフォーマンスの大幅な低下はありません。</font><font style="vertical-align: inherit;">私たちが目撃している低下はすでに、すべてを最後の低下まで絞るように設計された極端な合成負荷の結果です。これは通常の製品ではほとんどありません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OLTPの破壊</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このときまでに、HyperFlexの予測可能性は退屈なものにさえなりました。</font><font style="vertical-align: inherit;">何かを壊す緊急の必要性！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nw/rq/da/nwrqdazu_dn_gpyg6cdu3z0paju.png"><br>
<br>
<img src="https://habrastorage.org/webt/wr/fw/ks/wrfwkshatwbjd5gr2rvvtevdf8s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
赤い点は、負荷のあるホストの1つでコントローラーVMがシャットダウンした瞬間を示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、HyperFlexでの再構築はディスクが失われた場合にのみ直ちに開始され、ノードが失われた場合のタイムアウトは2時間です。強制再構築の瞬間は緑のドットでマークされます。</font></font><br>
<br>
<pre><code class="plaintext hljs">login as: admin<font></font>
 HyperFlex StorageController 4.0(2a)<font></font>
admin@192.168.***.***'s password:<font></font>
&lt;b&gt;admin@SpringpathController0VY9B6ERXT:~$&lt;/b&gt; stcli rebalance status<font></font>
rebalanceStatus:<font></font>
    percentComplete: 0<font></font>
    rebalanceState: cluster_rebalance_not_running<font></font>
rebalanceEnabled: True<font></font>
&lt;b&gt;admin@SpringpathController0VY9B6ERXT:~$&lt;/b&gt; stcli rebalance start -f<font></font>
msgstr: Successfully started rebalance<font></font>
params:<font></font>
msgid: Successfully started rebalance<font></font>
&lt;b&gt;admin@SpringpathController0VY9B6ERXT:~$&lt;/b&gt; stcli rebalance status<font></font>
rebalanceStatus:<font></font>
    percentComplete: 16<font></font>
    rebalanceState: cluster_rebalance_ongoing<font></font>
rebalanceEnabled: True<font></font>
&lt;b&gt;admin@SpringpathController0VY9B6ERXT:~$&lt;/b&gt;</code></pre><br>
<img src="https://habrastorage.org/webt/sh/ry/qo/shryqousd3rdr6w7pwmdemcjpzk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オペレーションは数秒間フリーズし、再び継続し、ほとんど再構築に気づきました。</font><font style="vertical-align: inherit;">クラスターの過負荷から離れているときは、安定した状態です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
競合他社の数が少ないのに、なぜ2時間シスコは問題ではないのですか？</font><font style="vertical-align: inherit;">シスコは、残念ではないマシンを除くすべてのデータ保護の基本レベルとしてRF3を使用することを強くお勧めします。</font><font style="vertical-align: inherit;">あなたはパッチをインストールするか、ホストで何かをすることに決めました、それをオフにします。</font><font style="vertical-align: inherit;">そして、その瞬間に別のホストに障害が発生する可能性があります。RF2の場合はすべてが問題となり、RF3ではデータのアクティブなコピーが1つ存在します。</font><font style="vertical-align: inherit;">そして確かに、RF3への復旧が始まるまで、RF2の事故で2時間生き残ることはかなり可能です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全に壊して！</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
速報-速報。</font><font style="vertical-align: inherit;">全負荷。</font><font style="vertical-align: inherit;">この場合、実際の負荷に似たプロファイル（70％読み取り、20％ランダム、8k、6d 128q）でテストを作成しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4k/6l/rr/4k6lrrwh29qbybibwy2_gvq9y-e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CVMがオフになった場所、および再構築はどこから始まったのでしょうか。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0h/ur/am/0huramdwazcpyvzycht-hn1bwks.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
再構築の状況では、HyperFlexは非常にうまく機能しました。トマトの負荷がかかっている場合でも、パフォーマンスの壊滅的な低下や遅延の複数の増加を引き起こすことはありませんでした。</font><font style="vertical-align: inherit;">私が本当に欲しい唯一のことは親愛なるシスコです、タイムアウトをデフォルトですべて同じ2時間未満にしてください。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">調査結果</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結論として、私はテストの目的を思い出します。履歴を考慮せずに今日Cisco HyperFlexシステムを調査し、合成を使用してそのパフォーマンスを調査し、実際の製品への適用性について結論を出します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、パフォーマンス。パフォーマンスは非常に良いので、ここでは他のコメントはしません。テストには前世代のシステムがあったので、1つだけ言えることがあります。HyperFlexオールフラッシュでは、容量ではなく、プロセッサ、メモリ、ディスクではありません。スーパーロードされたアプリケーションのおそらく1％を除いて、個人的にそれらと会話を行う必要があります。ネイティブRoWスナップショットが機能します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まとめ2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、可用性によって。障害が検出された後、システムは、データコピーの数を復元する際に（時々パフォーマンスが低下することなく）非常にうまく機能します。リカバリを開始する前の2時間のデフォルトタイムアウト（ホストが失われた場合）にはわずかな不満がありますが、強く推奨されるRF3を考えると、これはより厄介です。ディスク障害後のリカバリはすぐに始まります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まとめ3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、価格と競合他社との比較。</font><font style="vertical-align: inherit;">システムの価格は、特定のプロジェクトの構成に応じて何度も変動する可能性があります。</font><font style="vertical-align: inherit;">プロジェクトコストの大部分は、インフラストラクチャプラットフォーム上で動作するライセンスシステムとアプリケーションソフトウェアです。</font><font style="vertical-align: inherit;">したがって、競合他社と比較する唯一の方法は、特定のプロジェクトの会社の技術要件を満たす特定の商用オファーを比較することです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終的な結論</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：システムは機能しており、2020年4月の製品での使用にはかなり成熟しています。ただし、ベンダーの推奨事項を読み、適用するのではなく、喫煙する場合です。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja497010/index.html">市場低迷期への投資：証券取引所での行動のための3つの戦略</a></li>
<li><a href="../ja497014/index.html">QAエンジニアまたはテスターは誰ですか？</a></li>
<li><a href="../ja497016/index.html">4月13日Javaダイジェスト</a></li>
<li><a href="../ja497020/index.html">人気のデジタル署名サービスであるDocuSignがGlobalSignインフラストラクチャをサポートするようになりました</a></li>
<li><a href="../ja497022/index.html">企業ネットワークアクセスの更新。新しいExtremeSwitching X435ギガビットスイッチ</a></li>
<li><a href="../ja497028/index.html">Robot Operating System MeetUpへようこそ</a></li>
<li><a href="../ja497030/index.html">EVPN VXLANとCisco ACIに基づくネットワークファクトリの実装経験、および小規模な比較</a></li>
<li><a href="../ja497032/index.html">サービスビジネスと危機：サクセスストーリー。枠を超えた考え方はどのように役立ちますか</a></li>
<li><a href="../ja497034/index.html">Nordicの新しいnRF Connect SDKとは何ですか？進化、革命、あるいは代替？</a></li>
<li><a href="../ja497036/index.html">ビデオシーケンス認識プロセスをいつ停止するのですか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>