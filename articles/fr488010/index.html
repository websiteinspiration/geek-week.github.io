<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåΩ üë∂üèæ üç• Outils de conception pilot√©s par domaine ü§ôüèæ üìú üï∫üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="La baleine bleue est un excellent exemple de la fa√ßon dont la conception d'un projet complexe a mal tourn√©. La baleine ressemble √† un poisson, mais c'...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Outils de conception pilot√©s par domaine</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/oleg-bunin/blog/488010/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La baleine bleue est un excellent exemple de la fa√ßon dont la conception d'un projet complexe a mal tourn√©. La baleine ressemble √† un poisson, mais c'est un mammif√®re: elle nourrit les petits avec du lait, elle a de la laine, et les os de l'avant-bras et des mains avec les doigts sont toujours conserv√©s dans les nageoires, comme sur terre. Il vit dans les oc√©ans, mais ne peut pas respirer sous l'eau, il monte donc r√©guli√®rement √† la surface pour avaler de l'air, m√™me quand il dort. La baleine est le plus grand animal du monde, avec la longueur d'une maison de neuf √©tages, et pesant comme 75 voitures Volkswagen Touareg, mais pas un pr√©dateur, mais se nourrit de plancton.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque les d√©veloppeurs ont travaill√© sur la baleine, ils n'ont pas commenc√© √† tout √©crire √† partir de z√©ro, mais ont utilis√© l'exp√©rience d'anciens projets. Il semble √™tre bricol√© √† partir de parties incompatibles du code qui n'ont pas √©t√© test√©es, et toute la conception s'est r√©sum√©e √† choisir un cadre et un ¬´cycle¬ª urgent d√©j√† en production. En cons√©quence, le projet s'est av√©r√© beau en apparence, mais avec des morceaux d'h√©ritage dense et des b√©quilles sous le capot. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/to/9e/qb/to9eqb8yxhrfep8tl32q9augiv4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cr√©er des projets qui aident les entreprises √† gagner de l'argent, plut√¥t que de ressembler √† un animal marin qui ne peut pas respirer sous l'eau, il existe DDD. Il s'agit d'une approche qui ne se concentre pas sur les outils ou le code, mais sur l'√©tude du domaine, les processus m√©tier individuels et le fonctionnement du code ou des outils pour la logique m√©tier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que DDD et quels outils sont l√†-dedans, nous le dirons dans un article bas√© sur le rapport</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artyom Malyshev</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">L'approche DDD en Python, les outils, les pi√®ges, la programmation des contrats et la conception des produits autour du probl√®me √† r√©soudre, plut√¥t que le cadre utilis√©, sont tous sous la coupe.</font></font><br>
<a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/LqTPRCLZffE" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√©sentation compl√®te du rapport</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artem Malyshev</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proofit404</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) - un d√©veloppeur ind√©pendant, √©crit en Python pendant 5 ans, a activement aid√© Django Channels 1.0. </font><font style="vertical-align: inherit;">Plus tard, il s'est concentr√© sur les approches architecturales: il a √©tudi√© les outils qui manquent aux architectes Python et a commenc√© un projet de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dry-python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Co-fondateur de Drylabs.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Complexit√©</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qu'est-ce que la programmation?</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La programmation est une lutte constante avec la complexit√© que les d√©veloppeurs eux-m√™mes cr√©ent lorsqu'ils essaient de r√©soudre des probl√®mes.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La complexit√© est divis√©e en deux types: introduite et naturelle. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'introduit</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s'√©tend avec les langages de programmation, les frameworks, les OS, le mod√®le asynchrone. </font><font style="vertical-align: inherit;">Il s'agit d'un </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©fi technique</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui ne s'applique pas aux entreprises. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> complexit√© </font><strong><font style="vertical-align: inherit;">naturelle</font></strong><font style="vertical-align: inherit;"> est cach√©e dans le produit et simplifie la vie des utilisateurs - pour cela, les gens paient de l'argent.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les bons ing√©nieurs devraient r√©duire la complexit√© suppl√©mentaire et augmenter le naturel pour augmenter l'utilit√© du produit.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mais nous, les programmeurs, sommes des gens complexes et nous aimons ajouter de la complexit√© technique aux projets. Par exemple, nous ne nous sommes pas pr√©occup√©s des normes de codage, nous n'avons pas utilis√© de linter, des pratiques de conception modulaire et nous avons re√ßu beaucoup de code de style dans les projets </font></font><code>if c==1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment travailler avec un tel code? Lisez beaucoup de fichiers, comprenez les variables, les conditions, et quand et comment tout cela fonctionnera. Ce code est difficile √† garder √† l'esprit - une complexit√© ajout√©e absolument technique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre exemple de complexit√© suppl√©mentaire est mon ¬´enfer de rappel¬ª pr√©f√©r√©. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pa/1h/s5/pa1hs5z7giwwav8wxyvbllgqdaw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque nous √©crivons dans le cadre de l'architecture orient√©e √©v√©nement (EDA) et choisissons un cadre moderne pas si bon, nous obtenons un code dans lequel il n'est pas clair ce qui se passe et quand. Il est difficile de lire un tel code - c'est encore la complexit√© suppl√©mentaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les programmeurs adorent non seulement les difficult√©s techniques, mais argumentent √©galement lequel est le meilleur:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AsyncIO ou Gevent;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL ou MongoDB;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python ou Go;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Emacs ou Vim;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tabulations ou espaces;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La bonne r√©ponse d'un bon programmeur √† toutes ces questions: "√áa ne fait aucune diff√©rence!" </font><font style="vertical-align: inherit;">Les bons d√©veloppeurs ne discutent pas des chevaux sph√©riques dans le vide, mais r√©solvent les probl√®mes commerciaux et travaillent sur l'utilit√© du produit. </font><font style="vertical-align: inherit;">Certains d'entre eux ont depuis longtemps √©tabli un ensemble de pratiques qui r√©duisent la complexit√© introduite et vous aident √† r√©fl√©chir davantage sur l'entreprise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'un d'eux est </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eric Evans</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">En 2004, il a √©crit le livre Domain Driven Design. </font><font style="vertical-align: inherit;">Elle a ¬´tir√©¬ª et a donn√© une impulsion √† r√©fl√©chir davantage sur l'entreprise, et √† pousser les d√©tails techniques √† l'arri√®re-plan.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/v6/4p/kr/v64pkrz6lrqylss53fxhvojvock.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que DDD?</font></font></h2><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D'abord une solution au probl√®me, puis des outils</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Tout d'abord, Evans a investi dans le concept de DDD, que ce n'est pas une technologie, mais une philosophie. En philosophie, vous devez d'abord r√©fl√©chir √† la fa√ßon de r√©soudre le probl√®me, puis seulement √† l'aide de quels outils. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Travailler sur des mod√®les avec des experts en la mati√®re et des d√©veloppeurs de logiciels.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous devons communiquer avec les gens d'affaires: chercher un langage commun, construire un mod√®le du monde dans lequel notre produit fonctionnera et r√©soudre les probl√®mes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âcrire un logiciel qui exprime explicitement des mod√®les</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La diff√©rence la plus importante entre DDD et une simple collaboration au sein d'une √©quipe est que nous devons √©crire des logiciels dans le m√™me style que nous parlons avec des experts du domaine. </font><font style="vertical-align: inherit;">Toute la terminologie, les approches de la discussion et la prise de d√©cision doivent √™tre stock√©es dans le code source afin que m√™me une personne non technique puisse comprendre ce qui s'y passe. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parlez la m√™me langue avec les entreprises</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">DDD est une philosophie sur la fa√ßon de parler le m√™me langage avec des experts commerciaux dans un domaine sp√©cifique et d'appliquer la terminologie √† ce domaine. </font><font style="vertical-align: inherit;">Nous avons une langue ou un dialecte commun dans le contexte li√©, que nous consid√©rons comme vrai. </font><font style="vertical-align: inherit;">Nous cr√©ons des fronti√®res autour des solutions architecturales.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDD n'est pas une question de technologie.</font></font></blockquote><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D'abord, la partie technique, ensuite - DDD.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le sculpteur qui sculpte la statue dans la pierre ne lit pas le manuel sur la fa√ßon de tenir un marteau et un burin - il sait d√©j√† travailler avec eux. Pour int√©grer DDD dans votre projet, ma√Ætrisez la partie technique: apprenez Django jusqu'au bout, lisez le tutoriel et arr√™tez de vous demander si vous souhaitez utiliser PostgreSQL ou MongoDB. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La plupart des motifs de conception et des motifs sont des bruits techniques.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La plupart des mod√®les que nous connaissons et utilisons sont techniques. Ils disent comment r√©utiliser le code, comment le structurer, mais ils ne disent pas comment l'utiliser pour les utilisateurs, les entreprises et mod√©liser le monde ext√©rieur. Par cons√©quent, les usines ou les classes abstraites sont vaguement li√©es √† DDD.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier livre ¬´bleu¬ª est sorti il ‚Äã‚Äãy a pr√®s de 20 ans. Les gens ont essay√© d'√©crire dans ce style, ont march√© un r√¢teau et ont r√©alis√© que la philosophie est bonne, mais en pratique incompr√©hensible. Par cons√©quent, un deuxi√®me livre est apparu - "rouge", sur la fa√ßon dont les programmeurs pensent et √©crivent en DDD. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j3/nf/dd/j3nfdd-vnh3shjuuxvxrh7ogwj8.jpeg"><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les livres ¬´rouge¬ª et ¬´bleu¬ª sont les piliers sur lesquels repose tout DDD. </font></font></em><br>
<br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remarque. Les livres rouges et bleus sont une source unique d'informations sur DDD, mais ils sont lourds. Les livres ne sont pas faciles √† lire: dans l'original en raison de la langue et des termes complexes, et en russe en raison d'une mauvaise traduction. Par cons√©quent, commencez √† apprendre DDD avec un </font></font></em><font style="vertical-align: inherit;"><em><font style="vertical-align: inherit;">livre </font></em></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vert</font></font></em></a><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il s'agit d'une version simplifi√©e des deux premiers avec des exemples plus simples et des descriptions g√©n√©rales. Mais c'est mieux que si les livres rouges et bleus battaient votre d√©sir d'√©tudier et d'appliquer le DDD. Il vaut mieux lire dans l'original.</font></font></em><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le livre rouge ignore l'id√©e de la meilleure fa√ßon d'int√©grer DDD dans le projet, de structurer le travail autour de cette approche. </font><font style="vertical-align: inherit;">Une nouvelle terminologie appara√Æt - ¬´Model-Driven Design¬ª, dans laquelle notre mod√®le du monde ext√©rieur est mis en premier lieu. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bq/oj/65/bqoj653kebtxlaj7fkvbcx8xhq8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le seul endroit o√π la technologie est choisie est Smart UI. </font><font style="vertical-align: inherit;">Il s'agit d'une couche entre le monde ext√©rieur, l'utilisateur et nous (une r√©f√©rence √† Robert Martin et √† son architecture propre avec des couches). </font><font style="vertical-align: inherit;">Comme vous pouvez le voir, tout va au mod√®le. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce qu'un mod√®le? </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C'est la douleur fant√¥me de tout architecte. </font><font style="vertical-align: inherit;">Tout le monde pense que c'est UML, mais ce n'est pas le cas.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un mod√®le est un ensemble de classes, de m√©thodes et de liens entre eux qui refl√®tent les sc√©narios m√©tier du programme.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le mod√®le refl√®te un objet r√©el avec toutes les propri√©t√©s et fonctions n√©cessaires. </font><font style="vertical-align: inherit;">Il s'agit d'une bo√Æte √† outils de haut niveau pour prendre des d√©cisions du point de vue des analyses de rentabilisation. </font><font style="vertical-align: inherit;">Les m√©thodes et les classes, cependant, sont une bo√Æte √† outils de bas niveau pour les solutions architecturales.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python sec</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour combler le cr√©neau du mod√®le, j'ai commenc√© un projet de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">python sec</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui est devenu une </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">collection de biblioth√®que architecturale de haut niveau</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour la construction de Model Driven Design. </font><font style="vertical-align: inherit;">Chacune des biblioth√®ques essaie de fermer un cercle dans l'architecture et n'interf√®re pas avec l'autre. </font><font style="vertical-align: inherit;">Les biblioth√®ques peuvent √™tre utilis√©es s√©par√©ment ou ensemble si vous en avez le go√ªt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/un/kb/am/unkbampyzrvkbwwjwd4amsiahuw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La s√©quence du r√©cit correspond √† la chronologie de l'ajout optimal de DDD au projet - par couches. </font><font style="vertical-align: inherit;">La premi√®re couche est les </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">services</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , une description des sc√©narios (processus) commerciaux dans notre syst√®me. </font><font style="vertical-align: inherit;">La biblioth√®que Stories est responsable de cette couche.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Histoires</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les sc√©narios d'entreprise sont divis√©s en trois parties:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp√©cification</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - une description du processus op√©rationnel;</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'√©tat</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans lequel le sc√©nario d'entreprise peut exister</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mise en ≈ìuvre de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> chaque √©tape du script.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces pi√®ces ne doivent pas √™tre m√©lang√©es. </font><font style="vertical-align: inherit;">La biblioth√®que Stories s√©pare ces parties et trace une ligne claire entre elles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consid√©rez l'introduction de DDD et Stories avec un exemple. </font><font style="vertical-align: inherit;">Par exemple, nous avons un projet sur Django avec un m√©li-m√©lo de signaux Django et des mod√®les obscurs ¬´√©pais¬ª. </font><font style="vertical-align: inherit;">Ajoutez-y un package de services vide. </font><font style="vertical-align: inherit;">En utilisant la biblioth√®que Stories en plusieurs parties, nous r√©√©crivons ce hachage dans un ensemble de scripts clair et compr√©hensible dans notre projet. </font></font><br>
<img src="https://habrastorage.org/webt/lo/r9/st/lor9stle7ok2tx_eiv4nx931abs.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sp√©cification DSL. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La biblioth√®que vous permet d'√©crire une sp√©cification et fournit DSL pour cela. </font><font style="vertical-align: inherit;">C'est une fa√ßon de d√©crire les actions des utilisateurs √©tape par √©tape. </font><font style="vertical-align: inherit;">Par exemple, pour acheter </font></font><code>subscription</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, je poursuis plusieurs √©tapes: je vais trouver une commande, v√©rifier la pertinence du prix, v√©rifier si l'utilisateur peut se le permettre. </font><font style="vertical-align: inherit;">Il s'agit d'une description de haut niveau. </font></font><br>
<img src="https://habrastorage.org/webt/pf/uy/rk/pfuyrkvzoktrxxjurabhbzfwmka.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contrat.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En dessous de cette classe, nous r√©digerons un contrat pour l'√©tat du sc√©nario commercial. Pour ce faire, nous d√©signons le domaine des variables qui surviennent dans le processus m√©tier, et pour chaque variable, nous attribuons un ensemble de validateurs. </font></font><br>
<img src="https://habrastorage.org/webt/e0/qy/de/e0qydendpyyrti651302r_6dxnm.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√®s que quelqu'un essaie d'affecter une variable √† cette zone dans le cadre du processus m√©tier, un ensemble de validateurs sera √©labor√©. Nous serons s√ªrs que l'√©tat du processus √† l'ex√©cution fonctionne toujours. Sinon, il tombe douloureusement et crie fort √† ce sujet. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âtape de mise en ≈ìuvre de chaque √©tape</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans la m√™me classe, </font></font><code>subscription</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous √©crivons un ensemble de m√©thodes dont les noms correspondent aux √©tapes m√©tier. Chaque m√©thode d'entr√©e re√ßoit un √©tat avec lequel elle peut fonctionner, mais n'a pas le droit de le modifier. La m√©thode peut renvoyer un marqueur et un rapport:</font></font><br>
<br>
<ul>
<li>  ,       ()   ;</li>
<li>  -   ,      .</li>
</ul><br>
<img src="https://habrastorage.org/webt/ny/pe/_-/nype_-46uz-nuannwmrcfsrhojq.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe des marqueurs plus complexes: ils peuvent confirmer que l'√âtat fonctionne, sugg√©rer de supprimer ou de modifier certaines parties du processus m√©tier. Vous pouvez √©galement √©crire en classe. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lancez l'histoire.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Comment ex√©cuter Story lors de l'ex√©cution? Il s'agit d'un objet m√©tier qui fonctionne comme une m√©thode: on transf√®re des donn√©es √† l'entr√©e, il les valide, interpr√®te les √©tapes. L'histoire en cours d'ex√©cution se souvient de l'historique d'ex√©cution, enregistre l'√©tat qui s'y est produit dans le processus m√©tier et nous indique </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui a influenc√© cet √©tat</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<img src="https://habrastorage.org/webt/o7/e7/s5/o7e7s53zun6l9mprpqg-vkerp-s.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Barre d'outils de d√©bogage.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si nous √©crivons dans Django et utilisons le panneau de d√©bogage, nous pouvons voir quels sc√©narios commerciaux ont √©t√© trait√©s dans chaque demande et leur statut. </font></font><br>
<img src="https://habrastorage.org/webt/i8/td/aq/i8tdaqss6_wf7uk0e6sdifdqhau.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Py.test</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Si nous √©crivons dans py.test, pour le test √©chou√©, nous pouvons voir quels scripts m√©tier ont √©t√© ex√©cut√©s sur chaque ligne et ce qui n'a pas fonctionn√©. C'est pratique - au lieu de choisir le code, nous lisons la sp√©cification et comprenons ce qui s'est pass√©. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4f/pr/gc/4fprgcpruxp3bbpgcapv7rc44je.png"><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sentinelle.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Encore mieux, lorsque nous obtenons l'erreur 500. Dans un syst√®me normal, nous le supportons et commen√ßons √† enqu√™ter. Dans Sentry, un rapport d√©taill√© appara√Ætra sur ce que l'utilisateur a fait pour commettre l'erreur. Il est pratique et agr√©able quand √† 3 heures du matin de telles informations ont √©t√© collect√©es pour vous. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qk/dy/js/qkdyjspvszlg7vzy803gfqmpt5k.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ELK</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Maintenant, nous travaillons activement sur un plugin qui √©crit tout cela dans Elasticsearch dans la pile Kibana et construit des index comp√©tents. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/df/7i/7d/df7i7dk01va0ekvv7sxlkdhz9pg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, nous avons un contrat pour le statut d'un processus m√©tier. Nous savons ce qu'il y a, par exemple,</font></font><code>relation ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rapport. </font><font style="vertical-align: inherit;">Au lieu de recherches archa√Øques sur ce qui s'est pass√© l√†-bas, nous √©crivons une demande √† Kibana. </font><font style="vertical-align: inherit;">Il affichera toutes les histoires li√©es √† un utilisateur sp√©cifique. </font><font style="vertical-align: inherit;">Ensuite, nous examinons l'√©tat de nos processus commerciaux et de nos sc√©narios commerciaux. </font><font style="vertical-align: inherit;">Nous n'√©crivons pas une seule ligne de code de consignation, mais le projet est consign√© au niveau m√™me d'abstraction auquel nous sommes int√©ress√©s de regarder. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais je veux quelque chose de plus haut niveau, par exemple, des objets l√©gers. </font><font style="vertical-align: inherit;">Ces objets contiennent des structures de donn√©es et des m√©thodes alphab√©tis√©es qui se rapportent √† l'adoption de d√©cisions commerciales et non √† l'utilisation de la base de donn√©es, par exemple. </font><font style="vertical-align: inherit;">Par cons√©quent, nous passons √† la partie suivante de l'architecture pilot√©e par les mod√®les - entit√©s, agr√©gats et objets de valeur.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oh/c4/hh/ohc4hhk6ru1lrn-ohyrp83byn1w.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entit√©s, agr√©gats et objets de valeur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment tout cela est-il interconnect√©? Par exemple, un utilisateur passe une commande de produit et nous facturons. Quelle est la racine de l'agr√©gation et qu'est-ce qu'un simple objet? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ml/4g/kc/ml4gkcmc0-hajo2sk5apaklct6y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout ce qui est soulign√© est la racine de l'agr√©gation. C'est ce avec quoi je veux travailler directement: important, pr√©cieux, holistique. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O√π commencer?</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous allons cr√©er un package vide dans le projet, o√π nous placerons nos unit√©s. Les agr√©gats sont mieux √©crits avec quelque chose de d√©claratif, comme </font></font><code>dataclasses</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ou </font></font><code>attrs</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<img src="https://habrastorage.org/webt/7e/0z/dx/7e0zdxqhapwuerqxbs8zf6wocse.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classes de donn√©es</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Si </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous indiquons </font><font style="vertical-align: inherit;">une sorte d' </font><font style="vertical-align: inherit;">agr√©gat, nous √©crirons une annotation dessus en utilisant </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NewType</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dans l'annotation, nous indiquons une r√©f√©rence explicite, qui est exprim√©e dans le syst√®me de types. S'il ne s'agit </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que d'une structure de donn√©es (entit√©), enregistrez-la dans l'agr√©gat.</font></font><br>
<img src="https://habrastorage.org/webt/9y/g3/fe/9yg3fe7qn2_xj6pas4m1hewhikc.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le contexte de Stories, seuls les agr√©gats peuvent mentir. </font><font style="vertical-align: inherit;">L'acc√®s √† quelque chose qui y est int√©gr√© ne peut √™tre obtenu que par des m√©thodes publiques et des r√®gles de haut niveau. </font><font style="vertical-align: inherit;">Cela vous permet de construire de mani√®re logique et comp√©tente un mod√®le sur lequel nous travaillons avec des experts du domaine. </font><font style="vertical-align: inherit;">Il s'agit de la m√™me </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">langue unique</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xj/ov/7s/xjov7shv-7gsu-u0w6c6aejxkq8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le probl√®me se pose imm√©diatement - les r√©f√©rentiels. </font><font style="vertical-align: inherit;">J'ai une base de donn√©es avec laquelle je travaille via Django, un microservice voisin auquel j'envoie des requ√™tes, il y a JSON et une instance du mod√®le Django. </font><font style="vertical-align: inherit;">Pour recevoir des donn√©es et les transf√©rer √† la main, il suffit d'appeler ou de tester magnifiquement la m√©thode? </font><font style="vertical-align: inherit;">Bien s√ªr que non. </font><font style="vertical-align: inherit;">Dry-python poss√®de une biblioth√®que Mappers qui vous permet de mapper des abstractions de haut niveau et des agr√©gats de domaine aux endroits o√π nous les stockons.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mappeurs</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous ajoutons un package suppl√©mentaire √† notre projet - un r√©f√©rentiel dans lequel nous stockons le n√¥tre </font></font><code>mappers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. C'est ainsi que nous transf√©rerons la logique m√©tier de haut niveau dans le monde r√©el. </font></font><br>
<img src="https://habrastorage.org/webt/gt/w8/zu/gtw8zusqmldesc-5m-sanew8hxy.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, nous pouvons d√©crire comment nous en mappons un </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur un mod√®le Django. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Django ORM.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous comparons le mod√®le de commande avec la description de Django ORM - nous regardons les champs. </font></font><br>
<img src="https://habrastorage.org/webt/gw/cp/v8/gwcpv8rjs4cs592qvob0tu0t_rw.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, nous pouvons r√©√©crire certains champs via la configuration facultative. Il se passera ce qui suit: </font></font><code>mapper</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pendant la d√©claration, il comparera la fa√ßon dont le </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mod√®le est </font><font style="vertical-align: inherit;">√©crit </font><font style="vertical-align: inherit;">. Par exemple, les annotations </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">( </font></font><code>Order dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il y a un champ </font></font><code>cost</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avec annotation </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) dans le mod√®le Django correspond </font></font><code>integer field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† l'option </font></font><code>nullable="true"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Ici , </font><font style="vertical-align: inherit;">il va </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offrir √† ajouter </font></font><code>optional</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou pour supprimer</font></font><code>nullable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de </font></font><code>field</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gr√¢ce aux mappeurs, vous pouvez ajouter des fonctions qui lisent ou √©crivent quelque chose. Les lecteurs sont des fonctions qui re√ßoivent un agr√©gat √† l'entr√©e et lui renvoient une r√©f√©rence. Les √©crivains font le contraire: les unit√©s de rendement. Sous le capot, par exemple, il peut y avoir une demande √† la base de donn√©es via Django. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©finitions Swagger</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les m√™mes op√©rations peuvent √™tre effectu√©es avec des microservices. Vous pouvez y √©crire une partie du sch√©ma de swagger et v√©rifier dans quelle mesure le sch√©ma de swagger d'un service particulier correspond √† vos mod√®les de domaine. De plus, la demande retourn√©e de la biblioth√®que de demandes sera traduite de mani√®re transparente en </font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<img src="https://habrastorage.org/webt/sk/2k/rv/sk2krveeieqjqkd5gmcn1hxettc.png"><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requ√™tes GraphQL.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GraphQL et microservices: le sch√©ma de type d'interface GraphQL fonctionne bien contre</font></font><code>dataclass</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Vous pouvez traduire des requ√™tes GraphQL sp√©cifiques en structures de donn√©es internes. </font></font><br>
<img src="https://habrastorage.org/webt/th/om/j0/thomj0ho9pgvu-n8_w7uhkvlmz4.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi s'emb√™ter avec le mod√®le de donn√©es de haut niveau interne √† l'application? Pour illustrer le ¬´pourquoi¬ª, je vais raconter une histoire ¬´divertissante¬ª. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'un de nos projets, les sockets Web ont fonctionn√© via le service Pusher. Nous n'avons pas pris la peine, nous l'avons envelopp√© dans une interface pour ne pas appeler directement. Cette interface √©tait li√©e dans toutes les histoires et √©tait satisfaite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais les exigences commerciales ont chang√©. Il s'est av√©r√© que les garanties que Pusher fournit pour les sockets Web ne sont pas suffisantes. Par exemple, vous avez besoin de la remise garantie des messages et de l'historique des messages pendant les 2 derni√®res minutes. Par cons√©quent, nous avons d√©cid√© de passer au service Ably Realtime. Il a √©galement une interface - nous √©crirons un adaptateur et le lierons partout, tout ira bien. Pas vraiment.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les abstractions utilis√©es par Pusher (arguments de fonction) sont pi√©g√©es dans chaque objet m√©tier. </font><font style="vertical-align: inherit;">J'ai d√ª corriger environ 100 histoires et corriger la formation du canal utilisateur auquel nous envoyons quelque chose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Retour aux tests.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tests et simulations</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment testez-vous g√©n√©ralement ce comportement avec des services externes? </font><font style="vertical-align: inherit;">Nous mouillons quelque chose, nous regardons comment une biblioth√®que tierce est appel√©e, et c'est tout - nous sommes s√ªrs que tout va bien. </font><font style="vertical-align: inherit;">Mais lorsque la biblioth√®que change, les formats d'argument changent √©galement. </font></font><br>
<img src="https://habrastorage.org/webt/zo/ey/34/zoey341uas00jfbgt0e5nld69ta.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez √©conomiser une semaine en r√©√©crivant des milliers de tests et des centaines d'analyses de rentabilisation si vous testez le comportement du mod√®le interne diff√©remment. </font><font style="vertical-align: inherit;">Par exemple, quelque chose de similaire aux tests d'int√©gration: nous √©crivons dans le flux utilisateur, et d√©j√† √† l'int√©rieur de l'adaptateur, Pusher ou Ably, nous traduisons ce flux dans le nom du canal normal afin de ne pas tout √©crire dans la logique m√©tier.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©pendances</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans une telle architecture de mod√®le, de nombreuses entit√©s superflues apparaissent. </font><font style="vertical-align: inherit;">Auparavant, nous avons pris une sorte de fonction Django et l'avons √©crite: demande, r√©ponse, mouvements corporels minimaux. </font><font style="vertical-align: inherit;">Ici, vous devez initialiser les mappeurs, mettre des histoires et initialiser, traiter la ligne de demande de la demande HTTP, voir quelle r√©ponse donner. </font><font style="vertical-align: inherit;">Tout cela se traduit par 30-50 lignes de code appelant passe-partout Stories √† l'int√©rieur de Django-view. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'autre part, nous avons d√©j√† √©crit des interfaces et des mappeurs. </font><font style="vertical-align: inherit;">Nous pouvons v√©rifier leur compatibilit√© avec une analyse de rentabilisation sp√©cifique, par exemple, √† l'aide de la biblioth√®que de d√©pendances. </font><font style="vertical-align: inherit;">Comment? </font><font style="vertical-align: inherit;">Gr√¢ce au mod√®le d'injection de d√©pendance, tout est coll√© de mani√®re d√©clarative sur un passe-partout minimal. </font></font><br>
<img src="https://habrastorage.org/webt/w9/_5/th/w9_5thkcuryvswlpy39x8dpkoio.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous indiquons la t√¢che de prendre une classe dans le package de services, mettez trois</font></font><code>mappers</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, initialisez l'objet Stories et donnez-le nous. </font><font style="vertical-align: inherit;">Avec cette approche, le nombre de passe-partout dans le code est consid√©rablement r√©duit.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Refactoring de la carte</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant tout ce dont j'ai parl√©, nous avons d√©velopp√© un sch√©ma par lequel nous avons r√©√©crit un grand projet de signaux Django (implicite "callback hell") √† Django en utilisant DDD. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La premi√®re √©tape sans DDD</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Au d√©but, nous n'avions pas DDD - nous avons √©crit MVP. Quand ils ont gagn√© leur premier argent, ils ont invit√© des investisseurs et les ont convaincus de passer au DDD. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Histoires sans contrats.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous avons divis√© le projet en analyses de rentabilisation logiques sans contrats de donn√©es. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contrats et agr√©gats</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ensuite, un par un, nous avons fait glisser le contrat de donn√©es pour chaque mod√®le qui peut √™tre trac√© dans notre architecture. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mappeurs</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Les mappeurs ont √©crit pour se d√©barrasser des mod√®les d'entrep√¥t de donn√©es. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Injection de d√©pendance</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . D√©barrassez-vous des motifs de collage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si votre projet a d√©pass√© MVP et qu'il doit √™tre chang√© d'urgence en architecture afin qu'il ne glisse pas dans l'h√©ritage - regardez vers DDD.</font></font><br>
<br>
<blockquote>     legacy  Python-,     ,    ,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Moscow Python Conf++</a> 27 .    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>        Python       .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">unconference</a>,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>,   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="></a>, ,   Drylabs.<br>
<br>
  DDD    Python,      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">TechLead Conf</a> ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">    </a>   IT-,    DDD .   8 , Call for Papers   6 .</blockquote></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487996/index.html">Comment les pilotes de script et les m√®res de serveurs prennent le contr√¥le de l'informatique</a></li>
<li><a href="../fr488000/index.html">Tesla Plaid. Deux options pour une configuration d'entra√Ænement √† trois moteurs</a></li>
<li><a href="../fr488002/index.html">Le cas d'un geek</a></li>
<li><a href="../fr488006/index.html">√Ä Moscou Python Conf ++, venez parler aux d√©veloppeurs de langage</a></li>
<li><a href="../fr488008/index.html">Dompter la b√™te: code h√©rit√©, tests et vous</a></li>
<li><a href="../fr488012/index.html">Parking pour vos inconv√©nients</a></li>
<li><a href="../fr488014/index.html">9. Mise en route de Fortinet v6.0. Journalisation et rapports</a></li>
<li><a href="../fr488018/index.html">CAPTCHA, cas particulier: on casse un r√©seau neuronal avec trente lignes de code</a></li>
<li><a href="../fr488020/index.html">Vivaldi 2.11 - One Touch Beauty</a></li>
<li><a href="../fr488024/index.html">Fantastiques √©cluses de conseil et o√π ils vivent</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>