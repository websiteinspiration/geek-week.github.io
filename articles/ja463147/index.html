<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👭 🤖 🚶🏽 ROSトロリーロボット。パート3.加速、カメラの変更、歩行の修正 🎷 🔺 💠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="シリーズの投稿：
 8. ROS制御電話、GPSノードから制御します
 。7.ロボットのローカリゼーション：マッピング、AMCL、ルームマップ上の基準点
 6.ホイールエンコーダー、ルームマップ、ライダーによる
 オドメトリ5. rvizとガゼボで作業します：xacro、新しいセンサー。 
 4. ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ROSトロリーロボット。パート3.加速、カメラの変更、歩行の修正</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463147/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シリーズの投稿：</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. ROS制御電話、GPSノードから制御します</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。7.ロボットのローカリゼーション：マッピング、AMCL、ルームマップ上の基準点</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.ホイールエンコーダー、ルームマップ、ライダーによる</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オドメトリ5. rvizとガゼボで作業します：xacro、新しいセンサー。</font></font></a> <br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. rvizおよびgazeboエディターを使用してロボットシミュレーションを作成します。</font></font></a> <br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">歩行を修正し、カメラを変更、加速3. </font></font></a> <br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.ソフトウェア</font></font></a> <br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.アイアン</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
最後の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">時間を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3b +、私は、ラインに乗る人の顔、悲しい顔に笑顔を作るために管理されているすべてのラズベリーパイの電源を使用して、OpenCVのとROS（ロボット・オペレーティング・システム）と協力し、猫とさえそれらに会いに行きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、ロボティクスのこの領域での励ましの最初のステップとともに、私は多くの小さなタスクに直面しなければなりませんでした：遅いラズベリーpi、カメラから少し離れて、顔を認識し、運転中に横にシフトするなど。 ROSの開発で新しい小さな地平を開くことを含め、それらを解決する方法については後で説明します。</font></font><br>
<a name="habracut"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.以前にアセンブルされたプロジェクトからすべてのノード（ROSのスクリプト）を実行し、Haarカスケードでの作業を開始することで、そのようなタスクに対するシングルボードコンピューターのパフォーマンスが依然として弱いことがすぐに明らかになりました。</font><font style="vertical-align: inherit;">プロセッサの負荷がピークではなく、80％以内で変動するという事実にもかかわらず、ロボットは、人の顔や猫の顔を見たときに長い間考えていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も悲しいことは、顔がカメラの視野から外れた後、ロボットが物体に向かっていると「考える」ように動き始めたということです。</font><font style="vertical-align: inherit;">一般的に、M.Yuのように。</font><font style="vertical-align: inherit;">レルモントバ：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「長年の追放者</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たちは、避難所のない世界の荒野を</font><font style="vertical-align: inherit;">さまよっ</font><font style="vertical-align: inherit;">た...」。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
状況を修正する最初の試みは次のとおりです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -カメラ起動ノード（ラズベリーpi）では、キャプチャされた画像のサイズが640x480 60fpsから320x240 15 fpsに縮小されました。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi/rosbots_catkin_ws/src/rosbots_driver/scripts/rosbots_driver<font></font>
nano pi_camera_driver.py</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより生産性はある程度向上しましたが、全体像は理想からほど遠いままでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、人の顔（follow_face.py）または猫（follow_cat2.py）の追跡を開始するためのスクリプトでは、opencv自体の画面上の結論がコメント化されていました。以上がcv.imshowです。さて、旅を始めるとき、ロボットが動いている写真をロボットが見ているかどうかを視覚的に観察することは不可能でした。さて、私は視覚化を犠牲にする必要がありました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、スクリプト内のROS自体の情報出力にコメントが付けられました：＃rospy.loginfo。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより、負荷がわずかに軽減され、作業速度が向上しました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし...何か他のものを考え出す必要がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2.さらに、ロボットはひどく近視眼的でした。この分野での過去の経験と推奨事項に従って、魚眼カメラを使用しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qp/uj/ad/qpujadqdqnvga0tpfhlt6zvqe74.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このカメラはかなり広い視野角を提供し、部屋のかなりの部分をキャプチャすることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、結局のところ、顔認識の品質の分野での彼女の結果は印象的ではありませんでした...マッカイラは感動しませんでした...カメラが使用するのと同じ広い視野角のため、それは同時に認識可能なオブジェクト自体を歪めます。このため、使用されているHaarカスケードはうまく機能しません。照明もシェーディングに大きく影響し、品質はさらに低下します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3.そしてさらに、ロボットは明確なねじれのための角速度に欠けており、敷居（交差する必要のないしきい値）やカーペットの上でも、完全に動かなくなっていました。</font><font style="vertical-align: inherit;">ここで、コショウは「同じパワー」モーターのパワーの違いを追加しました。同じバッチを離れた後でも、ほとんど同じではありません。</font><font style="vertical-align: inherit;">このため、ロボットは大幅に左にドリフトしました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パフォーマンスの向上」。</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、パフォーマンスに関しては、システムとしてのROSの主な利点、つまりさまざまなマシンに負荷を分散する機能が役に立ち、状況は著しく改善し始めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、ラズベリー自体でモーションノード、カメラ、マスターノードを実行するだけで十分であり、他の負荷の高いノードをより強力なシステムの肩に置くことができます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、ラップトップにROSをインストールしたり、仮想マシンを展開したりします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この状況では、2番目のオプションが選択されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仮想マシン上のUbuntu、ROSをインストールする方法を説明しないようにするために、我々はウィニー・ジョーンズのキャッチフレーズを使用する「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちは死んでボランティアを必要とします</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。」私たちはそれを準備しました...-すべての詰め物を備えた仮想マシンは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダウンロードでき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用が提案されている仮想マシンのパラメーターは次のとおりです</font></font><br>
<br>
<img src="https://habrastorage.org/webt/es/2m/1o/es2m1olydpnbjvn9ijaa9krmlhy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。VMwareワークステーションにデプロイ（実行）していることがわかります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パスワード：ラズベリー</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
鉄でハールカスケードを消化するときのパフォーマンスを評価できるようになりました。ラズベリーパイよりも強力です！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ROSシステムを開始するには、2つの部分に分かれています。マスターノードが動作する仮想マシンを指定する必要があります（システムのブート直後にラズベリーで開始します）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを行うには、仮想マシンでbashrcを編集します。</font></font><br>
<br>
<pre><code class="bash hljs">sudo nano ~/.bashrc
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルの最後の行に、IPアドレスを指定します。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">export</span> ROS_MASTER_URI=http://192.168.1.120:11311
<span class="hljs-built_in">export</span> ROS_HOSTNAME=192.168.1.114
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のIPはラズベリーpiアドレスで、2番目のIPは仮想マシンアドレスです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*仮想マシンとラズベリーは同じローカルネットワーク上にある必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラズベリーでは、同じbashrcは異なります。</font></font><br>
<br>
<pre><code class="bash hljs">&lt;<span class="hljs-built_in">source</span> lang=<span class="hljs-string">"bash"</span>&gt;<span class="hljs-built_in">export</span> ROS_MASTER_URI=http://192.168.1.120:11311
<span class="hljs-built_in">export</span> ROS_HOSTNAME=192.168.1.120
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラズベリーの2つのIPアドレスが一致しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* bashrcを変更した後は、必ず再起動してください。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散ROSシステムを起動する方法は？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラズベリーには2つの端末があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第一楽章では：</font></font><br>
<br>
<pre><code class="bash hljs">rosrun rosbots_driver part2_cmr.py </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のラズベリーカメラ：</font></font><br>
<br>
<pre><code class="bash hljs">sudo modprobe bcm2835-v4l2<font></font>
roslaunch usb_cam usb_cam-test.launch</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
合計で、2つのノードがラズベリーで動作します。1つはコマンドが移動するのを待っており、2つ目はカメラからネットワークにビデオを送信します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マスターに接続してキーボードからロボットを制御するには、仮想マシンで実行する必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">rosrun teleop_twist_keyboard teleop_twist_keyboard.py /cmd_vel:=/part2_cmr/cmd_vel </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同様に、仮想マシンから制御する代わりに、人の顔に従ってノードを実行できます。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">cd</span> /home/pi/rosbots_setup_tools/rpi_setup<font></font>
python follow_face.py</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今度は、魚眼のラズベリーpiカメラを使用して、カメラからキャプチャした画像のさまざまな設定で結果がどうなるかについての少し乾燥した統計です。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">320x240、30fps：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
人間の顔。 80-100 cm。照明の影響、影にはほとんど見えません。改善のため、ランプを顔の方に向けた方が良いでしょう。笑顔は、笑顔で、より速く顔を認識します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シートA4の猫の顔。 15〜30センチメートル。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
800×600と60fpsのでは-人2〜3メートルの距離で見ている。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1280×720と60fpsのでは-顔3-4メートルの距離で見ている。しかし、偽のアラームが表示されます- 。彼は顔と壁時計を見て、など</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A4の猫は1〜2秒の遅延で認識し、距離は1〜1.5 mです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仮想マシン</font><font style="vertical-align: inherit;">の</font><font style="vertical-align: inherit;">負荷は77〜88％です。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のように、カメラからキャプチャした画像のウィンドウを拡大すると、仮想マシンへの負荷とロボットがオブジェクトを見る距離が増加します。</font><font style="vertical-align: inherit;">ラズベリーへの負荷は増加していますが、大幅ではありません。</font><font style="vertical-align: inherit;">ラズベリーでのみすべてのノードの操作と比較して認識速度が大幅に向上しました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">近視を治療する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記の統計によると、視覚を改善するには、カメラの解像度とfpsを上げて、仮想マシンのパフォーマンスを向上させる必要があります。ただし、1280x720および60fpsであっても、オブジェクトまでの距離はそれほど大きくありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題の解決策は思いがけなくやって来ました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご存知のように、ラズベリーにはカメラの全ラインナップが用意されています。そして、私たちの場合、そのうちの1つは完璧でした。つまり、</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9d/5l/g_/9d5lg_gj9ssagviofb-7gu3yfem.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果は次のとおりです。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部屋に人工照明があり、7〜8 mの距離に顔が見えます。笑顔にする必要さえありません）</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
800x600と60fps-ダウンロード。仮想マシン-70-80％、ラズベリー-21％（動きのノードのみがあり、カメラのブロードキャストを開始します）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A4の猫は、1〜2秒の遅延、2〜2.3 mの距離で認識します。</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のように、猫は再び苦しみますが、これはより短い距離で決定されます。</font><font style="vertical-align: inherit;">しかし、ここでの理由は、カメラではなく、Haarカスケードの設定にある可能性が高いです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*このカメラには、原則としてIRイヤーが付属しています。</font><font style="vertical-align: inherit;">それらを昼光の下で使用する必要はありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h6/_j/vz/h6_jvzqmjq32whtx95uhcw3vkhi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、魚眼以外のラズベリーpiのカメラは、低品質の人工照明でも、オブジェクトを操作するときに最良の結果を示しました。</font><font style="vertical-align: inherit;">しかし、カメラからの距離を遠ざけるために、私は視野角で支払う必要があり、これは考慮に入れられなければなりません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シャーシの改良とロボットの側面解体について</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上述のように、実際にはツインエンジンはなく、ロボットはモーターがどのように強力であるかに応じて、右または左に駆動する運命にあり、他のすべては同じです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、動きの違いはエンコーダーを使用して均一化されます。エンコーダーは私たちのプロジェクトで優れているためです。それがどのように機能するかについては、良い</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">映画があり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ここではすべてを簡略化して少しトリックを行うことができ、仮想マシンで人（follow_face.py）または猫（follow_cat2.py）の顔を追跡するためのスクリプトのみを修正します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の行に関心があります。</font></font><br>
<br>
<pre><code class="bash hljs">
<span class="hljs-comment">#-0.013 - because right wheel is faster</span><font></font>
                twist_msg.linear.x = 0.1<font></font>
                twist_msg.angular.z = -0.013<font></font>
            <span class="hljs-keyword">elif</span> self.face_found[<span class="hljs-string">"x"</span>] &lt; 0.0:
                <span class="hljs-comment"># To the left</span>
                cur_dir = <span class="hljs-string">"left"</span><font></font>
                twist_msg.linear.x = 0.1<font></font>
                twist_msg.angular.z = 0.016<font></font>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment"># To the right</span>
                cur_dir = <span class="hljs-string">"right"</span><font></font>
                twist_msg.linear.x = 0.1<font></font>
                twist_msg.angular.z = -0.016</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ロボットが吹く場所と量に応じて、zの値を調整する必要があります。</font><font style="vertical-align: inherit;">上記のコードでは、12Vモータードライバーに電力を供給するときに値が選択されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8V〜12Vの代わりにプロジェクト（L9110s）で使用されているエンジンドライバーに適用することで、ロボットの走行特性（速度と操縦性）を高めることが可能です。</font><font style="vertical-align: inherit;">ただし、電源安定装置または少なくともコンデンサを取り付けずにこれを行わない方が良いでしょう。</font><font style="vertical-align: inherit;">結局のところ、L9110s Hブリッジチップは正常に燃焼します。</font><font style="vertical-align: inherit;">多分これはそれらをとても安くします。</font><font style="vertical-align: inherit;">それにもかかわらず、ロボットは12 Vをかなり軽快かつ軽薄に駆動します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論の代わりに</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、ロボットが持ち去られなくなり、彼のビジョンが改善されたので、たとえば、彼と一緒にかくれんぼをすることができます。</font><font style="vertical-align: inherit;">または、部屋の反対側から何かを強制的に持ち込むこと。</font><font style="vertical-align: inherit;">もちろん、人と同じように彼と向き合う。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/fdGjeOIEv6A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つづく。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja463127/index.html">UPSモニタリング。パート2-分析の自動化</a></li>
<li><a href="../ja463135/index.html">2019年にIT企業を登録することが収益を上げているのはどの国ですか？</a></li>
<li><a href="../ja463137/index.html">あなたがゲームデザイナーになりたいとしても、誰もあなたに方法を教えることはありません</a></li>
<li><a href="../ja463141/index.html">Habr Weekly＃13 /出会い系サービスのユーザー150万人の脅威、メデューサの調査、ロシア人の大任</a></li>
<li><a href="../ja463143/index.html">Googleアナリティクス入門：アプリ+ウェブ</a></li>
<li><a href="../ja463149/index.html">アランケイは古くて忘れられていたが重要なプログラミングの本を読むことを勧めます</a></li>
<li><a href="../ja463151/index.html">虫眼鏡の下のiOS 13</a></li>
<li><a href="../ja463155/index.html">ホワイトノイズは黒い四角を描画します。パート2.ソリューション</a></li>
<li><a href="../ja463157/index.html">I2CとSPIディスプレイを接続するESP32-CAMビデオストリーミングサーバー</a></li>
<li><a href="../ja463159/index.html">セキュリティ、数字、メール、そして広告について</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>