<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤙🏼 🙆 🍆 Cisco Expressway 12.5.5。VPNを使用しないオフィス外のビデオ会議 🔷 😘 👰🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cisco Anyconnectアプリケーションの使用や追加のVPNトンネルのインストールなど、ユーザー側の追加のジェスチャーなしで、企業の通信サービスをオフィスの外で利用できるようにする時が来ました。
 
 この号では、ビデオ会議が組織内だけでなく組織外でも機能するようにCisco Express...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Cisco Expressway 12.5.5。VPNを使用しないオフィス外のビデオ会議</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/466175/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cisco Anyconnectアプリケーションの使用や追加のVPNトンネルのインストールなど、ユーザー側の追加のジェスチャーなしで、企業の通信サービスをオフィスの外で利用できるようにする時が来ました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この号では、ビデオ会議が組織内だけでなく組織外でも機能するようにCisco Expresswayサーバーを構成する方法を示し、説明します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uz/fx/uo/uzfxuogqyb2fyffpo9bgkskhn3q.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cisco Expresswayは、音声とビデオに安全なファイアウォールを提供し、B2Bコール、モバイルおよびリモートアクセス（MRA）などの多くの機能、およびTURNサーバーの機能（リレーNATを使用したトラバーサル）をサポートします。</font><font style="vertical-align: inherit;">したがって、これはいわゆるシングルエッジソリューションであり、推奨されるCisco Unified Communications EdgeソリューションおよびCisco Meeting Serverです。</font></font><br>
<br>
<b><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライセンス</font></font></h2></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cisco Expresswayサーバーは、Core（Expressway-C）およびEdge（Expressway-E）としてインストールされます。</font><font style="vertical-align: inherit;">最初からインストールしても、まだExpresswayではないため、VCSサーバーのままです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しくインストールしたVCSサーバーがExpresswayになるためには、全員が必要なライセンスをインストールする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各サーバーは、それがEdgeであろうとCoreであろうと、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LIC-SW-EXP-K9</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライセンス、</font><font style="vertical-align: inherit;">またはより簡単には</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リリースキーを必要とします</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VCSサーバになるために</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高速道路</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コアを、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライセンスが必要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LIC-EXP-GW</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LIC-EXP-SERIES</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VCSサーバーを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expressway</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Edgeに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するには</font><b><font style="vertical-align: inherit;">、</font></b><font style="vertical-align: inherit;">ライセンスが必要です。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LIC-EXP-GW</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LIC-EXP-SERIES</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LIC-EXP-E</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LIC-EXP-TURN</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オプションで、次のライセンスを追加できます。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> LIC-EXP-MSFT-PMP</font></font></li>
<li> LIC-EXP-RMS-PMP</li>
<li> LIC-EXP-DSK</li>
<li> LIC-EXP-ROOM</li>
<li> LIC-EXP-AN</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LIC-EXP-MSFT-PMP - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロソフトの相互運用性オプション</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（のために</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高速道路-Cは、</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）と対話するために必要とされる</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビジネス用のSkype</font></font></b> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
- LIC-EXP-MSFT-PMK </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">道路デスクトップエンドポイントライセンス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（のために</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高速道路-C</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高速道路上での個人的なデバイスを登録するために必要とされます）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LIC-EXP-ROOM- </font><font style="vertical-align: inherit;">ビデオ会議コーデックをExpresswayに登録するための</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expressway ROOMライセンス</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LIC-TP-ROOM-コーデックをCallManagerに登録するためのCUCMのライセンスもあり、オプションでLIC-EXP-ROOMライセンスが含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LIC-EXP-AN- </font><font style="vertical-align: inherit;">追加のネットワークインターフェイス用の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高度なネットワーク</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オプション（Expressway-CとExpressway-Eの両方）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LIC-EXP-RMS-PMP- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リッチメディアセッション</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライセンス（Expressway-CとExpressway-Eの両方の場合）</font><font style="vertical-align: inherit;">接続のタイプに応じた</font><i><font style="vertical-align: inherit;">リッチメディアセッション</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ライセンスの消費</font><font style="vertical-align: inherit;">：</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Expresswayから/への、登録済みデバイスへの接続</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Expresswayの未登録のエンドポイントとの接続</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> トラバーサルゾーン経由の接続</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cisco Cloud Serviceとの接続</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ネイバーゾーンを介したUCM、コンダクター、CMS、またはExpresswayとの接続</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の場合、仮想マシンはすでにインストールされていて、ネットワークインターフェースが仮想マシン上に構成されていると想定しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
少し先を見ると、Expressway-CとExpressway-Eの束はいくつかの方法で展開できると言えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドメインに関しては、2つのオプションがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
単一ドメイン</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、ネットワークの内部と外部の両方で、同じexample.comドメインである場合です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デュアルドメイン</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、ドメインexample.localが内部にあり、example.comが外部にある場合です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トポロジに関しては、2つのネットワークインターフェイスをそれぞれ1つの個別のDMZで使用することをお勧めしますが、これはかなりまれなケース</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他の2つのオプションを検討します</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">。DMZ-それは何ですか？</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
1. 1つのExpressway-E LANインターフェイスを備えたDMZ。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/es/nn/ob/esnnobeedj-exb1hgjelg2lthce.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このオプションでは、プロバイダーが発行した（または提供する）白いIPアドレスを設定できます。</font><font style="vertical-align: inherit;">このオプションでは、ファイアウォールでNAT-Reflectionを後で構成する必要はありません。これは、ネットワーク外のCisco Meeting Serverの通常の操作に必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. 2つのExpressway-E LANインターフェイスを備えたDMZ。</font><font style="vertical-align: inherit;">
この機能を使用するに</font><font style="vertical-align: inherit;">は、ライセンスキーの</font><b><font style="vertical-align: inherit;">Advanced Networking</font></b><font style="vertical-align: inherit;">オプション</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">有効に</font><font style="vertical-align: inherit;">する</font><font style="vertical-align: inherit;">必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
また、どちらの場合も、シナリオに応じて、NATの背後に指定する必要があります。このIPアドレスはインターネット上であるかどうかを確認します。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/du/gh/ar/dugharqpkq5vsbztqdfioq21cyc.png"></a><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/fs/ho/cd/fshocd_z10-32hrxscrkaja2xcs.png"></a><br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラスタを展開するかどうかに応じて、外部および内部DNSサーバーにシングルドメインまたはデュアルドメインを配置し、次のエントリを作成する必要があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単一ドメイン</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ox/tj/yy/oxtjyylcbdytjqx_-ec2zsivkm0.png"></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デュアルドメイン</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/mf/x4/ug/mfx4ugxaquw17wg3_hsfsff4hw4.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デュアルドメインを使用している場合は、内部DNSサーバーで外部ドメインを使用してゾーンを作成し、そこに赤でハイライトされたエントリを作成する必要があることに注意してください。</font><font style="vertical-align: inherit;">これは、ユーザーが企業ネットワークの</font><font style="vertical-align: inherit;">内部または外部の場所に関係なく</font><font style="vertical-align: inherit;">、企業ネットワークの外部と内部の両方で同じログインを使用してCisco Jabberアプリケーションにログインできるようにするためです（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部ドメインでは、通常、ログインは企業の電子メールアドレスと一致します</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。 。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドメインを作成し、このドメインでサポートする必要があるサービスを示すことも必要です。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サービス</font></font></b>
                        <div class="spoiler_text"><i><b>SIP registrations and provisioning on Expressway</b></i> — ,   Expressway    SIP-. Expressway   SIP-      ,         SIP-,    ,    .<br>
<br>
<i><b>SIP registrations and provisioning on Unified CM</b></i> —    Expressway     CUCM            CUCM.<br>
<br>
<i><b>IM and Presence Service</b></i> —    Expressway     IMP      .<br>
<br>
<i><b>XMPP federation</b></i> — ,    XMPP      .          -  .<br>
<br>
 ,         ,    Expressway-E.<br>
</div>
                    </div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dual-Domainスクリプトを使用する場合は、両方のドメインをExpressway-Cで指定する必要があります。</font><font style="vertical-align: inherit;">
Expressway-Eでは、Dual-Domainスクリプトを使用する場合、必要なすべてのドメイン（私の場合は2つ、またはそれ以上）も指定する必要があります。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/za/yp/a9/zaypa9g7sfhcaxnh24xm2kbje_g.png"></a><br><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">証明書</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expresswayサーバーは、相互に連携し、証明書を介して残りのサーバーと連携します。したがって、Expresswayで動作するサーバが証明書を受信する認証局のルート証明書と中間証明書は、信頼できるものとしてリストされている必要があります。</font></font></i><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">[メンテナンス]-&gt; [セキュリティ</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
]- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&gt; [CA</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">証明書の</font><b><font style="vertical-align: inherit;">信頼</font></b><font style="vertical-align: inherit;"> ]メニューで、</font><font style="vertical-align: inherit;">これらの同じルート証明書と中間証明書をロードします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの場合、Expressway-Cの場合、証明書は自己署名と同等の（灰色の）証明機関によって発行され、Expressway-Eの場合、証明書は白い</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's暗号化</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">証明</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">機関</font></a><font style="vertical-align: inherit;">から発行され</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの証明書は無料ですが、3か月ごとに更新する必要がありますが、Expresswayには自動更新機能があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
無料のホワイト証明書</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Let's Encryptについて</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中間証明書</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ルート証明</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">書の</font></a><font style="vertical-align: inherit;">リンクを</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たどり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。2. Windows 10の場合、.p7bチェーンをExpresswayが受け入れるルート証明書に変換する必要があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルを右クリックし、[ </font><font style="vertical-align: inherit;">アプリケーションから</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開く</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
] </font><i><b><font style="vertical-align: inherit;">&gt; [暗号シェル拡張機能</font></b></i><font style="vertical-align: inherit;"> ]を右クリックします。上の</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「DSTルートCA X3」</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、選択</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのタスク]</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[エクスポート</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と保存を。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Linuxの場合、コマンド</font><i><b><font style="vertical-align: inherit;">openssl pkcs7 -inform der -in </font></b></i><i><b><font style="vertical-align: inherit;">
dstrootcax3.p7c -print_certs -out dstrootcax3.pemを</font></b></i><font style="vertical-align: inherit;">使用してp7b形式をpem形式に変換し</font><i><b><font style="vertical-align: inherit;">ます。</font></b></i></font><br>
<i><b><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中間証明書の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内容</font><font style="vertical-align: inherit;">をメモ帳に</font><font style="vertical-align: inherit;">コピーし</font><font style="vertical-align: inherit;">て、たとえば、</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lets-encrypt-x3-cross-signed.pem.txt</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として保存し</font><i><b><font style="vertical-align: inherit;">ます</font></b></i><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.ダウンロードの両方の証明書</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の信頼CA</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高速道路-Eは。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
「グレー」認証局のルート証明書と中間証明書を赤で強調表示されています。</font><font style="vertical-align: inherit;">
「白い」Let's Encrypt証明機関のルート証明書と中間証明書は、青色で強調表示されています。</font><font style="vertical-align: inherit;">
5. Expressway-Cの証明書要求を生成します。</font><i><font style="vertical-align: inherit;">Expressway-CにはSAN名は必要ありません。</font></i><i><font style="vertical-align: inherit;">
[ </font></i><i><b><font style="vertical-align: inherit;">Unified CM電話セキュリティプロファイル名]</font></b></i><i><font style="vertical-align: inherit;">フィールドで、</font></i><i><b><font style="vertical-align: inherit;">電話セキュリティプロファイルを</font></b></i><i><font style="vertical-align: inherit;">指定します。</font></i></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ns/0x/aw/ns0xaw4uvm9uos5dmhixaqjumrs.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/a6/ao/iy/a6aoiyrkfazzsevmlyruzudbo_i.png"></a><br>
<i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはUnified CMで作成され、TLSを介したExpressway-CとCUCM間の通信にのみ必要です。私たちのシナリオでは、これは必要ありません。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
6.要求を「グレー」の認証センターに送り、証明書を取得してExpressway-Cにアップロードします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7. Expressway-Eの証明書要求を生成します。 Expressway-Cと同じように</font><font style="vertical-align: inherit;">、タイプA </font><b><i><font style="vertical-align: inherit;">example.ruの</font></i></b><font style="vertical-align: inherit;"> DNSレコードが</font><font style="vertical-align: inherit;">組織のサイトのIPアドレスを示している</font><font style="vertical-align: inherit;">場合は</font><font style="vertical-align: inherit;">、</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">join.example.ru</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">example.ru</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">collab-edge.example.ru</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のみを</font><b><i><font style="vertical-align: inherit;">SAN</font></i></b><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">追加し</font><b><i><font style="vertical-align: inherit;">ます</font></i></b><font style="vertical-align: inherit;">。また、タイプAの</font><b><i><font style="vertical-align: inherit;">collab-edge.example.ruの</font></i></b><font style="vertical-align: inherit;"> DNSレコードを</font><font style="vertical-align: inherit;">外部DNSサーバー</font><font style="vertical-align: inherit;">に作成することを忘れないでください</font><font style="vertical-align: inherit;">。そうしないと、リクエストが拒否されます。</font><font style="vertical-align: inherit;">
それ以外の場合、</font><b><i><font style="vertical-align: inherit;">example.ru</font></i></b><font style="vertical-align: inherit;">または</font></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/f9/l5/rh/f9l5rhuj6l317xjjk9urzo5pamg.png"></a><br>
<br><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">collab-edge.example.ru</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cisco Jabberの顧客は、証明書が信頼されていないことを誓います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8.</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Deploy Pending Certを</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリックし</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9.その結果、すべてが正しく行われている場合、そのような画像があります。</font><font style="vertical-align: inherit;">
ただし、バージョン12.5.6では、クラスターがこの</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"> BUG</font></a><font style="vertical-align: inherit;">ケースで動作している場合</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
バグの説明には、ソリューションとその回避策も記載されています。これらはバージョン12.5.7で修正される予定です。</font><i><font style="vertical-align: inherit;">UPD：バージョン12.5.7および12.5.8は、セキュリティのバグと妨害のために取り消されました。12.5.9にアップグレードしてください。</font></i></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/bi/ty/ay/bityaypmlfeonpsg9ioun2pkd4i.png"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<i><font style="vertical-align: inherit;"></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゾーン</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゾーンは、特定の一連のルールが適用される抽象的なもの（ドメイン、IPアドレス、デバイス、サービス）のセットです。</font><font style="vertical-align: inherit;">帯域幅、認証、およびコールルーティングを制御するにはゾーンが必要であり、これはゾーン内のすべてに即座に適用されます。</font><font style="vertical-align: inherit;">ダイヤルプランを作成するときは、どのゾーンから（どのドメインではなく）通話を転送するかを指定する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゾーンにはいくつかのタイプがあります。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネイバー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -たとえば、CMS、CUCM、またはその他のExpressway-Cと通信するために必要です。</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルゾーン-Expresswayに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">登録されたデバイスが入るエリア。</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ENUM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -E.164リクエスト用。</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -DNSクエリ用。</font></font></li>
<li><b>Webex</b> —   ,   ,    ,      ,    .      ,   Webex   ,        . </li>
<li><b>Traversal(Client, Server)</b> —      Expressway-C  Expressway-E   Firewall'a(   traversal()).</li>
<li><b>UC Traversal</b> —      Jabber'a    .</li>
<li><b>Default</b> — ,       ,   Default-,     Default-, ,  ,    ,     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、Expressway-CにCUCMおよびCisco Meeting Serverのネイバーゾーンを作成します。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUCMのゾーン</font></font></h4><br><font style="vertical-align: inherit;"></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パブリッシャー</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
'a </font><font style="vertical-align: inherit;">と</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サブスクライバー</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ' a </font><i><b><font style="vertical-align: inherit;">（s）の</font></b></i><font style="vertical-align: inherit;">クラスター内の各CUCMサーバーに対して</font><font style="vertical-align: inherit;">個別のゾーンが作成さ</font><font style="vertical-align: inherit;">れます</font><font style="vertical-align: inherit;">。 1つのゾーンを作成し、アドレスフィールドにすべてのサーバーを指定すると、呼び出しは1 / n回ごとに行われます。nはCUCMクラスター内のサーバーの数です。 CMSのゾーンと同じです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、サーバーは2つしかありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のゾーン：</font><font style="vertical-align: inherit;">
2番目のゾーン：</font><i><b><font style="vertical-align: inherit;">SIPトランクセキュリティプロファイル</font></b></i><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">CUCMからExpresswayへの</font><i><b><font style="vertical-align: inherit;">トランク</font></b></i><font style="vertical-align: inherit;"> 
を作成することも必要です</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">SIPトランクセキュリティプロファイル</font></b><font style="vertical-align: inherit;"> 
ここではポート5065を指定していることに注意してください。そうでない場合、何も機能しません。これまでどのような理由で行われていたのか、私にはわかりませんでした。</font><b><font style="vertical-align: inherit;">トランク</font></b></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ui/j3/lf/uij3lf5emuvltpslkvrtrkhesy4.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ok/hl/ii/okhliik0oma-dws1hh-p_re6s04.png"><br>
</a><br>
<br><font style="vertical-align: inherit;"></font><i><b><font style="vertical-align: inherit;"></font></b></i><font style="vertical-align: inherit;"></font><i><b><font style="vertical-align: inherit;"></font></b></i><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/x0/ex/li/x0exlismn_gl6hs6czc0tuhpc9u.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/9c/yb/rk/9cybrksmzmwaccqhvhr1rkhai9g.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここではポート5060を示していることに注意してください。ポート5065を指定すると、すべてが機能しますが、トランクはフルサービスステータスにならず、ステータスは不明になります。</font><font style="vertical-align: inherit;">また、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIPトランクセキュリティプロファイル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cisco VCSの標準SIPプロファイルで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SIPプロファイルとして</font><font style="vertical-align: inherit;">作成した、目的のCSS（これは構成によって異なります）を指定する必要もあります</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMSのゾーン</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーが1つで、クラスターが含まれていない場合は</font><font style="vertical-align: inherit;">、</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゾーンプロファイル</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を[ </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルト]に</font></font></i></b><font style="vertical-align: inherit;"><b><i><font style="vertical-align: inherit;">設定</font></i></b><font style="vertical-align: inherit;">しておく</font><font style="vertical-align: inherit;">だけで十分</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">
クラスターがある場合は、アドレスフィールドでクラスター内の各サーバーのFQDNを指定し、</font><b><i><font style="vertical-align: inherit;">ミーティングサーバーの負荷分散</font></i></b><font style="vertical-align: inherit;">パラメーター</font><font style="vertical-align: inherit;">を</font><b><i><font style="vertical-align: inherit;">ONに</font></i></b><font style="vertical-align: inherit;">設定する必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/5r/xe/rr/5rxerrnzakgl9rbhfjifa4f33yc.png"></a><br>
<br><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/n3/wf/7z/n3wf7ztpdqnixu50rc2ekffq-pk.png"></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/5b/_d/qc/5b_dqcmee4wvpujnryaxchjn5ks.png"></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/do/e-/7x/doe-7xxxg5xtodu5xgk1otfyety.png"></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expressway-CのUCトラバーサルゾーン</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の場合、H.323プロトコルは使用されていないため、トラバーサルだけでなく、UCトラバーサルゾーンを作成します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UC TraversalゾーンのExpressway-Cでは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クライアント</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">接続が</font><font style="vertical-align: inherit;">構成されます</font><font style="vertical-align: inherit;">。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Expressway-CとExpressway-Eの間に構築されているファイアウォールバイパストンネルに関して、Expressway-Cはクライアントとして機能し、内部ネットワークからDMZネットワークにあるExpressway-Eへのトンネルを確立します。これにより、シグナリングは企業ファイアウォールを通過できます。両方向。したがって、UC Traversalゾーンのサーバー部分が構成されているExpressway-Eで作成するユーザー名とパスワードを指定する必要があります。</font><font style="vertical-align: inherit;">
その結果、Expressway-Cは次のようになります。</font><font style="vertical-align: inherit;">
隣接するゾーン（およびこれらのゾーンのルール）</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/9k/pp/cm/9kppcmngr-rhnl_vok0ob4ygtrm.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/wy/bi/s1/wybis1oegul0dihz4cxogb_rgxa.png"></a><br>
<br><font style="vertical-align: inherit;"></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CEtcp</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ...は、CUCMがExpressway-Cで明示的に設定されている場合に自動的に作成されます（構成---ユニファイドコミュニケーション--- Unified CMサーバー）</font><font style="vertical-align: inherit;">
。CUCMバージョン12.5では、Expresswayが自動的に表示されます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/qe/tu/si/qetusiq6auy8vkxqwh5x4wfjqr8.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/gi/hv/74/gihv74wnzmbhmpndjuio0e31b1c.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/it/uh/4n/ituh4nuvhjqvowyw1mno82htqec.png"><br>
</a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Expressway-EのUCトラバーサルゾーン</font></font></h4><br>
<i>Expressway-E        ,        (       NAT').   Firewall'     DMZ   .    Firewall'        DMZ  . Expressway-E ,   ,     ,     firewall'a,   Expressway-C,     .       ,     Expressway-E  Expressway-C.</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Expressway-Eで接続を回避するには、後で認証にExpressway-Cを使用するユーザーが必要です。</font><font style="vertical-align: inherit;">それを</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uctraversal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とし</font><b><font style="vertical-align: inherit;">ましょう</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
UCトラバーサルゾーンを構成します。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/lt/oh/4n/ltoh4n8fpme4ca9tfnr4gwgatia.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/vq/tq/wn/vqtqwnezc9e99k4rtat-opqo21m.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/mq/lf/ks/mqlfks3oukjdqkwtymzho1geqnc.png"></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNSゾーン</font></font></h3><br>
<i> DNS     DNS SRV-,       .  SIP   _sips._tcp.  / _sip.tcp.        .  -    SRV-  , Expressway   ,        A,     .    Expressway     ,    .      DNS SRV   DNS-,         /  ,      .       Business-to-Business(B2B) .</i><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/um/uo/ia/umuoiat2hysryyag-s758v2wyng.png"></a><br>
<br>
<h3>TURN</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TURNは、NAT周りのリレーを使用したトラバーサルの略です。実際、インターネット上で公開されているデバイスであり、マルチメディアを送受信します。正常に機能するには、インターネット上の外部デバイスとCMSなどの内部デバイスの両方にアクセスできる必要があります。これにより、オーディオとビデオのトラフィックが組織に出入りできるようになります。この場合のTURNサーバーは、ファイアウォールによって信頼されたメディアのアンカーポイントとして機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ちなみに、CMSはエッジデバイスとして展開してTURNサーバーとして機能することができますが、Expressway-EにはTURNサーバーの機能もあるため、不要なCMSサーバーを生成したり、不要な機能を構成したりするよりも、Expresswayで構成する方が適切です。 CMSサーバーの負荷の増加...マルチデバイスバインディングのTURNサーバーとして使用されているデバイスに関係なく、TURNサーバーはCMSデータベースで構成する必要があります。これにより、Call Bridgeはマルチメディアの送信先を認識できるようになり、TURNサーバーは公開されます。インターネットにアクセスすると、Webクライアントはトラフィックの送信先を知ることができます。 TURNサーバーとして機能するExpressway-Eは、内部インターフェイスと外部インターフェイスで受信したトラフィックを接続し、ユーザーが双方向通信を確立できるようにします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どのデバイスでもTURNサーバーを使用するには認証が必要です。</font><font style="vertical-align: inherit;">TURN機能で使用するために、Expressway-Eで認証クレデンシャルセットを設定する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アカウント「Traversal ...」を作成します</font><font style="vertical-align: inherit;">
Expressway-EでTURNをオンにします。</font><font style="vertical-align: inherit;">
Cisco Meeting ServerのTURN </font><font style="vertical-align: inherit;">
クラスタがない場合は、CMS WebインターフェイスにTURN CMAおよびTURN CMSアドレスを入力するだけです。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/6o/dk/v2/6odkv2h6xuv2lh0yyr-jgljcc5o.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/z2/i4/mc/z2i4mctlus-e8s-me3aon8efwqu.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/tl/hl/7c/tlhl7cxxgbo3pmtf7wfdhrxobxa.png"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/wp/8r/r8/wp8rr8ll5rlc8agm3_bizi7ywii.png"></a><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポート5222またはポート5223</font></font></b>
                        <div class="spoiler_text">  <i>ServerAddress</i>     5223 , ,       5222 - ,   CMS   wild-,   ,    CN  SAN     "*.".<br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/8i/t5/l5/8it5l5zk3s4mizrm9lkuafnxbqe.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/yq/sh/gy/yqshgyyjtxpmvwz8kbntwvckjli.png"><br>
</a><br>
<br>
   web-portal'a CMS    CN  SAN  ,  5223   ,   5222.<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TURN CMS（serverAddress）-クライアントが会議に接続したときにCMSがトラフィックの受信を待機するIPアドレス。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TURN CMA（clientAddress）-クライアント（内部と外部の両方）が会議に参加するためにトラフィックを送信する必要があるIPアドレス。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Expressway-Eに白いIPアドレスがあり、NATの背後に配置されていない場合、TURN CMA（clientAddress）とTURN CMS（serverAddress）の両方を同じアドレスにすることができます。 Expressway-EがNATの背後で動作する場合、TURN CMAは、NAT Expresswayが接続するホワイトIPアドレスです。 TURN CMS（serverAddress）は、Expressway-Eが持つ組織の内部ネットワークのIPアドレスです。同じ目的で、Cisco Meeting Server'aとExpressway-Eの間でポート3478が開きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Expressway-EがまだNATの背後にある場合は、ファイアウォールで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いわゆるNAT-Reflection</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">設定する</font></a><font style="vertical-align: inherit;">必要があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">その本質は、TURN CMA（clientAddress）を介して会議に接続する内部クライアントやデバイスがCisco Meeting Serverアドレスにリダイレクトされ、すべてが機能するという事実に要約されます。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NATを介して作業する場合の作業スキーム</font></font></b>
                        <div class="spoiler_text"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/kz/h0/vw/kzh0vwjmv2vfom_5ayzienk9hg0.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/oj/at/iz/ojatiz8pnaead8rhytdqadmfeno.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/1l/3c/mq/1l3cmqnj4vzxeuqjwqfxqql_i7w.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/eg/d-/_m/egd-_mnbzmcr8xw82cmimywy_p4.png"></a><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがクラスターに当てはまる場合、CMSクラスターのいずれかのサーバーでPostmanを使用してTURNを構成する必要があり、これらの設定はCMSクラスターの他のサーバーに自動的に適用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TURNサーバーを作成し、次のパラメーターを指定します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーアドレス</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">clientAddress</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザー名</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パスワード</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の2つのパラメーターについてはすでに書きました。</font><font style="vertical-align: inherit;">3番目と4番目は、Expressway-Eで作成したアカウントのログインとパスワードです。</font><font style="vertical-align: inherit;">最後の</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイプ</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はTURNサーバーのタイプで、この場合は高速道路ですが、CMSでもかまいません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lk/vg/oj/lkvgojpubmlujktibvhu2dic-oo.png"><br>
<br>
<img src="https://habrastorage.org/webt/up/du/cg/upducgpd3ugvuckxgw38dydy3ik.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラスターの場合、2つ（私の場合）またはそれ以上のTURNサーバーが作成され、それらの数はExpresswayクラスター内のサーバーの数と等しくなります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2n/jy/j1/2njyj1mtmfsc6oeen6o9zgmrhqk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
status'eでは、CMS'aなどのTURNで最終的に利用可能かどうかを確認できます。以下を参照してください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ry/ca/6s/ryca6sfcftsvgbh2eiy3atbb8bi.png"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMSを指定する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Expressway-CがCMSクラスターを正しく表示するには、外部ドメインのゾーンの内部DNSサーバーに</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結合</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディレクトリを作成する必要があります（Dual-Domainスクリプトがある場合）</font><font style="vertical-align: inherit;">。これには</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_tls</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ディレクトリが含まれ、</font><font style="vertical-align: inherit;">タイプSRV _cms-webのDNSレコードがすでに3つあります。それぞれタイプAのDNSレコードを示す対応する優先度cms01.internal-domain.ru、cms02.internal-domain.ru、cms03.internal-domain.ru。</font><font style="vertical-align: inherit;">
join。[external] -example.comと書いて、ExpresswayがCMSクラスター内のすべてのサーバーを「認識」できるようにします。</font><font style="vertical-align: inherit;">
次に、MRA（モバイルおよびリモートアクセス）モードを有効にする必要があります。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/kd/cf/ty/kdcftynebl3icd8cwwxcdf9miim.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/r0/ky/av/r0kyavq6srhk-i-a2g83a4sgc3m.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MRAをオンにする</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
高速道路-C上</font><font style="vertical-align: inherit;">
で高速道路-E </font><font style="vertical-align: inherit;">
オン道路-E（すべてのクラスタであれば）、あなたが変わらないそれを残した場合は、代わりに外部からCMSへの接続、ユーザーがウェブに接続する443から例えば、445にデフォルトのポートを変更することをお勧めしますExpressway-E管理者 </font><font style="vertical-align: inherit;">
一般に、このすべてがファイアウォールで機能するためには、ポートが開いている必要があります。</font><font style="vertical-align: inherit;">実際にはここにあります。</font><font style="vertical-align: inherit;">
アドレス</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">join.example.comにアクセス</font></a><font style="vertical-align: inherit;">するだけで、外部からWebポータルの可用性を確認します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ブランディングも終了しましたが、それについては後で詳しく説明します。</font><font style="vertical-align: inherit;">
コールルーティングはさまざまな方法で調整できます。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/7i/oj/fa/7iojfadizkpgcexw5hxmqbulthi.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/s5/hk/hxs5hkdxb2y07jyumapn9mk3fxy.png"><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/j3/pw/ti/j3pwtifsfn2of4v-qi0u7hyytrg.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/os/ez/-c/osez-ciw-_uncf7h9ukg1ndenbe.png"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/mc/s8/za/mcs8zad6lxwbngkunlifytkcduu.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コールをCisco UCMにルーティングします。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コールをCisco Expressway-Cにルーティングします。</font><font style="vertical-align: inherit;">（推奨）。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
違いは、誰が中央のコールルーティングノードとして機能するかです。</font><font style="vertical-align: inherit;">一般に、この全体は、同じCMSとExpresswayの優先順位を使用して柔軟に構成できます。</font><font style="vertical-align: inherit;">私たちの場合、2番目のオプションがあります。</font><font style="vertical-align: inherit;">下の図を参照してください。</font><font style="vertical-align: inherit;">この画像は、導入ガイドから取得したものであり、すべてファイアウォールの外側からのものです。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/el/wf/n-/elwfn-653yerpsy5rlbffizq3qs.png"></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMSルーティング</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
着信通話</font><font style="vertical-align: inherit;">
発信通話</font><font style="vertical-align: inherit;">
CUCMをSIPプロキシとして（最初のオプションとして）指定できますが、それに応じてCUCMを自分で構成する必要があります...トランク、SIPルートパターン、ルートリストなど。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/sk/47/yw/sk47yw9twglqipd52mp5oxuvbnw.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/op/g9/7u/opg97u06tdbaxbyswotgp98qehq.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企業間通話</font></font></h3><br>
<i>Business to Business (B2B)      Expressway. 2    ,     / ,      ,       Firewall'.</i><br>
<br>
<i>  B2B       Expressway.        , CUCM      SIP-, Expressway     DNS.              .   Expressway DNS,         . DNS     .</i><br>
<br>
<b>       Expressway-E.</b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の組織では、SIP-URIが</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meeting@example.ru</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">である特別に設計された会議への着信呼び出しのみを許可する必要が</font><b><i><font style="vertical-align: inherit;">あります。</font></i></b></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
これは、正規表現 " </font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">meeting @ example \ .ru \。*</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "を</font><font style="vertical-align: inherit;">
使用して行います。ドキュメントのパラメータおよび/または高速道路自体。</font><font style="vertical-align: inherit;">
非常に簡単な場合は、DefaultZoneから</font><font style="vertical-align: inherit;">UC Traversalゾーンの</font><font style="vertical-align: inherit;">宛先アドレス</font><i><b><font style="vertical-align: inherit;">meeting@example.ru</font></b></i><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">SIP通話を送信しています</font><font style="vertical-align: inherit;">。</font><b><font style="vertical-align: inherit;">Expressway-Eへの発信コールの検索ルールを作成します。</font></b><font style="vertical-align: inherit;"> 
私たちは、「正規表現の助けを借りてこれを行います</font><i><b><font style="vertical-align: inherit;">（?!.*@% localdomains％。* $）。*</font></b></i><font style="vertical-align: inherit;">」</font><font style="vertical-align: inherit;">
再び、それは非常にシンプルだ場合、我々はしている</font><b><i><font style="vertical-align: inherit;">の着信を</font></i></b></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/nd/jz/pg/ndjzpgv2urc5vdbv7yaf3ho4k9w.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><i><b><font style="vertical-align: inherit;"></font></b></i><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br><font style="vertical-align: inherit;"></font><i><b><font style="vertical-align: inherit;"></font></b></i><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/zb/_d/gx/zb_dgxzlqlwsmg6ere87fqjxrwi.png"></a><br>
<br><font style="vertical-align: inherit;"></font><b><i><font style="vertical-align: inherit;"></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（それは着信です、それはExpressway-Cから来たので、私たちにとっては、加入者に関しては発信です）宛先アドレスが何かであるUC TraversalゾーンからのSIPコールですが、ローカルドメインではありません</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、DNSゾーンに送信して、宛先アドレスの正常な検索（@の後の値とインターネット上のIPアドレスとのマッチング）と正常な呼び出しを行います。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トランスフォーム</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
デュアルドメインでは、あなたは内部のいずれかに外部ドメインを変換する必要があります。</font><font style="vertical-align: inherit;">これは、正規表現 " </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（。*）で行います。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.ru（（：|;）。*）？</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"and"</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1 \ @ internal.ru</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "</font><b><font style="vertical-align: inherit;"> Expressway-C</font></b><font style="vertical-align: inherit;"> 
正規表現にそれぞれ</font><b><font style="vertical-align: inherit;">検索ルールを作成します</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/o0/vb/kg/o0vbkg4tmeh3okphpofkqkmqh_m.png"></a><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/zj/ts/pf/zjtspfhtxwfpyqypwdoztgoknrg.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。* @ example.ru</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。* @ example.ru</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。* @ example.ru</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。* @（cucm-01 \。| cucm-02 \。）？例\ .ru \。*</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。* @（cucm-01 \。| cucm-02 \。）？例\ .ru \。*</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（？！。* @（cucm-01 \。| cucm-02 \。）？例\ .ru \。*</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トランスフォーム</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
コールを正しくルーティングするには、トランスフォームを追加する必要もあります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">発信者のURIの「：5060」ポートを切り取ります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">宛先エイリアスをURIタイプに変換します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUCM-Publisherからの呼び出しを行うときに、IPアドレスをドメイン名に置き換えます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CUCM-Subscriberから電話をかける場合、IPアドレスをドメイン名に置き換えます。</font></font></li>
</ol><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/pl/6x/2m/pl6x2m0hndpkogsrvqbvf78ie04.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでは、テスト呼び出しをしてみましょう。 Cisco RoomKit Miniを使用して、組織内外からCisco RoomKit PlusからのB2Bコールで会議に電話をかけます。Web経由でも参加します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web経由で会議に参加します。</font></font></b><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">外に電話します。</font></b><b><font style="vertical-align: inherit;">内側から電話をかけ</font></b><font style="vertical-align: inherit;"> 
た結果、会議が集まりました。</font><font style="vertical-align: inherit;">
ちなみに、1900 @ external.ruと999@internal.ruはCUCMに登録されています。</font><font style="vertical-align: inherit;">
それがすべてExpresswayとCMSをどのように探したか。</font><b><font style="vertical-align: inherit;">高速道路-Eに対する着信</font></b><font style="vertical-align: inherit;"> 
呼び出しが高速道路-Eを経たかの詳細な分析</font><b><font style="vertical-align: inherit;">道路-Cへの着信コール</font></b><font style="vertical-align: inherit;"> 
の呼び出しが高速道路-Cを通過したかの詳細な分析</font><b><font style="vertical-align: inherit;">CMSへの着信コール</font></b></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/mc/s8/za/mcs8zad6lxwbngkunlifytkcduu.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/mw/bv/gr/mwbvgryvrveywkc3p1krf3cbuiq.png"><br>
</a><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/yd/m5/l6/ydm5l6hpyslv1ka3xbwsyewmzwm.png"></a><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/xz/cg/ia/xzcgia4ei5g3pppevzs93hxo25c.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ho/bx/cl/hobxclthkeaifgjulovxzegeghy.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ca/c7/gr/cac7grpsfdjqwmk8gmmou1qdeyu.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ae/ou/rr/aeourrosfhzkzv2u54rv2j_l9ue.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/gr/ao/c3/graoc3phr5wfkvcixpok8yhyskg.png"></a><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/jy/ya/_o/jyya_o64brciluoaghdkqqwmhhi.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/-k/pp/mu/-kppmuvxydedwutpgoyoat8wqfo.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/zb/lb/0d/zblb0d8kvu_bzud4qtmwpoemf68.png"></a><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/ng/rf/ca/ngrfcazf6caqykgvmdzu1leh0uw.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><img src="https://habrastorage.org/webt/jz/mp/ab/jzmpabi372jme9w7djnkpjtv0hc.png"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一部の名前とIPアドレスを隠蔽してしまったことをあらかじめお詫びします。これは、現在機能している実際の戦闘設定を説明しているため、セキュリティ上の問題があるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出典：</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cisco-Expressway-Basic-Configuration-Deployment-Guide-X12-5-4</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cisco-Expressway-Cluster-Creation-and-Maintenance-Deployment-Guide-X12-5</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cisco-Expressway-IP-Port-Usage-for-Firewall-Traversal-Deployment-Guide-X12-5</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cisco-Expressway_MRA-deployment-guide</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cisco-Meeting-Server-Deployment-Planning-and-Preparation-with-Expressway-Guide</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cisco-Meeting-Server-2-4-and-later-Deployments-with-CUCM</font></font></a></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja466157/index.html">ブロックチェーン：PoCは何を構築する必要がありますか？</a></li>
<li><a href="../ja466159/index.html">現代の交換で速度が重要な理由と競合他社を追い抜く方法：3つの実用的な方法</a></li>
<li><a href="../ja466165/index.html">人工知能がプロジェクトを管理する方法</a></li>
<li><a href="../ja466169/index.html">JetBrainsの現役学生向けの特別オファー</a></li>
<li><a href="../ja466171/index.html">JUG.EKBに行く5つの理由</a></li>
<li><a href="../ja466179/index.html">fform：React＆JSONSchema-最大の柔軟性</a></li>
<li><a href="../ja466181/index.html">CのPython（C API）</a></li>
<li><a href="../ja466183/index.html">ClickHouseのスマート文字列処理アルゴリズム</a></li>
<li><a href="../ja466187/index.html">Unity3dのビジュアルロジックエディター。パート2</a></li>
<li><a href="../ja466191/index.html">アメリカにおけるネットワーク中立性のための戦いについての主なことは、出来事の年表と現在の状況です</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>