<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèº‚Äçüî¨ üå¶Ô∏è üßóüèæ Bancos de dados na plataforma IIoT: como o Mail.ru Cloud Solutions funciona com petabytes de dados de v√°rios dispositivos üöò üî∏ üåê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ol√°, sou Andrey Sergeev, chefe do grupo de desenvolvimento de solu√ß√µes de IoT do Mail.ru Cloud Solutions . Sabe-se que um banco de dados universal n√£o...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Bancos de dados na plataforma IIoT: como o Mail.ru Cloud Solutions funciona com petabytes de dados de v√°rios dispositivos</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/497570/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/cq/9y/ln/cq9yln3qusppabwqddmvvyftzdk.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ol√°, sou Andrey Sergeev, chefe do grupo de desenvolvimento de solu√ß√µes de IoT do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sabe-se que um banco de dados universal n√£o existe. </font><font style="vertical-align: inherit;">Especialmente quando voc√™ precisa criar uma plataforma de Internet das coisas capaz de processar milh√µes de eventos a partir de sensores por segundo no modo quase em tempo real. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nosso produto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mail.ru IoT Platform</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> come√ßou com um prot√≥tipo baseado no Tarantool. </font><font style="vertical-align: inherit;">Vou lhe dizer para onde foi, quais problemas encontramos e como resolvemos. </font><font style="vertical-align: inherit;">E tamb√©m mostra a arquitetura atual da plataforma moderna da Internet industrial das coisas. </font><font style="vertical-align: inherit;">No artigo, falaremos:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre nossos requisitos de banco de dados, solu√ß√£o universal e teorema da CAP;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se o banco de dados + servidor de aplicativos em uma abordagem √© uma bala de prata;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre a evolu√ß√£o da plataforma e os bancos de dados usados ‚Äã‚Äãnela;</font></font></li>
<li> ,     Tarantool‚Äô       .</li>
</ul><a name="habracut"></a><br>
<i>  ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">@Databases Meetup</a> by Mail.ru Cloud Solutions.    ,  :</i><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/wigSv2_zWBU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br>
<h2>Mail.ru IoT Platform   </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nosso produto, Mail.ru IoT Platform, √© uma plataforma escal√°vel e independente de hardware para criar solu√ß√µes para a Internet industrial das coisas. </font><font style="vertical-align: inherit;">Ele permite que voc√™ colete dados de centenas de milhares de dispositivos simultaneamente e processe esse fluxo no modo quase em tempo real (ou seja, quase em tempo real), incluindo o uso de regras personalizadas - scripts em Python ou Lua. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A plataforma pode armazenar uma quantidade ilimitada de dados brutos das fontes, existe um conjunto de componentes prontos para visualiza√ß√£o e an√°lise de dados, ferramentas integradas para an√°lise preditiva e cria√ß√£o de aplicativos com base na plataforma.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kz/eq/lx/kzeqlxssqhyx4fop4gl2ifrnxwe.jpeg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â a apar√™ncia do dispositivo Mail.ru IoT Platform.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
No momento, a plataforma est√° dispon√≠vel para instala√ß√£o de acordo com o modelo local nas instala√ß√µes do cliente; este ano, est√° planejado lan√ßar a plataforma como um servi√ßo na nuvem p√∫blica.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prot√≥tipo do Tarantool: como tudo come√ßou</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nossa plataforma come√ßou como um projeto piloto - um prot√≥tipo com uma √∫nica inst√¢ncia Tarantool, cuja principal fun√ß√£o era receber fluxo de dados de um servidor OPC, processar eventos recebidos usando scripts Lua em tempo real, monitorar indicadores-chave com base neles e gerar eventos e alertas em sistemas superiores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/258/2a5/f8c/2582a5f8c1d12d5717365bb82081efa4.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esquema do prot√≥tipo do Tarantool</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Este prot√≥tipo at√© trabalhou em condi√ß√µes de combate por v√°rios meses em um local de cluster, √© uma plataforma para a produ√ß√£o de petr√≥leo em alto mar, no Iraque, no Golfo P√©rsico. </font><font style="vertical-align: inherit;">Ele monitorou os principais indicadores e forneceu dados para o sistema de visualiza√ß√£o e o log de eventos. </font><font style="vertical-align: inherit;">O piloto foi reconhecido como bem-sucedido, mas como costuma ser o caso dos prot√≥tipos - ele n√£o foi al√©m do piloto e o prot√≥tipo ficou em espera por um longo tempo at√© cair em nossas m√£os.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nossos objetivos no desenvolvimento de uma plataforma IoT</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juntamente com o prot√≥tipo, recebemos a tarefa - criar uma plataforma IoT completa, escal√°vel e tolerante a falhas, que mais tarde poderia ser lan√ßada como um servi√ßo em uma nuvem p√∫blica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Precis√°vamos criar uma plataforma com o seguinte introdut√≥rio:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conecte centenas de milhares de dispositivos simultaneamente.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Receba milh√µes de eventos por segundo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Processamento de fluxo no modo quase em tempo real.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Armazenamento de dados brutos por v√°rios anos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferramentas para an√°lise de streaming e an√°lise hist√≥rica.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suporte √† implanta√ß√£o em v√°rios datacenters para recupera√ß√£o m√°xima de desastres.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pr√≥s e contras do prot√≥tipo da plataforma</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No momento do in√≠cio do desenvolvimento ativo, o prot√≥tipo tinha a seguinte apar√™ncia:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarantool, usado como banco de dados + servidor de aplicativos (Application Server);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">todos os dados s√£o armazenados na mem√≥ria do Tarantool;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">um aplicativo em Lua no mesmo Tarantool, que executa as fun√ß√µes de recebimento de dados, processamento e chamada de scripts do usu√°rio nos dados recebidos.</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Essa abordagem para criar aplicativos tem suas vantagens</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O c√≥digo e os dados est√£o em um √∫nico local, o que permite operar os dados diretamente na mem√≥ria do aplicativo e remove os custos indiretos das visitas √† rede t√≠picas dos aplicativos tradicionais.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Tarantool usa o JIT (Just in Time Compiler) para Lua, que em tempo de compila√ß√£o compila o c√≥digo Lua no c√≥digo da m√°quina, o que permite que scripts simples da Lua sejam executados a uma velocidade compar√°vel ao c√≥digo C (40.000 RPS de um n√∫cleo - e esse n√£o √© o limite !).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Tarantool √© baseado em multitarefa cooperativa, ou seja, cada chamada para o procedimento armazenado √© iniciada em sua pr√≥pria fibra, um an√°logo da corotina, que proporciona um aumento ainda maior no desempenho em tarefas com opera√ß√µes de E / S, por exemplo, visitas √† rede.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uso eficiente de recursos - poucas ferramentas podem lidar com 40.000 solicita√ß√µes por segundo a partir de um √∫nico n√∫cleo de CPU.</font></font></li>
</ol><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas h√° desvantagens significativas</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Precisamos armazenar dados brutos dos dispositivos por v√°rios anos, mas n√£o temos centenas de petabytes de mem√≥ria para o Tarantool.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma consequ√™ncia direta da primeira vantagem: todo o c√≥digo da nossa plataforma √© armazenado nos procedimentos no banco de dados, o que significa que qualquer atualiza√ß√£o na base de c√≥digo da plataforma √© uma atualiza√ß√£o do banco de dados, o que √© muito doloroso.</font></font></li>
<li>  ,           .  ,        Tarantool       24-32   (Tarantool       )    .          ‚Äî        Tarantool,    .</li>
<li>        .    - ,  Tarantool   Lua    ,   - ,  LuaJIT           .</li>
</ol><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o: O</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tarantool √© uma boa op√ß√£o para criar MVP, mas para uma plataforma IoT completa, escal√°vel, facilmente suportada e tolerante a falhas que pode receber, processar e armazenar dados de centenas de milhares de dispositivos, n√£o √© adequado.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As principais dores do prot√≥tipo que quer√≠amos nos livrar</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de tudo, quer√≠amos curar duas dores do nosso prot√≥tipo:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Afaste-se do conceito de banco de dados + servi√ßo de aplicativo. </font><font style="vertical-align: inherit;">Quer√≠amos atualizar o c√≥digo do aplicativo, independentemente do armazenamento de dados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simplifique o dimensionamento din√¢mico sob carga. </font><font style="vertical-align: inherit;">Eu queria obter uma escala horizontal independente e f√°cil de tantas fun√ß√µes quanto poss√≠vel.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para resolver esses problemas, escolhemos uma abordagem inovadora e ainda n√£o testada: arquitetura de microsservi√ßos e separa√ß√£o de servi√ßos no banco de dados Stateless - aplicativos e Stateful -. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para facilitar ainda mais a opera√ß√£o e o dimensionamento horizontal dos servi√ßos Stateless, n√≥s os cont√™ineres e adotamos o Kubernetes.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0db/687/017/0db687017d254d99d9502d5b4362a4f2.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descobrimos os servi√ßos sem estado, resta decidir o que fazer com os dados.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requisitos b√°sicos de banco de dados para a plataforma IoT</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Inicialmente, n√£o quer√≠amos cercar o jardim e quer√≠amos armazenar todos os dados da plataforma em um banco de dados universal. </font><font style="vertical-align: inherit;">Ap√≥s analisar as metas, chegamos √† seguinte lista de requisitos para um banco de dados universal:</font></font><br>
<br>
<ol>
<li><strong>ACID-</strong> ‚Äî        ,          .</li>
<li><strong> </strong> ‚Äî         .</li>
<li><strong>     </strong> ‚Äî      ,         near real-time.</li>
<li><strong></strong> ‚Äî        -    .</li>
<li><strong></strong> ‚Äî      ,          .</li>
<li><strong> </strong> <strong>  </strong> ‚Äî          (  !),     .</li>
<li><strong> </strong>‚Äî           ,       (      !).</li>
<li><strong>SQL</strong> ‚Äî         .</li>
</ol><br>
<h2>      CAP-</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de come√ßar a classificar todos os bancos de dados dispon√≠veis no mercado para conformidade com nossos requisitos, decidimos validar nossos requisitos de sanidade usando uma ferramenta bastante conhecida - os teoremas da PAC. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O teorema do CAP diz que um sistema distribu√≠do pode ter no m√°ximo duas das tr√™s propriedades a seguir:</font></font><br>
<br>
<ol>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consist√™ncia (consist√™ncia dos dados)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - em todos os n√≥s de computa√ß√£o em um determinado momento, os dados n√£o se contradizem.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disponibilidade</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - qualquer solicita√ß√£o para um sistema distribu√≠do termina com uma resposta correta, mas sem garantia de que as respostas de todos os n√≥s no sistema correspondam.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toler√¢ncia de parti√ß√£o</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - mesmo se n√£o houver conex√£o entre n√≥s, eles continuam a funcionar independentemente um do outro.</font></font></li>
</ol><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_p/8i/0o/_p8i0olwyxcps5ymii2x6j1diow.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, o sistema CA cl√°ssico √© um cluster Master-Slave do PostgreSQL com replica√ß√£o s√≠ncrona, e o sistema AP cl√°ssico √© o Cassandra. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos retornar aos nossos requisitos e classific√°-los usando o teorema da CAP:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As transa√ß√µes de ACID e consist√™ncia estrita (ou pelo menos n√£o consist√™ncia eventual) s√£o C.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A escala horizontal para escrita e leitura, al√©m de alta disponibilidade, √© A (multimestre).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A toler√¢ncia a falhas √© P; quando um data center cai, a plataforma n√£o deve morrer.</font></font></li>
</ol><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xv/fr/ju/xvfrjubabyxcsbepcrhpr_fuht0.jpeg"></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : o banco de dados universal de que precisamos deve ter todas as tr√™s propriedades do teorema da CAP, o que significa que n√£o h√° banco de dados universal para todos os nossos requisitos.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escolhendo um banco de dados para os dados com os quais a plataforma IoT trabalha</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ n√£o pode escolher um banco de dados universal, decidimos selecionar os tipos de dados com os quais a plataforma trabalhar√° e selecionar um banco de dados para cada tipo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Numa primeira aproxima√ß√£o, dividimos os dados em dois tipos:</font></font><br>
<br>
<ol>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meta</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><strong><font style="vertical-align: inherit;">informa√ß√£o</font></strong><font style="vertical-align: inherit;"> √© um modelo do mundo, dispositivos, configura√ß√µes, regras, quase todos os dados, exceto aqueles que transmitem dispositivos finais.</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dados brutos dos dispositivos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - leituras de sensores, telemetria e informa√ß√µes de servi√ßo dos dispositivos. </font><font style="vertical-align: inherit;">De fato, s√£o s√©ries temporais, em que cada mensagem individual cont√©m um valor e um carimbo de data / hora.</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escolhendo um banco de dados para metadados</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requisitos de banco de dados para metadados</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Os metadados s√£o inerentemente relacionais. Eles s√£o caracterizados por uma pequena quantidade, raramente s√£o modificados, mas s√£o dados importantes, n√£o podem ser perdidos; portanto, a consist√™ncia √© importante mesmo dentro da estrutura da replica√ß√£o ass√≠ncrona, al√©m de transa√ß√µes ACID e escala de leitura horizontal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
H√° relativamente poucos dados e eles s√£o alterados com pouca frequ√™ncia; portanto, voc√™ pode sacrificar a escala horizontal para a grava√ß√£o, bem como a poss√≠vel inacessibilidade do banco de dados de grava√ß√£o em caso de acidente. Ou seja, em termos do teorema da PAC, precisamos de um sistema de CA. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que √© adequado no caso usual</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Com essa declara√ß√£o do problema, qualquer banco de dados relacional cl√°ssico com suporte para clusters com replica√ß√£o ass√≠ncrona como PostgreSQL ou MySQL seria bastante adequado para n√≥s.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recursos da nossa plataforma</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Tamb√©m precis√°vamos de suporte para √°rvores com requisitos espec√≠ficos. Como parte do prot√≥tipo, havia um recurso dos sistemas da classe BDVV (bancos de dados em tempo real) - modelando o mundo usando uma √°rvore de tags. Eles permitem combinar todos os dispositivos clientes em uma estrutura em √°rvore, o que facilita o gerenciamento de um grande n√∫mero de dispositivos e sua exibi√ß√£o.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b7c/58e/f7e/b7c58ef7ef64fc742bcbd0f3190d5510.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â assim que √© a exibi√ß√£o dos dispositivos na forma de uma estrutura em √°rvore.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Essa √°rvore permite vincular dispositivos finais ao ambiente, por exemplo, voc√™ pode colocar dispositivos localizados fisicamente em uma sala em uma sub√°rvore, o que facilita muito o trabalho com eles no futuro. </font><font style="vertical-align: inherit;">Essa √© uma fun√ß√£o conveniente, al√©m disso, quer√≠amos trabalhar ainda mais no nicho do sistema de detonador a√©reo, e ali a presen√ßa de tal funcionalidade √© realmente o padr√£o da ind√∫stria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para a implementa√ß√£o completa de √°rvores de tags, um banco de dados em potencial deve atender aos seguintes requisitos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suporte para √°rvores com largura e profundidade arbitr√°rias.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modifica√ß√£o de elementos da √°rvore em transa√ß√µes ACID.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alto desempenho ao atravessar uma √°rvore.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os bancos de dados relacionais cl√°ssicos podem lidar com √°rvores pequenas muito bem, mas n√£o com √°rvores arbitr√°rias. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solu√ß√£o poss√≠vel. </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Use dois bancos de dados - um banco de dados gr√°fico para armazenar uma √°rvore e um banco de dados relacional para armazenar o restante das metainforma√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essa abordagem tem v√°rias grandes desvantagens ao mesmo tempo:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para garantir a consist√™ncia entre dois bancos de dados, voc√™ precisa adicionar um coordenador de transa√ß√µes externas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esse design √© dif√≠cil de manter e n√£o √© muito confi√°vel.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Na sa√≠da, temos dois bancos de dados em vez de um, enquanto o banco de dados gr√°fico √© necess√°rio apenas para suportar funcionalidades limitadas.</font></font></li>
</ol><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5db/00d/e2d/5db00de2daec50d59dded73a98bc932c.jpg"></div><br>
<h4><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma solu√ß√£o poss√≠vel, mas n√£o muito boa, com dois bancos de dados</font></font></i></h4><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nossa solu√ß√£o para armazenar metadados</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Tamb√©m pensamos e lembramos que, inicialmente, essa funcionalidade foi implementada em um prot√≥tipo baseado no Tarantool e resultou muito bem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de continuar, gostaria de fornecer uma defini√ß√£o n√£o padr√£o de Tarantool: </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tarantool n√£o √© um banco de dados, mas um conjunto de primitivas para criar um banco de dados para o seu caso espec√≠fico. </font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primitivas dispon√≠veis prontas para uso:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo - um an√°logo das tabelas no banco de dados para armazenar dados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transa√ß√µes ACID completas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A replica√ß√£o √© ass√≠ncrona usando logs WAL.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Uma ferramenta de sharding que suporta compartilhamento autom√°tico de novo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Superfast LuaJIT para procedimentos armazenados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grande biblioteca padr√£o.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerenciador de pacotes LuaRocks com ainda mais pacotes.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nossa solu√ß√£o CA foi um banco de dados relacional + gr√°fico baseado no Tarantool. </font><font style="vertical-align: inherit;">Reunimos o reposit√≥rio de meta informa√ß√µes dos sonhos com base nas primitivas do Tarantool:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Espa√ßo para armazenamento de dados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transa√ß√µes ACID - estavam dispon√≠veis.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Replica√ß√£o ass√≠ncrona - estava dispon√≠vel.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rela√ß√µes - feitas em procedimentos armazenados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Årvores - tamb√©m feitas em procedimentos armazenados.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A instala√ß√£o do cluster que temos √© cl√°ssica para esses sistemas - um Master para grava√ß√£o e v√°rios Slive com replica√ß√£o ass√≠ncrona para dimensionamento para leitura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O resultado: um h√≠brido r√°pido e escal√°vel de um banco de dados relacional e gr√°fico. </font><font style="vertical-align: inherit;">Uma √∫nica inst√¢ncia do Tarantool √© capaz de lidar com milhares de solicita√ß√µes de leitura, incluindo aquelas com passagem de √°rvore ativa.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escolhendo um banco de dados para dados de dispositivos</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requisitos de banco de dados para dados de dispositivos</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Esses dados s√£o caracterizados por grava√ß√£o frequente e uma grande quantidade de dados: milh√µes de dispositivos, v√°rios anos de armazenamento, petabytes de informa√ß√µes de mensagens recebidas e dados armazenados. Sua alta disponibilidade √© importante, pois s√£o as leituras dos sensores que operam principalmente nas regras do usu√°rio e em nossos servi√ßos internos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para um banco de dados, o dimensionamento horizontal para leitura e grava√ß√£o, disponibilidade e toler√¢ncia a falhas, bem como a disponibilidade de ferramentas anal√≠ticas prontas para trabalhar com esse conjunto de dados, de prefer√™ncia com base em SQL, s√£o importantes. Ao mesmo tempo, podemos sacrificar a consist√™ncia e as transa√ß√µes ACID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, no quadro do teorema da PAC, precisamos de um sistema AP. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Requisitos adicionais</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">T√≠nhamos alguns requisitos adicionais para decidir onde as quantidades gigantescas de dados seriam armazenadas:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√©ries temporais - os dados dos sensores s√£o s√©ries temporais, eu queria obter uma base especializada.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C√≥digo aberto - as vantagens do c√≥digo aberto n√£o precisam de coment√°rios.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um cluster livre √© um flagelo comum entre bancos de dados novos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boa compacta√ß√£o - dada a quantidade de dados e, em geral, sua uniformidade, eu queria compactar com efici√™ncia os dados armazenados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opera√ß√£o bem-sucedida - quer√≠amos come√ßar em um banco de dados que algu√©m j√° esteja explorando ativamente pr√≥ximo de nossas cargas, a fim de minimizar os riscos.</font></font></li>
</ol><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nossa decis√£o</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">O ClickHouse atendeu exclusivamente aos nossos requisitos - um banco de dados baseado em colunas de s√©ries temporais com replica√ß√£o, multimaster, sharding, suporte a SQL e um cluster gratuito. </font><font style="vertical-align: inherit;">Al√©m disso, o Mail.ru tem muitos anos de experi√™ncia bem-sucedida na opera√ß√£o de um dos maiores clusters ClickHouse em volume de armazenamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas n√£o importa o qu√£o bom o ClickHouse seja, e temos problemas com ele.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problemas de banco de dados para esses dispositivos e suas solu√ß√µes</font></font></h3><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O problema com o desempenho de grava√ß√£o.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Imediatamente houve um problema com o desempenho de grava√ß√£o de um grande fluxo de dados. Eles precisam ser levados ao banco de dados anal√≠tico o mais r√°pido poss√≠vel, para que as regras que analisam o fluxo de eventos em tempo real possam analisar o hist√≥rico de um dispositivo espec√≠fico e decidir se devem ou n√£o gerar um alerta. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solu√ß√£o para o problema</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O ClickHouse n√£o tolera v√°rias inser√ß√µes √∫nicas (inser√ß√µes), mas funciona bem com grandes pacotes (lotes) de dados - ele pode lidar facilmente com a grava√ß√£o de lotes em milh√µes de linhas. Decidimos armazenar em buffer o fluxo de dados recebidos e col√°-los em lotes.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/66f/85b/77d/66f85b77dfb1fe8788658f7455bbb56b.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Por isso, lidamos com o desempenho ruim da grava√ß√£o.O</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
problema da </font><i><font style="vertical-align: inherit;">grava√ß√£o</font></i><font style="vertical-align: inherit;"> foi resolvido, mas nos custou um atraso significativo de v√°rios segundos entre os dados que entram no sistema e a apar√™ncia deles em nosso banco de dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E isso √© cr√≠tico para v√°rios algoritmos que respondem aos dados dos sensores em tempo real. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leia o problema de desempenho.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A an√°lise de fluxo para processamento de dados em tempo real precisa constantemente de informa√ß√µes do banco de dados - s√£o dezenas de milhares de pequenas consultas. Em m√©dia, um n√≥ ClickHouse realiza cerca de cem consultas anal√≠ticas ao mesmo tempo; ele foi criado para consultas anal√≠ticas pesadas e pouco frequentes para processar grandes quantidades de dados. Obviamente, isso n√£o √© adequado para calcular tend√™ncias no fluxo de dados de centenas de milhares de sensores.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/20a/34a/2a9/20a34a2a9469b6a0276c8437a7dd6ec8.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Com um grande n√∫mero de solicita√ß√µes, o ClickHouse n√£o funciona bem.Resolvendo </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o problema</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Decidimos colocar um cache na frente do ClickHouse, que conter√° os dados mais solicitados nas √∫ltimas 24 horas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os dados das √∫ltimas 24 horas n√£o s√£o de um ano, mas tamb√©m de uma quantidade bastante significativa de dados; portanto, tamb√©m precisamos de um sistema AP com escala horizontal para leitura e grava√ß√£o, mas com foco no desempenho, tanto para gravar eventos √∫nicos quanto para m√∫ltiplos lendo. Tamb√©m requer alta disponibilidade, an√°lise de s√©ries temporais, persist√™ncia e TTL embutido.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No final, precis√°vamos de um ClickHouse r√°pido, que pode at√© armazenar tudo na mem√≥ria para maior velocidade. </font><font style="vertical-align: inherit;">Como n√£o encontramos nenhuma solu√ß√£o adequada no mercado, decidimos constru√≠-la com base nos primitivos do Tarantool:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Persist√™ncia - √© (WAL-logs + snapshots).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Desempenho - existem todos os dados na mem√≥ria.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dimensionamento - h√° replica√ß√£o + sharding.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alta disponibilidade - existe.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ferramentas de an√°lise de s√©ries temporais (agrupamento, agrega√ß√£o etc.) - feitas em procedimentos armazenados.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TTL - realizado em procedimentos armazenados com uma fibra de fundo (corotina).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Acabou sendo uma solu√ß√£o conveniente e produtiva - uma inst√¢ncia cont√©m 10.000 RPCs para leitura, incluindo consultas anal√≠ticas de at√© dezenas de milhares de consultas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√° a arquitetura resultante:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fb3/ef4/260/fb3ef426007f70be5c2a737b75cea80b.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arquitetura final: ClickHouse como banco de dados anal√≠tico e cache Tarantool que armazena dados em 24 horas</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Novo tipo de dados - estado e seu armazenamento</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selecionamos bancos de dados especializados para todos os dados, mas a plataforma se desenvolveu e um novo tipo de dados apareceu - state. </font><font style="vertical-align: inherit;">O estado cont√©m o estado atual de dispositivos e sensores, bem como v√°rias vari√°veis ‚Äã‚Äãglobais para regras de an√°lise de fluxo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, h√° uma l√¢mpada na sala. </font><font style="vertical-align: inherit;">Ele pode ser ativado e desativado e voc√™ sempre deve ter acesso ao seu estado atual, inclusive nas regras. </font><font style="vertical-align: inherit;">Outro exemplo √© uma vari√°vel nas regras de fluxo, por exemplo, algum tipo de contador. </font><font style="vertical-align: inherit;">Esse tipo de dado √© caracterizado pela necessidade de grava√ß√£o frequente e acesso r√°pido, mas, ao mesmo tempo, os dados ocupam uma quantidade relativamente pequena.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O reposit√≥rio de meta-informa√ß√µes √© pouco adequado para esses tipos de dados, pois o estado pode mudar com frequ√™ncia e, no nosso caso, o limite de grava√ß√£o √© limitado a um mestre. </font><font style="vertical-align: inherit;">Os armazenamentos operacionais e de longo prazo tamb√©m s√£o inadequados, pois nosso estado mudou pela √∫ltima vez h√° tr√™s anos e √© importante que tenhamos acesso r√°pido √† leitura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou seja, para o banco de dados no qual o estado est√° armazenado, √© importante o dimensionamento horizontal para leitura e grava√ß√£o, alta disponibilidade e toler√¢ncia a falhas, enquanto √© necess√°ria consist√™ncia no n√≠vel de valores / documentos. </font><font style="vertical-align: inherit;">Voc√™ pode usar a consist√™ncia geral e as transa√ß√µes ACID. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma solu√ß√£o adequada pode ser qualquer Valor-chave ou um banco de dados de documentos: um cluster Redis sombreado, MongoDB ou Tarantool novamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pr√≥s Tarantool:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esta √© a maneira mais popular de usar Tarantool.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escala horizontal - h√° replica√ß√£o ass√≠ncrona + sharding.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Consist√™ncia no n√≠vel do documento - √©.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, agora temos tr√™s Tarantools, que usamos para casos completamente diferentes: armazenamento de meta-informa√ß√µes, um cache para ler rapidamente dados de dispositivos e armazenar dados de status.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como escolher um banco de dados para a plataforma IoT</font></font></h2><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um banco de dados universal n√£o existe.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada tipo de dado possui seu pr√≥prio banco de dados, mais adequado para ele.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√Äs vezes, o banco de dados que voc√™ precisa pode n√£o estar dispon√≠vel no mercado.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Tarantool √© adequado como base para um banco de dados especializado.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esta palestra foi feita pela primeira vez no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Databases Meetup</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pelo Mail.ru Cloud Solutions. </font><font style="vertical-align: inherit;">Assista a um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v√≠deo de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> outras apresenta√ß√µes e inscreva-se nos an√∫ncios de eventos do Telegram </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Around Kubernetes no Mail.ru Group</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que mais se pode ler</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual banco de dados escolher para o projeto, para n√£o escolher novamente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">More than Ceph: bloqueie o armazenamento na nuvem MCS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ol><br>
</div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt497560/index.html">Como a quarentena afeta o mercado de trabalho em TI</a></li>
<li><a href="../pt497562/index.html">Mitap: fique em casa e GOnline</a></li>
<li><a href="../pt497564/index.html">Dia Local do Hack - Hackathon Online</a></li>
<li><a href="../pt497566/index.html">Algoritmo de compress√£o de Huffman</a></li>
<li><a href="../pt497568/index.html">Como os funcion√°rios da LANIT trabalham em locais remotos na It√°lia e na Bielorr√∫ssia</a></li>
<li><a href="../pt497572/index.html">Gerenciamento de estado orientado a servi√ßos com lamp-luwak</a></li>
<li><a href="../pt497574/index.html">Oncologia no contexto da pandemia de COVID-19: como salvar vidas m√°ximas</a></li>
<li><a href="../pt497578/index.html">A AMD est√° comprometida em conquistar uma parcela significativa do mercado de data centers</a></li>
<li><a href="../pt497580/index.html">Quarentena dura √© muito, muito ruim</a></li>
<li><a href="../pt497582/index.html">Habr ocupa o primeiro lugar no ranking de direitos digitais dos usu√°rios</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>