<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçµ ‚ö∞Ô∏è üßõüèª Exploration du jeu de shader de sable Journey ü§≤üèΩ üç® üë©üèº‚Äçüé®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="D√©but d'une s√©rie d'articles ici
 
 
 Partie 4: Image miroir
 Dans cette partie, nous nous concentrerons sur les reflets miroir, gr√¢ce auxquels les du...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Exploration du jeu de shader de sable Journey</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487154/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©but d'une s√©rie d'articles ici</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/828/9b4/997/8289b49971bbe0046845f71284790124.png" alt="image"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partie 4: Image miroir</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette partie, nous nous concentrerons sur les reflets miroir, gr√¢ce auxquels les dunes ressemblent √† un oc√©an de sable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'un des effets les plus intrigants du rendu du sable de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est la fa√ßon dont les dunes scintillent dans les rayons de lumi√®re. Cette r√©flexion est appel√©e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp√©culaire</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Le nom vient du mot latin </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp√©culum</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui signifie </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´miroir¬ª</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La r√©flexion sp√©culaire</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un concept ¬´parapluie¬ª qui combine tous les types d'interactions dans lesquelles la lumi√®re est fortement r√©fl√©chie dans une direction plut√¥t que dispers√©e ou absorb√©e. Gr√¢ce aux reflets sp√©culaires, l'eau et les surfaces polies sous un certain angle semblent scintillantes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voyage</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe trois types de reflets de miroir: l' </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©clairage de la jante</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les </font></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reflets </font></font></strong><font style="vertical-align: inherit;"><strong><font style="vertical-align: inherit;">sp√©culaires de l'oc√©an</font></strong><font style="vertical-align: inherit;"> et les </font><strong><font style="vertical-align: inherit;">paillettes</font></strong><font style="vertical-align: inherit;"> , illustr√©s dans le diagramme ci-dessous.</font></font><a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Dans cette partie, nous examinerons les deux premiers types.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e83/9e1/047/e839e1047f41693c6830b105a3c55c59.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/07a/739/06d/07a73906d58ed9d4c251340b4e92d7f5.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/716/d17/d2f/716d17d2f4d0d0796e51bee059ce39c2.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avant et apr√®s l'application des r√©flexions miroir</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âclairage sur jante</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous remarquerez peut-√™tre qu'√† chaque niveau de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">voyage</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un </font><font style="vertical-align: inherit;">ensemble limit√© de couleurs est pr√©sent√©. </font><font style="vertical-align: inherit;">Et bien que cela cr√©e une esth√©tique forte et propre, cette approche complique le rendu du sable. </font><font style="vertical-align: inherit;">Les dunes ne sont rendues que par un nombre limit√© de nuances, il est donc difficile pour le joueur de comprendre o√π l'une se termine √† longue distance et o√π commence l'autre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour compenser cela, le bord de chaque dune a un l√©ger effet d'√©clat, mettant en valeur ses contours. </font><font style="vertical-align: inherit;">Cela permet aux dunes de ne pas se cacher dans l'horizon et cr√©e l'illusion d'un environnement beaucoup plus large et plus complexe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de commencer √† comprendre comment impl√©menter cet effet, d√©veloppons </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la fonction d'√©clairage en</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> y ajoutant </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des couleurs diffuses</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (consid√©r√© par nous dans la partie pr√©c√©dente de l'article) et une nouvelle composante g√©n√©ralis√©e de la r√©flexion sp√©culaire.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">float4 <span class="hljs-title">LightingJourney</span> (<span class="hljs-params">SurfaceOutput s, fixed3 viewDir, UnityGI gi</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// Lighting properties</span><font></font>
    float3 L = gi.light.dir;<font></font>
    float3 N = s.Normal;<font></font>
<font></font>
    <span class="hljs-comment">// Lighting calculation</span><font></font>
    float3 diffuseColor	= DiffuseColor (N, L);<font></font>
    float3 rimColor     = RimLighting  (N, V);<font></font>
<font></font>
    <span class="hljs-comment">// Combining</span><font></font>
    float3 color = diffuseColor + rimColor;<font></font>
<font></font>
    <span class="hljs-comment">// Final color</span>
    <span class="hljs-keyword">return</span> float4(color * s.Albedo, <span class="hljs-number">1</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans l'extrait de code ci-dessus, nous voyons que le composant miroir de l'√©clairage de la jante, qui est appel√© </font></font><code>rimColor</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, est simplement ajout√© √† la couleur diffuse d'origine.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effets de plage dynamique et de floraison √©lev√©s</font></font></b><div class="spoiler_text"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La composante diffuse et la lueur des bords sont des couleurs RVB dans la plage de </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-1">0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avant </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-2">1</script>.     .  ,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-3">1</script>.<br>
<br>
      ,   ,        <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-4">0</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-5">1</script>.   ,   ,    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-6">1</script>.      <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">High Dynamic Range</a>,      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-7">1</script>  ¬´¬ª    .       bloom,    .       <strong> </strong>.<br>
</div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©flexions de Fresnel</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©clat des bords peut √™tre r√©alis√© de diff√©rentes mani√®res. </font><font style="vertical-align: inherit;">Le codage de shader le plus populaire utilise le </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mod√®le de r√©flexion de Fresnel</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bien connu </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour comprendre l'√©quation sous-jacente √† la r√©flexion de Fresnel, il est utile de visualiser o√π elle se produit. </font><font style="vertical-align: inherit;">Le diagramme ci-dessous montre comment la dune est visible √† travers la cam√©ra (en bleu). </font><font style="vertical-align: inherit;">La fl√®che rouge indique la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">surface normale du</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sommet de la dune, o√π elle devrait √™tre une image miroir. </font><font style="vertical-align: inherit;">Il est facile de voir que tous les bords de la dune ont une propri√©t√© commune: leur normale (</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-8">N</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, rouge) est perpendiculaire √† la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direction de la vue</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.009ex" viewBox="0 -755.5 769.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-9">V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, de couleur bleue).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c82/547/052/c82547052c28a89dbc8c8fc9b3fa5976.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semblable √† ce que nous avons fait dans la partie sur la couleur diffuse, vous pouvez utiliser le </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produit scalaire</font></font></strong> <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi></math></span></span><script type="math/tex" id="MathJax-Element-10">N</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.009ex" viewBox="0 -755.5 769.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-11">V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour obtenir une mesure de leur parall√©lisme. </font><font style="vertical-align: inherit;">Dans ce cas</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.53ex" height="2.009ex" viewBox="0 -755.5 2380.9 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="1611" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi><mo>‚ãÖ</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-12">N \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©quivaut √† </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-13">0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, car deux vecteurs unitaires sont perpendiculaires; </font><font style="vertical-align: inherit;">√† la place, nous pouvons utiliser</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn><mo>&amp;#x2212;</mo><mi>N</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.533ex" height="2.134ex" viewBox="0 -755.5 4104.4 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="1723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="2834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="3334" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>‚àí</mo><mi>N</mi><mo>‚ãÖ</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-14">1- N \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour obtenir des mesures de leur non-parall√©lisme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilisation directe</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn><mo>&amp;#x2212;</mo><mi>N</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="9.533ex" height="2.134ex" viewBox="0 -755.5 4104.4 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="1723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="2834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="3334" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn><mo>‚àí</mo><mi>N</mi><mo>‚ãÖ</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-15">1- N \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne nous donnera pas de bons r√©sultats, car la r√©flexion sera trop forte. </font><font style="vertical-align: inherit;">Si nous voulons rendre la r√©flexion </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus nette</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , nous pouvons simplement prendre l'expression en degr√©s. </font><font style="vertical-align: inherit;">Degr√© de grandeur de</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-16">0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avant </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-17">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">reste limit√© √† un intervalle, mais la transition entre l'obscurit√© et la lumi√®re devient plus nette. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mod√®le de r√©flexion de Fresnel indique que la luminosit√© de la lumi√®re</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.172ex" height="2.009ex" viewBox="0 -755.5 504.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-49" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-18">I</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est d√©fini comme suit:</font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>I</mi><mo>=</mo><msup><mrow><mo>(</mo><mrow><mn>1</mn><mo>&amp;#x2212;</mo><mi>N</mi><mo>&amp;#x22C5;</mo><mi>V</mi></mrow><mo>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>p</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>o</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>w</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi></mrow></msup><mo>&amp;#x2217;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>s</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>n</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>g</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>h</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="33.343ex" height="2.759ex" viewBox="0 -863.1 14356 1188" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="782" y="0"></use><g transform="translate(1838,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="722" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="1723" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="2834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="3334" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="4493" y="0"></use><g transform="translate(4883,477)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-6F" x="511" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-77" x="1023" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-65" x="1687" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-72" x="2148" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2217" x="8861" y="0"></use><g transform="translate(9584,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-74" x="409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-72" x="742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-65" x="1164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-6E" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-67" x="2187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-74" x="2648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-68" x="2980" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="13076" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="13466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="13966" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>I</mi><mo>=</mo><msup><mrow><mo>(</mo><mrow><mn>1</mn><mo>‚àí</mo><mi>N</mi><mo>‚ãÖ</mo><mi>V</mi></mrow><mo>)</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">p</mi><mi class="MJX-tex-mathit" mathvariant="italic">o</mi><mi class="MJX-tex-mathit" mathvariant="italic">w</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi></mrow></msup><mo>‚àó</mo><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">s</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">n</mi><mi class="MJX-tex-mathit" mathvariant="italic">g</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">h</mi></mrow><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-19">\begin{equation*}  I = \left(1 -N \cdot V\right)^\mathit{power} * \mathit{strength} \end{equation*}(1)</script></math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O√π </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>p</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>o</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>w</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.114ex" height="1.884ex" viewBox="0 -540.2 2632.5 811.3" role="img" focusable="false" style="vertical-align: -0.63ex; margin-right: -0.144ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-6F" x="511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-77" x="1023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-65" x="1687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-72" x="2148" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">p</mi><mi class="MJX-tex-mathit" mathvariant="italic">o</mi><mi class="MJX-tex-mathit" mathvariant="italic">w</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-20">\mathit{power}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>s</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>n</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>g</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>h</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.189ex" height="2.384ex" viewBox="0 -755.5 3526 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex; margin-right: -0.079ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-74" x="409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-72" x="742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-65" x="1164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-6E" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-67" x="2187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-74" x="2648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-68" x="2980" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">s</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">n</mi><mi class="MJX-tex-mathit" mathvariant="italic">g</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">h</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-21">\mathit{strength}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Ce sont deux param√®tres qui peuvent √™tre utilis√©s pour contr√¥ler le contraste et la force de l'effet. </font><font style="vertical-align: inherit;">Param√®tres</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>p</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>o</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>w</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.114ex" height="1.884ex" viewBox="0 -540.2 2632.5 811.3" role="img" focusable="false" style="vertical-align: -0.63ex; margin-right: -0.144ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-70" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-6F" x="511" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-77" x="1023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-65" x="1687" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-72" x="2148" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">p</mi><mi class="MJX-tex-mathit" mathvariant="italic">o</mi><mi class="MJX-tex-mathit" mathvariant="italic">w</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-22">\mathit{power}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>s</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>n</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>g</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>h</mi></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="8.189ex" height="2.384ex" viewBox="0 -755.5 3526 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex; margin-right: -0.079ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-74" x="409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-72" x="742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-65" x="1164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-6E" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-67" x="2187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-74" x="2648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-68" x="2980" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">s</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">n</mi><mi class="MJX-tex-mathit" mathvariant="italic">g</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">h</mi></mrow></math></span></span><script type="math/tex" id="MathJax-Element-23">\mathit{strength}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">parfois appel√© </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp√©culaire</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">brillant</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais les noms peuvent varier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©quation (1) est tr√®s facile √† convertir en code:</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">float</span> _TerrainRimPower;
<span class="hljs-keyword">float</span> _TerrainRimStrength;<font></font>
float3 _TerrainRimColor;<font></font>
<font></font>
<span class="hljs-function">float3 <span class="hljs-title">RimLighting</span>(<span class="hljs-params">float3 N, float3 V</span>)</span><font></font>
{<font></font>
    <span class="hljs-keyword">float</span> rim = <span class="hljs-number">1.0</span> - saturate(dot(N, V));<font></font>
    rim = saturate(pow(rim, _TerrainRimPower) * _TerrainRimStrength);<font></font>
    rim = max(rim, <span class="hljs-number">0</span>); <span class="hljs-comment">// Never negative</span>
    <span class="hljs-keyword">return</span> rim * _TerrainRimColor;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Son r√©sultat est montr√© dans l'animation ci-dessous.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/X7xnX4OSc1A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oc√©an sp√©culaire</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'un des aspects les plus originaux du gameplay de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font><font style="vertical-align: inherit;">que parfois un joueur peut litt√©ralement ¬´surfer¬ª sur les dunes. L'ing√©nieur en chef John Edwards a expliqu√© que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cette entreprise de jeu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cherchait √† rendre le sable plus senti non pas solide, mais liquide. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et ce n'est pas tout √† fait faux, car le sable peut √™tre per√ßu comme une approximation tr√®s grossi√®re d'un liquide. Et dans certaines conditions, par exemple, dans un sablier, il se comporte m√™me comme un liquide. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour renforcer l'id√©e que le sable peut avoir une composante liquide, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a ajout√© un deuxi√®me effet de r√©flexion, que l'on retrouve souvent dans les corps liquides. John Edwards l'appelle </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sp√©culaire oc√©anique</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: L'id√©e est d'obtenir le m√™me type de reflets visibles √† la surface de l'oc√©an ou du lac au coucher du soleil (voir ci-dessous).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/095/17e/c43/09517ec43fc6abd21bf8b04bce0bf66b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme pr√©c√©demment, nous apporterons des modifications √† la fonction d'√©clairage </font></font><code>LightingJourney</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour y ajouter un nouveau type de r√©flexion sp√©culaire.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-function">float4 <span class="hljs-title">LightingJourney</span> (<span class="hljs-params">SurfaceOutput s, fixed3 viewDir, UnityGI gi</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// Lighting properties</span><font></font>
    float3 L = gi.light.dir;<font></font>
    float3 N = s.Normal;<font></font>
    float3 V = viewDir;<font></font>
<font></font>
    <span class="hljs-comment">// Lighting calculation</span><font></font>
    float3 diffuseColor	= DiffuseColor  (N, L);<font></font>
    float3 rimColor     = RimLighting   (N, V);<font></font>
    float3 oceanColor   = OceanSpecular (N, L, V);<font></font>
<font></font>
    <span class="hljs-comment">// Combining</span><font></font>
    float3 specularColor = saturate(max(rimColor, oceanColor));<font></font>
    float3 color = diffuseColor + specularColor;<font></font>
<font></font>
    <span class="hljs-comment">// Final color</span>
    <span class="hljs-keyword">return</span> float4(color * s.Albedo, <span class="hljs-number">1</span>);<font></font>
}</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi prenons-nous au maximum deux composantes de r√©flexion?</font></font></b><div class="spoiler_text">   ,    <strong>rim lighting</strong>  <strong>ocean specular</strong>.   ,     ,         -.   ,     .<br>
<br>
    ,       .<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les r√©flexions miroir sur l'eau sont souvent r√©alis√©es en utilisant la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©flexion Blinn-Fong</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est une solution √† faible co√ªt pour les mat√©riaux brillants. </font><font style="vertical-align: inherit;">Il a √©t√© d√©crit pour la premi√®re fois par James F. Blinn en 1977 (article: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®les de r√©flexion de la lumi√®re pour les images synth√©tis√©es par ordinateur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ") comme une approximation d'une technique d'ombrage ant√©rieure d√©velopp√©e par Bui Tyong Fong en 1973 (article: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Illumination pour les images g√©n√©r√©es par ordinateur</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ") . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de l'utilisation de l'ombrage Blinnu-Phong, la luminosit√©</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>I</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.172ex" height="2.009ex" viewBox="0 -755.5 504.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-49" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>I</mi></math></span></span><script type="math/tex" id="MathJax-Element-24">I</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> surfaces est donn√©e par l'√©quation suivante:</font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>I</mi><mo>=</mo><msup><mrow><mo>(</mo><mrow><mi>N</mi><mo>&amp;#x22C5;</mo><mi>H</mi></mrow><mo>)</mo></mrow><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>p</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>o</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>w</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi></mrow></msup><mo>&amp;#x2217;</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>s</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>r</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>e</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>n</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>g</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>t</mi><mi class=&quot;MJX-tex-mathit&quot; mathvariant=&quot;italic&quot;>h</mi></mrow><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="29.617ex" height="2.759ex" viewBox="0 -863.1 12751.6 1188" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-49" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="782" y="0"></use><g transform="translate(1838,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-48" x="1611" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="2889" y="0"></use><g transform="translate(3278,477)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-70" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-6F" x="511" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-77" x="1023" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-65" x="1687" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-72" x="2148" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2217" x="7257" y="0"></use><g transform="translate(7980,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-73" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-74" x="409" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-72" x="742" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-65" x="1164" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-6E" x="1625" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-67" x="2187" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-74" x="2648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAINI-68" x="2980" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="11472" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="11861" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="12362" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>I</mi><mo>=</mo><msup><mrow><mo>(</mo><mrow><mi>N</mi><mo>‚ãÖ</mo><mi>H</mi></mrow><mo>)</mo></mrow><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">p</mi><mi class="MJX-tex-mathit" mathvariant="italic">o</mi><mi class="MJX-tex-mathit" mathvariant="italic">w</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi></mrow></msup><mo>‚àó</mo><mrow class="MJX-TeXAtom-ORD"><mi class="MJX-tex-mathit" mathvariant="italic">s</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">r</mi><mi class="MJX-tex-mathit" mathvariant="italic">e</mi><mi class="MJX-tex-mathit" mathvariant="italic">n</mi><mi class="MJX-tex-mathit" mathvariant="italic">g</mi><mi class="MJX-tex-mathit" mathvariant="italic">t</mi><mi class="MJX-tex-mathit" mathvariant="italic">h</mi></mrow><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-25">\begin{equation*}  I = \left(N \cdot H\right)^\mathit{power} * \mathit{strength} \end{equation*}(2)</script></math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O√π </font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo>=</mo><mfrac><mrow><mi>V</mi><mo>+</mo><mi>L</mi></mrow><mrow><mo symmetric=&quot;true&quot;>&amp;#x2016;</mo><mrow><mi>V</mi><mo>+</mo><mi>L</mi></mrow><mo symmetric=&quot;true&quot;>&amp;#x2016;</mo></mrow></mfrac><mo stretchy=&quot;false&quot;>(</mo><mn>3</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="17.505ex" height="5.884ex" viewBox="0 -1455.1 7537 2533.5" role="img" focusable="false" style="vertical-align: -2.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="1166" y="0"></use><g transform="translate(1944,0)"><g transform="translate(397,0)"><rect stroke="none" width="3794" height="60" x="0" y="220"></rect><g transform="translate(560,676)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="1992" y="0"></use></g><g transform="translate(60,-726)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2225" x="0" y="0"></use><g transform="translate(500,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="1992" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2225" x="3174" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="6257" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="6647" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="7147" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo>=</mo><mfrac><mrow><mi>V</mi><mo>+</mo><mi>L</mi></mrow><mrow><mo symmetric="true">‚Äñ</mo><mrow><mi>V</mi><mo>+</mo><mi>L</mi></mrow><mo symmetric="true">‚Äñ</mo></mrow></mfrac><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-26">\begin{equation*}  H = \frac{V + L}{\left \| V+L \right \|} \end{equation*}(3)</script></math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le d√©nominateur de l'√©quation (3) divise le vecteur </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-27-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi><mo>+</mo><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.134ex" viewBox="0 -755.5 2673.9 918.9" role="img" focusable="false" style="vertical-align: -0.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="1992" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi><mo>+</mo><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-27">V+L</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur sa longueur. </font><font style="vertical-align: inherit;">Cela garantit que</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-28-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-28">H</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a une longueur </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-29-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-29">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">La fonction de shader √©quivalente pour effectuer cette op√©ration est la suivante </font></font><code>normalize</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">D'un point de vue g√©om√©trique,</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-30-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.009ex" viewBox="0 -755.5 888.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-30">H</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> repr√©sente le vecteur entre </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-31-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.009ex" viewBox="0 -755.5 769.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-31">V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-32-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.009ex" viewBox="0 -755.5 681.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-32">L</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, et est donc appel√© un </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demi-vecteur</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7af/a5b/6f8/7afa5b6f85a208334f37ff8a3ec7d943.png"></div><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi H est-il entre V et L?</font></font></b><div class="spoiler_text">,   ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-33-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.064ex" height="2.152ex" viewBox="0 -801.6 888.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-48" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-33">H</script> ‚Äî   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-34-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-34">V</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-35-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-35">L</script>.<br>
<br>
    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"> </a>,       .  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-36-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-36">V</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-37-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-37">L</script>    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-38-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-38">L</script>   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-39-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-39">V</script>       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-40-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-40">V</script>   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-41-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-41">L</script>.<br>
<br>
     ,   , <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-42-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi><mo>+</mo><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.295ex" viewBox="0 -801.6 2673.9 988.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="1992" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi><mo>+</mo><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-42">V+L</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-43-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi><mo>+</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.295ex" viewBox="0 -801.6 2673.9 988.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="903" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="1904" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi><mo>+</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-43">L+V</script>, .  ,      :<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4c9/2ba/181/4c92ba1815755568822507862486ec2e.png"></div><br>
   ,  ,     .    ,   (  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-44-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi><mo>+</mo><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.295ex" viewBox="0 -801.6 2673.9 988.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="1992" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi><mo>+</mo><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-44">V+L</script>)   .  ,       ( ).<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f02/02f/4d2/f0202f4d20afdbf26d3f1e80616180af.png"></div><br>
  ,  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-45-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi><mo>+</mo><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.21ex" height="2.295ex" viewBox="0 -801.6 2673.9 988.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="1992" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi><mo>+</mo><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-45">V+L</script> ‚Äî    <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-46-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.152ex" viewBox="0 -801.6 769.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-46">V</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-47-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>L</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.583ex" height="2.152ex" viewBox="0 -801.6 681.5 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4C" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>L</mi></math></span></span><script type="math/tex" id="MathJax-Element-47">L</script>,       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-48-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-48">1</script>.    ,      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-49-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-49">1</script>,       ( ).<br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une description plus d√©taill√©e de la r√©flexion Blinn-Fong peut √™tre trouv√©e dans le didacticiel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®les de rendu et d'√©clairage √† base physique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Voici une impl√©mentation simple de celui-ci dans le code du shader.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-keyword">float</span> _OceanSpecularPower;
<span class="hljs-keyword">float</span> _OceanSpecularStrength;<font></font>
float3 _OceanSpecularColor;<font></font>
<font></font>
<span class="hljs-function">float3 <span class="hljs-title">OceanSpecular</span> (<span class="hljs-params">float3 N, float3 L, float3 V</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// Blinn-Phong</span>
    float3 H = normalize(V + L); <span class="hljs-comment">// Half direction</span>
    <span class="hljs-keyword">float</span> NdotH = max(<span class="hljs-number">0</span>, dot(N, H));
    <span class="hljs-keyword">float</span> specular = pow(NdotH, _OceanSpecularPower) * _OceanSpecularStrength;
    <span class="hljs-keyword">return</span> specular * _OceanSpecularColor;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'animation pr√©sente une comparaison de l'ombrage diffus traditionnel selon Lambert et du miroir selon Blinn-Fong:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/DGmK3VgzWUU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partie 5: r√©flexion brillante</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette partie, nous recr√©erons les reflets brillants qui sont g√©n√©ralement visibles sur les dunes de sable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peu de temps apr√®s avoir publi√© ma s√©rie d'articles, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Julian Oberbek</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paul Nadelek ont</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fait leur propre tentative pour recr√©er une sc√®ne inspir√©e du jeu Journey in Unity. Le tweet ci-dessous montre comment ils ont perfectionn√© des reflets brillants pour fournir une plus grande int√©grit√© temporelle. En savoir plus sur leur mise en ≈ìuvre dans un article sur IndieBurg </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mip Map Folding</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="1214857483715567616"></twitter-widget>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la partie pr√©c√©dente du cours, nous avons r√©v√©l√© l'impl√©mentation de deux fonctions de miroir dans le rendu de sable </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : l' </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©clairage de la jante</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et l' </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oc√©an sp√©culaire</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dans cette partie, je vais vous expliquer comment impl√©menter la derni√®re version de la r√©flexion sp√©culaire: les </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">paillettes</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/35e/ada/492/35eada4926ebf58a389faec51e2ae895.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous √™tes d√©j√† all√© dans le d√©sert, vous avez probablement remarqu√© √† quel point le sable est r√©ellement brillant. </font><font style="vertical-align: inherit;">Comme discut√© dans la partie des normales de sable, chaque grain de sable peut potentiellement r√©fl√©chir la lumi√®re dans une direction al√©atoire. </font><font style="vertical-align: inherit;">En raison de la nature des nombres al√©atoires, une partie de ces rayons r√©fl√©chis tombera dans la cam√©ra. </font><font style="vertical-align: inherit;">Pour cette raison, des points de sable al√©atoires apparaissent tr√®s brillants. </font><font style="vertical-align: inherit;">Ce lustre est tr√®s sensible au mouvement, car le moindre d√©calage emp√™chera les rayons r√©fl√©chis de p√©n√©trer dans la cam√©ra. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans d'autres jeux, comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astroneer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slime Rancher,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des reflets brillants ont √©t√© utilis√©s pour le sable et les grottes.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/716/d17/d2f/716d17d2f4d0d0796e51bee059ce39c2.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/539/f3c/33c/539f3c33c6c12f5206540ff62ecf4102.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brillance: avant et apr√®s l'application de l'effet.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il est plus facile d'√©valuer ces caract√©ristiques de brillance sur une image plus grande:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/91a/563/52c/91a56352c32cc17c9701e1a60c4a28e5.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/347/28d/7e3/34728d7e33e9904f9815fe8a8b1d1105.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sans aucun doute, l'effet scintillant sur les vraies dunes d√©pend enti√®rement du fait que certains grains de sable r√©fl√©chissent au hasard la lumi√®re dans nos yeux. √Ä proprement parler, c'est exactement ce que nous avons d√©j√† mod√©lis√© dans la deuxi√®me partie du cours consacr√©e aux normales de sable, lorsque nous avons mod√©lis√© une distribution al√©atoire de normales. Alors pourquoi avons-nous besoin d'un autre effet pour cela? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La r√©ponse n'est peut-√™tre pas trop √©vidente. Imaginons que nous essayons de recr√©er l'effet de brillance uniquement √† l'aide de normales. M√™me si toutes les normales sont dirig√©es vers la cam√©ra, le sable ne brillera toujours pas, car les normales ne peuvent refl√©ter que la quantit√© de lumi√®re disponible dans la sc√®ne. Autrement dit, nous ne r√©fl√©chirons que 100% de la lumi√®re (si le sable est compl√®tement blanc).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais nous avons besoin d'autre chose. </font><font style="vertical-align: inherit;">Si nous voulons que le pixel apparaisse si lumineux que la lumi√®re </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se propage</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur les pixels adjacents, alors la couleur doit √™tre plus grande</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-50-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-50">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cela est d√ª au fait que dans Unity, lorsque le </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtre de floraison est</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> appliqu√© √† l'appareil photo </font><font style="vertical-align: inherit;">√† </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">l'</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aide de </font><strong><font style="vertical-align: inherit;">l'effet de post-traitement</font></strong><font style="vertical-align: inherit;"> , les couleurs sont plus lumineuses</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-51-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-51">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">se propager aux pixels voisins et produire un halo qui donne l'impression que certains pixels brillent. </font><font style="vertical-align: inherit;">C'est la base du </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rendu HDR</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc non, les normales superpos√©es ne peuvent pas √™tre utilis√©es de mani√®re simple pour cr√©er des surfaces brillantes. </font><font style="vertical-align: inherit;">Par cons√©quent, cet effet est plus pratique √† mettre en ≈ìuvre en tant que processus distinct.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Th√©orie des microfaces</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour aborder la situation de mani√®re plus formelle, nous devons percevoir les dunes comme constitu√©es de miroirs microscopiques, dont chacun a une direction al√©atoire. Cette approche est appel√©e la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">th√©orie</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du </font><strong><font style="vertical-align: inherit;">microfacet</font></strong><font style="vertical-align: inherit;"> , o√π </font><font style="vertical-align: inherit;">chacun de ces minuscules miroirs est appel√© </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">microfacet</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . La base math√©matique de la plupart des mod√®les d'ombrage modernes est bas√©e sur la th√©orie des micro-faces, y compris le mod√®le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ombrage </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;">standard d'Unity</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re √©tape consiste √† diviser la surface de la dune en micro faces et √† d√©terminer l'orientation de chacune d'elles. Comme d√©j√† mentionn√©, nous avons fait quelque chose de similaire dans la partie du tutoriel sur les normales de sable, o√π la position UV du mod√®le 3D de la dune a √©t√© utilis√©e pour √©chantillonner une texture al√©atoire. La m√™me approche peut √™tre utilis√©e ici pour attacher une orientation al√©atoire √† chaque micro-facette. La taille de chaque microface d√©pendra de l'√©chelle de la texture et de son </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">niveau de texturation par mip</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Notre t√¢che est de recr√©er une certaine esth√©tique, et non le d√©sir de photor√©alisme; cette approche nous suffira. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir √©chantillonn√© une texture al√©atoire, nous pouvons associer une direction al√©atoire √† chaque grain de sable / micro-facette de la dune. Appelons-le</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-52-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>G</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.827ex" height="2.134ex" viewBox="0 -809.3 786.5 918.9" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-47" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>G</mi></math></span></span><script type="math/tex" id="MathJax-Element-52">G</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Il indique la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direction de la luminosit√©</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , c'est-√†-dire la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direction de la normale des</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> grains de sable que nous regardons. </font><font style="vertical-align: inherit;">Un rayon de lumi√®re tombant sur un grain de sable sera r√©fl√©chi, compte tenu du fait que la micro facette est un miroir id√©al orient√© dans le sens</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-53-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>G</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.827ex" height="2.134ex" viewBox="0 -809.3 786.5 918.9" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-47" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>G</mi></math></span></span><script type="math/tex" id="MathJax-Element-53">G</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Le rayon lumineux r√©fl√©chi r√©sultant devrait p√©n√©trer dans la cam√©ra.</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-54-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-52" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-54">R</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (voir ci-dessous).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d71/668/23c/d7166823c2badfe515d38068087de58a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous pouvons √† nouveau utiliser le </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produit scalaire</font></font></strong> <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-55-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-52" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-55">R</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-56-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.787ex" height="2.009ex" viewBox="0 -755.5 769.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-56">V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour obtenir des mesures de leur parall√©lisme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une approche est l'exponentiation</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-57-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.23ex" height="2.009ex" viewBox="0 -755.5 2251.9 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="1482" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo>‚ãÖ</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-57">R \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, comme expliqu√© dans la quatri√®me (quatri√®me) partie de l'article. </font><font style="vertical-align: inherit;">Si vous essayez de le faire, nous verrons que le r√©sultat est tr√®s diff√©rent de celui de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les reflets brillants doivent √™tre rares et tr√®s lumineux. </font><font style="vertical-align: inherit;">La fa√ßon la plus simple sera de ne consid√©rer que les brillantes r√©flexions pour lesquelles</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-58-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.23ex" height="2.009ex" viewBox="0 -755.5 2251.9 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="1482" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo>‚ãÖ</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-58">R \cdot V</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est en dessous d'une certaine valeur seuil.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la mise en oeuvre</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons facilement impl√©menter l'effet de brillant d√©crit ci-dessus en utilisant une fonction </font></font><code>reflect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en Cg, ce qui le rend tr√®s facile √† calculer</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-59-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-52" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-59">R</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="cs hljs">sampler2D_float _GlitterTex;
<span class="hljs-keyword">float</span> _GlitterThreshold;<font></font>
float3 _GlitterColor;<font></font>
<font></font>
<span class="hljs-function">float3 <span class="hljs-title">GlitterSpecular</span> (<span class="hljs-params">float2 uv, float3 N, float3 L, float3 V</span>)</span><font></font>
{<font></font>
    <span class="hljs-comment">// Random glitter direction</span>
    float3 G = normalize(tex2D(_GlitterTex, uv).rgb * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>); <span class="hljs-comment">// [0,1]-&gt;[-1,+1]</span><font></font>
<font></font>
    <span class="hljs-comment">// Light that reflects on the glitter and hits the eye</span><font></font>
    float3 R = reflect(L, G);<font></font>
    <span class="hljs-keyword">float</span> RdotV = max(<span class="hljs-number">0</span>, dot(R, V));<font></font>
	<font></font>
    <span class="hljs-comment">// Only the strong ones (= small RdotV)</span>
    <span class="hljs-keyword">if</span> (RdotV &gt; _GlitterThreshold)
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
	<font></font>
    <span class="hljs-keyword">return</span> (<span class="hljs-number">1</span> - RdotV) * _GlitterColor;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä proprement parler, si </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-60-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>G</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.827ex" height="2.134ex" viewBox="0 -809.3 786.5 918.9" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-47" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>G</mi></math></span></span><script type="math/tex" id="MathJax-Element-60">G</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> compl√®tement par hasard alors </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-61-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.764ex" height="2.009ex" viewBox="0 -755.5 759.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-52" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi></math></span></span><script type="math/tex" id="MathJax-Element-61">R</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sera √©galement compl√®tement al√©atoire. </font><font style="vertical-align: inherit;">Il peut sembler que l'utilisation est </font></font><code>reflect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">facultative. </font><font style="vertical-align: inherit;">Et bien que cela soit vrai pour un cadre statique, mais que se passe-t-il si la source lumineuse se d√©place? </font><font style="vertical-align: inherit;">Cela peut √™tre d√ª soit au mouvement du soleil lui-m√™me, soit √† une source ponctuelle de lumi√®re li√©e au joueur. </font><font style="vertical-align: inherit;">Dans les deux cas, le sable perdra son int√©grit√© temporelle entre les images actuelles et suivantes, en raison de quoi l'effet scintillant appara√Ætra √† des endroits al√©atoires. </font><font style="vertical-align: inherit;">Cependant, l'utilisation de la fonction </font></font><code>reflect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offre un rendu beaucoup plus stable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les r√©sultats sont montr√©s plus bas:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1wnw0B2hWPI" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous le rappelons de la toute premi√®re partie du tutoriel, le composant brillant est ajout√© √† la couleur finale.</font></font><br>
<br>
<pre><code class="cs hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">pragma</span> surface surf Journey fullforwardshadows</span><font></font>
<font></font>
<span class="hljs-function">float4 <span class="hljs-title">LightingJourney</span> (<span class="hljs-params">SurfaceOutput s, fixed3 viewDir, UnityGI gi</span>)</span><font></font>
{<font></font>
    float3 diffuseColor = DiffuseColor    ();<font></font>
    float3 rimColor     = RimLighting     ();<font></font>
    float3 oceanColor   = OceanSpecular   ();<font></font>
    float3 glitterColor = GlitterSpecular ();<font></font>
<font></font>
    float3 specularColor = saturate(max(rimColor, oceanColor));<font></font>
    float3 color = diffuseColor + specularColor + glitterColor;<font></font>
	<font></font>
    <span class="hljs-keyword">return</span> float4(color * s.Albedo, <span class="hljs-number">1</span>);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a une forte probabilit√© que certains pixels finissent par obtenir plus de couleurs </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-62-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-62">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ce qui entra√Ænera l'effet de floraison. </font><font style="vertical-align: inherit;">Voil√† ce dont nous avons besoin. </font><font style="vertical-align: inherit;">L'effet est √©galement ajout√© en plus de la r√©flexion sp√©culaire d√©j√† existante (discut√©e dans la partie pr√©c√©dente de l'article), de sorte que des grains de sable brillants peuvent m√™me √™tre trouv√©s l√† o√π les dunes sont bien √©clair√©es. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe de nombreuses fa√ßons d'am√©liorer cette technique. </font><font style="vertical-align: inherit;">Tout d√©pend du r√©sultat que vous souhaitez atteindre. </font><font style="vertical-align: inherit;">Dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Astroneer</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slime Rancher</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , par exemple, cet effet n'est utilis√© que la nuit. </font><font style="vertical-align: inherit;">Ceci peut √™tre r√©alis√© en r√©duisant la force de l'effet brillant en fonction de la direction de la lumi√®re solaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, la valeur </font></font><code>max(dot(L, fixed3(0,1,0),0))</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-63-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-63">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quand le soleil tombe d'en haut, et est √©gal √† z√©ro quand il est au-del√† de l'horizon. </font><font style="vertical-align: inherit;">Mais vous pouvez cr√©er votre propre syst√®me, dont l'apparence d√©pend de vos pr√©f√©rences.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi la r√©flexion n'est-elle pas utilis√©e dans la r√©flexion de Blinn-Fong?</font></font></b><div class="spoiler_text"> <strong>ocean specular</strong>,     ,     <strong>  -</strong>.<br>
<br>
   ,       3D-      , ,   .    ,   <code>reflect</code>   .       - <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-64-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>R</mi><mo>&amp;#x22C5;</mo><mi>V</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.23ex" height="2.152ex" viewBox="0 -801.6 2251.9 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-52" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="981" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-56" x="1482" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>R</mi><mo>‚ãÖ</mo><mi>V</mi></math></span></span><script type="math/tex" id="MathJax-Element-64">R \cdot V</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-65-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>N</mi><mo>&amp;#x22C5;</mo><mi>H</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.806ex" height="2.152ex" viewBox="0 -801.6 2499.9 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="1110" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-48" x="1611" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>N</mi><mo>‚ãÖ</mo><mi>H</mi></math></span></span><script type="math/tex" id="MathJax-Element-65">N \cdot H</script>,     .</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partie 6: vagues</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la derni√®re partie de l'article, nous recr√©erons des vagues de sable typiques r√©sultant de l'interaction des dunes et du vent.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c00/b54/814/c00b54814122211b0ae5db424f92a7f5.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/539/f3c/33c/539f3c33c6c12f5206540ff62ecf4102.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/828/9b4/997/8289b49971bbe0046845f71284790124.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vagues √† la surface des dunes: avant et apr√®s</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Th√©oriquement, il serait logique de mettre cette partie apr√®s la partie sur les normales de sable. </font><font style="vertical-align: inherit;">Je l'ai laiss√© au final car c'est le plus difficile des effets du tutoriel. </font><font style="vertical-align: inherit;">Une partie de cette complexit√© est due √† la fa√ßon dont les cartes normales sont stock√©es et trait√©es par un shader de surface qui effectue de nombreuses √©tapes suppl√©mentaires.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cartes normales</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la pr√©c√©dente (cinqui√®me) partie, nous avons explor√© une m√©thode de production de sable h√©t√©rog√®ne. Dans la partie consacr√©e aux normales de sable, une technique de </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cartographie normale</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tr√®s populaire a √©t√© utilis√©e pour changer la fa√ßon dont la lumi√®re interagit avec la surface g√©om√©trique </font><font style="vertical-align: inherit;">. Il est souvent utilis√© dans les graphiques 3D pour cr√©er l'illusion que l'objet a une g√©om√©trie plus complexe et est g√©n√©ralement utilis√© pour rendre les surfaces courbes plus lisses (voir ci-dessous).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f93/544/d9c/f93544d9c95a70da71848897f0913676.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour obtenir cet effet, chaque pixel est mapp√© dans la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direction de la normale</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , indiquant son orientation. </font><font style="vertical-align: inherit;">Et il est utilis√© pour calculer l'√©clairage au lieu de la v√©ritable orientation du maillage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En lisant les directions des normales √† partir d'une texture apparemment al√©atoire, nous avons pu simuler le grain. </font><font style="vertical-align: inherit;">Malgr√© l'inexactitude physique, elle semble toujours cr√©dible.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vagues dans le sable</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, les dunes de sable pr√©sentent une autre caract√©ristique qui ne peut √™tre ignor√©e: les vagues. </font><font style="vertical-align: inherit;">Sur chaque dune, il y a des dunes plus petites, apparaissant en raison de l'influence du vent et maintenues ensemble par le frottement de grains de sable individuels. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces vagues sont tr√®s visibles et visibles sur la plupart des dunes. </font><font style="vertical-align: inherit;">Sur la photo ci-dessous, prise √† Oman, on voit que la partie proche de la dune a un motif ondul√© prononc√©.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/874/c94/2b7/874c942b78535dabc26f5971c4e6c30b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces vagues varient consid√©rablement en fonction non seulement de la forme de la dune, mais √©galement de la composition, de la direction et de la vitesse du vent. </font><font style="vertical-align: inherit;">La plupart des dunes avec un pic pointu ont des vagues d'un seul c√¥t√© (voir ci-dessous).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b30/e98/3da/b30e983daf43fc38b8fbe3714eebabc2.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'effet pr√©sent√© dans le tutoriel est con√ßu pour des dunes plus lisses avec des vagues des deux c√¥t√©s. </font><font style="vertical-align: inherit;">Ce n'est pas toujours physiquement pr√©cis, mais suffisamment r√©aliste pour √™tre cr√©dible, et c'est une bonne premi√®re √©tape vers des impl√©mentations plus complexes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©alisation des vagues</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe de nombreuses fa√ßons de mettre en ≈ìuvre des vagues. Le moins cher est de simplement les dessiner sur une texture, mais dans le tutoriel nous voulons r√©aliser autre chose. La raison est simple: les ondes ne sont pas ¬´plates¬ª et doivent interagir correctement avec la lumi√®re. Si vous les dessinez simplement, il sera impossible d'obtenir un effet r√©aliste lorsque la cam√©ra (ou le soleil) bouge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre fa√ßon d'ajouter des vagues est de changer la g√©om√©trie du mod√®le de dune. Mais l'augmentation de la complexit√© du mod√®le n'est pas recommand√©e, car elle affecte consid√©rablement les performances globales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous l'avons vu dans la partie sur les normales de sable, vous pouvez contourner ce probl√®me en utilisant </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des cartes normales</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . En fait, ils sont dessin√©s sur la surface comme des textures traditionnelles, mais sont utilis√©s dans les calculs d'√©clairage pour simuler une g√©om√©trie plus complexe.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autrement dit, la t√¢che s'est transform√©e en une autre: comment cr√©er ces cartes normales. Le rendu manuel prendra trop de temps. De plus, √† chaque fois que vous changez les dunes, vous devrez redessiner les vagues. Cela ralentira consid√©rablement le processus de cr√©ation de ressources, ce que de nombreux artistes techniques cherchent √† √©viter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une solution beaucoup plus efficace et optimale consisterait √† ajouter des vagues de </font><font style="vertical-align: inherit;">mani√®re </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proc√©durale</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cela signifie que les directions normales des dunes changent en fonction de la g√©om√©trie locale pour prendre en compte non seulement les grains de sable, mais aussi les vagues.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que les ondes doivent √™tre simul√©es sur une surface 3D, il sera plus logique de mettre en ≈ìuvre un changement de direction des normales pour chaque pixel. </font><font style="vertical-align: inherit;">Il est plus facile d'utiliser une carte normale transparente avec un motif de vagues. </font><font style="vertical-align: inherit;">Cette carte sera ensuite combin√©e avec la carte normale existante pr√©c√©demment utilis√©e pour le sable.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cartes normales</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jusqu'√† ce moment, nous avons rencontr√© trois </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">normales</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diff√©rentes </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">G√©om√©trie normale</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : l'orientation de chaque face du mod√®le 3D, qui est stock√©e directement aux sommets;</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sable normal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : calcul√© en utilisant la texture du bruit;</font></font></li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wave Normal</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Le nouvel effet discut√© dans cette partie.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'exemple ci-dessous, tir√© de la page d' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exemples d'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Unity </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;">Surface Shader</font></a><font style="vertical-align: inherit;"> , illustre une mani√®re standard de r√©√©crire la normale d'un mod√®le 3D. </font><font style="vertical-align: inherit;">Cela n√©cessite de modifier la valeur </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ce qui se fait g√©n√©ralement apr√®s l'√©chantillonnage de la texture (le plus souvent appel√© la </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carte normale</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<pre><code class="cpp hljs">  Shader <span class="hljs-string">"Example/Diffuse Bump"</span> {<font></font>
    Properties {<font></font>
      _MainTex (<span class="hljs-string">"Texture"</span>, <span class="hljs-number">2</span>D) = <span class="hljs-string">"white"</span> {}<font></font>
      _BumpMap (<span class="hljs-string">"Bumpmap"</span>, <span class="hljs-number">2</span>D) = <span class="hljs-string">"bump"</span> {}<font></font>
    }<font></font>
    SubShader {<font></font>
      Tags { <span class="hljs-string">"RenderType"</span> = <span class="hljs-string">"Opaque"</span> }<font></font>
      CGPROGRAM<font></font>
      #pragma surface surf Lambert<font></font>
      struct Input {<font></font>
        float2 uv_MainTex;<font></font>
        float2 uv_BumpMap;<font></font>
      };<font></font>
      sampler2D _MainTex;<font></font>
      sampler2D _BumpMap;<font></font>
      <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">surf</span> <span class="hljs-params">(Input IN, inout SurfaceOutput o)</span> </span>{<font></font>
        o.Albedo = tex2D (_MainTex, IN.uv_MainTex).rgb;<font></font>
        o.Normal = UnpackNormal (tex2D (_BumpMap, IN.uv_BumpMap));<font></font>
      }<font></font>
      ENDCG<font></font>
    } <font></font>
    Fallback <span class="hljs-string">"Diffuse"</span>
  }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons utilis√© exactement la m√™me technique pour remplacer la normale de g√©om√©trie par la normale de sable.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que UnpackNormal?</font></font></b><div class="spoiler_text">  <strong> </strong>  <strong> </strong>.  <strong> </strong> (   1),   ,     .  X, Y  Z      R, G  B  .<br>
<br>
       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-66-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" style="vertical-align: -0.433ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>‚àí</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-66">-1</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-67-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" style="vertical-align: -0.433ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-67">+1</script>.          <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-68-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.29ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-68">0</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-69-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-69">1</script>.  ,        ¬´¬ª     ¬´¬ª   .     <strong>  (normal packing)</strong>  <strong>  (normal unpacking)</strong>.         :<br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-70-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><mi>R</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>X</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><mi>G</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>Y</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><mi>B</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>Z</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr></mtable><mo stretchy=&quot;false&quot;>(</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.299ex" height="16.009ex" viewBox="0 -3692.5 7017.8 6892.9" role="img" focusable="false" aria-hidden="true" style="vertical-align: -7.249ex; margin-bottom: -0.184ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-13,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-52" x="27" y="2260"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-47" x="0" y="-87"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-42" x="27" y="-2435"></use></g><g transform="translate(774,0)"><g transform="translate(0,2260)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1056,0)"><g transform="translate(397,0)"><rect stroke="none" width="972" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-58" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="236" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="2768" y="0"></use><g transform="translate(3547,0)"><g transform="translate(342,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="60" y="-686"></use></g></g></g><g transform="translate(0,-87)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1056,0)"><g transform="translate(397,0)"><rect stroke="none" width="883" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-59" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="191" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="2679" y="0"></use><g transform="translate(3458,0)"><g transform="translate(342,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="60" y="-686"></use></g></g></g><g transform="translate(0,-2435)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1056,0)"><g transform="translate(397,0)"><rect stroke="none" width="843" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-5A" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="171" y="-686"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="2639" y="0"></use><g transform="translate(3418,0)"><g transform="translate(342,0)"><rect stroke="none" width="620" height="60" x="0" y="220"></rect><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="60" y="676"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="60" y="-686"></use></g></g></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="5738" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="6127" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="6628" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mi>R</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>X</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><mi>G</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>Y</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr><mtr><mtd><mi>B</mi></mtd><mtd><mi></mi><mo>=</mo><mfrac><mi>Z</mi><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac></mtd></mtr></mtable><mo stretchy="false">(</mo><mn>1</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-70">\begin{align} R &= \frac{X}{2} + \frac{1}{2} \\ G &= \frac{Y}{2} + \frac{1}{2} \\B &= \frac{Z}{2} + \frac{1}{2}\end{align}(1)</script></p><br>
  :<br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-71-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><mi>X</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>R</mi><mo>&amp;#x2212;</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>Y</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>G</mi><mo>&amp;#x2212;</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>Z</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>B</mi><mo>&amp;#x2212;</mo><mn>1</mn></mtd></mtr></mtable><mo stretchy=&quot;false&quot;>(</mo><mn>2</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="15.79ex" height="8.866ex" viewBox="0 -2154.8 6798.3 3817.5" role="img" focusable="false" aria-hidden="true" style="vertical-align: -3.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-13,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-58" x="0" y="1250"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-59" x="89" y="-50"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-5A" x="129" y="-1350"></use></g><g transform="translate(840,0)"><g transform="translate(0,1250)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-52" x="1834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="2816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="3817" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-47" x="1834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="2843" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="3844" y="0"></use></g><g transform="translate(0,-1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-42" x="1834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="2816" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="3817" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="5518" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="5908" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="6408" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mi>X</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>R</mi><mo>‚àí</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>Y</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>G</mi><mo>‚àí</mo><mn>1</mn></mtd></mtr><mtr><mtd><mi>Z</mi></mtd><mtd><mi></mi><mo>=</mo><mn>2</mn><mi>B</mi><mo>‚àí</mo><mn>1</mn></mtd></mtr></mtable><mo stretchy="false">(</mo><mn>2</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-71">\begin{align} X &= 2R - 1 \\ Y &= 2G - 1 \\ Z &= 2B - 1 \end{align}(2)</script></p><br>
 Unity      (2),   <code>UnpackNormal</code>.          .<br>
<br>
       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer">Normal Map Technical Details</a>    polycount.</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raideur des dunes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, la premi√®re difficult√© est li√©e au fait que la forme d'onde change en fonction de la nettet√© des dunes. </font><font style="vertical-align: inherit;">Les dunes basses et plates ont de petites vagues; </font><font style="vertical-align: inherit;">sur les dunes escarp√©es, les configurations des vagues sont plus distinctes. </font><font style="vertical-align: inherit;">Cela signifie que vous devez tenir compte de la </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pente de la</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dune. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moyen le plus simple de contourner ce probl√®me consiste √† cr√©er deux cartes normales diff√©rentes, respectivement, pour les dunes plates et abruptes. </font><font style="vertical-align: inherit;">L'id√©e de base est de m√©langer les deux cartes normales en fonction de la pente de la dune.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ae/a7e/691/1aea7e6919021a7adf95b595e141348a.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carte normale pour la dune escarp√©e</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3cd/7d6/983/3cd7d698303b82e9c4aeac3c35c84925.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carte normale pour une dune plate</font></font></i><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cartes normales et canal bleu</font></font></b><div class="spoiler_text">       ,   .<br>
<br>
 ,          .      ,       (X  Y)   (Z)  .<br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-72-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mrow><mo>(</mo><mi>N</mi><mo>)</mo></mrow></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr><mtr><mtd><msqrt><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></msqrt></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr></mtable><mo stretchy=&quot;false&quot;>(</mo><mn>3</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="24.753ex" height="6.581ex" viewBox="0 -1662.7 10657.4 2833.4" role="img" focusable="false" aria-hidden="true" style="vertical-align: -2.719ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-13,0)"><g transform="translate(2603,756)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6C" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-65" x="298" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6E" x="765" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-67" x="1365" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-74" x="1846" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-68" x="2207" y="0"></use><g transform="translate(2950,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="389" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="1278" y="0"></use></g></g><g transform="translate(0,-833)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ1-221A" x="0" y="126"></use><rect stroke="none" width="6221" height="60" x="1000" y="917"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1215" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="1535" y="0"></use><g transform="translate(2536,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1157" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="4030" y="0"></use><g transform="translate(5031,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-5A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1040" y="583"></use></g></g></g></g><g transform="translate(7209,0)"><g transform="translate(0,756)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="1334" y="0"></use></g><g transform="translate(0,-833)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="1334" y="0"></use></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="9377" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="9767" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="10267" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><mi>l</mi><mi>e</mi><mi>n</mi><mi>g</mi><mi>t</mi><mi>h</mi><mrow><mo>(</mo><mi>N</mi><mo>)</mo></mrow></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr><mtr><mtd><msqrt><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></msqrt></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr></mtable><mo stretchy="false">(</mo><mn>3</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-72">\begin{align} length\left(N\right) &= 1 \\ \sqrt{X^2+Y^2+Z^2} &= 1 \\ \end{align}(3)</script></p><br>
  :<br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-73-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mtable columnalign=&quot;right left right left right left right left right left right left&quot; rowspacing=&quot;3pt&quot; columnspacing=&quot;0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em&quot; displaystyle=&quot;true&quot;><mtr><mtd><msqrt><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></msqrt></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr><mtr><mtd><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></mtd><mtd><mi></mi><mo>=</mo><msup><mn>1</mn><mn>2</mn></msup></mtd></mtr><mtr><mtd><msup><mi>Z</mi><mn>2</mn></msup></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn><mo>&amp;#x2212;</mo><msup><mi>X</mi><mn>2</mn></msup><mo>&amp;#x2212;</mo><msup><mi>Y</mi><mn>2</mn></msup></mtd></mtr><mtr><mtd><mi>Z</mi></mtd><mtd><mi></mi><mo>=</mo><msqrt><mn>1</mn><mo>&amp;#x2212;</mo><msup><mi>X</mi><mn>2</mn></msup><mo>&amp;#x2212;</mo><msup><mi>Y</mi><mn>2</mn></msup></msqrt></mtd></mtr></mtable><mo stretchy=&quot;false&quot;>(</mo><mn>4</mn><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="38.763ex" height="13.438ex" viewBox="0 -3138.9 16689.5 5785.7" role="img" focusable="false" aria-hidden="true" style="vertical-align: -6.148ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(167,0)"><g transform="translate(-13,0)"><g transform="translate(0,2008)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ1-221A" x="0" y="126"></use><rect stroke="none" width="6221" height="60" x="1000" y="917"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1215" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="1535" y="0"></use><g transform="translate(2536,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1157" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="4030" y="0"></use><g transform="translate(5031,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-5A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1040" y="583"></use></g></g></g><g transform="translate(1000,600)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1215" y="583"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="1535" y="0"></use><g transform="translate(2536,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1157" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="4030" y="0"></use><g transform="translate(5031,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-5A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1040" y="583"></use></g></g><g transform="translate(6032,-785)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-5A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1040" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-5A" x="6498" y="-2323"></use></g><g transform="translate(7209,0)"><g transform="translate(0,2008)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="1334" y="0"></use></g><g transform="translate(0,600)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="707" y="583"></use></g></g><g transform="translate(0,-785)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="1334" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="2056" y="0"></use><g transform="translate(3057,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1215" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="4593" y="0"></use><g transform="translate(5594,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1157" y="583"></use></g></g><g transform="translate(0,-2323)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="277" y="0"></use><g transform="translate(1334,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ1-221A" x="0" y="126"></use><rect stroke="none" width="5532" height="60" x="1000" y="917"></rect><g transform="translate(1000,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="722" y="0"></use><g transform="translate(1723,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-58" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1215" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="3259" y="0"></use><g transform="translate(4260,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-59" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="1157" y="583"></use></g></g></g></g></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-28" x="15410" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-34" x="15799" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-29" x="16300" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mtable columnalign="right left right left right left right left right left right left" rowspacing="3pt" columnspacing="0em 2em 0em 2em 0em 2em 0em 2em 0em 2em 0em" displaystyle="true"><mtr><mtd><msqrt><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></msqrt></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn></mtd></mtr><mtr><mtd><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Z</mi><mn>2</mn></msup></mtd><mtd><mi></mi><mo>=</mo><msup><mn>1</mn><mn>2</mn></msup></mtd></mtr><mtr><mtd><msup><mi>Z</mi><mn>2</mn></msup></mtd><mtd><mi></mi><mo>=</mo><mn>1</mn><mo>‚àí</mo><msup><mi>X</mi><mn>2</mn></msup><mo>‚àí</mo><msup><mi>Y</mi><mn>2</mn></msup></mtd></mtr><mtr><mtd><mi>Z</mi></mtd><mtd><mi></mi><mo>=</mo><msqrt><mn>1</mn><mo>‚àí</mo><msup><mi>X</mi><mn>2</mn></msup><mo>‚àí</mo><msup><mi>Y</mi><mn>2</mn></msup></msqrt></mtd></mtr></mtable><mo stretchy="false">(</mo><mn>4</mn><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-73">\begin{align} \sqrt{X^2+Y^2+Z^2} &= 1 \\ X^2+Y^2+Z^2 &= 1^2 \\ Z^2 &= 1 - X^2-Y^2 \\ Z &= \sqrt{1 - X^2-Y^2} \end{align}(4)</script></p><br>
     <code>UnpackNormal</code>  Unity.     Shader API         .<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">inline</span> fixed3 <span class="hljs-title">UnpackNormal</span><span class="hljs-params">(fixed4 packednormal)</span>
</span>{
<span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(SHADER_API_GLES)  defined(SHADER_API_MOBILE)</span>
    <span class="hljs-keyword">return</span> packednormal.xyz * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span><font></font>
    fixed3 normal;<font></font>
    normal.xy = packednormal.wy * <span class="hljs-number">2</span> - <span class="hljs-number">1</span>;<font></font>
    normal.z = <span class="hljs-built_in">sqrt</span>(<span class="hljs-number">1</span> - normal.x*normal.x - normal.y * normal.y);
    <span class="hljs-keyword">return</span> normal;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
}</code></pre><br>
  Unity      <strong>DXT5nm</strong>,        (<code>packednormal.xy</code>) -    (<code>packednormal.wy</code>).<br>
<br>
          <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer">Normal Map Compression</a>    polycount.</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi les cartes normales semblent-elles lilas?</font></font></b><div class="spoiler_text">     ,  ,      .<br>
<br>
 <em> </em>  <em> </em>  <strong> </strong>,           .  ,      <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-74-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.849ex" height="2.866ex" viewBox="0 -863.1 2948.8 1234.2" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="1446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="1891" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-5D" x="2670" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-74">\left[0, 0, 1\right]</script>        .<br>
<br>
     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-75-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.849ex" height="2.866ex" viewBox="0 -863.1 2948.8 1234.2" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="1446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="1891" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-5D" x="2670" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-75">\left[0, 0, 1\right]</script>   <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-76-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>[</mo><mrow><mn>0.5</mn><mo>,</mo><mn>0.5</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.468ex" height="2.866ex" viewBox="0 -863.1 4506.8 1234.2" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-35" x="779" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="1279" y="0"></use><g transform="translate(1724,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2E" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-35" x="779" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="3004" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="3449" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-5D" x="4228" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>[</mo><mrow><mn>0.5</mn><mo>,</mo><mn>0.5</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-76">\left[0.5, 0.5, 1\right]</script>,            RGB.<br>
<br>
         ;  ,         <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-77-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="6.849ex" height="2.866ex" viewBox="0 -863.1 2948.8 1234.2" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.862ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-5B" x="0" y="0"></use><g transform="translate(278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="945" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="1446" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="1891" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-5D" x="2670" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow><mo>[</mo><mrow><mn>0</mn><mo>,</mo><mn>0</mn><mo>,</mo><mn>1</mn></mrow><mo>]</mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-77">\left[0, 0, 1\right]</script>.<br>
<br>
 ,         ¬´¬ª.  ,   B       <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-78-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>&amp;#x2212;</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2212" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>‚àí</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-78">-1</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-79-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-79">+1</script>,     <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-80-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -740.1 500.5 865.1" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.29ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-80">0</script>  <math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-81-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mo>+</mo><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.971ex" height="2.152ex" viewBox="0 -740.1 1279 926.6" role="img" focusable="false" aria-hidden="true" style="vertical-align: -0.433ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2B" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="778" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mo>+</mo><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-81">+1</script>.             .</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La pente peut √™tre calcul√©e √† l'aide d'un </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">produit scalaire</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est souvent utilis√© dans le codage des shaders pour calculer le degr√© de ¬´parall√©lisme¬ª de deux directions. </font><font style="vertical-align: inherit;">Dans ce cas, nous prenons la direction de la normale de la g√©om√©trie (montr√©e ci-dessous en bleu) et la comparons avec un vecteur pointant vers le ciel (montr√© ci-dessous en jaune). </font><font style="vertical-align: inherit;">Le produit scalaire de ces deux vecteurs renvoie des valeurs proches de</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-82-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>1</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>1</mn></math></span></span><script type="math/tex" id="MathJax-Element-82">1</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lorsque les vecteurs sont presque parall√®les (dunes plates), et proches de </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-83-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.162ex" height="2.009ex" viewBox="0 -755.5 500.5 865.1" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-30" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-83">0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lorsque l'angle entre eux est de 90 degr√©s (dunes escarp√©es).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ca1/41e/541/ca141e541313d8b0dcea3091bed240d5.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, nous sommes confront√©s au premier probl√®me - deux vecteurs sont impliqu√©s dans cette op√©ration. Le vecteur normal obtenu √† partir de la fonction </font></font><code>surf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisant </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est exprim√© en </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espace tangent</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cela signifie que </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le syst√®me de coordonn√©es</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilis√© pour coder la direction normale est relatif √† la g√©om√©trie de surface locale (voir ci-dessous). Nous avons bri√®vement abord√© ce sujet dans la partie sur le sable normal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8c7/ac9/e27/8c7ac9e27aa358c7bd999859a3bf8777.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un vecteur pointant vers le ciel est exprim√© dans l' </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espace mondial</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pour obtenir le produit scalaire correct, les deux vecteurs doivent √™tre exprim√©s dans le m√™me syst√®me de coordonn√©es. </font><font style="vertical-align: inherit;">Cela signifie que nous devons transformer l'un d'eux pour que les deux soient exprim√©s dans un seul espace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heureusement, l' </font><font style="vertical-align: inherit;">unit√© vient √† la rescousse avec une fonction </font></font><code>WorldNormalVector</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui nous permet de transformer le vecteur normal de l' </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espace tangent</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† l' </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espace mondial</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pour utiliser cette fonctionnalit√©, nous devons changer la structure </font></font><code>Input</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, afin qu'elle soit incluse </font></font><code>float3 worldNormal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>INTERNAL_DATA</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Input</span>
{</span><font></font>
    ...<font></font>
<font></font>
    float3 worldNormal;<font></font>
    INTERNAL_DATA<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est expliqu√© dans un article de la documentation Unity </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Writing Surface Shaders</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui dit:</font></font><br>
<br>
<blockquote><code>INTERNAL_DATA</code> ‚Äî     ,       <code>o.Normal</code>.<br>
<br>
       ,  <code>WorldNormalVector (IN, o.Normal)</code>.</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela devient souvent la principale source de probl√®mes lors de l'√©criture de shaders de surface. </font><font style="vertical-align: inherit;">En fait, la valeur </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui est disponible dans la fonction </font></font><code>surf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">varie</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en fonction de </font><font style="vertical-align: inherit;">la fa√ßon dont vous utilisez. </font><font style="vertical-align: inherit;">Si vous le lisez uniquement, </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contient </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le vecteur normal du</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pixel actuel dans l' </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espace mondial</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Si vous modifiez sa valeur, elle se </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trouve dans l' </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espace tangent</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous enregistrez </font></font><code>o.Normal</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mais que vous avez toujours besoin d'acc√©der √† l' </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espace</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> normal dans le </font><em><font style="vertical-align: inherit;">monde</font></em><font style="vertical-align: inherit;"> (comme dans notre cas), vous pouvez l'utiliser </font></font><code>WorldNormalVector (IN, o.Normal)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cependant, pour cela, vous devez apporter une petite modification √† la structure illustr√©e ci-dessus </font></font><code>Input</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce que INTERNAL_DATA?</font></font></b><div class="spoiler_text"> <code>INTERNAL_DATA</code>       Unity.<br>
<br>
   ,    ,    <code>WorldNormalVector</code>.   ,   <em> </em>,     <em> </em>.      <strong> </strong>  <strong> </strong> (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"></a>).<br>
<br>
     ,        3D-     3√ó3.  ,   ,  <strong>       (tangent to world matrix)</strong>,  Unity   <strong>TtoW</strong>.<br>
<br>
 <code>INTERNAL_DATA</code>   TtoW   <code>Input</code>.    ,        ¬´Show generated code¬ª  :<br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2de/d96/ed0/2ded96ed0cdbf606643b9c6ff179380b.png"></div><br>
 ,  <code>INTERNAL_DATA</code> ‚Äî     ,        TtoW:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> INTERNAL_DATA</span><font></font>
    half3 internalSurfaceTtoW0;<font></font>
    half3 internalSurfaceTtoW1;<font></font>
    half3 internalSurfaceTtoW2;</code></pre><br>
    <code>half3x3</code>,      <code>half3</code>.<br>
<br>
        <code>WorldNormalVector</code>,   ,       (  <em> </em>)   TtoW:<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> WorldNormalVector(data,normal)</span><font></font>
    fixed3<font></font>
    (<font></font>
        dot(data.internalSurfaceTtoW0, normal),<font></font>
        dot(data.internalSurfaceTtoW1, normal),<font></font>
        dot(data.internalSurfaceTtoW2, normal)<font></font>
    )</code></pre><br>
         <code>mul</code>,    TtoW     ,   <em> </em>.<br>
<br>
  ,  :<br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-84-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>1</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>2</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mn>3</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>&amp;#x22C5;</mo><mrow><mo>[</mo><mtable rowspacing=&quot;4pt&quot; columnspacing=&quot;1em&quot;><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="65.959ex" height="30.581ex" viewBox="0 -6829.4 28398.9 13166.7" role="img" focusable="false" aria-hidden="true" style="vertical-align: -14.513ex; margin-bottom: -0.206ex;"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(0,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A3" x="0" y="-3421"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="779" y="0"></use></g></g></g></g><g transform="translate(4127,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="779" y="0"></use></g></g></g></g><g transform="translate(8266,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="779" y="0"></use></g></g></g></g></g><g transform="translate(12407,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A6" x="0" y="-3421"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="13296" y="0"></use><g transform="translate(13797,0)"><g transform="translate(0,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A3" x="0" y="-3155"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="888" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="888" y="0"></use></g><g transform="translate(0,-1450)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="888" y="0"></use></g></g></g><g transform="translate(2378,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A6" x="0" y="-3155"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-3D" x="17121" y="0"></use><g transform="translate(18177,0)"><g transform="translate(0,6748)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-11230.615606446823) scale(1,15.720755566246805)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A3" x="0" y="-12353"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,4465)"><g transform="translate(0,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A3" x="0" y="-3421"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="779" y="0"></use></g></g></g></g></g><g transform="translate(4128,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A6" x="0" y="-3421"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="5018" y="0"></use><g transform="translate(5518,0)"><g transform="translate(0,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A3" x="0" y="-3155"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="888" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="888" y="0"></use></g><g transform="translate(0,-1450)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="888" y="0"></use></g></g></g><g transform="translate(2378,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A6" x="0" y="-3155"></use></g></g></g><g transform="translate(0,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A3" x="0" y="-3421"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="779" y="0"></use></g></g></g></g></g><g transform="translate(4128,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A6" x="0" y="-3421"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="5018" y="0"></use><g transform="translate(5518,0)"><g transform="translate(0,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A3" x="0" y="-3155"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="888" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="888" y="0"></use></g><g transform="translate(0,-1450)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="888" y="0"></use></g></g></g><g transform="translate(2378,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A6" x="0" y="-3155"></use></g></g><g transform="translate(0,-4466)"><g transform="translate(0,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A3" x="0" y="-3421"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1482)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="779" y="0"></use></g></g></g><g transform="translate(0,-6)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="779" y="0"></use></g></g></g><g transform="translate(0,-1495)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-54" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-6F" x="704" y="0"></use><g transform="translate(1190,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-57" x="0" y="0"></use><g transform="translate(944,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-2C" x="500" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="779" y="0"></use></g></g></g></g></g><g transform="translate(4128,2282)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2313.8453787493827) scale(1,0.933408588307434)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A6" x="0" y="-3421"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-22C5" x="5018" y="0"></use><g transform="translate(5518,0)"><g transform="translate(0,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A1" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A2"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A3" x="0" y="-3155"></use></g><g transform="translate(834,0)"><g transform="translate(-13,0)"><g transform="translate(0,1350)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-31" x="888" y="0"></use></g><g transform="translate(0,-50)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-32" x="888" y="0"></use></g><g transform="translate(0,-1450)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMATHI-4E" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJMAIN-33" x="888" y="0"></use></g></g></g><g transform="translate(2378,2150)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-2048.5066225165565) scale(1,0.49337748344370863)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A6" x="0" y="-3155"></use></g></g></g></g></g><g transform="translate(9554,6748)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A4" x="0" y="-1155"></use><g transform="translate(0,-11230.615606446823) scale(1,15.720755566246805)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A5"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/487154/&amp;usg=ALkJrhgZ15JJYO4NEtafJEndbcy8sYV4Gg#MJSZ4-23A6" x="0" y="-12353"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>‚ãÖ</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow><mo>=</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>1</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>‚ãÖ</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>2</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>‚ãÖ</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr><mtr><mtd><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>1</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>2</mn></mrow></msub></mtd></mtr><mtr><mtd><mi>T</mi><mi>o</mi><msub><mi>W</mi><mrow class="MJX-TeXAtom-ORD"><mn>3</mn><mo>,</mo><mn>3</mn></mrow></msub></mtd></mtr></mtable><mo>]</mo></mrow><mo>‚ãÖ</mo><mrow><mo>[</mo><mtable rowspacing="4pt" columnspacing="1em"><mtr><mtd><mi>N</mi><mn>1</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>2</mn></mtd></mtr><mtr><mtd><mi>N</mi><mn>3</mn></mtd></mtr></mtable><mo>]</mo></mrow></mtd></mtr></mtable><mo>]</mo></mrow></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-84">\begin{equation*} \begin{bmatrix} ToW_{1,1} & ToW_{1,2} & ToW_{1,3} \\ ToW_{2,1} & ToW_{2,2} & ToW_{2,3} \\ ToW_{3,1} & ToW_{3,2} & ToW_{3,3} \end{bmatrix} \cdot \begin{bmatrix} N1\\ N2\\ N3 \end{bmatrix}= \begin{bmatrix} \begin{bmatrix} ToW_{1,1} \\ ToW_{1,2} \\ ToW_{1,3} \end{bmatrix}\cdot\begin{bmatrix} N1\\ N2\\ N3 \end{bmatrix} \\ \begin{bmatrix} ToW_{2,1} \\ ToW_{2,2} \\ ToW_{2,3} \end{bmatrix}\cdot\begin{bmatrix} N1\\ N2\\ N3 \end{bmatrix} \\ \begin{bmatrix} ToW_{3,1} \\ ToW_{3,2} \\ ToW_{3,3} \end{bmatrix}\cdot\begin{bmatrix} N1\\ N2\\ N3 \end{bmatrix} \end{bmatrix} \end{equation*}</script></math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez en savoir plus sur les math√©matiques normales √† partir d'un article sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LearnOpenGL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la mise en oeuvre</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un extrait du code ci-dessous convertit la normale de la </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tangente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† l' </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">espace mondial</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et calcule la pente par rapport </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√† la direction ascendante</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">// Calculates normal in world space</span><font></font>
float3 N_WORLD = WorldNormalVector(IN, o.Normal);<font></font>
float3 UP_WORLD = float3(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>);<font></font>
<font></font>
<span class="hljs-comment">// Calculates "steepness"</span>
<span class="hljs-comment">// =&gt; 0: steep (90 degrees surface)</span>
<span class="hljs-comment">//  =&gt; 1: shallow (flat surface)</span>
<span class="hljs-keyword">float</span> steepness = saturate(dot(N_WORLD, UP_WORLD));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant que nous avons calcul√© la pente de la dune, nous pouvons l'utiliser pour m√©langer les deux cartes normales. </font><font style="vertical-align: inherit;">Les deux cartes normales sont √©chantillonn√©es, √† la fois plates et fra√Æches (dans le code ci-dessous, elles sont appel√©es </font></font><code>_ShallowTex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et </font></font><code>_SteepTex</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">). </font><font style="vertical-align: inherit;">Ensuite, ils sont m√©lang√©s en fonction de la valeur </font></font><code>steepness</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="cpp hljs">float2 uv = W.xz;<font></font>
<font></font>
<span class="hljs-comment">// [0,1]-&gt;[-1,+1]</span><font></font>
float3 shallow = UnpackNormal(tex2D(_ShallowTex, TRANSFORM_TEX(uv, _ShallowTex)));<font></font>
float3 steep   = UnpackNormal(tex2D(_SteepTex,   TRANSFORM_TEX(uv, _SteepTex  )));<font></font>
<font></font>
<span class="hljs-comment">// Steepness normal</span>
float3 S = normalerp(steep, shallow, steepness);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme indiqu√© dans la partie sur les normales de sable, il est assez difficile de combiner correctement les cartes normales, et cela ne peut pas √™tre fait avec </font></font><code>lerp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dans ce cas </font></font><code>slerp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, il est plus </font><font style="vertical-align: inherit;">correct d'utiliser </font><font style="vertical-align: inherit;">, mais √† la place, une fonction moins co√ªteuse est appel√©e </font></font><code>normalerp</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©lange de vagues</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous utilisons le code ci-dessus, les r√©sultats peuvent nous d√©cevoir. </font><font style="vertical-align: inherit;">En effet, les dunes ont tr√®s peu de pente, ce qui conduit √† trop de m√©lange des deux textures normales. </font><font style="vertical-align: inherit;">Pour r√©soudre ce probl√®me, nous pouvons appliquer une transformation non lin√©aire √† la pente, ce qui augmentera la nettet√© du m√©lange:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-comment">// Steepness to blending</span>
steepness = <span class="hljs-built_in">pow</span>(steepness, _SteepnessSharpnessPower);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors du m√©lange de deux textures, il est souvent utilis√© pour contr√¥ler leur nettet√© et leur contraste </font></font><code>pow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nous avons appris comment et pourquoi cela fonctionne dans mon didacticiel sur le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rendu physique</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ci-dessous, nous voyons deux gradients. </font><font style="vertical-align: inherit;">Le haut montre les couleurs du noir au blanc, interpol√©es lin√©airement le long de l'axe X avec </font></font><code>c = uv.x</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">En bas, le m√™me d√©grad√© est repr√©sent√© par </font></font><code>c = pow(uv.x*1.5)*3.0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ae4/db9/84c/ae4db984c649c8ae5357b71357ef208e.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bf0/214/1b2/bf02141b275e8ae5596f7477016f5cc8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est facile √† remarquer, ce </font></font><code>pow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui </font><font style="vertical-align: inherit;">vous </font><font style="vertical-align: inherit;">permet de cr√©er une transition beaucoup plus nette entre le noir et le blanc. </font><font style="vertical-align: inherit;">Lorsque nous travaillons avec des textures, cela r√©duit leur chevauchement, cr√©ant des bords plus nets.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direction des dunes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout ce que nous avons fait plus t√¥t fonctionne parfaitement. </font><font style="vertical-align: inherit;">Mais nous devons r√©soudre un autre dernier probl√®me. </font><font style="vertical-align: inherit;">Les vagues varient avec la </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pente</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais pas avec la </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direction</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Comme mentionn√© ci-dessus, les vagues ne sont g√©n√©ralement pas sym√©triques du fait que le vent souffle principalement dans une direction. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour rendre les vagues encore plus r√©alistes, nous devons ajouter deux autres cartes normales (voir le tableau ci-dessous). </font><font style="vertical-align: inherit;">Ils peuvent √™tre m√©lang√©s en fonction du parall√©lisme de la dune de l'axe X ou de l'axe Z.</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody>
<tr>
<td></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cool</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Appartement</font></font></strong></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cool x</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plat x</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Z</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cool z</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plat z</font></font></td>
</tr>
</tbody>
</table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous devons impl√©menter le calcul du parall√©lisme de la dune par rapport √† l'axe Z. Cela peut √™tre fait de mani√®re similaire au calcul de la pente, mais </font></font><code>float3 UP_WORLD = float3(0, 1, 0);</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">peut √™tre utilis√© √† la </font><font style="vertical-align: inherit;">place </font></font><code>float3 Z_WORLD = float3(0, 0, 1);</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vous laisse cette derni√®re √©tape. </font><font style="vertical-align: inherit;">Si vous rencontrez des probl√®mes, √† la fin de ce didacticiel, vous trouverez un lien pour t√©l√©charger le package Unity complet.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est la derni√®re partie d'une s√©rie de tutoriels sur le rendu du sable de Journey. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce qui suit montre jusqu'o√π nous avons pu avancer dans cette s√©rie:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/509/4c1/65b/5094c165b5f2e1ba10696fec1641482c.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/828/9b4/997/8289b49971bbe0046845f71284790124.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avant et apr√®s,</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
je tiens √† vous remercier d'avoir lu ce tutoriel assez long jusqu'√† la fin. </font><font style="vertical-align: inherit;">J'esp√®re que vous avez aim√© explorer et recr√©er ce shader.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Remerciements</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le jeu vid√©o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Journey a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©t√© d√©velopp√© par </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Thatgamecompany</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et publi√© par </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sony Computer Entertainment</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il est disponible pour PC ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Epic Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) et PS4 ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS Store</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les mod√®les de dunes 3D, les arri√®re-plans et les options d'√©clairage ont √©t√© cr√©√©s par </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jiadi Deng</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un mod√®le 3D du personnage Journey a √©t√© trouv√© sur le forum FacePunch (maintenant ferm√©).</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Forfait Unity</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous souhaitez recr√©er cet effet, le package Unity complet est disponible en t√©l√©chargement sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="noopener noreferrer"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Patreon</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il a tout ce dont vous avez besoin, des shaders aux mod√®les 3D.</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/fr487154/">https://habr.com/ru/post/fr487154/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr487136/index.html">Code propre pour TypeScript - Partie 3</a></li>
<li><a href="../fr487138/index.html">Th√©orie des graphes en machine learning pour les plus petits</a></li>
<li><a href="../fr487140/index.html">Sauvegarde de la logique m√©tier dans Swift Combine. Partie 1</a></li>
<li><a href="../fr487144/index.html">Testez la cam√©ra panoramique Jabra Panacast avec un angle de vision de 180 ¬∞ (vid√©o)</a></li>
<li><a href="../fr487146/index.html">ResizeObserver - un nouvel outil puissant pour travailler avec l'adaptabilit√©</a></li>
<li><a href="../fr487162/index.html">Les hommes d'affaires et les entreprises modernes ont-ils besoin d'intimit√©?</a></li>
<li><a href="../fr487168/index.html">Toxic Grandfather Interface Tales ‚ÄúInstrumental Trash‚Äù (s1 e2)</a></li>
<li><a href="../fr487172/index.html">Cours ouvert "Deep Learning in NLP" des cr√©ateurs de DeepPavlov bas√© sur le cours cs224n</a></li>
<li><a href="../fr487174/index.html">Augmentez votre instance de Webogram avec proxy via nginx</a></li>
<li><a href="../fr487176/index.html">Maintenez COVID-19. Tout sur la filtration de l'air pand√©mique</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>