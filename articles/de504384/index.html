<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😅 🐰 📉 Führen Sie TypeScript schrittweise in Ihr React-Projekt ein 🕺🏾 📈 👩🏼‍🎓</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo Habr! 
 
 In letzter Zeit ist im Front-End-Bereich die Kombination von React + TypeScript besonders beliebt geworden. Dementsprechend nimmt die ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Führen Sie TypeScript schrittweise in Ihr React-Projekt ein</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/504384/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hallo Habr! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In letzter Zeit ist im Front-End-Bereich die Kombination von React + TypeScript besonders beliebt geworden. </font><font style="vertical-align: inherit;">Dementsprechend nimmt die Relevanz einer kompetenten Migration von JavaScript zu TypeScript vorzugsweise in kurzer Zeit zu. </font><font style="vertical-align: inherit;">Heute möchten wir dieses Thema mit Ihnen besprechen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ob/0p/2g/ob0p2gizhv0uq6lpukyxjyg4gye.jpeg"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So erstellen und integrieren Sie React TypeScript-Komponenten sicher in Ihr React JS-Projekt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum müssen Sie möglicherweise von JS auf TS migrieren? </font><font style="vertical-align: inherit;">Es mag viele Gründe dafür geben, aber das ist nicht der Punkt. </font><font style="vertical-align: inherit;">Die (hypothetische) Tatsache ist folgende: Sie müssen TypeScript verwenden und eine einfache Möglichkeit, es in Ihrem Projekt zu implementieren. </font><font style="vertical-align: inherit;">Darüber hinaus muss all dies irgendwie getan werden, ohne die Struktur des gesamten verfügbaren Codes zu verletzen und das Team von der Notwendigkeit eines solchen Übergangs zu überzeugen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier zeigen wir das schrittweise Refactoring: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wie man React-Komponenten in eine andere Codebasis einbettet und sie dann mit Bit sicher in eine bereits ausgeführte React JavaScript-Anwendung eingibt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Betten Sie TS-Komponenten mithilfe von Bit sicher in ein JS-Projekt ein</font></font></h4><br>
<img src="https://habrastorage.org/webt/-m/ew/xu/-mewxuart0vwekxdx8emsordwfu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt viele Möglichkeiten, ein Upgrade von React JS auf React TS durchzuführen. Der Kern dieses Artikels besteht darin, zu zeigen, wie dies schrittweise erfolgt. Eine ähnliche Methode ist in anderen Fällen anwendbar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Grundidee besteht darin, Ihre React + -Komponenten mit Bit optimal zu nutzen, um sie in Ihrer eigenen Bit-Entwicklungsumgebung voneinander zu isolieren. Auf diese Weise können Sie zusammen TS-Komponenten zusammenbauen und sicher in eine voll funktionsfähige React JS-Anwendung einfügen. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bisschen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ist ein Open Source-Tool zum Extrahieren von Komponenten aus Git-Repositorys. </font><font style="vertical-align: inherit;">Mit Bit können Sie TS-Komponenten außerhalb eines in JS geschriebenen Projekts erstellen und jeder eigenständigen isolierten Entwicklungsumgebung zuweisen, die unabhängig von ihrer Konfiguration in anderen Projekten funktionieren kann. </font><font style="vertical-align: inherit;">Dann können Sie diese Komponenten einfach versionieren und in Ihr JS-Projekt importieren, und sie funktionieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neben Bit gibt es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bit.dev</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , einen Remote-Hub, in dem Sie diese Komponenten speichern und dann wiederverwenden können. </font><font style="vertical-align: inherit;">Wir werden TS-Komponenten in Bit.dev behalten und von dort aus beginnen, sie in unser React JS-Projekt einzuführen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/eo/t0/fpeot07yiiql3rzhh5lntqafd-m.gif"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiel: Suche nach React Shared Components in bit.dev</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anwendungsbeispiel</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die Zwecke dieses Artikels analysieren wir ein Beispiel, das in der Front-End-Welt mit der klassischen „Hallo-Welt“ vergleichbar ist: Wir werden über eine Anwendung für Planungsfälle sprechen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keine Sorge, ich werde Ihnen nicht sagen, wie Sie eine solche Anwendung für React schreiben sollen. Ich nehme an, Sie wissen bereits, wie das geht, und um ehrlich zu sein, ist das Thema alles andere als neu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber ich werde diese Anwendung als Beispiel verwenden - Sie können sie zu Recht teilen oder zumindest einen Link öffnen und den gesamten Code anzeigen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-m/wf/mg/-mwfmgs_4e5lzdegiy0ewoppk0g.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github.com/deleteman/react-todo-demo</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Diese Codebasis besteht aus den folgenden Komponenten: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoList</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Dies ist die Hauptkomponente, die in Form eines Texteingabefelds mit der üblichen Schaltfläche angezeigt wird. </font><font style="vertical-align: inherit;">Nach dem Senden befindet sich alles in dem Formular, in dem der Text der von der Hauptanwendung unterstützten Liste hinzugefügt wird. </font><font style="vertical-align: inherit;">Der Code für diese Komponente ist sehr einfach:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoList</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
  render() {<font></font>
    <span class="hljs-keyword">return</span> (
      <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"todoListMain"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"header"</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">form</span> <span class="hljs-attr">onSubmit</span>=<span class="hljs-string">{this.props.addItem}</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">placeholder</span>=<span class="hljs-string">"Task"</span>
            <span class="hljs-attr">ref</span>=<span class="hljs-string">{this.props.inputElement}</span>
            <span class="hljs-attr">value</span>=<span class="hljs-string">{this.props.currentItem.text}</span>
            <span class="hljs-attr">onChange</span>=<span class="hljs-string">{this.props.handleInput}</span>
             /&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"submit"</span>&gt;</span> Add Task <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></span><font></font>
    )<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoList</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TodoItems</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Eine sehr einfache </font><b><font style="vertical-align: inherit;">Listenkomponente</font></b><font style="vertical-align: inherit;"> , mit der eine interne Liste der Elemente angezeigt wird, die über die vorherige Komponente hinzugefügt wurden. </font><font style="vertical-align: inherit;">Jedes der Elemente ist anklickbar und wird nach dem Klicken aus der Liste entfernt. </font><font style="vertical-align: inherit;">Der Code ist auch ganz einfach:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TodoItems</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{<font></font>
<font></font>
  createTasks(item) {<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{item.key}</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> this.props.deleteItem(item.key)}&gt;{item.text}<span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
  }<font></font>
<font></font>
  render() {<font></font>
    <span class="hljs-keyword">const</span> todoEntries = <span class="hljs-keyword">this</span>.props.entries || []  
    <span class="hljs-keyword">const</span> listItems = todoEntries.map(<span class="hljs-keyword">this</span>.createTasks.bind(<span class="hljs-keyword">this</span>))    <font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"theList"</span>&gt;</span>{listItems}<span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span></span><font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoItems</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In beiden Fällen werden die entsprechenden Methoden als Eigenschaften (Requisiten) aus der Hauptkomponente der App akzeptiert. </font><font style="vertical-align: inherit;">Den vollständigen Code für diese Komponente finden Sie hier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich stimme zu, diese Anwendung ist sehr einfach, aber ich betone noch einmal, dass es möglicherweise jede React-Anwendung geben kann, an der Sie gerade arbeiten - und plötzlich haben Sie die Aufgabe, mit der Migration zu TypeScript zu beginnen. </font><font style="vertical-align: inherit;">Was ist zu tun?</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option 1: Nachdem Sie die Tränen weggewischt haben, beginnen Sie, die gesamte Basis des Quellcodes neu zu schreiben. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option 2: Benennen Sie alle Ihre .js-Dateien in .ts um, konfigurieren Sie die erforderlichen Schritte im Montageprozess und waschen Sie Ihre Hände.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option 3: Sie entscheiden, dass es wirklich an der Zeit ist, mit der schrittweisen Migration des gesamten alten Codes fortzufahren und den gesamten neuen Code direkt in TypeScript zu schreiben.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich möchte Option 3 ausführlicher diskutieren, aber im Prinzip lehne ich Sie nicht ab, dass Sie in derselben Anwendung Komponenten koexistieren können, die sowohl in reinem JavaScript als auch in TypeScript geschrieben sind.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Geben Sie TypeScript ein</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nehmen wir als Beispiel an, wir müssen jeder Komponente in unserer Aufgabenliste eine Umschalttaste hinzufügen. </font><font style="vertical-align: inherit;">Nachdem Sie auf ein Element geklickt haben, muss es im Hintergrund umgeschaltet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nichts Übernatürliches, aber wie Sie sich erinnern, interessieren wir uns in diesem Fall für den Prozess, nicht für den Code als solchen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir werden also nicht versuchen, TypeScript zu Ihrem benutzerdefinierten Projekt hinzuzufügen, um Ihre vorhandene Baugruppe nicht versehentlich in mehrere Tage zu unterteilen, sondern ein völlig neues Projekt mit reinem TypeScript erstellen:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npx create-react-app ts-components --template typescript</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitte beachten Sie: Um npx verwenden zu können, benötigen Sie nur die neue Version von NPM, die ab Version </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.2.0</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> im Installationsprozess enthalten ist </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie zuvor wird in diesem Fall eine Vorlage für das Projekt erstellt, diesmal verwenden wir jedoch TypeScript als Basissprache. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Außerdem eine einfache Switch-Komponente, die zum Einfügen in ein anderes Projekt geeignet ist, ohne zusätzliche Abhängigkeiten einzuführen. Wenn Sie neugierig sind, lesen Sie den nächsten Artikel zum Schreiben </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wiederverwendbarer Komponenten</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, {useState} <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>;<font></font>
<font></font>
interface IActionProps {<font></font>
	<span class="hljs-attr">action</span>: <span class="hljs-function">(<span class="hljs-params">status:boolean</span>) =&gt;</span> <span class="hljs-keyword">void</span>,<font></font>
	buttonText?: string<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">const</span> Toggle = <span class="hljs-function">(<span class="hljs-params">{action, buttonText=<span class="hljs-string">"Toggle"</span>}: IActionProps</span>) =&gt;</span> {
	<span class="hljs-keyword">const</span> [isSelected, setSelected] = useState(<span class="hljs-literal">false</span>)
	<span class="hljs-keyword">return</span> (
		<span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onClick</span>=<span class="hljs-string">{()</span> =&gt;</span> {
		setSelected(!isSelected)
		action(isSelected)
		}} &gt;{buttonText}<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span></span><font></font>
	)	<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> Toggle</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem diese Komponente geschrieben wurde, können Sie Bit (dies ist ein Open Source-Tool zum Versions- und Veröffentlichungsverfahren einzelner Komponenten) verwenden, um diese bestimmte Komponente zu extrahieren und freizugeben, damit Sie sie später aus unserem JavaScript-basierten Projekt importieren können.</font></font><br>
<br>
<pre><code class="plaintext hljs">//  Bit        <font></font>
$ yarn global add bit-bin<font></font>
$ bit init --package-manager yarn//    ( ,       bit.dev)<font></font>
$ bit login//   <font></font>
$ bit add src/components/Toggle.tsx //   (    env)<font></font>
$ bit import bit.envs/compilers/react-typescript --compiler//   <font></font>
$ bit tag –all</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie konfigurieren also Ihr Projekt und konfigurieren die neue Umschaltkomponente (Schalter) darin, damit sie für andere Projekte freigegeben werden kann. Bevor Sie dies jedoch in der Praxis tun können, müssen Sie sich bei Bit.dev anmelden (dies ist ein Komponenten-Hub - eine Site mit einer Registrierung und Dokumentation, die Bit als Plattform für die Veröffentlichung und Vorschau von Komponenten ergänzt). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sobald Sie angemeldet sind, erstellen Sie einfach eine neue Sammlung mit dem Namen "toggler", machen Sie sie öffentlich und führen Sie dann den folgenden Befehl im Terminalfenster aus:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ bit export user-name.toggler</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn "Benutzername" wirklich Ihr Benutzername ist, wird die Komponente als Ergebnis exportiert und Sie können sie auf Bit.dev sehen. Es sollte ungefähr so ​​aussehen: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/yd/3x/xwyd3xkdwa-irkryeb4b-pmohwk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten </font><font style="vertical-align: inherit;">Sie </font><font style="vertical-align: inherit;">, dass das Programm standardmäßig eine Beispieldatei erstellt </font></font><code>index.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, um die Komponente zu testen. Gleichzeitig ist der standardmäßig in diese Datei geschriebene Inhalt möglicherweise nicht ideal, sodass die Plattform das Hinzufügen von zusätzlichem Code erleichtert, damit andere verstehen, wie Ihre öffentliche Komponente in ihrem Code verwendet wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier habe ich beispielsweise meine Beispieldatei aktualisiert und Erläuterungen zur Verwendung der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toggler-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Komponente </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">hinzugefügt</font></a><font style="vertical-align: inherit;"> (denken Sie daran, wenn Sie fertig sind, auf die Schaltfläche „Speichern“ zu klicken!):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tu/jp/uk/tujpukgiq2wyx8f3zuu95kvndog.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns nun an, wie Sie diese neue Komponente in Ihre eigene JS-basierte React-Anwendung importieren.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importieren Sie eine externe Komponente</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bit kümmert sich dank des von uns hinzugefügten Compilers um das Kompilieren Ihres TypeScript-Codes in JavaScript. </font><font style="vertical-align: inherit;">Dies löst alle unsere Probleme, und alles, was uns bleibt, ist, diese Komponente als Abhängigkeit zu Ihrem Projekt hinzuzufügen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für alle Zwecke habe ich hier Garn verwendet, aber Sie können NPM mit dem gleichen Erfolg verwenden, alles, was Sie dafür benötigen:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yarn add @bit/your-username.your-collection.your-component</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In meinem Fall wird dieser Code zu:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ yarn add @bit/deleteman.toggler.toggle</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bitte beachten </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><b><font style="vertical-align: inherit;">Sie können keine Komponenten installieren, ohne sich anzumelden</font></b><font style="vertical-align: inherit;"> (erinnern Sie sich an den Teil </font></font><code>$ bit login</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in diesem Handbuch?). </font><font style="vertical-align: inherit;">Wenn Sie Komponenten aus der Bit-Registrierung installieren möchten, müssen Sie die Registrierung manuell wie folgt konfigurieren:</font></font><br>
<br>
<pre><code class="plaintext hljs">$ npm config set '@bit:registry' https://node.bit.dev</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somit wird Ihre TypeScript-Komponente (die bereits in JavaScript kompiliert wurde) in das Projekt aufgenommen, und Sie können auf diese Komponente ihres Codes wie folgt verweisen:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> React, { Component, useState } <span class="hljs-keyword">from</span> <span class="hljs-string">'react'</span>
<span class="hljs-keyword">import</span> Toggle <span class="hljs-keyword">from</span> <span class="hljs-string">'@bit/deleteman.toggler.toggle'</span>;<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">const</span> TodoItem = <span class="hljs-function">(<span class="hljs-params">{text, itemKey}</span>) =&gt;</span> {<font></font>
<font></font>
 	<span class="hljs-keyword">const</span> [iClass, setIClass] = useState(<span class="hljs-string">"white"</span>)<font></font>
<font></font>
  	<span class="hljs-keyword">const</span> toggleBackground = <span class="hljs-function"><span class="hljs-params">status</span> =&gt;</span> {<font></font>
  		setIClass(status ? <span class="hljs-string">"white"</span> : <span class="hljs-string">"black"</span>)<font></font>
  	}<font></font>
<font></font>
  	<span class="hljs-keyword">const</span> toggleProps = {
  		<span class="hljs-attr">action</span>: toggleBackground,
  		<span class="hljs-attr">buttonText</span>: <span class="hljs-string">"Select"</span><font></font>
  	}<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{iClass}</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{itemKey}</span> &gt;</span>{text}<span class="hljs-tag">&lt;<span class="hljs-name">Toggle</span> {<span class="hljs-attr">...toggleProps</span>}/&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> TodoItem</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie Zeile 2, in der ich die externe Komponente importiere, die ich als Teil der return-Anweisung verwenden möchte. </font><font style="vertical-align: inherit;">Nichts Kompliziertes, keine zusätzlichen Konfigurationsänderungen sind in Ihrem Projekt oder anderswo erforderlich. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Herzlichen Glückwunsch, jetzt haben Sie ein Arbeitsprojekt, das sowohl TypeScript als auch JavaScript verwendet. Sie könnten dies möglicherweise tun, damit Sie es nicht einmal bemerken! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie oben erwähnt, wird der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vollständige Projektcode auf GitHub veröffentlicht</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie an einer Migration zu TypeScript interessiert sind oder einfach nur damit experimentieren und sehen möchten, wie es funktioniert, können Sie die Sprache auf diese Weise schrittweise in ein vorhandenes Projekt einführen, ohne das Risiko einzugehen, den gesamten Assemblierungsprozess zu beeinträchtigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Achten Sie auf Bit und schauen Sie sich Bit.dev an. Finden Sie andere Komponenten, die gleichzeitig in JavaScript und TypeScript geschrieben sind, um zu verstehen, wie andere sie schreiben!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de504358/index.html">PuppetConf 2016. Kubernetes für Systemadministratoren. Teil 2</a></li>
<li><a href="../de504362/index.html">Laden Sie schnell große Datenmengen in Google Colab</a></li>
<li><a href="../de504370/index.html">Office 365- und Microsoft-Teams - Einfache Zusammenarbeit und Auswirkungen auf die Sicherheit</a></li>
<li><a href="../de504374/index.html">Einfache Diagrammdurchquerung: Tiefensuche und Breitensuche am Beispiel von JavaScript</a></li>
<li><a href="../de504382/index.html">Wie ich (PhD Neurobiology) in 6 Monaten Data Scientist wurde</a></li>
<li><a href="../de504386/index.html">Virtuelle Variablen der Klasse Vassbotn H.</a></li>
<li><a href="../de504392/index.html">Wie viele Programmierer und Wörter benötigen Sie, um einen handschriftlichen Pass zu erkennen?</a></li>
<li><a href="../de504400/index.html">Caching. Teil 2: 60 Tage vor der Veröffentlichung</a></li>
<li><a href="../de504402/index.html">29. Mai Java Digest</a></li>
<li><a href="../de504408/index.html">Einfache und bequeme Testframework-Vorlage auf Selenide für UI-Autotests</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>