<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📇 🎁 👊🏼 ズベルバンクまたはあちらこちら ☢️ 👩🏻‍🤝‍👨🏼 👩🏽‍⚖️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="第1章予期しないゲスト
 不運な朝、プロジェクトマネージャーがプロジェクトの実施期限を1か月間、迅速かつ決定的に短縮する必要があると発表したのは、その始まりです。より正確には、プロジェクトは4日で準備が整います。いいえ、私たちのPOは獣ではなく、フクロウのようには見えません（おそらくカラスのように見...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ズベルバンクまたはあちらこちら</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/451188/"><img src="https://habrastorage.org/webt/si/bq/2u/sibq2unjy0i1yoy_7sa0qljphae.jpeg"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第1章予期しないゲスト</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不運な朝、プロジェクトマネージャーがプロジェクトの実施期限を1か月間、迅速かつ決定的に短縮する必要があると発表したのは、その始まりです。より正確には、プロジェクトは4日で準備が整います。いいえ、私たちのPOは獣ではなく、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フクロウの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ようには見えません</font><font style="vertical-align: inherit;">（おそらくカラスの</font><font style="vertical-align: inherit;">ように見えます</font><font style="vertical-align: inherit;">）。まあ、必要な場合は特に必要です。特に、チーム（そして私は「C」チームの主要な開発者です）が美味しいと約束されていたからです。時計とカレンダーは木曜日の11:00で、月曜日までにはプロジェクトの準備ができているはずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手始めに、私たちが何をしているか。私たちは映画の自動化に取り組んでいます-機器の自動および遠隔制御、映画上映、監視、ビデオパネルの自動化、そして今ではチケットやバーの販売用の端末もあります。具体的には、最後の段落はこの記事に当てられています。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
月曜日までに完了する必要があったプロジェクト自体は、Scalaのメインサーバーと鉄の決済端末VeriFone VX 820の間の一種のレイヤーです（実際には、より多くの端末がありますが、例としてそれを取り上げてください）。そのように誰もそれを介してトランザクションを提供しないことは明らかであるため、Sberbank / ArcusおよびUCSのユーティリティとライブラリが使用されます。したがって、結果の作業スキームは次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ak/k4/do/akk4do9scie61w_tobeuwpk6liu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
外部的には、次のようになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oh/ul/ts/ohultstzocyw8za06mbxqwmnrma.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、このサブシステムは、レジ係の映画館で誰もが見た標準のレジで使用する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
内部の伝統によれば、私たちのチームの各プロジェクトを旧北欧神話の名前と呼びます。このサブシステムではGefjonという名前が選ばれました-受胎能と受精能の女神の名前（支払いサーバーの良い名前ですよね？）高級言語の機器を使用して作業を切り離す）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
着信および発信メッセージの形式は、JSONロードを備えたHTTPサーバーです。</font><font style="vertical-align: inherit;">これは、ソケットストリームからバイナリデータを分離するのが難しいScalaと、ネットワーク経由でオブジェクトを転送するのが難しいCの間の最適な妥協案です。</font><font style="vertical-align: inherit;">処理する必要のある可能性のある操作は多くありません。支払い、キャンセル、返品、さまざまなタイプのレポート、サービスメニューを開いてpingを送信します。</font><font style="vertical-align: inherit;">何も複雑に見えません。</font><font style="vertical-align: inherit;">3つの銀行システムがあるため（後で家族の補充が予想されるため）、プロジェクトをコンポーネントに分割することが決定されました：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rk/vm/sc/rkvmscw9ret9atfnts-nezxtaqg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
塗装する必要のある緑のブロック、青-変更できず、銀行が提供したブロック。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主な問題はSberbankのソフトウェアでのみ発生したため、記事全体は、ボートで数えた落とし穴に当てられます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第2章子羊のロースト</font></font></h2><br>
<img src="https://habrastorage.org/webt/zr/-d/ez/zr-dez83p56hekuceyiiqka2rdi.jpeg"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（写真：heaclub.ru）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...次のようになります。</font><font style="vertical-align: inherit;">銀行アプリケーションで作業できることをすべての上級レベルの人々に明らかにするために数か月前に書かれたそのプロトタイプのコードは、ほぼ同じに見えました。</font></font><br>
<br>
<pre><code class="cpp hljs">        <span class="hljs-keyword">char</span> buf[BUF_KB * <span class="hljs-number">2</span>];
        <span class="hljs-keyword">char</span> * null;
        <span class="hljs-keyword">char</span> * grep;<font></font>
 <font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> _WIN32_WINNT</span>
        <span class="hljs-keyword">char</span> * ptr;<font></font>
        null = <span class="hljs-string">"nul"</span>;<font></font>
        grep = <span class="hljs-string">"findstr"</span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
        null = <span class="hljs-string">"/dev/null"</span>;<font></font>
        grep = <span class="hljs-string">"grep"</span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
        <span class="hljs-built_in">sprintf</span>(buf, <span class="hljs-string">"%s %"</span>PRIi32<span class="hljs-string">"= %sops.ini &gt;%s 2&gt;%s || "</span>
                     <span class="hljs-string">"echo %"</span>PRIi32<span class="hljs-string">"=9,6,PINPAD_TEST &gt;&gt; %sops.ini"</span>,<font></font>
               grep,<font></font>
               TERM_ARCUS_TEST_PINPAD,<font></font>
               TERM_PATH,<font></font>
               null,<font></font>
               null,<font></font>
               TERM_ARCUS_TEST_PINPAD,<font></font>
               TERM_PATH);<font></font>
 <font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> _WIN32_WINNT</span><font></font>
        ptr = buf;<font></font>
        <span class="hljs-keyword">while</span> (*ptr)<font></font>
        {<font></font>
            <span class="hljs-keyword">if</span> (*ptr == <span class="hljs-string">'/'</span>)<font></font>
                *ptr = <span class="hljs-string">'\\'</span>;<font></font>
            ptr++;<font></font>
        }<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはプロダクションバージョンには適していないことは明らかです。そのため、本質的にすべてを書き直す必要がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
端末を操作するためのライブラリを提供する各バンクは、通常、2つの接続オプションを提供します。ライブラリ関数（.so / .dll）を使用するか、2つの値（操作のタイプと量（必要な場合）のみを渡す必要がある既製のユーティリティを使用します。</font><font style="vertical-align: inherit;">理論的には、複雑ではなく、単に何か</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">char</span> buffer[<span class="hljs-number">100</span>];
<span class="hljs-built_in">sprintf</span>(buffer, <span class="hljs-string">"%d %d"</span>, atoi(argv[<span class="hljs-number">1</span>]), atoi(argv[<span class="hljs-number">2</span>]));<font></font>
system(buffer);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
操作の結果はファイル「e」に入れられ、スリップチェックはファイル「p」に入れられます。</font><font style="vertical-align: inherit;">これらのファイルをJSONに変換してstdoutに送信するだけで、HTTPサーバーは何があるかを考えずにペイロードとして送信するだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、すべてがそれほど単純だったら、この記事は公開されなかっただろう。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第4章山の向こうと山の下</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実装の最初のバージョンは単純なアプリケーション呼び出しでした-HTTPサーバーは統一されたパラメーター（たとえば、Xレポートは4）で必要なラッパーを呼び出し、ユーティリティ（たとえば、gfj_pilot）はこの操作に必要なパラメーター（たとえば、Xレポートは9）でsb_pilotを起動しました。次に、ラッパーユーティリティが電子ファイルから操作の結果を読み取り（たとえば、2000-「支払いが拒否されました、操作を繰り返してください」）、それをユニバーサルエラーに変換します（たとえば、3-「カード/アカウントの読み取りまたは処理エラー、操作を繰り返してください」）。その後、「p」ファイルはbase64に変換され、フォーマットの破損を回避し、結果とともにJSONとしてstdoutに送信されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはすべて、完全に機能しました。ある時点で、... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... Windowsでは機能しないこと</font><font style="vertical-align: inherit;">が通知されました</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yp/44/t_/yp44t_qwokissyt75mayl71mcdm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より正確には、Windows自体に問題はありません（スリップがCp-1251エンコーディングで生成され、コンソールがCP866で機能することを除いて）。</font><font style="vertical-align: inherit;">「e」ファイルは単に生成されませんでした。</font><font style="vertical-align: inherit;">銀行ユーティリティを直接立ち上げました：</font></font><br>
<br>
<pre><code class="plaintext hljs">C:\banks\sber\sb_pilot&gt;dir<font></font>
    C   .<font></font>
   : B401-6B9D<font></font>
 <font></font>
   C:\banks\sber\sb_pilot<font></font>
 <font></font>
04.02.2019  12:28    &lt;DIR&gt;          .<font></font>
04.02.2019  12:28    &lt;DIR&gt;          ..<font></font>
31.01.2019  17:12            10 832 F12X24.BIN<font></font>
31.01.2019  17:12           128 000 gate.dll<font></font>
31.01.2019  17:12            72 192 loadparm.exe<font></font>
31.01.2019  17:12            36 204 OPT0.R<font></font>
31.01.2019  17:12            20 716 OPT1.R<font></font>
31.01.2019  17:12             1 806 OPT3.R<font></font>
31.01.2019  17:12           388 608 pilot_nt.dll<font></font>
31.01.2019  23:06               463 pinpad.ini<font></font>
31.01.2019  17:12            91 136 posScheduler.exe<font></font>
31.01.2019  17:12               418 printers.ini<font></font>
01.02.2019  16:51            91 646 sbkernel1902.log<font></font>
31.01.2019  17:12           653 312 sbrf.dll<font></font>
31.01.2019  17:12           840 192 SBRFCOM.dll<font></font>
31.01.2019  17:12         3 142 656 sb_kernel.dll<font></font>
01.02.2019  16:51                 9 SESS.D<font></font>
01.02.2019  16:51               715 SPLC.D<font></font>
31.01.2019  17:12            72 192 upwin.exe<font></font>
              20       5 659 718 <font></font>
               2   37 567 004 672  <font></font>
 <font></font>
#    (1)  10  (1000 )<font></font>
C:\banks\sber\sb_pilot&gt;loadparm.exe 1 1000<font></font>
 <font></font>
C:\banks\sber\sb_pilot&gt;dir<font></font>
    C   .<font></font>
   : B401-6B9D<font></font>
 <font></font>
   C:\banks\sber\sb_pilot<font></font>
 <font></font>
04.02.2019  12:28    &lt;DIR&gt;          .<font></font>
04.02.2019  12:28    &lt;DIR&gt;          ..<font></font>
04.02.2019  12:28               216 commerr.log<font></font>
31.01.2019  17:12            10 832 F12X24.BIN<font></font>
31.01.2019  17:12           128 000 gate.dll<font></font>
31.01.2019  17:12            72 192 loadparm.exe<font></font>
31.01.2019  17:12            36 204 OPT0.R<font></font>
31.01.2019  17:12            20 716 OPT1.R<font></font>
31.01.2019  17:12             1 806 OPT3.R<font></font>
01.02.2019  18:51             1 349 p<font></font>
31.01.2019  17:12           388 608 pilot_nt.dll<font></font>
31.01.2019  23:06               463 pinpad.ini<font></font>
31.01.2019  17:12            91 136 posScheduler.exe<font></font>
31.01.2019  17:12               418 printers.ini<font></font>
04.02.2019  12:28            92 218 sbkernel1902.log<font></font>
31.01.2019  17:12           653 312 sbrf.dll<font></font>
31.01.2019  17:12           840 192 SBRFCOM.dll<font></font>
31.01.2019  17:12         3 142 656 sb_kernel.dll<font></font>
01.02.2019  16:51                 9 SESS.D<font></font>
01.02.2019  16:51               715 SPLC.D<font></font>
31.01.2019  17:12            72 192 upwin.exe<font></font>
              19       5 659 029 <font></font>
               2   37 567 008 768  <font></font>
 <font></font>
C:\banks\sber\sb_pilot&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、「e」ファイルはありません。</font><font style="vertical-align: inherit;">Sberbank＃1に向かって石。</font><font style="vertical-align: inherit;">私たちはSberbankに手紙を書いています（その後、そうすべきであるという返答を受け取りました）。対応する時間がないため、今すぐ開始する必要があるため、結果を取得するための回避策を探しています。</font></font><br>
<br>
<pre><code class="plaintext hljs">04.02 12:28:55 SBKRNL: Failed to open device \\.\COM1, err 2<font></font>
04.02 12:28:56 SBKRNL: Failed to open device \\.\COM1, err 2<font></font>
04.02 12:28:56 SBKRNL: Result  = 0<font></font>
04.02 12:28:56 GATE: unlock:'00000054'<font></font>
04.02 12:28:56 GATE: lock:'00000054' 'UPOSWINMUTEX2'<font></font>
04.02 12:28:56 GATE: unlock:'00000054'<font></font>
04.02 12:28:56 LOADPARM: Unloading GATE.DLL...<font></font>
04.02 12:28:56 GATE: SB_KERNEL.DLL is unloaded<font></font>
04.02 12:28:56 LOADPARM: GATE.DLL unloaded</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ええ、結果はログsbkernel.logから取得できます。</font><font style="vertical-align: inherit;">不便なことに、さらに、Sberbankから「ありがとう」をねじ込むためのマップハッシュはありません。</font><font style="vertical-align: inherit;">良くない。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pilot_nt.dllライブラリに接続し、そこから関数をインポートする必要があります。</font><font style="vertical-align: inherit;">すべては問題ありませんが、... Sberbankへの石＃2：Linuxにはそのようなライブラリがないため、異なるプラットフォーム用に2つの異なるアプリケーションを作成する必要があります-Linuxの場合、sb_pilotユーティリティ（loadparm.exeと同様、異なるプラットフォームで異なるユーティリティ名の石＃3を呼び出す）を呼び出す）、ウィンドウの下で、pilot_nt.dllライブラリに接続します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第5章暗闇のなぞなぞ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
19時。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sberbankは大企業であり、ほとんどのソフトウェアソリューションはGOSTおよび正式なドキュメントに従って作成されています。</font><font style="vertical-align: inherit;">Sberbankがライブラリを提供するカタログにアクセスします。</font></font><br>
<br>
<pre><code class="plaintext hljs">Sberbank$ ls -l Docs<font></font>
 30160<font></font>
drwx------ 2 alex alex    4096  17 19:31 FAQ<font></font>
-rw-rw-r-- 1 alex alex 3398465   9  2018   UPOS    ().docx<font></font>
-rw-rw-r-- 1 alex alex 1182078   9  2018   UPOS  .docx<font></font>
-rw-rw-r-- 1 alex alex  853504   9  2018   .doc<font></font>
drwx------ 3 alex alex    4096  31 17:11    <font></font>
-rw-rw-r-- 1 alex alex 5280787   9  2018    POS-.docx<font></font>
-rw-rw-r-- 1 alex alex 1149640   9  2018  .docx<font></font>
drwx------ 2 alex alex    4096  28  2018  UPOS<font></font>
drwx------ 2 alex alex    4096  28  2018   <font></font>
-rw-rw-r-- 1 alex alex 3451601   9  2018     ().docx<font></font>
-rw-rw-r-- 1 alex alex 1956196   9  2018   .docx<font></font>
-rw-rw-r-- 1 alex alex 1043161   9  2018       ()_().docx<font></font>
-rw-rw-r-- 1 alex alex 4348157   9  2018  POS-.docx<font></font>
-rw-rw-r-- 1 alex alex 3970267   9  2018   .docx<font></font>
drwx------ 3 alex alex    4096  28  2018  <font></font>
-rw-rw-r-- 1 alex alex 2644702   9  2018    POS-.docx<font></font>
drwx------ 2 alex alex    4096  28  2018  <font></font>
-rw-rw-r-- 1 alex alex 1558211   9  2018   .png</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの良いですが、私たちは開発者のためのディレクトリにのみ興味があります：</font></font><br>
<br>
<pre><code class="plaintext hljs">Sberbank$ ls -l Docs/\ \ \ /<font></font>
 8704<font></font>
-rw-rw-r-- 1 alex alex   47105   9  2018 1C.docx<font></font>
-rw-rw-r-- 1 alex alex    1824   9  2018 cardtype.h<font></font>
-rw-rw-r-- 1 alex alex 2590378   9  2018 cr_ttk_protocol_ru.rtf<font></font>
-rw-rw-r-- 1 alex alex     208   9  2018 deprtmnt.h<font></font>
-rw-rw-r-- 1 alex alex   16681   9  2018 errors.h<font></font>
drwx------ 6 alex alex    4096  28  2018 examples<font></font>
-rw-rw-r-- 1 alex alex   58575   9  2018 gate.h<font></font>
-rw-rw-r-- 1 alex alex    4218   9  2018 paramsln.h<font></font>
-rw-rw-r-- 1 alex alex   61693   9  2018 pilot_nt.h<font></font>
-rw-rw-r-- 1 alex alex   28160   9  2018 ReadTrack2.doc<font></font>
-rw-rw-r-- 1 alex alex    7417   9  2018 sbkernel.h<font></font>
-rw-rw-r-- 1 alex alex  144896   9  2018 sb_pilot.doc<font></font>
-rw-rw-r-- 1 alex alex 3525323   9  2018     ole- sbrf.dll.rtf<font></font>
-rw-rw-r-- 1 alex alex   46683   9  2018      gate.dll.chi<font></font>
-rw-rw-r-- 1 alex alex  255414   9  2018      gate.dll.chm<font></font>
-rw-rw-r-- 1 alex alex  814653   9  2018      gate.dll.pdf<font></font>
-rw-rw-r-- 1 alex alex   41618   9  2018      pilot_nt.chi<font></font>
-rw-rw-r-- 1 alex alex  241716   9  2018      pilot_nt.chm<font></font>
-rw-rw-r-- 1 alex alex  968753   9  2018      pilot_nt.pdf<font></font>
-rw-rw-r-- 1 alex alex      81   9  2018  .txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
念のため、たくさんの古紙を読み、pilot_ntをもう一度読んでください。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">表1.サポートされているsb_pilot OS。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OS</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">容量</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール名</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウィンドウズ</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sb_pilot.exe</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sb_pilot</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドス</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sb_pilot.exe</font></font></td>
</tr>
</tbody></table></div></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windows用のユーティリティは引き続きsb_pilotと呼ばれるべきであることがわかりました。</font><font style="vertical-align: inherit;">まあ、それ自体のドキュメントの不整合のためのSberbank＃4への石。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムの結果の転送。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムの最後に、交換ファイルとチェックファイルの2つのテキストファイルが形成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つ目はeという名前で、呼び出し元のプログラムに完全な操作のパラメーターを渡すことを目的としています。</font><font style="vertical-align: inherit;">このファイルの最初の行には、操作の結果のコードと、テキストメッセージを説明するカンマ区切りのテキストが含まれています。</font><font style="vertical-align: inherit;">コード0は、支払いの成功、その他の価値-支払いの拒否または不可能を意味します。</font></font></blockquote><br>
<br>
<img src="https://habrastorage.org/webt/c8/7f/m2/c87fm26nwcdjtfol6m0vamuvk8e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
怠惰に私たちはもう1つの石を投げて、ライブラリを直接接続するためのドキュメントの調査を開始します。</font></font><br>
<blockquote><b>   </b><br>
<br>
  ()             card_authorize(),   TType  Amount       .        RCode.      «0»  «00»,    ,    .  ,     Check.<br>
<br>
    NULL,      (  )  <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数GlobalFree（）を呼び出して削除します。</font><font style="vertical-align: inherit;">シフトを閉じるとき、キャッシュプログラムは、TType = 7フィールドに入力し、残りのフィールドにゼロ値を指定することにより、Sberbankライブラリからclose_day（）関数を呼び出す必要があります。</font><font style="vertical-align: inherit;">関数の最後で、[チェック]フィールドの値を確認します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CheckフィールドがNULLでない場合、（非会計モードで）印刷に送信し、GlobaFree（）関数を呼び出して削除する必要があります。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘッダーファイルが提供されていても簡単に聞こえます。</font><font style="vertical-align: inherit;">さて、プラグインして、コンパイルして...</font></font><br>
<br>
<pre><code class="cpp hljs">$ cat main.c &amp;&amp; i686-w64-mingw32-gcc main.c -o main.a
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"pilot_nt.h"</span></span><font></font>
 <font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">void</span>)</span> </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}<font></font>
 <font></font>
 <font></font>
In file included from main.c:<span class="hljs-number">1</span>:<span class="hljs-number">0</span>:<font></font>
pilot_nt.h:<span class="hljs-number">525</span>:<span class="hljs-number">3</span>: error: unknown type name ‘auth_answer’<font></font>
   auth_answer   ans;                     <span class="hljs-comment">/**&lt; [in, out]                             .   . ::auth_answer */</span><font></font>
   ^<font></font>
pilot_nt.h:<span class="hljs-number">544</span>:<span class="hljs-number">3</span>: error: unknown type name ‘auth_answer’<font></font>
   auth_answer   ans;               <span class="hljs-comment">/**&lt; [in, out]                             .   . ::auth_answer */</span><font></font>
   ^<font></font>
pilot_nt.h:<span class="hljs-number">567</span>:<span class="hljs-number">3</span>: error: unknown type name ‘auth_answer’<font></font>
   auth_answer   ans;               <span class="hljs-comment">/**&lt; [in, out]                             .   . ::auth_answer */</span><font></font>
   ^<font></font>
pilot_nt.h:<span class="hljs-number">590</span>:<span class="hljs-number">3</span>: error: unknown type name ‘auth_answer’<font></font>
   auth_answer   ans;              <span class="hljs-comment">/**&lt; [in, out]                             .   . ::auth_answer */</span><font></font>
   ^<font></font>
pilot_nt.h:<span class="hljs-number">627</span>:<span class="hljs-number">3</span>: error: unknown type name ‘auth_answer’<font></font>
   auth_answer   ans;              <span class="hljs-comment">/**&lt; [in, out]                             .   . ::auth_answer */</span><font></font>
   ^<font></font>
pilot_nt.h:<span class="hljs-number">668</span>:<span class="hljs-number">3</span>: error: unknown type name ‘auth_answer’<font></font>
   auth_answer   ans;               <span class="hljs-comment">/**&lt; [in, out]                             .   . ::auth_answer */</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
うーん...何？</font><font style="vertical-align: inherit;">Pilot_nt.hを開きます。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> __cplusplus</span>
<span class="hljs-keyword">extern</span> <span class="hljs-string">"C"</span>{
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
&lt;...&gt;<font></font>
<span class="hljs-comment">/**
 *   
 * ,         .
 */</span>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">auth_answer</span>{</span>
   <span class="hljs-keyword">int</span> TType;             <span class="hljs-comment">/**&lt; [in]  .  ::OpetationTypes */</span>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> Amount;  <span class="hljs-comment">/**&lt; [in]                       */</span>
   <span class="hljs-keyword">char</span> RCode[<span class="hljs-number">3</span>];         <span class="hljs-comment">/**&lt; [out]            */</span>
   <span class="hljs-keyword">char</span> AMessage[<span class="hljs-number">16</span>];     <span class="hljs-comment">/**&lt; [out]          */</span>
   <span class="hljs-keyword">int</span>  CType;            <span class="hljs-comment">/**&lt; [in,out]                         */</span>
   <span class="hljs-keyword">char</span>* Check;           <span class="hljs-comment">/**&lt; [out]  ,   GlobalFree    */</span><font></font>
};<font></font>
&lt;...&gt;<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">auth_answer7</span>{</span>
  auth_answer auth_answ;           <span class="hljs-comment">/**&lt; [in, out]    . . ::auth_answer */</span> &lt;---- THIS
  <span class="hljs-keyword">char</span>   AuthCode[MAX_AUTHCODE];  <span class="hljs-comment">/**&lt; [out]  . 7 .                            */</span>
  <span class="hljs-keyword">char</span>   CardID [CARD_ID_LEN];     <span class="hljs-comment">/**&lt; [out]  . 25 .                       */</span>
  <span class="hljs-keyword">int</span>    SberOwnCard;              <span class="hljs-comment">/**&lt; [out]                     */</span>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
即座に、コーディングCP1251でロシア語のコメントの石を見ることはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、最も深刻な石：親愛なるC ++開発者。</font><font style="vertical-align: inherit;">extern“ C”を記述した場合、これは、ブロック内のコードをCコンパイラでコンパイルする必要があることを意味します。</font><font style="vertical-align: inherit;">構造の `typedef`を作成していない場合は、型参照として言及するたびに、キーワード` struct`を記述する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者用のファイルにパッチを適用し、必要に応じて「struct」という単語を置き換えます。</font><font style="vertical-align: inherit;">`pilot_nt.dll`ライブラリへのリンク。</font><font style="vertical-align: inherit;">勝利だよね？</font><font style="vertical-align: inherit;">アプリケーションを起動します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第6章火から炎へ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、あなたはそれを理解しますよね？</font><font style="vertical-align: inherit;">アプリケーションがクラッシュするだけです。</font><font style="vertical-align: inherit;">メインまで。</font><font style="vertical-align: inherit;">瞑想し、ウィンドウのerrno関数のNIHアナログを追加します：GetLastError（Microsoft向けの石3、最初の2つはエンコーディング用）。</font></font><br>
<br>
<pre><code class="plaintext hljs">C:\banks\sber\WIN&gt;sb_pilot.exe 1 1000<font></font>
E: !g_sblibrary (0xc0000096)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0xc0000096？</font><font style="vertical-align: inherit;">GetLastErrorは適切なエラーコードを返すべきではありませんか？</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オペレーティングシステムによって提供されるエラーコードの完全なリストについては、システムエラーコードを参照してください。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ええ、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に記事を開いてください</font><font style="vertical-align: inherit;">：</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のトピックでは、システムエラーコードのリストを示します。</font><font style="vertical-align: inherit;">これらの値は、WinError.hヘッダーファイルで定義されています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（0-499）（0x0-0x1f3）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（500-999）（0x1f4-0x3e7）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（1000-1299）（0x3e8-0x513）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（1300-1699）（0x514-0x6a3）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（1700〜3999）（0x6a4-0xf9f）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（4000-5999）（0xfa0-0x176f）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（6000-8199）（0x1770-0x2007）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（8200-8999）（0x2008-0x2327）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（9000-11999）（0x2328-0x2edf）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システムエラーコード（12000-15999）（0x2ee0-0x3e7f）</font></font></li>
</ul></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> わかりました、文書化されていないエラーが発生しました。石を投げて、全知のgoogleを開きます：</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">forum.vingrad.ru/forum/topic-346194/kw-dll-loadlibrary-%D0%BE%D1%82%D0%BB%D0%B0%D0%B4%D0%BA%D0%B0.html</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bbs.csdn.net/topics/80078275</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">forums.codeguru.com/showthread.php?179566-0xC0000096-Privileged-Instruction</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.unknowncheats.me/forum/general-programming-and-reversing/97763-privileged-instruction-error.html</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cboard.cprogramming.com/windows-programming/146130-prallel-port-programming.html</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">computer-programming-forum.com/82-mfc/dc2481c0ecead2f2.htm</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エラーの本質は、一部のサブルーチンが命令の1つを使用することです </font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_inp（）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_inpw（）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_inpd（）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_outp（）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_outpw（）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">_outpd（）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NTカーネルでは、パラレルポートを直接操作しようとするため、その使用は禁止されています。</font><font style="vertical-align: inherit;">明らかに、このコードはライブラリ初期化子で呼び出されます。</font><font style="vertical-align: inherit;">起動時のライブラリはデバイスのポートをポーリングする必要がありますが、NTカーネルはドライバーを介した作業を必要とします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
絶望的な状況？</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第8章クモとハエ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
午後10時。念のため、これはmingwを使用してLinuxとのクロスコンパイルを使用しているためではないことを確認するために発生します。同時に、Sberbankは32ビットアプリケーションのみを提供することを理解しているため、64ビットアプリケーションでは動作しませんが、とにかく、2019年に32のみのバージョンのSberbank向けの石を打ち上げます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">指定</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：virtualbox windows 7にインストールされています。</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必須</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Visual StudioをインストールしてMVPをコピーします。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MicrosoftのWebサイトにアクセスし、Visual Studio 2017をダウンロードします。コミュニティライセンスを確認のために取得するため、コミュニティライセンスを取得しています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
数百メガバイトをダウンロードし</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
てください</font><font style="vertical-align: inherit;">... </font><font style="vertical-align: inherit;">OSのバージョン（Windows 7）はサポートされていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、あらゆる種類のわいせつなサイトにアクセスし、Visual Studio 2008を探し、数百メガバイトを再度ダウンロードして</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、isoファイルを取得します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、この仮想ディスクを挿入するためにDaemon Tools 10（これはサイトが提供するバージョンであるため）をインストールしてみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ダウンロードしたバイナリを実行します。 Misfire、.NET Framework 4.5が必要、ダウンロード、インストール。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ダウンロードしたバイナリを開始し、インストールを開始しました。ブートローダーは、4.5.2が必要であるとダウンロードし、インストールします。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ダウンロードしたバイナリを開始し、インストールを開始しました。セキュリティ更新プログラムKB3033929をダウンロードしてインストールするまで、ブートローダーはどこにも行かないと言っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、Microsoftからメッセージとして平手打ちを受け取ります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r6/qe/de/r6qedenl5w3dez4ysscvod8rmjw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Microsoftに向かって非常に鋭い石を激しく投げ、古いDaemon Toolsを急流からダウンロードし、Visual Studioを正常にアンパックし、インストールし、最後に（00:00）MVPをコンパイルすると、同じエラーが発生します。</font><font style="vertical-align: inherit;">まあ、良いバージョンがありましたが、一緒に成長しませんでした。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第11章敷居について</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、サーバーと登録手続きを緊急に完了している2人目のプログラマーに手紙を書いています。彼は</font><font style="vertical-align: inherit;">、NTのこのライブラリに接続して動作</font><font style="vertical-align: inherit;">するgit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があることを思い出しまし</font><font style="vertical-align: inherit;">た。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不審にリポジトリを見て、ダウンロードし、コンパイルして実行します。動作します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mt/gl/q-/mtglq-c68eyegv74wjnzjvpmddi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードをさらに疑わしく見ます。コードはCではなくC ++で書かれていることを除いて同じです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
言語はそれとは何の関係もない</font><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">理解しています。コードが取得するSberbankのライブラリを調べます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後のコミットを見ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、ここで私たちは別の驚きを待っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sberbankライブラリのバージョンが異なる場合があることがわかりました。最後のコミットにより、バージョンが23から27に増えます。バージョンをgitaからテストコンピューターにコピーします-WORKS！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sberbankから送信されたすべてのアーカイブをチェックし、バージョンを比較して、タブレットを作成します。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作品</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">26.0.15-基本</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">番号</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">27.4.12-リポジトリから</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はい</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.0.13-リポジトリから</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はい</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">29.0.9-土からの最新</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はい</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23.0.13-Cryptorシステムのパッチあり</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はい</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すばらしい、今私たちは生きます。</font><font style="vertical-align: inherit;">26がかかるシステムでは、29または27にアップグレードすれば、すべてがうまくいきます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
NTシステムでの動作を破壊するために、＃9をSberbankに向けて投げます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第12章内部で彼らを待っていたもの</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
eファイルが足りませんか？重要ではありません。パッチを当てたヘッダーを受け取り、ライブラリに動的にリンクしてエラーを正しく返し、関数からの戻りコードを「e」ファイルに単に書き込むコードを記述し、sb_pilot.exe binarを呼び出して、... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
動作します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは「Cryptor」システムのバージョンであり、「p」ファイルを作成しません。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ナックルに滴る血と壁のへこみを悲しそうに見ます。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
まず、Cryptorシステムとは何ですか。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crypteraは、暗号化機器/セキュリティ機器/鍵などを製造しているデンマークの会社です。皆さんは、その製品のコピーの1つを見たと思います。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pb/dz/85/pbdz85atzxiscdkdkq0z97ahhsm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、Sberbankはピンパッド用の暗号モジュールを使用して、特別な「パッチ済み」ライブラリをリリースします。これには、すでに理解したように、「p」ファイルは作成されません。</font><font style="vertical-align: inherit;">これについてSberbankに書いているところ、数日後には「元のシステムではファイル「p」が作成されますが、Cryptorへのパッチ適用では作成されない」という回答が得られます。</font><font style="vertical-align: inherit;">あなたが今働く必要があるので、我々は彼らに数日で石＃10を与えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
幸い、または残念ながら、操作に使用する関数は、既に述べた構造を返します。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">auth_answer</span>{</span>
   <span class="hljs-keyword">int</span> TType;             <span class="hljs-comment">/**&lt; [in]  .  ::OpetationTypes */</span>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> Amount;  <span class="hljs-comment">/**&lt; [in]                       */</span>
   <span class="hljs-keyword">char</span> RCode[<span class="hljs-number">3</span>];         <span class="hljs-comment">/**&lt; [out]            */</span>
   <span class="hljs-keyword">char</span> AMessage[<span class="hljs-number">16</span>];     <span class="hljs-comment">/**&lt; [out]          */</span>
   <span class="hljs-keyword">int</span>  CType;            <span class="hljs-comment">/**&lt; [in,out]                         */</span>
   <span class="hljs-keyword">char</span>* Check;           <span class="hljs-comment">/**&lt; [out]  ,   GlobalFree    */</span>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ああ、結構です、チェックはすでにそこにあります。それを自分でファイルに保存するか、JSONですぐに印刷できます...</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>, answer.Check);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、無効なポインタへのアクセスが原因でアプリケーションがクラッシュします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第14章火と水</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
午前4時。</font><font style="vertical-align: inherit;">私たちは落ち着くためにセス・バンダ・サルバンガサナを行い、注意深くマニュアルを読みます：</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[out]チェックの画像、GlobalFreeは呼び出し側プログラムで解放する必要があります</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは私たちに何を与えますか？</font><font style="vertical-align: inherit;">多くのこと。</font><font style="vertical-align: inherit;">まず、ポインタはGlobalFreeを使用してクリーンアップする必要があるため、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GlobalAlloc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して割り当てられました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、16ビットバージョンのように、メモリへのポインターは発行しませんが、セマンティックに宣言されたタイプHGLOBALのオブジェクト番号を発行します。これは、割り当てられたブロックのサイズを取得するためにGlobalSize関数に、メモリの一部をブロックするためにGlobalLockに入力できますが、元のポインターを取得します。</font><font style="vertical-align: inherit;">ちなみに、標準ライブラリにあるNIH mallocとfreeについては、Microsoftに向けた6番目の石があります。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-built_in">printf</span>(<span class="hljs-string">"%s\n"</span>, GlobalLock(answer.Check));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、まだ落ちる。</font><font style="vertical-align: inherit;">さて、GlobalSizeは何を表示していますか？</font><font style="vertical-align: inherit;">ゼロ？</font><font style="vertical-align: inherit;">少しおかしな。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同じように他の機能もチェックします。同じ画像が表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一番クールな支払い機能が提供できるデータに基づいて自分でスリップを生成するのは私だけです（そうです、Sberbankにはcard_authorize2..14と呼ばれる関数があるので、そのために石を投げません）：</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">auth_answer14</span> {</span>
  auth_answer   ans;               <span class="hljs-comment">/**&lt; [in, out]    . . ::auth_answer */</span>
  <span class="hljs-keyword">char</span>   AuthCode[MAX_AUTHCODE];  <span class="hljs-comment">/**&lt; [out]  . 7 .              */</span>
  <span class="hljs-keyword">char</span>   CardID[CARD_ID_LEN];      <span class="hljs-comment">/**&lt; [out]  . 25 .     ,   6   4,    ‘*’.*/</span>
  <span class="hljs-keyword">int</span>    ErrorCode;                <span class="hljs-comment">/**&lt; [out]  .                                         */</span>
  <span class="hljs-keyword">char</span>   TransDate[TRANSDATE_LEN]; <span class="hljs-comment">/**&lt; [out]                                   */</span>
  <span class="hljs-keyword">int</span>    TransNumber;              <span class="hljs-comment">/**&lt; [out]    . , .        */</span>
  <span class="hljs-keyword">int</span>    SberOwnCard;              <span class="hljs-comment">/**&lt; [out]                     */</span>
  <span class="hljs-keyword">char</span>   Hash[CARD_HASH_LEN];      <span class="hljs-comment">/**&lt; [in, out]  SHA1   ,   ASCII     . 40 .*/</span>
  <span class="hljs-keyword">char</span>   Track3[CARD_TRACK3_LEN];  <span class="hljs-comment">/**&lt; [out]   */</span>
  DWORD  RequestID;                <span class="hljs-comment">/**&lt; [in,out]   .  PCI DSS .*/</span>
  DWORD  Department;              <span class="hljs-comment">/**&lt; [in]     0  14-, .
                                                 0xFFFFFFFF,  
                                                   .
                                                   ,
                                                 4191. */</span>
  <span class="hljs-keyword">char</span>   RRN[MAX_REFNUM];          <span class="hljs-comment">/**&lt; [in,out]   ,  . 
                                                  ,     .
                                                  12-  .
                                                     
                                                (   pilot_nt.dll),  
                                                  –  ( 
                                                   ;  
                                                  ,   ).*/</span>
  DWORD  CurrencyCode;             <span class="hljs-comment">/**&lt; [in]    (810, 643, 840, 978  ..) */</span>
  <span class="hljs-keyword">char</span>   CardEntryMode;            <span class="hljs-comment">/**&lt; [out]    ('D'-., 'M'- , 'C'-, 'E'- EMV, 'R'- magstripe, 'F'-fallback)*/</span>
  <span class="hljs-keyword">char</span>   CardName[MAX_CARD_NAME_LEN]; <span class="hljs-comment">/**&lt; [out]    */</span>
  <span class="hljs-keyword">char</span>   AID[MAX_AID_ASCII_LEN];   <span class="hljs-comment">/**&lt; [out] Application ID   (   ASCIIZ-)*/</span>
  <span class="hljs-keyword">char</span>   FullErrorText[MAX_FULL_ERROR_TEXT]; <span class="hljs-comment">/**&lt; [out]     */</span>
  DWORD  GoodsPrice;                <span class="hljs-comment">/**&lt; [in]    ,  (34.99-&gt;3499)*/</span>
  DWORD  GoodsVolume;               <span class="hljs-comment">/**&lt; [in]  ,  .  (30.234-&gt;30234)*/</span>
  <span class="hljs-keyword">char</span>   GoodsCode[MAX_GOODS_CODE+<span class="hljs-number">1</span>]; <span class="hljs-comment">/**&lt; [in]     .*/</span>
  <span class="hljs-keyword">char</span>   GoodsName[MAX_GOODS_NAME]; <span class="hljs-comment">/**&lt; [in]     . !   auth_answer14         gate.dll TGoodsData.     */</span><font></font>
};<font></font>
 <font></font>
 <font></font>
<span class="hljs-comment">/** @brief    
 *  @param[in] track2      .  NULL,     .
 *  @param[in,out] auth_answer . ::auth_answer14
 *  @param[in,out] payinfo    
 *  @return int  .
 */</span>
<span class="hljs-function">PILOT_NT_API <span class="hljs-keyword">int</span>  <span class="hljs-title">card_authorize14</span><span class="hljs-params">(
  <span class="hljs-keyword">char</span> *track2,
  struct auth_answer14 *auth_answer,
  struct payment_info_item *payinfo
)</span></span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちはフィールドを選択しようとしています...私たちは幸福から私たちを隔てた唯一のもの-名とカードホルダーの名前を見つけました。</font><font style="vertical-align: inherit;">それらがなければ、スリップは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">合法</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とは見なされません</font><font style="vertical-align: inherit;">：</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">詳細：ATM、電子端末、または決済カードを使用した取引を目的としたその他の技術的手段の識別子。</font><font style="vertical-align: inherit;">操作のタイプ。</font><font style="vertical-align: inherit;">取引日; </font><font style="vertical-align: inherit;">取引金額; </font><font style="vertical-align: inherit;">取引通貨; </font><font style="vertical-align: inherit;">手数料額承認コード; </font><font style="vertical-align: inherit;">支払いカードの詳細。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それは残念ですが、私たちが持っているデータで法的伝票を形成することはできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう一度ドキュメントを調べてみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sberbankが提供するサンプルは「examples」ディレクトリにあります</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Authorization completion finished with code '"</span> &lt;&lt; result &lt;&lt; <span class="hljs-string">"'"</span> &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;<font></font>
 <font></font>
<span class="hljs-function"><span class="hljs-built_in">std</span>::ofstream <span class="hljs-title">file</span><span class="hljs-params">(CHEQUE_FILENAME)</span></span>;<font></font>
file &lt;&lt; argument.auth_answ.Check;<font></font>
file.close();<font></font>
 <font></font>
<span class="hljs-keyword">if</span> (argument.auth_answ.Check) {
  <span class="hljs-built_in">std</span>::<span class="hljs-built_in">cout</span> &lt;&lt; <span class="hljs-string">"Cheque saved to file "</span> &lt;&lt; CHEQUE_FILENAME &lt;&lt; <span class="hljs-built_in">std</span>::<span class="hljs-built_in">endl</span>;
  <span class="hljs-comment">//GlobaFree(argument.auth_answ.Check);</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ポインタにあるテキストを表示するだけです。</font><font style="vertical-align: inherit;">しかし、そのように動作しないことはすでに確認しています。念のため、サンプルをコンパイルして実行します。</font><font style="vertical-align: inherit;">「file &lt;&lt; argument.auth_answ.Check;」という行で出発します。Sberbankさん、実際には機能しない例については、＃11を保持してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
午前7時。</font><font style="vertical-align: inherit;">すでに数年前にDelphiで作成された別のラッパーの開発者に書き込むことができます。</font><font style="vertical-align: inherit;">私たちはすべてが彼らのために働くという答えを得ます。</font><font style="vertical-align: inherit;">私たちはそれらのラッパーの基礎を探しており、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で見つけます</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="cpp hljs">TAuthAnswer = packed record<font></font>
  TType: integer;<font></font>
  Amount: UINT; <span class="hljs-comment">// IN    </span>
  Rcode: <span class="hljs-built_in">array</span> [<span class="hljs-number">0</span> .. <span class="hljs-number">2</span>] of AnsiChar;<font></font>
  AMessage: <span class="hljs-built_in">array</span> [<span class="hljs-number">0</span> .. <span class="hljs-number">15</span>] of AnsiChar;<font></font>
  CType: integer;<font></font>
  Check: PAnsiChar;<font></font>
end;<font></font>
 <font></font>
 <font></font>
    Result := Func(nil, @FAuthAnswer);<font></font>
    FLastError := Result;<font></font>
    FCheque := PAnsiChar(FAuthAnswer.Check);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
関数を呼び出さずに単純型からポインタに変換します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは悪霊を疑い始めます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">第17章雷雨が噴出した</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
人々は彼らの頭を共感してうなずき、オフィスに戻り始めます。</font><font style="vertical-align: inherit;">POは、最新のニュースを知って満足していません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで1つの詳細を思い出します。</font><font style="vertical-align: inherit;">構造＃14のフィールドを表示してその値を確認すると、各行の1バイトが切り捨てられました。</font><font style="vertical-align: inherit;">一方では、他方で</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font><font style="vertical-align: inherit;">auth_answer14構造では、製品名はgate.dll TGoodsDataよりも1文字短くなっています。</font><font style="vertical-align: inherit;">このエラーを標準で修正する</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多分それはまだ繋がっています... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
雷のように恐ろしい推測が脳に夜明けをもたらします。</font><font style="vertical-align: inherit;">構造を次のように宣言します</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span> __<span class="hljs-title">attribute__</span>((<span class="hljs-title">packed</span>)) {</span>
   <span class="hljs-keyword">int</span> TType;             <span class="hljs-comment">/**&lt; [in]  .  ::OpetationTypes */</span>
   <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">long</span> Amount;  <span class="hljs-comment">/**&lt; [in]                       */</span>
   <span class="hljs-keyword">char</span> RCode[<span class="hljs-number">3</span>];         <span class="hljs-comment">/**&lt; [out]            */</span>
   <span class="hljs-keyword">char</span> AMessage[<span class="hljs-number">16</span>];     <span class="hljs-comment">/**&lt; [out]          */</span>
   <span class="hljs-keyword">int</span>  CType;            <span class="hljs-comment">/**&lt; [in,out]                         */</span>
   <span class="hljs-keyword">char</span>* Check;           <span class="hljs-comment">/**&lt; [out]  ,   GlobalFree    */</span>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何も変わりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
静止サイズ= 0、静止ロック= NULL。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
疼痛。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
減衰。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
思わず、あなたは目が天井に心地よい梁を探しているので、その重量に耐えることができます。コーディングとドキュメントの調査に非常に多くの時間を費やした後、バイトの細長い行が目の前に浮かんでいます。しかし、一般的に返されるバイトを出力するとどうなるでしょうか。</font></font><br>
<br>
<pre><code class="cpp hljs">    u32 i;
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">sizeof</span>(answ); i++) {
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%02x "</span>, *((u8 *)&amp;answ + i));<font></font>
    }<font></font>
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"\n"</span>);<font></font>
 <font></font>
 <font></font>
C:\banks\sber\sb_pilot&gt;sb_pilot.exe <span class="hljs-number">1</span> <span class="hljs-number">1000</span>
<span class="hljs-number">01</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> e8 <span class="hljs-number">03</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">30</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> ce e4 ee e1 f0 e5 ed ee <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">02</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> <span class="hljs-number">00</span> f8 <span class="hljs-number">6</span>c <span class="hljs-number">7</span>a <span class="hljs-number">00</span> <span class="hljs-number">00</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
`30 00 00 ce`-これは、Sberbankが依然としてパック構造を使用していることを意味します。</font><font style="vertical-align: inherit;">しかし、ヘッダーにはこれについての言葉はありません。</font><font style="vertical-align: inherit;">したがって、例は機能しません。したがって、テキストへのポインタを最後に取得することはできません。1バイトのシフトによりテキストが壊れているためです。</font><font style="vertical-align: inherit;">ズベルバンクに向かって巨大で先端のとがった石！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、1つのmaaaalenkyのニュアンスが私の目を引きました。</font><font style="vertical-align: inherit;">4 + 4 + 3 + 16 + 4 + 4 =35。そして、これが36バイト、Obelixです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
36バイトであるため、コンパイラーはまだ構造を調整しています。</font><font style="vertical-align: inherit;">そのため、RCodeとAMessageの間に余分なバイトが挿入されます。</font><font style="vertical-align: inherit;">しかし、なぜ？</font><font style="vertical-align: inherit;">結局、 `__packed__`と表示しました！</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHAPTER 18.復路</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
調整がまだオンである理由は2012年に現れました：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">//gcc.gnu.org/bugzilla/show_bug.cgi?id=52991</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">バグはGCC 8（バグの6年間の石！）でのみ修正されました。これはまだ更新できません。</font><font style="vertical-align: inherit;">幸い、回避策があります。</font></font><br>
<br>
<pre><code class="cpp hljs">-mno-ms-bitfields</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、このフラグの動作メカニズムを分析せず、コンパイラに渡します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ve/tr/d4/vetrd4m4rsdhmkyxkgrvxbkepko.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スリップ！</font><font style="vertical-align: inherit;">ダーリン！</font><font style="vertical-align: inherit;">あなたがいなくて寂しいです、私は亀裂のために誓うことさえしません、私はすでにそれに石を投げました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、GlobalSize / Lockが無効なポインターで0を発行するという事実をマイクロソフトに通知します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHAPTER 19.最後の章</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sb_pilotレイヤーのifdefの数を最小限に抑えるために、Linuxバージョンのsb_pilotを完全に模倣する別のアプリケーションを作成しました。</font><font style="vertical-align: inherit;">したがって、レイヤーコード＃1は同じままにし、1つの条件のみを残します。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">if</span> defined(BXI_OS_GLX)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> GFJ_PILOT_EXECUTABLE <span class="hljs-meta-string">"./sb_pilot"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">elif</span> defined(BXI_OS_WIN)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> GFJ_PILOT_EXECUTABLE <span class="hljs-meta-string">"./sb_pilot.exe"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span></code></pre><br>
<img src="https://habrastorage.org/webt/wo/eu/2g/woeu2gk8m1mvtibiepfxwiijrbo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
戦いの結果：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ズベルバンク：12石</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロソフト：7石</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GCC：1石</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドボードでの成果の思い出：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ko/im/3y/koim3ykfftmlltegcqh_rkdkgxc.jpeg"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja451178/index.html">搭乗員ドラゴンパラシュート着陸時の衝突試験</a></li>
<li><a href="../ja451180/index.html">PCBは2つのリニアモーターを置き換えます</a></li>
<li><a href="../ja451182/index.html">C配列のサイズがライブラリバイナリインターフェイスの一部になった方法</a></li>
<li><a href="../ja451184/index.html">ブルーオリジンブルームーンプロジェクト：2024年までの月面の人々</a></li>
<li><a href="../ja451186/index.html">LINSTORリポジトリとOpenNebulaとの統合</a></li>
<li><a href="../ja451196/index.html">顧客とフリーランサーのプロファイルの分離</a></li>
<li><a href="../ja451204/index.html">コラボレーション用の無料のテキストエディター</a></li>
<li><a href="../ja451206/index.html">現在、RDFリポジトリーで何が起こっていますか？</a></li>
<li><a href="../ja451208/index.html">サイクルによるグラフの「トポロジカル」ソート</a></li>
<li><a href="../ja451210/index.html">JiraとGitLabの統合</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>