<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💃🏻 🛠️ 👼🏿 ディザリング2：ゴールデンセクション行、ブルーノイズ、ハイパスおよびリマップ 💺 🤾🏿 ☝️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="前の部分、私は、ディザリングの定義を見て、それが単純な1次元サンプリング及び機能のエラー特性を変化させる方法を説明しました。
 
 このパートでは、ブルーノイズを見ていきますが、最初に、前のパートで使用した一連の数値を見てみましょう。
 
 黄金比シリーズのMathematicaノートブックはここに...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ディザリング2：ゴールデンセクション行、ブルーノイズ、ハイパスおよびリマップ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/483452/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/edf/3c8/063/edf3c8063c6e7b26c3ffc5a52b4cc524.gif" alt="画像"></div><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">前の部分、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私は、ディザリングの定義を見て、それが単純な1次元サンプリング及び機能のエラー特性を変化させる方法を説明しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このパートでは、ブルーノイズを見ていきますが、最初に、前のパートで使用した一連の数値を見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
黄金比シリーズのMathematicaノートブックは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にあり、そのpdfバージョンは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここにある</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
投稿の2番目の部分のラップトップは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にあり、そのpdfバージョンは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黄金比</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前回の投稿で、「特定の」疑似ランダム関数/シリーズを使用し、完全ではないが非常に便利であると述べました。</font><font style="vertical-align: inherit;">このシリーズは、ゴールデン番号の次の乗算の小数部で構成されています。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FractionalPart [N * GoldenRatio]</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colas SchretterとLeif Kobbeltによる</font><font style="vertical-align: inherit;">
記事「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">低不一致サンプリングのための黄金比シーケンス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」でそれを使用するアイデアを見つけました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の値が非常によく、かなり離れた場所に分布しているため、これは信じられないほど素晴らしいシリーズです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/18c/3a1/07e/18c3a107e7607d987160addf0ac82999.gif"></div><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の要素の違いは1以内です。</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{0.381966、0.618034、0.381966、0.381966、0.618034、0.381966、0.618034、0.381966}</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、系列は、1と2を法とする黄金数から1を法とする黄金数を引いたものの間で変動します。</font></font><br>
<br>
<strong><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加</font></font></em></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：MikkelGjølは、モジュール/最小トロイダル距離0.618034が0.381966であることに気付きました。つまり、シリーズは次のようになります：</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{0.381966、0.381966、0.381966、0.381966、0.381966、0.381966、0.381966、0.381966}</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この物件はとても美しいです！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
行の「サンプル」の数が少ない場合でも、0〜1の間隔全体を非常によくカバーします。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/93c/5a6/242/93c5a62421f3f398804b3aa8ac3dd556.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
花の形の数字も「素敵」に見えます：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d10/0e2/2c0/d100e22c0e2baf773c13e34c861b5e64.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シリーズのピリオドグラムを見ると、次のようになります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fe8/9c8/3d6/fe89c83d6e1213df1feaa10c189f6364.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、驚くべき特性も見つけます。まず、周波数とともにエネルギーが増加しているようです。いくつかの周波数では顕著な「バースト」があり、さらに興味深いことに、そのような各バーストは、黄金比の要素である周波数で発生し、黄金比には多くのエネルギーがあります。私にはこれについての説明がないので、あなたが私よりも数学をよく理解しているなら、コメントを残してください！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この周波数応答は非常に便利ですが、ディザリングのニーズをすべて満たしているわけではありません。どうして？ディザリングしている元の信号に同じ周波数が含まれているとします。次に、これらの周波数で追加の歪みが発生します。ディザリングで使用されるノイズの構造は目立ち、望ましくない歪みを作成する可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、私はまだこのシリーズを非常に価値があると考えており、たとえば、時間的手法（および半球のサンプリング）で積極的に使用しています。</font><font style="vertical-align: inherit;">レンダリングで積極的に使用されている他の非常に有用な低発散シリーズがあります—ここではそれらを考慮しませんが、物理学ベースのレンダリングの「聖書」を単に参照します- </font><font style="vertical-align: inherit;">マットによる</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「物理学ベースのレンダリング、第3版：理論から実装まで」</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pharr、Wenzel Jakob、Greg Humphreys、および</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">著者が無料で投稿した第7章</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ブルーノイズと、理論的にはディザリングの「理想的な」系列を見てみましょう。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブルーノイズ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブルーノイズとは？</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウィキペディア</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は次の定義を提供します：</font></font><br>
<br>
<blockquote>     (azure noise).        3       (  f)    .                          .</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、より広い定義を使用します（頻度分布密度を上げるという厳密な要件はありません）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のゴールデンセクションのシリーズは、スペクトルに多くの顕著なバーストがあるため、ブルーノイズではないことがすぐにわかります。</font><font style="vertical-align: inherit;">理想的なブルーノイズにはバーストがないため、これらの周波数の歪み/増幅の影響を受けません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ブルーノイズを生成するアルゴリズムはたくさんありますが、残念ながらそれらの多くは特許によって真剣に保護されています。</font><font style="vertical-align: inherit;">ブルーノイズを概算するために使用できる2つの比較的単純な手法について説明します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブルーノイズの生成-ハイパスとリマップ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題の最初の手法は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、AMD GPUOpenのTimothy Lottsによる投稿「Fine art of film穀物」から引用されました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この手法は単純ですが、優れています。</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のステップで</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、望ましくない周波数スペクトルを持つノイズを取り、ハイパスフィルターを適用するだけで形状を変更します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、任意のハイパスフィルターは、非常に不均一なヒストグラムと、初期のノイズ分布とは完全に異なる値の間隔を持つ信号を作成します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e34/66e/64e/e3466e64e82c307717a365c36d422cc9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初は0〜1の範囲にあったランダムノイズの任意のフィルターを使用した操作後の画像。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが、アルゴリズムの2番目の部分の出番です。</font><font style="vertical-align: inherit;">ヒストグラムを変換して、間隔0-1に駆動します！</font><font style="vertical-align: inherit;">アルゴリズムは単純です。すべての要素を値で並べ替え、値をリスト内の位置に変換します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果ははるかに優れています：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/317/7d9/416/3177d9416e58597fe39824fed6acf53c.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、ヒストグラム変換操作も周波数スペクトルを変更します。</font><font style="vertical-align: inherit;">ヒストグラムの変換により、要素の相対値が非線形に変化するため、これは避けられません。</font><font style="vertical-align: inherit;">ヒストグラムの中央の値（低周波成分が最初に失われた領域に対応）は、高周波コンテンツのある領域の値よりもはるかに強く変化します。</font><font style="vertical-align: inherit;">したがって、ハイパスフィルターの効果は失われます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22e/32b/2b6/22e32b2b6955af5cefbe8034a169da41.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">手動正規化を使用した変換前（赤）と変換後（黒）のヒストグラムの比較。</font><font style="vertical-align: inherit;">低周波成分が再び現れたことに注意してください。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ハイパスフィルタリングがない場合と比較して、結果はかなり良く見えます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f2a/6fc/0a0/f2a6fc0a01245c98dad5d565aa7f51c4.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上記は通常のランダムノイズです。</font><font style="vertical-align: inherit;">以下-ハイパスフィルターとヒストグラム変換を使用。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
周波数スペクトルは有望に見えます：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/845/2f3/e09/8452f3e098b77bdc36a91fa0fcce7da4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、この低周波成分はまだ存在しています。</font><font style="vertical-align: inherit;">エネルギーはあまり含まれていませんが、ディザリングイメージの低周波数で顕著なエラーが発生する</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可能性がありますが、同じ手法を再び適用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これが私たちが得るものです：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/193/c1d/16f/193c1d16f5bde17547ac6502d78bf15d.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
周波数スペクトルは明らかに良く見え、アルゴリズムは全体として非常に低コストであるため、何度でも適用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、それを何回適用しても、考えられるすべての問題領域を「修正」することは不可能です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はそれをこのように推論します-画像の特定の領域に非常に低い周波数しか含まれていない場合、ハイパスフィルターを適用した後、それはゼロに非常に近いいくつかの隣接する値を取得しますヒストグラムが変換された後、それらは同様の隣接する値に再度変換されます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/5ca/824/d3d/5ca824d3d286bedfd0ff2d1a6b1edbda.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">極小値を持つ行の小さな部分。</font><font style="vertical-align: inherit;">アルゴリズムを</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10回繰り返した</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">後でも、それを取り除くことはできませんでした</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">一部の領域はほぼ均一に灰色になっていることに注意してください。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、別のハイパスフィルターを使用するか、反復の間に小さなノイズを追加するか、これらの問題領域を認識して「修正」することにより、問題を解決できるかもしれませんが、これはすでに投稿および元の手法の範囲を超えています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
元のアルゴリズムが不完全であるが「十分に良い」シリーズを作成することは注目に値します-それはかなり悪いローカルな場所を保持しますが、周波数スペクトルをグローバルに最適化します。</font><font style="vertical-align: inherit;">実際に確認してみましょう。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
バイナリサンプリング用の元のシンプルな1Dディザリングを見てみましょう。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9c3/e1a/3c1/9c3e1a3c19d46569842b9da45688d4e6.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行1、3、5-元の正弦波。</font><font style="vertical-align: inherit;">2行目-通常のノイズによるディザリング。</font><font style="vertical-align: inherit;">ライン4-ゴールデンセクションの近くのディザリング。</font><font style="vertical-align: inherit;">6行目-「ハイパスとリマップ」のディザリング（次は、ブルーノイズを連想させます）。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のように、黄金比とハイパスおよびリマップはどちらも通常のノイズよりも優れています。</font><font style="vertical-align: inherit;">ただし、「混雑」が少ないため、多くのゴールデンセクションのパフォーマンスが向上しているようです。</font><font style="vertical-align: inherit;">周波数の「脈動」がピーク周波数に対応していることがわかります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a22/2c6/3a9/a222c63a998098343195aa0efd2b3bac.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラック-ホワイトノイズ。</font><font style="vertical-align: inherit;">赤は黄金色のセクションの列です。</font><font style="vertical-align: inherit;">緑-一連のハイパスおよびリマップノイズ。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、この手法は不完全ですが、a）非常に高速で、b）柔軟で、c）どのホワイトノイズよりもはるかに優れています。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何が良いですか？</font><font style="vertical-align: inherit;">遅いブルーノイズ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では、このようなローカルな「混雑」のないソリューションが必要な場合はどうすればよいでしょうか。 Siggraph 2016の記事</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「Blue-noise Dithered Sampling」の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ilyana GeorgievとMarcos FahandoによるSolid Angleの記事をご覧ください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムは、アニーリングをシミュレートする確率論的手法を使用して、必要なエラーメトリック（この場合、隣接する要素間の距離）をグローバルに最小化するという考えに基づいています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は単純な（ランダムウォークのような不完全なシミュレーテッドアニーリング）と、エッジ結合を備えた1次元、2次元、および3次元の配列をサポートするかなり遅いバージョンを実装しました：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> : </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//github.com/bartwronski/BlueNoiseGenerator/</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
通常、グローバル最適化手法の場合と同様に、実行には膨大な時間がかかる場合があります。</font><font style="vertical-align: inherit;">私は3Dアレイの素朴な実装と3歳のMacBookを一晩実行した後、実験を行い、アルゴリズムが最高の平均品質範囲に収束することを確認しました。</font><font style="vertical-align: inherit;">ただし、この投稿はアルゴリズム自体（実際には素晴らしく、実装が非常に簡単です）ではなく、ディザリングとノイズについてです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この投稿では、私の実装を使用して、1次元の一連の2000要素を生成しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、最初の64要素のグラフです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/725/1de/f95/7251def95775c55254a7ac2b4963e1f3.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
よさそうだ！</font><font style="vertical-align: inherit;">混雑していない、十分な分布。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
周波数スペクトルも非常によく見え、必要なブルーノイズに似ています（エネルギーの増加が周波数にほぼ線形に依存）。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aca/1c7/259/aca1c725903453b9e30bf8d48e5d4b1a.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これをハイパスと比較して、周波数スペクトルをリマップしても、それほど大きな違いはありません。</font><font style="vertical-align: inherit;">非常に低い周波数より少し低く、必要な非常に高い周波数よりはるかに高い：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ca0/2de/478/ca02de478118073a0d5ac31fc9a9d242.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハイパスとリマップ（黒）および立体角テクニック（赤）。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1次元信号をディザリングすると、他のすべての手法と比較できることがわかります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f64/031/40d/f6403140d3d69ad054462d49a2e97d15.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">奇数の各行は生データです。</font><font style="vertical-align: inherit;">偶数ライン：ホワイトノイズ、黄金比の行、ハイパスとリマップ、生成されたブルーノイズの行。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それは（黄金分割と同じレベルで）最良かつ最も均一であるように私には思えます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エラーの周波数スペクトルを検討できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/edf/3c8/063/edf3c8063c6e7b26c3ffc5a52b4cc524.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラック-ホワイトノイズ。</font><font style="vertical-align: inherit;">赤は黄金色のセクションの列です。</font><font style="vertical-align: inherit;">緑-ハイパスとリマップ。</font><font style="vertical-align: inherit;">黄色は生成された行です。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果の画像をぼかすと、元の正弦波信号によく似たものになります。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/007/f26/543/007f26543b535d702d6cce963a636edf.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような制限と使用条件のもとで評価する必要がある場合は、次のように構築します（最高から最低まで）。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">黄金比の列</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリッドノイズブルーノイズ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハイパスとリマップによって生成されるブルーノイズ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">白色雑音。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここではゴールデンセクションシリーズが「最高」であるように見えますが、エラーが歪んでおらず、このシリーズに存在する周波数と共鳴しないため、幸運です。</font><font style="vertical-align: inherit;">したがって、彼は常に最良の選択ではありません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まとめる</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このパートでは、ブルーノイズの定義について説明し、ブルーノイズを生成する2つの手法と、一般的な使用のための多くの低発散高周波サンプリングシリーズの1つを示しました。</font><font style="vertical-align: inherit;">前と同様に、1次元の場合のみを考慮したので、次の投稿では、これらの原理を2D信号のサンプリング（画像など）のディザリングに適用する方法を学習します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考文献</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.graphics.rwth-aachen.de/media/papers/jgt.pdf</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「低不一致サンプリングのための黄金比シーケンス」、コーラシュレッターとレイフコベルト</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「物理ベースのレンダリング、第3版：理論から実装まで」</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、マット・ファー、ウェンゼル・ヤコブ、グレッグ・ハンフリーズ。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://en.wikipedia.org/wiki/Colors_of_noise#Blue_noise </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://gpuopen.com/vdr-follow-up-fine-art-of-film-grain/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「フィルムグレインのファイン・アート」、ティモシーLottes </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ブルーノイズディザサンプリング」</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Iliyan Georgiev、Marcos Fajardo</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja483428/index.html">電子署名に関する法律の改正が施行された後、電子文書管理はどうなりますか？</a></li>
<li><a href="../ja483438/index.html">大須に！遊び、間違いを忘れないで</a></li>
<li><a href="../ja483440/index.html">最新のDコンパイラ</a></li>
<li><a href="../ja483444/index.html">2019 DORAレポート：DevOpsパフォーマンスを改善する方法</a></li>
<li><a href="../ja483446/index.html">科学者たちは飲料水中の鉄分を下げる新しい方法を発見しました</a></li>
<li><a href="../ja483454/index.html">キリル文字でファイルを保存して、Atlassian BitbucketでMercurialからGITに切り替える</a></li>
<li><a href="../ja483458/index.html">GreenPigデータベースアシスタント</a></li>
<li><a href="../ja483460/index.html">SQLハウツー：ウィンドウ関数を使用したチェーンの構築</a></li>
<li><a href="../ja483462/index.html">黙ってお金を取って</a></li>
<li><a href="../ja483466/index.html">逆伝播法の紹介</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>