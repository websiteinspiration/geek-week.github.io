<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôáüèø ‚õ∫Ô∏è üìµ Implementation Details of the PTPv2 Time Synchronization Protocol üë®‚Äçüé® üòï üö¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Introduction
 
 The concept of building a ‚ÄúDigital Substation‚Äù in the electric power industry requires synchronization with an accuracy of 1 Œºs. Finan...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Implementation Details of the PTPv2 Time Synchronization Protocol</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/phoenix_contact/blog/495920/"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduction</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The concept of building a ‚ÄúDigital Substation‚Äù in the electric power industry requires synchronization with an accuracy of 1 Œºs. </font><font style="vertical-align: inherit;">Financial transactions also require microsecond accuracy. </font><font style="vertical-align: inherit;">In these applications, NTP time accuracy is no longer sufficient. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The PTPv2 synchronization protocol, described by the IEEE 1588v2 standard, allows synchronization accuracy of several tens of nanoseconds. </font><font style="vertical-align: inherit;">PTPv2 allows you to send synchronization packets over L2 and L3 networks. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main areas where PTPv2 is used are:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">power engineering;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">control and measuring equipment;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">military-industrial complex;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Telecom</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">financial sector.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This post looks at how the PTPv2 synchronization protocol works. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We have more industry experience and we often come across this protocol in energy applications. Accordingly, we will do the review with an eye </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">on energy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why is it necessary?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Currently, STO 34.01-21-004-2019 of PJSC Rosseti and STO 56947007-29.240.10.302-2020 of PJSC FGC UES contain requirements for organizing a process bus with time synchronization via PTPv2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This is due to the fact that relay protection terminals and measuring devices are connected to the process bus, which transmit instantaneous values ‚Äã‚Äãof current and voltage through the process bus using so-called SV streams (multicast streams).</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Relay protection terminals use these values ‚Äã‚Äãto implement connection protection. If the accuracy of measurements over time is small, then some protections may work out falsely. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, the protection of absolute selectivity may become a victim of ‚Äúweak‚Äù time synchronization. Often the logic of such defenses is based on a comparison of two values. If the values ‚Äã‚Äãdiverge to a sufficiently large value, then the protection is triggered. If these values ‚Äã‚Äãare measured with an accuracy of 1 ms, then you can get a big difference where the values ‚Äã‚Äãare actually normal, if you measure them with an accuracy of 1 Œºs. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTP Versions</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The PTP protocol was originally described in 2002 in the IEEE 1588-2002 standard and was called ‚ÄúStandard for a Precision Clock Synchronization Protocol for Networked Measurement and Control Systems‚Äù. </font><font style="vertical-align: inherit;">In 2008, the updated IEEE 1588-2008 standard was released, which describes the PTP Version 2. In this version of the protocol, accuracy and stability were improved, but backward compatibility with the first version of the protocol was not preserved. </font><font style="vertical-align: inherit;">Also, in 2019, a version of the IEEE 1588-2019 standard was released that describes PTP v2.1. </font><font style="vertical-align: inherit;">This version adds minor improvements to PTPv2 and is backward compatible with PTPv2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In other words, we have the following picture with the versions:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTPv1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(IEEE 1588-2002)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTPv2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(IEEE 1588-2008)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTPv2.1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(IEEE 1588-2019)</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTPv1 (IEEE 1588-2002)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incompatible</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Incompatible</font></font><br>
</td>
</tr>
<tr>
<td>PTPv2 (IEEE 1588-2008)<br>
</td>
<td><br>
</td>
<td> ‚Äî </td>
<td><br>
</td>
</tr>
<tr>
<td>PTPv2.1 (IEEE 1588-2019)<br>
</td>
<td><br>
</td>
<td><br>
</td>
<td> ‚Äî </td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But, as always, there are nuances. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The incompatibility between PTPv1 and PTPv2 suggests that a device with PTPv1 support will not be able to synchronize from the exact clock running on PTPv2. They use different message formats for synchronization. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
But you can still combine devices with PTPv1 and devices with PTPv2 on the same network. To do this, some manufacturers allow you to select the protocol version on the ports of the border clock. That is, the boundary clock can be synchronized via PTPv2 and at the same time synchronize other clocks connected to it both by PTPv1 and PTPv2. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PTP devices. What are and how do they differ?</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The IEEE 1588v2 standard describes several types of devices. All of them are given in the table. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devices communicate with each other via LAN using PTP.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PTP devices are called clocks. </font><font style="vertical-align: inherit;">All watches take the exact time from the grandmaster watch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are 5 types of watches:</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grandmaster clock</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The main source of accurate time. </font><font style="vertical-align: inherit;">Often equipped with an interface for connecting GPS.</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ordinary Clock</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A single-port device that can be a master (master clock) or a slave (master clock)</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leading hours (master)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">They are the source of the exact time by which other clocks are synchronized</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slave Clock (Slave)</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The end device that syncs from the master clock</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Boundary Clock</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A device with multiple ports, which can be a master or a slave. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
That is, this watch can synchronize from a higher master clock and synchronize a lower slave clock.</font></font><br>
</td>
</tr>
<tr>
<td>End-to-end Transparent Clock ( ,    End-to-End)<br>
</td>
<td>   ,      ,  .    PTP   . <br>
<br>
       PTP-. <br>
<br>
                .<br>
 </td>
</tr>
<tr>
<td>Peer-to-Peer Transparent Clock ( ,    Peer-to-Peer)<br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A device with multiple ports that is neither a master clock nor a slave. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It transmits PTP data between two hours. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When transmitting data, the transparent clock corrects all PTP messages Sync and Follow_Up (more about them is described below). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Correction is achieved by adding to the field of the adjustment of the transmitted delay packet on the transmitting device and the delay on the data channel.</font></font><br>
</td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Management Node</font></font><br>
</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A device that configures and diagnoses other watches</font></font><br>
</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The master and slave clocks are synchronized using time stamps in PTP messages. </font><font style="vertical-align: inherit;">There are two types of messages in the PTP protocol:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Event Messages are synchronized messages that involve the generation of a time stamp at the time a message is sent and at the time it is received.</font></font></li>
<li>General Messages ‚Äì      ,        </li>
</ul><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>Event Messages<br>
</td>
<td>General Messages<br>
</td>
</tr>
<tr>
<td>Sync<br>
Delay_Req<br>
Pdelay_Req<br>
Pdelay_Resp<br>
</td>
<td>Announce<br>
Follow_Up<br>
Delay_Resp<br>
Pdelay_Resp_Follow_Up<br>
Management<br>
Signaling<br>
</td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, we will consider all types of messages in more detail. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Main problems of synchronization</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
When transmitting a synchronization packet through a local network, it is delayed on the switch and in the data transmission channel. </font><font style="vertical-align: inherit;">Any switch will give a delay of about 10 Œºs, which is unacceptable for PTPv2. </font><font style="vertical-align: inherit;">After all, we need to get an accuracy of 1 Œºs on the final device. </font><font style="vertical-align: inherit;">(This is when it comes to energy. Other applications may require more accuracy.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IEEE 1588v2 describes several operation algorithms that allow you to record the time delay and adjust it. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operational algorithm</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
During normal operation, the protocol operates in two phases.</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Phase 1 - Establishment of the ‚ÄúLeading Clock - Slave Clock‚Äù hierarchy.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Phase 2 - clock synchronization using the End-to-End mechanism or Peer-to-Peer.</font></font></li>
</ul><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Phase 1 - Setting up the Master Slave hierarchy</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Each port of a regular or boundary clock has a certain number of states (slave clock and master clock). The standard describes the transition algorithm between these states. In programming, such an algorithm is called a state machine or state machine (more on the Wiki). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This state machine uses the Best Master Clock Algorithm (BMCA) to set the master when two hours are connected. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This algorithm allows the watch to assume the obligations of a grandmaster watch when a superior grandmaster watch loses its GPS signal, disconnects from the network, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
State transitions in accordance with BMCA are briefly shown in the following diagram:</font></font><br>
<img src="https://habrastorage.org/webt/uy/hz/h6/uyhzh63gb0jt63bppsuuhcllwmu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Information about the clock on the other end of the ‚Äúwire‚Äù is sent in a special message (Announce message). </font><font style="vertical-align: inherit;">When this information is received, the state machine algorithm processes and compares which clock is better. </font><font style="vertical-align: inherit;">The port on the best watches becomes the leading watch. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A simple hierarchy is presented in the diagram below. </font><font style="vertical-align: inherit;">Paths 1, 2, 3, 4, 5 may contain a transparent clock (Transparent clock), but they do not participate in the establishment of the hierarchy ‚ÄúLeading clock - Slave clock‚Äù. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kj/md/ci/kjmdcibg-ls2rflwu6qtur-0osg.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Phase 2 - Synchronization of a normal and a boundary clock</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Immediately after the hierarchy ‚ÄúLeading hours - Slave hours‚Äù is established, the synchronization phase of a regular and boundary clock begins. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For synchronization, the master clock sends a message containing a time stamp to the slave clock. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leading hours can be:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">single stage;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">two-stage.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A single-stage clock for synchronization sends one Sync message. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A two-stage clock uses two messages for synchronization - Sync and Follow_Up. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Two mechanisms can be used for the synchronization phase:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delay request-response mechanism.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peer delay measurement mechanism.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To begin with, we will consider these mechanisms in the simplest case - when transparent watches are not used. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Delay request-response mechanism </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The mechanism has two steps:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Measurement of the delay in transmitting a message between a master clock and a slave. </font><font style="vertical-align: inherit;">It is performed using the delay request-response mechanism.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Corrects the shift of the exact time.</font></font></li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delay Measurement</font></font></i><br>
<img src="https://habrastorage.org/webt/zj/hp/sa/zjhpsak259vihrylfiujf5vj2sm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
t1 - Sync message sending time by the leading clock; t2 - Sync message reception time by slave clock; t3 - Delay request sending time (Delay_Req) ‚Äã‚Äãby slave hours; t4 - Delay_Req reception time by the leading clock. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When the slave clock knows the time t1, t2, t3 and t4, they can calculate the average delay in transmitting the synchronization message (tmpd). It is calculated as follows: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e6/cz/qx/e6czqxjr1wen8eld_z4y16joa4k.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When transmitting a Sync and Follow_Up message, the time delay from the master to the slave is calculated - t-ms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When transmitting Delay_Req and Delay_Resp messages, the time delay from the slave to the master, t-sm, is calculated.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If some asymmetry occurs between these two values, an error appears in the correction of the departure of the exact time. The error is caused by the fact that the calculated delay is the average of the delays t-ms and t-sm. If the delays are not equal to each other, then we will adjust the time inaccurately. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Correcting the offset of the exact time</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
After the delay between the leading clock and the slave clock is known, the slave clock performs the time correction. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a7/gv/qz/a7gvqzykdjxtg6nm5rcqhcqmyzs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The slave clock uses the Sync message and the optional Follow_Up message to calculate the exact time offset when transmitting the packet from the master clock to the slave. The shift is calculated using the following formula: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n1/rk/nw/n1rknwzr-r0qio-uf1a9iiqd_9o.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peer delay measurement mechanism</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
This mechanism also uses two steps to synchronize:</font></font><br>
<br>
<ol>
<li>         .     peer delay mechanism.</li>
<li>   .</li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peer-to-Peer</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Delay </font><i><font style="vertical-align: inherit;">Measurement The delay between</font></i><font style="vertical-align: inherit;"> peer-to-peer- </font><i><font style="vertical-align: inherit;">enabled devices</font></i><font style="vertical-align: inherit;"> is measured using the following messages: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/eo/0o/y2/eo0oy26vhwksm1rel2znic_q8rs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When port 1 knows the times t1, t2, t3 and t4, it can calculate the average delay (tmld ) It is calculated using the following formula: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a6/3r/mc/a63rmc4ehosk81dvktfv4prevt0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Then, the port uses this value to calculate the adjustment field for each Sync message or optional Follow_Up message that pass through this device. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The total delay will be equal to the sum of the delay during transmission through this device, the average delay during transmission through the data channel and the already contained delay in this message, included on the higher devices.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Messages Pdelay_Req, Pdelay_Resp and optional Pdelay_Resp_Follow_Up allow you to get a delay from the master to the slave and from the slave to the master (circular). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Any asymmetry between these two values ‚Äã‚Äãwill introduce an accurate time offset correction error. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Correcting the offset of the exact time The</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/m6/do/ku/m6dokuldnfjmqscwyrtin2tvjiu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
slave clock uses the Sync message and the optional Follow_Up message to calculate the offset of the exact time when transmitting the packet from the leading clock to the slave. The shift is calculated according to the following formula: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ub/ui/xk/ubuixkpfmzizo7ilzkdgyfwvh8c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Benefits peer-to-peer adjustment - time delay of each Sync or Follow_Up message is calculated as it is transmitted on the network. Therefore, a change in the transmission path will not affect in any way the accuracy of the adjustment.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
When using this mechanism, time synchronization does not require the calculation of the time delay on the path traveled by the synchronization packet, as is done with a basic exchange. Those. Delay_Req and Delay_Resp messages are not sent. In this method, the delay between the master clock and the followers is simply summed in the adjustment field of each Sync or Follow_Up message. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Another advantage is that the driving clock is unloaded from the need to process Delay_Req messages. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modes of operation of transparent watches</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Accordingly, simple examples were examined. Now suppose that switches appear on the synchronization path. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you use switches without PTPv2 support, then the synchronization packet will be delayed by about 10 Œºs on the switch.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switches with PTPv2 support in IEEE 1588v2 terminology are called Transparent clocks. </font><font style="vertical-align: inherit;">The transparent clock is not synchronized from the leading clock and does not participate in the ‚ÄúLeading clock - Slave clock‚Äù hierarchy, but when transmitting synchronization messages, they remember how much the message was delayed by them. </font><font style="vertical-align: inherit;">This allows you to adjust the time delay. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A transparent watch can work in two modes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">End-to-end.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peer-to-peer.</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">End-to-End (E2E) The</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/cb/ev/vy/cbevvyylfmfgq9jgwm_jiuxvkjw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
transparent E2E watch transmits Sync messages and accompanying Follow_Up messages to all ports. Even those that are blocked by any protocols (for example, RSTP). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The switch remembers the time stamp when the Sync packet (Follow_Up) was received on the port and when it was sent from the port. Based on these two timestamps, the switch processing time for the message is calculated. In the standard, this time is called residence time. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Processing time is added to the correctionField field of the Sync message (single-stage clock) or Follow_Up (two-stage clock).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hv/4q/rj/hv4qrjcuzer2hejocmtzitnntma.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The E2E transparent watch measures processing time for Sync and Delay_Req messages passing through the switch. But it is important to understand that the time delay between the leading clock and the slave clock is calculated using the delay request-response mechanism. If the master clock changes or the path from the master clock to the slave changes, the delay is measured again. This increases the transition time in the event of network changes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sw/im/q7/swimq7rpv2n24wyd8erbsvf420s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The transparent P2P clock, in addition to measuring the processing time of the message by the switch, measures the delay on the data channel to the nearest neighbor using the delay measurement mechanism of the neighboring node.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The delay is measured on each channel in both directions, including channels that are blocked by a protocol (for example, RSTP). </font><font style="vertical-align: inherit;">This allows you to immediately calculate a new delay on the synchronization path if the grandmaster clock or network topology has changed. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The switch processing time and delay time are accumulated when transmitting Sync or Follow_Up messages. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Types of Support for PTPv2 Switches</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Switches can support PTPv2:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">programmatically;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hardware.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the software implementation of the PTPv2 protocol, the switch requests a timestamp from the firmware. </font><font style="vertical-align: inherit;">The problem is that the firmware works cyclically, and you have to wait until it finishes the current cycle, take the request into processing and after the next cycle expires it will issue a timestamp. </font><font style="vertical-align: inherit;">All this will also take time, and we will get a delay, albeit not as significant as without PTPv2 software support. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Only the hardware support for PTPv2 allows you to maintain the necessary accuracy. </font><font style="vertical-align: inherit;">In this case, the issuing of the timestamp is performed by a special ASIC, which is installed on the port. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Message Format</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
All PTP messages consist of the following fields:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Header - 34 bytes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Body - the size depends on the type of message.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suffix - optional.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/ae/9l/_3/ae9l_3mph3pkhb-2oi0h_ppy48u.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Header</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The </font><b><font style="vertical-align: inherit;">Header</font></b><font style="vertical-align: inherit;"> field is the same for all PTP messages. Its size is 34 bytes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The format of the Header: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yu/xs/gu/yuxsgundgrz9iyiyyfabaxt5i38.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">messageType field</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is the type of the transmitted message, for example, Sync, Delay_Req, PDelay_Req, etc. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">messageLength</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - contains the full size of the PTP message, including header, body and suffix (but excluding fill bytes). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">domainNumber</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äî Determines which PTP domain the message belongs to. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A domain</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> is a few different clocks assembled into one logical group and synchronized from one leading clock, but not necessarily synchronized with a clock belonging to another domain. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flags</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - this field contains various flags to identify the status of the message. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">correctionField</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- contains the delay time in nanoseconds. The delay time includes the transmission delay through the transparent clock, as well as the transmission delay through the channel when using the Peer-to-Peer mode. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sourcePortIdentity</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - this field contains information about which port this message was originally sent from. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sequenceID</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - contains the identification number for individual messages. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">controlField</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - artifact field =) It remains from the first version of the standard and contains information about the type of this message. Essentially the same as messageType, but with fewer options. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">logMessageInterval</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - this field is determined by the type of message. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Body</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As discussed above, there are several types of messages. These types are described below: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Announce message Announce</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
message is used to ‚Äútell‚Äù other watches within the same domain about their settings. This message allows you to set the hierarchy ‚ÄúLeading Clock - Slave Clock‚Äù. </font></font><br>
<img src="https://habrastorage.org/webt/-i/zs/dh/-izsdhnvkookhpjtrdrqx2myimy.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sync</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
message A synchronization message (Sync) is sent by the master clock and contains the time of the master clock at the time the Sync message was created. If the leading clock is two-step, then the time stamp in the Sync message will be set to 0, and the current time stamp will be sent in the paired Follow_Up message. The Sync message is used for both delay measurement mechanisms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The message is transmitted using Multicast. You can optionally use Unicast.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sc/pp/1f/scpp1fns1uuyccw9bucbvghesgo.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Delay_Req</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
message The format of the </font><b><font style="vertical-align: inherit;">Delay_Req</font></b><font style="vertical-align: inherit;"> message is identical to the Sync message. The slave clock sends Delay_Req. It contains the time that Delay_Req was sent by the slave clock. This message is used only for the delay request-response mechanism. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The message is transmitted using Multicast. You can optionally use Unicast. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fe/bm/r_/febmr_zz7v1dricuta5z88xmjqk.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Follow_Up message The Follow_Up</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
message is optionally sent by the master clock and contains the time the </font><font style="vertical-align: inherit;">master </font><font style="vertical-align: inherit;">sent the </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sync message</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The Follow_Up message is sent only by a two-stage driving clock. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Follow_Up message is used for both delay measurement mechanisms. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The message is transmitted using Multicast. You can optionally use Unicast. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1g/42/2a/1g422aehbonsjrjjq0dwn9ceoxi.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Message Delay_Resp</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The Delay_Resp message is sent by the master clock. It contains the time the Delay_Req is received by the master clock. This message is used only for the delay request-response mechanism. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The message is transmitted using Multicast. You can optionally use Unicast. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/up/is/gz/upisgzu5d7dk0iscixogmmjciwi.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pdelay_Req</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
message </font><b><font style="vertical-align: inherit;">A Pdelay_Req</font></b><font style="vertical-align: inherit;"> message is sent by a device that requests a delay. It contains the time the message was sent from the port of this device. Pdelay_Req is used only for the neighboring node delay measurement mechanism. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hn/km/rz/hnkmrzmcidqsawxtazho-oprpus.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pdelay_Resp message The Pdelay_Resp</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
message is sent by the device that received the delay request. It contains the time the Pdelay_Req message was received by this device. Pdelay_Resp messages are used only for the neighboring node delay measurement mechanism.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/bb/34/khbb34wn7ujy84lldruomgaenmg.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pdelay_Resp_Follow_Up message The Pdelay_Resp_Follow_Up</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
message is optionally sent by the device that received the delay request. </font><font style="vertical-align: inherit;">It contains the time the Pdelay_Req message was received by this device. </font><font style="vertical-align: inherit;">The Pdelay_Resp_Follow_Up message is sent only by a two-stage master clock. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This message can also be used for runtime instead of a timestamp. </font><font style="vertical-align: inherit;">The execution time is the time from the moment Pdelay-Req is received until the Pdelay_Resp is sent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pdelay_Resp_Follow_Up are used only for the neighboring node delay measurement mechanism. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w7/-k/q2/w7-kq2pssesbnko10w1tmsrs9ow.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Control Messages (Management Message)</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
PTP control messages are required to transfer information between one or more clocks and the control node. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/r7/xi/c0/r7xic0kvnb_yurjc53bah53f2ss.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transfer to LV</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A PTP message can be transmitted at two levels:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Network - as part of IP data.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link - as part of an Ethernet frame.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sending a PTP message over UDP over IP over Ethernet </font></font><br>
<br>
<img src="https://habrastorage.org/webt/f7/k6/al/f7k6alykkmt_4jrstkfkad_if-4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PTP over UDP over Ethernet </font><font style="vertical-align: inherit;">
PTP </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a7/pe/wu/a7pewujvuii1chap6wppv51dh0k.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">profiles</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> have many ‚Äúflexible‚Äù parameters that need to be configured. </font><font style="vertical-align: inherit;">For instance:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BMCA options.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The delay measurement mechanism.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intervals and initial values ‚Äã‚Äãof all configurable parameters, etc.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And despite the fact that earlier we said that PTPv2 devices are compatible with each other, in a good way it is not. Devices must have the same settings in order to interact. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Therefore, there are so-called PTPv2 profiles. Profiles are groups of configured settings and certain protocol restrictions so that you can implement time synchronization for a specific application. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The IEEE 1588v2 standard itself describes only one profile - the ‚ÄúDefault Profile‚Äù. All other profiles are created and described by various organizations and associations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, the Power Profile or PTPv2 Power Profile was created by the Power Systems Relaying Committee and the Substation Committee of the IEEE Power and Energy Society. The profile itself is called IEEE C37.238-2011.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The profile describes that PTP can be transmitted:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Only through L2 networks (i.e. Ethernet, HSR, PRP, not IP).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Messages are transmitted only by the Multicast mailing list.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Peer delay measurement mechanism is used as a delay measurement mechanism.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The default domain is 0, the recommended domain is 93. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The philosophy of creating C37.238-2011 was the desire to reduce the number of optional features and leave only the necessary functions for reliable interaction between devices and increase system stability. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, the frequency of message transmission is determined: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wc/gp/z9/wcgpz9du_jejtkxidtptsh9x53i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In fact, only one parameter is available for selection - the type of the leading clock (single-stage or two-stage). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Accuracy should be no more than 1 Œºs. </font><font style="vertical-align: inherit;">In other words, a maximum of 15 transparent clocks or three boundary hours can be contained in one synchronization path.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/et/zp/y0/etzpy01l2mtcewn9mxik3wyztrq.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en495904/index.html">Can an epidemic be predicted?</a></li>
<li><a href="../en495908/index.html">The path to the reward</a></li>
<li><a href="../en495910/index.html">Installing ROS in a Ubuntu Single-Board IMG Image</a></li>
<li><a href="../en495912/index.html">Smart replay stickers</a></li>
<li><a href="../en495918/index.html">How to reproduce realistic sound in computer games and VR and why it is difficult</a></li>
<li><a href="../en495924/index.html">Why is it so damn difficult to build a good COVID-19 distribution model?</a></li>
<li><a href="../en495926/index.html">We are writing firmware for TI cc2530 on Z-Stack 3.0 for Zigbee Sonoff BASICZBR3 relay with ds18b20 sensor</a></li>
<li><a href="../en495932/index.html">What is the hidden meaning of the authors in the SCRUM Guide. Part 1. About the process</a></li>
<li><a href="../en495934/index.html">DataGovernance in the home</a></li>
<li><a href="../en495938/index.html">A selection of articles on machine learning: cases, guides and studies for March 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>