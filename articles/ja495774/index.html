<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌾 🍭 👍🏼 Pythonでゲームペルシャ語の機器を選択する方法 🕵️ 🌛 🚵🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="私たちはプログラミングの助けを借りて、強盗に最適なものを見つけることを学びます。また、プログラムが「鼻のそば」で私たちを動かしているかどうかもわかります。
 
 
 
 目的： in vitroでゲームのメカニズムの必要な部分を段階的にシミュレートすることを学び、必要なデータを取得し、それらから結論...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pythonでゲームペルシャ語の機器を選択する方法</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495774/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私たちはプログラミングの助けを借りて、強盗に最適なものを見つけることを学びます。</font><font style="vertical-align: inherit;">また、プログラムが「鼻のそば」で私たちを動かしているかどうかもわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w7/x1/va/w7x1vaurpxvsovlu61g5smq7mzc.png" alt="画像"><br>
<a name="habracut"></a><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">目的：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in vitroでゲームのメカニズムの必要な部分を段階的にシミュレート</font><b><font style="vertical-align: inherit;">する</font></b><font style="vertical-align: inherit;">こと</font><b><font style="vertical-align: inherit;">を</font></b><font style="vertical-align: inherit;">学び、必要なデータを取得し、それらから結論を導きます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必要なもの：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Python 3、コードを操作するための環境（私はPyCharmを持っています）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ゲームでは、多くの人がキャラクターを最大限に引き出すことを望んでいます。そのためには、多くの場合、機器の最適な組み合わせを選択する必要があります。</font><font style="vertical-align: inherit;">機器のさまざまな組み合わせをテストし、データを収集するための独自のアルゴリズムを作成してみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初は「World of Warcraft：Classic」というゲームに触発されました（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そこから</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アイコンを取り出し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">）が、その過程でいくつかの簡略化を行いました。</font><font style="vertical-align: inherit;">記事の最後にあるプロジェクト全体へのリンク。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ1-検索領域を評価する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rogueクラスにキャラクターがいるとします。</font><font style="vertical-align: inherit;">敵に最大のダメージを与える装備を手に入れる必要がある。</font><font style="vertical-align: inherit;">スロット「右の武器」（4個）、「左の武器」（4個）、「手袋」（2個）、「頭」（3個）、「胸」のスロットに興味があります。 （3本）、「脚」（3本）、「足」（2本）。</font><font style="vertical-align: inherit;">キャラクターに様々な組み合わせを施し、バトルをシミュレーションします。</font><font style="vertical-align: inherit;">そして、（これから始まる）徹底的な検索のアイデアを適用する場合、すべての組み合わせを評価するには、少なくとも4 * 4 * 2 * 3 * 3 * 3 * 2 = </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1728の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">戦い</font><font style="vertical-align: inherit;">を費やす必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最適な組み合わせをより正確に評価するには、追加の戦闘を行う必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、すでにこの段階で、次のようにプロジェクトスキームを提示できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/y5/nj/qd/y5njqdx3sswkgaadzfqzxr2x8-4.png" alt="画像"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ2-ゲームの仕組みを分析する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キャラクターから始めましょう。</font><font style="vertical-align: inherit;">彼には、与えられたダメージとお互いに影響を与えるような特徴があります：</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻撃力</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -通常の打撃によるダメージ（1対1）に直接変換されます。</font><font style="vertical-align: inherit;">次の式で計算されます：攻撃力のポイント+強さのポイント+器用さのポイント</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">強さ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -+1攻撃力とすべて（何をすべきか、これはゲームデザインです）</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">敏捷性</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -+1攻撃力、および20ユニットの敏捷性ごとに1％のクリティカルチャンスを追加</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クレタ。</font><font style="vertical-align: inherit;">チャンス</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ストライクがスライドせずミスした場合にダブルダメージを与える可能性</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">精度</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -対戦相手を攻撃する機会の増加</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">習得</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><b><font style="vertical-align: inherit;">習得の</font></b><font style="vertical-align: inherit;">各ユニットは、スライディングストライクの確率を4％削減します（これは、最初は40％に相当します。つまり、10ユニットの習得は、スライディングストライクの可能性を完全に排除します）。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下の図は、私たちの強盗の基本的な値と、機器のアイテムを装着することでそれらがどのように変化するかを示しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b_/uk/ln/b_uklnhezlo6c095bo9scextmzm.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでは、コードを書き始めましょう。</font><font style="vertical-align: inherit;">Rogueクラスですでに知っていることについて説明します。</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">set_stats_without_equip</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッド</font><font style="vertical-align: inherit;">は、装備なしでキャラクターの状態を復元します。これは、コレクションを変更するときに役立ちます。</font><font style="vertical-align: inherit;">メソッドの</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">calculate_critical_percent</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">calculate_glancing_percent</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">将来的には、特定の特性の値を更新し、必要な場合にのみ呼び出されます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラスの最初の行</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Rogue</span>:</span>
    <span class="hljs-string">"""    ."""</span><font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__init__</span>(<span class="hljs-params">self</span>):</span><font></font>
<font></font>
        <span class="hljs-comment">#    ( -     ):</span>
        self.basic_stat_agility = <span class="hljs-number">50</span>
        self.basic_stat_power = <span class="hljs-number">40</span>
        self.basic_stat_hit = <span class="hljs-number">80</span>
        self.basic_stat_crit = <span class="hljs-number">20</span>
        self.basic_stat_mastery = <span class="hljs-number">0</span><font></font>
<font></font>
        <span class="hljs-comment">#     :</span><font></font>
        self.set_stats_without_equip()<font></font>
<font></font>
<font></font>
    <span class="hljs-comment">#       :</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">set_stats_without_equip</span>(<span class="hljs-params">self</span>):</span><font></font>
        self.stat_agility = self.basic_stat_agility<font></font>
        self.stat_power = self.basic_stat_power<font></font>
        self.stat_attackpower = self.stat_agility + self.stat_power<font></font>
        self.stat_hit = self.basic_stat_hit<font></font>
        self.direct_crit_bonus = <span class="hljs-number">0</span><font></font>
        self.calculate_critical_percent()<font></font>
        self.stat_mastery = self.basic_stat_mastery<font></font>
        self.calculate_glancing_percent()<font></font>
<font></font>
<font></font>
    <span class="hljs-comment">#      :</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">calculate_critical_percent</span>(<span class="hljs-params">self</span>):</span>
        self.stat_crit = self.basic_stat_crit + self.direct_crit_bonus + self.stat_agility // <span class="hljs-number">20</span><font></font>
<font></font>
<font></font>
    <span class="hljs-comment">#      :</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">calculate_glancing_percent</span>(<span class="hljs-params">self</span>):</span>
        self.stat_glancing_percent = <span class="hljs-number">40</span> - self.stat_mastery * <span class="hljs-number">4</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、機器を扱う必要があります。</font><font style="vertical-align: inherit;">すべてのものを便利に並べ替えて、それらの組み合わせを作成するために、機器のタイプごとに個別の辞書を作成することにしました。</font><font style="vertical-align: inherit;">次のタプルは、辞書に値として格納されています：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wk/1r/3z/wk1r3zdn1_ovtwrtlxzttyc1tb4.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
機器を備えた辞書用に別のファイルを作成します。</font><font style="vertical-align: inherit;">セットが異なる複数のファイルがあります。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抽象試験装置</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment">#    ,     :</span>
<span class="hljs-comment"># 0 - , 1 - , 2 - , 3 - , 4 - , 5 - , 6 - </span><font></font>
<font></font>
EQUIPMENT_COLLECTION = <span class="hljs-string">'custom'</span><font></font>
<font></font>
RIGHT_HANDS = dict()<font></font>
RIGHT_HANDS[<span class="hljs-number">1</span>] = (<span class="hljs-string">'  '</span>, <span class="hljs-number">50</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
RIGHT_HANDS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">40</span>, <span class="hljs-number">22</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
RIGHT_HANDS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
RIGHT_HANDS[<span class="hljs-number">4</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>)<font></font>
<font></font>
LEFT_HANDS = dict()<font></font>
LEFT_HANDS[<span class="hljs-number">1</span>] = (<span class="hljs-string">'  '</span>, <span class="hljs-number">35</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
LEFT_HANDS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">40</span>, <span class="hljs-number">22</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
LEFT_HANDS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
LEFT_HANDS[<span class="hljs-number">4</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>)<font></font>
<font></font>
GLOVES = dict()<font></font>
GLOVES[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
GLOVES[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
HEADS = dict()<font></font>
HEADS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">22</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
HEADS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>)<font></font>
HEADS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
CHESTS = dict()<font></font>
CHESTS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">30</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
CHESTS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>)<font></font>
CHESTS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">3</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
PANTS = dict()<font></font>
PANTS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">24</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
PANTS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>)<font></font>
PANTS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
BOOTS = dict()<font></font>
BOOTS[<span class="hljs-number">1</span>] = (<span class="hljs-string">'  '</span>, <span class="hljs-number">14</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
BOOTS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">18</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワールドオブウォークラフトの衣装</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment">#    ,     :</span>
<span class="hljs-comment"># 0 - , 1 - , 2 - , 3 - , 4 - , 5 - , 6 - </span><font></font>
<font></font>
EQUIPMENT_COLLECTION = <span class="hljs-string">"wow_classic_preraid"</span><font></font>
<font></font>
RIGHT_HANDS = dict()<font></font>
RIGHT_HANDS[<span class="hljs-number">1</span>] = (<span class="hljs-string">'  \''</span>, <span class="hljs-number">81</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
RIGHT_HANDS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">49</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
RIGHT_HANDS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">57</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
LEFT_HANDS = dict()<font></font>
LEFT_HANDS[<span class="hljs-number">1</span>] = (<span class="hljs-string">'  \''</span>, <span class="hljs-number">52</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
LEFT_HANDS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">49</span>, <span class="hljs-number">0</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
LEFT_HANDS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">57</span>, <span class="hljs-number">9</span>, <span class="hljs-number">9</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
GLOVES = dict()<font></font>
GLOVES[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">28</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
GLOVES[<span class="hljs-number">2</span>] = (<span class="hljs-string">'  '</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
HEADS = dict()<font></font>
HEADS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
HEADS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">13</span>, <span class="hljs-number">0</span>, <span class="hljs-number">2</span>, <span class="hljs-number">0</span>)<font></font>
HEADS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">32</span>, <span class="hljs-number">0</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
HEADS[<span class="hljs-number">4</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">19</span>, <span class="hljs-number">12</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
CHESTS = dict()<font></font>
CHESTS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">60</span>, <span class="hljs-number">8</span>, <span class="hljs-number">8</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
CHESTS[<span class="hljs-number">2</span>] = (<span class="hljs-string">'  '</span>, <span class="hljs-number">50</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
CHESTS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">11</span>, <span class="hljs-number">18</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
PANTS = dict()<font></font>
PANTS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">46</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
PANTS[<span class="hljs-number">2</span>] = (<span class="hljs-string">'  '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">5</span>, <span class="hljs-number">0</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
BOOTS = dict()<font></font>
BOOTS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">21</span>, <span class="hljs-number">4</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
BOOTS[<span class="hljs-number">2</span>] = (<span class="hljs-string">'  '</span>, <span class="hljs-number">40</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
BOOTS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">0</span>, <span class="hljs-number">23</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
</code></pre><br>
</div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rogueクラスのコンストラクターにequipype文字列を追加する</font></font></b><div class="spoiler_text"><pre><code class="python hljs">    ...
    <span class="hljs-comment">#    ,    id  :</span>
    <span class="hljs-comment"># 0 -  , 1 -  , 2 - , 3 - , 4 - , 5 - , 6 - </span>
    self.equipment_slots = [<span class="hljs-number">0</span>] * <span class="hljs-number">7</span><font></font>
<font></font>
    <span class="hljs-comment">#    ,      :</span>
    self.equipment_names = [<span class="hljs-string">''</span>] * <span class="hljs-number">7</span>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、クラスに、</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wear_item</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><i><b><font style="vertical-align: inherit;">装着</font></b></i><font style="vertical-align: inherit;">時の特性の計算）および</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unwear_allメソッド</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（すべてのものを削除</font><font style="vertical-align: inherit;">）を</font><i><b><font style="vertical-align: inherit;">追加します</font></b></i><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">機器の操作を担当するクラスメソッド</font></font></b><div class="spoiler_text"><pre><code class="python hljs">    ...
    <span class="hljs-comment">#   "  ":</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">unwear_all</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-comment">#  id      :</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, len(self.equipment_slots) ):<font></font>
            self.equipment_slots[i] = <span class="hljs-number">0</span>
            self.equipment_names[i] = <span class="hljs-string">''</span><font></font>
<font></font>
        self.set_stats_without_equip()<font></font>
<font></font>
<font></font>
    <span class="hljs-comment">#    :</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wear_item</span>(<span class="hljs-params">self, slot, item_id, items_list</span>):</span><font></font>
<font></font>
        <span class="hljs-comment">#      ,        ,   :</span>
        <span class="hljs-keyword">if</span> self.equipment_slots[slot] == <span class="hljs-number">0</span>:<font></font>
            self.equipment_slots[slot] = item_id<font></font>
            self.equipment_names[slot] = items_list[item_id][<span class="hljs-number">0</span>]<font></font>
            self.stat_agility += items_list[item_id][<span class="hljs-number">2</span>]<font></font>
            self.stat_power += items_list[item_id][<span class="hljs-number">3</span>]
            <span class="hljs-comment">#  ,            :</span>
            self.stat_attackpower += items_list[item_id][<span class="hljs-number">1</span>] + items_list[item_id][<span class="hljs-number">2</span>] + items_list[item_id][<span class="hljs-number">3</span>]<font></font>
            self.stat_hit += items_list[item_id][<span class="hljs-number">4</span>]<font></font>
            self.direct_crit_bonus += items_list[item_id][<span class="hljs-number">5</span>]<font></font>
            self.stat_mastery += items_list[item_id][<span class="hljs-number">6</span>]<font></font>
<font></font>
            <span class="hljs-comment">#         . ,   . :</span>
            <span class="hljs-keyword">if</span> items_list[item_id][<span class="hljs-number">2</span>] != <span class="hljs-number">0</span> <span class="hljs-keyword">or</span> items_list[item_id][<span class="hljs-number">5</span>] != <span class="hljs-number">0</span>:<font></font>
                self.calculate_critical_percent()<font></font>
<font></font>
            <span class="hljs-comment">#    ,    :</span>
            <span class="hljs-keyword">if</span> items_list[item_id][<span class="hljs-number">6</span>] != <span class="hljs-number">0</span>:<font></font>
                self.calculate_glancing_percent()<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、いくつかのものを組み合わせると、追加のボーナスが与えられます（「World of Warcraft」では、これは「セットボーナス」と呼ばれます）。</font><font style="vertical-align: inherit;">私の抽象セットでは、このようなボーナスは、右利きの森の守護者と左利きの森の警備員を同時に置くことで得られます。</font><font style="vertical-align: inherit;">これを</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wear_item</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メソッドのコードに追加します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wear_itemメソッドにボーナスを設定する</font></font></b><div class="spoiler_text"><pre><code class="python hljs">    ...
    <span class="hljs-comment">#      "custom":</span>
            <span class="hljs-keyword">if</span> EQUIPMENT_COLLECTION == <span class="hljs-string">'custom'</span>:
                <span class="hljs-comment">#      "  " (id 1   " "),     "  " (id 1   " "),   2  . :</span>
                <span class="hljs-keyword">if</span> slot == <span class="hljs-number">1</span>:
                    <span class="hljs-keyword">if</span> self.equipment_slots[<span class="hljs-number">1</span>] == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> self.equipment_slots[<span class="hljs-number">0</span>] == <span class="hljs-number">1</span>:<font></font>
                        self.direct_crit_bonus += <span class="hljs-number">2</span><font></font>
                        self.calculate_critical_percent()<font></font>
                        print(<span class="hljs-string">'  ...'</span>)
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今私たちの強盗は戦う方法を教える必要があります。</font><font style="vertical-align: inherit;">私たちは、背中を向けて立っていて、何か他のもので忙しい相手（World of Warcraftの典型的な状況）に対する1000回の一連の攻撃との戦いを考えます。</font><font style="vertical-align: inherit;">以前のストライキに関係なく、各ストライキは次のようになります。</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノーマル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -標準的なダメージ。キャラクターの「攻撃力」に相当する私たちのモデルでは</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">移動</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -通常から70％のダメージ</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クリティカル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -通常の2倍のダメージ</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ミス</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ダメージ0</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、このスキームに従った一連のチェックによって決定され</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7m/tr/bg/7mtrbgwb8yoi5loosr9fwn8eqny.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます。基本的な値を持つ強盗の場合、このスキームは次の形式</font><font style="vertical-align: inherit;">になります</font><i><b><font style="vertical-align: inherit;">。do_attack</font></b></i></font><br>
<br>
<img src="https://habrastorage.org/webt/-q/ha/dr/-qhadrqxtuy5bom3dkhkvvh3lta.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
メソッド</font><font style="vertical-align: inherit;">をクラスのコードに</font><font style="vertical-align: inherit;">追加して、このメカニズムを</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムし</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">て</font><i><b><font style="vertical-align: inherit;">みましょう</font></b></i><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">次の2つの数値のタプルを返します：（攻撃の結果、行われたダメージ）。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">攻撃コード</font></font></b><div class="spoiler_text"><pre><code class="python hljs">    ...
    <span class="hljs-comment">#    :</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">do_attack</span>(<span class="hljs-params">self</span>):</span>
        <span class="hljs-comment">#   :</span>
        event_hit = randint(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<font></font>
<font></font>
        <span class="hljs-comment">#  :</span>
        <span class="hljs-keyword">if</span> event_hit &gt; self.stat_hit:
            <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>, <span class="hljs-number">0</span><font></font>
<font></font>
        <span class="hljs-comment">#  :</span>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-comment">#   :</span>
            event_glancing = randint(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<font></font>
<font></font>
            <span class="hljs-comment">#    ,    ,</span>
            <span class="hljs-comment">#      10  "",  stat_glancing_percent   0,</span>
            <span class="hljs-comment">#      </span>
            <span class="hljs-keyword">if</span> event_glancing &lt;= self.stat_glancing_percent:<font></font>
                damage = floor(self.stat_attackpower * <span class="hljs-number">0.7</span>)
                <span class="hljs-keyword">return</span> <span class="hljs-number">1</span>, damage<font></font>
<font></font>
            <span class="hljs-comment">#    :</span>
            <span class="hljs-keyword">else</span>:
                <span class="hljs-comment">#   :</span>
                event_crit = randint(<span class="hljs-number">1</span>, <span class="hljs-number">100</span>)<font></font>
<font></font>
                <span class="hljs-comment">#    :</span>
                <span class="hljs-keyword">if</span> event_crit &gt; self.stat_crit:<font></font>
                    damage = self.stat_attackpower<font></font>
                    <span class="hljs-keyword">return</span> <span class="hljs-number">2</span>, damage<font></font>
<font></font>
                <span class="hljs-comment">#   :</span>
                <span class="hljs-keyword">else</span>:<font></font>
                    damage = self.stat_attackpower * <span class="hljs-number">2</span>
                    <span class="hljs-keyword">return</span> <span class="hljs-number">3</span>, damage
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
強盗の現在の状態を簡単に表示できるので、いつでも彼に何が起きているかを確認できます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">__str__マジックメソッドを再定義する</font></font></b><div class="spoiler_text"><pre><code class="python hljs">    ...
    <span class="hljs-comment">#  " "     :</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">__str__</span>(<span class="hljs-params">self</span>):</span><font></font>
<font></font>
        <span class="hljs-comment">#      :</span>
        using_equipment_names = <span class="hljs-string">''</span>
        <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, len(self.equipment_names) - <span class="hljs-number">1</span> ):<font></font>
            using_equipment_names += self.equipment_names[i] + <span class="hljs-string">'", "'</span>
        using_equipment_names = <span class="hljs-string">'"'</span> + using_equipment_names + self.equipment_names[<span class="hljs-number">-1</span>] + <span class="hljs-string">'"'</span><font></font>
<font></font>
        <span class="hljs-comment">#  :</span>
        description = <span class="hljs-string">' 60 \n'</span>
        description += using_equipment_names + <span class="hljs-string">'\n'</span>
        description += <span class="hljs-string">' : '</span> + str(self.stat_attackpower) + <span class="hljs-string">' .\n'</span>
        description += <span class="hljs-string">': '</span> + str(self.stat_agility) + <span class="hljs-string">' .\n'</span>
        description += <span class="hljs-string">': '</span> + str(self.stat_power) + <span class="hljs-string">' .\n'</span>
        description += <span class="hljs-string">': '</span> + str(self.stat_hit) + <span class="hljs-string">'%\n'</span>
        description += <span class="hljs-string">'. : '</span> + str(self.stat_crit) + <span class="hljs-string">'%\n'</span>
        description += <span class="hljs-string">': '</span> + str(self.stat_mastery) + <span class="hljs-string">' .\n'</span>
        description += <span class="hljs-string">' . .: '</span> + str(self.stat_glancing_percent) + <span class="hljs-string">'%\n'</span>
        <span class="hljs-keyword">return</span> description
</code></pre><br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ3-起動の準備</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今度は、すべての可能な機器のセットに対する戦いを提供するコードを書く時が来ました。</font><font style="vertical-align: inherit;">これを行うには、このスキームに従って関数を順次呼び出します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/s2/vu/to/s2vutoqapwumtqcjqgzmiryezma.png" alt="画像"><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">run_session-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネストされたループがここに実装され、必要なすべての辞書を物事でソートし、各組み合わせに対して次の関数を呼び出します。</font><font style="vertical-align: inherit;">最後にレポートテキストが生成され、セッションログに保存されます</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">test_combination-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前に着用した服がすべてリセットされ、wear_itemメソッドが何度も呼び出されて、キャラクターを新しい「服装」に身を包み、その後、次の関数が呼び出されます</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulate_Fight-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じdo_attackメソッドが1000回呼び出され、受信したデータが保持されます。必要に応じて、各バトルの詳細なログが保持されます</font></font></li>
</ol><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数run_session、test_combination、simulate_fight</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment">#     :</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">run_session</span>(<span class="hljs-params">SESSION_LOG</span>):</span><font></font>
<font></font>
    <span class="hljs-comment">#  :</span>
    fight_number = <span class="hljs-number">1</span><font></font>
<font></font>
    <span class="hljs-comment">#    :</span>
    all_fight_data = <span class="hljs-string">''</span><font></font>
<font></font>
    <span class="hljs-comment">#      :</span>
    <span class="hljs-keyword">for</span> new_righthand_id <span class="hljs-keyword">in</span> RIGHT_HANDS:
        <span class="hljs-comment">#      :</span>
        <span class="hljs-keyword">for</span> new_lefthand_id <span class="hljs-keyword">in</span> LEFT_HANDS:
            <span class="hljs-comment">#   :</span>
            <span class="hljs-keyword">for</span> new_gloves_id <span class="hljs-keyword">in</span> GLOVES:
                <span class="hljs-comment">#   :</span>
                <span class="hljs-keyword">for</span> new_head_id <span class="hljs-keyword">in</span> HEADS:
                    <span class="hljs-comment">#   :</span>
                    <span class="hljs-keyword">for</span> new_chest_id <span class="hljs-keyword">in</span> CHESTS:
                        <span class="hljs-comment">#   :</span>
                        <span class="hljs-keyword">for</span> new_pants_id <span class="hljs-keyword">in</span> PANTS:
                            <span class="hljs-comment">#   :</span>
                            <span class="hljs-keyword">for</span> new_boots_id <span class="hljs-keyword">in</span> BOOTS:<font></font>
<font></font>
                                new_fight_data = test_combination(fight_number,<font></font>
                                                                  new_righthand_id,<font></font>
                                                                  new_lefthand_id,<font></font>
                                                                  new_gloves_id,<font></font>
                                                                  new_head_id,<font></font>
                                                                  new_chest_id,<font></font>
                                                                  new_pants_id,<font></font>
                                                                  new_boots_id<font></font>
                                                                  )<font></font>
<font></font>
                                all_fight_data += new_fight_data<font></font>
                                fight_number += <span class="hljs-number">1</span><font></font>
<font></font>
    <span class="hljs-comment">#       :</span><font></font>
    save_data_to_file(SESSION_LOG, all_fight_data)<font></font>
<font></font>
<span class="hljs-comment">#       :</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_combination</span>(<span class="hljs-params">fight_number, righthand_id, lefthand_id, gloves_id, head_id, chest_id, pants_id, boots_id</span>):</span><font></font>
<font></font>
    <span class="hljs-comment">#   :</span><font></font>
    my_rogue.unwear_all()<font></font>
<font></font>
    <span class="hljs-comment">#     :</span>
    my_rogue.wear_item(<span class="hljs-number">0</span>, righthand_id, RIGHT_HANDS)<font></font>
<font></font>
    <span class="hljs-comment">#     :</span>
    my_rogue.wear_item(<span class="hljs-number">1</span>, lefthand_id, LEFT_HANDS)<font></font>
<font></font>
    <span class="hljs-comment">#  :</span>
    my_rogue.wear_item(<span class="hljs-number">2</span>, gloves_id, GLOVES)<font></font>
<font></font>
    <span class="hljs-comment">#  :</span>
    my_rogue.wear_item(<span class="hljs-number">3</span>, head_id, HEADS)<font></font>
<font></font>
    <span class="hljs-comment">#  :</span>
    my_rogue.wear_item(<span class="hljs-number">4</span>, chest_id, CHESTS)<font></font>
<font></font>
    <span class="hljs-comment">#  :</span>
    my_rogue.wear_item(<span class="hljs-number">5</span>, pants_id, PANTS)<font></font>
<font></font>
    <span class="hljs-comment">#  :</span>
    my_rogue.wear_item(<span class="hljs-number">6</span>, boots_id, BOOTS)<font></font>
<font></font>
<font></font>
    <span class="hljs-comment">#    "" :</span>
    equipment_profile = str(righthand_id) + <span class="hljs-string">','</span> + str(lefthand_id) + <span class="hljs-string">','</span> + str(gloves_id) + \
                            <span class="hljs-string">','</span> + str(head_id) + <span class="hljs-string">','</span> + str(chest_id) + <span class="hljs-string">','</span> + str(pants_id) + \
                            <span class="hljs-string">','</span> + str(boots_id)<font></font>
<font></font>
    print(my_rogue)<font></font>
    print(<span class="hljs-string">'equipment_profile ='</span>, equipment_profile)<font></font>
<font></font>
    <span class="hljs-comment">#        :</span>
    <span class="hljs-keyword">return</span> simulate_fight(equipment_profile, fight_number)<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#  ,    attacks_total   :</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">simulate_fight</span>(<span class="hljs-params">equipment_profile, fight_number</span>):</span>
    <span class="hljs-keyword">global</span> LOG_EVERY_FIGHT<font></font>
<font></font>
    <span class="hljs-comment">#   :</span>
    sum_of_attack_types = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>]<font></font>
    sum_of_damage = <span class="hljs-number">0</span><font></font>
<font></font>
    <span class="hljs-comment">#  ,     :</span>
    <span class="hljs-keyword">if</span> LOG_EVERY_FIGHT:<font></font>
        fight_log = <span class="hljs-string">''</span><font></font>
        verdicts = {<font></font>
            <span class="hljs-number">0</span>: <span class="hljs-string">'.'</span>,
            <span class="hljs-number">1</span>: <span class="hljs-string">'.'</span>,
            <span class="hljs-number">2</span>: <span class="hljs-string">'.'</span>,
            <span class="hljs-number">3</span>: <span class="hljs-string">'.'</span><font></font>
        }<font></font>
<font></font>
    attacks = <span class="hljs-number">0</span>
    <span class="hljs-keyword">global</span> ATTACKS_IN_FIGHT<font></font>
<font></font>
    <span class="hljs-comment">#  ,      :</span>
    <span class="hljs-keyword">while</span> attacks &lt; ATTACKS_IN_FIGHT:
        <span class="hljs-comment">#  - :</span><font></font>
        damage_info = my_rogue.do_attack()<font></font>
<font></font>
        <span class="hljs-comment">#   :</span>
        sum_of_damage += damage_info[<span class="hljs-number">1</span>]<font></font>
<font></font>
        <span class="hljs-comment">#   :</span>
        sum_of_attack_types[ damage_info[<span class="hljs-number">0</span>] ] += <span class="hljs-number">1</span><font></font>
<font></font>
        attacks += <span class="hljs-number">1</span><font></font>
<font></font>
        <span class="hljs-comment">#  ,   :</span>
        <span class="hljs-keyword">if</span> LOG_EVERY_FIGHT:<font></font>
            fight_log += verdicts[ damage_info[<span class="hljs-number">0</span>] ] + <span class="hljs-string">' '</span> + str(damage_info[<span class="hljs-number">1</span>]) + <span class="hljs-string">' '</span> + str(sum_of_damage) + <span class="hljs-string">'\n'</span><font></font>
<font></font>
    <span class="hljs-comment">#  ,  :</span>
    <span class="hljs-keyword">if</span> LOG_EVERY_FIGHT:
        <span class="hljs-comment">#  :</span>
        filename = <span class="hljs-string">'fight_logs/log '</span> + str(fight_number) + <span class="hljs-string">'.txt'</span><font></font>
        save_data_to_file(filename, fight_log)<font></font>
<font></font>
    <span class="hljs-comment">#       :</span>
    attacks_statistic = <span class="hljs-string">','</span>.join(map(str, sum_of_attack_types))<font></font>
    fight_data = <span class="hljs-string">'#'</span> + str(fight_number) + <span class="hljs-string">'/'</span> + equipment_profile + <span class="hljs-string">'/'</span> + str(sum_of_damage) + <span class="hljs-string">','</span> + attacks_statistic + <span class="hljs-string">'\n'</span><font></font>
<font></font>
    <span class="hljs-keyword">return</span> fight_data
</code></pre><br>
</div></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ログを保存するには、2つの簡単な関数を使用します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数save_data、add_data</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment">#     :</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">save_data_to_file</span>(<span class="hljs-params">filename, data</span>):</span>
    <span class="hljs-keyword">with</span> open(filename, <span class="hljs-string">'w'</span>, encoding=<span class="hljs-string">'utf8'</span>) <span class="hljs-keyword">as</span> f:<font></font>
        print(data, file=f)<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#     :</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">append_data_to_file</span>(<span class="hljs-params">filename, data</span>):</span>
    <span class="hljs-keyword">with</span> open(filename, <span class="hljs-string">'a+'</span>, encoding=<span class="hljs-string">'utf8'</span>) <span class="hljs-keyword">as</span> f:<font></font>
        print(data, file=f)<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、セッションを開始してその結果を保存するために数行を書き込む必要があります。</font><font style="vertical-align: inherit;">また、必要な標準Pythonモジュールもインポートします。</font><font style="vertical-align: inherit;">ここで、テストする機器のセットを決定できます。</font><font style="vertical-align: inherit;">World of Warcraftのファンのために、私はそこから機材を手に入れましたが、このプロジェクトはそこからのメカニックのおおよその再構築であることを思い出してください。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムコード</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment">#     :</span>
<span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randint<font></font>
<font></font>
<span class="hljs-comment">#     :</span>
<span class="hljs-keyword">from</span> math <span class="hljs-keyword">import</span> floor<font></font>
<font></font>
<span class="hljs-comment">#    :</span>
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime
<span class="hljs-keyword">from</span> time <span class="hljs-keyword">import</span> time<font></font>
<font></font>
<span class="hljs-comment">#    :</span>
<span class="hljs-keyword">from</span> operations_with_files <span class="hljs-keyword">import</span> *<font></font>
<font></font>
<span class="hljs-comment">#      :</span>
<span class="hljs-keyword">from</span> equipment_custom <span class="hljs-keyword">import</span> *
<span class="hljs-comment">#from equipment_wow_classic import *</span>
<span class="hljs-comment">#from equipment_obvious_strong import *</span>
<span class="hljs-comment">#from equipment_obvious_weak import *</span><font></font>
<font></font>
<font></font>
<span class="hljs-comment"># :</span>
<span class="hljs-keyword">if</span> __name__ == <span class="hljs-string">"__main__"</span>:<font></font>
<font></font>
    <span class="hljs-comment">#     :</span>
    ATTACKS_IN_FIGHT = <span class="hljs-number">1000</span><font></font>
<font></font>
    <span class="hljs-comment">#     :</span>
    LOG_EVERY_FIGHT = <span class="hljs-literal">False</span><font></font>
<font></font>
    <span class="hljs-comment">#     :</span>
    SESSION_LOG = <span class="hljs-string">'session_logs/for '</span> + EQUIPMENT_COLLECTION + <span class="hljs-string">' results '</span> + datetime.strftime(datetime.now(), <span class="hljs-string">'%Y-%m-%d_%H-%M-%S'</span>) + <span class="hljs-string">'.txt'</span>
    print(<span class="hljs-string">'SESSION_LOG ='</span>, SESSION_LOG)<font></font>
<font></font>
    <span class="hljs-comment">#  :</span><font></font>
    my_rogue = Rogue()<font></font>
<font></font>
    <span class="hljs-comment">#  :</span><font></font>
    time_begin = time()<font></font>
<font></font>
    <span class="hljs-comment">#   :</span><font></font>
    run_session(SESSION_LOG)<font></font>
<font></font>
    <span class="hljs-comment">#   :</span><font></font>
    time_session = time() - time_begin<font></font>
    duration_info = <span class="hljs-string">' : '</span> + str( round(time_session, <span class="hljs-number">2</span>) ) + <span class="hljs-string">' .'</span>
    print(<span class="hljs-string">'\n'</span> + duration_info)<font></font>
    append_data_to_file(SESSION_LOG, duration_info + <span class="hljs-string">'\n'</span>)<font></font>
<font></font>
    <span class="hljs-comment">#  ,   5    :</span>
    top_sets_info = show_best_sets(SESSION_LOG, <span class="hljs-number">5</span>)<font></font>
<font></font>
    <span class="hljs-comment">#          :</span><font></font>
    append_data_to_file(SESSION_LOG, top_sets_info)<font></font>
<font></font>
<span class="hljs-keyword">else</span>:<font></font>
    print(<span class="hljs-string">'__name__ is not "__main__".'</span>)
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のラップトップで1728の戦いのセッションに5秒かかります。</font><font style="vertical-align: inherit;">LOG_EVERY_FIGHT = Trueを設定すると、各戦闘のデータを含むファイルがfight_logsフォルダーに表示されますが、セッションにはすでに9秒かかります。</font><font style="vertical-align: inherit;">いずれの場合も、セッションログはsession_logsフォルダーに表示されます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ログの最初の10行</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">#1/1,1,1,1,1,1,1/256932,170,324,346,160<font></font>
#2/1,1,1,1,1,1,2/241339,186,350,331,133<font></font>
#3/1,1,1,1,1,2,1/221632,191,325,355,129<font></font>
#4/1,1,1,1,1,2,2/225359,183,320,361,136<font></font>
#5/1,1,1,1,1,3,1/243872,122,344,384,150<font></font>
#6/1,1,1,1,1,3,2/243398,114,348,394,144<font></font>
#7/1,1,1,1,2,1,1/225342,170,336,349,145<font></font>
#8/1,1,1,1,2,1,2/226414,173,346,322,159<font></font>
#9/1,1,1,1,2,2,1/207862,172,322,348,158<font></font>
#10/1,1,1,1,2,2,2/203492,186,335,319,160<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、セッションを開催するだけでは十分ではなく、最良の結果につながったものの組み合わせに関する何百もの行から情報を抽出する必要があります。</font><font style="vertical-align: inherit;">これを行うには、さらに2つの関数を記述します。</font><font style="vertical-align: inherit;">一般的な考え方は、受け取ったログを開いて、各バトルのダメージ量のリストを作成し、それをソートして、たとえば、5つの最良の状況で使用されたものの名前を書き留めることです。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トップギアを決定するための関数</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment">#       :</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">show_best_sets</span>(<span class="hljs-params">SESSION_LOG, number_of_sets</span>):</span><font></font>
<font></font>
    <span class="hljs-comment">#      :</span><font></font>
    list_log = list()<font></font>
<font></font>
    <span class="hljs-comment">#   ,      list_log ,</span>
    <span class="hljs-comment">#          :</span>
    <span class="hljs-keyword">with</span> open(SESSION_LOG, <span class="hljs-string">'r'</span>, encoding=<span class="hljs-string">'utf8'</span>) <span class="hljs-keyword">as</span> f:<font></font>
        lines = f.readlines()<font></font>
        <span class="hljs-keyword">for</span> line <span class="hljs-keyword">in</span> lines:
            <span class="hljs-keyword">try</span>:<font></font>
                list_line = line.split(<span class="hljs-string">'/'</span>)<font></font>
                list_fight = list_line[<span class="hljs-number">2</span>].split(<span class="hljs-string">','</span>)<font></font>
                list_log.append( ( int(list_fight[<span class="hljs-number">0</span>]), list_line[<span class="hljs-number">1</span>].split(<span class="hljs-string">','</span>) ) )
            <span class="hljs-keyword">except</span> IndexError:
                <span class="hljs-keyword">break</span><font></font>
<font></font>
    <span class="hljs-comment">#  ,      :</span>
    list_log.sort(reverse=<span class="hljs-literal">True</span>)<font></font>
<font></font>
    <span class="hljs-comment">#   ,  number_of_sets     :</span>
    top_sets_info = <span class="hljs-string">''</span>
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, number_of_sets):<font></font>
        current_case = list_log[i]<font></font>
<font></font>
        <span class="hljs-comment">#           :</span>
        clear_report = <span class="hljs-string">''</span>
        equipment_names = <span class="hljs-string">''</span>
        equip_group = <span class="hljs-number">1</span><font></font>
<font></font>
        <span class="hljs-keyword">for</span> equip_id <span class="hljs-keyword">in</span> current_case[<span class="hljs-number">1</span>]:<font></font>
            equipment_names += <span class="hljs-string">'\n'</span> + get_equip_name(equip_id, equip_group)<font></font>
            equip_group += <span class="hljs-number">1</span><font></font>
<font></font>
        line_for_clear_report = <span class="hljs-string">'\n#'</span> + str(i+<span class="hljs-number">1</span>) + <span class="hljs-string">' - '</span> + str(current_case[<span class="hljs-number">0</span>]) + <span class="hljs-string">'   :'</span> + equipment_names<font></font>
        clear_report += line_for_clear_report<font></font>
<font></font>
        print(<span class="hljs-string">'\n'</span>, clear_report)<font></font>
        top_sets_info += clear_report + <span class="hljs-string">'\r'</span><font></font>
<font></font>
    <span class="hljs-keyword">return</span> top_sets_info<font></font>
<font></font>
<font></font>
<span class="hljs-comment">#     id:</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">get_equip_name</span>(<span class="hljs-params">equip_id, equip_group</span>):</span><font></font>
    equip_id = int(equip_id)<font></font>
<font></font>
    <span class="hljs-keyword">if</span> equip_group == <span class="hljs-number">1</span>:
        <span class="hljs-keyword">return</span> RIGHT_HANDS[equip_id][<span class="hljs-number">0</span>]
    <span class="hljs-keyword">if</span> equip_group == <span class="hljs-number">2</span>:
        <span class="hljs-keyword">return</span> LEFT_HANDS[equip_id][<span class="hljs-number">0</span>]
    <span class="hljs-keyword">if</span> equip_group == <span class="hljs-number">3</span>:
        <span class="hljs-keyword">return</span> GLOVES[equip_id][<span class="hljs-number">0</span>]
    <span class="hljs-keyword">if</span> equip_group == <span class="hljs-number">4</span>:
        <span class="hljs-keyword">return</span> HEADS[equip_id][<span class="hljs-number">0</span>]
    <span class="hljs-keyword">if</span> equip_group == <span class="hljs-number">5</span>:
        <span class="hljs-keyword">return</span> CHESTS[equip_id][<span class="hljs-number">0</span>]
    <span class="hljs-keyword">if</span> equip_group == <span class="hljs-number">6</span>:
        <span class="hljs-keyword">return</span> PANTS[equip_id][<span class="hljs-number">0</span>]
    <span class="hljs-keyword">if</span> equip_group == <span class="hljs-number">7</span>:
        <span class="hljs-keyword">return</span> BOOTS[equip_id][<span class="hljs-number">0</span>]
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ログ行の最後に5つの選択肢が表示され、最良の結果が表示されます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最終的に読み取り可能なログ行</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs"> : 4.89 .<font></font>
<font></font>
#1 - 293959   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
  <font></font>
<font></font>
#2 - 293102   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
<font></font>
#3 - 290573   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
  <font></font>
<font></font>
#4 - 287592   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
<font></font>
#5 - 284929   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
  <font></font>
</code></pre><br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ4-結果の持続可能性を評価する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このプロジェクトにはランダム性の要素があることを覚えておくことが重要です：</font></font><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">randint</font></font></b></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数を使用してストロークのタイプを決定するとき</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">テストを繰り返し実施したところ、同じ入力データでセッションを繰り返すと、上位5つの選択が異なる場合があることに気付きました。</font><font style="vertical-align: inherit;">これはあまり幸せではなく、問題を解決するためにかかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、「obvious_strong」という機器のテストキットを作成しました。テストをしなくても、どのコレクションがここで最も優れているかは明らかです。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">明白な強いセットを見る</font></font></b><div class="spoiler_text"><pre><code class="python hljs">EQUIPMENT_COLLECTION = <span class="hljs-string">'obvious_strong'</span><font></font>
<font></font>
RIGHT_HANDS = dict()<font></font>
RIGHT_HANDS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">5000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
RIGHT_HANDS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">800</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
RIGHT_HANDS[<span class="hljs-number">3</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">20</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
LEFT_HANDS = dict()<font></font>
LEFT_HANDS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">4000</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
LEFT_HANDS[<span class="hljs-number">2</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">10</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
GLOVES = dict()<font></font>
GLOVES[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
HEADS = dict()<font></font>
HEADS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
CHESTS = dict()<font></font>
CHESTS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
PANTS = dict()<font></font>
PANTS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)<font></font>
<font></font>
BOOTS = dict()<font></font>
BOOTS[<span class="hljs-number">1</span>] = (<span class="hljs-string">' '</span>, <span class="hljs-number">1</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>)
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このセットでは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6つの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">戦い</font><font style="vertical-align: inherit;">があります</font><font style="vertical-align: inherit;">（3つの剣* 2つの短剣* 1 * 1 * 1 * 1 * 1）。トップ5には、最悪の剣と最悪の短剣を奪われるバトルは含まれません。もちろん、最初の場所は2つの最強のブレードを持つセレクションでなければなりません。考えてみれば、コレクションごとにどの場所に分類されるかは明らかです。テストを実施し、期待に応えた。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、このセットの実験の一つの結果の視覚化である：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zg/_i/zp/zg_izpaduytv7ypjflofdbm2tdg.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、私はこれらのブレードによって与えられるボーナスのサイズは最小限にギャップが減少</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 5000、800、20と4000、10 </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5、4、3、2、1（プロジェクトでは、このセットは「equipment_obvious_weak.py」ファイルにあります）。そしてここで、突然、最強の剣と最悪の短剣の組み合わせが上に出てきました。さらに、テストの1つで、2つの最高の武器が突然最後の場所に来ました</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ae/ql/t2/aeqlt2_rmff3kmd9gmotvibtine.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。これを理解するにはどうすればよいですか？コレクションの明らかに正しい配置への期待は変わっていませんが、</font><font style="vertical-align: inherit;">それら</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の違い</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><b><font style="vertical-align: inherit;">程度</font></b><font style="vertical-align: inherit;">は大幅に</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">減少しました</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。そして今、戦闘中の事故（ミスとヒットの比率、クリティカルヒットとノンクリティカルヒットなど）が決定的な重要性を獲得しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「トップブレードのデュエット」が最初から落ちない頻度を確認してみましょう。</font><font style="vertical-align: inherit;">私はそのような起動を100回行いました（このため、「プログラム起動ライン」を100回の繰り返しのサイクルでラップし、この「スーパーセッション」全体の特別なログを保持し始めました）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nz/oe/qu/nzoequlloochqmzvl6oybzepjay.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これ</font><font style="vertical-align: inherit;">が結果の視覚化です。</font><font style="vertical-align: inherit;">つまり、プログラムの結果は常に安定しているわけではありません（「正しい」結果の34％に対して「間違った」結果の66％）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果の安定性は</font><font style="vertical-align: inherit;">、テストされたアイテムのボーナスの違いに</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">正比例し</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストすることが理にかなっている良いもののボーナスの量の違いは弱い知覚力がある（「World of Warcraft」のように）ため、そのようなテストの結果は比較的不安定になります（不安定、不安定など）。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ5-回復力の向上</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは論理的に考えようとします。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">成功基準の概要を説明</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">します。99％のケースで「トップブレードの義務」が最初に当てはまるはずです。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在の状況：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのような場合の34％。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
原則として、受け入れられているアプローチを変更しない場合（すべての選択に対する戦闘のシミュレーションから特性の単純な計算への移行など）、モデルのいくつかの定量的パラメーターを変更する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例えば：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コレクションごとに1つの戦いではなく複数の戦いを実行し、算術平均をログに記録し、最良および最悪を破棄するなど。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一般的にいくつかのテストセッションを実施し、その後、「平均」を取る</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バトル自体を1000ヒットから特定の値に拡張します。これは、合計ボーナスの点で非常に近いコレクションに対して結果が公平になるのに十分です。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、この記事が長くなる原因となったすべてのことが起こるのはこの場所にあるため、私は戦いを長くすることで成功したアイデアに思えました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
戦闘を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストローク</font><font style="vertical-align: inherit;">から</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10,000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストロークに延長すると結果の安定性が向上する</font><font style="vertical-align: inherit;">という仮説を</font><font style="vertical-align: inherit;">テストします（このためには、定数ATTACKS_IN_FIGHTを10000に設定する必要があります）。そして、これはそうです：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/iq/il/rc/iqilrc6kulybrfs1apchkyyleik.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、彼は</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10,000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">100,000</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ショット</font><font style="vertical-align: inherit;">に増やすことに決めました</font><font style="vertical-align: inherit;">、そして、これは100パーセントの成功につながりました。その後、二分探索法を使用して、過剰な計算を取り除くために成功の99％を与えるヒット数を選択し始めました。 46 875で停止。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qg/oz/gx/qgozgxod9pupmsmzlloagt3hs2g.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのような戦いの長さのシステムの99％の信頼性の推定が正しい場合、続けて2つのテストを行うと、エラーの確率が0.01 * 0.01 = </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0.0001に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">減少します</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今、1728回のバトルで46,875ストロークの装備のセットを使用してテストを実行すると、233秒かかり、「マスターの剣」が支配するという自信が生まれます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46 875ストライクの1728戦の結果</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs"> : 233.89 .<font></font>
<font></font>
#1 - 13643508   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
<font></font>
#2 - 13581310   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
  <font></font>
<font></font>
#3 - 13494544   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
<font></font>
#4 - 13473820   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
  <font></font>
<font></font>
#5 - 13450956   :<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PSこれは簡単に説明できます。2つの「Swords of the Master」を使用すると、10ユニットのスキルを得ることができます。これにより、固有のメカニズムにより、スライドストロークの可能性がなくなり、0.7またはXの代わりにXまたは2Xのダメージが適用された場合、ストロークの約40％が追加されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
WoWファンに対する同様のテストの結果：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">46 875ヒットの1296戦の結果（すごい古典的なpreraid）</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs"> : 174.58 .<font></font>
<font></font>
<font></font>
#1 - 19950930   :<font></font>
  '<font></font>
  '<font></font>
  <font></font>
 <font></font>
 <font></font>
 <font></font>
  <font></font>
<font></font>
#2 - 19830324   :<font></font>
  '<font></font>
  '<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
  <font></font>
<font></font>
#3 - 19681971   :<font></font>
  '<font></font>
  '<font></font>
  <font></font>
 <font></font>
 <font></font>
 <font></font>
  <font></font>
<font></font>
#4 - 19614600   :<font></font>
  '<font></font>
  '<font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
  <font></font>
<font></font>
#5 - 19474463   :<font></font>
  '<font></font>
  '<font></font>
  <font></font>
 <font></font>
 <font></font>
 <font></font>
 <font></font>
</code></pre><br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></h2><br>
<ol>
<li>    —  . ,        ,     4 * 4 * 3 * 3 * 3 * 3 * 2 = <b>2592</b>, ..  33% .       .</li>
<li>  :   ,             ,    ,         .</li>
<li>,    :        ,        ,  ,    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのプロジェクトコードを</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></b></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に投稿しました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コミュニティの皆様、このトピックに関するフィードバックをいただければ幸いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2020年4月8日からのUPD：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コメントのおかげ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Deerenaros</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クノトリ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> そして </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グリボックス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">何千もの戦闘をシミュレートする代わりに、1回のヒットに対する数学的期待値を計算し、これに基づいて機器をランク付けできることに気付きました。</font><font style="vertical-align: inherit;">私</font><font style="vertical-align: inherit;">は</font><b><font style="vertical-align: inherit;">calculate_expectationで</font></b><font style="vertical-align: inherit;">行っ</font><font style="vertical-align: inherit;">た</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulate_Fight</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数の代わりに、戦闘に関連するすべてのものをコードから投げ出しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">出力では、同じ結果が得られます。</font><font style="vertical-align: inherit;">結果の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;">コード</font></b></a><font style="vertical-align: inherit;">をリポジトリに追加しました</font><font style="vertical-align: inherit;">。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"></font></b></a><font style="vertical-align: inherit;"></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja495764/index.html">CSI Linux：サイバー調査およびOSINT用のLinuxディストリビューション</a></li>
<li><a href="../ja495766/index.html">JSONスキーマ。存在するかしないか？</a></li>
<li><a href="../ja495768/index.html">産業用コントローラーのインターフェース設計</a></li>
<li><a href="../ja495770/index.html">モバイル開発者向けの興味深い資料の要約＃339（3月30日-4月5日）</a></li>
<li><a href="../ja495772/index.html">JavaScriptでのピクセルアートメーカーの記述</a></li>
<li><a href="../ja495780/index.html">Mediastreamer2 VoIPエンジンを研究します。パート3</a></li>
<li><a href="../ja495782/index.html">FOSSニュースNo. 10-2020年3月30日〜4月5日の無料およびオープンソースニュースのレビュー</a></li>
<li><a href="../ja495784/index.html">SamsPcbGuide、パート14：テクノロジー-マイクロ開発とチップオンボードテクノロジー</a></li>
<li><a href="../ja495786/index.html">グローバルヌル</a></li>
<li><a href="../ja495788/index.html">コロナウイルスからの装置か、パンの塊からの別のトロリーか？</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>