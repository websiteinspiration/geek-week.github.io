<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖕🏻 👩🏻 💧 NodeJS: Schnellstart ♎️ 🚴🏿 🛌🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hallo alle zusammen! Sehr bald wird der Node.js-Entwicklerkurs beginnen , in dessen Zusammenhang wir eine traditionelle offene Lektion durchgeführt ha...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>NodeJS: Schnellstart</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/493872/"><img src="https://habrastorage.org/webt/s-/7a/cf/s-7acfzhsw55rupodlj9zl6_3m8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hallo alle zusammen! </font><font style="vertical-align: inherit;">Sehr bald wird der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js-Entwicklerkurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beginnen </font><font style="vertical-align: inherit;">, in dessen Zusammenhang wir eine traditionelle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">offene Lektion durchgeführt haben</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das Webinar untersuchte die Stärken und Schwächen von Node und diskutierte auch, für welche Aufgaben diese Softwareplattform am besten geeignet ist und für welche anderen Sprachen und Frameworks ausgewählt werden sollte. </font><font style="vertical-align: inherit;">Und natürlich nicht ohne Übung. </font><font style="vertical-align: inherit;">Ausführen der Beispiele und der Software, die zur Installation von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erforderlich sind </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dozent - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alexander Korzhikov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Dev IT Engineer bei der ING Group (Niederlande).</font></font><br>
<br>
<hr><br>
<a name="habracut"></a><br>
<img src="https://habrastorage.org/webt/gy/xr/it/gyxritf2vnerlxqhnevsput7s4q.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein paar Worte zu Node.js.</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Node.js ist eine asynchrone JavaScript-Laufzeit, die auf Konzepten wie Event Loop und ereignisorientierter Architektur basiert. </font><font style="vertical-align: inherit;">Mit der Node.js-Plattform und dem Standard-NPM-Paketmanager können Sie effektive Anwendungen für verschiedene Themenbereiche erstellen - vom Web bis zum maschinellen Lernen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das einfachste Webserver-Beispiel ( </font></font><code>node server.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">):</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)
<span class="hljs-keyword">const</span> hostname = <span class="hljs-string">'127.0.0.1'</span>
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>
<span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {<font></font>
res.statusCode = <span class="hljs-number">200</span>
res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>)<font></font>
res.end(<span class="hljs-string">'Hello World\n'</span>)<font></font>
})<font></font>
server.listen(port, hostname, () =&gt; {<font></font>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Server running at http://<span class="hljs-subst">${hostname}</span>:<span class="hljs-subst">${port}</span>/`</span>)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit Blick auf den obigen Code können die folgenden Funktionen von Node.js festgestellt werden:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wir können JavaScript-Code direkt auf dem Server ausführen, dh es ist möglich, JavaScript-Dateien mit dem Befehl node auszuführen. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das CommonJS-Format von Modulen zum Laden von Abhängigkeiten und ES-Modulen wird unterstützt, und beide Formate können verwendet werden.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es wird eine Standardmodulbibliothek unterstützt, zu der auch HTTP gehört.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die API basiert auf dem Muster für asynchrone Rückrufe, Promise wird jedoch ebenfalls unterstützt. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die ES2015-Syntax wird unterstützt. </font><font style="vertical-align: inherit;">Übrigens, hier ist ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nützlicher Link,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit dem Sie immer sehen können, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in welcher Version von Node welche JS-Funktionen unterstützt werden</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Wenn etwas schief geht, können Sie das Problem vergleichen und verstehen.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auch </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">verpassen Sie nicht die kleine Demo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (VSCode + Chrome Debug).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ein kurzer Ausflug in die Geschichte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Node.js-Plattform erschien 2009, der Hauptentwickler und Schöpfer des Projekts war Ryan Dahl. </font><font style="vertical-align: inherit;">Seine Hauptidee war es, eine nicht blockierende E / A (Eingabe-Ausgabe) für den Server zu erstellen, außerdem mit JavaScript. </font><font style="vertical-align: inherit;">Zu dieser Zeit waren solche Ansätze nicht sehr verbreitet, und JavaScript war eine der besten Lösungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Node.js verwendet die Chromium-Engine in sich selbst oder vielmehr den Teil davon, der JavaScript - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">V8</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> interpretiert </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Aufgrund der Tatsache, dass sich der Dolmetscher zu einem Zeitpunkt in ein separates V8-Projekt trennte, wurde es möglich, einfach ein Ökosystem um dieses herum zu erstellen. </font><font style="vertical-align: inherit;">Genau genommen hat der Schöpfer von Node.js Ryan Dahl genau das getan. </font><font style="vertical-align: inherit;">Übrigens gibt es heute die Node.js Foundation, eine Organisation, die das Projekt unterstützt.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sy/ia/yr/syiayrq85tpdajr8whmtfysla6c.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Struktur</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erstens ist die Bibliothek in C ++ und JavaScript geschrieben. </font><font style="vertical-align: inherit;">Das Projekt selbst </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">liegt auf GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Wenn Sie also neugierig sind, können Sie sich mit dem Quellcode vertraut machen. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sie</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> können </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">sich</font></a><font style="vertical-align: inherit;"> sehr lange mit </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">dem Studium befassen</font></a><font style="vertical-align: inherit;"> )). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zweitens enthält es, wie bereits erwähnt, V8 (die JavaScript-Ausführungsplattform von Google) und libuv als Teil der Ereignisschleife (asynchrone Ereignisschleife). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich gibt es verschiedene Module für die Arbeit mit dem Betriebssystem, mit denen Sie die Geschäftsaufgaben ausführen können, die Sie benötigen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erwähnenswert sind auch die wichtigsten Entwurfsmuster, die üblicherweise in Node.js verwendet werden:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rückruf (es wurde bereits erwähnt);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beobachter (einfacheres Ereignismuster);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modul (obwohl es jetzt in der JavaScript-Sprache selbst organisiert ist, ist es in Node.js immer noch relevant);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reaktor (Muster der asynchronen Interaktion mit einigen Ressourcen, wenn Sie den Hauptcodestrom nicht blockieren). </font><font style="vertical-align: inherit;">Dieses Muster ist JS-Entwicklern bekannt. </font><font style="vertical-align: inherit;">Wenn wir beispielsweise in einem Browser arbeiten und ein Frontend schreiben, blockieren wir nicht die gesamte Browserarbeit, sondern abonnieren einfach Ereignisse des Benutzers. Wenn ein Ereignis auftritt (nach einem „Klick“, einer „Eingabe“ usw.), führen wir es aus unser Code.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Übrigens, hier ist ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kleiner Wettbewerb</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , den wir beim Webinar hatten)). </font><font style="vertical-align: inherit;">Und fahre fort.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Knotenstandardverteilungsmodule</font></font></h3><br>
<img src="https://habrastorage.org/webt/lz/vc/dt/lzvcdthe1hqpmlr_jhnltxu2ewi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wissen Sie, welche Module in der Standardknotenverteilung enthalten sind? </font><font style="vertical-align: inherit;">Das heißt, wir sprechen von Modulen, die bereits eingebaut sind, daher können sie nicht installiert werden. </font><font style="vertical-align: inherit;">Im Allgemeinen gibt es ungefähr 50 von ihnen, lassen Sie uns die wichtigsten auflisten. </font><font style="vertical-align: inherit;">Zur Erleichterung der Wahrnehmung teilen wir sie herkömmlicherweise in 5 Punkte ein: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font><font style="vertical-align: inherit;">Hauptpunkt </font><font style="vertical-align: inherit;">(für normale Operationen):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fs;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timer;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Streams (zum Arbeiten mit Streams).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. Dienstprogramme:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pfad (zum Arbeiten mit Pfaden);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">util;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zlib (Archivieren und Entpacken);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Krypto (für kryptografische Funktionen).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. Prozesse (alles in Bezug auf Multiprocessing und Parallelität):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">child_process (das Hauptmodul zum Starten kleinerer Module bietet großartige Möglichkeiten zum Starten und Überwachen von Prozessen);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster (ähnlich dem ersten, ermöglicht jedoch das Parallelisieren von Aufgaben auf den Kernen Ihres Prozessors);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker_threads (Implementierung von Threads oder Threads, aber nicht vollständig threadsicher, aber warum ist es besser, die Dokumentation zu lesen).</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. Protokolle (alle Arten von Protokollen):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http (s);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Netz;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DNS.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. System (bzw. Systemmodule, einschließlich Debugging):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">os</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v8;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">async_hooks;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perf_hooks;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trace_events</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was noch hinzuzufügen ist: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- globales Objekt - analog zum Fenster; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Alle im Browser verfügbaren JavaScript-Objekte sind auch in Node.js verfügbar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Timeouts - fast wie in einem Browser; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Prozess - Darstellung des aktuellen Prozesses; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Konsole ist verfügbar.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rückrufe</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rückruf - Eine Funktion, die als Argument an den Code übergeben wird und die Ausführung zu einem bestimmten Zeitpunkt umfasst. </font><font style="vertical-align: inherit;">Übrigens denken die Leute selten, dass ihre Ausführung synchron oder asynchron sein kann.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {<font></font>
res.statusCode = <span class="hljs-number">200</span>
res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>)<font></font>
res.end(<span class="hljs-string">'Hello World\n'</span>)<font></font>
})<font></font>
server.listen(port, hostname, () =&gt; {<font></font>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Server running at http://<span class="hljs-subst">${hostname}</span>:<span class="hljs-subst">${port}</span>/`</span>)<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Node wird der Rückruf standardmäßig mit einem "Fehler" ausgeführt und das Ergebnis ist asynchron:</font></font><br>
<br>
<pre><code class="javascript hljs">fs.readFile(<span class="hljs-string">'/etc/passwd'</span>, (err, data) =&gt; {
<span class="hljs-keyword">if</span> (err) <span class="hljs-keyword">throw</span> err
<span class="hljs-built_in">console</span>.log(data)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und so sieht das Antimuster aus - ein gutes Beispiel für die falsche Verwendung von Rückrufen. </font><font style="vertical-align: inherit;">Wie sie sagen, die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">klassische Callback Hell</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="javascript hljs">fs.readdir(source, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, files</span>) </span>{
<span class="hljs-keyword">if</span> (err) {
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error finding files: '</span> + err)<font></font>
} <span class="hljs-keyword">else</span> {<font></font>
files.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">filename, fileIndex</span>) </span>{
<span class="hljs-built_in">console</span>.log(filename)<font></font>
gm(source + filename).size(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">err, values</span>) </span>{
<span class="hljs-keyword">if</span> (err) {
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error identifying file size: '</span> + err)<font></font>
} <span class="hljs-keyword">else</span> {
<span class="hljs-built_in">console</span>.log(filename + <span class="hljs-string">' : '</span> + values)<font></font>
aspect = (values.width / values.height)<font></font>
widths.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">width, widthIndex</span>) </span>{<font></font>
height = <span class="hljs-built_in">Math</span>.round(width / aspect)
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">'resizing '</span> + filename + <span class="hljs-string">'to '</span> + height + <span class="hljs-string">'x'</span> + height)
<span class="hljs-keyword">this</span>.resize(width, height).write(dest + <span class="hljs-string">'w'</span> + width + <span class="hljs-string">'_'</span> + filename, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">err</span>) </span>{
<span class="hljs-keyword">if</span> (err) <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'Error writing file: '</span> + err)<font></font>
})<font></font>
}.bind(<span class="hljs-keyword">this</span>))<font></font>
}<font></font>
})<font></font>
})<font></font>
}<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lassen Sie uns nun sehen, wie Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">einen einfachen Webserver erstellen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und den HTML-Index als Client-Antwort rendern:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> http = <span class="hljs-built_in">require</span>(<span class="hljs-string">'http'</span>)
<span class="hljs-keyword">const</span> server = http.createServer(<span class="hljs-function">(<span class="hljs-params">req, res</span>) =&gt;</span> {<font></font>
res.statusCode = <span class="hljs-number">200</span>
res.setHeader(<span class="hljs-string">'Content-Type'</span>, <span class="hljs-string">'text/plain'</span>)<font></font>
res.end(<span class="hljs-string">'Hello World\n'</span>)<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So lesen Sie die lokale HTML-Datei:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> fs = <span class="hljs-built_in">require</span>(<span class="hljs-string">'fs'</span>)<font></font>
fs.readFile(<span class="hljs-string">'./index.html'</span>, (err, text) =&gt; {
<span class="hljs-built_in">console</span>.log(text)<font></font>
})</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Abschluss des Themas Rückrufe möchte ich Rückruftypen erwähnen. </font><font style="vertical-align: inherit;">Es gibt Rückrufe, die nur dann einen Fehler zurückgeben, wenn ein Fehler vorliegt:</font></font><br>
<br>
<pre><code class="plaintext hljs">fs.access('/etc/passwd', fs.constants.R_OK, (err) =&gt; {<font></font>
console.log(err ? 'no access!' : 'read')<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auch jetzt verwenden immer mehr Module und APIs Promises out of the box, was gut ist. </font><font style="vertical-align: inherit;">Knoten unterstützt Versprechen:</font></font><br>
<br>
<pre><code class="javascript hljs">util.promisify()<font></font>
fs.promises.*<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rückgabetyp:</font></font><br>
<br>
<pre><code class="javascript hljs">http.request(<span class="hljs-string">'https://example.com'</span>, (error, response, body) =&gt; {<font></font>
...<font></font>
})</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fragen und Antworten zu Knoten</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Schreiben von Webservern wird häufig Express verwendet, obwohl es viele andere Bibliotheken und Frameworks gibt, die ähnliche Funktionen implementieren. </font><font style="vertical-align: inherit;">Trotzdem ist Express am beliebtesten und stabilsten. </font><font style="vertical-align: inherit;">Man könnte sagen, dies ist der Standard zum Schreiben von Servern.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> express <span class="hljs-keyword">from</span> <span class="hljs-string">"express"</span>;
<span class="hljs-keyword">const</span> app = express();
<span class="hljs-keyword">const</span> port = <span class="hljs-number">3000</span>;<font></font>
app.get(<span class="hljs-string">"/"</span>, (req, res) =&gt; {<font></font>
res.send(<span class="hljs-string">"Hello World!"</span>);<font></font>
});<font></font>
app.listen(port, () =&gt; {<font></font>
<span class="hljs-built_in">console</span>.log(<span class="hljs-string">`Example app listening
});</span></code></pre><br>
<img src="https://habrastorage.org/webt/1x/ml/lo/1xmllok6fpyj1q_82zod2tzl5du.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun können Sie versuchen, selbst einen Webserver mit einem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Express-Generator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu erstellen </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mit Jade, Cookie-Session;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ein naives Login Logout machen.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oder schauen Sie sich einfach an, wie der Lehrer es gemacht hat, der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">die fertige Lösung</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in TypeScript </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">vorbereitet hat</font></a><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das ist alles. </font><font style="vertical-align: inherit;">Zum Schluss noch ein paar nützliche Links:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Offizielle Dokumentation</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leiten</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Node.js Frameworks: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ExpressJS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NestJS</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und wir sehen uns </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auf dem Kurs</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de493858/index.html">10 nützliche Bücher zum IT-Service-Management</a></li>
<li><a href="../de493862/index.html">Das aktualisierte Modell Sauber Alfa Romeo F1 ist mit 143 Teilen ausgestattet, die auf einem 3D-Drucker gedruckt werden</a></li>
<li><a href="../de493864/index.html">Brief an Startups von Sequoia Capital bezüglich Coronavirus</a></li>
<li><a href="../de493866/index.html">Bauen Sie Ihren Flow für Git von Grund auf neu auf</a></li>
<li><a href="../de493870/index.html">Biogelx und die Rolle seiner Biotinte im modernen Bioprinting</a></li>
<li><a href="../de493880/index.html">BPF für die Kleinen, Teil Null: klassischer BPF</a></li>
<li><a href="../de493882/index.html">Robokultur: Onboarding, Mentoring und Burnout</a></li>
<li><a href="../de493884/index.html">STM32MP1 - Kernel + Linux = perfekter Mikrocontroller</a></li>
<li><a href="../de493890/index.html">Die Geschichte des schurkenhaften Genres: vom Schurken bis zur Bindung von Isaac</a></li>
<li><a href="../de493892/index.html">Wie man von zu Hause aus arbeitet. Checkliste von Deletedman</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>