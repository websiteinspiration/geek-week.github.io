<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â›¹ğŸ¿ ğŸš¡ ğŸ¥¦ æˆ‘ä»¬å¤å…´äº†å…­è¶³åŠ¨ç‰©ã€‚ç¬¬äºŒéƒ¨åˆ† ğŸ‘ ğŸ”ƒ ğŸ‘¦ğŸ»</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="ç§»åŠ¨çš„å…­è¶³åŠ¨ç‰©çš„è§†é¢‘
 ä¸ä»¥å‰çš„å‡ºç‰ˆç‰©ç›¸æ¯”ï¼Œç”±äºæœ‰å¤§é‡ç…§ç‰‡ï¼Œå¥¹çš„å‰ä»»å˜å¾—æ›´åŠ å£®è§‚ã€‚æˆ‘æƒ³å¡«è¡¥è¿™æ–¹é¢çš„ç©ºç™½ï¼Œå¹¶å‘æ‚¨å±•ç¤ºä¸€äº›è§†é¢‘ï¼Œè¿™äº›è§†é¢‘æ•æ‰äº†å…¬å¯“å‘¨å›´æœºå™¨äººçš„å°å‹æµ‹è¯•é©±åŠ¨å™¨ã€‚
 
  
 æœºå™¨äººç”±æ“ä½œå‘˜é€šè¿‡Wi-Fié€šè¿‡ç”µè¯æ§åˆ¶ã€‚ä½†æ˜¯ï¼Œå½“è§‚çœ‹å‰ä¸¤ä¸ªè§†é¢‘æ—¶ï¼Œæ‚¨å¯èƒ½ä¼šè¯¯ä»¥ä¸ºå…­è¶³åŠ¨ç‰©å…·æœ‰æ™ºåŠ›çš„é›å½¢ã€‚ä¸å¹¸çš„æ˜¯ï¼Œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>æˆ‘ä»¬å¤å…´äº†å…­è¶³åŠ¨ç‰©ã€‚ç¬¬äºŒéƒ¨åˆ†</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489672/"><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç§»åŠ¨çš„å…­è¶³åŠ¨ç‰©çš„è§†é¢‘</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥å‰çš„å‡ºç‰ˆç‰©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›¸æ¯”</font><font style="vertical-align: inherit;">ï¼Œç”±äºæœ‰å¤§é‡ç…§ç‰‡</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">ï¼Œ</font></a><font style="vertical-align: inherit;">å¥¹çš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‰ä»»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å˜å¾—æ›´åŠ å£®è§‚ã€‚</font><font style="vertical-align: inherit;">æˆ‘æƒ³å¡«è¡¥è¿™æ–¹é¢çš„ç©ºç™½ï¼Œå¹¶å‘æ‚¨å±•ç¤ºä¸€äº›è§†é¢‘ï¼Œè¿™äº›è§†é¢‘æ•æ‰äº†å…¬å¯“å‘¨å›´æœºå™¨äººçš„å°å‹æµ‹è¯•é©±åŠ¨å™¨ã€‚</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/RmYl7Q_uSaM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe> <a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœºå™¨äººç”±æ“ä½œå‘˜é€šè¿‡Wi-Fié€šè¿‡ç”µè¯æ§åˆ¶ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œå½“è§‚çœ‹å‰ä¸¤ä¸ªè§†é¢‘æ—¶ï¼Œæ‚¨å¯èƒ½ä¼šè¯¯ä»¥ä¸ºå…­è¶³åŠ¨ç‰©å…·æœ‰æ™ºåŠ›çš„é›å½¢ã€‚</font><font style="vertical-align: inherit;">ä¸å¹¸çš„æ˜¯ï¼Œäº‹å®å¹¶éå¦‚æ­¤...</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Jczoe6xWhUA" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤å¤–ï¼Œæœºå™¨äººè¢«ä»æŸ”è½¯çš„åœ°æ¯¯ä¸Šèµ¶åˆ°äº†ä¸€å—ç›¸å½“å…‰æ»‘çš„æ²¹æ¯¡ä¸Šï¼Œè¿™æ˜¾ç¤ºäº†å¾ˆå¥½çš„æ•ˆæœã€‚ </font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/CchINXYR3pw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…­è„šæ¶è¿åŠ¨çš„å®ç°</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚ä¸Š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€ç¯‡æ–‡ç« </font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰€è¿°ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MotionJob</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">å’Œä»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»ç»§æ‰¿çš„æ´¾ç”Ÿç±»</font><font style="vertical-align: inherit;">è´Ÿè´£å®ç°æœºå™¨äººè¿åŠ¨</font><font style="vertical-align: inherit;">ã€‚</font><i><font style="vertical-align: inherit;">MotionJob</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ç±»</font><font style="vertical-align: inherit;">åªæœ‰ä¸€ä¸ªå…¬å…±çš„</font><i><font style="vertical-align: inherit;">execute</font></i><font style="vertical-align: inherit;">æ–¹æ³•</font><font style="vertical-align: inherit;">ï¼Œå®ƒå°†å¯åŠ¨ç»™å®šçš„è¿åŠ¨ä»¥æ‰§è¡Œã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int MotionJob ::æ‰§è¡Œï¼ˆMotion * pMotionï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">MotionJob::execute</span><span class="hljs-params">(Motion* pMotion)</span> </span>{
  <span class="hljs-keyword">if</span>(m_Status == NONE &amp;&amp; pMotion != <span class="hljs-literal">NULL</span>) {<font></font>
     <font></font>
     m_pMotion = pMotion;<font></font>
     m_MotionTime = <span class="hljs-number">0</span>;<font></font>
     m_TotalTime = m_pMotion-&gt;totalTime();<font></font>
     m_Status = RUNING;<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(pMotion != <span class="hljs-literal">NULL</span>){<font></font>
    <font></font>
    <span class="hljs-keyword">if</span>(m_pMotion-&gt;m_pNext != <span class="hljs-literal">NULL</span>) 
      <span class="hljs-keyword">delete</span> m_pMotion-&gt;m_pNext;<font></font>
      <font></font>
    m_pMotion-&gt;m_pNext = pMotion;<font></font>
     m_Status = STOPING;<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> S_OK;<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®ƒçš„é€»è¾‘å¾ˆç®€å•ã€‚ä½œä¸ºå‚æ•°ï¼Œå®ƒä½¿ç”¨æŒ‡å‘æè¿°è¿åŠ¨è¿‡ç¨‹çš„å¯¹è±¡çš„æŒ‡é’ˆã€‚å¦‚æœå½“å‰æ‰§è¡Œä¸­æ²¡æœ‰å…¶ä»–ç§»åŠ¨ï¼Œåˆ™æŒ‡ç¤ºçš„ç§»åŠ¨å˜ä¸ºæ´»åŠ¨çŠ¶æ€ï¼Œå¹¶è¿›å…¥æ‰§è¡ŒçŠ¶æ€ï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RUNING</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚åœ¨æ‰§è¡Œä¸­å·²ç»æœ‰ä¸€äº›ç§»åŠ¨çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬å°†å…¶è½¬æ¢ä¸ºåœæ­¢çŠ¶æ€ï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STOPING</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼Œå¹¶ä¸”æ–°çš„ç§»åŠ¨è®°å½•ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m_pNext</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­—æ®µä¸­çš„ä¸‹ä¸€ä¸ªç§»åŠ¨</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡è¦è¯´æ˜ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒæ„ä»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»§æ‰¿çš„æ‰€æœ‰å¯¹è±¡éƒ½</font><font style="vertical-align: inherit;">æš—ç¤ºå°†åœ¨åŠ¨æ€å†…å­˜åŒºåŸŸä¸­åˆ›å»º</font><font style="vertical-align: inherit;">å¯¹è±¡</font><font style="vertical-align: inherit;">ï¼ˆé€šè¿‡</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">new</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼Œå¹¶åœ¨</font><font style="vertical-align: inherit;">å®Œæˆæˆ–å–æ¶ˆç§»åŠ¨ä¹‹å</font><font style="vertical-align: inherit;">ç”±</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MotionJob</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å°†å…¶é‡Šæ”¾</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»</font><i><font style="vertical-align: inherit;">AJob</font></i><font style="vertical-align: inherit;">ç»§æ‰¿</font><font style="vertical-align: inherit;">
çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MotionJob</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»</font><font style="vertical-align: inherit;">åœ¨é‡å çš„</font><i><font style="vertical-align: inherit;">onRun</font></i><font style="vertical-align: inherit;">æ–¹æ³•ä¸­å®ç°äº†æ‰€æœ‰è¿åŠ¨é­”æœ¯ï¼Œè¯¥æ–¹æ³•</font><font style="vertical-align: inherit;">åœ¨æœºå™¨äººæ“ä½œæœŸé—´ä»¥ç»™å®šçš„é¢‘ç‡è°ƒç”¨ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ— æ•ˆçš„MotionJob :: onRunï¼ˆï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">MotionJob::onRun</span><span class="hljs-params">()</span> </span>{<font></font>
<font></font>
  Vector3D points[FOOTS_COUNT];<font></font>
  <span class="hljs-keyword">int</span> pose[FOOTS_COUNT][<span class="hljs-number">3</span>];
  <span class="hljs-comment">//    ,  </span>
  <span class="hljs-keyword">if</span>(m_pMotion == <span class="hljs-literal">NULL</span>)
    <span class="hljs-keyword">return</span>;
  <span class="hljs-comment">//           ,</span>
  <span class="hljs-comment">//            .</span>
  <span class="hljs-comment">//      .</span>
  <span class="hljs-keyword">int</span> res;
  <span class="hljs-keyword">if</span>(m_pMotion-&gt;getPose(min(m_MotionTime, m_pMotion-&gt;maxTime()), pose) == S_OK) {<font></font>
     res = m_pGeksapod-&gt;_setPose(pose);<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(m_pMotion-&gt;getPose(min(m_MotionTime, m_pMotion-&gt;maxTime()), points) == S_OK) {<font></font>
     res = m_pGeksapod-&gt;_setPose(points);<font></font>
  }<font></font>
  <span class="hljs-comment">//     </span><font></font>
  m_MotionTime += MOTION_JOB_PERIOD;<font></font>
  <span class="hljs-comment">//     ,    ,</span>
  <span class="hljs-comment">//      :</span>
  <span class="hljs-comment">//   m_TotalTime -     </span>
  <span class="hljs-keyword">if</span>(m_TotalTime &gt; <span class="hljs-number">0</span>) { <font></font>
    m_TotalTime -= MOTION_JOB_PERIOD;<font></font>
    m_TotalTime = max(<span class="hljs-number">0</span>,m_TotalTime); <font></font>
  }<font></font>
  <span class="hljs-comment">//      , </span>
  <span class="hljs-comment">//      </span>
  <span class="hljs-keyword">if</span>(m_TotalTime == <span class="hljs-number">0</span> &amp;&amp; m_pMotion-&gt;isLooped()) {<font></font>
     m_Status = STOPING;<font></font>
  }<font></font>
  <span class="hljs-comment">//         </span>
  <span class="hljs-comment">//          .</span>
  <span class="hljs-keyword">if</span>( (m_MotionTime - m_pMotion-&gt;maxTime() &gt;= MOTION_JOB_PERIOD &amp;&amp; (!m_pMotion-&gt;isLooped() || m_Status == STOPING)) ) { <span class="hljs-comment">//  </span>
    <span class="hljs-comment">//      </span><font></font>
    Motion* pNextMotion = m_pMotion-&gt;m_pNext;<font></font>
    m_pMotion-&gt;m_pNext = <span class="hljs-literal">NULL</span>;
    <span class="hljs-keyword">delete</span> m_pMotion;<font></font>
    m_pMotion = <span class="hljs-literal">NULL</span>;
    <span class="hljs-comment">//   </span><font></font>
    m_Status = NONE;<font></font>
    execute(pNextMotion);<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(m_MotionTime - m_pMotion-&gt;maxTime() &gt;= MOTION_JOB_PERIOD) {
    <span class="hljs-comment">//      </span>
    <span class="hljs-comment">//         </span>
    m_MotionTime = <span class="hljs-number">0</span>; <font></font>
  }<font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸Šé¢çš„ä»£ç åŒ…å«æœ‰å…³å…¶å·¥ä½œçš„è¶³å¤Ÿæ³¨é‡Šï¼Œå› æ­¤ï¼Œæ­¤å¤–ï¼Œæˆ‘ä»…æ³¨æ„å‡ ä¸ªå…³é”®ç‚¹ï¼š</font></font><br>
<ul>
<li> <i>Motion</i>              (<i>Vector3D points[FOOTS_COUNT]</i>),         (<i>int pose[FOOTS_COUNT][3]</i>).  ,       .       <i>getPose</i>   ,     <i>getPose</i>.       <i>_setPose</i>,            .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿åŠ¨å¯ä»¥æ˜¯å®šæœŸçš„ä¹Ÿå¯ä»¥æ˜¯å‘¨æœŸæ€§çš„ã€‚</font><font style="vertical-align: inherit;">åœ¨åˆ°è¾¾ä¸ºæ‰§è¡Œä¸€ä¸ªè¿åŠ¨å‘¨æœŸè€ŒæŒ‡å®šçš„æ—¶é—´æ®µç»“æŸæ—¶ï¼ˆé€šè¿‡</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motion :: maxTimeï¼ˆï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•è¿”å›ï¼‰ï¼Œæ­£å¸¸</font><i><font style="vertical-align: inherit;">è¿åŠ¨</font></i><font style="vertical-align: inherit;">å°†ç«‹å³å®Œæˆã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åªæœ‰åœ¨</font><font style="vertical-align: inherit;">è°ƒç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">execute</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•</font><font style="vertical-align: inherit;">ï¼ˆå¯ä»¥ç”¨ç©ºæŒ‡é’ˆè°ƒç”¨ï¼‰æˆ–ä¸ºæ‰§è¡Œè¿åŠ¨åˆ†é…æ­£æ—¶ç‚¹ï¼ˆç”±</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motion :: totalTimeï¼ˆï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•è¿”å›ï¼‰</font><font style="vertical-align: inherit;">æ—¶å‘ç”Ÿå¼ºåˆ¶åœæ­¢ä¹‹åï¼Œå¾ªç¯è¿åŠ¨æ‰ä¼šå®Œæˆ</font><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®šä¹‰äº†ä»¥ä¸‹ç±»æ¥æè¿°å„ç§è¿åŠ¨é€‰é¡¹ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»TransPoseMotion</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TransPoseMotion</span>:</span> <span class="hljs-keyword">public</span> Motion {<font></font>
  Vector3D m_Pose0[FOOTS_COUNT];  <span class="hljs-comment">//  </span>
  Vector3D m_Offset[FOOTS_COUNT];  <span class="hljs-comment">//  </span>
<span class="hljs-keyword">public</span>:  <font></font>
  TransPoseMotion(Vector3D begPose[FOOTS_COUNT], Vector3D endPose[FOOTS_COUNT],<font></font>
        <span class="hljs-keyword">long</span> maxTime, Motion* pNext = <span class="hljs-literal">NULL</span>);
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getPose</span><span class="hljs-params">(<span class="hljs-keyword">long</span> time, Vector3D points[FOOTS_COUNT])</span></span>;<font></font>
};</code></pre></div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TransAnglesMotionç±»</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">TransAnglesMotion</span>:</span> <span class="hljs-keyword">public</span> Motion {
  <span class="hljs-keyword">char</span> m_Pose0[FOOTS_COUNT][<span class="hljs-number">3</span>];
  <span class="hljs-keyword">char</span> m_Offset[FOOTS_COUNT][<span class="hljs-number">3</span>];
<span class="hljs-keyword">public</span>:  <font></font>
  TransAnglesMotion(<span class="hljs-keyword">int</span> begPose[FOOTS_COUNT][<span class="hljs-number">3</span>], <span class="hljs-keyword">int</span> endPose[FOOTS_COUNT][<span class="hljs-number">3</span>],
        <span class="hljs-keyword">long</span> maxTime, Motion* pNext = <span class="hljs-literal">NULL</span>);
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getPose</span><span class="hljs-params">(<span class="hljs-keyword">long</span> actionTime, <span class="hljs-keyword">int</span> pose[FOOTS_COUNT][<span class="hljs-number">3</span>])</span></span>;<font></font>
};<font></font>
</code></pre></div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">class LinearMotion</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">LinearMotion</span>:</span> <span class="hljs-keyword">public</span> Motion {
  <span class="hljs-comment">//     ( ) </span><font></font>
  Vector3D m_Pose0[FOOTS_COUNT];<font></font>
  Vector3D m_Offset; <span class="hljs-comment">//     </span>
  <span class="hljs-keyword">int</span> m_Heigth;          <span class="hljs-comment">//   </span>
<span class="hljs-keyword">public</span>:  <font></font>
  LinearMotion(<span class="hljs-keyword">int</span> heigth, Vector3D pose0[FOOTS_COUNT], Vector3D speed, 
        <span class="hljs-keyword">long</span> maxTime, <span class="hljs-keyword">long</span> totalTime = <span class="hljs-number">-1</span>, Motion* pNext = <span class="hljs-literal">NULL</span>);
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getPose</span><span class="hljs-params">(<span class="hljs-keyword">long</span> time, Vector3D points[FOOTS_COUNT])</span></span>;<font></font>
};</code></pre></div></div><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RotateMotionç±»</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">RotateMotion</span>:</span> <span class="hljs-keyword">public</span> Motion {
  <span class="hljs-comment">//     ( ) </span><font></font>
  Vector3D m_Pose0[FOOTS_COUNT]; <font></font>
  Vector3D m_Angles; <span class="hljs-comment">//     </span>
  <span class="hljs-keyword">int</span> m_Heigth;           <span class="hljs-comment">//   </span>
<span class="hljs-keyword">public</span>:  <font></font>
  RotateMotion(<span class="hljs-keyword">int</span> heigth, Vector3D pose0[FOOTS_COUNT], Vector3D rotor, 
        <span class="hljs-keyword">long</span> maxTime, <span class="hljs-keyword">long</span> totalTime = <span class="hljs-number">-1</span>, Motion* pNext = <span class="hljs-literal">NULL</span>);
  <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">getPose</span><span class="hljs-params">(<span class="hljs-keyword">long</span> time, Vector3D points[FOOTS_COUNT])</span></span>;<font></font>
};</code></pre></div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TransPoseMotionç±»</font></font></h4><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TransPoseMotion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ç±»</font><font style="vertical-align: inherit;">ä½¿æ‚¨å¯ä»¥å°†è‚¢ä½“ä»ä¸€ä¸ªä½ç½®ç§»åŠ¨åˆ°å¦ä¸€ä½ç½®ã€‚</font><font style="vertical-align: inherit;">åˆ›å»ºå¯¹è±¡æ—¶ï¼Œå°†ç‚¹çš„åæ ‡å’Œåº”è¯¥è¿›è¡Œç§»åŠ¨çš„æ—¶é—´æ®µä¼ é€åˆ°ç±»æ„é€ å‡½æ•°ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TransPoseMotion :: TransPoseMotionï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs">TransPoseMotion::TransPoseMotion(Vector3D begPose[FOOTS_COUNT],<font></font>
  Vector3D endPose[FOOTS_COUNT], <span class="hljs-keyword">long</span> maxTime, Motion* pNext) : Motion(maxTime, <span class="hljs-number">-1</span>, pNext) {
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; FOOTS_COUNT; i++) {<font></font>
    m_Pose0[i] = begPose[i];<font></font>
    m_Offset[i] = endPose[i] - begPose[i];<font></font>
  }<font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çŸ¥é“äº†æ¯ä¸ªè‚¢ä½“çš„åˆå§‹ä½ç½®å’Œä½ç§»çŸ¢é‡åï¼Œæˆ‘ä»¬å¯ä»¥</font><font style="vertical-align: inherit;">é€šè¿‡æ‰§è¡Œç®€å•çš„çº¿æ€§è®¡ç®—</font><font style="vertical-align: inherit;">ï¼Œè½»æ¾åœ°</font><font style="vertical-align: inherit;">åœ¨ä»</font><i><font style="vertical-align: inherit;">0</font></i><font style="vertical-align: inherit;">åˆ°</font><i><font style="vertical-align: inherit;">maxTime</font></i><font style="vertical-align: inherit;">çš„æ—¶é—´é—´éš”å†…çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getPose</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•</font><font style="vertical-align: inherit;">ä¸­è·å¾—çˆªå­çš„æ–°ä½ç½®</font><font style="vertical-align: inherit;">ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int TransPoseMotion :: getPoseï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">TransPoseMotion::getPose</span><span class="hljs-params">(<span class="hljs-keyword">long</span> time, Vector3D points[FOOTS_COUNT])</span> </span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; FOOTS_COUNT; i++)<font></font>
    linearFunc(<span class="hljs-number">1.0</span>, m_Offset[i], m_Pose0[i], <span class="hljs-number">1.0</span>*time/m_MaxTime, points[i]);<font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çº¿æ€§è®¡ç®—è¢«åˆ†é…ç»™è¾…åŠ©å‡½æ•°linearFuncï¼Œè¯¥å‡½æ•°æ˜¯ä¸€ä¸ªæ™®é€šçš„çº¿æ€§æ–¹ç¨‹ï¼Œå…¶å‚æ•°é€šè¿‡å‡½æ•°çš„å‚æ•°æŒ‡å®šã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ— æ•ˆlinearFuncï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">linearFunc</span><span class="hljs-params">(<span class="hljs-keyword">float</span> a, Vector3D offset, Vector3D p0, <span class="hljs-keyword">float</span> k,  Vector3D&amp; res)</span> </span>{<font></font>
  res = a*offset*k + p0;<font></font>
}</code></pre><br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TransAnglesMotionç±»</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤ç±»çš„é€»è¾‘ä¸ä¸Šä¸€ç±»ç›¸ä¼¼ã€‚</font><font style="vertical-align: inherit;">å”¯ä¸€çš„åŒºåˆ«æ˜¯ï¼Œåœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TransAnglesMotion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»ä¸­</font><i><font style="vertical-align: inherit;">ï¼Œå…­è¶³åŠ¨ç‰©</font></i><font style="vertical-align: inherit;">è‚¢ä½“</font><i><font style="vertical-align: inherit;">çš„</font></i><font style="vertical-align: inherit;">ä½ç½®ç”±å…¶å…³èŠ‚åº”å¼¯æ›²çš„è§’åº¦é›†è®¾ç½®ï¼Œè€Œä¸æ˜¯ç”±æœºå™¨äººçˆªå­æœ«ç«¯çš„ç©ºé—´åæ ‡è®¾ç½®ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TransAnglesMotion :: TransAnglesMotionï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs">TransAnglesMotion::TransAnglesMotion(<span class="hljs-keyword">int</span> begPose[FOOTS_COUNT][<span class="hljs-number">3</span>],
  <span class="hljs-keyword">int</span> endPose[FOOTS_COUNT][<span class="hljs-number">3</span>], <span class="hljs-keyword">long</span> maxTime, Motion* pNext) : Motion(maxTime, <span class="hljs-number">-1</span>, pNext) {
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; FOOTS_COUNT; i++) {
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++) {<font></font>
      m_Pose0[i][j] = begPose[i][j];<font></font>
      m_Offset[i][j] = endPose[i][j] - begPose[i][j];<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br>
</div></div><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int TransAnglesMotion :: getPoseï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">TransAnglesMotion::getPose</span><span class="hljs-params">(<span class="hljs-keyword">long</span> time, <span class="hljs-keyword">int</span> pose[FOOTS_COUNT][<span class="hljs-number">3</span>])</span> </span>{
  <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; FOOTS_COUNT; i++) {
    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">int</span> j = <span class="hljs-number">0</span>; j &lt; <span class="hljs-number">3</span>; j++) <font></font>
      pose[i][j] = m_Pose0[i][j] + (<span class="hljs-keyword">int</span>)(<span class="hljs-number">1.0</span>*m_Offset[i][j]*time/m_MaxTime);<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> S_OK;<font></font>
}</code></pre><br>
</div></div><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LinearMotionç±»</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®ç°ç®€å•çš„åŠ¨ä½œéœ€è¦æ›´å¤šçš„ä»£ç å’Œæ‚¨çš„æ³¨æ„åŠ›ã€‚å…­è„šæ¶è®¾è®¡å…·æœ‰æœ€ä½³çš„è‚¢ä½“æ•°é‡ï¼Œä½¿æ‚¨åœ¨ç§»åŠ¨æ—¶å§‹ç»ˆå…·æœ‰ä¸‰ä¸ªæ”¯æ’‘ç‚¹ï¼Œå› æ­¤æœºå™¨äººçš„è´¨å¿ƒæŠ•å½±å§‹ç»ˆä½äºç”±å®ƒä»¬å½¢æˆçš„ä¸‰è§’å½¢å†…ã€‚è¿™æ ·å¯ä»¥ç¡®ä¿æœºå™¨äººåœ¨ç§»åŠ¨æ—¶ä¿æŒç¨³å®šçš„ä½ç½®ã€‚å› æ­¤ï¼Œæœºå™¨äººçš„ç›´çº¿è¿åŠ¨å¯ä»¥è§†ä¸ºä¸€ç»„ç›¸åŒçš„æ­¥éª¤ã€‚åœ¨æ¯ä¸ªè¿™æ ·çš„æ­¥éª¤ä¸­ï¼Œå¯ä»¥åŒºåˆ†ä¸¤ä¸ªé˜¶æ®µã€‚åœ¨ç¬¬ä¸€é˜¶æ®µä¸­ï¼Œä¸€ä¸ªä¸‰è„šæ¶çš„è…¿æ¥è§¦è¡¨é¢ï¼Œå¹¶ä¸”å…¶æœ«ç«¯æ²¿ä¸è¿åŠ¨æ–¹å‘ç›¸åçš„æ–¹å‘å¹³è¡Œäºè¡¨é¢è¿åŠ¨ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬äºŒä¸ªä¸‰è¶³çˆªåœ¨ä¸æ¥è§¦è¡¨é¢çš„æƒ…å†µä¸‹æ²¿å¼¯æ›²è·¯å¾„æ²¿æœºå™¨äººçš„ç§»åŠ¨æ–¹å‘ç§»åŠ¨ã€‚åœ¨æŸä¸ªæ—¶é—´ç‚¹ï¼Œå®ƒä»¬åˆ°è¾¾æé™ä½ç½®ï¼Œç¬¬äºŒä¸ªä¸‰åˆä¼šå¼€å§‹ä¸è¡¨é¢æ¥è§¦ã€‚åœ¨ç¬¬äºŒé˜¶æ®µä¸­ï¼Œé‡å¤è¿åŠ¨è¿‡ç¨‹ï¼Œä»…è¿™æ¬¡æ˜¯ç¬¬äºŒä¸ªä¸‰åˆä¼šç§»åŠ¨æœºå™¨äººï¼Œè€Œç¬¬ä¸€ä¸ªè¿”å›åˆ°èµ·ç‚¹ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ut/rv/2k/utrv2kzjrrigx19ickf04bduuqm.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥åŠ¨ç”»æ˜¯åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤é¡µé¢</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸Šçš„Internetä¸Šå‡†å¤‡æ–‡ç« æ—¶å‘ç°çš„</font><font style="vertical-align: inherit;">ï¼Œä½†ç»è¿‡å®¡é˜…åï¼Œæˆ‘ç¡®ä¿¡å…¶åŸå§‹æ¥æºä¸º</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå¹¶ä¸”è¯¥å‡ºç‰ˆç‰©çš„ä½œè€…æ˜¯å—äººå°Šæ•¬çš„</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conKORD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ç›´çº¿ä¸Šå®ç°è¿åŠ¨æ—¶ï¼Œæˆ‘ä»¬éœ€è¦è®¾ç½®è…¿éƒ¨ç¦»å¼€è¡¨é¢çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é«˜åº¦</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">heigth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼Œ</font><font style="vertical-align: inherit;">è¿åŠ¨å¼€å§‹ï¼ˆå’Œç»“æŸï¼‰æ—¶æœºå™¨äººè‚¢ä½“çš„ä½ç½®ï¼ˆ</font><i><font style="vertical-align: inherit;">pose0</font></i><font style="vertical-align: inherit;">ï¼‰ï¼Œé€Ÿåº¦çŸ¢é‡ï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">speed</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼Œå®Œæˆä¸€ä¸ªæ­¥éª¤æ‰€</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èŠ±è´¹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„æ—¶é—´ï¼ˆ</font><i><font style="vertical-align: inherit;">maxTime</font></i><font style="vertical-align: inherit;">ï¼‰ä»¥åŠæœºå™¨äººåº”è¯¥è¿åŠ¨å¤šé•¿æ—¶é—´ã€‚æ‰§è¡Œè¿åŠ¨ï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">totalTime</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚å¦‚æœä¸º</font><i><font style="vertical-align: inherit;">totalTime</font></i><font style="vertical-align: inherit;">æŒ‡å®šè´Ÿå€¼</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ŒåŠ¨ä½œå°†æ— é™æœŸç»§ç»­ï¼Œç›´åˆ°æœºå™¨äººçš„ç”µé‡ç”¨å°½æˆ–å¼ºåˆ¶å®ŒæˆåŠ¨ä½œä¸ºæ­¢ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LinearMotion :: LinearMotionï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs">LinearMotion::LinearMotion(<span class="hljs-keyword">int</span> heigth, Vector3D pose0[FOOTS_COUNT], Vector3D speed,
  <span class="hljs-keyword">long</span> maxTime, <span class="hljs-keyword">long</span> totalTime, Motion* pNext = <span class="hljs-literal">NULL</span>) <font></font>
    : Motion(maxTime, <span class="hljs-literal">true</span>, totalTime, pNext) {<font></font>
  copyPose(m_Pose0, pose0);<font></font>
  m_Offset = <span class="hljs-number">1.0</span>*speed*maxTime/<span class="hljs-number">1000</span>;<font></font>
  m_Heigth = heigth;<font></font>
}<font></font>
</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°½ç®¡</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getPose</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•</font><font style="vertical-align: inherit;">åŒ…å«å¤§é‡ä»£ç ï¼Œä½†å®ƒéå¸¸ç®€å•ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int LinearMotion :: getPoseï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">LinearMotion::getPose</span><span class="hljs-params">(<span class="hljs-keyword">long</span> time, Vector3D points[FOOTS_COUNT])</span> </span>{
  <span class="hljs-keyword">double</span> k = <span class="hljs-number">1.0</span>*time/m_MaxTime;<font></font>
<font></font>
  <span class="hljs-keyword">if</span>(k &lt; <span class="hljs-number">0.25</span>) {  <span class="hljs-comment">//   </span>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[LEFT_FRONT_FOOT_IDX], k,<font></font>
      points[LEFT_FRONT_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[LEFT_BACK_FOOT_IDX], k,<font></font>
      points[LEFT_BACK_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[RIGTH_MIDLE_FOOT_IDX], k,<font></font>
      points[RIGTH_MIDLE_FOOT_IDX]);<font></font>
<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[LEFT_MIDLE_FOOT_IDX], k,<font></font>
      points[LEFT_MIDLE_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[RIGTH_FRONT_FOOT_IDX], k,<font></font>
      points[RIGTH_FRONT_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[RIGTH_BACK_FOOT_IDX], k,<font></font>
      points[RIGTH_BACK_FOOT_IDX]);<font></font>
  <font></font>
    <span class="hljs-keyword">int</span> h = (<span class="hljs-keyword">int</span>)m_Heigth*<span class="hljs-built_in">cos</span>(M_PI*k*<span class="hljs-number">2</span>);<font></font>
    points[LEFT_MIDLE_FOOT_IDX].z += h;<font></font>
    points[RIGTH_FRONT_FOOT_IDX].z += h;<font></font>
    points[RIGTH_BACK_FOOT_IDX].z += h;<font></font>
<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(k &lt; <span class="hljs-number">0.5</span>) { <span class="hljs-comment">//   </span><font></font>
    <font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[LEFT_FRONT_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[LEFT_FRONT_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[LEFT_BACK_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[LEFT_BACK_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[RIGTH_MIDLE_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_MIDLE_FOOT_IDX]);<font></font>
<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[LEFT_MIDLE_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[LEFT_MIDLE_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[RIGTH_FRONT_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_FRONT_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[RIGTH_BACK_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_BACK_FOOT_IDX]);<font></font>
<font></font>
    <span class="hljs-keyword">int</span> h = (<span class="hljs-keyword">int</span>)m_Heigth*<span class="hljs-built_in">sin</span>(M_PI*(k - <span class="hljs-number">0.25</span>)*<span class="hljs-number">2</span>);<font></font>
    points[LEFT_FRONT_FOOT_IDX].z += h;<font></font>
    points[LEFT_BACK_FOOT_IDX].z += h;<font></font>
    points[RIGTH_MIDLE_FOOT_IDX].z += h;<font></font>
<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(k &lt; <span class="hljs-number">0.75</span>) { <span class="hljs-comment">//   </span><font></font>
    <font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[LEFT_FRONT_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[LEFT_FRONT_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[LEFT_BACK_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[LEFT_BACK_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[RIGTH_MIDLE_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_MIDLE_FOOT_IDX]);<font></font>
<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[LEFT_MIDLE_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[LEFT_MIDLE_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[RIGTH_FRONT_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_FRONT_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[RIGTH_BACK_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_BACK_FOOT_IDX]);<font></font>
    <font></font>
    <span class="hljs-keyword">int</span> h = (<span class="hljs-keyword">int</span>)m_Heigth*<span class="hljs-built_in">cos</span>(M_PI*(k - <span class="hljs-number">0.5</span>)*<span class="hljs-number">2</span>);<font></font>
    points[LEFT_FRONT_FOOT_IDX].z += h;<font></font>
    points[LEFT_BACK_FOOT_IDX].z += h;<font></font>
    points[RIGTH_MIDLE_FOOT_IDX].z += h;<font></font>
    <font></font>
  } <span class="hljs-keyword">else</span> {  <span class="hljs-comment">//   </span><font></font>
    <font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[LEFT_FRONT_FOOT_IDX], <span class="hljs-number">1</span> - k,<font></font>
      points[LEFT_FRONT_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[LEFT_BACK_FOOT_IDX], <span class="hljs-number">1</span> - k,<font></font>
      points[LEFT_BACK_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, m_Offset, m_Pose0[RIGTH_MIDLE_FOOT_IDX], <span class="hljs-number">1</span> - k,<font></font>
      points[RIGTH_MIDLE_FOOT_IDX]);<font></font>
<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[LEFT_MIDLE_FOOT_IDX], <span class="hljs-number">1</span> - k,<font></font>
      points[LEFT_MIDLE_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[RIGTH_FRONT_FOOT_IDX], <span class="hljs-number">1</span> - k,<font></font>
      points[RIGTH_FRONT_FOOT_IDX]);<font></font>
    linearFunc(<span class="hljs-number">2.0</span>, -m_Offset, m_Pose0[RIGTH_BACK_FOOT_IDX], <span class="hljs-number">1</span> - k,<font></font>
      points[RIGTH_BACK_FOOT_IDX]);<font></font>
    <font></font>
    <span class="hljs-keyword">int</span> h = (<span class="hljs-keyword">int</span>)m_Heigth*<span class="hljs-built_in">sin</span>(M_PI*(k - <span class="hljs-number">0.75</span>)*<span class="hljs-number">2</span>);<font></font>
    points[LEFT_MIDLE_FOOT_IDX].z += h;<font></font>
    points[RIGTH_FRONT_FOOT_IDX].z += h;<font></font>
    points[RIGTH_BACK_FOOT_IDX].z += h;<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">return</span> S_OK;<font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†æ•´ä¸ªæ­¥éª¤åˆ†ä¸ºå››ä¸ªéƒ¨åˆ†ï¼š</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨ç¬¬ä¸€å­£åº¦ä¸­ï¼Œå››è‚¢çš„ç¬¬ä¸€ä¸ªä¸‰è„šç»„ï¼ˆå·¦å‰ï¼Œå·¦åå’Œå³ä¸­ï¼‰æ‰§è¡Œæ¨åŠ¨ä½œï¼Œå³ï¼Œå®ƒä»¬æ²¿ç€æ›²é¢ä»¥ä¸è¿åŠ¨ç›¸åçš„æ–¹å‘è¿åŠ¨ã€‚</font><font style="vertical-align: inherit;">çˆªå­çš„ç¬¬äºŒä¸ªä¸‰é‡è½´ï¼ˆå³å‰ï¼Œå³åå’Œå·¦ä¸­ï¼‰æ²¿è¿åŠ¨æ–¹å‘ç§»åŠ¨ï¼Œè€Œå…¶ä¸Šå‡é«˜åº¦æ ¹æ®æ­£å¼¦å‡½æ•°ä»æŒ‡å®šçš„è…¿éƒ¨é«˜åº¦çš„æœ€å¤§å€¼ï¼ˆåœ¨å››åˆ†ä¹‹ä¸€å¼€å§‹ï¼‰å˜åŒ–ä¸ºé›¶ï¼ˆåœ¨å››åˆ†ä¹‹ä¸€ç»“æŸæ—¶ï¼‰ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨ç¬¬äºŒå­£åº¦ï¼Œé»‘ç¤¾ä¼šçš„æ–¹å‘å‘ç”Ÿå˜åŒ–ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œç¬¬äºŒä¸ªä¸‰çˆªæŒç§»åŠ¨æœºå™¨äººï¼Œè€Œç¬¬ä¸€ä¸ªä¸‰çˆªæŒä»¥ä¸æœºå™¨äººç›¸åŒçš„æ–¹å‘ç§»åŠ¨ã€‚</font><font style="vertical-align: inherit;">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬ä¸€ä¸ªä¸‰é‡è½´çš„çˆªå­é«˜åº¦ä»¥æ­£å¼¦æ›²çº¿ä»é›¶å˜åŒ–åˆ°æœ€å¤§å€¼ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨ç¬¬ä¸‰å­£åº¦ï¼Œçˆªå­çš„ç§»åŠ¨æ–¹å‘ä¿æŒä¸å˜ï¼Œç¬¬ä¸€ä¸ªä¸‰é‡è½´çš„æœ«ç«¯å‘ä¸‹ï¼Œåˆ°è¾¾ç¬¬ä¸‰å­£åº¦æœ«çš„åœ°é¢ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æœ€åä¸€ä¸ªå­£åº¦ï¼Œç¬¬ä¸€ä¸ªä¸‰åˆä¼šæˆä¸ºæ”¯æ’‘ï¼Œç¬¬äºŒä¸ªä¸‰åˆä¼šæ”¹å˜æ–¹å‘å¹¶æ²¿æ­£å¼¦æ›²çº¿å‘ä¸Šç§»åŠ¨ï¼Œåœ¨è¯¥å­£åº¦æœ«è¾¾åˆ°æœ€å¤§é«˜åº¦ã€‚</font></font></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RotateMotionç±»</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
äº†è§£äº†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LinearMotion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„é€»è¾‘ä¹‹å</font><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬å¯ä»¥è½»æ¾åœ°ç¡®å®š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RotateMotion</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„å®ç°</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RotateMotion :: RotateMotionï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs">RotateMotion::RotateMotion(<span class="hljs-keyword">int</span> heigth, Vector3D pose0[FOOTS_COUNT], Vector3D speed,
  <span class="hljs-keyword">long</span> maxTime, <span class="hljs-keyword">long</span> totalTime = <span class="hljs-number">-1</span>, Motion* pNext = <span class="hljs-literal">NULL</span>) <font></font>
    : Motion(maxTime, <span class="hljs-literal">true</span>, totalTime, pNext) {<font></font>
  copyPose(m_Pose0, pose0);<font></font>
  m_Angles = <span class="hljs-number">0.001</span>*maxTime*speed*M_PI/<span class="hljs-number">180</span>;<font></font>
  m_Heigth = heigth;<font></font>
}</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™ä¸¤ä¸ªç±»çš„æ„é€ å‡½æ•°åœ¨ä¼ é€’çš„å‚æ•°ç»„æˆä¸Šå‡ ä¹ç›¸åŒã€‚</font><font style="vertical-align: inherit;">ä»…åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€Ÿåº¦</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åè½¬çš„æƒ…å†µä¸‹ï¼Œ</font><font style="vertical-align: inherit;">è§’é€Ÿåº¦çŸ¢é‡æ‰å®šä¹‰æœºå™¨äººçš„è½´å’Œæ—‹è½¬é€Ÿåº¦ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getPose</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰€è¿°çš„æ–¹æ³•</font><i><font style="vertical-align: inherit;">RotateMotion</font></i><font style="vertical-align: inherit;">ç±»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸­ï¼Œ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å·¥ä½œçš„é€»è¾‘ä¹Ÿè¢«åˆ†ä¸ºå››ä¸ªé˜¶æ®µã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œè¦è®¡ç®—çˆªå­çš„ä½ç½®</font><font style="vertical-align: inherit;">ï¼Œè¯·ä½¿ç”¨å¾„å‘å‡½æ•°</font><i><font style="vertical-align: inherit;">rotFunc</font></i><font style="vertical-align: inherit;">ä»£æ›¿çº¿æ€§å‡½æ•°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">linearFunc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int RotateMotion :: getPoseï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">RotateMotion::getPose</span><span class="hljs-params">(<span class="hljs-keyword">long</span> time, Vector3D points[FOOTS_COUNT])</span> </span>{
  <span class="hljs-keyword">double</span> k = <span class="hljs-number">1.0</span>*time/m_MaxTime;
  <span class="hljs-keyword">if</span>(k &lt; <span class="hljs-number">0.25</span>) {  <span class="hljs-comment">//   </span><font></font>
<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_FRONT_FOOT_IDX], k,<font></font>
      points[LEFT_FRONT_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_BACK_FOOT_IDX], k,<font></font>
      points[LEFT_BACK_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_MIDLE_FOOT_IDX], k,<font></font>
      points[RIGTH_MIDLE_FOOT_IDX]);<font></font>
      <font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_MIDLE_FOOT_IDX], -k,<font></font>
      points[LEFT_MIDLE_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_FRONT_FOOT_IDX], -k,<font></font>
      points[RIGTH_FRONT_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_BACK_FOOT_IDX], -k,<font></font>
      points[RIGTH_BACK_FOOT_IDX]);<font></font>
<font></font>
    <span class="hljs-keyword">int</span> h = (<span class="hljs-keyword">int</span>)m_Heigth*<span class="hljs-built_in">cos</span>(M_PI*k*<span class="hljs-number">2</span>);<font></font>
    points[LEFT_MIDLE_FOOT_IDX].z += h;<font></font>
    points[RIGTH_FRONT_FOOT_IDX].z += h;<font></font>
    points[RIGTH_BACK_FOOT_IDX].z += h;<font></font>
<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(k &lt; <span class="hljs-number">0.5</span>) {  <span class="hljs-comment">//   </span><font></font>
    <font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_FRONT_FOOT_IDX], <span class="hljs-number">0.5</span> - k,<font></font>
      points[LEFT_FRONT_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_BACK_FOOT_IDX], <span class="hljs-number">0.5</span> - k,<font></font>
      points[LEFT_BACK_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_MIDLE_FOOT_IDX], <span class="hljs-number">0.5</span> - k,<font></font>
      points[RIGTH_MIDLE_FOOT_IDX]);<font></font>
      <font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_MIDLE_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[LEFT_MIDLE_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_FRONT_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_FRONT_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_BACK_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_BACK_FOOT_IDX]);<font></font>
  <font></font>
    <span class="hljs-keyword">int</span> h = (<span class="hljs-keyword">int</span>)m_Heigth*<span class="hljs-built_in">sin</span>(M_PI*(k - <span class="hljs-number">0.25</span>)*<span class="hljs-number">2</span>);<font></font>
    points[LEFT_FRONT_FOOT_IDX].z += h;<font></font>
    points[LEFT_BACK_FOOT_IDX].z += h;<font></font>
    points[RIGTH_MIDLE_FOOT_IDX].z += h;<font></font>
<font></font>
  } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(k &lt; <span class="hljs-number">0.75</span>) {  <span class="hljs-comment">//   </span><font></font>
  <font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_FRONT_FOOT_IDX], <span class="hljs-number">0.5</span> - k,<font></font>
      points[LEFT_FRONT_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_BACK_FOOT_IDX], <span class="hljs-number">0.5</span> - k,<font></font>
      points[LEFT_BACK_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_MIDLE_FOOT_IDX], <span class="hljs-number">0.5</span> - k,<font></font>
      points[RIGTH_MIDLE_FOOT_IDX]);<font></font>
      <font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_MIDLE_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[LEFT_MIDLE_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_FRONT_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_FRONT_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_BACK_FOOT_IDX], k - <span class="hljs-number">0.5</span>,<font></font>
      points[RIGTH_BACK_FOOT_IDX]);<font></font>
  <font></font>
    <span class="hljs-keyword">int</span> h = (<span class="hljs-keyword">int</span>)m_Heigth*<span class="hljs-built_in">cos</span>(M_PI*(k - <span class="hljs-number">0.5</span>)*<span class="hljs-number">2</span>);<font></font>
    points[LEFT_FRONT_FOOT_IDX].z += h;<font></font>
    points[LEFT_BACK_FOOT_IDX].z += h;<font></font>
    points[RIGTH_MIDLE_FOOT_IDX].z += h;<font></font>
  } <span class="hljs-keyword">else</span> { <span class="hljs-comment">//   </span>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_FRONT_FOOT_IDX], k - <span class="hljs-number">1</span>,<font></font>
      points[LEFT_FRONT_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_BACK_FOOT_IDX], k - <span class="hljs-number">1</span>,<font></font>
      points[LEFT_BACK_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_MIDLE_FOOT_IDX], k - <span class="hljs-number">1</span>,<font></font>
      points[RIGTH_MIDLE_FOOT_IDX]);<font></font>
      <font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[LEFT_MIDLE_FOOT_IDX], <span class="hljs-number">1</span> - k,<font></font>
      points[LEFT_MIDLE_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_FRONT_FOOT_IDX], <span class="hljs-number">1</span> - k,<font></font>
      points[RIGTH_FRONT_FOOT_IDX]);<font></font>
    rotFunc(<span class="hljs-number">2.0</span>, m_Angles, m_Pose0[RIGTH_BACK_FOOT_IDX], <span class="hljs-number">1</span> - k,<font></font>
      points[RIGTH_BACK_FOOT_IDX]);<font></font>
<font></font>
    <span class="hljs-keyword">int</span> h = (<span class="hljs-keyword">int</span>)m_Heigth*<span class="hljs-built_in">sin</span>(M_PI*(k - <span class="hljs-number">0.75</span>)*<span class="hljs-number">2</span>);<font></font>
    points[LEFT_MIDLE_FOOT_IDX].z += h;<font></font>
    points[RIGTH_FRONT_FOOT_IDX].z += h;<font></font>
    points[RIGTH_BACK_FOOT_IDX].z += h;<font></font>
  }<font></font>
  <span class="hljs-keyword">return</span> S_OK;<font></font>
}<font></font>
</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¾„å‘åŠŸèƒ½å¯è®©æ‚¨è®¡ç®—ç‚¹å›´ç»•æœºå™¨äººä¸­å¿ƒæ—‹è½¬ååœ¨ç©ºé—´ä¸­çš„ä½ç½®ï¼Œè¯¥ä½ç½®ä¸åŸç‚¹é‡åˆã€‚</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ— æ•ˆrotFuncï¼ˆ...ï¼‰</font></font></b><div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">rotFunc</span><span class="hljs-params">(<span class="hljs-keyword">float</span> a, Vector3D angles, Vector3D p0, <span class="hljs-keyword">float</span> k, Vector3D&amp; res)</span> </span>{<font></font>
  Matrix3D m = rotMatrix2(a*angles*k);<font></font>
  res = m*p0;<font></font>
}<font></font>
</code></pre> <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‡½æ•°å†…éƒ¨åŒ…å«ä¸€ä¸ªæ•°å­¦è£…ç½®ï¼Œä½¿æˆ‘ä»¬å¯ä»¥å¤„ç†å‘é‡å’ŒçŸ©é˜µé‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨å°±è¿™æ ·ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å·²ç»åˆ†æäº†ç¨‹åºä»£ç çš„é‡è¦éƒ¨åˆ†ï¼Œè´Ÿè´£æ‰§è¡Œæœºå™¨äººçš„è¿åŠ¨ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨æœ‰ä»»ä½•é—®é¢˜æˆ–æ„è§ï¼Œæˆ‘å°†å¾ˆä¹æ„åœ¨è¯„è®ºä¸­å›ç­”ã€‚</font><font style="vertical-align: inherit;">æˆ‘å°†å°è¯•å°†ä»¥ä¸‹æ–‡ç« ä¸“ç”¨äºå…¶ä½™ä»£ç ï¼Œè¿™äº›æºä»£ç å¯ä¸‹è½½ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ„Ÿè°¢æ‚¨çš„å…³æ³¨ï¼</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœªå®Œå¾…ç»­â€¦</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN489660/index.html">ä¸ºä»€ä¹ˆNoSQLæ•°æ®åº“ä¸æ˜¯ç°ä»£åº”ç”¨ç¨‹åºçš„ç³Ÿç³•è§£å†³æ–¹æ¡ˆ</a></li>
<li><a href="../zh-CN489662/index.html">PHPæ–‡æ‘˜174å·ï¼ˆ2020å¹´2æœˆ10æ—¥è‡³24æ—¥ï¼‰</a></li>
<li><a href="../zh-CN489664/index.html">NPSï¼Œè¾“é€æœºï¼Œè‡ªåŠ¨è®¡ç®—ä»¥åŠåç¨‹</a></li>
<li><a href="../zh-CN489666/index.html">C ++ä¸­çš„é‡è½½ã€‚ç¬¬äºŒéƒ¨åˆ† æ“ä½œå‘˜è¶…è½½</a></li>
<li><a href="../zh-CN489668/index.html">Kubernetesä¸­çš„CPUé™åˆ¶å’Œæ¿€è¿›èŠ‚æµ</a></li>
<li><a href="../zh-CN489674/index.html">Angularï¼šNGRXçš„æ¸…æ™°ä»‹ç»</a></li>
<li><a href="../zh-CN489676/index.html">æˆ‘ä»¬ä½¿ç”¨Nuxt.jsï¼ŒGraphQLï¼ŒStrapiå’ŒStripeå…‹éš†äº†é£Ÿå“é…é€æœåŠ¡ã€‚ç¬¬1/7éƒ¨åˆ†</a></li>
<li><a href="../zh-CN489678/index.html">åšä¸å¯æ‘§çš„å†…å­˜ï¼Œåšä¸å¯æ‘§çš„è¿›ç¨‹</a></li>
<li><a href="../zh-CN489682/index.html">Chromeæ‰©å±•ç¨‹åºä¸­çš„è·¨åŸŸè¯»å–é˜»æ­¢ï¼ˆCORBï¼‰</a></li>
<li><a href="../zh-CN489684/index.html">è¿™æ˜¯å¸¸æ€-4ï¼šä½¿ç”¨æ³•çº¿è´´å›¾è§£å†³é—®é¢˜</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>