<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üíÉüèæ ü§õüèª üñï Servidor proxy gratuito para empresas com autentica√ß√£o de dom√≠nio üêØ üëÜüèæ ‚ôÇÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="pfSense + Squid com filtragem https + tecnologia Logon √∫nico (SSO) com filtragem de grupo do Active Directory
 
 Breve hist√≥rico
 Na empresa, havia a ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Servidor proxy gratuito para empresas com autentica√ß√£o de dom√≠nio</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492684/"><img src="https://habrastorage.org/webt/di/mw/gp/dimwgp8eg4qj0yhrddh70ogizb8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
pfSense + Squid com filtragem https + tecnologia Logon √∫nico (SSO) com filtragem de grupo do Active Directory</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Breve hist√≥rico</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na empresa, havia a necessidade de implementar um servidor proxy com a capacidade de filtrar o acesso a sites (incluindo https) por grupos do AD, para que os usu√°rios n√£o inserissem senhas adicionais e que pudessem ser administrados a partir da interface da web. </font><font style="vertical-align: inherit;">N√£o √© uma aplica√ß√£o ruim, √©? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A resposta correta seria comprar solu√ß√µes como Kerio Control ou UserGate, mas como sempre, n√£o h√° dinheiro, mas h√° uma necessidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, o bom e velho Squid vem em nosso socorro, mas, novamente - onde obter a interface da web? </font><font style="vertical-align: inherit;">SAMS2? </font><font style="vertical-align: inherit;">Moralmente obsoleta. </font><font style="vertical-align: inherit;">Aqui o pfSense vem em socorro.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Descri√ß√£o</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este artigo descreve como configurar o servidor proxy Squid. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Kerberos ser√° usado para autorizar usu√°rios. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O SquidGuard ser√° usado para filtrar por grupos de dom√≠nio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para o monitoramento, ser√£o utilizados os sistemas de monitoramento interno Lightsquid, sqstat e pfSense. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele tamb√©m resolver√° um problema comum associado √† introdu√ß√£o da tecnologia de logon √∫nico (SSO), ou seja, aplicativos que tentam ficar online na conta do computador \ na conta do sistema.</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preparando para instalar o Squid</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As bases ser√£o tomadas no pfSense, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instru√ß√µes de Instala√ß√£o.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dentro do qual organizamos a autentica√ß√£o para o pr√≥prio firewall usando contas de dom√≠nio. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instru√ß√£o</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Muito importante! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de iniciar a instala√ß√£o do Squid, voc√™ precisa configurar o servidor DNS no pfsense, criar um registro A e PTR em nosso servidor DNS e configurar o NTP para que o hor√°rio n√£o seja diferente do hor√°rio no controlador de dom√≠nio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E na sua rede, voc√™ pode fornecer √† interface pfSense WAN acesso √† Internet, e os usu√°rios na rede local podem se conectar √† interface LAN, inclusive atrav√©s das portas 7445 e 3128 (no meu caso, 8080). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo est√° pronto? A conex√£o LDAP com o dom√≠nio para autoriza√ß√£o no pfSense est√° instalada e a hora est√° sincronizada? Bem. √â hora de iniciar o processo principal.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instala√ß√£o e Predefini√ß√£o</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instale o Squid, SquidGuard e LightSquid no gerenciador de pacotes pfSense na se√ß√£o "System / Package Manager". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s uma instala√ß√£o bem-sucedida, v√° para "Servi√ßos / servidor Proxy Squid /" e, primeiro, na guia Cache local, configure o cache, defino tudo como 0, porque </font><font style="vertical-align: inherit;">N√£o vejo muito sentido em sites de cache, e os navegadores se saem bem com isso. </font><font style="vertical-align: inherit;">Ap√≥s as configura√ß√µes, clique no bot√£o "Salvar" na parte inferior da tela e isso nos dar√° a oportunidade de fazer configura√ß√µes b√°sicas de proxy. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As principais configura√ß√µes s√£o as seguintes: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b89/765/898/b8976589832ffe6b3409f2968944a555.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A porta padr√£o √© 3128, mas eu prefiro usar 8080.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os par√¢metros selecionados na guia Interface do proxy determinam quais interfaces o servidor proxy escutar√°. Como esse firewall √© projetado de forma a parecer com a Internet com uma interface WAN, mesmo que a LAN e a WAN possam estar na mesma sub-rede local, recomendo usar a LAN para o proxy. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Lupbek √© necess√°rio para o sqstat funcionar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abaixo, voc√™ encontrar√° as configura√ß√µes do proxy Transparente (transparente) e do Filtro SSL, mas n√£o precisamos delas, nosso proxy n√£o ser√° transparente e, para a filtragem de https, n√£o trataremos da substitui√ß√£o de certificados (temos fluxo de documentos, clientes banc√°rios etc.), mas basta olhar para o aperto de m√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nesse est√°gio, precisamos ir ao nosso controlador de dom√≠nio, criar uma conta para autentica√ß√£o (voc√™ pode usar o que est√° configurado para autentica√ß√£o no pr√≥prio pfSense). Esse √© um fator muito importante - se voc√™ pretende usar a criptografia AES128 ou AES256 - marque a caixa apropriada nas configura√ß√µes da conta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o seu dom√≠nio for uma floresta muito complexa com um grande n√∫mero de diret√≥rios ou o dom√≠nio .local, √© POSS√çVEL, mas n√£o exatamente, voc√™ precisar√° usar uma senha simples para esta conta, um bug conhecido, mas talvez n√£o funcione com uma senha complexa, √© necess√°rio verifique um caso espec√≠fico. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/464/460/1bd/4644601bd11e0c408f396e888ad98a59.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, criamos o arquivo de chave do Kerberos, no controlador de dom√≠nio, abrimos uma linha de comando com direitos de administrador e inserimos:</font></font><br>
<br>
<pre><code class="plaintext hljs"># ktpass -princ HTTP/pfsense.domain.local@DOMAIN.LOCAL -mapuser pfsense -pass 3EYldza1sR -crypto {DES-CBC-CRC|DES-CBC-MD5|RC4-HMAC-NT|AES256-SHA1|AES128-SHA1|All} -ptype KRB5_NT_PRINCIPAL -out C:\keytabs\PROXY.keytab</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Onde especificamos nosso FQDN pfSense, siga o caso, digite nossa conta de dom√≠nio e sua senha no par√¢metro mapuser e selecione o m√©todo de criptografia em criptografia, usei o rc4 para trabalhar e, no campo -out, selecionamos para onde enviaremos nosso arquivo-chave pronto. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s criar com √™xito o arquivo-chave, n√≥s o enviaremos ao nosso pfSense, usei Far para isso, mas voc√™ tamb√©m pode fazer isso com os comandos e a massa de vidraceiro, ou atrav√©s da interface da web do pfSense na se√ß√£o Diagnostics \ Command Line. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora podemos editar \ create /etc/krb5.conf em </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/187/5aa/131/1875aa131a28b9d023f1f60d8d9d7bcf.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
que /etc/krb5.keytab √© o arquivo de chave que criamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certifique-se de verificar a opera√ß√£o do kerberos com o kinit; se n√£o funcionar, n√£o h√° sentido em ler.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configurar autentica√ß√£o Squid e lista de acesso sem autentica√ß√£o</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tendo configurado com sucesso o kerberos, vamos prend√™-lo ao nosso Squid. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, v√° para Services \ Squid Proxy Server e nas configura√ß√µes principais des√ßa at√© o final, onde encontraremos o bot√£o "Configura√ß√µes avan√ßadas". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No campo Op√ß√µes personalizadas (antes da autentica√ß√£o), insira:</font></font><br>
<br>
<pre><code class="perl hljs"><span class="hljs-comment">#</span>
auth_param negotiate program /usr/<span class="hljs-keyword">local</span>/libexec/squid/negotiate_kerberos_auth -<span class="hljs-keyword">s</span> GSS_C_NO_NAME -k /usr/<span class="hljs-keyword">local</span>/etc/squid/squid.keytab -t none<font></font>
auth_param negotiate children <span class="hljs-number">1000</span><font></font>
auth_param negotiate keep_alive on<font></font>
<span class="hljs-comment"># </span><font></font>
acl auth proxy_auth REQUIRED<font></font>
acl nonauth dstdomain <span class="hljs-string">"/etc/squid/nonauth.txt"</span> 
<span class="hljs-comment"># </span><font></font>
http_access allow nonauth <font></font>
http_access deny !auth<font></font>
http_access allow auth</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
onde </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auth_param negocia programa / usr / local / libexec / squid / negociate_kerberos_auth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - seleciona o auxiliar de autentica√ß√£o Kerberos que precisamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">op√ß√£o -s</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com o valor </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GSS_C_NO_NAME</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - define o uso de qualquer conta do arquivo de chaves. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A op√ß√£o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-k</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com o valor </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/usr/local/etc/squid/squid.keytab</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - define o uso desse arquivo keytab. No meu caso, esse √© o mesmo arquivo keytab que criamos, que copiei no diret√≥rio / usr / local / etc / squid / e o renomeei porque n√£o queria ser amigo desse diret√≥rio, aparentemente n√£o havia direitos suficientes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A op√ß√£o </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> com o valor </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-t none</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Desativa solicita√ß√µes c√≠clicas ao controlador de dom√≠nio, o que reduz bastante a carga, se voc√™ tiver mais de 50 usu√°rios. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durante o teste, voc√™ tamb√©m pode adicionar a op√ß√£o -d, ou seja, diagn√≥sticos, mais logs ser√£o exibidos. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auth_param negociate children 1000</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - especifica quantos processos de autoriza√ß√£o simult√¢neos podem ser executados </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">auth_param a negocia√ß√£o keep_alive ativada</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - n√£o interrompe a conex√£o durante a pesquisa da cadeia de autoriza√ß√£o - </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acl o auth proxy_auth REQUIRED √©</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cria e requer uma lista de controle de acesso que inclui usu√°rios autenticados </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acl nonauth dstdomain " /etc/squid/nonauth.txt "</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Informamos o squid sobre a lista de acesso nonauth que cont√©m os dom√≠nios de destino, aos quais todos sempre ter√£o acesso permitido. </font><font style="vertical-align: inherit;">Criamos o pr√≥prio arquivo e, dentro dele, inserimos os dom√≠nios no formato</font></font><br>
<br>
<pre><code class="perl hljs">.whatsapp.com<font></font>
.whatsapp.net</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Whatsapp n√£o √© em v√£o usado como exemplo - √© muito exigente quanto aos proxies de autentica√ß√£o e n√£o funcionar√° se n√£o for permitido antes da autentica√ß√£o. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http_access allow nonauth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - permita acesso a esta lista a todos os </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http_access negar! auth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - desativar o acesso de usu√°rios n√£o autorizados a outros sites </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http_access permitir auth</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - permitir o acesso de usu√°rios autorizados. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tudo, o pr√≥prio squid est√° configurado para voc√™, agora √© hora de come√ßar a filtrar por grupos.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configurar SquidGuard</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V√° para Services \ SquidGuard Proxy Filter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nas Op√ß√µes LDAP, inserimos os detalhes de nossa conta usada para autentica√ß√£o Kerberos, mas no seguinte formato:</font></font><br>
<br>
<pre><code class="perl hljs">CN=pfsense,OU=service-accounts,DC=domain,DC=<span class="hljs-keyword">local</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se houver espa√ßos e / ou caracteres n√£o latinos, toda essa entrada dever√° ser colocada entre aspas simples ou duplas:</font></font><br>
<br>
<pre><code class="perl hljs"><span class="hljs-string">'CN=sg,OU=service-accounts,DC=domain,DC=local'</span>
<span class="hljs-string">"CN=sg,OU=service-accounts,DC=domain,DC=local"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, certifique-se de colocar as seguintes marcas de sele√ß√£o: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/3f8/f81/b8a/3f8f81b8a41103327f6a9421ed50dda0.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para cortar </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOMAIN \</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pfsense </font><font style="vertical-align: inherit;">desnecess√°rio</font></font><s> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DOM√çNIO</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.LOCAL</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ao qual todo o sistema √© muito sens√≠vel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ao Grupo Acl e vinculamos nossos grupos de acesso ao dom√≠nio, uso nomes simples no esp√≠rito de grupo_0, grupo_1, etc. at√© 3, onde 3 √© acesso apenas √† lista branca e 0 √© tudo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os grupos s√£o anexados da seguinte forma:</font></font><br>
<br>
<pre><code class="perl hljs">ldapusersearch ldap:<span class="hljs-regexp">//dc</span>.domain.local:<span class="hljs-number">3268</span>/DC=DOMAIN,DC=LOCAL?sAMAccountName?<span class="hljs-function"><span class="hljs-keyword">sub</span>?(&amp;(<span class="hljs-title">sAMAccountName</span>=%<span class="hljs-title">s</span>)(<span class="hljs-title">memberOf</span>=<span class="hljs-title">CN</span>=<span class="hljs-title">group_0</span>%2<span class="hljs-title">cOU</span>=<span class="hljs-title">squid</span>%2<span class="hljs-title">cOU</span>=<span class="hljs-title">service</span>-<span class="hljs-title">groups</span>%2<span class="hljs-title">cDC</span>=<span class="hljs-title">DOMAIN</span>%2<span class="hljs-title">cDC</span>=<span class="hljs-title">LOCAL</span>))</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
salvamos nosso grupo, vamos para Times, l√° eu criei um intervalo que significa trabalhar sempre, agora vamos para categorias de destino e crio listas como voc√™ gosta, depois de criar as listas voltamos aos nossos grupos e dentro do grupo selecionamos com bot√µes que podem onde e onde n√£o. .</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LightSquid e sqstat</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se durante o processo de instala√ß√£o, selecionamos um loopback nas configura√ß√µes do squid e abrimos a capacidade de acessar o 7445 no firewall, tanto na nossa rede quanto no pr√≥prio pfSense, quando acessamos o Diagnostics \ Squid Proxy Reports, podemos abrir o sqstat e o Lighsquid sem problemas, para o √∫ltimo Voc√™ precisar√° criar um nome de usu√°rio e senha no mesmo local, e tamb√©m h√° a oportunidade de escolher o design.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O pfSense √© uma ferramenta muito poderosa que pode fazer muitas coisas - o proxy de tr√°fego e o controle de acesso de usu√°rios √† Internet s√£o apenas uma fra√ß√£o de toda a funcionalidade; no entanto, em uma empresa com 500 m√°quinas, isso resolveu o problema e economizou na compra de um proxy. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero que este artigo ajude algu√©m a resolver um problema que √© bastante relevante para empresas de m√©dio e grande porte.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt492670/index.html">Crie suas fun√ß√µes no SIL</a></li>
<li><a href="../pt492672/index.html">Como mudar efetivamente para o trabalho remoto?</a></li>
<li><a href="../pt492676/index.html">Mem√≥ria em n√∫cleos magn√©ticos no foguete Saturn 5</a></li>
<li><a href="../pt492678/index.html">Desenvolvimento do primeiro projeto na plataforma do Microsoft Dynamics 365 For Finance and Operations</a></li>
<li><a href="../pt492682/index.html">Testosterona, por que √© para homens e como manter a for√ßa na terceira idade</a></li>
<li><a href="../pt492686/index.html">Quando o Linux conntrack n√£o √© mais seu amigo</a></li>
<li><a href="../pt492694/index.html">Receitas para consultas SQL em dificuldades</a></li>
<li><a href="../pt492696/index.html">Sobre o que testar algoritmos para o reconhecimento e processamento de documentos de identidade?</a></li>
<li><a href="../pt492700/index.html">Compras declarativas na Internet com API de solicita√ß√£o de pagamento e Angular</a></li>
<li><a href="../pt492702/index.html">Tradu√ß√£o autom√°tica. Da guerra fria ao presente</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>