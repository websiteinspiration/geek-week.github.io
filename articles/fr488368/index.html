<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üßùüèº üçÇ ‚öΩÔ∏è Ce que j'ai appris en travaillant sur mon premier projet √† grande √©chelle üì£ ü§¶üèæ üïù</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Il y a huit mois, j'ai commenc√© √† √©crire une application sur Electron. Pour ma√Ætriser cette t√¢che, j'ai d√ª d√©velopper trois sous-applications distinct...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Ce que j'ai appris en travaillant sur mon premier projet √† grande √©chelle</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digital-ecosystems/blog/488368/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a huit mois, j'ai commenc√© √† √©crire une application sur Electron. </font><font style="vertical-align: inherit;">Pour ma√Ætriser cette t√¢che, j'ai d√ª d√©velopper trois sous-applications distinctes qui s'ex√©cutent dans des environnements diff√©rents. </font><font style="vertical-align: inherit;">Ci-dessous, je parlerai de ce que je me suis fait en cours de route. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/di/ca/sr/dicasrqm0tda-zf4a9yey8bekbs.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reliure dans sa forme originale</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le contexte</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant d'entrer dans les d√©tails, je commencerai par fournir quelques informations g√©n√©rales n√©cessaires pour comprendre la situation. Au d√©but de 2019, j'ai commenc√© √† rechercher un stage, comme l'exige le programme coop√©ratif pour mon dipl√¥me. En avril, j'ai envoy√© des dizaines de curriculum vitae, dont chacun √©tait adapt√© √† un employeur sp√©cifique, et au total, je n'ai re√ßu exactement aucune r√©ponse. Vous pouvez imaginer comment j'ai r√©agi √† cela - mes mains sont tomb√©es, il semblait que je n'√©tais pas apte √† quoi que ce soit et que je ne m√©ritais aucun travail. Mais au lieu de laisser ces sentiments pr√©valoir, j'ai d√©cid√© de me prouver que je sais encore quelque chose et que je peux postuler pour certains postes. Au final, j'ai d√©couvert qu'en fait j'en sais moins que ce √† quoi je m'attendais.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai commenc√© √† r√©viser mes projets √† la recherche de celui qui pourrait √™tre transform√© en quelque chose de vaste et complexe, ce qui pourrait me stimuler. </font><font style="vertical-align: inherit;">Enfin, j'ai opt√© pour Binder - √† l'√©poque une simple application web qui vous permettait de g√©rer des fichiers depuis Onedrive, Google Drive et Dropbox en m√™me temps. </font><font style="vertical-align: inherit;">L'objectif √©tait de d√©velopper un service de sauvegarde comparable en fonctionnalit√©s √† cette trinit√©, sans la possibilit√© de transf√©rer des fichiers vers d'autres utilisateurs.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le d√©but du chemin</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je n'aurais probablement pas du tout termin√© le projet si je ne m'√©tais pas fix√© des objectifs d√©lirants d√®s le d√©but. La premi√®re √©tape que j'ai d√©termin√©e pour moi-m√™me a √©t√© la cr√©ation d'une version alpha fonctionnelle pour mon anniversaire, que je c√©l√®bre √† la mi-juillet. J'ai commenc√© √† travailler imm√©diatement. Au d√©but du mois de mai, j'ai cr√©√© un clone Binder et j'ai commenc√© √† le d√©monter en parties, jetant de nombreuses fonctions dont je n'avais plus besoin. En g√©n√©ral, j'ai pris une application compl√®tement d√©cente et l'ai transform√©e en un simple morceau de code quelque part au niveau du tutoriel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai d√©cid√© de r√©diger quatre candidatures distinctes. </font><font style="vertical-align: inherit;">Le premier est un client qui fonctionnera nativement sur l'ordinateur de l'utilisateur. </font><font style="vertical-align: inherit;">La seconde est une API avec un backend, elle facilitera l'envoi de requ√™tes s√©curis√©es. </font><font style="vertical-align: inherit;">Troisi√®mement, le service cloud, qui est responsable de l'int√©grit√© de toutes les donn√©es qui y sont stock√©es. </font><font style="vertical-align: inherit;">Et enfin, une page Web ¬´marketing¬ª, car un produit ne peut se passer d'un site Web chatoyant.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et maintenant le plaisir commence</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, eh bien, j'avoue: tout ce que j'ai dit jusqu'√† pr√©sent n'a rien √† voir avec Electron, encore moins le d√©veloppement d'applications √† grande √©chelle. Mais j'avais besoin de clarifier le contexte pour que vous compreniez d'o√π j'ai tir√© mes connaissances. Voici cinq le√ßons cl√©s que j'ai apprises par moi-m√™me: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n ¬∞ 1 Assurez-vous d'utiliser des structures traditionnelles pour le frontend et le backend, car la communication interprocessus est une chose stupide</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus souvent que je ne le souhaiterais, j'ai paniqu√© √† cause de la fa√ßon dont la communication interprocessus primitive est mise en ≈ìuvre dans Electron (et maintenant √† nouveau dans le psycho). Oui, la communication interprocessus n'est g√©n√©ralement pas con√ßue pour effectuer l'abstraction de donn√©es dans l'esprit de Javascript, avec la repr√©sentation de fonctions en tant qu'objets et toutes sortes d'autres choses. Mais comme ce serait plus facile! Et donc, au lieu de cr√©er une application client minimaliste, alors que le tableau principal de code serait situ√© dans le processus principal, j'ai √©t√© oblig√© de s√©parer clairement ce qui va interagir avec l'utilisateur et ce qui ne le sera pas. Le crit√®re par lequel j'ai d√©termin√© ce qui irait au processus principal, et quoi au processus de rendu, a √©t√© formul√© comme une question simple: ce code sert-il quelque chose? La taille du fragment n'avait pas d'importance. S'il a servi d'autres morceaux de code,est ensuite pass√© au processus principal. La seule exception a √©t√© le point de terminaison du syst√®me de paiement Stripe - pour des raisons de s√©curit√©, je voulais qu'il soit situ√© le plus pr√®s possible de l'utilisateur.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ññ2 Assurer l'int√©grit√© des donn√©es est tr√®s, tr√®s difficile.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jusqu'√† ce que je commence √† travailler sur Binder, je ne comprenais pas combien il √©tait difficile de garantir que toutes les donn√©es provenant d'un nombre arbitraire et impressionnant d'utilisateurs restent toujours correctes et accessibles. Et juste pour leur fournir un stockage s√ªr n'est pas une t√¢che facile, mais maintenant vous voulez toujours que je valide tout et m'assure qu'il n'y a pas de contradiction avec d'autres donn√©es, sans aucune id√©e de ce que sont les donn√©es?!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr, j'exag√®re un peu ici, mais l'essence du probl√®me n'est pas d√©form√©e. La validation devrait avoir lieu le plus t√¥t possible aux premiers stades, puis √™tre r√©p√©t√©e (√† une √©chelle plus modeste) √† mesure que le flux de donn√©es progresse. Le maintien de la coh√©rence devient plus facile si vous utilisez un mod√®le transactionnel √† chaque fois que vous modifiez les donn√©es. Pour vous dire la v√©rit√©, avec les donn√©es elles-m√™mes, il y a aussi une masse de m√©tadonn√©es, ce qui n'est pas beaucoup plus facile √† g√©rer. Cela a toujours sembl√© une bonne id√©e d'√©crire une fonction qui lit les donn√©es utilisateur et effectue ensuite des v√©rifications d'int√©grit√©. Mais apr√®s de longues d√©lib√©rations, je suis arriv√© √† la conclusion que les entr√©es secr√®tes ne sont pas diff√©rentes des portes d'entr√©e - toute la diff√©rence est de savoir qui les utilise. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Interfaces n ¬∞ 3 - comme des chaussures cousues sur commande</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mm/_b/un/mm_bunucarysnvfs4eyosnluqny.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une excellente fa√ßon de cr√©er une belle interface qui fonctionne bien est de la regarder comme une paire de chaussures de couture individuelles (ou un costume adapt√© √† la forme, peu importe). La premi√®re question que je me suis pos√©e quand j'ai commenc√© la conception de Binder: qui va regarder l'interface de l'application? Remarque: je n'ai pas parl√© de qui utilisera l'interface. Cela devrait √™tre la deuxi√®me question, car tout est li√© pr√©cis√©ment √† l'apparence. Dans le pass√©, j'ai men√© de nombreux projets et je peux vous le dire en toute confiance: les gens voulaient cracher sur votre application si elle ne se pr√©sente pas comme il se doit.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hq/d1/vb/hqd1vbxnmqfiklziqh2_huaxe1m.jpeg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai commenc√© par faire de petits brouillons dans un cahier (avec un stylo √† bille, car j'ai l'habitude de constamment douter de mes id√©es). Dans les premi√®res √©bauches, l'accent √©tait mis sur la structure g√©n√©rale de l'interface, et c'est seulement √† ce moment-l√†, plus loin, que j'ai d√©taill√© en d√©tail √† quoi devaient ressembler chacune des ¬´pages¬ª. √Ä mon avis, l'information pr√©sent√©e n'est pas aussi importante que sa lisibilit√©. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N ¬∞ 4 Il n'y a pas beaucoup de tol√©rance aux pannes</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne sais pas pour vous, mais moi de la pens√©e que l'API va planter apr√®s avoir accept√© le paiement, une sueur froide s'infiltre. Commen√ßant √† travailler sur le syst√®me de paiement, je me suis dit: "Maintenant, vous ne pouvez pas vous permettre de manquer une seule erreur." J'ai veill√© √† mettre en place des m√©canismes de s√©curit√© tout au long du processus: √† partir du moment o√π l'API re√ßoit une demande d'achat d'un package de services, et jusqu'√† ce que Stripe transmette les informations de paiement au syst√®me de notification d'√©v√©nements et que le package soit activ√©. Ce type de parano√Øa ralentit bien s√ªr le processus de d√©veloppement, mais je ne regrette rien. Mais j'ai toujours des informations compl√®tes sur le moment o√π le paiement est arriv√©, quel est son but et quel est le statut des actions qui devraient le suivre. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N ¬∞ 5 Pas parfait? Pas effrayant</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis un perfectionniste, et mes tentatives pour cr√©er quelque chose d'√©tourdissant deviennent souvent incontr√¥lables et tournent √† bout de souffle sans fin √† chaque ligne de code et doute qu'elles aient le droit d'exister. Je dois endurer des batailles avec moi-m√™me encore et encore sur ce qui est encore plus important - l'efficacit√© ou la lisibilit√©. Au cours des premiers mois, je n'avais pas encore re√ßu ma vue et je ne comprenais pas qu'une grande partie de ce sur quoi j'avais gaspill√© mon √©nergie n'avait aucun avantage pratique - le but est de fabriquer un produit qui peut √™tre utilis√© avec un esprit calme et sans blesser pour un prix prestigieux. C'est dr√¥le que ma cinqui√®me le√ßon soit en partie contre la quatri√®me, mais c'est quand m√™me bien. La quatri√®me le√ßon me rappelle la prudence et l'attention aux attentes des utilisateurs, et la cinqui√®me d√©finit des limites pour que je ne sois pas coinc√©,am√©liorer une fonction √† l'infini.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avant de dire au revoir</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez lu mon article jusqu'au bout et vous avez peut-√™tre remarqu√© (enfin ou non) que Binder n'est pas encore pleinement op√©rationnel. </font><font style="vertical-align: inherit;">Au moment d'√©crire ces lignes, je sortais juste la premi√®re version publique (beta 4). </font><font style="vertical-align: inherit;">Je ne suis pas particuli√®rement enclin √† faire de Binder un produit √† part enti√®re, mais je l'ai n√©anmoins d√©velopp√© pour qu'il fonctionne comme une application normale - tout d'un coup, des ambitions me succ√©deront. </font><font style="vertical-align: inherit;">Une page Web iris√©e peut √™tre admir√©e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout ce que je pensais s√ªr pour un acc√®s libre a √©t√© publi√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur la page du projet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur GitHub. </font><font style="vertical-align: inherit;">L√†, je publierai des mises √† jour (et l√†, vous pouvez t√©l√©charger le client pour qu'il se mette √† jour). </font><font style="vertical-align: inherit;">Ah, eh bien, voici les statistiques que j'ai compil√©es sur quatre sous-applications pour flatter ma vanit√©:</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">binder-local (client sur Electron)</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ac/tk/gq/actkgqevnop0_7oniwkjclrf4xi.png"></div><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">binder-web (page web de joliesse)</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/58/l4/ae/58l4aeuituje6culksub5foxkaa.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les deux autres, je n'ai pas commenc√© √† compter automatiquement les lignes de code pour des raisons de s√©curit√©. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">liant api</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: 21 fichiers, 4117 lignes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autres fichiers: ~ 150 lignes</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">binder-mongo (service de v√©rification d'int√©grit√©)</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: 16 fichiers, 2374 lignes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autres fichiers: ~ 140 lignes</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nombre total de lignes de code: 30 015</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr488352/index.html">Comparaison des co√ªts VDI: sur site et cloud public</a></li>
<li><a href="../fr488356/index.html">Formation √† l'Universit√© technique maritime de Saint-P√©tersbourg pour les produits Dassault Syst√®mes</a></li>
<li><a href="../fr488360/index.html">Mythes du Big Data et culture num√©rique</a></li>
<li><a href="../fr488362/index.html">Classification multi-tagu√©e</a></li>
<li><a href="../fr488366/index.html">Et encore une fois sur ¬´Informations de fuseau horaire incorrectes pour les fuseaux horaires russes¬ª [bogue .Net, ID: 693286]</a></li>
<li><a href="../fr488370/index.html">TDD pour microcontr√¥leurs. Partie 2: Comment les espions se d√©barrassent des d√©pendances</a></li>
<li><a href="../fr488374/index.html">T√©l√©gramme + 1C + Webhooks + Apache + Certificat auto-sign√©</a></li>
<li><a href="../fr488376/index.html">Quand le principe "au diable tout, prenez-le et faites-le!" ne fonctionne pas: notes du procrastinateur</a></li>
<li><a href="../fr488378/index.html">En bref sur la d√©nomination dans JS</a></li>
<li><a href="../fr488380/index.html">Le d√©but le plus simple de la STM gr√¢ce √† ¬´un seul endroit¬ª</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>