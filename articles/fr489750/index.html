<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèæ‚Äçüî¨ üî≤ üñáÔ∏è Gestion d'un cluster Docker Swarm √† l'aide de Swarmpit üêª üë®üèø‚Äçüíº üò†</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bonjour,% username%. Il est temps de d√©couvrir le blog apr√®s 6 ans d'inactivit√© et d'essayer √† nouveau d'apporter quelque chose d'utile √† la communaut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Gestion d'un cluster Docker Swarm √† l'aide de Swarmpit</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489750/"><img src="https://habrastorage.org/getpro/habr/post_images/1fa/e69/e6f/1fae69e6f5c70e49c561eeecc13a5e2d.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bonjour,% username%. </font><font style="vertical-align: inherit;">Il est temps de d√©couvrir le blog apr√®s 6 ans d'inactivit√© et d'essayer √† nouveau d'apporter quelque chose d'utile √† la communaut√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis extr√™mement surpris qu'il n'y ait toujours pas d'article sur Swarmpit sur le hub. </font><font style="vertical-align: inherit;">Bien s√ªr, je comprends que la plupart des gens qui √©tudient Docker s'arr√™tent probablement dessus et essaient ensuite de gravir le mont Everest appel√© Kubernetes. </font><font style="vertical-align: inherit;">Je ne connais pas les chiffres exacts, mais je pense que la plupart d'entre eux se perdent et se font tuer sur Docker ou l'utilisent simplement. </font><font style="vertical-align: inherit;">Mais en vain!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Docker Swarm est un syst√®me presque parfait pour presque tout le monde. Je doute fort qu'un tr√®s grand nombre de personnes aient besoin de Kubernetes. Je l'ai tu√© pendant presque une journ√©e et j'ai r√©alis√© que j'en tuerais 30 de plus, afin de pouvoir l'utiliser calmement plus tard, MAIS je suis un simple programmeur et tout ce cool DevOps n'est pas du tout de la programmation. Et puis j'ai entendu parler de Docker Swarm et en 1 jour, il √©tait absolument facile d'y p√©n√©trer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qui a besoin de Docker Swarm? Vous √™tes d√©j√† impr√©gn√© des grandes fonctionnalit√©s de l'√©cosyst√®me Docker. Vos candidatures sont constitu√©es de microservices. En m√™me temps, vous avez plusieurs serveurs et j'aimerais avoir une tol√©rance aux pannes et g√©rer en quelque sorte la charge.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et dans cet article, je ne d√©crirai pas comment le configurer et ce que c'est. </font><font style="vertical-align: inherit;">J'irai encore plus loin et montrerai un outil incroyablement simple pour travailler avec un cluster d√©j√† configur√©. </font><font style="vertical-align: inherit;">Oui, le cluster doit √™tre configur√©, il ne s'agit en fait que de quelques commandes ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus de d√©tails ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<pre><code class="plaintext hljs">docker swarm init<font></font>
docker swarm join<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En g√©n√©ral, je pourrais simplement laisser un lien vers le site Web de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swarmpit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et terminer, vous pouvez tous lire, mais il est install√© en g√©n√©ral par 1 √©quipe et vous n'avez m√™me pas besoin d'y penser, vous vous d√©tendez simplement et lancez vos conteneurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lien </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais encore, je vais d√©crire un peu et montrer des captures d'√©cran de ce merveilleux panneau d'administration.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. √âcran d'accueil</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes les informations sur le cluster sont collect√©es ici. </font><font style="vertical-align: inherit;">Vous pouvez √©galement √©pingler des services s√©lectionn√©s ici et surveiller leur √©tat:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9e8/3c7/334/9e83c73348c1a7713f7124e331ddd073.png" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Connexion de registres tiers</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par d√©faut, Swarmpit recherchera des images dans hub.docker.com</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/859/a56/a22/859a56a22257a13f5a8420b914cea611.png" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Ajout d'un nouveau service</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout est extr√™mement simple et clair ici. </font><font style="vertical-align: inherit;">On retrouve d'abord l'image dans des registres ouverts ou ferm√©s. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/554/8d7/0ad/5548d70ad4540fea19f0d60fe851d30d.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous s√©lectionnons la version, le nom et le mode lui-m√™me: global ou r√©pliqu√©. </font><font style="vertical-align: inherit;">Vous pouvez √©galement sp√©cifier une commande √† ex√©cuter: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/34c/ff1/6cf/34cff16cfbea72a93e05df8738755144.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Configurez ensuite son r√©seau. </font><font style="vertical-align: inherit;">Peut ajouter du g√©n√©ral, configurer des ports et donner un alias de nom d'h√¥te pour le service. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e40/560/1f8/e405601f8a931c464cc012eabb96bba3.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous d√©finissons des variables d'environnement, connectons le stockage, ajoutons des configurations et des configurations secr√®tes. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/fdb/3dd/6ce/fdb3dd6ce794de2c4dbdf2701cf0a837.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous fixons des limites pour l'application: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/927/0f5/f3c/9270f5f3cc6ce05c002d4aff24fc341e.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nous pouvons √©mettre des balises pour le service, activer la mise √† jour automatique de l'image, √©mettre des n≈ìuds pour le d√©ploiement et g√©n√©ralement configurer la politique de red√©ploiement pour √©viter les temps d'arr√™t de l'application: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/04f/601/2c4/04f6012c4901ab0b1d97a54c7f44d5ea.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Param√®tres du </font><font style="vertical-align: inherit;">journal </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f04/b02/ec3/f04b02ec31f08dd54dd832457ca72129.png" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Bien s√ªr, vous pouvez ajouter des r√©seaux et les modifier</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/5dd/eab/cf6/5ddeabcf601de005584f2e67c4219a27.png" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Affichez les n≈ìuds connect√©s au cluster</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez avoir plusieurs n≈ìuds sur une machine (en savoir plus sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker-machine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), mais l'instance Swarmpit peut √™tre connect√©e √† un seul cluster et ne la surveillera que.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c24/527/5c0/c245275c0a8be1aff702c11bfd4d39dc.png" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Ajouter des r√©f√©rentiels contr√¥l√©s par des dockers</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/ad4/eb2/637/ad4eb26376e475c9078db98dbccfb7c8.png" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. Eh bien, en soi, ajoutez des configurations</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/491/9ce/d80/4919ced803c3fa2d1b05fc1201fc5291.png" alt="image"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. Vous pouvez √©galement ajouter des utilisateurs avec 2 types d'acc√®s</font></font></h4><br>
<img src="https://habrastorage.org/getpro/habr/post_images/03f/43f/0b4/03f43f0b45dcb8068b704ce098887a3c.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parce que cet essaim de docker √† lui seul peut cr√©er des piles et leur lancement n'est possible qu'avec l'aide du format de composition de docker: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/24a/291/816/24a291816b67f68bd4bbf7b8e672d7b3.png" alt="image"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avantages:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
+ Je ne suis pas un ma√Ætre de console de kung-fu, bien que j'y ai d√©ploy√© certains de mes services et tu√© beaucoup de temps pour cela. Swarmpit permet de gagner beaucoup de temps, surtout lorsque vous commencez √† jouer avec des configurations pour le m√™me nginx par exemple. Et bient√¥t ils promettent de faire du versioning des configs avec la d√©couverte automatique des services associ√©s. Ceux. chang√© la ligne, enregistr√© et la config a vol√© automatiquement √† tous les services o√π il √©tait pr√©c√©demment indiqu√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
+ De plus, je n'ai pas mentionn√© la pr√©sence de l'API, et ici il y a juste de magnifiques opportunit√©s pour g√©rer le cluster avec ma logique. Vous pouvez surveiller l'√©tat via l'API, ajouter des r√©pliques √† l'application pendant une surtension et les r√©duire lorsque vous les r√©duisez. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Moins:</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-Le mot de passe principal ne peut √™tre r√©initialis√© en aucune fa√ßon et vous devez r√©installer le cluster si vous l'avez perdu </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-D√©veloppeurs comme 1-2, donc ils ajoutent des fonctionnalit√©s depuis longtemps, mais pour le moment je n'ai trouv√© </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
aucun </font><font style="vertical-align: inherit;">bogue critique </font><font style="vertical-align: inherit;">-Tous les d√©fauts mineurs, mais la plupart d'entre eux sont en cause et les d√©veloppeurs promettent de ne remplir tous les 2.0 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-Control que sur le cluster connect√©, pas de support pour un cluster tiers ou de s'y connecter et il ne sera probablement plus </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
question de donner √† nouveau un lien vers le site Web Swarmpit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tyts</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Github page Swarmpit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tyts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le moment, j'ai fait 2 autres projets open source sur NodeJS, si je suis int√©ress√©, je peux en parler aussi. </font><font style="vertical-align: inherit;">Le 1er est une redirection pour un t√©l√©gramme sans publicit√© et ultra-petit (Docker Image p√®se 27 Mo et est √©galement √©crit en NodeJS sans un seul paquet), le 2√®me plus compliqu√© est le serveur cdn pour les images, qui peut modifier les images √† la vol√©e (redimensionnement, changement de format, qualit√©, etc.) et peut √©conomiser 200 $ (peut-√™tre moins, c'est le prix de Business CloudFlare qui vous permet de faire de m√™me).</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr489736/index.html">[Fran√ßais] Communiqu√© et d√©claration du CIO sur les sports √©lectroniques</a></li>
<li><a href="../fr489740/index.html">Simplifiez l'√©criture des gestionnaires HTTP dans Golang</a></li>
<li><a href="../fr489742/index.html">Hackathon pour 200 personnes - ce dont vous avez besoin pour organiser</a></li>
<li><a href="../fr489744/index.html">Convertir la notation infixe en suffixe</a></li>
<li><a href="../fr489746/index.html">Dans la plupart des cas, la s√©rialisation dans Android n'est pas n√©cessaire</a></li>
<li><a href="../fr489754/index.html">20 syst√®mes de gestion de projet, aper√ßu de 100 puces</a></li>
<li><a href="../fr489756/index.html">Cr√©er un effet crayon en SVG</a></li>
<li><a href="../fr489758/index.html">Angulaire: un exemple d'utilisation de NGRX</a></li>
<li><a href="../fr489760/index.html">Conscience et existence. M√©canique quantique sans paradoxes</a></li>
<li><a href="../fr489762/index.html">Un exemple simple d'analyse et d'analyse de donn√©es pour World of Tanks</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>