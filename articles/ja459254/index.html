<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💓 🐻 🤞🏽 さらに良いジップボム 👩🏻‍💻 🏁 ➕</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事では、zipコンテナ内でファイルをオーバーラップさせることで高度な圧縮を提供する非再帰的な zip爆弾を作成する方法を示します。「非再帰的」とは、zipアーカイブに埋め込まれたファイルを解凍する解凍プログラムに依存しないことを意味します。ラウンドは1つだけです。出力サイズは入力から二次的に増...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>さらに良いジップボム</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/459254/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事では</font><font style="vertical-align: inherit;">、zipコンテナ内でファイルをオーバーラップさせることで高度な圧縮を提供</font><font style="vertical-align: inherit;">する</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非再帰的な</font></font></i> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zip爆弾</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を作成する方法を示します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">「非再帰的」とは、zipアーカイブに埋め込まれたファイルを解凍する解凍プログラムに依存しないことを意味します。ラウンドは1つだけです。</font><font style="vertical-align: inherit;">出力サイズは入力から二次的に増加し、zip形式内で2,800万（10 MB→281 TB）を超える圧縮率に達します。</font><font style="vertical-align: inherit;">64ビット拡張により、さらに拡張が可能です。</font><font style="vertical-align: inherit;">この設計は、最も一般的なDEFLATE圧縮アルゴリズムのみを使用し、ほとんどのzipパーサーと互換性があります。</font></font><br>
<br>
<a name="2"></a><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zbsm.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 42 kB→5.5 GB</font></font><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zblg.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10 MB→281 TB</font></font><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zbxl.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 46 MB→4.5 PB（Zip64、パーサーとの互換性が低い）</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソース：</font></font><br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git clone https://www.bamsoftware.com/git/zipbomb.git</font></font></pre><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipbomb-20190702.zip</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
データとイラストのソース：</font></font><br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git clone https://www.bamsoftware.com/git/zipbomb-paper.git</font></font></pre><a name="habracut"></a><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<td colspan="2"></td>
<th colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非再帰的</font></font></th>
<th colspan="2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再帰的</font></font></th>
</tr>
<tr>
<td></td>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アーカイブサイズ</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非圧縮サイズ</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非圧縮サイズ</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クインコックス</font></font></a></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">440</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">440</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.0</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">∞</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">∞</font></font></td>
</tr>
<tr>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://web.archive.org/web/20160130230432/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クイン・エリンセン</font></font></a></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28 809</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42 569</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1.5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">∞</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">∞</font></font></td>
</tr>
<tr>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42.zip</font></font></a></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42,374 *</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">558 432</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">13.2</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 507 981 343 026 016</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,060億</font></font></td>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このテクニック</font></font></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42,374</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 461 307 620</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">129千</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5 461 307 620</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">129千</font></font></td>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このテクニック</font></font></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9 893 525</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">281 395 456 244 934</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2,800万</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">281 395 456 244 934</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2,800万</font></font></td>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このテクニック（Zip64）</font></font></th>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">45 876 952</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 507 981 427 706 459</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9800万</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 507 981 427 706 459</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">9800万</font></font></td>
</tr>
</tbody>
</table></div><br>
<sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* 42.zipには2つのバージョンがあり</font><font style="vertical-align: inherit;">ます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://web.archive.org/web/20120222083624/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">古い</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 42 374バイトと</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://web.archive.org/web/20120301154142/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しい</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 42 428バイトです。違いは、新しいものは開梱する前にパスワードが必要なことです。旧バージョンとのみ比較しています。必要な場合のファイルのコピーは次の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とおり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です</font><font style="vertical-align: inherit;">：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">42.zip</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
** 42.zipの作成者を知り、指摘したいのですが、見つかりませんでした。情報がありましたらお知らせください。</font></font></sub><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Zip爆弾は、パーサーで最も頻繁にサポートされるDEFLATE圧縮アルゴリズム</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">が超えられない</font></a><font style="vertical-align: inherit;">という事実を克服する必要</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">圧縮率は1032対1です。このため、zip爆弾は通常、zipファイルにzipファイルを埋め込むことにより再帰的な解凍を行い、各レイヤーで1032の追加係数を取得します。ただし、このトリックは再帰的に解凍する実装でのみ機能し、ほとんどの場合は機能しません。最も有名な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">42.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">爆弾</font><font style="vertical-align: inherit;">は、6つのレイヤーすべてが再帰的にアンパックされた場合、恐ろしい4.5 PBに拡大しますが、最上位のレイヤーには0.6 MBの軽微なものがあります。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">や</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://web.archive.org/web/20160130230432/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ellingsen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">同様に、Zip-quines </font><font style="vertical-align: inherit;">は自身のコピーを配布するため、再帰的な解凍中に無期限に拡張されます。ただし、一度開梱すると完全に安全です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、非再帰的なzip爆弾を作成する方法を説明します。圧縮率はDEFLATEの制限である1032を超えます。zipコンテナ内のファイルをオーバーラップさせることにより、複数のコピーを作成せずに、複数のファイルで高度に圧縮されたデータの「コア」を参照します。 zip爆弾の出力サイズは、入力サイズから2次的に増加します。つまり、爆弾のサイズが大きくなると圧縮率が向上します。デザインは、zipおよびDEFLATEの機能に依存します。他のファイル形式や圧縮アルゴリズムに直接転送することはできません。爆弾はほとんどのzipパーサーと互換性がありますが、zipファイルの中央ディレクトリをチェックせずに1回のパスでファイルを分析するものは除きます。 2つの相反する目標のバランスをとろうとします。</font></font><br>
<br>
<ul>
<li>  .           ,      zip.          ,   .<br>
</li>
<li> . Zip&nbsp;—   ,   ,       .   ,      .       zip-    .</li>
</ul><br>
<h1> zip-</h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zipファイルは、ファイル</font><font style="vertical-align: inherit;">へのリンクの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央ディレクトリ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">構成さ</font><font style="vertical-align: inherit;">れ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/896/5d8/074/8965d80745e0b95831b8e3f7c68c5386.svg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
中央ディレクトリはzipファイルの最後にあります。これは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央ディレクトリヘッダーの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リストです</font><font style="vertical-align: inherit;">。各中央ディレクトリヘッダーには、ファイル名やCRC-32チェックサムなどの単一ファイルのメタデータと、ローカルファイルヘッダーへのポインターが含まれています。中央ディレクトリヘッダーの長さは、46バイトにファイル名を加えた長さです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルは、ローカルファイルのヘッダーと、その後に続く圧縮ファイルデータで構成されます。ローカルファイルヘッダーの長さは、30バイト+ファイル名の長さです。これには、中央ディレクトリのヘッダーからのメタデータの冗長コピーと、その背後にある圧縮および非圧縮データファイルのサイズが含まれます。 Zipはコンテナ形式であり、圧縮アルゴリズムではありません。各ファイルのデータは、メタデータで指定されたアルゴリズム（通常は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DEFLATE）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して圧縮されます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このzip形式の説明では、zip爆弾を理解するのに必要のない多くの詳細が省略されています。詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セクション4.3 APPNOTE.TXT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font><font style="vertical-align: inherit;">Florian Buchholzに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">よるPKZipファイル構造を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照するか、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースコードを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zip形式の重要な冗長性と多くのあいまいさにより、さまざまな種類のいたずらの機会が開かれます。</font><font style="vertical-align: inherit;">ジップボムは氷山の一角にすぎません。</font><font style="vertical-align: inherit;">さらに読むためのリンク：</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ginwael Coldwindに</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">よる「Ten Thousand Security Traps：A ZIP Format」</font></a></font><br>
</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あいまいなzip解析により、Firefoxのアドオンファイルをリンターや人々から隠すことができます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：addons.mozilla.orgでの私の脆弱性</font></font></li>
</ul><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初の発見：重複ファイル</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
繰り返されるバイトの長い文字列を</font><font style="vertical-align: inherit;">圧縮する</font><font style="vertical-align: inherit;">ことにより</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高度に圧縮されたデータの</font><i><font style="vertical-align: inherit;">コアを</font></i><font style="vertical-align: inherit;">作成できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">カーネル自体の圧縮率は1032のDEFLATE制限を超えることはできないため、各ファイルに個別のコピーを作成せずに、多くのファイルでカーネルを再利用する方法が必要です。</font><font style="vertical-align: inherit;">これを行うには、ファイルをオーバーラップします。中央ディレクトリの多くのヘッダーが、データがコアである単一のファイルを指すようにします。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f80/675/a85/f80675a8530b8adfc1d5847eaaf813ca.svg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この設計が圧縮率にどのように影響するかの例を検討してください。</font><font style="vertical-align: inherit;">1000バイトのコアが1 MBに解凍されたとします。</font><font style="vertical-align: inherit;">次に、出力の最初のメガバイトは入力データの1078バイトを「消費」します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルファイルヘッダー用の31バイト（1バイトのファイル名を含む）</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央ディレクトリヘッダー用の47バイト（1バイトのファイル名を含む）</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コアあたり1000バイト</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、最初の出力後の各1 MBのコストは47バイトのみです。ローカルファイルの別のヘッダーやカーネルの別のコピーは必要ありません。中央ディレクトリの追加のヘッダーのみが必要です。</font><font style="vertical-align: inherit;">したがって、コアからの最初のリンクの圧縮率は1 000/10/1078≈928ですが、リンクを追加するたびに係数が1 000 000/47≈21 277に近づき、大きなコアが上限を引き上げます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このアイデアの問題は、互換性の欠如です。</font><font style="vertical-align: inherit;">中央ディレクトリの多くのヘッダーはローカルファイルの1つのヘッダーをポイントしているため、メタデータ（特にファイル名）を各ファイルで同じにすることはできません。</font><font style="vertical-align: inherit;">一部のパーサー</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はこれを誓い</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Info-ZIP UnZip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（標準の</font></font><code>unzip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unix </font><font style="vertical-align: inherit;">プログラム</font><font style="vertical-align: inherit;">）はファイルを取得しますが、警告が表示されます。</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ unzip overlay.zip</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  膨張：A</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
B：「ローカル」ファイル名の不一致（A）、</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
         「中央」ファイル名バージョンを続行</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
  膨張：B</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipfile</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">も</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例外をスローします</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ python3 -m zipfile -e overlay.zip。</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
トレースバック（最新の呼び出しが最後）：</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
__main __。BadZipFile：ディレクトリ 'B'のファイル名とヘッダーb'A 'は異なります。</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、重複するファイルの利点のほとんどを維持しながら、ファイル名の一貫性を保つために再設計する方法を見ていきます。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2番目の発見：ローカルファイルのヘッダーの引用</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つのコアを再利用しながら、ファイルごとにローカルファイルのヘッダーを分離する必要があります。 zipパーサーがDEFLATEストリームの開始を期待するローカルファイルのヘッダーを見つけるため、すべてのヘッダーを組み合わせるだけでは機能しません。しかし、アイディアは機能し、小さな変更が必要です。非圧縮ブロックのDEFLATE関数を使用して、ローカルファイルのヘッダーを「引用」し、それらがカーネルで終了する同じDEFLATEストリームの一部であるように見せます。ローカルファイルの各ヘッダー（最初のものを除く）は、コード（zipファイルの構造の一部）とデータ（ファイルコンテンツの一部）の2つの方法で解釈されます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/1c1/668/e92/1c1668e92501880340aaf1651df25095.svg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DEFLATEストリームは一連の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブロックです</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここで、各ブロックを圧縮または非圧縮できます。私たちは通常、圧縮ブロックについてのみ考えます。たとえば、カーネルは1つの大きな圧縮ブロックです。しかし</font><font style="vertical-align: inherit;">、長さフィールドを持つ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5バイトのヘッダー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><font style="vertical-align: inherit;">始まる非圧縮のものもあり</font><font style="vertical-align: inherit;">、これは単に「次の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイトをそのまま</font><font style="vertical-align: inherit;">印刷する」ことを意味し</font><font style="vertical-align: inherit;">ます。圧縮されていないブロックを解凍すると、5バイトのヘッダーが削除されます。圧縮ブロックと非圧縮ブロックは、DEFLATEストリーム内で自由に混合できます。出力は、すべてのブロックを順番にアンパックした結果を連結したものです。 「非圧縮」の概念は、DEFLATEレベルでのみ重要です。ファイルデータは、使用されているブロックに関係なく、zipレベルでは引き続き「圧縮」されていると見なされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この構成を想像する最も簡単な方法は、最後のファイルから最初のファイルへの内部的なオーバーラップとしてです。まず、各ファイルのデータファイルの終わりを形成するカーネルを挿入します。ローカルLFH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル</font><font style="vertical-align: inherit;">のヘッダーと</font><font style="vertical-align: inherit;">、それを指す</font><font style="vertical-align: inherit;">中央ディレクトリCDH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のヘッダーを追加します</font><font style="vertical-align: inherit;">。 LFH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">およびCDH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の「圧縮サイズ」メタデータフィールドを</font><font style="vertical-align: inherit;">圧縮コアサイズに設定します。ここで、長さフィールドLFH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nの</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイズに等しい5バイトのヘッダー非圧縮ブロック（図では緑色）を追加し</font><font style="vertical-align: inherit;">ます。ローカルファイルLFH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の2番目のヘッダーと</font><font style="vertical-align: inherit;">中央ディレクトリCDH </font><sub><i><font style="vertical-align: inherit;">N</font></i></sub><sub><font style="vertical-align: inherit;"> -1の</font></sub><font style="vertical-align: inherit;">ヘッダーを追加します。</font></font><sub><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それはそれを指します。メタデータフィールド「compressed size」を、圧縮カーネルサイズの新しいヘッダーに</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加え</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">て、非圧縮ブロックヘッダー</font><font style="vertical-align: inherit;">のサイズ</font><font style="vertical-align: inherit;">（5バイト）</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイズLFH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nを</font></font></i></sub><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">加え</font></i><font style="vertical-align: inherit;">たものとして設定し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現時点では、zipファイルにはYとZという名前の2つのファイルが含まれています。解析時にパーサーが表示する内容を見てみましょう。圧縮カーネルサイズが1000バイトで、LFH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイズ</font><font style="vertical-align: inherit;">&nbsp;が31バイトであるとします。 CDH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> −1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から始め、LFH </font><sub><i><font style="vertical-align: inherit;">N</font></i></sub><sub><font style="vertical-align: inherit;"> −1の</font></sub><font style="vertical-align: inherit;">記号に従います。</font></font><sub><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。最初のファイルの名前はYで、データファイルの圧縮サイズは1036バイトです。次の1036バイトをDEFLATEストリームとして解釈すると、最初に、次の31バイトをコピーするように指示する非圧縮ブロックの5バイトのヘッダーに遭遇します。次の31バイトを書き留めます。これはLFH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nで</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、アンパックしてYファイルに追加します。さらにDEFLATEストリームを移動すると、圧縮ブロック（カーネル）が見つかります。圧縮ブロック（カーネル）は、Yファイルにアンパックされます。これで、圧縮データの終わりに達し、Yファイルで終了しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のファイルに移動し、CDH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">からLFH </font><sub><i><font style="vertical-align: inherit;">N</font></i></sub><font style="vertical-align: inherit;">への</font><font style="vertical-align: inherit;">ポインタに従います</font></font><sub><i><font style="vertical-align: inherit;"></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、圧縮サイズが1000バイトのZというファイルを見つけます。これらの1000バイトをDEFLATEストリームとして解釈すると、すぐに圧縮ブロック（コア）に遭遇し、それをZファイルにアンパックします。これで、最終的なファイルの最後に到達して終了しました。出力ファイルZには、解凍されたカーネルが含まれています。出力画像Yは同じですが、さらに31バイトのLFH </font></font><sub><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">というプレフィックスが付いています</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zipアーカイブに必要な数のファイルが含まれるまで、引用手順を繰り返すことにより、構築を完了します。新しいファイルごとに、中央ディレクトリヘッダー、ローカルファイルヘッダー、および次のローカルファイルヘッダーから直接引用する非圧縮ブロックが追加されます。圧縮されたファイルデータは、通常、圧縮されていないDEFLATEブロック（ローカルファイルヘッダーを引用）のチェーンであり、その後に圧縮コアが続きます。各バイト</font><font style="vertical-align: inherit;">はすべての</font><i><font style="vertical-align: inherit;">Nの</font></i><font style="vertical-align: inherit;">一部であるため</font><font style="vertical-align: inherit;">、カーネルの各バイト</font><font style="vertical-align: inherit;">は出力サイズに</font><font style="vertical-align: inherit;">約1032 </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">貢献します</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル。</font><font style="vertical-align: inherit;">出力ファイルのサイズも異なります。ローカルファイルのヘッダーを引用するため、前のファイルは後のファイルよりも大きくなります。</font><font style="vertical-align: inherit;">出力ファイルの内容はあまり意味がありませんが、意味があるとは誰も言っていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この重複引用デザインは、前のセクションの完全重複デザインよりも優れた互換性を備えていますが、互換性は圧縮によって実現されます。</font><font style="vertical-align: inherit;">そこでは、追加されたファイルごとに中央ディレクトリのタイトルのみがかかります。ここでは、中央ディレクトリのタイトル、ローカルファイルのヘッダー、および引用ヘッダー用にさらに5バイトかかります。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最適化</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zip爆弾の基本設計を受け取ったので、できるだけ効率的にするように努めます。</font><font style="vertical-align: inherit;">2つの質問にお答えしたいと思います。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定のzipファイルサイズの最大圧縮率はいくつですか？</font></font><br>
</li>
<li>   ,    zip?</li>
</ul><br>
<h3> </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アンパックされた各バイト</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にNの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">倍数が乗算されるため、コアをできるだけ圧縮する利点</font><font style="vertical-align: inherit;">。この目的のために、繰り返しバイトの文字列の圧縮に特化した、bulk_deflateと呼ばれるカスタムDEFLATEコンプレッサーを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのまともなDEFLATEアーカイバは、繰り返されるバイトの無限のストリームで1032の圧縮率に近づきますが、特定のサイズが心配です。アーカイブサイズでは、bulk_deflateは汎用アーカイバーよりも多くのデータを保持します。zlibやInfo-ZIPよりも約26 KB、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zopfli</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">よりも約15 KB多い</font><font style="vertical-align: inherit;">ため、圧縮品質のために速度が犠牲になります。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8b4/cac/e5b/8b4cace5b49ef6945fd1d1ddc8fd7310.svg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
高圧縮率bulk_deflateの代償は、汎用性の欠如です。繰り返しバイトの行と特定の長さ、つまり517 + 258のみを圧縮できます。&nbsp;</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kは</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数のための</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">K</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;良い圧縮に加え≥0、bulk_deflateは実際に圧縮された行を書き込む作業をカウントしない、入力データのサイズに関係なく、ほぼ同じ時間で作業を行う、迅速に動作します。</font></font><br>
<br>
<a name="1"></a><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル名</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの目的では、ファイル名はほとんど重荷です。それらはローカルファイルの引用されたヘッダーの一部であることによって出力サイズに貢献しますが、ファイル名のバイトはカーネルのバイトよりはるかに少ない貢献します。互換性を忘れずに、ファイル名はできるだけ短く、異なるものにする必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイル名に費やされた各バイトは、カーネルに費やされなかった2バイトを意味します（各ファイル名が2度表示されるため、2バイト：中央ディレクトリのヘッダーとローカルファイルのヘッダーに）。</font><font style="vertical-align: inherit;">&nbsp;カーネル内のバイト</font><i><font style="vertical-align: inherit;">はNの</font></i><font style="vertical-align: inherit;"> 1032としてカウントされますが、</font><font style="vertical-align: inherit;">ファイル名バイトは平均（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + 1）/ 4バイトの出力のみとなります&nbsp; </font><font style="vertical-align: inherit;">。例：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">1</font></a><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2</font></a><font style="vertical-align: inherit;">、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">3</font></a><font style="vertical-align: inherit;">。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
互換性に関する最初の考慮事項はエンコードです。 zip形式の仕様では</font><font style="vertical-align: inherit;">、特定のフラグビットが設定されている場合、</font><font style="vertical-align: inherit;">ファイル名は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CP 437</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UTF-8</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として解釈される必要があると記述されています</font><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APPNOTE.TXT、付録D</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。これは、zipパーサー間の非互換性の主なポイントであり、固定またはロケール固有のエンコードでファイル名を解釈できます。したがって、互換性のために、CP 437とUTF-8の両方で同じエンコーディングの文字に制限することをお勧めします。つまり、これらは95の印刷可能なUS-ASCII文字です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、ファイルシステムの命名制限にも拘束されます。</font><font style="vertical-align: inherit;">一部のファイルシステムでは大文字と小文字が区別されないため、「a」と「A」は異なる名前とは見なされません。</font><font style="vertical-align: inherit;">FAT32などの一般的なファイルシステムでは、</font><font style="vertical-align: inherit;">「*」や「？」などの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特定の文字が禁止さ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れています</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安全ではありますが、必ずしも最適な妥協案ではありませんが、zip爆弾は36文字のアルファベットのファイル名を使用します。これには、特殊文字や大文字小文字の異なる文字は含まれません。</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0 1 2 3 4 5 6 7 8 9 ABCDEFGHIJKLMNOPQRSTU VWXYZ</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイル名は明白な方法で生成され、すべての位置が順番に、ループの最後に位置が追加されます。</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「0」、「1」、「2」、...、「Z」、</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「00」、「01」、「02」、...、「0Z」、</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「Z0」、「Z1」、「Z2」、...、「ZZ」、</font></font><font></font><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「000」、「001」、「002」、...</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1文字のファイル名は36個、2文字の名前は36²などです。</font><font style="vertical-align: inherit;">1,727,604の異なるファイル名には4バイトで十分です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アーカイブ内のファイル名は通常、長さが異なるため、どのようにすればそれらをより適切に配置できますか？</font><font style="vertical-align: inherit;">少し考えれば、最も長い名前を最後に置くことをお勧めします。</font><font style="vertical-align: inherit;">この並べ替えでは</font><font style="vertical-align: inherit;">、最長から最短の順序に比べて、</font><font style="vertical-align: inherit;">900 MBを超える出力が</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zblg.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">追加されます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ただし、900 MBは問題の合計サイズのわずか0.0003％であるため、これは小さな最適化です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コアサイズ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
重複する引用設計により、圧縮されたデータコアを配置し、安価に何度もコピーできます。特定のサイズのzipファイル</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場合、カーネルを格納するために割り当てるのに最適なスペースと、コピーを作成するためにどのくらいのスペースが必要ですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最適なバランスを見つけるには、1つの変数</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（zipアーカイブ内のファイル数）</font><font style="vertical-align: inherit;">のみを最適化する必要があり</font><font style="vertical-align: inherit;">ます。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各値に</font><font style="vertical-align: inherit;">は、中央ディレクトリのヘッダー、ローカルファイルのヘッダー、引用ブロックのヘッダー、およびファイル名の特定の量のオーバーヘッドが必要です。残りのスペースはコアによって占有されます。</font><i><font style="vertical-align: inherit;">N</font></i><font style="vertical-align: inherit;">以来</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">整数でなければならず、カーネルサイズがゼロになる前に特定の数のファイルのみを置くことができます</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。Nの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可能なすべての値を確認し</font><font style="vertical-align: inherit;">、最大の出力を与えるものを選択する</font><font style="vertical-align: inherit;">だけ</font><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">&nbsp;42.zipの</font><i><font style="vertical-align: inherit;">X</font></i><font style="vertical-align: inherit;"> = 42,374に</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最適化手順を適用すると、</font><i><font style="vertical-align: inherit;">N</font></i><font style="vertical-align: inherit;"> &nbsp;= 250で</font><font style="vertical-align: inherit;">最大値が検出され</font><font style="vertical-align: inherit;">ます。これらの250ファイルには21,195バイトのオーバーヘッドが必要で、カーネル用に21,179バイトが残ります。</font><font style="vertical-align: inherit;">このサイズのカーネルは、21,841,249バイト（1031.3対1の比率）に解凍されます。</font><font style="vertical-align: inherit;">解凍されたカーネルの250コピーといくつかの引用されたローカルファイルヘッダーは、5,461,307,620バイトの合計アンパック出力と129,000の圧縮率を提供します。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zbsm.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 42 kB→5.5 GB</font></font></li>
</ul><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipbomb --mode = quoted_overlap --num-files = 250 --compressed-size = 21179&gt; zbsm.zip</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最適化により、カーネルとファイルヘッダー間のスペースがほぼ均等に分散されました。</font><font style="vertical-align: inherit;">これは偶然ではありません。</font><font style="vertical-align: inherit;">重複のある引用構造の単純化されたモデルを考えます。</font><font style="vertical-align: inherit;">簡略化されたモデルでは、ファイル名を無視し、ローカルファイルのヘッダーを引用しているため、出力ファイルのサイズがわずかに増加します。</font><font style="vertical-align: inherit;">簡略化されたモデルを分析すると、カーネルとファイルヘッダーの間の最適な分布はほぼ均一であり、最適な分布の出力サイズは入力のサイズに応じて二次関数的に増加します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかの定数と変数の定義：</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バツ</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipファイルのサイズ（固定と見なされる）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></td>
<td></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipアーカイブ内のファイル数（最適化のために変数）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cdh</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 46</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央ディレクトリのヘッダーサイズ（ファイル名なし）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lfh</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 30</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルファイルヘッダーサイズ（ファイル名なし）</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Q</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 5</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DEFLATEブロックの非圧縮サイズ</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">C</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ≈1032</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カーネル圧縮比</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
してみましょう</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H（N）が</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用ヘッダのオーバーヘッドのボリュームで</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N個の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイル。</font><font style="vertical-align: inherit;">式の本質を理解するには</font><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チャート</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">参照してください&nbsp; </font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>N</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>N</mi><mo>&amp;#x22C5;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>N</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x22C5;</mo><mi>Q</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.802ex" height="2.634ex" viewBox="0 -809.3 18428.8 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="1278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="2166" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="2833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="3890" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-22C5" x="5000" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="5501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="5891" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-44" x="6651" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="7480" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="8590" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="9591" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="10272" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="11022" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="11910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="12522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="13523" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="13912" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2212" x="15023" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-31" x="16024" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="16524" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-22C5" x="17136" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="17637" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo><mo>=</mo><mi>N</mi><mo>⋅</mo><mo stretchy="false">(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>N</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>⋅</mo><mi>Q</mi></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-1">H(N) = N ⋅ (CDH + LFH) + (N − 1) ⋅ Q</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カーネルの場合、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X-H（N）の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">場所</font><font style="vertical-align: inherit;">が残り</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">解凍された合計サイズ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（N）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">、比率</font><i><font style="vertical-align: inherit;">Cで</font></i><font style="vertical-align: inherit;">解凍されたカーネルの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コピーの</font><font style="vertical-align: inherit;">サイズに等しく</font><font style="vertical-align: inherit;">なります</font><font style="vertical-align: inherit;">（この簡略化されたモデルでは、前述のローカルファイルヘッダーからのわずかな追加の拡張子は無視されます）。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>S</mi><mi>X</mi></msub><mo stretchy=&quot;false&quot;>(</mo><mi>N</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>X</mi><mo>&amp;#x2212;</mo><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><mi>N</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x202F;</mo><mi>C</mi><mo>&amp;#x202F;</mo><mi>N</mi><mspace linebreak=&quot;newline&quot; /><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>X</mi><mo>&amp;#x2212;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>N</mi><mo>&amp;#x22C5;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>N</mi><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x22C5;</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x202F;</mo><mi>C</mi><mo>&amp;#x202F;</mo><mi>N</mi><mspace linebreak=&quot;newline&quot; /><mo>=</mo><mo>&amp;#x2212;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x202F;</mo><mi>C</mi><mo>&amp;#x202F;</mo><msup><mi>N</mi><mn>2</mn></msup><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x202F;</mo><mi>C</mi><mo>&amp;#x202F;</mo><mi>N</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="97.25ex" height="9.634ex" viewBox="0 -809.3 41871.4 4148.1" role="img" focusable="false" style="vertical-align: -7.755ex; max-width: 778px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(14907,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="867" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1316" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="1705" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="2594" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="3261" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="4317" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="4707" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2212" x="5782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="6782" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="7671" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="8060" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="8949" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="9338" y="0"></use><g transform="translate(9728,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="10067" y="0"></use><g transform="translate(10827,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="11166" y="0"></use></g><g transform="translate(10157,-1436)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="1445" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2212" x="2520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="3521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="3910" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-22C5" x="5021" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="5522" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="5911" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-44" x="6672" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="7500" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="8611" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="9612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="10293" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="11043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="11931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="12543" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="13544" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="13933" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2212" x="15044" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-31" x="16045" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="16545" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-22C5" x="17157" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="17657" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="18449" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="18838" y="0"></use><g transform="translate(19228,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="19567" y="0"></use><g transform="translate(20328,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="20667" y="0"></use></g><g transform="translate(10610,-3002)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2212" x="1056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="2224" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-44" x="2984" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="3813" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="4924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="5924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="6606" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="7355" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="8466" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="9467" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="10258" y="0"></use><g transform="translate(10648,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="10987" y="0"></use><g transform="translate(11747,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><g transform="translate(12086,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="1292" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="13676" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="14677" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="15067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="16141" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="17142" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="17934" y="0"></use><g transform="translate(18323,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="18662" y="0"></use><g transform="translate(19423,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="19762" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>S</mi><mi>X</mi></msub><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mi>H</mi><mo stretchy="false">(</mo><mi>N</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo> </mo><mi>C</mi><mo> </mo><mi>N</mi><mspace linebreak="newline"></mspace><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mo stretchy="false">(</mo><mi>N</mi><mo>⋅</mo><mo stretchy="false">(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>N</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>⋅</mo><mi>Q</mi><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo> </mo><mi>C</mi><mo> </mo><mi>N</mi><mspace linebreak="newline"></mspace><mo>=</mo><mo>−</mo><mo stretchy="false">(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy="false">)</mo><mo> </mo><mi>C</mi><mo> </mo><msup><mi>N</mi><mn>2</mn></msup><mo>+</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><mo stretchy="false">)</mo><mo> </mo><mi>C</mi><mo> </mo><mi>N</mi></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-2">S_X(N) = (X − H(N)) C N\\ = (X − (N ⋅ (CDH + LFH) + (N − 1) ⋅ Q)) C N\\ = −(CDH + LFH + Q) C N^2 + (X + Q) C N</script></math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（N）は部分Nの多項式であるため、最大値は微分S ' </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（N）がゼロに等しい</font><font style="vertical-align: inherit;">場所でなければなりません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">導関数を取得してゼロを見つける</font><font style="vertical-align: inherit;">と、最適なファイル数である</font><font style="vertical-align: inherit;">N </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPT</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が得られ</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>S</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x2032;</mo></mrow><mi>X</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>N</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo>&amp;#x2212;</mo><mn>2</mn><mo>&amp;#x202F;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x202F;</mo><mi>C</mi><mo>&amp;#x202F;</mo><msub><mi>N</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x202F;</mo><mi>C</mi><mspace linebreak=&quot;newline&quot; /><mn>0</mn><mo>=</mo><mo>&amp;#x2212;</mo><mn>2</mn><mo>&amp;#x202F;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x202F;</mo><mi>C</mi><mo>&amp;#x202F;</mo><msub><mi>N</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x202F;</mo><mi>C</mi><mspace linebreak=&quot;newline&quot; /><msub><mi>N</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="97.25ex" height="9.259ex" viewBox="0 -809.3 41871.4 3986.6" role="img" focusable="false" style="vertical-align: -7.38ex; max-width: 778px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(7598,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJSSI-27" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="924" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1776" y="0"></use><g transform="translate(2166,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-50" x="763" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-54" x="1514" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="4638" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="5306" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2212" x="6362" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="7140" y="0"></use><g transform="translate(7641,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="7980" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="8370" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-44" x="9130" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="9959" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="11069" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="12070" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="12751" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="13501" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="14612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="15612" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="16404" y="0"></use><g transform="translate(16793,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="17132" y="0"></use><g transform="translate(17893,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><g transform="translate(18232,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-50" x="763" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-54" x="1514" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="20927" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="21928" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="22317" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="23392" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="24393" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="25184" y="0"></use><g transform="translate(25574,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="25913" y="0"></use></g><g transform="translate(9862,-1436)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-30" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="778" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2212" x="1834" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="2613" y="0"></use><g transform="translate(3113,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="3452" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="3842" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-44" x="4602" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="5431" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="6541" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="7542" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="8224" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="8973" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="10084" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="11085" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="11876" y="0"></use><g transform="translate(12266,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="12605" y="0"></use><g transform="translate(13365,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><g transform="translate(13704,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-50" x="763" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-54" x="1514" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="16399" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="17400" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="17789" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="18864" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="19865" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="20656" y="0"></use><g transform="translate(21046,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="21385" y="0"></use></g><g transform="translate(12051,-2868)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-50" x="763" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-54" x="1514" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="2750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="3806" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="4196" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="5271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="6271" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="7063" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2F" x="7452" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="7953" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="8342" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-44" x="9103" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="9931" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="11042" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="12043" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="12724" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="13474" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="14585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="15585" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="16377" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2F" x="16766" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="17267" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>S</mi><mrow class="MJX-TeXAtom-ORD"><mo>′</mo></mrow><mi>X</mi><mo stretchy="false">(</mo><msub><mi>N</mi><mrow class="MJX-TeXAtom-ORD"><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mo>−</mo><mn>2</mn><mo> </mo><mo stretchy="false">(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy="false">)</mo><mo> </mo><mi>C</mi><mo> </mo><msub><mi>N</mi><mrow class="MJX-TeXAtom-ORD"><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>+</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><mo stretchy="false">)</mo><mo> </mo><mi>C</mi><mspace linebreak="newline"></mspace><mn>0</mn><mo>=</mo><mo>−</mo><mn>2</mn><mo> </mo><mo stretchy="false">(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy="false">)</mo><mo> </mo><mi>C</mi><mo> </mo><msub><mi>N</mi><mrow class="MJX-TeXAtom-ORD"><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>+</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><mo stretchy="false">)</mo><mo> </mo><mi>C</mi><mspace linebreak="newline"></mspace><msub><mi>N</mi><mrow class="MJX-TeXAtom-ORD"><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mo stretchy="false">(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-3">S′X(N_{OPT}) = −2 (CDH + LFH + Q) C N_{OPT} + (X + Q) C\\ 0 = −2 (CDH + LFH + Q) C N_{OPT} + (X + Q) C\\ N_{OPT} = (X + Q) / (CDH + LFH + Q) / 2</script></math></p><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H（N </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPT</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、ファイルヘッダーを配置するための最適な容量を提供します。</font><font style="vertical-align: inherit;">CDH、LFH、Cから独立しており、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X / 2に</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">近い</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<p><math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>H</mi><mo stretchy=&quot;false&quot;>(</mo><msub><mi>N</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><msub><mi>N</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>&amp;#x22C5;</mo><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>N</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>&amp;#x2212;</mo><mn>1</mn><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x22C5;</mo><mi>Q</mi><mspace linebreak=&quot;newline&quot; /><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>X</mi><mo>&amp;#x2212;</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>2</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="97.25ex" height="6.009ex" viewBox="0 -809.3 41871.4 2587.3" role="img" focusable="false" style="vertical-align: -4.13ex; max-width: 778px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(9344,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="888" y="0"></use><g transform="translate(1278,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-50" x="763" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-54" x="1514" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="3750" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="4418" y="0"></use><g transform="translate(5474,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-50" x="763" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-54" x="1514" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-22C5" x="8169" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="8670" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="9059" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-44" x="9820" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="10648" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="11759" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="12760" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="13441" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="14191" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="15079" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="15691" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="16692" y="0"></use><g transform="translate(17081,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-50" x="763" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-54" x="1514" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2212" x="19776" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-31" x="20777" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="21278" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-22C5" x="21889" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="22390" y="0"></use></g><g transform="translate(18084,-1433)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="1445" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2212" x="2520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="3521" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="4312" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2F" x="4702" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="5202" y="0"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>H</mi><mo stretchy="false">(</mo><msub><mi>N</mi><mrow class="MJX-TeXAtom-ORD"><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><msub><mi>N</mi><mrow class="MJX-TeXAtom-ORD"><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>⋅</mo><mo stretchy="false">(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><msub><mi>N</mi><mrow class="MJX-TeXAtom-ORD"><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>⋅</mo><mi>Q</mi><mspace linebreak="newline"></mspace><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>−</mo><mi>Q</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>2</mn></math></span></span></div><script type="math/tex; mode=display" id="MathJax-Element-4">H(N_{OPT}) = N_{OPT} ⋅ (CDH + LFH) + (N_{OPT} − 1) ⋅ Q\\ = (X − Q) / 2</script></math></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（N </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OPT</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）-最適な分布での解凍された合計サイズ </font><font style="vertical-align: inherit;">これから、入力データの増加に伴って出力のサイズが二次関数的に増加することがわかります。</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>S</mi><mi>X</mi></msub><mo stretchy=&quot;false&quot;>(</mo><msub><mi>N</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><mo>&amp;#x202F;</mo><mi>C</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mo stretchy=&quot;false&quot;>(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy=&quot;false&quot;>)</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>/</mo></mrow><mn>4</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="49.742ex" height="3.009ex" viewBox="0 -970.7 21416.6 1295.7" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-53" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="867" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1316" y="0"></use><g transform="translate(1705,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="0" y="0"></use><g transform="translate(803,-155)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4F" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-50" x="763" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-54" x="1514" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="4178" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="4846" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="5902" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-58" x="6291" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="7366" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="8367" y="0"></use><g transform="translate(9158,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(10002,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"> </text></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="10341" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2F" x="11101" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="11602" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-43" x="11991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-44" x="12752" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="13580" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="14691" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="15692" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="16373" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="17123" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2B" x="18233" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-51" x="19234" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="20026" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-2F" x="20415" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-34" x="20916" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>S</mi><mi>X</mi></msub><mo stretchy="false">(</mo><msub><mi>N</mi><mrow class="MJX-TeXAtom-ORD"><mi>O</mi><mi>P</mi><mi>T</mi></mrow></msub><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mi>X</mi><mo>+</mo><mi>Q</mi><msup><mo stretchy="false">)</mo><mn>2</mn></msup><mo> </mo><mi>C</mi><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mo stretchy="false">(</mo><mi>C</mi><mi>D</mi><mi>H</mi><mo>+</mo><mi>L</mi><mi>F</mi><mi>H</mi><mo>+</mo><mi>Q</mi><mo stretchy="false">)</mo><mrow class="MJX-TeXAtom-ORD"><mo>/</mo></mrow><mn>4</mn></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-5">S_X(N_{OPT}) = (X + Q)^2 C / (CDH + LFH + Q) / 4</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zipファイルのサイズを大きくすると、最終的にはzip形式の制限が発生します。アーカイブには</font><font style="vertical-align: inherit;">、サイズが2 </font><sup><font style="vertical-align: inherit;">32</font></sup><font style="vertical-align: inherit;"> -1バイト</font><font style="vertical-align: inherit;">以下の2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -1以下のファイルを</font><font style="vertical-align: inherit;">含めることができ</font><font style="vertical-align: inherit;">ます。さらに悪いことに、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">一部の実装</font></a><font style="vertical-align: inherit;">では</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">64ビット拡張の</font></a><font style="vertical-align: inherit;">存在の指標として最大値を取る</font><font style="vertical-align: inherit;">ため、実際の制限は2 </font><sup><font style="vertical-align: inherit;">16</font></sup><font style="vertical-align: inherit;"> -2および2 </font><sup><font style="vertical-align: inherit;">32</font></sup><font style="vertical-align: inherit;"> -2です。初めて、非圧縮ファイルのサイズの制限に遭遇することがあります。 8 319 377バイトのzipファイルサイズでは、単純な最適化により、ファイル数47 837と最大ファイル数2 </font><sup><font style="vertical-align: inherit;">32</font></sup><font style="vertical-align: inherit;"> +311バイトが得られます。</font><font style="vertical-align: inherit;">
（実際には、正確な制限は実装に依存するため、すべてが少し複雑になります。Pythonのzipファイル</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">は無視し</font></a><font style="vertical-align: inherit;">ます</font></font><sup><font style="vertical-align: inherit;"></font></sup><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><sup><font style="vertical-align: inherit;"></font></sup><font style="vertical-align: inherit;"></font><sup><font style="vertical-align: inherit;"></font></sup><font style="vertical-align: inherit;"></font><sup><font style="vertical-align: inherit;"></font></sup><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Goのアーカイブ/ zip </font><font style="vertical-align: inherit;">ファイル数により、下位16ビットと一致するまでファイル数</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">増やす</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ことができます</font></a><font style="vertical-align: inherit;">。ただし、一般的な互換性のために、確立された制限を遵守する必要があります）。</font><i><font style="vertical-align: inherit;">N</font></i><font style="vertical-align: inherit;">またはカーネルサイズを</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
無限に増やすことができない場合は</font><font style="vertical-align: inherit;">、zip形式内の最大圧縮率を求めます。最大数のファイルでカーネルをできるだけ大きくする必要があります。私たちはもはやカーネルとファイルのヘッダ間のほぼ均一な分離を維持することができるという事実にもかかわらず、それぞれ追加したファイルは、</font><i><font style="vertical-align: inherit;">まだ</font></i><font style="vertical-align: inherit;">私たちはカーネルを高めるために続けることができるだけではない速さであるかのように-圧縮率を向上させます。私たちは、ファイルを追加すると実際には、我々はする必要があります</font><i><font style="vertical-align: inherit;">削減します</font></i></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カーネルサイズ。最大ファイルサイズのためのスペースを確保します。これは、ファイルが追加されるたびに少し大きくなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この計画により、2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -2個のファイルとカーネル</font><font style="vertical-align: inherit;">を含むzipアーカイブが</font><font style="vertical-align: inherit;">作成され</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">カーネルは2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -2 178 825バイトに</font><font style="vertical-align: inherit;">解凍され</font><font style="vertical-align: inherit;">ます。ファイルはzipアーカイブの先頭に向かって大きくなります-最初の最大のファイルは2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> −56バイトで</font><font style="vertical-align: inherit;">解凍され</font><font style="vertical-align: inherit;">ます。我々はbulk_deflateの粗い出力パラメータを使用することができ、これは、近くにある-それらのサイズよりも費用がかかり、最終的な54のバイトを符号化する（全体としてzipファイル28百万ドルの圧縮比を有する、最終的な54のバイトは、54⋅10の最大受信します</font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（⋅ 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-2）≈36？500万バイト。これは、54バイトを1バイトにエンコードできる場合にのみ役立ちます。2バイト未満をコーディングすることはできません。</font><font style="vertical-align: inherit;">したがって、54バイトを1バイトにエンコードできない場合、これは圧縮率を下げるだけです）。</font><font style="vertical-align: inherit;">このzip爆弾の出力サイズが281,395,456,244,934バイト、理論的な最大値（2 99.97％であり、</font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ×（2 - 1）</font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 1）。</font><font style="vertical-align: inherit;">圧縮率の大幅な改善は、入力信号のサイズを小さくすることによってのみ達成でき、出力を大きくすることによっては達成できません。</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zblg.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 10 MB→281 TB</font></font></li>
</ul><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipbomb --mode = quoted_overlap --num-files = 65534 --max-uncompressed-size = 4292788525&gt; zblg.zip</font></font></pre><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">効率的なCRC-32コンピューティング</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
中央ディレクトリのヘッダーとローカルファイルのヘッダーのメタデータには、非圧縮ファイルデータのチェックサム</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-CRC-32があり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。各ファイルのCRC-32計算の量はそのサイズに比例するため、これは問題を引き起こします。これは、デフォルトで非常に大きいサイズです（結局、これはzip爆弾です）。少なくともアーカイブのサイズに比例した作業を行うことをお勧めします。私たちの好意で働く2つの要因：すべてのファイルには共通のコアがあり、非圧縮カーネルは繰り返されるバイトの文字列です。 CRC-32を行列積として想像してみてください。これにより、カーネルのチェックサムをすばやく計算できるだけでなく、ファイル間の計算を再利用することもできます。このセクションで説明する方法は、</font><font style="vertical-align: inherit;">zlib </font><font style="vertical-align: inherit;">の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">crc32_combine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関数の小さな拡張であり、</font><font style="vertical-align: inherit;">Marc Adlerが説明しています。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちら</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
CRC-32はステートマシンとしてモデル化でき、各入力ビットに対して32ビットのステートレジスタを更新します。ビット0および1の基本的な更新操作は次のとおりです。</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function">uint32 <span class="hljs-title">crc32_update_0</span><span class="hljs-params">(uint32 state)</span> </span>{
    <span class="hljs-comment">// Shift out the least significant bit.</span>
    bit b = state &amp; <span class="hljs-number">1</span>;<font></font>
    state = state &gt;&gt; <span class="hljs-number">1</span>;
    <span class="hljs-comment">// If the shifted-out bit was 1, XOR with the CRC-32 constant.</span>
    <span class="hljs-keyword">if</span> (b == <span class="hljs-number">1</span>)<font></font>
        state = state ^ <span class="hljs-number">0xedb88320</span>;
    <span class="hljs-keyword">return</span> state;<font></font>
}<font></font>
<font></font>
<span class="hljs-function">uint32 <span class="hljs-title">crc32_update_1</span><span class="hljs-params">(uint32 state)</span> </span>{
    <span class="hljs-comment">// Do as for a 0 bit, then XOR with the CRC-32 constant.</span>
    <span class="hljs-keyword">return</span> crc32_update_0(state) ^ <span class="hljs-number">0xedb88320</span>;<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
状態レジスタを32要素のバイナリベクトルとして表し、加算と乗算にXORを使用する場合、これ</font></font><code>crc32_update_0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">線形マッピング</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。つまり、バイナリの</font><font style="vertical-align: inherit;">32×32 </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">遷移行列</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">による乗算として表すことができます</font><font style="vertical-align: inherit;">。理由を理解するために、行列にベクトルを乗算することは、各列にベクトルの対応する要素を乗算した後、単に行列の列を合計することに注意してください。シフト操作は、</font></font><code>state &gt;&gt; 1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">単純に</font><font style="vertical-align: inherit;">状態ベクトルの</font><font style="vertical-align: inherit;">各ビット</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を取得し、ビット</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;-1（右から左へのビットの番号付け）を</font><font style="vertical-align: inherit;">除くすべての場所でゼロに等しいベクトルを乗算します</font><font style="vertical-align: inherit;">。比較的言えば、最終的なXOR </font></font><code>state ^ 0xedb88320</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はビットが</font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1に等しい。これは、bと0xedb88320の最初の乗算として表され、次にこの状態にXOR演算されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、</font></font><code>crc32_update_1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは単なる</font></font><code>crc32_update_0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラス（XOR）定数です。これにより</font></font><code>crc32_update_1</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、アフィン変換が</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行われます：行列の乗算の後にマッピング（つまり、ベクトルの加算）が続きます。変換行列のサイズを33×33に増やし、状態ベクトルに要素を追加すると、行列の乗算とマッピングを1つのステップで想像できます。これは常に1です（この表現は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同次座標</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれ</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/sg/ay/or/sgayorbdqetnkmc1y-qm42uywic.png"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変換行列33×33 M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">およびM </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub>,     CRC-32,   0  1, .        :     ,     CRC-32 edb8832016 = <b>111</b>0<b>11</b>0<b>11</b>0<b>111</b>000<b>1</b>00000<b>11</b>00<b>1</b>00000<sub>2</sub>.        ,       .  M<sub>0</sub>   ,   M<sub>1</sub>&nbsp;— edb88320<sub>16</sub>,   CRC-32.        <code>state &gt;&gt; 1</code></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
両方の操作</font></font><code>crc32_update_0</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とは、</font></font><code>crc32_update_1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33×33の遷移行列で表すことができます。行列M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とM </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が示されてい</font><font style="vertical-align: inherit;">ます。行列表現の利点は、行列を乗算できることです。バイナリ表現が01100001 </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2で</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">あるASCII文字「a」を処理することによって行われた状態変化を確認するとします</font><font style="vertical-align: inherit;">。 1つの変換行列でこれらの8ビットのCRC-32の状態の累積変化を想像できます。</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>M</mi><mi>a</mi></msub><mo>=</mo><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>1</mn></msub><msub><mi>M</mi><mn>1</mn></msub><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>1</mn></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="32.921ex" height="2.384ex" viewBox="0 -755.5 14174.2 1026.6" role="img" focusable="false" style="vertical-align: -0.63ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="1722" y="0"></use><g transform="translate(2778,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(4203,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-31" x="1372" y="-213"></use></g><g transform="translate(5627,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-31" x="1372" y="-213"></use></g><g transform="translate(7052,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(8476,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(9901,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(11325,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-30" x="1372" y="-213"></use></g><g transform="translate(12749,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-31" x="1372" y="-213"></use></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>M</mi><mi>a</mi></msub><mo>=</mo><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>1</mn></msub><msub><mi>M</mi><mn>1</mn></msub><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>0</mn></msub><msub><mi>M</mi><mn>1</mn></msub></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-6">M_a = M_0 M_1 M_1 M_0 M_0 M_0 M_0 M_1</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、行をaと繰り返す行の状態の変化を想像することができます。これは、M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aの</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多数のコピーを乗算して</font><font style="vertical-align: inherit;">、行列を累乗することにより行います。これは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">対数</font><sub><font style="vertical-align: inherit;">2 </font></sub><sup><font style="vertical-align: inherit;">n</font></sup><font style="vertical-align: inherit;">ステップ</font><font style="vertical-align: inherit;">だけで</font><font style="vertical-align: inherit;">M </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を計算できる</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">高速指数アルゴリズム</font></a><font style="vertical-align: inherit;">を使用してすばやく実行でき</font><font style="vertical-align: inherit;">ます。たとえば、以下は9文字の文字列「a」の状態を変更するためのマトリックスです。</font></font><sub><font style="vertical-align: inherit;"></font></sub><sup><font style="vertical-align: inherit;"></font></sup><font style="vertical-align: inherit;"></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display"><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mo stretchy=&quot;false&quot;>(</mo><msub><mi>M</mi><mi>a</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>9</mn></msup><mo>=</mo><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><mspace linebreak=&quot;newline&quot; /><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><msub><mi>M</mi><mi>a</mi></msub><mspace linebreak=&quot;newline&quot; /><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><msub><mi>M</mi><mi>a</mi></msub><mspace linebreak=&quot;newline&quot; /><mo>=</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><mo stretchy=&quot;false&quot;>(</mo><msub><mi>M</mi><mi>a</mi></msub><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><msup><mo stretchy=&quot;false&quot;>)</mo><mn>2</mn></msup><msub><mi>M</mi><mi>a</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="97.25ex" height="13.884ex" viewBox="0 -970.7 41871.4 5977.9" role="img" focusable="false" style="vertical-align: -11.63ex; max-width: 778px;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><g transform="translate(12427,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="0" y="0"></use><g transform="translate(389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(1834,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-39" x="550" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="2955" y="0"></use><g transform="translate(4011,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(5456,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(6901,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(8346,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(9791,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(11236,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(12681,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(14126,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(15571,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g></g><g transform="translate(16178,-1567)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1056" y="0"></use><g transform="translate(1445,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(2890,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(4335,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(5780,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(7225,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(8068,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g></g><g transform="translate(17007,-3133)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1445" y="0"></use><g transform="translate(1835,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(3280,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(4725,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(5568,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(6411,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g></g><g transform="translate(17113,-4699)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1056" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1445" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-28" x="1835" y="0"></use><g transform="translate(2224,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g><g transform="translate(3669,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(4513,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(5356,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-29" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-32" x="550" y="583"></use></g><g transform="translate(6199,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-61" x="1372" y="-213"></use></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mo stretchy="false">(</mo><msub><mi>M</mi><mi>a</mi></msub><msup><mo stretchy="false">)</mo><mn>9</mn></msup><mo>=</mo><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><mspace linebreak="newline"></mspace><mo>=</mo><mo stretchy="false">(</mo><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msub><mi>M</mi><mi>a</mi></msub><mspace linebreak="newline"></mspace><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>M</mi><mi>a</mi></msub><msub><mi>M</mi><mi>a</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msub><mi>M</mi><mi>a</mi></msub><mspace linebreak="newline"></mspace><mo>=</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><mo stretchy="false">(</mo><msub><mi>M</mi><mi>a</mi></msub><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msup><mo stretchy="false">)</mo><mn>2</mn></msup><msub><mi>M</mi><mi>a</mi></msub></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-7">(M_a)^9 = M_a M_a M_a M_a M_a M_a M_a M_a M_a\\ = (M_a M_a M_a M_a)^2 M_a\\ = ((M_a M_a)^2)^2 M_a\\ = (((M_a)^2)^2)^2 M_a</script></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カーネルは繰り返しバイトの文字列であるため、</font><font style="vertical-align: inherit;">
行列クイック乗算アルゴリズムは</font><font style="vertical-align: inherit;">、非圧縮カーネルの行列である</font><font style="vertical-align: inherit;">M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kernelの</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">計算に役立ち</font><font style="vertical-align: inherit;">ます。マトリックスからCRC-32チェックサムを取得するには、マトリックスにゼロベクトルを乗算します（ゼロベクトルは均一の座標、つまり32個のゼロであり、次に単位です。ここでは、チェックサムの前処理と後処理のわずかな複雑さを省略して、コンプライアンスをチェックします）。各ファイルのチェックサムを計算するには、反対方向に作業します。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M：= M </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kernelを</font></font></sub></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">初期化することから始め</font><i><sub><font style="vertical-align: inherit;">ます</font></sub></i><font style="vertical-align: inherit;">。カーネルチェックサムは最終ファイル</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チェックサムでもある</font><font style="vertical-align: inherit;">ので、</font><i><font style="vertical-align: inherit;">M</font></i><font style="vertical-align: inherit;">を乗算し</font><font style="vertical-align: inherit;">ます</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゼロベクトルで、受信したチェックサムをCDH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">およびLFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nに</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">格納し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">ファイルのデータ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N - 1である</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルのファイルデータと同じ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が、接頭辞LFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nを</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">添加しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、計算します</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>M</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>F</mi><msub><mi>H</mi><mi>N</mi></msub></mrow></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="7.398ex" height="2.509ex" viewBox="0 -755.5 3185.3 1080.4" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><g transform="translate(970,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="0" y="0"></use><g transform="translate(481,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="0" y="0"></use><g transform="translate(529,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="1175" y="-213"></use></g></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>M</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mrow class="MJX-TeXAtom-ORD"><mi>F</mi><msub><mi>H</mi><mi>N</mi></msub></mrow></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-8">M_{L{FH_N}}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、LFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nの</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">状態変更行列</font><font style="vertical-align: inherit;">と更新</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>M</mi><mo>:=</mo><mi>M</mi><msub><mi>M</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>L</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>F</mi><msub><mi>H</mi><mi>N</mi></msub></mrow></mrow></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="16.028ex" height="2.509ex" viewBox="0 -755.5 6900.8 1080.4" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><g transform="translate(1329,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3A"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMAIN-3D" x="278" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="2664" y="0"></use><g transform="translate(3715,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4D" x="0" y="0"></use><g transform="translate(970,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4C" x="0" y="0"></use><g transform="translate(481,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-46" x="0" y="0"></use><g transform="translate(529,0)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-48" x="0" y="0"></use><use transform="scale(0.5)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=https://habr.com/ru/post/459254/&amp;usg=ALkJrhgfU8-sXeCM1WTy9yMOoe-lNY1Vqw#MJMATHI-4E" x="1175" y="-213"></use></g></g></g></g></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>M</mi><mo>:=</mo><mi>M</mi><msub><mi>M</mi><mrow class="MJX-TeXAtom-ORD"><mi>L</mi><mrow class="MJX-TeXAtom-ORD"><mi>F</mi><msub><mi>H</mi><mi>N</mi></msub></mrow></mrow></msub></math></span></span><script type="math/tex" id="MathJax-Element-9">M := M M_{L{FH_N}}</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ここで、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">、核の後ろの</font><font style="vertical-align: inherit;">LFH </font></font><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nの</font></font></sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">処理からの状態の累積変化を表し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">ファイル</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N-1</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のチェックサムを計算し</font><font style="vertical-align: inherit;">、再び</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にゼロベクトルを</font><font style="vertical-align: inherit;">乗算</font><font style="vertical-align: inherit;">します。</font><font style="vertical-align: inherit;">すべてのファイルが処理されるまで</font><font style="vertical-align: inherit;">、状態変化行列を</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">累積することによって手順を続け</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張子：Zip64</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前は、zip形式の制限による拡張の問題に直面していました-zipファイルがいかにスマートにパッケージ化されたかに関係なく、281 TBを超える発行は不可能でした。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Zip64</font></a><font style="vertical-align: inherit;">を使用してこれらの制限を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">超える</font></a><font style="vertical-align: inherit;">ことができます</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、一部のヘッダーフィールドのサイズを64ビットに増やすzip拡張。 Zip64サポートは決して普遍的ではありませんが、最も一般的に実装されている拡張機能の1つです。圧縮率に関しては、Zip64の効果により、中央ディレクトリのヘッダーのサイズが46バイトから58バイトに、ローカルディレクトリのヘッダーのサイズが30バイトから50バイトに増加します。簡略化されたモデルで最適な膨張係数の式を見ると、Zip64形式のzip爆弾は2次関数的に成長しますが、分母が大きいため遅くなります。これは、下の図で確認できます。互換性が失われ、成長が遅れるため、ファイルサイズに関するほとんどすべての制限を削除します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
42.zipのように4.5 PBに拡張するzip爆弾が必要だとします。</font><font style="vertical-align: inherit;">アーカイブはどのくらいの大きさにすべきですか？</font><font style="vertical-align: inherit;">バイナリ検索を使用すると、そのようなファイルの最小サイズは46 MBであることがわかります。</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zbxl.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 46 MB→4.5 PB（Zip64、互換性が低い）</font></font></li>
</ul><pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipbomb --mode = quoted_overlap --num-files = 190023 --compressed-size = 22982788 --zip64&gt; zbxl.zip</font></font></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.5ペタバイト- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラックホールの最初の画像</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">について、イベントホライズン望遠鏡によってほぼ</font><font style="vertical-align: inherit;">同じ</font><font style="vertical-align: inherit;">量のデータが記録されました</font><font style="vertical-align: inherit;">。データセンター内のラックとハードドライブ付きのラックです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zip64では、最大圧縮率を考慮することはほとんど興味深いことではありません。なぜなら、圧縮されたzipファイルでさえも法外になるまで、zipファイルのサイズと圧縮率を増加し続けることができるからです。ただし、興味深いしきい値は2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バイト（18 EBまたは16 EiB）です。非常に多くのデータがほとんどのファイルシステムに収まりません。バイナリ検索では、少なくとも1200万のファイルと1.5 GBの圧縮コアが含まれている最小のzip爆弾が検出されます。 zipファイルの合計サイズは2.9 GBで、2 </font><sup><font style="vertical-align: inherit;">64で</font></sup><font style="vertical-align: inherit;">解凍されます</font></font><sup><font style="vertical-align: inherit;"></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+11 727 895 877バイト、圧縮率は62億以上1に。</font><font style="vertical-align: inherit;">このファイルをダウンロード用にアップロードしていませんが、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースコード</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して自分で生成でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">彼には</font><font style="vertical-align: inherit;">、Info-ZIP UnZip 6.0で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バグが発生</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font><font style="vertical-align: inherit;">たほどのサイズのファイルがあります</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipbomb --mode = quoted_overlap --num-files = 12056313 --compressed-size = 1482284040 --zip64&gt; zbxxl.zip</font></font></pre><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張子：bzip2</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DEFLATEはzip形式の最も一般的な圧縮アルゴリズムですが、これは多くのオプションの1つにすぎません。おそらく2番目に一般的なアルゴリズムは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bzip2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。 DEFLATEほど互換性はありませんが。理論的には、bzip2では、最大圧縮比は約140万対1であり、これによりコアのより高密度なパッキングが可能になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
bzip2は最初に「ランレングスエンコーディング」をエンコードし、繰り返しバイトの文字列長を51倍に減らします。次に、データは900 KBのブロックに分割され、各ブロックは個別に圧縮されます。理論的には、1つのブロックで最大32バイトを圧縮できます。 900 000×51/32 = 1 434375。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
互換性の損失を無視すると、bzip2はより効果的な爆弾になりますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい-ただし、小さなファイルのみ。問題は、bzip2では、ローカルファイルのヘッダーを引用するために使用した非圧縮のDEFLATEブロックのようなものは何もないということです。したがって、ファイルをオーバーラップしてカーネルを再利用することは不可能です。ファイルごとに独自のコピーを書き込む必要があるため、全体的な圧縮率は単一のファイルの比率よりも高くなりません。以下のグラフでは、オーバーラップなしで、サイズが約メガバイトのファイルに対してのみ、bzip2がDEFLATEより優れていることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のセクションで説明するbzip2でヘッダーを引用する別の方法に希望があるだけです。また、特定のzipパーサーがbzip2 </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不一致のファイル名を許可する場合は、引用符で囲む必要のない完全なオーバーラップコンストラクトを使用できます。</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/350/bb1/aa1/350bb1aa131f71762b2ad03d4203ac66.svg"><br>
<i><font color="gray"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">異なるzip爆弾の圧縮率の比較。対数軸に注意してください。各デザインは、Zip64ありとなしで示しています。軸の一定比率からわかるように、オーバーラップのない構造は線形の成長率を持っています。 bzip2グラフの垂直オフセットは、bzip2の圧縮率がDEFLATEの圧縮率の約1000倍であることを意味します。引用されたDEFLATE構文は、2：1軸への傾きによって証明されるように、2次成長率を持っています。 Zip64バリアントは少し効率が落ちますが、281 TBを超えることができます。最大ファイルサイズ（2 </font><sup><font style="vertical-align: inherit;">32に</font></sup><font style="vertical-align: inherit;">達した場合、追加フィールドを引用するbzip2のグラフは、2次から線形に移行します。</font></font><sup><font style="vertical-align: inherit;"></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">−2バイト）、またはファイルの最大許容数</font></font></font></i> <br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張：追加フィールドによる引用</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでのところ、DEFLATE関数を使用してローカルファイルのヘッダーを引用していますが、このトリックがbzip2では機能しないことがわかりました。</font><font style="vertical-align: inherit;">ただし、zip形式の関数のみを使用し、圧縮アルゴリズムに依存しない、もう少し限定された代替引用方法があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ローカルファイルのヘッダー構造の最後</font><font style="vertical-align: inherit;">に、通常のヘッダーフィールドに適合しない情報を格納するため</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">可変長の</font><i><font style="vertical-align: inherit;">追加フィールドがあり</font></i><font style="vertical-align: inherit;">ます（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APPNOTE.TXT、セクション4.3.7</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">追加情報には、たとえば、タイムスタンプまたはUnixのuid / gidが含まれます。</font><font style="vertical-align: inherit;">Zip64情報も追加フィールドに格納されます。</font><font style="vertical-align: inherit;">追加フィールドは、長さ値構造として表されます。</font><font style="vertical-align: inherit;">値を追加せずに長さを増やす場合、追加フィールドには、zipファイル内の背後にあるもの、つまりローカルファイルの次のヘッダーが含まれます。</font><font style="vertical-align: inherit;">この方法を使用すると、ローカルファイルの各ヘッダーは次のヘッダーを「引用」し、独自の追加フィールドで囲むことができます。</font><font style="vertical-align: inherit;">DEFLATEと比較して、3つの利点があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">余分なフィールドを引用するのに必要なのは5バイトではなく4バイトだけで、カーネル用により多くのスペースを残します。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zip形式の制限により、ファイルサイズは増加しません。つまり、カーネルが大きくなります。</font></font><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bzip2での引用を提供します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの利点にもかかわらず、追加フィールドを介した引用は柔軟性が低くなります。これはDEFLATEのようにチェーンではありません。ローカルファイルの各見出しには、直後の見出しだけでなく、</font><font style="vertical-align: inherit;">後続の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべて</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の見出し</font><font style="vertical-align: inherit;">も含める必要があり</font><font style="vertical-align: inherit;">ます。 zipファイルの先頭に近づくにつれて、追加のフィールドが増加します。最大フィールド長は2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -1バイトであるため、名前が</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">期待どおりに割り当てられて</font></a><font style="vertical-align: inherit;">いると仮定すると、最大1808のローカルファイルヘッダー（またはZip64では1170）のみを引用できます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（DEFLATEの場合、追加のフィールドを使用して、ローカルファイルの最初の（最短の）ヘッダーを引用し、残りをDEFLATEの引用に切り替えることができます）。別の問題：追加フィールドの内部データ構造に対応するには</font><font style="vertical-align: inherit;">、引用データの前にある</font><font style="vertical-align: inherit;">タイプ（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">APPNOTE.TXT、セクション4.5.2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）に</font><font style="vertical-align: inherit;">16ビットのタグを選択する必要があります</font><font style="vertical-align: inherit;">。意味のあるメタデータとして解釈するのではなく、パーサーが引用符で囲まれたデータを無視するようにするtypeタグを選択したいと思います。 zipパーサーは不明なタイプのタグを無視する必要があるため、ランダムにタグを選択できますが、将来、一部のタグがデザインの互換性に違反するリスクがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の図は、bzip2、c、およびZip64なしで追加のフィールドを使用する可能性を示しています。</font><font style="vertical-align: inherit;">どちらのグラフにも、成長が2次から線形に成長する転換点があります。</font><font style="vertical-align: inherit;">Zip64がない場合、これは非圧縮ファイルの最大サイズ（2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">−2バイト）; </font><font style="vertical-align: inherit;">その場合、ファイルの数は増やすことができますが、サイズは増やすことができません。</font><font style="vertical-align: inherit;">ファイル数が1809に達すると、グラフは完全に終了します。その後、追加のヘッダーを引用するための追加フィールドのスペースが不足します。</font><font style="vertical-align: inherit;">Zip64を使用すると、1171ファイルでフラクチャが発生します。その後、ファイルサイズのみを増やすことができますが、その数は増やすことができません。</font><font style="vertical-align: inherit;">追加のフィールドはDEFLATEの場合に役立ちますが、その差は非常に小さいため、視覚的には目立ちません。</font><font style="vertical-align: inherit;">zbsm.zipの圧縮率が1.2％増加します。</font><font style="vertical-align: inherit;">0.019％のzblg.zip; </font><font style="vertical-align: inherit;">とzbxl.zip 0.0025％。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">討論</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このテーマに関する彼らの作業では、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pletzと同僚</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はファイルの重複を使用して、ほぼ自己複製するzipアーカイブを作成します。</font><font style="vertical-align: inherit;">ファイルのオーバーラップ自体は</font><font style="vertical-align: inherit;">、Ginvael Coldwindによって</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">提案されました</font></a><font style="vertical-align: inherit;">（スライド47）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
互換性を考慮に入れて引用が重複するzip爆弾の設計を開発しました。実装にはいくつかの違いがあり、その一部を以下の表に示します。</font><font style="vertical-align: inherit;">結果の設計は、通常の方法で機能するzipパーサーと互換性があります。つまり、最初に中央ディレクトリを確認し、それをファイルのインデックスとして使用します。</font><font style="vertical-align: inherit;">その中で、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Nailの</font></a><font style="vertical-align: inherit;">ユニークなzipパーサー</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは正式な文法から自動的に生成されます。ただし、この設計は「ストリーミング」パーサーと互換性がありません。これは、最初に中央ディレクトリを読み取らずに、zipファイルを最初から最後まで1つのパスで分析します。本来、ストリーミングパーサーでは、ファイルのオーバーラップは一切許可されていません。ほとんどの場合、最初のファイルのみを抽出します。さらに</font><font style="vertical-align: inherit;">、中央のディレクトリを最後に分析し、すでに認識しているローカルファイルのヘッダーとの整合性をチェック</font><font style="vertical-align: inherit;">する</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sunzip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の場合のように</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、</font></a><font style="vertical-align: inherit;">エラーを</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">スローする</font></a><font style="vertical-align: inherit;">ことも</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">あり</font></a><font style="vertical-align: inherit;">ます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
抽出されたファイルをローカルファイルのヘッダーバイトとは異なる特定のプレフィックスで開始する場合は、次のヘッダーが引用する非圧縮ブロックの前にDEFLATEブロックを挿入できます。 zipアーカイブ内のすべてのファイルが爆弾の作成に参加する必要があるわけではありません。特別な形式に対応するために、必要に応じて、通常のファイルをアーカイブに含めることができます（</font></font><code>--template</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この使用例の</font><font style="vertical-align: inherit;">ソースコードにはパラメーターがあります</font><font style="vertical-align: inherit;">）。 Java JARドキュメント、Android APK、LibreOfficeなど、多くの形式はコンテナとしてzipを使用します。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDF</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多くの点でzipに似ています。ファイルの最後に前のオブジェクトを指す相互参照テーブルがあり、FlateDecodeフィルターによるオブジェクトの圧縮をサポートしています。私は試していませんが、オーバーラップ付きの引用のアイデアを使用してPDF爆弾を作成できます。おそらく、それほど作業する必要はありません。binaryhax0r </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1つのオブジェクトに複数のFlateDecodeレイヤーを指定するだけでよい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ブログに書き込み</font></a><font style="vertical-align: inherit;">ます。その後、PDF爆弾の作成は簡単になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事で説明する特定のクラスのzip爆弾を定義するのは簡単です。重複するファイルを見つけるだけです。マーク・アドラーが</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">パッチを</font></a><font style="vertical-align: inherit;">書いた</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unzip Info-ZIPの場合、これはまさにそれを行います。</font><font style="vertical-align: inherit;">ただし、一般に、重複するファイルをブロックしても、すべてのクラスのzip爆弾から保護されるわけではありません。</font><font style="vertical-align: inherit;">ファイルの分析に使用されるパーサーの内部コンポーネントに関する正確な知識がない場合、ファイルがzip爆弾かどうかを事前に予測することは困難です。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘッダーを確認し、すべてのファイルの「非圧縮サイズ」フィールドを合計しても機能しません</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これは、ヘッダーの値が実際の非圧縮サイズと一致しない可能性があるためです（互換性の表で、「ファイルが小さすぎる」行を参照してください）。</font><font style="vertical-align: inherit;">zip爆弾に対する信頼性の高い保護には、zipパーサーの動作中の時間、メモリ、およびディスク領域の制限が含まれます。</font><font style="vertical-align: inherit;">信頼できないデータを使用した複雑な操作と同様に、zipファイルの解析は慎重に行ってください。</font></font><br>
<br>
<div class="scrollable-table"><table>
<thead>
<tr>
<td></td>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Info-zip </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UnZip 6.0</font></font></a></th>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Python 3.7<br>
zipfile</a></th>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Go 1.12<br>
archive/zip</a></th>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">yauzl 2.10.0<br>
(Node.js)</a></th>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Nail<br>
examples/zip</a></th>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">Android 9.0.0 r1<br>
libziparchive</a></th>
<th><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">sunzip 0.4</a><br>
(streaming)</th>
</tr>
</thead>
<tbody>
<tr>
<th>DEFLATE</th>
<td>✓</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
</tr>
<tr>
<th>Zip64</th>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
</tr>
<tr>
<th>bzip2</th>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
</tr>
<tr>
<th>   </th>
<td></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
</tr>
<tr>
<th>  CRC-32</th>
<td><abbr title="予想される実際のCRCを示します"></abbr></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
</tr>
<tr>
<th>    </th>
<td>✓</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
</tr>
<tr>
<th> 2<sup>32</sup>−1 </th>
<td>✓</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
</tr>
<tr>
<th> 2<sup>16</sup>−1 </th>
<td>✓</td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">−</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">✓</a></td>
</tr>
</tbody>
<tbody>
<tr>
<th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">overlap.zip</a></th>
<td></td>
<td>−</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>−</td>
<td>−</td>
</tr>
<tr>
<th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">zbsm.zip  zblg.zip</a></th>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>−</td>
</tr>
<tr>
<th> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">zbxl.zip</a></th>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>✓</td>
<td>−</td>
<td>−</td>
<td>−</td>
</tr>
</tbody>
</table></div><br>
<i><font color="gray">    zip-,    ,     zip-.      DEFLATE  Zip64,          ,    CRC     32-  16- .</font></i><br>
<br>
<h1></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事のドラフトに関するコメントを提供して</font><font style="vertical-align: inherit;">
くれた</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mark Adler</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Russ Cox</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Brandon Enright</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marek Maykovsky</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Josh Wolfe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、および</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USENIX WOOT 2019の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レビュー担当者に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">感謝</font></a><font style="vertical-align: inherit;">します。</font><font style="vertical-align: inherit;">Kaolan McNamaraは、LibreOfficeのセキュリティに対するzip爆弾の影響を評価しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事のバージョンは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">USENIX WOOT 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワークショップ用に準備されてい</font><font style="vertical-align: inherit;">ます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソースコード</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が利用可能です。</font><font style="vertical-align: inherit;">ワークショップでのプレゼンテーション用の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アーティファクト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zipbomb-woot19.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルにあります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
爆弾の1つを投下するシステムを見つけましたか？</font><font style="vertical-align: inherit;">爆弾はバグ検索プログラムでバグを見つけたり、お金を稼ぐのに役立ちましたか？</font><font style="vertical-align: inherit;">教えてください、ここで触れようと思います。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LibreOffice 6.1.5.2</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
zblg.zipをzblg.odtまたはzblg.docxに名前変更した後、LibreOfficeは約4 GBの一連の一時ファイルを作成および削除し、ファイル形式を判別しようとします。</font><font style="vertical-align: inherit;">最終的に、彼はこれを終了し、一時ファイルが到着すると削除するため、zip爆弾はディスクをいっぱいにすることなく一時的なDoSのみを引き起こします。</font><font style="vertical-align: inherit;">Kaolan McNamaraが私のエラーメッセージに答えました。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mozillaアドオンサーバー2019.06.06</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
addons.mozilla.orgソフトウェアの一部であるローカルのaddons-serverインストールに対してzip爆弾を試しました。</font><font style="vertical-align: inherit;">システムは爆弾を適切に処理し、ファイルの抽出に110秒の時間制限を課します。</font><font style="vertical-align: inherit;">zip爆弾は、ディスクがこの制限時間まで許容する限り、急速に拡大しますが、プロセスは強制終了され、解凍されたファイルは最終的に自動的にクリーンアップされます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UnZip 6.0</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mark Adlerは、このクラスのzip爆弾を検出するためのUnZipのパッチを作成しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2019年7月5日：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">CVE-2019-13232がUnZipに割り当てられて</font></a><font style="vertical-align: inherit;">いることに気付きました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。個人的には、UnZip（または任意のzipパーサー）がこの種のzip爆弾を処理できるかどうかは、必ずしも脆弱性またはバグであると私は主張します。これは、仕様に違反しない自然な実装です。この記事の爆弾のタイプは1つのタイプに過ぎず、zipパーサーを困惑させる他の多くの方法があります。上記のように、リソースが不足しないように防御したい場合は、既知の攻撃をすべて一覧表示、検出、およびブロックしようとしないでください。むしろ、どのような攻撃に遭遇しても、パーサーがそのような状況に陥らないように、時間やその他のリソースに外部の制限を設ける必要があります。最初のパスの最適化として特定のデザインを検出して拒否しようとすることに問題はありません。しかし、あなたはそこで止まることはできません。信頼できないデータによる操作を分離して制限しない限り、システムはおそらくまだ脆弱です。 HTMLでのクロスサイトスクリプティングとの類似を考えてみましょう。正しい保護は、コードとして解釈できる特定のバイトを除外することではなく、すべてを正しく回避することです。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ウイルス対策エンジン</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Twitterユーザーの@TVqQAAMAAAAEAAA </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レポート</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：「テストマシン上のMcAfeeウイルス対策</font><font style="vertical-align: inherit;">ソフトウェア</font><font style="vertical-align: inherit;">が爆発しました」</font><font style="vertical-align: inherit;">自分でテストしたことはありません。バージョン番号などの詳細はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tavis Ormandi </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VirusTotalにzblg.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">のタイムアウト</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">が</font></a><font style="vertical-align: inherit;">多数ある</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">こと</font></a><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">示し</font></a><font style="vertical-align: inherit;">てい</font><font style="vertical-align: inherit;">ます（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2019年6月6日からのスクリーンショット</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：AhnLab-V3、ClamAV、DrWeb、Endgame、F-Secure、GData、K7AntiVirus、K7GW、MaxSecure、McAfee、McAfee-GW -Edition、Panda、Qihoo-360、Sophos ML、VBA32。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zbsm.zipの結果</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2019年6月6日のスクリーンショット</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）は似ていますが、タイムアウトエンジンのセットが異なります：Baido、Bkav、ClamAV、CMC、DrWeb、Endgame、ESET-NOD32、F-Secure、GData、Kingsoft、McAfee-GW-Edition、NANO-Antivirus、Acronis。</font><font style="vertical-align: inherit;">興味深いことに、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zbxl.zip</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">結果には</font></a><font style="vertical-align: inherit;">タイムアウトがありません（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2019年6月6日のスクリーンショット</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">おそらく一部のアンチウイルスはZip64をサポートしていませんか？</font><font style="vertical-align: inherit;">いくつかのエンジンは、ファイルを一種の「圧縮爆弾」として検出します。</font><font style="vertical-align: inherit;">ファイル名の変更や各ファイルへのASCII接頭辞の追加など、マイナーな変更を加えても引き続き変更が行われるかどうかは興味深いことです。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最後の声明</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Facebookに終止符を打つ時がきた。</font><font style="vertical-align: inherit;">これはあなたにとって中立的な仕事ではありません。あなたが毎日仕事に来るとき、あなたは何か間違ったことをしています。</font><font style="vertical-align: inherit;">Facebookアカウントをお持ちの場合は削除してください。</font><font style="vertical-align: inherit;">Facebookで作業している場合は、解雇されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、国家安全保障局が破壊されなければならないことを忘れないでください。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja459244/index.html">ノート製品マネージャー：アプリストアのゲームページでのユーザーの行動。ゲームのダウンロードにはどのくらい時間がかかりますか</a></li>
<li><a href="../ja459246/index.html">サイトコンバージョンが減少しているのはなぜですか？60のデザインとユーザビリティエラーの例</a></li>
<li><a href="../ja459248/index.html">7月9日から7月14日までのモスクワでのデジタルイベント</a></li>
<li><a href="../ja459250/index.html">PostgreSQLのWAL：2.事前記録ログ</a></li>
<li><a href="../ja459252/index.html">セキュリティウィーク28：スマートホームのハッキング</a></li>
<li><a href="../ja459256/index.html">テーマ病院をさまざまなプラットフォームに最適化した方法</a></li>
<li><a href="../ja459258/index.html">フックしない14,000マイル</a></li>
<li><a href="../ja459262/index.html">22歳で引退</a></li>
<li><a href="../ja459264/index.html">Tarantoolネットワークから抜け出す。トラフィックをフィルタリングする際のノードの同期</a></li>
<li><a href="../ja459272/index.html">Reactコンポーネント用のAPIを作成する、パート1：競合する小道具を作成しない</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>