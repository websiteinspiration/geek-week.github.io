<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚òïÔ∏è ü§ôüèø üçî GUI en russe, ou terminal VKS faites-le vous-m√™me üë©üèΩ‚Äçüéì üê´ üë©üèΩ‚Äçüè≠</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Exp√©rience dans le d√©veloppement d'une interface graphique C ++ pour le syst√®me de vid√©oconf√©rence russe (VKS). La synth√®se des technologies modernes ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>GUI en russe, ou terminal VKS faites-le vous-m√™me</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/protei/blog/504894/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exp√©rience dans le d√©veloppement d'une interface graphique C ++ pour le syst√®me de vid√©oconf√©rence russe (VKS). </font><font style="vertical-align: inherit;">La synth√®se des technologies modernes et des exigences de certification. </font><font style="vertical-align: inherit;">Le principal ¬´rake¬ª du d√©veloppement et les moyens de les contourner. </font><font style="vertical-align: inherit;">Qu'est-ce que l'interface graphique et le ballet russe ont en commun. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re chose que voit l'utilisateur du syst√®me de visioconf√©rence est l'interface. </font><font style="vertical-align: inherit;">Et dans la plupart des cas, c'est par son apparence et sa fonctionnalit√© qu'ils jugent le syst√®me. </font><font style="vertical-align: inherit;">Une interface incommode ou tentaculaire ne permettra pas d'√©valuer les performances √©lev√©es du syst√®me ou les fonctionnalit√©s √©tendues. </font><font style="vertical-align: inherit;">Techniquement, un ¬´beau¬ª syst√®me doit √™tre envelopp√© dans une coque de travail attrayante et stable. </font><font style="vertical-align: inherit;">Par cons√©quent, au d√©but du d√©veloppement du syst√®me VKS domestique, ce moment a √©t√© imm√©diatement pris en compte.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mq/zf/vr/mqzfvrwj1mk6anlm3rjpjg44ngw.png" alt="image"><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qui sera l'utilisateur du syst√®me de vid√©oconf√©rence russe?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depuis le printemps 2020, la r√©ponse √† la question de l'opportunit√© de d√©velopper un syst√®me VKS √† part enti√®re est devenue √©vidente. Les fonctionnaires, les entreprises commerciales, les h√¥pitaux et les √©coles ont besoin de moyens de communication modernes avec un certain niveau de productivit√© et de s√©curit√©. Vous pouvez parler dans Zoom, mais vaut-il la peine de l'utiliser pour de s√©rieuses n√©gociations commerciales ou une r√©union op√©rationnelle de managers?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour diverses t√¢ches des entreprises russes, il est devenu n√©cessaire de cr√©er un syst√®me de vid√©oconf√©rence national. </font><font style="vertical-align: inherit;">De plus, un syst√®me compos√© non seulement d'un composant logiciel, mais √©galement d'un mat√©riel √† part enti√®re. </font><font style="vertical-align: inherit;">Parmi les fournisseurs de renomm√©e mondiale, au moins 5 entreprises proposent des syst√®mes de visioconf√©rence multifonctionnels. </font><font style="vertical-align: inherit;">Mais en Russie, le concept de substitution des importations commence progressivement √† fonctionner. </font><font style="vertical-align: inherit;">De plus, les probl√®mes de s√©curit√© pour beaucoup sont devenus plus importants que le pays d'origine du produit, et le prix aux taux de change actuels n'est pas √† la derni√®re place. </font><font style="vertical-align: inherit;">Et la ¬´beaut√©¬ª de l'interface s'est av√©r√©e assez r√©aliste √† d√©velopper √† partir de z√©ro.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GUI au d√©marrage</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les principales exigences pour les interfaces modernes sont la rapidit√© de mise en ≈ìuvre, l'apparence √† jour et la convivialit√© totale. </font><font style="vertical-align: inherit;">Ainsi, la premi√®re t√¢che des d√©veloppeurs de l'interface utilisateur graphique (GUI) a √©t√© une d√©finition claire de la fonctionnalit√© logicielle pour la vid√©oconf√©rence. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du point de vue de l'interface graphique, les exigences suivantes ont √©t√© formul√©es:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Passer des appels vid√©o / audio sortants;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Accepter / rejeter les appels entrants;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R√©pondre automatiquement √† un appel entrant √† un intervalle de temps personnalis√©;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Basculer entre deux appareils audio (casque / haut-parleur) pendant et en dehors de l'appel;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Allumez / √©teignez le microphone et la cam√©ra pendant et en dehors de l'appel;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Num√©rotation DTMF pendant un appel;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> R√©union de conf√©rence au terminal;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gestion des cam√©ras PTZ, sauvegarde des pr√©r√©glages PTZ et de leur application;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La capacit√© de sortie vid√©o sur plusieurs fen√™tres diff√©rentes;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Contr√¥lez la souris, le clavier, la t√©l√©commande;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> La possibilit√© de contr√¥ler √† distance le terminal depuis l'interface Web.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette liste de fonctions vous permet de r√©soudre le probl√®me du d√©veloppement d'une interface de diff√©rentes mani√®res. </font><font style="vertical-align: inherit;">De plus, le choix d'un type d'impl√©mentation sp√©cifique a √©t√© affect√© par les limitations du type de langages de programmation (par exemple, Java n'√©tait pas cat√©goriquement appropri√© pour des raisons de certification, CSS / HTML - selon la fonctionnalit√©), la sp√©cialisation des d√©veloppeurs et le calendrier. </font><font style="vertical-align: inherit;">Collectivement, le choix a √©t√© fait en faveur de C ++ et de l'utilisation du framework Qt5, car, par exemple, la technologie QML plus moderne ne permet pas de rendre la vid√©o en utilisant un contexte OpenGL arbitraire, et cela √©tait n√©cessaire selon les ToR pour les terminaux VKS.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/f6/gd/lr/f6gdlr-u2n2ncctyiqjss5zloty.png" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rapide et efficace</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier prototype d'interface graphique a √©t√© cr√©√© pour le softphone de Qt et a utilis√© de nombreuses biblioth√®ques open source. </font><font style="vertical-align: inherit;">Par exemple, pour le protocole SIP, des biblioth√®ques eXosip / oSIP ont √©t√© utilis√©es, ffmpeg pour l'encodage / d√©codage vid√©o et audio et PortAudio pour travailler avec des p√©riph√©riques audio. </font><font style="vertical-align: inherit;">Ce softphone fonctionnait sous Linux, Windows, MacOS et √©tait un d√©monstrateur de technologie, et non un v√©ritable appareil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus tard, un softphone abstrait a √©t√© transform√© en un v√©ritable projet de visiophone, et la premi√®re version du logiciel aurait d√ª √™tre cr√©√©e 2 mois apr√®s le d√©but. </font><font style="vertical-align: inherit;">Pour r√©soudre ce probl√®me en si peu de temps, le logiciel du t√©l√©phone a √©t√© divis√© en modules et r√©parti entre plusieurs groupes de d√©veloppeurs en fonction des comp√©tences. </font><font style="vertical-align: inherit;">Une telle organisation du processus a permis de d√©velopper rapidement et efficacement le projet de visiophone.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Noyau et avant</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour l'unification et la possibilit√© d'utiliser les d√©veloppements GUI existants dans d'autres appareils √† partir d'un projet existant, la base de code commune se trouve dans un module distinct - le backend GUI, ou le module de base GUI. </font><font style="vertical-align: inherit;">Et les repr√©sentations directement, qui sont diff√©rentes pour diff√©rents appareils, sont impl√©ment√©es dans des modules frontaux GUI distincts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette architecture des modules GUI s'est av√©r√©e avantageuse et a conduit au r√©sultat souhait√©: le d√©veloppement d'interfaces pour les nouveaux composants du syst√®me VKS lui-m√™me est devenu relativement rapide et de haute qualit√©. </font><font style="vertical-align: inherit;">Apr√®s tout, les interfaces des terminaux VKS n'avaient plus besoin d'√™tre r√©√©crites √† partir de z√©ro.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tourment et victoire</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le chemin de la cr√©ation d'un logiciel, il y a naturellement des difficult√©s et des probl√®mes. </font><font style="vertical-align: inherit;">La cr√©ation d'une interface graphique pour la vid√©oconf√©rence n'a pas fait exception. </font><font style="vertical-align: inherit;">Quel que soit le but sp√©cifique du syst√®me, ils peuvent √™tre r√©p√©t√©s dans n'importe quelle commande. </font><font style="vertical-align: inherit;">Les difficult√©s et les victoires sur la voie du d√©veloppement sont int√©ressantes pour les coll√®gues, et elles permettront peut-√™tre de trouver des solutions efficaces sans notre ¬´rake¬ª.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une coh√©rence pour toujours</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Historiquement, le tout premier probl√®me int√©ressant qui s'est pos√© lors du d√©veloppement de l'interface graphique pour diff√©rents types de terminaux VKS a √©t√© le probl√®me de coh√©rence, c'est-√†-dire l'√©tat coordonn√© de tous les modules. </font><font style="vertical-align: inherit;">Pendant le fonctionnement, l'interface graphique interagit avec plusieurs autres modules: un module d'interaction avec le mat√©riel, un sous-syst√®me de gestion des appels, un module de traitement multim√©dia (MCU) et un sous-syst√®me d'interaction utilisateur.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cs/xp/5b/csxp5bydmvx6vi9eviyuxg8-d3k.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Initialement, l'interface graphique fonctionnait avec tous ces modules comme ind√©pendants, c'est-√†-dire qu'elle pouvait envoyer des demandes √† 2 modules diff√©rents en m√™me temps. Cela s'est av√©r√© faux et a parfois conduit √† des probl√®mes, car ces modules eux-m√™mes n'√©taient pas ind√©pendants et interagissaient activement les uns avec les autres. La solution au probl√®me a √©t√© la cr√©ation d'un programme de travail sp√©cial, qui a assur√© l'ex√©cution strictement s√©quentielle des demandes dans tous les modules.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y avait deux difficult√©s √† ajouter: premi√®rement, certaines (mais pas toutes) les demandes n√©cessitent une r√©ponse, en pr√©vision de laquelle le terminal est en fait dans un √©tat incoh√©rent, de sorte que d'autres demandes ne peuvent pas √™tre effectu√©es. Cependant, le blocage de l'interface utilisateur en attendant les r√©ponses est √©galement ind√©sirable. Deuxi√®mement, les r√©ponses aux requ√™tes GUI des modules, ainsi que les requ√™tes des modules √† l'interface graphique, viennent dans leurs propres threads, diff√©rents de l'interface graphique, mais l'interface graphique doit impl√©menter tous les changements d'√©tat dans son thread (pour certaines actions, Qt l'exige, mais dans dans certains cas, cela √©vite des difficult√©s inutiles pour assurer la synchronisation des threads).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution a √©t√© trouv√©e et comprenait deux parties. Tout d'abord, toutes les demandes / r√©ponses d'autres modules ont √©t√© redirig√©es vers le flux GUI en utilisant le m√©canisme d'intervalle de signal Qt en conjonction avec QueuedConnection, c'est-√†-dire en utilisant la boucle d'√©v√©nement QApplication globale. Ensuite, pour assurer un traitement coh√©rent de toutes les demandes, un syst√®me Transitions a √©t√© d√©velopp√© avec sa propre file d'attente et son propre cycle de traitement (TransitionLoop).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, lorsque l'utilisateur appuie sur un bouton d'action dans l'interface graphique (par exemple, le bouton d'appel), une transition correspondante est cr√©√©e, qui est plac√©e dans la file d'attente de transition. Apr√®s cela, un signal est g√©n√©r√© pour le cycle de traitement de transition. TransitionLoop, lors de la r√©ception d'un signal, cherche √† voir s'il y a une transition en cours maintenant. Si tel est le cas, l'attente de la fin de la transition en cours se poursuit; sinon, la transition suivante est extraite de la file d'attente de transition et lanc√©e. Lorsqu'une r√©ponse est re√ßue d'un autre module TransitionLoop utilisant le m√™me signal, la fin de la transition en cours est notifi√©e et TransitionLoop peut d√©marrer la transition suivante √† partir de la file d'attente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'important ici est que tout le traitement de transition se fait dans un thread GUI. </font><font style="vertical-align: inherit;">Ceci est assur√© par l'utilisation du m√©canisme d'intervalle de signal Qt dans la variante QueuedConnection, dans lequel un √©v√©nement est g√©n√©r√© pour chaque signal et plac√© dans le EventLoop principal de l'application.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendu OpenGL sur du mat√©riel basse consommation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre difficult√© √† laquelle nous avons d√ª faire face √©tait le probl√®me du rendu vid√©o. Qt fournit pour le rendu OpenGL une classe QOpenGLWidget sp√©ciale et des classes d'assistance associ√©es, qui √©taient √† l'origine utilis√©es pour le rendu vid√©o. Les donn√©es de rendu (images vid√©o d√©cod√©es) elles-m√™mes sont fournies par le module de traitement multim√©dia (MCU), qui, entre autres, impl√©mente le d√©codage mat√©riel du flux vid√©o (sur le GPU). Sur les processeurs de faible puissance, un "ralentissement" du rendu de la vid√©o FullHD a √©t√© trouv√©. La solution directe √©tait de remplacer le processeur, mais cela n√©cessiterait un traitement s√©rieux des composants d√©j√† finis du syst√®me de visioconf√©rence et augmenterait le co√ªt des appareils eux-m√™mes. Par cons√©quent, l'ensemble du processus de rendu a √©t√© soigneusement analys√© pour trouver de plus belles fa√ßons de r√©soudre le probl√®me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec le rendu OpenGL standard et le d√©codage mat√©riel, les √©v√©nements suivants se produisent: les donn√©es avec la vid√©o encod√©e proviennent du r√©seau, elles sont stock√©es dans la RAM, puis ces donn√©es de la RAM sont transf√©r√©es vers la m√©moire vid√©o sur le GPU, o√π elles sont d√©cod√©es. Ensuite, les donn√©es d√©cod√©es ayant un volume significativement plus grand que les donn√©es cod√©es sont √† nouveau transf√©r√©es vers la RAM. Ensuite, un code de rendu entre en jeu, qui transf√®re ces donn√©es de la RAM au GPU directement pour le rendu. Ainsi, des quantit√©s assez importantes de donn√©es sont pomp√©es dans les deux sens via le bus m√©moire, et le bus ne peut tout simplement pas le faire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les versions modernes d'OpenGL, il existe des extensions sp√©ciales qui vous permettent de sp√©cifier pour le rendu des donn√©es qui sont d√©j√† dans la m√©moire du GPU, et non des donn√©es dans la RAM principale, comme d'habitude. Ce m√©canisme a exclu le mouvement des donn√©es des trames d√©cod√©es mat√©riellement du GPU vers la RAM, puis inversement. Ainsi, le probl√®me du rendu sur les processeurs basse consommation a √©t√© presque r√©solu.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ta/gx/rr/tagxrr-ydgiw9vlbucxyvli2jni.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un autre probl√®me majeur √©tait les contextes OpenGL pris en charge dans Qt. Ils ne vous permettent pas d'utiliser l'extension OpenGL n√©cessaire, c'est-√†-dire que vous ne pouvez pas utiliser QOpenGLWidget avec cette option. La solution consistait √† utiliser un QWidget classique, mais a d√©sactiv√© le pipeline de rendu Qt. Une telle opportunit√© existe dans Qt. Cependant, une question s'est pos√©e ici, car dans cette option, l'interface graphique est enti√®rement responsable de tout le rendu dans la zone de ce widget, Qt ne nous aide pas. Ceci est normal pour afficher la vid√©o, mais pour utiliser des widgets au-dessus de la vid√©o, les outils Qt standard ne peuvent pas √™tre utilis√©s, car, par exemple, un menu contextuel suppl√©mentaire doit √™tre affich√© au-dessus de la vid√©o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce probl√®me a √©t√© r√©solu comme suit: √† partir du widget existant, son image est obtenue (QWidget a une m√©thode grab () pour cela), l'image r√©sultante est convertie en texture OpenGL et cette derni√®re est rendue au-dessus de la vid√©o √† l'aide des outils OpenGL. </font><font style="vertical-align: inherit;">En ajoutant l'environnement appropri√©, un m√©canisme universel a √©t√© mis en ≈ìuvre qui peut √™tre utilis√© pour afficher tous les widgets standard au-dessus de la vid√©o d'une mani√®re non standard.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kiosques et widgets</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La t√¢che de g√©rer les affichages et de distribuer des fragments de l'interface utilisateur en mode ¬´kiosque¬ª n'a pas √©t√© facile. Le terminal VKS peut fonctionner en 2 modes - le mode fen√™tre, c'est-√†-dire comme toute autre application de fen√™tre dans l'environnement de bureau du syst√®me d'exploitation, et le ¬´mode kiosque¬ª (c'est-√†-dire que le syst√®me d'exploitation ex√©cute une seule application avec une interface graphique - VKST - et qu'il n'y a pas d'environnement bureau).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En mode fen√™tr√©, tout est relativement simple: la fen√™tre est contr√¥l√©e par le gestionnaire de fen√™tres de l'environnement de bureau, l'application cr√©e une deuxi√®me fen√™tre si n√©cessaire, et l'utilisateur r√©partit les fen√™tres sur les √©crans selon ses besoins. Mais en mode ¬´kiosque¬ª, tout est beaucoup plus compliqu√©, car le syst√®me n'a pas de gestionnaire de fen√™tres et il ne peut y avoir qu'une seule fen√™tre, et l'utilisateur n'a pas la possibilit√© de la d√©placer. Par cons√©quent, la t√¢che de d√©tecter automatiquement un √©v√©nement, par exemple la connexion / d√©connexion d'un √©cran, est apparue. Lorsque cet √©v√©nement s'est produit, il √©tait n√©cessaire de configurer automatiquement les affichages et de placer correctement des fragments de l'interface utilisateur dessus.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-x/dm/w_/-xdmw_fvqpxs-frj0pl04wszabg.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La r√©ponse est venue de la biblioth√®que syst√®me LINUX Xrandr OS, qui est charg√©e de travailler avec les √©crans. Il y a tr√®s peu de documentation √† ce sujet sur Internet, donc la mise en ≈ìuvre a √©t√© effectu√©e √† l'aide d'exemples provenant d'Internet, y compris de Habr. De plus, il √©tait n√©cessaire de trouver un algorithme pour distribuer les fragments d'interface entre les √©crans, ainsi que d'int√©grer deux fen√™tres diff√©rentes en une seule. Ce dernier a √©t√© impl√©ment√© comme suit: ce sont des fen√™tres en mode fen√™tr√©, en mode ¬´kiosque¬ª sont des widgets √† l'int√©rieur d'une grande fen√™tre, qui s'√©tend sur 2 √©crans (s'il y en a 2). Dans ce cas, il est n√©cessaire de configurer les positions des √©crans afin qu'un espace virtuel continu soit cr√©√© (cela se fait √† l'aide de la biblioth√®que XRandr), puis de d√©finir la g√©om√©trie des widgets internes √† l'int√©rieur d'une seule fen√™tre globale afinpour que tout le monde soit affich√©.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous cr√©ons du russe</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toute la mani√®re de cr√©er le syst√®me de vid√©oconf√©rence russe a consist√© et comprend de nombreuses √©tapes, et l'interface graphique n'est que la pointe de l'iceberg. </font><font style="vertical-align: inherit;">Le plus visible et pas le plus difficile. </font><font style="vertical-align: inherit;">Cependant, la complexit√© de la solution, la combinaison de logiciels et de composants mat√©riels et logiciels, et le d√©sir de cr√©er un syst√®me techniquement et esth√©tiquement ¬´beau¬ª ont cr√©√© de nombreuses difficult√©s en cours de route. </font><font style="vertical-align: inherit;">De nouvelles t√¢ches ont donn√© naissance √† des solutions non standard et ont aid√© √† cr√©er un produit qui n'a pas honte d'√™tre pr√©sent√© non seulement en Russie mais aussi √† l'√©tranger.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les d√©veloppements russes ont depuis longtemps prouv√© leurs performances, et dans une belle coque et comp√©titivit√©. </font><font style="vertical-align: inherit;">Nos hacks de vie seront utiles √† toute personne s√©rieusement impliqu√©e dans le d√©veloppement d'interfaces graphiques, et nous esp√©rons qu'ils aideront d'autres d√©veloppeurs √† acc√©l√©rer et √† simplifier le processus de cr√©ation de shells modernes pour de nouveaux logiciels russes. </font><font style="vertical-align: inherit;">Nous pensons que les d√©cisions russes seront appr√©ci√©es dans le monde au m√™me titre que le ballet russe ou le caviar noir.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504880/index.html">D√©veloppement, optimisation et sortie de jeux Synthety sur Unity</a></li>
<li><a href="../fr504884/index.html">P√©riph√©riques dangereux: comprendre Thunderspy</a></li>
<li><a href="../fr504886/index.html">Selenium WebDriver au service du d√©veloppeur</a></li>
<li><a href="../fr504888/index.html">"Calme, seulement calme!" ou moins de soucis</a></li>
<li><a href="../fr504890/index.html">Renvoyer la valeur de la commande d'invocation de powershell √† l'Agent SQL-Server</a></li>
<li><a href="../fr504902/index.html">Les 9 principales tendances des tests automatis√©s en 2020</a></li>
<li><a href="../fr504906/index.html">PHP - quelle est la niche du langage et PHP8 aidera-t-il √† r√©soudre les probl√®mes urgents (spoiler: IMHO pas)</a></li>
<li><a href="../fr504908/index.html">PyTrace - D√©bogueur de voyage dans le temps pour Python</a></li>
<li><a href="../fr504912/index.html">Fin de partie HackTheBox. Passage du laboratoire Op√©rations Offensives Professionnelles. Pentest Active Directory</a></li>
<li><a href="../fr504918/index.html">Les services de cours en ligne les plus efficaces pour les √©tudiants et les enseignants: les cinq premiers</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>