<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🖖🏾 🤺 👩🏽‍🎨 Analyse de trame Mortal Kombat 11 📀 🙃 👋</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mortal Kombat 11 est l'un des jeux les plus impressionnants extérieurement sortis en 2019: de superbes animations faciales, des ombres, de l'éclairage...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Analyse de trame Mortal Kombat 11</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500840/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mortal Kombat 11 est l'un des jeux les plus impressionnants extérieurement sortis en 2019: de superbes animations faciales, des ombres, de l'éclairage et des effets de post-traitement. </font><font style="vertical-align: inherit;">Et cela ne tient pas compte du fait que le jeu est réellement fascinant, a des batailles complexes et une intrigue passionnante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je devais juste étudier le moteur de rendu Mortal Kombat 11 pour comprendre comment ces graphismes incroyables sont obtenus, et maintenant je vais partager mes découvertes avec vous.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passe de calcul de l'ombre</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque image commence par un </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passage d'ombre</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><img src="https://habrastorage.org/getpro/habr/post_images/d09/62b/2a5/d0962b2a5c61dbda2168e9a862cb22f0.jpg" alt="Profondeur de l'ombre 4x MSAA"></th>
<th><img src="https://habrastorage.org/getpro/habr/post_images/896/680/f50/896680f50f2a766c56cc1651ff95f051.jpg" alt="Comparaison à 4 canaux"></th>
</tr>
</thead>
</table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque carte d'ombre est composée de quatre cartes de pochoir d'ombre suréchantillonnées (SSAA), qui sont ensuite converties en une </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">carte d'ombre instantanée</font></font></strong> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> à quatre </font><strong><font style="vertical-align: inherit;">canaux (MSM) </font></strong></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Peters et al. </font><font style="vertical-align: inherit;">2016]</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Chaque chaîne est stockée</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>z</mi></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.088ex" height="1.509ex" viewBox="0 -540.2 468.5 649.8" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/500840/&amp;usg=ALkJrhi8hmmjl6ay0swZ6f9QIOvsQImMXw#MJMATHI-7A" x="0" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>z</mi></math></span></span><script type="math/tex" id="MathJax-Element-1">z</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>z</mi><mn>2</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.145ex" height="2.384ex" viewBox="0 -916.9 923.4 1026.6" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/500840/&amp;usg=ALkJrhi8hmmjl6ay0swZ6f9QIOvsQImMXw#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/500840/&amp;usg=ALkJrhi8hmmjl6ay0swZ6f9QIOvsQImMXw#MJMAIN-32" x="663" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>z</mi><mn>2</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-2">z^2</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>z</mi><mn>3</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.145ex" height="2.384ex" viewBox="0 -916.9 923.4 1026.6" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/500840/&amp;usg=ALkJrhi8hmmjl6ay0swZ6f9QIOvsQImMXw#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/500840/&amp;usg=ALkJrhi8hmmjl6ay0swZ6f9QIOvsQImMXw#MJMAIN-33" x="663" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>z</mi><mn>3</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-3">z^3</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>z</mi><mn>4</mn></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.145ex" height="2.384ex" viewBox="0 -916.9 923.4 1026.6" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/500840/&amp;usg=ALkJrhi8hmmjl6ay0swZ6f9QIOvsQImMXw#MJMATHI-7A" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/500840/&amp;usg=ALkJrhi8hmmjl6ay0swZ6f9QIOvsQImMXw#MJMAIN-34" x="663" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>z</mi><mn>4</mn></msup></math></span></span><script type="math/tex" id="MathJax-Element-4">z^4</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<a name="habracut"></a><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/96b/83b/463/96b83b4633fab9c9230364a1fe03d966.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette carte est ensuite utilisée dans la passe de résolution d'ombre avant que l'éclairage ne soit appliqué. </font><font style="vertical-align: inherit;">Le résultat est la meilleure qualité d'ombres qui peut être obtenue par des méthodes d'ombrage raster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le réseau de textures code trois sources de lumière projetant des ombres qui sont présentes dans cette scène.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Passe G</font></font></h2><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><img src="https://habrastorage.org/getpro/habr/post_images/b2b/1ce/7a2/b2b1ce7a20332cb04b14e09cd300ef33.jpg"></th>
<th><img src="https://habrastorage.org/getpro/habr/post_images/003/691/f2c/003691f2c21bbb3a47574894d4f8e3fd.jpg"></th>
</tr>
</thead>
<tbody>
<tr>
<td><img src="https://habrastorage.org/getpro/habr/post_images/b7a/903/996/b7a9039964c7baabf10d08f2224c2454.jpg"></td>
<td><img src="https://habrastorage.org/getpro/habr/post_images/2c9/59e/272/2c959e27223180b9a58c5d755cf4ab42.jpg"></td>
</tr>
</tbody>
</table></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le pass général (General Pass, G-Pass)</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans Mortal Kombat 11 semble plutôt étrange. </font><font style="vertical-align: inherit;">Il existe quatre tampons d'éléments qui stockent des données compressées telles que la luminosité, les normales de la fenêtre de visualisation le long de l'axe X, la profondeur linéaire (à partir de laquelle nous pouvons conclure que les unités (m) utilisées comme unités de mesure dans Mortal Kombat), ainsi que des données étranges Par exemple, l'occlusion par tramage ambiant et les identificateurs de matériaux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Presque toutes les entrées du G-Pass sont stockées au </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">format de compression de bloc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Occlusion ambiante</font></font></h2><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><img src="https://habrastorage.org/getpro/habr/post_images/770/dd3/dc1/770dd3dc1ed53417c4017b32a880fdc8.png"></th>
<th><img src="https://habrastorage.org/getpro/habr/post_images/068/21f/167/06821f16723121e9eb6a5dcdd18c5832.jpg"></th>
<th><img src="https://habrastorage.org/getpro/habr/post_images/acf/0f2/3e8/acf0f23e8b2a0a9d717c4f2615e471e8.jpg"></th>
</tr>
</thead>
</table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de passer l'occlusion ambiante, les normales et la profondeur de l'espace de vue sont recréées à partir de leurs tampons de géométrie compressés (G-Buffers), et un z-buffer hiérarchique est calculé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Greene et al. </font><font style="vertical-align: inherit;">1993]</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ensuite, sur la base de ces tampons, en combinaison avec un tableau de </font></font><code>32x32</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">taille de </font><font style="vertical-align: inherit;">texture de bruit blanc </font></font><code>8</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, l'occlusion ambiante est calculée.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Éclairage miroir</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee3/863/14e/ee386314e276f4ff95d7b03a7eea010e.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'éclairage miroir utilise l'IBL de la carte cubique </font></font><code>512x512</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ainsi que les sources d'éclairage de la scène, et est calculé à l'aide du shader de fragment de fragment.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Éclairage diffus</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7a6/65b/75e/7a665b75e0d393923972e4b06f6d6816.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le passage d'éclairage diffus, un shader de calcul est également utilisé et il est calculé par fragments.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Éclairage volumétrique</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/39a/556/3e4/39a5563e422ce0337a1cf1a159fc0f14.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'éclairage volumétrique est effectué en utilisant la profondeur linéaire, ainsi que la texture de la diffusion et de la transmission de la lumière.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lissage temporaire</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8f7/646/a91/8f7646a91671edeacaf87009c27a34b8.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En standard pour l'anti-crénelage temporel, un tampon de vitesse est utilisé pour reprogrammer les échantillons précédents et obtenir un résultat lissé fini.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pass UI</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e41/632/8b1/e416328b118d07a70c045bc69bc3317e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'interface entière dans Mortal Kombat est rendue dans une cible de rendu distincte, puis superposée au-dessus du résultat final avec une correction de tonalité.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/071/fd7/abe/071fd7abe5b7d93d7e79b0be46462472.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mortal Kombat est l'un des plus beaux jeux de la génération de projets de rendu tramé.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/6CPFQjDNcMU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr500804/index.html">Débriefing de l'Audi A8</a></li>
<li><a href="../fr500806/index.html">Escorte</a></li>
<li><a href="../fr500816/index.html">Mikrosha. Chapitre un. Contrôleur de carte SD</a></li>
<li><a href="../fr500818/index.html">Interfaces de neuro-ordinateurs pour les jeux: ce que l'on sait aujourd'hui</a></li>
<li><a href="../fr500822/index.html">Qui enterrera le Web moderne?</a></li>
<li><a href="../fr500844/index.html">Allez optimisations dans VictoriaMetrics. Alexander Valyalkin</a></li>
<li><a href="../fr500848/index.html">MVP par un seul développeur</a></li>
<li><a href="../fr500852/index.html">Styleur de mot de passe dans le logiciel antivirus Avira Free Antivirus</a></li>
<li><a href="../fr500854/index.html">Comment nous soutenons techniquement le fonctionnement des bureaux d'ABBYY pendant la quarantaine</a></li>
<li><a href="../fr500856/index.html">À propos de la traduction de "interest" sans intérêt</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>