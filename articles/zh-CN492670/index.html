<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>â„¹ï¸ ğŸ† â™ ï¸ åœ¨SILä¸­åˆ›å»ºå‡½æ•° ğŸ˜‡ â˜ğŸ½ ğŸ¤ğŸ¼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="å¤§å®¶å¥½ï¼
 
 åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³å‘Šè¯‰æ‚¨å¦‚ä½•åœ¨SILä¸­åˆ›å»ºå‡½æ•°ã€‚
 
 ä»‹ç»
 SILä»£è¡¨â€œç®€å•å‘å¸ƒè¯­è¨€â€ï¼Œå®ƒæ˜¯cPrimeå¼€å‘äººå‘˜åˆ›å»ºçš„ï¼Œç”¨äºè‡ªåŠ¨å®ŒæˆAtlassian Jiraå’ŒConfluenceä¸­çš„æ‰‹åŠ¨æ“ä½œã€‚
 
 SILçš„ä¸»è¦ä¼˜ç‚¹æ˜¯SILåŒ…å«ä¸éœ€è¦äº†è§£Atlassian Jiraæˆ–Atlass...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>åœ¨SILä¸­åˆ›å»ºå‡½æ•°</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/492670/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤§å®¶å¥½ï¼</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘æƒ³å‘Šè¯‰æ‚¨å¦‚ä½•åœ¨SILä¸­åˆ›å»ºå‡½æ•°ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»‹ç»</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SILä»£è¡¨â€œç®€å•å‘å¸ƒè¯­è¨€â€ï¼Œå®ƒæ˜¯cPrimeå¼€å‘äººå‘˜åˆ›å»ºçš„ï¼Œç”¨äºè‡ªåŠ¨å®ŒæˆAtlassian Jiraå’ŒConfluenceä¸­çš„æ‰‹åŠ¨æ“ä½œã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SILçš„ä¸»è¦ä¼˜ç‚¹æ˜¯SILåŒ…å«ä¸éœ€è¦äº†è§£Atlassian Jiraæˆ–Atlassian Confluence APIå³å¯ä½¿ç”¨çš„åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">è¿™å¤§å¤§é™ä½äº†è¿›å…¥SILçš„é—¨æ§›ï¼Œå¹¶ä½¿SILç¨‹åºä»£ç çš„ä½“ç§¯æ¯”ç±»ä¼¼çš„Javaæˆ–Groovyä»£ç å°ã€‚</font></font><br>
<a name="habracut"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹å¦‚ï¼Œæ‚¨æƒ³æ ¹æ®è¦æ±‚ä»å‰æ‹‰ï¼ˆJiraï¼‰é€‰æ‹©ç¥¨è¯ï¼Œä»¥ä¾¿å¯ä»¥å¯¹å®ƒä»¬æ‰§è¡Œä¸€äº›æ“ä½œã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œåœ¨Javaæˆ–Groovyä¸­ï¼Œæ‚¨å°†ä¸å¾—ä¸ç¼–å†™è®¸å¤šä»£ç ã€‚</font><font style="vertical-align: inherit;">åœ¨SILä¸Šï¼Œè¿™æ˜¯ä¸€è¡Œï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">selectIssues(" JQL ");</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤å¤–ï¼Œåœ¨Javaæˆ–Groovyä¸­ï¼Œæ‚¨å¿…é¡»ç¡®ä¿Jira 7å’ŒJira 8ä¸Šçš„ä»£ç å…·æœ‰å…¼å®¹æ€§ã€‚åœ¨SILä¸­ï¼Œæ‚¨æ— éœ€è€ƒè™‘å…¼å®¹æ€§ã€‚</font><font style="vertical-align: inherit;">SelectIssueså°†åœ¨SILæ”¯æŒçš„æ‰€æœ‰Jiraç‰ˆæœ¬ä¸Šè¿è¡Œã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨æ­¤å¤„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰¾åˆ°æœ‰å…³SILçš„æ›´å¤šä¿¡æ¯</font><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œå¦‚æœæˆ‘éœ€è¦æ‰§è¡Œç±»ä¼¼çš„æ“ä½œï¼Œä¸ºä»€ä¹ˆSILä¸­æ²¡æœ‰åŠŸèƒ½ï¼Ÿ</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œæˆ‘éœ€è¦ä»Table Grid Next Generationæ’ä»¶è·å–æ•°æ®ï¼Œæˆ–è€…ä½¿ç”¨Jiraæ’ä»¶çš„PDFå¯¼å‡ºå™¨ç”ŸæˆPDFæ–‡ä»¶ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæ‚¨æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIL Groovy Connector-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ­¤æ’ä»¶å…è®¸æ‚¨ä½¿ç”¨Javaæˆ–Groovyä¸­çš„Jira Java APIç¼–å†™ä»£ç ï¼Œå¹¶ä»SILè„šæœ¬è°ƒç”¨æ­¤ä»£ç ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¼–å†™å¯å°†æ‚¨çš„åŠŸèƒ½æ·»åŠ åˆ°SILçš„Jiraæ’ä»¶ï¼Œç„¶ååœ¨SILè„šæœ¬ä¸­ä½¿ç”¨æ‚¨çš„åŠŸèƒ½ </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æœ¬æ–‡ä¸­ï¼Œæˆ‘ä»¬å°†é‡ç‚¹ä»‹ç»å¦‚ä½•ç¼–å†™Jiraæ’ä»¶ä»¥æ‰©å±•SILçš„åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">ä¸ºäº†é‡å¤æœ¬æ–‡ä¸­çš„æ­¥éª¤ï¼Œæ‚¨å°†éœ€è¦Atlassian SDKå’Œgitã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®¾ç½®MavenåŸå‹</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰©å±•SILçš„æ’ä»¶å¿…é¡»åŒ…å«å°†åŠŸèƒ½æ·»åŠ åˆ°SILçš„é€»è¾‘ã€‚</font><font style="vertical-align: inherit;">ä¸ºäº†ä¸æ¯æ¬¡éƒ½å°†æ­¤é€»è¾‘æ·»åŠ åˆ°æ’ä»¶ä¸­ï¼Œè€Œæ˜¯ä»…ä¸“æ³¨äºç¼–å†™å‡½æ•°ï¼Œæˆ‘åšäº†ä¸€ä¸ªMavenåŸå‹ï¼Œå®ƒå°†åˆ›å»ºæ–°æ’ä»¶ä¸­æ‰€éœ€çš„ä¸€åˆ‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œä»å­˜å‚¨åº“å…‹éš†åŸå‹ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">git clone https://alex1mmm@bitbucket.org/alex1mmm/sil-extension-archetype.git --branch v1 --single-branch</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°†åˆ›å»ºsil-extensiontion-archetypeæ–‡ä»¶å¤¹ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬å¼€å§‹å§ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">cd sil-extension-archetype</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œå°†åŸå‹å®‰è£…åœ¨æœ¬åœ°Mavenå­˜å‚¨åº“ä¸­ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">atlas-mvn install</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ›å»ºä¸€ä¸ªæ’ä»¶</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è½¬åˆ°ä¸Šæ–¹çš„æ–‡ä»¶å¤¹å¹¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ’ä»¶</font></font><br>
<br>
<pre><code class="plaintext hljs">cd ..<font></font>
atlas-mvn archetype:generate -DarchetypeCatalog=local</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šè¿‡mavenåˆ›å»ºé¡¹ç›®æ—¶ï¼Œç³»ç»Ÿä¼šè¯¢é—®æ‚¨æ ‡å‡†é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">æˆ‘å›ç­”è¿™äº›é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥æ›´æ”¹å®ƒä»¬ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">Choose archetype:<font></font>
<font></font>
1: local -&gt; com.cprime.jira.sil.extension:sil-extension-archetype (This is the com.cprime.jira.sil.extension:sil-extension plugin for Atlassian JIRA.)<font></font>
Choose a number or apply filter (format: [groupId:]artifactId, case sensitive contains): : <font></font>
<font></font>
Define value for property 'groupId': ru.matveev.alexey.sil.extension<font></font>
Define value for property 'artifactId': sil-extension<font></font>
Define value for property 'version' 1.0-SNAPSHOT: : <font></font>
Define value for property 'package' ru.matveev.alexey.sil.extension: : <font></font>
<font></font>
Confirm properties configuration:<font></font>
groupId: ru.matveev.alexey.sil.extension<font></font>
artifactId: sil-extension<font></font>
version: 1.0-SNAPSHOT<font></font>
package: ru.matveev.alexey.sil.extension<font></font>
<font></font>
 Y: : Y</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ä¹‹åï¼Œå°†åˆ›å»ºæ’ä»¶ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æµ‹è¯•æ’ä»¶</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è½¬åˆ°åˆ›å»ºçš„æ–‡ä»¶å¤¹ï¼ˆåœ¨æˆ‘çš„æƒ…å†µä¸‹æ˜¯sil-extensionï¼‰å¹¶è¿è¡ŒJiraï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">cd sil-extension<font></font>
atlas-run&lt;/code&gt;<font></font>
 Jira   <font></font>
&lt;code&gt;http://localhost:2990/jira/plugins/servlet/silmanager?autoSelectTree=sil.scripts</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å°†çœ‹åˆ°â€œ SILç®¡ç†å™¨â€å±å¹•ã€‚</font><font style="vertical-align: inherit;">é€‰æ‹©â€œæ–°å»ºæ–‡ä»¶â€é€‰é¡¹ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bc/cy/jc/bccyjco81b4evwsq240zjeyqrnu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ›å»ºå…·æœ‰ä»¥ä¸‹å†…å®¹çš„test.silæ–‡ä»¶ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">runnerLog(SayHello("Alexey"));<font></font>
string[] res = SayHello2("Alexey", "Matveev");<font></font>
runnerLog(res[0]);<font></font>
runnerLog(res[1]);<font></font>
res = SayHello3("Alexey", "Matveev");<font></font>
runnerLog(res["param1"]);<font></font>
runnerLog(res["param2"]);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jiraä¸­çš„å±å¹•å°†å¦‚ä¸‹æ‰€ç¤ºï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wu/e3/hx/wue3hxccvjobth5xl9dnrhevec4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬çš„æ’ä»¶æ·»åŠ äº†ä¸‰ä¸ªåŠŸèƒ½ï¼šSayHelloï¼ŒSayHello2ï¼ŒSayHello3ã€‚</font><font style="vertical-align: inherit;">Test.silæ£€æŸ¥æ˜¯å¦å·²å°†åŠŸèƒ½æ·»åŠ åˆ°SILã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€šè¿‡å•å‡»â€œè¿è¡Œâ€æŒ‰é’®è¿è¡Œtest.silã€‚</font><font style="vertical-align: inherit;">åœ¨æ§åˆ¶å°é€‰é¡¹å¡ä¸­ï¼Œæ‚¨åº”è¯¥çœ‹åˆ°ä»¥ä¸‹æ–‡æœ¬ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">Hello Alexey<font></font>
Hello Alexey<font></font>
Hello Matveev<font></font>
Hello Alexey<font></font>
Hello Matveev<font></font>
Done.</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœæ‚¨çœ‹åˆ°è¿™æ ·çš„æ–‡å­—ï¼Œåˆ™è¯´æ˜æˆ‘ä»¬çš„åŠŸèƒ½å·²æˆåŠŸæ·»åŠ åˆ°SILä¸­ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œè®©æˆ‘ä»¬è®¨è®ºä¸ºäº†åˆ›å»ºæˆ‘ä»¬è‡ªå·±çš„åŠŸèƒ½éœ€è¦åœ¨æ’ä»¶ä¸­è¿›è¡Œå“ªäº›æ›´æ”¹ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸ºæˆ‘ä»¬çš„åŠŸèƒ½åˆ›å»ºä¸€ä¸ªJavaç±»</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨è¦æ·»åŠ åˆ°SILçš„æ¯ä¸ªå‡½æ•°å¿…é¡»å…·æœ‰è‡ªå·±çš„ç±»ã€‚</font><font style="vertical-align: inherit;">è¯¥ç±»å¿…é¡»æ˜¯AbstractSILRoutineç±»çš„åä»£ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†äº†è§£éœ€è¦æ·»åŠ åˆ°æ–°ç±»ä¸­çš„å†…å®¹ï¼Œè®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¯ç”¨çš„ç¤ºä¾‹ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SayHello.java</font></font></h3><br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SayHello</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractSILRoutine</span>&lt;<span class="hljs-title">MutableString</span>&gt; </span>{ 
  <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SILType[][] types = {{ TypeInst.STRING }};<font></font>
<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SayHello</span><span class="hljs-params">(ClassLoader classLoader, String name)</span> </span>{ 
    <span class="hljs-keyword">super</span>(classLoader, name, types);<font></font>
  }<font></font>
<font></font>
  <span class="hljs-meta">@Override</span> 
  <span class="hljs-function"><span class="hljs-keyword">public</span> SILType&lt;MutableString&gt; <span class="hljs-title">getReturnType</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> TypeInst.STRING; }<font></font>
<font></font>
  <span class="hljs-meta">@Override</span> 
  <span class="hljs-function"><span class="hljs-keyword">protected</span> SILValue&lt;MutableString&gt; <span class="hljs-title">runRoutine</span><span class="hljs-params">(SILContext silContext,                                   List&lt;SILValue&lt;?&gt;&gt; list)</span> </span>{ <font></font>
    SILValue param = list.get(<span class="hljs-number">0</span>); 
    <span class="hljs-keyword">return</span> SILValueFactory.string( <span class="hljs-string">"Hello "</span> + param.toStringValue());<font></font>
 }<font></font>
  <span class="hljs-meta">@Override</span> 
  <span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getParams</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"(name)"</span>; }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¬¬ä¸€è¡Œï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SILType[][] types = {{ TypeInst.STRING }};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥è¡Œå®šä¹‰äº†å°†ä¼ é€’ç»™å‡½æ•°çš„å‚æ•°çš„ç±»å‹å’Œæ•°é‡ã€‚</font><font style="vertical-align: inherit;">SILä¸­çš„åŠŸèƒ½å¦‚ä¸‹æ‰€ç¤ºï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">mymethod(myparameter);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œ{{TypeInst.STRING}}æ„å‘³ç€æˆ‘ä»¬å°†æœ‰ä¸€ä¸ªå‚æ•°ï¼Œå…¶ç±»å‹ä¸ºStringã€‚</font><font style="vertical-align: inherit;">å¦‚æœè¦ä¼ é€’Stringç±»å‹çš„ä¸¤ä¸ªå‚æ•°ï¼Œåˆ™éœ€è¦åƒè¿™æ ·æ›´æ”¹å­—ç¬¦ä¸²ï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SILType[][] types = {{ TypeInst.STRING, TypeInst.STRING }};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨SILä¸­ï¼Œæ‚¨å¯ä»¥è¿™æ ·è°ƒç”¨å‡½æ•°ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">mymethod(myparameter1, myparameter2);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœæ‚¨çš„å‡½æ•°å¯ä»¥æ¥å—ä¸€ä¸ªæˆ–ä¸¤ä¸ªå‚æ•°ã€‚</font><font style="vertical-align: inherit;">è¯¥æœ¯è¯­å°†å¦‚ä¸‹æ‰€ç¤ºï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> SILType[][] types = {{ TypeInst.STRING},  <font></font>
                                                          {TypeInst.STRING, TypeInst.STRING }};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥æ˜¯ï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SayHello</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">AbstractSILRoutine</span>&lt;<span class="hljs-title">MutableString</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬ä»AbstractSILRoutineç»§æ‰¿æˆ‘ä»¬çš„ç±»ï¼Œè¿™æ„å‘³ç€æˆ‘ä»¬çš„ç±»å°†è¿”å›Stringç±»å‹çš„å‚æ•°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿›ä¸€æ­¥ï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">SayHello</span><span class="hljs-params">(ClassLoader classLoader, String name)</span> </span>{ 
  <span class="hljs-keyword">super</span>(classLoader, name, types);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯æ„é€ å‡½æ•°ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯èƒ½ä¸å¿…æ›´æ”¹å…¶ä¸­çš„ä»»ä½•å†…å®¹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿›ä¸€æ­¥ï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Override</span> 
<span class="hljs-function"><span class="hljs-keyword">public</span> SILType&lt;MutableString&gt; <span class="hljs-title">getReturnType</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> TypeInst.STRING; }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬ç¡®å®šè¿”å›å‚æ•°çš„ç±»å‹ã€‚</font><font style="vertical-align: inherit;">åœ¨æˆ‘ä»¬çš„ä¾‹å­ä¸­ï¼Œå®ƒæ˜¯å­—ç¬¦ä¸²ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿›ä¸€æ­¥ï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Override</span> 
<span class="hljs-function"><span class="hljs-keyword">protected</span> SILValue&lt;MutableString&gt; <span class="hljs-title">runRoutine</span><span class="hljs-params">(SILContext silContext, List&lt;SILValue&lt;?&gt;&gt; list)</span> </span>{ <font></font>
SILValue param = list.get(<span class="hljs-number">0</span>); 
<span class="hljs-keyword">return</span> SILValueFactory.string( <span class="hljs-string">"Hello "</span> + param.toStringValue());<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯æ‚¨åŠŸèƒ½çš„ä¸»è¦åˆ‡å…¥ç‚¹ã€‚</font><font style="vertical-align: inherit;">åœ¨SILä¸­æ‰§è¡ŒåŠŸèƒ½æ—¶ï¼Œæ‚¨å°†åˆ°è¾¾æ­¤å¤„ã€‚</font><font style="vertical-align: inherit;">æ‰€æœ‰é€»è¾‘éƒ½åœ¨è¿™é‡Œã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥å‡½æ•°æœ‰ä¸¤ä¸ªå‚æ•°ï¼š</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
silContext-å…è®¸æ‚¨è·å–Jiraå’ŒSILå˜é‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹å¦‚ï¼Œæ‚¨çš„SILè„šæœ¬ç”¨ä½œå‘å¸ƒåŠŸèƒ½ï¼Œå¹¶ä¸”æ‚¨å¸Œæœ›æ”¶åˆ°æ‰§è¡Œè¯¥è„šæœ¬çš„ç¥¨è¯ï¼š</font></font><br>
<br>
<pre><code class="java hljs">Issue issue = (Issue) silContext.getAllMetaInformation().get(<span class="hljs-string">"issue"</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ—è¡¨-å…è®¸æ‚¨è·å–ä¼ é€’ç»™SILå‡½æ•°çš„å‚æ•°çš„å€¼ã€‚</font></font><br>
<br>
<pre><code class="java hljs">SILValue param = list.get(<span class="hljs-number">0</span>); </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çº¿ï¼š</font></font><br>
<br>
<pre><code class="java hljs">SILValueFactory.string( <span class="hljs-string">"Hello "</span> + param.toStringValue());</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿”å›å€¼ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¿…é¡»è¿”å›SILå¯ä»¥ç†è§£çš„å€¼ï¼Œå› æ­¤è¯·ä½¿ç”¨SILValueFactoryç”Ÿæˆå€¼ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿›ä¸€æ­¥ï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Override</span> 
<span class="hljs-function"><span class="hljs-keyword">public</span> String <span class="hljs-title">getParams</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-string">"(name)"</span>; }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™å®šä¹‰äº†SIL Managerä¸­çš„åŠŸèƒ½ç±»å‹ã€‚</font><font style="vertical-align: inherit;">å½“æ‚¨å¼€å§‹åœ¨SILç®¡ç†å™¨ä¸­è¾“å…¥å†…å®¹æ—¶ï¼Œç³»ç»Ÿä¼šæç¤ºæ‚¨ä¸€äº›å¯ç”¨åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">åœ¨æˆ‘ä»¬çš„æ¡ˆä¾‹ä¸­ï¼Œæ‚¨å°†çœ‹åˆ°ï¼š</font></font><br>
<br>
<pre><code class="java hljs">yourmethod(name)</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†æˆ‘ä»¬çš„è¯¾ç¨‹æ·»åŠ åˆ°SILå¼•æ“</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å·²ç»åˆ›å»ºäº†è¯¾ç¨‹ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œæ‚¨éœ€è¦ä½¿SILæ„è¯†åˆ°æ‚¨çš„åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯åœ¨ESLauncher.javaæ–‡ä»¶ä¸­å®Œæˆçš„ã€‚</font><font style="vertical-align: inherit;">è¯¥æ–‡ä»¶åŒ…å«ä»¥ä¸‹å‡ è¡Œï¼š</font></font><br>
<br>
<pre><code class="java hljs">RoutineRegistry.register(<span class="hljs-keyword">new</span> SayHello( classLoader,<span class="hljs-string">"SayHello"</span>)); </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™ä¸€è¡Œè¯´ï¼Œæˆ‘ä»¬å°†SayHelloç±»æ·»åŠ åˆ°SILä¸‹ï¼Œåç§°ä¸ºSayHelloã€‚</font><font style="vertical-align: inherit;">ç±»åå’Œå‡½æ•°å¯èƒ½ä¸åŒ¹é…ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œæ·»åŠ ä»¥ä¸‹è¡Œï¼š</font></font><br>
<br>
<pre><code class="java hljs">RoutineRegistry.unregister(<span class="hljs-string">"SayHello"</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°†SayHelloæ›´æ”¹ä¸ºå‡½æ•°çš„åç§°ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨ä»Jiraåˆ é™¤æ’ä»¶ï¼Œåˆ™æ­¤è¡Œå°†ä»SILå¸è½½åŠŸèƒ½ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰å…³SILçš„æ›´å¤šä¿¡æ¯</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨SayHello2ç±»ä¸­ï¼Œæˆ‘ä»¬è¿”å›ä¸€ä¸ªListã€‚</font></font><br>
<br>
<pre><code class="java hljs">SILValue param1 = list.get(<span class="hljs-number">0</span>); <font></font>
SILValue param2 = list.get(<span class="hljs-number">1</span>); <font></font>
List&lt;String&gt; res = <span class="hljs-keyword">new</span> ArrayList&lt;&gt;(); <font></font>
res.add(<span class="hljs-string">"Hello "</span> + param1.toStringValue()); <font></font>
res.add(<span class="hljs-string">"Hello "</span> + param2.toStringValue()); 
<span class="hljs-keyword">return</span> SILValueFactory.stringArray(res);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†ä½¿å®ƒèµ·ä½œç”¨ï¼Œè¿˜éœ€è¦å°†è¿”å›å€¼æ›´æ”¹ä¸ºTypeInst.STRING_ARRå¹¶ä½¿ç”¨KeyableArraySILObjectä»AbstractSILRoutineç»§æ‰¿ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨SILä¸­ï¼Œæ‚¨å¯ä»¥è¿™æ ·è°ƒç”¨SayHello2ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">string[] res = SayHello2("Alexey", "Matveev");<font></font>
runnerLog(res[0]);<font></font>
runnerLog(res[1]);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨SayHello3ä¸­ï¼Œæˆ‘ä»¬è¿”å›Mapï¼š</font></font><br>
<br>
<pre><code class="java hljs">SILValue param1 = list.get(<span class="hljs-number">0</span>); <font></font>
SILValue param2 = list.get(<span class="hljs-number">1</span>); <font></font>
Map&lt;String, String&gt; res = <span class="hljs-keyword">new</span> HashMap&lt;&gt;(); <font></font>
res.put(<span class="hljs-string">"param1"</span>,<span class="hljs-string">"Hello "</span> + param1.toStringValue()); <font></font>
res.put(<span class="hljs-string">"param2"</span>,<span class="hljs-string">"Hello "</span> + param2.toStringValue()); 
<span class="hljs-keyword">return</span> SILValueFactory.stringArray(res);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨SILä¸­ï¼Œæ‚¨å¯ä»¥åƒè¿™æ ·è°ƒç”¨SayHello3ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">res = SayHello3("Alexey", "Matveev");<font></font>
runnerLog(res["param1"]);<font></font>
runnerLog(res["param2"]);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¸æ˜¯é€šè¿‡ç´¢å¼•è€Œæ˜¯é€šè¿‡é”®æ¥è·å–æ•°ç»„çš„å…ƒç´ ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœæ‚¨çœ‹ä¸€ä¸‹Javaä¸­çš„ä»£ç ï¼Œåˆ™åœ¨ä¸¤ç§æƒ…å†µä¸‹æˆ‘ä»¬éƒ½å°†ä½¿ç”¨KeyableArraySILObjectã€‚</font><font style="vertical-align: inherit;">äº‹å®æ˜¯ï¼Œåœ¨SILä¸­ï¼ŒListå’ŒMapæ˜¯ç”±KeyableArraySILObjectç±»å®ç°çš„ã€‚</font><font style="vertical-align: inherit;">é‚£äº›ã€‚</font><font style="vertical-align: inherit;">SILä¸­çš„ä»»ä½•æ•°ç»„éƒ½å¯ä»¥é€šè¿‡ç´¢å¼•æˆ–é”®æ¥è®¿é—®ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬å°†æ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å¯ä»¥ä»SILå‡½æ•°è¿”å›ä¸€ä¸ªæ•°ç»„ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œè®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•å°†æ•°ç»„ä½œä¸ºå‚æ•°ä¼ é€’ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥ä»£ç å°†å¦‚ä¸‹æ‰€ç¤ºï¼š</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Override</span>
<span class="hljs-function"><span class="hljs-keyword">protected</span> SILValue&lt;MutableString&gt; <span class="hljs-title">runRoutine</span><span class="hljs-params">(SILContext silContext, List&lt;SILValue&lt;?&gt;&gt; list)</span> </span>{<font></font>
    GenericArraySILObject rowsToUpdate =  (GenericArraySILObject) list.get(<span class="hljs-number">0</span>).getObject();<font></font>
    Map&lt;String, <span class="hljs-keyword">int</span>[]&gt; keys = rowsToUpdate.getKeysMapping()<font></font>
......<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œæˆ‘ä»¬ä»å‚æ•°ä¸­è·å–GenericArraySILObjectç±»çš„å¯¹è±¡ï¼Œç„¶åä»ä¸­è·å–Mapã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨SILä¸­ï¼Œæ‚¨å¯ä»¥åƒè¿™æ ·ä¼ é€’ä¸€ä¸ªæ•°ç»„ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">string[] arr;<font></font>
arr["key1"] = "value1";<font></font>
arr["key2"] = "value2";<font></font>
yourmethod(arr);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ°æ­¤ç»“æŸæœ¬æ–‡ã€‚</font><font style="vertical-align: inherit;">æˆ‘å¸Œæœ›æ‚¨æŒæ¡äº†è¶³å¤Ÿçš„çŸ¥è¯†ï¼Œå¯ä»¥åœ¨SILä¸­ç¼–å†™å‡½æ•°ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN492658/index.html">æˆ‘å»äº†é¥æ§å™¨-å‘èµ·äº†æ’­å®¢ï¼šåˆå­¦è€…åº”è¯¥è¯»çš„ä¹¦-5æœ¬è¡Œä¹‹æœ‰æ•ˆçš„ä¹¦</a></li>
<li><a href="../zh-CN492660/index.html">å…¨ä¸–ç•Œå¯¹æŠ—å† çŠ¶ç—…æ¯’ã€‚è‹±ç‰¹å°”æ•…äº‹</a></li>
<li><a href="../zh-CN492662/index.html">æˆ‘æ˜¯å¦‚ä½•ç¬¬ä¸€æ¬¡æµä¼ å¤§å­¦è®²åº§çš„</a></li>
<li><a href="../zh-CN492666/index.html">Maltegoç¬¬4éƒ¨åˆ†ã€‚VKï¼ŒInstagramï¼ŒLinkedINå’Œå…¶ä»–å‡ºè‰²çš„ç”Ÿç‰©</a></li>
<li><a href="../zh-CN492668/index.html">COVID-19ç–«è‹—æµ‹è¯•å°†äºå‘¨ä¸€å¼€å§‹</a></li>
<li><a href="../zh-CN492672/index.html">å¦‚ä½•æœ‰æ•ˆåœ°åˆ‡æ¢åˆ°è¿œç¨‹å·¥ä½œï¼Ÿ</a></li>
<li><a href="../zh-CN492676/index.html">åœŸæ˜Ÿ5ç«ç®­ç£èŠ¯ä¸Šçš„è®°å¿†</a></li>
<li><a href="../zh-CN492678/index.html">åœ¨Microsoft Dynamics 365 For Finance and Operationså¹³å°ä¸Šå¼€å‘ç¬¬ä¸€ä¸ªé¡¹ç›®</a></li>
<li><a href="../zh-CN492682/index.html">ç¾ä¸¸æ¿€ç´ ï¼Œä¸ºä»€ä¹ˆå¯¹ç”·æ€§æœ‰å½±å“ï¼Œä»¥åŠå¦‚ä½•åœ¨è€å¹´äººä¸­ä¿æŒåŠ›é‡</a></li>
<li><a href="../zh-CN492684/index.html">å…è´¹ä¼ä¸šä»£ç†æœåŠ¡å™¨ï¼Œå…·æœ‰åŸŸèº«ä»½éªŒè¯</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>