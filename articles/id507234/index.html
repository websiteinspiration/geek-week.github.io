<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🗯️ 🧑🏿‍🤝‍🧑🏻 🤲🏼 Mendengus atau Suricata. Bagian 2: instalasi dan pengaturan awal Suricata 🛫 👥 🍉</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Menurut statistik, volume lalu lintas jaringan meningkat sekitar 50% setiap tahun. Hal ini menyebabkan peningkatan beban pada peralatan dan, khususnya...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mendengus atau Suricata. Bagian 2: instalasi dan pengaturan awal Suricata</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/507234/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menurut statistik, volume lalu lintas jaringan meningkat sekitar 50% setiap tahun. </font><font style="vertical-align: inherit;">Hal ini menyebabkan peningkatan beban pada peralatan dan, khususnya, meningkatkan persyaratan kinerja IDS / IPS. </font><font style="vertical-align: inherit;">Anda dapat membeli perangkat keras khusus yang mahal, tetapi ada opsi yang lebih murah - pengenalan salah satu sistem open source. </font><font style="vertical-align: inherit;">Banyak administrator pemula merasa kesulitan untuk menginstal dan mengkonfigurasi IPS gratis. </font><font style="vertical-align: inherit;">Dalam kasus Suricata, ini tidak sepenuhnya benar - Anda dapat menginstalnya dan mulai menangkis serangan tipikal dengan seperangkat aturan gratis dalam beberapa menit.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/nn/5i/pc/nn5ipc7z3qk2abxsmfthdja8vww.jpeg"></div></a><a name="habracut"></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mendengus atau Suricata. </font><font style="vertical-align: inherit;">Bagian 1: pilih IDS / IPS gratis untuk melindungi jaringan perusahaan</font></font></a><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengapa saya perlu IPS terbuka lainnya?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk waktu yang lama, sistem Snort, yang dianggap standar, telah dikembangkan sejak akhir tahun sembilan puluhan, jadi pada awalnya single-threaded. Selama bertahun-tahun, semua chip modern telah muncul di dalamnya, seperti dukungan IPv6, kemungkinan menganalisis protokol tingkat aplikasi atau modul akses data universal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesin dasar Snort 2.X telah belajar untuk bekerja dengan banyak core, tetapi tetap menggunakan single-threaded dan karenanya tidak dapat secara optimal menggunakan keunggulan platform perangkat keras modern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalahnya diselesaikan dalam versi ketiga dari sistem, tetapi dipersiapkan begitu lama sehingga Suricata, yang ditulis dari awal, berhasil muncul di pasar. </font><font style="vertical-align: inherit;">Pada tahun 2009, mereka mulai mengembangkannya sebagai alternatif multi-threaded untuk Snort, yang memiliki fungsi IPS di luar kotak. </font><font style="vertical-align: inherit;">Kode didistribusikan di bawah lisensi GPLv2, tetapi mitra keuangan proyek memiliki akses ke versi mesin yang tertutup. </font><font style="vertical-align: inherit;">Beberapa masalah dengan skalabilitas muncul di versi pertama sistem, tetapi mereka dengan cepat diselesaikan.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kenapa Suricata?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suricata memiliki beberapa modul (seperti Snort): capture, capture, decode, detect, dan output. Secara default, lalu lintas yang ditangkap berjalan sebelum decoding oleh satu aliran, meskipun ini memuat sistem lebih. Jika perlu, utas dapat dibagi dalam pengaturan dan didistribusikan di antara prosesor - Suricata sangat baik dioptimalkan untuk perangkat keras tertentu, meskipun ini bukan lagi tingkat HOWTO untuk pemula. Perlu juga dicatat bahwa Suricata memiliki alat inspeksi HTTP canggih berdasarkan pustaka HTP. Mereka juga dapat digunakan untuk merekam lalu lintas tanpa deteksi. Sistem ini juga mendukung decoding IPv6, termasuk terowongan IPv4-in-IPv6, IPv6-in-IPv6, dan lainnya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antarmuka yang berbeda dapat digunakan untuk mencegat lalu lintas (NFQueue, IPFRing, LibPcap, IPFW, AF_PACKET, PF_RING), dan dalam mode Unix Socket, file PCAP yang ditangkap oleh sniffer lain dapat dianalisis secara otomatis. Selain itu, arsitektur modular Suricata memudahkan untuk menghubungkan elemen baru untuk menangkap, mendekode, menganalisis, dan memproses paket jaringan. Penting juga untuk dicatat bahwa di Suricata, lalu lintas diblokir melalui filter standar sistem operasi. Ada dua opsi IPS yang tersedia di GNU / Linux: melalui antrian NFQUEUE (mode NFQ) dan melalui zero copy (mode AF_PACKET). Dalam kasus pertama, paket yang masuk ke iptables dikirim ke antrian NFQUEUE, di mana ia dapat diproses di tingkat pengguna. Suricata menjalankannya dengan aturannya sendiri dan membuat satu dari tiga putusan: NF_ACCEPT, NF_DROP, dan NF_REPEAT.Dua penjelasan pertama tidak diperlukan, dan yang terakhir memungkinkan Anda untuk menandai paket dan mengirimkannya ke awal tabel iptables saat ini. Mode AF_PACKET ditandai oleh kecepatan yang lebih tinggi, tetapi memaksakan sejumlah keterbatasan pada sistem: ia harus memiliki dua antarmuka jaringan dan berfungsi sebagai gateway. Paket yang diblokir tidak diteruskan ke antarmuka kedua.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fitur penting dari Suricata adalah kemampuan untuk menggunakan pengembangan untuk Snort. Administrator dapat mengakses, khususnya, aturan aturan Sourcefire VRT dan OpenSource Emerging Threats, serta komersial Emerging Threats Pro. Output terpadu dapat dianalisis menggunakan backend populer, dan output ke PCAP dan Syslog juga didukung. Pengaturan dan aturan sistem disimpan dalam file YAML, yang mudah dibaca dan dapat diproses secara otomatis. Mesin Suricata mengenali banyak protokol, sehingga tidak perlu mengikat nomor port dalam aturan. Selain itu, konsep flowbits secara aktif dipraktikkan dalam aturan Suricata. Untuk melacak respons, variabel sesi digunakan untuk membuat dan menerapkan berbagai penghitung dan bendera.Banyak IDS menganggap koneksi TCP berbeda sebagai entitas yang terpisah dan mungkin tidak melihat koneksi di antara mereka, yang mengindikasikan awal serangan. Suricata mencoba melihat keseluruhan gambar dan dalam banyak kasus mengenali lalu lintas berbahaya yang didistribusikan melalui koneksi yang berbeda. Anda dapat berbicara tentang kelebihannya untuk waktu yang lama, lebih baik kita beralih ke instalasi dan konfigurasi.</font></font><br>
<br>
<h2><font color="#3AC1EF"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana cara meng-install?</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan menginstal Suricata di server virtual yang menjalankan Ubuntu 18.04 LTS. </font><font style="vertical-align: inherit;">Semua perintah harus dijalankan sebagai root (root). </font><font style="vertical-align: inherit;">Opsi paling aman adalah menyambungkan ke server melalui SSH dengan hak-hak pengguna biasa, dan kemudian menggunakan utilitas sudo untuk meningkatkan hak istimewa. </font><font style="vertical-align: inherit;">Pertama, Anda perlu menginstal paket yang kami butuhkan:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt -y install libpcre3 libpcre3-dev build-essential autoconf automake libtool libpcap-dev libnet1-dev libyaml-0-2 libyaml-dev zlib1g zlib1g-dev libmagic-dev libcap-ng-dev libjansson-dev pkg-config libnetfilter-queue-dev geoip-bin geoip-database geoipupdate apt-transport-https</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menghubungkan repositori eksternal:</font></font><br>
<br>
<pre><code class="bash hljs">sudo add-apt-repository ppa:oisf/suricata-stable<font></font>
sudo apt-get update</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal versi stabil terbaru Suricata:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install suricata</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika perlu, edit nama file konfigurasi, ganti eth0 default dengan nama sebenarnya dari antarmuka server eksternal. </font><font style="vertical-align: inherit;">Pengaturan default disimpan dalam file / etc / default / suricata, dan pengaturan pengguna disimpan di /etc/suricata/suricata.yaml. </font><font style="vertical-align: inherit;">Menyiapkan IDS sebagian besar terbatas untuk mengedit file konfigurasi ini. </font><font style="vertical-align: inherit;">Ini memiliki banyak parameter, yang dalam nama dan tujuannya bertepatan dengan rekan-rekan mereka dari Snort. </font><font style="vertical-align: inherit;">Sintaksnya, bagaimanapun, sama sekali berbeda, tetapi file ini jauh lebih mudah dibaca daripada konfigurasi Snort, dan itu dikomentari dengan baik.</font></font><br>
<br>
<pre><code class="bash hljs">sudo nano /etc/default/suricata</code></pre><br>
<img src="https://habrastorage.org/webt/d3/oc/qt/d3ocqteatkouq5i01wub0k9dmyo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dan</font></font><br>
<br>
<pre><code class="bash hljs">sudo nano /etc/suricata/suricata.yaml</code></pre><br>
<img src="https://habrastorage.org/webt/nh/v8/it/nhv8itz1ajztjvvvkpmfxxxw8cc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhatian! </font><font style="vertical-align: inherit;">Sebelum memulai, perlu memeriksa nilai-nilai variabel dari bagian vars. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menyelesaikan konfigurasi, Anda perlu menginstal suricata-update untuk memperbarui dan mengunduh aturan. </font><font style="vertical-align: inherit;">Untuk melakukan ini cukup sederhana:</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt install python-pip<font></font>
sudo pip install pyyaml<font></font>
sudo pip install &lt;a href=<span class="hljs-string">"https://github.com/OISF/suricata-update/archive/master.zip"</span>&gt;https://github.com/OISF/suricata-update/archive/master.zip&lt;/a&gt;<font></font>
sudo pip install --pre --upgrade suricata-update</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, kita perlu menjalankan perintah pembaruan suricata untuk mengatur set aturan terbuka Emerging Threats:</font></font><br>
<br>
<pre><code class="bash hljs">sudo suricata-update</code></pre><br>
<img src="https://habrastorage.org/webt/tg/nz/yd/tgnzydwuy7jqdeq7swl0sf1xwmc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melihat daftar sumber aturan, jalankan perintah berikut:</font></font><br>
<br>
<pre><code class="bash hljs">sudo suricata-update list-sources</code></pre><br>
<img src="https://habrastorage.org/webt/8o/tf/od/8otfodsrz6j0r0lxgnyjuirwyso.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memperbarui sumber aturan:</font></font><br>
<br>
<pre><code class="bash hljs">sudo suricata-update update-sources</code></pre><br>
<img src="https://habrastorage.org/webt/yc/gf/jd/ycgfjdt8bfuxkd5ncvt03uhxtgc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengunjungi kembali sumber yang diperbarui:</font></font><br>
<br>
<pre><code class="bash hljs">sudo suricata-update list-sources</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika perlu, Anda dapat mengaktifkan sumber gratis yang tersedia:</font></font><br>
<br>
<pre><code class="bash hljs">sudo suricata-update <span class="hljs-built_in">enable</span>-source ptresearch/attackdetection<font></font>
sudo suricata-update <span class="hljs-built_in">enable</span>-source oisf/trafficid<font></font>
sudo suricata-update <span class="hljs-built_in">enable</span>-source sslbl/ssl-fp-blacklist</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, Anda perlu memperbarui aturan lagi:</font></font><br>
<br>
<pre><code class="bash hljs">sudo suricata-update</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengenai hal ini, instalasi dan konfigurasi awal Suricata di Ubuntu 18.04 LTS dapat dianggap selesai. </font><font style="vertical-align: inherit;">Bagian yang paling menarik dimulai: pada artikel selanjutnya kita akan menghubungkan server virtual ke jaringan kantor melalui VPN dan mulai menganalisis semua lalu lintas masuk dan keluar. </font><font style="vertical-align: inherit;">Kami akan memberikan perhatian khusus untuk memblokir serangan DDoS, aktivitas malware, dan upaya untuk mengeksploitasi kerentanan dalam layanan yang dapat diakses dari jaringan publik. </font><font style="vertical-align: inherit;">Untuk kejelasan, serangan dari tipe yang paling umum akan dimodelkan.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/gu/ab/cg/guabcgmwuqoopx1ar80sjpz6keq.png"></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><img src="https://habrastorage.org/webt/de/0y/l-/de0yl-6ppopvisr_a80b4yuhjj8.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id507214/index.html">Cara membuat dan memodifikasi formulir PDF interaktif, atau skill baru ABBYY FineReader PDF</a></li>
<li><a href="../id507218/index.html">Baca saya, atau mengapa teks tidak dibaca sampai akhir</a></li>
<li><a href="../id507222/index.html">Kenapa semua orang harus memakai topeng</a></li>
<li><a href="../id507224/index.html">Cara menghilangkan bintik-bintik buta dengan pengujian visual</a></li>
<li><a href="../id507226/index.html">OCR untuk PDF di .NET - Cara mengekstrak teks dari dokumen PDF yang tidak dapat diakses</a></li>
<li><a href="../id507236/index.html">Kami meningkatkan efektivitas interaksi antara desainer dan pengembang frontend</a></li>
<li><a href="../id507238/index.html">Kami menggunakan DS untuk memproses ulasan pelanggan dari situs besar</a></li>
<li><a href="../id507242/index.html">Apa yang menarik Wi-Fi 6 dalam kinerja Huawei</a></li>
<li><a href="../id507250/index.html">Menentukan kartu poker pemenang menggunakan peta / kurangi dalam JavaScript</a></li>
<li><a href="../id507254/index.html">Zabbix - memperluas batas makro</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>