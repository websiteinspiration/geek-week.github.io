<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎃 🚋 🥩 Structures de données théoriques et leur application en JavaScript. P1. Des couples 👦🏽 👩🏾‍🎓 🏳️‍🌈</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="«Les mauvais programmeurs pensent au code. Les bons programmeurs pensent aux structures de données et à leurs relations », Linus Torvalds, créateur de...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Structures de données théoriques et leur application en JavaScript. P1. Des couples</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493692/"><blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Les mauvais programmeurs pensent au code. </font><font style="vertical-align: inherit;">Les bons programmeurs pensent aux structures de données et à leurs relations », Linus Torvalds, créateur de Linux.</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous considérons comme un axiome que très souvent la solution à tout problème de programmation se résume à choisir la bonne structure de données. </font><font style="vertical-align: inherit;">Cet axiome peut être prouvé, mais c'est long et l'article en parle un peu plus. </font><font style="vertical-align: inherit;">Aujourd'hui, nous allons parler de l'une des structures théoriques les plus simples, sur la paire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une paire est une structure de données qui stocke deux éléments de données en soi, ce qui implique que nous voulons en quelque sorte les combiner logiquement en un seul. </font><font style="vertical-align: inherit;">Il résout précisément ce problème, c'est-à-dire </font><font style="vertical-align: inherit;">s'il y a des éléments de données </font></font><code></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et que </font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous devons les présenter sous la forme </font></font><code>b</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, alors nous pouvons implémenter cette conception par paires.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous pensez que vous n'avez jamais rencontré ou ne rencontrerez pas quelque chose comme ça, alors ce n'est pas le cas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici l'exemple le plus simple d'une propriété calculée de la documentation VUE:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> vm = <span class="hljs-keyword">new</span> Vue({
  <span class="hljs-attr">el</span>: <span class="hljs-string">'#demo'</span>,
  <span class="hljs-attr">data</span>: {
    <span class="hljs-attr">firstName</span>: <span class="hljs-string">'Foo'</span>,
    <span class="hljs-attr">lastName</span>: <span class="hljs-string">'Bar'</span><font></font>
  },<font></font>
  <span class="hljs-attr">computed</span>: {
    <span class="hljs-attr">fullName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.firstName + <span class="hljs-string">' '</span> + <span class="hljs-keyword">this</span>.lastName<font></font>
    }<font></font>
  }<font></font>
})<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Du point de vue de la théorie, </font></font><code>fullName</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c'est un couple. Et il existe d'innombrables exemples de ce type dans la technologie et le monde réel, que nous modélisons souvent avec du code de programme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez remarquer à juste titre que nous pouvons combiner logiquement n'importe quel nombre d'éléments et vous aurez raison. Cela nous amène à un concept structurel plus complexe de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">données composites</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dont l'un est un </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">couple</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Nous traiterons les données composites un peu plus tard, nous allons maintenant nous concentrer sur la paire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La théorie nous dit que les paires ont les propriétés suivantes:</font></font><br>
<br>
<ul>
<li><b></b>, ..    -    ,        ,     .      ,    (     -  .           ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>)</li>
<li><b>          </b>.     .          .      ,   ,     ,     ,    ,     .<br>
<br>
    :<br>
<br>
<pre><code class="plaintext hljs">pair = { a, b }
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si dans le code appelant, nous travaillerons directement avec la paire dans ce style: </font></font><code>pair.a</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">puis en modifiant l'implémentation de la paire, nous serons obligés de réécrire le code appelant partout où apparaît l'appel à la paire. </font><font style="vertical-align: inherit;">Ce n'est pas génial! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un couple est une abstraction (même un niveau bas), il serait donc faux de travailler directement avec ses composants. </font><font style="vertical-align: inherit;">Lorsque vous travaillez avec les composants d'une abstraction, nous devons utiliser l'interface d'abstraction, sinon le code se transformera en chaos (il deviendra plus difficile à lire, plus facile à faire une erreur, mais surtout plus difficile à changer, car un changement devra être effectué dans différentes parties du code).</font></font></li>
</ul><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les paires peuvent être implémentées de manières très différentes. </font><font style="vertical-align: inherit;">Dans n'importe quel langage de programmation, il existe plusieurs opportunités pour implémenter cette structure de données. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, vous pouvez implémenter une paire pour des types de données arbitraires:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//       </span>
<span class="hljs-comment">//      </span>
<span class="hljs-keyword">const</span> pair = <span class="hljs-function">(<span class="hljs-params">first, second</span>) =&gt;</span> <span class="hljs-function">(<span class="hljs-params">elementType</span>) =&gt;</span> {
  <span class="hljs-keyword">switch</span>(elementType) {
    <span class="hljs-keyword">case</span> <span class="hljs-string">'first'</span>:
     <span class="hljs-keyword">return</span> first;
   <span class="hljs-keyword">case</span> <span class="hljs-string">'second'</span>:
     <span class="hljs-keyword">return</span> second;<font></font>
  }<font></font>
};<font></font>
<span class="hljs-comment">//    ,      ,</span>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">const</span> getFirstElement = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair(<span class="hljs-string">'first'</span>));
<span class="hljs-keyword">const</span> getSecondElement = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair(<span class="hljs-string">'second'</span>));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette façon de travailler s'appelle envoyer des messages. Curieusement, mais c'est cette façon d'interaction entre les entités qui était autrefois appelée OOP avant C / C ++. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faut-il utiliser le design </font></font><code>switch </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? Bien sûr, pas nécessairement. Ce sont les détails de l'implémentation technique, et il peut y avoir un grand nombre d'implémentations! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le plus important est de rendre le couple mutable! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, vous pouvez implémenter la même fonctionnalité à l'aide de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Map</font></font></a><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//     </span>
<span class="hljs-comment">//  ,       </span>
<span class="hljs-keyword">const</span> pair = <span class="hljs-function">(<span class="hljs-params">first, second</span>) =&gt;</span> (
  <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([<font></font>
    [<span class="hljs-string">'first'</span>, first],<font></font>
    [<span class="hljs-string">'second'</span>, second],<font></font>
  ])<font></font>
);<font></font>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">const</span> getFirst = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair.get(<span class="hljs-string">'first'</span>));
<span class="hljs-keyword">const</span> getSecond = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair.get(<span class="hljs-string">'second'</span>));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Notez que la première implémentation peut facilement être remplacée par la seconde. et du deuxième au premier! Le code d'appel ne changera pas. C'est un avantage important des abstractions. Nous pouvons facilement changer l'implémentation de l'abstraction dans le programme, mais le code travaillant avec cette abstraction ne connaîtra pas ces changements. Nous n'aurons pas besoin d'éditer le code qui fonctionne avec ces abstractions si nous voulons changer l'implémentation des abstractions elles-mêmes. Ceci est très important car économise de l'argent aux clients et augmente les bonus des développeurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, disons que nous ne connaissons pas l'existence de Mapov dans js, mais nous pouvons travailler avec des objets.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//       </span>
<span class="hljs-comment">//   </span>
<span class="hljs-keyword">const</span> pair = <span class="hljs-function">(<span class="hljs-params">first, second</span>) =&gt;</span> (
  <span class="hljs-built_in">Object</span>.freeze({
    <span class="hljs-string">'first'</span>: first,
    <span class="hljs-string">'second'</span>: second,<font></font>
  })<font></font>
);<font></font>
<span class="hljs-comment">//    ,       </span>
<span class="hljs-keyword">const</span> getFirst = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair.first);
<span class="hljs-keyword">const</span> getSecond = <span class="hljs-function">(<span class="hljs-params">pair</span>) =&gt;</span> (pair.second);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le </font><font style="vertical-align: inherit;">deviner facilement, les </font><font style="vertical-align: inherit;">deux implémentations précédentes peuvent également être remplacées par un troisième et rien ne changera de ce ( En </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fait, il y a une différence. Les </font><font style="vertical-align: inherit;">cartes ne jette pas des </font><font style="vertical-align: inherit;">exceptions lorsque vous </font><font style="vertical-align: inherit;">essayez de propriétés modifier directement, mais ils jettent « objets gelés » </font></font><code>TypeError: Cannot assign to read only property</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Cependant, dans le contexte de cet article important.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi avons-nous besoin de connaissances sur les structures de données théoriques?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous regardons le travail d'un programmeur à vol d'oiseau, nous verrons qu'il est essentiellement impliqué dans cela. qui crée des outils qui manipulent certains ensembles de données. Par conséquent, nous devons constamment sélectionner une sorte de structure de stockage pour les données et trouver des moyens de les utiliser ou de donner à l'ensemble de données chaotique une structure spécifique. Comprendre les structures de données typiques nous permet de posséder un ensemble de solutions prêtes à l'emploi pour différentes tâches typiques et de choisir simplement la manière la plus pratique pour une tâche spécifique. </font><font style="vertical-align: inherit;">
Analysons </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
un exemple: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">«Implémenter un mécanisme pour travailler avec des fractions. Les fractions doivent être stockées dans le format habituel. ceux. sous forme de 1/2. Il est également nécessaire de mettre en œuvre des opérations de base (addition, soustraction, multiplication, division). La normalisation doit être assurée. »</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donnons un sens à l'état du problème! Nous devons implémenter une abstraction pour une entité mathématique, il est donc raisonnable de se référer à la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">source d'origine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Bien sûr, si des programmeurs expérimentés lisent ce texte, ils doivent avoir immédiatement imaginé la solution en code sans lire l'article sur les fractions en mathématiques, mais nous supposerons. que nous imaginons à peine comment les fractions fonctionnent et illustrons tout le cours du raisonnement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le matériel de Wikipedia nous dit que les fractions sont ordinaires (1/4) et décimales (0,1). De toute évidence, en fonction de l'état du problème, nous devons travailler avec des fractions dans le format de présentation habituel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous voyons également que la fraction ordinaire est une </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">union logique de deux</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nombres (numérateur et dénominateur), c'est le signal le plus sûr de la nécessité d'utiliser une paire comme structure de données pour cette tâche. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le code, nous pourrions décrire cette structure comme suit:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//        ,</span>
<span class="hljs-comment">//  ,    </span>
<span class="hljs-comment">//          ,</span>
<span class="hljs-comment">//     </span>
<span class="hljs-keyword">const</span> makeRational = <span class="hljs-function">(<span class="hljs-params">num, denom</span>) =&gt;</span> (
  <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([<font></font>
    [<span class="hljs-string">'num'</span>, num],<font></font>
    [<span class="hljs-string">'denom'</span>, denom],<font></font>
  ])<font></font>
);<font></font>
<font></font>
<span class="hljs-comment">//  ,    </span>
<span class="hljs-comment">//   ,      ,    </span>
<span class="hljs-comment">//    </span>
<span class="hljs-keyword">const</span> getNumer = <span class="hljs-function">(<span class="hljs-params">rat</span>) =&gt;</span> (rat.get(<span class="hljs-string">'num'</span>));
<span class="hljs-keyword">const</span> getDenom = <span class="hljs-function">(<span class="hljs-params">rat</span>) =&gt;</span> (rat.get(<span class="hljs-string">'denom'</span>));
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous devons analyser la situation avec des fractions d'un tel plan 8/4, 6/9. </font><font style="vertical-align: inherit;">L'état de la tâche indique la nécessité de prévoir une normalisation. </font><font style="vertical-align: inherit;">La normalisation d'une fraction est la suppression du plus grand diviseur commun (GCD). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous implémentons une fonction pour rechercher deux nombres GCD:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//Gcd     </span>
<span class="hljs-keyword">const</span> getGcd = <span class="hljs-function">(<span class="hljs-params">a, b</span>) =&gt;</span> ((a % b) ? getGcd(b, a % b) : <span class="hljs-built_in">Math</span>.abs(b));
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si le texte de la fonction n'est pas clair pour vous, alors je vous conseille de lire sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">récursivité</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour normaliser la fraction, nous devons diviser son numérateur et son dénominateur par GCD. </font><font style="vertical-align: inherit;">Nous écrivons la fonction de normalisation:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> normalize = <span class="hljs-function">(<span class="hljs-params">n1, n2</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> commonDivisor = getGcd(n1, n2);
  <span class="hljs-keyword">return</span> [n1 / commonDivisor, n2 / commonDivisor];<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il serait logique de mettre la normalisation dans le constructeur makeRational pour toujours normaliser les données lors de la création de la fraction. </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> makeRational = <span class="hljs-function">(<span class="hljs-params">num, denom</span>) =&gt;</span> {
  <span class="hljs-keyword">const</span> [normalizeNum, normalizeDenom] = normalize(num, denom);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Map</span>([<font></font>
    [<span class="hljs-string">'num'</span>, normalizeNum],<font></font>
    [<span class="hljs-string">'denom'</span>, normalizeDenom],<font></font>
  ]);<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, nous allons travailler sur l'interface des opérations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) Addition </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ajouter deux fractions ordinaires, vous devez les amener à un dénominateur commun. </font><font style="vertical-align: inherit;">Ajoutez ensuite les numérateurs et laissez le dénominateur inchangé.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//..       ,</span>
<span class="hljs-comment">//       ,</span>
<span class="hljs-comment">//         </span>
<span class="hljs-keyword">const</span> add = <span class="hljs-function">(<span class="hljs-params">rat1, rat2</span>) =&gt;</span> (<font></font>
  makeRational(<font></font>
    getNumer(rat1) * getDenom(rat2) + getNumer(rat2) * getDenom(rat1),<font></font>
    getDenom(rat1) * getDenom(rat2),<font></font>
  ));<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) Soustraction </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour obtenir la différence des fractions, elles doivent également être réduites à un dénominateur commun, puis soustraire les numérateurs, le dénominateur doit rester inchangé.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//    </span>
<span class="hljs-comment">//     </span>
<span class="hljs-keyword">const</span> sub = <span class="hljs-function">(<span class="hljs-params">rat1, rat2</span>) =&gt;</span> (<font></font>
  makeRational(<font></font>
    getNumer(rat1) * getDenom(rat2) - getNumer(rat2) * getDenom(rat1),<font></font>
    getDenom(rat1) * getDenom(rat2),<font></font>
  ));<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3) Multiplication </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour multiplier deux fractions ordinaires, vous devez multiplier leurs numérateurs et dénominateurs.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> multi = <span class="hljs-function">(<span class="hljs-params">rat1, rat2</span>) =&gt;</span> (<font></font>
  makeRational(<font></font>
    getNumer(rat1) * getNumer(rat2),<font></font>
    getDenom(rat1) * getDenom(rat2),<font></font>
  ));<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4) Division </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Afin de diviser une fraction ordinaire en une autre, vous devez multiplier la première fraction par la fraction inverse de la seconde. </font><font style="vertical-align: inherit;">L'inverse est appelé une fraction dont le numérateur est égal au dénominateur de l'original, et le dénominateur est le numérateur de l'original.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> div = <span class="hljs-function">(<span class="hljs-params">rat1, rat2</span>) =&gt;</span> (<font></font>
  makeRational(<font></font>
    getNumer(rat1) * getDenom(rat2),<font></font>
    getDenom(rat1) * getNumer(rat2),<font></font>
  ));<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, dans chaque opération, nous créons une nouvelle entité. </font><font style="vertical-align: inherit;">Ceci est une conséquence de la règle d'immuabilité. </font><font style="vertical-align: inherit;">Notez que dans les </font><font style="vertical-align: inherit;">opérations mathématiques ne changent pas le nombre initial de chiffres, et créer de </font><font style="vertical-align: inherit;">nouvelles: </font></font><code>1 + 2 = 3</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Devrait faire attention. </font><font style="vertical-align: inherit;">que nous pouvons changer l'implémentation </font></font><code>makeRational</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">à n'importe quel autre, mais le code appelant n'en sera pas informé et continuera à fonctionner. </font><font style="vertical-align: inherit;">Ceci est une conséquence du fait que nous avons correctement implémenté l'abstraction et travaillé avec ses composants via l'interface, et non directement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est également important que l'utilisateur puisse obtenir ses données de la manière habituelle, nous introduisons donc une fonction supplémentaire.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> ratToString = <span class="hljs-function">(<span class="hljs-params">rat</span>) =&gt;</span> <span class="hljs-string">`<span class="hljs-subst">${getNumer(rat)}</span>/<span class="hljs-subst">${getDenom(rat)}</span>`</span>;
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais joindre une liste de tests:</font></font><br>
<br>
<pre><code class="javascript hljs">describe(<span class="hljs-string">'normalize'</span>, () =&gt; {<font></font>
  test(<span class="hljs-string">'should work'</span>, () =&gt; {<font></font>
    expect(normalize(<span class="hljs-number">21</span>, <span class="hljs-number">6</span>)).toEqual([<span class="hljs-number">7</span>, <span class="hljs-number">2</span>]);<font></font>
    expect(normalize(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>)).toEqual([<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]);<font></font>
  });<font></font>
});<font></font>
<font></font>
<font></font>
describe(<span class="hljs-string">'rational'</span>, () =&gt; {<font></font>
  test(<span class="hljs-string">'getters'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> rat1 = makeRational(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>);<font></font>
    expect(getNumer(rat1)).toBe(<span class="hljs-number">1</span>);<font></font>
    expect(getDenom(rat1)).toBe(<span class="hljs-number">3</span>);<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rat3 = makeRational(<span class="hljs-number">-4</span>, <span class="hljs-number">16</span>);<font></font>
    expect(getNumer(rat3)).toBe(<span class="hljs-number">-1</span>);<font></font>
    expect(getDenom(rat3)).toBe(<span class="hljs-number">4</span>);<font></font>
  });<font></font>
<font></font>
  test(<span class="hljs-string">'add&amp;sub'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> rat1 = makeRational(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>);
    <span class="hljs-keyword">const</span> rat2 = makeRational(<span class="hljs-number">10</span>, <span class="hljs-number">3</span>);<font></font>
    expect(add(rat1, rat2)).toEqual(makeRational(<span class="hljs-number">11</span>, <span class="hljs-number">3</span>));<font></font>
    expect(sub(rat1, rat2)).toEqual(makeRational(<span class="hljs-number">-3</span>, <span class="hljs-number">1</span>));<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rat4 = makeRational(<span class="hljs-number">12</span>, <span class="hljs-number">5</span>);
    <span class="hljs-keyword">const</span> rat3 = makeRational(<span class="hljs-number">-4</span>, <span class="hljs-number">16</span>);<font></font>
    expect(add(rat3, rat4)).toEqual(makeRational(<span class="hljs-number">43</span>, <span class="hljs-number">20</span>));<font></font>
    expect(sub(rat3, rat4)).toEqual(makeRational(<span class="hljs-number">-53</span>, <span class="hljs-number">20</span>));<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rat5 = makeRational(<span class="hljs-number">1</span>, <span class="hljs-number">15</span>);
    <span class="hljs-keyword">const</span> rat6 = makeRational(<span class="hljs-number">4</span>, <span class="hljs-number">25</span>);<font></font>
    expect(add(rat5, rat6)).toEqual(makeRational(<span class="hljs-number">17</span>, <span class="hljs-number">75</span>));<font></font>
    expect(sub(rat5, rat6)).toEqual(makeRational(<span class="hljs-number">-7</span>, <span class="hljs-number">75</span>));<font></font>
  });<font></font>
<font></font>
  test(<span class="hljs-string">'multi&amp;div'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> rat1 = makeRational(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);
    <span class="hljs-keyword">const</span> rat2 = makeRational(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>);<font></font>
    expect(multi(rat1, rat2)).toEqual(makeRational(<span class="hljs-number">2</span>, <span class="hljs-number">6</span>));<font></font>
<font></font>
    <span class="hljs-keyword">const</span> rat3 = makeRational(<span class="hljs-number">1</span>, <span class="hljs-number">3</span>);
    <span class="hljs-keyword">const</span> rat4 = makeRational(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>);<font></font>
    expect(div(rat3, rat4)).toEqual(makeRational(<span class="hljs-number">2</span>, <span class="hljs-number">3</span>));<font></font>
  });<font></font>
<font></font>
  test(<span class="hljs-string">'ratToString'</span>, () =&gt; {
    <span class="hljs-keyword">const</span> rat1 = makeRational(<span class="hljs-number">3</span>, <span class="hljs-number">9</span>);
    <span class="hljs-keyword">const</span> rat3 = makeRational(<span class="hljs-number">-4</span>, <span class="hljs-number">16</span>);<font></font>
    expect(ratToString(rat1)).toBe(<span class="hljs-string">'1/3'</span>);<font></font>
    expect(ratToString(rat3)).toBe(<span class="hljs-string">'-1/4'</span>);<font></font>
  });<font></font>
});<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le texte s'est avéré assez volumineux, mais j'espère qu'il est clair. </font><font style="vertical-align: inherit;">Résumer:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous pouvons utiliser la structure de données de vapeur chaque fois que nous devons combiner logiquement deux valeurs indépendantes </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le couple doit être immunisé</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Le couple doit fournir une interface pour travailler avec leurs composants</font></font></li>
</ol> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je m'excuse à l'avance si l'article semble surchargé à quelqu'un. </font><font style="vertical-align: inherit;">Je me concentre principalement sur des développeurs peu expérimentés, j'essaie donc d'écrire de manière à ce que la logique de mon raisonnement et le choix de l'une ou l'autre solution soient extrêmement clairs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si l'article intéresse la communauté. </font><font style="vertical-align: inherit;">alors la direction des </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">structures de données typiques</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> continuera. </font><font style="vertical-align: inherit;">Le sujet suivant est les listes associées.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr493674/index.html">Présentation du lecteur vidéo pour le Web</a></li>
<li><a href="../fr493680/index.html">10 astuces pour ne pas fusionner konfu en ligne</a></li>
<li><a href="../fr493686/index.html">L'origine mystérieuse du jeu de société sur le piratage des codes Mastermind</a></li>
<li><a href="../fr493688/index.html">Nous rendons Microsoft Teams gratuits - restez en contact avec vos collègues en ces temps difficiles</a></li>
<li><a href="../fr493690/index.html">20 conseils pour le pilote DJI Mavic Mini pour protéger votre drone contre les accidents et les pertes</a></li>
<li><a href="../fr493696/index.html">Accélération du sous-système de disque Kemu Qemu sous Linux</a></li>
<li><a href="../fr493700/index.html">Utilisation de logiciels malveillants dans Azure pour accéder aux locataires Microsoft 365</a></li>
<li><a href="../fr493702/index.html">Transition massive vers le travail à distance: problèmes techniques et menaces pour la sécurité</a></li>
<li><a href="../fr493704/index.html">Utiliser TypeScript en JavaScript sans écrire TypeScript</a></li>
<li><a href="../fr493706/index.html">Connaissez votre ennemi: créez une porte dérobée Node.js</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>