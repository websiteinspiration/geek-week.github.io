<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üèåÔ∏è ‚ôêÔ∏è üë©üèø‚Äçüíª Soy desarrollador de Android y no me gustaba hacer trabajo manual. ‚ò†Ô∏è üöñ üé°</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Cuando me instal√© en Skyeng, el sol brillaba un poco m√°s brillante, el c√©sped no era m√°s verde (era lo mismo a principios de la primavera), y el l√≠der...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Soy desarrollador de Android y no me gustaba hacer trabajo manual.</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/skyeng/blog/490784/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cuando me instal√© en Skyeng, el sol brillaba un poco m√°s brillante, el c√©sped no era m√°s verde (era lo mismo a principios de la primavera), y el l√≠der del equipo me pidi√≥ que escribiera en Jira cu√°nto tiempo se dedicaba a la codificaci√≥n, y cu√°nto hablaba y revisaba. Al menos una vez cada dos semanas. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/p0/gd/rw/p0gdrwyypbzz6wn81ybvknbmohq.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"En base a estos datos, estamos tratando de entender si es necesario ajustar las estimaciones y si hay problemas de comunicaci√≥n en el equipo", dijeron. Pero a qui√©n nunca se le dijo tal "babayka".</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como todos somos trabajadores remotos, la idea sonaba razonable. Y me pareci√≥ interesante d√≥nde hab√≠an ido estas ocho horas: aqu√≠ estaban, pero ¬øpara qu√© exactamente? Sin embargo, el registro fue inusual. Y en general pereza. Entonces decid√≠ buscar algo que siguiera funcionando para m√≠. Y en el proceso de investigaci√≥n me dej√© llevar y escrib√≠ mi plugin para IntelliJ IDEA. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abajo encontrar√°s</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revisi√≥n subjetiva de herramientas terminadas y mi bicicleta</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (con fuente).</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Estudio las soluciones que usa el equipo.</font></font></h2> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo primero que hice fue averiguar por mis colegas qui√©n usa qu√©. </font><font style="vertical-align: inherit;">Las opciones son aproximadamente las siguientes:</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clockify</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : un bot√≥n para gobernar todo</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬øNecesita tiempo para codificar o escribir muelles? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El complemento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> agregar√° un bot√≥n (un pacman gris bastante discreto) casi en cualquier lugar.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yy/9-/ic/yy9-icorb-pi37wptn9yh7wxtxk.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As√≠ se ve en Google Docs</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/1k/tf/m0/1ktfm0ax7-xl9rmwtlq9jvwtgec.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Y en GitHub</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
puedes admirar a Natrekannyi en un tablero, o puedes importarlo en una tabla y soltarlo en Jira. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/bf/6h/jsbf6htyizodd76lwvq5hbzuqhy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La integraci√≥n en Jira se proporciona por separado, tambi√©n por </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">extensi√≥n del navegador</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
, sin embargo, es posible cargar una tabla con registros de trabajo obtenidos de Clockify a su calendario de trabajo. </font><font style="vertical-align: inherit;">Y para el seguimiento del tiempo fuera de l√≠nea hay aplicaciones de escritorio para Windows, Linux y Mac. </font><font style="vertical-align: inherit;">Aplicaciones m√≥viles tambi√©n. </font><font style="vertical-align: inherit;">La funcionalidad principal es gratuita, pero hay varios planes de tarifas con beneficios como privacidad, recordatorios y plantillas para proyectos.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Toggl</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , solo Toggl</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo es casi igual, pero un poco m√°s: por ejemplo, en una aplicaci√≥n de escritorio, puede configurar recordatorios sobre el registro del tiempo, activar el modo pomodoro, incluso existe la oportunidad de vincular una aplicaci√≥n espec√≠fica a un proyecto espec√≠fico y configurar el seguimiento autom√°tico.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hl/yp/sv/hlypsvcpl66hldse0c4ayfhkmzi.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pero hay un matiz: el primer d√≠a de uso me sorprendi√≥ esta ventana y las notificaciones con recordatorios. </font><font style="vertical-align: inherit;">Aunque la teor√≠a sonaba genial)</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Script Toggl + </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : cuando solo un bot√≥n ya no es suficiente</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La invenci√≥n de mi colega. </font><font style="vertical-align: inherit;">De alguna manera, decidi√≥ reducir los gestos para exportar tablas a Jira y cambi√≥ la descarga de impuestos en Toggl a un gui√≥n. </font><font style="vertical-align: inherit;">Puedes poner un cron y disfrutar de la vida.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wakatime</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : donde vamos, no se necesitan botones</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Registra todo por s√≠ mismo. Por lo tanto, lo primero que debe recordar al conectar su extensi√≥n de navegador es la lista negra. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s de las extensiones, proporciona varias integraciones y un n√∫mero decente de complementos para los IDE y editores m√°s comunes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xz/4u/uk/xz4uuk51xsdjdkemxh-ichx8ceg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Los complementos para el IDE rastrean el tiempo pasado tanto en una rama espec√≠fica de git como en un archivo espec√≠fico. En la pantalla, la lista de los disponibles es muy impresionante. Serenyk - "en los planes", por su r√°pida implementaci√≥n, puede votar. Algunos complementos en una suscripci√≥n paga por $ 9 por mes.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Adem√°s, en el panel de control, puede ver cu√°nto tiempo se dedica en t√©rminos porcentuales a escribir c√≥digo en diferentes idiomas: si recuerda que un proyecto normal de Android implica el uso de Kotlin, Java, Groovy y xml, esto tiene sentido para s√≠ mismo). </font><font style="vertical-align: inherit;">Y si trabaja con el complemento instalado durante un tiempo, notar√° que es bastante despiadado: el tablero de instrumentos entra en el momento de la lectura activa y la escritura del c√≥digo. </font><font style="vertical-align: inherit;">Y pegarse no entra en el monitor con un aspecto de cristal. </font><font style="vertical-align: inherit;">No hace falta decir que es un aficionado.</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hmm, el c√≥digo fuente de WakaTime est√° abierto: puedes intentar entender c√≥mo funciona ...</font></font></b><div class="spoiler_text">  , ?           <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=">   IDE  JetBrains</a>. <br>
<br>
 .     WakaTime.java.    ,         ,    Heartbeat (),   WakaTime CLI    .      , , ,       . <br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escribiendo tu bicicleta por analog√≠a</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quiz√°s una pistola de papa ser√≠a m√°s √∫til, pero no har√°s nada con fines de investigaci√≥n. Despu√©s de meditar en las fuentes de WakaTime, decid√≠ crear mi propio complemento que pueda rastrear la actividad en el IDE, registrar el tiempo para escribir y enviarlo todo a Jira (en nuestro flujo, las ramas llevan el nombre de las tareas en Jira, por lo que parece bastante realista). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y para no llenar el servidor con solicitudes mientras se trabaja en el c√≥digo, enviaremos los registros cuando Android Studio est√© cerrado, y hasta ese momento lo almacenaremos localmente.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. ¬øQu√© entidades podemos encontrar en el c√≥digo fuente del complemento (y usar en el nuestro)?</font></font></h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No utilizamos componentes (esto es </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">heredado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que anteriormente eran las principales unidades estructurales del complemento. Puede ser nivel de aplicaci√≥n, nivel de proyecto o nivel de m√≥dulo. Hay un componente de aplicaci√≥n en la fuente WakaTime, pero pueden hacerlo, el c√≥digo fuente ya tiene cinco a√±os y deber√≠a mantener la compatibilidad con versiones anteriores. Los componentes est√°n vinculados al ciclo de vida del nivel con el que est√°n asociados. Entonces, por ejemplo, ApplicationComponent se carga cuando se inicia el IDE. Cuando se usan, bloquear√°n el reinicio del complemento sin reiniciar el IDE y, en general, se comportar√°n de manera desagradable. Por lo tanto, es mejor usar servicios en su lugar. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usamos servicios</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Unidades estructurales principales actuales. </font><font style="vertical-align: inherit;">Se dividen en los mismos niveles de la aplicaci√≥n, el proyecto y el m√≥dulo, nos ayudar√°n a encapsular la l√≥gica en los niveles apropiados y almacenar el estado del complemento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A diferencia de los componentes, los Servicios deben cargarse por s√≠ solos utilizando el m√©todo ServiceManager.getService (). </font><font style="vertical-align: inherit;">La plataforma asegura que cada servicio sea un singleton. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Agregar acciones</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : pueden ser un acceso directo, un elemento de men√∫ adicional; en una palabra, son responsables de todo lo que de alguna manera afecta las acciones del usuario en el IDE. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usamos Extensiones</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : cualquier extensi√≥n de funcionalidad que ser√° m√°s complicada que las Acciones: por ejemplo, conectarse al ciclo de vida IDE y hacer algo mientras muestra una pantalla de bienvenida o antes de salir.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo esto debe declararse en el archivo /META_INF/plugin.xml.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Plugin.xml y build.gradle</font></font></h4><br>
<img src="https://habrastorage.org/webt/ap/ia/vz/apiavzht769ipgzd8ltqaobce4o.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ventana de creaci√≥n de proyectos. </font><font style="vertical-align: inherit;">Escribiremos nuestro complemento en Kotlin y usaremos Gradle para el ensamblado.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Esto es lo primero que vemos despu√©s de crear el complemento en blanco en IDEA (Archivo -&gt; Nuevo -&gt; Proyecto ... -&gt; Gradle -&gt; IntelliJ Platform Plugin). </font><font style="vertical-align: inherit;">Contiene informaci√≥n sobre las dependencias del complemento y su breve descripci√≥n. </font><font style="vertical-align: inherit;">Debe declarar los componentes del complemento: los componentes, servicios, acciones y extensiones mencionados anteriormente. </font><font style="vertical-align: inherit;">No habr√° un punto de entrada espec√≠fico: ser√° una acci√≥n personalizada o un evento de ciclo de vida IDE, seg√∫n nuestras necesidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Necesitaremos estas dependencias; despu√©s de todo, queremos escribir un complemento para el estudio y que pueda funcionar con Git.</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">depends</span>&gt;</span>Git4Idea<span class="hljs-tag">&lt;/<span class="hljs-name">depends</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">depends</span>&gt;</span>com.intellij.modules.androidstudio<span class="hljs-tag">&lt;/<span class="hljs-name">depends</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Git4Idea es un complemento para el sistema de archivos virtual (VCS) y proporciona temas, gracias a los cuales luego podemos escuchar eventos de git, como los pagos, por ejemplo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como tambi√©n queremos que el complemento pueda funcionar con Jira, conectaremos a trav√©s de Gradle la biblioteca amablemente proporcionada con el resto del cliente. </font><font style="vertical-align: inherit;">Para hacer esto, agregue el repositorio Maven de Atlassian all√≠:</font></font><br>
<br>
<pre><code class="kotlin hljs">repositories {<font></font>
   mavenCentral()<font></font>
   maven {<font></font>
       url <span class="hljs-string">"https://packages.atlassian.com/maven/repository/public"</span><font></font>
   }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y en realidad las bibliotecas:</font></font><br>
<br>
<pre><code class="kotlin hljs">implementation <span class="hljs-string">"joda-time:joda-time:2.10.4"</span>
implementation(<span class="hljs-string">"com.atlassian.jira:jira-rest-java-client-core:4.0.0"</span>) {<font></font>
   exclude group: <span class="hljs-string">'org.slf4j'</span><font></font>
   dependencies {<font></font>
       implementation <span class="hljs-string">"com.atlassian.fugue:fugue:2.6.1"</span><font></font>
   }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqu√≠ determinamos la versi√≥n del IDE que nos interesa y la ruta a ella (oh, si el verdadero Android Studio comenz√≥ y funcion√≥ tan r√°pido como su versi√≥n liviana para depurar complementos):</font></font><br>
<br>
<pre><code class="kotlin hljs">intellij {<font></font>
   version <span class="hljs-string">'2019.1'</span>
   plugins <span class="hljs-string">'git4idea'</span>
   alternativeIdePath <span class="hljs-string">'E:\\Android Studio'</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y aqu√≠, quiz√°s, alg√∫n d√≠a escribiremos sobre una funcionalidad nueva y mejorada. </font><font style="vertical-align: inherit;">Pero no ahora.</font></font><br>
<br>
<pre><code class="kotlin hljs">patchPluginXml {<font></font>
   changeNotes <span class="hljs-string">"""
     Add change notes here.&lt;br&gt;
     &lt;em&gt;most HTML tags may be used&lt;/em&gt;"""</span>
}</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Crear una IU</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para insertar algo en Jira, primero debe iniciar sesi√≥n. </font><font style="vertical-align: inherit;">Es l√≥gico hacer esto justo despu√©s de la apertura del proyecto. </font><font style="vertical-align: inherit;">Parece que necesitamos una extensi√≥n, y no dudaremos en declararla en plugin.xml:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">postStartupActivity</span> <span class="hljs-attr">implementation</span>=<span class="hljs-string">"Heartbeat"</span>/&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
y muestra el di√°logo en √©l. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los componentes de la interfaz de usuario son principalmente componentes de Swing con algunas extensiones de la plataforma SDK. </font><font style="vertical-align: inherit;">Todo esto ha sido recientemente envuelto en kotlin ui dsl. </font><font style="vertical-align: inherit;">Al momento de escribir, la documentaci√≥n se√±alaba que dsl puede cambiar mucho entre las versiones principales, por lo que lo usamos con un poco de miedo:</font></font><br>
<br>
<pre><code class="kotlin hljs">
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">createCenterPanel</span><span class="hljs-params">()</span></span>: JComponent? {<font></font>
<font></font>
   title = <span class="hljs-string">"Jira credentials"</span>
   setOKButtonText(<span class="hljs-string">"Save"</span>)<font></font>
<font></font>
   <span class="hljs-keyword">return</span> panel {<font></font>
       row {<font></font>
           JLabel(<span class="hljs-string">"Jira hostname"</span>)()<font></font>
           hostname = JTextField(<span class="hljs-string">"https://"</span>)<font></font>
           hostname()<font></font>
       }<font></font>
       row {<font></font>
           JLabel(<span class="hljs-string">"Username:"</span>)()<font></font>
           username = JTextField()<font></font>
           username()<font></font>
       }<font></font>
       row {<font></font>
           JLabel(<span class="hljs-string">"Password:"</span>)()<font></font>
           password = JPasswordField()<font></font>
           password()<font></font>
       }<font></font>
   }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creamos un di√°logo, lo mostramos, recibimos credenciales de Jira. </font><font style="vertical-align: inherit;">Ahora necesitamos guardarlos, y preferiblemente de forma segura, tanto como sea posible. </font><font style="vertical-align: inherit;">PersistingStateComponent vendr√° al rescate.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Dispositivo PersistingStateComponent (no muy complicado)</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PersistingStateComponent puede hacer dos cosas: saveState y loadState: serializar y guardar el objeto que se le pas√≥ y recuperarlo del almacenamiento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donde exactamente debe guardar los datos, aprende de la anotaci√≥n del Estado. </font><font style="vertical-align: inherit;">En la documentaci√≥n se mencionan dos opciones m√°s simples: especifique su archivo o almacene todo en la configuraci√≥n del espacio de trabajo:</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-meta">@Storage(<span class="hljs-meta-string">"yourName.xml"</span>)</span>
<span class="hljs-meta">@Storage(StoragePathMacros.WORKSPACE_FILE)</span> 
<span class="hljs-meta">@State(
   name = <span class="hljs-meta-string">"JiraSettings"</span>,
   storages = [
       Storage(<span class="hljs-meta-string">"trackerSettings.xml"</span>)</span>
   ])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que tenemos un caso especial, recurrimos a la documentaci√≥n para el almacenamiento de datos confidenciales.</font></font><br>
<br>
<pre><code class="kotlin hljs"><span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">getState</span><span class="hljs-params">()</span></span>: Credentials? {
   <span class="hljs-keyword">if</span> (credentials == <span class="hljs-literal">null</span>)  {
       <span class="hljs-keyword">val</span> credentialAttributes = createCredentialAttributes()<font></font>
       credentials = PasswordSafe.instance.<span class="hljs-keyword">get</span>(credentialAttributes)<font></font>
   }<font></font>
   <span class="hljs-keyword">return</span> credentials<font></font>
}<font></font>
<span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">loadState</span><span class="hljs-params">(state: <span class="hljs-type">Credentials</span>)</span></span> {<font></font>
   credentials = state<font></font>
   <span class="hljs-keyword">val</span> credentialAttributes = createCredentialAttributes()<font></font>
   PasswordSafe.instance.<span class="hljs-keyword">set</span>(credentialAttributes, credentials)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Otro PersistingStateComponent se ocupar√° del almacenamiento del tiempo registrado para diferentes ramas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jira descubri√≥ el inicio de sesi√≥n. </font><font style="vertical-align: inherit;">Con el almacenamiento de datos del usuario, tambi√©n. </font><font style="vertical-align: inherit;">Ahora debe realizar un seguimiento del evento de pago en la sucursal para iniciar la cuenta regresiva.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Suscr√≠base a eventos</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plataforma IntelliJ brinda la oportunidad de colgar a Observer en los eventos que nos interesan suscribi√©ndose a sus temas en el mensaje del nivel deseado. </font><font style="vertical-align: inherit;">Aqu√≠ est√° el </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">muelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , es bastante interesante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un tema es un determinado punto final, una representaci√≥n de un evento. </font><font style="vertical-align: inherit;">Todo lo que necesita hacer es suscribirse e implementar un escucha que debe manejar lo que est√° sucediendo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, necesito escuchar los pagos en Git ...</font></font><br>
<br>
<pre><code class="kotlin hljs">subscribeToProjectTopic(project, GitRepository.GIT_REPO_CHANGE) {<font></font>
    GitRepositoryChangeListener {<font></font>
        currentBranch = it.currentBranch<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... cerrando la aplicaci√≥n (felizmente empe√±ando el tiempo) ...</font></font><br>
<br>
<pre><code class="kotlin hljs">subscribeToAppTopic(AppLifecycleListener.TOPIC) {
    <span class="hljs-keyword">object</span>: AppLifecycleListener {
        <span class="hljs-keyword">override</span> <span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">appWillBeClosed</span><span class="hljs-params">(isRestart: <span class="hljs-type">Boolean</span>)</span></span> {
            <span class="hljs-keyword">if</span> (!isRestart) {<font></font>
                JiraClient.logTime(entry.key, DateTime.now(), entry.value)<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... y guardar documentos (solo para que as√≠ fuera).</font></font><br>
<br>
<pre><code class="kotlin hljs">subscribeToAppTopic(AppTopics.FILE_DOCUMENT_SYNC) {<font></font>
    CustomSaveListener()<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto, en principio, ya es suficiente (si no, siempre puedes escribir el tuyo). </font><font style="vertical-align: inherit;">Pero, ¬øqu√© pasa si queremos escuchar el m√°s m√≠nimo movimiento de desplazamiento y mouse?</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. EditorEventMulticaster</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recopila todo lo que sucede en las ventanas abiertas del editor (edici√≥n, cambio del √°rea visible, movimientos del mouse) y le permite suscribirse en un solo lugar e inmediatamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora tenemos todo lo que necesitamos. </font><font style="vertical-align: inherit;">Podemos seleccionar el nombre de la tarea en Jira desde la rama actual (si est√° all√≠), calcular el tiempo dedicado a trabajar en ella e inmediatamente salir del estudio para agregarla a la tarea.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7. C√≥digo y detalles </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aqu√≠</font></font></a></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para ejecutar, necesita la √∫ltima versi√≥n de Android Studio (3.6.1). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para probar el rendimiento: git y una rama con un nombre que sea al menos remotamente similar a la tarea en Jira. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que el complemento no solo env√≠e tiempo a la consola, sino que lo rastree, elimine el comentario de la l√≠nea correspondiente en Heartbeat.kt.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8. Enlaces √∫tiles</font></font></h4><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Una serie de art√≠culos de desarrollo de complementos</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otro art√≠culo interesante sobre el desarrollo de un complemento de un desarrollador de Android</font></font></a></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PD: ¬øY qu√© elegiste al final?</font></font></h4><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Maldici√≥n, es demasiado malvado. </font><font style="vertical-align: inherit;">¬øY si no escribo c√≥digo? </font><font style="vertical-align: inherit;">¬øY si me toco la nariz y trato de entender lo que est√° pasando? </font><font style="vertical-align: inherit;">En el c√≥digo, en el sentido de. </font><font style="vertical-align: inherit;">Despu√©s de todo, esto lleva la mayor parte del tiempo. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Entonces al menos despl√°cese. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Entonces no est√° lejos de simular actividad violenta. </font><font style="vertical-align: inherit;">Y luego, no puedo cerrar el estudio durante semanas y no reiniciar. </font><font style="vertical-align: inherit;">¬øQuiz√°s no necesitamos tanta felicidad? </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Definitivamente no es necesario". </font><font style="vertical-align: inherit;">Entonces se necesita otra raz√≥n, de lo contrario me gust√≥ escribir complementos. </font><font style="vertical-align: inherit;">Y todav√≠a no entend√≠a realmente VCS. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"¬øLo usas t√∫ mismo?" </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - No </font><font style="vertical-align: inherit;">De alguna manera aprend√≠ a iniciar sesi√≥n con mis manos, imperceptiblemente para m√≠.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es490772/index.html">C√≥mo escribir y publicar un contrato inteligente en Telegram Open Network (TON)</a></li>
<li><a href="../es490774/index.html">Sensible</a></li>
<li><a href="../es490778/index.html">Las personas que entienden el trabajo de un programador se pueden encontrar en cualquier lugar</a></li>
<li><a href="../es490780/index.html">Intel Xeon escalable Gen2: gran venta de n√∫cleos</a></li>
<li><a href="../es490782/index.html">Conferencia AnalogBytes: Roskomnadzor, media, highload y all-all-all</a></li>
<li><a href="../es490786/index.html">An√°lisis de fugas de segundo orden: cuando se filtra de quienes roban datos de un banco</a></li>
<li><a href="../es490788/index.html">REPL in√∫til. Informe Yandex</a></li>
<li><a href="../es490790/index.html">Archivos Zip: historial, explicaci√≥n e implementaci√≥n</a></li>
<li><a href="../es490792/index.html">VXLAN en NSX-V - Base subyacente con problemas</a></li>
<li><a href="../es490796/index.html">C√≥mo automatizar la seguridad de los contenedores al estilo de Pol√≠tica como C√≥digo usando CRD</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>