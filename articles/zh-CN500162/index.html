<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘‚ğŸ¾ ğŸ‘¨ğŸ½â€ğŸ”¬ ğŸ›’ ä¼Ÿå¤§çš„pythonè¿åŠ¨æ•°æ®å¤„ç†æ•™ç¨‹ ğŸ¥ ğŸšŸ ğŸ¤˜ğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="åœ¨ä¸šä½™æ—¶é—´çš„æœ€åå‡ å¹´ï¼Œæˆ‘å‚åŠ äº†é“äººä¸‰é¡¹èµ›ã€‚è¿™é¡¹è¿åŠ¨åœ¨ä¸–ç•Œè®¸å¤šå›½å®¶éå¸¸å—æ¬¢è¿ï¼Œå°¤å…¶æ˜¯åœ¨ç¾å›½ï¼Œæ¾³å¤§åˆ©äºšå’Œæ¬§æ´²ã€‚ç›®å‰åœ¨ä¿„ç½—æ–¯å’Œç‹¬è”ä½“å›½å®¶è¿…é€Ÿæ™®åŠã€‚å®ƒæ¶‰åŠçš„æ˜¯ä¸šä½™çˆ±å¥½è€…ï¼Œè€Œä¸æ˜¯ä¸“ä¸šäººå£«ã€‚ä¸é“äººä¸‰é¡¹æ¯”èµ›ä¸åŒï¼Œé“äººä¸‰é¡¹æ¯”èµ›åŒ…æ‹¬å‚åŠ æ¯”èµ›å’Œä¸ºæ¯”èµ›åšç³»ç»Ÿçš„å‡†å¤‡ï¼Œå³ä½¿ä»–ä»¬ä¸æ˜¯ä¸“ä¸šäººå£«ï¼Œä¹Ÿä¸ä»…ä»…æ˜¯åœ¨æ¸¸æ³³æ± é‡Œæ¸¸æ³³ï¼Œæ—©ä¸Šéª‘è‡ª...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ä¼Ÿå¤§çš„pythonè¿åŠ¨æ•°æ®å¤„ç†æ•™ç¨‹</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500162/"><img src="https://habrastorage.org/webt/wd/xv/ft/wdxvftc1pifrlchwt7ddj8dxtos.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ä¸šä½™æ—¶é—´çš„æœ€åå‡ å¹´ï¼Œæˆ‘å‚åŠ äº†é“äººä¸‰é¡¹èµ›ã€‚è¿™é¡¹è¿åŠ¨åœ¨ä¸–ç•Œè®¸å¤šå›½å®¶éå¸¸å—æ¬¢è¿ï¼Œå°¤å…¶æ˜¯åœ¨ç¾å›½ï¼Œæ¾³å¤§åˆ©äºšå’Œæ¬§æ´²ã€‚ç›®å‰åœ¨ä¿„ç½—æ–¯å’Œç‹¬è”ä½“å›½å®¶è¿…é€Ÿæ™®åŠã€‚å®ƒæ¶‰åŠçš„æ˜¯ä¸šä½™çˆ±å¥½è€…ï¼Œè€Œä¸æ˜¯ä¸“ä¸šäººå£«ã€‚ä¸é“äººä¸‰é¡¹æ¯”èµ›ä¸åŒï¼Œé“äººä¸‰é¡¹æ¯”èµ›åŒ…æ‹¬å‚åŠ æ¯”èµ›å’Œä¸ºæ¯”èµ›åšç³»ç»Ÿçš„å‡†å¤‡ï¼Œå³ä½¿ä»–ä»¬ä¸æ˜¯ä¸“ä¸šäººå£«ï¼Œä¹Ÿä¸ä»…ä»…æ˜¯åœ¨æ¸¸æ³³æ± é‡Œæ¸¸æ³³ï¼Œæ—©ä¸Šéª‘è‡ªè¡Œè½¦å’Œæ…¢è·‘ã€‚åœ¨æ‚¨çš„æœ‹å‹ä¸­è‚¯å®šå·²ç»æœ‰è‡³å°‘ä¸€ä¸ªâ€œé“äººâ€æˆ–è®¡åˆ’æˆä¸ºä¸€ä¸ªé“äººã€‚å¤§è§„æ¨¡ï¼Œå¤šç§è·ç¦»å’Œå„ç§æ¡ä»¶ï¼Œä¸€é¡¹ä¸‰é¡¹è¿åŠ¨-æ‰€æœ‰è¿™äº›éƒ½æœ‰å¯èƒ½å½¢æˆå¤§é‡æ•°æ®ã€‚æ¯å¹´ï¼Œä¸–ç•Œä¸Šéƒ½ä¼šä¸¾è¡Œæ•°ç™¾é¡¹é“äººä¸‰é¡¹æ¯”èµ›ï¼Œæ•°åä¸‡äººå‚åŠ ã€‚æ¯”èµ›ç”±å‡ ä¸ªç»„ç»‡è€…ä¸¾åŠã€‚å½“ç„¶ï¼Œå®ƒä»¬æ¯ä¸ªäººéƒ½ä»¥è‡ªå·±çš„æƒåˆ©å‘å¸ƒç»“æœã€‚ä½†æ˜¯å¯¹äºæ¥è‡ªä¿„ç½—æ–¯å’ŒæŸäº›ç‹¬è”ä½“å›½å®¶çš„è¿åŠ¨å‘˜æ¥è¯´ï¼Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tristats.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†æ‰€æœ‰ç»“æœæ”¶é›†åœ¨ä¸€ä¸ªä½ç½®ä¸Š-åœ¨ç›¸åŒåç§°çš„ç½‘ç«™ä¸Šã€‚è¿™ä½¿å¾—æœç´¢ç»“æœéå¸¸æ–¹ä¾¿ï¼Œæ— è®ºæ‚¨æ˜¯æ‚¨çš„æœ‹å‹è¿˜æ˜¯ç«äº‰å¯¹æ‰‹ï¼Œç”šè‡³æ‚¨çš„å¶åƒã€‚ä½†æ˜¯å¯¹æˆ‘æ¥è¯´ï¼Œå®ƒä¹Ÿæä¾›äº†ä»¥ç¼–ç¨‹æ–¹å¼åˆ†æå¤§é‡ç»“æœçš„æœºä¼šã€‚ç»“æœå‘å¸ƒåœ¨trilifeï¼š</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯·é˜…è¯»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯æˆ‘çš„ç¬¬ä¸€ä¸ªæ­¤ç±»é¡¹ç›®ï¼Œå› ä¸ºç›´åˆ°æœ€è¿‘æˆ‘æ‰åŸåˆ™ä¸Šå¼€å§‹è¿›è¡Œæ•°æ®åˆ†æä»¥åŠä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">python</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œæˆ‘æƒ³å‘æ‚¨ä»‹ç»è¿™é¡¹å·¥ä½œçš„æŠ€æœ¯å®æ–½æ–¹å¼ï¼Œå°¤å…¶æ˜¯åœ¨æ­¤è¿‡ç¨‹ä¸­ï¼Œå„ç§ç»†å¾®å·®åˆ«æµ®å‡ºæ°´é¢ï¼Œæœ‰æ—¶éœ€è¦é‡‡å–ç‰¹æ®Šçš„æ–¹æ³•ã€‚</font><font style="vertical-align: inherit;">è¿™å°†æ¶‰åŠæŠ¥åºŸï¼Œè§£æï¼Œè½¬æ¢ç±»å‹å’Œæ ¼å¼ï¼Œè¿˜åŸä¸å®Œæ•´çš„æ•°æ®ï¼Œåˆ›å»ºæœ‰ä»£è¡¨æ€§çš„æ ·æœ¬ï¼Œå¯è§†åŒ–ï¼Œå‘é‡â€‹â€‹åŒ–ç”šè‡³å¹¶è¡Œè®¡ç®—ã€‚</font></font><br>
<a name="habracut"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸæ¥å®¹é‡å¾ˆå¤§ï¼Œæ‰€ä»¥æˆ‘å°†æ‰€æœ‰å†…å®¹åˆ†æˆäº”ä¸ªéƒ¨åˆ†ï¼Œä»¥ä¾¿æˆ‘å¯ä»¥åˆ†é…ä¿¡æ¯å¹¶è®°ä½ä¼‘æ¯åä»å“ªé‡Œå¼€å§‹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ç»§ç»­ä¹‹å‰ï¼Œæœ€å¥½å…ˆé˜…è¯»ä¸€ä¸‹ç ”ç©¶ç»“æœçš„æ–‡ç« ï¼Œå› ä¸ºè¿™é‡ŒåŸºæœ¬ä¸Šæè¿°äº†å…¶åˆ›é€ çš„å¨æˆ¿ã€‚</font><font style="vertical-align: inherit;">éœ€è¦10åˆ°15åˆ†é’Ÿã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½ è¯»äº†...å—ï¼Ÿ</font><font style="vertical-align: inherit;">é‚£æˆ‘ä»¬èµ°å§ï¼</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬1éƒ¨åˆ†ã€‚åˆ®å–å’Œè§£æ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»™å‡ºï¼šç½‘ç«™</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tristats.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚æˆ‘ä»¬æ„Ÿå…´è¶£çš„è¡¨æœ‰ä¸¤ç§ã€‚è¿™å®é™…ä¸Šæ˜¯æ‰€æœ‰æ¯”èµ›çš„æ‘˜è¦è¡¨ï¼Œä»¥åŠæ¯ä¸ªæ¯”èµ›çš„ç»“æœåè®®ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vp/m5/do/vpm5dopzyltw9iwcwdddcff2osw.png"><br>
<br>
<img src="https://habrastorage.org/webt/yf/ez/ve/yfezve61_ds1wsaiguh5tjpwd2m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–è¦ä»»åŠ¡æ˜¯ä»¥ç¼–ç¨‹æ–¹å¼è·å–æ­¤æ•°æ®å¹¶å°†å…¶ä¿å­˜ä»¥å¤‡è¿›ä¸€æ­¥å¤„ç†ã€‚ç¢°å·§çš„æ˜¯ï¼Œé‚£æ—¶æˆ‘æ˜¯WebæŠ€æœ¯çš„æ–°æ‰‹ï¼Œå› æ­¤å¹¶ä¸ç«‹å³çŸ¥é“è¯¥æ€ä¹ˆåšã€‚æˆ‘ä»äº†è§£çš„å†…å®¹å¼€å§‹ç€æ‰‹-æŸ¥çœ‹é¡µé¢ä»£ç ã€‚å¯ä»¥ä½¿ç”¨é¼ æ ‡å³é”®æˆ–</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F12</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é”®å®Œæˆæ­¤æ“ä½œ</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/43/wc/ex/43wcexjx3j9qfvjla_dubcsjgl0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chromeä¸­çš„èœå•åŒ…å«ä¸¤ä¸ªé€‰é¡¹ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŸ¥çœ‹é¡µé¢ä»£ç </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŸ¥çœ‹ä»£ç </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚ä¸æ˜¯æœ€æ˜æ˜¾çš„åˆ†è£‚ã€‚è‡ªç„¶ï¼Œå®ƒä»¬ç»™å‡ºä¸åŒçš„ç»“æœã€‚</font><i><font style="vertical-align: inherit;">æŸ¥çœ‹ä»£ç çš„</font></i><font style="vertical-align: inherit;">é‚£ä¸ª</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå®ƒä¸</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F12</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›¸åŒ</font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">æµè§ˆå™¨ä¸­æ˜¾ç¤ºçš„å†…å®¹</font><font style="vertical-align: inherit;">çš„ç›´æ¥æ–‡æœ¬</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¡¨ç¤ºæ˜¯å…ƒç´ æ–¹å¼çš„ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/ow/wb/vvowwbmi5fdawtjbocfjo5zztm4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åè¿‡æ¥ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æŸ¥çœ‹é¡µé¢ä»£ç </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†æä¾›</font><i><font style="vertical-align: inherit;">é¡µé¢</font></i><font style="vertical-align: inherit;">çš„æºä»£ç ã€‚ä¹Ÿæ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä½†æ˜¯é‚£é‡Œæ²¡æœ‰æ•°æ®ï¼Œåªæœ‰å¸è½½å®ƒä»¬çš„JSè„šæœ¬çš„åç§°ã€‚å¥½çš„ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o4/k7/d5/o4k7d5k8zuu66hp43vegbix9hoc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬éœ€è¦äº†è§£å¦‚ä½•ä½¿ç”¨pythonå°†æ¯ä¸ªé¡µé¢çš„ä»£ç å¦å­˜ä¸ºå•ç‹¬çš„æ–‡æœ¬æ–‡ä»¶ã€‚æˆ‘å°è¯•è¿™æ ·ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> requests<font></font>
<font></font>
r = requests.get(url=<span class="hljs-string">'http://tristats.ru/'</span>)<font></font>
print(r.content)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘å¾—åˆ°äº†æºä»£ç ã€‚ä½†æ˜¯æˆ‘éœ€è¦æ‰§è¡Œå®ƒçš„ç»“æœã€‚ç»è¿‡ç ”ç©¶ï¼Œæœç´¢å’Œè¯¢é—®åï¼Œæˆ‘æ„è¯†åˆ°æˆ‘éœ€è¦ä¸€ä¸ªè‡ªåŠ¨æ‰§è¡Œæµè§ˆå™¨æ“ä½œçš„å·¥å…·ï¼Œä¾‹å¦‚</font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¡’</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚æˆ‘è¯´äº†è¿˜æœ‰</font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€‚ç”¨</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Chromeçš„</font></font></i><font style="vertical-align: inherit;"><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ChromeDriver</font></a></i><font style="vertical-align: inherit;">ã€‚ç„¶åæˆ‘æŒ‰å¦‚ä¸‹æ–¹å¼ä½¿ç”¨å®ƒï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver
<span class="hljs-keyword">from</span> selenium.webdriver.chrome.service <span class="hljs-keyword">import</span> Service<font></font>
<font></font>
service = Service(<span class="hljs-string">r'C:\ChromeDriver\chromedriver.exe'</span>)<font></font>
service.start()<font></font>
driver = webdriver.Remote(service.service_url)<font></font>
driver.get(<span class="hljs-string">'http://www.tristats.ru/'</span>)<font></font>
print(driver.page_source)<font></font>
driver.quit()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤ä»£ç å°†å¯åŠ¨æµè§ˆå™¨çª—å£ï¼Œå¹¶åœ¨å…¶ä¸­æ‰“å¼€æŒ‡å®šURLçš„é¡µé¢ã€‚ç»“æœï¼Œæˆ‘ä»¬</font><font style="vertical-align: inherit;">å·²ç»</font><font style="vertical-align: inherit;">è·å¾—</font><font style="vertical-align: inherit;">äº†å¸¦æœ‰æ‰€éœ€æ•°æ®çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»£ç ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªéšœç¢ã€‚ç»“æœåªæœ‰100ä¸ªå‚èµ›è€…ï¼Œæ¯”èµ›çš„æ€»æ•°å‡ ä¹æ˜¯2000ã€‚äº‹å®æ˜¯ï¼Œæœ€åˆåªæœ‰å‰100ä¸ªæ¡ç›®æ˜¾ç¤ºåœ¨æµè§ˆå™¨ä¸­ï¼Œå¹¶ä¸”åªæœ‰æ»šåŠ¨åˆ°é¡µé¢çš„æœ€åº•éƒ¨æ—¶ï¼Œæ‰ä¼šåŠ è½½ä¸‹100ä¸ªæ¡ç›®ï¼Œä¾æ­¤ç±»æ¨ã€‚å› æ­¤ï¼Œæœ‰å¿…è¦ä»¥ç¼–ç¨‹æ–¹å¼å®ç°æ»šåŠ¨ã€‚ä¸ºæ­¤ï¼Œè¯·ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤ï¼š</font></font><br>
<br>
<pre><code class="python hljs">driver.execute_script(<span class="hljs-string">"window.scrollTo(0, document.body.scrollHeight);"</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¯æ¬¡æ»šåŠ¨æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šæ£€æŸ¥åŠ è½½é¡µé¢çš„ä»£ç æ˜¯å¦å·²æ›´æ”¹ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ²¡æœ‰æ›´æ”¹ï¼Œæˆ‘ä»¬å°†æ£€æŸ¥å‡ æ¬¡å¯é æ€§ï¼ˆä¾‹å¦‚10ï¼‰ï¼Œåˆ™æ•´ä¸ªé¡µé¢å·²åŠ è½½ï¼Œæ‚¨å¯ä»¥åœæ­¢ã€‚</font><font style="vertical-align: inherit;">åœ¨æ»šåŠ¨ä¹‹é—´ï¼Œæˆ‘ä»¬å°†è¶…æ—¶è®¾ç½®ä¸ºä¸€ç§’ï¼Œä»¥ä¾¿é¡µé¢æœ‰æ—¶é—´åŠ è½½ã€‚</font><font style="vertical-align: inherit;">ï¼ˆå³ä½¿å¥¹æ²¡æœ‰æ—¶é—´ï¼Œæˆ‘ä»¬ä¹Ÿæœ‰ä¿ç•™æ—¶é—´-å¦å¤–9ç§’ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®Œæ•´çš„ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> selenium <span class="hljs-keyword">import</span> webdriver
<span class="hljs-keyword">from</span> selenium.webdriver.chrome.service <span class="hljs-keyword">import</span> Service
<span class="hljs-keyword">import</span> time<font></font>
<font></font>
service = Service(<span class="hljs-string">r'C:\ChromeDriver\chromedriver.exe'</span>)<font></font>
service.start()<font></font>
driver = webdriver.Remote(service.service_url)<font></font>
driver.get(<span class="hljs-string">'http://www.tristats.ru/'</span>)<font></font>
prev_html = <span class="hljs-string">''</span>
scroll_attempt = <span class="hljs-number">0</span><font></font>
<font></font>
<span class="hljs-keyword">while</span> scroll_attempt &lt; <span class="hljs-number">10</span>:<font></font>
    driver.execute_script(<span class="hljs-string">"window.scrollTo(0, document.body.scrollHeight);"</span>)<font></font>
    time.sleep(<span class="hljs-number">1</span>)<font></font>
<font></font>
    <span class="hljs-keyword">if</span> prev_html == driver.page_source:<font></font>
        scroll_attempt += <span class="hljs-number">1</span>
    <span class="hljs-keyword">else</span>:<font></font>
        prev_html = driver.page_source<font></font>
        scroll_attempt = <span class="hljs-number">0</span> <font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">r'D:\tri\summary.txt'</span>, <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    f.write(prev_html)<font></font>
<font></font>
driver.quit()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬æœ‰ä¸€ä¸ª</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶ï¼Œå…¶ä¸­åŒ…å«æ‰€æœ‰ç§æ—çš„æ‘˜è¦è¡¨ã€‚</font><font style="vertical-align: inherit;">éœ€è¦è§£æå®ƒã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œè¯·ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lxml</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åº“</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> lxml <span class="hljs-keyword">import</span> html
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œæˆ‘ä»¬æ‰¾åˆ°è¡¨çš„æ‰€æœ‰è¡Œã€‚</font><font style="vertical-align: inherit;">è¦ç¡®å®šå­—ç¬¦ä¸²çš„ç¬¦å·ï¼Œåªéœ€</font><font style="vertical-align: inherit;">åœ¨æ–‡æœ¬ç¼–è¾‘å™¨ä¸­</font><font style="vertical-align: inherit;">æŸ¥çœ‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/b2/j6/_8/b2j6_8isg6smzxbgkojrppfwif4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹å¦‚ï¼Œå®ƒå¯ä»¥æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ tr ng-repeat ='r in racesData'class ='ng-scope'â€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ–æŸäº›æ— æ³•åœ¨ä»»ä½•æ ‡ç­¾ä¸­æ‰¾åˆ°çš„ç‰‡æ®µã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">with</span> open(<span class="hljs-string">r'D:\tri\summary.txt'</span>, <span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    sum_html = f.read()<font></font>
<font></font>
tree = html.fromstring(sum_html)<font></font>
rows = tree.findall(<span class="hljs-string">".//*[@ng-repeat='r in racesData']"</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶åæˆ‘ä»¬å¯åŠ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pandasæ•°æ®æ¡†</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå¹¶å°†è¡¨æ ¼æ¯ä¸€è¡Œçš„æ¯ä¸ªå…ƒç´ å†™å…¥æ­¤æ•°æ®æ¡†ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd<font></font>
<font></font>
rs = pd.DataFrame(columns=[<span class="hljs-string">'date'</span>,<span class="hljs-string">'name'</span>,<span class="hljs-string">'link'</span>,<span class="hljs-string">'males'</span>,<span class="hljs-string">'females'</span>,<span class="hljs-string">'rus'</span>,<span class="hljs-string">'total'</span>], index=range(len(rows))) <span class="hljs-comment">#rs â€“ races summary</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†å¼„æ¸…æ¥šæ¯ä¸ªç‰¹å®šå…ƒç´ çš„éšè—ä½ç½®ï¼Œæ‚¨åªéœ€è¦</font><font style="vertical-align: inherit;">åœ¨åŒä¸€æ–‡æœ¬ç¼–è¾‘å™¨ä¸­</font><font style="vertical-align: inherit;">æŸ¥çœ‹</font><i><font style="vertical-align: inherit;">è¡Œ</font></i><font style="vertical-align: inherit;">ä¸­</font><font style="vertical-align: inherit;">å…ƒç´ ä¹‹ä¸€</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»£ç </font><font style="vertical-align: inherit;">ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">ng-repeat</span>=<span class="hljs-string">"r in racesData"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ng-scope"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ng-binding"</span>&gt;</span>2015-04-26<span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/Images/flags/24/USA.png"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flag"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/rus/result/ironman/texas/half/2015"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_self"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ng-binding"</span>&gt;</span>Ironman Texas 70.3 2015<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/rus/result/ironman/texas/half/2015?sex=F"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_self"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ng-binding"</span>&gt;</span>605<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-venus fa-lg"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color:Pink"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span><font></font>
      /<font></font>
      <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/rus/result/ironman/texas/half/2015?sex=M"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_self"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ng-binding"</span>&gt;</span>1539<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-mars fa-lg"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color:LightBlue"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ng-binding"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"/Images/flags/24/rus.png"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"flag"</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- ngIf: r.CountryCount == 0 --&gt;</span>
      <span class="hljs-comment">&lt;!-- ngIf: r.CountryCount &gt; 0 --&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">ng-if</span>=<span class="hljs-string">"r.CountryCount &gt; 0"</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"/rus/result/ironman/texas/half/2015?country=rus"</span> <span class="hljs-attr">target</span>=<span class="hljs-string">"_self"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"ng-binding ng-scope"</span>&gt;</span>2<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
      <span class="hljs-comment">&lt;!-- end ngIf: r.CountryCount &gt; 0 --&gt;</span><font></font>
      / 2144<font></font>
  <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™é‡Œä¸ºå„¿ç«¥è¿›è¡Œç¡¬ç¼–ç å¯¼èˆªçš„æœ€ç®€å•æ–¹æ³•æ˜¯ï¼Œå…¶ä¸­æ²¡æœ‰å¾ˆå¤šå„¿ç«¥ã€‚ </font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(rows)):<font></font>
    rs.loc[i,<span class="hljs-string">'date'</span>] = rows[i].getchildren()[<span class="hljs-number">0</span>].text.strip()<font></font>
    rs.loc[i,<span class="hljs-string">'name'</span>] = rows[i].getchildren()[<span class="hljs-number">1</span>].getchildren()[<span class="hljs-number">1</span>].text.strip()<font></font>
    rs.loc[i,<span class="hljs-string">'link'</span>] = rows[i].getchildren()[<span class="hljs-number">1</span>].getchildren()[<span class="hljs-number">1</span>].attrib[<span class="hljs-string">'href'</span>].strip()<font></font>
    rs.loc[i,<span class="hljs-string">'males'</span>] = rows[i].getchildren()[<span class="hljs-number">2</span>].getchildren()[<span class="hljs-number">2</span>].text.strip()<font></font>
    rs.loc[i,<span class="hljs-string">'females'</span>] = rows[i].getchildren()[<span class="hljs-number">2</span>].getchildren()[<span class="hljs-number">0</span>].text.strip()<font></font>
    rs.loc[i,<span class="hljs-string">'rus'</span>] = rows[i].getchildren()[<span class="hljs-number">3</span>].getchildren()[<span class="hljs-number">3</span>].text.strip()<font></font>
    rs.loc[i,<span class="hljs-string">'total'</span>] = rows[i].getchildren()[<span class="hljs-number">3</span>].text_content().split(<span class="hljs-string">'/'</span>)[<span class="hljs-number">1</span>].strip()
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“æœå¦‚ä¸‹ï¼š</font><font style="vertical-align: inherit;">
å°†æ•°æ®æ¡†ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä½¿ç”¨</font><i><font style="vertical-align: inherit;">pickle</font></i><font style="vertical-align: inherit;">ï¼Œä½†å¯èƒ½æ˜¯</font><i><font style="vertical-align: inherit;">csv</font></i><font style="vertical-align: inherit;">æˆ–å…¶ä»–åç§°ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>date</th>
<th>event</th>
<th>link</th>
<th>males</th>
<th>females</th>
<th>rus</th>
<th>total</th>
</tr>
<tr>
<td>0</td>
<td>2020-07-02</td>
<td>Ironman Dubai Duathlon 70.3 2020</td>
<td>/rus/result/ironman/dubai-duathlon/half/2020</td>
<td>835</td>
<td>215</td>
<td>65</td>
<td>1050</td>
</tr>
<tr>
<td>1</td>
<td>2020-02-07</td>
<td>Ironman Dubai 70.3 2020</td>
<td>/rus/result/ironman/dubai/half/2020</td>
<td>638</td>
<td>132</td>
<td>55</td>
<td>770</td>
</tr>
<tr>
<td>2</td>
<td>2020-01-29</td>
<td>Israman Half 2020</td>
<td>/rus/result/israman/israman/half/2020</td>
<td>670</td>
<td>126</td>
<td>4</td>
<td>796</td>
</tr>
<tr>
<td>3</td>
<td>2019-12-08</td>
<td>Ironman Indian Wells La Quinta 70.3 2019</td>
<td>/rus/result/ironman/indian-wells-la-quinta/hal...</td>
<td>1590</td>
<td>593</td>
<td>6</td>
<td>2183</td>
</tr>
<tr>
<td>4</td>
<td>2019-12-07</td>
<td>Ironman Taupo 70.3 2019</td>
<td>/rus/result/ironman/taupo/half/2019</td>
<td>767</td>
<td>420</td>
<td>3</td>
<td>1187</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>1917</td>
<td>1994-07-02</td>
<td>ITU European Championship Eichstatt Olympic 1994</td>
<td>/rus/result/itu/european-championship-eichstat...</td>
<td>61</td>
<td>0</td>
<td>2</td>
<td>61</td>
</tr>
<tr>
<td>1918</td>
<td>1993-09-04</td>
<td>Challenge Almere-Amsterdam Long 1993</td>
<td>/rus/result/challenge/almere-amsterdam/full/1993</td>
<td>795</td>
<td>32</td>
<td>1</td>
<td>827</td>
</tr>
<tr>
<td>1919</td>
<td>1993-07-04</td>
<td>ITU European Cup Echternach Olympic 1993</td>
<td>/rus/result/itu/european-cup-echternach/olympi...</td>
<td>60</td>
<td>0</td>
<td>2</td>
<td>60</td>
</tr>
<tr>
<td>1920</td>
<td>1992-09-12</td>
<td>ITU World Championship Huntsville Olympic 1992</td>
<td>/rus/result/itu/world-championship-huntsville/...</td>
<td>317</td>
<td>0</td>
<td>3</td>
<td>317</td>
</tr>
<tr>
<td>1921</td>
<td>1990-09-15</td>
<td>ITU World Championship Orlando Olympic 1990</td>
<td>/rus/result/itu/world-championship-orlando/oly...</td>
<td>286</td>
<td>0</td>
<td>5</td>
<td>28</td>
</tr>
</tbody></table></div></code><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> pickle <span class="hljs-keyword">as</span> pkl<font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">r'D:\tri\summary.pkl'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    pkl.dump(df,f)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ­¤é˜¶æ®µï¼Œæ‰€æœ‰æ•°æ®å‡ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ç¨åä¼šè¿›è¡Œè½¬æ¢ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ç°åœ¨æœ€éœ€è¦çš„æ˜¯é“¾æ¥ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä¼šå°†å®ƒä»¬ç”¨äºæ‰€æœ‰ç§æ—çš„æŠ“å–åè®®ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä»¥æ•°æ®é€è§†è¡¨çš„å›¾åƒå’Œç›¸ä¼¼æ€§è¿›è¡Œåˆ¶ä½œã€‚</font><font style="vertical-align: inherit;">åœ¨æ¯ä¸ªç§æ—çš„å‘¨æœŸä¸­ï¼Œæˆ‘ä»¬å°†é€šè¿‡å¼•ç”¨æ‰“å¼€é¡µé¢ï¼Œæ»šåŠ¨å¹¶è·å–é¡µé¢ä»£ç ã€‚</font><font style="vertical-align: inherit;">åœ¨æ‘˜è¦è¡¨ä¸­ï¼Œæˆ‘ä»¬æä¾›äº†æœ‰å…³æ¯”èµ›å‚ä¸è€…æ€»æ•°çš„ä¿¡æ¯- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€»æ•°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨å®ƒæ¥äº†è§£ç›´åˆ°éœ€è¦ç»§ç»­æ»šåŠ¨åˆ°ä»€ä¹ˆä½ç½®ä¸ºæ­¢ã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬å°†ç›´æ¥åœ¨æŠ“å–æ¯ä¸ªé¡µé¢çš„è¿‡ç¨‹ä¸­ç¡®å®šè¡¨ä¸­çš„è®°å½•æ•°ï¼Œå¹¶å°†å…¶ä¸åˆè®¡çš„æœŸæœ›å€¼è¿›è¡Œæ¯”è¾ƒã€‚ä¸€æ—¦ç›¸ç­‰ï¼Œæˆ‘ä»¬å°±ä¼šæ»šåŠ¨åˆ°ç»“å°¾ï¼Œæ‚¨å¯ä»¥ç»§ç»­è¿›è¡Œä¸‹ä¸€åœºæ¯”èµ›ã€‚æˆ‘ä»¬è¿˜å°†è¶…æ—¶è®¾ç½®ä¸º60ç§’ã€‚åœ¨è¿™æ®µæ—¶é—´åƒï¼Œæˆ‘ä»¬æ²¡æœ‰å¾—åˆ°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€»</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œè¿›å…¥ä¸‹ä¸€åœºæ¯”èµ›ã€‚é¡µé¢ä»£ç å°†ä¿å­˜åˆ°æ–‡ä»¶ä¸­ã€‚æˆ‘ä»¬å°†æ‰€æœ‰ç§æ—çš„æ–‡ä»¶ä¿å­˜åœ¨ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­ï¼Œå¹¶ä»¥ç§æ—åç§°ï¼ˆå³</font><font style="vertical-align: inherit;">æ‘˜è¦è¡¨</font><font style="vertical-align: inherit;">ä¸­â€œ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº‹ä»¶â€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—</font><font style="vertical-align: inherit;">ä¸­çš„</font><font style="vertical-align: inherit;">å€¼ï¼‰å‘½å</font><font style="vertical-align: inherit;">ã€‚ä¸ºé¿å…åç§°å†²çªï¼Œå¿…é¡»åœ¨æ•°æ®é€è§†è¡¨ä¸­æ‰€æœ‰ç§æ—å…·æœ‰ä¸åŒçš„åç§°ã€‚æ£€æŸ¥ä¸€ä¸‹ï¼š</font></font><br>
<br>
<pre><code class="python hljs">df[df.duplicated(subset = <span class="hljs-string">'event'</span>, keep=<span class="hljs-literal">False</span>)]
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>date</th>
<th>event</th>
<th>link</th>
<th>males</th>
<th>females</th>
<th>rus</th>
<th>total</th>
</tr>
<tr>
<td>450</td>
<td>2018-07-15</td>
<td>A1  Sprint 2018</td>
<td>/rus/result/a1/cc/sprint/2018-07-15</td>
<td>43</td>
<td>15</td>
<td>47</td>
<td>58</td>
</tr>
<tr>
<td>483</td>
<td>2018-06-23</td>
<td>A1  Sprint 2018</td>
<td>/rus/result/a1/cc/sprint/2018-06-23</td>
<td>61</td>
<td>15</td>
<td>76</td>
<td>76</td>
</tr>
<tr>
<td>670</td>
<td>2017-07-30</td>
<td>3Grom  Olympic 2017</td>
<td>/rus/result/3grom//olympic/2017-07-30</td>
<td>249</td>
<td>44</td>
<td>293</td>
<td>293</td>
</tr>
<tr>
<td>752</td>
<td>2017-06-11</td>
<td>3Grom  Olympic 2017</td>
<td>/rus/result/3grom//olympic/2017-06-11</td>
<td>251</td>
<td>28</td>
<td>279</td>
<td>279</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥½å§ï¼Œåœ¨æ±‡æ€»è¡¨ä¸­ï¼Œè¿˜æœ‰é‡å¤é¡¹ï¼Œæ—¥æœŸå’Œå‚ä¸è€…çš„æ•°é‡ï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”·æ€§ï¼Œå¥³æ€§ï¼Œrusï¼Œæ€»æ•°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼Œå¹¶ä¸”é“¾æ¥æ˜¯ä¸åŒçš„ã€‚</font><font style="vertical-align: inherit;">æ‚¨éœ€è¦æ£€æŸ¥è¿™äº›åè®®ï¼Œå› ä¸ºå®ƒä»¬å¾ˆå°‘ï¼Œå› æ­¤æ‚¨å¯ä»¥æ‰‹åŠ¨æ‰§è¡Œã€‚</font><font style="vertical-align: inherit;">ç°åœ¨æ‰€æœ‰åç§°éƒ½æ˜¯å”¯ä¸€çš„ï¼Œæˆ‘ä»¬å¯åŠ¨äº†ä¸€ä¸ªå¤§å‹çš„æŒ–æ˜å‘¨æœŸï¼š</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/a8/v7/n8/a8v7n8qoxbzobftxcm0knnvks6m.png"><br>
<br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>date</th>
<th>event</th>
<th>link</th>
<th>males</th>
<th>females</th>
<th>rus</th>
<th>total</th>
</tr>
<tr>
<td>450</td>
<td>2018-07-15</td>
<td>A1  Sprint <u>7</u> 2018</td>
<td>/rus/result/a1/cc/sprint/2018-07-15</td>
<td>43</td>
<td>15</td>
<td>47</td>
<td>58</td>
</tr>
<tr>
<td>483</td>
<td>2018-06-23</td>
<td>A1  Sprint <u>6</u> 2018</td>
<td>/rus/result/a1/cc/sprint/2018-06-23</td>
<td>61</td>
<td>15</td>
<td>76</td>
<td>76</td>
</tr>
<tr>
<td>670</td>
<td>2017-07-30</td>
<td>3Grom  Olympic <u>7</u> 2017</td>
<td>/rus/result/3grom//olympic/2017-07-30</td>
<td>249</td>
<td>44</td>
<td>293</td>
<td>293</td>
</tr>
<tr>
<td>752</td>
<td>2017-06-11</td>
<td>3Grom  Olympic <u>6</u> 2017</td>
<td>/rus/result/3grom//olympic/2017-06-11</td>
<td>251</td>
<td>28</td>
<td>279</td>
<td>27</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">service.start()<font></font>
driver = webdriver.Remote(service.service_url)<font></font>
timeout = <span class="hljs-number">60</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> index, row <span class="hljs-keyword">in</span> df.iterrows():
    <span class="hljs-keyword">try</span>:<font></font>
        driver.get(<span class="hljs-string">'http://www.tristats.ru'</span> + row[<span class="hljs-string">'link'</span>])     <font></font>
        start = time.time()<font></font>
<font></font>
        <span class="hljs-keyword">while</span> <span class="hljs-literal">True</span>:<font></font>
            driver.execute_script(<span class="hljs-string">"window.scrollTo(0, document.body.scrollHeight);"</span>)<font></font>
            time.sleep(<span class="hljs-number">1</span>)<font></font>
            race_html = driver.page_source<font></font>
            tree = html.fromstring(race_html)<font></font>
            race_rows = tree.findall(<span class="hljs-string">".//*[@ng-repeat='r in resultsData']"</span>)<font></font>
<font></font>
            <span class="hljs-keyword">if</span> len(race_rows) == int(row[<span class="hljs-string">'total'</span>]):
                <span class="hljs-keyword">break</span>
            <span class="hljs-keyword">if</span> time.time() - start &gt; timeout:<font></font>
                print(<span class="hljs-string">'timeout'</span>)
                <span class="hljs-keyword">break</span><font></font>
<font></font>
        <span class="hljs-keyword">with</span> open(os.path.join(<span class="hljs-string">r'D:\tri\races'</span>, row[<span class="hljs-string">'event'</span>] +  <span class="hljs-string">'.txt'</span>), <span class="hljs-string">'w'</span>) <span class="hljs-keyword">as</span> f:<font></font>
            f.write(race_html)<font></font>
<font></font>
    <span class="hljs-keyword">except</span>:<font></font>
        traceback.print_exc()<font></font>
<font></font>
    time.sleep(<span class="hljs-number">1</span>)<font></font>
    <font></font>
driver.quit()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯ä¸€ä¸ªæ¼«é•¿çš„è¿‡ç¨‹ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œå½“ä¸€åˆ‡éƒ½è®¾ç½®å¥½ä¹‹åï¼Œè¿™ç§ç¹ççš„æœºåˆ¶å¼€å§‹æ—‹è½¬ï¼Œä¸€ä¸ªåˆä¸€ä¸ªåœ°æ·»åŠ æ•°æ®æ–‡ä»¶æ—¶ï¼Œå°±ä¼šäº§ç”Ÿä¸€ç§ä»¤äººå…´å¥‹çš„æ„Ÿè§‰ã€‚</font><font style="vertical-align: inherit;">æ¯åˆ†é’Ÿä»…åŠ è½½å¤§çº¦ä¸‰ä¸ªåè®®ï¼Œéå¸¸ç¼“æ…¢ã€‚</font><font style="vertical-align: inherit;">å·¦è½¬è¿‡å¤œã€‚</font><font style="vertical-align: inherit;">èŠ±äº†å¤§çº¦10ä¸ªå°æ—¶ã€‚</font><font style="vertical-align: inherit;">åˆ°æ—©ä¸Šï¼Œå¤§å¤šæ•°åè®®éƒ½å·²ä¸Šä¼ ã€‚</font><font style="vertical-align: inherit;">åœ¨ä½¿ç”¨ç½‘ç»œæ—¶ï¼Œé€šå¸¸ä¼šå‘ç”Ÿä¸€äº›æ•…éšœã€‚</font><font style="vertical-align: inherit;">å†æ¬¡å°è¯•å¿«é€Ÿæ¢å¤å®ƒä»¬ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/un/wi/el/unwielrqjzt6u6otf8sbwwjbq8q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬æœ‰1,922ä¸ªæ–‡ä»¶ï¼Œæ€»å®¹é‡æ¥è¿‘3 GBã€‚å‡‰ï¼ä½†æ˜¯å¤„ç†è¿‘300åœºæ¯”èµ›ä»¥è¶…æ—¶ç»“æŸã€‚æœ‰ä»€ä¹ˆäº‹ï¼Ÿé€‰æ‹©æ€§åœ°æ£€æŸ¥ï¼Œç»“æœè¯æ˜ç¡®å®æ¥è‡ªæ•°æ®é€è§†è¡¨çš„æ€»å€¼ä¸æˆ‘ä»¬æ£€æŸ¥çš„ç«äº‰åè®®ä¸­çš„æ¡ç›®æ•°å¯èƒ½ä¸ä¸€è‡´ã€‚è¿™å¾ˆå¯æ‚²ï¼Œå› ä¸ºå°šä¸æ¸…æ¥šé€ æˆè¿™ç§å·®å¼‚çš„åŸå› æ˜¯ä»€ä¹ˆã€‚è¦ä¹ˆæ˜¯ç”±äºå¹¶éæ‰€æœ‰äººéƒ½ä¼šå®Œæˆä»»åŠ¡ï¼Œè¦ä¹ˆæ˜¯ç”±äºæ•°æ®åº“ä¸­å­˜åœ¨æŸç§é”™è¯¯ã€‚é€šå¸¸ï¼Œæ•°æ®ä¸å®Œæ•´çš„ç¬¬ä¸€ä¸ªä¿¡å·ã€‚æ— è®ºå¦‚ä½•ï¼Œæˆ‘ä»¬éƒ½ä¼šæ£€æŸ¥æ¡ç›®æ•°ä¸º100æˆ–0çš„æ¡ç›®ï¼Œè¿™äº›æ¡ç›®æ˜¯æœ€å¯ç–‘çš„å€™é€‰äººã€‚ä¸€å…±æœ‰å…«ä¸ªã€‚åœ¨ä¸¥å¯†æ§åˆ¶ä¸‹å†æ¬¡ä¸‹è½½å®ƒä»¬ã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼Œå…¶ä¸­ä¸¤ä¸ªå®é™…ä¸Šæœ‰100ä¸ªæ¡ç›®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¥½å§ï¼Œæˆ‘ä»¬æœ‰æ‰€æœ‰æ•°æ®ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬é€šè¿‡è§£æã€‚</font><font style="vertical-align: inherit;">åŒæ ·ï¼Œåœ¨ä¸€ä¸ªå‘¨æœŸä¸­ï¼Œæˆ‘ä»¬å°†è¿è¡Œæ¯ä¸ªç§æ—ï¼Œè¯»å–æ–‡ä»¶ï¼Œå¹¶å°†å†…å®¹ä¿å­˜åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pandas DataFrameä¸­</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†è¿™äº›æ•°æ®å¸§ç»„åˆæˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dict</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå…¶ä¸­ç§æ—çš„åç§°å°†ä¸ºé”®-ä¹Ÿå°±æ˜¯è¯´ï¼Œ</font><font style="vertical-align: inherit;">æ•°æ®é€è§†è¡¨ä¸­</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">äº‹ä»¶</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å€¼</font><font style="vertical-align: inherit;">æˆ–å…·æœ‰</font><font style="vertical-align: inherit;">ç§æ—é¡µé¢</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»£ç </font><font style="vertical-align: inherit;">çš„æ–‡ä»¶çš„åç§°æ˜¯</font><font style="vertical-align: inherit;">é‡åˆçš„ã€‚</font></font><br>
<br>
<pre><code class="python hljs">rd = {} <span class="hljs-comment">#rd â€“ race details</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> rs[<span class="hljs-string">'event'</span>]:<font></font>
    place = []<font></font>
    ... sex = [], name=..., country, group, place_in_group, swim, t1, bike, t2, run<font></font>
    result = []<font></font>
<font></font>
    <span class="hljs-keyword">with</span> open(os.path.join(<span class="hljs-string">r'D:\tri\races'</span>, e + <span class="hljs-string">'.txt'</span>), <span class="hljs-string">'r'</span>)<font></font>
        race_html = f.read()<font></font>
<font></font>
    tree = html.fromstring(race_html)<font></font>
    rows = tree.findall(<span class="hljs-string">".//*[@ng-repeat='r in resultsData']"</span>)<font></font>
<font></font>
    <span class="hljs-keyword">for</span> j <span class="hljs-keyword">in</span> range(len(rows)):<font></font>
        row = rows[j]<font></font>
        parts = row.text_content().split(<span class="hljs-string">'\n'</span>)<font></font>
        parts = [r.strip() <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> parts <span class="hljs-keyword">if</span> r.strip() != <span class="hljs-string">''</span>]<font></font>
        place.append(parts[<span class="hljs-number">0</span>])<font></font>
<font></font>
        <span class="hljs-keyword">if</span> len([a <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> row.findall(<span class="hljs-string">'.//i'</span>)]) &gt; <span class="hljs-number">0</span>:<font></font>
            sex.append([a <span class="hljs-keyword">for</span> a <span class="hljs-keyword">in</span> row.findall(<span class="hljs-string">'.//i'</span>)][<span class="hljs-number">0</span>].attrib[<span class="hljs-string">'ng-if'</span>][<span class="hljs-number">10</span>:<span class="hljs-number">-1</span>])
        <span class="hljs-keyword">else</span>:<font></font>
            sex.append(<span class="hljs-string">''</span>)<font></font>
<font></font>
        name.append(parts[<span class="hljs-number">1</span>])<font></font>
<font></font>
        <span class="hljs-keyword">if</span> len(parts) &gt; <span class="hljs-number">10</span>:<font></font>
            country.append(parts[<span class="hljs-number">2</span>].strip())         <font></font>
            k=<span class="hljs-number">0</span>
        <span class="hljs-keyword">else</span>:<font></font>
            country.append(<span class="hljs-string">''</span>)<font></font>
            k=<span class="hljs-number">1</span><font></font>
<font></font>
        group.append(parts[<span class="hljs-number">3</span>-k])<font></font>
        ... place_in_group.append(...), swim.append ..., t1, bike, t2, run<font></font>
        result.append(parts[<span class="hljs-number">10</span>-k])<font></font>
<font></font>
    race = pd.DataFrame()<font></font>
    race[<span class="hljs-string">'place'</span>] = place<font></font>
    ... race[<span class="hljs-string">'sex'</span>] = sex, race[<span class="hljs-string">'name'</span>] = ..., <span class="hljs-string">'country'</span>, <span class="hljs-string">'group'</span>, <span class="hljs-string">'place_in_group'</span>, <span class="hljs-string">'swim'</span>, <span class="hljs-string">' t1'</span>, <span class="hljs-string">'bike'</span>, <span class="hljs-string">'t2'</span>, <span class="hljs-string">'run'</span>
    race[<span class="hljs-string">'result'</span>] = result<font></font>
<font></font>
    rd[e] = race<font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">r'D:\tri\details.pkl'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    pkl.dump(rd,f)<font></font>
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>place in group</th>
<th>swim</th>
<th>t1</th>
<th>bike</th>
<th>t2</th>
<th>run</th>
<th>result</th>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>M</td>
<td>Reed, Tim</td>
<td>AUS</td>
<td>MPRO</td>
<td>1</td>
<td>24:34</td>
<td>1:07</td>
<td>2:13:46</td>
<td>1:49</td>
<td>1:23:17</td>
<td>4:04:33</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>M</td>
<td>Van Berkel, Tim</td>
<td>AUS</td>
<td>MPRO</td>
<td>2</td>
<td>24:34</td>
<td>1:05</td>
<td>2:13:47</td>
<td>1:53</td>
<td>1:27:17</td>
<td>4:08:36</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>M</td>
<td>Baldwin, Nicholas</td>
<td>SEY</td>
<td>MPRO</td>
<td>3</td>
<td>26:31</td>
<td>0:59</td>
<td>2:14:06</td>
<td>1:54</td>
<td>1:25:36</td>
<td>4:09:06</td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>M</td>
<td>Polizzi, Alexander</td>
<td>AUS</td>
<td>MPRO</td>
<td>4</td>
<td>23:21</td>
<td>1:12</td>
<td>2:14:53</td>
<td>1:54</td>
<td>1:31:16</td>
<td>4:12:36</td>
</tr>
<tr>
<td>4</td>
<td>5</td>
<td>M</td>
<td>Chang, Chia-Hao</td>
<td>TWN</td>
<td>M18-24</td>
<td>1</td>
<td>25:18</td>
<td>1:34</td>
<td>2:23:38</td>
<td>2:13</td>
<td>1:29:01</td>
<td>4:21:44</td>
</tr>
<tr>
<td>5</td>
<td>6</td>
<td>M</td>
<td>Rondy, Guillaume</td>
<td>FRA</td>
<td>M35-39</td>
<td>1</td>
<td>27:51</td>
<td>1:26</td>
<td>2:21:53</td>
<td>2:29</td>
<td>1:35:19</td>
<td>4:28:58</td>
</tr>
<tr>
<td>6</td>
<td>7</td>
<td>F</td>
<td>Steffen, Caroline</td>
<td>SUI</td>
<td>FPRO</td>
<td>1</td>
<td>26:52</td>
<td>1:01</td>
<td>2:24:54</td>
<td>2:10</td>
<td>1:34:17</td>
<td>4:29:14</td>
</tr>
<tr>
<td>7</td>
<td>8</td>
<td>M</td>
<td>Betten, Sam</td>
<td>AUS</td>
<td>MPRO</td>
<td>5</td>
<td>23:30</td>
<td>1:26</td>
<td>2:18:24</td>
<td>1:57</td>
<td>1:45:07</td>
<td>4:30:24</td>
</tr>
<tr>
<td>8</td>
<td>9</td>
<td>M</td>
<td>Gallot, Simon</td>
<td>FRA</td>
<td>M30-34</td>
<td>1</td>
<td>27:50</td>
<td>1:33</td>
<td>2:20:15</td>
<td>2:13</td>
<td>1:45:22</td>
<td>4:37:13</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>524</td>
<td>525</td>
<td>M</td>
<td>Santos, Alfredo</td>
<td>PHI</td>
<td>M65-69</td>
<td>2</td>
<td>50:42</td>
<td>4:23</td>
<td>3:52:10</td>
<td>10:32</td>
<td>3:36:11</td>
<td>8:33:58</td>
</tr>
<tr>
<td>525</td>
<td>526</td>
<td>F</td>
<td>Escober, Eula</td>
<td>PHI</td>
<td>F18-24</td>
<td>5</td>
<td>47:07</td>
<td>3:50</td>
<td>4:43:44</td>
<td>3:41</td>
<td>2:59:45</td>
<td>8:38:07</td>
</tr>
<tr>
<td>526</td>
<td>527</td>
<td>M</td>
<td>Belen, Virgilio Jr.</td>
<td>PHI</td>
<td>M45-49</td>
<td>76</td>
<td>47:05</td>
<td>5:49</td>
<td>3:48:18</td>
<td>11:21</td>
<td>3:46:06</td>
<td>8:38:39</td>
</tr>
<tr>
<td>527</td>
<td>528</td>
<td>M</td>
<td>Kunimoto, Kilhak</td>
<td>GUM</td>
<td>M70-74</td>
<td>2</td>
<td>40:32</td>
<td>2:50</td>
<td>3:53:37</td>
<td>6:45</td>
<td>4:01:36</td>
<td>8:45:20</td>
</tr>
<tr>
<td>528</td>
<td>529</td>
<td>M</td>
<td>Sumicad, Siegfred</td>
<td>PHI</td>
<td>M50-54</td>
<td>54</td>
<td>59:10</td>
<td>4:38</td>
<td>4:11:55</td>
<td>6:35</td>
<td>3:23:45</td>
<td>8:46:03</td>
</tr>
<tr>
<td>529</td>
<td>530</td>
<td>M</td>
<td>Gomez, Paul</td>
<td>PHI</td>
<td>M45-49</td>
<td>77</td>
<td>50:02</td>
<td>6:29</td>
<td>4:07:58</td>
<td>7:24</td>
<td>3:41:41</td>
<td>8:53:34</td>
</tr>
<tr>
<td>530</td>
<td>531</td>
<td>M</td>
<td>Ramos, John Raymund</td>
<td>PHI</td>
<td>M25-29</td>
<td>26</td>
<td>43:44</td>
<td>3:04</td>
<td>4:21:13</td>
<td>5:56</td>
<td>3:45:10</td>
<td>8:59:07</td>
</tr>
<tr>
<td>531</td>
<td>532</td>
<td>F</td>
<td>De Guzman, Clouie Anne</td>
<td>PHI</td>
<td>F30-34</td>
<td>9</td>
<td>52:29</td>
<td>3:16</td>
<td>4:03:02</td>
<td>7:01</td>
<td>3:56:39</td>
<td>9:02:27</td>
</tr>
<tr>
<td>532</td>
<td>533</td>
<td>F</td>
<td>Samson, Maria Dolores</td>
<td>PHI</td>
<td>F45-49</td>
<td>17</td>
<td>48:56</td>
<td>4:21</td>
<td>4:16:34</td>
<td>6:26</td>
<td>3:47:06</td>
<td>9:03:23</td>
</tr>
<tr>
<td>533</td>
<td>534</td>
<td>M</td>
<td>Salazar, Richard</td>
<td>PHI</td>
<td>M40-44</td>
<td>107</td>
<td>42:19</td>
<td>4:02</td>
<td>4:30:36</td>
<td>6:39</td>
<td>3:39:51</td>
<td>9:03:27</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é™¤äº†</font><font style="vertical-align: inherit;">åŒ…å«</font><font style="vertical-align: inherit;">å‚èµ›è€…æˆç»©çš„è¡¨æ ¼ä¹‹å¤–</font><font style="vertical-align: inherit;">ï¼Œæ¯ä¸ªæ¯”èµ›</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶è¿˜åŒ…å«æ¯”èµ›çš„æ—¥æœŸï¼Œåç§°å’Œåœ°ç‚¹ã€‚</font><font style="vertical-align: inherit;">æ—¥æœŸå’Œåç§°å·²ç»åœ¨æ•°æ®é€è§†è¡¨ä¸­ï¼Œä½†æ˜¯æ²¡æœ‰ä½ç½®ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">html</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶ä¸­</font><font style="vertical-align: inherit;">è¯»å–æ­¤ä¿¡æ¯</font><font style="vertical-align: inherit;">ï¼Œå¹¶å°†å…¶æ·»åŠ åˆ°æ•°æ®é€è§†è¡¨ä¸­çš„æ–°åˆ—ä¸­ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> index, row <span class="hljs-keyword">in</span> rs.iterrows():<font></font>
    e = row[<span class="hljs-string">'event'</span>]       
    <span class="hljs-keyword">with</span> open(os.path.join(<span class="hljs-string">r'D:\tri\races'</span>, e + <span class="hljs-string">'.txt'</span>), <span class="hljs-string">'r'</span>) <span class="hljs-keyword">as</span> f:<font></font>
        race_html = f.read()<font></font>
<font></font>
    tree = html.fromstring(race_html)<font></font>
    header_elem = [tb <span class="hljs-keyword">for</span> tb <span class="hljs-keyword">in</span> tree.findall(<span class="hljs-string">'.//tbody'</span>) <span class="hljs-keyword">if</span> tb.getchildren()[<span class="hljs-number">0</span>].getchildren()[<span class="hljs-number">0</span>].text == <span class="hljs-string">''</span>][<span class="hljs-number">0</span>]<font></font>
    location = header_elem.getchildren()[<span class="hljs-number">1</span>].getchildren()[<span class="hljs-number">1</span>].text.strip()<font></font>
    rs.loc[index, <span class="hljs-string">'loc'</span>] = location
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>event</th>
<th>date</th>
<th><u>loc</u></th>
<th>male</th>
<th>female</th>
<th>rus</th>
<th>total</th>
<th>link</th>
</tr>
<tr>
<td>0</td>
<td>Ironman Dubai Duathlon 70.3 2020</td>
<td>2020-07-02</td>
<td><u>Dubai, United Arab Emirates</u></td>
<td>835</td>
<td>215</td>
<td>65</td>
<td>1050</td>
<td>...</td>
</tr>
<tr>
<td>1</td>
<td>Ironman Dubai 70.3 2020</td>
<td>2020-02-07</td>
<td><u>Dubai, United Arab Emirates</u></td>
<td>638</td>
<td>132</td>
<td>55</td>
<td>770</td>
<td>...</td>
</tr>
<tr>
<td>2</td>
<td>Israman Half 2020</td>
<td>2020-01-29</td>
<td><u>Israel, Eilat</u></td>
<td>670</td>
<td>126</td>
<td>4</td>
<td>796</td>
<td>...</td>
</tr>
<tr>
<td>3</td>
<td>Ironman Indian Wells La Quinta 70.3 2019</td>
<td>2019-12-08</td>
<td><u>Indian Wells/La Quinta, California, USA</u></td>
<td>1590</td>
<td>593</td>
<td>6</td>
<td>2183</td>
<td>...</td>
</tr>
<tr>
<td>4</td>
<td>Ironman Taupo 70.3 2019</td>
<td>2019-12-07</td>
<td><u>New Zealand</u></td>
<td>767</td>
<td>420</td>
<td>3</td>
<td>1187</td>
<td>...</td>
</tr>
<tr>
<td>5</td>
<td>Ironman Bahrain 70.3 2019</td>
<td>2019-12-07</td>
<td><u>Manama, Bahrain</u></td>
<td>858</td>
<td>214</td>
<td>38</td>
<td>1072</td>
<td>...</td>
</tr>
<tr>
<td>6</td>
<td>Ironman Western Australia 2019</td>
<td>2019-12-01</td>
<td><u>Busselton, Western Australia</u></td>
<td>940</td>
<td>229</td>
<td>1</td>
<td>1169</td>
<td>...</td>
</tr>
<tr>
<td>7</td>
<td>Ironman Mar del Plata 2019</td>
<td>2019-12-01</td>
<td><u>Mar del Plata, Argentina</u></td>
<td>506</td>
<td>66</td>
<td>3</td>
<td>572</td>
<td>...</td>
</tr>
<tr>
<td>8</td>
<td>Ironman Cozumel 2019</td>
<td>2019-11-24</td>
<td><u>Cozumel, Mexico</u></td>
<td>1158</td>
<td>395</td>
<td>12</td>
<td>1553</td>
<td>...</td>
</tr>
<tr>
<td>9</td>
<td>Ironman Arizona 2019</td>
<td>2019-11-24</td>
<td><u>Tempe, Arizona, USA</u></td>
<td>1697</td>
<td>633</td>
<td>3</td>
<td>2330</td>
<td>...</td>
</tr>
<tr>
<td>10</td>
<td>Ironman Xiamen 70.3 2019</td>
<td>2019-11-10</td>
<td><u>Xiamen, China</u></td>
<td>897</td>
<td>170</td>
<td>14</td>
<td>1067</td>
<td>...</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•‘ã€‚</font><font style="vertical-align: inherit;">åˆ°ä¸€ä¸ªæ–°æ–‡ä»¶ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">with</span> open(<span class="hljs-string">r'D:\tri\summary1.pkl'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    pkl.dump(df,f)<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬2éƒ¨åˆ†ã€‚ç±»å‹è½¬æ¢å’Œæ ¼å¼åŒ–</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬ä¸‹è½½äº†æ‰€æœ‰æ•°æ®å¹¶å°†å…¶æ”¾å…¥æ•°æ®æ¡†ä¸­ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œæ‰€æœ‰å€¼å‡ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿™é€‚ç”¨äºæ—¥æœŸï¼Œç»“æœï¼Œä½ç½®å’Œæ‰€æœ‰å…¶ä»–å‚æ•°ã€‚</font><font style="vertical-align: inherit;">æ‰€æœ‰å‚æ•°éƒ½å¿…é¡»è½¬æ¢ä¸ºé€‚å½“çš„ç±»å‹ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬ä»æ•°æ®é€è§†è¡¨å¼€å§‹ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>event</th>
<th>date</th>
<th><u>loc</u></th>
<th>male</th>
<th>female</th>
<th>rus</th>
<th>total</th>
<th>link</th>
</tr>
<tr>
<td>0</td>
<td>Ironman Dubai Duathlon 70.3 2020</td>
<td>2020-07-02</td>
<td><u>Dubai, United Arab Emirates</u></td>
<td>835</td>
<td>215</td>
<td>65</td>
<td>1050</td>
<td>...</td>
</tr>
<tr>
<td>1</td>
<td>Ironman Dubai 70.3 2020</td>
<td>2020-02-07</td>
<td><u>Dubai, United Arab Emirates</u></td>
<td>638</td>
<td>132</td>
<td>55</td>
<td>770</td>
<td>...</td>
</tr>
<tr>
<td>2</td>
<td>Israman Half 2020</td>
<td>2020-01-29</td>
<td><u>Israel, Eilat</u></td>
<td>670</td>
<td>126</td>
<td>4</td>
<td>796</td>
<td>...</td>
</tr>
<tr>
<td>3</td>
<td>Ironman Indian Wells La Quinta 70.3 2019</td>
<td>2019-12-08</td>
<td><u>Indian Wells/La Quinta, California, USA</u></td>
<td>1590</td>
<td>593</td>
<td>6</td>
<td>2183</td>
<td>...</td>
</tr>
<tr>
<td>4</td>
<td>Ironman Taupo 70.3 2019</td>
<td>2019-12-07</td>
<td><u>New Zealand</u></td>
<td>767</td>
<td>420</td>
<td>3</td>
<td>1187</td>
<td>...</td>
</tr>
<tr>
<td>5</td>
<td>Ironman Bahrain 70.3 2019</td>
<td>2019-12-07</td>
<td><u>Manama, Bahrain</u></td>
<td>858</td>
<td>214</td>
<td>38</td>
<td>1072</td>
<td>...</td>
</tr>
<tr>
<td>6</td>
<td>Ironman Western Australia 2019</td>
<td>2019-12-01</td>
<td><u>Busselton, Western Australia</u></td>
<td>940</td>
<td>229</td>
<td>1</td>
<td>1169</td>
<td>...</td>
</tr>
<tr>
<td>7</td>
<td>Ironman Mar del Plata 2019</td>
<td>2019-12-01</td>
<td><u>Mar del Plata, Argentina</u></td>
<td>506</td>
<td>66</td>
<td>3</td>
<td>572</td>
<td>...</td>
</tr>
<tr>
<td>8</td>
<td>Ironman Cozumel 2019</td>
<td>2019-11-24</td>
<td><u>Cozumel, Mexico</u></td>
<td>1158</td>
<td>395</td>
<td>12</td>
<td>1553</td>
<td>...</td>
</tr>
<tr>
<td>9</td>
<td>Ironman Arizona 2019</td>
<td>2019-11-24</td>
<td><u>Tempe, Arizona, USA</u></td>
<td>1697</td>
<td>633</td>
<td>3</td>
<td>2330</td>
<td>...</td>
</tr>
<tr>
<td>10</td>
<td>Ironman Xiamen 70.3 2019</td>
<td>2019-11-10</td>
<td><u>Xiamen, China</u></td>
<td>897</td>
<td>170</td>
<td>14</td>
<td>1067</td>
<td>...</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td><u>...</u></td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody></table></div></code><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ—¥æœŸå’Œæ—¶é—´</font></font></h3><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">event</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">link</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°†ä¿æŒ</font><i><font style="vertical-align: inherit;">ä¸å˜</font></i><font style="vertical-align: inherit;">ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ—¥æœŸ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è½¬æ¢ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç†ŠçŒ«æ—¥æœŸæ—¶é—´</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š</font></font><br>
<br>
<pre><code class="python hljs">rs[<span class="hljs-string">'date'</span>] = pd.to_datetime(rs[<span class="hljs-string">'date'</span>])
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…¶ä½™çš„è½¬æ¢ä¸ºæ•´æ•°ç±»å‹ï¼š</font></font><br>
<br>
<pre><code class="python hljs">cols = [<span class="hljs-string">'males'</span>, <span class="hljs-string">'females'</span>, <span class="hljs-string">'rus'</span>, <span class="hljs-string">'total'</span>]<font></font>
rs[cols] = rs[cols].astype(int)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€åˆ‡é¡ºåˆ©ï¼Œæ²¡æœ‰å‡ºç°é”™è¯¯ã€‚</font><font style="vertical-align: inherit;">è¿™æ ·å°±å¯ä»¥äº†-ä¿å­˜ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">with</span> open(<span class="hljs-string">r'D:\tri\summary2.pkl'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    pkl.dump(rs, f)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æ­£åœ¨ç«é€Ÿæ•°æ®å¸§ã€‚</font><font style="vertical-align: inherit;">ç”±äºæ‰€æœ‰ç§æ—æ›´æ–¹ä¾¿ï¼Œæ›´å¿«é€Ÿåœ°ä¸€æ¬¡å¤„ç†ï¼Œè€Œä¸æ˜¯ä¸€æ¬¡å¤„ç†ï¼Œå› æ­¤æˆ‘ä»¬å°†</font><font style="vertical-align: inherit;">ä½¿ç”¨</font><i><font style="vertical-align: inherit;">concat</font></i><font style="vertical-align: inherit;">æ–¹æ³•</font><font style="vertical-align: inherit;">å°†å®ƒä»¬æ”¶é›†åˆ°ä¸€ä¸ªå¤§çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®å¸§</font><font style="vertical-align: inherit;">ï¼ˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰€æœ‰è®°å½•çš„</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç®€ç§°</font><font style="vertical-align: inherit;">ï¼‰ä¸­</font><font style="vertical-align: inherit;">ã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">ar = pd.concat(rd) 
</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒ…å«1,416,365ä¸ªæ¡ç›®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œå°†ä½ç½®å’Œç»„ä¸­çš„ä½ç½®è½¬æ¢ä¸ºæ•´æ•°å€¼ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[[<span class="hljs-string">'place'</span>, <span class="hljs-string">'place in group'</span>]] = ar[[<span class="hljs-string">'place'</span>, <span class="hljs-string">'place in group'</span>]].astype(int))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä½¿ç”¨ä¸´æ—¶å€¼å¤„ç†åˆ—ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†å®ƒä»¬</font><font style="vertical-align: inherit;">ä»</font><i><font style="vertical-align: inherit;">ç†ŠçŒ«</font></i><font style="vertical-align: inherit;">ä¸­ä»¥</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timedelta</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»å‹</font><i><font style="vertical-align: inherit;">æŠ•æ”¾</font></i><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œè¦ä½¿è½¬æ¢æˆåŠŸï¼Œæ‚¨éœ€è¦æ­£ç¡®å‡†å¤‡æ•°æ®ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥çœ‹åˆ°ä¸€äº›å°äºä¸€ä¸ªå°æ—¶çš„å€¼æ²¡æœ‰æŒ‡å®šæç¤ºã€‚</font><font style="vertical-align: inherit;">éœ€è¦æ·»åŠ å®ƒã€‚</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>place in group</th>
<th><u>swim</u></th>
<th><u>t1</u></th>
<th>bike</th>
<th><u>t2</u></th>
<th>run</th>
<th>result</th>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>M</td>
<td>Dejan Patrcevic</td>
<td>CRO</td>
<td>M40-44</td>
<td>1</td>
<td><u>29:03</u></td>
<td><u>2:50</u></td>
<td>2:09:17</td>
<td><u>1:37</u></td>
<td>1:22:06</td>
<td>4:04:51</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>M</td>
<td>Lukas Krpec</td>
<td>CZE</td>
<td>M35-39</td>
<td>1</td>
<td><u>29:00</u></td>
<td><u>2:40</u></td>
<td>2:07:01</td>
<td><u>1:48</u></td>
<td>1:25:48</td>
<td>4:06:15</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>M</td>
<td>Marin Koceic</td>
<td>CRO</td>
<td>M40-44</td>
<td>2</td>
<td><u>27:34</u></td>
<td><u>2:09</u></td>
<td>2:12:13</td>
<td><u>1:30</u></td>
<td>1:27:19</td>
<td>4:10:44</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> [<span class="hljs-string">'swim'</span>, <span class="hljs-string">'t1'</span>, <span class="hljs-string">'bike'</span>, <span class="hljs-string">'t2'</span>, <span class="hljs-string">'run'</span>, <span class="hljs-string">'result'</span>]:<font></font>
    strlen = ar[col].str.len()<font></font>
    ar.loc[strlen==<span class="hljs-number">5</span>, col] = <span class="hljs-string">'0:'</span> + ar.loc[strlen==<span class="hljs-number">5</span>, col]<font></font>
    ar.loc[strlen==<span class="hljs-number">4</span>, col] = <span class="hljs-string">'0:0'</span> + ar.loc[strlen==<span class="hljs-number">4</span>, col]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œä»ç„¶å‰©ä½™çš„å­—ç¬¦ä¸²çœ‹èµ·æ¥åƒè¿™æ ·ï¼š</font><font style="vertical-align: inherit;">è½¬æ¢ä¸º</font><i><font style="vertical-align: inherit;">Timedelta</font></i><font style="vertical-align: inherit;">ï¼š</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>place in group</th>
<th><u>swim</u></th>
<th><u>t1</u></th>
<th>bike</th>
<th><u>t2</u></th>
<th>run</th>
<th>result</th>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>M</td>
<td>Dejan Patrcevic</td>
<td>CRO</td>
<td>M40-44</td>
<td>1</td>
<td><u>0:29:03</u></td>
<td><u>0:02:50</u></td>
<td>2:09:17</td>
<td><u>0:01:37</u></td>
<td>1:22:06</td>
<td>4:04:51</td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>M</td>
<td>Lukas Krpec</td>
<td>CZE</td>
<td>M35-39</td>
<td>1</td>
<td><u>0:29:00</u></td>
<td><u>0:02:40</u></td>
<td>2:07:01</td>
<td><u>0:01:48</u></td>
<td>1:25:48</td>
<td>4:06:15</td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>M</td>
<td>Marin Koceic</td>
<td>CRO</td>
<td>M40-44</td>
<td>2</td>
<td><u>0:27:34</u></td>
<td><u>0:02:09</u></td>
<td>2:12:13</td>
<td><u>0:01:30</u></td>
<td>1:27:19</td>
<td>4:10:44</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> col <span class="hljs-keyword">in</span> [<span class="hljs-string">'swim'</span>, <span class="hljs-string">'t1'</span>, <span class="hljs-string">'bike'</span>, <span class="hljs-string">'t2'</span>, <span class="hljs-string">'run'</span>, <span class="hljs-string">'result'</span>]:<font></font>
    ar[col] = pd.to_timedelta(ar[col])<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ°æ¿</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»§ç»­ã€‚</font><font style="vertical-align: inherit;">æ£€æŸ¥</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€§åˆ«</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—</font><font style="vertical-align: inherit;">ä¸­æ˜¯å¦åªæœ‰</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„å€¼</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'sex'</span>].unique() 
</code></pre><br>
<code><b>Out:</b> ['M', 'F', '']<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®é™…ä¸Šï¼Œä»ç„¶å­˜åœ¨ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ï¼Œå³æœªæŒ‡å®šæ€§åˆ«ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬çœ‹çœ‹æœ‰å¤šå°‘ç§è¿™æ ·çš„æƒ…å†µï¼š</font></font><br>
<br>
<pre><code class="python hljs">len(ar[ar[<span class="hljs-string">'sex'</span>] == <span class="hljs-string">''</span>]) 
</code></pre><br>
<code><b>Out:</b> 2538<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ²¡ä»€ä¹ˆå¥½ã€‚</font><font style="vertical-align: inherit;">å°†æ¥ï¼Œæˆ‘ä»¬å°†å°è¯•è¿›ä¸€æ­¥é™ä½è¯¥å€¼ã€‚</font><font style="vertical-align: inherit;">åŒæ—¶ï¼Œå°†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€§åˆ«</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—ä¿ç•™</font><font style="vertical-align: inherit;">ä¸ºçº¿æ¡å½¢å¼ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†ä¿å­˜ç»“æœï¼Œç„¶åå†è¿›è¡Œæ›´ä¸¥é‡å’Œé£é™©æ›´å¤§çš„è½¬æ¢ã€‚</font><font style="vertical-align: inherit;">ä¸ºäº†ä¿æŒæ–‡ä»¶ä¹‹é—´çš„è¿ç»­æ€§ï¼Œæˆ‘ä»¬å°†ç»„åˆçš„æ•°æ®å¸§</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arè½¬æ¢</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›æ•°æ®å¸§</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rd</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„å­—å…¸</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> event <span class="hljs-keyword">in</span> ar.index.get_level_values(<span class="hljs-number">0</span>).unique():<font></font>
    rd[event] = ar.loc[event]<font></font>
<font></font>
<span class="hljs-keyword">with</span> open(<span class="hljs-string">r'D:\tri\details1.pkl'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
    pkl.dump(rd,f)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œç”±äºæŸäº›åˆ—ç±»å‹çš„è½¬æ¢ï¼Œæ•°æ®è¡¨çš„å¤§å°ä»æ•°æ®é€è§†è¡¨çš„367 KBå‡å°‘åˆ°295 KBï¼Œå¯¹äºç«é€Ÿåè®®ä»251 MBå‡å°‘åˆ°168 MBã€‚ </font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›½å®¶ä»£ç </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹è¿™ä¸ªå›½å®¶ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'country'</span>].unique()
</code></pre><br>
<code><b>Out:</b> ['CRO', 'CZE', 'SLO', 'SRB', 'BUL', 'SVK', 'SWE', 'BIH', 'POL', 'MK', 'ROU', 'GRE', 'FRA', 'HUN', 'NOR', 'AUT', 'MNE', 'GBR', 'RUS', 'UAE', 'USA', 'GER', 'URU', 'CRC', 'ITA', 'DEN', 'TUR', 'SUI', 'MEX', 'BLR', 'EST', 'NED', 'AUS', 'BGI', 'BEL', 'ESP', 'POR', 'UKR', 'CAN', 'IRL', 'JPN', 'HKG', 'JEY', 'SGP', 'BRA', 'QAT', 'LUX', 'RSA', 'NZL', 'LAT', 'PHI', 'KSA', 'SEY', 'MAS', 'OMA', 'ARG', 'ECU', 'THA', 'JOR', 'BRN', 'CIV', 'FIN', 'IRN', 'BER', 'LBA', 'KUW', 'LTU', 'SRI', 'HON', 'INA', 'LBN', 'PAN', 'EGY', 'MLT', 'WAL', 'ISL', 'CYP', 'DOM', 'IND', 'VIE', 'MRI', 'AZE', 'MLD', 'LIE', 'VEN', 'ALG', 'SYR', 'MAR', 'KZK', 'PER', 'COL', 'IRQ', 'PAK', 'CZK', 'KAZ', 'CHN', 'NEP', 'ISR', 'MKD', 'FRO', 'BAN', 'ARU', 'CPV', 'ALB', 'BIZ', 'TPE', 'KGZ', 'BNN', 'CUB', 'SNG', 'VTN', 'THI', 'PRG', 'KOR', 'RE', 'TW', 'VN', 'MOL', 'FRE', 'AND', 'MDV', 'GUA', 'MON', 'ARM', 'F.I.TRI.', 'BAHREIN', 'SUECIA', 'REPUBLICA CHECA', 'BRASIL', 'CHI', 'MDA', 'TUN', 'NDL', 'Danish(Dane)', 'Welsh', 'Austrian', 'Unknown', 'AFG', 'Argentinean', 'Pitcairn', 'South African', 'Greenland', 'ESTADOS UNIDOS', 'LUXEMBURGO', 'SUDAFRICA', 'NUEVA ZELANDA', 'RUMANIA', 'PM', 'BAH', 'LTV', 'ESA', 'LAB', 'GIB', 'GUT', 'SAR', 'ita', 'aut', 'ger', 'esp', 'gbr', 'hun', 'den', 'usa', 'sui', 'slo', 'cze', 'svk', 'fra', 'fin', 'isr', 'irn', 'irl', 'bel', 'ned', 'sco', 'pol', 'SMR', 'mex', 'STEEL T BG', 'KINO MANA', 'IVB', 'TCH', 'SCO', 'KEN', 'BAS', 'ZIM', 'Joe', 'PUR', 'SWZ', 'Mark', 'WLS', 'MYA', 'BOT', 'REU', 'NAM', 'NCL', 'BOL', 'GGY', 'ISV', 'TWN', 'GUM', 'FIJ', 'COK', 'NGR', 'IRI', 'GAB', 'ANT', 'GEO', 'COG', 'sue', 'SUD', 'BAR', 'CAY', 'BO', 'VE', 'AX', 'MD', 'PAR', 'UM', 'SEN', 'NIG', 'RWA', 'YEM', 'PLE', 'GHA', 'ITU', 'UZB', 'MGL', 'MAC', 'DMA', 'TAH', 'TTO', 'AHO', 'JAM', 'SKN', 'GRN', 'PRK', 'NFK', 'SOL', 'Sandy', 'SAM', 'PNG', 'SGS', 'Suchy, Jorg', 'SOG', 'GEQ', 'BVT', 'DJI', 'CHA', 'ANG', 'YUG', 'IOT', 'HAI', 'SJM', 'CUW', 'BHU', 'ERI', 'FLK', 'HMD', 'GUF', 'ESH', 'sandy', 'UMI', 'selsmark, 'Alise', 'Eddie', '31/3, Colin', 'CC', '', '', '', '', '', ' ', '', '', '', '-', '', 'GRL', 'UGA', 'VAT', 'ETH', 'ASA', 'PYF', 'ATA', 'ALA', 'MTQ', 'ZZ', 'CXR', 'AIA', 'TJK', 'GUY', 'KR', 'PF', 'BN', 'MO', 'LA', 'CAM', 'NCA', 'ZAM', 'MAD', 'TOG', 'VIR', 'ATF', 'VAN', 'SLE', 'GLP', 'SCG', 'LAO', 'IMN', 'BUR', 'IR', 'SY', 'CMR', 'GBS', 'SUR', 'MOZ', 'BLM', 'MSR', 'CAF', 'BEN', 'COD', 'CCK', 'TUV', 'TGA', 'GI', 'XKX', 'NRU', 'NC', 'LBR', 'TAN', 'VIN', 'SSD', 'GP', 'PS', 'IM', 'JE', '', 'MLI', 'FSM', 'LCA', 'GMB', 'MHL', 'NH', 'FL', 'CT', 'UT', 'AQ', 'Korea', 'Taiwan', 'NewCaledonia', 'Czech Republic', 'PLW', 'BRU', 'RUN', 'NIU', 'KIR', 'SOM', 'TKM', 'SPM', 'BDI', 'COM', 'TCA', 'SHN', 'DO2', 'DCF', 'PCN', 'MNP', 'MYT', 'SXM', 'MAF', 'GUI', 'AN', 'Slovak republic', 'Channel Islands', 'Reunion', 'Wales', 'Scotland', 'ica', 'WLF', 'D', 'F', 'I', 'B', 'L', 'E', 'A', 'S', 'N', 'H', 'R', 'NU', 'BES', 'Bavaria', 'TLS', 'J', 'TKL', 'Tirol"', 'P', '?????', 'EU', 'ES-IB', 'ES-CT', '', 'SOO', 'LZE', '', '', '', '', '', '']<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
412ä¸ªå”¯ä¸€å€¼ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸºæœ¬ä¸Šï¼Œä¸€ä¸ªå›½å®¶ç”¨å¤§å†™çš„ä¸‰ä½å­—æ¯ä»£ç è¡¨ç¤ºã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯æ˜¾ç„¶ï¼Œå¹¶éæ€»æ˜¯å¦‚æ­¤ã€‚</font><font style="vertical-align: inherit;">å®é™…ä¸Šï¼Œæœ‰ä¸€ä¸ªå›½é™…æ ‡å‡†</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ISO 3166</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå…¶ä¸­å¯¹æ‰€æœ‰å›½å®¶ï¼ˆåŒ…æ‹¬å·²ç»ä¸å­˜åœ¨çš„å›½å®¶ï¼‰éƒ½è§„å®šäº†ç›¸åº”çš„ä¸‰ä½æ•°å’Œä¸¤ä½æ•°ä»£ç ã€‚</font><font style="vertical-align: inherit;">å¯¹äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pythonï¼Œ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯ä»¥åœ¨</font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pycountry</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒ…ä¸­æ‰¾åˆ°è¯¥æ ‡å‡†çš„ä¸€ç§å®ç°</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿ä½œæ–¹å¼å¦‚ä¸‹ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> pycountry <span class="hljs-keyword">as</span> pyco<font></font>
<font></font>
pyco.countries.get(alpha_3 = <span class="hljs-string">'RUS'</span>)
</code></pre><br>
<code><b>Out:</b> Country(alpha_2='RU', alpha_3='RUS', name='Russian Federation', numeric='643')<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬å°†æ£€æŸ¥æ‰€æœ‰ä¸‰ä½æ•°å­—çš„ä»£ç ï¼Œä»¥å¤§å†™å­—æ¯è¡¨ç¤ºï¼Œå¹¶åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">country.getï¼ˆ...ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Historic_countries.getï¼ˆ...ï¼‰ä¸­</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»™å‡ºå“åº”</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs">valid_a3 = [c <span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> ar[<span class="hljs-string">'country'</span>].unique() <span class="hljs-keyword">if</span> pyco.countries.get(alpha_3 = c.upper()) != <span class="hljs-literal">None</span> <span class="hljs-keyword">or</span> pyco.historic_countries.get(alpha_3 = c.upper()) != <span class="hljs-literal">None</span>])
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨412ä¸ªä¸­ï¼Œæœ‰190ä¸ªï¼Œä¸åˆ°ä¸€åŠã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºå…¶ä½™çš„222ä¸ªï¼ˆæˆ‘ä»¬ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tofix</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¡¨ç¤ºå…¶åˆ—è¡¨</font><font style="vertical-align: inherit;">ï¼‰ï¼Œæˆ‘ä»¬å°†</font><i><font style="vertical-align: inherit;">åˆ›å»ºä¸€ä¸ª</font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fix</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒ¹é…å­—å…¸</font><font style="vertical-align: inherit;">ï¼Œå…¶ä¸­çš„é”®å°†æ˜¯åŸå§‹åç§°ï¼Œå€¼å°†æ˜¯æ ¹æ®ISOæ ‡å‡†çš„ä¸‰ä½æ•°ä»£ç ã€‚</font></font><br>
<br>
<pre><code class="python hljs">tofix = list(set(ar[<span class="hljs-string">'country'</span>].unique()) - set(valid_a3))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pycountry.countries.getï¼ˆalpha_2 = ...ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ£€æŸ¥ä¸¤ä½æ•°çš„ä»£ç </font><font style="vertical-align: inherit;">ï¼Œå¯¼è‡´å¤§å†™ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> icc <span class="hljs-keyword">in</span> tofix: <span class="hljs-comment">#icc -invalid country code</span>
    <span class="hljs-keyword">if</span> pyco.countries.get(alpha_2 = icc.upper()) != <span class="hljs-literal">None</span>:<font></font>
        fix[icc] = pyco.countries.get(alpha_2 = icc.upper()).alpha_3<font></font>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">if</span> pyco.historic_countries.get(alpha_2 = icc.upper()) != <span class="hljs-literal">None</span>:<font></font>
            fix[icc] = pyco.historic_countries.get(alpha_2 = icc.upper()).alpha_3<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶åé€šè¿‡</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pycountry.countries.getï¼ˆname = ...ï¼‰ï¼Œpycountry.countries.getï¼ˆcommon_name = ...ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„å…¨å</font><font style="vertical-align: inherit;">ï¼Œå°†å…¶å¼•å¯¼ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">str.titleï¼ˆï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å½¢å¼</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> icc <span class="hljs-keyword">in</span> tofix:
    <span class="hljs-keyword">if</span> pyco.countries.get(common_name = icc.title()) != <span class="hljs-literal">None</span>:<font></font>
        fix[icc] = pyco.countries.get(common_name = icc.title()).alpha_3<font></font>
    <span class="hljs-keyword">else</span>:
        <span class="hljs-keyword">if</span> pyco.countries.get(name = icc.title()) != <span class="hljs-literal">None</span>:<font></font>
            fix[icc] = pyco.countries.get(name = icc.title()).alpha_3<font></font>
        <span class="hljs-keyword">else</span>:
            <span class="hljs-keyword">if</span> pyco.historic_countries.get(name = icc.title()) != <span class="hljs-literal">None</span>:<font></font>
                fix[icc] = pyco.historic_countries.get(name = icc.title()).alpha_3<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬å°†æ— æ³•è¯†åˆ«çš„å€¼çš„æ•°é‡å‡å°‘åˆ°190ä¸ªã€‚ä»ç„¶å¾ˆå¤šï¼š</font><font style="vertical-align: inherit;">
æ‚¨å¯èƒ½ä¼šæ³¨æ„åˆ°å…¶ä¸­ä»ç„¶æœ‰å¾ˆå¤šä¸‰ä½æ•°çš„ä»£ç ï¼Œä½†è¿™ä¸æ˜¯ISOã€‚</font><font style="vertical-align: inherit;">ç„¶åæ€æ ·å‘¢ï¼Ÿ</font><font style="vertical-align: inherit;">äº‹å®è¯æ˜ï¼Œè¿˜æœ‰å¦ä¸€ä¸ªæ ‡å‡†- </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">å¥¥æ—åŒ¹å…‹è¿åŠ¨ä¼š</font></a><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¸å¹¸çš„æ˜¯ï¼Œå®ƒçš„å®ç°ä¸åŒ…å«åœ¨pycountryä¸­ï¼Œæ‚¨å¿…é¡»å¯»æ‰¾å…¶ä»–ä¸œè¥¿ã€‚</font><font style="vertical-align: inherit;">åœ¨</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">datahub.io</font></a><font style="vertical-align: inherit;">ä¸Šä»¥</font><i><font style="vertical-align: inherit;">csv</font></i><font style="vertical-align: inherit;">æ–‡ä»¶</font><font style="vertical-align: inherit;">çš„å½¢å¼æ‰¾åˆ°äº†è§£å†³æ–¹æ¡ˆ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å°†æ­¤æ–‡ä»¶çš„å†…å®¹</font><i><font style="vertical-align: inherit;">æ”¾åœ¨</font></i><font style="vertical-align: inherit;">åä¸º</font><i><font style="vertical-align: inherit;">cdf</font></i><font style="vertical-align: inherit;">çš„</font><i><font style="vertical-align: inherit;">pandas DataFrameä¸­</font></i><font style="vertical-align: inherit;">ã€‚</font><i><font style="vertical-align: inherit;">å›½é™…å¥¥å§”ä¼š</font></i><font style="vertical-align: inherit;"> - Intenationalå¥¥æ—åŒ¹å…‹å§”å‘˜ä¼šï¼ˆIOCï¼‰</font></font><br>
<code>['URU', '', 'PAR', 'SUECIA', 'KUW', 'South African', '', 'Austrian', 'ISV', 'H', 'SCO', 'ES-CT', ', 'GUI', 'BOT', 'SEY', 'BIZ', 'LAB', 'PUR', ' ', 'Scotland', '', '', 'TCH', 'TGA', 'UT', 'BAH', 'GEQ', 'NEP', 'TAH', 'ica', 'FRE', 'E', 'TOG', 'MYA', '', 'Danish (Dane)', 'SAM', 'TPE', 'MON', 'ger', 'Unknown', 'sui', 'R', 'SUI', 'A', 'GRN', 'KZK', 'Wales', '', 'GBS', 'ESA', 'Bavaria', 'Czech Republic', '31/3, Colin', 'SOL', 'SKN', '', 'MGL', 'XKX', 'WLS', 'MOL', 'FIJ', 'CAY', 'ES-IB', 'BER', 'PLE', 'MRI', 'B', 'KSA', '', '', 'LAT', 'GRE', 'ARU', '', 'THI', 'NGR', 'MAD', 'SOG', 'MLD', '?????', 'AHO', 'sco', 'UAE', 'RUMANIA', 'CRO', 'RSA', 'NUEVA ZELANDA', 'KINO MANA', 'PHI', 'sue', 'Tirol"', 'IRI', 'POR', 'CZK', 'SAR', 'D', 'BRASIL', 'DCF', 'HAI', 'ned', 'N', 'BAHREIN', 'VTN', 'EU', 'CAM', 'Mark', 'BUL', 'Welsh', 'VIN', 'HON', 'ESTADOS UNIDOS', 'I', 'GUA', 'OMA', 'CRC', 'PRG', 'NIG', 'BHU', 'Joe', 'GER', 'RUN', 'ALG', '', 'Channel Islands', 'Reunion', 'REPUBLICA CHECA', 'slo', 'ANG', 'NewCaledonia', 'GUT', 'VIE', 'ASA', 'BAR', 'SRI', 'L', '', 'J', 'BAS', 'LUXEMBURGO', 'S', 'CHI', 'SNG', 'BNN', 'den', 'F.I.TRI.', 'STEEL T BG', 'NCA', 'Slovak republic', 'MAS', 'LZE', '-', 'F', 'BRU', '', 'LBA', 'NDL', 'DEN', 'IVB', 'BAN', 'Sandy', 'ZAM', 'sandy', 'Korea', 'SOO', 'BGI', '', 'LTV', 'selsmark, Alise', 'TAN', 'NED', '', 'Suchy, Jorg', 'SLO', 'SUDAFRICA', 'ZIM', 'Eddie', 'INA', '', 'SUD', 'VAN', 'FL', 'P', 'ITU', 'ZZ', 'Argentinean', 'CHA', 'DO2', 'WAL']<br>
</code><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>official name</th>
<th>short name</th>
<th>iso2</th>
<th><u>iso3</u></th>
<th><u>ioc</u></th>
</tr>
<tr>
<td>0</td>
<td>NaN</td>
<td>Taiwan</td>
<td>TW</td>
<td><u>TWN</u></td>
<td><u>TPE</u></td>
</tr>
<tr>
<td>1</td>
<td>Afghanistan</td>
<td>Afghanistan</td>
<td>AF</td>
<td><u>AFG</u></td>
<td><u>AFG</u></td>
</tr>
<tr>
<td>2</td>
<td>Albania</td>
<td>Albania</td>
<td>AL</td>
<td><u>ALB</u></td>
<td><u>ALB</u></td>
</tr>
<tr>
<td>3</td>
<td>Algeria</td>
<td>Algeria</td>
<td>DZ</td>
<td><u>DZA</u></td>
<td><u>ALG</u></td>
</tr>
<tr>
<td>4</td>
<td>American Samoa</td>
<td>American Samoa</td>
<td>AS</td>
<td><u>ASM</u></td>
<td><u>ASA</u></td>
</tr>
<tr>
<td>5</td>
<td>Andorra</td>
<td>Andorra</td>
<td>AD</td>
<td><u>AND</u></td>
<td><u>AND</u></td>
</tr>
<tr>
<td>6</td>
<td>Angola</td>
<td>Angola</td>
<td>AO</td>
<td><u>AGO</u></td>
<td><u>ANG</u></td>
</tr>
<tr>
<td>7</td>
<td>Anguilla</td>
<td>Anguilla</td>
<td>AI</td>
<td><u>AIA</u></td>
<td><u>AIA</u></td>
</tr>
<tr>
<td>8</td>
<td>Antarctica</td>
<td>Antarctica</td>
<td>AQ</td>
<td><u>ATA</u></td>
<td><u>NaN</u></td>
</tr>
<tr>
<td>9</td>
<td>Antigua and Barbuda</td>
<td>Antigua &amp; Barbuda</td>
<td>AG</td>
<td><u>ATG</u></td>
<td><u>ANT</u></td>
</tr>
<tr>
<td>10</td>
<td>Argentina</td>
<td>Argentina</td>
<td>AR</td>
<td><u>ARG</u></td>
<td><u>ARG</u></td>
</tr>
</tbody></table></div></code><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">len(([x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> tofix <span class="hljs-keyword">if</span> x.upper() <span class="hljs-keyword">in</span> list(cdf[<span class="hljs-string">'ioc'</span>])]))
</code></pre><br>
<code><b>Out:</b> 82<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tofix</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„ä¸‰ä½æ•°ä»£ç ä¸­ï¼Œ</font><i><font style="vertical-align: inherit;">æ‰¾åˆ°äº†</font></i><font style="vertical-align: inherit;"> 82ä¸ªç›¸åº”çš„</font><i><font style="vertical-align: inherit;">IOC</font></i><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å°†å®ƒä»¬æ·»åŠ åˆ°æˆ‘ä»¬çš„åŒ¹é…å­—å…¸ä¸­ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> icc <span class="hljs-keyword">in</span> tofix:
    <span class="hljs-keyword">if</span> icc.upper() <span class="hljs-keyword">in</span> list(cdf[<span class="hljs-string">'ioc'</span>]):<font></font>
        ind = cdf[cdf[<span class="hljs-string">'ioc'</span>] == icc.upper()].index[<span class="hljs-number">0</span>]<font></font>
        fix[icc] = cdf.loc[ind, <span class="hljs-string">'iso3'</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿˜å‰©108ä¸ªåŸå§‹å€¼ã€‚</font><font style="vertical-align: inherit;">å®ƒä»¬æ˜¯æ‰‹åŠ¨å®Œæˆçš„ï¼Œæœ‰æ—¶ä¼šå‘Googleå¯»æ±‚å¸®åŠ©ã€‚</font><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œå³ä½¿æ‰‹åŠ¨æ§åˆ¶ä¹Ÿä¸èƒ½å®Œå…¨è§£å†³é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">å‰©ä¸‹49ä¸ªå·²ç»æ— æ³•è§£é‡Šçš„å€¼ã€‚</font><font style="vertical-align: inherit;">è¿™äº›å€¼å¤§å¤šæ•°å¯èƒ½åªæ˜¯æ•°æ®é”™è¯¯ã€‚</font></font><br>
<code>{'BGI': 'BRB', 'WAL': 'GBR', 'MLD': 'MDA', 'KZK': 'KAZ', 'CZK': 'CZE', 'BNN': 'BEN', 'SNG': 'SGP', 'VTN': 'VNM', 'THI': 'THA', 'PRG': 'PRT', 'MOL': 'MDA', 'FRE': 'FRA', 'F.I.TRI.': 'ITA', 'BAHREIN': 'BHR', 'SUECIA': 'SWE', 'REPUBLICA CHECA': 'CZE', 'BRASIL': 'BRA', 'NDL': 'NLD', 'Danish (Dane)': 'DNK', 'Welsh': 'GBR', 'Austrian': 'AUT', 'Argentinean': 'ARG', 'South African': 'ZAF', 'ESTADOS UNIDOS': 'USA', 'LUXEMBURGO': 'LUX', 'SUDAFRICA': 'ZAF', 'NUEVA ZELANDA': 'NZL', 'RUMANIA': 'ROU', 'sco': 'GBR', 'SCO': 'GBR', 'WLS': 'GBR', '': 'IND', '': 'IRL', '': 'ARM', '': 'BGR', '': 'SRB', ' ': 'BLR', '': 'GBR', '': 'FRA', '': 'HND', '-': 'CRI', '': 'AZE', 'Korea': 'KOR', 'NewCaledonia': 'FRA', 'Czech Republic': 'CZE', 'Slovak republic': 'SVK', 'Channel Islands': 'FRA', 'Reunion': 'FRA', 'Wales': 'GBR', 'Scotland': 'GBR', 'Bavaria': 'DEU', 'Tirol"': 'AUT', '': 'KGZ', '': 'BLR', '': 'BLR', '': 'BLR', '': 'RUS', '': 'BLR', '': 'RUS'}<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">unfixed = [x <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> tofix <span class="hljs-keyword">if</span> x <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> fix.keys()]
</code></pre><br>
<code><b>Out:</b> ['', 'H', 'ES-CT', 'LAB', 'TCH', 'UT', 'TAH', 'ica', 'E', 'Unknown', 'R', 'A', '31/3, Colin', 'XKX', 'ES-IB','B','SOG','?????','KINO MANA','sue','SAR','D', 'DCF', 'N', 'EU', 'Mark', 'I', 'Joe', 'RUN', 'GUT', 'L', 'J', 'BAS', 'S', 'STEEL T BG', 'LZE', 'F', 'Sandy', 'DO2', 'sandy', 'SOO', 'LTV', 'selsmark, Alise', 'Suchy, Jorg' 'Eddie', 'FL', 'P', 'ITU', 'ZZ']<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™äº›å…³é”®å­—åœ¨åŒ¹é…çš„å­—å…¸ä¸­å°†æœ‰ä¸€ä¸ªç©ºå­—ç¬¦ä¸²ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> cc <span class="hljs-keyword">in</span> unfixed:<font></font>
    fix[cc] = <span class="hljs-string">''</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åï¼Œæˆ‘ä»¬å‘åŒ¹é…çš„å­—å…¸ä»£ç æ·»åŠ æœ‰æ•ˆçš„ä½†ä»¥å°å†™å½¢å¼ç¼–å†™çš„å­—å…¸ä»£ç ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> cc <span class="hljs-keyword">in</span> valid_a3:
    <span class="hljs-keyword">if</span> cc.upper() != cc:<font></font>
        fix[cc] = cc.upper()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æ˜¯æ—¶å€™åº”ç”¨æ‰¾åˆ°çš„æ›¿ä»£å“äº†ã€‚</font><font style="vertical-align: inherit;">è¦ä¿å­˜åˆå§‹æ•°æ®ä»¥è¿›è¡Œè¿›ä¸€æ­¥æ¯”è¾ƒï¼Œè¯·å°†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">country</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—å¤åˆ¶</font><font style="vertical-align: inherit;">åˆ°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">country raw</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ç„¶åï¼Œä½¿ç”¨åˆ›å»ºçš„åŒ¹é…å­—å…¸ï¼Œæˆ‘ä»¬åœ¨</font><font style="vertical-align: inherit;">ä¸å¯¹åº”äºISO </font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›½å®¶/åœ°åŒº</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—</font><font style="vertical-align: inherit;">å€¼ä¸­è¿›è¡Œ</font><font style="vertical-align: inherit;">æ ¡æ­£</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> cc <span class="hljs-keyword">in</span> fix:<font></font>
    ind = ar[ar[<span class="hljs-string">'country'</span>] == cc].index<font></font>
    ar.loc[ind,<span class="hljs-string">'country'</span>] = fix[cc]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å½“ç„¶ï¼Œè¿™é‡Œä¸èƒ½æ²¡æœ‰å‘é‡åŒ–ï¼Œè¡¨å‡ ä¹æœ‰ä¸€ç™¾äº”åä¸‡è¡Œã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯æ ¹æ®å­—å…¸ï¼Œæˆ‘ä»¬åšä¸€ä¸ªå¾ªç¯ï¼Œä½†æ˜¯è¿˜æœ‰ä»€ä¹ˆå‘¢ï¼Ÿ</font><font style="vertical-align: inherit;">æ£€æŸ¥æ›´æ”¹äº†å¤šå°‘æ¡è®°å½•ï¼š</font></font><br>
<br>
<pre><code class="python hljs">len(ar[ar[<span class="hljs-string">'country'</span>] != ar[<span class="hljs-string">'country raw'</span>]])
</code></pre><br>
<code><b>Out:</b> 315955<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¹Ÿå°±æ˜¯è¯´ï¼Œå æ€»æ•°çš„20ï¼…ä»¥ä¸Šã€‚ </font></font><br>
<br>
<pre><code class="python hljs">ar[ar[<span class="hljs-string">'country'</span>] != ar[<span class="hljs-string">'country raw'</span>]].sample(<span class="hljs-number">10</span>)
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th><u>country</u></th>
<th>group</th>
<th>place in group</th>
<th>...</th>
<th><u>country raw</u></th>
</tr>
<tr>
<td>285</td>
<td>286</td>
<td>M</td>
<td>Albaek, Mads Orla</td>
<td><u>DNK</u></td>
<td>M30-34</td>
<td>63</td>
<td>...</td>
<td><u>DEN</u></td>
</tr>
<tr>
<td>1288</td>
<td>1289</td>
<td>M</td>
<td>Benthien, Andreas</td>
<td><u>DEU</u></td>
<td>M40-44</td>
<td>198</td>
<td>...</td>
<td><u>GER</u></td>
</tr>
<tr>
<td>490</td>
<td>491</td>
<td>M</td>
<td>Lontok, Joselito</td>
<td><u>PHL</u></td>
<td>M50-54</td>
<td>18</td>
<td>...</td>
<td><u>PHI</u></td>
</tr>
<tr>
<td>145</td>
<td>146</td>
<td>M</td>
<td>Mathiasen, Keld</td>
<td><u>DNK</u></td>
<td>M45-49</td>
<td>16</td>
<td>...</td>
<td><u>DEN</u></td>
</tr>
<tr>
<td>445</td>
<td>446</td>
<td>M</td>
<td>Palm, Francois</td>
<td><u>ZAF</u></td>
<td>M25-29</td>
<td>48</td>
<td>...</td>
<td><u>RSA</u></td>
</tr>
<tr>
<td>152</td>
<td>153</td>
<td>M</td>
<td>Muller, Johannes</td>
<td><u>DEU</u></td>
<td>M35-39</td>
<td>19</td>
<td>...</td>
<td><u>GER</u></td>
</tr>
<tr>
<td>764</td>
<td>765</td>
<td>F</td>
<td>Woscher Sylvia</td>
<td><u>DEU</u></td>
<td>F55-59</td>
<td>8</td>
<td>...</td>
<td><u>GER</u></td>
</tr>
<tr>
<td>2182</td>
<td>2183</td>
<td>M</td>
<td>Kojellis, Holger</td>
<td><u>DEU</u></td>
<td>M40-44</td>
<td>258</td>
<td>...</td>
<td><u>GER</u></td>
</tr>
<tr>
<td>1293</td>
<td>1294</td>
<td>M</td>
<td>Zweer, Waldemar</td>
<td><u>DEU</u></td>
<td>M25-29</td>
<td>117</td>
<td>...</td>
<td><u>GER</u></td>
</tr>
<tr>
<td>747</td>
<td>748</td>
<td>M</td>
<td>Petersen, Mathias</td>
<td><u>DNK</u></td>
<td>M25-29</td>
<td>79</td>
<td>...</td>
<td><u>DE</u></td>
</tr>
</tbody></table></div></code><br>
<pre><code class="python hljs">len(ar[ar[<span class="hljs-string">'country'</span>] == <span class="hljs-string">''</span>])
</code></pre><br>
<code><b>Out:</b> 3221<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯æ²¡æœ‰å›½å®¶æˆ–æœ‰éæ­£å¼å›½å®¶çš„è®°å½•æ•°ã€‚</font><font style="vertical-align: inherit;">å”¯ä¸€å›½å®¶/åœ°åŒºçš„æ•°é‡ä»412ä¸ªå‡å°‘åˆ°250ä¸ªã€‚åœ¨è¿™é‡Œï¼Œå®ƒä»¬æ˜¯ï¼š</font><font style="vertical-align: inherit;">
ç°åœ¨æ²¡æœ‰åå·®ã€‚</font><font style="vertical-align: inherit;">å¦‚å…ˆå‰æ‰€åšçš„é‚£æ ·ï¼Œåœ¨å°†åˆå¹¶çš„æ•°æ®å¸§è½¬æ¢å›æ•°æ®å¸§çš„å­—å…¸ä¹‹åï¼Œ</font><i><font style="vertical-align: inherit;">æˆ‘ä»¬å°†</font></i><font style="vertical-align: inherit;">ç»“æœ</font><i><font style="vertical-align: inherit;">ä¿å­˜</font></i><font style="vertical-align: inherit;">åœ¨æ–°çš„</font><i><font style="vertical-align: inherit;">details2.pkl</font></i><font style="vertical-align: inherit;">æ–‡ä»¶ä¸­</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<code>['', 'ABW', 'AFG', 'AGO', 'AIA', 'ALA', 'ALB', 'AND', 'ANT', 'ARE', 'ARG', 'ARM', 'ASM', 'ATA', 'ATF', 'AUS', 'AUT', 'AZE', 'BDI', 'BEL', 'BEN', 'BES', 'BGD', 'BGR', 'BHR', 'BHS', 'BIH', 'BLM', 'BLR', 'BLZ', 'BMU', 'BOL', 'BRA', 'BRB', 'BRN', 'BTN', 'BUR', 'BVT', 'BWA', 'CAF', 'CAN', 'CCK', 'CHE', 'CHL', 'CHN', 'CIV', 'CMR', 'COD', 'COG', 'COK', 'COL', 'COM', 'CPV', 'CRI', 'CTE', 'CUB', 'CUW', 'CXR', 'CYM', 'CYP', 'CZE', 'DEU', 'DJI', 'DMA', 'DNK', 'DOM', 'DZA', 'ECU', 'EGY', 'ERI', 'ESH', 'ESP', 'EST', 'ETH', 'FIN', 'FJI', 'FLK', 'FRA', 'FRO', 'FSM', 'GAB', 'GBR', 'GEO', 'GGY', 'GHA', 'GIB', 'GIN', 'GLP', 'GMB', 'GNB', 'GNQ', 'GRC', 'GRD', 'GRL', 'GTM', 'GUF', 'GUM', 'GUY', 'HKG', 'HMD', 'HND', 'HRV', 'HTI', 'HUN', 'IDN', 'IMN', 'IND', 'IOT', 'IRL', 'IRN', 'IRQ', 'ISL', 'ISR', 'ITA', 'JAM', 'JEY', 'JOR', 'JPN', 'KAZ', 'KEN', 'KGZ', 'KHM', 'KIR', 'KNA', 'KOR', 'KWT', 'LAO', 'LBN', 'LBR', 'LBY', 'LCA', 'LIE', 'LKA', 'LTU', 'LUX', 'LVA', 'MAC', 'MAF', 'MAR', 'MCO', 'MDA', 'MDG', 'MDV', 'MEX', 'MHL', 'MKD', 'MLI', 'MLT', 'MMR', 'MNE', 'MNG', 'MNP', 'MOZ', 'MSR', 'MTQ', 'MUS', 'MYS', 'MYT', 'NAM', 'NCL', 'NER', 'NFK', 'NGA', 'NHB', 'NIC', 'NIU', 'NLD', 'NOR', 'NPL', 'NRU', 'NZL', 'OMN', 'PAK', 'PAN', 'PCN', 'PER', 'PHL', 'PLW', 'PNG', 'POL', 'PRI', 'PRK', 'PRT', 'PRY', 'PSE', 'PYF', 'QAT', 'REU', 'ROU', 'RUS', 'RWA', 'SAU', 'SCG', 'SDN', 'SEN', 'SGP', 'SGS', 'SHN', 'SJM', 'SLB', 'SLE', 'SLV', 'SMR', 'SOM', 'SPM', 'SRB', 'SSD', 'SUR', 'SVK', 'SVN', 'SWE', 'SWZ', 'SXM', 'SYC', 'SYR', 'TCA', 'TCD', 'TGO', 'THA', 'TJK', 'TKL', 'TKM', 'TLS', 'TON', 'TTO', 'TUN', 'TUR', 'TUV', 'TWN', 'TZA', 'UGA', 'UKR', 'UMI', 'URY', 'USA', 'UZB', 'VAT', 'VCT', 'VEN', 'VGB', 'VIR', 'VNM', 'VUT', 'WLF', 'WSM', 'YEM', 'YUG', 'ZAF', 'ZMB', 'ZWE']<br>
</code><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½ç½®</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨å›æƒ³ä¸€ä¸‹ï¼Œåœ¨å›½å®¶/åœ°åŒºè¡¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">loc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—ä¸­ä¹Ÿæåˆ°äº†å›½å®¶</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿˜éœ€è¦ä½¿å…¶å…·æœ‰æ ‡å‡†å¤–è§‚ã€‚è¿™æ˜¯ä¸€ä¸ªç•¥æœ‰ä¸åŒçš„æ•…äº‹ï¼šISOå’Œå¥¥æ—åŒ¹å…‹ä»£ç å‡ä¸å¯è§ã€‚ä¸€åˆ‡éƒ½ä»¥ç›¸å½“è‡ªç”±çš„å½¢å¼æè¿°ã€‚åœ°å€çš„åŸå¸‚ï¼Œå›½å®¶/åœ°åŒºå’Œå…¶ä»–ç»„æˆéƒ¨åˆ†ä»¥é€—å·ï¼ˆéšæœºé¡ºåºï¼‰åˆ—å‡ºã€‚é¦–å…ˆåœ¨æŸä¸ªåœ°æ–¹ï¼Œæœ€ååœ¨æŸä¸ªåœ°æ–¹ã€‚ pycountryåœ¨è¿™é‡Œæ— æµäºäº‹ã€‚å¹¶ä¸”æœ‰å¾ˆå¤šè®°å½•-åœ¨1922å¹´çš„æ¯”èµ›ä¸­æœ‰525ä¸ªç‹¬ç‰¹çš„ä½ç½®ï¼ˆä»¥å…¶åŸå§‹å½¢å¼ï¼‰ã€‚</font><font style="vertical-align: inherit;">
ä½†æ˜¯åœ¨è¿™é‡Œæ‰¾åˆ°äº†åˆé€‚çš„å·¥å…·ã€‚è¿™æ˜¯</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">geopy</font></a><font style="vertical-align: inherit;">ï¼Œå³</font><i><font style="vertical-align: inherit;">åœ°ç†å®šä½å™¨Nominatim</font></i><font style="vertical-align: inherit;">ã€‚å®ƒæ˜¯è¿™æ ·çš„ï¼š</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>event</th>
<th>date</th>
<th><u>loc</u></th>
<th>males</th>
<th>females</th>
<th>rus</th>
<th>total</th>
<th>link</th>
</tr>
<tr>
<td>0</td>
<td>Ironman Dubai Duathlon 70.3 2020</td>
<td>2020-07-02</td>
<td><u>Dubai, United Arab Emirates</u></td>
<td>835</td>
<td>215</td>
<td>65</td>
<td>1050</td>
<td>â€¦</td>
</tr>
<tr>
<td>1</td>
<td>Ironman Dubai 70.3 2020</td>
<td>2020-02-07</td>
<td><u>Dubai, United Arab Emirates</u></td>
<td>638</td>
<td>132</td>
<td>55</td>
<td>770</td>
<td>â€¦</td>
</tr>
<tr>
<td>2</td>
<td>Israman Half 2020</td>
<td>2020-01-29</td>
<td><u>Israel, Eilat</u></td>
<td>670</td>
<td>126</td>
<td>4</td>
<td>796</td>
<td>â€¦</td>
</tr>
<tr>
<td>3</td>
<td>Ironman Indian Wells La Quinta 70.3 2019</td>
<td>2019-12-08</td>
<td><u>Indian Wells/La Quinta, California, USA</u></td>
<td>1590</td>
<td>593</td>
<td>6</td>
<td>2183</td>
<td>â€¦</td>
</tr>
<tr>
<td>4</td>
<td>Ironman Taupo 70.3 2019</td>
<td>2019-12-07</td>
<td><u>New Zealand</u></td>
<td>767</td>
<td>420</td>
<td>3</td>
<td>1187</td>
<td>â€¦</td>
</tr>
<tr>
<td>5</td>
<td>Ironman Bahrain 70.3 2019</td>
<td>2019-12-07</td>
<td><u>Manama, Bahrain</u></td>
<td>858</td>
<td>214</td>
<td>38</td>
<td>1072</td>
<td>â€¦</td>
</tr>
<tr>
<td>6</td>
<td>Ironman Western Australia 2019</td>
<td>2019-12-01</td>
<td><u>Busselton, Western Australia</u></td>
<td>940</td>
<td>229</td>
<td>1</td>
<td>1169</td>
<td>â€¦</td>
</tr>
<tr>
<td>7</td>
<td>Ironman Mar del Plata 2019</td>
<td>2019-12-01</td>
<td><u>Mar del Plata, Argentina</u></td>
<td>506</td>
<td>66</td>
<td>3</td>
<td>572</td>
<td>â€¦</td>
</tr>
<tr>
<td>8</td>
<td>Ironman Cozumel 2019</td>
<td>2019-11-24</td>
<td><u>Cozumel, Mexico</u></td>
<td>1158</td>
<td>395</td>
<td>12</td>
<td>1553</td>
<td>â€¦</td>
</tr>
<tr>
<td>9</td>
<td>Ironman Arizona 2019</td>
<td>2019-11-24</td>
<td><u>Tempe, Arizona, USA</u></td>
<td>1697</td>
<td>633</td>
<td>3</td>
<td>2330</td>
<td>â€¦</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> geopy.geocoders <span class="hljs-keyword">import</span> Nominatim<font></font>
<font></font>
geolocator = Nominatim(user_agent=<span class="hljs-string">'triathlon results researcher'</span>)<font></font>
geolocator.geocode(<span class="hljs-string">' , , '</span>, language=<span class="hljs-string">'en'</span>)
</code></pre><br>
<code><b>Out:</b> Location( ,  â€“  ,  , Altaysky District, Altai Krai, Siberian Federal District, Russia, (51.78897945, 85.73956296106752, 0.0))<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ ¹æ®è¦æ±‚ï¼Œå®ƒä»¥éšæœºå½¢å¼ç»™å‡ºç»“æ„åŒ–çš„ç­”æ¡ˆ-åœ°å€å’Œåæ ‡ã€‚å¦‚æœæ‚¨åœ¨æ­¤å¤„è®¾ç½®è¯­è¨€ï¼ˆè‹±è¯­ï¼‰ï¼Œé‚£ä¹ˆå®ƒä¼šç¿»è¯‘ã€‚é¦–å…ˆï¼Œæˆ‘ä»¬éœ€è¦å›½å®¶/åœ°åŒºçš„æ ‡å‡†åç§°ï¼Œä»¥ä¾¿éšåå°†å…¶è½¬æ¢ä¸ºISOä»£ç ã€‚å®ƒä»…åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">address</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å±æ€§ä¸­æ’åœ¨æœ€å</font><font style="vertical-align: inherit;">ã€‚ç”±äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geolocator</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¯æ¬¡éƒ½ä¼šå‘æœåŠ¡å™¨å‘é€è¯·æ±‚ï¼Œå› æ­¤æ­¤è¿‡ç¨‹å¹¶ä¸å¿«ï¼Œéœ€è¦500åˆ†é’Ÿæ‰èƒ½è®°å½•500æ¡è®°å½•ã€‚è€Œä¸”ï¼Œç¢°å·§æ²¡æœ‰ç­”æ¡ˆã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œç¬¬äºŒä¸ªè¯·æ±‚æœ‰æ—¶ä¼šæœ‰æ‰€å¸®åŠ©ã€‚åœ¨æˆ‘çš„ç¬¬ä¸€ååº”ä¸­æ²¡æœ‰æ”¶åˆ°130ä¸ªè¯·æ±‚ã€‚å…¶ä¸­å¤§å¤šæ•°ç»è¿‡ä¸¤æ¬¡é‡è¯•å¤„ç†ã€‚ä½†æ˜¯ï¼Œå³ä½¿å†è¿›è¡Œå‡ æ¬¡é‡è¯•ä¹Ÿæ²¡æœ‰å¤„ç†34ä¸ªåç§°ã€‚ä»–ä»¬æ¥äº†ï¼š</font></font><br>
<code>['Tongyeong, Korea, Korea, South', 'Constanta, Mamaia, Romania, Romania', 'Weihai, China, China', '. ,  .', 'Odaiba Marin Park, Tokyo, Japan, Japan', 'Sweden, Smaland, Kalmar', 'Cholpon-Ata city, Resort Center "Kapriz", Kyrgyzstan', 'Luxembourg, Region Moselle, Moselle', 'Chita Peninsula, Japan', 'Kraichgau Region, Germany', 'Jintang, Chengdu, Sichuan Province, China, China', 'Madrid, Spain, Spain', 'North American Pro Championship, St. George, Utah, USA', 'Milan Idroscalo Linate, Italy', 'Dexing, Jiangxi Province, China, China', 'Mooloolaba, Australia, Australia', 'Nathan Benderson Park (NBP), 5851 Nathan Benderson Circle, Sarasota, FL 34235., United States', 'Strathclyde Country Park, North Lanarkshire, Glasgow, Great Britain', 'Quijing, China', 'United States of America , Hawaii, Kohala Coast', 'Buffalo City, East London, South Africa', 'Spain, Vall de Cardener', ', .    ', 'Asian TriClub Championship, Hefei, China', 'Taizhou, Jiangsu Province, China, China', ', ,  Â«Â»', 'Buffalo, Gallagher Beach, Furhmann Blvd, United States', 'North American Pro Championship | St. George, Utah, USA', 'Weihai, Shandong, China, China', 'Tarzo - Revine Lago, Italy', 'Lausanee, Switzerland', 'Queenstown, New Zealand, New Zealand', 'Makuhari, Japan, Japan', 'Szombathlely, Hungary']<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯ä»¥çœ‹å‡ºï¼Œåœ¨è®¸å¤šå›½å®¶ä¸­éƒ½å¤šæ¬¡æåˆ°è¯¥å›½ï¼Œè¿™å®é™…ä¸Šæ˜¯åœ¨å¹²æ‰°ã€‚</font><font style="vertical-align: inherit;">é€šå¸¸ï¼Œæˆ‘å¿…é¡»æ‰‹åŠ¨å¤„ç†è¿™äº›å‰©ä½™çš„åç§°ï¼Œå¹¶è·å¾—æ‰€æœ‰çš„æ ‡å‡†åœ°å€ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œä»è¿™äº›åœ°å€ä¸­ï¼Œæˆ‘é€‰æ‹©äº†ä¸€ä¸ªå›½å®¶ï¼Œå¹¶å°†è¯¥å›½å®¶å†™åœ¨æ•°æ®é€è§†è¡¨çš„æ–°åˆ—ä¸­ã€‚</font><font style="vertical-align: inherit;">æ­£å¦‚æˆ‘è¯´è¿‡çš„é‚£æ ·ï¼Œç”±äºä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geopy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å·¥ä½œ</font><font style="vertical-align: inherit;">å¹¶ä¸å¾ˆå¿«ï¼Œå› æ­¤æˆ‘å†³å®šç«‹å³ä¿å­˜ä½ç½®åæ ‡-çº¬åº¦å’Œç»åº¦ã€‚</font><font style="vertical-align: inherit;">ä»–ä»¬å°†æ´¾ä¸Šç”¨åœºï¼Œä»¥ä¾¿ä»¥ååœ¨åœ°å›¾ä¸Šå¯è§†åŒ–ã€‚</font><font style="vertical-align: inherit;">ä¹‹åï¼Œä½¿ç”¨</font><i><font style="vertical-align: inherit;">pyco.countries.getï¼ˆname ='...'ï¼‰ã€‚Alpha_3</font></i><font style="vertical-align: inherit;">æŒ‰åç§°æœç´¢å›½å®¶/åœ°åŒºï¼Œå¹¶åˆ†é…ä¸€ä¸ªä¸‰ä½æ•°çš„ä»£ç ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>event</th>
<th>date</th>
<th>loc</th>
<th><u>country</u></th>
<th><u>latitude</u></th>
<th><u>longitude</u></th>
<th>...</th>
</tr>
<tr>
<td>0</td>
<td>Ironman Dubai Duathlon 70.3 2020</td>
<td>2020-07-02</td>
<td>Dubai, United Arab Emirates</td>
<td><u>United Arab Emirates</u></td>
<td><u>25.0657</u></td>
<td><u>55.1713</u></td>
<td>...</td>
</tr>
<tr>
<td>1</td>
<td>Ironman Dubai 70.3 2020</td>
<td>2020-02-07</td>
<td>Dubai, United Arab Emirates</td>
<td><u>United Arab Emirates</u></td>
<td><u>25.0657</u></td>
<td><u>55.1713</u></td>
<td>...</td>
</tr>
<tr>
<td>2</td>
<td>Israman Half 2020</td>
<td>2020-01-29</td>
<td>Israel, Eilat</td>
<td><u>Israel</u></td>
<td><u>29.5569</u></td>
<td><u>34.9498</u></td>
<td>...</td>
</tr>
<tr>
<td>3</td>
<td>Ironman Indian Wells La Quinta 70.3 2019</td>
<td>2019-12-08</td>
<td>Indian Wells/La Quinta, California, USA</td>
<td><u>United States of America</u></td>
<td><u>33.7238</u></td>
<td><u>-116.305</u></td>
<td>...</td>
</tr>
<tr>
<td>4</td>
<td>Ironman Taupo 70.3 2019</td>
<td>2019-12-07</td>
<td>New Zealand</td>
<td><u>New Zealand</u></td>
<td><u>-41.5001</u></td>
<td><u>172.834</u></td>
<td>...</td>
</tr>
<tr>
<td>5</td>
<td>Ironman Bahrain 70.3 2019</td>
<td>2019-12-07</td>
<td>Manama, Bahrain</td>
<td><u>Bahrain</u></td>
<td><u>26.2235</u></td>
<td><u>50.5822</u></td>
<td>...</td>
</tr>
<tr>
<td>6</td>
<td>Ironman Western Australia 2019</td>
<td>2019-12-01</td>
<td>Busselton, Western Australia</td>
<td><u>Australia</u></td>
<td><u>-33.6445</u></td>
<td><u>115.349</u></td>
<td>...</td>
</tr>
<tr>
<td>7</td>
<td>Ironman Mar del Plata 2019</td>
<td>2019-12-01</td>
<td>Mar del Plata, Argentina</td>
<td><u>Argentina</u></td>
<td><u>-37.9977</u></td>
<td><u>-57.5483</u></td>
<td>...</td>
</tr>
<tr>
<td>8</td>
<td>Ironman Cozumel 2019</td>
<td>2019-11-24</td>
<td>Cozumel, Mexico</td>
<td><u>Mexico</u></td>
<td><u>20.4318</u></td>
<td><u>-86.9203</u></td>
<td>...</td>
</tr>
<tr>
<td>9</td>
<td>Ironman Arizona 2019</td>
<td>2019-11-24</td>
<td>Tempe, Arizona, USA</td>
<td><u>United States of America</u></td>
<td><u>33.4255</u></td>
<td><u>-111.94</u></td>
<td>...</td>
</tr>
<tr>
<td>10</td>
<td>Ironman Xiamen 70.3 2019</td>
<td>2019-11-10</td>
<td>Xiamen, China</td>
<td><u>China</u></td>
<td><u>24.4758</u></td>
<td><u>118.075</u></td>
<td>...</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>event</th>
<th>date</th>
<th>loc</th>
<th><u>country</u></th>
<th>latitude</th>
<th>longitude</th>
<th>...</th>
</tr>
<tr>
<td>0</td>
<td>Ironman Dubai Duathlon 70.3 2020</td>
<td>2020-07-02</td>
<td>Dubai, United Arab Emirates</td>
<td><u>ARE</u></td>
<td>25.0657</td>
<td>55.1713</td>
<td>...</td>
</tr>
<tr>
<td>1</td>
<td>Ironman Dubai 70.3 2020</td>
<td>2020-02-07</td>
<td>Dubai, United Arab Emirates</td>
<td><u>ARE</u></td>
<td>25.0657</td>
<td>55.1713</td>
<td>...</td>
</tr>
<tr>
<td>2</td>
<td>Israman Half 2020</td>
<td>2020-01-29</td>
<td>Israel, Eilat</td>
<td><u>ISR</u></td>
<td>29.5569</td>
<td>34.9498</td>
<td>...</td>
</tr>
<tr>
<td>3</td>
<td>Ironman Indian Wells La Quinta 70.3 2019</td>
<td>2019-12-08</td>
<td>Indian Wells/La Quinta, California, USA</td>
<td><u>USA</u></td>
<td>33.7238</td>
<td>-116.305</td>
<td>...</td>
</tr>
<tr>
<td>4</td>
<td>Ironman Taupo 70.3 2019</td>
<td>2019-12-07</td>
<td>New Zealand</td>
<td><u>NZL</u></td>
<td>-41.5001</td>
<td>172.834</td>
<td>...</td>
</tr>
<tr>
<td>5</td>
<td>Ironman Bahrain 70.3 2019</td>
<td>2019-12-07</td>
<td>Manama, Bahrain</td>
<td><u>BHR</u></td>
<td>26.2235</td>
<td>50.5822</td>
<td>...</td>
</tr>
<tr>
<td>6</td>
<td>Ironman Western Australia 2019</td>
<td>2019-12-01</td>
<td>Busselton, Western Australia</td>
<td><u>AUS</u></td>
<td>-33.6445</td>
<td>115.349</td>
<td>...</td>
</tr>
<tr>
<td>7</td>
<td>Ironman Mar del Plata 2019</td>
<td>2019-12-01</td>
<td>Mar del Plata, Argentina</td>
<td><u>ARG</u></td>
<td>-37.9977</td>
<td>-57.5483</td>
<td>...</td>
</tr>
<tr>
<td>8</td>
<td>Ironman Cozumel 2019</td>
<td>2019-11-24</td>
<td>Cozumel, Mexico</td>
<td><u>MEX</u></td>
<td>20.4318</td>
<td>-86.9203</td>
<td>...</td>
</tr>
<tr>
<td>9</td>
<td>Ironman Arizona 2019</td>
<td>2019-11-24</td>
<td>Tempe, Arizona, USA</td>
<td><u>USA</u></td>
<td>33.4255</td>
<td>-111.94</td>
<td>...</td>
</tr>
<tr>
<td>10</td>
<td>Ironman Xiamen 70.3 2019</td>
<td>2019-11-10</td>
<td>Xiamen, China</td>
<td><u>CHN</u></td>
<td>24.4758</td>
<td>118.075</td>
<td>...</td>
</tr>
</tbody></table></div></code><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è·ç¦»</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¢è½´å·¥ä½œå°ä¸Šéœ€è¦æ‰§è¡Œçš„å¦ä¸€é¡¹é‡è¦æ“ä½œæ˜¯ç¡®å®šæ¯æ¬¡æ¯”èµ›çš„è·ç¦»ã€‚è¿™å¯¹æˆ‘ä»¬å°†æ¥è®¡ç®—é€Ÿåº¦å¾ˆæœ‰ç”¨ã€‚é“äººä¸‰é¡¹ä¸­ï¼Œä¸»è¦æœ‰å››ä¸ªè·ç¦»-çŸ­è·‘ï¼Œå¥¥æ—åŒ¹å…‹ï¼ŒåŠé“å’Œé“ã€‚æ‚¨å¯ä»¥çœ‹åˆ°ï¼Œåœ¨æ¯”èµ›åç§°ä¸­é€šå¸¸ä¼šæ ‡æ˜è·ç¦»-è¿™äº›æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sprint</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Olympic</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Half</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Full</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Words </font><font style="vertical-align: inherit;">ã€‚æ­¤å¤–ï¼Œä¸åŒçš„ç»„ç»‡è€…éƒ½æœ‰è‡ªå·±çš„è·ç¦»æŒ‡å®šã€‚ä¾‹å¦‚ï¼Œé’¢é“ä¾ çš„ä¸€åŠè¢«æŒ‡å®šä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">70.3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆæŒ‰è·ç¦»</font><font style="vertical-align: inherit;">æ•°è¡¨ç¤ºï¼‰ï¼Œ</font><font style="vertical-align: inherit;">å¥¥æ—åŒ¹å…‹è¿åŠ¨ä¼š</font><font style="vertical-align: inherit;">è¢«æŒ‡å®šä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5150</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆå…¬é‡Œæ•°ï¼ˆ51.5ï¼‰ï¼‰ï¼Œå¹¶ä¸”é“æ†å¯ä»¥æŒ‡å®šä¸ºâ€œ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ»¡â€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ–è€…ï¼Œç”±äºç¼ºä¹è§£é‡Š-ä¾‹å¦‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ironman Arizona 2019</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">é“äºº-ä»–æ˜¯é“ï¼</font><font style="vertical-align: inherit;">åœ¨â€œæŒ‘æˆ˜â€ä¸­ï¼Œé“æ†è·ç¦»æŒ‡å®šä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Long</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ŒåŠ</font><font style="vertical-align: inherit;">é“æ†è·ç¦»æŒ‡å®š</font><font style="vertical-align: inherit;">ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Middle</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ ¹æ®å…¬é‡Œæ•°ï¼Œ</font><font style="vertical-align: inherit;">æˆ‘ä»¬çš„ä¿„ç½—æ–¯IronStarè¡¨ç¤ºæ»¡ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">226</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä¸€åŠä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">113</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä½†é€šå¸¸</font><font style="vertical-align: inherit;">è¿˜ä¼šå‡ºç°â€œ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ»¡â€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œâ€œ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŠ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€å­—æ ·</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨åº”ç”¨æ‰€æœ‰è¿™äº›çŸ¥è¯†ï¼Œå¹¶æ ¹æ®åç§°ä¸­å‡ºç°çš„å…³é”®å­—æ ‡è®°æ‰€æœ‰ç§æ—ã€‚</font></font><br>
<br>
<pre><code class="python hljs">sprints = rs.loc[[i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> rs.index <span class="hljs-keyword">if</span> <span class="hljs-string">'sprint'</span> <span class="hljs-keyword">in</span> rs.loc[i, <span class="hljs-string">'event'</span>].lower()]]<font></font>
olympics1 = rs.loc[[i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> rs.index <span class="hljs-keyword">if</span> <span class="hljs-string">'olympic'</span> <span class="hljs-keyword">in</span> rs.loc[i, <span class="hljs-string">'event'</span>].lower()]]<font></font>
olympics2 = rs.loc[[i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> rs.index <span class="hljs-keyword">if</span> <span class="hljs-string">'5150'</span> <span class="hljs-keyword">in</span> rs.loc[i, <span class="hljs-string">'event'</span>].lower()]]<font></font>
olympics = pd.concat([olympics1, olympics2])<font></font>
<span class="hljs-comment">#â€¦   </span><font></font>
<font></font>
rsd = pd.concat([sprints, olympics, halfs, fulls]) <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rsdä¸­ï¼Œæœ‰1925</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¡è®°å½•ï¼Œå³æ¯”æ€»æ¯”èµ›æ•°å¤š3æ¡è®°å½•ï¼Œå› æ­¤æœ‰äº›è®°å½•å±äºä¸¤ä¸ªæ ‡å‡†ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬ï¼š</font></font><br>
<br>
<pre><code class="python hljs">rsd[rsd.duplicated(keep=<span class="hljs-literal">False</span>)][<span class="hljs-string">'event'</span>].sort_index()
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th><u>event</u></th>
<th>date</th>
<th>loc</th>
<th>country</th>
<th>latitude</th>
<th>longitude</th>
<th>...</th>
</tr>
<tr>
<td>38</td>
<td><u>Temiradam 113 Half 2019</u></td>
<td>2019-09-22</td>
<td>, </td>
<td>KAZ</td>
<td>43.6521</td>
<td>51.158</td>
<td>...</td>
</tr>
<tr>
<td>38</td>
<td><u>Temiradam 113 Half 2019</u></td>
<td>2019-09-22</td>
<td>, </td>
<td>KAZ</td>
<td>43.6521</td>
<td>51.158</td>
<td>...</td>
</tr>
<tr>
<td>65</td>
<td><u>Triway Olympic Sprint 2019</u></td>
<td>2019-09-08</td>
<td>, --</td>
<td>RUS</td>
<td>47.2214</td>
<td>39.7114</td>
<td>...</td>
</tr>
<tr>
<td>65</td>
<td><u>Triway Olympic Sprint 2019</u></td>
<td>2019-09-08</td>
<td>, --</td>
<td>RUS</td>
<td>47.2214</td>
<td>39.7114</td>
<td>...</td>
</tr>
<tr>
<td>82</td>
<td><u>Ironman Dun Laoghaire Full Swim 70.3 2019</u></td>
<td>2019-08-25</td>
<td>Ireland, Dun Laoghaire</td>
<td>IRL</td>
<td>53.2923</td>
<td>-6.13601</td>
<td>...</td>
</tr>
<tr>
<td>82</td>
<td><u>Ironman Dun Laoghaire Full Swim 70.3 2019</u></td>
<td>2019-08-25</td>
<td>Ireland, Dun Laoghaire</td>
<td>IRL</td>
<td>53.2923</td>
<td>-6.13601</td>
<td>...</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„ç¡®æ˜¯ã€‚</font><font style="vertical-align: inherit;">åœ¨ç¬¬ä¸€åŒ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Temiradam 113 Half 2019ä¸­</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œæåˆ°äº†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Half</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">113</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä½†è¿™å¹¶ä¸æ˜¯çŸ›ç›¾ï¼Œå®ƒä»¬éƒ½è¢«ç¡®å®šä¸ºä¸€åŠã€‚</font><font style="vertical-align: inherit;">æ¥ä¸‹æ¥æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Triway Olympic Sprint 2019</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ‚¨åœ¨è¿™é‡ŒçœŸçš„å¾ˆå›°æƒ‘- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥¥æ—åŒ¹å…‹è¿åŠ¨ä¼š</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sprint</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥é€šè¿‡æŸ¥çœ‹å¸¦æœ‰æ¯”èµ›ç»“æœçš„åè®®æ¥å¼„æ¸…æ¥šã€‚</font><font style="vertical-align: inherit;">æœ€ä½³æ—¶é—´æ˜¯1:09ã€‚</font><font style="vertical-align: inherit;">æ‰€ä»¥è¿™æ˜¯ä¸€ä¸ªå†²åˆºã€‚</font><font style="vertical-align: inherit;">ä»å¥¥è¿åˆ—è¡¨ä¸­åˆ é™¤è¯¥æ¡ç›®ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>place in group</th>
<th>swim</th>
<th>t1</th>
<th>bike</th>
<th>t2</th>
<th>run</th>
<th><u>result</u></th>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>M</td>
<td> </td>
<td>RUS</td>
<td>M</td>
<td>1</td>
<td>00:12:21</td>
<td>00:00:31</td>
<td>00:34:13</td>
<td>00:00:25</td>
<td>00:21:49</td>
<td><u>01:09:19</u></td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>M</td>
<td> </td>
<td>RUS</td>
<td>M</td>
<td>2</td>
<td>00:12:21</td>
<td>00:00:28</td>
<td>00:34:15</td>
<td>00:00:26</td>
<td>00:23:07</td>
<td><u>01:10:38</u></td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>M</td>
<td> </td>
<td>RUS</td>
<td>M</td>
<td>3</td>
<td>00:14:20</td>
<td>00:00:37</td>
<td>00:35:48</td>
<td>00:00:34</td>
<td>00:22:16</td>
<td><u>01:13:35</u></td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">olympics.drop(<span class="hljs-number">65</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†ä¸ç›¸äº¤çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ironman Dun Laoghaire Full Swim 70.3 2019</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›¸åŒï¼Œ</font><font style="vertical-align: inherit;">è¿™æ˜¯æœ€ä½³æ—¶é—´4:00ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯å…¸å‹çš„ä¸€åŠã€‚</font><font style="vertical-align: inherit;">ä»æŒ‡æ•°85åˆ é™¤è®°å½•</font><i><font style="vertical-align: inherit;">å……ç›ˆ</font></i><font style="vertical-align: inherit;">ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>place in group</th>
<th>swim</th>
<th>t1</th>
<th>bike</th>
<th>t2</th>
<th>run</th>
<th><u>result</u></th>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>M</td>
<td>Brownlee, Alistair</td>
<td>GBR</td>
<td>MPRO</td>
<td>1</td>
<td>00:23:19</td>
<td>00:02:18</td>
<td>02:21:19</td>
<td>00:01:55</td>
<td>01:11:42</td>
<td><u>04:00:33</u></td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>M</td>
<td>Smales, Elliot</td>
<td>GBR</td>
<td>MPRO</td>
<td>2</td>
<td>00:24:47</td>
<td>00:02:09</td>
<td>02:29:26</td>
<td>00:01:48</td>
<td>01:12:47</td>
<td><u>04:10:57</u></td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>M</td>
<td>Bowden, Adam</td>
<td>GBR</td>
<td>MPRO</td>
<td>3</td>
<td>00:23:24</td>
<td>00:02:18</td>
<td>02:32:09</td>
<td>00:02:06</td>
<td>01:13:49</td>
<td><u>04:13:46</u></td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">fulls.drop(<span class="hljs-number">85</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæˆ‘ä»¬åœ¨ä¸»æ•°æ®æ¡†ä¸­å†™ä¸‹è·ç¦»ä¿¡æ¯ï¼Œç„¶åçœ‹çœ‹å‘ç”Ÿäº†ä»€ä¹ˆï¼š</font></font><br>
<br>
<pre><code class="python hljs">rs[<span class="hljs-string">'dist'</span>] = <span class="hljs-string">''</span><font></font>
<font></font>
rs.loc[sprints.index,<span class="hljs-string">'dist'</span>] = <span class="hljs-string">'sprint'</span>
rs.loc[olympics.index,<span class="hljs-string">'dist'</span>] = <span class="hljs-string">'olympic'</span>
rs.loc[halfs.index,<span class="hljs-string">'dist'</span>] = <span class="hljs-string">'half'</span>
rs.loc[fulls.index,<span class="hljs-string">'dist'</span>] = <span class="hljs-string">'full'</span><font></font>
<font></font>
rs.sample(<span class="hljs-number">10</span>)
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th><u>group</u></th>
<th>place in group</th>
<th>...</th>
<th>country raw</th>
<th><u>group raw</u></th>
</tr>
<tr>
<td>...</td>
<td>566</td>
<td>M</td>
<td>Vladimir Kozar</td>
<td>SVK</td>
<td><u>M40-44</u></td>
<td>8</td>
<td>...</td>
<td>SVK</td>
<td><u>MOpen 40-44</u></td>
</tr>
<tr>
<td>...</td>
<td>8</td>
<td>M</td>
<td>HANNES COOL</td>
<td>BEL</td>
<td><u>MPRO</u></td>
<td>11</td>
<td>...</td>
<td>BEL</td>
<td><u>MPRO M</u></td>
</tr>
<tr>
<td>...</td>
<td>445</td>
<td>F</td>
<td>Ileana Sodani</td>
<td>USA</td>
<td><u>F45-49</u></td>
<td>4</td>
<td>...</td>
<td>USA</td>
<td><u>F45-49 F</u></td>
</tr>
<tr>
<td>...</td>
<td>227</td>
<td>F</td>
<td>JARLINSKA Bozena</td>
<td>POL</td>
<td><u>F45-49</u></td>
<td>2</td>
<td>...</td>
<td>POL</td>
<td><u>FK45-49</u></td>
</tr>
<tr>
<td>...</td>
<td>440</td>
<td>F</td>
<td>Celine Orrigoni</td>
<td>FRA</td>
<td><u>F40-44</u></td>
<td>6</td>
<td>...</td>
<td>FRA</td>
<td><u>F40-44 F</u></td>
</tr>
<tr>
<td>...</td>
<td>325</td>
<td>M</td>
<td>Vladimir Eckert</td>
<td>SVK</td>
<td><u>M40-44</u></td>
<td>6</td>
<td>...</td>
<td>SVK</td>
<td><u>MOpen 40-44</u></td>
</tr>
<tr>
<td>...</td>
<td>139</td>
<td>F</td>
<td>ATRASZKIEWICZ Magda</td>
<td>POL</td>
<td><u>F40-44</u></td>
<td>2</td>
<td>...</td>
<td>POL</td>
<td><u>FK40-44</u></td>
</tr>
<tr>
<td>...</td>
<td>18</td>
<td>M</td>
<td>Marijn de Jonge</td>
<td>NLD</td>
<td><u>MPRO</u></td>
<td>18</td>
<td>...</td>
<td>NED</td>
<td><u>Mpro</u></td>
</tr>
<tr>
<td>...</td>
<td>574</td>
<td>M</td>
<td>Luca Andalo</td>
<td>ITA</td>
<td><u>M40-44</u></td>
<td>9</td>
<td>...</td>
<td>ITA</td>
<td><u>MOpen 40-44</u></td>
</tr>
<tr>
<td>...</td>
<td>67</td>
<td>M</td>
<td>URBANKIEWICZ Aleksandra</td>
<td>POL</td>
<td><u>M35-39</u></td>
<td>1</td>
<td>...</td>
<td>POL</td>
<td><u>MK35-39</u></td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ£€æŸ¥æ˜¯å¦æ²¡æœ‰å‘ç°æ¡ç›®ï¼š</font></font><br>
<br>
<pre><code class="python hljs">len(rs[rs[<span class="hljs-string">'dist'</span>] == <span class="hljs-string">''</span>])
</code></pre><br>
<code><b>Out:</b> 0<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¹¶æ£€æŸ¥æˆ‘ä»¬æœ‰é—®é¢˜çš„ï¼Œæ¨¡æ£±ä¸¤å¯çš„ï¼š</font></font><br>
<br>
<pre><code class="python hljs">rs.loc[[<span class="hljs-number">38</span>,<span class="hljs-number">65</span>,<span class="hljs-number">82</span>],[<span class="hljs-string">'event'</span>,<span class="hljs-string">'dist'</span>]]
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>event</th>
<th><u>dist</u></th>
</tr>
<tr>
<td>38</td>
<td>Temiradam 113 Half 2019</td>
<td><u>half</u></td>
</tr>
<tr>
<td>65</td>
<td>Triway Olympic Sprint 2019</td>
<td><u>sprint</u></td>
</tr>
<tr>
<td>82</td>
<td>Ironman Dun Laoghaire Full Swim 70.3 2019</td>
<td><u>half</u></td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸€åˆ‡å®‰å¥½ã€‚</font><font style="vertical-align: inherit;">ä¿å­˜åˆ°æ–°æ–‡ä»¶ï¼š</font></font><br>
<br>
<pre><code class="python hljs">pkl.dump(rs, open(<span class="hljs-string">r'D:\tri\summary5.pkl'</span>, <span class="hljs-string">'wb'</span>))
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹´é¾„ç»„</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨å›åˆ°èµ›è½¦åè®®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å·²ç»åˆ†æäº†å‚ä¸è€…çš„æ€§åˆ«ï¼Œå›½å®¶å’Œç»“æœï¼Œå¹¶å°†å…¶å½’ä¸ºæ ‡å‡†æ ¼å¼ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯è¿˜å‰©ä¸‹ä¸¤åˆ—-ç»„ï¼Œå®é™…ä¸Šæ˜¯åç§°æœ¬èº«ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬ä»å°ç»„å¼€å§‹ã€‚</font><font style="vertical-align: inherit;">åœ¨é“äººä¸‰é¡¹èµ›ä¸­ï¼Œä¹ æƒ¯ä¸ŠæŒ‰å¹´é¾„æ®µåˆ’åˆ†å‚ä¸è€…ã€‚</font><font style="vertical-align: inherit;">ä¸€ç¾¤ä¸“ä¸šäººå£«ä¹Ÿç»å¸¸è„±é¢–è€Œå‡ºã€‚</font><font style="vertical-align: inherit;">å®é™…ä¸Šï¼Œåç§»é‡æ˜¯åœ¨æ¯ä¸ªè¿™æ ·çš„ç»„ä¸­å•ç‹¬åˆ†é…çš„-æ¯ä¸ªç»„ä¸­çš„å‰ä¸‰ä¸ªä½ç½®å‡è¢«æˆäºˆã€‚</font><font style="vertical-align: inherit;">åœ¨å›¢ä½“ä¸­ï¼Œæ­£åœ¨ä¸ºé”¦æ ‡èµ›é€‰æ‹©èµ„æ ¼ï¼Œä¾‹å¦‚åœ¨Konuä¸Šã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆå¹¶æ‰€æœ‰è®°å½•ï¼ŒæŸ¥çœ‹é€šå¸¸å­˜åœ¨å“ªäº›ç»„ã€‚</font></font><br>
<br>
<pre><code class="python hljs">rd = pkl.load(open(<span class="hljs-string">r'D:\tri\details2.pkl'</span>, <span class="hljs-string">'rb'</span>))<font></font>
ar = pd.concat(rd)<font></font>
ar[<span class="hljs-string">'group'</span>].unique()
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸæ¥ï¼Œæœ‰å¾ˆå¤šç»„-581ã€‚éšæœºé€‰æ‹©äº†ä¸€ç™¾ä¸ªè¿™æ ·çš„æ ·å­ï¼š</font><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬çœ‹çœ‹å…¶ä¸­å“ªä¸ªæ˜¯æœ€å¤šçš„ï¼š</font></font><br>
<code>['MSenior', 'FAmat.', 'M20', 'M65-59', 'F25-29', 'F18-22', 'M75-59', 'MPro', 'F24', 'MCORP M', 'F21-30', 'MSenior 4', 'M40-50', 'FAWAD', 'M16-29', 'MK40-49', 'F65-70', 'F65-70', 'M12-15', 'MK18-29', 'M50up', 'FSEMIFINAL 2 PRO', 'F16', 'MWhite', 'MOpen 25-29', 'F', 'MPT TRI-2', 'M16-24', 'FQUALIFIER 1 PRO', 'F15-17', 'FSEMIFINAL 2 JUNIOR', 'FOpen 60-64', 'M75-80', 'F60-69', 'FJUNIOR A', 'F17-18', 'FAWAD BLIND', 'M75-79', 'M18-29', 'MJUN19-23', 'M60-up', 'M70', 'MPTS5', 'F35-40', "M'S PT1", 'M50-54', 'F65-69', 'F17-20', 'MP4', 'M16-29', 'F18up', 'MJU', 'MPT4', 'MPT TRI-3', 'MU24-39', 'MK35-39', 'F18-20', "M'S", 'F50-55', 'M75-80', 'MXTRI', 'F40-45', 'MJUNIOR B', 'F15', 'F18-19', 'M20-29', 'MAWAD PC4', 'M30-37', 'F21-30', 'Mpro', 'MSEMIFINAL 1 JUNIOR', 'M25-34', 'MAmat.', 'FAWAD PC5', 'FA', 'F50-60', 'FSenior 1', 'M80-84', 'FK45-49', 'F75-79', 'M&lt;23', 'MPTS3', 'M70-75', 'M50-60', 'FQUALIFIER 3 PRO', 'M9', 'F31-40', 'MJUN16-19', 'F18-19', 'M PARA', 'F35-44', 'MParaathlete', 'F18-34', 'FA', 'FAWAD PC2', 'FAll Ages', 'M PARA', 'F31-40', 'MM85', 'M25-39']<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'group'</span>].value_counts()[:<span class="hljs-number">30</span>]
</code></pre><br>
<code><b>Out:</b><br>
M40-44 199157<br>
M35-39 183738<br>
M45-49 166796<br>
M30-34 154732<br>
M50-54 107307<br>
M25-29 88980<br>
M55-59 50659<br>
F40-44 48036<br>
F35-39 47414<br>
F30-34 45838<br>
F45-49 39618<br>
MPRO 38445<br>
F25-29 31718<br>
F50-54 26253<br>
M18-24 24534<br>
FPRO 23810<br>
M60-64 20773<br>
M 12799<br>
F55-59 12470<br>
M65-69 8039<br>
F18-24 7772<br>
MJUNIOR 6605<br>
F60-64 5067<br>
M20-24 4580<br>
FJUNIOR 4105<br>
M30-39 3964<br>
M40-49 3319<br>
F 3306<br>
M70-74 3072<br>
F20-24 2522<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨ä¼šçœ‹åˆ°ï¼Œè¿™æ˜¯ä¸€ä¸ªäº”å¹´å°ç»„ï¼Œåˆ†åˆ«é’ˆå¯¹ç”·æ€§å’Œå¥³æ€§ï¼Œä»¥åŠä¸“ä¸šå›¢ä½“</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MPRO</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FPRO</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬çš„æ ‡å‡†å°†æ˜¯ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ag = [<span class="hljs-string">'MPRO'</span>, <span class="hljs-string">'M18-24'</span>, <span class="hljs-string">'M25-29'</span>, <span class="hljs-string">'M30-34'</span>, <span class="hljs-string">'M35-39'</span>, <span class="hljs-string">'M40-44'</span>, <span class="hljs-string">'M45-49'</span>, <span class="hljs-string">'M50-54'</span>, <span class="hljs-string">'M55-59'</span>, <span class="hljs-string">'M60-64'</span>,  <span class="hljs-string">'M65-69'</span>, <span class="hljs-string">'M70-74'</span>, <span class="hljs-string">'M75-79'</span>, <span class="hljs-string">'M80-84'</span>, <span class="hljs-string">'M85-90'</span>, <span class="hljs-string">'FPRO'</span>, <span class="hljs-string">'F18-24'</span>, <span class="hljs-string">'F25-29'</span>, <span class="hljs-string">'F30-34'</span>, <span class="hljs-string">'F35-39'</span>, <span class="hljs-string">'F40-44'</span>,   <span class="hljs-string">'F45-49'</span>, <span class="hljs-string">'F50-54'</span>, <span class="hljs-string">'F55-59'</span>, <span class="hljs-string">'F60-64'</span>, <span class="hljs-string">'F65-69'</span>, <span class="hljs-string">'F70-74'</span>, <span class="hljs-string">'F75-79'</span>, <span class="hljs-string">'F80-84'</span>, <span class="hljs-string">'F85-90'</span>]
<span class="hljs-comment">#ag â€“ age group</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™å¥—äº§å“å‡ ä¹è¦†ç›–äº†æ‰€æœ‰æ•´ç†å™¨çš„95ï¼…ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å½“ç„¶ï¼Œæˆ‘ä»¬å°†æ— æ³•ä½¿æ‰€æœ‰å°ç»„éƒ½è¾¾åˆ°è¿™ä¸€æ ‡å‡†ã€‚</font><font style="vertical-align: inherit;">ä½†æˆ‘ä»¬ä¼šå¯»æ‰¾ä¸å®ƒä»¬ç›¸ä¼¼çš„ä¸œè¥¿ï¼Œå¹¶è‡³å°‘æä¾›ä¸€éƒ¨åˆ†ã€‚</font><font style="vertical-align: inherit;">é¦–å…ˆï¼Œæˆ‘ä»¬å°†å¤§å†™å­—æ¯åˆ é™¤ç©ºæ ¼ã€‚</font><font style="vertical-align: inherit;">å‘ç”Ÿäº†ä»€ä¹ˆï¼š</font><font style="vertical-align: inherit;">
å°†å®ƒä»¬è½¬æ¢ä¸ºæˆ‘ä»¬çš„æ ‡å‡†æ ¼å¼ã€‚</font></font><br>
<code>['F25-29F', 'F30-34F', 'F30-34-34', 'F35-39F', 'F40-44F', 'F45-49F', 'F50-54F', 'F55-59F', 'FAG:FPRO', 'FK30-34', 'FK35-39', 'FK40-44', 'FK45-49', 'FOPEN50-54', 'FOPEN60-64', 'MAG:MPRO', 'MK30-34', 'MK30-39', 'MK35-39', 'MK40-44', 'MK40-49', 'MK50-59', 'M40-44', 'MM85-89', 'MOPEN25-29', 'MOPEN30-34', 'MOPEN35-39', 'MOPEN40-44', 'MOPEN45-49', 'MOPEN50-54', 'MOPEN70-74', 'MPRO:', 'MPROM', 'M0-44"']<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">fix = { <span class="hljs-string">'F25-29F'</span>: <span class="hljs-string">'F25-29'</span>, <span class="hljs-string">'F30-34F'</span> : <span class="hljs-string">'F30-34'</span>, <span class="hljs-string">'F30-34-34'</span>: <span class="hljs-string">'F30-34'</span>, <span class="hljs-string">'F35-39F'</span>: <span class="hljs-string">'F35-39'</span>, <span class="hljs-string">'F40-44F'</span>: <span class="hljs-string">'F40-44'</span>, <span class="hljs-string">'F45-49F'</span>: <span class="hljs-string">'F45-49'</span>, <span class="hljs-string">'F50-54F'</span>: <span class="hljs-string">'F50-54'</span>, <span class="hljs-string">'F55-59F'</span>: <span class="hljs-string">'F55-59'</span>, <span class="hljs-string">'FAG:FPRO'</span>: <span class="hljs-string">'FPRO'</span>, <span class="hljs-string">'FK30-34'</span>: <span class="hljs-string">'F30-34'</span>,      <span class="hljs-string">'FK35-39'</span>: <span class="hljs-string">'F35-39'</span>, <span class="hljs-string">'FK40-44'</span>: <span class="hljs-string">'F40-44'</span>, <span class="hljs-string">'FK45-49'</span>: <span class="hljs-string">'F45-49'</span>, <span class="hljs-string">'FOPEN50-54'</span>: <span class="hljs-string">'F50-54'</span>, <span class="hljs-string">'FOPEN60-64'</span>: <span class="hljs-string">'F60-64'</span>, <span class="hljs-string">'MAG:MPRO'</span>: <span class="hljs-string">'MPRO'</span>, <span class="hljs-string">'MK30-34'</span>: <span class="hljs-string">'M30-34'</span>, <span class="hljs-string">'MK30-39'</span>: <span class="hljs-string">'M30-39'</span>, <span class="hljs-string">'MK35-39'</span>: <span class="hljs-string">'M35-39'</span>, <span class="hljs-string">'MK40-44'</span>: <span class="hljs-string">'M40-44'</span>, <span class="hljs-string">'MK40-49'</span>: <span class="hljs-string">'M40-49'</span>, <span class="hljs-string">'MK50-59'</span>: <span class="hljs-string">'M50-59'</span>, <span class="hljs-string">'M40-44'</span>: <span class="hljs-string">'M40-44'</span>, <span class="hljs-string">'MM85-89'</span>: <span class="hljs-string">'M85-89'</span>, <span class="hljs-string">'MOPEN25-29'</span>: <span class="hljs-string">'M25-29'</span>, <span class="hljs-string">'MOPEN30-34'</span>: <span class="hljs-string">'M30-34'</span>, <span class="hljs-string">'MOPEN35-39'</span>: <span class="hljs-string">'M35-39'</span>, <span class="hljs-string">'MOPEN40-44'</span>: <span class="hljs-string">'M40-44'</span>, <span class="hljs-string">'MOPEN45-49'</span>: <span class="hljs-string">'M45-49'</span>, <span class="hljs-string">'MOPEN50-54'</span>: <span class="hljs-string">'M50-54'</span>, <span class="hljs-string">'MOPEN70-74'</span>: <span class="hljs-string">'M70- 74'</span>, <span class="hljs-string">'MPRO:'</span> :<span class="hljs-string">'MPRO'</span>, <span class="hljs-string">'MPROM'</span>: <span class="hljs-string">'MPRO'</span>, <span class="hljs-string">'M0-44"'</span> : <span class="hljs-string">'M40-44'</span>}
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæˆ‘ä»¬å°†è½¬æ¢åº”ç”¨äºä¸»æ•°æ®å¸§</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä½†é¦–å…ˆå°†åŸå§‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»„</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å€¼ä¿å­˜</font><font style="vertical-align: inherit;">åˆ°æ–°çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»„åŸå§‹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'group raw'</span>] = ar[<span class="hljs-string">'group'</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»„</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—ä¸­ï¼Œ</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä»…ä¿ç•™ç¬¦åˆæˆ‘ä»¬æ ‡å‡†çš„é‚£äº›å€¼ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬å¯ä»¥æ¬£èµæˆ‘ä»¬çš„åŠªåŠ›ï¼š</font></font><br>
<br>
<pre><code class="python hljs">len(ar[(ar[<span class="hljs-string">'group'</span>] != ar[<span class="hljs-string">'group raw'</span>])&amp;(ar[<span class="hljs-string">'group'</span>]!=<span class="hljs-string">''</span>)])
</code></pre><br>
<code><b>Out:</b> 273<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ä¸€ç™¾äº”åä¸‡çš„æ°´å¹³ä¸Šåªæœ‰ä¸€ç‚¹ç‚¹ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ç›´åˆ°å°è¯•ï¼Œæ‚¨æ‰çŸ¥é“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€‰å®šçš„10å¦‚ä¸‹æ‰€ç¤ºï¼š</font><font style="vertical-align: inherit;">å°†æ•°æ®æ¡†è½¬æ¢å›</font><i><font style="vertical-align: inherit;">rd</font></i><font style="vertical-align: inherit;">å­—å…¸åï¼Œä¿å­˜æ–°ç‰ˆæœ¬çš„æ•°æ®æ¡†</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th><u>group</u></th>
<th>place in group</th>
<th>...</th>
<th>country raw</th>
<th><u>group raw</u></th>
</tr>
<tr>
<td>...</td>
<td>566</td>
<td>M</td>
<td>Vladimir Kozar</td>
<td>SVK</td>
<td><u>M40-44</u></td>
<td>8</td>
<td>...</td>
<td>SVK</td>
<td><u>MOpen 40-44</u></td>
</tr>
<tr>
<td>...</td>
<td>8</td>
<td>M</td>
<td>HANNES COOL</td>
<td>BEL</td>
<td><u>MPRO</u></td>
<td>11</td>
<td>...</td>
<td>BEL</td>
<td><u>MPRO M</u></td>
</tr>
<tr>
<td>...</td>
<td>445</td>
<td>F</td>
<td>Ileana Sodani</td>
<td>USA</td>
<td><u>F45-49</u></td>
<td>4</td>
<td>...</td>
<td>USA</td>
<td><u>F45-49 F</u></td>
</tr>
<tr>
<td>...</td>
<td>227</td>
<td>F</td>
<td>JARLINSKA Bozena</td>
<td>POL</td>
<td><u>F45-49</u></td>
<td>2</td>
<td>...</td>
<td>POL</td>
<td><u>FK45-49</u></td>
</tr>
<tr>
<td>...</td>
<td>440</td>
<td>F</td>
<td>Celine Orrigoni</td>
<td>FRA</td>
<td><u>F40-44</u></td>
<td>6</td>
<td>...</td>
<td>FRA</td>
<td><u>F40-44 F</u></td>
</tr>
<tr>
<td>...</td>
<td>325</td>
<td>M</td>
<td>Vladimir Eckert</td>
<td>SVK</td>
<td><u>M40-44</u></td>
<td>6</td>
<td>...</td>
<td>SVK</td>
<td><u>MOpen 40-44</u></td>
</tr>
<tr>
<td>...</td>
<td>139</td>
<td>F</td>
<td>ATRASZKIEWICZ Magda</td>
<td>POL</td>
<td><u>F40-44</u></td>
<td>2</td>
<td>...</td>
<td>POL</td>
<td><u>FK40-44</u></td>
</tr>
<tr>
<td>...</td>
<td>18</td>
<td>M</td>
<td>Marijn de Jonge</td>
<td>NLD</td>
<td><u>MPRO</u></td>
<td>18</td>
<td>...</td>
<td>NED</td>
<td><u>Mpro</u></td>
</tr>
<tr>
<td>...</td>
<td>574</td>
<td>M</td>
<td>Luca Andalo</td>
<td>ITA</td>
<td><u>M40-44</u></td>
<td>9</td>
<td>...</td>
<td>ITA</td>
<td><u>MOpen 40-44</u></td>
</tr>
<tr>
<td>...</td>
<td>67</td>
<td>M</td>
<td>URBANKIEWICZ Aleksandra</td>
<td>POL</td>
<td><u>M35-39</u></td>
<td>1</td>
<td>...</td>
<td>POL</td>
<td><u>MK35-39</u></td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">pkl.dump(rd, open(<span class="hljs-string">r'D:\tri\details3.pkl'</span>, <span class="hljs-string">'wb'</span>))</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œè®©æˆ‘ä»¬æ¥ç…§é¡¾åå­—ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬é€‰æ‹©æ€§åœ°æŸ¥çœ‹æ¥è‡ªä¸åŒç§æ—çš„100ä¸ªåå­—ï¼š</font></font><br>
<br>
<pre><code class="python hljs">list(ar[<span class="hljs-string">'name'</span>].sample(<span class="hljs-number">100</span>))
</code></pre><br>
<code><b>Out: </b>['Case, Christine', 'Van der westhuizen, Wouter', 'Grace, Scott', 'Sader, Markus', 'Schuller, Gunnar', 'Juul-Andersen, Jeppe', 'Nelson, Matthew', '  ', 'Westman, Pehr', 'Becker, Christoph', 'Bolton, Jarrad', 'Coto, Ricardo', 'Davies, Luke', 'Daniltchev, Alexandre', 'Escobar Labastida, Emmanuelle', 'Idzikowski, Jacek', 'Fairaislova Iveta', 'Fisher, Kulani', 'Didenko, Viktor', 'Osborne, Jane', 'Kadralinov, Zhalgas', 'Perkins, Chad', 'Caddell, Martha', 'Lynaire PARISH', 'Busing, Lynn', 'Nikitin, Evgeny', 'ANSON MONZON, ROBERTO', 'Kaub, Bernd', 'Bank, Morten', 'Kennedy, Ian', 'Kahl, Stephen', 'Vossough, Andreas', 'Gale, Karen', 'Mullally, Kristin', 'Alex FRASER', 'Dierkes, Manuela', 'Gillett, David', 'Green, Erica', 'Cunnew, Elliott', 'Sukk, Gaspar', 'Markina Veronika', 'Thomas KVARICS', 'Wu, Lewen', 'Van Enk, W.J.J', 'Escobar, Rosario', 'Healey, Pat', 'Scheef, Heike', 'Ancheta, Marlon', 'Heck, Andreas', 'Vargas Iii, Raul', 'Seferoglou, Maria', 'chris GUZMAN', 'Casey, Timothy', 'Olshanikov Konstantin', 'Rasmus Nerrand', 'Lehmann Bence', 'Amacker, Kirby', 'Parks, Chris', 'Tom, Troy', 'Karlsson, Ulf', 'Halfkann, Dorothee', 'Szabo, Gergely', 'Antipov Mikhail', 'Von Alvensleben, Alvo', 'Gruber, Peter', 'Leblanc, Jean-Philippe', 'Bouchard, Jean-Francois', 'Marchiotto MASSIMO', 'Green, Molly', 'Alder, Christoph', 'Morris, Huw', 'Deceur, Marc', 'Queenan, Derek', 'Krause, Carolin', 'Cockings, Antony', 'Ziehmer Chris', 'Stiene, John', 'Chmet Daniela', 'Chris RIORDAN', 'Wintle, Mel', ' ', 'GASPARINI CHRISTIAN', 'Westbrook, Christohper', 'Martens, Wim', 'Papson, Chris', 'Burdess, Shaun', 'Proctor, Shane', 'Cruzinha, Pedro', 'Hamard, Jacques', 'Petersen, Brett', 'Sahyoun, Sebastien', "O'Connell, Keith", 'Symoshenko, Zhan', 'Luternauer, Jan', 'Coronado, Basil', 'Smith, Alex', 'Dittberner, Felix', 'N?sman, Henrik', 'King, Malisa', 'PUHLMANN Andre']<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æƒ…å†µå¾ˆå¤æ‚ã€‚æ¡ç›®æœ‰å¤šç§é€‰æ‹©ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åå­—å§“æ°ï¼Œå§“æ°åå­—ï¼Œå§“æ°ï¼Œåå­—ï¼Œå§“æ°ï¼Œåå­—</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç­‰ã€‚å³ï¼Œä¸åŒçš„é¡ºåºï¼Œä¸åŒçš„å¯„å­˜å™¨ï¼Œåœ¨æŸäº›åœ°æ–¹æœ‰åˆ†éš”ç¬¦-é€—å·ã€‚è¥¿é‡Œå°”è¯­ä¹Ÿæœ‰è®¸å¤šåè®®ã€‚ä¹Ÿæ²¡æœ‰ç»Ÿä¸€æ€§ï¼Œå¹¶ä¸”å¯èƒ½ä¼šå‡ºç°ä»¥ä¸‹æ ¼å¼ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œå§“æ°åâ€ï¼Œâ€œåå­—å§“æ°â€ï¼Œâ€œåå­—ä¸­é—´åå§“æ°â€ï¼Œâ€œåå­—å§“æ°ä¸­é—´åâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚å°½ç®¡å®é™…ä¸Šï¼Œä¸­é—´åä¹Ÿå‡ºç°åœ¨æ‹‰ä¸è¯­æ‹¼å†™ä¸­ã€‚é¡ºä¾¿è¯´ä¸€å¥ï¼Œè¿™é‡Œå‡ºç°äº†å¦ä¸€ä¸ªé—®é¢˜-éŸ³è¯‘ã€‚è¿˜åº”æ³¨æ„ï¼Œå³ä½¿æ²¡æœ‰ä¸­é—´åï¼Œè®°å½•ä¹Ÿå¯èƒ½ä¸é™äºä¸¤ä¸ªå•è¯ã€‚ä¾‹å¦‚ï¼Œå¯¹äºè¥¿ç­ç‰™è£”ï¼Œå§“ååŠ å§“é€šå¸¸ç”±ä¸‰ä¸ªæˆ–å››ä¸ªè¯ç»„æˆã€‚è·å…°äººçš„å‰ç¼€æ˜¯Vanï¼Œä¸­å›½äººå’ŒéŸ©å›½äººçš„åˆ«åé€šå¸¸æ˜¯ä¸‰ä¸ªå•è¯ã€‚é€šå¸¸ï¼Œæ‚¨éœ€è¦ä»¥æŸç§æ–¹å¼æ¥è§£æ•£æ•´ä¸ªé‡ä¼ å¹¶å°†å…¶æ ‡å‡†åŒ–åˆ°æœ€å¤§ã€‚é€šå¸¸ï¼Œåœ¨ä¸€åœºæ¯”èµ›ä¸­ï¼Œæ¯ä¸ªäººçš„åç§°æ ¼å¼éƒ½ç›¸åŒï¼Œä½†æ˜¯å³ä½¿åœ¨è¿™é‡Œï¼Œä¹Ÿå­˜åœ¨æˆ‘ä»¬æ— æ³•å¤„ç†çš„é”™è¯¯ã€‚è®©æˆ‘ä»¬å¼€å§‹å°†ç°æœ‰å€¼å­˜å‚¨åœ¨æ–°çš„åˆ—</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°rawä¸­</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'name raw'</span>] = ar[<span class="hljs-string">'name'</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»å¤§å¤šæ•°åè®®ä½¿ç”¨æ‹‰ä¸è¯­ï¼Œæ‰€ä»¥æˆ‘æƒ³åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯éŸ³è¯‘ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬çœ‹çœ‹å‚ä¸è€…åç§°ä¸­å¯ä»¥åŒ…å«å“ªäº›å­—ç¬¦ã€‚</font></font><br>
<br>
<pre><code class="python hljs">set( <span class="hljs-string">''</span>.join(ar[<span class="hljs-string">'name'</span>].unique()))
</code></pre><br>
<code><b>Out: </b>[' ', '!', '"', '#', '&amp;', "'", '(', ')', '*', '+', ',', '-', '.', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '&gt;', '?', '@', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', '[', '\\', ']', '^', '_', '`', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z', '|', '\x7f', '\xa0', 'Â¤', 'Â¦', 'Â§', '', 'Â«', '\xad', '', 'Â°', 'Â±', 'Âµ', 'Â¶', 'Â·', 'Â»', '', 'Ğ†', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', '', 'Ñ”', 'Ñ–', 'Ñ', 'â€“', 'â€”', 'â€˜', 'â€™', 'â€š', 'â€œ', 'â€', 'â€', 'â€ ', 'â€¡', 'â€¦', 'â€°', 'â€º', '']<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é‚£é‡Œåªæœ‰ä»€ä¹ˆï¼</font><font style="vertical-align: inherit;">é™¤äº†å®é™…çš„å­—æ¯å’Œç©ºæ ¼å¤–ï¼Œè¿˜æœ‰è®¸å¤šä¸åŒçš„å¤æ€ªå­—ç¬¦ã€‚</font><font style="vertical-align: inherit;">å…¶ä¸­ï¼Œå¥ç‚¹â€œã€‚â€ï¼Œè¿å­—ç¬¦â€œ-â€å’Œæ’‡å·â€œ'â€å¯ä»¥è¢«è®¤ä¸ºæ˜¯æœ‰æ•ˆçš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ä¼šé”™è¯¯åœ°å‡ºç°ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤–ï¼Œè¿˜æ³¨æ„åˆ°åœ¨è®¸å¤šå¾·å›½å’ŒæŒªå¨åå­—å’Œå§“æ°ä¸­éƒ½æœ‰ä¸€ä¸ªé—®å·â€œï¼Ÿâ€ã€‚</font><font style="vertical-align: inherit;">æ˜¾ç„¶ï¼Œå®ƒä»¬æ­£åœ¨æ›¿æ¢æ‰©å±•æ‹‰ä¸å­—æ¯ä¸­çš„å­—ç¬¦-'ï¼Ÿ'ï¼Œ'A'ï¼Œ'o'ï¼Œ'u'ï¼Œï¼Ÿ</font><font style="vertical-align: inherit;">è¿™æ˜¯ç¤ºä¾‹ï¼š</font><font style="vertical-align: inherit;">
é€—å·è™½ç„¶ç»å¸¸å‘ç”Ÿï¼Œä½†åœ¨æŸäº›ç§æ—ä¸­åªæ˜¯ä¸€ä¸ªåˆ†éš”ç¬¦ï¼Œå› æ­¤å®ƒä¹Ÿå±äºä¸å¯æ¥å—çš„ç±»åˆ«ã€‚</font><font style="vertical-align: inherit;">æ•°å­—ä¹Ÿä¸åº”å‡ºç°åœ¨åç§°ä¸­ã€‚</font></font><br>
<code>Pierre-Alexandre Petit, Jean-louis Lafontaine, Faris Al-Sultan, Jean-Francois Evrard, Paul O'Mahony, Aidan O'Farrell, John O'Neill, Nick D'Alton, Ward D'Hulster, Hans P.J. Cami, Luis E. Benavides, Maximo Jr. Rueda, Prof. Dr. Tim-Nicolas Korf, Dr. Boris Scharlowsk, Eberhard Gro?mann, Magdalena Wei?, Gro?er Axel, Meyer-Szary Krystian, Morten Halkj?r, RASMUSSEN S?ren Balle<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">bs = [s <span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> symbols <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> (s.isalpha() <span class="hljs-keyword">or</span> s <span class="hljs-keyword">in</span> <span class="hljs-string">" . - ' ? ,"</span>)] <span class="hljs-comment">#bs â€“ bad symbols</span><font></font>
<font></font>
bs<font></font>
</code></pre><br>
<code><b>Out: </b>['!', '"', '#', '&amp;', '(', ')', '*', '+', '/', '0', '1', '2', '3', '4', '5', '6', '7', '8', '9', ':', ';', '&gt;', '@', '[', '\\', ']', '^', '_', '`', '|', '\x7f', '\xa0', 'Â¤', 'Â¦', 'Â§', '', 'Â«', '\xad', '', 'Â°', 'Â±', 'Â¶', 'Â·', 'Â»', 'â€“', 'â€”', 'â€˜', 'â€™', 'â€š', 'â€œ', 'â€', 'â€', 'â€ ', 'â€¡', 'â€¦', 'â€°', 'â€º', '']<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å°†æš‚æ—¶åˆ é™¤æ‰€æœ‰è¿™äº›å­—ç¬¦ï¼Œä»¥æ‰¾å‡ºå®ƒä»¬å­˜åœ¨å¤šå°‘ä¸ªæ¡ç›®ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> bs:<font></font>
    ar[<span class="hljs-string">'name'</span>] = ar[<span class="hljs-string">'name'</span>].str.replace(s, <span class="hljs-string">''</span>)<font></font>
<font></font>
corr = ar[ar[<span class="hljs-string">'name'</span>] != ar[<span class="hljs-string">'name raw'</span>]]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰2184æ¡è¿™æ ·çš„è®°å½•ï¼Œå³ä»…å æ€»æ•°çš„0.15ï¼…-å¾ˆå°‘ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å…¶ä¸­çš„100ä¸ªï¼š</font></font><br>
<br>
<pre><code class="python hljs">list(corr[<span class="hljs-string">'name raw'</span>].sample(<span class="hljs-number">100</span>))
</code></pre><br>
<code><b>Out:</b> ['SchaÂ¶ffl, Ga?nter', 'Howard, Brian &amp;', 'Chapiewski, Guilherme (Gc)', 'Derkach 1svd_mail_ru', 'Parker H1 Lauren', 'Leal le?n, Yaneri', 'TencA, David', 'Cortas La?pez, Alejandro', 'Strid, BjaÂ¶rn', '(Crutchfield) Horan, Katie', 'Vigneron, Jean-Michel.Vigneron@gmail.Com', '\xa0', 'Telahr, Jâ€ rgen', 'Stâ€rmer, Melanie', 'Nagai B1 Keiji', 'Rinc?n, Mariano', 'Arkalaki, Angela (Evangelia)', 'Barbaro B1 Bonin Anna G:Charlotte', 'Ra?esch, JaÂ¶rg', "CAVAZZI NICCOLO\\'", 'Dâ€nzel, Thomas', 'Ziska, Steffen (Gerhard)', 'Kobilica B1 Alen', 'Mittelholcz, Bala', 'Jimanez Aguilar, Juan Antonio', 'Achenza H1 Giovanni', 'Reppe H2 Christiane', 'Filipovic B2 Lazar', 'Machuca Ka?hnel, Ruban Alejandro', 'Gellert (Silberprinz), Christian', 'Smith (Guide), Matt', 'Lenatz H1 Benjamin', 'DaÂ¶llinger, Christian', 'Mc Carthy B1 Patrick Donnacha G:Bryan', 'FaÂ¶llmer, Chris', 'Warner (Rivera), Lisa', 'Wang, Ruijia (Ray)', 'Mc Carthy B1 Donnacha', 'Jones, Nige (Paddy)', 'Schâ€ler, Christoph', '\xa0', 'Holthaus, Adelhard (Allard)', 'Mi;Arro, Ana', 'Dr: Koch Stefan', '\xa0', '\xa0', 'Ziska, Steffen (Gerhard)', 'Albarraca\xadn Gonza?lez, Juan Francisco', 'HaÂ¶fling, Imke', 'Johnston, Eddie (Edwin)', 'Mulcahy, Bob (James)', 'Gottschalk, Bjâ€rn', '\xa0', 'Gretsch H2 Kendall', 'Scorse, Christopher (Chris)', 'Kielâ€šbasa, Pawel', 'Kalan, Magnus', 'Roderick "eric" SIMBULAN', 'Russell;, Mark', 'ROPES AND GRAY TEAM 3', 'Andrade, H?Â¦CTOR DANIEL', 'Landmann H2 Joshua', 'Reyes Rodra\xadguez, Aithami', 'Ziska, Steffen (Gerhard)', 'Ziska, Steffen (Gerhard)', 'Heuza, Pierre', 'Snyder B1 Riley Brad G:Colin', 'Feldmann, JaÂ¶rg', 'Beveridge H1 Nic', 'FAGES`, perrine', 'Frank", Dieter', 'SaaremaÂ¤el, Indrek', 'Betancort Morales, Aridaâ€“y', 'Ridderberg, Marie_Louise', '\xa0', 'KaÂ¶nig, Johannes', 'W Van(der Klugt', 'Ziska, Steffen (Gerhard)', 'Johnson, Nick26', 'Heinz JOHNER03', 'GaÂ¶rg, Andra', 'Maruo B2 Atsuko', 'Moral Pedrero H1 Eva Maria', '\xa0', 'MATUS SANTIAGO Osc1r', 'Stenbrink, BjaÂ¶rn', 'Wangkhan, Sm1.Thaworn', 'Pullerits, TaÂ¶nu', 'Clausner, 8588294149', 'Castro Miranda, Josa Ignacio', 'LaÂ¶fgren, Pontuz', 'Brown, Jann ( Janine )', 'Ziska, Steffen (Gerhard)', 'Koay, SaÂ¶ren', 'BaÂ¶hm, Heiko', 'Oleksiuk B2 Vita', 'G Van(de Grift', 'SchaÂ¶neborn, Guido', 'Mandez, A?lvaro', 'Garca\xada Fla?rez, Daniel']<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“æœï¼Œç»è¿‡å¤§é‡ç ”ç©¶ï¼Œå†³å®šï¼šç”¨é€—å·ï¼Œå¥ç‚¹å’Œ'\ xa0'ç¬¦å·å’Œç©ºæ ¼æ›¿æ¢æ‰€æœ‰å­—æ¯å­—ç¬¦ä»¥åŠç©ºæ ¼ï¼Œè¿å­—ç¬¦ï¼Œæ’‡å·å’Œé—®å·ï¼Œå¹¶ç”¨ç©ºå­—ç¬¦ä¸²æ›¿æ¢æ‰€æœ‰å…¶ä»–å­—ç¬¦ï¼Œå³åˆ é™¤å³å¯ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'name'</span>] = ar[<span class="hljs-string">'name raw'</span>]<font></font>
<font></font>
<span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> symbols:
    <span class="hljs-keyword">if</span> s.isalpha() <span class="hljs-keyword">or</span> s <span class="hljs-keyword">in</span> <span class="hljs-string">" - ? '"</span>:        
        <span class="hljs-keyword">continue</span>        
    <span class="hljs-keyword">if</span> s <span class="hljs-keyword">in</span> <span class="hljs-string">".,\xa0"</span>:<font></font>
        ar[<span class="hljs-string">'name'</span>] = ar[<span class="hljs-string">'name'</span>].str.replace(s, <span class="hljs-string">' '</span>)       
    <span class="hljs-keyword">else</span>:<font></font>
        ar[<span class="hljs-string">'name'</span>] = ar[<span class="hljs-string">'name'</span>].str.replace(s, <span class="hljs-string">''</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶åæ‘†è„±å¤šä½™çš„ç©ºé—´ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'name'</span>] = ar[<span class="hljs-string">'name'</span>].str.split().str.join(<span class="hljs-string">' '</span>)<font></font>
ar[<span class="hljs-string">'name'</span>] = ar[<span class="hljs-string">'name'</span>].str.strip() <span class="hljs-comment">#   </span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬çœ‹çœ‹å‘ç”Ÿä»€ä¹ˆäº†ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar.loc[corr.index].sample(<span class="hljs-number">10</span>)
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th><u>name</u></th>
<th>country</th>
<th>...</th>
<th><u>name raw</u></th>
</tr>
<tr>
<td>63</td>
<td>64</td>
<td>M</td>
<td><u>Curzillat B MARANO Annouck GJulie</u></td>
<td>FRA</td>
<td>...</td>
<td><u>Curzillat B1 MARANO Annouck G:Julie</u></td>
</tr>
<tr>
<td>425</td>
<td>426</td>
<td>M</td>
<td><u>Naranjo Quintero Cndido</u></td>
<td>ESP</td>
<td>...</td>
<td><u>Naranjo Quintero, Câ€¡ndido</u></td>
</tr>
<tr>
<td>1347</td>
<td>1348</td>
<td>F</td>
<td><u>Chang Margaret Peggy</u></td>
<td>USA</td>
<td>...</td>
<td><u>Chang, Margaret (Peggy)</u></td>
</tr>
<tr>
<td>790</td>
<td>791</td>
<td>M</td>
<td><u>Gonzalez Ruben</u></td>
<td>PRI</td>
<td>...</td>
<td><u>Gonzalez`, Ruben</u></td>
</tr>
<tr>
<td>1562</td>
<td>1563</td>
<td>M</td>
<td><u>Garcia Hernandez Elias</u></td>
<td>MEX</td>
<td>...</td>
<td><u>Garcia Hernandez/, Elias</u></td>
</tr>
<tr>
<td>50</td>
<td>51</td>
<td>M</td>
<td><u>Reppe H Christiane</u></td>
<td>DEU</td>
<td>...</td>
<td><u>Reppe H2 Christiane</u></td>
</tr>
<tr>
<td>528</td>
<td>529</td>
<td>M</td>
<td><u>Ho Shihken</u></td>
<td>TWN</td>
<td>...</td>
<td><u>Ho, Shihâ€”ken</u></td>
</tr>
<tr>
<td>819</td>
<td>820</td>
<td>M</td>
<td><u>Elmously A R Abdelrahman</u></td>
<td>EGY</td>
<td>...</td>
<td><u>Elmously, A.R. (Abdelrahman)</u></td>
</tr>
<tr>
<td>249</td>
<td>250</td>
<td>F</td>
<td><u>boyer Isabelle</u></td>
<td>THA</td>
<td>...</td>
<td><u>`boyer, Isabelle</u></td>
</tr>
<tr>
<td>744</td>
<td>745</td>
<td>M</td>
<td><u>Garcaa Morales Pedro Luciano</u></td>
<td>ESP</td>
<td>...</td>
<td><u>GarcaÂ¬a Morales, Pedro Luciano</u></td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¹Ÿæœ‰äººæŒ‡å‡ºï¼Œæœ‰äº›åå­—å®Œå…¨ç”±é—®å·ç»„æˆã€‚</font></font><br>
<br>
<pre><code class="python hljs">qmon = ar[(ar[<span class="hljs-string">'name'</span>].str.replace(<span class="hljs-string">'?'</span>, <span class="hljs-string">''</span>).str.strip() == <span class="hljs-string">''</span>)&amp;(ar[<span class="hljs-string">'name'</span>]!=<span class="hljs-string">''</span>)] <span class="hljs-comment">#qmon â€“ question mark only names</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®ƒä»¬å…±æœ‰3,429ä¸ªï¼Œçœ‹èµ·æ¥åƒè¿™æ ·ï¼š</font><font style="vertical-align: inherit;">æˆ‘ä»¬ä½¿åç§°è¾¾åˆ°ç›¸åŒæ ‡å‡†çš„ç›®æ ‡æ˜¯ä½¿ç›¸åŒçš„åç§°çœ‹èµ·æ¥ç›¸åŒï¼Œä½†ä»¥ä¸åŒçš„æ–¹å¼ä¸åŒã€‚</font><font style="vertical-align: inherit;">åœ¨åç§°ä»…ç”±é—®å·ç»„æˆçš„æƒ…å†µä¸‹ï¼Œå®ƒä»¬ä»…åœ¨å­—ç¬¦æ•°ä¸Šæœ‰æ‰€ä¸åŒï¼Œä½†è¿™å¹¶ä¸èƒ½å®Œå…¨ç¡®ä¿å…·æœ‰ç›¸åŒæ•°å­—çš„åç§°å®é™…ä¸Šæ˜¯ç›¸åŒçš„ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œæˆ‘ä»¬å°†å®ƒä»¬å…¨éƒ¨æ›¿æ¢ä¸ºç©ºå­—ç¬¦ä¸²ï¼Œä»¥åå°†ä¸å†è€ƒè™‘ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th><u>name</u></th>
<th>country</th>
<th>group</th>
<th>place in group</th>
<th>...</th>
<th>country raw</th>
<th>group raw</th>
<th><u>name raw</u></th>
</tr>
<tr>
<td>818</td>
<td>819</td>
<td>M</td>
<td><u>???? ???</u></td>
<td>JPN</td>
<td>M45-49</td>
<td>177</td>
<td>...</td>
<td>JPN</td>
<td>M45-49</td>
<td><u>????, ???</u></td>
</tr>
<tr>
<td>1101</td>
<td>1102</td>
<td>M</td>
<td><u>?? ??</u></td>
<td>JPN</td>
<td>M50-54</td>
<td>159</td>
<td>...</td>
<td>JPN</td>
<td>M50-54</td>
<td><u>??, ??</u></td>
</tr>
<tr>
<td>162</td>
<td>163</td>
<td>M</td>
<td><u>? ??</u></td>
<td>CHN</td>
<td>M30-34</td>
<td>22</td>
<td>...</td>
<td>CHN</td>
<td>M30-34</td>
<td><u>?, ??</u></td>
</tr>
<tr>
<td>1271</td>
<td>1272</td>
<td>F</td>
<td><u>???? ????</u></td>
<td>JPN</td>
<td>F50-54</td>
<td>15</td>
<td>...</td>
<td>JPN</td>
<td>F50-54</td>
<td><u>????, ????</u></td>
</tr>
<tr>
<td>552</td>
<td>553</td>
<td>M</td>
<td><u>??? ??</u></td>
<td>JPN</td>
<td>M25-29</td>
<td>30</td>
<td>...</td>
<td>JPN</td>
<td>M25-29</td>
<td><u>???, ??</u></td>
</tr>
<tr>
<td>423</td>
<td>424</td>
<td>M</td>
<td><u>??? ????</u></td>
<td>JPN</td>
<td>M55-59</td>
<td>24</td>
<td>...</td>
<td>JPN</td>
<td>M55-59</td>
<td><u>???, ????</u></td>
</tr>
<tr>
<td>936</td>
<td>937</td>
<td>F</td>
<td><u>?? ??</u></td>
<td>JPN</td>
<td>F50-54</td>
<td>7</td>
<td>...</td>
<td>JPN</td>
<td>F50-54</td>
<td><u>??, ??</u></td>
</tr>
<tr>
<td>244</td>
<td>245</td>
<td>M</td>
<td><u>? ??</u></td>
<td>KOR</td>
<td>M50-54</td>
<td>30</td>
<td>...</td>
<td>KOR</td>
<td>M50-54</td>
<td><u>?, ??</u></td>
</tr>
<tr>
<td>627</td>
<td>628</td>
<td>M</td>
<td><u>? ?</u></td>
<td>CHN</td>
<td>M40-44</td>
<td>94</td>
<td>...</td>
<td>CHN</td>
<td>M40-44</td>
<td><u>?, ?</u></td>
</tr>
<tr>
<td>194</td>
<td>195</td>
<td>M</td>
<td><u>?????? ?????</u></td>
<td>RUS</td>
<td></td>
<td>188</td>
<td>...</td>
<td>RUS</td>
<td>M</td>
<td><u>?????? ?????</u></td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">ar.loc[qmon.index, <span class="hljs-string">'name'</span>] = <span class="hljs-string">''</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åç§°ä¸ºç©ºå­—ç¬¦ä¸²çš„æ¡ç›®æ€»æ•°ä¸º3454ã€‚ä¸æ˜¯å¾ˆå¤šï¼Œæˆ‘ä»¬å°†ç”Ÿå­˜ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨æˆ‘ä»¬å·²ç»æ‘†è„±äº†ä¸å¿…è¦çš„å­—ç¬¦ï¼Œæˆ‘ä»¬å¯ä»¥ç»§ç»­éŸ³è¯‘ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œè¯·é¦–å…ˆå°†æ‰€æœ‰å†…å®¹éƒ½è½¬æ¢ä¸ºå°å†™ï¼Œä»¥å…é‡å¤å·¥ä½œã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'name'</span>] = ar[<span class="hljs-string">'name'</span>].str.lower()
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œåˆ›å»ºä¸€ä¸ªå­—å…¸ï¼š</font></font><br>
<br>
<pre><code class="python hljs">trans = {<span class="hljs-string">''</span>:<span class="hljs-string">'a'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'b'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'v'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'g'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'d'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'e'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'e'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'zh'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'z'</span>,  <span class="hljs-string">''</span>:<span class="hljs-string">'i'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'y'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'k'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'l'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'m'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'n'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'o'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'p'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'r'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'s'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'t'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'u'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'f'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'kh'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'ts'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'ch'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'sh'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'shch'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">''</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'y'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">''</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'e'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'yu'</span>, <span class="hljs-string">''</span>:<span class="hljs-string">'ya'</span>, <span class="hljs-string">'Ñ”'</span>:<span class="hljs-string">'e'</span>, <span class="hljs-string">'Ñ–'</span>: <span class="hljs-string">'i'</span>,<span class="hljs-string">'Ñ'</span>:<span class="hljs-string">'w'</span>,<span class="hljs-string">'Âµ'</span>:<span class="hljs-string">'m'</span>}
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®ƒè¿˜åŒ…æ‹¬</font><font style="vertical-align: inherit;">ç™½ä¿„ç½—æ–¯è¯­å’Œä¹Œå…‹å…°è¯­ä¸­ä½¿ç”¨</font><font style="vertical-align: inherit;">çš„æ‰€è°“çš„è¥¿é‡Œå°”å­—æ¯æ‰©å±•å­—æ¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œÑ”â€ï¼Œâ€œÑ–â€ï¼Œâ€œÑâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä»¥åŠå¸Œè…Šå­—æ¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ Âµâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">åº”ç”¨è½¬æ¢ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> s <span class="hljs-keyword">in</span> trans:<font></font>
    ar[<span class="hljs-string">'name'</span>] = ar[<span class="hljs-string">'name'</span>].str.replace(s, trans[s])
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œä»å·¥ä½œçš„å°å†™å­—æ¯å¼€å§‹ï¼Œæˆ‘ä»¬å°†æ‰€æœ‰å†…å®¹è½¬æ¢ä¸ºç†Ÿæ‚‰çš„æ ¼å¼ï¼Œå…¶ä¸­åå­—å’Œå§“æ°ä»¥å¤§å†™å­—æ¯å¼€å¤´ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'name'</span>] = ar[<span class="hljs-string">'name'</span>].str.title()
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬çœ‹çœ‹å‘ç”Ÿä»€ä¹ˆäº†ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[ar[<span class="hljs-string">'name raw'</span>].str.lower().str[<span class="hljs-number">0</span>].isin(trans.keys())].sample(<span class="hljs-number">10</span>)
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th><u>name</u></th>
<th>...</th>
<th>country raw</th>
<th>name raw</th>
</tr>
<tr>
<td>99</td>
<td>100</td>
<td>M</td>
<td><u>Nikolay Golovkin</u></td>
<td>...</td>
<td>RUS</td>
<td> </td>
</tr>
<tr>
<td>95</td>
<td>96</td>
<td>M</td>
<td><u>Maksim Vasilevich Chubakov</u></td>
<td>...</td>
<td>RUS</td>
<td>  </td>
</tr>
<tr>
<td>325</td>
<td>326</td>
<td>F</td>
<td><u>Ganieva Aygul</u></td>
<td>...</td>
<td>RUS</td>
<td> </td>
</tr>
<tr>
<td>661</td>
<td>662</td>
<td>M</td>
<td><u>Maksut Nizamutdinov</u></td>
<td>...</td>
<td>RUS</td>
<td> </td>
</tr>
<tr>
<td>356</td>
<td>357</td>
<td>F</td>
<td><u>Kolobanova Svetlana</u></td>
<td>...</td>
<td>RUS</td>
<td> </td>
</tr>
<tr>
<td>117</td>
<td>118</td>
<td>M</td>
<td><u>Guskov Vladislav</u></td>
<td>...</td>
<td>RUS</td>
<td> </td>
</tr>
<tr>
<td>351</td>
<td>352</td>
<td>M</td>
<td><u>Kolesnikov Dmitriy</u></td>
<td>...</td>
<td>RUS</td>
<td> </td>
</tr>
<tr>
<td>92</td>
<td>93</td>
<td>M</td>
<td><u>Kuznetsov Oleg</u></td>
<td>...</td>
<td>RUS</td>
<td> </td>
</tr>
<tr>
<td>50</td>
<td>51</td>
<td>M</td>
<td><u>Khoraykin Maksim</u></td>
<td>...</td>
<td>RUS</td>
<td> </td>
</tr>
<tr>
<td>6</td>
<td>7</td>
<td>M</td>
<td><u>Brylev Aleksey</u></td>
<td>...</td>
<td>RUS</td>
<td> </td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€åï¼Œæ£€æŸ¥å”¯ä¸€å­—ç¬¦ï¼š</font></font><br>
<br>
<pre><code class="python hljs">set( <span class="hljs-string">''</span>.join(ar[<span class="hljs-string">'name'</span>].unique()))
</code></pre><br>
<code><b>Out:</b> [' ', "'", '-', '?', 'A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J','K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z', 'a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j', 'k', 'l', 'm', 'n', 'o', 'p', 'q', 'r', 's', 't', 'u', 'v', 'w', 'x', 'y', 'z']<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€åˆ‡æ­£ç¡®ã€‚</font><font style="vertical-align: inherit;">ç»“æœï¼Œæ›´æ­£å½±å“äº†1,253,882ï¼Œå è®°å½•æ€»æ•°çš„89ï¼…ï¼Œå”¯ä¸€åç§°çš„æ•°é‡ä»660,207å‡å°‘è‡³599,186ï¼Œå³å‡å°‘äº†61,000æˆ–å‡ ä¹10ï¼…ã€‚</font><font style="vertical-align: inherit;">å“‡ï¼</font><font style="vertical-align: inherit;">å°†arè®°å½•çš„å¹¶é›†è½¬æ¢å›</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rd</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åè®®å­—å…¸åï¼Œä¿å­˜åˆ°æ–°æ–‡ä»¶</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="python hljs">pkl.dump(rd, open(<span class="hljs-string">r'D:\tri\details4.pkl'</span>, <span class="hljs-string">'wb'</span>))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬éœ€è¦æ¢å¤é¡ºåºã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œæ‰€æœ‰è®°å½•çœ‹èµ·æ¥éƒ½å°†æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-First Name Last Name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ–</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Last Name First Name</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚è¦ç¡®å®šå“ªä¸€ä¸ªã€‚æ˜¯çš„ï¼Œé™¤äº†åç§°å’Œå§“æ°ä¹‹å¤–ï¼ŒæŸäº›åè®®è¿˜åŒ…å«ä¸­é—´åã€‚å¯èƒ½å‘ç”Ÿçš„æ˜¯ï¼ŒåŒä¸€ä¸ªäººåœ¨ä¸åŒåè®®ä¸­çš„ä¹¦å†™æ–¹å¼æœ‰æ‰€ä¸åŒ-æŸä¸ªä¸­é—´åçš„åœ°æ–¹ï¼Œè€Œå¦ä¸€ä¸ªä¸­é—´åã€‚è¿™ä¼šå¹²æ‰°ä»–çš„èº«ä»½ï¼Œå› æ­¤è¯·å°è¯•åˆ é™¤ä¸­é—´åã€‚ç”·æ€§çš„</font><i><font style="vertical-align: inherit;">å§“æ°</font></i><font style="vertical-align: inherit;">é€šå¸¸ä»¥</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ hivâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»“å°¾</font><font style="vertical-align: inherit;">ï¼Œå¥³æ€§çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å§“æ°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é€šå¸¸ä»¥</font><i><font style="vertical-align: inherit;">â€œ vnaâ€ç»“å°¾</font></i><font style="vertical-align: inherit;">ã€‚ä½†æ˜¯ä¹Ÿæœ‰ä¾‹å¤–ã€‚ä¾‹å¦‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-Ilyichï¼ŒIlyinichnaï¼ŒNikitichï¼ŒNikitichna</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚æ˜¯çš„ï¼Œå¾ˆå°‘æœ‰è¿™æ ·çš„ä¾‹å¤–ã€‚å¦‚å‰æ‰€è¿°ï¼Œå¯ä»¥å°†ä¸€ç§åè®®ä¸­çš„åç§°æ ¼å¼è§†ä¸ºæ°¸ä¹…æ€§çš„ã€‚å› æ­¤ï¼Œè¦æ‘†è„±èµåŠ©äººï¼Œæ‚¨éœ€è¦æ‰¾åˆ°ä»–ä»¬æ‰€å¤„çš„ç§æ—ã€‚ä¸ºæ­¤ï¼Œè¯·</font><font style="vertical-align: inherit;">åœ¨åˆ—</font><i><font style="vertical-align: inherit;">åç§°ä¸­</font></i><font style="vertical-align: inherit;">æ‰¾åˆ°ç‰‡æ®µ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ vichâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ vnaâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„æ€»æ•°</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹¶å°†å®ƒä»¬ä¸æ¯ä¸ªåè®®ä¸­çš„æ¡ç›®æ€»æ•°è¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœè¿™äº›æ•°å­—æ¥è¿‘ï¼Œåˆ™æœ‰ä¸€ä¸ªä¸­é—´åï¼Œå¦åˆ™å°±æ²¡æœ‰ã€‚å¯»æ±‚ä¸¥æ ¼çš„åˆè§„æ˜¯ä¸åˆç†çš„ï¼Œä¾‹å¦‚ï¼Œå³ä½¿åœ¨è®°å½•ä¸­é—´åçš„æ¯”èµ›ä¸­ï¼Œå¤–å›½äººä¹Ÿå¯ä»¥å‚åŠ ï¼Œå¹¶ä¸”æ²¡æœ‰ä»–çš„æƒ…å†µä¸‹ï¼Œä»–ä»¬ä¹Ÿä¼šè¢«è®°å½•ä¸‹æ¥ã€‚ä¹Ÿæœ‰å¯èƒ½å‚ä¸è€…å¿˜è®°äº†æˆ–ä¸æƒ³æŒ‡å‡ºä»–çš„ä¸­é—´åã€‚å¦ä¸€æ–¹é¢ï¼Œä¹Ÿæœ‰ä»¥``vich''ç»“å°¾çš„å§“æ°ï¼Œåœ¨ç™½ä¿„ç½—æ–¯å’Œå…¶ä»–å›½å®¶ä¸­æœ‰è®¸å¤šå§“æ°ä¸ºæ–¯æ‹‰å¤«è¯­çš„å§“æ°ã€‚æ­¤å¤–ï¼Œæˆ‘ä»¬è¿›è¡Œäº†éŸ³è¯‘ã€‚å¯ä»¥åœ¨éŸ³è¯‘ä¹‹å‰è¿›è¡Œæ­¤åˆ†æï¼Œä½†éšåæœ‰æœºä¼šé”™è¿‡å…¶ä¸­æœ‰ä¸­é—´åçš„åè®®ï¼Œä½†æœ€åˆå®ƒå·²ç»æ˜¯æ‹‰ä¸æ–‡äº†ã€‚æ‰€ä»¥ä¸€åˆ‡éƒ½å¾ˆå¥½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬å°†</font><font style="vertical-align: inherit;">åœ¨è¯¥åˆ—ä¸­</font><font style="vertical-align: inherit;">æŸ¥æ‰¾æ‰€æœ‰ç‰‡æ®µæ•°é‡ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ vichâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ vnaâ€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„åè®®</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¶…è¿‡åè®®ä¸­æ¡ç›®æ€»æ•°çš„50ï¼…ã€‚</font></font><br>
<br>
<pre><code class="python hljs">wp = {} <span class="hljs-comment">#wp â€“ with patronymic </span><font></font>
<font></font>
<span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> rd:<font></font>
    nvich = (<span class="hljs-string">''</span>.join(rd[e][<span class="hljs-string">'name'</span>])).count(<span class="hljs-string">'vich'</span>) <font></font>
    nvna = (<span class="hljs-string">''</span>.join(rd[e][<span class="hljs-string">'name'</span>])).count(<span class="hljs-string">'vna'</span>)
    <span class="hljs-keyword">if</span> nvich + nvna &gt; <span class="hljs-number">0.5</span>*len(rd[e]):<font></font>
        wp[e] = rd[e]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰29ç§è¿™æ ·çš„åè®®ã€‚</font><font style="vertical-align: inherit;">æœ‰è¶£çš„æ˜¯ï¼Œå¦‚æœä¸æ˜¯50ï¼…è€Œæ˜¯20ï¼…ï¼Œåä¹‹åˆ™æ˜¯70ï¼…ï¼Œç»“æœä¸å˜ï¼Œå› æ­¤29ç§åè®®ä¸å˜ã€‚å› æ­¤ï¼Œæˆ‘ä»¬åšå‡ºäº†æ­£ç¡®çš„é€‰æ‹©ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œå°‘äº20ï¼…-å§“æ°çš„å½±å“ï¼Œè¶…è¿‡70ï¼…-æ²¡æœ‰ä¸­é—´åçš„ä¸ªäººè®°å½•çš„å½±å“ã€‚</font><font style="vertical-align: inherit;">å€ŸåŠ©æ•°æ®é€è§†è¡¨æ£€æŸ¥äº†è¯¥å›½ï¼Œç»“æœå‘ç°å…¶ä¸­æœ‰25ä¸ªåœ¨ä¿„ç½—æ–¯ï¼Œæœ‰4ä¸ªåœ¨é˜¿å¸ƒå“ˆå…¹ã€‚</font><font style="vertical-align: inherit;">
ç»§ç»­ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†åªå¤„ç†åŒ…å«ä¸‰ä¸ªéƒ¨åˆ†çš„è®°å½•ï¼Œå³é‚£äº›ï¼ˆå¤§æ¦‚ï¼‰æœ‰å§“ï¼Œåï¼Œä¸­é—´åçš„éƒ¨åˆ†ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th>...</th>
<th>name raw</th>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>M</td>
<td>Yaroslav <u>Stanislavovich</u> Pavlishchev</td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>M</td>
<td>Vladimir <u>Vasilevich</u> Perezhigin</td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>M</td>
<td>Vladislav <u>Evgenevich</u> Litvinchuk</td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>M</td>
<td>Sergey <u>Gennadevich</u> Gavrilenko</td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>4</td>
<td>5</td>
<td>M</td>
<td>Ivan <u>Markovich</u> Markin</td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>5</td>
<td>6</td>
<td>M</td>
<td>Nikolay <u>Evgenevich</u> Sokolov</td>
<td>RUS</td>
<td>...</td>
<td>Nikolay Evgenevich Sokolov</td>
</tr>
<tr>
<td>6</td>
<td>7</td>
<td>M</td>
<td>Aram <u>Pavlovich</u> Kukhtiev</td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>7</td>
<td>8</td>
<td>M</td>
<td>Andrey <u>Anatolevich</u> Andreev</td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>8</td>
<td>9</td>
<td>M</td>
<td>Denis <u>Valerevich</u> Bulgakov</td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>9</td>
<td>10</td>
<td>M</td>
<td>Aleksandr <u>Ivanovich</u> Kuts</td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">sum_n3w = <span class="hljs-number">0</span> <span class="hljs-comment"># sum name of 3 words</span>
sum_nnot3w = <span class="hljs-number">0</span> <span class="hljs-comment"># sum name not of 3 words</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> wp: <font></font>
    sum_n3w += len([n <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> wp[e][<span class="hljs-string">'name'</span>] <span class="hljs-keyword">if</span> len(n.split()) == <span class="hljs-number">3</span>])<font></font>
    sum_nnot3w += len(wp[e]) - n3w<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤ç±»è®°å½•çš„å¤§å¤šæ•°ä¸º86ï¼…ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œå°†ä¸‰ä¸ªç»„æˆéƒ¨åˆ†åˆ’åˆ†ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">name0ï¼Œname1ï¼Œname2çš„</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> wp:<font></font>
    ind3 = [i <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> rd[e].index <span class="hljs-keyword">if</span> len(rd[e].loc[i,<span class="hljs-string">'name'</span>].split()) == <span class="hljs-number">3</span>]<font></font>
    rd[e][<span class="hljs-string">'name0'</span>] = <span class="hljs-string">''</span>
    rd[e][<span class="hljs-string">'name1'</span>] = <span class="hljs-string">''</span>
    rd[e][<span class="hljs-string">'name2'</span>] = <span class="hljs-string">''</span>
    rd[e].loc[ind3, <span class="hljs-string">'name0'</span>] = rd[e].loc[ind3,<span class="hljs-string">'name'</span>].str.split().str[<span class="hljs-number">0</span>]<font></font>
    rd[e].loc[ind3, <span class="hljs-string">'name1'</span>] = rd[e].loc[ind3,<span class="hljs-string">'name'</span>].str.split().str[<span class="hljs-number">1</span>]<font></font>
    rd[e].loc[ind3, <span class="hljs-string">'name2'</span>] = rd[e].loc[ind3,<span class="hljs-string">'name'</span>].str.split().str[<span class="hljs-number">2</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯å…¶ä¸­ä¸€ç§åè®®çš„æ ·å­ï¼š</font><font style="vertical-align: inherit;">ç‰¹åˆ«æ˜¯ï¼Œå¾ˆæ˜æ˜¾ï¼Œè¿™ä¸¤ä¸ªç»„ä»¶çš„è®°å½•å°šæœªå¤„ç†ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œå¯¹äºæ¯ç§åè®®ï¼Œæ‚¨éœ€è¦ç¡®å®šå“ªä¸€åˆ—å…·æœ‰ä¸­é—´åç§°ã€‚</font><font style="vertical-align: inherit;">åªæœ‰ä¸¤ä¸ª</font><i><font style="vertical-align: inherit;">é€‰é¡¹-name1ï¼Œname2</font></i><font style="vertical-align: inherit;">ï¼Œå› ä¸ºå®ƒä¸èƒ½æ”¾åœ¨ç¬¬ä¸€ä½ã€‚</font><font style="vertical-align: inherit;">ç¡®å®šåï¼Œæˆ‘ä»¬å°†æ”¶é›†ä¸€ä¸ªæ²¡æœ‰è¯¥åç§°çš„æ–°åç§°ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>name</th>
<th><u>name0</u></th>
<th><u>name1</u></th>
<th><u>name2</u></th>
<th>...</th>
<th>name raw</th>
</tr>
<tr>
<td>0</td>
<td>Lekomtsev Denis Nikolaevich</td>
<td><u>Lekomtsev</u></td>
<td><u>Denis</u></td>
<td><u>Nikolaevich</u></td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>1</td>
<td>Ivanov Andrey Aleksandrovich</td>
<td><u>Ivanov</u></td>
<td><u>Andrey</u></td>
<td><u>Aleksandrovich</u></td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>2</td>
<td>Ivanov Evgeniy Vasilevich</td>
<td><u>Ivanov</u></td>
<td><u>Evgeniy</u></td>
<td><u>Vasilevich</u></td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>3</td>
<td>Setepov Vladislav</td>
<td></td>
<td></td>
<td></td>
<td>...</td>
<td> </td>
</tr>
<tr>
<td>4</td>
<td>Mishanin Sergey Yurevich</td>
<td><u>Mishanin</u></td>
<td><u>Sergey</u></td>
<td><u>Yurevich</u></td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>5</td>
<td>Baranov Andrey Aleksandrovich</td>
<td><u>Baranov</u></td>
<td><u>Andrey</u></td>
<td><u>Aleksandrovich</u></td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>6</td>
<td>Nakaryakov Dmitriy Valerevich</td>
<td><u>Nakaryakov</u></td>
<td><u>Dmitriy</u></td>
<td><u>Valerevich</u></td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>7</td>
<td>Tretyakov Dmitriy Valentinovich</td>
<td><u>Tretyakov</u></td>
<td><u>Dmitriy</u></td>
<td><u>Valentinovich</u></td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>8</td>
<td>Kuznetsov Stanislav Vladimirovich</td>
<td><u>Kuznetsov</u></td>
<td><u>Stanislav</u></td>
<td><u>Vladimirovich</u></td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>9</td>
<td>Dubrovin Maksim Sergeevich</td>
<td><u>Dubrovin</u></td>
<td><u>Maksim</u></td>
<td><u>Sergeevich</u></td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>10</td>
<td>Karpov Anatoliy Sergeevich</td>
<td><u>Karpov</u></td>
<td><u>Anatoliy</u></td>
<td><u>Sergeevich</u></td>
<td>...</td>
<td>  </td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> wp:    <font></font>
    n1=(<span class="hljs-string">''</span>.join(rd[e][<span class="hljs-string">'name1'</span>])).count(<span class="hljs-string">'vich'</span>)+(<span class="hljs-string">''</span>.join(rd[e][<span class="hljs-string">'name1'</span>])).count(<span class="hljs-string">'vna'</span>)<font></font>
    n2=(<span class="hljs-string">''</span>.join(rd[e][<span class="hljs-string">'name2'</span>])).count(<span class="hljs-string">'vich'</span>)+(<span class="hljs-string">''</span>.join(rd[e][<span class="hljs-string">'name2'</span>])).count(<span class="hljs-string">'vna'</span>)<font></font>
<font></font>
    <span class="hljs-keyword">if</span> (n1 &gt; n2):<font></font>
        rd[e][<span class="hljs-string">'new name'</span>] = rd[e][<span class="hljs-string">'name0'</span>] + <span class="hljs-string">' '</span> + rd[e][<span class="hljs-string">'name2'</span>]
    <span class="hljs-keyword">else</span>:<font></font>
        rd[e][<span class="hljs-string">'new name'</span>] = rd[e][<span class="hljs-string">'name0'</span>] + <span class="hljs-string">' '</span> + rd[e][<span class="hljs-string">'name1'</span>]
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>name</th>
<th>name0</th>
<th>name1</th>
<th>name2</th>
<th><u>new name</u></th>
<th>name raw</th>
</tr>
<tr>
<td>0</td>
<td>Gorik Pavel Vladimirovich</td>
<td>Gorik</td>
<td>Pavel</td>
<td>Vladimirovich</td>
<td><u>Gorik Pavel</u></td>
<td>  </td>
</tr>
<tr>
<td>1</td>
<td>Korobov Oleg Anatolevich</td>
<td>Korobov</td>
<td>Oleg</td>
<td>Anatolevich</td>
<td><u>Korobov Oleg</u></td>
<td>  </td>
</tr>
<tr>
<td>2</td>
<td>Pavlishchev Yaroslav Stanislavovich</td>
<td>Pavlishchev</td>
<td>Yaroslav</td>
<td>Stanislavovich</td>
<td><u>Pavlishchev Yaroslav</u></td>
<td>  </td>
</tr>
<tr>
<td>3</td>
<td>Fedorov Nikolay Nikolaevich</td>
<td>Fedorov</td>
<td>Nikolay</td>
<td>Nikolaevich</td>
<td><u>Fedorov Nikolay</u></td>
<td>  </td>
</tr>
<tr>
<td>4</td>
<td>Medvedev Andrey Aleksandrovich</td>
<td>Medvedev</td>
<td>Andrey</td>
<td>Aleksandrovich</td>
<td><u>Medvedev Andrey</u></td>
<td>  </td>
</tr>
<tr>
<td>5</td>
<td>Popov Sergey Eduardovich</td>
<td>Popov</td>
<td>Sergey</td>
<td>Eduardovich</td>
<td><u>Popov Sergey</u></td>
<td>  </td>
</tr>
<tr>
<td>6</td>
<td>Dumchev Andrey Viktorovich</td>
<td>Dumchev</td>
<td>Andrey</td>
<td>Viktorovich</td>
<td><u>Dumchev Andrey</u></td>
<td>  </td>
</tr>
<tr>
<td>7</td>
<td>Trusov Mikhail Vladimirovich</td>
<td>Trusov</td>
<td>Mikhail</td>
<td>Vladimirovich</td>
<td><u>Trusov Mikhail</u></td>
<td>  </td>
</tr>
<tr>
<td>8</td>
<td>Demichev Yuriy Anatolevich</td>
<td>Demichev</td>
<td>Yuriy</td>
<td>Anatolevich</td>
<td><u>Demichev Yuriy</u></td>
<td>  </td>
</tr>
<tr>
<td>9</td>
<td>Pushkin Boris Sergeevich</td>
<td>Pushkin</td>
<td>Boris</td>
<td>Sergeevich</td>
<td><u>Pushkin Boris</u></td>
<td>  </td>
</tr>
<tr>
<td>10</td>
<td>Lando Aleksandr Borisovich</td>
<td>Lando</td>
<td>Aleksandr</td>
<td>Borisovich</td>
<td><u>Lando Aleksandr</u></td>
<td>  </td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç°åœ¨ï¼Œå°å¿ƒåœ°å°†æ–°åç§°åˆ†é…ç»™ä¸»åˆ—</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆä¸ä¸ºç©ºï¼‰ï¼Œç„¶ååˆ é™¤è¾…åŠ©åˆ—ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> wp:<font></font>
    ind = rd[e][rd[e][<span class="hljs-string">'new name'</span>].str.strip() != <span class="hljs-string">''</span>].index<font></font>
    rd[e].loc[ind, <span class="hljs-string">'name'</span>] = rd[e].loc[ind, <span class="hljs-string">'new name'</span>]<font></font>
    rd[e] = rd[e].drop(columns = [<span class="hljs-string">'name0'</span>,<span class="hljs-string">'name1'</span>,<span class="hljs-string">'name2'</span>,<span class="hljs-string">'new name'</span>])
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th><u>name</u></th>
<th>country</th>
<th>...</th>
<th>name raw</th>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>M</td>
<td><u>Yaroslav Pavlishchev</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>M</td>
<td><u>Vladimir Perezhigin</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>M</td>
<td><u>Vladislav Litvinchuk</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>M</td>
<td><u>Sergey Gavrilenko</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>4</td>
<td>5</td>
<td>M</td>
<td><u>Ivan Markin</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>5</td>
<td>6</td>
<td>M</td>
<td><u>Nikolay Sokolov</u></td>
<td>RUS</td>
<td>...</td>
<td>Nikolay Evgenevich Sokolov</td>
</tr>
<tr>
<td>6</td>
<td>7</td>
<td>M</td>
<td><u>Aram Kukhtiev</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>7</td>
<td>8</td>
<td>M</td>
<td><u>Andrey Andreev</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>8</td>
<td>9</td>
<td>M</td>
<td><u>Denis Bulgakov</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>9</td>
<td>10</td>
<td>M</td>
<td><u>Aleksandr Kuts</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
<tr>
<td>10</td>
<td>11</td>
<td>M</td>
<td><u>Aleksandr Lando</u></td>
<td>RUS</td>
<td>...</td>
<td>  </td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™å°±æ˜¯å…¨éƒ¨ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ç¼–è¾‘äº†2,035ä¸ªæ¡ç›®ã€‚</font><font style="vertical-align: inherit;">ä¸é”™ã€‚</font><font style="vertical-align: inherit;">å·²ä¿å­˜ã€‚</font></font><br>
<br>
<pre><code class="python hljs">pkl.dump(rd, open(<span class="hljs-string">r'D:\tri\details5.pkl'</span>, <span class="hljs-string">'wb'</span>))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œæ‚¨éœ€è¦å°†åç§°é‡æ–°æ’åºã€‚</font><font style="vertical-align: inherit;">ä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨æ‰€æœ‰åè®®ä¸­ï¼Œæ‰€æœ‰åè®®ä¸­çš„åç§°éƒ½å¿…é¡»å…ˆè·Ÿéšå…¶åçš„åå­—ï¼Œåä¹‹äº¦ç„¶-é¦–å…ˆæ˜¯å§“æ°ï¼Œç„¶åæ˜¯åå­—ã€‚</font><font style="vertical-align: inherit;">å–å†³äºå“ªä¸ªï¼Œç°åœ¨æˆ‘ä»¬å°†æ‰¾å‡ºç­”æ¡ˆã€‚</font><font style="vertical-align: inherit;">å…¨åå¯ä»¥åŒ…å«ä¸¤ä¸ªä»¥ä¸Šçš„å•è¯ï¼Œå³ä½¿åœ¨åˆ é™¤ä¸­é—´åä¹‹åï¼Œæƒ…å†µä¹Ÿæœ‰äº›å¤æ‚ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'nwin'</span>] = ar[<span class="hljs-string">'name'</span>].str.count(<span class="hljs-string">' '</span>) + <span class="hljs-number">1</span> <span class="hljs-comment"># nwin â€“ number of words in name</span>
ar.loc[ar[<span class="hljs-string">'name'</span>] == <span class="hljs-string">''</span>,<span class="hljs-string">'nwin'</span>] = <span class="hljs-number">0</span>
<span class="hljs-number">100</span>*ar[<span class="hljs-string">'nwin'</span>].value_counts()/len(ar)
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åç§°ä¸­çš„å•è¯æ•°è®°å½•æ•°è®°å½•æ‰€å çš„ç™¾åˆ†æ¯”ï¼ˆï¼…ï¼‰</font><font style="vertical-align: inherit;">å½“ç„¶ï¼Œç»å¤§å¤šæ•°ï¼ˆ91ï¼…ï¼‰æ˜¯ä¸¤ä¸ªå•è¯-åªæ˜¯ä¸€ä¸ªåå­—å’Œä¸€ä¸ªå§“ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯å¸¦æœ‰ä¸‰ä¸ªå’Œå››ä¸ªè¯çš„æ¡ç›®ä¹Ÿå¾ˆå¤šã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹è¿™äº›è®°å½•çš„å›½ç±ï¼š</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>   </th>
<th> </th>
<th>  (%)</th>
</tr>
<tr>
<td>2</td>
<td>1285270</td>
<td>90.74426</td>
</tr>
<tr>
<td>3</td>
<td>102220</td>
<td>7.217066</td>
</tr>
<tr>
<td>4</td>
<td>22420</td>
<td>1.582925</td>
</tr>
<tr>
<td>0</td>
<td>3454</td>
<td>0.243864</td>
</tr>
<tr>
<td>5</td>
<td>2385</td>
<td>0.168389</td>
</tr>
<tr>
<td>6</td>
<td>469</td>
<td>0.033113</td>
</tr>
<tr>
<td>1</td>
<td>80</td>
<td>0.005648</td>
</tr>
<tr>
<td>7</td>
<td>57</td>
<td>0.004024</td>
</tr>
<tr>
<td>8</td>
<td>5</td>
<td>0.000353</td>
</tr>
<tr>
<td>10</td>
<td>4</td>
<td>0.000282</td>
</tr>
<tr>
<td>9</td>
<td>1</td>
<td>0.000071</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">ar[ar[<span class="hljs-string">'nwin'</span>] &gt;= <span class="hljs-number">3</span>][<span class="hljs-string">'country'</span>].value_counts()[:<span class="hljs-number">12</span>]
</code></pre><br>
<code><b>Out: </b><br>
ESP 28435<br>
MEX 10561<br>
USA 7608<br>
DNK 7178<br>
BRA 6321<br>
NLD 5748<br>
DEU 4310<br>
PHL 3941<br>
ZAF 3862<br>
ITA 3691<br>
BEL 3596<br>
FRA 3323<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¥½å§ï¼Œé¦–å…ˆæ˜¯è¥¿ç­ç‰™ï¼Œå…¶æ¬¡æ˜¯è¥¿ç­ç‰™-å¢¨è¥¿å“¥ï¼Œè¿™æ˜¯ä¸€ä¸ªè¥¿ç­ç‰™è£”å›½å®¶ï¼Œæ¯”ç¾å›½æ›´è¿œï¼Œç¾å›½åœ¨å†å²ä¸Šä¹Ÿæœ‰å¾ˆå¤šè¥¿ç­ç‰™è£”ã€‚å·´è¥¿å’Œè²å¾‹å®¾ä¹Ÿæ˜¯è¥¿ç­ç‰™ï¼ˆå’Œè‘¡è„ç‰™è¯­ï¼‰çš„åç§°ã€‚ä¸¹éº¦ï¼Œè·å…°ï¼Œå¾·å›½ï¼Œå—éï¼Œæ„å¤§åˆ©ï¼Œæ¯”åˆ©æ—¶å’Œæ³•å›½æ˜¯å¦ä¸€å›äº‹ï¼Œæœ‰æ—¶å€™å§“æ°æœ‰æ—¶ä¼šå¸¦æœ‰æŸç§å‰ç¼€ï¼Œå› æ­¤æœ‰ä¸¤ä¸ªä»¥ä¸Šçš„å•è¯ã€‚ä½†æ˜¯ï¼Œåœ¨æ‰€æœ‰è¿™äº›æƒ…å†µä¸‹ï¼Œåç§°æœ¬èº«é€šå¸¸ç”±ä¸€ä¸ªå•è¯ç»„æˆï¼Œå§“æ°ç”±ä¸¤ä¸ªï¼Œä¸‰ä¸ªç»„æˆã€‚å½“ç„¶ï¼Œè¯¥è§„åˆ™ä¹Ÿæœ‰ä¾‹å¤–ï¼Œä½†æ˜¯æˆ‘ä»¬å°†ä¸å†å¤„ç†å®ƒä»¬ã€‚é¦–å…ˆï¼Œå¯¹äºæ¯ç§åè®®ï¼Œæ‚¨éœ€è¦ç¡®å®šé¡ºåºæ˜¯ä»€ä¹ˆï¼šåç§°-å§“æ°ï¼Œåä¹‹äº¦ç„¶ã€‚æ€ä¹ˆåšï¼Ÿæˆ‘æƒ³åˆ°äº†ä»¥ä¸‹æƒ³æ³•ï¼šé¦–å…ˆï¼Œå§“æ°çš„ç§ç±»é€šå¸¸æ¯”åå­—çš„ç§ç±»å¤§å¾—å¤šã€‚å³ä½¿åœ¨ä¸€ä¸ªåè®®çš„æ¡†æ¶å†…ä¹Ÿæ˜¯å¦‚æ­¤ã€‚å…¶æ¬¡ï¼Œåç§°çš„é•¿åº¦é€šå¸¸å°äºå§“æ°çš„é•¿åº¦ï¼ˆå³ä½¿æ˜¯éå¤åˆå§“æ°ï¼‰ã€‚æˆ‘ä»¬å°†ç»“åˆä½¿ç”¨è¿™äº›æ¡ä»¶æ¥ç¡®å®šåˆæ­¥è®¢å•ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€‰æ‹©å…¨åçš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªå•è¯ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'new name'</span>] = ar[<span class="hljs-string">'name'</span>]<font></font>
ind = ar[ar[<span class="hljs-string">'nwin'</span>] &lt; <span class="hljs-number">2</span>].index<font></font>
ar.loc[ind, <span class="hljs-string">'new name'</span>] = <span class="hljs-string">'. .'</span> <span class="hljs-comment">#  ,   str.split()   </span>
ar[<span class="hljs-string">'wfin'</span>] = ar[<span class="hljs-string">'new name'</span>].str.split().str[<span class="hljs-number">0</span>] <span class="hljs-comment">#fwin  â€“ first word in name</span>
ar[<span class="hljs-string">'lwin'</span>] = ar[<span class="hljs-string">'new name'</span>].str.split().str[<span class="hljs-number">-1</span>]<span class="hljs-comment">#lfin â€“ last word in name</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°†åˆå¹¶çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ar</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®å¸§è½¬æ¢</font><font style="vertical-align: inherit;">å›</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rd</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­—å…¸ï¼Œ</font><font style="vertical-align: inherit;">ä»¥ä¾¿æ–°åˆ—</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nwinï¼Œns0ï¼Œns</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è½å…¥æ¯ä¸ªç§æ—çš„æ•°æ®å¸§ã€‚</font><font style="vertical-align: inherit;">æ¥ä¸‹æ¥ï¼Œ</font><font style="vertical-align: inherit;">æ ¹æ®æˆ‘ä»¬çš„æ ‡å‡†</font><font style="vertical-align: inherit;">ï¼Œç¡®å®šé¡ºåºä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åå§“</font><i><font style="vertical-align: inherit;">â€</font></i><font style="vertical-align: inherit;">çš„åè®®æ•°å’Œé¡ºåºç›¸åçš„åè®®æ•°ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†ä»…è€ƒè™‘å…¨åç”±ä¸¤ä¸ªå•è¯ç»„æˆçš„æ¡ç›®ã€‚</font><font style="vertical-align: inherit;">åŒæ—¶ï¼Œå°†åç§°ï¼ˆåå­—ï¼‰ä¿å­˜åœ¨æ–°åˆ—ä¸­ï¼š</font></font><br>
<br>
<pre><code class="python hljs">name_surname = {}<font></font>
surname_name = {}<font></font>
<font></font>
<span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> rd:<font></font>
    d = rd[e][rd[e][<span class="hljs-string">'nwin'</span>] == <span class="hljs-number">2</span>]<font></font>
<font></font>
    <span class="hljs-keyword">if</span> len(d[<span class="hljs-string">'fwin'</span>].unique()) &lt; len(d[<span class="hljs-string">'lwin'</span>].unique()) <span class="hljs-keyword">and</span> len(<span class="hljs-string">''</span>.join(d[<span class="hljs-string">'fwin'</span>])) &lt; len(<span class="hljs-string">''</span>.join(d[<span class="hljs-string">'lwin'</span>])):<font></font>
        name_surname[e] = d<font></font>
        rd[e][<span class="hljs-string">'first name'</span>] = rd[e][<span class="hljs-string">'fwin'</span>]<font></font>
<font></font>
    <span class="hljs-keyword">if</span> len(d[<span class="hljs-string">'fwin'</span>].unique()) &gt; len(d[<span class="hljs-string">'lwin'</span>].unique()) <span class="hljs-keyword">and</span> len(<span class="hljs-string">''</span>.join(d[<span class="hljs-string">'fwin'</span>])) &gt; len(<span class="hljs-string">''</span>.join(d[<span class="hljs-string">'lwin'</span>])):<font></font>
        surname_name[e] = d<font></font>
        rd[e][<span class="hljs-string">'first name'</span>] = rd[e][<span class="hljs-string">'lwin'</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»“æœæ˜¯ï¼šâ€œ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å§“æ°å</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€å‘½ä»¤-244ä¸ªåè®®ï¼Œâ€œ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å§“æ°å</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€å‘½ä»¤</font><font style="vertical-align: inherit;">-1,508ä¸ªåè®®ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬å°†å¯¼è‡´æ›´å¸¸è§çš„æ ¼å¼ã€‚</font><font style="vertical-align: inherit;">ç”±äºæˆ‘ä»¬åŒæ—¶æ£€æŸ¥äº†ä¸¤ä¸ªæ¡ä»¶çš„æ»¡è¶³æƒ…å†µï¼Œç”šè‡³å­˜åœ¨ä¸¥æ ¼çš„ä¸å¹³ç­‰æ€§ï¼Œå› æ­¤æ€»å’Œå°äºæ€»é‡‘é¢ã€‚</font><font style="vertical-align: inherit;">åœ¨æŸäº›åè®®ä¸­ï¼Œåªæœ‰å…¶ä¸­ä¸€ä¸ªæ¡ä»¶å¯ä»¥æ»¡è¶³ï¼Œæˆ–è€…å¯ä»¥æ»¡è¶³ï¼Œä½†æ˜¯ä¸å¤ªå¯èƒ½å‘ç”Ÿå¹³ç­‰ã€‚</font><font style="vertical-align: inherit;">ä½†è¿™æ˜¯å®Œå…¨ä¸é‡è¦çš„ï¼Œå› ä¸ºå·²ç»å®šä¹‰äº†æ ¼å¼ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œå‡è®¾æˆ‘ä»¬å·²ç»ä»¥è¶³å¤Ÿé«˜çš„ç²¾åº¦ç¡®å®šäº†è®¢å•ï¼Œè€Œä¸ä¼šå¿˜è®°å®ƒä¸æ˜¯100ï¼…å‡†ç¡®çš„ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨æ­¤ä¿¡æ¯ã€‚</font><font style="vertical-align: inherit;">åœ¨â€œ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åå­—â€</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—ä¸­æ‰¾åˆ°æœ€å—æ¬¢è¿çš„åå­—</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs">vc = ar[<span class="hljs-string">'first name'</span>].value_counts()
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é‡åˆ°ç›¸é‡ä¸€ç™¾æ¬¡ä»¥ä¸Šçš„äººï¼š</font></font><br>
<br>
<pre><code class="python hljs">pfn=vc[vc&gt;<span class="hljs-number">100</span>] <span class="hljs-comment">#pfn â€“ popular first names</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…±æœ‰1,673ä¸ªï¼Œä»¥ä¸‹æ˜¯å‰ä¸€ç™¾ä¸ªï¼ŒæŒ‰æµè¡Œç¨‹åº¦ä»é«˜åˆ°ä½æ’åˆ—ï¼š</font><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œä½¿ç”¨æ­¤åˆ—è¡¨ï¼Œæˆ‘ä»¬å°†éå†æ‰€æœ‰åè®®ï¼Œå¹¶æ¯”è¾ƒåœ¨åç§°çš„ç¬¬ä¸€ä¸ªå•è¯æˆ–æœ€åä¸€ä¸ªå•è¯ä¸­è¿˜æœ‰æ›´å¤šåŒ¹é…é¡¹çš„ä½ç½®ã€‚æˆ‘ä»¬å°†åªè€ƒè™‘ä¸¤ä¸ªå•è¯çš„åç§°ã€‚å¦‚æœä¸æœ€åä¸€ä¸ªå•è¯æœ‰æ›´å¤šåŒ¹é…é¡¹ï¼Œåˆ™é¡ºåºæ˜¯æ­£ç¡®çš„ï¼›å¦‚æœä¸ç¬¬ä¸€ä¸ªå•è¯åŒ¹é…ï¼Œåˆ™ç›¸åã€‚è€Œä¸”ï¼Œåœ¨è¿™é‡Œæˆ‘ä»¬å·²ç»æ›´åŠ è‡ªä¿¡ï¼Œå› æ­¤æ‚¨å¯ä»¥ä½¿ç”¨æ­¤çŸ¥è¯†ï¼Œå¹¶ä¸”æ¯æ¬¡é€šè¿‡æ—¶ï¼Œæˆ‘ä»¬éƒ½ä¼šå°†å…¶ä¸‹ä¸€ä¸ªåè®®çš„åç§°åˆ—è¡¨æ·»åŠ åˆ°åˆå§‹æµè¡Œåç§°åˆ—è¡¨ä¸­ã€‚ä¸ºäº†é¿å…éšæœºé”™è¯¯ï¼Œæˆ‘ä»¬æ ¹æ®åç§°åœ¨åˆå§‹åˆ—è¡¨ä¸­å‡ºç°çš„é¢‘ç‡å¯¹åè®®è¿›è¡Œäº†é¢„æ’åºï¼Œä»è€Œä¸ºé‚£äº›åŒ¹é…é¡¹å¾ˆå°‘ä¸”å°†åœ¨å‘¨æœŸç»“æŸæ—¶è¿›è¡Œå¤„ç†çš„åè®®å‡†å¤‡äº†æ›´å¹¿æ³›çš„åˆ—è¡¨ã€‚</font></font><br>
<code>['Michael', 'David', 'Thomas', 'John', 'Daniel', 'Mark', 'Peter', 'Paul', 'Christian', 'Robert', 'Martin', 'James', 'Andrew', 'Chris', 'Richard', 'Andreas', 'Matthew', 'Brian', 'Patrick', 'Scott', 'Kevin', 'Stefan', 'Jason', 'Eric', 'Christopher', 'Alexander', 'Simon', 'Mike', 'Tim', 'Frank', 'Stephen', 'Steve', 'Andrea', 'Jonathan', 'Markus', 'Marco', 'Adam', 'Ryan', 'Jan', 'Tom', 'Marc', 'Carlos', 'Jennifer', 'Matt', 'Steven', 'Jeff', 'Sergey', 'William', 'Aleksandr', 'Sarah', 'Alex', 'Jose', 'Andrey', 'Benjamin', 'Sebastian', 'Ian', 'Anthony', 'Ben', 'Oliver', 'Antonio', 'Ivan', 'Sean', 'Manuel', 'Matthias', 'Nicolas', 'Dan', 'Craig', 'Dmitriy', 'Laura', 'Luis', 'Lisa', 'Kim', 'Anna', 'Nick', 'Rob', 'Maria', 'Greg', 'Aleksey', 'Javier', 'Michelle', 'Andre', 'Mario', 'Joseph', 'Christoph', 'Justin', 'Jim', 'Gary', 'Erik', 'Andy', 'Joe', 'Alberto', 'Roberto', 'Jens', 'Tobias', 'Lee', 'Nicholas', 'Dave', 'Tony', 'Olivier', 'Philippe']<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">sbpn = pd.DataFrame(columns = [<span class="hljs-string">'event'</span>, <span class="hljs-string">'num pop names'</span>], index=range(len(rd))) <span class="hljs-comment"># sbpn - sorted by popular names</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(rd)):<font></font>
    e = list(rd.keys())[i]<font></font>
    sbpn.loc[i, <span class="hljs-string">'event'</span>] = e<font></font>
    sbpn.loc[i, <span class="hljs-string">'num pop names'</span>] = len(set(pfn).intersection(rd[e][<span class="hljs-string">'first name'</span>]))<font></font>
<font></font>
sbnp=sbnp.sort_values(by = <span class="hljs-string">'num pop names'</span>,ascending=<span class="hljs-literal">False</span>)<font></font>
sbnp = sbnp.reset_index(drop=<span class="hljs-literal">True</span>) 
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>event</th>
<th>num pop names</th>
</tr>
<tr>
<td>0</td>
<td>Ironman World Championship 70.3 2016</td>
<td>811</td>
</tr>
<tr>
<td>1</td>
<td>Ironman World Championship 2019</td>
<td>781</td>
</tr>
<tr>
<td>2</td>
<td>Ironman World Championship 70.3 2015</td>
<td>778</td>
</tr>
<tr>
<td>3</td>
<td>Ironman Mallorca 70.3 2014</td>
<td>776</td>
</tr>
<tr>
<td>4</td>
<td>Ironman World Championship 2018</td>
<td>766</td>
</tr>
<tr>
<td>5</td>
<td>Challenge Roth Long 2019</td>
<td>759</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
<tr>
<td>1917</td>
<td>Challenge Gran Canaria Olympic 2019</td>
<td>0</td>
</tr>
<tr>
<td>1918</td>
<td>Challenge Gran Canaria Middle 2017</td>
<td>0</td>
</tr>
<tr>
<td>1919</td>
<td>Challenge Forte Village-Sardinia Sprint 2017</td>
<td>0</td>
</tr>
<tr>
<td>1920</td>
<td>ITU European Cup Kuopio Sprint 2007</td>
<td>0</td>
</tr>
<tr>
<td>1921</td>
<td>ITU World Cup Madeira Olympic 2002</td>
<td>0</td>
</tr>
</tbody></table></div></code><br>
<br>
<pre><code class="python hljs">tofix = []<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(rd)):<font></font>
    e = sbpn.loc[i, <span class="hljs-string">'event'</span>]<font></font>
<font></font>
    <span class="hljs-keyword">if</span> len(set(list(rd[e][<span class="hljs-string">'fwin'</span>])).intersection(pfn)) &gt; len(set(list(rd[e][<span class="hljs-string">'lwin'</span>])).intersection(pfn)):<font></font>
        tofix.append(e)<font></font>
        pfn = list(set(pfn + list(rd[e][<span class="hljs-string">'fwin'</span>])))
    <span class="hljs-keyword">else</span>:<font></font>
        pfn = list(set(pfn + list(rd[e][<span class="hljs-string">'lwin'</span>])))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰235ä¸ªåè®®ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸ç¬¬ä¸€è¿‘ä¼¼ï¼ˆ244ï¼‰ä¸­æ‰€å‘ç”Ÿçš„ç›¸åŒã€‚å¯ä»¥è‚¯å®šçš„æ˜¯ï¼Œæˆ‘é€‰æ‹©æ€§åœ°æŸ¥çœ‹äº†æ¯ä¸ªè®°å½•çš„å‰ä¸‰ä¸ªè®°å½•ï¼Œä»¥ç¡®ä¿æ‰€æœ‰å†…å®¹éƒ½æ˜¯æ­£ç¡®çš„ã€‚è¿˜è¦æ£€æŸ¥æ’åºçš„ç¬¬ä¸€é˜¶æ®µæ˜¯å¦ä»ç±»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°å§“æ°ä¸­</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¾“å…¥äº†36ä¸ªé”™è¯¯æ¡ç›®ï¼Œ</font><font style="vertical-align: inherit;">å¹¶ä»ç±»</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°ä¸­</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»™å‡ºäº†2ä¸ªé”™è¯¯æ¡ç›®</font><font style="vertical-align: inherit;">ã€‚æˆ‘æŸ¥çœ‹äº†æ¯ä¸ªè®°å½•çš„å‰ä¸‰ä¸ªè®°å½•ï¼Œç¡®å®ï¼Œç¬¬äºŒä¸ªé˜¶æ®µè¿è¡Œè‰¯å¥½ã€‚ç°åœ¨ï¼Œå®é™…ä¸Šï¼Œä»ç„¶éœ€è¦ä¿®å¤å‘ç°é”™è¯¯é¡ºåºçš„é‚£äº›åè®®ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> tofix:<font></font>
    ind = rd[e][rd[e][<span class="hljs-string">'nwin'</span>] &gt; <span class="hljs-number">1</span>].index<font></font>
    rd[e].loc[ind,<span class="hljs-string">'name'</span>] = rd[e].loc[ind,<span class="hljs-string">'name'</span>].str.split(n=<span class="hljs-number">1</span>).str[<span class="hljs-number">1</span>] + <span class="hljs-string">' '</span> +                   rd[e].loc[ind,<span class="hljs-string">'name'</span>].str.split(n=<span class="hljs-number">1</span>).str[<span class="hljs-number">0</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ‹†åˆ†ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨å‚æ•°</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é™åˆ¶äº†ä»¶</font><i><font style="vertical-align: inherit;">æ•°</font></i><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">é€»è¾‘æ˜¯è¿™æ ·çš„ï¼šåç§°æ˜¯ä¸€ä¸ªå•è¯ï¼Œå…¨åä¸­çš„ç¬¬ä¸€ä¸ªã€‚</font><font style="vertical-align: inherit;">å…¶ä»–æ‰€æœ‰å†…å®¹éƒ½æ˜¯å§“ï¼ˆå¯èƒ½ç”±å‡ ä¸ªè¯ç»„æˆï¼‰ã€‚</font><font style="vertical-align: inherit;">åªéœ€äº¤æ¢å®ƒä»¬ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬æ‘†è„±ä¸å¿…è¦çš„åˆ—å¹¶ä¿å­˜ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> rd:<font></font>
    rd[e] = rd[e].drop(columns = [<span class="hljs-string">'new name'</span>, <span class="hljs-string">'first name'</span>, <span class="hljs-string">'fwin'</span>,<span class="hljs-string">'lwin'</span>, <span class="hljs-string">'nwin'</span>])<font></font>
<font></font>
pkl.dump(rd, open(<span class="hljs-string">r'D:\tri\details6.pkl'</span>, <span class="hljs-string">'wb'</span>))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ£€æŸ¥ç»“æœã€‚</font><font style="vertical-align: inherit;">éšæœºæ‰“å›ºå®šè®°å½•ï¼š</font><font style="vertical-align: inherit;">æ€»å…±å›ºå®š108,000æ¡è®°å½•ã€‚</font><font style="vertical-align: inherit;">å”¯ä¸€å…¨åçš„æ•°é‡ä»598ä¸ªå‡å°‘è‡³54.7ä¸‡ä¸ªã€‚</font><font style="vertical-align: inherit;">ç²¾ç»†ï¼</font><font style="vertical-align: inherit;">å®Œæˆæ ¼å¼åŒ–ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th><u>name</u></th>
<th>country</th>
<th>group</th>
<th>...</th>
<th><u>name raw</u></th>
</tr>
<tr>
<td>188</td>
<td>189</td>
<td>M</td>
<td><u>Azhel Dmitriy</u></td>
<td>BLR</td>
<td></td>
<td>...</td>
<td><u> </u></td>
</tr>
<tr>
<td>96</td>
<td>97</td>
<td>M</td>
<td><u>Bostina Cristian</u></td>
<td>ROU</td>
<td></td>
<td>...</td>
<td><u>Cristian Bostina</u></td>
</tr>
<tr>
<td>1757</td>
<td>1758</td>
<td>M</td>
<td><u>Lowe Jonathan</u></td>
<td>AUS</td>
<td>M30-34</td>
<td>...</td>
<td><u>Jonathan LOWE</u></td>
</tr>
<tr>
<td>599</td>
<td>600</td>
<td>M</td>
<td><u>Baerwald Manuel</u></td>
<td>DEU</td>
<td></td>
<td>...</td>
<td><u>Manuel BAERWALD</u></td>
</tr>
<tr>
<td>657</td>
<td>658</td>
<td>M</td>
<td><u>Krumdieck Ralf</u></td>
<td>DEU</td>
<td></td>
<td>...</td>
<td><u>Ralf KRUMDIECK</u></td>
</tr>
<tr>
<td>354</td>
<td>355</td>
<td>F</td>
<td><u>Knapp Samantha</u></td>
<td>USA</td>
<td>F30-34</td>
<td>...</td>
<td><u>Samantha Knapp</u></td>
</tr>
<tr>
<td>375</td>
<td>376</td>
<td>M</td>
<td><u>Rintalaulaja Mika</u></td>
<td>FIN</td>
<td>M40-44</td>
<td>...</td>
<td><u>Mika Rintalaulaja</u></td>
</tr>
<tr>
<td>1304</td>
<td>1305</td>
<td>M</td>
<td><u>Dee Jim</u></td>
<td>USA</td>
<td>M50-54</td>
<td>...</td>
<td><u>Jim DEE</u></td>
</tr>
<tr>
<td>178</td>
<td>179</td>
<td>M</td>
<td><u>Halibert Greg</u></td>
<td>FRA</td>
<td></td>
<td>...</td>
<td><u>GREG HALIBERT</u></td>
</tr>
<tr>
<td>2740</td>
<td>2741</td>
<td>F</td>
<td><u>Comia Marissa</u></td>
<td>USA</td>
<td>F45-49</td>
<td>...</td>
<td><u>Marissa COMIA</u></td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬3éƒ¨åˆ†ã€‚ä¸å®Œæ•´æ•°æ®çš„æ¢å¤</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ç»§ç»­æ¢å¤ä¸¢å¤±çš„æ•°æ®ã€‚</font><font style="vertical-align: inherit;">å¹¶ä¸”æœ‰è¿™æ ·ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›½å®¶</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬ä»å›½å®¶å¼€å§‹ã€‚</font><font style="vertical-align: inherit;">æŸ¥æ‰¾æœªæ˜¾ç¤ºå›½å®¶/åœ°åŒºçš„æ‰€æœ‰è®°å½•ï¼š</font></font><br>
<br>
<pre><code class="python hljs">arnc = ar[ar[<span class="hljs-string">'country'</span>] == <span class="hljs-string">''</span>] <span class="hljs-comment">#arnc â€“ all records with no country</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…¶ä¸­æœ‰3,221ä¸ªï¼Œå…¶ä¸­éšæœºæœ‰10ä¸ªï¼š</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th><u>country</u></th>
<th>group</th>
<th>...</th>
<th>country raw</th>
</tr>
<tr>
<td>...</td>
<td>1633</td>
<td>M</td>
<td>Guerrero Pla Angel</td>
<td></td>
<td>M30-34</td>
<td>...</td>
<td>E</td>
</tr>
<tr>
<td>...</td>
<td>258</td>
<td>M</td>
<td>Bellm Mathias</td>
<td></td>
<td>M35-39</td>
<td>...</td>
<td>D</td>
</tr>
<tr>
<td>...</td>
<td>655</td>
<td>M</td>
<td>Moratto Alessio</td>
<td></td>
<td>M40-44</td>
<td>...</td>
<td>I</td>
</tr>
<tr>
<td>...</td>
<td>1317</td>
<td>M</td>
<td>Solari Jean-Jacques</td>
<td></td>
<td>M50-54</td>
<td>...</td>
<td>TAH</td>
</tr>
<tr>
<td>...</td>
<td>1311</td>
<td>F</td>
<td>Duranel Isabelle</td>
<td></td>
<td>F40-44</td>
<td>...</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>1012</td>
<td>M</td>
<td>Endler Maximilian</td>
<td></td>
<td>M40-44</td>
<td>...</td>
<td>D</td>
</tr>
<tr>
<td>...</td>
<td>284</td>
<td>M</td>
<td>Schreiner Jorg</td>
<td></td>
<td>M40-44</td>
<td>...</td>
<td>D</td>
</tr>
<tr>
<td>...</td>
<td>14</td>
<td>M</td>
<td>Butturini Jacopo</td>
<td></td>
<td></td>
<td>...</td>
<td>ITU</td>
</tr>
<tr>
<td>...</td>
<td>204</td>
<td>M</td>
<td>Lindner Thomas</td>
<td></td>
<td>M40-44</td>
<td>...</td>
<td>D</td>
</tr>
<tr>
<td>...</td>
<td>1168</td>
<td>M</td>
<td>Gramke Peter</td>
<td></td>
<td>M45-49</td>
<td>...</td>
<td>D</td>
</tr>
</tbody></table></div></code><br>
<br>
<pre><code class="python hljs">nnc = arnc[<span class="hljs-string">'name'</span>].unique() <span class="hljs-comment">#nnc - names with no country</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ²¡æœ‰å›½å®¶/åœ°åŒºçš„è®°å½•ä¸­å”¯ä¸€åç§°çš„æ•°é‡ä¸º3051ã€‚è®©æˆ‘ä»¬çœ‹çœ‹æ˜¯å¦å¯ä»¥å‡å°‘è¯¥æ•°é‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
äº‹å®æ˜¯ï¼Œåœ¨é“äººä¸‰é¡¹èµ›ä¸­ï¼Œäººä»¬å¾ˆå°‘åªå‚åŠ ä¸€åœºæ¯”èµ›ï¼Œä»–ä»¬é€šå¸¸ä¼šå®šæœŸå‚åŠ æ¯”èµ›ï¼Œæ¯ä¸ªèµ›å­£å‡ æ¬¡ï¼Œæ¯å¹´ä¸€æ¬¡ï¼Œä¸æ–­è®­ç»ƒã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œå¯¹äºæ•°æ®ä¸­çš„è®¸å¤šåç§°ï¼Œå¾ˆå¯èƒ½æœ‰å¤šä¸ªè®°å½•ã€‚</font><font style="vertical-align: inherit;">è¦æ¢å¤æœ‰å…³è¯¥å›½å®¶çš„ä¿¡æ¯ï¼Œè¯·å°è¯•åœ¨æŒ‡ç¤ºè¯¥å›½å®¶çš„è®°å½•ä¸­æŸ¥æ‰¾å…·æœ‰ç›¸åŒåç§°çš„è®°å½•ã€‚</font></font><br>
<br>
<pre><code class="python hljs">arwc = ar[ar[<span class="hljs-string">'country'</span>] != <span class="hljs-string">''</span>] <span class="hljs-comment">#arwc â€“ all records with country</span>
nwc = arwc[<span class="hljs-string">'name'</span>].unique() <span class="hljs-comment">#nwc â€“ names with country</span>
tofix = set(nnc).intersection(nwc)</code></pre><br>
<code><b>Out:</b> ['Kleber-Schad Ute Cathrin', 'Sellner Peter', 'Pfeiffer Christian', 'Scholl Thomas', 'Petersohn Sandra', 'Marchand Kurt', 'Janneck Britta', 'Angheben Riccardo', 'Thiele Yvonne', 'Kie?Wetter Martin', 'Schymik Gerhard', 'Clark Donald', 'Berod Brigitte', 'Theile Markus', 'Giuliattini Burbui Margherita', 'Wehrum Alexander', 'Kenny Oisin', 'Schwieger Peter', 'Grosse Bianca', 'Schafter Carsten', 'Breck Dirk', 'Mautes Christoph', 'Herrmann Andreas', 'Gilbert Kai', 'Steger Peter', 'Jirouskova Jana', 'Jehrke Michael', 'Valentine David', 'Reis Michael', 'Wanka Michael', 'Schomburg Jonas', 'Giehl Caprice', 'Zinser Carsten', 'Schumann Marcus', 'Magoni Livio', 'Lauden Yann', 'Mayer Dieter', 'Krisa Stefan', 'Haberecht Bernd', 'Schneider Achim', 'Gibanel Curto Antonio', 'Miranda Antonio', 'Juarez Pedro', 'Prelle Gerrit', 'Wuste Kay', 'Bullock Graeme', 'Hahner Martin', 'Kahl Maik', 'Schubnell Frank', 'Hastenteufel Marco', â€¦]<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…¶ä¸­æœ‰2236ä¸ªï¼Œå³æ¥è¿‘å››åˆ†ä¹‹ä¸‰ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œå¯¹äºæ­¤åˆ—è¡¨ä¸­çš„æ¯ä¸ªåç§°ï¼Œæ‚¨éœ€è¦é€šè¿‡å…¶æ‰€åœ¨ä½ç½®çš„è®°å½•æ¥ç¡®å®šå›½å®¶/åœ°åŒºã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ç¢°å·§åœ¨å¤šä¸ªè®°å½•ä¸­å’Œåœ¨ä¸åŒçš„å›½å®¶éƒ½å¯ä»¥æ‰¾åˆ°ç›¸åŒçš„åç§°ã€‚</font><font style="vertical-align: inherit;">è¿™è¦ä¹ˆæ˜¯åŒåï¼Œè¦ä¹ˆæ˜¯æ¬å®¶ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œæˆ‘ä»¬é¦–å…ˆå¤„ç†æ‰€æœ‰äº‹ç‰©éƒ½æ˜¯å”¯ä¸€çš„äº‹ç‰©ã€‚</font></font><br>
<br>
<pre><code class="python hljs">fix = {}<font></font>
<font></font>
<span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> tofix:<font></font>
    nr = arwc[arwc[<span class="hljs-string">'name'</span>] == n] <font></font>
	<font></font>
    <span class="hljs-keyword">if</span> len(nr[<span class="hljs-string">'country'</span>].unique()) == <span class="hljs-number">1</span>:<font></font>
        fix[n] = nr[<span class="hljs-string">'country'</span>].iloc[<span class="hljs-number">0</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¾ªç¯åˆ¶ä½œã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œå¦ç‡åœ°è¯´ï¼Œå®ƒå¯ä»¥è§£å†³å¾ˆé•¿æ—¶é—´-å¤§çº¦ä¸‰åˆ†é’Ÿã€‚</font><font style="vertical-align: inherit;">å¦‚æœæœ‰æ›´å¤šæ•°é‡çº§çš„æ¡ç›®ï¼Œåˆ™å¯èƒ½å¿…é¡»æå‡ºçŸ¢é‡å®ç°ã€‚</font><font style="vertical-align: inherit;">æœ‰2,013ä¸ªæ¡ç›®ï¼Œå æ½œåŠ›çš„90ï¼…ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸åŒå›½å®¶åœ¨ä¸åŒè®°å½•ä¸­å¯èƒ½å‡ºç°çš„åç§°ï¼Œä»¥æœ€å¸¸å‡ºç°çš„å›½å®¶ä¸ºå‡†ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> n <span class="hljs-keyword">not</span> <span class="hljs-keyword">in</span> fix:<font></font>
    nr = arwc[arwc[<span class="hljs-string">'name'</span>] == n]<font></font>
    vc = nr[<span class="hljs-string">'country'</span>].value_counts()    <font></font>
	<font></font>
    <span class="hljs-keyword">if</span> vc[<span class="hljs-number">0</span>] &gt; vc[<span class="hljs-number">1</span>]:<font></font>
        fix[n] = vc.index[<span class="hljs-number">0</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæ‰¾åˆ°äº†2,208ä¸ªåç§°åŒ¹é…ï¼Œå æ‰€æœ‰æ½œåœ¨åç§°çš„99ï¼…ã€‚</font><font style="vertical-align: inherit;">
æˆ‘ä»¬åº”ç”¨ä»¥ä¸‹å¯¹åº”å…³ç³»ï¼š</font></font><br>
<code>{'Kleber-Schad Ute Cathrin': 'DEU', 'Sellner Peter': 'AUT', 'Pfeiffer Christian': 'AUT', 'Scholl Thomas': 'DEU', 'Petersohn Sandra': 'DEU', 'Marchand Kurt': 'BEL', 'Janneck Britta': 'DEU', 'Angheben Riccardo': 'ITA', 'Thiele Yvonne': 'DEU', 'Kie?Wetter Martin': 'DEU', 'Clark Donald': 'GBR', 'Berod Brigitte': 'FRA', 'Theile Markus': 'DEU', 'Giuliattini Burbui Margherita': 'ITA', 'Wehrum Alexander': 'DEU', 'Kenny Oisin': 'IRL', 'Schwieger Peter': 'DEU', 'Schafter Carsten': 'DEU', 'Breck Dirk': 'DEU', 'Mautes Christoph': 'DEU', 'Herrmann Andreas': 'DEU', 'Gilbert Kai': 'DEU', 'Steger Peter': 'AUT', 'Jirouskova Jana': 'CZE', 'Jehrke Michael': 'DEU', 'Wanka Michael': 'DEU', 'Giehl Caprice': 'DEU', 'Zinser Carsten': 'DEU', 'Schumann Marcus': 'DEU', 'Magoni Livio': 'ITA', 'Lauden Yann': 'FRA', 'Mayer Dieter': 'DEU', 'Krisa Stefan': 'DEU', 'Haberecht Bernd': 'DEU', 'Schneider Achim': 'DEU', 'Gibanel Curto Antonio': 'ESP', 'Juarez Pedro': 'ESP', 'Prelle Gerrit': 'DEU', 'Wuste Kay': 'DEU', 'Bullock Graeme': 'GBR', 'Hahner Martin': 'DEU', 'Kahl Maik': 'DEU', 'Schubnell Frank': 'DEU', 'Hastenteufel Marco': 'DEU', 'Tedde Roberto': 'ITA', 'Minervini Domenico': 'ITA', 'Respondek Markus': 'DEU', 'Kramer Arne': 'DEU', 'Schreck Alex': 'DEU', 'Bichler Matthias': 'DEU', â€¦}<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> fix:<font></font>
    ind = arnc[arnc[<span class="hljs-string">'name'</span>] == n].index<font></font>
    ar.loc[ind, <span class="hljs-string">'country'</span>] = fix[n]</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th><u>country</u></th>
<th>group</th>
<th>...</th>
<th>country raw</th>
</tr>
<tr>
<td>...</td>
<td>1633</td>
<td>M</td>
<td>Guerrero Pla Angel</td>
<td><u>ESP</u></td>
<td>M30-34</td>
<td>...</td>
<td>E</td>
</tr>
<tr>
<td>...</td>
<td>258</td>
<td>M</td>
<td>Bellm Mathias</td>
<td><u>DEU</u></td>
<td>M35-39</td>
<td>...</td>
<td>D</td>
</tr>
<tr>
<td>...</td>
<td>655</td>
<td>M</td>
<td>Moratto Alessio</td>
<td><u>ITA</u></td>
<td>M40-44</td>
<td>...</td>
<td>I</td>
</tr>
<tr>
<td>...</td>
<td>1317</td>
<td>M</td>
<td>Solari Jean-Jacques</td>
<td><u>PYF</u></td>
<td>M50-54</td>
<td>...</td>
<td>TAH</td>
</tr>
<tr>
<td>...</td>
<td>1311</td>
<td>F</td>
<td>Duranel Isabelle</td>
<td><u>FRA</u></td>
<td>F40-44</td>
<td>...</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>1012</td>
<td>M</td>
<td>Endler Maximilian</td>
<td><u>DEU</u></td>
<td>M40-44</td>
<td>...</td>
<td>D</td>
</tr>
<tr>
<td>...</td>
<td>284</td>
<td>M</td>
<td>Schreiner Jorg</td>
<td><u>DEU</u></td>
<td>M40-44</td>
<td>...</td>
<td>D</td>
</tr>
<tr>
<td>...</td>
<td>14</td>
<td>M</td>
<td>Butturini Jacopo</td>
<td><u>HRV</u></td>
<td></td>
<td>...</td>
<td>ITU</td>
</tr>
<tr>
<td>...</td>
<td>204</td>
<td>M</td>
<td>Lindner Thomas</td>
<td><u>DEU</u></td>
<td>M40-44</td>
<td>...</td>
<td>D</td>
</tr>
<tr>
<td>...</td>
<td>1168</td>
<td>M</td>
<td>Gramke Peter</td>
<td><u>DEU</u></td>
<td>M45-49</td>
<td>...</td>
<td>D</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»è¿‡æ›´æ­£åï¼Œæ— å›½å®¶/åœ°åŒºçš„è®°å½•æ•°é‡å‡å°‘åˆ°909ï¼Œå³è¶…è¿‡äº†ä¸‰å€ã€‚</font><font style="vertical-align: inherit;">å°½ç®¡åœ¨ä¸€ä¸ªäºŒåˆ†ä¹‹ä¸€äº”åä¸‡çš„èƒŒæ™¯ä¸‹ï¼Œæ€»æ•°ä¸º2208ä¸ªå¹¶ä¸ç®—å¤ªå¤§ï¼Œä½†å®ƒä»ç„¶ä¸é”™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤å¤–ï¼Œåƒå¾€å¸¸ä¸€æ ·ï¼Œæˆ‘ä»¬å°†ç»„åˆçš„æ•°æ®å¸§</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arè½¬æ¢</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rd</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å­—å…¸</font><font style="vertical-align: inherit;">å¹¶ä¿å­˜ã€‚</font></font><br>
<br>
<pre><code class="python hljs">pkl.dump(rd, open(<span class="hljs-string">r'D:\tri\details7.pkl'</span>, <span class="hljs-string">'wb'</span>))
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ°æ¿</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸å›½å®¶/åœ°åŒºä¸€æ ·ï¼Œåœ¨æŸäº›è®°å½•ä¸­æœªæŒ‡å‡ºå‚ä¸è€…çš„æ€§åˆ«ã€‚ </font></font><br>
<br>
<pre><code class="python hljs">ar[ar[<span class="hljs-string">'sex'</span>] == <span class="hljs-string">''</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…¶ä¸­æœ‰2538ä¸ªï¼Œç›¸å¯¹è¾ƒå°‘ï¼Œä½†æˆ‘ä»¬ä¼šå†æ¬¡å°è¯•ä½¿æ•°é‡æ›´å°‘ã€‚</font><font style="vertical-align: inherit;">å°†åŸå§‹å€¼ä¿å­˜åœ¨æ–°åˆ—ä¸­ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'sex raw'</span>] =ar[<span class="hljs-string">'sex'</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸æˆ‘ä»¬ä»å…¶ä»–åè®®ä¸­æŒ‰åç§°æ£€ç´¢ä¿¡æ¯çš„å›½å®¶ä¸åŒï¼Œè¿™é‡Œçš„ä¸€åˆ‡éƒ½æœ‰äº›å¤æ‚ã€‚</font><font style="vertical-align: inherit;">äº‹å®æ˜¯ï¼Œæ•°æ®ä¸­å……æ»¡äº†é”™è¯¯ï¼Œå¹¶ä¸”å‘ç°æœ‰å¾ˆå¤šåå­—ï¼ˆå…±æœ‰2 101ä¸ªï¼‰ï¼Œå¸¦æœ‰ä¸¤ä¸ªæ€§åˆ«çš„æ ‡è®°ã€‚</font></font><br>
<br>
<pre><code class="python hljs">arws = ar[(ar[<span class="hljs-string">'sex'</span>] != <span class="hljs-string">''</span>)&amp;(ar[<span class="hljs-string">'name'</span>] != <span class="hljs-string">''</span>)] <span class="hljs-comment">#arws â€“ all records with sex</span>
snds = arws[arws.duplicated(subset=<span class="hljs-string">'name'</span>,keep=<span class="hljs-literal">False</span>)]<span class="hljs-comment">#sndsâ€“single name different sex</span>
snds = snds.drop_duplicates(subset=[<span class="hljs-string">'name'</span>,<span class="hljs-string">'sex'</span>], keep = <span class="hljs-string">'first'</span>)<font></font>
snds = snds.sort_values(by=<span class="hljs-string">'name'</span>)<font></font>
snds = snds[snds.duplicated(subset = <span class="hljs-string">'name'</span>, keep=<span class="hljs-literal">False</span>)]<font></font>
<font></font>
snds</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th><u>sex</u></th>
<th><u>name</u></th>
<th>country</th>
<th><u>group</u></th>
<th>...</th>
<th>country raw</th>
<th>group raw</th>
<th>sex raw</th>
</tr>
<tr>
<td>...</td>
<td>428</td>
<td><u>F</u></td>
<td><u>Aagaard Ida</u></td>
<td>NOR</td>
<td><u>F40-44</u></td>
<td>...</td>
<td>NOR</td>
<td>F40-44</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>718</td>
<td><u>M</u></td>
<td><u>Aagaard Ida</u></td>
<td>NOR</td>
<td><u>M40-44</u></td>
<td>...</td>
<td>NOR</td>
<td>M40-44</td>
<td>M</td>
</tr>
<tr>
<td></td>
<td>740</td>
<td><u>M</u></td>
<td><u>Aarekol Tove Aase</u></td>
<td>NOR</td>
<td><u>M50-54</u></td>
<td>...</td>
<td>NOR</td>
<td>M50-54</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>520</td>
<td><u>F</u></td>
<td><u>Aarekol Tove Aase</u></td>
<td>NOR</td>
<td><u>F50-54</u></td>
<td>...</td>
<td>NOR</td>
<td>F50-54</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>665</td>
<td><u>F</u></td>
<td><u>Aaroy Torunn</u></td>
<td>NOR</td>
<td><u>F40-44</u></td>
<td>...</td>
<td>NOR</td>
<td>F40-44</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>1591</td>
<td><u>M</u></td>
<td><u>Aaroy Torunn</u></td>
<td>NOR</td>
<td><u>M40-44</u></td>
<td>...</td>
<td>NOR</td>
<td>M40-44</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>70</td>
<td><u>M</u></td>
<td><u>Aberg Cobo Dolores</u></td>
<td>ARG</td>
<td><u>FPRO</u></td>
<td>...</td>
<td>ARG</td>
<td>FPRO</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>1258</td>
<td><u>F</u></td>
<td><u>Aberg Cobo Dolores</u></td>
<td>ARG</td>
<td><u>F30-34</u></td>
<td>...</td>
<td>ARG</td>
<td>F30-34</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>1909</td>
<td><u>F</u></td>
<td><u>Aboulfaida Zineb</u></td>
<td>MAR</td>
<td><u>F35-39</u></td>
<td>...</td>
<td>MAR</td>
<td>F35-39</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>340</td>
<td><u>M</u></td>
<td><u>Aboulfaida Zineb</u></td>
<td>MAR</td>
<td><u>M35-39</u></td>
<td>...</td>
<td>MAR</td>
<td>M35-39</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>63</td>
<td><u>F</u></td>
<td><u>Abram Felicity</u></td>
<td>AUS</td>
<td><u>FPRO</u></td>
<td>...</td>
<td>AUS</td>
<td>FPRO</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>38</td>
<td><u>M</u></td>
<td><u>Abram Felicity</u></td>
<td>AUS</td>
<td><u>FJUNIOR</u></td>
<td>...</td>
<td>AUS</td>
<td>FJUNIOR</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>134</td>
<td><u>M</u></td>
<td><u>Abramowski Jannicke</u></td>
<td>DEU</td>
<td><u>FPRO</u></td>
<td>...</td>
<td>GER</td>
<td>FPRO</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>323</td>
<td><u>F</u></td>
<td><u>Abramowski Jannicke</u></td>
<td>DEU</td>
<td><u>F25-29</u></td>
<td>...</td>
<td>GER</td>
<td>F25-29</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>21</td>
<td><u>M</u></td>
<td><u>Abrosimova Anastasia</u></td>
<td>RUS</td>
<td><u>FPRO</u></td>
<td>...</td>
<td>RUS</td>
<td>FPRO</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>177</td>
<td><u>F</u></td>
<td><u>Abrosimova Anastasia</u></td>
<td>RUS</td>
<td><u>FPRO</u></td>
<td>...</td>
<td>RUS</td>
<td>FPRO</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>188</td>
<td><u>M</u></td>
<td><u>Abysova Irina</u></td>
<td>RUS</td>
<td><u>FPRO</u></td>
<td>...</td>
<td>RUS</td>
<td>FPRO</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>60</td>
<td><u>F</u></td>
<td><u>Abysova Irina</u></td>
<td>RUS</td>
<td><u>FPRO</u></td>
<td>...</td>
<td>RUS</td>
<td>FPRO</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>312</td>
<td><u>M</u></td>
<td><u>Acaron Fabiola</u></td>
<td>PRI</td>
<td><u>FJUNIOR</u></td>
<td>...</td>
<td>PUR</td>
<td>FJUNIOR</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>294</td>
<td><u>F</u></td>
<td><u>Acaron Fabiola</u></td>
<td>PRI</td>
<td><u>F45-49</u></td>
<td>...</td>
<td>PUR</td>
<td>F45-49</td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>1500</td>
<td><u>M</u></td>
<td><u>Achampong Benjamin</u></td>
<td>GBR</td>
<td><u>M35-39</u></td>
<td>...</td>
<td>GBR</td>
<td>M35-39</td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>749</td>
<td><u>F</u></td>
<td><u>Achampong Benjamin</u></td>
<td>GBR</td>
<td><u>M35-39</u></td>
<td>...</td>
<td>GBR</td>
<td>M35-39</td>
<td>F</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯çš„ï¼ŒåŸåˆ™ä¸Šæœ‰ç”·å¥³é€šç”¨ï¼ˆæˆ–é›Œé›„åŒä½“ï¼‰çš„åå­—ï¼Œä¹Ÿå°±æ˜¯ç”¨æ¥ç»™ç”·å­©å’Œå¥³å­©èµ·åå­—çš„åå­—ã€‚å¯¹äºäºšæ´²è¿åŠ¨å‘˜æ¥è¯´ï¼Œé€šå¸¸å¾ˆéš¾æŒ‰åå­—æ¥ç¡®å®šæ€§åˆ«-ä¹Ÿè®¸æˆ‘åªæ˜¯æ²¡æœ‰è¶³å¤Ÿçš„çŸ¥è¯†è€Œå·²ã€‚ä½†æ˜¯ï¼Œå¾ˆéš¾ç›¸ä¿¡ä¼Šç³å¨œï¼ˆIrinaï¼‰æˆ–é˜¿çº³æ–¯å¡”è¥¿å¨…ï¼ˆAnastasiaï¼‰è¿™ä¸ªåå­—æ˜¯ç”·äººçš„åå­—ï¼Œæœ¬æ°æ˜è¢«ç§°ä¸ºå¥³äººã€‚é™¤æ­¤ä¹‹å¤–ï¼Œæˆ‘å‘ç°åœ¨æŸäº›åè®®ä¸­ï¼Œæ‰€æœ‰å‚ä¸è€…éƒ½è¢«æ ‡è®°ä¸ºä¸€ç§æ€§åˆ«ã€‚</font></font><br>
<br>
<pre><code class="python hljs">rss = [rd[e] <span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> rd <span class="hljs-keyword">if</span> len(rd[e][rd[e][<span class="hljs-string">'sex'</span>] != <span class="hljs-string">''</span>][<span class="hljs-string">'sex'</span>].unique()) == <span class="hljs-number">1</span>] <span class="hljs-comment">#rss â€“ races with single sex</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…±æœ‰633ä¸ªåè®®ï¼Œè¿™ä¼¼ä¹æ˜¯å®Œå…¨æœ‰å¯èƒ½çš„ï¼Œåªæ˜¯åˆ†åˆ«é’ˆå¯¹å¥³æ€§å’Œç”·æ€§çš„åè®®ã€‚ä½†æ˜¯äº‹å®æ˜¯ï¼Œå‡ ä¹æ‰€æœ‰è¿™äº›åè®®éƒ½åŒ…å«ç”·å¥³çš„å¹´é¾„æ®µï¼ˆç”·æ€§å¹´é¾„æ®µä»¥å­—æ¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€å¤´</font><font style="vertical-align: inherit;">ï¼Œå¥³æ€§ä»¥å­—æ¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€å¤´</font><font style="vertical-align: inherit;">ï¼‰ã€‚ä¾‹å¦‚ï¼š</font><font style="vertical-align: inherit;">é¢„æœŸå¹´é¾„ç»„çš„åç§°</font><font style="vertical-align: inherit;">ä»¥ç”·æ€§</font><font style="vertical-align: inherit;">å­—æ¯</font><i><font style="vertical-align: inherit;">M</font></i><font style="vertical-align: inherit;">å¼€å¤´ï¼Œ</font><font style="vertical-align: inherit;">ä»¥å¥³æ€§</font><font style="vertical-align: inherit;">å­—æ¯</font><i><font style="vertical-align: inherit;">F</font></i><font style="vertical-align: inherit;">å¼€å¤´</font><font style="vertical-align: inherit;">ã€‚åœ¨å‰ä¸¤ä¸ªç¤ºä¾‹ä¸­ï¼Œå°½ç®¡</font><i><font style="vertical-align: inherit;">æ€§åˆ«</font></i><font style="vertical-align: inherit;">åˆ—ä¸­å­˜åœ¨é”™è¯¯</font></font><br>
<br>
<code>'ITU World Cup Tiszaujvaros Olympic 2002'<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th>place</th>
<th><u>sex</u></th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>...</th>
<th>country raw</th>
<th><u>group raw</u></th>
<th>name raw</th>
</tr>
<tr>
<td>76</td>
<td><u>M</u></td>
<td>Dederko Ewa</td>
<td>POL</td>
<td>FPRO</td>
<td>...</td>
<td>POL</td>
<td><u>FPRO</u></td>
<td>Dederko Ewa</td>
</tr>
<tr>
<td>84</td>
<td><u>M</u></td>
<td>Chenevier Giunia</td>
<td>ITA</td>
<td>FPRO</td>
<td>...</td>
<td>ITA</td>
<td><u>FPRO</u></td>
<td>Chenevier Giunia</td>
</tr>
<tr>
<td>36</td>
<td><u>M</u></td>
<td>O'Grady Graham</td>
<td>NZL</td>
<td>MPRO</td>
<td>...</td>
<td>NZL</td>
<td><u>MPRO</u></td>
<td>O'Grady Graham</td>
</tr>
<tr>
<td>23</td>
<td><u>M</u></td>
<td>Danek Michal</td>
<td>CZE</td>
<td>MPRO</td>
<td>...</td>
<td>CZE</td>
<td><u>MPRO</u></td>
<td>Danek Michal</td>
</tr>
<tr>
<td>74</td>
<td><u>M</u></td>
<td>Peon Carole</td>
<td>FRA</td>
<td>FPRO</td>
<td>...</td>
<td>FRA</td>
<td><u>FPRO</u></td>
<td>Peon Carole</td>
</tr>
<tr>
<td>48</td>
<td><u>M</u></td>
<td>Hechenblaickner Daniel</td>
<td>AUT</td>
<td>MPRO</td>
<td>...</td>
<td>AUT</td>
<td><u>MPRO</u></td>
<td>Hechenblaickner Daniel</td>
</tr>
<tr>
<td>70</td>
<td><u>M</u></td>
<td>Blatchford Liz</td>
<td>GBR</td>
<td>FPRO</td>
<td>...</td>
<td>GBR</td>
<td><u>FPRO</u></td>
<td>Blatchford Liz</td>
</tr>
<tr>
<td>1</td>
<td><u>M</u></td>
<td>Walton Craig</td>
<td>AUS</td>
<td>MPRO</td>
<td>...</td>
<td>AUS</td>
<td><u>MPRO</u></td>
<td>Walton Craig</td>
</tr>
<tr>
<td>20</td>
<td><u>M</u></td>
<td>Hobor Peter</td>
<td>HUN</td>
<td>MPRO</td>
<td>...</td>
<td>HUN</td>
<td><u>MPRO</u></td>
<td>Hobor Peter</td>
</tr>
<tr>
<td>56</td>
<td><u>M</u></td>
<td>Kaldau Szabolcs</td>
<td>HUN</td>
<td>MPRO</td>
<td>...</td>
<td>HUN</td>
<td><u>MPRO</u></td>
<td>Kaldau Szabolcs</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œè¯¥ç¾¤ç»„çš„åç§°ä¼¼ä¹ä»èƒ½æ­£ç¡®æè¿°è¯¥æˆå‘˜çš„æ€§åˆ«ã€‚</font><font style="vertical-align: inherit;">åŸºäºå‡ ä¸ªç¤ºä¾‹ï¼Œæˆ‘ä»¬å‡è®¾æ­£ç¡®æŒ‡ç¤ºäº†ç»„ï¼Œå¹¶ä¸”å¯èƒ½é”™è¯¯åœ°æŒ‡ç¤ºäº†æ€§åˆ«ã€‚</font><font style="vertical-align: inherit;">æŸ¥æ‰¾ç»„åä¸­é¦–å­—æ¯ä¸æ€§åˆ«ä¸åŒ¹é…çš„æ‰€æœ‰æ¡ç›®ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬å°†ä½¿ç”¨group </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">group raw</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„åˆå§‹åç§°</font><font style="vertical-align: inherit;">ï¼Œå› ä¸ºåœ¨æ ‡å‡†åŒ–è¿‡ç¨‹ä¸­è®¸å¤šè®°å½•éƒ½æ²¡æœ‰åˆ†ç»„ï¼Œä½†æ˜¯ç°åœ¨æˆ‘ä»¬åªéœ€è¦ç¬¬ä¸€ä¸ªå­—æ¯ï¼Œå› æ­¤æ ‡å‡†å¹¶ä¸é‡è¦ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'grflc'</span>] = ar[<span class="hljs-string">'group raw'</span>].str.upper().str[<span class="hljs-number">0</span>] <span class="hljs-comment">#grflc â€“ group raw first letter capital</span>
grncs = ar[(ar[<span class="hljs-string">'grflc'</span>].isin([<span class="hljs-string">'M'</span>,<span class="hljs-string">'F'</span>]))&amp;(ar[<span class="hljs-string">'sex'</span>]!=ar[<span class="hljs-string">'grflc'</span>])] <span class="hljs-comment">#grncs â€“ group raw not consistent with sex</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰26 161ä¸ªè¿™æ ·çš„è®°å½•ã€‚</font><font style="vertical-align: inherit;">å¥½å§ï¼Œè®©æˆ‘ä»¬æ ¹æ®å¹´é¾„ç»„çš„åç§°æ›´æ­£æ€§åˆ«ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar.loc[grncs.index, <span class="hljs-string">'sex'</span>] = grncs[<span class="hljs-string">'grflc'</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹ç»“æœï¼š</font><font style="vertical-align: inherit;">å¥½ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨å‰©ä¸‹å¤šå°‘è®°å½•æ²¡æœ‰æ€§åˆ«ï¼Ÿ</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th><u>sex</u></th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>...</th>
<th>country raw</th>
<th><u>group raw</u></th>
<th><u>sex raw</u></th>
<th>grflc</th>
</tr>
<tr>
<td>...</td>
<td>59</td>
<td><u>F</u></td>
<td>Ueda Ai</td>
<td>JPN</td>
<td>FPRO</td>
<td>...</td>
<td>JPN</td>
<td><u>FPRO</u></td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>50</td>
<td><u>F</u></td>
<td>Zemanova Lenka</td>
<td>CZE</td>
<td>FPRO</td>
<td>...</td>
<td>CZE</td>
<td><u>FPRO</u></td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>83</td>
<td><u>F</u></td>
<td>Spearing Kyleigh</td>
<td>USA</td>
<td>FPRO</td>
<td>...</td>
<td>USA</td>
<td><u>FPRO</u></td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>63</td>
<td><u>F</u></td>
<td>Abysova Irina</td>
<td>RUS</td>
<td>FPRO</td>
<td>...</td>
<td>RUS</td>
<td><u>FPRO</u></td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>57</td>
<td><u>F</u></td>
<td>Knapp Anja</td>
<td>DEU</td>
<td>FPRO</td>
<td>...</td>
<td>GER</td>
<td><u>FPRO</u></td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>68</td>
<td><u>M</u></td>
<td>Matthews Andrew</td>
<td>GBR</td>
<td>M30-34</td>
<td>...</td>
<td>GBR</td>
<td><u>M30-34</u></td>
<td><u>F</u></td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>46</td>
<td><u>F</u></td>
<td>Rappaport Summer</td>
<td>USA</td>
<td>FPRO</td>
<td>...</td>
<td>USA</td>
<td><u>FPRO</u></td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>60</td>
<td><u>F</u></td>
<td>Reid Aileen</td>
<td>IRL</td>
<td>FPRO</td>
<td>...</td>
<td>IRL</td>
<td><u>FPRO</u></td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>142</td>
<td><u>F</u></td>
<td>Mcdowall Edwina</td>
<td>GBR</td>
<td>F45-49</td>
<td>...</td>
<td>GBR</td>
<td><u>F45-49</u></td>
<td></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>141</td>
<td><u>M</u></td>
<td>O'Bray Luke</td>
<td>GBR</td>
<td>M30-34</td>
<td>...</td>
<td>GBR</td>
<td><u>M30-34</u></td>
<td></td>
<td>M</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">ar[(ar[<span class="hljs-string">'sex'</span>] == <span class="hljs-string">''</span>)&amp;(ar[<span class="hljs-string">'name'</span>] != <span class="hljs-string">''</span>)]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸæ¥æ˜¯ä¸€ä¸ªï¼</font><font style="vertical-align: inherit;">
å¥½å§ï¼Œè¿™ä¸ªå°ç»„å¹¶æ²¡æœ‰çœŸæ­£è¡¨æ˜ï¼Œä½†æ˜¯ï¼Œæ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸€ä¸ªå¥³äººã€‚è‰¾ç±³ä¸½ï¼ˆEmilyï¼‰æ˜¯ä¸€ä½å¥³æ€§åå­—ï¼Œé™¤äº†è¯¥å‚ä¸è€…ï¼ˆæˆ–å¥¹çš„åŒåäººç‰©ï¼‰ä¸€å¹´å‰ç»“æŸæ¯”èµ›å¤–ï¼Œè¿˜æ ‡æ˜äº†æ€§åˆ«å’Œå›¢ä½“ã€‚</font><font style="vertical-align: inherit;">
æ‰‹åŠ¨æ¢å¤æ­¤å¤„*å¹¶ç»§ç»­ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th><u>sex</u></th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>...</th>
<th>country raw</th>
<th><u>group raw</u></th>
<th><u>sex raw</u></th>
<th>grflc</th>
</tr>
<tr>
<td>London Triathlon Olympic 2019</td>
<td>672</td>
<td></td>
<td>Stather Emily</td>
<td>GBR</td>
<td></td>
<td>...</td>
<td>GBR</td>
<td><u>unknown</u></td>
<td></td>
<td>U</td>
</tr>
</tbody></table></div></code><br><font style="vertical-align: inherit;"></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th><u>sex</u></th>
<th>name</th>
<th>country</th>
<th><u>group</u></th>
<th>...</th>
<th>country raw</th>
<th>group raw</th>
<th><u>sex raw</u></th>
<th>grflc</th>
</tr>
<tr>
<td>Ironman Staffordshire 70.3 2018</td>
<td>1859</td>
<td><u>F</u></td>
<td>Stather Emily</td>
<td>GBR</td>
<td><u>F40-44</u></td>
<td>...</td>
<td>GBR</td>
<td>F40-44</td>
<td><u>F</u></td>
<td>F</td>
</tr>
</tbody></table></div></code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">ar.loc[arns.index, <span class="hljs-string">'sex'</span>] = <span class="hljs-string">'F'</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æ‰€æœ‰è®°å½•éƒ½å¸¦æœ‰æ€§åˆ«ã€‚</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*é€šå¸¸æ¥è¯´ï¼Œè¿™æ ·åšå½“ç„¶æ˜¯é”™è¯¯çš„-é‡å¤è¿è¡Œï¼Œå¦‚æœåœ¨åç§°è½¬æ¢ä¹‹å‰é“¾ä¸­çš„æŸäº›å†…å®¹å‘ç”Ÿäº†å˜åŒ–ï¼ˆä¾‹å¦‚ï¼Œå§“åè½¬æ¢ï¼‰ï¼Œé‚£ä¹ˆå¯èƒ½ä¼šæœ‰ä¸æ­¢ä¸€ä¸ªæ€§åˆ«çš„è®°å½•è¶…è¿‡ä¸€ä¸ªï¼Œå¹¶ä¸”å¹¶éæ‰€æœ‰è®°å½•éƒ½æ˜¯å¥³æ€§çš„ï¼Œé‚£ä¹ˆå°±ä¼šå‘ç”Ÿé”™è¯¯ã€‚å› æ­¤ï¼Œæ‚¨å¿…é¡»æ’å…¥ç¹ççš„é€»è¾‘ä»¥åœ¨å…¶ä»–åè®®ä¸­æœç´¢å…·æœ‰ç›¸åŒåç§°å’Œæ€§åˆ«çš„å‚ä¸è€…ï¼Œä¾‹å¦‚æ¢å¤å›½å®¶/åœ°åŒºä»¥åŠå¦‚ä½•å¯¹å…¶è¿›è¡Œæµ‹è¯•ï¼Œæˆ–è€…ï¼Œä¸ºäº†é¿å…ä¸å¿…è¦çš„å¤æ‚åŒ–ï¼Œè¯·åœ¨æ­¤é€»è¾‘ä¸­æ·»åŠ ä»…æ‰¾åˆ°ä¸€æ¡è®°å½•çš„æ£€æŸ¥å¹¶ä¸”åç§°å¦‚æ­¤ä¹‹ç±»ï¼Œå¦åˆ™ä¼šå¼•å‘å¼‚å¸¸ï¼Œä»è€Œä½¿æ•´ä¸ªç¬”è®°æœ¬ç”µè„‘åœæ­¢å·¥ä½œï¼Œæ‚¨ä¼šæ³¨æ„åˆ°ä¸è®¡åˆ’çš„å·®å¼‚å¹¶è¿›è¡Œå¹²é¢„ã€‚</font></font></i><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">if</span> len(arns) == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> arns[<span class="hljs-string">'name'</span>].iloc[<span class="hljs-number">0</span>] == <span class="hljs-string">'Stather Emily'</span>:<font></font>
    ar.loc[arns.index, <span class="hljs-string">'sex'</span>] = <span class="hljs-string">'F'</span>
<span class="hljs-keyword">else</span>:
    <span class="hljs-keyword">raise</span> Exception(<span class="hljs-string">'Different scenario!'</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çœ‹æ¥è¿™å¯ä»¥è®©æ‚¨å¹³é™ä¸‹æ¥ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯äº‹å®æ˜¯ï¼Œæ›´æ­£æ˜¯åŸºäºæ­£ç¡®æŒ‡ç¤ºç»„çš„å‡è®¾ã€‚</font><font style="vertical-align: inherit;">ç¡®å®æ˜¯è¿™æ ·ã€‚</font><font style="vertical-align: inherit;">å‡ ä¹æ€»æ˜¯ã€‚</font><font style="vertical-align: inherit;">å‡ ä¹ã€‚</font><font style="vertical-align: inherit;">å°½ç®¡å¦‚æ­¤ï¼Œè¿˜æ˜¯å¶ç„¶å‘ç°äº†ä¸€äº›ä¸ä¸€è‡´çš„åœ°æ–¹ï¼Œæ‰€ä»¥ç°åœ¨è®©æˆ‘ä»¬å°è¯•ç¡®å®šæ‰€æœ‰è¿™äº›ä¸ä¸€è‡´ä¹‹å¤„ï¼Œæˆ–è€…å°½å¯èƒ½å¤šã€‚</font><font style="vertical-align: inherit;">å¦‚å‰æ‰€è¿°ï¼Œåœ¨ç¬¬ä¸€ä¸ªç¤ºä¾‹ä¸­ï¼Œæ°æ°æ˜¯è¿™æ ·ä¸€ä¸ªäº‹å®ï¼Œå³æ€§åˆ«åŸºäºå…¶è‡ªèº«å…³äºç”·æ€§å’Œå¥³æ€§å§“åçš„è§‚å¿µè€Œä¸å§“åä¸ç¬¦ï¼Œä»è€Œä¿æŠ¤äº†æˆ‘ä»¬ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ç”·æ€§å’Œå¥³æ€§è®°å½•ä¸Šæ‰¾åˆ°æ‰€æœ‰å§“åã€‚</font><font style="vertical-align: inherit;">åœ¨æ­¤ï¼Œåç§°åº”ç†è§£ä¸ºåç§°ï¼Œè€Œä¸æ˜¯å…¨åï¼Œå³æ²¡æœ‰å§“æ°çš„è‹±æ–‡</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åå­—</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'fn'</span>] = ar[<span class="hljs-string">'name'</span>].str.split().str[<span class="hljs-number">-1</span>] <span class="hljs-comment">#fn â€“ first name</span>
mfn = list(ar[ar[<span class="hljs-string">'sex'</span>] == <span class="hljs-string">'M'</span>][<span class="hljs-string">'fn'</span>].unique()) <span class="hljs-comment">#mfn â€“ male first names</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ€»å…±åˆ—å‡ºäº†32,508ä¸ªç”·æ€§åå­—ã€‚</font><font style="vertical-align: inherit;">ä»¥ä¸‹æ˜¯50ä¸ªæœ€å—æ¬¢è¿çš„ç½‘å€ï¼š</font></font><br>
<code>['Michael', 'David', 'Thomas', 'John', 'Daniel', 'Mark', 'Peter', 'Paul', 'Christian', 'Robert', 'Martin', 'James', 'Andrew', 'Chris', 'Richard', 'Andreas', 'Matthew', 'Brian', 'Kevin', 'Patrick', 'Scott', 'Stefan', 'Jason', 'Eric', 'Alexander', 'Christopher', 'Simon', 'Mike', 'Tim', 'Frank', 'Stephen', 'Steve', 'Jonathan', 'Marco', 'Markus', 'Adam', 'Ryan', 'Tom', 'Jan', 'Marc', 'Carlos', 'Matt', 'Steven', 'Jeff', 'Sergey', 'William', 'Aleksandr', 'Andrey', 'Benjamin', 'Jose']<br>
</code><br>
<br>
<pre><code class="python hljs">ffn = list(ar[ar[<span class="hljs-string">'sex'</span>] == <span class="hljs-string">'F'</span>][<span class="hljs-string">'fn'</span>].unique()) <span class="hljs-comment">#ffn â€“ female first names</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¥³æ€§æ›´å°‘-14423ã€‚æœ€å—æ¬¢è¿ï¼š</font><font style="vertical-align: inherit;">
å¥½ï¼Œçœ‹èµ·æ¥å¾ˆåˆé€»è¾‘ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬çœ‹çœ‹æ˜¯å¦æœ‰äº¤å‰ç‚¹ã€‚</font></font><br>
<code>['Jennifer', 'Sarah', 'Laura', 'Lisa', 'Anna', 'Michelle', 'Maria', 'Andrea', 'Nicole', 'Jessica', 'Julie', 'Elizabeth', 'Stephanie', 'Karen', 'Christine', 'Amy', 'Rebecca', 'Susan', 'Rachel', 'Anne', 'Heather', 'Kelly', 'Barbara', 'Claudia', 'Amanda', 'Sandra', 'Julia', 'Lauren', 'Melissa', 'Emma', 'Sara', 'Katie', 'Melanie', 'Kim', 'Caroline', 'Erin', 'Kate', 'Linda', 'Mary', 'Alexandra', 'Christina', 'Emily', 'Angela', 'Catherine', 'Claire', 'Elena', 'Patricia', 'Charlotte', 'Megan', 'Daniela']<br>
</code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">mffn = set(mfn).intersection(ffn) <span class="hljs-comment">#mffn â€“ male-female first names</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰ã€‚</font><font style="vertical-align: inherit;">å…¶ä¸­æœ‰2,811ä¸ªï¼Œè®©æˆ‘ä»¬ä»”ç»†çœ‹çœ‹ã€‚</font><font style="vertical-align: inherit;">é¦–å…ˆï¼Œæˆ‘ä»¬æ‰¾å‡ºå…·æœ‰è¿™äº›åç§°çš„è®°å½•æ•°ï¼š</font></font><br>
<br>
<pre><code class="python hljs">armfn = ar[ar[<span class="hljs-string">'fn'</span>].isin(mffn)] <span class="hljs-comment">#armfn â€“ all records with male-female names</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰725562ä¸ªã€‚ä¸€åŠï¼</font><font style="vertical-align: inherit;">å¤ªç¥å¥‡äº†ï¼</font><font style="vertical-align: inherit;">å¤§çº¦æœ‰37,000ä¸ªå”¯ä¸€åç§°ï¼Œä½†æœ‰ä¸€åŠè®°å½•å…±æœ‰2800ä¸ªï¼Œè®©æˆ‘ä»¬çœ‹çœ‹è¿™äº›åç§°æ˜¯ä»€ä¹ˆï¼Œå®ƒä»¬æ˜¯æœ€å—æ¬¢è¿çš„ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œè¯·åˆ›å»ºä¸€ä¸ªæ–°çš„æ•°æ®æ¡†ï¼Œå…¶ä¸­è¿™äº›åç§°å°†ä½œä¸ºç´¢å¼•ï¼š</font></font><br>
<br>
<pre><code class="python hljs">df = pd.DataFrame(armfn[<span class="hljs-string">'fn'</span>].value_counts())<font></font>
df = df.rename(columns={<span class="hljs-string">'fn'</span>:<span class="hljs-string">'total'</span>})
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬è®¡ç®—æ¯ä¸ªè®°å½•æœ‰å¤šå°‘ä¸ªç”·æ€§å’Œå¥³æ€§è®°å½•ã€‚</font></font><br>
<br>
<pre><code class="python hljs">df[<span class="hljs-string">'M'</span>] = armfn[armfn[<span class="hljs-string">'sex'</span>] == <span class="hljs-string">'M'</span>][<span class="hljs-string">'fn'</span>].value_counts()<font></font>
df[<span class="hljs-string">'F'</span>] = armfn[armfn[<span class="hljs-string">'sex'</span>] == <span class="hljs-string">'F'</span>][<span class="hljs-string">'fn'</span>].value_counts()
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>total</th>
<th>M</th>
<th>F</th>
</tr>
<tr>
<td>Michael</td>
<td>20648</td>
<td>20638</td>
<td>10</td>
</tr>
<tr>
<td>David</td>
<td>18493</td>
<td>18485</td>
<td>8</td>
</tr>
<tr>
<td>Thomas</td>
<td>12746</td>
<td>12740</td>
<td>6</td>
</tr>
<tr>
<td>John</td>
<td>11634</td>
<td>11632</td>
<td>2</td>
</tr>
<tr>
<td>Daniel</td>
<td>11045</td>
<td>11041</td>
<td>4</td>
</tr>
<tr>
<td>Mark</td>
<td>10968</td>
<td>10965</td>
<td>3</td>
</tr>
<tr>
<td>Peter</td>
<td>10692</td>
<td>10691</td>
<td>1</td>
</tr>
<tr>
<td>Paul</td>
<td>9616</td>
<td>9614</td>
<td>2</td>
</tr>
<tr>
<td>Christian</td>
<td>8863</td>
<td>8859</td>
<td>4</td>
</tr>
<tr>
<td>Robert</td>
<td>8666</td>
<td>8664</td>
<td>2</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‰€ä»¥...çœ‹èµ·æ¥å¯ç–‘ã€‚</font><font style="vertical-align: inherit;">æ®æˆ‘æ‰€çŸ¥ï¼Œæ‰€æœ‰è¿™äº›åå­—éƒ½æ˜¯ç”·æ€§çš„ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯æ¯ä¸€ä¸ªéƒ½æœ‰ä¸€äº›å¥³æ€§è®°å½•ã€‚</font><font style="vertical-align: inherit;">è¿™äº›å¯èƒ½æ˜¯æ•°æ®é”™è¯¯ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬çœ‹ä¸€ä¸‹å¥³æ€§åå­—ã€‚</font></font><br>
<br>
<pre><code class="python hljs">df.sort_values(by = <span class="hljs-string">'F'</span>, ascending=<span class="hljs-literal">False</span>)
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>total</th>
<th>M</th>
<th>F</th>
</tr>
<tr>
<td>Jennifer</td>
<td>3652</td>
<td>3</td>
<td>3649</td>
</tr>
<tr>
<td>Sarah</td>
<td>3288</td>
<td>4</td>
<td>3284</td>
</tr>
<tr>
<td>Laura</td>
<td>2636</td>
<td>3</td>
<td>2633</td>
</tr>
<tr>
<td>Lisa</td>
<td>2618</td>
<td>2</td>
<td>2616</td>
</tr>
<tr>
<td>Anna</td>
<td>2563</td>
<td>10</td>
<td>2553</td>
</tr>
<tr>
<td>Michelle</td>
<td>2373</td>
<td>1</td>
<td>2372</td>
</tr>
<tr>
<td>Maria</td>
<td>2555</td>
<td>386</td>
<td>2169</td>
</tr>
<tr>
<td>Andrea</td>
<td>4323</td>
<td>2235</td>
<td>2088</td>
</tr>
<tr>
<td>Nicole</td>
<td>2025</td>
<td>6</td>
<td>2019</td>
</tr>
<tr>
<td>Julie</td>
<td>1938</td>
<td>2</td>
<td>1936</td>
</tr>
<tr>
<td>...</td>
<td>...</td>
<td>...</td>
<td>...</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›¸åŒã€‚å‡ ä¹ã€‚å‡ºäº</font><font style="vertical-align: inherit;">æŸç§åŸå› ï¼Œ</font><font style="vertical-align: inherit;">è„±é¢–è€Œå‡ºçš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrea</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¡®å®æ˜¯ä¸€ä¸ªé›Œé›„åŒä½“çš„åå­—ï¼Œæ¯”</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Maria</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°‘</font><font style="vertical-align: inherit;">ä¸€äº›ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®é™…ä¸Šï¼Œä¸è¦å¿˜è®°æˆ‘ä»¬æ­£åœ¨ç ”ç©¶æ¥è‡ªä¸–ç•Œä¸åŒå›½å®¶ï¼ˆä¹Ÿè®¸æœ‰äººä¼šè¯´ï¼‰çš„äººä»¬çš„æ•°æ®ã€‚åœ¨ä¸åŒçš„æ–‡åŒ–ä¸­ï¼Œå¯ä»¥ä»¥å®Œå…¨ä¸åŒçš„æ–¹å¼ä½¿ç”¨ç›¸åŒçš„åç§°ã€‚è¿™æ˜¯ä¸€ä¸ªä¾‹å­ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡¯ä¼¦ï¼ˆKarenï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯æˆ‘ä»¬åå•ä¸Šæœ€å—æ¬¢è¿çš„å¥³æ€§åå­—ä¹‹ä¸€ï¼Œä½†å¦ä¸€æ–¹é¢ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‡¯ä¼¦ï¼ˆKaren</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰è¿™ä¸ªåå­—</font><font style="vertical-align: inherit;">ä¹Ÿå°†ä»¥éŸ³è¯‘çš„æ–¹å¼ä¹¦å†™ï¼Œä½†åªç”±ç”·æ€§æºå¸¦ã€‚å¹¸è¿çš„æ˜¯ï¼Œè¿™ä¸–ç•Œä¸Šæ‰€æœ‰çš„æ™ºæ…§éƒ½æœ‰ä¸€å¥—ã€‚ç§°ä¸º</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€§åˆ«çŒœæµ‹è€…</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®ƒæ˜¯è¿™æ ·çš„ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> gender_guesser.detector <span class="hljs-keyword">as</span> gg<font></font>
<font></font>
d = gg.Detector()<font></font>
d.get_gender(<span class="hljs-string">u'Oleg'</span>)</code></pre><br>
<code><b>Out:</b> 'male'<br>
</code><br>
<br>
<pre><code class="python hljs">d.get_gender(<span class="hljs-string">u'Evgeniya'</span>)
</code></pre><br>
<code><b>Out:</b> 'female'<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€åˆ‡éƒ½æ²¡äº‹ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œå¦‚æœæ‚¨æ£€æŸ¥</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Andrea</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„åå­—</font><font style="vertical-align: inherit;">ï¼Œé‚£ä¹ˆä»–ä¹Ÿä¼šç»™å‡º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¥³æ€§</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œä½†è¿™å¹¶ä¸æ˜¯å®Œå…¨æ­£ç¡®çš„ã€‚</font><font style="vertical-align: inherit;">æ²¡é”™ï¼Œè¿™æ˜¯å‡ºè·¯ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨æŸ¥çœ‹</font><font style="vertical-align: inherit;">æ£€æµ‹å™¨</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å±æ€§</font><font style="vertical-align: inherit;">ï¼Œé‚£ä¹ˆæ‰€æœ‰æ­§ä¹‰éƒ½å°†åœ¨æ­¤å¤„å¯è§ã€‚</font></font><br>
<br>
<pre><code class="python hljs">d.names[<span class="hljs-string">'Andrea'</span>]
</code></pre><br>
<code><b>Out: </b>{'female': ' 4 4 3 4788 64 579 34 1 7 ',<br>
 'mostly_female': '5 6 7 ',<br>
 'male': ' 7 '}<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ˜¯çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">get_gender</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»…ä¸ºæ‚¨æä¾›äº†æœ€å¯èƒ½çš„é€‰æ‹©ï¼Œä½†å®é™…ä¸Šå®ƒå¯èƒ½è¦å¤æ‚å¾—å¤šã€‚</font><font style="vertical-align: inherit;">æ£€æŸ¥å…¶ä»–åç§°ï¼š</font></font><br>
<br>
<pre><code class="python hljs">d.names[<span class="hljs-string">'Maria'</span>]
</code></pre><br>
<code><b>Out:</b> {'female': '686 6 A 85986 A BA 3B98A75457 6 ',<br>
 'mostly_female': ' BBC A 678A9 '}<br>
</code><br>
<br>
<pre><code class="python hljs">d.names[<span class="hljs-string">'Oleg'</span>]
</code></pre><br>
<code><b>Out:</b> {'male': ' 6 2 99894737 3 '}<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¹Ÿå°±æ˜¯è¯´ï¼Œ</font><font style="vertical-align: inherit;">æ¯ä¸ªåç§°</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åç§°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ—è¡¨</font><font style="vertical-align: inherit;">å¯¹åº”äºä¸€ä¸ªæˆ–å¤šä¸ªé”®å€¼å¯¹ï¼Œå…¶ä¸­é”®-å®ƒæ˜¯æ€§åˆ«ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maleï¼ŒFEMALEï¼Œmostly_maleï¼Œmostly_femaleå’Œandy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œå€¼-ç›¸åº”å›½å®¶/åœ°åŒºçš„å€¼åˆ—è¡¨ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,2,3 ... .. 9ABC</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿™äº›å›½å®¶æ˜¯ï¼š</font></font><br>
<br>
<pre><code class="python hljs">d.COUNTRIES</code></pre><br>
<code><b>Out:</b> ['great_britain', 'ireland', 'usa', 'italy', 'malta', 'portugal', 'spain', 'france', 'belgium', 'luxembourg', 'the_netherlands', 'east_frisia', 'germany', 'austria', 'swiss', 'iceland', 'denmark', 'norway', 'sweden', 'finland', 'estonia', 'latvia', 'lithuania', 'poland', 'czech_republic', 'slovakia', 'hungary', 'romania', 'bulgaria', 'bosniaand', 'croatia', 'kosovo', 'macedonia', 'montenegro', 'serbia', 'slovenia', 'albania', 'greece', 'russia', 'belarus', 'moldova', 'ukraine', 'armenia', 'azerbaijan', 'georgia', 'the_stans', 'turkey', 'arabia', 'israel', 'china', 'india', 'japan', 'korea', 'vietnam', 'other_countries']<br>
</code> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä¸å®Œå…¨ç†è§£å­—æ¯æ•°å­—çš„å«ä¹‰æˆ–å®ƒä»¬åœ¨åˆ—è¡¨ä¸­çš„å…·ä½“å«ä¹‰ã€‚</font><font style="vertical-align: inherit;">ä½†è¿™å¹¶ä¸é‡è¦ï¼Œå› ä¸ºæˆ‘å†³å®šé™åˆ¶è‡ªå·±åªä½¿ç”¨é‚£äº›å…·æœ‰æ˜ç¡®è§£é‡Šçš„åç§°ã€‚</font><font style="vertical-align: inherit;">ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹äºå®ƒï¼Œåªæœ‰ä¸€å¯¹é”®å€¼å¯¹ï¼Œå¹¶ä¸”é”®æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">male</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ–</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">female</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">å¯¹äºæˆ‘ä»¬æ•°æ®æ¡†ä¸­çš„æ¯ä¸ªåç§°ï¼Œå†™ä¸‹å…¶å¯¹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€§åˆ«çŒœæµ‹çš„</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è§£é‡Š</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs">df[<span class="hljs-string">'sex from gg'</span>] = <span class="hljs-string">''</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> df.index:
    <span class="hljs-keyword">if</span> n <span class="hljs-keyword">in</span> list(d.names.keys()):<font></font>
        options = list(d.names[n].keys())<font></font>
        <span class="hljs-keyword">if</span> len(options) == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> options[<span class="hljs-number">0</span>] == <span class="hljs-string">'male'</span>:<font></font>
            df.loc[n, <span class="hljs-string">'sex from gg'</span>] = <span class="hljs-string">'M'</span>
        <span class="hljs-keyword">if</span> len(options) == <span class="hljs-number">1</span> <span class="hljs-keyword">and</span> options[<span class="hljs-number">0</span>] == <span class="hljs-string">'female'</span>:<font></font>
            df.loc[n, <span class="hljs-string">'sex from gg'</span>] = <span class="hljs-string">'F'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸæ¥æœ‰1,150ä¸ªåå­—ã€‚</font><font style="vertical-align: inherit;">è¿™é‡Œæ˜¯ä¸Šé¢å·²ç»è®¨è®ºè¿‡çš„æœ€å—æ¬¢è¿çš„ï¼š</font><font style="vertical-align: inherit;">å¥½å§ï¼Œè¿˜ä¸é”™ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨å°†æ­¤é€»è¾‘åº”ç”¨äºæ‰€æœ‰è®°å½•ã€‚</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>total</th>
<th>M</th>
<th>F</th>
<th>sex from gg</th>
</tr>
<tr>
<td>Michael</td>
<td>20648</td>
<td>20638</td>
<td>10</td>
<td>M</td>
</tr>
<tr>
<td>David</td>
<td>18493</td>
<td>18485</td>
<td>8</td>
<td>M</td>
</tr>
<tr>
<td>Thomas</td>
<td>12746</td>
<td>12740</td>
<td>6</td>
<td>M</td>
</tr>
<tr>
<td>John</td>
<td>11634</td>
<td>11632</td>
<td>2</td>
<td>M</td>
</tr>
<tr>
<td>Daniel</td>
<td>11045</td>
<td>11041</td>
<td>4</td>
<td>M</td>
</tr>
<tr>
<td>Mark</td>
<td>10968</td>
<td>10965</td>
<td>3</td>
<td>M</td>
</tr>
<tr>
<td>Peter</td>
<td>10692</td>
<td>10691</td>
<td>1</td>
<td>M</td>
</tr>
<tr>
<td>Paul</td>
<td>9616</td>
<td>9614</td>
<td>2</td>
<td>M</td>
</tr>
<tr>
<td>Christian</td>
<td>8863</td>
<td>8859</td>
<td>4</td>
<td></td>
</tr>
<tr>
<td>Robert</td>
<td>8666</td>
<td>8664</td>
<td>2</td>
<td>M</td>
</tr>
</tbody></table></div></code><br>
 <code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>total</th>
<th>M</th>
<th>F</th>
<th>sex from gg</th>
</tr>
<tr>
<td>Jennifer</td>
<td>3652</td>
<td>3</td>
<td>3649</td>
<td>F</td>
</tr>
<tr>
<td>Sarah</td>
<td>3288</td>
<td>4</td>
<td>3284</td>
<td>F</td>
</tr>
<tr>
<td>Laura</td>
<td>2636</td>
<td>3</td>
<td>2633</td>
<td>F</td>
</tr>
<tr>
<td>Lisa</td>
<td>2618</td>
<td>2</td>
<td>2616</td>
<td>F</td>
</tr>
<tr>
<td>Anna</td>
<td>2563</td>
<td>10</td>
<td>2553</td>
<td>F</td>
</tr>
<tr>
<td>Michelle</td>
<td>2373</td>
<td>1</td>
<td>2372</td>
<td>F</td>
</tr>
<tr>
<td>Maria</td>
<td>2555</td>
<td>386</td>
<td>2169</td>
<td></td>
</tr>
<tr>
<td>Andrea</td>
<td>4323</td>
<td>2235</td>
<td>2088</td>
<td></td>
</tr>
<tr>
<td>Nicole</td>
<td>2025</td>
<td>6</td>
<td>2019</td>
<td>F</td>
</tr>
<tr>
<td>Julie</td>
<td>1938</td>
<td>2</td>
<td>1936</td>
<td></td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">all_names = ar[<span class="hljs-string">'fn'</span>].unique()<font></font>
<font></font>
male_names = []<font></font>
female_names = []<font></font>
<font></font>
<span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> all_names:
    <span class="hljs-keyword">if</span> n <span class="hljs-keyword">in</span> list(d.names.keys()):<font></font>
        options = list(d.names[n].keys())<font></font>
        <span class="hljs-keyword">if</span> len(options) == <span class="hljs-number">1</span>:
            <span class="hljs-keyword">if</span> options[<span class="hljs-number">0</span>] == <span class="hljs-string">'male'</span>:<font></font>
                male_names.append(n)<font></font>
            <span class="hljs-keyword">if</span> options[<span class="hljs-number">0</span>] == <span class="hljs-string">'female'</span>:<font></font>
                female_names.append(n)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‘ç°ç”·æ€§7 091äººï¼Œå¥³æ€§5 054äººã€‚</font><font style="vertical-align: inherit;">åº”ç”¨è½¬æ¢ï¼š</font></font><br>
<br>
<pre><code class="python hljs">tofixm = ar[ar[<span class="hljs-string">'fn'</span>].isin(male_names)]<font></font>
ar.loc[tofixm.index, <span class="hljs-string">'sex'</span>] = <span class="hljs-string">'M'</span>
tofixf = ar[ar[<span class="hljs-string">'fn'</span>].isin(female_names)]<font></font>
ar.loc[tofixf.index, <span class="hljs-string">'sex'</span>] = <span class="hljs-string">'F'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬çœ‹ä¸€ä¸‹ç»“æœï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar[ar[<span class="hljs-string">'sex'</span>]!=ar[<span class="hljs-string">'sex raw'</span>]]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ›´æ­£äº†30,352ä¸ªæ¡ç›®ï¼ˆè¿åŒæŒ‰ç»„åè¿›è¡Œçš„æ›´æ­£ï¼‰ã€‚</font><font style="vertical-align: inherit;">åƒå¾€å¸¸ä¸€æ ·ï¼ŒéšæœºæŠ½å–10ä¸ªï¼š</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œæˆ‘ä»¬ç¡®å®šå·²æ­£ç¡®è¯†åˆ«æ€§åˆ«ï¼Œæˆ‘ä»¬è¿˜å°†åŠ å…¥æ ‡å‡†ç»„ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬çœ‹çœ‹å®ƒä»¬ä¸åŒ¹é…çš„åœ°æ–¹ï¼š</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th><u>sex</u></th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>...</th>
<th>country raw</th>
<th>group raw</th>
<th><u>sex raw</u></th>
<th>grflc</th>
</tr>
<tr>
<td>...</td>
<td>37</td>
<td><u>F</u></td>
<td>Pilz Christiane</td>
<td>DEU</td>
<td>FPRO</td>
<td>...</td>
<td>GER</td>
<td>FPRO</td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>92</td>
<td><u>F</u></td>
<td>Brault Sarah-Anne</td>
<td>CAN</td>
<td>FPRO</td>
<td>...</td>
<td>CAN</td>
<td>FPRO</td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>96</td>
<td><u>F</u></td>
<td>Murphy Susanna</td>
<td>IRL</td>
<td>FPRO</td>
<td>...</td>
<td>IRL</td>
<td>FPRO</td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>105</td>
<td><u>F</u></td>
<td>Spoelder Romy</td>
<td>NLD</td>
<td></td>
<td>...</td>
<td>NED</td>
<td>FJUNIOR</td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>424</td>
<td><u>M</u></td>
<td>Watson Tom</td>
<td>GBR</td>
<td>M40-44</td>
<td>...</td>
<td>GBR</td>
<td>M40-44</td>
<td><u>F</u></td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>81</td>
<td><u>F</u></td>
<td>Morel Charlotte</td>
<td>FRA</td>
<td></td>
<td>...</td>
<td>FRA</td>
<td>FJUNIOR</td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>65</td>
<td><u>F</u></td>
<td>Selekhova Olga</td>
<td>RUS</td>
<td></td>
<td>...</td>
<td>RUS</td>
<td>FU23</td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>166</td>
<td><u>F</u></td>
<td>Keat Rebekah</td>
<td>AUS</td>
<td></td>
<td>...</td>
<td>AUS</td>
<td>FJUNIOR</td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>119</td>
<td><u>F</u></td>
<td>Eim Nina</td>
<td>DEU</td>
<td></td>
<td>...</td>
<td>GER</td>
<td>FQUALâ€¦</td>
<td><u>M</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>73</td>
<td><u>F</u></td>
<td>Sukhoruchenkova Evgenia</td>
<td>RUS</td>
<td>FPRO</td>
<td>...</td>
<td>RUS</td>
<td>FPRO</td>
<td><u>M</u></td>
<td>F</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">ar[<span class="hljs-string">'gfl'</span>] = ar[<span class="hljs-string">'group'</span>].str[<span class="hljs-number">0</span>]<font></font>
gncws = ar[(ar[<span class="hljs-string">'sex'</span>] != ar[<span class="hljs-string">'gfl'</span>]) &amp; (ar[<span class="hljs-string">'group'</span>]!=<span class="hljs-string">''</span>)]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4,248ä¸ªæ¡ç›®ã€‚</font><font style="vertical-align: inherit;">æ›¿æ¢ç¬¬ä¸€ä¸ªå­—æ¯ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar.loc[gncws.index, <span class="hljs-string">'group'</span>] = ar.loc[gncws.index, <span class="hljs-string">'sex'</span>] + ar.loc[gncws.index, <span class="hljs-string">'group'</span>].str[<span class="hljs-number">1</span>:].index, <span class="hljs-string">'sex'</span>]
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th><u>sex</u></th>
<th>name</th>
<th>country</th>
<th><u>group</u></th>
<th>...</th>
<th>country raw</th>
<th><u>group raw</u></th>
<th>sex raw</th>
</tr>
<tr>
<td>...</td>
<td>803</td>
<td><u>F</u></td>
<td>Kenney Joelle</td>
<td>USA</td>
<td><u>F35-39</u></td>
<td>...</td>
<td>USA</td>
<td><u>M35-39</u></td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>1432</td>
<td><u>M</u></td>
<td>Holmberg Henriette Gorm</td>
<td>DNK</td>
<td><u>M45-49</u></td>
<td>...</td>
<td>DEN</td>
<td><u>F45-49</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>503</td>
<td><u>M</u></td>
<td>Tai Oy Leen</td>
<td>MYS</td>
<td><u>M40-44</u></td>
<td>...</td>
<td>MAS</td>
<td><u>F40-44</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>236</td>
<td><u>F</u></td>
<td>Dissanayake Aruna</td>
<td>LKA</td>
<td><u>F25-29</u></td>
<td>...</td>
<td>SRI</td>
<td><u>M25-29</u></td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>1349</td>
<td><u>F</u></td>
<td>Delos Reyes Joshua Rafaelle</td>
<td>PHL</td>
<td><u>F18-24</u></td>
<td>...</td>
<td>PHI</td>
<td><u>M18-24</u></td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>543</td>
<td><u>F</u></td>
<td>Vandekendelaere Janique</td>
<td>BEL</td>
<td><u>F50-54</u></td>
<td>...</td>
<td>BEL</td>
<td><u>M50-54</u></td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>1029</td>
<td><u>M</u></td>
<td>Provost Shaun</td>
<td>USA</td>
<td><u>M25-29</u></td>
<td>...</td>
<td>USA</td>
<td><u>F25-29</u></td>
<td>F</td>
</tr>
<tr>
<td>...</td>
<td>303</td>
<td><u>F</u></td>
<td>Torrens Vadell Macia</td>
<td>ESP</td>
<td><u>F30-34</u></td>
<td>...</td>
<td>ESP</td>
<td><u>M30-34</u></td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>1338</td>
<td><u>F</u></td>
<td>Suarez Renan</td>
<td>BOL</td>
<td><u>F35-39</u></td>
<td>...</td>
<td>BOL</td>
<td><u>M35-39</u></td>
<td>M</td>
</tr>
<tr>
<td>...</td>
<td>502</td>
<td><u>F</u></td>
<td>Everlo Linda</td>
<td>NLD</td>
<td><u>F30-34</u></td>
<td>...</td>
<td>NED</td>
<td><u>M30-34</u></td>
<td>M</td>
</tr>
</tbody></table></div></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯èƒ½åœ¨æŸå¤„æ›´æ­£è¢«è¯æ˜æ˜¯ä¸æ­£ç¡®çš„ï¼Œä½†æ¯ä¸ªäººéƒ½ä»¥ä¸ºè‡ªå·±åšçš„æ˜¯å¼Šå¤§äºåˆ©ã€‚</font><font style="vertical-align: inherit;">å¯¹äºç»Ÿè®¡ï¼Œè¿™å¾ˆé‡è¦ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¢å¤æ€§ç”Ÿæ´»å°±æ˜¯è¿™æ ·ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬åˆ é™¤å·¥ä½œåˆ—ï¼Œç¿»è¯‘æˆå­—å…¸å¹¶ä¿å­˜ã€‚</font></font><br>
<br>
<pre><code class="python hljs">pkl.dump(rd, open(<span class="hljs-string">r'D:\tri\details8.pkl'</span>, <span class="hljs-string">'wb'</span>))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°±è¿™æ ·ï¼Œæ¢å¤ä¸å®Œæ•´çš„æ•°æ®ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¬å‘Šæ›´æ–°</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»ç„¶éœ€è¦ç”¨å…³äºç”·å¥³äººæ•°ç­‰æ–¹é¢çš„æœ€æ–°æ•°æ®æ¥æ›´æ–°æ±‡æ€»è¡¨ã€‚ </font></font><br>
<br>
<pre><code class="python hljs">rs[<span class="hljs-string">'total raw'</span>] = rs[<span class="hljs-string">'total'</span>]<font></font>
rs[<span class="hljs-string">'males raw'</span>] = rs[<span class="hljs-string">'males'</span>]<font></font>
rs[<span class="hljs-string">'females raw'</span>] = rs[<span class="hljs-string">'females'</span>]<font></font>
rs[<span class="hljs-string">'rus raw'</span>] = rs[<span class="hljs-string">'rus'</span>]<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> rs.index:<font></font>
    e = rs.loc[i,<span class="hljs-string">'event'</span>]<font></font>
    rs.loc[i,<span class="hljs-string">'total'</span>] = len(rd[e])<font></font>
    rs.loc[i,<span class="hljs-string">'males'</span>] = len(rd[e][rd[e][<span class="hljs-string">'sex'</span>] == <span class="hljs-string">'M'</span>])<font></font>
    rs.loc[i,<span class="hljs-string">'females'</span>] = len(rd[e][rd[e][<span class="hljs-string">'sex'</span>] == <span class="hljs-string">'F'</span>])<font></font>
    rs.loc[i,<span class="hljs-string">'rus'</span>] = len(rd[e][rd[e][<span class="hljs-string">'country'</span>] == <span class="hljs-string">'RUS'</span>])<font></font>
<font></font>
len(rs[rs[<span class="hljs-string">'total'</span>] != rs[<span class="hljs-string">'total raw'</span>]])</code></pre><br>
<code><b>Out:</b> 288<br>
</code><br>
<br>
<pre><code class="python hljs">len(rs[rs[<span class="hljs-string">'males'</span>] != rs[<span class="hljs-string">'males raw'</span>]])
</code></pre><br>
<code><b>Out:</b>962<br>
</code><br>
<br>
<pre><code class="python hljs">len(rs[rs[<span class="hljs-string">'females'</span>] != rs[<span class="hljs-string">'females raw'</span>]])
</code></pre><br>
<code><b>Out:</b> 836<br>
</code><br>
<br>
<pre><code class="python hljs">len(rs[rs[<span class="hljs-string">'rus'</span>] != rs[<span class="hljs-string">'rus raw'</span>]])
</code></pre><br>
<code><b>Out:</b> 8<br>
</code><br>
<br>
<pre><code class="python hljs">pkl.dump(rs, open(<span class="hljs-string">r'D:\tri\summary6.pkl'</span>, <span class="hljs-string">'wb'</span>))
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬4éƒ¨åˆ†ã€‚é‡‡æ ·</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨é“äººä¸‰é¡¹å¾ˆå—æ¬¢è¿ã€‚</font><font style="vertical-align: inherit;">åœ¨æœ¬èµ›å­£ä¸­ï¼Œæœ‰è®¸å¤šå…¬å¼€æ¯”èµ›ï¼Œå¤§é‡è¿åŠ¨å‘˜ï¼ˆä¸»è¦æ˜¯ä¸šä½™è¿åŠ¨å‘˜ï¼‰å‚åŠ ã€‚</font><font style="vertical-align: inherit;">ä½†è¿™å¹¶éæ€»æ˜¯å¦‚æ­¤ã€‚</font><font style="vertical-align: inherit;">è‡ª1990å¹´ä»¥æ¥ï¼Œæˆ‘ä»¬çš„æ•°æ®ä¸­å°±æœ‰è®°å½•ã€‚</font><font style="vertical-align: inherit;">æ»šåŠ¨æµè§ˆtristats.ruï¼Œæˆ‘æ³¨æ„åˆ°è¿‘å¹´æ¥æœ‰å¾ˆå¤šæ¯”èµ›ï¼Œè€Œåœ¨å‰å‡ åœºæ¯”èµ›ä¸­å¾ˆå°‘ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œæ—¢ç„¶æˆ‘ä»¬çš„æ•°æ®å·²ç»å‡†å¤‡å¥½äº†ï¼Œæ‚¨å¯ä»¥æ›´ä»”ç»†åœ°æŸ¥çœ‹å®ƒã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åå¹´æœŸé—´</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®¡ç®—æ¯å¹´çš„æ¯”èµ›å’Œå®Œæˆè€…æ•°é‡ï¼š</font></font><br>
<br>
<pre><code class="python hljs">rs[<span class="hljs-string">'year'</span>] = pd.DatetimeIndex(rs[<span class="hljs-string">'date'</span>]).year<font></font>
years = range(rs[<span class="hljs-string">'year'</span>].min(),rs[<span class="hljs-string">'year'</span>].max())<font></font>
rsy = pd.DataFrame(columns = [<span class="hljs-string">'races'</span>, <span class="hljs-string">'finishers'</span>, <span class="hljs-string">'rus'</span>, <span class="hljs-string">'RUS'</span>], index = years) <span class="hljs-comment">#rsy â€“ races summary by year</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> rsy.index:<font></font>
    rsy.loc[y,<span class="hljs-string">'races'</span>] = len(rs[rs[<span class="hljs-string">'year'</span>] == y])<font></font>
    rsy.loc[y,<span class="hljs-string">'finishers'</span>] = sum(rs[rs[<span class="hljs-string">'year'</span>] == y][<span class="hljs-string">'total'</span>])<font></font>
    rsy.loc[y,<span class="hljs-string">'rus'</span>] =  sum(rs[rs[<span class="hljs-string">'year'</span>] == y][<span class="hljs-string">'rus'</span>])<font></font>
    rsy.loc[y,<span class="hljs-string">'RUS'</span>] = len(rs[(rs[<span class="hljs-string">'year'</span>] == y)&amp;(rs[<span class="hljs-string">'country'</span>] == <span class="hljs-string">'RUS'</span>)])
</code></pre><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>year</th>
<th>races</th>
<th>finishers</th>
<th>rus</th>
<th>RUS</th>
</tr>
<tr>
<td>1990</td>
<td>1</td>
<td>286</td>
<td>5</td>
<td>0</td>
</tr>
<tr>
<td>1991</td>
<td>0</td>
<td>0</td>
<td>0</td>
<td>0</td>
</tr>
<tr>
<td>1992</td>
<td>1</td>
<td>317</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>1993</td>
<td>2</td>
<td>887</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>1994</td>
<td>2</td>
<td>128</td>
<td>3</td>
<td>0</td>
</tr>
<tr>
<td>1995</td>
<td>3</td>
<td>731</td>
<td>7</td>
<td>0</td>
</tr>
<tr>
<td>1996</td>
<td>3</td>
<td>776</td>
<td>6</td>
<td>0</td>
</tr>
<tr>
<td>1997</td>
<td>3</td>
<td>403</td>
<td>11</td>
<td>0</td>
</tr>
<tr>
<td>1998</td>
<td>4</td>
<td>583</td>
<td>21</td>
<td>0</td>
</tr>
<tr>
<td>1999</td>
<td>10</td>
<td>1106</td>
<td>26</td>
<td>0</td>
</tr>
<tr>
<td>2000</td>
<td>10</td>
<td>1231</td>
<td>29</td>
<td>0</td>
</tr>
<tr>
<td>2001</td>
<td>11</td>
<td>1992</td>
<td>32</td>
<td>0</td>
</tr>
<tr>
<td>2002</td>
<td>21</td>
<td>2249</td>
<td>100</td>
<td>0</td>
</tr>
<tr>
<td>2003</td>
<td>30</td>
<td>3152</td>
<td>158</td>
<td>0</td>
</tr>
<tr>
<td>2004</td>
<td>19</td>
<td>5488</td>
<td>128</td>
<td>1</td>
</tr>
<tr>
<td>2005</td>
<td>16</td>
<td>3024</td>
<td>244</td>
<td>1</td>
</tr>
<tr>
<td>2006</td>
<td>29</td>
<td>6210</td>
<td>369</td>
<td>1</td>
</tr>
<tr>
<td>2007</td>
<td>44</td>
<td>12153</td>
<td>444</td>
<td>1</td>
</tr>
<tr>
<td>2008</td>
<td>43</td>
<td>13830</td>
<td>369</td>
<td>1</td>
</tr>
<tr>
<td>2009</td>
<td>49</td>
<td>27047</td>
<td>478</td>
<td>1</td>
</tr>
<tr>
<td>2010</td>
<td>47</td>
<td>26528</td>
<td>366</td>
<td>1</td>
</tr>
<tr>
<td>2011</td>
<td>77</td>
<td>45412</td>
<td>848</td>
<td>5</td>
</tr>
<tr>
<td>2012</td>
<td>96</td>
<td>75590</td>
<td>1055</td>
<td>4</td>
</tr>
<tr>
<td>2013</td>
<td>98</td>
<td>86617</td>
<td>2165</td>
<td>9</td>
</tr>
<tr>
<td>2014</td>
<td>135</td>
<td>138018</td>
<td>3188</td>
<td>11</td>
</tr>
<tr>
<td>2015</td>
<td>164</td>
<td>172375</td>
<td>4846</td>
<td>15</td>
</tr>
<tr>
<td>2016</td>
<td>192</td>
<td>178630</td>
<td>7541</td>
<td>27</td>
</tr>
<tr>
<td>2017</td>
<td>238</td>
<td>185473</td>
<td>8825</td>
<td>42</td>
</tr>
<tr>
<td>2018</td>
<td>278</td>
<td>203031</td>
<td>10954</td>
<td>54</td>
</tr>
<tr>
<td>2019</td>
<td>293</td>
<td>220901</td>
<td>13354</td>
<td>59</td>
</tr>
</tbody></table></div></code><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RUS-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èµ›è½¦åœ¨ä¿„ç½—æ–¯ã€‚</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rus-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿„ç½—æ–¯çš„</font><i><font style="vertical-align: inherit;">ç²¾åŠ å·¥</font></i><font style="vertical-align: inherit;">è€…ã€‚</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯å›¾è¡¨ä¸Šçš„æ ·å­ï¼š</font></font><br>
<img src="https://habrastorage.org/webt/nx/yg/4s/nxyg4syvd0x-0f16nxl1ucvhyma.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯ä»¥çœ‹å‡ºï¼Œåœ¨è¯¥æ—¶æœŸå¼€å§‹å’Œç»“æŸæ—¶çš„ç§æ—å’Œå‚ä¸è€…çš„æ•°é‡ç®€ç›´æ˜¯æ— æ³•ä¼°é‡çš„ã€‚ä»2011å¹´å¼€å§‹ï¼Œæ¯”èµ›çš„æ€»æ•°å¤§å¹…åº¦å¢åŠ ï¼Œè€Œä¿„ç½—æ–¯çš„èµ·è·‘æ¬¡æ•°ä¹Ÿæœ‰æ‰€å¢åŠ ã€‚æ­¤å¤–ï¼Œå¯ä»¥å›æº¯åˆ°2009å¹´ï¼Œå‚ä¸è€…äººæ•°æœ‰æ‰€å¢åŠ ã€‚è¿™å¯èƒ½è¡¨æ˜å‚ä¸è€…ä¹‹é—´çš„å…´è¶£å¢åŠ ï¼Œå³éœ€æ±‚å¢åŠ ï¼Œæ­¤åä¸¤å¹´åä¾›åº”å¢åŠ ï¼Œå³å¯åŠ¨æ¬¡æ•°ã€‚ä½†æ˜¯ï¼Œè¯·ä¸è¦å¿˜è®°æ•°æ®å¯èƒ½ä¸å®Œæ•´ï¼Œæœ‰äº›ç”šè‡³å¯èƒ½ç¼ºå°‘è®¸å¤šæ¯”èµ›ã€‚åŒ…æ‹¬ç”±äºæ”¶é›†æ•°æ®çš„é¡¹ç›®ä»…åœ¨2010å¹´æ‰å¼€å§‹çš„äº‹å®ï¼Œè¿™ä¹Ÿå¯ä»¥è§£é‡Šæ­¤æ—¶æ­¤å›¾çš„é‡å¤§é£è·ƒã€‚å› æ­¤ï¼Œä¸ºäº†è¿›ä¸€æ­¥åˆ†æï¼Œæˆ‘å†³å®šé€‰æ‹©è¿‡å»çš„åå¹´ã€‚è¿™æ˜¯ä¸€ä¸ªç›¸å½“é•¿çš„æ—¶æœŸï¼Œä¸ºäº†è·Ÿè¸ªå‡ å¹´ä¸­çš„ä»»ä½•è¶‹åŠ¿ï¼Œè€ŒåˆçŸ­åˆ°æ— æ³•åˆ°è¾¾é‚£é‡Œï¼Œä¸»è¦æ˜¯90å¹´ä»£å’Œ2000å¹´ä»£åˆæœŸçš„ä¸“ä¸šæ¯”èµ›ã€‚</font></font><br>
<br>
<pre><code class="python hljs">rs = rs[(rs[<span class="hljs-string">'year'</span>]&gt;=<span class="hljs-number">2010</span>)&amp;(rs[<span class="hljs-string">'year'</span>]&lt;= <span class="hljs-number">2019</span>)]
</code></pre><br>
<img src="https://habrastorage.org/webt/ck/p4/qf/ckp4qfjucrjhl7kvu-0fyv_ilbc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¡ºä¾¿è¯´ä¸€å¥ï¼Œåœ¨é€‰å®šçš„æ—¶æœŸå†…ï¼Œæœ‰84ï¼…çš„æ¯”èµ›å’Œ94ï¼…çš„å®Œæˆè€…æ‘”å€’äº†ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¸šä½™å¼€å§‹</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œé€‰å®šèµ·ç‚¹çš„ç»å¤§å¤šæ•°å‚ä¸è€…æ˜¯ä¸šä½™è¿åŠ¨å‘˜ï¼Œå› æ­¤å¯ä»¥ä»ä»–ä»¬é‚£é‡Œè·å¾—è‰¯å¥½çš„ç»Ÿè®¡æ•°æ®ã€‚è€å®è¯´ï¼Œè¿™æ˜¯æˆ‘çš„ä¸»è¦å…´è¶£æ‰€åœ¨ï¼Œå› ä¸ºæˆ‘æœ¬äººä¹Ÿå‚åŠ äº†è¿™æ ·çš„æ¯”èµ›ï¼Œä½†ä»æ°´å¹³ä¸Šè¯´ï¼Œå®ƒç¦»å¥¥è¿ä¼šå† å†›å¾ˆè¿œã€‚ä½†æ˜¯ï¼Œåœ¨é€‰å®šçš„æ—¶æœŸå†…æ˜¾ç„¶ä¹Ÿè¿›è¡Œäº†ä¸“ä¸šæ¯”èµ›ã€‚ä¸ºäº†ä¸æ··æ·†ä¸šä½™å’ŒèŒä¸šæ¯”èµ›çš„æŒ‡æ ‡ï¼Œå†³å®šå°†åè€…ä»è€ƒè™‘ä¸­åˆ é™¤ã€‚å¦‚ä½•è¯†åˆ«å®ƒä»¬ï¼Ÿé€šè¿‡é€Ÿåº¦ã€‚æˆ‘ä»¬è®¡ç®—å®ƒä»¬ã€‚åœ¨æ•°æ®å‡†å¤‡çš„åˆå§‹é˜¶æ®µä¹‹ä¸€ï¼Œæˆ‘ä»¬å·²ç»ç¡®å®šäº†æ¯åœºæ¯”èµ›çš„è·ç¦»ç±»å‹æ˜¯ï¼šå†²åˆºï¼Œå¥¥è¿ï¼ŒåŠé“ï¼Œé“æ†ã€‚å¯¹äºæ¯ä¸ªé˜¶æ®µï¼Œéƒ½æ˜ç¡®å®šä¹‰äº†å„ä¸ªé˜¶æ®µçš„é‡Œç¨‹æ•°-æ¸¸æ³³ï¼Œéª‘è‡ªè¡Œè½¦å’Œè·‘æ­¥ã€‚çŸ­è·‘çš„åˆ†æ•°æ˜¯0.75 + 20 + 5ï¼Œå¥¥è¿ä¼šçš„åˆ†æ•°æ˜¯1.5 + 40 + 10ï¼ŒåŠå†³èµ›çš„åˆ†æ•°æ˜¯1.9 + 90 + 21.1ã€‚é“ä¸º8 + 180 + 42.2ã€‚å½“ç„¶ï¼Œå®é™…ä¸Šï¼Œå¯¹äºä»»ä½•ç±»å‹ï¼Œå®é™…æ•°å­—éƒ½å¯èƒ½å› ç§æ—è€Œå¼‚ï¼Œæœ‰æ¡ä»¶åœ°å˜åŒ–åˆ°ç™¾åˆ†ä¹‹ä¸€ï¼Œä½†æ˜¯æ²¡æœ‰æœ‰å…³æ­¤çš„ä¿¡æ¯ï¼Œå› æ­¤æˆ‘ä»¬å°†å‡å®šä¸€åˆ‡éƒ½æ˜¯å‡†ç¡®çš„ã€‚</font></font><br>
<br>
<pre><code class="python hljs">rs[<span class="hljs-string">'km'</span>] = <span class="hljs-string">''</span><font></font>
<font></font>
rs.loc[rs[<span class="hljs-string">'dist'</span>] == <span class="hljs-string">'sprint'</span>, <span class="hljs-string">'km'</span>] = <span class="hljs-number">0.75</span>+<span class="hljs-number">20</span>+<span class="hljs-number">5</span>
rs.loc[rs[<span class="hljs-string">'dist'</span>] == <span class="hljs-string">'olympic'</span>, <span class="hljs-string">'km'</span>] = <span class="hljs-number">1.5</span>+<span class="hljs-number">40</span>+<span class="hljs-number">10</span>
rs.loc[rs[<span class="hljs-string">'dist'</span>] == <span class="hljs-string">'half'</span>, <span class="hljs-string">'km'</span>] = <span class="hljs-number">1.9</span>+<span class="hljs-number">90</span>+<span class="hljs-number">21.1</span>
rs.loc[rs[<span class="hljs-string">'dist'</span>] == <span class="hljs-string">'full'</span>, <span class="hljs-string">'km'</span>] = <span class="hljs-number">3.8</span>+<span class="hljs-number">180</span>+<span class="hljs-number">42.2</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬è®¡ç®—æ¯åœºæ¯”èµ›çš„å¹³å‡é€Ÿåº¦å’Œæœ€å¤§é€Ÿåº¦ã€‚</font><font style="vertical-align: inherit;">æ­¤å¤„çš„æœ€å¤§å€¼æ˜¯æŒ‡è·å¾—ç¬¬ä¸€åçš„è¿åŠ¨å‘˜çš„å¹³å‡é€Ÿåº¦ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> index, row <span class="hljs-keyword">in</span> rs.iterrows():<font></font>
    e = row[<span class="hljs-string">'event'</span>]<font></font>
    rd[e][<span class="hljs-string">'th'</span>] = pd.TimedeltaIndex(rd[e][<span class="hljs-string">'result'</span>]).seconds/<span class="hljs-number">3600</span>
    rd[e][<span class="hljs-string">'v'</span>] = rs.loc[i, <span class="hljs-string">'km'</span>] / rd[e][<span class="hljs-string">'th'</span>]<font></font>
<font></font>
<span class="hljs-keyword">for</span> index, row <span class="hljs-keyword">in</span> rs.iterrows():<font></font>
    e = row[<span class="hljs-string">'event'</span>]<font></font>
    rs.loc[index,<span class="hljs-string">'vmax'</span>] = rd[e][<span class="hljs-string">'v'</span>].max()<font></font>
    rs.loc[index,<span class="hljs-string">'vavg'</span>] = rd[e][<span class="hljs-string">'v'</span>].mean()
</code></pre><br>
<img src="https://habrastorage.org/webt/81/6k/pe/816kpel94nzs-hsp9dphfdhtq3g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¥½äº†ï¼Œæ‚¨å¯ä»¥çœ‹åˆ°å¤§éƒ¨åˆ†é€Ÿåº¦èšé›†åœ¨å¤§çº¦15 km / hå’Œ30 km / hä¹‹é—´çš„å †ä¸­ï¼Œä½†æ˜¯æœ‰ä¸€å®šæ•°é‡çš„å®Œå…¨â€œå®‡å®™â€å€¼ã€‚</font><font style="vertical-align: inherit;">æŒ‰å¹³å‡é€Ÿåº¦æ’åºï¼Œçœ‹çœ‹æœ‰å¤šå°‘ï¼š</font></font><br>
<br>
<pre><code class="python hljs">rs = rs.sort_values(by=<span class="hljs-string">'vavg'</span>)
</code></pre><br>
<img src="https://habrastorage.org/webt/aa/wi/ws/aawiwsx0kcmhzyq3y3ezcm_fy0o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™é‡Œï¼Œæˆ‘ä»¬æ›´æ”¹äº†æ¯”ä¾‹ï¼Œå¯ä»¥æ›´å‡†ç¡®åœ°ä¼°è®¡èŒƒå›´ã€‚å¹³å‡é€Ÿåº¦çº¦ä¸º17 km / hè‡³27 km / hï¼Œæœ€å¤§é€Ÿåº¦ä¸º18 km / hè‡³32 km / hã€‚å¦å¤–ï¼Œæœ‰äº›â€œå°¾å·´â€çš„å¹³å‡é€Ÿåº¦éå¸¸ä½ï¼Œéå¸¸é«˜ã€‚ä½é€Ÿå¾ˆå¯èƒ½å¯¹åº”äº</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Norsemanä¹‹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç±»çš„æé™æ¯”èµ›</font><font style="vertical-align: inherit;">ï¼Œåœ¨å–æ¶ˆæ¸¸æ³³çš„æƒ…å†µ</font><font style="vertical-align: inherit;">ä¸‹</font><font style="vertical-align: inherit;">å¯èƒ½å‡ºç°</font><font style="vertical-align: inherit;">é«˜é€Ÿï¼Œ</font><font style="vertical-align: inherit;">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä¸æ˜¯å†²åˆºï¼Œè€Œæ˜¯è¶…çº§å†²åˆºï¼Œæˆ–è€…åªæ˜¯é”™è¯¯çš„æ•°æ®ã€‚å¦ä¸€ä¸ªè¦ç‚¹æ˜¯</font><font style="vertical-align: inherit;">æ²¿</font><i><font style="vertical-align: inherit;">X</font></i><font style="vertical-align: inherit;">è½´</font><font style="vertical-align: inherit;">åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1200</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒºåŸŸå†…çš„å¹³æ»‘å°é˜¶</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥åŠæ›´é«˜çš„å¹³å‡é€Ÿåº¦å€¼ã€‚</font><font style="vertical-align: inherit;">åœ¨é‚£é‡Œï¼Œæ‚¨å¯ä»¥çœ‹åˆ°å¹³å‡é€Ÿåº¦å’Œæœ€å¤§é€Ÿåº¦ä¹‹é—´çš„å·®å¼‚è¿œå°äºå›¾è¡¨çš„å‰ä¸‰åˆ†ä¹‹äºŒã€‚</font><font style="vertical-align: inherit;">æ˜¾ç„¶ï¼Œè¿™æ˜¯ä¸€åœºèŒä¸šæ¯”èµ›ã€‚</font><font style="vertical-align: inherit;">ä¸ºäº†æ›´æ¸…æ¥šåœ°åŒºåˆ†å®ƒä»¬ï¼Œæˆ‘ä»¬è®¡ç®—äº†æœ€å¤§é€Ÿåº¦ä¸å¹³å‡å€¼çš„æ¯”ç‡ã€‚</font><font style="vertical-align: inherit;">åœ¨ä¸“ä¸šæ¯”èµ›ä¸­ï¼Œæ²¡æœ‰éšæœºçš„äººï¼Œå¹¶ä¸”æ‰€æœ‰å‚ä¸è€…çš„èº«ä½“ç´ è´¨éƒ½å¾ˆé«˜ï¼Œå› æ­¤è¯¥æ¯”ä¾‹åº”è¯¥å¾ˆå°ã€‚</font></font><br>
<br>
<pre><code class="python hljs">rs[<span class="hljs-string">'vmdbva'</span>] = rs[<span class="hljs-string">'vmax'</span>]/rs[<span class="hljs-string">'vavg'</span>] <span class="hljs-comment">#vmdbva - v max divided by v avg</span>
rs = rs.sort_values(by=<span class="hljs-string">'vmdbva'</span>)
</code></pre><br>
<img src="https://habrastorage.org/webt/li/cv/pr/licvprwpcx3zlws5pjufo0dxhcm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ­¤å›¾è¡¨ä¸Šï¼Œç¬¬ä¸€å­£åº¦éå¸¸æ˜æ˜¾ï¼šæœ€å¤§é€Ÿåº¦ä¸å¹³å‡æ¯”ç‡ä¹‹æ¯”å¾ˆå°ï¼Œå¹³å‡é€Ÿåº¦è¾ƒé«˜ï¼Œå‚ä¸è€…äººæ•°å¾ˆå°‘ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯ä¸€åœºä¸“ä¸šæ¯”èµ›ã€‚</font><font style="vertical-align: inherit;">ç»¿è‰²æ›²çº¿ä¸Šçš„å°é˜¶å¤§çº¦ä¸º1.2ã€‚</font><font style="vertical-align: inherit;">åœ¨æ ·æœ¬ä¸­ï¼Œæˆ‘ä»¬å°†ä»…ä¿ç•™æ¯”ç‡å€¼å¤§äº1.2çš„è®°å½•ã€‚</font></font><br>
<br>
<pre><code class="python hljs">rs = rs[rs[<span class="hljs-string">'vmdbva'</span>] &gt; <span class="hljs-number">1.2</span>]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬è¿˜ä¼šåˆ é™¤éå…¸å‹çš„ä½é€Ÿå’Œé«˜é€Ÿè®°å½•ã€‚</font><font style="vertical-align: inherit;">åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»€ä¹ˆæ˜¯é“äººä¸‰é¡¹â€œä¸–ç•Œçºªå½•â€ä¸ºæ¯ä¸ªè·ç¦»ï¼Ÿ</font></font></i></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘å¸ƒäº†2019å¹´é€šè¿‡ä¸åŒè·ç¦»çš„è®°å½•æ—¶é—´ã€‚</font><font style="vertical-align: inherit;">å¦‚æœä»¥ä¸­ç­‰é€Ÿåº¦è®¡ç®—å®ƒä»¬ï¼Œé‚£ä¹ˆå³ä½¿æœ€å¿«ï¼Œä¹Ÿä¸èƒ½è¶…è¿‡33 km / hã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œæˆ‘ä»¬å°†è€ƒè™‘å¹³å‡é€Ÿåº¦è¾ƒé«˜ï¼Œæ— æ•ˆçš„åè®®ï¼Œå¹¶å°†å…¶ä»è€ƒè™‘ä¸­åˆ é™¤ã€‚</font></font><br>
<br>
<pre><code class="python hljs">rs = rs[(rs[<span class="hljs-string">'vavg'</span>] &gt; <span class="hljs-number">17</span>)&amp;(rs[<span class="hljs-string">'vmax'</span>] &lt; <span class="hljs-number">33</span>)]
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‰©ä¸‹çš„å°±æ˜¯ï¼š</font></font><br>
<img src="https://habrastorage.org/webt/t1/dk/_p/t1dk_pixaznwxlfsunkxpx5yfum.png"><br>
<img src="https://habrastorage.org/webt/qk/9u/4a/qk9u4anxmpnwehsdhckfn64ucvw.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œä¸€åˆ‡çœ‹èµ·æ¥éƒ½å¾ˆç›¸ä¼¼ï¼Œå¹¶ä¸”æ²¡æœ‰å¼•å‘ä»»ä½•é—®é¢˜ã€‚</font><font style="vertical-align: inherit;">æ‰€æœ‰è¿™äº›é€‰æ‹©çš„ç»“æœæ˜¯ï¼Œæˆ‘ä»¬ä¸¢å¤±äº†1922å¹´åè®®ä¸­çš„777ä¸ªï¼Œå³40ï¼…ã€‚</font><font style="vertical-align: inherit;">åŒæ—¶ï¼Œæ•´ç†æœºçš„æ€»æ•°æ²¡æœ‰å‡å°‘å¤ªå¤š-ä»…å‡å°‘äº†13ï¼…ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œå‰©ä¸‹1,145åœºæ¯”èµ›è¿˜æœ‰1,231,772åå®Œæˆè€…ã€‚</font><font style="vertical-align: inherit;">è¯¥æ ·æœ¬æˆä¸ºæˆ‘è¿›è¡Œåˆ†æå’Œå¯è§†åŒ–çš„ç´ æã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬5éƒ¨åˆ†ã€‚åˆ†æå’Œå¯è§†åŒ–</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨è¿™é¡¹å·¥ä½œä¸­ï¼Œé€‚å½“çš„åˆ†æå’Œå¯è§†åŒ–æ˜¯æœ€ç®€å•çš„éƒ¨åˆ†ã€‚</font><font style="vertical-align: inherit;">å†°å±±ä¸€è§’ï¼Œå…¶æ°´ä¸‹éƒ¨åˆ†åªæ˜¯æ•°æ®çš„å‡†å¤‡ã€‚</font><font style="vertical-align: inherit;">å®é™…ä¸Šï¼Œè¯¥åˆ†ææ˜¯å¯¹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pandas Series</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„ç®€å•ç®—æœ¯è¿ç®—</font><font style="vertical-align: inherit;">ï¼Œè®¡ç®—å¹³å‡å€¼ï¼Œè¿›è¡Œè¿‡æ»¤-æ‰€æœ‰è¿™äº›æ“ä½œéƒ½æ˜¯ç”±åŸºæœ¬çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pandas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å·¥å…·å®Œæˆçš„ï¼Œ</font><font style="vertical-align: inherit;">å¹¶ä¸”ä¸Šé¢çš„ä»£ç åŒ…å«äº†ç¤ºä¾‹ã€‚</font><font style="vertical-align: inherit;">åè¿‡æ¥ï¼Œå¯è§†åŒ–ä¸»è¦æ˜¯ä½¿ç”¨æœ€</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ‡å‡†çš„matplotlibå®Œæˆçš„</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">äºŒæ‰‹</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æƒ…èŠ‚ï¼Œé…’å§ï¼Œé¦…é¥¼</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œåœ¨æŸäº›åœ°æ–¹ï¼Œåœ¨æ—¥æœŸå’Œè±¡å½¢å›¾çš„æƒ…å†µä¸‹ï¼Œæˆ‘ä¸å¾—ä¸ä¿®æ”¹è½´çš„ç­¾åï¼Œä½†è¿™å¹¶ä¸æ˜¯åœ¨æ­¤å¤„è¿›è¡Œè¯¦ç»†æè¿°çš„å†…å®¹ã€‚</font><font style="vertical-align: inherit;">å”¯ä¸€å€¼å¾—ä¸€æçš„æ˜¯åœ°ç†æ•°æ®çš„è¡¨ç¤ºã€‚</font><font style="vertical-align: inherit;">è‡³å°‘ä¸æ˜¯</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">matplotlib</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ°ç†æ•°æ®</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºæ¯åœºæ¯”èµ›ï¼Œæˆ‘ä»¬éƒ½æœ‰å…³äºåœºåœ°çš„ä¿¡æ¯ã€‚</font><font style="vertical-align: inherit;">ä»ä¸€å¼€å§‹ï¼Œ</font><font style="vertical-align: inherit;">æˆ‘ä»¬</font><font style="vertical-align: inherit;">å°±ä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geopy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¥è®¡ç®—æ¯ä¸ªä½ç½®çš„åæ ‡ã€‚</font><font style="vertical-align: inherit;">æ¯å¹´åœ¨åŒä¸€åœ°ç‚¹ä¸¾è¡Œè®¸å¤šæ¯”èµ›ã€‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;">folium</font></i></a><font style="vertical-align: inherit;">æ˜¯</font><font style="vertical-align: inherit;">
ç”¨äºåœ¨</font><i><font style="vertical-align: inherit;">pythonä¸­</font></i><font style="vertical-align: inherit;">æ¸²æŸ“åœ°ç†æ•°æ®çš„éå¸¸æ–¹ä¾¿çš„å·¥å…·</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿ä½œæ–¹å¼å¦‚ä¸‹ï¼š</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>event</th>
<th>date</th>
<th>country</th>
<th><u>latitude</u></th>
<th><u>longitude</u></th>
<th>loc</th>
<th>â€¦</th>
</tr>
<tr>
<td>0</td>
<td>Ironman Indian Wells La Quinta 70.3 2019</td>
<td>2019-12-08</td>
<td>USA</td>
<td><u>33.7238</u></td>
<td><u>-116.305</u></td>
<td>Indian Wells/La Quinta, California, USA</td>
<td>â€¦</td>
</tr>
<tr>
<td>1</td>
<td>Ironman Taupo 70.3 2019</td>
<td>2019-12-07</td>
<td>NZL</td>
<td><u>-41.5001</u></td>
<td><u>172.834</u></td>
<td>New Zealand</td>
<td>â€¦</td>
</tr>
<tr>
<td>2</td>
<td>Ironman Western Australia 2019</td>
<td>2019-12-01</td>
<td>AUS</td>
<td><u>-33.6445</u></td>
<td><u>115.349</u></td>
<td>Busselton, Western Australia</td>
<td>â€¦</td>
</tr>
<tr>
<td>3</td>
<td>Ironman Mar del Plata 2019</td>
<td>2019-12-01</td>
<td>ARG</td>
<td><u>-37.9977</u></td>
<td><u>-57.5483</u></td>
<td>Mar del Plata, Argentina</td>
<td>â€¦</td>
</tr>
<tr>
<td>4</td>
<td>Ironman Cozumel 2019</td>
<td>2019-11-24</td>
<td>MEX</td>
<td><u>20.4318</u></td>
<td><u>-86.9203</u></td>
<td>Cozumel, Mexico</td>
<td>â€¦</td>
</tr>
<tr>
<td>5</td>
<td>Ironman Arizona 2019</td>
<td>2019-11-24</td>
<td>USA</td>
<td><u>33.4255</u></td>
<td><u>-111.94</u></td>
<td>Tempe, Arizona, USA</td>
<td>â€¦</td>
</tr>
<tr>
<td>6</td>
<td>Ironman Xiamen 70.3 2019</td>
<td>2019-11-10</td>
<td>CHN</td>
<td><u>24.4758</u></td>
<td><u>118.075</u></td>
<td>Xiamen, China</td>
<td>â€¦</td>
</tr>
<tr>
<td>7</td>
<td>Ironman Turkey 70.3 2019</td>
<td>2019-11-03</td>
<td>TUR</td>
<td><u>36.8633</u></td>
<td><u>31.0578</u></td>
<td>Belek, Antalya, Turkey</td>
<td>â€¦</td>
</tr>
<tr>
<td>8</td>
<td>Ironman Florida 2019</td>
<td>2019-11-02</td>
<td>USA</td>
<td><u>30.1766</u></td>
<td><u>-85.8055</u></td>
<td>Panama City Beach, Florida, USA</td>
<td>â€¦</td>
</tr>
<tr>
<td>9</td>
<td>Ironman Marrakech 70.3 2019</td>
<td>2019-10-27</td>
<td>MAR</td>
<td><u>31.6258</u></td>
<td><u>-7.98916</u></td>
<td>Marrakech, Morocco</td>
<td>â€¦</td>
</tr>
<tr>
<td>10</td>
<td>Ironman Waco 70.3 2019</td>
<td>2019-10-27</td>
<td>USA</td>
<td><u>31.5493</u></td>
<td><u>-97.1467</u></td>
<td>Waco, Texas, USA</td>
<td>â€¦</td>
</tr>
</tbody></table></div></code><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><i><font style="vertical-align: inherit;"></font></i></a><font style="vertical-align: inherit;"></font><br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> folium<font></font>
<font></font>
m = folium.Map() <font></font>
folium.Marker([<span class="hljs-string">'55.7522200'</span>, <span class="hljs-string">'37.6155600'</span>], popup=<span class="hljs-string">''</span>).add_to(m)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è€Œä¸”æˆ‘ä»¬å¯ä»¥åœ¨Jupiterç¬”è®°æœ¬ç”µè„‘ä¸­è·å¾—äº¤äº’å¼åœ°å›¾ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jc/hp/fs/jchpfspvaahnnbvwtgwx2wqkppu.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œåˆ°æˆ‘ä»¬çš„æ•°æ®ã€‚</font><font style="vertical-align: inherit;">é¦–å…ˆï¼Œæˆ‘ä»¬å°†ä»åæ ‡çš„ç»„åˆå¼€å§‹ä¸€ä¸ªæ–°åˆ—ï¼š</font></font><br>
<br>
<pre><code class="python hljs">rs[<span class="hljs-string">'coords'</span>] = rs[<span class="hljs-string">'latitude'</span>].astype(str) + <span class="hljs-string">', '</span> + rs[<span class="hljs-string">'longitude'</span>].astype(str)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç‹¬ç‰¹çš„åæ ‡ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">COORDS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯291.è€Œç‹¬ç‰¹çš„ä½ç½®</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LOC</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ˜¯324ï¼Œè¿™æ„å‘³ç€ä¸€äº›åå­—ç¨å¾®æœ‰äº›ä¸åŒï¼Œè€Œåœ¨åŒä¸€æ—¶é—´ï¼Œä»–ä»¬å¯¹åº”çš„ç›¸åŒç‚¹ã€‚</font><font style="vertical-align: inherit;">è¿™å¹¶ä¸å¯æ€•ï¼Œæˆ‘ä»¬å°†é€šè¿‡</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åè°ƒ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¥è€ƒè™‘å”¯ä¸€æ€§</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬è®¡ç®—æ¯ä¸ªä½ç½®ï¼ˆå…·æœ‰å”¯ä¸€åæ ‡ï¼‰åœ¨æ•´ä¸ªæ—¶é—´å†…ç»è¿‡äº†å¤šå°‘ä¸ªäº‹ä»¶ï¼š</font></font><br>
<br>
<pre><code class="python hljs">vc = rs[<span class="hljs-string">'coords'</span>].value_counts()<font></font>
<font></font>
vc</code></pre><br>
<code><b>Out:</b><br>
43.7009358, 7.2683912 22<br>
43.5854823, 39.723109 20<br>
29.03970805, -13.636291 16<br>
47.3723941, 8.5423328 16<br>
59.3110918, 24.420907 15<br>
51.0834196, 10.4234469 15<br>
54.7585694, 38.8818137 14<br>
20.4317585, -86.9202745 13<br>
52.3727598, 4.8936041 12<br>
41.6132925, 2.6576102 12<br>
... ...<br>
</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨åˆ›å»ºä¸€ä¸ªåœ°å›¾ï¼Œå¹¶ä»¥åœ†åœˆçš„å½¢å¼åœ¨å…¶ä¸Šæ·»åŠ æ ‡è®°ï¼Œå…¶åŠå¾„å°†å–å†³äºè¯¥åœ°ç‚¹ä¸¾è¡Œçš„æ´»åŠ¨çš„æ•°é‡ã€‚</font><font style="vertical-align: inherit;">å°†å¸¦æœ‰ä½ç½®åç§°çš„æ ‡è®°æ·»åŠ åˆ°æ ‡è®°ä¸­ã€‚</font></font><br>
<br>
<pre><code class="python hljs">m = folium.Map(location=[<span class="hljs-number">25</span>,<span class="hljs-number">10</span>], zoom_start=<span class="hljs-number">2</span>)<font></font>
<font></font>
<span class="hljs-keyword">for</span> c <span class="hljs-keyword">in</span> rs[<span class="hljs-string">'coords'</span>].unique():<font></font>
    row = [r[<span class="hljs-number">1</span>] <span class="hljs-keyword">for</span> r <span class="hljs-keyword">in</span> rs.iterrows() <span class="hljs-keyword">if</span> r[<span class="hljs-number">1</span>][<span class="hljs-string">'coords'</span>] == c][<span class="hljs-number">0</span>]    <font></font>
    folium.Circle([row[<span class="hljs-string">'latitude'</span>], row[<span class="hljs-string">'longitude'</span>]], <font></font>
					popup=(row[<span class="hljs-string">'location'</span>]+<span class="hljs-string">'\n('</span>+str(vc[c])+<span class="hljs-string">' races)'</span>), <font></font>
					radius = <span class="hljs-number">10000</span>*int(vc[c]), <font></font>
					color=<span class="hljs-string">'darkorange'</span>, <font></font>
					fill=<span class="hljs-literal">True</span>, <font></font>
					stroke=<span class="hljs-literal">True</span>, <font></font>
					weight=<span class="hljs-number">1</span>).add_to(m)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åšå®Œäº† </font><font style="vertical-align: inherit;">æ‚¨å¯ä»¥çœ‹åˆ°ç»“æœï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ch/d4/gj/chd4gj0qbyjrzyjikpmslgesw0i.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‚åŠ è€…è¿›åº¦</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®é™…ä¸Šï¼Œé™¤äº†æŒ‡å¯¼ä¹‹å¤–ï¼ŒæŒ‰ç…§å¦ä¸€ä¸ªæ—¶é—´è¡¨è¿›è¡Œå·¥ä½œä¹Ÿæ˜¯ä¸å®¹æ˜“çš„ã€‚è¿™æ˜¯å‚ä¸è€…çš„æœ€æ–°è¿›åº¦å›¾ã€‚å®ƒæ˜¯è¿™æ ·çš„ï¼š</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/rf/ca/jq/rfcajquw4qluhsw9wuhicbgk7rm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬å¯¹å…¶è¿›è¡Œåˆ†æï¼ŒåŒæ—¶æˆ‘å°†ç»™å‡ºæ¸²æŸ“ä»£ç ï¼Œä½œä¸ºä½¿ç”¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">matplotlib</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„ç¤ºä¾‹</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="python hljs">fig = plt.figure()<font></font>
fig.set_size_inches(<span class="hljs-number">10</span>, <span class="hljs-number">6</span>)<font></font>
<font></font>
ax = fig.add_axes([<span class="hljs-number">0</span>,<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">1</span>])<font></font>
<font></font>
b = ax.bar(exp,numrecs, color = <span class="hljs-string">'navajowhite'</span>)<font></font>
<font></font>
ax1 = ax.twinx()<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(exp_samp)):<font></font>
    ax1.plot(exp_samp[i], vproc_samp[i], <span class="hljs-string">'.'</span>)<font></font>
	<font></font>
p, = ax1.plot(exp, vpm, <span class="hljs-string">'o-'</span>,markersize=<span class="hljs-number">8</span>, linewidth=<span class="hljs-number">2</span>, color=<span class="hljs-string">'C0'</span>)<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(exp)):
    <span class="hljs-keyword">if</span> i &lt; len(exp)<span class="hljs-number">-1</span> <span class="hljs-keyword">and</span> (vpm[i] &lt; vpm[i+<span class="hljs-number">1</span>]):<font></font>
        ax1.text(x = exp[i]+<span class="hljs-number">0.1</span>, y = vpm[i]<span class="hljs-number">-0.2</span>, s = <span class="hljs-string">'{0:3.1f}%'</span>.format(vpm[i]),size=<span class="hljs-number">12</span>)
    <span class="hljs-keyword">else</span>:<font></font>
        ax1.text(x = exp[i]+<span class="hljs-number">0.1</span>, y = vpm[i]+<span class="hljs-number">0.1</span>, s = <span class="hljs-string">'{0:3.1f}%'</span>.format(vpm[i]),size=<span class="hljs-number">12</span>)<font></font>
<font></font>
ax.legend((b,p), (<span class="hljs-string">' '</span>, <span class="hljs-string">''</span>),loc=<span class="hljs-string">'center right'</span>)<font></font>
ax.set_xlabel(<span class="hljs-string">'   '</span>)<font></font>
ax.set_ylabel(<span class="hljs-string">''</span>)<font></font>
ax1.set_ylabel(<span class="hljs-string">'%     '</span>)<font></font>
ax.set_xticks(np.arange(<span class="hljs-number">1</span>, <span class="hljs-number">11</span>, step=<span class="hljs-number">1</span>))<font></font>
ax.set_yticks(np.arange(<span class="hljs-number">0</span>, <span class="hljs-number">230000</span>, step=<span class="hljs-number">25000</span>))<font></font>
ax1.set_ylim(<span class="hljs-number">97.5</span>,<span class="hljs-number">103.5</span>)<font></font>
ax.yaxis.set_label_position(<span class="hljs-string">"right"</span>)<font></font>
ax.yaxis.tick_right()<font></font>
ax1.yaxis.set_label_position(<span class="hljs-string">"left"</span>)<font></font>
ax1.yaxis.tick_left()      <font></font>
<font></font>
plt.show()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ä»‹ç»å¦‚ä½•ä¸ºä»–è®¡ç®—æ•°æ®ã€‚</font><font style="vertical-align: inherit;">é¦–å…ˆï¼Œæ‚¨å¿…é¡»é€‰æ‹©è‡³å°‘å‚åŠ è¿‡ä¸¤åœºæ¯”èµ›ä¸”åœ¨ä¸åŒæ—¥å†å¹´ä¸­å‡å®Œæˆæ¯”èµ›ä¸”å¹¶éä¸“ä¸šäººå£«çš„å‚ä¸è€…çš„å§“åã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œå¯¹äºæ¯ä¸ªåè®®ï¼Œå¡«å†™ä¸€ä¸ªåä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">date</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„æ–°åˆ—</font><font style="vertical-align: inherit;">ï¼Œè¯¥</font><font style="vertical-align: inherit;">åˆ—</font><font style="vertical-align: inherit;">å°†æŒ‡ç¤ºæ¯”èµ›çš„æ—¥æœŸã€‚</font><font style="vertical-align: inherit;">ä»è¯¥æ—¥æœŸèµ·ï¼Œæˆ‘ä»¬è¿˜éœ€è¦ä¸€å¹´ï¼Œå› æ­¤æˆ‘ä»¬å°†åˆ—è®¾ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">year</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ç”±äºæˆ‘ä»¬è¦åˆ†ææ¯ä¸ªè¿åŠ¨å‘˜ç›¸å¯¹äºæ¯”èµ›ä¸­å¹³å‡é€Ÿåº¦çš„é€Ÿåº¦ï¼Œå› æ­¤æˆ‘ä»¬ç«‹å³åœ¨æ–°åˆ—</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vprocä¸­</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è®¡ç®—è¯¥é€Ÿåº¦</font><font style="vertical-align: inherit;">-è¯¥é€Ÿåº¦å å¹³å‡é€Ÿåº¦çš„ç™¾åˆ†æ¯”ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> index, row <span class="hljs-keyword">in</span> rs.iterrows():<font></font>
    e = row[<span class="hljs-string">'event'</span>]<font></font>
    rd[e][<span class="hljs-string">'date'</span>] = row[<span class="hljs-string">'date'</span>]<font></font>
    rd[e][<span class="hljs-string">'year'</span>] = row[<span class="hljs-string">'year'</span>]<font></font>
    rd[e][<span class="hljs-string">'vproc'</span>] = <span class="hljs-number">100</span> * rd[e][<span class="hljs-string">'v'</span>] / rd[e][<span class="hljs-string">'v'</span>].mean()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨çš„åè®®å¦‚ä¸‹æ‰€ç¤ºï¼š</font><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œå°†æ‰€æœ‰åè®®ç»„åˆåˆ°ä¸€ä¸ªæ•°æ®å¸§ä¸­ã€‚</font></font><br>
<code>'   Sprint 2019'</code><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th></th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th>...</th>
<th>th</th>
<th>v</th>
<th><u>date</u></th>
<th><u>year</u></th>
<th><u>vproc</u></th>
</tr>
<tr>
<td>0</td>
<td>1</td>
<td>M</td>
<td>Shalev Aleksey</td>
<td>RUS</td>
<td>...</td>
<td>1.161944</td>
<td>22.161128</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>130.666668</u></td>
</tr>
<tr>
<td>1</td>
<td>2</td>
<td>M</td>
<td>Nikolaev Artem</td>
<td>RUS</td>
<td>...</td>
<td>1.228611</td>
<td>20.958625</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>123.576458</u></td>
</tr>
<tr>
<td>2</td>
<td>3</td>
<td>M</td>
<td>Kuchierskiy Aleksandr</td>
<td>RUS</td>
<td>...</td>
<td>1.255556</td>
<td>20.508850</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>120.924485</u></td>
</tr>
<tr>
<td>3</td>
<td>4</td>
<td>F</td>
<td>Korchagina Mariya</td>
<td>RUS</td>
<td>...</td>
<td>1.297222</td>
<td>19.850107</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>117.040401</u></td>
</tr>
<tr>
<td>4</td>
<td>5</td>
<td>M</td>
<td>Solodov Ivan</td>
<td>RUS</td>
<td>...</td>
<td>1.298056</td>
<td>19.837364</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>116.965263</u></td>
</tr>
<tr>
<td>5</td>
<td>6</td>
<td>M</td>
<td>Bukin Sergey</td>
<td>RUS</td>
<td>...</td>
<td>1.300278</td>
<td>19.803461</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>116.765365</u></td>
</tr>
<tr>
<td>6</td>
<td>7</td>
<td>M</td>
<td>Lavrentev Dmitriy</td>
<td>RUS</td>
<td>...</td>
<td>1.300278</td>
<td>19.803461</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>116.765365</u></td>
</tr>
<tr>
<td>7</td>
<td>8</td>
<td>M</td>
<td>Dolgov Petr</td>
<td>RUS</td>
<td>...</td>
<td>1.321667</td>
<td>19.482976</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>114.875719</u></td>
</tr>
<tr>
<td>8</td>
<td>9</td>
<td>M</td>
<td>Bezruchenko Mikhailn</td>
<td>RUS</td>
<td>...</td>
<td>1.345000</td>
<td>19.144981</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>112.882832</u></td>
</tr>
<tr>
<td>9</td>
<td>10</td>
<td>M</td>
<td>Ryazantsev Dmitriy</td>
<td>RUS</td>
<td>...</td>
<td>1.359444</td>
<td>18.941561</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>111.683423</u></td>
</tr>
<tr>
<td>10</td>
<td>11</td>
<td>M</td>
<td>Ibragimov Ramil</td>
<td>RUS</td>
<td>...</td>
<td>1.376389</td>
<td>18.708375</td>
<td><u>2019-09-14</u></td>
<td><u>2019</u></td>
<td><u>110.308511</u></td>
</tr>
</tbody></table></div></code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">ar = pd.concat(rd)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯¹äºæ¯ä¸ªå‚ä¸è€…ï¼Œæˆ‘ä»¬åœ¨æ¯ä¸ªæ—¥å†å¹´ä»…ä¿ç•™ä¸€ä¸ªæ¡ç›®ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ar1 = ar.drop_duplicates(subset = [<span class="hljs-string">'name'</span>,<span class="hljs-string">'year'</span>], keep=<span class="hljs-string">'first'</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œä»è¿™äº›æ¡ç›®çš„æ‰€æœ‰å”¯ä¸€åç§°ä¸­ï¼Œæˆ‘ä»¬å‘ç°è‡³å°‘å‡ºç°ä¸¤æ¬¡çš„åç§°ï¼š</font></font><br>
<br>
<pre><code class="python hljs">nvc = ar1[<span class="hljs-string">'name'</span>].value_counts()<font></font>
names = list(nvc[nvc &gt; <span class="hljs-number">1</span>].index)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…±æœ‰219,890ä¸ªã€‚è®©æˆ‘ä»¬ä»æ­¤åˆ—è¡¨ä¸­åˆ é™¤èŒä¸šè¿åŠ¨å‘˜çš„åç§°ï¼š</font></font><br>
<br>
<pre><code class="python hljs">pro_names = ar[ar[<span class="hljs-string">'group'</span>].isin([<span class="hljs-string">'MPRO'</span>,<span class="hljs-string">'FPRO'</span>])][<span class="hljs-string">'name'</span>].unique()<font></font>
names = list(set(names) - set(pro_names))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥åŠ2010å¹´ä¹‹å‰å¼€å§‹è¡¨æ¼”çš„è¿åŠ¨å‘˜çš„åå­—ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œè¯·ä¸Šè½½æˆ‘ä»¬åœ¨è¿‡å»åå¹´ä¸­è¿›è¡Œé‡‡æ ·ä¹‹å‰ä¿å­˜çš„æ•°æ®ã€‚</font><font style="vertical-align: inherit;">å°†å®ƒä»¬æ”¾åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rsa</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆæ‰€æœ‰ç«èµ›æ‘˜è¦ï¼‰å’Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rda</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆæ‰€æœ‰ç«èµ›è¯¦ç»†ä¿¡æ¯ï¼‰</font><font style="vertical-align: inherit;">å¯¹è±¡ä¸­</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<pre><code class="python hljs">rdo = {} <font></font>
<font></font>
<span class="hljs-keyword">for</span> e <span class="hljs-keyword">in</span> rda:    
    <span class="hljs-keyword">if</span> rsa[rsa[<span class="hljs-string">'event'</span>] == e][<span class="hljs-string">'year'</span>].iloc[<span class="hljs-number">0</span>] &lt; <span class="hljs-number">2010</span>:<font></font>
        rdo[e] = rda[e]<font></font>
<font></font>
aro = pd.concat(rdo)<font></font>
old_names = aro[<span class="hljs-string">'name'</span>].unique()<font></font>
names = list(set(names) - set(old_names))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åï¼Œæˆ‘ä»¬å‘ç°åŒä¸€å¤©å‡ºç°å¤šæ¬¡çš„åç§°ã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œæˆ‘ä»¬å°†æ ·æœ¬ä¸­å…¨åçš„å‡ºç°å‡åˆ°æœ€å°‘ã€‚</font></font><br>
<br>
<pre><code class="python hljs">namesakes = ar[ar.duplicated(subset = [<span class="hljs-string">'name'</span>,<span class="hljs-string">'date'</span>], keep = <span class="hljs-literal">False</span>)][<span class="hljs-string">'name'</span>].unique()<font></font>
names = list(set(names) - set(namesakes))<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œè¿˜æœ‰198,075ä¸ªåå­—ã€‚</font><font style="vertical-align: inherit;">ä»æ•´ä¸ªæ•°æ®é›†ä¸­ï¼Œæˆ‘ä»¬ä»…é€‰æ‹©å…·æœ‰æ‰¾åˆ°çš„åç§°çš„è®°å½•ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ars = ar[ar[<span class="hljs-string">'name'</span>].isin(names)] <span class="hljs-comment">#ars â€“ all recrds selected</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œå¯¹äºæ¯æ¡è®°å½•ï¼Œæ‚¨éœ€è¦ç¡®å®šè¿åŠ¨å‘˜èŒä¸šç”Ÿæ¶¯ä¸­çš„å“ªä¸€å¹´-ç¬¬ä¸€ï¼Œç¬¬äºŒï¼Œç¬¬ä¸‰æˆ–ç¬¬åå¹´ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬ç”¨æ‰€æœ‰åç§°è¿›è¡Œå¾ªç¯å¹¶è®¡ç®—ã€‚</font></font><br>
<br>
<pre><code class="python hljs">ars[<span class="hljs-string">'exp'</span>] = <span class="hljs-string">''</span> <span class="hljs-comment">#exp â€“ experience, counted in years of racing, starts from 1.</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> names:    <font></font>
    ind = ars[ars[<span class="hljs-string">'name'</span>] == n].index <font></font>
    yos = ars.loc[ind, <span class="hljs-string">'year'</span>].min() <span class="hljs-comment">#yos â€“ year of start</span>
    ars.loc[ind, <span class="hljs-string">'exp'</span>] = ars.loc[ind, <span class="hljs-string">'year'</span>] - yos + <span class="hljs-number">1</span> 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯å‘ç”Ÿçš„äº‹çš„ä¸€ä¸ªä¾‹å­ï¼š</font><font style="vertical-align: inherit;">
æ˜¾ç„¶ï¼ŒåŒåä»ç„¶å­˜åœ¨ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯é¢„æ–™ä¹‹ä¸­çš„ï¼Œä½†å¹¶ä¸å¯æ€•ï¼Œå› ä¸ºæˆ‘ä»¬å°†å¹³å‡æ‰€æœ‰ä¸œè¥¿ï¼Œå¹¶ä¸”ä¸åº”æœ‰é‚£ä¹ˆå¤šã€‚</font><font style="vertical-align: inherit;">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬ä¸ºå›¾æ„å»ºæ•°ç»„ï¼š</font></font><br>
<code><div class="scrollable-table"><table>
<tbody><tr>
<th>event</th>
<th>place</th>
<th>sex</th>
<th>name</th>
<th>country</th>
<th>group</th>
<th>â€¦</th>
<th>th</th>
<th>v</th>
<th>date</th>
<th><u>year</u></th>
<th>vproc</th>
<th><u>exp</u></th>
</tr>
<tr>
<td>â€¦</td>
<td>633</td>
<td>M</td>
<td>Golovin Sergey</td>
<td>RUS</td>
<td>M40-44</td>
<td>â€¦</td>
<td>5.356111</td>
<td>21.097397</td>
<td>2014-08-31</td>
<td><u>2014</u></td>
<td>106.036879</td>
<td><u>1</u></td>
</tr>
<tr>
<td>â€¦</td>
<td>302</td>
<td>M</td>
<td>Golovin Sergey</td>
<td>RUS</td>
<td>M40-44</td>
<td>â€¦</td>
<td>11.236389</td>
<td>20.113223</td>
<td>2015-08-30</td>
<td><u>2015</u></td>
<td>108.231254</td>
<td><u>2</u></td>
</tr>
<tr>
<td>â€¦</td>
<td>522</td>
<td>M</td>
<td>Golovin Sergey</td>
<td>RUS</td>
<td>M40-44</td>
<td>â€¦</td>
<td>10.402778</td>
<td>21.724967</td>
<td>2016-07-17</td>
<td><u>2016</u></td>
<td>111.265107</td>
<td><u>3</u></td>
</tr>
<tr>
<td>â€¦</td>
<td>25</td>
<td>M</td>
<td>Golovin Sergey</td>
<td>RUS</td>
<td>M40-44</td>
<td>â€¦</td>
<td>10.910833</td>
<td>20.713358</td>
<td>2017-09-23</td>
<td><u>2017</u></td>
<td>112.953644</td>
<td><u>4</u></td>
</tr>
<tr>
<td>â€¦</td>
<td>23</td>
<td>M</td>
<td>Golovin Sergey</td>
<td>RUS</td>
<td>M40-44</td>
<td>â€¦</td>
<td>4.700000</td>
<td>24.042553</td>
<td>2017-06-03</td>
<td><u>2017</u></td>
<td>120.565211</td>
<td><u>4</u></td>
</tr>
<tr>
<td>â€¦</td>
<td>42</td>
<td>M</td>
<td>Golovin Sergey</td>
<td>RUS</td>
<td>M40-44</td>
<td>â€¦</td>
<td>4.599167</td>
<td>24.569668</td>
<td>2018-06-17</td>
<td><u>2018</u></td>
<td>124.579862</td>
<td><u>5</u></td>
</tr>
<tr>
<td>â€¦</td>
<td>90</td>
<td>M</td>
<td>Golovin Sergey</td>
<td>NOR</td>
<td></td>
<td>â€¦</td>
<td>14.069167</td>
<td>16.063496</td>
<td>2018-08-04</td>
<td><u>2018</u></td>
<td>100.001834</td>
<td><u>5</u></td>
</tr>
<tr>
<td>â€¦</td>
<td>86</td>
<td>M</td>
<td>Golovin Sergey</td>
<td>RUS</td>
<td>M45-49</td>
<td>â€¦</td>
<td>9.820556</td>
<td>23.012955</td>
<td>2019-08-03</td>
<td><u>2019</u></td>
<td>118.375766</td>
<td><u>6</u></td>
</tr>
</tbody></table></div></code><br><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="python hljs">exp = [] <font></font>
vpm = [] <span class="hljs-comment">#vpm â€“ v proc mean</span>
numrecs = [] <span class="hljs-comment">#number of records</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(ars[<span class="hljs-string">'exp'</span>].min(), ars[<span class="hljs-string">'exp'</span>].max() + <span class="hljs-number">1</span>): <font></font>
    exp.append(x)<font></font>
    vpm.append(ars[ars[<span class="hljs-string">'exp'</span>] == x][<span class="hljs-string">'vproc'</span>].mean())<font></font>
    numrecs.append(len(ars[ars[<span class="hljs-string">'exp'</span>] == x]))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°±æ˜¯è¿™æ ·ï¼Œæœ‰ä¸€ä¸ªåŸºç¡€ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/c4/_p/u6/c4_pu61ixkiscputxq1qhfm84eg.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ï¼Œè¦ç”¨ä¸ç‰¹å®šç»“æœç›¸å¯¹åº”çš„ç‚¹æ¥è£…é¥°å®ƒï¼Œæˆ‘ä»¬å°†é€‰æ‹©1000ä¸ªéšæœºåç§°å¹¶ä½¿ç”¨å®ƒä»¬çš„ç»“æœæ„å»ºæ•°ç»„ã€‚</font></font><br>
<br>
<pre><code class="python hljs">names_samp = random.sample(names,<span class="hljs-number">1000</span>)<font></font>
ars_samp = ars[ars[<span class="hljs-string">'name'</span>].isin(names_samp)]<font></font>
<font></font>
ars_samp = ars_samp.reset_index(drop = <span class="hljs-literal">True</span>)<font></font>
exp_samp = []<font></font>
vproc_samp = []<font></font>
<font></font>
<span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> names_samp:<font></font>
    nr = ars_samp[ars_samp[<span class="hljs-string">'name'</span>] == n]<font></font>
    nr = nr.sort_values(<span class="hljs-string">'exp'</span>)<font></font>
    exp_samp.append(list(nr[<span class="hljs-string">'exp'</span>]))<font></font>
    vproc_samp.append(list(nr[<span class="hljs-string">'vproc'</span>]))
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ·»åŠ ä¸€ä¸ªå¾ªç¯ä»¥ä»æ­¤éšæœºæ ·æœ¬æ„å»ºå›¾å½¢ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(len(exp_samp)):<font></font>
    ax1.plot(exp_samp[i], vproc_samp[i], <span class="hljs-string">'.'</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨ä¸€åˆ‡å°±ç»ªï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uj/0h/ee/uj0hee9v0tujesawdjz41fmfp0u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ€»ä½“è€Œè¨€ï¼Œè¿™å¹¶ä¸å›°éš¾ã€‚ä½†æ˜¯æœ‰ä¸€ä¸ªé—®é¢˜ã€‚è¦è®¡ç®—</font><font style="vertical-align: inherit;">ä¸€ä¸ªå‘¨æœŸä¸­</font><font style="vertical-align: inherit;">çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exp</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»éªŒ</font><font style="vertical-align: inherit;">ï¼Œå‡ ä¹æ‰€æœ‰20ä¸‡ä¸ªåç§°éƒ½éœ€è¦å…«ä¸ªå°æ—¶ã€‚æˆ‘ä¸å¾—ä¸åœ¨å°æ ·æœ¬ä¸Šè°ƒè¯•ç®—æ³•ï¼Œç„¶ååœ¨å¤œé—´è¿›è¡Œè®¡ç®—ã€‚åŸåˆ™ä¸Šï¼Œæ­¤æ“ä½œåªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œä½†æ˜¯å¦‚æœæ‚¨å‘ç°æŸç§é”™è¯¯æˆ–æƒ³è¦æ›´æ”¹æŸäº›å†…å®¹ï¼Œè€Œåˆéœ€è¦é‡æ–°è®¡ç®—ï¼Œåˆ™ä¼šå¼€å§‹å¢åŠ è´Ÿæ‹…ã€‚å› æ­¤ï¼Œå½“æˆ‘æ‰“ç®—åœ¨æ™šä¸Šå‘å¸ƒæŠ¥å‘Šæ—¶ï¼Œäº‹å®è¯æ˜ï¼Œå†æ¬¡éœ€è¦é‡æ–°å™è¿°æ‰€æœ‰å†…å®¹ã€‚ç­‰åˆ°æ—©ä¸Šä¸æ˜¯æˆ‘çš„è®¡åˆ’çš„ä¸€éƒ¨åˆ†ï¼Œæˆ‘å¼€å§‹å¯»æ‰¾ä¸€ç§ä½¿è®¡ç®—æ›´å¿«çš„æ–¹æ³•ã€‚å†³å®šå¹¶è¡ŒåŒ–ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‰¾åˆ°æŸå¤„é€šè¿‡</font><i><font style="vertical-align: inherit;">å¤šå¤„ç†</font></i><font style="vertical-align: inherit;">æ–¹æ³•åšåˆ°è¿™ä¸€ç‚¹çš„æ–¹æ³•</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¸ºäº†åœ¨Windowsä¸Šå·¥ä½œï¼Œæˆ‘ä»¬éœ€è¦å°†æ¯ä¸ªå¹¶è¡Œä»»åŠ¡çš„ä¸»è¦é€»è¾‘æ”¾å…¥å•ç‹¬çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker.py</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–‡ä»¶ä¸­ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> pickle <span class="hljs-keyword">as</span> pkl<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">worker</span>(<span class="hljs-params">args</span>):</span>
    names = args[<span class="hljs-number">0</span>]<font></font>
    ars=args[<span class="hljs-number">1</span>]<font></font>
    num=args[<span class="hljs-number">2</span>]<font></font>
    ars = ars.sort_values(by=<span class="hljs-string">'name'</span>)<font></font>
    ars = ars.reset_index(drop=<span class="hljs-literal">True</span>)  <font></font>
<font></font>
    <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> names:   <font></font>
        ind = ars[ars[<span class="hljs-string">'name'</span>] == n].index <font></font>
        yos = ars.loc[ind, <span class="hljs-string">'year'</span>].min()<font></font>
        ars.loc[ind, <span class="hljs-string">'exp'</span>] = ars.loc[ind, <span class="hljs-string">'year'</span>] - yos + <span class="hljs-number">1</span>                      <font></font>
<font></font>
    <span class="hljs-keyword">with</span> open(<span class="hljs-string">r'D:\tri\par\prog'</span> + str(num) + <span class="hljs-string">'.pkl'</span>, <span class="hljs-string">'wb'</span>) <span class="hljs-keyword">as</span> f:<font></font>
        pkl.dump(ars,f)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥è¿‡ç¨‹è¢«è½¬ç§»åˆ°çš„å§“åçš„ä¸€éƒ¨åˆ†</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„åç§°</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œéƒ¨åˆ†datafreyma </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AR</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»…ä¸è¿™äº›åç§°ï¼Œå’Œå¹¶è¡Œä»»åŠ¡çš„åºåˆ—å·- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUM</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è®¡ç®—è¢«å†™å…¥æ•°æ®å¸§ï¼Œæœ€åï¼Œæ•°æ®å¸§è¢«å†™å…¥æ–‡ä»¶ã€‚</font><font style="vertical-align: inherit;">åœ¨è°ƒç”¨æ­¤</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">worker</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„ç¬”è®°æœ¬ç”µè„‘ä¸­</font><font style="vertical-align: inherit;">ï¼Œæˆ‘ä»¬ç›¸åº”åœ°å‡†å¤‡äº†å‚æ•°ï¼š</font></font><br>
<br>
<pre><code class="python hljs">num_proc = <span class="hljs-number">8</span> <span class="hljs-comment">#number of processors</span><font></font>
args = []<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_proc):<font></font>
    step = int(len(names_samp)/num_proc) + <span class="hljs-number">1</span>
    names_i = names_samp[i*step:min((i+<span class="hljs-number">1</span>)*step, len(names_samp))]<font></font>
    ars_i = ars[ars[<span class="hljs-string">'name'</span>].isin(names_i)]<font></font>
    args.append([names_i, ars_i, i])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬å¼€å§‹å¹¶è¡Œè®¡ç®—ï¼š</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">from</span> multiprocessing <span class="hljs-keyword">import</span> Pool
<span class="hljs-keyword">import</span> workers<font></font>
<font></font>
<span class="hljs-keyword">if</span> __name__ ==  <span class="hljs-string">'__main__'</span>:     <font></font>
    p=Pool(processes = num_proc)<font></font>
    p.map(workers.worker,args)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åï¼Œæˆ‘ä»¬ä»æ–‡ä»¶ä¸­è¯»å–ç»“æœï¼Œå¹¶å°†ç‰‡æ®µæ”¶é›†å›æ•´ä¸ªæ•°æ®æ¡†ä¸­ï¼š</font></font><br>
<br>
<pre><code class="python hljs">ars=pd.DataFrame(columns = ars.columns)<font></font>
<font></font>
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(num_proc):
    <span class="hljs-keyword">with</span> open(<span class="hljs-string">r'D:\tri\par\prog'</span>+str(i)+<span class="hljs-string">'.pkl'</span>, <span class="hljs-string">'rb'</span>) <span class="hljs-keyword">as</span> f:    <font></font>
        arsi = pkl.load(f)<font></font>
        print(len(arsi))<font></font>
        ars = pd.concat([ars, arsi])</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæœ‰å¯èƒ½è·å¾—40å€çš„åŠ é€Ÿåº¦ï¼Œè€Œä¸æ˜¯8ä¸ªå°æ—¶ï¼Œä»è€Œåœ¨11åˆ†é’Ÿå†…å®Œæˆè®¡ç®—å¹¶åœ¨å½“æ™šå‘å¸ƒæŠ¥å‘Šã€‚åŒæ—¶ï¼Œæˆ‘å­¦ä¹ äº†å¦‚ä½•åœ¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pythonä¸­</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹¶è¡ŒåŒ–</font><font style="vertical-align: inherit;">ï¼Œæˆ‘è®¤ä¸ºå®ƒå°†æ´¾ä¸Šç”¨åœºã€‚åœ¨è¿™é‡Œï¼Œç”±äºæ¯ä¸ªä»»åŠ¡ä½¿ç”¨çš„æ•°æ®å¸§è¾ƒå°ï¼Œå› æ­¤æœç´¢é€Ÿåº¦ç”šè‡³æ˜¯å†…æ ¸æ•°é‡çš„8å€ä»¥ä¸Šï¼Œè¿™ä½¿å¾—æœç´¢é€Ÿåº¦æ›´å¿«ã€‚åŸåˆ™ä¸Šï¼Œå¯ä»¥ä»¥æ­¤æ–¹å¼åŠ å¿«é¡ºåºè®¡ç®—çš„é€Ÿåº¦ï¼Œä½†æ˜¯é—®é¢˜æ˜¯ï¼Œæ‚¨å¦‚ä½•çŒœæµ‹ï¼Ÿ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œæˆ‘æ— æ³•å¹³é™ä¸‹æ¥ï¼Œç”šè‡³åœ¨å‘å¸ƒä¹‹åï¼Œæˆ‘å°±ä¸€ç›´åœ¨æ€è€ƒå¦‚ä½•ä½¿ç”¨çŸ¢é‡åŒ–è¿›è¡Œè®¡ç®—ï¼Œå³å¯¹â€œ </font><i><font style="vertical-align: inherit;">ç†ŠçŒ«ç³»åˆ—â€æ•°æ®</font></i><font style="vertical-align: inherit;">æ¡†çš„æ•´åˆ—è¿›è¡Œæ“ä½œ</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¿™æ ·çš„è®¡ç®—æ¯”ä»»ä½•å¹¶è¡Œå‘¨æœŸéƒ½å¿«ä¸€ä¸ªæ•°é‡çº§ï¼Œå³ä½¿åœ¨è¶…çº§é›†ç¾¤ä¸Šä¹Ÿæ˜¯å¦‚æ­¤ã€‚</font><font style="vertical-align: inherit;">å¹¶æƒ³å‡ºäº†ã€‚</font><font style="vertical-align: inherit;">äº‹å®è¯æ˜ï¼Œä¸ºæ¯ä¸ªåå­—æ‰¾åˆ°èŒä¸šå¼€å§‹çš„å¹´ä»½ï¼Œæœ‰å¿…è¦ç›¸å-ä¸ºæ¯å¹´æ‰¾åˆ°ä»äº‹è¿™ä¸ªèŒä¸šçš„å‚ä¸è€…ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œæ‚¨å¿…é¡»é¦–å…ˆç¡®å®šæ ·æœ¬ä¸­ç¬¬ä¸€å¹´çš„æ‰€æœ‰åç§°ï¼Œå³2010å¹´ã€‚å› æ­¤ï¼Œæˆ‘ä»¬å°†åœ¨ä»Šå¹´ä½¿ç”¨è¿™äº›åç§°å¤„ç†æ‰€æœ‰è®°å½•ã€‚</font><font style="vertical-align: inherit;">æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬è€ƒè™‘ä¸‹ä¸€å¹´-2011å¹´ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å†æ¬¡ï¼Œæˆ‘ä»¬æ‰¾åˆ°äº†ä»Šå¹´æ‰€æœ‰å¸¦æœ‰æ¡ç›®çš„åç§°ï¼Œä½†æˆ‘ä»¬ä»…ä»å®ƒä»¬ä¸­æå–äº†æœªç»å¤„ç†çš„åç§°ï¼Œå³2010å¹´æœªæ»¡è¶³ä¸”åœ¨2011å¹´ä½¿ç”¨å®ƒä»¬è¿›è¡Œå¤„ç†çš„åç§°ã€‚</font><font style="vertical-align: inherit;">åœ¨ä¸‹åŠå¹´ï¼Œä¾æ­¤ç±»æ¨ã€‚</font><font style="vertical-align: inherit;">ç›¸åŒçš„å¾ªç¯ï¼Œä½†æ²¡æœ‰äºŒåä¸‡æ¬¡è¿­ä»£ï¼Œä½†æ€»å…±æœ‰ä¹æ¬¡ã€‚</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">for</span> y <span class="hljs-keyword">in</span> range(ars[<span class="hljs-string">'year'</span>].min(),ars[<span class="hljs-string">'year'</span>].max()):<font></font>
    arsynp = ars[(ars[<span class="hljs-string">'exp'</span>] == <span class="hljs-string">''</span>) &amp; (ars[<span class="hljs-string">'year'</span>] == y)] <span class="hljs-comment">#arsynp - all records selected for year not processed</span>
    namesy = arsynp[<span class="hljs-string">'name'</span>].unique()<font></font>
    ind = ars[ars[<span class="hljs-string">'name'</span>].isin(namesy)].index<font></font>
    ars.loc[ind, <span class="hljs-string">'exp'</span>] = ars.loc[ind,<span class="hljs-string">'year'</span>] - y + <span class="hljs-number">1</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™ä¸ªå‘¨æœŸä»…éœ€å‡ ç§’é’Ÿå³å¯å®Œæˆã€‚</font><font style="vertical-align: inherit;">è€Œä¸”ä»£ç å˜å¾—æ›´åŠ ç®€æ´ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»“è®º</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¥½å§ï¼Œæœ€åï¼Œè®¸å¤šå·¥ä½œå·²ç»å®Œæˆã€‚å¯¹æˆ‘è€Œè¨€ï¼Œè¿™å®é™…ä¸Šæ˜¯åŒç±»é¡¹ç›®ä¸­çš„ç¬¬ä¸€ä¸ªã€‚å½“æˆ‘å­¦ä¹ å®ƒæ—¶ï¼Œä¸»è¦ç›®æ ‡æ˜¯ç»ƒä¹ ä½¿ç”¨pythonåŠå…¶åº“ã€‚æ­¤ä»»åŠ¡è¿œæœªå®Œæˆã€‚ç»“æœæœ¬èº«ä¹Ÿå¾ˆå¯è§‚ã€‚å®Œæˆåæˆ‘ä¼šä¸ºè‡ªå·±å¾—å‡ºä»€ä¹ˆç»“è®ºï¼Ÿ</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬ä¸€ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ•°æ®ä¸å®Œå–„ã€‚å‡ ä¹æ‰€æœ‰åˆ†æä»»åŠ¡éƒ½å¯èƒ½å¦‚æ­¤ã€‚å³ä½¿å®ƒä»¬æ˜¯å®Œå…¨ç»“æ„åŒ–çš„ï¼Œå¹¶ä¸”ç»å¸¸ä»¥ä¸åŒçš„æ–¹å¼å‘ç”Ÿï¼Œæ‚¨ä¹Ÿéœ€è¦åœ¨å¼€å§‹è®¡ç®—ç‰¹å¾å¹¶æœç´¢è¶‹åŠ¿ä¹‹å‰å‡†å¤‡å¥½å¯¹å®ƒä»¬è¿›è¡Œä¿®è¡¥-æŸ¥æ‰¾é”™è¯¯ï¼Œç¦»ç¾¤å€¼ï¼Œåç¦»æ ‡å‡†ç­‰ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å…¶æ¬¡ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»»ä½•ä»»åŠ¡éƒ½æœ‰è§£å†³æ–¹æ¡ˆã€‚è¿™æ›´åƒæ˜¯ä¸€ä¸ªå£å·ï¼Œä½†é€šå¸¸æ˜¯è¿™æ ·ã€‚åªæ˜¯ï¼Œè¿™ç§è§£å†³æ–¹æ¡ˆå¯èƒ½å¹¶ä¸é‚£ä¹ˆæ˜æ˜¾ï¼Œå¹¶ä¸”ä¸åœ¨äºæ•°æ®æœ¬èº«ï¼Œè€Œæ˜¯å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚ä¾‹å¦‚ï¼Œä¸Šè¿°å‚ä¸è€…åç§°çš„å¤„ç†æˆ–ç½‘ç«™æŠ“å–ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬ä¸‰ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é¢†åŸŸçŸ¥è¯†è‡³å…³é‡è¦ã€‚è¿™æ ·å°±å¯ä»¥æ›´å¥½åœ°å‡†å¤‡æ•°æ®ï¼Œåˆ é™¤æ˜æ˜¾æ— æ•ˆæˆ–éæ ‡å‡†çš„æ•°æ®ï¼Œé¿å…è§£é‡Šé”™è¯¯ï¼Œä½¿ç”¨æ•°æ®ä¸­æœªåŒ…å«çš„ä¿¡æ¯ï¼ˆä¾‹å¦‚æœ¬é¡¹ç›®ä¸­çš„è·ç¦»ï¼‰ï¼Œä»¥ç¤¾åŒºæ¥å—çš„å½¢å¼å±•ç¤ºç»“æœï¼ŒåŒæ—¶é¿å…å‡ºç°æ„šè ¢çš„é”™è¯¯ç»“è®ºã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬å››ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åœ¨</font><i><font style="vertical-align: inherit;">pythonä¸­</font></i><font style="vertical-align: inherit;">å·¥ä½œ</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰å¾ˆå¤šå·¥å…·ã€‚æœ‰æ—¶ä¼¼ä¹å€¼å¾—è€ƒè™‘ä¸€äº›äº‹æƒ…ï¼Œæ‚¨å¼€å§‹æœç´¢-å®ƒå·²ç»å­˜åœ¨ã€‚å¤ªå¥½äº†ï¼éå¸¸æ„Ÿè°¢åˆ›å»ºè€…çš„è´¡çŒ®ï¼Œå°¤å…¶æ˜¯è¿™é‡Œæ–¹ä¾¿ä½¿ç”¨çš„å·¥å…·ï¼š</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¡’</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨äºåˆ®å‰Šï¼Œpycountryç”¨äºæ ¹æ®ISOæ ‡å‡†ç¡®å®šå›½å®¶/åœ°åŒºä»£ç ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å›½å®¶/åœ°åŒºä»£ç ï¼ˆdatahubï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨äºå¥¥æ—åŒ¹å…‹ä»£ç ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">geopy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç”¨äºç¡®å®šåœ°å€å¤„çš„åæ ‡ï¼Œå¤§</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¶</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ç”¨äºåœ°ç†æ•°æ®çš„å¯è§†åŒ–ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ€§åˆ«çŒœæµ‹</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ç”¨äºåç§°åˆ†æï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤šå¤„ç†</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ç”¨äºå¹¶è¡Œè®¡ç®—ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">matplotlib</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼Œ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">numpy</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»¥åŠå½“ç„¶è¿˜æœ‰</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç†ŠçŒ«</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -æ²¡æœ‰å®ƒå°±æ— å¤„å¯èµ°ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬äº”ï¼šå‘</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡åŒ–æ˜¯æˆ‘ä»¬çš„ä¸€åˆ‡ã€‚èƒ½å¤Ÿä½¿ç”¨å†…ç½®çš„</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç†ŠçŒ«</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å·¥å…·éå¸¸é‡è¦</font><font style="vertical-align: inherit;">ï¼Œå®ƒéå¸¸æœ‰æ•ˆã€‚æˆ‘æƒ³åœ¨å¤§å¤šæ•°æƒ…å†µä¸‹ï¼Œå½“æµ‹é‡è®°å½•çš„æ•°é‡ä»æˆåƒä¸Šä¸‡èµ·æ—¶ï¼Œæ­¤æŠ€èƒ½å°±å˜å¾—éå¸¸å¿…è¦ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬å…­ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤„ç†æ•°æ®æ˜¯ä¸€ä¸ªåä¸»æ„ã€‚æœ‰å¿…è¦å°è¯•æœ€å°åŒ–ä»»ä½•æ‰‹åŠ¨å¹²é¢„-é¦–å…ˆï¼Œå®ƒä¸ä¼šæ‰©å±•ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå½“æ•°æ®é‡å¢åŠ å‡ å€æ—¶ï¼Œæ‰‹åŠ¨å¤„ç†çš„æ—¶é—´å°†å¢åŠ åˆ°ä¸å¯æ¥å—çš„å€¼ï¼Œå…¶æ¬¡ï¼Œå¯é‡å¤æ€§å¾ˆå·®-æ‚¨ä¼šå¿˜è®°ä¸€äº›ä¸œè¥¿ï¼Œä¼šåœ¨æŸä¸ªåœ°æ–¹çŠ¯é”™ã€‚ä¸€åˆ‡éƒ½åªæ˜¯ç¨‹åºæ€§çš„ï¼Œå¦‚æœæŸäº›ä¸œè¥¿è¶…å‡ºäº†è½¯ä»¶è§£å†³æ–¹æ¡ˆçš„é€šç”¨æ ‡å‡†ï¼Œé‚£ä¹ˆï¼Œå¯ä»¥ï¼Œæ‚¨å¯ä»¥ç‰ºç‰²éƒ¨åˆ†æ•°æ®ï¼Œä»ç„¶ä¼šæœ‰æ›´å¤šå¥½å¤„ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬ä¸ƒï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯¥ä»£ç å¿…é¡»ä¿æŒå·¥ä½œçŠ¶æ€ã€‚çœ‹æ¥å¯èƒ½ä¼šæ›´åŠ æ˜æ˜¾ï¼å®é™…ä¸Šï¼Œå½“æ¶‰åŠåˆ°ä¾›æ‚¨è‡ªå·±ä½¿ç”¨çš„ä»£ç ï¼ˆç›®çš„æ˜¯å‘å¸ƒæ­¤ä»£ç çš„ç»“æœï¼‰æ—¶ï¼Œæ­¤å¤„çš„ä¸€åˆ‡éƒ½ä¸é‚£ä¹ˆä¸¥æ ¼ã€‚æˆ‘åœ¨Jupiter Notebookså·¥ä½œï¼Œåœ¨æˆ‘çœ‹æ¥ï¼Œè¿™ç§ç¯å¢ƒä¸å¿…åˆ›å»ºé›†æˆçš„è½¯ä»¶äº§å“ã€‚å®ƒè¢«é…ç½®ä¸ºé€è¡Œï¼Œåˆ†æ®µå¯åŠ¨ï¼Œè¿™å…·æœ‰å®ƒçš„ä¼˜ç‚¹-å¿«é€Ÿï¼šåŒæ—¶è¿›è¡Œå¼€å‘ï¼Œè°ƒè¯•å’Œæ‰§è¡Œã€‚ä½†æ˜¯é€šå¸¸çš„è¯±æƒ‘æ˜¯åªç¼–è¾‘ä¸€äº›è¡Œå¹¶å¿«é€Ÿè·å¾—æ–°ç»“æœï¼Œè€Œä¸æ˜¯åœ¨</font><i><font style="vertical-align: inherit;">def</font></i><font style="vertical-align: inherit;">ä¸­å¤åˆ¶æˆ–åŒ…è£…</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚å½“ç„¶ï¼Œåº”è¯¥é¿å…è¿™ç§è¯±æƒ‘ã€‚äººä»¬åº”è¯¥åŠªåŠ›äº‰å–å¥½çš„ä»£ç ï¼Œç”šè‡³æ˜¯â€œä¸ºäº†è‡ªå·±â€ï¼Œè‡³å°‘æ˜¯å› ä¸ºå³ä½¿å¯¹äºä¸€é¡¹åˆ†æå·¥ä½œæ¥è¯´ï¼Œå¯åŠ¨ä¹Ÿè¦è¿›è¡Œå¤šæ¬¡ï¼Œå¹¶ä¸”åœ¨å¼€å§‹æ—¶èŠ±æ—¶é—´è‚¯å®šä¼šåœ¨å°†æ¥è·å¾—å›æŠ¥ã€‚æ‚¨ç”šè‡³å¯ä»¥åœ¨ç¬”è®°æœ¬ç”µè„‘ä¸Šä»¥æ£€æŸ¥å…³é”®å‚æ•°å’Œå¼•å‘å¼‚å¸¸çš„å½¢å¼æ·»åŠ æµ‹è¯•-è¿™éå¸¸æœ‰ç”¨ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬å…«ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¤šå‚¨è“„ã€‚åœ¨æ¯ä¸ªæ­¥éª¤ä¸­ï¼Œæˆ‘éƒ½ä¿å­˜äº†æ–‡ä»¶çš„æ–°ç‰ˆæœ¬ã€‚æ€»å…±å¤§çº¦ä¸º10ã€‚è¿™å¾ˆæ–¹ä¾¿ï¼Œå› ä¸ºå½“æ£€æµ‹åˆ°é”™è¯¯æ—¶ï¼Œå®ƒæœ‰åŠ©äºå¿«é€Ÿç¡®å®šå‘ç”Ÿåœ¨å“ªä¸ªé˜¶æ®µã€‚å¦å¤–ï¼Œæˆ‘å°†æºæ•°æ®ä¿å­˜åœ¨æ ‡è®°ä¸º</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">raw</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çš„åˆ—ä¸­</font><font style="vertical-align: inherit;">-è¿™ä½¿æ‚¨å¯ä»¥å¿«é€Ÿæ£€æŸ¥ç»“æœå¹¶æŸ¥çœ‹å·®å¼‚ã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç¬¬ä¹ï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ‰å¿…è¦è¡¡é‡æ—¶é—´å’Œç»“æœçš„æŠ•å…¥ã€‚åœ¨æŸäº›åœ°æ–¹ï¼Œæˆ‘èŠ±äº†å¾ˆé•¿æ—¶é—´è¿˜åŸæ•°æ®ï¼Œè¿™äº›æ•°æ®åªå æ€»æ•°çš„ç™¾åˆ†ä¹‹ä¸€ã€‚å®é™…ä¸Šï¼Œè¿™æ²¡æœ‰ä»»ä½•æ„ä¹‰ï¼Œæ‚¨åªéœ€è¦å°†å®ƒä»¬æ‰”æ‰å³å¯ï¼Œä»…æ­¤è€Œå·²ã€‚å¦‚æœæ˜¯å•†ä¸šé¡¹ç›®ï¼Œè€Œä¸æ˜¯è‡ªåŠ¨åŸ¹è®­ï¼Œæˆ‘ä¼šè¿™æ ·åšã€‚è¿™å°†ä½¿æ‚¨æ›´å¿«åœ°è·å¾—ç»“æœã€‚å¸•ç´¯æ‰˜åŸç†åœ¨è¿™é‡Œèµ·ä½œç”¨-20ï¼…çš„æ—¶é—´å¯ä»¥è¾¾åˆ°80ï¼…çš„ç»“æœã€‚</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æœ€åä¸€ä¸ªï¼š</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™äº›é¡¹ç›®çš„å·¥ä½œå¤§å¤§æ‹“å®½äº†è§†é‡ã€‚</font><font style="vertical-align: inherit;">æ„¿æ„ï¼Œæ‚¨ä¼šä»æ‹‰ä¸æ–‡â€œ Confoederatio Helveticaâ€é‚£é‡Œå­¦åˆ°ä¸€äº›æ–°çš„ä¸œè¥¿ï¼Œä¾‹å¦‚çš®ç‰¹å‡¯æ©ç¾¤å²›ç­‰é™Œç”Ÿå›½å®¶çš„åç§°ï¼Œä¾‹å¦‚ç‘å£«çš„ISOä»£ç æ˜¯CHEï¼Œé‚£ä¹ˆè¥¿ç­ç‰™çš„åå­—å®é™…ä¸Šå°±æ˜¯é“äººä¸‰é¡¹æœ¬èº«çš„åå­—-è®°å½•ï¼Œå…¶æ‰€æœ‰è€…ï¼Œæ¯”èµ›åœ°ç‚¹ï¼Œäº‹ä»¶å†å²è®°å½•ç­‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¹Ÿè®¸è¶³å¤Ÿäº†ã€‚</font><font style="vertical-align: inherit;">å°±è¿™æ ·ã€‚</font><font style="vertical-align: inherit;">æ„Ÿè°¢æ‰€æœ‰è¯»å®Œæœ¬ä¹¦çš„äººï¼</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN500150/index.html">ROSå’Œç¥ç»ç½‘æ ¼ä¹egæœºå™¨äºº</a></li>
<li><a href="../zh-CN500152/index.html">æˆ‘å¦‚ä½•åœ¨1Cä¸­é›†æˆPOSç»ˆç«¯å’ŒFR IKKM-Touchï¼šä¼ä¸š</a></li>
<li><a href="../zh-CN500154/index.html">æœºå¯†æœºå™¨å­¦ä¹ ã€‚PySyftåº“</a></li>
<li><a href="../zh-CN500158/index.html">SwiftUIä¸Reduxçš„äº¤äº’</a></li>
<li><a href="../zh-CN500160/index.html">è§†è§‰å…ƒç´ </a></li>
<li><a href="../zh-CN500164/index.html">å¯¼å¸ˆï¼šä¸“ä¸šè´¹ç”¨</a></li>
<li><a href="../zh-CN500170/index.html">ç½‘ç»œæ¨¡æ‹Ÿå™¨æ•™ç¨‹ns-3ã€‚ç¬¬å…­ç« </a></li>
<li><a href="../zh-CN500178/index.html">å®‰å¾·é²Â·å®‰ï¼ˆAndrew Unï¼‰çš„ä¹¦ã€Šæœºå™¨å­¦ä¹ çš„æ¿€æƒ…ã€‹ç¬¬38å’Œ39ç« çš„ç¿»è¯‘</a></li>
<li><a href="../zh-CN500184/index.html">David O'Brienï¼ˆXirusï¼‰ï¼šæŒ‡æ ‡ï¼æŒ‡æ ‡ï¼æŒ‡æ ‡ï¼ç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN500186/index.html">HackTheBoxã€‚OpenAdminæ¼”ç»ƒã€‚OpenNetAdminä¸­çš„RCEå’Œnanoä¸­çš„GTFOBins</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>