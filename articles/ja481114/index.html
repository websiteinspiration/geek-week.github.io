<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💆🏼 🕚 🤶 KubernetesのSeccomp：最初から知っておくべき7つのこと 🤾🏿 🤾🏾 🏊</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="注意ペレフ。：英国企業ASOS.comの上級アプリケーションセキュリティエンジニアによる記事の翻訳を示します。これにより、彼は、seccompを使用してKubernetesのセキュリティを向上させることに関する一連の出版物を始めました。読者が紹介を気に入ってくれたら、著者をフォローして、このトピック...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>KubernetesのSeccomp：最初から知っておくべき7つのこと</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/481114/"><i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意ペレフ。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：英国企業ASOS.comの上級アプリケーションセキュリティエンジニアによる記事の翻訳を示します。これにより、彼は、seccompを使用してKubernetesのセキュリティを向上させることに関する一連の出版物を始めました。読者が紹介を気に入ってくれたら、著者をフォローして、このトピックに関する彼の将来の資料を続けます。</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/-u/nv/vk/-unvvkiylrs9ucbym-l4bsobtr8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
この記事は、魔法や魔術に頼らずにSecDevOpsの精神でseccompプロファイルを作成する方法に関する一連の出版物の最初の記事です。最初の部分では、Kubernetesでのseccompの実装の基本と内部の詳細について説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetesエコシステムは、コンテナの安全性と分離を確保するためのさまざまな方法を提供します。この記事は、</font><b><font style="vertical-align: inherit;"> seccomp</font></b><font style="vertical-align: inherit;">とも呼ばれるセキュアコンピューティングモードに関するもの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。その本質は、コンテナが実行できるシステムコールのフィルタリングにあります。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どうしてそれが重要ですか？コンテナーは、特定のマシンで実行される単なるプロセスです。また、他のアプリケーションと同等のカーネルを使用します。コンテナーがシステムコールを実行できる場合、マルウェアはすぐにそれを利用してコンテナーの分離を回避し、他のアプリケーションに影響を与えます：情報の傍受、システム設定の変更など。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
seccompプロファイルは、どのシステムコールを許可または拒否するかを決定します。コンテナランタイムは起動時にそれらをアクティブ化し、カーネルがそれらの実行を制御できるようにします。このようなプロファイルを使用すると、コンテナー内のプログラム（依存関係、またはその依存関係）が許可されていないことを開始した場合に、攻撃ベクトルを制限し、損傷を減らすことができます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本を理解する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seccompベースプロファイルには、3つの要素</font></font><code>defaultAction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>architectures</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（または</font></font><code>archMap</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）、およびが</font><font style="vertical-align: inherit;">含まれます</font></font><code>syscalls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"defaultAction"</span>: <span class="hljs-string">"SCMP_ACT_ERRNO"</span>,
    <span class="hljs-attr">"architectures"</span>: [
        <span class="hljs-string">"SCMP_ARCH_X86_64"</span>,
        <span class="hljs-string">"SCMP_ARCH_X86"</span>,
        <span class="hljs-string">"SCMP_ARCH_X32"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"syscalls"</span>: [<font></font>
        {<font></font>
            <span class="hljs-attr">"names"</span>: [
                <span class="hljs-string">"arch_prctl"</span>,
                <span class="hljs-string">"sched_yield"</span>,
                <span class="hljs-string">"futex"</span>,
                <span class="hljs-string">"write"</span>,
                <span class="hljs-string">"mmap"</span>,
                <span class="hljs-string">"exit_group"</span>,
                <span class="hljs-string">"madvise"</span>,
                <span class="hljs-string">"rt_sigprocmask"</span>,
                <span class="hljs-string">"getpid"</span>,
                <span class="hljs-string">"gettid"</span>,
                <span class="hljs-string">"tgkill"</span>,
                <span class="hljs-string">"rt_sigaction"</span>,
                <span class="hljs-string">"read"</span>,
                <span class="hljs-string">"getpgrp"</span><font></font>
            ],<font></font>
            <span class="hljs-attr">"action"</span>: <span class="hljs-string">"SCMP_ACT_ALLOW"</span><font></font>
        }<font></font>
    ]<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">medium-basic-seccomp.json</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><br>
<br>
<code>defaultAction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、セクションで指定されていないシステムコールのデフォルトの運命を決定します</font></font><code>syscalls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">タスクを簡略化するために、使用される2つの主な値に焦点を当てます：</font></font><br>
<br>
<ul>
<li> <code>SCMP_ACT_ERRNO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -システムコールの実行をブロックし、</font></font></li>
<li> <code>SCMP_ACT_ALLOW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -許可。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このセクションで</font></font><code>architectures</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、ターゲットアーキテクチャを示します。カーネルレベルで適用されるフィルター自体は、システムコールの識別子に依存し、プロファイルに登録された名前には依存しないため、これは重要です。使用する前に、コンテナーランタイムはそれらを識別子にマップします。重要なのは、システムコールによって、システムコールが完全に異なるIDを持つ可能性があることです。たとえば、</font></font><code>recvfrom</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（ソケットから情報を受信するために使用される）</font><font style="vertical-align: inherit;">システムコール</font><font style="vertical-align: inherit;">は、x64システムではID = 64、x86システムではID = 517です。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ここに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、x86-x64アーキテクチャーのすべてのシステムコールのリストがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このセクションで</font></font><code>syscalls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、すべてのシステムコールをリストし、それらの処理方法を示します。たとえば、に設定</font></font><code>defaultAction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し</font><font style="vertical-align: inherit;">てホワイトリストを作成</font></font><code>SCMP_ACT_ERRNO</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">し、セクションでを呼び出す</font><font style="vertical-align: inherit;">ことができます。</font></font><code>syscalls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">割り当てる</font></font><code>SCMP_ACT_ALLOW</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">したがって、セクション</font></font><code>syscalls</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><font style="vertical-align: inherit;">登録されている通話のみを許可し、その他の通話は</font><font style="vertical-align: inherit;">すべて禁止します。</font><font style="vertical-align: inherit;">ブラックリストの場合、値</font></font><code>defaultAction</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とアクションを反対に</font><font style="vertical-align: inherit;">変更する必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、それほど明白ではないニュアンスについていくつかの言葉を言う必要があります。</font><font style="vertical-align: inherit;">以下の推奨事項は、基幹業務アプリケーションをKubernetesにデプロイしているためであり、最小限の権限で動作することが重要です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. AllowPrivilegeEscalation = false</font></font></h2><br><font style="vertical-align: inherit;"></font><code>securityContext</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテナは、パラメータを持っています</font></font><code>AllowPrivilegeEscalation</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">に設定されている場合</font></font><code>false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、コンテナは（</font></font><code>on</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）ビットセットで</font><font style="vertical-align: inherit;">開始</font><font style="vertical-align: inherit;">され</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><code>no_new_priv</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">このパラメーターの意味は名前から明らかです。コンテナーは、それが持つ特権よりも大きい特権で新しいプロセスを開始できません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このパラメーターを</font></font><code>true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（デフォルト）に</font><font style="vertical-align: inherit;">設定する</font><font style="vertical-align: inherit;">と、コンテナーランタイムが起動プロセスの最初にseccompプロファイルを適用するという副作用があります。</font><font style="vertical-align: inherit;">したがって、ランタイムの内部プロセスを開始するために必要なすべてのシステムコール（たとえば、ユーザー/グループ識別子の設定、一部の機能の削除）は、プロファイルで許可する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
平凡なことを行うコンテナ</font></font><code>echo hi</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、次の権限が必要です。</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"defaultAction"</span>: <span class="hljs-string">"SCMP_ACT_ERRNO"</span>,
    <span class="hljs-attr">"architectures"</span>: [
        <span class="hljs-string">"SCMP_ARCH_X86_64"</span>,
        <span class="hljs-string">"SCMP_ARCH_X86"</span>,
        <span class="hljs-string">"SCMP_ARCH_X32"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"syscalls"</span>: [<font></font>
        {<font></font>
            <span class="hljs-attr">"names"</span>: [
                <span class="hljs-string">"arch_prctl"</span>,
                <span class="hljs-string">"brk"</span>,
                <span class="hljs-string">"capget"</span>,
                <span class="hljs-string">"capset"</span>,
                <span class="hljs-string">"chdir"</span>,
                <span class="hljs-string">"close"</span>,
                <span class="hljs-string">"execve"</span>,
                <span class="hljs-string">"exit_group"</span>,
                <span class="hljs-string">"fstat"</span>,
                <span class="hljs-string">"fstatfs"</span>,
                <span class="hljs-string">"futex"</span>,
                <span class="hljs-string">"getdents64"</span>,
                <span class="hljs-string">"getppid"</span>,
                <span class="hljs-string">"lstat"</span>,
                <span class="hljs-string">"mprotect"</span>,
                <span class="hljs-string">"nanosleep"</span>,
                <span class="hljs-string">"newfstatat"</span>,
                <span class="hljs-string">"openat"</span>,
                <span class="hljs-string">"prctl"</span>,
                <span class="hljs-string">"read"</span>,
                <span class="hljs-string">"rt_sigaction"</span>,
                <span class="hljs-string">"statfs"</span>,
                <span class="hljs-string">"setgid"</span>,
                <span class="hljs-string">"setgroups"</span>,
                <span class="hljs-string">"setuid"</span>,
                <span class="hljs-string">"stat"</span>,
                <span class="hljs-string">"uname"</span>,
                <span class="hljs-string">"write"</span><font></font>
            ],<font></font>
            <span class="hljs-attr">"action"</span>: <span class="hljs-string">"SCMP_ACT_ALLOW"</span><font></font>
        }<font></font>
    ]<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hi-pod-seccomp.json</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
...これらの代わりに：</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"defaultAction"</span>: <span class="hljs-string">"SCMP_ACT_ERRNO"</span>,
    <span class="hljs-attr">"architectures"</span>: [
        <span class="hljs-string">"SCMP_ARCH_X86_64"</span>,
        <span class="hljs-string">"SCMP_ARCH_X86"</span>,
        <span class="hljs-string">"SCMP_ARCH_X32"</span><font></font>
    ],<font></font>
    <span class="hljs-attr">"syscalls"</span>: [<font></font>
        {<font></font>
            <span class="hljs-attr">"names"</span>: [
                <span class="hljs-string">"arch_prctl"</span>,
                <span class="hljs-string">"brk"</span>,
                <span class="hljs-string">"close"</span>,
                <span class="hljs-string">"execve"</span>,
                <span class="hljs-string">"exit_group"</span>,
                <span class="hljs-string">"futex"</span>,
                <span class="hljs-string">"mprotect"</span>,
                <span class="hljs-string">"nanosleep"</span>,
                <span class="hljs-string">"stat"</span>,
                <span class="hljs-string">"write"</span><font></font>
            ],<font></font>
            <span class="hljs-attr">"action"</span>: <span class="hljs-string">"SCMP_ACT_ALLOW"</span><font></font>
        }<font></font>
    ]<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hi-container-seccomp.json</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
しかし、もう一度、なぜこれが問題なのでしょうか。 ：個人的に、私は（彼らはへの本当の必要性を持っていない場合）以下のシステムコールのホワイトリストを避けるだろう</font></font><code>capset</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>set_tid_address</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>setgid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>setgroups</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>setuid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。ただし、実際の難点は、絶対に制御できないプロセスを許可することで、プロファイルをコンテナーランタイムの実装にバインドすることです。言い換えると、ある日、コンテナのランタイム環境を更新した後（自分で、またはクラウドサービスプロバイダが更新した可能性が高い）、コンテナが突然起動を停止するという事実に遭遇する可能性があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒント＃1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：でコンテナを起動し</font></font><code>AllowPrivilegeEscaltion=false</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。これにより、seccompプロファイルのサイズが小さくなり、コンテナーランタイムの変更に対する感度が低くなります。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2.コンテナーレベルのseccompプロファイルの設定</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
seccompプロファイルは、ポッドレベルで設定できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">annotations:<font></font>
  seccomp.security.alpha.kubernetes.io/pod: "localhost/profile.json"</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...またはコンテナレベル：</font></font><br>
<br>
<pre><code class="plaintext hljs">annotations:<font></font>
  container.security.alpha.kubernetes.io/&lt;container-name&gt;: "localhost/profile.json"</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">上記の構文は、Kubernetes seccomp </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がGAになる</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と変更されることに注意してください</font><font style="vertical-align: inherit;">（このイベントは、次のKubernetesリリース</font><font style="vertical-align: inherit;">-1.18- </font><font style="vertical-align: inherit;">約Transl。で予定されています）。</font></font></i><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">一時停止コンテナーに</font></a><font style="vertical-align: inherit;">適用されたseccompプロファイルのために</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、Kubernetesに常に</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バグ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があったことを知っている人はほとんどいません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ランタイムはこの欠点を部分的に補正しますが、このコンテナーはインフラストラクチャの構成に使用されるため、ポッドから消えることはありません。</font><font style="vertical-align: inherit;">
問題は、このコンテナが常にで始まり</font><font style="vertical-align: inherit;">、段落1で述べた問題が発生することであり、これを変更することはできません。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><code>AllowPrivilegeEscalation=true</code><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンテナーレベルでseccompプロファイルを適用すると、このトラップを回避し、特定のコンテナーに対して「シャープ」になるプロファイルを作成できます。</font><font style="vertical-align: inherit;">これは、開発者がバグを修正し、新しいバージョン（たぶん1.18か？）が誰でも利用できるようになるまで行う必要があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒント＃2</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：コンテナーレベルでseccompプロファイルを設定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際的には、このルールは通常、「seccompプロファイル</font></font><code>docker run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がで機能するのに、Kubernetesクラスターにデプロイした後に機能しないのは</font><font style="vertical-align: inherit;">なぜですか？」という質問に対する普遍的な回答になり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3.最後の手段としてランタイム/デフォルトを使用する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kubernetesは内蔵のプロファイル用の2つのオプションがあります</font></font><code>runtime/default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><code>docker/default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。どちらも、Kubernetesではなく、コンテナランタイムによって実装されます。したがって、使用するランタイムとそのバージョンによって異なる場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、ランタイムを変更した結果、コンテナは、使用できるまたは使用できない別のシステムコールのセットにアクセスできます。ほとんどのランタイム環境</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はDocker実装を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">します</font></a><font style="vertical-align: inherit;">。このプロファイルを使用する場合は、自分に合っていることを確認してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロファイル</font></font><code>docker/default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はKubernetes 1.11以降廃止されたため、使用しないでください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私の意見では、プロフィール</font></font><code>runtime/default</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それが作成された目的に完全に適しています：ユーザーの</font></font><code>docker run</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マシン</font><font style="vertical-align: inherit;">でのコマンドの実行に関連するリスクからユーザーを保護します</font><font style="vertical-align: inherit;">。ただし、Kubernetesクラスターで実行されているビジネスアプリケーションについて話す場合、あえてそのようなプロファイルはオープンすぎるため、開発者はアプリケーション（またはアプリケーションタイプ）のプロファイルの作成に集中する必要があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒント3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：特定のアプリケーション用のseccompプロファイルを作成します。これが不可能な場合は、アプリケーションタイプのプロファイルを処理します。たとえば、すべてのGolang WebアプリケーションAPIを含む高度なプロファイルを作成します。最後の手段としてのみランタイム/デフォルトを使用します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今後の出版物では、SecDevOpsの精神に基づいてseccompプロファイルを作成し、パイプラインで自動化してテストする方法を説明します。</font><font style="vertical-align: inherit;">つまり、特定のアプリケーションのプロファイルに切り替えない言い訳はありません。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4.無制限はオプションではありません</font></font></h2><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のKubernetesセキュリティ監査、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それはことが判明し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seccompが無効になっていました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルトで</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">つまり</font></font><code>PodSecurityPolicy</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、クラスターで有効にするポッドを</font><font style="vertical-align: inherit;">指定しない場合</font><font style="vertical-align: inherit;">、seccompプロファイルが定義されていないすべてのポッドがモードで動作します</font></font><code>seccomp=unconfined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このモードで作業すると、分離のレイヤー全体が失われ、クラスター保護が提供されます。</font><font style="vertical-align: inherit;">このアプローチは、セキュリティの専門家にはお勧めできません。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒント＃4</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><code>seccomp=unconfined</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">特に本番環境</font><font style="vertical-align: inherit;">では、クラスター内のどのコンテナーもモードで動作しないはず</font><font style="vertical-align: inherit;">です。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5.「監査モード」</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この瞬間はKubernetesに固有のものではありませんが、それでも「始める前に知っておくべきこと」のカテゴリに分類されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
偶然にも、seccompプロファイルの作成は常にトリッキーなビジネスであり、主に試行錯誤に基づいていました。実際のところ、ユーザーはアプリケーションを「落とす」リスクを冒さずに、本番環境でテストする機会がありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Linux 4.14カーネルの登場後、プロファイルの一部を監査モードで実行できるようになり、syslogにすべてのシステムコールに関する情報を記録しましたが、ブロックはしませんでした。次のパラメータを使用して、このモードをアクティブ化できます</font></font><code>SCMT_ACT_LOG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SCMP_ACT_LOG</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：seccompは、フィルターからのルールに該当しない場合、システムコールを行うスレッドの動作に影響を与えませんが、システムコールに関する情報はログに記録されます。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この機能を使用するためのサンプル戦略は次のとおりです。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 必要なシステムコールを許可します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ほとんど役に立たないことが知られているブロック通話システム。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 他のすべての呼び出しに関する情報をログに記録します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
簡単な例は次のとおりです。</font></font><br>
<br>
<pre><code class="plaintext hljs">{<font></font>
    "defaultAction": "SCMP_ACT_LOG",<font></font>
    "architectures": [<font></font>
        "SCMP_ARCH_X86_64",<font></font>
        "SCMP_ARCH_X86",<font></font>
        "SCMP_ARCH_X32"<font></font>
    ],<font></font>
    "syscalls": [<font></font>
        {<font></font>
            "names": [<font></font>
                "arch_prctl",<font></font>
                "sched_yield",<font></font>
                "futex",<font></font>
                "write",<font></font>
                "mmap",<font></font>
                "exit_group",<font></font>
                "madvise",<font></font>
                "rt_sigprocmask",<font></font>
                "getpid",<font></font>
                "gettid",<font></font>
                "tgkill",<font></font>
                "rt_sigaction",<font></font>
                "read",<font></font>
                "getpgrp"<font></font>
            ],<font></font>
            "action": "SCMP_ACT_ALLOW"<font></font>
        },<font></font>
        {<font></font>
            "names": [<font></font>
                "add_key",<font></font>
                "keyctl",<font></font>
                "ptrace"<font></font>
            ],<font></font>
            "action": "SCMP_ACT_ERRNO"<font></font>
        }<font></font>
    ]<font></font>
}</code></pre><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">medium-mixed-seccomp.json</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ただし、未使用であることがわかっており、クラスターに害を及ぼす可能性があるすべての呼び出しをブロックする必要があることに</font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">注意し</font></a></i><font style="vertical-align: inherit;">てください。リストの良い土台は公式の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。デフォルトのプロファイルでブロックされるシステムコールとその理由について詳しく説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、1つの問題があります。が、</font></font><code>SCMT_ACT_LOG</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2017年の年末からLinuxカーネルでサポートされている、それはごく最近Kubernetesの生態系に入りました。したがって、この方法を使用するには、Linux 4.14カーネルと</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">v1.0.0-rc9</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以上の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">runC</font></a><font style="vertical-align: inherit;">バージョンが必要</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">です</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒント5</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：ブラックリストとホワイトリストを組み合わせて本番環境でテストするための監査モードプロファイルを作成し、すべての例外をログに記録できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.ホワイトリストを使用する</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションが必要とする可能性のあるすべての呼び出しを特定する必要があるため、ホワイトリストを作成するには追加の作業が必要ですが、このアプローチによりセキュリティが大幅に向上します。</font></font><br>
<br>
<blockquote><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シンプルで信頼性の高いホワイトリストアプローチを使用することを強くお勧めします。</font><font style="vertical-align: inherit;">潜在的に危険なシステムコール（またはブラックリストにある場合は危険なフラグ/オプション）が追加されるたびに、ブラックリストを更新する必要があります。</font><font style="vertical-align: inherit;">さらに、本質を変更せずにパラメーターの表示を変更できるため、ブラックリストの制限を回避できます。</font></font></i></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Goアプリケーションでは、アプリケーションに付属し、実行時に行われたすべての呼び出しを収集する特別なツールを開発しました。</font><font style="vertical-align: inherit;">たとえば、次のアプリケーションの場合：</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> main<font></font>
<font></font>
<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {<font></font>
	fmt.Println(<span class="hljs-string">"test"</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><code>gosystract</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを</font><font style="vertical-align: inherit;">実行し</font><font style="vertical-align: inherit;">ます：</font></font><br>
<br>
<pre><code class="bash hljs">go install https://github.com/pjbgf/gosystract<font></font>
gosystract --template=<span class="hljs-string">'{{- range . }}{{printf "\"%s\",\n" .Name}}{{- end}}'</span> application-path</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...そして次の結果を得る：</font></font><br>
<br>
<pre><code class="plaintext hljs">"sched_yield",<font></font>
"futex",<font></font>
"write",<font></font>
"mmap",<font></font>
"exit_group",<font></font>
"madvise",<font></font>
"rt_sigprocmask",<font></font>
"getpid",<font></font>
"gettid",<font></font>
"tgkill",<font></font>
"rt_sigaction",<font></font>
"read",<font></font>
"getpgrp",<font></font>
"arch_prctl",</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これまでのところ、これは一例にすぎません-ツールの詳細はさらに詳しく説明します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒント＃6</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：本当に必要な通話のみを許可し、他の全員をブロックします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7.土台を置く（または予期しない動作に備える）</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カーネルは、登録した内容に関係なく、プロファイルへの準拠を監視します。これは私が欲しかったものではありませんが。たとえば、</font></font><code>exit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">またはの</font><font style="vertical-align: inherit;">ような呼び出しへのアクセスをブロックすると</font></font><code>exit_group</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、コンテナはジョブを正しく完了できなくなり、このような単純なコマンドでさえ</font><font style="vertical-align: inherit;">、無期限に</font></font><code>echo hi</code> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハングアップします</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。その結果、クラスターのCPU負荷が高くなります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/32/no/rt/32nortxic_d8czgqc5jnbzrb-ps.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのような場合、ユーティリティが助け</font></font><code>strace</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">になるかもしれません-問題が何であるかを示します：</font><font style="vertical-align: inherit;">
動作中にアプリケーションが必要とするすべてのシステムコールがプロファイルに含まれていることを確認してください。</font><b><font style="vertical-align: inherit;">ヒント＃7</font></b><font style="vertical-align: inherit;">：細かいことに注意し、必要なすべてのシステムコールがホワイトリストに含まれていることを確認してください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hg/l3/eh/hgl3ehuqz8a6eprrsycubq_n6hu.png"><br>
<i><code>sudo strace -c -p 9331</code></i><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、SecDevOpsの精神に沿ったKubernetesでのseccompの使用に関する一連の記事の最初の部分が終わります。</font><font style="vertical-align: inherit;">次のパートでは、これが重要である理由とプロセスを自動化する方法について説明します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻訳者からのPS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのブログも読んでください：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dockerコンテナのセキュリティ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">33以上のKubernetesセキュリティツール</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セキュリティが要求される環境でのDockerとKubernetes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetesでの9つのベストセキュリティプラクティス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja481102/index.html">クロスプラットフォームの.NET UIツールキットリリースAvaloniaUI 0.9</a></li>
<li><a href="../ja481104/index.html">OpenJDKとNodeJSのブレンド：言語間の相互作用と垂直アーキテクチャ</a></li>
<li><a href="../ja481106/index.html">LANITがオフィスでDIY-sitcomを撮影した方法</a></li>
<li><a href="../ja481110/index.html">Playme VEGAレビュー：タッチスクリーンとミラーマウントを備えたコンボレコーダー</a></li>
<li><a href="../ja481112/index.html">5700歳の「チューインガム」は、噛んだ人について何を伝えますか？</a></li>
<li><a href="../ja481116/index.html">コミュニティまたはVKページからDiscordに投稿を自動的に公開する</a></li>
<li><a href="../ja481118/index.html">匿名のサンタクロース2019-2020：新年の贈り物を誇る投稿</a></li>
<li><a href="../ja481120/index.html">エッジサーバーはどこにどのように適用されますか？</a></li>
<li><a href="../ja481122/index.html">PostgreSQLアンチパターン：セットと選択をSQLに渡す</a></li>
<li><a href="../ja481124/index.html">自己文書化コードを書くためのヒント</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>