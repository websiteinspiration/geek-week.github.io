<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>☑️ 👩🏽‍🚒 🕵🏾 Quarantine boredom. How to spend the most money in Azure with one click 🍘 🥙 👩‍👦‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="A couple of days ago, Corey Quinn tweeted :
 
 “Someone asked - I answer. A fully reserved instance of db.r5.24xlarge Enterprise Multi-AZ for SQL Serv...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Quarantine boredom. How to spend the most money in Azure with one click</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495376/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A couple of days ago, Corey Quinn </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tweeted</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“Someone asked - I answer. </font><font style="vertical-align: inherit;">A fully reserved instance of db.r5.24xlarge Enterprise Multi-AZ for SQL Server in Bahrain costs $ 3,118,367. A competition for the most expensive API call in the AWS cloud is announced. ”</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A very productive discussion started in the thread, where many nice people tried to find an even better way to spend money on AWS. </font><font style="vertical-align: inherit;">As an Azure user, I felt sad and lonely, so I decided to correct this injustice. </font><font style="vertical-align: inherit;">If you are in quarantine and want to spend an insane amount of money somewhere, I can tell you. </font><font style="vertical-align: inherit;">You only need a Pay-As-You-Go subscription in Azure - and I guarantee that all your hard-earned money will disappear in a moment!</font></font><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Warm up</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first thing that every sane person who wants to spend the maximum amount of money from any cloud provider will try to do is buy the largest and most expensive virtual machine. </font><font style="vertical-align: inherit;">Unfortunately, this is not very effective: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ca6/0b8/e20/ca60b8e207d534c166242124f04dbad3.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
One instance of Standard_M416ms_v2 with 416 vCPU and 11,400 GB of RAM, paid for three years in advance, will cost only 802 thousand euros, and this is not even a million! </font><font style="vertical-align: inherit;">Even worse, Azure offers a 71% discount, and such discounts are completely contrary to our goal. </font><font style="vertical-align: inherit;">Let's give credit to artificial intelligence: Azure says the recommended number of these instances is zero for me. </font><font style="vertical-align: inherit;">Pretty accurate guess.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We break through a million (Azure Blob Storage)</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
What about blob storage? </font><font style="vertical-align: inherit;">It’s usually very cheap, but what if for some reason you need to store one petabyte in Southern Brazil for the next three years? </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b34/649/6ab/b346496ab0b8e269a933474b7b35679b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, they give a storehouse with a simple geographical reservation (geo-redundant). </font><font style="vertical-align: inherit;">It remains only to assume how much the storage with the reservation of zones (geo-zone-redundant) would cost if this were available.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b34/649/6ab/b346496ab0b8e269a933474b7b35679b.png"><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We break through a million (Azure Databricks)</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Our next candidate is Azure Databricks. </font><font style="vertical-align: inherit;">I have no idea what it is, and I don’t even care! </font><font style="vertical-align: inherit;">I only know that this is a rather expensive service, and this is exactly what we need: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e3f/002/268/e3f002268bb96d0f96a61a94751237bb.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For three million euros you can buy six million of these “data blocks”. </font><font style="vertical-align: inherit;">At a price of 0.53 euros per brick, to be honest, I have no idea whether such an offer is beneficial or not.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Winner</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I often use Cosmos DB, so I am aware of the high prices. </font><font style="vertical-align: inherit;">Let's try to reserve a database: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d4d/f12/a0c/d4df12a0c592125822b18fd423634206.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At a price of less than 50 thousand euros for 20 thousand RU / s, this is simply a pity. </font><font style="vertical-align: inherit;">When I tried to reserve five million RU / s, Azure didn’t allow me to do this, because I’m apparently not a “corporate” user: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ed9/e58/cac/ed9e58cac23cdd717452e43e8aff8a20.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fortunately, we can at least estimate the value in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">the price calculator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8fe/518/985/8fe5189853ca66313c7057c9a56b9c57.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
So with a result of almost $ 9.5 million we have a winner! </font><font style="vertical-align: inherit;">Or is it still not?</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cheating</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Some of you, dear readers, are now probably wondering: why be limited to one petabyte? </font><font style="vertical-align: inherit;">This is a completely logical question! </font><font style="vertical-align: inherit;">Let's order the maximum storage capacity in Southern Brazil: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/ad4/b0e/7f5/ad4b0e7f56d6614334f8fcb638b925ad.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It’s a pity that they have only 99 petabytes, so we’ll try to reserve 999 instances of Standard_M416ms_v2: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/150/066/5ac/1500665ac15b40575a46bc8b000d0b17.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Not bad at all! </font><font style="vertical-align: inherit;">However, I don’t have enough money on my card. </font><font style="vertical-align: inherit;">If you want to verify the payment, please click the "Review + buy" button and tell us how it went.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Please check it yourself and tell us about your experience! </font><font style="vertical-align: inherit;">But don't be sad if Azure runs out of free space:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d30/e42/028/d30e42028969b1e42a7568d365317b91.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en495364/index.html">API Style Guide, or don't make users think</a></li>
<li><a href="../en495366/index.html">16 types of programmers, or Developers are not the same robots</a></li>
<li><a href="../en495368/index.html">We self-register for self-walking self-dogs in conditions of self-isolation</a></li>
<li><a href="../en495370/index.html">Public is evil</a></li>
<li><a href="../en495374/index.html">Decorative ceiling light General Lumino 02</a></li>
<li><a href="../en495378/index.html">DEFCON 27 Conference. Buttplug: True Penetration Testing. Part 1</a></li>
<li><a href="../en495380/index.html">Great Egyptian Firewall</a></li>
<li><a href="../en495384/index.html">My internship experience at Microsoft Redmond and getting an offer</a></li>
<li><a href="../en495388/index.html">1970s television show that became an ancestor of eSports</a></li>
<li><a href="../en495390/index.html">STM32CubeMonitor is worth a try</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>