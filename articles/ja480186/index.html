<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕖 🔖 👩🏾‍💻 Pytestによる自動テスト 🧜🏻 🙍🏻 ⚛️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="記事の翻訳は、Python QAエンジニアコースの学生を対象に特別に作成されました。
 
  
 
 ソフトウェアが市場に急速に移行する時代に生きています。このため、開発プロセスは非常にストレスになります。高いソフトウェア実装率と高速配信はビジネスモデルの良い部分のように見えますが、適切な品質のソフ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pytestによる自動テスト</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/480186/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事の翻訳は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python QAエンジニア</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コースの学生を対象に特別に作成されました</font><font style="vertical-align: inherit;">。</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/_k/t8/za/_kt8zaspxac9im8vyh9zca-r3zm.png"> <br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ソフトウェアが市場に急速に移行する時代に生きています。</font><font style="vertical-align: inherit;">このため、開発プロセスは非常にストレスになります。</font><font style="vertical-align: inherit;">高いソフトウェア実装率と高速配信はビジネスモデルの良い部分のように見えますが、適切な品質のソフトウェアを配信する方法についてここで疑問が生じます。</font></font><a name="habracut"></a><br>
 <br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自動テストが必要な理由</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 自動テストは、ここで多くの利点は、三つの主要なものはありました：</font></font><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">再利用：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それのための緊急の必要がある場合を除き、新しいスクリプトにオペレーティングシステムの新バージョンがリリースされていても毎回、書く必要はありません。</font></font><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">信頼性：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">人は間違いを犯す傾向があり、車は間違いを起こしにくくします。</font><font style="vertical-align: inherit;">そして、継続的に実行する必要がある繰り返しのステップ/テストを実行する場合、より速く動作します。</font></font><br>
 <b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24時間年中無休の作業：</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リモートからでも、いつでもテストを開始できます。</font><font style="vertical-align: inherit;">夜間にテストを開始すると、睡眠中でも動作します。</font></font><br>
 <br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonでフル機能のpytestテストツールを開発</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 現在、テスト用の多くのフレームワークとツールがあります。</font><font style="vertical-align: inherit;">フレームワークにはさまざまなタイプがあります。たとえば、データ駆動型、キーワード駆動型、ハイブリッド、BDDなどです。</font><font style="vertical-align: inherit;">要件に最も適したものを選択できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はPython </font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">がこの問題で巨大なニッチ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">占める</font><font style="vertical-align: inherit;">と言わなければなりません</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Pythonとその関連ツールは広く使用されています。おそらく、他の言語と比較してプログラミングの経験がほとんどない人々にとって、それらがよりアクセスしやすいためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このフレームワークを使用</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すると、小規模なテストを簡単に作成できますが、アプリケーションやライブラリの複雑な機能テストをサポートするように拡張することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかの主要な機能</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストモジュールと機能の自動検出。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実行またはスキップする対象の制御を向上させる効果的なCLI。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プラグインの大規模なサードパーティのエコシステム。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">備品-異なるタイプ、異なるアプリケーション;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">従来の単体テストフレームワークを使用します。</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自動で構成可能なテスト検出</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトで</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、名前がで始まる、</font></font><code>test_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">またはで終わる</font><font style="vertical-align: inherit;">Pythonモジュールでテストが見つかる</font><font style="vertical-align: inherit;">ことを</font><font style="vertical-align: inherit;">想定しています</font></font><code>_test.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">また、デフォルトでは、テスト関数の名前がprefixで始まると想定しています</font></font><code>test_</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ただし、このテスト検出プロトコルは、構成ファイルの1つに独自の構成を追加することで変更できます</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment"># content of pytest.ini</span>
<span class="hljs-comment"># Example 1: have pytest look for "check" instead of "test"</span>
<span class="hljs-comment"># can also be defined in tox.ini or setup.cfg file, although the section</span>
<span class="hljs-comment"># name in setup.cfg files should be "tool:pytest"</span><font></font>
[pytest]<font></font>
python_files = check_*.py<font></font>
python_classes = Check<font></font>
python_functions = *_check</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
非常に単純なテスト関数を見てみましょう：</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CheckClass</span>(<span class="hljs-params">object</span>):</span>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">one_check</span>(<span class="hljs-params">self</span>):</span>
        x = <span class="hljs-string">"this"</span>
        <span class="hljs-keyword">assert</span> <span class="hljs-string">'h'</span> <span class="hljs-keyword">in</span> x<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">two_check</span>(<span class="hljs-params">self</span>):</span>
        x = <span class="hljs-string">"hello"</span>
        <span class="hljs-keyword">assert</span> hasattr(x, <span class="hljs-string">'check'</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何か気づきましたか？</font><font style="vertical-align: inherit;">まったく</font><font style="vertical-align: inherit;">アクセスでき</font><font style="vertical-align: inherit;">ない</font></font><code>assertEqual</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">か</font></font><code>assertDictEqual</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理解できる</font><font style="vertical-align: inherit;">ものはありません</font></font><code>assert</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">2つのオブジェクトを単純に比較するためにこれらの関数をインポートする必要はありません。</font><font style="vertical-align: inherit;">アサートはPythonがすでに持っているものであり、ホイールを再発明する必要はありません。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テンプレートコード？</font><font style="vertical-align: inherit;">心配しないで、備品が急いで救い出します！</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ウォレットプログラムの基本操作をテストするテスト関数を見てください。</font></font><br>
<br>
<pre><code class="python hljs">// test_wallet.py
<span class="hljs-keyword">from</span> wallet <span class="hljs-keyword">import</span> Wallet
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_default_initial_amount</span>():</span><font></font>
   wallet = Wallet()<font></font>
   <span class="hljs-keyword">assert</span> wallet.balance == <span class="hljs-number">0</span><font></font>
   wallet.close()<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_setting_initial_amount</span>():</span>
   wallet = Wallet(initial_amount=<span class="hljs-number">100</span>)
   <span class="hljs-keyword">assert</span> wallet.balance == <span class="hljs-number">100</span><font></font>
   wallet.close()<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_wallet_add_cash</span>():</span>
   wallet = Wallet(initial_amount=<span class="hljs-number">10</span>)<font></font>
   wallet.add_cash(amount=<span class="hljs-number">90</span>)
   <span class="hljs-keyword">assert</span> wallet.balance == <span class="hljs-number">100</span><font></font>
   wallet.close()<font></font>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_wallet_spend_cash</span>():</span>
   wallet = Wallet(initial_amount=<span class="hljs-number">20</span>)<font></font>
   wallet.spend_cash(amount=<span class="hljs-number">10</span>)
   <span class="hljs-keyword">assert</span> wallet.balance == <span class="hljs-number">10</span>
   wallet.close()</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エヘン、面白い！</font><font style="vertical-align: inherit;">気づいてますか？</font><font style="vertical-align: inherit;">多くの定型コードがあります。</font><font style="vertical-align: inherit;">注目に値するもう1つのことは、このテストでは機能部分のテスト以外に何かを行うことです。たとえば、ウォレットを作成してで閉じること</font></font><code>wallet.close()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、フィクスチャを使用してボイラープレートコードを削除する方法を見てみましょう</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> pytest
<span class="hljs-keyword">from</span> _pytest.fixtures <span class="hljs-keyword">import</span> SubRequest
<span class="hljs-keyword">from</span> wallet <span class="hljs-keyword">import</span> Wallet
<span class="hljs-comment">#==================== fixtures</span>
<span class="hljs-meta">@pytest.fixture</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">wallet</span>(<span class="hljs-params">request: SubRequest</span>):</span>
   param = getattr(request, ‘param’, <span class="hljs-literal">None</span>)
   <span class="hljs-keyword">if</span> param:<font></font>
     prepared_wallet = Wallet(initial_amount=param[<span class="hljs-number">0</span>])
   <span class="hljs-keyword">else</span>:<font></font>
     prepared_wallet = Wallet()<font></font>
   <span class="hljs-keyword">yield</span> prepared_wallet<font></font>
   prepared_wallet.close()<font></font>
<span class="hljs-comment">#==================== tests</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_default_initial_amount</span>(<span class="hljs-params">wallet</span>):</span>
   <span class="hljs-keyword">assert</span> wallet.balance == <span class="hljs-number">0</span>
<span class="hljs-meta">@pytest.mark.parametrize(‘wallet’, [(100,)], indirect=True)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_setting_initial_amount</span>(<span class="hljs-params">wallet</span>):</span>
   <span class="hljs-keyword">assert</span> wallet.balance == <span class="hljs-number">100</span>
<span class="hljs-meta">@pytest.mark.parametrize(‘wallet’, [(10,)], indirect=True)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_wallet_add_cash</span>(<span class="hljs-params">wallet</span>):</span>
   wallet.add_cash(amount=<span class="hljs-number">90</span>)
   <span class="hljs-keyword">assert</span> wallet.balance == <span class="hljs-number">100</span>
<span class="hljs-meta">@pytest.mark.parametrize(‘wallet’, [(20,)], indirect=True)</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_wallet_spend_cash</span>(<span class="hljs-params">wallet</span>):</span>
   wallet.spend_cash(amount=<span class="hljs-number">10</span>)
   <span class="hljs-keyword">assert</span> wallet.balance == <span class="hljs-number">10</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いいですね。テスト関数はコンパクトになり、実行する必要があることを正確に実行します。 Walletは、フィクスチャーを使用して構成、インストール、およびクローズされます</font></font><code>wallet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。フィクスチャは、再利用可能なコードの作成を支援するだけでなく、データ共有の概念も追加します。よく見ると、量</font></font><code>wallet</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はテストロジックによって外部から提供されるテストデータの一部であり、関数内で厳密に固定されているわけではありません。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">@pytest.mark.parametrize(‘wallet’, [(10,)], indirect=True)</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より制御された環境では、たとえば</font></font><code>test-data.ini</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リポジトリまたはシェルに</font><font style="vertical-align: inherit;">テストデータを含むファイルがあり</font><font style="vertical-align: inherit;">、それを読み取ることができますが、テスト関数はさまざまなシェルを呼び出してテストデータを読み取ることができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、すべてのフィクスチャを特別なファイルに入れることをお勧めします</font></font><code>conftest.py</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これは、テストがグローバルフィクスチャを検出できるようにするpytestの特別なファイルです。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">しかし、私は別のデータセットで実行したいテストケースがあります！</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
心配はいりません</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。フィクスチャーをパラメーター化するクールな機能があります。</font><font style="vertical-align: inherit;">例を見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
製品にローカルで管理されるCLIがあるとします。</font><font style="vertical-align: inherit;">さらに、製品には起動時に設定される多くのデフォルトパラメーターがあり、これらのパラメーターのすべての値を確認する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらのパラメーターごとに個別のテストケースを作成することを考えるかもしれませんが、</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべて</font><font style="vertical-align: inherit;">を使用</font><font style="vertical-align: inherit;">する方がはるかに簡単です。</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">@pytest.mark.parametrize(“setting_name, setting_value”, [(‘qdb_mem_usage’, ‘low’),</span><font></font>
(‘report_crashes’, ‘yes’),<font></font>
(‘stop_download_on_hang’, ‘no’),<font></font>
(‘stop_download_on_disconnect’, ‘no’),<font></font>
(‘reduce_connections_on_congestion’, ‘no’),<font></font>
(‘<span class="hljs-keyword">global</span>.max_web_users’, ‘<span class="hljs-number">1024</span>’),<font></font>
(‘<span class="hljs-keyword">global</span>.max_downloads’, ‘<span class="hljs-number">5</span>’),<font></font>
(‘use_kernel_congestion_detection’, ‘no’),<font></font>
(‘log_type’, ‘normal’),<font></font>
(‘no_signature_check’, ‘no’),<font></font>
(‘disable_xmlrpc’, ‘no’),<font></font>
(‘disable_ntp’, ‘yes’),<font></font>
(‘ssl_mode’, ‘tls_1_2’),])<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">test_settings_defaults</span>(<span class="hljs-params">self, setting_name, setting_value</span>):</span>
   <span class="hljs-keyword">assert</span> product_shell.run_command(setting_name) == \<font></font>
     self.”The current value <span class="hljs-keyword">for</span> \’{<span class="hljs-number">0</span>}\’ <span class="hljs-keyword">is</span>     \’{<span class="hljs-number">1</span>}\’.”.format(setting_name, setting_value), \<font></font>
 ‘The {} default should be {}’.format(preference_name, preference_value)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
かっこいいですよね？</font><font style="vertical-align: inherit;">13個のテストケース（それぞれが異なる値を設定する</font></font><code>setting_value</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を作成しました。将来、製品に新しいパラメーターを追加する場合、必要なのは別のタプルを追加することだけです。</font></font><br>
<br>
<h4> pytest       Selenium    API?</h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、あなたの製品にはいくつかのインターフェースがあるかもしれません。 CLI-前述のとおり。 GUIとAPIに似ています。ソフトウェア製品を配備する前に、それらすべてをテストすることが重要です。複数のコンポーネントが相互に接続され、相互に依存しているエンタープライズソフトウェアでは、1つの部分の変更が他のすべてに影響を与える可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ことを忘れないでください</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、これはただのテストを容易にするためのフレームワークではなく、テストの具体的なタイプです。つまり、Seleniumを使用してGUIのテストを作成したり、</font></font><code>requests</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pythonの</font><font style="vertical-align: inherit;">ライブラリ</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">使用してAPIのテストを作成したり、</font><font style="vertical-align: inherit;">から実行したりできます</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、高レベルでは、これはリポジトリの構造のチェックである場合があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/js/lt/jn/jsltjnxnjm3z0_nyylpwnz29ouy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上の画像にあるように、コンポーネントを分離する良い機会を提供します：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">apiobjects</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：APIエンドポイントを呼び出すためのラッパーを作成するのに適した場所です。また</font></font><code>BaseAPIObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、要件を満たす派生クラス</font><font style="vertical-align: inherit;">がある場合もあり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヘルパー</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：ここにヘルパーメソッドを追加できます。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LIB</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：例えば、さまざまなコンポーネントで使用可能なライブラリファイル、あなたの備品では</font></font><code>conftest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><code>pageobjects</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">など</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pageobjects</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：アーキテクチャテンプレート</font></font><code>PageObjects</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して、さまざまなGUIページのクラスを作成できます。</font><font style="vertical-align: inherit;">Python用のページオブジェクトテンプレートの実装のライブラリである</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webium</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スイート</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：コード用の独自のピリントチェックのセットを記述できます。これにより、コードの品質に対する信頼が高まります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tests</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：好みに基づいてテストをカタログ化できます。</font><font style="vertical-align: inherit;">これにより、テストの管理と確認が容易になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
参考までに紹介します。リポジトリの構造と依存関係は、個人のニーズに応じて整理できます。</font></font><br>
 <br>
 <h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">多くのテストケースがあり、それらを並行して実行したい</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 セットには多くのテストケースを含めることができ、それらを並行して実行して、全体的なテスト実行時間を短縮する必要がある場合があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pytestは</font></font><code>pytest-xdist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ベースのpytestにいくつかのユニークなランタイムを追加する</font><font style="vertical-align: inherit;">という</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">驚くべき並列テスト実行プラグインを提供します</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このプラグインをでインストールします</font></font><code>pip</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
 <br>
<pre><code class="python hljs">pip install pytest-xdist</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 それがどのように機能するかを例で見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selenium GUIテスト用のCloudApp自動テストリポジトリがあります。</font><font style="vertical-align: inherit;">さらに、絶えず成長し、新しいテストで更新されており、現在では数百のテストがあります。</font><font style="vertical-align: inherit;">私がやりたいことは、それらを並行して実行し、全体的なテスト実行時間を短縮することです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ターミナル</font></font><code>pytest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で、プロジェクトのルートフォルダー/テストフォルダーに入力します。</font><font style="vertical-align: inherit;">これにより、すべてのテストを実行できます。</font></font><br>
 <br>
<pre><code class="python hljs">pytest -s -v -n=<span class="hljs-number">2</span></code></pre><br>
<img src="https://habrastorage.org/webt/sa/qj/s-/saqjs-_lfhrtekg0ljaw57lbvkg.jpeg"><br>
 <br>
 <code>pytest-xdist</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべてのテストを並行して実行します！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようにして、複数のブラウザーを並行して実行することもできます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">報告書</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Pytestには、Jenkins、Bamboo、またはその他の継続的インテグレーションサーバーを使用して開くことができるテスト結果ファイルを作成するための組み込みサポートが付属しています。</font><font style="vertical-align: inherit;">以下を使用します。</font></font><br>
 <br>
<pre><code class="python hljs">pytest test/file/path — junitxml=path</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 これは、多くのパーサーで開くことができる優れたXMLファイルの生成に役立ちます。</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パイテストの人気は毎年高まっています。</font><font style="vertical-align: inherit;">さらに、強力なコミュニティサポートがあり、</font></font><i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pytest-django</font></font></a></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などの多くの拡張機能にアクセスできる</font><font style="vertical-align: inherit;">ため、DjangoでWebアプリケーションのテストを作成するのに役立ちます。</font><font style="vertical-align: inherit;">pytestはテストケースをサポートしている</font></font><code>unittest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ため、</font></font><code>unittest</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pytest </font><font style="vertical-align: inherit;">を使用する</font><font style="vertical-align: inherit;">場合は、より詳細に検討する必要があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出典</font></font></h4><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docs.pytest.org/en/latest</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pythontesting.net/framework/pytest/pytest-introduction</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それで全部です。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コースで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">お会いしましょう</font><font style="vertical-align: inherit;">！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja480176/index.html">[翻訳]海賊行為からオープンソースへ：私の話</a></li>
<li><a href="../ja480178/index.html">＃manorOpenSource</a></li>
<li><a href="../ja480180/index.html">今週の結果：ランブラーはNginxの権利を主張し、マイクロソフトは新しいPLを作成し、ロシアではタイガフォンプロジェクトを閉鎖</a></li>
<li><a href="../ja480182/index.html">フリーランサーのためのガイド：SPの作業に関する最も一般的な質問</a></li>
<li><a href="../ja480184/index.html">面白い統計的事実の選択</a></li>
<li><a href="../ja480188/index.html">NGINXを搭載</a></li>
<li><a href="../ja480194/index.html">クラウドソリューションアーキテクチャ。OTUSからの新しいコース</a></li>
<li><a href="../ja480196/index.html">無法状態にどう対応するか？Nginxのイベントに基づく</a></li>
<li><a href="../ja480200/index.html">個人ウェブサイトのデザインとコードを開発する方法</a></li>
<li><a href="../ja480204/index.html">Nginx作者をサポートする30分のブラックアウト-Igor Sysoev</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>