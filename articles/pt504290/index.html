<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üìÅ üßëüèø‚Äçü§ù‚Äçüßëüèø üíÉüèº Teste de carga como um servi√ßo de IC para desenvolvedores üëáüèø ‚úäüèø üòå</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Um dos problemas que os fornecedores de software de v√°rios produtos costumam encontrar √© a duplica√ß√£o de compet√™ncias de engenheiros - desenvolvedores...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Teste de carga como um servi√ßo de IC para desenvolvedores</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pt/blog/504290/"><img src="https://habrastorage.org/webt/r5/fa/5g/r5fa5gszksri1ly608-wffhunqu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um dos problemas que os fornecedores de software de v√°rios produtos costumam encontrar √© a duplica√ß√£o de compet√™ncias de engenheiros - desenvolvedores, testadores e administradores de infraestrutura - em quase todas as equipes. Isso tamb√©m se aplica a engenheiros caros - especialistas na √°rea de testes de carga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em vez de se envolver em suas responsabilidades diretas e usar sua experi√™ncia √∫nica para criar o processo de teste de carga, escolhendo uma metodologia, m√©tricas ideais e autoteste de grava√ß√£o de acordo com perfis de carga, os engenheiros geralmente precisam implantar a infraestrutura de teste do zero, configurar ferramentas de carga e incorpor√°-las nos sistemas de CI, configure o monitoramento e a publica√ß√£o de relat√≥rios.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode encontrar solu√ß√µes para alguns problemas organizacionais nos testes que usamos na Positive Technologies em </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">outro artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">E aqui falarei sobre a possibilidade de integrar testes de carga em um pipeline de IC comum usando o conceito de "teste de carga como servi√ßo". </font><font style="vertical-align: inherit;">Voc√™ aprender√° como e quais imagens da janela de encaixe das fontes de carregamento podem ser usadas no pipeline do IC; </font><font style="vertical-align: inherit;">Como conectar fontes de carregamento ao seu projeto de IC usando um modelo de montagem; </font><font style="vertical-align: inherit;">como √© um pipe de demonstra√ß√£o para executar testes de carga e publicar resultados. </font><font style="vertical-align: inherit;">Este artigo pode ser √∫til para engenheiros de teste de software e engenheiros de automa√ß√£o da CI, que pensaram na arquitetura de seu sistema de carga.</font></font><a name="habracut"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ess√™ncia do conceito</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O conceito de teste de carga como servi√ßo implica a capacidade de integrar as ferramentas de carregamento Apache JMeter, Yandex.Tank e estruturas pr√≥prias em um sistema arbitr√°rio de integra√ß√£o cont√≠nua. Uma demonstra√ß√£o ser√° para o GitLab CI, mas os princ√≠pios s√£o declarados comuns a todos os sistemas de CI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O teste de carga como servi√ßo √© um servi√ßo centralizado para a realiza√ß√£o de testes de carga. Os testes de carga s√£o executados em conjuntos de agentes dedicados, os resultados s√£o publicados automaticamente no GitLab Pages, Influx DB e Grafana ou em sistemas de relat√≥rio de teste (TestRail, ReportPortal, etc.). A automa√ß√£o e o dimensionamento s√£o realizados da maneira mais simples poss√≠vel - adicionando e parametrizando o modelo gitlab-ci.yml usual no projeto GitLab CI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A vantagem da abordagem √© que toda a infraestrutura de CI, agentes de carga, imagens de encaixe de fontes de carga, pipelines de teste e publica√ß√£o de relat√≥rios s√£o suportadas pelo departamento central de automa√ß√£o (engenheiros do DevOps) e os engenheiros de teste de carga podem concentrar seus esfor√ßos no desenvolvimento de testes e an√°lise de seus resultados, sem lidar com quest√µes de infraestrutura. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para simplificar a descri√ß√£o, supomos que o aplicativo ou servidor de teste de destino j√° esteja implantado e configurado com anteced√™ncia (para isso, scripts automatizados em Python, SaltStack, Ansible etc. podem ser usados). Ent√£o, todo o conceito de teste de estresse como servi√ßo se encaixa em tr√™s est√°gios: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prepara√ß√£o, teste, publica√ß√£o de relat√≥rios</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mais detalhes no diagrama (todas as imagens s√£o clic√°veis):</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/uc/no/nj/ucnonjamcikvuob-3njskwev-he.png"></a><br>
<br>
<h2>      </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ao realizar testes de estresse, tentamos aderir aos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">padr√µes e metodologia do ISTQB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , usamos a terminologia apropriada e as m√©tricas recomendadas. Vou dar uma pequena lista de conceitos e defini√ß√µes b√°sicas no teste de carga. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O agente de carregamento (agente de carregamento)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a m√°quina virtual na qual o aplicativo ser√° iniciado - a origem do carregamento (Apache JMeter, Yandex.Tank ou m√≥dulo de carregamento auto-gravado). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O objetivo do teste (destino)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um servidor ou aplicativo instalado no servidor que ser√° submetido ao carregamento. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um caso de teste</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© um conjunto de etapas parametrizadas: a√ß√µes do usu√°rio e rea√ß√µes esperadas a essas a√ß√µes, com solicita√ß√µes e respostas de rede fixas, dependendo dos par√¢metros especificados.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perfil ou plano de carga (perfil)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - na </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metodologia ISTQB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Se√ß√£o 4.2.4, p. 43), os perfis de carga determinam as m√©tricas cr√≠ticas para um teste espec√≠fico e as op√ß√µes para alterar os par√¢metros de carga durante o teste. Voc√™ pode ver exemplos de perfis na figura. </font><b><font style="vertical-align: inherit;">Teste</font></b><font style="vertical-align: inherit;"> √© um script com um conjunto predefinido de par√¢metros. </font><b><font style="vertical-align: inherit;">Plano de</font></b><font style="vertical-align: inherit;"> teste - su√≠te de testes e perfil de carga. </font><b><font style="vertical-align: inherit;">Testrun (testrun)</font></b><font style="vertical-align: inherit;"> - uma itera√ß√£o da execu√ß√£o de um teste com um cen√°rio de carga totalmente executado e um relat√≥rio recebido. </font><b><font style="vertical-align: inherit;">Solicita√ß√£o de rede (solicita√ß√£o)</font></b><font style="vertical-align: inherit;"> - uma solicita√ß√£o HTTP enviada do agente para o destino. </font><b><font style="vertical-align: inherit;">Resposta da rede (resposta)</font></b><font style="vertical-align: inherit;"> - uma resposta HTTP enviada do destino para o agente.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/qm/iq/d5/qmiqd5egscabj6hrmlnufxnyv4m.png"></a><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O status da resposta HTTP √© um c√≥digo de resposta padr√£o do servidor de aplicativos. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Transa√ß√£o (transa√ß√£o) - um ciclo completo de "solicita√ß√£o - resposta". </font><font style="vertical-align: inherit;">Uma transa√ß√£o √© contada desde o in√≠cio do envio de uma solicita√ß√£o (solicita√ß√£o) at√© a conclus√£o do recebimento de uma resposta (resposta). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Status da transa√ß√£o (status das transa√ß√µes)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - se o ciclo "solicita√ß√£o - resposta" foi conclu√≠do com √™xito. </font><font style="vertical-align: inherit;">Se houver algum erro nesse loop, a transa√ß√£o inteira ser√° considerada malsucedida. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tempo de resposta (lat√™ncia)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - tempo desde o final do envio de uma solicita√ß√£o (solicita√ß√£o) at√© o in√≠cio do recebimento de uma resposta (resposta). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©tricas de carregamento (m√©tricas)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - as caracter√≠sticas do servi√ßo carregado e do agente de carregamento definidas durante o processo de teste de carga.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©tricas b√°sicas para medir par√¢metros de carga</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algumas das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©tricas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mais comuns e recomendadas na metodologia </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">ISTQB</font></a><font style="vertical-align: inherit;"> (p. 36, 52) s√£o mostradas na tabela abaixo. </font><font style="vertical-align: inherit;">M√©tricas semelhantes para o agente e o destino s√£o mostradas na mesma linha.</font></font><br>
<br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©tricas do agente de carregamento</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©tricas do sistema ou aplicativo de destino testado sob carga</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O n√∫mero de&nbsp;&nbsp; </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vCPU</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e mem√≥ria </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">disco</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - caracter√≠sticas "de ferro" do agente de carregamento</font></font></td>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mem√≥ria, uso de disco</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - a din√¢mica de carregamento do processador, mem√≥ria e disco </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
durante o teste. </font><font style="vertical-align: inherit;">Geralmente medido como uma porcentagem dos </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
valores m√°ximos dispon√≠veis.</font></font></td>
</tr>
<tr>
<td><b>Network throughput</b> (on load agent) ‚Äî   <br>
   , <br>
   . <br>
      (bps)</td>
<td><b>Network throughput</b>(on target) ‚Äî     <br>
  .       (bps)</td>
</tr>
<tr>
<td><b>Virtual users</b>‚Äî   , <br>
    <br>
   </td>
<td><b>Virtual users status</b>, Passed/Failed/Total ‚Äî    <br>
     <br>
  ,     .<br>
<br>
 ,      <br>
  ,    . <br>
   ,       <br>
      </td>
</tr>
<tr>
<td><b>Requests per second (minute)</b>‚Äî      ( ).<br>
<br>
   :     . <br>
       </td>
<td><b>Responses per second (minute)</b><br>
 ‚Äî      ( ).<br>
<br>
   :   <br>
       <br>
 </td>
</tr>
<tr>
<td></td>
<td><b>HTTP responses status</b>‚Äî     <br>
  ,   . <br>
, 200 OK   , <br>
 404 ‚Äî    </td>
</tr>
<tr>
<td></td>
<td><b>Latency</b> ( ) ‚Äî    <br>
  (request)     (response). <br>
    (ms)</td>
</tr>
<tr>
<td></td>
<td><b>Transaction response time</b>‚Äî    , <br>
  ¬´ ‚Äî ¬ª. <br>
      (request) <br>
    (response).<br>
<br>
      ( ) <br>
 :  , <br>
,  , , 90- . <br>
    ‚Äî   <br>
  . <br>
    , <br>
    , <br>
     </td>
</tr>
<tr>
<td></td>
<td><b>Transactions per second (minute)</b> ‚Äî   <br>
   (), <br>
       <br>
    . <br>
    </td>
</tr>
<tr>
<td></td>
<td><b>Transactions status</b> , Passed / Failed / Total ‚Äî  <br>
,     .<br>
<br>
    <br>
    <br>
     </td>
</tr>
</tbody>
</table></div><br>
<h2>   </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O esquema b√°sico de teste de carga √© muito simples e consiste em tr√™s est√°gios principais, que eu j√° mencionei: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preparar - Teste - Relat√≥rio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ou seja, preparar metas de teste e definir par√¢metros para fontes de carga, depois executar testes de carga e, finalmente, gerar e publicar um relat√≥rio sobre o teste. </font><font style="vertical-align: inherit;">
Notas para o regime:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/o5/s5/z5/o5s5z5f79dpui3ojk5vbwgsayso.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">QA.Tester - especialista em testes de estresse,</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Target √© o aplicativo de destino para o qual voc√™ precisa conhecer seu comportamento sob carga.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Classificador de entidades, est√°gios e etapas no diagrama</font></font></h2><br>
<div class="scrollable-table"><table>
<thead>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Etapas e etapas</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que est√° acontecendo</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que h√° na entrada</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qual √© a sa√≠da</font></font></th>
</tr>
</thead>
<tbody>
<tr>
<td colspan="4"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Preparar: fase de prepara√ß√£o do teste</font></font></td>
</tr>
<tr>
<td><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Par√¢metros de carga</font></font></b></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definindo e inicializando </font><font style="vertical-align: inherit;">
par√¢metros de carregamento do </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
usu√°rio </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
selecionando m√©tricas e </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
preparando um plano de teste </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
(perfil de carregamento)</font></font></td>
<td>  <br>
  <br>
-<br>
 </td>
<td></td>
</tr>
<tr>
<td><b>VM</b></td>
<td>   <br>
   <br>
 </td>
<td>    <br>
   <br>
 </td>
<td>  <br>
 </td>
</tr>
<tr>
<td><b>Env</b></td>
<td>    <br>
  <br>
  </td>
<td>   <br>
 <br>
   <br>
 </td>
<td> : <br>
,   , <br>
   <br>
 </td>
</tr>
<tr>
<td><b>LoadAgents</b></td>
<td>,    <br>
 . <br>
  -  <br>
  </td>
<td>-   <br>
(, JM   )<br>
  <br>
 </td>
<td>   <br>
   <br>
</td>
</tr>
<tr>
<td colspan="4">Test:    .    ,       GitLab CI</td>
</tr>
<tr>
<td><b>Load</b></td>
<td>   <br>
  -<br>
   </td>
<td>  <br>
  <br>
 <br>
-<br>
 </td>
<td>  <br>
 <br>
 <br>
      </td>
</tr>
<tr>
<td><b>RunAgents</b></td>
<td>  <br>
   <br>
  <br>
  <br>
   <br>
  </td>
<td>-<br>
 </td>
<td></td>
</tr>
<tr>
<td><b>Logs</b></td>
<td> ¬´¬ª  <br>
   : <br>
    , <br>
   <br>
 ,    </td>
<td></td>
<td>  <br>
 <br>
 </td>
</tr>
<tr>
<td><b>Metrics</b></td>
<td> ¬´¬ª    </td>
<td></td>
<td>    <br>
  </td>
</tr>
<tr>
<td colspan="4">Report:     </td>
</tr>
<tr>
<td><b>Generator</b></td>
<td>  <br>
   <br>
  ¬´¬ª <br>
  <br>
   <br>
 , <br>
   <br>
</td>
<td>  <br>
 <br>
 <br>
   <br>
   </td>
<td> ¬´¬ª  <br>
 ,   <br>
   <br>
   ,<br>
   </td>
</tr>
<tr>
<td><b>Publish</b></td>
<td>  <br>
  <br>
   <br>
</td>
<td> ¬´¬ª <br>
  ,  <br>
    <br>
</td>
<td>   <br>
   <br>
,  <br>
  </td>
</tr>
</tbody>
</table></div><br>
<h2>    CI-</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos para a parte pr√°tica. Quero mostrar como, em alguns projetos da </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Positive Technologies</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , implementamos o conceito de teste de estresse como servi√ßo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, com a ajuda de nossos engenheiros de DevOps, criamos um pool de agentes dedicado no GitLab CI para executar testes de carga. Para n√£o confundi-los em modelos com outros, como conjuntos de montagens, adicionamos tags a esses agentes, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tags</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : load. Voc√™ pode usar outras tags claras. Eles s√£o definidos </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">durante o registro dos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> GitLab CI Runners.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como descobrir a energia necess√°ria por hardware? As caracter√≠sticas dos agentes de carregamento - uma quantidade suficiente de vCPU, RAM e disco - podem ser calculadas com base em que Docker, Python (para Yandex.Tank), agente de GitLab CI, Java (para Apache JMeter) devem estar em execu√ß√£o no agente. Para Java no JMeter, tamb√©m √© recomend√°vel usar no m√≠nimo 512 MB de RAM e, como limite superior, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">80% da mem√≥ria dispon√≠vel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, com base em nossa experi√™ncia, recomendamos o uso de pelo menos 4 vCPU, 4 GB de RAM, 60 GB SSD para agentes de carregamento. A largura de banda da placa de rede √© determinada com base nos requisitos do perfil de carga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usamos principalmente duas fontes de carregamento - imagens do docker Apache JMeter e Yandex.Tank. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Tank</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Esta √© a ferramenta de c√≥digo aberto do Yandex para testes de estresse. Sua arquitetura modular √© baseada no gerador de solicita√ß√µes HTTP ass√≠ncronas de alto desempenho Phantom. O tanque possui monitoramento interno dos recursos do servidor testado usando o protocolo SSH, pode interromper o teste automaticamente de acordo com as condi√ß√µes especificadas, pode exibir os resultados no console e na forma de gr√°ficos, voc√™ pode conectar seus m√≥dulos a ele para expandir a funcionalidade. A prop√≥sito, usamos o Tank quando ele ainda n√£o era popular. No artigo ‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex.Tank e automa√ß√£o de testes de carga</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù, voc√™ pode ler a hist√≥ria de como, em 2013, a usamos para </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">realizar</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> testes de carga do </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">PT Appllication Firewall</font></a><font style="vertical-align: inherit;"> - um dos produtos de nossa empresa. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache JMeter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√â uma ferramenta de c√≥digo aberto para realizar testes de estresse do Apache. Ele pode ser usado igualmente bem para testar aplicativos da Web est√°ticos e din√¢micos. O JMeter suporta um grande n√∫mero de protocolos e maneiras de interagir com aplicativos: HTTP, HTTPS (Java, NodeJS, PHP, ASP.NET etc.), servi√ßos da Web SOAP / REST, FTP, TCP, LDAP, SMTP (S), POP3 (S ) e IMAP (S), bancos de dados por meio do JDBC, podem executar comandos do shell e trabalhar com objetos Java. O JMeter possui um IDE para criar, depurar e executar planos de teste. H√° tamb√©m uma CLI para trabalhar na linha de comando de qualquer Java OS compat√≠vel (Linux, Windows, Mac OS X). A ferramenta pode gerar dinamicamente um relat√≥rio de teste HTML.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para facilitar o uso em nossa empresa, para a capacidade dos testadores de alterar e adicionar o ambiente, criamos imagens de docker de fontes de carga no GitLab CI com publica√ß√£o no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">docker-register</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> interno </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">no Artifactory</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dessa forma, fica mais r√°pido e f√°cil conect√°-los em tubula√ß√µes para testes de carga. </font><font style="vertical-align: inherit;">Como fazer o docker enviar o registro via GitLab CI - consulte as </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">instru√ß√µes</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O arquivo docker b√°sico para o Yandex.Tank foi o que fizemos:</font></font><br>
<br>
<pre><code class="bash hljs">Dockerfile <font></font>
1 | FROM direvius/yandex-tank<font></font>
2 | ENTRYPOINT [<span class="hljs-string">""</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E para o Apache JMeter, este:</font></font><br>
<br>
<pre><code class="bash hljs">Dockerfile <font></font>
1 | FROM vmarrazzo/jmeter<font></font>
2 | ENTRYPOINT [<span class="hljs-string">""</span>]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode ler como nosso sistema de integra√ß√£o cont√≠nua funciona no artigo ‚Äú </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Automa√ß√£o de processos de desenvolvimento: como implementamos as id√©ias de DevOps em tecnologias positivas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‚Äù.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modelo e pipeline</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um modelo de exemplo para a realiza√ß√£o de testes de carga est√° dispon√≠vel no projeto </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demo-load</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Voc√™ </font><font style="vertical-align: inherit;">pode ler as instru√ß√µes para usar o modelo </font><font style="vertical-align: inherit;">no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arquivo leia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">me</font></a><font style="vertical-align: inherit;"> . No pr√≥prio modelo (o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">arquivo .gitlab-ci.yml</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), h√° observa√ß√µes sobre o que √© respons√°vel por esta ou aquela etapa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modelo √© muito simples e demonstra os tr√™s est√°gios do teste de carga descritos acima no diagrama: prepara√ß√£o, teste e publica√ß√£o de relat√≥rios. Respons√°vel pelo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diret√≥rio de est√°gios</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">o Preparar, o Teste e o Relat√≥rio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Prepare</a>           .       ,     -    docker registry:       Test.         .</li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Test</a>     ,      .     : Yandex.Tank, Apache JMeter,    .         job-.     :<br>
 <ul>
<li>  Yandex.Tank    .<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">/tests/yandextank.sh</a>,</li>
<li>  Apache JMeter    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">./tests/jmeter.sh</a>.</li>
</ul><br>
:         CI-        .     ,    bash-.   ,       ‚Äî    QA-.               .        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">./tests</a>.<br>
 </li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Report</a>      ,    Test,   ,   GitLab Pages    .  GitLab Pages ,      ./public        index.html.     GitLab Pages    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>.<br>
<br>
,   : <ul>
<li> JMeter  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitLab Pages</a>,</li>
<li> Yandex.Tank  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">InfluxDB  Grafana</a>.</li>
</ul><br>
   :<ul>
<li>HTML-  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">GitLab Pages</a>,</li>
<li> InfluxDB    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">Grafana</a>.</li>
</ul></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em um exemplo de demonstra√ß√£o, um pipeline com testes de carga e duas fontes de carga (voc√™ pode desativar desnecessariamente) √© semelhante a: O </font><font style="vertical-align: inherit;">
Apache JMeter pode gerar um relat√≥rio em HTML, por isso √© mais rent√°vel salv√°-lo nas p√°ginas do GitLab usando ferramentas regulares. </font><font style="vertical-align: inherit;">√â assim que o relat√≥rio do Apache JMeter se parece: </font><font style="vertical-align: inherit;">
Na demonstra√ß√£o do Yandex.Tank, voc√™ ver√° apenas um </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">relat√≥rio de texto falso</font></a><font style="vertical-align: inherit;"> na se√ß√£o P√°ginas do GitLab. </font><font style="vertical-align: inherit;">Durante o teste, o Tank pode salvar os resultados no banco de dados do InfluxDB e, a partir da√≠, eles podem ser exibidos no Grafana (a configura√ß√£o √© realizada no arquivo </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">./tests/example-yandextank-test.yml</font></a><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">√â assim que o relat√≥rio de Tank se parece no Grafana:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/t6/0f/bx/t60fbxhrvwnju5mubzwmifhjmn0.png"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/fr/pl/pr/frplprdv1ns3obkqrpn2i4tgetu.png"></a><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><img src="https://habrastorage.org/webt/a6/y9/zw/a6y9zw9ej6wcy_g5pk69s1ncrpa.png"></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sum√°rio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No artigo, falei sobre o conceito de "teste de carga como servi√ßo" (teste de carga como servi√ßo). A id√©ia principal √© usar a infraestrutura de pools pr√©-configurados de agentes de carregamento, imagens de encaixe de fontes de carregamento, sistemas de relat√≥rios e um pipeline que os une no GitLab CI com base em um modelo simples .gitlab-ci.yml (exemplo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">por refer√™ncia</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Tudo isso √© suportado por uma pequena equipe de engenheiros de automa√ß√£o e √© replicado a pedido das equipes de produto. Espero que isso ajude voc√™ a preparar e implementar um esquema semelhante em sua empresa. Obrigado pela aten√ß√£o! </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS: Gostaria de agradecer muito aos meus colegas Sergey Kurbanov e Nikolay Yusev, pela assist√™ncia t√©cnica na implementa√ß√£o do conceito de teste de carga como servi√ßo em nossa empresa. </font></font></i><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Autor</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Timur Gilmullin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - deputado. </font><font style="vertical-align: inherit;">Chefe de Tecnologia e Processos de Desenvolvimento (DevOps), Positive Technologies</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt504264/index.html">Coment√°rio de revis√£o da Huawei: comente nas postagens de Wi-Fi 6 e receba pr√™mios</a></li>
<li><a href="../pt504270/index.html">O Svelte √© uma boa op√ß√£o para a implementa√ß√£o de widgets?</a></li>
<li><a href="../pt504276/index.html">Os 10 melhores livros para desenvolvedores</a></li>
<li><a href="../pt504282/index.html">Cria√ß√£o da arquitetura corporativa no NSPK</a></li>
<li><a href="../pt504284/index.html">O livro ‚ÄúPure Agile. No√ß√µes b√°sicas de flexibilidade</a></li>
<li><a href="../pt504296/index.html">Gerando ramifica√ß√µes aleat√≥rias em Python</a></li>
<li><a href="../pt504306/index.html">Como √© feito o hardware russo para armazenamento Aerodisk Vostok na Elbrus</a></li>
<li><a href="../pt504310/index.html">Dicotomia de dados: repensando a rela√ß√£o com dados e servi√ßos</a></li>
<li><a href="../pt504312/index.html">Registro unificado de programas russos e GPL. Meus cinco centavos</a></li>
<li><a href="../pt504314/index.html">Implementa√ß√£o de comandos docker pull e docker push sem cliente docker via solicita√ß√µes HTTP</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>