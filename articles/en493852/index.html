<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë©üèº‚Äçü§ù‚Äçüë®üèø ü§Æ ‚ö±Ô∏è CloudFlare - Internet Cancer üë¥üèª üë©üèº‚Äçüç≥ üßë</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Disclaimer:  I myself use CloudFlare a lot and I think that they do a great job, help develop the Internet, give cool products for free, and overall g...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CloudFlare - Internet Cancer</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/493852/"><img src="https://habrastorage.org/webt/4e/tj/ed/4etjed_wbzdwjg3u90w4lhu_irg.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Disclaimer: </font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I myself use CloudFlare a lot and I think that they do a great job, help develop the Internet, give cool products for free, and overall great guys. The article describes the problems of globalization and new threats when the decentralized Internet becomes centralized.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
When CloudFlare first appeared, it was a real revolution in web hosting: in two clicks, without moving to another server, you could connect a professional CDN to your website, which saved a lot of traffic, accelerated the loading of static files and also protected against DDoS. Previously, only companies could afford this for a lot of money, but now it has become available to everyone, also free!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since then, CloudFlare has grown exponentially and today proxies a third of the Internet through its infrastructure. </font><font style="vertical-align: inherit;">Because of this, problems arose that did not exist before. </font><font style="vertical-align: inherit;">In a post, we will look at how CloudFlare threatens the normal functioning of the Internet, prevents ordinary people from using sites, has access to encrypted traffic, and what to do about it.</font></font><br>
<a name="habracut"></a><br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to break a third of the Internet</font></font></font></h2><br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/2y/cz/iu/2ycziuj0ewhyqjfnyxav6mgr_o8.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
July 2, 2019 as a result of the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudFlare</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> error </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;">completely broke</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">As a result, all services that somehow use their network were unavailable. </font><font style="vertical-align: inherit;">Among the most famous: Discord, Reddit, Twitch. </font><font style="vertical-align: inherit;">This has affected not only websites, but also games, mobile applications, terminals, etc. </font><font style="vertical-align: inherit;">At the same time, even those services that do not directly use CloudFlare experienced problems due to third-party APIs that became unavailable.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In most cases, to use CloudFlare, clients direct their domains to their DNS servers. At the time of the accident, the control panel and API also became unavailable, due to which customers could not redirect their domains to bypass the CloudFlare network, thus being trapped: it was impossible to quickly disable proxies and return to their infrastructure. The only way out was to delegate the domain to their own DNS servers, but such an update could take more than a day, and most clients were not ready for this and did not have spare master DNS servers in this case.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despite the fact that downtime was small, only a few hours, this significantly affected the entire industry. </font><font style="vertical-align: inherit;">Due to non-working payment services, companies suffered direct losses. </font><font style="vertical-align: inherit;">This incident revealed an obvious problem that was previously discussed only in theory: if the Internet is so dependent on one service provider, at some point everything may break.</font></font><br>
<blockquote><h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">If one company controls such a large part of the Internet, it threatens the stability of the network from both the technical and economic sides.</font></font></h3></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The concept of the Internet itself involves decentralization and resistance to such errors. </font><font style="vertical-align: inherit;">Even if a part of the network is disconnected, the routing system is automatically rebuilt. </font><font style="vertical-align: inherit;">But when one company manages such a large part of the traffic, the network becomes vulnerable to its mistakes, sabotage, hacks, as well as dishonest actions for profit. </font><font style="vertical-align: inherit;">This idea is important for understanding the remaining issues, which we will discuss later.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You look suspicious</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If the proprietary algorithms for detecting malicious CloudFlare traffic consider that you are an unworthy Internet user, web surfing will turn into a torment: on every fifth site you will see the requirements to undergo a humiliating captcha. </font></font><br>
<br>
<div style="text-align:center;"><img width="500" src="https://habrastorage.org/webt/98/ck/1f/98ck1fcu-tlbppn3tzybneukauo.png"></div><br>
<font color="999999"><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudFlare CAPTCHA can haunt you all over the Internet.</font></font></sup></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The author of these lines goes to the Internet from the office IP address, behind which hundreds of other employees are sitting. </font><font style="vertical-align: inherit;">Apparently CloudFlare decided that we all look like bots, and began to show everyone a very evil captcha. </font><font style="vertical-align: inherit;">Sometimes it comes to the point of absurdity when some mobile applications cannot log in. </font><font style="vertical-align: inherit;">As a result, in order to surf the Internet normally, you have to connect a VPN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It turns out that CloudFlare can disconnect you personally from a large part of the Internet at any time if it doesn‚Äôt please you, or, due to erroneous detection, turn the usual use of services into torment.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">We can see through HTTPS</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To properly cache and filter content, CloudFlare servers must be able to see decrypted HTTP traffic. To do this, they </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">always</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> work in MiTM (Man-in-the-middle) mode, substituting their SSL certificate for the end site visitor. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pictures in the HTTPS setup instructions can be misleading, as if in Full mode, encryption is used throughout the traffic flow. In fact, the CloudFlare server decrypts the traffic from the server and encrypts it again with its certificate for the site visitor.</font></font><br>
<br>
<div style="text-align:center;"><img width="600" src="https://habrastorage.org/webt/dt/fz/hb/dtfzhbk1u08rhih-8idholivpug.png"></div><br>
<font color="999999"><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In any mode of operation, CloudFlare decrypts SSL traffic.</font></font></sup></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Even if you have a valid SSL certificate on your side, CloudFlare will still have access to all transmitted data. This discredits the whole idea of ‚Äã‚ÄãSSL, which involves encryption from the client to the destination server without decryption along the way.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In case of an error or hacking of CloudFlare servers, all confidential traffic will be available to attackers. Suffice it to recall</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> a memory leak vulnerability that</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> caused CloudFlare servers to spit out random memory contents directly into the page content. This could include cookies, accounts, credit card numbers, etc.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You also need to keep in mind that the special services of the country in whose jurisdiction Cloudflare Inc operates may request access to decrypted traffic, even if the original server is in a different jurisdiction. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">This turns the basic idea of ‚Äã‚ÄãSSL into fiction.</font></font></b><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Not only infrastructure, but censorship</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Initially, Cloudflare stated that it would only provide infrastructure for customers and did not plan to censor content resources, promising to be limited only to legitimate requirements from government agencies. So it was with the site of the famous LulzSec group, which coordinated hacks and DDoS attacks. On this occasion, Cloudflare </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">released a statement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, after a while, Cloudflare decides to refuse service to the 8chan website based on its moral perceptions. Moreover, there were no court decisions or other formal reasons for this - they just decided so. This caused a public discussion about whether the provider can decide for himself which service is worthy to be served on its infrastructure and which is not. Reflection article on this topic in the New York Times:</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Why Banning 8chan Was So Hard for Cloudflare: 'No One Should Have That Power'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Despite the fact that Cloudflare is an incredibly useful service and helps to significantly accelerate the delivery of content, as well as developing the Internet, its dangerous growth and the upcoming monopoly threatens the stability of the entire Internet. </font><font style="vertical-align: inherit;">Let us try to summarize all of the above in simple theses:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">You cannot store all eggs in one basket. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">It is simply unsafe, the price of an error in this case is too high. </font><font style="vertical-align: inherit;">If one company has all the secrets of the world, it can always be hacked, make a mistake, or simply act dishonestly to squeeze competitors out of the market.</font></font></li>
<li><b>      ‚Äî  .</b>        ,       ,      ,    . </li>
<li><b>SSL       . </b>    ,    Cloudflare,      ‚Äî CloudFlare.         .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This post does not urge to abandon Cloudflare, but only describes what in the future threatens such rapid growth and influence of this company. </font><font style="vertical-align: inherit;">Think about whether you really need to use Cloudflare for your tasks, and if it‚Äôs impossible without it, consider Plan B in case of an emergency move. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For those who are looking for reliable servers, we launched the action: ISPmanager for three months for free. </font><font style="vertical-align: inherit;">And plus the traditional 10% discount for Habr√© readers:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en493840/index.html">Reviews: Asana, Jira, Bitrix-24, Trello, YouGile. What do you like and what infuriates?</a></li>
<li><a href="../en493842/index.html">Secure remote access with Check Point solutions + free licenses</a></li>
<li><a href="../en493844/index.html">Book ‚ÄúDatabases. Reliability Engineering</a></li>
<li><a href="../en493848/index.html">I want to start a blog, but I don‚Äôt have my own team. How to choose copywriting contractors?</a></li>
<li><a href="../en493850/index.html">Which of the developers living in the same city earns more: working remotely or in the office?</a></li>
<li><a href="../en493856/index.html">Linux Strace: History, Design, and Usage</a></li>
<li><a href="../en493858/index.html">10 useful books on IT service management</a></li>
<li><a href="../en493862/index.html">The updated model Sauber Alfa Romeo F1 is equipped with 143 parts printed on a 3D printer</a></li>
<li><a href="../en493864/index.html">Letter to startups from Sequoia Capital regarding coronavirus</a></li>
<li><a href="../en493866/index.html">Build your flow for git from scratch</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>