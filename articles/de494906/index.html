<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛁 🏇 ☀️ Betriebsarten von Mailservern 🤰🏻 🈯️ 👨🏻‍🍳</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Bei der Installation von Postfix auf Debian-basierten Distributionen wird eine pseudografische Grafikschnittstelle mit einer Reihe von Vorlagen für di...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Betriebsarten von Mailservern</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/494906/"><img src="https://habrastorage.org/webt/be/i1/aj/bei1ajyzb92fj3gm59se_-3vgbs.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Installation von Postfix auf Debian-basierten Distributionen wird eine pseudografische Grafikschnittstelle mit einer Reihe von Vorlagen für die Installation gestartet. </font><font style="vertical-align: inherit;">Diese Vorlagen richten sich an verschiedene Betriebsmodi des Mailservers, die davon abhängen, ob der Mailserver E-Mails akzeptiert, weiterleitet und verschiedene Variationen dieser beiden Modi. </font><font style="vertical-align: inherit;">Dies sind jedoch nur Vorlagen, die nach der Installation des Servers leicht geändert werden können. </font><font style="vertical-align: inherit;">Obwohl ich Postfix unter Debian als Beispiel verwende, sind diese Modi für alle Mailserver universell.</font></font><br>
<a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Video</font></font></b><div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/5SoT9XuT37E" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zurück &lt;Funktionsweise von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E-Mail</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Weiter&gt; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informationen zu Ports und Verschlüsselung in Mailservern </font></font></a><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/gs/nq/kf/gsnqkfkaag7kki54t6cw-rh5zrm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Option </font><b><font style="vertical-align: inherit;">„Keine Konfiguration“</font></b><font style="vertical-align: inherit;"> Die erste Option in der Liste ist Keine Konfiguration. Wenn Sie diese Option auswählen, erstellt der Mailserver keine Hauptkonfigurationsdatei. Dies ist praktisch, wenn wir über eine eigene vorgefertigte Konfigurationsdatei verfügen . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie das Installationsskript neu starten möchten, benötigen Sie den folgenden Befehl:</font></font><br>
<br>
<pre><code class="bash hljs">sudo dpkg-reconfigure postfix</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option „Internet Site“ Der</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/qw/06/ly/qw06ly6bgwdfk0jqlmidtiplu1k.png"><br>
<br>
<img src="https://habrastorage.org/webt/eq/fz/cp/eqfzcpgtozivtmcnsazbyiap-zm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
zweite Modus - Internet Site - ist eine Vorlage für einen Standard-Mailserver, der E-Mails ohne Zwischenhändler empfängt und direkt sendet. Lassen Sie uns die Konfigurationsoptionen durchgehen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/da/pf/56/dapf56wdickh-mi-vxhbpiwf15e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst müssen wir den Namen der Mail angeben, dh die Domain für die Mailadressen, die nach dem Hund angegeben wird. Standardmäßig verwendet Postfix Benutzer im System als Benutzer des Mailservers. Wenn Sie also einen Benutzer im System haben, kann dieser E-Mails empfangen und an user@example.org senden</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cx/q4/4_/cxq44_dwyn-wz8zb6v2vnlvkeqk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus Sicherheitsgründen wird nicht empfohlen, das Root-Konto für die Arbeit mit E-Mails zu verwenden. Daher werden wir gebeten, den Benutzer anzugeben, an den alle E-Mails, die an den Adressen von Postmaster-, Root- und anderen Systembenutzern ankommen, weitergeleitet werden. Häufig senden verschiedene Anwendungen im System, z. B. der Cron-Taskplaner, Informationen an diese Adressen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1g/81/y4/1g81y4pl9i43w9o3n9pmzv1a088.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Außerdem fordert uns das Installationsprogramm auf, die Domänen anzugeben, an die unser Mailserver E-Mails empfangen soll. Hier gibt es neben unserer Hauptdomänenadresse auch localhost-Einträge und verschiedene Variationen von Hostnamen. Dies wird hauptsächlich für verschiedene interne Dienste benötigt, die Benachrichtigungen senden. Optional senden einige Dienste bestimmte Benachrichtigungen an die vollständige Adresse Ihres Mailservers. Angenommen, Ihr Mailserver wurde in Spam-Listen aufgeführt, z. B. an postmaster@mail.example.org.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/ox/2y/ibox2y2aq9y1ikesbhmrx7hfcxw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt geht es um synchrone Updates. Diese Frage bezieht sich mehr auf geladene Mail-Dienste und spricht von Folgendem. Wenn wir synchrone Updates aktivieren, stellt der Mailserver sicher, dass die Nachricht jedes Mal auf die Festplatte geschrieben wird, wenn eine Nachricht gesendet und empfangen wird. Dies verringert die Leistung des Mailservers. Wenn der Server jedoch beim Empfangen oder Senden von E-Mails plötzlich heruntergefahren wird, gehen keine Nachrichten verloren. Wenn wir jedoch ein Journaling-Dateisystem wie ext3 oder ext4 verwenden, hat unser System keine Angst vor einem plötzlichen Herunterfahren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g7/st/ua/g7stuahlikrpjkwf6azqjritwzw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies liegt an der Tatsache, dass in einem aufgezeichneten Dateisystem alle Änderungen im Dateisystem in einem speziellen Journal aufgezeichnet werden, das diese Änderungen anwendet und sie dann aus dem Journal löscht.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-q/sb/kk/-qsbkkhd2px48wiszd0-zrbf4nu.png"><br>
<br>
<img src="https://habrastorage.org/webt/wb/wj/kl/wbwjklnmdisz-fmmi5rzwe4izp0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn der Server zum Zeitpunkt der Aufzeichnung plötzlich ausgeschaltet wurde, überprüft das Dateisystem beim Einschalten das Protokoll, erkennt unvollständige Änderungen und schreibt sie auf die Festplatte. Wenn Sie ein Journaling-Dateisystem verwenden, können Sie daher auf Nein klicken.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wf/if/ky/wfifkydq9w-f2_crusnqpfbb6ku.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt wird angeboten, die Netzwerke anzugeben, für die Postfix als Relay-Host fungiert. In dieser Rolle akzeptiert der Mailserver nicht nur E-Mails an seine Domäne, sondern kann auch Nachrichten an andere Mailserver weiterleiten. Angenommen, Sie können eine Nachricht an Google Mail senden, indem Sie nicht smtp.gmail.com, sondern mail.examle.org als Postausgangsserver angeben. Dann kümmert sich Ihr Mailserver um die Zustellung Ihrer Nachricht an smtp.gmail.com. Wir werden später ausführlicher darauf eingehen, wenn wir andere Vorlagen diskutieren. Wenn Sie Ihren Server in der Zwischenzeit nicht als Host-Relay verwenden möchten, können Sie nur den lokalen Host im Feld belassen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cq/vi/8l/cqvi8lbs9atgnhuuatblmgjwbtg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier ist alles einfach - die standardmäßige maximale Größe des Postfachs des Benutzers in Byte. Wenn es 0 ist, gibt es keine Begrenzung. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wp/63/jy/wp63jyaih3-nnqdvsoc9tqld7ki.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann etwas interessanteres -</font></font><u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">benutzerdefinierte Aliase</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Im Allgemeinen werden Aliase in Mailservern verwendet, damit ein Benutzer E-Mails an mehreren Adressen empfangen kann, ohne separate Benutzer, Postfächer usw. zu erstellen. Wenn Sie beispielsweise möchten, dass alle Nachrichten an it@example.org an user@example.org gesendet werden, wird hierfür ein Alias ​​verwendet. Bei Verwendung von Aliasen sind verschiedene Domänen an einen Benutzer gebunden. Diese Aliase können vom Mailserver-Administrator erstellt werden. Ein Administrator kann Benutzern jedoch erlauben, Aliase zu erstellen, um Benutzern die Verwaltung ihrer E-Mails zu erleichtern. Diese Benutzer-Aliase ersetzen jedoch nicht die gesamte Adresse, sondern werden vor dem Hund hinzugefügt, nachdem das Sonderzeichen verwendet wurde, beispielsweise ein Plus. Als Beispiel bietet Google Mail auch diese Funktion:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mw/cg/hz/mwcghzliwzwl9zepjrrpbns9bzg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Beispiel user+work@example.org oder user+social@example.org. Der Benutzer kann diese Adressen bei der Registrierung auf verschiedenen Ressourcen angeben, was ihm das Sortieren von Briefen und das Verwalten seiner E-Mails erleichtert. Wenn Sie diese Funktionalität nicht benötigen, können Sie dieses Feld leer lassen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nz/uy/dk/nzuydkjmn5sffso_vv-jxjtfsue.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Nächstes sollten Sie auswählen, ob unser Mailserver mit IPv4, IPv6 oder mit beiden Protokollen funktioniert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn dieses Setup mit der Intenet Site-Vorlage fertig ist, können Sie theoretisch an die Arbeit gehen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option "Internet mit smarthost"</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/yr/mi/uw/yrmiuwgbx9j_jbmbx3i5a2bua_i.png"><br>
<br>
<img src="https://habrastorage.org/webt/rk/ue/h7/rkueh78h0qk6ycqaqsstwdziyri.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die dritte Option unter den Mailserver-Betriebsmodi ist das Internet mit smarthost. Dies ist eine Konfigurationsvorlage für einen Server, der E-Mails direkt akzeptiert oder Dienstprogramme wie Fetchmail verwendet. Der Server sendet E-Mails jedoch über andere Mailserver an externe Adressen - Host-Relays, die auch als Smart Hosts bezeichnet werden. Dies kann in verschiedenen Fällen verwendet werden, z. B. wenn sich die IP-Adresse Ihres Servers in schwarzen Listen befindet oder um ausgehende Unternehmenspost über einen Leckverhütungsdienst usw. weiterzuleiten.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pg/oo/a6/pgooa68lttnnhinjy9ivmwacmdw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Allgemeinen sehen alle Optionen zum Einrichten dieses Modus mit Ausnahme des Relay-Servers gleich aus. Ein Smart Host kann in eckigen Klammern und ohne angezeigt werden, je nachdem, ob Sie Nachrichten sofort oder nach einer MX-Anfrage senden müssen, um den Datenverkehr zwischen mehreren Smart Hosts auszugleichen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dl/r2/0q/dlr20qquvluu7rhczwnuhnls19g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Vorlage können wir den Standard-Smarthost angeben und in Zukunft abhängig von der Domäne des Empfängers verschiedene Relays konfigurieren. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Satellitensystem Option</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/-5/gl/m0/-5glm0dvgiucq15rr-g9qzi3t8s.png"><br>
<br>
<img src="https://habrastorage.org/webt/nv/sc/yn/nvscynugnsuze6yadek_7rmeuv0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine andere Betriebsart des Mailservers ist das Satellitensystem. In diesem Modus akzeptiert der Mailserver keine E-Mails, sondern leitet nur weiter, dh er arbeitet ausschließlich als Relay-Host. Aus dem vorherigen Beispiel geht hervor, dass dies in großen Organisationen für interne Dienste sowie zum Filtern von E-Mails nach Spam, Viren usw. hilfreich sein kann. In diesem Fall ist die Konfiguration fast identisch mit den zuvor genannten Optionen. In mydestionations sollten Sie jedoch keine Domänen verlassen, damit der Host alles auf die erforderlichen Mailserver umleitet. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option "Nur lokal"</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/7a/ej/z5/7aejz5t8_7rp6tjqmbw3s7dfqjo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Und die letzte Vorlage - Nur lokal -, wenn unser Mailserver keine E-Mails von anderen Servern sendet und empfängt.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles, worüber wir zuvor gesprochen haben, sind nur Vorlagen der Betriebsarten des Mail-Dienstes. </font><font style="vertical-align: inherit;">Benutzerfälle sind unterschiedlich und oft reichen solche Vorlageneinstellungen nicht aus, und viele Punkte müssen für Ihre Aufgaben neu konfiguriert werden.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de494882/index.html">Was tun, um nach der Quarantäne keine neuen Augen zu suchen?</a></li>
<li><a href="../de494884/index.html">Digital Dictation 2020 wird vom 28. März bis 11. April online stattfinden</a></li>
<li><a href="../de494890/index.html">Chat-Regeln</a></li>
<li><a href="../de494896/index.html">Coronavirus: eine gefährliche Illusion der Sterblichkeit</a></li>
<li><a href="../de494904/index.html">Katze, die von ihrem Besitzer in Belgien mit dem COVID-19-Virus infiziert wurde</a></li>
<li><a href="../de494908/index.html">Vom Piloten zum Tester: Wie ein ehemaliger Soldat einen alternativen Flugplatz in der IT baute</a></li>
<li><a href="../de494910/index.html">Blutplasma von Coronavirus-Überlebenden kann zur Bekämpfung von Infektionen verwendet werden</a></li>
<li><a href="../de494912/index.html">Mein Beitrag zum Schutz gegen Covid-19</a></li>
<li><a href="../de494916/index.html">Wie man Händlerkonten verkauft und eine Welle des Interesses am Online-Geschäft auslöst</a></li>
<li><a href="../de494918/index.html">Die dritte Woche des Fernfluges. Bewertungen von IT-QIWI-Mitarbeitern über Vollzeitarbeit von zu Hause aus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>