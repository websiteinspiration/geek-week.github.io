<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ“¿ ğŸ¥¦ ğŸ›ï¸ Geo-chat, bot berbahaya dan steganografi: memperkaya pengetahuan tentang Telegram ğŸ”ƒ ğŸš½ ğŸ“¤</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Apa yang Anda ketahui tentang telegram di Telegram? Dan bisakah Anda membedakan steganografi di VideoNote (populer - round-robin)? Kami menganalisis t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Geo-chat, bot berbahaya dan steganografi: memperkaya pengetahuan tentang Telegram</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/neobit/blog/499366/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/ls/r-/kn/lsr-knoirt_c2eklbngtrv43ys4.png"></div> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang Anda ketahui tentang telegram di Telegram? </font><font style="vertical-align: inherit;">Dan bisakah Anda membedakan steganografi di VideoNote (populer - round-robin)? </font><font style="vertical-align: inherit;">Kami menganalisis tugas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NeoQUEST-2020</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang menyebabkan sebagian besar pertanyaan dan seruan mendukung kami! </font><font style="vertical-align: inherit;">Spoiler: ya, dan akan ada sedikit crypto di sini :)</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam legenda </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NeoQUEST-2020</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">kami</font></a><font style="vertical-align: inherit;"> menemukan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ke profil robot bepergian di Instagram. </font><font style="vertical-align: inherit;">Tidak ada yang luar biasa, bukan? </font><font style="vertical-align: inherit;">Jadi kami memutuskan juga, tapi kami masih harus menyelesaikan masalah, jadi kami dengan hati-hati mempertimbangkan semua gambar di profil dan mencari setidaknya beberapa petunjuk. </font><font style="vertical-align: inherit;">Sedikit meditasi pada gambar indah Danau Baikal, dan kita sampai pada kesadaran bahwa petunjuknya ada di pos terakhir:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wg/f3/yp/wgf3ypumnzx-gms9aj5ixn7qllw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berkat gambarnya, kami memahami bahwa kami perlu menghubungkan entahal Baikal (Shaman Rock) dan Telegram (â€œAnda dapat bergabung dengan saya ...â€ - apakah itu tidak mengingatkan apa-apa?). </font><font style="vertical-align: inherit;">Pada awalnya, kami memutuskan untuk tidak memberikan petunjuk langsung kepada geo-chat (yang persis seperti itu!), Dan banyak dari mereka berhasil mengatasi tugas menggunakan emulator atau perangkat seluler dengan kemampuan untuk mengubah lokasi geografis. </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Shamanim Kami menetapkan</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> koordinat (53.20074, 107.349426) (Anda dapat dengan mata) di bidang batu Shamanka dan bersiap-siap untuk hal yang paling sulit - menunggu. </font><font style="vertical-align: inherit;">Telegram anehnya bekerja dengan penentuan posisi geografis dan menarik kontak dan obrolan yang relevan selama satu jam. </font><font style="vertical-align: inherit;">Atas ketekunan dan kesabaran kami, kami sepenuhnya dihargai - obrolan yang diinginkan muncul di bagian Kontak -&gt; Temukan orang di sekitar -&gt; Grup terdekat.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cb/z_/ti/cbz_tiwdqa0j0cqdikmwjob704y.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voila, kita dalam bisnis! </font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/_c/or/zt/_corztflxylgeewrehp61prvssu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bot menemui kita dengan tugas dalam bentuk file some.bytes dengan konten yang tidak dikenal, di mana kita dapat membaca baris â€œDecrypt meâ€ dan â€œApocalypse Spares Nobodyâ€. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memahami baris pertama tanpa masalah, tetapi apa artinya yang kedua? .. Di sini, para peserta dibagi menjadi dua kubu: beberapa menulis kepada kami melalui surat, karena mereka menemui jalan buntu, sementara yang lain dengan hati-hati melihat frasa "Apocalypse Spares Nobody" dan mengetahui bahwa ? Baik! Format </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASN.1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lama yang baik </font><font style="vertical-align: inherit;">(di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kita sudah menulis tentang cara menguraikannya).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bb/vr/k4/bbvrk4nu0xsdayswyptuv2z1gpw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita perbaiki. Di dalamnya ada 2 struktur. Dalam satu, kami menemukan satu set byte yang ditandai "Dekripsi saya", dari mana kami menganggap bahwa ini adalah ciphertext. Dalam struktur kedua, kita melihat dua angka. Tidak mungkin bahwa ini adalah kunci yang diberikan dengan murah hati oleh peserta bersama dengan ciphertext, yang berarti sangat mungkin. Kami berurusan dengan kunci publik. Semua informasi yang dikumpulkan membawa kita pada kesimpulan yang jelas - mengapa tidak mencoba </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RSA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami memiliki modul dan indikator terbuka, yang, omong-omong, cukup besar. Setelah </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">studi kejang RSA untuk beberapa</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pemikiran, kami menyimpulkan bahwa indikator tertutup kecil, yang berarti apa? Bingo! Kami pasti bisa bermain penjahat dan menggunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">serangan Wiener</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memikirkannya bahkan untuk mereka yang tidak menyukai kriptografi - Anda dapat menggunakan versi serangan yang sudah jadi, misalnya, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian kita mendapatkan nilai sosok yang tertutup </font></font><code>d=40553818206320299896275948250950248823966726834704013657854904761789429403771</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan ciphertext mendekripsi: </font></font><code>key=nq2020faAeFeGUCBjYf7UDrH9FapFCdFPa4u;pass=passCxws3jzYhp0HD5Fy84</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendapatkan kunci "nq2020faAeFeGUCBjYf7UDrH9FapFCdFPa4u" ke bagian pertama dari pekerjaan dan kata sandi "passCxws3jzYhp0HD5Fy84", yang Anda butuhkan untuk memberi makan perwakilan bot. </font><font style="vertical-align: inherit;">Ini dapat ditemukan di antara peserta obrolan dengan nama @neoquestbot. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berada di gelombang positif dari menerima kunci pertama, kami tidak segera menyadari bahwa bot itu pilih-pilih dalam komunikasi dan sepanjang waktu mengatakan bahwa itu tidak melihat lawan bicara:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ex/ky/t_/exkyt__66acqprkte1kk_hljuge.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi bot dengan senang hati menerima pesan putaran VideoNote dan bahkan menjawabnya ... dalam bentuk putaran yang sama:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gv/tk/k4/gvtkk4hr8u_a8gsidkkqijtcuzy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampaknya video dan suaranya sama, tetapi ini hanya sekilas. </font><font style="vertical-align: inherit;">Bagaimana jika bot kami memberi kami beberapa tanda rahasia? </font><font style="vertical-align: inherit;">Untuk mengetahuinya, kami akan menyimpan dan membandingkan video asli dengan respons bot. </font><font style="vertical-align: inherit;">Untuk ini dan untuk langkah selanjutnya, paket </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFmpeg sangat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cocok untuk kami </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Jadi, mari kita lihat apa yang ada di sana:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/re/jy/z0/rejyz0tnqx0lgvvcggpctdv2elq.png"></div><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ri/e3/_v/rie3_vg77u1j1txjch9te5a8y1w.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Format aac -&gt; flac, frekuensi 44100 Hz -&gt; 98000 Hz. </font><font style="vertical-align: inherit;">Mereka tahu, kami terus bekerja lebih jauh dengan audio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan gerakan tangan yang cekatan kami menariknya keluar dari video:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/er/ql/jh/erqljhyvzkhdq34zoxmfvl7ezty.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal yang sama dapat dilakukan dengan pesan asli kami, sehingga kami dapat membandingkannya nanti. </font><font style="vertical-align: inherit;">Untuk kejelasan, buka kedua trek di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Audacity</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gd/ga/gq/gdgagqn_qtefqtnbyphj2ud0b00.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lompatan amplitudo dalam respons audio bot segera menarik perhatian Anda (terutama aneh jika kami diam sama sekali). </font><font style="vertical-align: inherit;">Pada pemeriksaan lebih dekat, kami mencatat batas interval yang jelas selama pergantian "gelombang-keheningan":</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mu/7f/zp/mu7fzposl6z9ozjrxanvjfnh2hw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menyarankan untuk mengesampingkan semua hal dan menghitung sedikit. </font><font style="vertical-align: inherit;">Kami menganalisis dengan fragmen: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0 - 0,005 - diam </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0,005 - 0,01 - gelombang </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0, 01 - 0,0225 - diam </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0,025 - 0,04 - gelombang </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0,04 - 0,045 - diam </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interval terkecil adalah 0,005, dan yang lainnya interval adalah kelipatan 0,005. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengambil kehadiran gelombang 0,005 untuk 1, dan diam untuk 0. Kami mendapatkan tidak lebih dari kode biner! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami ingat bahwa frekuensinya telah berubah, dan mencoba melihat grafik spektrum (Analisis -&gt; Grafik spektrum):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/7p/us/g0/7pusg01eyco5oawp9fyw92rbpzi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa sinyal yang paling kuat adalah pada frekuensi ~ 44100 Hz, yaitu ultrasound. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, maka Anda harus bekerja hanya dengan frekuensi tinggi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktanya, bot menempatkan sinyal pada audio asli dalam spektrum yang dapat didengar. Dan para peserta yang memiliki suara dalam video asli memperhatikan ini di Audacity. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memotong frekuensi tinggi dengan filter high-pass baik di Audacity, atau di ffmpeg yang sama:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3c/tk/tc/3ctktc0fgdc9zevjijzypncxb9o.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami memiliki file mono wav 16-bit. Terdiri dari header, stream audio yang tidak terkompresi, dan metadata. Aliran audio itu sendiri dibagi menjadi bingkai (dan bingkai dapat menyimpan beberapa sampel, tetapi ini adalah cerita yang sama sekali berbeda), dalam kasus kami masing-masing 16 bit (ini ditunjukkan oleh huruf pcm_s16 di tangkapan layar). Frame adalah urutan bit yang menggambarkan amplitudo gelombang pada satu waktu untuk satu saluran atau lebih (dalam kasus kami, untuk satu). Frekuensi pengambilan sampel dari aliran audio adalah 98000 frame (yaitu, 98000 frame per satu detik), 490 frame per 0,005 interval kedua. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, selanjutnya kami bekerja sesuai dengan algoritma sederhana: kami membaca 490 frame, menentukan apakah itu gelombang atau keheningan, dan, tergantung pada ini, atur bit ke 0 atau 1. Kami akan </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
menggunakan python dan paket</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wave</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk parsing file wav. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kesalahan "wave.Error: format tidak diketahui: 65534" terjadi saat membuka file, lalu ganti "wFormatTag" di header dari 'FE FF' ke '01 00 ':</font></font><br>
<br>
<pre><code class="python hljs">fh = open(input_file, <span class="hljs-string">"r+b"</span>)<font></font>
fh.seek(<span class="hljs-number">20</span>)<font></font>
fh.write(<span class="hljs-string">b'\x01\x00'</span>)<font></font>
fh.close()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, buka file, proses 490 frame dan hitung nilai rata-rata:</font></font><br>
<br>
<pre><code class="python hljs">file = wave.open(input_file,<span class="hljs-string">"r"</span>)
    <span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range (<span class="hljs-number">1</span>, int(file.getnframes()/<span class="hljs-number">490</span>)+<span class="hljs-number">1</span>):<font></font>
        frames = file.readframes(<span class="hljs-number">490</span>)<font></font>
        bit = <span class="hljs-number">0</span>
        sum = <span class="hljs-number">0</span>
        <span class="hljs-keyword">for</span> k <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, <span class="hljs-number">246</span>):<font></font>
            frame_bytes = frames[k*<span class="hljs-number">2</span>:k*<span class="hljs-number">2</span>+<span class="hljs-number">2</span>]<font></font>
            sum += int.from_bytes(frame_bytes, <span class="hljs-string">"big"</span>)
        <span class="hljs-keyword">if</span> sum/<span class="hljs-number">490</span> &gt; <span class="hljs-number">16000</span>:<font></font>
            bit = <span class="hljs-number">1</span><font></font>
        bits.append(bit)<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada kemungkinan bahwa di mana harus ada keheningan (bandingkan dengan gambar di Audacity), noise mungkin tetap ada. </font><font style="vertical-align: inherit;">Oleh karena itu, kami menetapkan ambang batas (biarlah 16000), setelah melebihi yang kami anggap sebagai sinyal 1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian kami mengelompokkan bit menjadi byte:</font></font><br>
<br>
<pre><code class="python hljs">bytes = []    
<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range (<span class="hljs-number">1</span>, int(len(bits)/<span class="hljs-number">8</span>)+<span class="hljs-number">1</span>):<font></font>
        b1 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-8</span>]<font></font>
        b2 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-7</span>]<font></font>
        b3 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-6</span>]<font></font>
        b4 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-5</span>]<font></font>
        b5 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-4</span>]<font></font>
        b6 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-3</span>]<font></font>
        b7 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-2</span>]<font></font>
        b8 = bits[i*<span class="hljs-number">8</span><span class="hljs-number">-1</span>]<font></font>
        byte = (b1 &lt;&lt; <span class="hljs-number">7</span>) | (b2 &lt;&lt; <span class="hljs-number">6</span>) | (b3 &lt;&lt; <span class="hljs-number">5</span>) | (b4 &lt;&lt; <span class="hljs-number">4</span>) | (b5 &lt;&lt; <span class="hljs-number">3</span>) | (b6 &lt;&lt; <span class="hljs-number">2</span>) | (b7 &lt;&lt; <span class="hljs-number">1</span>) | b8<font></font>
        bytes.append(byte.to_bytes(<span class="hljs-number">1</span>, byteorder=<span class="hljs-string">'big'</span>)) 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika semuanya dilakukan dengan benar, hasilnya adalah string â€œGivemethepasswordâ€. </font><font style="vertical-align: inherit;">Karena bot berkomunikasi dalam lingkaran menggunakan steganografi, masuk akal untuk memasukkan kata sandi (dan kami menerimanya bersama dengan kunci sebagai hasil dekripsi) dalam format yang sama. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memulai, buat lagu audio dengan kata sandi. </font><font style="vertical-align: inherit;">Untuk melakukan ini, kami menggunakan data yang diperoleh selama analisis pesan dari bot: frekuensi sampling 98000 Hz; </font><font style="vertical-align: inherit;">durasi sinyal yang menggambarkan setiap bit adalah 5 ms; </font><font style="vertical-align: inherit;">frekuensi sinyal yang sesuai dengan nilai bit "1" - seperti yang kita lihat dari grafik, 44100 Hz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita perlu "membangkitkan" keheningan. </font><font style="vertical-align: inherit;">Kami melakukan ini dengan menetralkan:</font></font><br>
<br>
<pre><code class="python hljs">sample_rate = <span class="hljs-number">98000.0</span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generate_silence</span>(<span class="hljs-params">duration_milliseconds=<span class="hljs-number">5</span></span>):</span><font></font>
    fragment = []<font></font>
    num_samples = duration_milliseconds * (sample_rate / <span class="hljs-number">1000.0</span>)
    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(int(num_samples)): <font></font>
        fragment.append(<span class="hljs-number">0.0</span>)
    <span class="hljs-keyword">return</span> fragment
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menghasilkan suara, kami akan menggunakan gelombang sinus (informasi dapat dibaca di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ):</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">generate_sinewave</span>(<span class="hljs-params">
        freq=<span class="hljs-number">41000.0</span>, 
        duration_milliseconds=<span class="hljs-number">5</span>, 
        volume=<span class="hljs-number">0.5</span></span>):</span><font></font>
    fragment = []<font></font>
    amplitude = volume * <span class="hljs-number">32767.0</span>
    num_samples = duration_milliseconds * (sample_rate / <span class="hljs-number">1000.0</span>)
    <span class="hljs-keyword">for</span> x <span class="hljs-keyword">in</span> range(int(num_samples)):<font></font>
        fragment.append(amplitude * math.sin(<span class="hljs-number">2</span> * math.pi * freq * ( x / sample_rate )))
    <span class="hljs-keyword">return</span> fragment
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang masalahnya kecil: tetap mengubah kata sandi menjadi bit, dan kemudian menjadi suara. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Catatan: Bot menggunakan trek video input asli untuk menampilkan pesannya, seperti yang disebutkan sebelumnya. </font><font style="vertical-align: inherit;">Oleh karena itu, Anda perlu menambahkan beberapa nol byte setelah kata sandi untuk menghilangkan seluruh kunci dari bot, dan bukan hanya permulaannya (panjang kuncinya adalah 36 byte).</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Generasi suara</font></font></b>
                        <div class="spoiler_text"><pre><code class="python hljs">    audio = []<font></font>
    f = open(input_file, <span class="hljs-string">'rb'</span>)
    <span class="hljs-keyword">for</span> character <span class="hljs-keyword">in</span> f.read():<font></font>
        a = character<font></font>
        b8 = a &amp; <span class="hljs-number">0b00000001</span> 
        b7 = (a &amp; <span class="hljs-number">0b00000010</span>) &gt;&gt; <span class="hljs-number">1</span> 
        b6 = (a &amp; <span class="hljs-number">0b00000100</span>) &gt;&gt; <span class="hljs-number">2</span>
        b5 = (a &amp; <span class="hljs-number">0b00001000</span>) &gt;&gt; <span class="hljs-number">3</span>
        b4 = (a &amp; <span class="hljs-number">0b00010000</span>) &gt;&gt; <span class="hljs-number">4</span>
        b3 = (a &amp; <span class="hljs-number">0b00100000</span>) &gt;&gt; <span class="hljs-number">5</span>
        b2 = (a &amp; <span class="hljs-number">0b01000000</span>) &gt;&gt; <span class="hljs-number">6</span>
        b1 = (a &amp; <span class="hljs-number">0b10000000</span>) &gt;&gt; <span class="hljs-number">7</span>
        <span class="hljs-keyword">if</span> b1 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b2 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b3 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b4 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b5 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b6 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b7 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
        <span class="hljs-keyword">if</span> b8 == <span class="hljs-number">1</span>:<font></font>
            audio += generate_sinewave()<font></font>
        <span class="hljs-keyword">else</span>:<font></font>
            audio += generate_silence()<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita akan membuat file gelombang selesai:</font></font><br>
<br>
<pre><code class="python hljs">wav_file=wave.open(file_name,<span class="hljs-string">"w"</span>)<font></font>
    nchannels = <span class="hljs-number">1</span>
    sampwidth = <span class="hljs-number">2</span><font></font>
    nframes = len(audio)<font></font>
    comptype = <span class="hljs-string">"NONE"</span>
    compname = <span class="hljs-string">"not compressed"</span><font></font>
    wav_file.setparams((nchannels, sampwidth, sample_rate, nframes, comptype, compname))<font></font>
    <span class="hljs-keyword">for</span> sample <span class="hljs-keyword">in</span> audio:<font></font>
        wav_file.writeframes(struct.pack(<span class="hljs-string">'h'</span>, int(sample)))<font></font>
    wav_file.close()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menyimpan trek kami, misalnya, di pass.wav. </font><font style="vertical-align: inherit;">Sepanjang jalan, kami memeriksa dengan decoder stego kami apakah kata sandi dikenali. </font><font style="vertical-align: inherit;">Jika semuanya baik-baik saja, maka kami mendapatkan video baru dengan kata sandi dari video asli my_video.mp4, menggantikan trek audio:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/7y/vg/_u/7yvg_ulbp5wmx8jmz5vmxucgogu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita perlu membuat VideoNote dari ini. </font><font style="vertical-align: inherit;">Anda dapat mencoba mencari yang berfungsi (beberapa peserta, misalnya, menemukan @TelescopyBot), atau Anda dapat menulis bot Anda menggunakan TelegramAPI.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/rk/_4/np/rk_4nphgkerx68klet43x0npzrg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Bagaimanapun, teruskan ke bot kami:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3x/li/0g/3xli0gyrmnawsnl6fyqa90slv6e.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendapatkan babak baru dan selamat (kami akan melakukan pekerjaan seperti itu!), Mendekodekan audio sesuai dengan skenario yang sudah berhasil, dan mendapatkan kuncinya: â€œnq2020SyOMK7SnnJP1sNlvbTs8zt35vUrrsDâ€ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Memang, steganografi dianggap sebagai salah satu area yang paling sulit di sini karena tidak ada alasan untuk mencoba keamanan ini tanpa alasan! </font><font style="vertical-align: inherit;">Tetapi peserta NeoQUEST menunjukkan ketangkasan yang sangat baik dan rasa humor selama tugas ini, jadi kami menyapa kekaguman tulus kami (dari bot selamat)!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id499356/index.html">Hackintosh di Powermac G5 atau cara merakit workstation. Bagian 2</a></li>
<li><a href="../id499358/index.html">PEP 257 dalam bahasa Rusia. (Perjanjian Docstrings)</a></li>
<li><a href="../id499360/index.html">Membuat dan mengonfigurasi jaringan Mesh berdasarkan pengalaman Anda sendiri, serta beberapa angka dan analitik</a></li>
<li><a href="../id499362/index.html">Remote Marathon Week 2: Alur kerja</a></li>
<li><a href="../id499364/index.html">Alexey Kapterev: Berpikir Kritis 101 (Bagian 1)</a></li>
<li><a href="../id499368/index.html">Tentang Phrasal Verbs-4 (masuk / keluar)</a></li>
<li><a href="../id499370/index.html">Pertanyaan CSS favorit saya dengan jawaban terinci</a></li>
<li><a href="../id499374/index.html">Pemeriksaan data proliferasi COVID-19 menggunakan perbedaan tingkat pertama. Dan apa yang terjadi?</a></li>
<li><a href="../id499376/index.html">Sedikit tentang perangkat radio modern pada contoh HackRF One</a></li>
<li><a href="../id499378/index.html">Bangun Tes Cypress Pertama Anda</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>