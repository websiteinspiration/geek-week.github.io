<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üö∞ üëÉüèø üòà Umka: Neue statisch typisierte Skriptsprache üòü üÜï üìã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Die erste Version der statisch typisierten einbettbaren Skriptsprache Umka , die ich entwickelt habe, wurde gerade ver√∂ffentlicht . Ziel ist es, die F...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Umka: Neue statisch typisierte Skriptsprache</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501002/"><img src="https://habrastorage.org/webt/dq/ug/mf/dqugmfwxgaoxca2y4b5rtckcpyu.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Version der statisch typisierten einbettbaren Skriptsprache </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Umka</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die ich entwickelt habe, wurde gerade ver√∂ffentlicht </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ziel ist es, die Flexibilit√§t bekannter Skriptsprachen mit dem Schutz vor Typfehlern bei der Kompilierung in Bytecode zu kombinieren. </font><font style="vertical-align: inherit;">Die Hauptidee der Sprache - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explizit ist besser als implizit</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ist aus "Zen of Python" entlehnt, sollte hier jedoch eine etwas andere und offensichtlichere Bedeutung erhalten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Egal wie privat und subjektiv die Eindr√ºcke waren, die mich dazu veranlassten, die Entwicklung der Sprache zu √ºbernehmen, ich hoffe, dass der Plan nicht naiv war. </font><font style="vertical-align: inherit;">Unter dem Schnitt werde ich kurz √ºber die F√§higkeiten der Sprache und die Motive f√ºr ihre Entstehung sprechen.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Motive</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Tugend der dynamischen Typisierung wird normalerweise als Verk√ºrzung des Entwicklungs- / Debugging-Zyklus und Einsparung von Programmierzeit bezeichnet. Ich muss zugeben, dass meine eigenen Erfahrungen dies in keiner Weise best√§tigen, da die Gefahr besteht, dass die √ñffentlichkeit unzufrieden wird. Jedes Mal, wenn ich mein Trainingsskript f√ºr neuronale Netze in Python geringf√ºgig korrigiert habe, muss ich warten, bis Python, NumPy und PyTorch geladen sind, eine gro√üe Anzahl von Daten aus Dateien lesen, auf die GPU √ºbertragen, mit der Verarbeitung beginnen - und erst dann feststellen, dass PyTorch einen Gr√∂√üentensor erwartet (1, 1) , m, n, 3) anstelle von (1, m, n, 3).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich gebe gerne zu, dass viele Menschen aus pers√∂nlichen Gr√ºnden dynamisch getippte Sprachen bevorzugen. </font><font style="vertical-align: inherit;">Es ist sogar m√∂glich, dass die Tendenz oder Feindseligkeit zur dynamischen Typisierung ein Ph√§nomen in der gleichen Gr√∂√üenordnung ist wie die Einstellung zu Oliven und Tomatensaft. </font><font style="vertical-align: inherit;">Versuche einer objektiven Untersuchung dieses Themas f√ºhren offenbar zu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nicht schl√ºssigen Ergebnissen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gleichzeitig lassen die Popularit√§t von TypeScript, die Einf√ºhrung von Typanmerkungen in Python, hitzige Diskussionen √ºber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Reddit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habr√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> den Eindruck entstehen, dass die tats√§chliche Identifizierung von Skriptsprachen mit dynamisch typisierten Sprachen √ºberhaupt kein Dogma ist, sondern ein Zufall, und eine statisch typisierte Skriptsprache hat jedes Recht zu existieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gab also eine Sprache, die nach einer Katze benannt war, die nach einem B√§ren benannt war.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zunge</font></font></h2><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Syntax der</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gesamten Sprache wurde von Go inspiriert. Beispiele f√ºr Syntaxkonstrukte finden Sie auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der Projektseite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Bei der Deklaration von Variablen kann eine Abk√ºrzung mit Typinferenz verwendet werden. Bemerkenswert ist die Abweichung von den Go-Regeln, die in der Syntax von Zeigern festgelegt wurden. Die Macher von Go </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beklagten sich dar√ºber,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dass sich das w√∂rtliche Befolgen von Beispiel C als unn√∂tige Komplikation der Syntax herausstellte und dass es sinnvoller w√§re, </font></font><code>p^</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stattdessen </font><font style="vertical-align: inherit;">einen Postfix-Dereferenzierungsoperator wie Pascal einzuf√ºhren </font></font><code>*p</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Genau das hat Umka getan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√úbersetzer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Umka kompiliert in Bytecode, der dann von der virtuellen Stapelmaschine ausgef√ºhrt wird. Alle Typpr√ºfungen werden in der Kompilierungsphase durchgef√ºhrt. Die Daten auf dem Stapel enthalten keine Typinformationen mehr. Der √úbersetzer wird in Form einer dynamischen Bibliothek mit eigener API und einem kleinen "Wrapper" - einer ausf√ºhrbaren Datei - geliefert. Der Quellcode ist in C99 geschrieben und auf verschiedene Plattformen portiert. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Builds</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> f√ºr den x86-64-Prozessor (Windows und Linux) sind </font><font style="vertical-align: inherit;">jetzt verf√ºgbar </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Speicherverwaltung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bisher auf Basis von Referenzz√§hlern durchgef√ºhrt. Wenn die Sprache Interesse weckt und versucht wird, sie zu verwenden, ist es sinnvoll, einen fortgeschritteneren Garbage Collector einzurichten. Die Sprache unterst√ºtzt die klassischen zusammengesetzten Datentypen (Arrays und Strukturen), die auf dem Stapel platziert sind, und die dynamischen Arrays, die auf dem Heap platziert sind. Jedes klassische Array oder jede klassische Struktur kann auch mit einem expliziten Aufruf auf dem Heap platziert werden </font></font><code>new()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Polymorphismus wird</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> durch Schnittstellen im Go-Stil bereitgestellt. Es gibt keine Konzepte f√ºr Klasse, Objekt und Vererbung. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Multitasking</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Es basiert auf dem Konzept der ‚ÄûFasern‚Äú - vereinfachte Abl√§ufe, die innerhalb derselben virtuellen Maschine gestartet werden und sich eindeutig gegenseitig verursachen. </font><font style="vertical-align: inherit;">Im Wesentlichen ist dies gleichbedeutend mit Coroutinen. </font><font style="vertical-align: inherit;">Da die Logik der Verwendung dieser Coroutinen geringf√ºgig von der Go-Tradition abweicht und sich Lua und Wren n√§hert, ist es sinnvoll, ein Codebeispiel anzugeben:</font></font><br>
<br>
<pre><code class="plaintext hljs">fn childFunc(parent: std.Fiber, buf: ^int) {<font></font>
    for i := 0; i &lt; 5; i++ {<font></font>
        std.println("Child : i=" + std.itoa(i) + " buf=" + std.itoa(buf^))<font></font>
        buf^ = i * 3<font></font>
        fibercall(parent)<font></font>
    }<font></font>
}<font></font>
<font></font>
fn parentFunc() {<font></font>
    a := 0<font></font>
    child := fiberspawn(childFunc, &amp;a)    <font></font>
    for i := 0; i &lt; 10; i++ {<font></font>
        std.println("Parent: i=" + std.itoa(i) + " buf=" + std.itoa(a))<font></font>
        a = i * 7<font></font>
        if fiberalive(child) {<font></font>
            fibercall(child)<font></font>
        }<font></font>
    }    <font></font>
    fiberfree(child)<font></font>
}<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beispiele</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als grundlegendes Beispiel, das die F√§higkeiten der Sprache demonstriert, empfehle ich, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ein Rendering-Programm f√ºr dreidimensionale Szenen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> auf der Grundlage der R√ºckstrahlverfolgung zu betrachten. </font><font style="vertical-align: inherit;">Es ist sehr organisch verwendete Rekursion, Schnittstellen, dynamische Arrays; </font><font style="vertical-align: inherit;">etwas k√ºnstlicher - Multitasking. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein Beispiel f√ºr die Einbettung des Umka-√úbersetzers in ein C-Projekt ist der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quellcode des ausf√ºhrbaren Wrappers des</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √úbersetzers. </font><font style="vertical-align: inherit;">Es gibt auch eine Beispiel-Umka-Spracherweiterung mit externen Funktionen in C.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/82/4o/kq/824okq49dag6uf4zkifgh40v4h0.png" alt="Bild"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500984/index.html">Schlechter Apfel oder Happy Radio Day, Geeks</a></li>
<li><a href="../de500986/index.html">√úberwachung im Rechenzentrum: Wie wir das alte BMS durch ein neues ersetzt haben. Teil 3</a></li>
<li><a href="../de500992/index.html">Wie ist Performance Management in den besten IT-Unternehmen</a></li>
<li><a href="../de500994/index.html">F√ºhren Sie Ameise. Lauf</a></li>
<li><a href="../de500996/index.html">So werden Sie in sechs Monaten oder noch schneller DevOps-Ingenieur. Teil 1. Einf√ºhrung</a></li>
<li><a href="../de501004/index.html">Tu es. Arbeit</a></li>
<li><a href="../de501006/index.html">Wir sind Freunde STM32 mit LCD-Anzeige 1604 am I2C-Bus (HAL-Bibliothek)</a></li>
<li><a href="../de501008/index.html">Dominos Pflaster</a></li>
<li><a href="../de501010/index.html">Linux Kernel TLS und Nginx</a></li>
<li><a href="../de501012/index.html">Wie ich nach einer Kindermaschine f√ºr einen Blog gesucht habe</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>