<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨‍👩‍👧‍👦 🍵 🚴 JAVAアプリケーションでUDPを介してAndroidデバイスからビデオをストリーミングする 👩 🍝 🕵️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="だから、フィニッシュラインに行きます。AndroidからVLCプレーヤーにビデオをストリーミングする方法はすでに学習しましたが、現在は、ウィンドウをビデオとJAVAアプリケーションに統合し、ロボットの操縦を開始するだけです。
 
 
 
 オープンソースプロジェクトVLCJ CAPRICAは、これを...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>JAVAアプリケーションでUDPを介してAndroidデバイスからビデオをストリーミングする</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/473840/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">だから、フィニッシュラインに行きます。</font><font style="vertical-align: inherit;">AndroidからVLCプレーヤーにビデオ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストリーミング</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">する方法</font></a><font style="vertical-align: inherit;">はすでに</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">学習しましたが</font></a><font style="vertical-align: inherit;">、現在は、ウィンドウをビデオとJAVAアプリケーションに統合し、ロボットの操縦を開始するだけです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/u_/5w/i7/u_5wi7sg8iq82mfpoeulmxwmh8e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オープンソースプロジェクト</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VLCJ CAPRICA</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">これ</font></a><font style="vertical-align: inherit;">を大いに助けてくれ</font><font style="vertical-align: inherit;">ます。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vlcjプロジェクトは、ネイティブVLCメディアプレーヤーのインスタンスをJavaアプリケーションに埋め込むことができるJavaフレームワークを提供します。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">みんなのアイデアはシンプルですが、独創的です（本当にコショウ）。</font><font style="vertical-align: inherit;">FFmpegライブラリなどで苦痛を味わう代わりに、すぐに</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">専門家</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に連絡して</font><font style="vertical-align: inherit;">、通常の機能的でプロフェッショナルなVLCメディアプレーヤー</font><s><font style="vertical-align: inherit;">の</font></s><font style="vertical-align: inherit;">コアを</font><font style="vertical-align: inherit;">呼び出す必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そして、それをJAVAアプリケーションから直接呼び出します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
気になる方は猫をお願いします。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この航海には十分な落とし穴があるので、いつものように、非常に単純な落とし穴から始めて、ささいなことに移ります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VLCJパッケージをインストール</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、インストールされているVLCメディアプレーヤーのバージョンを確認します。新しいバージョンは必要ありません。udpストリームに必要なものを削減します。これは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以前の投稿</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ですでに言及されて</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">い</font></a><font style="vertical-align: inherit;">ます。したがって、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アンブレラの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">2.2.6</font></a><font style="vertical-align: inherit;">をダウンロード</font><font style="vertical-align: inherit;">すると同時に、JAVAパッケージを慎重に確認します。それらはビット深度で一致する必要があります。プレーヤーが64ビットアーキテクチャを使用している場合、JDKは同じである必要があります。そして、それは離陸しません。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、</font><font style="vertical-align: inherit;">VLCJ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ライブラリパッケージ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自体を</font><font style="vertical-align: inherit;">ダウンロードできますが</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vf/hy/wa/vfhywa19hua9z6wyuhrujhh3o_s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、</font><b><font style="vertical-align: inherit;">vlcj-3.12.1ディストリビューション（zip）</font></b><font style="vertical-align: inherit;">パッケージが必要</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。プレイヤーバージョンVLC 2.2.xを使用するのは彼です。あなたはそれをどこにでも解凍することができます、2つのファイルが名前で一致するので、主なことはそれがVLC自体のフォルダにないということです。そして、それらを書き換えると、すべてが完全に失敗します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、IntelliJ IDEA IDEでプロジェクトを作成し（別のIDEがある場合、私は何もできません）、VLCJライブラリの統合に必要な依存関係を記述します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/st/so/41/stso41fizp2ufcupq_ug4wvydky.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ファイルについては、次のようにします</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。jna-5.2.0 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
jna-platform-5.2.0 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
vlcj-3.12.1</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
次に、単一のクラスを作成し、その中に次の小さなプログラムを記述します。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> java.awt.*;
<span class="hljs-keyword">import</span> java.awt.event.WindowAdapter;
<span class="hljs-keyword">import</span> java.awt.event.WindowEvent;<font></font>
<font></font>
<span class="hljs-keyword">import</span> javax.swing.JFrame;
<span class="hljs-keyword">import</span> javax.swing.JPanel;
<span class="hljs-keyword">import</span> javax.swing.SwingUtilities;<font></font>
<font></font>
<span class="hljs-keyword">import</span> uk.co.caprica.vlcj.component.EmbeddedMediaPlayerComponent;
<span class="hljs-keyword">import</span> uk.co.caprica.vlcj.discovery.NativeDiscovery;
<span class="hljs-keyword">import</span> uk.co.caprica.vlcj.player.MediaPlayerFactory;
<span class="hljs-keyword">import</span> uk.co.caprica.vlcj.player.embedded.EmbeddedMediaPlayer;
<span class="hljs-keyword">import</span> uk.co.caprica.vlcj.player.embedded.videosurface.CanvasVideoSurface;<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicPlayer</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> JFrame frame;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String mrl;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MediaPlayerFactory mpf;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> EmbeddedMediaPlayer MediaPlayer;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CanvasVideoSurface videoSurface;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Canvas canvas;<font></font>
<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String[] args)</span> </span>{<font></font>
<font></font>
        <span class="hljs-keyword">new</span> NativeDiscovery().discover();<font></font>
<font></font>
        mrl = <span class="hljs-string">"D:\\ttt.mp4"</span>;<font></font>
<font></font>
        SwingUtilities.invokeLater(<span class="hljs-keyword">new</span> Runnable() {<font></font>
<font></font>
            <span class="hljs-meta">@Override</span><font></font>
<font></font>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{<font></font>
<font></font>
                BasicPlayer vp = <span class="hljs-keyword">new</span> BasicPlayer();<font></font>
<font></font>
                vp.start(mrl);<font></font>
            }<font></font>
        });<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BasicPlayer</span><span class="hljs-params">()</span> </span>{<font></font>
<font></font>
        frame = <span class="hljs-keyword">new</span> JFrame(<span class="hljs-string">"My First Media Player"</span>);<font></font>
        frame.setBounds(<span class="hljs-number">200</span>, <span class="hljs-number">100</span>, <span class="hljs-number">540</span>, <span class="hljs-number">340</span>);<font></font>
        frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);<font></font>
<font></font>
        frame.addWindowListener(<span class="hljs-keyword">new</span> WindowAdapter() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">windowClosing</span><span class="hljs-params">(WindowEvent e)</span> </span>{<font></font>
                System.out.println(e);<font></font>
                MediaPlayer.release();<font></font>
                mpf.release();<font></font>
                System.exit(<span class="hljs-number">0</span>);<font></font>
            }<font></font>
        });<font></font>
<font></font>
        JPanel contentPane = <span class="hljs-keyword">new</span> JPanel();<font></font>
        contentPane.setLayout(<span class="hljs-keyword">new</span> BorderLayout());<font></font>
<font></font>
        canvas = <span class="hljs-keyword">new</span> Canvas();<font></font>
<font></font>
        mpf = <span class="hljs-keyword">new</span> MediaPlayerFactory();<font></font>
        videoSurface = mpf.newVideoSurface(canvas);<font></font>
        MediaPlayer = mpf.newEmbeddedMediaPlayer();<font></font>
        MediaPlayer.setVideoSurface(videoSurface);<font></font>
<font></font>
        contentPane.add(canvas, BorderLayout.CENTER); <span class="hljs-comment">//       </span><font></font>
        frame.setContentPane(contentPane);<font></font>
        frame.setVisible(<span class="hljs-keyword">true</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(String mrl)</span> </span>{<font></font>
<font></font>
        <font></font>
        MediaPlayer.playMedia(mrl);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい、（コードからわかるように）ファイルだけを再生しようとしています。</font><font style="vertical-align: inherit;">udpから始めない方が良いです-機能しません。</font><font style="vertical-align: inherit;">もちろん、必要な場所に事前に適切な名前で配置することを忘れていない場合、ファイルは完全に再生されます。</font><font style="vertical-align: inherit;">初心者のハビスタでも、上記のコードを理解するのは難しくないと思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがすべて新しい：</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VLCJの課題</font></font></b><br>
<br>
<pre><code class="java hljs">  <span class="hljs-keyword">new</span> NativeDiscovery().discover();
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メディアプレーヤーインスタンス自体を作成します</font></font></b><br>
<br>
<pre><code class="java hljs">        mpf = <span class="hljs-keyword">new</span> MediaPlayerFactory();<font></font>
        videoSurface = mpf.newVideoSurface(canvas);<font></font>
        MediaPlayer = mpf.newEmbeddedMediaPlayer();<font></font>
        MediaPlayer.setVideoSurface(videoSurface);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、それを目的のグラフィックパネルに追加します。</font></font><br>
<br>
<pre><code class="java hljs">contentPane.add(canvas, BorderLayout.CENTER);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、すべて、ファイルはこのウィンドウで再生されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今交換してみてください</font></font><br>
<br>
<pre><code class="plaintext hljs">mrl = "D:\\ttt.mp4";</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
に </font></font><br>
<br>
<pre><code class="plaintext hljs">mrl = "udp://@:40002";</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前回の投稿で、udp接続を介してビデオをストリーミングすることについて、冷静に行いました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この番号はここでは機能しません。</font><font style="vertical-align: inherit;">もちろんウィンドウは開きますが、暗い画面の意味でイチジクが表示されます。</font><font style="vertical-align: inherit;">エラーログはありませんが。</font><font style="vertical-align: inherit;">何もありません。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">お奨めそれを理解する</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
設定で選択したH264コーデックが不足している可能性がありますか？停止しますが、ttt.mp4ファイルはどのように再生されたのでしょうか。彼はこの設定ではプレイできません。彼はmp4です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すぐに、VLCJライブラリはプレーヤーのコア自体のみを実行するという理解が得られます。そして、プリセットは何でしたか、彼女は知りませんし、知りたくありません。つまり、JAVAアプリケーションを起動するときに、H264コーデックを明示的に使用するVLCプレーヤーを渡すか、画像などを回転させる必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、MediaPlayerFactoryクラスを使用して実行できることがわかります。私たちだけが、引数なしで、またはそれらとともに起動しました。で</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">stackoverflow.com、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私はすぐに画像の回転に関連した簡単な例を見つけました：</font></font><br>
<br>
<pre><code class="java hljs"><font></font>
 String[] args = {<font></font>
  <span class="hljs-string">"--video-filter"</span>, 
  <span class="hljs-string">"rotate"</span>,
  <span class="hljs-string">"rotate-angle"</span>,
  <span class="hljs-string">"10"</span><font></font>
};<font></font>
<font></font>
 mpf = <span class="hljs-keyword">new</span> MediaPlayerFactory(args);
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、文字列配列で何かをメディアファクトリに転送し、使用されるメディアリソース用にそこに格納されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はこの方法でファイルを再生しようとしましたが、いつものように、何もうまくいきませんでした。</font><font style="vertical-align: inherit;">2つのダッシュを追加するのを忘れて、インターネット全体に広げたことがわかりました。</font><font style="vertical-align: inherit;">同様の変換方法を使用して推測する必要がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、次のようになります。</font></font><br>
<br>
<pre><code class="java hljs">String[] args = {
<span class="hljs-string">"--video-filter"</span>,
<span class="hljs-string">"rotate"</span>,
<span class="hljs-string">"--rotate-angle"</span>,
<span class="hljs-string">"10"</span><font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、参照ファイルが元に戻りました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-f/xz/zw/-fxzzwjysqrfyxo2or4pqos075y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに、それは非常に単純です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コーデックを決定するに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、VLCコマンドライン</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に従って</font><font style="vertical-align: inherit;">、行を文字列配列に追加します。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-string">"--demux=h264"</span>
</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">もう一度、udpチャネル</font></font></b><br>
<br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
mrl = "udp：// @：40002"を</font><b><font style="vertical-align: inherit;">試してください</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今度はすべてが機能し、人間の心の勝利を示しています。</font><font style="vertical-align: inherit;">これで、このビデオウィンドウまたはいくつかのウィンドウで、JAVAアプリケーションのグラフィカルインターフェースに自由に移植できます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それは勝利のように思われますか？</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あんまり。</font><font style="vertical-align: inherit;">少し戸惑ったのは、一時的な遅れや、科学的には遅れが原因でした。</font><font style="vertical-align: inherit;">最初はそれらは多かれ少なかれ許容されますが、ビデオを最後まで見る忍耐力があれば、放送の最初の1分の終わりまでの遅れが5秒にも及ぶことに気づくでしょう。</font><font style="vertical-align: inherit;">私は10分間の撮影に十分な忍耐力がありましたが、不思議なことに、遅延はそれ以上増加しませんでしたが、同じ制限内に留まりました。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビデオ</font></font></b><div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/wy_GvVw9rF4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、カメラからビデオを見るためにはこれで十分ですが、ロボットを制御することはほとんどできません。</font><font style="vertical-align: inherit;">月面車でも2倍の速さで反応しました！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
疑いはすぐにキャッシュプロセスに落ち、それら（疑い）は真実であることが判明しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最も傲慢だった：</font></font><br>
<br>
<pre><code class="java hljs"> caching  <span class="hljs-keyword">for</span> network resources
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
時間内に渡されない場合、デフォルトでほぼすべてを消費します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラグを調整することができます：</font></font><br>
<br>
<pre><code class="java hljs">caching  <span class="hljs-keyword">for</span> cameras and microphones
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、数秒の遅延を回避するために、次の行をカンマで区切って同じ文字列配列に追加することをお勧めします。</font></font><br>
<br>
<pre><code class="java hljs">    <span class="hljs-string">"--live-caching=100"</span>, 
    <span class="hljs-string">"--network-caching=500"</span>,
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータはミリ秒単位で設定されるため、だれでも自分で選択できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のキーも使用できます。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-string">"--clock-jitter=time in milliseconds"</span>,
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、メディアプレーヤーはジッターを最適化しようとします。</font><font style="vertical-align: inherit;">しかし、そこに設定された時間が長くなるほど、最適化が向上し、これは理由が理解できます。</font><font style="vertical-align: inherit;">したがって、ここでは、コンセンサスを求め、ログにそのような不名誉が見られる</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/wk/xe/zmwkxesmreokc5rq6ptiygnvvda.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
場合があります。</font><font style="vertical-align: inherit;">今それは私のせいです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今、すべてがそうであるように見えます。</font><font style="vertical-align: inherit;">遅延は1秒未満に短縮されました（少し少なかったが）。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビデオ</font></font></b><div class="spoiler_text"><iframe width="560" height="315" src="https://www.youtube.com/embed/F00YZjS_E4A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
</div></div><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その結果、非常に小さな作業コードが得られました</font></font></b><br>
<br>
<pre><code class="java hljs">
<span class="hljs-keyword">import</span> java.awt.*;<font></font>
<font></font>
<span class="hljs-keyword">import</span> java.awt.event.WindowAdapter;
<span class="hljs-keyword">import</span> java.awt.event.WindowEvent;
<span class="hljs-keyword">import</span> javax.swing.JFrame;
<span class="hljs-keyword">import</span> javax.swing.JPanel;
<span class="hljs-keyword">import</span> javax.swing.SwingUtilities;<font></font>
<font></font>
<span class="hljs-keyword">import</span> uk.co.caprica.vlcj.discovery.NativeDiscovery;
<span class="hljs-keyword">import</span> uk.co.caprica.vlcj.player.MediaPlayerFactory;
<span class="hljs-keyword">import</span> uk.co.caprica.vlcj.player.embedded.EmbeddedMediaPlayer;
<span class="hljs-keyword">import</span> uk.co.caprica.vlcj.player.embedded.videosurface.CanvasVideoSurface;<font></font>
<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">BasicVideoPlayer</span> </span>{
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">final</span> JFrame frame;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> String mrl;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> MediaPlayerFactory mpf;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> EmbeddedMediaPlayer MediaPlayer;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> CanvasVideoSurface videoSurface;<font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> Canvas canvas;<font></font>
<font></font>
<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">final</span> String[] args)</span> </span>{<font></font>
<font></font>
        <span class="hljs-keyword">new</span> NativeDiscovery().discover();<font></font>
<font></font>
<font></font>
        mrl = <span class="hljs-string">"udp://@:40002"</span>;<font></font>
<font></font>
<font></font>
        SwingUtilities.invokeLater(<span class="hljs-keyword">new</span> Runnable() {<font></font>
<font></font>
            <span class="hljs-meta">@Override</span><font></font>
<font></font>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span> </span>{<font></font>
<font></font>
                BasicVideoPlayer vp = <span class="hljs-keyword">new</span> BasicVideoPlayer();<font></font>
<font></font>
                vp.start(mrl);<font></font>
<font></font>
<font></font>
            }<font></font>
        });<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-title">BasicVideoPlayer</span><span class="hljs-params">()</span> </span>{<font></font>
<font></font>
        frame = <span class="hljs-keyword">new</span> JFrame(<span class="hljs-string">"My First Media Player"</span>);<font></font>
        frame.setBounds(<span class="hljs-number">200</span>,<span class="hljs-number">100</span>, <span class="hljs-number">540</span>, <span class="hljs-number">340</span>);<font></font>
        frame.setDefaultCloseOperation(JFrame.DO_NOTHING_ON_CLOSE);<font></font>
<font></font>
        frame.addWindowListener(<span class="hljs-keyword">new</span> WindowAdapter() {
            <span class="hljs-meta">@Override</span>
            <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">windowClosing</span><span class="hljs-params">(WindowEvent e)</span> </span>{<font></font>
                System.out.println(e);<font></font>
                MediaPlayer.release();<font></font>
                mpf.release();<font></font>
                System.exit(<span class="hljs-number">0</span>);<font></font>
            }<font></font>
        });<font></font>
<font></font>
        JPanel contentPane = <span class="hljs-keyword">new</span> JPanel();<font></font>
        contentPane.setLayout(<span class="hljs-keyword">new</span> BorderLayout());<font></font>
        canvas = <span class="hljs-keyword">new</span> Canvas();<font></font>
<font></font>
<font></font>
        String[] args = {<font></font>
               <span class="hljs-string">"--video-filter"</span>,
                <span class="hljs-string">"rotate"</span>,
                <span class="hljs-string">"--rotate-angle"</span>,
                <span class="hljs-string">"270"</span>,
                <span class="hljs-string">"--demux=h264"</span>,
                <span class="hljs-string">"--clock-jitter=100"</span>,
                <span class="hljs-string">"--live-caching=100"</span>,
                <span class="hljs-string">"--network-caching=500"</span>,<font></font>
        };<font></font>
<font></font>
<font></font>
        mpf = <span class="hljs-keyword">new</span> MediaPlayerFactory(args);<font></font>
        videoSurface = mpf.newVideoSurface(canvas);<font></font>
<font></font>
        MediaPlayer = mpf.newEmbeddedMediaPlayer();<font></font>
        MediaPlayer.setVideoSurface(videoSurface);<font></font>
<font></font>
<font></font>
        contentPane.add(canvas, BorderLayout.CENTER);<font></font>
        frame.setContentPane(contentPane);<font></font>
<font></font>
        frame.setVisible(<span class="hljs-keyword">true</span>);<font></font>
    }<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">void</span> <span class="hljs-title">start</span><span class="hljs-params">(String mrl)</span> </span>{<font></font>
        <font></font>
        MediaPlayer.playMedia(mrl);<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビデオストリーミングを</font><font style="vertical-align: inherit;">robotelezhkoy管理上の</font><font style="vertical-align: inherit;">私の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">programmulinu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と統合できるように</font><font style="vertical-align: inherit;">なりました。ここでは、ビデオを部分に転送していました。</font><font style="vertical-align: inherit;">そして、私はコードが大幅に簡素化され、品質が桁違いに向上したと言わざるを得ません。</font><font style="vertical-align: inherit;">すべてに加えて、</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
加速度計</font><font style="vertical-align: inherit;">の読み取り値を</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ジャイロスコープから</font><font style="vertical-align: inherit;">
 気圧</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 の照明レベルに</font><font style="vertical-align: inherit;">送信</font><font style="vertical-align: inherit;">
できます。もちろん、これらのすべてのセンサーがスマートフォンで利用可能であれば</font><font style="vertical-align: inherit;">
 、</font><font style="vertical-align: inherit;">
 温度</font><font style="vertical-align: inherit;">
 と湿度の</font><font style="vertical-align: inherit;">コンパスの</font><font style="vertical-align: inherit;">読み取り値を送信</font><font style="vertical-align: inherit;">できます。</font><font style="vertical-align: inherit;">
そして、ヘッドランプをつけてください！</font><font style="vertical-align: inherit;">自動的に！</font><font style="vertical-align: inherit;">照明レベルが低下した場合。</font></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1QDQQyOn6jw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんど誰も特に興味を持っていますが、githubへのリンクの場合：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">スマートフォン</font></a></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用のカート</font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">用</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja473826/index.html">Apache WebサーバーでのOTP認証</a></li>
<li><a href="../ja473828/index.html">オフィスパスの代替としてのコンピュータビジョン</a></li>
<li><a href="../ja473832/index.html">ShIoTiny：アップデートと通知</a></li>
<li><a href="../ja473834/index.html">Closネットワークでのブラックボックスモニタリング。Yandexレポート</a></li>
<li><a href="../ja473838/index.html">DJI Mavic Mini：最軽量の折りたたみ式クワドロコプター</a></li>
<li><a href="../ja473842/index.html">10月の機械学習と人工知能のニュースダイジェスト</a></li>
<li><a href="../ja473844/index.html">単純な数値クラッシャーでC ++ 20からの範囲が必要なのはなぜですか？</a></li>
<li><a href="../ja473846/index.html">ブロックチェーンネットワークのパフォーマンスを測定する方法。主要な指標</a></li>
<li><a href="../ja473848/index.html">HighLoad ++ 2019のc.tech</a></li>
<li><a href="../ja473852/index.html">夜間の作業の長所と短所</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>