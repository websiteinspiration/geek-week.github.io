<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏾‍✈️ 🏧 🐒 Spring Boot Adminチュートリアル 👨‍👧‍👦 🕊️ 🤝</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Spring Bootアクチュエータエンドポイント上にある素敵なユーザーインターフェイスで、Spring Bootアプリケーションを制御および管理します。
 
 スプリングブーツアクチュエーター
 アクチュエータは、REST / JMXエンドポイントをアプリケーションに追加するSpring Boot...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Spring Boot Adminチュートリアル</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/479954/"><img src="https://habrastorage.org/webt/o-/i8/f4/o-i8f4wpni2vnz-qzgulvjpucyg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Bootアクチュエータエンドポイント上にある素敵なユーザーインターフェイスで、Spring Bootアプリケーションを制御および管理します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スプリングブーツアクチュエーター</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクチュエータは、REST / JMXエンドポイントをアプリケーションに追加するSpring Bootモジュールで、本番環境で簡単に追跡および管理できます。</font><font style="vertical-align: inherit;">エンドポイントは、ヘルスチェック、メトリックモニタリング、ログへのアクセス、スレッドダンプ、ヒープダンプ、環境情報などを提供します。</font><font style="vertical-align: inherit;">著者は、次の記事でアクチュエータについて詳しく話しました。</font></font><br>
<blockquote><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクチュエータ：Spring Boot Production Monitoring and Management</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
実行中のアプリケーションをSpring Boot Actuator 2.xで監視および管理します。</font><font style="vertical-align: inherit;">メトリックを収集するか、アプリケーションの状態を確認します。</font></font><br>
</blockquote><a name="habracut"></a><br>
<u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻訳者による注意。</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Habré：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"> Spring Boot Actuatorの概要に</font></a><font style="vertical-align: inherit;">同様の記事があります</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">春のブート管理者</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクチュエータは優れた強力なツールであり、そのエンドポイントは別のアプリケーションでの使用が簡単で便利です。RESTサービス呼び出しを使用するだけです。</font><font style="vertical-align: inherit;">ただし、Actuatorを使用することは、人にとってあまり便利ではありません。</font><font style="vertical-align: inherit;">すべての監視データを表示し、アプリケーションを管理するために使用できる優れたユーザーインターフェイスをユーザーが持つことは、はるかに簡単です。</font><font style="vertical-align: inherit;">これはまさにSpring Boot Adminが提供するものです。</font><font style="vertical-align: inherit;">アクチュエータエンドポイントの上に便利なユーザーインターフェイスレイヤーを提供し、その上にいくつかの追加機能を備えています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot Adminは、Springチームが提供するモジュールではなく、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Codecentric</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と呼ばれる会社によって作成されました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ただし、そのコードは</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Githubで</font></a><font style="vertical-align: inherit;">公開されています</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして無料です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クライアントとサーバー</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクチュエータとは異なり、Spring Boot Adminは実際にはクライアントとサーバーの2つの部分で構成されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバー部分には、管理者のユーザーインターフェイスが含まれており、監視対象のアプリケーションとは独立して機能します。</font><font style="vertical-align: inherit;">クライアント部分は、サーバー部分に登録されている監視対象アプリケーションにあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、アプリケーションが機能しない場合や正しく機能しない場合でも、監視サーバーは機能しています。</font><font style="vertical-align: inherit;">ここで、いくつかのアプリケーション（Spring Bootマイクロサービスなど）があり、それらのそれぞれが複数のインスタンスで機能することを想像してください。</font><font style="vertical-align: inherit;">従来のアクチュエータの監視では、それぞれに個別にアクセスする必要があり、インスタンスの数と実行されている場所を追跡する必要があるため、これは困難です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot Adminを使用する場合、監視対象のアプリケーション（クライアント）の各インスタンスは、起動後にサーバーに登録されます。</font><font style="vertical-align: inherit;">次に、それらすべてをチェックできる単一のポイント（管理サーバー）があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-3/cd/le/-3cdle9y_1pgxlg0yz_rc8mitnk.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソース</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
完成したアプリケーションのソースコードは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このGithubリポジトリにあります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーのチューニング</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、Spring Boot Admin Serverを構成する方法を見てみましょう。</font><font style="vertical-align: inherit;">新しいSpring Bootアプリケーションから始めましょう。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Initializr</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して簡単に作成できます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">必ず</font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モジュール</font><font style="vertical-align: inherit;">を有効にしてください</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトを作成した後、最初に必要なのは、Spring Boot Admin Server依存関係を追加することです。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>de.codecentric<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-admin-starter-server<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このプロジェクトはPivotalによって作成されたものではありませんが、Spring InitializrでSpring Boot Adminのクライアントモジュールとサーバーモジュールを見つけることができます。</font><font style="vertical-align: inherit;">次に、我々は、使用して、当社のメインアプリケーションクラスに注釈を付ける、管理サーバーを有効にする必要があり</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@EnableAdminServerの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注釈</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nb/d_/ih/nbd_ihnpyds0zna87jk_iovu364.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのです。</font><font style="vertical-align: inherit;">これでアプリケーションを開始できます。ページを開いた後、次の画面が表示されます</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pp/hb/-n/pphb-nntvvnfgchobk6tjsxecxa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。サーバーは機能していますが、クライアントはまだ登録されていません。</font><font style="vertical-align: inherit;">修正しましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クライアントのセットアップ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーのセットアップと同様に、最初のステップは、既存のアプリケーションに正しい依存関係を追加することです。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>de.codecentric<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-admin-starter-client<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">version</span>&gt;</span>2.1.0<span class="hljs-tag">&lt;/<span class="hljs-name">version</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、管理サーバーが実行されているURLを特定する必要があります。</font><font style="vertical-align: inherit;">次の行を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.properties</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルに追加します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="java hljs">spring.boot.admin.client.url=http:<span class="hljs-comment">//localhost:8080</span></code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクチュエーターの追加</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、クライアントとサーバーの両方を起動できるはずです。どちらのアプリケーションもデフォルトで8080を使用するため、ポートの競合がないことを確認してください。テストの目的</font><font style="vertical-align: inherit;">で、</font><b><font style="vertical-align: inherit;">application.properties</font></b><font style="vertical-align: inherit;">で</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">server.port = 0</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">設定し</font><font style="vertical-align: inherit;">て、クライアントが起動時にランダムなポートを使用するようにできます。したがって、異なるポートで実行されている複数のインスタンスの起動をテストできます。</font><font style="vertical-align: inherit;">
管理サーバーのユーザーインターフェースを開くと、アプリケーションが表示されます。アプリケーションの名前をクリックすると、アプリケーションに関する情報を含むページが表示されます。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/nj/nm/xa/njnmxagxupsllg_eqy6nr85n9hq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記と同様の画面に最小限の情報しか表示されない場合は、プロジェクトにアクチュエータがないことを意味します。</font><font style="vertical-align: inherit;">Spring Boot Adminは内部でアクチュエータエンドポイントを使用することに注意してください。</font><font style="vertical-align: inherit;">幸いなことに、単純な依存関係を追加するだけで、あとは自動構成が処理します。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-actuator<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、ほとんどのエンドポイントは、アクチュエータではデフォルトでは表示されません。</font><font style="vertical-align: inherit;">それらを公開するに</font><font style="vertical-align: inherit;">は、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.propertiesの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">設定を変更する必要があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br>
<pre><code class="xml hljs">management.endpoints.web.exposure.include=*</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アクチュエータエンドポイントを提供すると、管理インターフェイスにさらに多くの情報が表示さ</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hn/q9/x7/hnq9x7dgzha1sakqiclkruuxyig.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
れます。SpringBootアクチュエータを構成する方法の詳細なガイドは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、この記事にあり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<u><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">翻訳者による注意。</font></font></i></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハブレに関する記事で</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">安全性</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてが機能しているので、アクチュエータエンドポイントと管理インターフェイスに誰もがアクセスできないようにする必要があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">お客様の安全</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すでにSpring Securityを使用している場合、ドライブのエンドポイントはデフォルトで保護されており、管理者サーバーはそれらにアクセスできないため、上記は機能しません。</font><font style="vertical-align: inherit;">Spring Securityをまだ使用していない場合は、まず依存関係を追加する必要があります。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストの目的で、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">management.security.enabled = false</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を使用して、アクチュエータエンドポイントセキュリティを一時的に無効にすることができ</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">ただし、セキュリティを有効にする必要があります。</font><font style="vertical-align: inherit;">基本認証を使用する場合は、プロパティファイルでユーザー名とパスワードを指定するだけです。</font><font style="vertical-align: inherit;">これらの資格情報は、管理サーバーがクライアントドライブのエンドポイントでの認証に使用します。</font></font><br>
<br>
<pre><code class="java hljs">spring.boot.admin.client.instance.metadata.user.name=joe<font></font>
spring.boot.admin.client.instance.metadata.user.password=my-secret-password</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デフォルトでは、特に設定されていない限り、Spring Bootはデフォルトでユーザー</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">user</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、アプリケーションが起動するたびに自動的に生成されたパスワードを使用します。</font><font style="vertical-align: inherit;">起動時にコンソールでパスワードを確認できます。</font><font style="vertical-align: inherit;">アプリケーションに必要なユーザー名とパスワードを明示的に指定する場合は、プロパティで指定できます。</font></font><br>
<br>
<pre><code class="xml hljs">spring.security.user.name=joe<font></font>
spring.security.user.password=my-secret-password<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバーのセキュリティ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クライアントと同様に、Spring Security依存関係を追加する必要があります。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-security<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.propertiesで</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">管理サーバーへのログインに必要なユーザー名とパスワードを設定します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="xml hljs">spring.security.user.name=admin<font></font>
spring.security.user.password=admin-password</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、クライアントでこれらの資格情報を追加する必要があります。そうしないと、サーバーに登録できません。</font></font><br>
<br>
<pre><code class="xml hljs">spring.boot.admin.client.username=admin<font></font>
spring.boot.admin.client.password=admin-password</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバー側に戻ります。</font><font style="vertical-align: inherit;">最後に、Spring Security構成を追加して、管理ユーザーインターフェイスを保護する必要があります。</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-meta">@Configuration</span>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">SecurityConfig</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">WebSecurityConfigurerAdapter</span> </span>{<font></font>
<font></font>
    <span class="hljs-meta">@Override</span>
    <span class="hljs-function"><span class="hljs-keyword">protected</span> <span class="hljs-keyword">void</span> <span class="hljs-title">configure</span><span class="hljs-params">(HttpSecurity http)</span> <span class="hljs-keyword">throws</span> Exception </span>{<font></font>
        SavedRequestAwareAuthenticationSuccessHandler successHandler <font></font>
            = <span class="hljs-keyword">new</span> SavedRequestAwareAuthenticationSuccessHandler();<font></font>
        successHandler.setTargetUrlParameter(<span class="hljs-string">"redirectTo"</span>);<font></font>
        successHandler.setDefaultTargetUrl(<span class="hljs-string">"/"</span>);<font></font>
<font></font>
        http.authorizeRequests()<font></font>
            .antMatchers(<span class="hljs-string">"/assets/**"</span>).permitAll()<font></font>
            .antMatchers(<span class="hljs-string">"/login"</span>).permitAll()<font></font>
            .anyRequest().authenticated().and()<font></font>
            .formLogin().loginPage(<span class="hljs-string">"/login"</span>)<font></font>
            .successHandler(successHandler).and()<font></font>
            .logout().logoutUrl(<span class="hljs-string">"/logout"</span>).and()<font></font>
            .httpBasic().and()<font></font>
            .csrf()<font></font>
            .csrfTokenRepository(CookieCsrfTokenRepository.withHttpOnlyFalse())<font></font>
            .ignoringAntMatchers(<font></font>
                <span class="hljs-string">"/instances"</span>,
                <span class="hljs-string">"/actuator/**"</span><font></font>
             );<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これにより、基本的なHTTP認証を使用してログインする認証済みユーザーのみに、管理者インターフェースへのアクセスが提供されます。</font><font style="vertical-align: inherit;">ログインページ自体と、JavaScript、HTML、CSSなどの静的ユーザーインターフェイスリソースが開いています。</font><font style="vertical-align: inherit;">そうしないと、ログインできなくなります。</font><font style="vertical-align: inherit;">次に、Cookieに基づくクロスサイトリクエスト（CSRF、クロスサイトリクエストフォージェリ）の改ざんに対する保護があります。</font><font style="vertical-align: inherit;">CSRF保護で一部のパスが無視されていることがわかります。これは、管理サーバー</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">現在</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">適切なサポートを持っていないため</font></a><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
再起動すると、管理サーバーを保護する美しいログイン画面が表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l2/t-/7q/l2t-7qwz6ixjclwzwwwow9agagi.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クラウドの発見</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot Adminクライアントは、サーバーにアプリケーションを登録する唯一の方法ではありません。</font><font style="vertical-align: inherit;">管理サーバーは、Spring Cloud Service Discoveryもサポートしています。</font><font style="vertical-align: inherit;">詳しくは、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公式ドキュメント</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">または記事「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Cloud Discovery with Spring Boot Admin</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」を</font><font style="vertical-align: inherit;">ご覧</font><font style="vertical-align: inherit;">ください</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">お知らせ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監視を開始したらすぐに、何か問題が発生したときに通知を受け取る必要があります。</font><font style="vertical-align: inherit;">良いニュースは、Spring Adminが幅広い通知オプションを提供していることです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
初めて管理サーバーページにアクセスする場合は、コンピューターにプッシュ通知を表示する許可を求めます。</font><font style="vertical-align: inherit;">問題が発生するたびに、ポップアップメッセージが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/9u/6a/he9u6aqe3_wfpj-g3ijn74gmhzu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他の通知は簡単な設定が必要です。</font><font style="vertical-align: inherit;">これは通常、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.propertiesに</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いくつかのエントリを提供するだけ</font><b><font style="vertical-align: inherit;">です</font></b><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">現在、次のサービスがサポートされています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">郵便物</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スラック</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒップチャット</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポケットベルの義務</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opsgenie</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チャットしよう</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">電報</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マイクロソフトチーム</font></font></a><br>
 </li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メール通知を設定する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メール通知を有効にする場合は、サーバー側にSpringメールの依存関係を追加する必要があります。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">dependency</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">groupId</span>&gt;</span>org.springframework.boot<span class="hljs-tag">&lt;/<span class="hljs-name">groupId</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">artifactId</span>&gt;</span>spring-boot-starter-mail<span class="hljs-tag">&lt;/<span class="hljs-name">artifactId</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">dependency</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、電子メール通知と資格情報を送信するために使用されるSMTPサーバーを決定する必要があります。</font><font style="vertical-align: inherit;">管理サーバーの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.propertiesを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新します</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="xml hljs">spring.mail.host=smtp.foo.com<font></font>
spring.mail.username=smtp-server-user<font></font>
spring.mail.password=smtp-server-password</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、受信者と送信者を識別する必要があります。</font></font><br>
<br>
<pre><code class="java hljs"># Sender email address<font></font>
spring.boot.admin.notify.mail.from=<span class="hljs-string">"Spring Boot Admin &lt;noreply@foo.com&gt;"</span><font></font>
# Comma-delimited list of recipient email addresses<font></font>
spring.boot.admin.notify.mail.to=alice<span class="hljs-meta">@foo</span>.com,bob<span class="hljs-meta">@bar</span>.com<font></font>
# Comma-delimited list of carbon copy recipient email addresses<font></font>
spring.boot.admin.notify.mail.cc=joe<span class="hljs-meta">@foo</span>.com</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spring Boot Adminは、アクチュエータエンドポイントの上に便利で便利なユーザーインターフェイスレイヤーを提供します。</font><font style="vertical-align: inherit;">さらに、複数のインスタンスを使用して複数のアプリケーションを集中管理できるため、クラウドやマイクロサービスで作業する際に非常に役立ちます。</font><font style="vertical-align: inherit;">ただし、クライアントとサーバーの両方を十分に保護していることを確認してください。</font><font style="vertical-align: inherit;">詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公式ドキュメントを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja479940/index.html">別の職業から開発に切り替え、新しい場所ですばやく成長する方法</a></li>
<li><a href="../ja479942/index.html">【19/12/14/10：52更新】Nginxオフィスで検索が行われました。コペイコ：「NginxはSysoevが独自に開発した」</a></li>
<li><a href="../ja479948/index.html">ジェスチャー管理：エッジツーエッジ。パート1</a></li>
<li><a href="../ja479950/index.html">ビデオプロセッサの歴史、パート4：汎用GPUの登場</a></li>
<li><a href="../ja479952/index.html">shawarmaの中身：マイクロサービス、分散システム、Kafka。バックエンドユナイテッドの資料を共有する＃5</a></li>
<li><a href="../ja479958/index.html">ファームウェアとプロセッサの脆弱性</a></li>
<li><a href="../ja479960/index.html">オンラインストアのメディア広告の効果のモデル</a></li>
<li><a href="../ja479966/index.html">Playrix CI / CD：ゲームの構築方法とテスト方法</a></li>
<li><a href="../ja479970/index.html">千のUIバグ、または開発者がUIの一般的なエラーを回避する方法</a></li>
<li><a href="../ja479972/index.html">Appleパッチ履歴</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>