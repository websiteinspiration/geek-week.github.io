<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê¶ üôãüèΩ ‚ùóÔ∏è Nouvelle application "Jellyfish". Pourquoi papillonner? üßëüèΩ‚Äçü§ù‚Äçüßëüèª üßîüèª üö¥üèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le directeur technique Boris Goryachev explique comment Medusa y a travaill√© pendant un an et pourquoi il a √©t√© √©crit en Flutter
 Le 12 mai, la sortie...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Nouvelle application "Jellyfish". Pourquoi papillonner?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/meduza/blog/501786/"><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le directeur technique Boris Goryachev explique comment Medusa y a travaill√© pendant un an et pourquoi il a √©t√© √©crit en Flutter</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le 12 mai, la sortie des nouvelles applications mobiles Medusa ( </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Android</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) a eu lieu - pr√®s de deux ans apr√®s que nous avons d√©cid√© de les r√©√©crire. Pourquoi si longtemps? Pourquoi pas des applications natives? Pourquoi Flutter? Tout cela est racont√© par le directeur technique de Medusa Boris Goryachev.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/eo/pz/1h/eopz1h3vjl99b6ajisv1upsi56q.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contrairement √† nos anciennes applications, nous avons d√©cid√© de ne pas en faire de nouvelles natives. Tout d'abord, √©crire deux fois le m√™me code est fastidieux. Deuxi√®mement, cela ne fonctionnera jamais de sorte que dans deux projets diff√©rents √©crits par des personnes diff√©rentes, tout soit synchrone et identique. Habituellement, quelqu'un travaille plus lentement, quelqu'un part en vacances, quelqu'un a une dette technique qui doit √™tre cl√¥tur√©e. Toute notre exp√©rience dans la cr√©ation et la prise en charge d'applications natives nous a incit√©s - soit nous faisons quelque chose de mal, soit ce n'est tout simplement pas notre chemin. Et nous avons commenc√© √† chercher la n√¥tre. Nous avons essay√© React Native et Ionic, pens√© √† l'approche Basecamp - tout sur le web + une fine couche native, m√™me essay√© d'aller vers la Progressive Web App et de rester en ligne.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä peu pr√®s √† la m√™me √©poque, j'ai assist√© √† une conf√©rence Google I / O et rencontr√© des gens qui y fabriquent Flutter. J'ai imm√©diatement essay√© Dart et travaill√© un peu sur Flutter, mais √† cette √©poque, la technologie n'√©tait pas encore pr√™te pour Medusa: il √©tait impossible d'incorporer divers mat√©riaux interactifs et incorpor√©s √† l'int√©rieur de nos mat√©riaux, mais cela est essentiel pour les m√©dias. J'ai donc d√©cid√© d'attendre que Flutter grandisse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant l'attente, nous avons fait beaucoup de choses c√¥t√© web: r√©√©criture du site, √©criture d'une nouvelle version d'AMP. Nous avons √©crit et transf√©r√© tous les projets de Medusa vers ui-kit - une biblioth√®que unique de composants que le site utilise et gr√¢ce √† laquelle un grand nombre de nos m√©canismes de jeu sont possibles. Nous avons divis√© les versions de bureau et mobiles du site, de sorte que les pages de distribution (pages principale et section) ont commenc√© √† se former √† deux endroits diff√©rents selon leurs propres r√®gles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parall√®lement au travail sur le site, nous pensions √† une nouvelle application - nous avons imagin√© sa navigation, ses significations, ses √©crans, ses fonctionnalit√©s, etc. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yr/hj/qg/yrhjqguulxpberajes84cgyl-h0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Parall√®lement, des changements importants ont eu lieu dans la structure du service technique. </font><font style="vertical-align: inherit;">Nous avons commenc√© √† utiliser activement le calendrier Google et d'autres outils de planification de r√©unions, et nous sommes pass√©s de Trello √† Basecamp. </font><font style="vertical-align: inherit;">C'est tellement √©vident qu'il est m√™me √©trange d'en parler. </font><font style="vertical-align: inherit;">Mais il a fallu beaucoup de temps et d'efforts pour rationaliser le chaos. </font><font style="vertical-align: inherit;">Un ordre du jour clair des r√©unions, un suivi rapide, des fichiers qui ne sont pas perdus et des port√©es de carte de colline ont permis de faire face √† un √©norme flux de t√¢ches et de ne pas mourir.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi est-ce encore Flutter. </font><font style="vertical-align: inherit;">Et un peu sur Dart</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque les gens d√©couvrent Flutter, ils apprennent in√©vitablement Dart. Il semble que ce soit consid√©r√© comme le plus gros inconv√©nient de Flutter, mais exactement jusqu'√† ce que vous essayiez d'√©crire dessus. Il est vraiment cool. Suivre JavaScript est tellement sp√©cial. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dart est un langage de programmation d√©velopp√© par Google. Il a √©t√© annonc√© en 2011, c'est-√†-dire qu'il s'agit encore d'une langue jeune. Il n'est pas devenu un langage de programmation majeur (du moins pour l'instant), mais en m√™me temps, il est tr√®s activement utilis√© dans l'entreprise elle-m√™me. En plus de Google, il existe d'autres grandes entreprises, par exemple Wrike, qui utilisent Dart et y √©crivent la pile compl√®te.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que Dart et Flutter sont pris en charge par la m√™me entreprise, cela permet de changer la langue en fonction des besoins de Flutter. Pour autant que je sache, les deux √©quipes interagissent activement l'une avec l'autre, de sorte que les puces apparaissent constamment dans la langue, ce qui vous permet d'√©crire du code plus agr√©able sur Flutter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je n'essaierai pas d'expliquer en quoi consiste Flutter - Wikipedia fera mieux face √† cette t√¢che, mais je dirai seulement que parmi les auteurs, il y a des gens qui ont rendu dans Chromium. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En d√©cembre 2018, l'√©quipe Flutter a publi√© la biblioth√®que d'int√©gration Webview dans Flutter. Il √©tait brut et, soit dit en passant, n'a toujours pas quitt√© le statut de pr√©visualisation des d√©veloppeurs, mais ce fait n'a pas cess√© de commencer √† estimer la structure de la future application. Pendant plusieurs mois, j'ai exp√©riment√© mon temps libre, puis une d√©cision finale a √©t√© prise.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au d√©but, je me suis assis pour √©crire une nouvelle version de l'API sp√©cifiquement pour l'application. L'id√©ologie de cette API peut √™tre formul√©e comme suit: si quelque chose peut √™tre fait sur le backend, alors vous devez le faire sur le backend. Et pas parce qu'il est difficile de faire quelque chose sur le client. Le fait est que les sorties sur l'App Store et Google Play sont un processus laborieux et long. Vous devez vous adapter √† leurs horaires de travail et n'oubliez pas que tous les utilisateurs ne mettront pas imm√©diatement √† jour l'application. Cela peut √™tre √©vit√© lorsque la logique principale se produit sur votre serveur. Besoin de d√©placer le titre de 10 pixels vers le bas? Je vous en prie. Supprimer ou ajouter rapidement un composant? Pas de probl√®me!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/od/tj/rm/odtjrmjdtepy8foek0qqtoaa7na.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la m√™me raison, l'API pour une application mobile contient les composants les plus simples possibles, √† partir desquels presque tous les mat√©riaux sont collect√©s de mani√®re r√©cursive. Je dis ¬´presque¬ª parce que nous montrons des jeux via WebView. L'application n'a pas d'importance quoi montrer - une carte, un podcast, des nouvelles ou "Big Top". Tout est trait√© par un seul code, et la t√¢che de l'application est de prendre le composant et de le rendre (ou d'aller dans la liste de ses enfants et de l'appeler r√©cursivement). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autre argument important en faveur de Flutter: le d√©veloppeur "contr√¥le tous les pixels". Lorsque vous devez vous assurer qu'il y a des ombres correctes partout, comme dans la mise en page dans Sketch, ou que vous souhaitez que la transparence change le long des courbes, ou que vous souhaitez que les tailles de police et toute la typographie soient personnalisables, tout est simple et r√©aliste dans Flutter.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une autre caract√©ristique qui tue Flutter est le confort de d√©veloppement. </font><font style="vertical-align: inherit;">Le rechargement √† chaud, auquel je suis si habitu√© dans le d√©veloppement Web, et la vitesse rapide de rechargement de l'application sans perdre son √©tat rendent le travail aussi simple que possible. </font><font style="vertical-align: inherit;">Vous n'avez pas besoin de vous asseoir et d'attendre que l'application soit reconstruite, puis d'attendre que le nouveau code fonctionne et de r√©p√©ter l'√©tat dans lequel vous travaillez. </font><font style="vertical-align: inherit;">Tout se passe vraiment vite et cool.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âcosyst√®me </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que Flutter et Dart ne soient pas encore des technologies tr√®s populaires, nous n'avons eu aucun probl√®me pour trouver des biblioth√®ques. </font><font style="vertical-align: inherit;">La plupart de ce qui est n√©cessaire dans l'application se trouve dans le framework lui-m√™me ou sur pub.dev. </font><font style="vertical-align: inherit;">La communaut√© est tr√®s agr√©able et pr√™te √† aider. </font><font style="vertical-align: inherit;">Cette communication est une v√©ritable bouff√©e d'air frais, tr√®s solidaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, Google lui-m√™me prend bien en charge Flutter. </font><font style="vertical-align: inherit;">Nous utilisons Firebase pour effectuer des pouss√©es, des analyses, des profils et stocker des donn√©es utilisateur (lecture de l'historique, positions des √©pisodes, signets), et tout y fonctionne. </font><font style="vertical-align: inherit;">Bien s√ªr, en tant que personne qui n'a jamais √©crit d'applications natives auparavant, il est parfois d√©lirant de grimper dans des fichiers gradle ou de mettre des propri√©t√©s dans info.plist. </font><font style="vertical-align: inherit;">Mais g√©n√©ralement, tout est googl√©, et il n'y a rien d'incroyablement compliqu√©.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diff√©rences de plate-forme</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez parler sans cesse de la diff√©rence entre iOS et Android. En r√®gle g√©n√©rale, ils se souviennent imm√©diatement que les mod√®les doivent √™tre familiers √† l'utilisateur et que les directives de conception doivent √™tre suivies. Nous sommes d'accord avec cela, mais pas tout √† fait. Il est important de se souvenir de votre identit√© d'entreprise, du bon sens et de la logique de comportement des utilisateurs que vous connaissez d√©j√†. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous regardez l'historique des plates-formes elles-m√™mes, nous voyons que certains mod√®les changent avec les appareils, tandis que d'autres circulent du syst√®me vers le syst√®me. Ce ne sont pas des tablettes, rien ne s'arr√™te. Il existe des dizaines d'exemples int√©ressants o√π les entreprises s'√©cartent des recommandations de Google et d'Apple et font ce qu'elles pensent √™tre juste.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/o6/ez/ab/o6ezabqrmtj2y1ewz1silon9wom.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'exemple le plus simple et le plus vivant est de glisser dans iOS. La zone de l'√©cran qui accepte le balayage est super petite par d√©faut, environ 20 pixels. C'est ainsi que l'application Mail fonctionne sur les iPhones, et c'est tr√®s g√™nant. Sur Twitter, cette zone est l√©g√®rement √©largie, tandis que sur Telegram, elle est tout simplement √©norme! Telegram sur Android a son propre type sp√©cial de navigation de la liste de discussion au chat, c'est un croisement entre iOS et Android. Oui, les directives sont cool, mais sur l'iPhone XR, atteindre votre doigt vers le bord sup√©rieur gauche de l'appareil est tr√®s g√™nant. Nous avons donc d√©cid√© (bien s√ªr, en nous appuyant sur les donn√©es) que dans l'application "Medusa", le bouton "Retour" sur iOS serait ci-dessous. Mais sur Android, ce ne sera pas du tout. Pour ce faire, il existe des svaypas (les n√¥tres et les nouveaux svaypas Android) et un bouton syst√®me "Retour". </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dit mon coll√®gue, directeur artistique de Medusa Nastya Yarovaya:</font></font></b><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai de petites mains et un gros t√©l√©phone. </font><font style="vertical-align: inherit;">Cela semble ridicule, mais cela a affect√© deux d√©cisions importantes dans le processus de d√©veloppement. </font><font style="vertical-align: inherit;">Tout d'abord, j'ai propos√© d'augmenter consid√©rablement la zone de balayage (augment√©e √† 50%) - la premi√®re d√©viation par rapport aux lignes directrices. </font><font style="vertical-align: inherit;">Ensuite, lorsque nous avons travaill√© sur les boutons de navigation et de fonction √† l'int√©rieur du mat√©riau, j'ai sugg√©r√© de mettre le bouton de retour dans le menu g√©n√©ral ci-dessous - c'est une autre d√©viation du mod√®le habituel dans l'interface. </font><font style="vertical-align: inherit;">Maintenant, vous pouvez l'atteindre avec votre pouce, car ils sont principalement d√©fil√©s par lui.</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous savons que nous allons certainement voler pour le fait que nous avons viol√© un certain nombre de recommandations d'Apple et de Google. </font><font style="vertical-align: inherit;">Mais, si quoi que ce soit, nous utilisons √©galement des t√©l√©phones et comprenons que de nombreux mod√®les sont obsol√®tes, car ils ont √©t√© invent√©s pour les appareils de moiti√©.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu de pratique: comment √ßa marche √† Flutter</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s React et d'autres frameworks r√©actifs, vous pouvez cr√©er un prototype sur Flutter en quelques jours. Id√©e g√©n√©rale de Flutter - tout est un widget. Flutter donne deux (en fait trois) paradigmes: vous pouvez utiliser des widgets de mat√©riaux qui suivent le concept de conception de mat√©riaux. Vous pouvez utiliser des widgets Cupertino - des widgets qui ressemblent et se comportent comme sur iOS. Et vous pouvez tout √©crire vous-m√™me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En gros, il existe deux types de widgets avec lesquels un d√©veloppeur interagit: sans √©tat et avec √©tat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les widgets sans √©tat sont des widgets plus ou moins qui ne contiennent pas de logique √† l'int√©rieur qui devrait changer l'√©tat du widget. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les widgets avec √©tat ont une fonction setState (bonjour, r√©agissez!). Vous changez d'√©tat et le widget est redessin√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais bien s√ªr, une grande application sur simple setState n'ira pas loin, donc une solution de gestion d'√©tat est n√©cessaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe plusieurs solutions pour Flutter. Par exemple, il existe un mod√®le BloC dans lequel des flux et des √©v√©nements provenant de sources de donn√©es sont utilis√©s, ils contiennent une logique m√©tier qui provoque la naissance de nouveaux √©v√©nements. Ces √©v√©nements sont entendus par les widgets et les widgets r√©pondent aux changements. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceux qui viennent apr√®s React voudront peut-√™tre essayer Redux. En th√©orie, il ne devrait pas y avoir de probl√®me si vous avez √©crit dans React en utilisant cette approche.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai essay√© les deux approches et j'ai fini par en choisir une troisi√®me. L'application Jellyfish utilise Provider. Il s'agit d'une biblioth√®que qui n'a pas √©t√© √©crite par Google, mais il est int√©ressant de noter que Google, apr√®s avoir essay√© Provider √† la maison, a commenc√© √† abandonner son BloC et a m√™me d√©cid√© de r√©p√©ter Provider en tant que biblioth√®que distincte. Mais √† la fin, il a abandonn√© l'id√©e de r√©p√©ter le code de quelqu'un d'autre et a commenc√© √† utiliser et √† maintenir ce qui √©tait n√© comme open source. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'appareil Provider est assez simple. Il s'agit d'un widget dans lequel se trouve un √©tat. Cet √©tat est modifi√© par les fonctions qui appellent en interne notifyListeners (). Les widgets qui doivent r√©pondre aux modifications se trouvent dans l'arborescence des widgets - ils sont soit les enfants directs du fournisseur de widgets, soit les enfants de ses enfants. Lorsque notifyListeners () est appel√©, les enfants obtiennent de nouvelles valeurs via le contexte et la reconstruction se produit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√®gle g√©n√©rale, les fournisseurs sont annonc√©s tout en haut de l'application, et vous pouvez utiliser plusieurs fournisseurs √† la fois - chacun est responsable de sa propre logique m√©tier. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous utilisons maintenant huit fournisseurs qui ¬´√©coutent¬ª √† diff√©rents endroits de l'application. Par exemple, voici comment fonctionne le fournisseur de signets, gr√¢ce auquel les lecteurs peuvent enregistrer leurs documents pr√©f√©r√©s, les lire hors ligne et au m√™me endroit sur diff√©rents appareils. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La r√©action est ajout√©e √† l'instance aux modifications apport√©es au document √† partir de Firebase, qui contient les cl√©s des documents mis en signet par les lecteurs. Pour chaque onChange de ce document, la variable associ√©e dans le fournisseur est mise √† jour et notifyListeners est appel√©e. Par cons√©quent, tous les widgets qui √©coutent ce fournisseur affichent l'ic√¥ne correcte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gr√¢ce aux fournisseurs, le th√®me de l'application a √©galement √©t√© chang√©. </font><font style="vertical-align: inherit;">L'application a ThemeProvider, qui contient en soi deux instances de th√®mes - et, en fait, c'est juste une carte avec notre d√©nomination des couleurs et les couleurs elles-m√™mes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, la couleur correcte vient au widget comme ceci:</font></font><br>
<br>
<pre><code class="dart hljs">TextSpan(<font></font>
	text: block[<span class="hljs-string">'data'</span>][<span class="hljs-string">'first'</span>],<font></font>
	style: TextStyle(<font></font>
		color: Provider.of&lt;ThemeProvider&gt;(context)<font></font>
        .current<font></font>
        .bodyFontColor,                            <font></font>
  fontFamily: <span class="hljs-string">'Proxima Nova'</span>,<font></font>
));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code du fournisseur, s'il √©tait simplifi√©, serait:</font></font><br>
<br>
<pre><code class="dart hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThemeProvider</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">ChangeNotifier</span> </span>{<font></font>
  CustomThemeData current;<font></font>
  <font></font>
  CustomThemeData blackTheme = CustomThemeData(<font></font>
    name: <span class="hljs-string">'black'</span>,<font></font>
    bodyFontColor: Color.fromRGBO(<span class="hljs-number">184</span>, <span class="hljs-number">184</span>, <span class="hljs-number">184</span>, <span class="hljs-number">1</span>),<font></font>
    ...<font></font>
  );<font></font>
  <font></font>
  CustomThemeData lightTheme = CustomThemeData(<font></font>
    name: <span class="hljs-string">'black'</span>,<font></font>
    bodyFontColor: Color.fromRGBO(<span class="hljs-number">184</span>, <span class="hljs-number">184</span>, <span class="hljs-number">184</span>, <span class="hljs-number">1</span>),<font></font>
    ...<font></font>
  );<font></font>
  <font></font>
  ThemeProvider(withTheme, withFontMultiplier, withAutoTheme) {<font></font>
    theme = withTheme;<font></font>
    autoTheme = withAutoTheme;<font></font>
    current = withTheme == <span class="hljs-string">'light'</span> ? lightTheme : blackTheme;<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par cons√©quent, lorsque vous modifiez la variable actuelle, tous les widgets qui prennent des couleurs du th√®me s'affichent correctement sans exception.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Et apr√®s</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces derni√®res semaines, nous avons test√© activement la nouvelle application sur un groupe de plusieurs centaines de lecteurs de Medusa. </font><font style="vertical-align: inherit;">Nous vous expliquerons comment les tests se sont d√©roul√©s dans un article s√©par√©, mais je noterai seulement que Flutter a r√©pondu √† toutes mes attentes. </font><font style="vertical-align: inherit;">Oui, il a un moyen de d√©velopper, oui, pas toutes les biblioth√®ques riches en fonctionnalit√©s, mais, observant la vitesse √† laquelle tout cela se d√©place, je conclus, du moins pour moi, que Flutter avec Medusa durera longtemps.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr501768/index.html">Examen du scanner 3D Scantech KSCAN20</a></li>
<li><a href="../fr501772/index.html">N√©gociation en bourse: comment ne pas perdre, pr√©cautions de s√©curit√©</a></li>
<li><a href="../fr501774/index.html">Pourquoi les nuages ‚Äã‚Äãdeviennent des nuages ‚Äã‚Äãd'orage: les √©checs de d√©ploiement du cloud</a></li>
<li><a href="../fr501782/index.html">DeepPavlov: Keras pour le traitement du langage naturel aide √† r√©pondre aux questions sur COVID-2019</a></li>
<li><a href="../fr501784/index.html">Si ma voiture g√™ne</a></li>
<li><a href="../fr501788/index.html">Cr√©ation d'objets param√©triques dans nanoCAD Design BIM</a></li>
<li><a href="../fr501790/index.html">Animations non triviales dans SwiftUI</a></li>
<li><a href="../fr501792/index.html">Comment le p√®re de FinFET a aid√© √† sauver la loi de Moore</a></li>
<li><a href="../fr501796/index.html">7 erreurs dangereuses faciles √† faire en C # /. NET</a></li>
<li><a href="../fr501798/index.html">C ++ / Qt: est-il temps de bl√¢mer?.</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>