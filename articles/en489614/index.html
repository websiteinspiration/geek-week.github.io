<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ§‘ğŸ½â€ğŸ¤â€ğŸ§‘ğŸ¼ ğŸ‘ğŸ» ğŸ‘¨ğŸ½â€ğŸ¤ Marking of shoe residues in 1C. Solving the problem of scanning and uploading to Honest Sign ğŸ˜“ ğŸ¤¢ ğŸ‘¨ğŸ½â€ğŸ¨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="One of the problem points at the beginning of this year for shoe manufacturers and sellers is the ban from March 1, 2020 (possibly July 1) on the prod...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Marking of shoe residues in 1C. Solving the problem of scanning and uploading to Honest Sign</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489614/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One of the problem points at the beginning of this year for shoe manufacturers and sellers is the ban from March 1, 2020 (possibly July 1) on the production, import, wholesale and retail sale of shoes without marking and data transfer to the Honest Sign marking system. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Today we want to analyze the setting of automatic data transfer to the Honest Sign system based on 1C: ERP using a specific example of one of our clients, with errors and problems that arise due to the unfinished work of the Honest Sign system and 1C.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Our Client works on 1C: ERP Enterprise Management 2 (2.4.11.65) with a standard configuration. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
During the marking of balances, the Client constantly had the following errors: </font></font><br>
<br>
<img src="https://prof-it.ru/uploads/posts/2020-02/medium/1582200247_photo_2020-02-06_15-12-19.jpg" alt="image"><br>
<br>
<img src="https://prof-it.ru/uploads/posts/2020-02/medium/1582200281_photo_2020-02-06_15-12-20.jpg" alt="image"><br>
<br>
<img src="https://prof-it.ru/uploads/posts/2020-02/medium/1582200305_photo_2020-02-06_15-12-21.jpg" alt="image"><br>
<br>
<img src="https://prof-it.ru/uploads/posts/2020-02/medium/1582200372_photo_2020-02-06_15-12-23.jpg" alt="image"><br>
<br>
<img src="https://prof-it.ru/uploads/posts/2020-02/medium/1582200328_photo_2020-02-06_15-12-24.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Most of the errors were not repeated, therefore we assumed that these were ChS problems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Turning to the â€œHonest Signâ€ we got the answer that this marking code is correct and should be processed normally by any software. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
During the correspondence with ChZ and our analysis of the error, an update was released, with a huge number of undocumented changes in the general modules related to marking. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Having installed and checked the typical 1C functional, we found that this problem was not solved. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We began to delve into the problem and encountered a code scanning error - of this format </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
â€œ(01) 029 ****** (21) * JC *** (62â€</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I had to plunge into the debugger and catch an error. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The problem turned out to be that the same marking code in different 1C interfaces is decrypted by different parts of the code, although the result of the analysis should be the same. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In both cases 1 and 2, the developers did not take into account that the opening bracket in the marking code can be contained in the â€œcrypto tailâ€. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
â€œ(01) 029 ****** (21) * JC *** (62â€ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Based on this, we made a patch that corrects the logic of parsing the marking code in several modules. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
At the time of publication of the article, our patch allows you to read and enter codes into circulation, but due to instability of the â€œHonest Signâ€ service, exchange with IS IP, access to your personal account, etc. is intermittent and delayed.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS In addition, during the testing of the marking system, it turned out that 1C is able to print the same barcode only 1 time, therefore, we advise you not to print the entire pool of marking codes from PP, since if the printer runs out of paper, any failure, etc. </font><font style="vertical-align: inherit;">You can no longer print this code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this case, you need additional processing, which allows you to clear information about whether a specific marking code was printed or all.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489602/index.html">Prerender on canvas 2D</a></li>
<li><a href="../en489604/index.html">How do I, team leader, evaluate projects</a></li>
<li><a href="../en489608/index.html">Interaction with NIDD via SCEF using the Postman utility. A brief tour of SCEF and its features</a></li>
<li><a href="../en489610/index.html">Full home automation in a new building</a></li>
<li><a href="../en489612/index.html">DEFCON 27 Conference. Duplication of mechanical keys with limited access. Part 2</a></li>
<li><a href="../en489618/index.html">Do we need such a format? .. and some statistics</a></li>
<li><a href="../en489620/index.html">9 Windows Terminal Tips by Scott Hanselman</a></li>
<li><a href="../en489622/index.html">We make Python and Bash friends: smart-env and python-shell libraries</a></li>
<li><a href="../en489626/index.html">Paul Graham: How to write useful (on Habr)</a></li>
<li><a href="../en489628/index.html">Is higher education compulsory in IT?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>