<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌵 📕 🙌🏼 Rasa sakit dan penderitaan saat men-debug layanan mikro dalam pengembangan web 👩‍❤️‍👩 🤜🏽 🧚</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Di IT, Anda jarang melihat orang yang belum pernah mendengar tentang layanan microser. Ada banyak artikel di Internet dan di situs-situs khusus mengen...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Rasa sakit dan penderitaan saat men-debug layanan mikro dalam pengembangan web</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489912/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Di IT, Anda jarang melihat orang yang belum pernah mendengar tentang layanan microser. Ada banyak artikel di Internet dan di situs-situs khusus mengenai hal ini yang secara umum menjelaskan perbedaan antara monolit dan, pada kenyataannya, layanan microser dengan baik. Pengembang Java yang tidak berpengalaman, setelah membaca artikel dari kategori "Apa itu layanan microser untuk aplikasi web dan apa yang mereka makan", penuh dengan kegembiraan dan keyakinan bahwa sekarang semuanya akan menjadi luar biasa. Setelah semua, tujuan utama adalah untuk "melihat" monolit mengerikan (artefak terakhir, yang, sebagai aturan, adalah file perang / telinga), yang melakukan banyak hal, pada sejumlah layanan yang hidup terpisah, masing-masing akan melakukan fungsi yang didefinisikan secara ketat yang hanya terkait dengannya, dan akan melakukannya dengan baik. Selain ini datang skalabilitas horisontal - hanya melakukan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penskalaan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">node yang sesuai, dan semuanya akan menjadi besar. </font><font style="vertical-align: inherit;">Semakin banyak pengguna telah tiba atau dibutuhkan lebih banyak kapasitas - baru ditambahkan 5-10 instance layanan baru. </font><font style="vertical-align: inherit;">Secara umum, ini adalah cara kerjanya, tetapi, seperti yang Anda ketahui, iblis ada dalam rinciannya, dan apa yang awalnya tampak cukup sederhana, setelah diperiksa lebih dekat, dapat berubah menjadi masalah yang tidak ada yang memperhitungkan awalnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam posting ini, rekan-rekan dari praktik Java Rexoft berbagi pengalaman mereka tentang cara men-debug layanan microser untuk web.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/si/ls/xd/silsxdh5v-rwgybittlu4bvbcz0.png"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana cara mencapai integritas data transaksional</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika mencoba mentransfer arsitektur dari monolit ke layanan mikro, tim yang tidak memiliki pengalaman seperti itu sebelumnya sering mulai membagi layanan menjadi objek tingkat atas dari model domain, misalnya: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengguna / Klien / Karyawan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dll. Di masa depan, dengan studi yang lebih rinci, pemahaman muncul. yang lebih nyaman untuk memecah blok yang lebih besar yang menggabungkan beberapa objek dari domain domain di dalamnya. Karena ini, Anda dapat menghindari panggilan yang tidak perlu ke layanan pihak ketiga.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poin penting kedua adalah dukungan untuk integritas data transaksional. Dalam monolit, masalah ini diselesaikan melalui Server Aplikasi, di mana perang / telinga berputar, di mana wadah, pada kenyataannya, menguraikan batas-batas transaksi. Dalam hal layanan microser, batas-batas transaksi kabur dan ada kebutuhan, selain menulis kode logika bisnis, untuk dapat mengelola integritas data dan menjaga konsistensi mereka di antara berbagai bagian sistem. Ini adalah tugas yang tidak sepele. Rekomendasi untuk menyelesaikan masalah arsitektur semacam ini dapat ditemukan di Internet dan di komunitas teknis yang relevan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam artikel ini, kami akan mencoba menggambarkan kesulitan teknis tertentu yang muncul ketika tim mencoba bekerja dengan layanan mikro, dan cara untuk menyelesaikannya. Saya segera mencatat bahwa opsi yang diusulkan bukan satu-satunya yang benar. Mungkin ada layanan yang lebih elegan, tetapi rekomendasi yang akan saya berikan diuji dalam praktik dan secara tepat menyelesaikan kesulitan yang ada, dan apakah menggunakannya atau tidak adalah masalah pribadi bagi semua orang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masalah utama dengan microservices adalah bahwa mereka sangat mudah untuk menjalankan secara lokal (misalnya, menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">spring.io</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">intellij ide</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ini dapat dilakukan hanya dalam 5 menit, atau bahkan kurang). Namun, ketika mencoba melakukan hal yang sama di </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cluster (jika Anda memiliki sedikit pengalaman dengan itu sebelumnya), peluncuran sederhana dari pengontrol yang mencetak </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Hello World"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ketika mengakses titik akhir tertentu mungkin memakan waktu setengah hari. </font><font style="vertical-align: inherit;">Dalam kasus monolit, situasinya lebih sederhana. </font><font style="vertical-align: inherit;">Setiap pengembang memiliki Server Aplikasi lokal. </font><font style="vertical-align: inherit;">Proses penyebaran juga cukup sederhana - Anda perlu menyalin artefak perang / telinga terakhir ke tempat yang tepat di </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server Aplikasi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> secara manual atau menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Biasanya ini bukan masalah.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nuansa Debugging</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poin penting kedua adalah </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debugging</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dalam situasi dengan monolit, diasumsikan bahwa pengembang memiliki Server Aplikasi pada mesinnya, yang digunakan untuk </font><b><font style="vertical-align: inherit;">perang /</font></b><font style="vertical-align: inherit;"> pendengarannya</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Anda selalu dapat men-debug, karena semua yang Anda butuhkan sudah dekat. Dengan microservices, semuanya sedikit lebih rumit, layanan biasanya merupakan hal itu sendiri. Sebagai aturan, ia memiliki skema basis datanya sendiri, di mana datanya berada, melakukan fungsi spesifik khusus untuknya, semua komunikasi dengan layanan lain diatur melalui panggilan HTTP sinkron (mis. Via RestTemplate atau Feign), tidak sinkron (mis. Kafka atau RabbitMQ). Oleh karena itu, pada dasarnya tugas sederhana untuk menyimpan atau memvalidasi objek tertentu yang sebelumnya dilaksanakan di satu tempat, di dalam satu file perang / telinga, dalam kasus umum dengan pendekatan layanan-mikro, menjadi dapat direpresentasikan dalam bentuk: pergi ke satu atau N layanan yang berdekatan, baik itu operasi akuisisi data , misalnya, beberapa nilai referensi, atau operasi penyelamatan entitas yang berdekatan,yang datanya diperlukan untuk melakukan logika bisnis dalam layanan kami. Menulis logika bisnis dalam hal ini menjadi jauh lebih sulit.</font></font><br>
<br>
<u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengan demikian, opsi solusinya adalah sebagai berikut</font></font></u><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tulis kode logika bisnis Anda. </font><font style="vertical-align: inherit;">Pada saat yang sama, semua panggilan eksternal </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diejek</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - kontrak eksternal ditiru, tes ditulis dengan asumsi bahwa kontrak eksternal sama seperti itu, setelah itu ada penyebaran ke sirkuit untuk verifikasi. </font><font style="vertical-align: inherit;">Terkadang beruntung, dan integrasi langsung bekerja, kadang tidak beruntung - Anda harus mengulang kode logika bisnis beberapa kali, karena selama waktu kami mengimplementasikan fungsionalitasnya, kode di layanan yang berdekatan diperbarui, tanda tangan API berubah dan kami perlu mengulanginya bagian dari tugas ada di sisinya.</font></font></li>
<li>     <b></b>.     ,  ,         <b>Kubernetes</b>, . .  ,       —     ,     <b>remote debug</b>  .      ,     <b>runtime</b> ,   ,    . -,      ,          2–5 , . .         ,  <b>Kubernetes</b> ,        . -,           (<b>Per thread</b>),    ,      .</li>
</ol><br>
<h2>     Kubernetes</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solusi untuk masalah ini, pada kenyataannya, adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telepresence</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Mungkin ada program lain dari jenis ini, tetapi pengalaman pribadi hanya bersamanya, dan dia memantapkan dirinya secara positif. </font><font style="vertical-align: inherit;">Secara umum, prinsip operasi adalah sebagai berikut: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada mesin lokal, pengembang </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menginstal telepresenc</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, mengkonfigurasi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kubectl</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk mengakses cluster Kubernet yang sesuai (menambahkan konfigurasi loop ke </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">~ / .kube / config</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Setelah itu, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">telepresence</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dimulai </font><font style="vertical-align: inherit;">, yang sebenarnya bertindak sebagai </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proksi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> antara komputer pengembang lokal dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ada beberapa opsi peluncuran, lebih baik untuk melihat lebih detail dalam panduan resmi, tetapi dalam kasus paling mendasar, ada dua langkah:</font></font><br>
<br>
<ol>
<li><b>Sudo telepresence</b> (,     Linux-  ,     sudo  .  ,        root/).          Kubernetes    deployment   <b>telepresence</b>  .  deployment          Kubernetes.</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memulai instance layanan Anda seperti biasa di komputer lokal pengembang. </font><font style="vertical-align: inherit;">Namun, dalam hal ini, ia akan memiliki akses ke seluruh infrastruktur kluster Kubernetes, baik itu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Discovery (Eureka, Consul), Api Gateway (Zuul), Kafka</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan antriannya, jika ada, dan sebagainya. </font><font style="vertical-align: inherit;">Faktanya, kita memiliki akses ke semua lingkungan cluster yang kita butuhkan, tetapi secara lokal. </font><font style="vertical-align: inherit;">Bonusnya adalah kemungkinan debugging lokal, tetapi dalam lingkungan cluster, dan itu sudah akan jauh lebih cepat, karena kita, pada kenyataannya, berada di dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (melalui terowongan), dan tidak mengaksesnya dari luar melalui port untuk debug jarak jauh.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solusi ini memiliki beberapa kelemahan:</font></font><br>
<br>
<ol>
<li><b>Telepresence</b>    Linux  Mac,   Windows     VFS,  ,  issue  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">GitHub</a>.          .   ,    - Linux/Mac,      .</li>
<li>      ,      <b>Service Discovery (Eureka, Consul) </b>      —                 <b>Round Robin</b>  ,         endpoint  ,  ,   ,    : </li>
</ol><br>
<ul>
<li>       kubernetes -&gt;   .   <b>telepresence</b>      deployment  ,      «»     Eureka   <b>ip-address:port/service-name</b>  <b>dns-name:port/service-name</b>    ,  . .   Kubernetes        ,      timeout;</li>
<li>      deployment     -  Kubernetes    , <b> </b>      (   )           (Round Robin),    ;</li>
<li>  endpoint,      <b>feature</b>,     HTTP 404    endpoint  <b>Gateway</b>,          <b>Service Discovery</b>     ,    <b>Round Robin</b> .         Service Discovery  endpoint  ,    HTTP 404.</li>
<li> ,    ,        <b> </b> .</li>
</ul><br>
<h2> </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan perutean dinamis permintaan, kami bermaksud bahwa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Gateway (Zuul)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memiliki kemampuan untuk memilih di antara beberapa contoh layanan yang sama yang kami butuhkan. Dalam kasus umum, masalah ini dapat diselesaikan dengan menambahkan predikat yang memungkinkan Anda untuk memilih layanan yang diinginkan dari kumpulan layanan umum dengan nama yang sama pada tahap pemrosesan permintaan. Tentu saja, setiap layanan di antara mereka yang ingin kami dapat rute secara dinamis, harus memiliki beberapa jenis meta-informasi yang berisi data yang akan digunakan untuk menentukan apakah layanan ini diperlukan atau tidak. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Cloud</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (dalam kasus Eureka), misalnya, memungkinkan Anda melakukan ini dengan menentukan di blok metadata khusus di </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.yml</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="plaintext hljs">eureka:<font></font>
  instance:<font></font>
    preferIpAddress: true<font></font>
    metadata-map:<font></font>
      service.label: develop</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah mendaftarkan layanan tersebut di Service Discovery di </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com.netflix.appinfo.InstanceInfo # getMetadata</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> akan ada label dengan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">service.label</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utama </font><font style="vertical-align: inherit;">dan nilai yang </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dikembangkan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang dapat diperoleh dalam runtime. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Poin penting pada tahap memulai layanan adalah memeriksa</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> apakah instance layanan ada di Service Discovery dengan meta-informasi seperti itu atau tidak untuk menghindari kemungkinan tabrakan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opsi Perutean</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, solusi masalah dapat dikurangi menjadi dua opsi:</font></font><br>
<br>
<ol>
<li>API Gateway        .         , ,          , ,  Headers: <b>DestionationService: feature/PRJ-001</b>.     ,       ,           Header        .       ,         — - API Gateway.</li>
<li>  API Gateway,        , . ., ,    ,     <b>Zuul 1</b>    endpoint-  <b>/api/users/</b>…       user,      <b>feature/PRJ-001</b>,    <b>Zuul 2</b>    endpoint- <b> /api/users/</b>…       user,      <b>feature/PRJ-002</b>.       ,         N API Gateway  N , . .        , . .   feature — ,  ,  ,             ,    ,     ,        .          <b>API Gateway</b>, , . .,  ,   ,     —   ,     .</li>
</ol><br>
<img src="https://habrastorage.org/webt/si/ls/xd/silsxdh5v-rwgybittlu4bvbcz0.png"><br>
<br>
<i>   </i><br>
<br>
<h2>       </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai bagian dari API Gateway, juga bermanfaat untuk menyediakan mekanisme yang memungkinkan Anda untuk dapat mengubah aturan perutean pada saat runtime. Yang terbaik adalah menempatkan pengaturan ini di </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">config-map</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Dalam hal ini, itu akan cukup untuk menulis ulang rute baru dan me-restart Gateway API di Kubernetes untuk memperbarui routing, atau menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spring Boot Actuator</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (asalkan ada ketergantungan yang sesuai di Gateway API) - panggilan endpoint / refresh, yang pada dasarnya membaca ulang data dari config-map dan akan memperbarui rute. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Poin penting adalah bahwa harus ada, secara relatif, contoh turunan dari layanan (misalnya, berlabel </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengembangan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang akan dikumpulkan dari cabang utama pengembangan layanan) dan API Gateway utama yang terpisah, yang akan selalu ditentukan dalam pengaturan yang akan mengakses layanan ini. Intinya, kami menyediakan </font><font style="vertical-align: inherit;">lingkungan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pementasan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> independen </font><font style="vertical-align: inherit;">yang akan selalu operasional dalam konteks rute dinamis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh blok </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">konfigurasi peta</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> untuk Gateway API yang berisi pengaturan untuk perutean (di sini ini hanya contoh bagaimana tampilannya, untuk operasi yang tepat memerlukan ikatan yang sesuai dalam bentuk kode di sisi belakang layanan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Gateway)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="plaintext hljs">{<font></font>
  "kind": "ConfigMap",<font></font>
  "apiVersion": "v1",<font></font>
  "metadata": {<font></font>
    ...<font></font>
  },  <font></font>
"data": {<font></font>
    ...        <font></font>
    "rules.meta.user": "develop",<font></font>
    "rules.meta.client": "develop",<font></font>
    "rules.meta.notification": "feature/PRJ-010",<font></font>
    ...    <font></font>
  }<font></font>
}</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rules.meta</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah peta yang berisi aturan perutean untuk layanan. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengguna / klien / pemberitahuan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - nama layanan yang terdaftar di Eureka. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengembangkan / fitur / PRJ-010</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - label layanan dari </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">application.yml dari</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> layanan yang sesuai, berdasarkan mana layanan yang diinginkan akan dipilih di antara semua layanan yang tersedia dengan nama yang sama dari </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Discovery</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , jika ada lebih dari satu contoh layanan tersebut.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti segala sesuatu di dunia ini, alat dan solusi di bidang TI tidak sempurna. </font><font style="vertical-align: inherit;">Jangan berpikir bahwa jika Anda mengubah arsitektur, semua masalah akan berakhir sekaligus. </font><font style="vertical-align: inherit;">Hanya perendaman terperinci dalam teknologi yang digunakan dan pengalaman Anda sendiri akan memberi Anda gambaran nyata tentang apa yang terjadi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya harap materi ini membantu Anda memecahkan masalah Anda. </font><font style="vertical-align: inherit;">Tugas menarik dan jual tanpa bug!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id489898/index.html">Artikel lain tentang wc</a></li>
<li><a href="../id489900/index.html">PostgreSQL Antipatterns: mengubah data melewati pemicu</a></li>
<li><a href="../id489902/index.html">Cara mengukur efektivitas portofolio investasi: 3 pendekatan praktis</a></li>
<li><a href="../id489904/index.html">Mengapa dan bagaimana kami menguji pembaruan</a></li>
<li><a href="../id489906/index.html">Ruang pas virtual di OpenCV</a></li>
<li><a href="../id489914/index.html">Pengelompokan dalam Proxmox VE</a></li>
<li><a href="../id489916/index.html">Protobuf atau protokol komunikasi front-end JSON terstruktur?</a></li>
<li><a href="../id489918/index.html">Bagaimana kami menerapkan proyek kartu bahan bakar virtual</a></li>
<li><a href="../id489920/index.html">Situs, buka IPv6, dua</a></li>
<li><a href="../id489924/index.html">Di mana Elasticsearch memulai</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>