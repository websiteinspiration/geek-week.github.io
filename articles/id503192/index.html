<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛌 😆 🚣🏽 OVirt dalam 2 jam. Bagian 4. Operasi dasar 🚊 ✈️ 🧑🏿‍🤝‍🧑🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hari ini kita melihat sejumlah operasi dasar yang perlu dilakukan oleh administrator lingkungan virtualisasi. Artikel ini merupakan kelanjutan dari se...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>OVirt dalam 2 jam. Bagian 4. Operasi dasar</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503192/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hari ini kita melihat sejumlah operasi dasar yang perlu dilakukan oleh administrator lingkungan virtualisasi. </font><font style="vertical-align: inherit;">Artikel ini merupakan kelanjutan dari seri oVirt: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian 2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian 3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kandungan</font></font></h2><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuat VM dan templat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migrasi VM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (migrasi langsung);</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migrasi Penyimpanan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (migrasi penyimpanan);</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ganti nama VM dan disk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbarui oVirt-Host</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (hypervisor);</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbarui oVirt-Engine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (manajer);</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impor VM</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manajemen tugas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Artikel</font></font></h2><br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pengantar</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalasi manajer (mesin ovirt) dan hypervisor (host) </font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengaturan tambahan</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operasi Dasar - We Are Here</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara tradisional, untuk perincian tentang tugas-tugas administrasi, selamat datang di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat memasuki oVirt Anda akan melihat 2 portal:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portal administrasi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Portal VM</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang pertama ditujukan untuk tugas administrator dan administrasi, yang kedua - untuk pelanggan mesin, tetapi juga dapat digunakan oleh administrator - beberapa fungsi bahkan lebih nyaman di sana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bagian atas jendela dari setiap koleksi objek oVirt ada kotak pencarian yang kuat, dengan petunjuk kontekstual. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai contoh, memilih host masalah di panel kontrol sebenarnya menyebabkan filter:</font></font><br>
<br>
<pre><code class="plaintext hljs">status = unassigned or status = maintenance or status = installing or status = reboot or status = preparingformaintenance or status = pendingapproval or status = connecting or status = installingos or status = kdumping</code></pre><br>
<a name="vm-pool"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat VM dan templat</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya pikir Anda telah membuat VM sederhana di Bagian 2, sekarang kita akan mengenal entitas oVirt lain yang berhubungan langsung dengan mesin virtual - mesin virtual itu sendiri, templat dan kumpulan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Templat</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah salinan mesin (biasanya disiapkan sebelumnya) yang dirancang untuk membuat mesin yang identik (kloning). Templat mungkin memiliki versi, karena itu nyaman, karena tidak perlu membuat templat terpisah baru setelah setiap pembaruan mesin referensi. Lebih detail dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kumpulan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adalah sekelompok mesin identik yang dihasilkan dari satu templat. Nyaman untuk VDI (infrastruktur desktop virtual), ketika puluhan atau ratusan pengguna perlu menyediakan lingkungan kerja yang identik dan ini dilakukan secara harfiah dalam sekejap mata. Baca lebih lanjut tentang kumpulan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita membuat templat yang kita dapat mengkloning mesin yang dibuat sebelumnya, tetapi untuk demonstrasi kita akan pergi ke arah lain - impor templat dari koleksi eksternal Sekilas Gambar: Penyimpanan -&gt; Domain -&gt; repositori-ovirt-image-repositori (1), Impor (2): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fx/gg/lt/fxggltgss5p9llxyplgghxmpbsg.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gbr. 1 - Impor gambar Fedora 32.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kami menandai "Impor sebagai Templat" (3, Impor sebagai Templat), beri nama templat (4). Sangat disarankan agar disk diberi nama yang ramah (5, Disk Alias). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemajuan tugas dimonitor dengan mudah di bagian </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tugas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cj/p6/co/cjp6cor50gw2euzkgnf_vl-lc24.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. 2 - Kemajuan dalam menyelesaikan tugas di oVirt.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Setelah berhasil mengunggah, templat ditambahkan ke daftar. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cg/_n/o3/cg_no3kzfukaodkzouox0q2bt3q.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. 3 - Templat.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Berdasarkan templat yang dimuat, buat kumpulan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fn/qk/aj/fnqkajhsx4hrbzr_wc8jozs9zua.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gbr. 4 - Membuat kolam.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pergi ke Compute -&gt; Pools (1), Baru (2), pilih template Fedora32 (3), versi - terbaru (4), tentukan nama "myPoolA- ??" (5) Kami belum menyentuh bidang Jumlah VM dan VM Prestarted, kami akan kembali ke mereka di langkah berikutnya. Selanjutnya, aktifkan pengaturan lanjutan (6) dan lanjutkan ke pengaturan Menjalankan Awal. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/m5/dj/zxm5djt-ud05hne1hyahor2nluo.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. 4 - Konfigurasikan startup awal.</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena dari Glance Images kami mengunduh Cloud Image, kita perlu mengonfigurasi otentikasi. Periksa bahwa “Gunakan Cloud-Init / Sysprep” (1) diaktifkan, buka Otentikasi (2), tentukan nama pengguna, misalnya, root atau pengguna (3). Untuk membuat kata sandi unik untuk kumpulan ini, nonaktifkan "Gunakan Kata Sandi yang Sudah Dikonfigurasi" (4) dan masukkan kata sandi Anda (5). Klik "OK" - kolam dibuat, mesin identik muncul di Hitung -&gt; Mesin Virtual (perhatikan ikon mereka, itu berbeda dari mesin yang bekerja secara terpisah). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhatikan nama kolam. Seperti yang Anda perhatikan, pada akhirnya adalah "- ??". Ini termasuk penomoran mesin "dinormalisasi" (ditambah dengan nol - 01, 02, ..., 09, 10, dll.) Jika tidak, penomoran akan menjadi bilangan alami tanpa penyejajaran (1, 2, ..., 9, 10, ...)</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebelum melanjutkan, mari kembali ke pengaturan kolam. </font><font style="vertical-align: inherit;">Perhatikan bahwa bidang "Jumlah VM" telah berubah menjadi "Tambah jumlah VM di kumpulan oleh." </font><font style="vertical-align: inherit;">Kami menentukan 31 di sini dan jumlah mesin di kolam hampir secara instan menjadi 32. Sekarang di bidang "VM Prestarted" kita masukkan 16 - ini akan memaksa oVirt untuk menjaga jumlah mesin yang ditentukan dimulai dan siap untuk menghubungkan pengguna. </font><font style="vertical-align: inherit;">Di sinilah kami akan menyelesaikan tentang mesin, templat, dan kumpulan dan beralih ke migrasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ikon VM Utama:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unit rak - server;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">monitor - desktop;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 menara - server dari kolam;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3 monitor - desktop dari kolam;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rewind (rewind) - stateless (mesin me-reset statusnya ke kondisi semula setelah shutdown; semua perubahan dibatalkan);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segitiga di monitor oranye - perubahan konfigurasi yang diminta memerlukan reboot.</font></font></li>
</ul><br>
<a name="live-migration"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migrasi VM (migrasi langsung)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Migrasi keadaan mesin yang diaktifkan sederhana - klik kanan pada mesin atau sekelompok mesin. </font><font style="vertical-align: inherit;">Prosedurnya mirip dengan vMotion di vSphere. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/ne/dz/zmnedzcid6vyhsgubvv95u6cnsy.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. </font><font style="vertical-align: inherit;">5 - Mulai migrasi. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hitung -&gt; Mesin Virtual, pilih satu atau beberapa mesin, Migrasikan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8v/bp/9h/8vbp9hslgmoa_n_v3ltlmuxfknw.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. </font><font style="vertical-align: inherit;">6 - Proses migrasi dapat diamati di host (Compute -&gt; Hosts). </font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada suatu waktu, tidak lebih dari 2 mobil bergerak.</font></font><br>
<a name="storage-migration"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Migrasi penyimpanan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi prosedur ini mungkin tampak tidak biasa bagi pengguna VMware vSphere, karena </font><font style="vertical-align: inherit;">pendekatan untuk menyimpan gambar disk dan konfigurasi mesin dalam sistem berbeda. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mentransfer penyimpanan VM, buka disk (Penyimpanan -&gt; Disk) atau domain (Penyimpanan -&gt; Domain -&gt; </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">{Nama Domain}</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -&gt; Disk). </font><font style="vertical-align: inherit;">Pilih drive dan tekan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pindahkan</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Itu saja, drive dikirim ke penyimpanan lain. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catatan: karena organisasi internal, ada batasan untuk memigrasi penyimpanan template dan kumpulan. </font><font style="vertical-align: inherit;">Keakraban dengan migrasi penyimpanan paling baik dilakukan pada mesin terpisah, di luar kolam. </font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penyalinan disk dilakukan dalam menu yang sama dengan pemuatan / pembongkaran manual.</font></font><br>
<a name="rename"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ganti nama VM dan disk</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengubah nama mesin atau templat sangat sederhana - Edit dan masukkan nama baru. </font><font style="vertical-align: inherit;">Mengganti nama pool memerlukan penghapusan mesin dan membuatnya kembali, karena </font><font style="vertical-align: inherit;">berdasarkan itu VM dihasilkan dengan nama dan konfigurasi yang sesuai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengganti nama disk juga dimungkinkan, tetapi jalurnya lebih panjang dari </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
e: Compute -&gt; Virtual Machine -&gt; {VM Name} -&gt; Disk -&gt; {VM Disk Alias} -&gt; Edit, Alias. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengidentifikasi objek internal dibangun di atas UUID. </font><font style="vertical-align: inherit;">Saat mengganti nama, kami benar-benar mengubah alias. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagian ini berkaitan dengan pembaruan, yang merupakan pembaruan (kecil), bukan pemutakhiran (utama), ketika nomor versi berubah (ini adalah prosedur yang lebih rumit dan bukan bagian dari tugas harian).</font></font><br>
<a name="update-host"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbarui oVirt-Host (hypervisor)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pembaruan host lebih sederhana daripada di vSphere, manajer pembaruan di oVirt terintegrasi secara organik ke dalam platform dan tidak memerlukan pengaturan apa pun. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pembaruan </font><font style="vertical-align: inherit;">resmi </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fj/we/j1/fjwej1ph06a03bqpfx2ye6ijeny.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. 7 - Jika ada pembaruan, manajer akan melaporkannya dengan ikon CD. </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ww/vw/rn/wwvwrnz9q9hizaqo3mfndfihp_m.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. 8 - Sebelum memulai pembaruan, Anda harus mengaktifkan mode pemeliharaan (Manajemen -&gt; Pemeliharaan), itu akan secara otomatis memulai migrasi VM ke host lain (lihat Gambar 6) dan bersiap untuk pembaruan. </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ol/ry/fw/olryfwdduor2j39tr47n8zlnpew.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. 9 - Ikon kunci inggris menunjukkan bahwa tuan rumah siap untuk layanan. </font></font><br>
</i><br>
<img src="https://habrastorage.org/webt/ov/rt/ta/ovrttawkmmi6fkfp-wic5_mpy00.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. 10 - Instalasi -&gt; Peningkatan memulai prosedur peningkatan. </font></font><br>
</i><br>
<img src="https://habrastorage.org/webt/8z/ch/7s/8zch7sdgo_plq5suw8yevk8nzz8.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. 11 - Kami dapat meminta manajer untuk memberi perintah kepada host untuk memulai kembali setelah pembaruan selesai, agar berlaku.</font></font><br>
</i><br>
<img src="https://habrastorage.org/webt/ze/dg/kb/zedgkbmmuxxm7kvy6qoxhh-bvza.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. </font><font style="vertical-align: inherit;">12 - Setelah reboot, kami mengeluarkan hypervisor dari mode layanan (Manajemen -&gt; Aktifkan). </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melewati semua host dan memperbaruinya.</font></font><br>
<a name="update-engine"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perbarui oVirt-Engine (manajer)</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awalnya, ini bisa membingungkan, tetapi pembaruan manajer dilakukan menggunakan pengaturan mesin, dengan langkah-langkah tambahan, seperti dijelaskan dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika memungkinkan, buat arsip atau snapshot mesin, pastikan cadangan terjadwal terakhir berhasil.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami memeriksa dan memperbarui paket instalasi:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo engine-upgrade-check<font></font>
$ sudo update ovirt\*setup\*</code></pre></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagian utama dari pembaruan dilakukan oleh program pengaturan mesin. </font><font style="vertical-align: inherit;">Dia akan mengajukan sejumlah pertanyaan konfigurasi, kemudian menghentikan layanan ovirt-engine, mengunduh dan menginstal paket yang diperbarui, membuat arsip dan memperbarui database, menerapkan konfigurasi yang diperbarui, dan memulai layanan ovirt-engine.</font></font><br>
 <br>
<pre><code class="bash hljs">$ sudo engine-setup</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Setelah pembaruan berhasil, kami akan menerima pesan:</font></font><br>
 <br>
<pre><code class="plaintext hljs">Execution of setup completed successfully</code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh output dari skrip pengaturan mesin</font></font></b>
                        <div class="spoiler_text"><pre><code class="bash hljs">$ sudo engine-setup</code></pre><br>
<pre><code class="plaintext hljs">[ INFO  ] Stage: Initializing<font></font>
[ INFO  ] Stage: Environment setup<font></font>
          Configuration files: ['/etc/ovirt-engine-setup.conf.d/10-packaging-jboss.conf', '/etc/ovirt-engine-setup.conf.d/10-packaging.conf', '/etc/ovirt-engine-setup.conf.d/20-setup-ovirt-post.conf']<font></font>
          Log file: /var/log/ovirt-engine/setup/ovirt-engine-setup-20200522232449-o97vyx.log<font></font>
          Version: otopi-1.8.2 (otopi-1.8.2-1.el7)<font></font>
[ INFO  ] Stage: Environment packages setup<font></font>
[ INFO  ] Stage: Programs detection<font></font>
[ INFO  ] Stage: Environment setup (late)<font></font>
[ INFO  ] Stage: Environment customization<font></font>
         <font></font>
          --== PRODUCT OPTIONS ==--<font></font>
         <font></font>
         <font></font>
          --== PACKAGES ==--<font></font>
         <font></font>
[ INFO  ] Checking for product updates...<font></font>
          Setup needs to install or update the following packages:<font></font>
          [updated] ovirt-engine-4.3.5.5-1.el7.noarch will be updated<font></font>
...<font></font>
          [update] ovirt-engine-wildfly-overlay-17.0.1-1.el7.noarch is an update<font></font>
          Replying "No" will abort Setup. You can pass the option "--offline" to prevent installing or updating packages.<font></font>
          Do you wish to update them now? (Yes, No) [Yes]: <font></font>
[ INFO  ] Checking for an update for Setup...<font></font>
         <font></font>
          --== NETWORK CONFIGURATION ==--<font></font>
         <font></font>
          Setup can automatically configure the firewall on this system.<font></font>
          Note: automatic configuration of the firewall may overwrite current settings.<font></font>
          NOTICE: iptables is deprecated and will be removed in future releases<font></font>
          Do you want Setup to configure the firewall? (Yes, No) [Yes]: <font></font>
[ INFO  ] firewalld will be configured as firewall manager.<font></font>
         <font></font>
          --== DATABASE CONFIGURATION ==--<font></font>
         <font></font>
          The detected DWH database size is 439 MB.<font></font>
          Setup can backup the existing database. The time and space required for the database backup depend on its size. This process takes time, and in some cases (for instance, when the size is few GBs) may take several hours to complete.<font></font>
          If you choose to not back up the database, and Setup later fails for some reason, it will not be able to restore the database and all DWH data will be lost.<font></font>
          Would you like to backup the existing database before upgrading it? (Yes, No) [Yes]: <font></font>
          Perform full vacuum on the oVirt engine history<font></font>
          database ovirt_engine_history@localhost?<font></font>
          This operation may take a while depending on this setup health and the<font></font>
          configuration of the db vacuum process.<font></font>
          See https://www.postgresql.org/docs/10/sql-vacuum.html<font></font>
          (Yes, No) [No]: <font></font>
         <font></font>
          --== OVIRT ENGINE CONFIGURATION ==--<font></font>
         <font></font>
          Perform full vacuum on the engine database engine@localhost?<font></font>
          This operation may take a while depending on this setup health and the<font></font>
          configuration of the db vacuum process.<font></font>
          See https://www.postgresql.org/docs/10/sql-vacuum.html<font></font>
          (Yes, No) [No]: <font></font>
         <font></font>
          --== STORAGE CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== PKI CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== APACHE CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== SYSTEM CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== MISC CONFIGURATION ==--<font></font>
         <font></font>
         <font></font>
          --== END OF CONFIGURATION ==--<font></font>
         <font></font>
[ INFO  ] Stage: Setup validation<font></font>
          During execution engine service will be stopped (OK, Cancel) [OK]: <font></font>
[ INFO  ] Cleaning stale zombie tasks and commands<font></font>
         <font></font>
          --== CONFIGURATION PREVIEW ==--<font></font>
         <font></font>
          Default SAN wipe after delete           : False<font></font>
          Firewall manager                        : firewalld<font></font>
          Update Firewall                         : True<font></font>
          Host FQDN                               : ovirt.example.com<font></font>
          Upgrade packages                        : True<font></font>
          Set up Cinderlib integration            : False<font></font>
          Engine database secured connection      : False<font></font>
          Engine database user name               : engine<font></font>
          Engine database name                    : engine<font></font>
          Engine database host                    : localhost<font></font>
          Engine database port                    : 5432<font></font>
          Engine database host name validation    : False<font></font>
          Engine installation                     : True<font></font>
          PKI organization                        : JSC Open Lab<font></font>
          Set up ovirt-provider-ovn               : False<font></font>
          Configure WebSocket Proxy               : True<font></font>
          DWH installation                        : True<font></font>
          DWH database secured connection         : False<font></font>
          DWH database host                       : localhost<font></font>
          DWH database user name                  : ovirt_engine_history<font></font>
          DWH database name                       : ovirt_engine_history<font></font>
          Backup DWH database                     : True<font></font>
          DWH database port                       : 5432<font></font>
          DWH database host name validation       : False<font></font>
          Configure Image I/O Proxy               : True<font></font>
          Configure VMConsole Proxy               : True<font></font>
         <font></font>
          Please confirm installation settings (OK, Cancel) [OK]: <font></font>
[ INFO  ] Cleaning async tasks and compensations<font></font>
[ INFO  ] Unlocking existing entities<font></font>
[ INFO  ] Checking the Engine database consistency<font></font>
[ INFO  ] Stage: Transaction setup<font></font>
[ INFO  ] Stopping engine service<font></font>
[ INFO  ] Stopping ovirt-fence-kdump-listener service<font></font>
[ INFO  ] Stopping dwh service<font></font>
[ INFO  ] Stopping Image I/O Proxy service<font></font>
[ INFO  ] Stopping vmconsole-proxy service<font></font>
[ INFO  ] Stopping websocket-proxy service<font></font>
[ INFO  ] Stage: Misc configuration (early)<font></font>
[ INFO  ] Stage: Package installation<font></font>
[ INFO  ] Yum Status: Downloading Packages<font></font>
...<font></font>
[ INFO  ] Stage: Misc configuration<font></font>
[ INFO  ] Upgrading CA<font></font>
[ INFO  ] Not rewriting /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf because it was changed manually. You might want to compare it with /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf.new and edit as needed.<font></font>
[ INFO  ] Backing up database localhost:ovirt_engine_history to '/var/lib/ovirt-engine-dwh/backups/dwh-20200522233531.6LDItj.dump'.<font></font>
[ INFO  ] Creating/refreshing DWH database schema<font></font>
[ INFO  ] Configuring Image I/O Proxy<font></font>
[ INFO  ] Configuring WebSocket Proxy<font></font>
[ INFO  ] Backing up database localhost:engine to '/var/lib/ovirt-engine/backups/engine-20200522233538.LZCwME.dump'.<font></font>
[ INFO  ] Creating/refreshing Engine database schema<font></font>
[ INFO  ] Creating/refreshing Engine 'internal' domain database schema<font></font>
          Unregistering existing client registration info.<font></font>
[ INFO  ] Generating post install configuration file '/etc/ovirt-engine-setup.conf.d/20-setup-ovirt-post.conf'<font></font>
[ INFO  ] Stage: Transaction commit<font></font>
[ INFO  ] Stage: Closing up<font></font>
[ INFO  ] Starting engine service<font></font>
[ INFO  ] Starting dwh service<font></font>
[ INFO  ] Restarting ovirt-vmconsole proxy service<font></font>
         <font></font>
          --== SUMMARY ==--<font></font>
         <font></font>
[ INFO  ] Restarting httpd<font></font>
          Web access is enabled at:<font></font>
              http://ovirt.example.com:80/ovirt-engine<font></font>
              https://ovirt.example.com:443/ovirt-engine<font></font>
          SSH fingerprint: SHA256:JvilhbwRuMjBCJEjQVPlFQgk0aLaKz7Od0WzsZtx4j4<font></font>
          Did not update /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf because it was changed manually. You might want to compare it with /etc/ovirt-imageio-proxy/ovirt-imageio-proxy.conf.new and edit as needed.<font></font>
         <font></font>
          --== END OF SUMMARY ==--<font></font>
         <font></font>
[ INFO  ] Stage: Clean up<font></font>
          Log file is located at /var/log/ovirt-engine/setup/ovirt-engine-setup-20200522232449-o97vyx.log<font></font>
[ INFO  ] Generating answer file '/var/lib/ovirt-engine/setup/answers/20200522233608-setup.conf'<font></font>
[ INFO  ] Stage: Pre-termination<font></font>
[ INFO  ] Stage: Termination<font></font>
[ INFO  ] Execution of setup completed successfully</code></pre></div>
                    </div><br>
</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami memperbarui OS dan paket tambahan lainnya:</font></font><br>
 <pre><code class="bash hljs">$ sudo yum update</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jika perlu (memperbarui kernel atau komponennya) kami me-reboot mesin.</font></font></li>
</ol><br>
<a name="import-vm"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impor VM</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mengimpor dari VMware, Ekspor Domain (entitas khusus untuk bertukar gambar antara Pusat Data), Peralatan Virtual (OVA), XEN, KVM. </font><font style="vertical-align: inherit;">Semua opsi yang didukung secara resmi:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impor VM dari VMware ESXi / VSPHERE berjalan di host + otentikasi ke host di mana ESXi / VSPHERE berjalan di</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impor KVM / Xen VM dari Libvirt: Pengguna menentukan URL + otentikasi ke host tempat Libvirt berjalan</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impor KVM / Xen VM dari jalur yang diberikan: Pengguna menentukan jalur nfs / posix ke konfigurasi VM &amp; disk</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impor VM yang diekspor dari VMware: Pengguna menentukan jalur nfs / posix ke file ova</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unggah KVM / Xen VM: Pengguna menentukan file konfigurasi dan disk</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unggah VM yang diekspor dari VMware: Pengguna menentukan file ova</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impor VM dari folder: Pengguna menentukan jalur ke folder yang berisi KVM / Xen VM atau VM yang diekspor dari VMware</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita bahas 2 opsi - impor dari vSphere dan mesin yang berdiri sendiri dengan KVM. </font><font style="vertical-align: inherit;">Untuk memulai materi impor dalam Hitung -&gt; Mesin Virtual, klik tombol untuk item menu tambahan (3 titik vertikal, lihat Gambar 13). </font><font style="vertical-align: inherit;">Mesin sumber harus dimatikan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Impor mesin dari vCenter</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam panduan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sumber Data: VMware;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyedia Eksternal: dalam Administrasi -&gt; Penyedia Anda dapat mengkonfigurasi template untuk operasi yang sering;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vCenter: nama atau alamat server vCenter;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ESXi: dari mana hypervisor akan kita ambil mobilnya;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data Ceter: path lengkap ke cluster;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cluster: mengandung cluster hypervisor;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nama pengguna / kata sandi: nama pengguna dan kata sandi untuk menghubungkan ke vCenter;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verifikasi sertifikat SSL server: ketika menggunakan sertifikat yang ditandatangani sendiri, Anda harus menonaktifkan verifikasi mereka.</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/g9/0i/4b/g90i4btxfdhaz_ji-bntbutlaei.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ara. </font><font style="vertical-align: inherit;">13 - Impor VM dari VMware vSphere.</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesin impor dari KVM</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Detail tentang mengimpor dari KVM dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, Anda harus mengaktifkan koneksi ke KVM dari luar, jika ini belum dikonfigurasi sebelumnya.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Izin untuk mengekspor mesin ke KVM</font></font></b>
                        <div class="spoiler_text">        ,      .       ! ,      ,        ,       .     , .,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">ArchLinux</a>.<br>
<br>
 ,   libvirtd<br>
<br>
<pre><code class="bash hljs">$ sudo vim /etc/sysconfig/libvirtd</code></pre><br>
 <br>
<br>
<pre><code class="plaintext hljs">LIBVIRTD_ARGS="--listen"</code></pre><br>
      <br>
<br>
<pre><code class="bash hljs">$ sudo cp /etc/libvirt/libvirtd.conf /etc/libvirt/libvirtd.conf.`date +%F`<font></font>
$ sudo vim /etc/libvirt/libvirtd.conf</code></pre><br>
  :<br>
<br>
<pre><code class="plaintext hljs">listen_tls = 0<font></font>
listen_tcp = 1<font></font>
listen_addr = "0.0.0.0"<font></font>
auth_tcp = "none"</code></pre><br>
     <br>
<br>
<pre><code class="plaintext hljs">log_outputs="3:syslog:libvirtd"</code></pre><br>
    libvirtd.    ,    libvirtd &gt; 0.6 (  libvirtd --version),   .<br>
<br>
<pre><code class="bash hljs">$ sudo service libvirtd restart</code></pre><br>
     tcp:16509.<br>
<br>
 CentOS 7     (  permanent):<br>
<br>
<pre><code class="bash hljs">$ sudo firewall-cmd --add-rich-rule=<span class="hljs-string">'rule family="ipv4" source address="172.17.71.32/30" port port="16509" protocol="tcp" accept'</span></code></pre><br>
 :<br>
<br>
<pre><code class="bash hljs">$ virsh -r -c <span class="hljs-string">'qemu+tcp://mgmt@kvm46.example.com/system'</span> list --all</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, impor itu sendiri sangat sederhana: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hitung -&gt; Mesin Virtual -&gt;: (menu tambahan, 3 titik vertikal) -&gt; Impor -&gt; Sumber (KVM via libvirt) -&gt; URI (qemu + tcp: //kvm46.example.com / sistem) -&gt; Memerlukan Otentikasi (Nonaktifkan) -&gt; Muat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menandai mesin yang diperlukan, pilih kebijakan alokasi (Kebijakan Alokasi). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kebijakan Alokasi - Preallocated lebih disukai untuk volume penyimpanan dengan deteksi nol perangkat keras, untuk volume dengan I / O tinggi, volume dengan hunian tinggi, dll., Jika tidak disediakan secara tipis. Bagaimanapun, kami melihat situasi dan menganalisisnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
"Klon" yang dicentang telah dicentang, tetapi tidak menyalin mobil. Misalnya, alamat MAC baru untuk antarmuka jaringan akan ditetapkan.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada tab Umum, penting untuk menentukan jenis OS yang benar, dan pada tab Antarmuka Jaringan, Anda dapat menentukan jaringan yang diinginkan. </font><font style="vertical-align: inherit;">Selanjutnya, "impor", dan, tergantung pada kecepatan peralatan, kami mendapatkan mesin yang diimpor. </font><font style="vertical-align: inherit;">Setelah mengimpor (atau sebelumnya) jangan lupa untuk menginstal ovirt-guest-agent.</font></font><br>
<br>
<a name="task-mgmt"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manajemen tugas</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika tugas membeku, "tarian" yang sulit dimulai, beberapa di antaranya akan saya coba sentuh. </font><font style="vertical-align: inherit;">Dengan perilaku teratur, seseorang dapat mengamati mereka pada Gambar. </font><font style="vertical-align: inherit;">2. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika tugas dilakukan lebih atau kurang secara normal, alat biasa sudah cukup. </font><font style="vertical-align: inherit;">Dengan pimers dan gambar Anda dapat melihat di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tugas dilakukan pada host oVirt.</font></font><br>
<br>
<pre><code class="plaintext hljs">[mgmt@ovirt-nodeNN] $ sudo vdsm-client Host getAllTasksInfo<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Task getStatus taskID=&lt;TASKID&gt;<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Task stop taskID=&lt;TaskID&gt;<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Task clear taskID=&lt;TaskID&gt;<font></font>
[mgmt@ovirt-nodeNN] $ sudo vdsm-client Host getAllTasksInfo</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, vdsm-client dapat mencoba untuk memutar kembali tugas, semua metode yang didukung:</font></font><br>
<br>
<pre><code class="bash hljs">$ sudo vdsm-client Task -h</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Metode </font><font style="vertical-align: inherit;">
 tugas </font><font style="vertical-align: inherit;">: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 metode [arg = nilai] </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">getStatus Dapatkan informasi status Tugas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 kembalikan Rollback a Task untuk mengembalikan status sistem sebelumnya. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 hapus Buang informasi tentang Tugas yang sudah selesai. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 getInfo Dapatkan informasi tentang Tugas. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 stop Menghentikan Tugas yang sedang berjalan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, gerakan menjadi lebih rumit jika tugas tidak dapat dihentikan menggunakan metode standar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara resmi, alat pemberi tugas digunakan untuk ini:</font></font><br>
<br>
<pre><code class="bash hljs">[mgmt@ovirt-engine] $ sudo /usr/share/ovirt-engine/setup/dbutils/taskcleaner.sh --<span class="hljs-built_in">help</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk kasus yang lebih parah, diperlukan pengeditan langsung basis data. </font><font style="vertical-align: inherit;">Metode ini harus digunakan hanya sebagai upaya terakhir, memiliki arsip segar oVirt dan mesin yang terpengaruh. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami menghubungkan koleksi perangkat lunak</font></font><br>
<br>
<pre><code class="bash hljs">[mgmt@ovirt-engine] $ sudo scl <span class="hljs-built_in">enable</span> rh-postgresql10 <span class="hljs-string">"psql -d engine -U postgres"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, sambungkan ke database</font></font><br>
<br>
<pre><code class="plaintext hljs">su postgres<font></font>
psql -d engine -U postgres<font></font>
select * from job order by start_time desc;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan penghapusan langsung - menjalankan prosedur DeleteJob untuk tugas yang bermasalah:</font></font><br>
<br>
<pre><code class="plaintext hljs">select DeleteJob('UUID_HERE');</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh:</font></font><br>
<br>
<pre><code class="plaintext hljs">select DeleteJob('ed0127c7-b052-4ec2-a67c-8b3a65d55e19');</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu saja untuk hari ini, dan saya harap Anda tidak perlu mengedit database secara manual!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id503172/index.html">C #: Memperkenalkan Generator Kode Sumber</a></li>
<li><a href="../id503176/index.html">Implementasi suatu algoritma untuk menentukan lebar suatu objek menggunakan pengintai ultrasonik dan penyandi dalam bahasa RobotC</a></li>
<li><a href="../id503178/index.html">Apple Mac dan perangkat mewah. KPP, SAS, Fibre Channel, eSATA</a></li>
<li><a href="../id503182/index.html">"Saya pengembang buta pertama di perusahaan saya." Bagian 1</a></li>
<li><a href="../id503184/index.html">Kami mengundang Anda ke pertemuan online Zabbix</a></li>
<li><a href="../id503194/index.html">ISA tidak memaafkan kesalahan</a></li>
<li><a href="../id503196/index.html">450 kursus gratis dari Liga Ivy</a></li>
<li><a href="../id503200/index.html">YOLOv4 - jaringan saraf real-time paling akurat pada dataset COCO Microsoft</a></li>
<li><a href="../id503204/index.html">Cara mem-flash Xiaomi Redmi 4 Prime / Pro / Premium di Android 10</a></li>
<li><a href="../id503208/index.html">Kapan waktu terbaik untuk berinvestasi?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>