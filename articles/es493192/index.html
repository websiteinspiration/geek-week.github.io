<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚úàÔ∏è üí∞ ü§òüèø Juego ASCII: un compromiso de autenticidad y conveniencia üìÄ ‚úçüèæ üßóüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="¬°Hola a todos! Mientras desarrollaba un juego estilizado como modo texto, llegu√© a la contradicci√≥n esperada. Por un lado, el juego debe estar saturad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Juego ASCII: un compromiso de autenticidad y conveniencia</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493192/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Hola a todos! </font><font style="vertical-align: inherit;">Mientras desarrollaba un juego estilizado como modo texto, llegu√© a la contradicci√≥n esperada. </font><font style="vertical-align: inherit;">Por un lado, el juego debe estar saturado con el esp√≠ritu del modo de texto, porque para esto me gusta y, espero, a los fan√°ticos de los juegos retro les gustar√°. </font><font style="vertical-align: inherit;">Por otro lado, quiero que el juego sea lo m√°s divertido y moderno posible. </font><font style="vertical-align: inherit;">En este art√≠culo describir√© cinco puntos en los que me desvi√© del modo de texto verdadero. </font><font style="vertical-align: inherit;">¬øLogr√© mantener el tubo de humor alfanum√©rico en el juego? </font><font style="vertical-align: inherit;">Pido expresar una opini√≥n!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3m/au/i_/3maui_cqcqdkfsxpfwj-us8x0e4.jpeg"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Conjunto de caracteres</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Absolutamente todos los gr√°ficos en el juego est√°n hechos con los caracteres que se escriben en el teclado. </font><font style="vertical-align: inherit;">Para ser m√°s precisos, se utilizan los caracteres de la tabla ASCII del 32 al 126. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/11/7_/e7/117_e79lbv7xxuzovttn1i3e7hy.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, los textos en el juego est√°n localizados en varios idiomas. </font><font style="vertical-align: inherit;">Ahora apoyo ruso e ingl√©s en paralelo, pero quiero agregar algunos m√°s, incluido el chino. </font><font style="vertical-align: inherit;">Los caracteres de las tablas ASCII, incluso los extendidos, claramente no son suficientes para estos fines. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/du/cl/oa/ducloab5-3du4oldzbmxptnvvja.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los di√°logos en el juego pueden contener personajes que no pertenecen al rango aut√©ntico. </font><font style="vertical-align: inherit;">Sin embargo, estos personajes no est√°n involucrados en el dise√±o. </font><font style="vertical-align: inherit;">Los gr√°ficos son solo ASCII.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Precisi√≥n de subcaracteres</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A diferencia de los modos de texto, ASCIIDENT utiliza precisi√≥n de p√≠xeles para mover capas de texto y mover sprites. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/0o/l0/op/0ol0ophebaebco715pyi0kic2e4.gif"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En modo texto, el desplazamiento del sprite en una posici√≥n parece un salto notable. Para un juego tan din√°mico como ASCIIDENT, esto es inaceptable desde el punto de vista de la experiencia de juego moderna. Por lo tanto, para sprites individuales y capas de texto, que se discutir√°n m√°s adelante, hice un movimiento suave. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para mantener la autenticidad, me adhiero a la siguiente regla. Dentro de una capa de texto, todos los objetos est√°ticos est√°n claramente alineados en la cuadr√≠cula de caracteres. Adem√°s, cada sprite consta de caracteres tambi√©n alineados en una cuadr√≠cula de caracteres.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Relativas entre s√≠, las capas y los objetos en movimiento se pueden ubicar a una distancia sub-simb√≥lica. </font><font style="vertical-align: inherit;">Esto asegura un movimiento suave y, en consecuencia, una jugabilidad c√≥moda. </font><font style="vertical-align: inherit;">Este es un compromiso.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Paralaje</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El juego tiene varias capas de texto que se mueven a diferentes velocidades, d√°ndose cuenta del efecto de paralaje. </font><font style="vertical-align: inherit;">Los s√≠mbolos de las capas superiores se superponen a los s√≠mbolos de las inferiores. </font><font style="vertical-align: inherit;">Con precisi√≥n de subcaracteres, el criterio de superposici√≥n es una superposici√≥n de m√°s del 50% del ancho y / o alto de la celda de texto. </font><font style="vertical-align: inherit;">Usando un z-buffer simple, esta superposici√≥n es f√°cil de implementar. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/tx/6f/sf/tx6fsfikvf90-erih8upoha3ssi.gif"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paralaje con movimiento suave de capas es una t√©cnica gr√°fica muy expresiva. </font><font style="vertical-align: inherit;">S√≠, puede violar en gran medida la autenticidad del modo de texto. </font><font style="vertical-align: inherit;">Sin embargo, decid√≠ usar paralaje. </font><font style="vertical-align: inherit;">Resulta muy bonito.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Animaci√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Animaci√≥n de sprites individuales en el juego "honesto", realizado estrictamente en modo texto. La posici√≥n de cada car√°cter est√° alineada en la cuadr√≠cula de texto. Las animaciones se obtienen reemplazando los caracteres en las celdas. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/rq/-n/bt/rq-nbtwibvurx8nqe48jrl928fw.gif"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Me pareci√≥ muy importante mantener la integridad de las animaciones de sprites. Esto es probablemente lo principal que hace que el juego sea tan retro-atractivo. Adem√°s, con este tipo de animaci√≥n, t√©cnicamente se vuelve muy simple crear y editar sprites ASCII animados. No pude resistirme e hice un editor ASCII incorporado en el juego. En cualquier momento, cualquier elemento gr√°fico puede cargarse y modificarse. Puedes, por ejemplo, editar el cofre agregando cuadros de animaci√≥n, y despu√©s de guardar todos los cofres en todos los lugares del juego se volver√°n nuevos. Cualquier jugador puede hacer esto, creando as√≠ su propio mod del juego.</font></font><br>
 <br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/AZw6BZaF250" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, a veces necesitas una animaci√≥n suave. </font><font style="vertical-align: inherit;">Por ejemplo, en el juego existe un lugar donde se cultiva la fibra √≥ptica biol√≥gica. </font><font style="vertical-align: inherit;">Un dron vuela sobre las camas, lo que riega la fibra √≥ptica con un l√≠quido t√≥xico. </font><font style="vertical-align: inherit;">El l√≠quido debe gotear suavemente, de lo contrario feo. </font><font style="vertical-align: inherit;">Para implementar tales efectos, hice generadores de sprites y su uni√≥n a cualquier otro sprite en el mundo del juego. </font><font style="vertical-align: inherit;">T√©cnicamente, cada ca√≠da es un sprite separado que puede moverse con precisi√≥n de subp√≠xeles. </font><font style="vertical-align: inherit;">Un compromiso razonable de nuevo.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. Luz, color y fuente.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muchas personas a las que les muestro el juego hacen el comentario de que hay demasiados colores en mi juego. En los modos de texto no hab√≠a tanta riqueza de tonos. El hecho es que implement√© un mapa de luz de pantalla completa que calcula cualquier cantidad de fuentes de luz. Al mismo tiempo, el color de cada personaje es de 24 bits (16.777.216 colores diferentes). A veces la imagen se ve colorida. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/ta/5h/2i/ta5h2i1ijypt1yhav7kwmikgn1w.gif"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para emular modos de color retro, hice siete opciones adicionales: tres modos monocrom√°ticos, dos modos de 16 colores (DOS / Mac), 2 bits y modo Game Boy. El modo de fuente LED tambi√©n est√° disponible. En este modo, cada p√≠xel de cada personaje se separa de los vecinos. El siguiente video muestra todos los modos, c√≥mo afectan la imagen.</font></font><br>
 <br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/Xnl4sGhA0m0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El algoritmo de conversi√≥n de color para modos monocrom√°ticos hizo esto. Primero, calculo el brillo del color (R, G, B): </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V = 0.3 * R + 0.59 * G + 0.11 * B Los </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
monitores retro monocrom√°ticos tienen diferentes tonos de color para diferentes brillos de s√≠mbolos. Por lo tanto, la sombra tambi√©n debe cambiar. Utilizo dicha interpolaci√≥n lineal: </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RR = sqrt (V) * (monoR1 * (1 - V) + monoR2 * V) </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GG = sqrt (V) * (monoG1 * (1 - V) + monoG2 * V) </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BB = sqrt (V ) * (monoB1 * (1 - V) + monoB2 * V) </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Color final (RR, GG, BB) </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para modos de 16 colores, utilizo un algoritmo diferente. Para cada color (R, G, B) busco el color m√°s cercano en la paleta. Eso es todo.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2 bits y el modo Game Boy tiene solo cuatro colores en la paleta. </font><font style="vertical-align: inherit;">Una simple b√∫squeda del color m√°s cercano da una imagen muy oscura. </font><font style="vertical-align: inherit;">Por lo tanto, antes de buscar un color en la paleta, hago la normalizaci√≥n: </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
d = 1 / max (R, G, B) </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
normR = d * R, normG = d * G, normB = d * B </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Las f√≥rmulas son esquem√°ticas. </font><font style="vertical-align: inherit;">Los cheques para la divisi√≥n por cero no mencionaron. </font><font style="vertical-align: inherit;">Espero que todos los que decidan jugar ASCIIDENT puedan elegir por s√≠ mismos un esquema de color que calienta al m√°ximo su alma retro.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6. Consola con un modo de texto honesto</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el proceso de creaci√≥n del juego, surgi√≥ la idea de poner terminales de computadora con un modo de texto honesto en el mundo del juego. Puedes acercarte a ellos, conectarte y trabajar / jugar. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si el juego en s√≠ est√° estilizado como un modo de texto de 80x25 con desplazamiento suave y paralaje de capas de texto, entonces la pantalla del terminal incorporado tiene una resoluci√≥n de 72x20 caracteres sin ninguna posibilidad de ir m√°s all√° de esta cuadr√≠cula. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas las aplicaciones para terminales integrados (incluido el gestor de arranque) est√°n escritas en el lenguaje de programaci√≥n DUHASM. Este lenguaje es similar al ensamblador, pero tiene variables din√°micas y matrices. Aqu√≠, por ejemplo, hay una parte del c√≥digo del juego Pi-astre Hanter: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yu/fh/gi/yufhgigy6d6il1scdqgmgaaen4q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una caracter√≠stica divertida es que los bucles se implementan como parte de construcciones condicionales, donde se coloca LOOP en lugar de END.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el lanzamiento, el juego carga aplicaciones de archivos * .duhasm y las compila en c√≥digo de bytes. Cuando un jugador activa la consola, se inicia un int√©rprete honesto. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por el momento, he escrito dos juegos sobre DUHASM, que ya est√°n disponibles en la versi√≥n actual. Hay un plan para escribir un editor de c√≥digo (tambi√©n en DUHASM, por supuesto) para que cada jugador pueda intentar crear una aplicaci√≥n / juego que todos los dem√°s jugadores ver√°n.</font></font><br>
 <br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/xlJWOktA9k0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Espero no haber gastado en vano mucho esfuerzo y tiempo para implementar esta funci√≥n y habr√° personas a quienes les guste. </font><font style="vertical-align: inherit;">El lenguaje DUHASM ciertamente necesita algo de refinamiento. </font><font style="vertical-align: inherit;">Realmente no me gusta c√≥mo, por ejemplo, las funciones se llaman con argumentos. </font><font style="vertical-align: inherit;">Seg√∫n la historia del juego, el lenguaje DUHASM surgi√≥ con un cyborg semi-sensible que escap√≥ del laboratorio de piratas espaciales. </font><font style="vertical-align: inherit;">Sorprendentemente, este lenguaje de programaci√≥n se ha arraigado en las afueras de la parte habitada del universo.</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CONCLUSI√ìN</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bueno, hubo muchos compromisos: un conjunto de caracteres, precisi√≥n de subcaracteres, animaci√≥n, colores. </font><font style="vertical-align: inherit;">Pero tambi√©n para mantener una sensaci√≥n de autenticidad en el modo de texto, he emprendido mucho durante estos m√°s de dos a√±os de desarrollo. </font><font style="vertical-align: inherit;">Para obtener m√°s comentarios y comprender si me estoy moviendo en la direcci√≥n correcta, decid√≠ comenzar el juego con </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acceso anticipado en Steam</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Hay algo m√°gicamente atractivo en los modos de texto. </font><font style="vertical-align: inherit;">Cuando se puede escribir cualquier imagen con caracteres en el teclado, a veces es dif√≠cil resistirse y no comenzar el juego con el editor ASCII incorporado, e incluso no dibujar un prototipo de un nuevo mini-juego, que luego se implementar√° en el lenguaje DUHASM. </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/0y/i7/se/0yi7sedgucpkb-nstvzouepmo2s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
¬°Gracias a todos! </font><font style="vertical-align: inherit;">¬°Hasta!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es493172/index.html">Cuanto m√°s grande, peor o por qu√© es importante el ciclo del juego</a></li>
<li><a href="../es493178/index.html">Todo es sorprendente en software, pero todos est√°n descontentos</a></li>
<li><a href="../es493184/index.html">Desarrollo de contratos de electr√≥nica. C√°lculo del proyecto.</a></li>
<li><a href="../es493186/index.html">Los mejores art√≠culos relacionados con la automoci√≥n para desarrolladores en Habr√© [170+]</a></li>
<li><a href="../es493190/index.html">C√≥mo creamos la galer√≠a de arte de redes neuronales y por qu√© no damos im√°genes para copiar</a></li>
<li><a href="../es493196/index.html">Prepar√°ndose para ShAD sin salir de casa</a></li>
<li><a href="../es493198/index.html">C√≥mo visualizar y animar modelos (geof√≠sicos). Modelos Voxel y superficies de malla.</a></li>
<li><a href="../es493200/index.html">Distribuci√≥n de un caballo esf√©rico al vac√≠o en toda la Federaci√≥n Rusa</a></li>
<li><a href="../es493202/index.html">RBK.money ha lanzado el primer procesamiento de pagos de c√≥digo abierto del mundo, creando el futuro juntos</a></li>
<li><a href="../es493204/index.html">Alexey Komissarov sobre Digital Breakthrough 2020</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>