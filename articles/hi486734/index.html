<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>тШШя╕П ЁЯМ╕ ЁЯМК рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде рд╢реБрджреНрдз рд╡рд╛рд╕реНрддреБрдХрд▓рд╛: рдбреАрдбреАрдбреА рдФрд░ рд╕реНрддрд░рд┐рдд рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ ЁЯН┐ ЁЯУ┤ #тГг</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рд╣реЗрд▓реЛ, рд╣реЗрдмреНрд░! рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдореИрдВ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдкрд░ рдЕрдзрд┐рдХ рдзреНрдпрд╛рди рджреЗ рд░рд╣рд╛ рд╣реВрдВ рдФрд░ рд╕рдореБрджрд╛рдп рдХреЗ рд╕рд╛рде рд▓реЗрдЦ рдХрд╛ рдЕрдиреБрд╡рд╛рдж рдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдореЗрд╢рди рдХреЗ рд╕рд╛рде рдХреНрд▓реАрди рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░: рдбреАрдбреАрдбреА, рдкреНрдпрд╛рдЬ рдФ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рд╕рд╛рде рд╢реБрджреНрдз рд╡рд╛рд╕реНрддреБрдХрд▓рд╛: рдбреАрдбреАрдбреА рдФрд░ рд╕реНрддрд░рд┐рдд рд╡рд╛рд╕реНрддреБрдХрд▓рд╛</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/486734/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣реЗрд▓реЛ, рд╣реЗрдмреНрд░! </font><font style="vertical-align: inherit;">рд╣рд╛рд▓ рд╣реА рдореЗрдВ рдореИрдВ рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдкрд░ рдЕрдзрд┐рдХ рдзреНрдпрд╛рди рджреЗ рд░рд╣рд╛ рд╣реВрдВ рдФрд░ рд╕рдореБрджрд╛рдп рдХреЗ рд╕рд╛рде рд▓реЗрдЦ рдХрд╛ рдЕрдиреБрд╡рд╛рдж </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЯреНрд░рд╛рдВрд╕рдлреЙрд░реНрдореЗрд╢рди рдХреЗ рд╕рд╛рде рдХреНрд▓реАрди рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░: рдбреАрдбреАрдбреА, рдкреНрдпрд╛рдЬ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрдВрджреНрд░реЗ рдмрд╛рдЬрд╛рдЧреНрд▓рд┐рдпрд╛ рдХреЗ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рде рд╕рд╛рдЭрд╛ рдХрд░рдиреЗ рдХрд╛ рдлреИрд╕рд▓рд╛ рдХрд┐рдпрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкрд░рд┐рдЪрдп</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдореЗрд░реЗ рдкреЗрд╢реЗрд╡рд░ рдЕрдиреБрднрд╡ рдХреЗ 6 рд╡рд░реНрд╖реЛрдВ рдХреЗ рд▓рд┐рдП, рдореБрдЭреЗ рд╢рд╛рдВрдд рдкреНрд░реМрджреНрдпреЛрдЧрд┐рдХреА рдХрдВрдкрдирд┐рдпреЛрдВ рдореЗрдВ рдХрд╛рдо рдХрд░рдиреЗ рдХрд╛ рдЕрд╡рд╕рд░ рдорд┐рд▓рд╛ рд╣реИ рдЬреЛ рдЙрдЪреНрдЪ рдЙрдкрд▓рдмреНрдзрддрд╛ рдФрд░ рдХреЛрдб рдЧреБрдгрд╡рддреНрддрд╛ рдкрд░ рдмрд╣реБрдд рдзреНрдпрд╛рди рджреЗрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдореБрдЭреЗ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдкрд░рд┐рд╕реНрдерд┐рддрд┐рдпреЛрдВ рд╕реЗ рдирд┐рдкрдЯрдирд╛ рдкрдбрд╝рд╛ рдЬрдм рдмрдЧ рдпрд╛ рд╕рд┐рд╕реНрдЯрдо рдХрд╛ рдПрдХ рджреВрд╕рд░рд╛ рдбрд╛рдЙрдирдЯрд╛рдЗрдо рднреА рдЕрд╕реНрд╡реАрдХрд╛рд░реНрдп рдерд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рд▓реЗрдЦ рдХрд╛ рдЙрджреНрджреЗрд╢реНрдп рдбреАрдбреАрдбреА рдФрд░ рд╕реНрддрд░рд┐рдд рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдкрд░ рдЬрдЯрд┐рд▓ рд╡рд┐рд╖рдпреЛрдВ рдХрд╛ рдПрдХ рд╡рд┐рд╕реНрддреГрдд рдХрд╡рд░реЗрдЬ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдореЗрдВ рдЗрди рджреЛрдиреЛрдВ рджреГрд╖реНрдЯрд┐рдХреЛрдгреЛрдВ рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХрд╛ рдПрдХ рдЙрджрд╛рд╣рд░рдг рд╣реИред </font><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ рдХреА рдЧрдИ рдкрд░рд┐рдпреЛрдЬрдирд╛ рдмреБрдирд┐рдпрд╛рджреА рд╣реИ рдФрд░ рдкрд░рд┐рд╖реНрдХреГрдд рдФрд░ рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдХреА рдЬрд╛ рд╕рдХрддреА рд╣реИ, рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CQRS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ </font><font style="vertical-align: inherit;">ред</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DDD рдХреНрдпреЛрдВ?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдирд┐рд░реНрдорд┐рдд рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ рдЙрддреНрдкрд╛рджреЛрдВ рдХреЛ рд╡реНрдпрд╡рд╕рд╛рдп рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдирд╛ рдЪрд╛рд╣рд┐рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдбреЛрдореЗрди рдкрд░рдд рдХреЗ рдкрд░реАрдХреНрд╖рдг рдХреЛ рд╕рд░рд▓ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рдХрд┐ рд╕рднреА рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЛ рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рдП рдФрд░ рд▓рдВрдмреЗ рд╕рдордп рддрдХ рддреНрд░реБрдЯрд┐ рд╡рд╛рд▓реЗ рдкреНрд░реВрдл рдХреЛрдб рд▓рд┐рдЦреЗ рдЬрд╛рдПрдВред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрдХ рд╕реНрддрд░рд┐рдд рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рд╕рд╛рде рд╕рдВрдпреЛрдЬрди рдореЗрдВ DDD рдбреЛрдорд┐рдиреЛрдЬрд╝ рдкреНрд░рднрд╛рд╡ рд╕реЗ рдмрдЪрд╛ рдЬрд╛рддрд╛ рд╣реИ рдЬрдм рдПрдХ рд╕реНрдерд╛рди рдкрд░ рдХреЛрдб рдмрджрд▓рдиреЗ рд╕реЗ рд╡рд┐рднрд┐рдиреНрди рд╕реНрдерд╛рдиреЛрдВ рдореЗрдВ рдЕрд╕рдВрдЦреНрдп рдХреАрдбрд╝реЗ рд╣реЛ рдЬрд╛рддреЗ рд╣реИрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреНрдпреЛрдВ рд╕реНрддрд░рд┐рдд рд╡рд╛рд╕реНрддреБрдХрд▓рд╛?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рджреГрд╖реНрдЯрд┐рдХреЛрдг DDD рдХреЗ рд╕рд╛рде рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдЪрд▓рд╛ рдЬрд╛рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдкреВрд░реЗ рд╕рд┐рд╕реНрдЯрдо рдХреЛ рдПрдХ рдбреЛрдореЗрди рдореЙрдбрд▓ рдХреЗ рдЖрд╕рдкрд╛рд╕ рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рд╣реИ, рдЬреЛ рдиреАрдЪреЗ рдХреА рдЫрд╡рд┐ рдореЗрдВ рдХреЗрдВрджреНрд░ рд╕рд░реНрдХрд▓ рд╣реИред рдЖрдВрддрд░рд┐рдХ рдкрд░рддреЗрдВ рд╕реАрдзреЗ рдмрд╛рд╣рд░реА рд▓реЛрдЧреЛрдВ рдкрд░ рдирд┐рд░реНрднрд░ рдирд╣реАрдВ рд╣реЛрддреА рд╣реИрдВ рдФрд░ рдЗрдВрдЬреЗрдХреНрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреА рд╣реИрдВред рд╕рд╛рде рд╣реА, рд╣рдореЗрдВ рдЙрддреНрдХреГрд╖реНрдЯ рд▓рдЪреАрд▓рд╛рдкрди рдорд┐рд▓рддрд╛ рд╣реИ, рдЗрд╕рд▓рд┐рдП рдкреНрд░рддреНрдпреЗрдХ рдкрд░рдд рдХреА рдЕрдкрдиреА рдЬрд┐рдореНрдореЗрджрд╛рд░реА рдХрд╛ рдХреНрд╖реЗрддреНрд░ рд╣реЛрддрд╛ рд╣реИ рдФрд░ рдЖрдиреЗ рд╡рд╛рд▓реЗ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рддреНрдпреЗрдХ рдкрд░рдд рджреНрд╡рд╛рд░рд╛ рдЕрдкрдиреА рдЖрд╡рд╢реНрдпрдХрддрд╛рдУрдВ рдХреЗ рдЕрдиреБрд╕рд╛рд░ рдорд╛рдиреНрдп рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИред рдФрд░ рдЗрд╕рд▓рд┐рдП, рдЖрдВрддрд░рд┐рдХ рдкрд░рддреЗрдВ рд╣рдореЗрд╢рд╛ рдмрд╛рд╣рд░реА рдкрд░рддреЛрдВ рд╕реЗ рд╡реИрдз рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░рддреА рд╣реИрдВред рдкрд░реАрдХреНрд╖рдг рдХрд╛ рдЙрд▓реНрд▓реЗрдЦ рдирд╣реАрдВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП: рдЗрдХрд╛рдИ рдкрд░реАрдХреНрд╖рдг рдЗрдВрдЯрд░рдлреЗрд╕ рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдирд┐рд░реНрднрд░рддрд╛ рдирдХрд▓реА рдХреЗ рдЙрдкрдпреЛрдЧ рдХреЗ рд╕рд╛рде рдЖрд╕рд╛рди рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ, рдЬреЛ рдЖрдкрдХреЛ рд╕рд┐рд╕реНрдЯрдо рдХреЗ рдмрд╛рд╣рд░реА рд╣рд┐рд╕реНрд╕реЛрдВ рдЬреИрд╕реЗ рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рдЕрдореВрд░реНрдд рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИред </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qs/at/ex/qsatexfqebsdg9n1gwlnga_vuuc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЯрд╛рдЗрдкрд╕реНрдХреНрд░рд┐рдкреНрдЯ рдФрд░ рдЬрд╛рд╡рд╛рд╕реНрдХреНрд░рд┐рдкреНрдЯ рдХреЗ рдорд╛рдорд▓реЗ рдореЗрдВ, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рдпрдВрддреНрд░рдг рдХрд╛ рдЙрд▓рдЯрд╛ (рдирд┐рд░реНрднрд░рддрд╛ рдЙрд▓рдЯрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реНрдкрд╖реНрдЯ рдЖрдпрд╛рдд рдХреЗ рдмрдЬрд╛рдп рдорд╛рдкрджрдВрдбреЛрдВ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдирд┐рд░реНрднрд░рддрд╛ (рдЧреБрдЬрд░) рдХреЛ рдПрдореНрдмреЗрдб рдХрд░рдирд╛ред </font><font style="vertical-align: inherit;">рдирд┐рдореНрдирд▓рд┐рдЦрд┐рдд рдХреЛрдб рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╣рдо </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрдиреНрд╡рд░реНрд╕рд╛рдЗрдЬрд╝</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗ </font><font style="vertical-align: inherit;">, рдЬреЛ рд╣рдореЗрдВ рдбреЗрдХреЛрд░реЗрдЯрд░реНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдирд┐рд░реНрднрд░рддрд╛ рдХрд╛ рд╡рд░реНрдгрди рдХрд░рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддрд╛ рд╣реИ рддрд╛рдХрд┐ рдмрд╛рдж рдореЗрдВ рдмрдирд╛рдИ рдЧрдИ рдХрдХреНрд╖рд╛рдПрдВ рдЧрддрд┐рд╢реАрд▓ рд░реВрдк рд╕реЗ рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрдВрдЯреЗрдирд░ рдмрдирд╛ рд╕рдХреЗрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЪрд░</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрд╕ рд╕рд░рд▓ рдЖрд╡реЗрджрди рдХреЗ рд▓рд┐рдП ...</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдПрдХ рд╕рд╛рдзрд╛рд░рдг рд╢реЙрдкрд┐рдВрдЧ рдХрд╛рд░реНрдЯ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдмрдирд╛рдПрдВрдЧреЗ рдЬреЛ рдХрд╛рд░реНрдЯ рдореЗрдВ рдЖрдЗрдЯрдо рдЬреЛрдбрд╝рдиреЗ рдХрд╛ рдХрд╛рдо рдХрд░ рд╕рдХреЗред </font><font style="vertical-align: inherit;">рдПрдХ рдХрд╛рд░реНрдЯ рдореЗрдВ рдХрдИ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдирд┐рдпрдо рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВ, рдЬреИрд╕реЗ рдХрд┐ рдкреНрд░рддреНрдпреЗрдХ рдЖрдЗрдЯрдо рдХреЗ рд▓рд┐рдП рдиреНрдпреВрдирддрдо рдпрд╛ рдЕрдзрд┐рдХрддрдо рдорд╛рддреНрд░рд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЖрдЗрдП рдЖрд╡реЗрджрди рдкрд░рддреЛрдВ рдХреА рдЧрд╣рд░рд╛рдИ рдореЗрдВ рдЧреЛрддрд╛ рд▓рдЧрд╛рдПрдБ, рдЕрдВрддрд░рддрдо рдкрд░рдд рд╕реЗ рд╢реБрд░реВ рдХрд░реЗрдВ рдФрд░ рдХреНрд░рдорд┐рдХ рд░реВрдк рд╕реЗ рдЖрдЧреЗ рдмрдврд╝реЗрдВред</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдбреЛрдореЗрди</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдбреЛрдореЗрди рдкрд░рдд, рдкрд░рд┐рднрд╛рд╖рд╛ рдХреЗ рдЕрдиреБрд╕рд╛рд░, рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдирд┐рдпрдореЛрдВ рдХрд╛ рдирд┐рд╡рд╛рд╕ рд╕реНрдерд╛рди рд╣реИред рдпрд╣ рдХрд┐рд╕реА рднреА рдмрд╛рд╣рд░реА рдкрд░рддреЛрдВ рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдХреБрдЫ рдирд╣реАрдВ рдЬрд╛рдирддрд╛ рд╣реИ, рдЗрд╕рдХреА рдХреЛрдИ рдирд┐рд░реНрднрд░рддрд╛ рдирд╣реАрдВ рд╣реИ рдФрд░ рдЖрд╕рд╛рдиреА рд╕реЗ рдкрд░реАрдХреНрд╖рдг рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдпрд╣рд╛рдВ рддрдХ тАЛтАЛрдХрд┐ рдЕрдЧрд░ рдЖрдк рдкреВрд░реЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЛ рдЪрд╛рд░реЛрдВ рдУрд░ рдмрджрд▓рддреЗ рд╣реИрдВ, рддреЛ рднреА рдбреЛрдореЗрди рдЕрдЫреВрддрд╛ рд░рд╣реЗрдЧрд╛, рдХреНрдпреЛрдВрдХрд┐ рдЗрд╕рдореЗрдВ рдХреЗрд╡рд▓ рд╡реНрдпрд╛рд╡рд╕рд╛рдпрд┐рдХ рдирд┐рдпрдо рд╣реИрдВ рдЬреЛ рдЗрд╕ рдХреЛрдб рдХреЛ рдкрдврд╝рдиреЗ рд╡рд╛рд▓реЗ рд╕рднреА рдХреЗ рд▓рд┐рдП рдЙрдирдХреЗ рдЙрджреНрджреЗрд╢реНрдп рдХреЛ рд╕рдордЭрдиреЗ рдХреЗ рд▓рд┐рдП рдЙрдкрд▓рдмреНрдз рд╣реИрдВред рдЗрд╕ рдкрд░рдд рдХреЛ рдкрд░реАрдХреНрд╖рдгреЛрдВ рд╕реЗ рдпрдерд╛рд╕рдВрднрд╡ рдХрд╡рд░ рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕рд▓рд┐рдП, рд╣рдорд╛рд░реЗ рдкрд╛рд╕ рдПрдХ рдЗрдХрд╛рдИ рдЖрдзрд╛рд░ рд╡рд░реНрдЧ рд╣реИ, рдЬрд┐рд╕рдореЗрдВ рд╕рднреА рдбреЛрдореЗрди рд╡рд░реНрдЧреЛрдВ рдХреЗ рд▓рд┐рдП рдХреБрдЫ рдирд┐рд╢реНрдЪрд┐рдд рддрд░реНрдХ рд╕рдорд╛рд╣рд┐рдд рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред рдЗрд╕ рдЙрджрд╛рд╣рд░рдг рдореЗрдВ, рд╕рднреА рд╕рд╛рдорд╛рдиреНрдп рддрд░реНрдХ рдХреНрд╖реИрддрд┐рдЬ рд╕реНрдХреЗрд▓рд┐рдВрдЧ рдХреЗ рд▓рд┐рдП рдЙрдкрдпреБрдХреНрдд рдЯрдХрд░рд╛рд╡-рдкреНрд░рддрд┐рд░реЛрдзреА рдкрд╣рдЪрд╛рдирдХрд░реНрддрд╛ рдЙрддреНрдкрдиреНрди рдХрд░рдирд╛ рд╣реИ, рдФрд░ рд╕рднреА рдСрдмреНрдЬреЗрдХреНрдЯ рдЗрд╕ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> abstract <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Entity</span>&lt;<span class="hljs-title">T</span>&gt; </span>{<font></font>
  protected readonly _id: string<font></font>
  protected props: T<font></font>
<font></font>
  <span class="hljs-keyword">constructor</span>(props: T, id?: string) {
    <span class="hljs-keyword">this</span>._id = id ? id : UniqueEntityID()
    <span class="hljs-keyword">this</span>.props = props<font></font>
  }<font></font>
<font></font>
  <span class="hljs-comment">// other common methods here...</span>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрдХрд╛рдИ рд╡рд░реНрдЧ рд▓рд┐рдЦрдиреЗ рдХреЗ рдмрд╛рдж, рдЖрдк рд╣рдорд╛рд░реЗ рдХреЗрдВрджреНрд░реАрдп рдбреЛрдореЗрди рд╡рд░реНрдЧ рдХреЛ рдмрдирд╛рдирд╛ рд╢реБрд░реВ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВ рдЬреЛ рдЗрдХрд╛рдИ рд╕рд╛рд░ рд╡рд░реНрдЧ рдХрд╛ рд╡рд┐рд╕реНрддрд╛рд░ рдХрд░рддрд╛ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рд╡рд░реНрдЧ рдореЗрдВ рдмрд╣реБрдд рдЬрдЯрд┐рд▓ рдХреБрдЫ рднреА рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рдХреБрдЫ рджрд┐рд▓рдЪрд╕реНрдк рдмрд┐рдВрджреБ рд╣реИрдВ рдЬрд┐рди рдкрд░ рдЖрдкрдХреЛ рдзреНрдпрд╛рди рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдПред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдХрдВрд╕реНрдЯреНрд░рдХреНрдЯрд░ рдирд┐рдЬреА рд╣реИ, рдЬрд┐рд╕рдХрд╛ рдЕрд░реНрде рд╣реИ рдХрд┐ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирдИ рдХрд╛рд░реНрдЯ ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ </font><font style="vertical-align: inherit;">рдирд┐рд╖реНрдкрд╛рджрд┐рдд рдХрд░рдиреЗ рд╕реЗ </font><font style="vertical-align: inherit;">рддреНрд░реБрдЯрд┐ рд╣реЛрдЧреА, рдЬреЛ рдХрд┐ рд╣рдореЗрдВ рдЪрд╛рд╣рд┐рдПред DDD рдореЗрдВ, рдбреЛрдореЗрди рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рд╣рдореЗрд╢рд╛ рдПрдХ рдорд╛рдиреНрдп рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд░рдЦрдирд╛ рдЕрдЪреНрдЫрд╛ рдЕрднреНрдпрд╛рд╕ рдорд╛рдирд╛ рдЬрд╛рддрд╛ рд╣реИред рдЦрд╛рд▓реА рдХрд╛рд░реНрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдмрдирд╛рдиреЗ рдХреЗ рдмрдЬрд╛рдп, рд╣рдо </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">рдлрд╝реИрдХреНрдЯрд░реА рдкреИрдЯрд░реНрди рдХрд╛</font></a><font style="vertical-align: inherit;"> рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реИрдВ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреЛ рдХрд╛рд░реНрдЯ рдХреНрд▓рд╛рд╕ рдХрд╛ рддреИрдпрд╛рд░ рдЙрджрд╛рд╣рд░рдг рджреЗрддрд╛ рд╣реИред рдпрд╣ рд╕реБрдирд┐рд╢реНрдЪрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд┐ рдирд┐рд░реНрдорд╛рдг рдкреНрд░рдХреНрд░рд┐рдпрд╛ рдХреЛ рд╕рднреА рдЖрд╡рд╢реНрдпрдХ рд╡рд┐рд╢реЗрд╖рддрд╛рдПрдБ рдкреНрд░рд╛рдкреНрдд рд╣реБрдИ рд╣реИрдВ, рдЙрдиреНрд╣реЗрдВ рдорд╛рдиреНрдп рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИред рдЗрд╕реА рддрд░рд╣, рдбреЛрдореЗрди рдХреЗ рд╕рд╛рде рдмрд╛рддрдЪреАрдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЧреЗрдЯрд░реНрд╕ рдФрд░ рд╕реЗрдЯрд░ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рдЗрд╕реА рдХрд╛рд░рдг рд╕реЗ рдХрдХреНрд╖рд╛ рдХреА рдЖрдВрддрд░рд┐рдХ рд╕реНрдерд┐рддрд┐ рдХреЛ рдПрдХ рдирд┐рдЬреА </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдорд░реНрдердХ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рд╕рдВрдЧреНрд░рд╣реАрдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред рдЧреЗрдЯрд░реНрд╕ рдЙрди рд╡рд┐рд╢реЗрд╖рддрд╛рдУрдВ рдХреЛ рд░реАрдб рдПрдХреНрд╕реЗрд╕ рдкреНрд░рджрд╛рди рдХрд░рддреЗ рд╣реИрдВ рдЬреЛ рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рд╣реЛрдиреА рдЪрд╛рд╣рд┐рдПред рдЗрд╕реА рддрд░рд╣, рд╕рд╛рд░реНрд╡рдЬрдирд┐рдХ рдмрд╕рдиреЗ рд╡рд╛рд▓реЗ рдФрд░ рдЕрдиреНрдп рддрд░реАрдХреЗ рдЖрдкрдХреЛ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреА рд╕реНрдерд┐рддрд┐ рдХреА рд╡реИрдзрддрд╛ рдХреА рдирд┐рд░рдВрддрд░ рдЧрд╛рд░рдВрдЯреА рдХреЗ рд╕рд╛рде рдбреЛрдореЗрди рдХреЛ рдмрджрд▓рдиреЗ рдХреА рдЕрдиреБрдорддрд┐ рджреЗрддреЗ рд╣реИрдВред </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрдХреНрд╖реЗрдк рдореЗрдВ, рд╣рдо рдПрдХ рдорд╣рддреНрд╡рдкреВрд░реНрдг рдмрд┐рдВрджреБ рдкрд░ рдЬреЛрд░ рджреЗ рд╕рдХрддреЗ рд╣реИрдВ: рдбреЛрдореЗрди рд▓реЙрдЬрд┐рдХ рдХреЛ рд╡реНрдпрд╡рд╣рд╛рд░ рдкрд░ рдзреНрдпрд╛рди рдХреЗрдВрджреНрд░рд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рдирд╛ рдЪрд╛рд╣рд┐рдП, рди рдХрд┐ рдЧреБрдгреЛрдВ рдкрд░ред</font></font></b><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Cart</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Entity</span>&lt;<span class="hljs-title">ICartProps</span>&gt; </span>{<font></font>
  private <span class="hljs-keyword">constructor</span>({ id, ...data }: ICartProps) {
    <span class="hljs-keyword">super</span>(data, id)<font></font>
  }<font></font>
<font></font>
  public <span class="hljs-keyword">static</span> create(props: ICartProps): Cart {
    <span class="hljs-keyword">const</span> instance = <span class="hljs-keyword">new</span> Cart(props)
    <span class="hljs-keyword">return</span> instance<font></font>
  }<font></font>
<font></font>
  public unmarshal(): UnmarshalledCart {<font></font>
    <span class="hljs-keyword">return</span> {
      <span class="hljs-attr">id</span>: <span class="hljs-keyword">this</span>.id,
      <span class="hljs-attr">products</span>: <span class="hljs-keyword">this</span>.products.map(<span class="hljs-function"><span class="hljs-params">product</span> =&gt;</span> ({
        <span class="hljs-attr">item</span>: product.item.unmarshal(),
        <span class="hljs-attr">quantity</span>: product.quantity<font></font>
      })),<font></font>
      <span class="hljs-attr">totalPrice</span>: <span class="hljs-keyword">this</span>.totalPrice<font></font>
    }<font></font>
  }<font></font>
<font></font>
  private <span class="hljs-keyword">static</span> validQuantity(quantity: number) {
    <span class="hljs-keyword">return</span> quantity &gt;= <span class="hljs-number">1</span> &amp;&amp; quantity &lt;= <span class="hljs-number">1000</span><font></font>
  }<font></font>
<font></font>
  private setProducts(products: CartItem[]) {<font></font>
    <span class="hljs-keyword">this</span>.props.products = products<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">get</span> <span class="hljs-title">id</span>(): <span class="hljs-title">string</span> {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._id<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">get</span> <span class="hljs-title">products</span>(): <span class="hljs-title">CartItem</span>[] {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.props.products<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">get</span> <span class="hljs-title">totalPrice</span>(): <span class="hljs-title">number</span> {
    <span class="hljs-keyword">const</span> cartSum = <span class="hljs-function">(<span class="hljs-params">acc: number, product: CartItem</span>) =&gt;</span> {
      <span class="hljs-keyword">return</span> acc + product.item.price * product.quantity<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.products.reduce(cartSum, <span class="hljs-number">0</span>)<font></font>
  }<font></font>
<font></font>
  public add(item: Item, <span class="hljs-attr">quantity</span>: number) {
    <span class="hljs-keyword">if</span> (!Cart.validQuantity(quantity)) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationError(
        <span class="hljs-string">'SKU needs to have a quantity between 1 and 1000'</span><font></font>
      )<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">const</span> index = <span class="hljs-keyword">this</span>.products.findIndex(
      <span class="hljs-function"><span class="hljs-params">product</span> =&gt;</span> product.item.sku === item.sku<font></font>
    )<font></font>
<font></font>
    <span class="hljs-keyword">if</span> (index &gt; <span class="hljs-number">-1</span>) {
      <span class="hljs-keyword">const</span> product = {<font></font>
        ...this.products[index],<font></font>
        <span class="hljs-attr">quantity</span>: <span class="hljs-keyword">this</span>.products[index].quantity + quantity<font></font>
      }<font></font>
<font></font>
      <span class="hljs-keyword">if</span> (!Cart.validQuantity(product.quantity)) {
        <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ValidationError(<span class="hljs-string">'SKU exceeded allowed quantity'</span>)<font></font>
      }<font></font>
<font></font>
      <span class="hljs-keyword">const</span> products = [<font></font>
        ...this.products.slice(<span class="hljs-number">0</span>, index),<font></font>
        product,<font></font>
        ...this.products.slice(index + <span class="hljs-number">1</span>)<font></font>
      ]<font></font>
<font></font>
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.setProducts(products)<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">const</span> products = [...this.products, { item, quantity }]
    <span class="hljs-keyword">this</span>.setProducts(products)<font></font>
  }<font></font>
<font></font>
  public remove(itemId: string) {<font></font>
    <span class="hljs-keyword">const</span> products = <span class="hljs-keyword">this</span>.products.filter(<span class="hljs-function"><span class="hljs-params">product</span> =&gt;</span> product.item.id !== itemId)
    <span class="hljs-keyword">this</span>.setProducts(products)
    <span class="hljs-keyword">this</span>.emitCartMutation()<font></font>
  }<font></font>
<font></font>
  public empty() {<font></font>
    <span class="hljs-keyword">this</span>.setProducts([])<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬрдмрдХрд┐ рд╣рдорд╛рд░реА рдХрд╛рд░реНрдЯ рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЛ рдбреЛрдореЗрди рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдПрдкреНрд▓рд┐рдХреЗрд╢рди рджреНрд╡рд╛рд░рд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ, рдХреБрдЫ рдорд╛рдорд▓реЛрдВ рдореЗрдВ, рд╣рдореЗрдВ рдЗрд╕реЗ рдПрдХ рд╕рд╛рдл рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ "рддреИрдирд╛рдд" рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЛ рдмрдЪрд╛рдиреЗ рдпрд╛ рдХреНрд▓рд╛рдЗрдВрдЯ рдХреЛ JSON рдСрдмреНрдЬреЗрдХреНрдЯ рдХреЗ рд░реВрдк рдореЗрдВ рднреЗрдЬрдиреЗ рдХреЗ рд▓рд┐рдПред </font><font style="vertical-align: inherit;">рдЗрд╕реЗ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдирдорд░рд╢рд╛рд▓ ()</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрджреНрдзрддрд┐ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдХреЗ рд▓рдЪреАрд▓реЗрдкрди рдХреЛ рдмрдврд╝рд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдбреЛрдореЗрди рдкрд░рдд рднреА рдбреЛрдореЗрди рдШрдЯрдирд╛рдУрдВ рдХрд╛ рдПрдХ рд╕реНрд░реЛрдд рдмрди рд╕рдХрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдпрд╣рд╛рдВ, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдИрд╡реЗрдВрдЯ рд╕реЛрд░реНрд╕рд┐рдВрдЧ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рджреГрд╖реНрдЯрд┐рдХреЛрдг рд▓рд╛рдЧреВ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">, рдЬрдм рдИрд╡реЗрдВрдЯреНрд╕ рдХреЗ рдкрд░рд┐рд╡рд░реНрддрди рдХреЗ рд╕рд╛рде рдбреЛрдореЗрди рдПрдВрдЯрд┐рдЯреАрдЬрд╝ рдмрджрд▓рддреЗ рд╣реИрдВред</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧрдХрд░реНрддрд╛ рд╕реНрдХреНрд░рд┐рдкреНрдЯ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣рд╛рдВ рд╣рдо рдбреЗрдЯрд╛ рд╕реНрдЯреЛрд░ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреЗ рд╕реНрддрд░ рд╕реЗ рд▓рд╛рдЧреВ рдбреЛрдореЗрди рд╡рд┐рдзрд┐рдпреЛрдВ рдФрд░ рд╡рд╕реНрддреБрдУрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВрдЧреЗред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡реНрдпреБрддреНрдХреНрд░рдо</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓рд╛рдЗрдмреНрд░реЗрд░реА </font><font style="vertical-align: inherit;">рдХрд╛ </font><font style="vertical-align: inherit;">рдЙрдкрдпреЛрдЧ </font><font style="vertical-align: inherit;">рдкреНрд░рдмрдВрдзрди рдХреЗ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХреЗ рд╡реНрдпреБрддреНрдХреНрд░рдо рдХреЛ рд▓рд╛рдЧреВ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдХрд░рддреЗ рд╣реИрдВ, рдЬреЛ рдЗрд╕ рдкрд░рд┐рджреГрд╢реНрдп рдореЗрдВ рдЗрдиреНрдлреНрд░рд╛рд╕реНрдЯреНрд░рдХреНрдЪрд░ рд▓реЗрдпрд░ рд╕реЗ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдХреЛ рдЗрдВрдЬреЗрдХреНрдЯ рдХрд░рддрд╛ рд╣реИ, рдЬреЛ рд╣рдореЗрдВ рдбреЛрдореЗрди рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЯреЛрдХрд░реА рдореЗрдВ рд╣реЗрд░рдлреЗрд░ рдХрд░рдиреЗ рдХреА рдХреНрд╖рдорддрд╛ рдкреНрд░рджрд╛рди рдХрд░рддрд╛ рд╣реИ рдФрд░ рдЙрд╕рдХреЗ рдмрд╛рдж рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдкрд░рд┐рд╡рд░реНрддрди рдХреЛ рдмрдЪрд╛рддрд╛ рд╣реИред</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { inject, injectable } <span class="hljs-keyword">from</span> <span class="hljs-string">'inversify'</span><font></font>
<font></font>
@injectable()<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CartService</span> </span>{<font></font>
  @inject(TYPES.CartRepository) private repository: CartRepository<font></font>
<font></font>
  private <span class="hljs-keyword">async</span> _getCart(id: string): <span class="hljs-built_in">Promise</span>&lt;Cart&gt; {
    <span class="hljs-keyword">try</span> {
      <span class="hljs-keyword">const</span> cart = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>.repository.getById(id)
      <span class="hljs-keyword">return</span> cart<font></font>
    } <span class="hljs-keyword">catch</span> (e) {
      <span class="hljs-keyword">const</span> emptyCart = Cart.create({ id, <span class="hljs-attr">products</span>: [] })
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.repository.create(emptyCart)<font></font>
    }<font></font>
  }<font></font>
<font></font>
  public getById(id: string): <span class="hljs-built_in">Promise</span>&lt;Cart&gt; {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.repository.getById(id)<font></font>
  }<font></font>
<font></font>
  public <span class="hljs-keyword">async</span> add(cartId: string, <span class="hljs-attr">item</span>: Item, <span class="hljs-attr">sku</span>: number): <span class="hljs-built_in">Promise</span>&lt;Cart&gt; {
    <span class="hljs-keyword">const</span> cart = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>._getCart(cartId)<font></font>
    cart.add(item, sku)<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.repository.update(cart)<font></font>
  }<font></font>
<font></font>
  public <span class="hljs-keyword">async</span> remove(cartId: string, <span class="hljs-attr">itemId</span>: string): <span class="hljs-built_in">Promise</span>&lt;Cart&gt; {
    <span class="hljs-keyword">const</span> cart = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>._getCart(cartId)<font></font>
    cart.remove(itemId)<font></font>
<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.repository.update(cart)<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рдкрд░рдд рдПрдкреНрд▓рд┐рдХреЗрд╢рди рдХреЗ рд╕рдВрдЪрд╛рд▓рди рдХреЗ рд▓рд┐рдП рдЬрд┐рдореНрдореЗрджрд╛рд░ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕ рдкрд░рдд рдореЗрдВ рдХреЛрдб рдкрд░рд┐рд╡рд░реНрддрди рдбреЛрдореЗрди рд╕рдВрд╕реНрдерд╛рдУрдВ рдпрд╛ рдбреЗрдЯрд╛рдмреЗрд╕ рдЬреИрд╕реА рдмрд╛рд╣рд░реА рдирд┐рд░реНрднрд░рддрд╛ рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддреЗ рд╣реИрдВред</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднреВрдорд┐рдХрд╛рд░реВрдк рд╡реНрдпрд╡рд╕реНрдерд╛</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕рднреА рд╕реНрдкрд╖реНрдЯрддрд╛ рдХреЗ рдмрд╛рд╡рдЬреВрдж, рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреА рдкрд░рдд рдмрд╛рд╣рд░реА рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рд╕рд╣рднрд╛рдЧрд┐рддрд╛ рдХрд░рддреА рд╣реИ, рдЬреИрд╕реЗ рдХрд┐ рдбреЗрдЯрд╛рдмреЗрд╕ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдбреЗрдЯрд╛рдмреЗрд╕ рдореЗрдВ рдбреЗрдЯрд╛ рдХреЛ рдмрдЪрд╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдореИрдВ рдбреЗрдЯрд╛ рдореИрдкрд░ рдФрд░ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реВрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mapper рдбреЗрдЯрд╛рдмреЗрд╕ рд╕реЗ рд╕реНрд░реЛрдд рдбреЗрдЯрд╛ рдкреНрд░рд╛рдкреНрдд рдХрд░ рд╕рдХрддрд╛ рд╣реИ рдФрд░ рдЗрд╕реЗ рд╕рдВрдмрдВрдзрд┐рдд рдбреЛрдореЗрди рдСрдмреНрдЬреЗрдХреНрдЯ рдореЗрдВ рдмрджрд▓ рд╕рдХрддрд╛ рд╣реИ:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Cart, CartItem } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/domain/cart'</span><font></font>
<font></font>
<span class="hljs-keyword">const</span> getProducts = <span class="hljs-function">(<span class="hljs-params">products: CartItem[]</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> products.map(<span class="hljs-function"><span class="hljs-params">product</span> =&gt;</span> ({
    <span class="hljs-attr">item</span>: product.item,
    <span class="hljs-attr">quantity</span>: product.quantity<font></font>
  }))<font></font>
}<font></font>
<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CartMapper</span> </span>{<font></font>
  public <span class="hljs-keyword">static</span> toDomain(raw: any): Cart {
    <span class="hljs-keyword">return</span> Cart.create({
      <span class="hljs-attr">id</span>: raw.id,
      <span class="hljs-attr">couponCode</span>: raw.couponCode,
      <span class="hljs-attr">products</span>: getProducts(raw.products || [])<font></font>
    })<font></font>
  }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рд╕реНрд╡рдпрдВ рдХрд┐рд╕реА рд╡рд┐рд╢реЗрд╖ рдбреЗрдЯрд╛рдмреЗрд╕ рдХреЗ рдХреНрд▓рд╛рдЗрдВрдЯ рд▓рд╛рдЗрдмреНрд░реЗрд░реА рдкрд░ рдирд┐рд░реНрднрд░ рд╣реЛ рд╕рдХрддреА рд╣реИред </font><font style="vertical-align: inherit;">рдЙрджрд╛рд╣рд░рдг рдХреЗ рд▓рд┐рдП, рд░реИрдо рдореЗрдВ рд╕реНрдЯреЛрд░реЗрдЬ рд╕реЗ, рдФрд░ рдбреЗрдЯрд╛ рдХреЛ рдкреНрд░рдмрдВрдзрд┐рдд рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдЗрди рд╡рд┐рдзрд┐рдпреЛрдВ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░реЗрдВ:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { injectable, inject } <span class="hljs-keyword">from</span> <span class="hljs-string">'inversify'</span>
<span class="hljs-keyword">import</span> { Cart } <span class="hljs-keyword">from</span> <span class="hljs-string">'src/domain/cart'</span>
<span class="hljs-keyword">import</span> { CartMapper } <span class="hljs-keyword">from</span> <span class="hljs-string">'../mappers/cart'</span><font></font>
<font></font>
interface ICartRepository {<font></font>
  getById(id: string): <span class="hljs-built_in">Promise</span>&lt;Cart&gt;<font></font>
  create(cart: Cart): <span class="hljs-built_in">Promise</span>&lt;Cart&gt;<font></font>
  update(cart: Cart): <span class="hljs-built_in">Promise</span>&lt;Cart&gt;<font></font>
}<font></font>
<font></font>
@injectable()<font></font>
<span class="hljs-keyword">export</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">CartRepository</span> <span class="hljs-title">implements</span> <span class="hljs-title">ICartRepository</span> </span>{<font></font>
  @inject(TYPES.Database) private _database: MemoryData<font></font>
<font></font>
  <span class="hljs-keyword">async</span> getById(id: string): <span class="hljs-built_in">Promise</span>&lt;Cart&gt; {
    <span class="hljs-keyword">const</span> cart = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>._database.cart.getById(id)
    <span class="hljs-keyword">if</span> (!cart) {
      <span class="hljs-keyword">throw</span> <span class="hljs-keyword">new</span> ResourceNotFound(<span class="hljs-string">'Cart'</span>, { id })<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> CartMapper.toDomain(cart)<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">async</span> create(cart: Cart): <span class="hljs-built_in">Promise</span>&lt;Cart&gt; {
    <span class="hljs-keyword">const</span> dtoCart = cart.unmarshal()
    <span class="hljs-keyword">const</span> inserted = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>._database.cart.insert(dtoCart)
    <span class="hljs-keyword">return</span> CartMapper.toDomain(inserted)<font></font>
  }<font></font>
<font></font>
  <span class="hljs-keyword">async</span> update(cart: Cart): <span class="hljs-built_in">Promise</span>&lt;Cart&gt; {
    <span class="hljs-keyword">const</span> dtoCart = cart.unmarshal()
    <span class="hljs-keyword">const</span> updated = <span class="hljs-keyword">await</span> <span class="hljs-keyword">this</span>._database.cart.update(cart.id, dtoCart)
    <span class="hljs-keyword">return</span> CartMapper.toDomain(updated)<font></font>
  }<font></font>
}</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд╖реНрдХрд░реНрд╖</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реБрдзрд╛рд░ рдФрд░ рд╕реБрдзрд╛рд░ рдХреЗ рд▓рд┐рдП рдмрд╣реБрдд рдЬрдЧрд╣ рд╣реИред </font><font style="vertical-align: inherit;">рдЗрд╕ рджреГрд╢реНрдп рдкреНрд░рджрд░реНрд╢рди рдХреЗ рд▓рд┐рдП рдХреЛрдб рдмрдирд╛рдпрд╛ рдЧрдпрд╛ рдерд╛, рдФрд░ рд╕реНрддрд░рд┐рдд рд╡рд╛рд╕реНрддреБрдХрд▓рд╛ рдореЗрдВ рдкрд╣рд▓рд╛ рд╕реБрдзрд╛рд░ рдбреЛрдореЗрди рдкрд░рдд рдореЗрдВ рд░рд┐рдкреЙрдЬрд┐рдЯрд░реА рдЗрдВрдЯрд░рдлрд╝реЗрд╕ рдХреА рдШреЛрд╖рдгрд╛ рдФрд░ рдмреБрдирд┐рдпрд╛рджреА рдврд╛рдВрдЪреЗ рдХреА рдкрд░рдд рдореЗрдВ рдЗрд╕рдХреЗ рдХрд╛рд░реНрдпрд╛рдиреНрд╡рдпрди рдХреА рдШреЛрд╖рдгрд╛ рд╣реЛ рд╕рдХрддреА рд╣реИ, рдЬрд┐рд╕реЗ рд╣рдо рдЕрдЧрд▓реА рдмрд╛рд░ рдЪрд░реНрдЪрд╛ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╕реНрд░реЛрдд рдХреЛрдб </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ рдЙрдкрд▓рдмреНрдз рд╣реИ </font><font style="vertical-align: inherit;">ред</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi486714/index.html">рдЗрдВрд╕реНрдЯрд╛рдЧреНрд░рд╛рдо рдПрдкреА рдиреНрдпреВрдирддрдо рдкрд░</a></li>
<li><a href="../hi486716/index.html">Google рд╢реАрдЯ рдкрд░ рдореЙрд╕реНрдХреЛ рдПрдХреНрд╕рдЪреЗрдВрдЬ рдлреНрд░реА рдПрдкреАрдЖрдИ рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ</a></li>
<li><a href="../hi486722/index.html">рдУрдкрди рд╕реЛрд░реНрд╕ рдЯреВрд▓реНрд╕ рдХреЗ рд╕рд╛рде рд╕реНрдЯреЗрдЯрд┐рдХ рд╕реЗрдлреНрдЯреА рдЯреЗрд╕реНрдЯрд┐рдВрдЧ</a></li>
<li><a href="../hi486726/index.html">рд╡рд░реНрдЪреБрдЕрд▓ EDGE рд░рд╛рдЙрдЯрд░ рдкрд░ рдиреЗрдЯрд╡рд░реНрдХ рдХрдиреЗрдХреНрд╢рди рдХрд╛ рдирд┐рджрд╛рди рдХрд░рдирд╛</a></li>
<li><a href="../hi486728/index.html">рдЬрд░реНрдорди рдбреЗрдЯрд╛ рдкреНрд░реЛрдЯреЗрдХреНрд╢рди рдЕрдереЙрд░рд┐рдЯреА: рд╡рд┐рдВрдбреЛрдЬ 10 1909 рдореЗрдВ рдЯреЗрд▓реАрдореЗрдЯреНрд░реА рдкреВрд░реА рддрд░рд╣ рд╕реЗ рдЕрдХреНрд╖рдо рд╣реЛ рд╕рдХрддреА рд╣реИ</a></li>
<li><a href="../hi486736/index.html">FFmpeg рдореЗрдВ рд╡реАрдбрд┐рдпреЛ рд╕реНрдЯреНрд░реАрдо рдХреА рдбрд┐рдХреЛрдбрд┐рдВрдЧ рдЧрддрд┐ рдХреИрд╕реЗ рдмрдврд╝рд╛рдПрдВ</a></li>
<li><a href="../hi486738/index.html">PHP рдХреЛрдб рд╕реНрдЯрд╛рдЗрд▓ рдХрдиреНрд╡реЗрдВрд╢рди</a></li>
<li><a href="../hi486740/index.html">рдкреНрд░рдХреНрд░рд┐рдпрд╛рддреНрдордХ рдореИрдХреНрд░реЛ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЬрдВрдЧ рдореЗрдВ рдПрдХ рдПрдкреАрдЖрдИ рд▓рд┐рдЦрдирд╛</a></li>
<li><a href="../hi486742/index.html">рднрд╡рд┐рд╖реНрдп рдХреЗ рдмрд╛рд░реЗ рдореЗрдВ рдЕрдирд╛рддреЛрд▓реА рд╡рд╛рд╕рд░рдореИрди рдХреЗ рд╕рд╛рде рд╕рд╛рдХреНрд╖рд╛рддреНрдХрд╛рд░</a></li>
<li><a href="../hi486744/index.html">рдПрдХ рд╕реНрдорд╛рд░реНрдЯ рдШрд░реЗрд▓реВ рдирд┐рд░реНрдорд┐рдд рдореБрджреНрд░рд╛ рд╕реБрдзрд╛рд░рдХ рдмрд┐рдХреНрд░реА рдкрд░ рдЪрд▓рд╛ рдЧрдпрд╛ред рд╣рдордиреЗ рдирдП рдЙрддреНрдкрд╛рдж - IBACK рдХреЛ рджреЗрдЦрд╛</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>