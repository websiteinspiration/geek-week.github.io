<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛠️ 👨‍👧‍👧 🤟🏿 Trik yang menarik dan trik SSH 🏊 💌 🎊</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Beberapa tips menggunakan SSH secara efisien. Mari kita bicara tentang caranya:
 
 

- Gunakan otentikasi dua faktor untuk koneksi SSH
- aman untuk me...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Trik yang menarik dan trik SSH</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502728/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beberapa tips menggunakan SSH secara efisien. </font><font style="vertical-align: inherit;">Mari kita bicara tentang caranya:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gunakan otentikasi dua faktor untuk koneksi SSH</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aman untuk menggunakan "penerusan kunci" (penerusan agen);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">keluar dari sesi SSH yang digantung;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">biarkan terminal terbuka ketika Anda keluar atau lepaskan;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagikan terminal jarak jauh dengan teman (tanpa Zoom!).</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/ib/ip/2b/ibip2baduhanlunu57eepm5ff3w.jpeg" alt="gambar"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Otentikasi multi faktor SSH</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada lima cara untuk menambahkan faktor kedua untuk otentikasi di SSH:</font></font><br>
<br>
<ol>
<li> <b> OpenSSH</b>     ( ). <br>
<br>
  2020   OpenSSH    FIDO U2F (Universal Second Factor).    ,   .<br>
<br>
          ,             8.2   .       <b><code>ssh -V</code></b>,      <b><code>nc [servername] 22</code></b>.<br>
<br>
       — <b><code>ecdsa-sk</code></b>  <b><code>ed25519-sk</code></b> (   ).             <b><code>$ ssh-keygen -t ecdsa-sk -f ~/.ssh/id_ecdsa_sk</code></b>.       ,    U2F .    U2F       ,   .<br>
<br>
          . OpenSSH        -sk-«» .        U2F .  ,       .      <b><code>$ ssh-keygen -t ecdsa-sk -O resident -f ~/.ssh/id_ecdsa_sk</code></b>.       ,        <b><code> $ ssh-add -K</code></b>.       .</li>
<li> <b> PIV+PKCS11  Yubikey.</b>      ,      SSH-,      .  Yubikey  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"> U2F+SSH with PIV/PKCS11</a>.     ,     FIDO U2F.   ,  .</li>
<li> <b> ssh- <code>yubikey-agent.</code></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Filippo Valsorda</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">SSH-  Yubikeys</a>.         .</li>
<li> <b> Touch ID  <code>sekey</code>.</b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Sekey</a> —  SSH-    ,       secure enclave  MacOS       Touch ID.</li>
<li> <b> Single Sign On SSH.</b>    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"></a>  .  Single Sign On SSH   ,          ,    .</li>
</ol><br>
<br>
<h2>    (agent forwarding)</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meneruskan kunci dalam SSH memberikan akses host jarak jauh ke agen SSH lokal Anda. Ketika klien SSH Anda menggunakan penerusan kunci (biasanya diaktifkan oleh opsi </font></font><b><code>ssh -A</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), ada 2 saluran dalam koneksi - sesi interaktif Anda dan saluran penerusan kunci. Agen SSH lokal membuat soket IPC yang menghubungkan ke host jarak jauh melalui saluran ini. Ini berbahaya karena Seorang pengguna dengan hak akses root pada host jarak jauh memiliki akses ke agen SSH lokal Anda dan berpotensi menggunakannya untuk mengakses sumber daya jaringan atas nama Anda. Dengan agen SSH standar yang dikirimkan bersama OpenSSH, Anda tidak pernah tahu apa yang terjadi. Tetapi jika Anda menggunakan kunci U2F (atau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sekey</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), Anda dapat menghentikan segala upaya untuk menggunakan agen SSH Anda.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahkan dengan batasan ini, penggunaan forwarding kunci secara berkala dapat diterima. </font><font style="vertical-align: inherit;">Jangan gunakan metode ini untuk semua koneksi Anda. </font><font style="vertical-align: inherit;">Gunakan hanya jika Anda yakin akan kebutuhannya dalam situasi tertentu.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keluar dari Sesi Hanging SSH</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sesi SSH sering membeku karena pemadaman jaringan, kehilangan kontrol oleh program yang dapat dieksekusi atau salah satu urutan kontrol terminal yang memblokir input keyboard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut adalah beberapa cara untuk keluar dari sesi yang macet:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Keluar otomatis ketika jaringan rusak. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dalam konfigurasi SSH </font></font><code><b>.ssh/config</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda </font><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">Anda perlu menambahkan: itu </font><font style="vertical-align: inherit;">akan memeriksa koneksi dengan mengirim permintaan gema ke host jarak jauh setiap </font><font style="vertical-align: inherit;">detik. </font><font style="vertical-align: inherit;">Jika lebih dari </font><font style="vertical-align: inherit;">permintaan tersebut tidak dijawab, maka SSH akan menutup koneksi.</font></font><br>
<br>
<code><b>ServerAliveInterval 5<br>
ServerAliveCountMax 1<br>
</b></code><br>
<br>
<code><b>ssh</b></code><font style="vertical-align: inherit;"></font><code><b>ServerAliveInterval</b></code><font style="vertical-align: inherit;"></font><code><b>ServerAliveCountMax</b></code><font style="vertical-align: inherit;"></font></li>
<li><b> .</b> <code><b>ssh</b></code>   <code><b>~</b></code>     .  <code><b>~.</b></code>        (       ).<br>
<br>
 <code><b>~?</b></code>   ,      .       ,      <code><b>~</b></code> ,    .</li>
</ol><br>
<b>  ?</b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketika Internet ditemukan, komputer tidak terlalu mobile. Saat Anda menggunakan laptop dan beralih di antara jaringan WiFi IPv4, alamat IP Anda akan berubah. Karena SSH didasarkan pada koneksi TCP, dan koneksi TCP tergantung pada titik koneksi dengan alamat IP tetap, setiap kali Anda terhubung ke jaringan lain, koneksi SSH Anda terputus. Ketika alamat IP Anda berubah, diperlukan beberapa saat sebelum tumpukan jaringan mendeteksi bahwa koneksi terputus. Koneksi TCP tidak menyiratkan shutdown cepat dari salah satu pihak jika terjadi masalah jaringan, sehingga akan mencoba untuk mencoba mengirim ulang data untuk beberapa waktu lagi. Di terminal Anda, sesi akan terlihat macet. IPv6 menambahkan fungsionalitas yang memungkinkan perangkat mempertahankan alamat IP mereka ketika berpindah antar jaringan.Jadi suatu hari nanti ini akan berhenti menjadi masalah.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cara membiarkan terminal terbuka pada host jarak jauh</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada dua opsi untuk menyimpan sesi ketika Anda berpindah antar jaringan atau ingin memutuskan koneksi untuk sementara waktu:</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gunakan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mosh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> atau </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terminal Abadi</font></font></a></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Jika Anda benar-benar membutuhkan koneksi yang </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak macet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , meskipun Anda berpindah antar jaringan, gunakan Mosh-mobile shell. </font><font style="vertical-align: inherit;">Mosh adalah shell aman yang menggunakan SSH untuk menginisialisasi sesi (jabat tangan), setelah itu beralih ke saluran terenkripsi sendiri. </font><font style="vertical-align: inherit;">Saluran ini sangat stabil. </font><font style="vertical-align: inherit;">Ini dapat menangani berbagai situasi, termasuk pemutusan dari Internet, mengubah alamat IP laptop Anda, penundaan besar saat transmisi melalui jaringan, dan lain-lain. </font><font style="vertical-align: inherit;">Berkat keajaiban UDP dan protokol sinkronisasi yang digunakan oleh Mosh.</font></font><br>
<br>
  Mosh       ,          60000–61000   UDP     .     mosh user@server  .<br>
<br>
Mosh        ,          SSH,      -    .          ,        . SSH        ,  ,  Mosh             .</li>
<li><b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">tmux</a>.</b>      ,           ,    tmux.   SSH- ,      <code><b>tmux attach</b></code>,     <code><b>tmux</b></code>.        —    ,      macOS       .<br>
<br>
  tmux   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">Byobu</a> — ,        . Byobu    Ubuntu      macOS    Homebrew.</li>
</ol><br>
<br>
<h2>     </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika Anda memecahkan masalah yang rumit dengan server, saya ingin berbagi sesi SSH dengan orang lain yang ada di tempat lain. </font><font style="vertical-align: inherit;">tmux adalah alat terminal berbagi terbaik. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, Anda perlu melakukan hal berikut:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pastikan itu </font></font><code><b>tmux</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">diinstal pada server Anda di DMZ (atau di mana Anda ingin terhubung).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda berdua harus terhubung ke server melalui SSH </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan akun yang sama</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salah satu dari Anda harus berlari </font></font><code><b>tmux</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk membuat </font></font><code><b>tmux</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sesi.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yang lain harus menjalankan perintah </font></font><code><b>tmux attach</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voila! </font><font style="vertical-align: inherit;">Anda telah berbagi terminal.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda membutuhkan lebih banyak penyesuaian sesi multi-pengguna, gunakan tmate, garpu ini </font></font><code><b>tmux</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang memungkinkan Anda untuk membuat sesi bersama lebih mudah. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diterjemahkan oleh Andrey Zinchenko, Kepala Departemen Analisis Rexoft</font></font></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id502716/index.html">Tidak dapat berbagi komputer di rumah Anda? Buat satu dari dua</a></li>
<li><a href="../id502718/index.html">Proyek Talking Head, atau sejarah pengembangan perangkat lunak untuk robot telepresence</a></li>
<li><a href="../id502720/index.html">Tren Pengujian untuk Diperhatikan pada 2020</a></li>
<li><a href="../id502722/index.html">Lembah Silikon dalam bahasa Rusia. Bagaimana # ITX5 bekerja di Innopolis</a></li>
<li><a href="../id502726/index.html">WebRTC Membuat aplikasi dengan blackjack dan panggilan video</a></li>
<li><a href="../id502730/index.html">Apa yang diketahui perancang industri tentang perangkat yang Anda gunakan setiap hari. Atau 50 tahun mengubah mouse komputer</a></li>
<li><a href="../id502732/index.html">Buku "Cara menguji di Google" - versi elektronik gratis</a></li>
<li><a href="../id502734/index.html">Ack grep lebih baik</a></li>
<li><a href="../id502740/index.html">Bagaimana mendisinfeksi pesawat di era covid-19?</a></li>
<li><a href="../id502742/index.html">Kami mengundang Anda ke DINS DevOps EVENING (online): evolusi Prometheus dan Zabbix dan pemrosesan log Nginx di ClickHouse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>