<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤾🏻 👸🏽 📪 Simulateurs de systèmes informatiques - ressemblent-ils à la réalité 🚠 🙅🏼 🤱🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans un langage simple et accessible sur les termes de base du domaine des simulateurs, ainsi que les types et niveaux de détail des modèles. Matériel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Simulateurs de systèmes informatiques - ressemblent-ils à la réalité</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/auriga/blog/504086/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans un langage simple et accessible sur les termes de base du domaine des simulateurs, ainsi que les types et niveaux de détail des modèles. </font><font style="vertical-align: inherit;">Matériel pour une connaissance facile et rapide de ce domaine.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n6/ra/jd/n6rajd4edfjmszumvujqoaqtxt8.jpeg" alt="image"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si on m'avait interrogé sur la simulation il y a quelque temps, la première chose qui me serait venue à l'esprit serait mon fils, qui parle de son estomac malade à la veille du contrôle à l'école. Cependant, depuis dix ans, je travaille avec des simulateurs de divers systèmes informatiques, des téléphones aux serveurs basés sur des microprocesseurs, des SOC (System-On-Chip) et des chipsets de l'un des plus grands fabricants (malheureusement, le nom est sous la NDA), et mon idée de La simulation a changé. Mais tout d'abord.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis sûr que beaucoup d'entre vous sont tombés sur des simulateurs, souvent appelés machines virtuelles, hyperviseurs. </font><font style="vertical-align: inherit;">Quelqu'un installe Parallels Studio sur son Mac pour exécuter Windows à partir de MacOS, quelqu'un utilise un produit de VmWare - Workstation pour avoir un autre système d'exploitation (OS) à l'intérieur déjà installé. </font><font style="vertical-align: inherit;">Ceux qui connaissent Linux préfèrent KVM et QEMU. </font><font style="vertical-align: inherit;">VirtualBox est également populaire parmi les gens. </font><font style="vertical-align: inherit;">Les professionnels impliqués dans le développement de matériel basé sur FPGA (circuits intégrés logiques programmables) connaissent VCS de Synopsys et Mentor Graphics Questa. </font><font style="vertical-align: inherit;">Et pourtant, ce n'est qu'une petite partie de ce que l'on peut appeler des simulateurs.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce qu'un simulateur? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un simulateur est un modèle, généralement un logiciel, un véritable appareil. </font><font style="vertical-align: inherit;">En conséquence, la simulation est un processus d'un tel modèle qui répète le fonctionnement du dispositif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En principe, vous pouvez créer un modèle de n'importe quel périphérique, mais les plus courants sont les simulateurs de périphériques à microprocesseur, c'est-à-dire les périphériques dont le composant central est un microprocesseur, et le reste de la logique est déjà construit autour de lui. </font><font style="vertical-align: inherit;">L'une des principales utilisations du simulateur est de lancer des programmes conçus pour ce microprocesseur lui-même. </font><font style="vertical-align: inherit;">Dans le même temps, l'utilisation d'un véritable appareil est difficile pour une raison ou une autre, par exemple, elle peut tout simplement ne pas exister encore, si nous parlons de modélisation de la future génération de microprocesseurs.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airbnb en simulation - invité et hôte</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code qui s'exécute à l'intérieur du simulateur s'appelle le "code invité", il peut s'agir d'un "programme invité" ou de l'ensemble du "système d'exploitation invité". </font><font style="vertical-align: inherit;">Le système simulé lui-même est simplement appelé «invité». </font><font style="vertical-align: inherit;">À son tour, le système, l'ordinateur sur lequel le simulateur s'exécute, est appelé «hôte» (hôte anglais) et le système d'exploitation exécuté sur l'hôte sur lequel le simulateur s'exécute est appelé «OS hôte».</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/0z/u-/6c/0zu-6c26huucbitovqa4ln8pjcc.jpeg" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, nous pouvons dire qu'un simulateur qui implémente un certain ensemble d'instructions du système invité les simule à l'aide des outils du système hôte disponibles.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulation et émulation - quel nom est correct?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le modèle peut répéter l'appareil avec différents degrés de précision et de détails. </font><font style="vertical-align: inherit;">Il s'agit souvent d'une simulation du comportement externe du système uniquement disponible pour le code de programme. </font><font style="vertical-align: inherit;">Le code ne se soucie pas de la façon dont telle ou telle instruction du processeur est implémentée à l'intérieur - l'essentiel est qu'il fonctionne. </font><font style="vertical-align: inherit;">Cette version de la simulation est courante, pas difficile à développer et assez rapide, ne ralentit pas même sur les ordinateurs des utilisateurs ordinaires.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, cela ne suffit pas si nous voulons savoir, par exemple, combien de temps le programme fonctionnera sur du matériel réel. </font><font style="vertical-align: inherit;">Cela nécessite de modéliser non seulement le comportement externe, mais aussi une répétition de la structure interne et de la logique de travail. </font><font style="vertical-align: inherit;">Cela peut également être fait avec différents degrés de détail et de précision. </font><font style="vertical-align: inherit;">Il est plus correct d'appeler de tels modèles d'émulateurs, qui émulent vraiment l'appareil et ne «simulent» pas les résultats.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La création d'émulateurs est beaucoup plus compliquée en raison de la plus grande quantité de fonctionnalités qui doivent être implémentées dans le modèle. </font><font style="vertical-align: inherit;">Ils fonctionnent également beaucoup plus lentement que les simulateurs du comportement externe de l'appareil. </font><font style="vertical-align: inherit;">Avec les émulateurs, nous ne parlons pas du tout de démarrer Windows - cela peut prendre des années. </font><font style="vertical-align: inherit;">Personne n'est engagé dans la création d'un émulateur logiciel de l'ensemble de la plateforme - c'est très long et cher. </font><font style="vertical-align: inherit;">Au lieu de cela, des composants individuels du système sont émulés, comme le même processeur central, et seule une partie du processus de simulation est lancée sur celui-ci. </font><font style="vertical-align: inherit;">Divers schémas hybrides sont possibles, lorsqu'une partie du simulateur est un modèle de haut niveau, une partie est un modèle de bas niveau, une partie est dans un FPGA et une partie est en fait un véritable morceau de fer.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/j3/yd/ltj3ydvpjsh9jgsczxuqi-cu2x0.jpeg" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 niveaux de détails de simulation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai écrit ci-dessus, l'option la plus courante est la simulation au niveau des instructions du processeur, dite ISA (Instruction Set Architecture), ou, plus précisément, le résultat de leur exécution, c'est-à-dire sans émuler toute la logique interne de comment cela se passe dans un vrai processeur, et sans prendre en compte le temps d'exécution des différentes instructions. Ces simulateurs sont également appelés fonctionnels. C'est ainsi que VirtualBox, Vmware Workstation, Wind River Simics, KVM et QEMU fonctionnent. Cela vous permet d'exécuter facilement, sans actions supplémentaires inutiles, des programmes conçus pour le périphérique simulé. En d'autres termes, aucune recompilation ni aucune autre manipulation avec les programmes en cours n'est requise. Dans de tels cas, ils disent qu'il est possible d'exécuter du code binaire non modifié.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons d'un niveau d'abstraction plus élevé, alors ce sera la mise en œuvre d'une certaine ABI (Application Binary Interface). En résumé, ABI décrit une interface binaire pour l'interaction de deux programmes - généralement un programme utilisateur et une bibliothèque ou un système d'exploitation. ABI couvre les conventions d'appel (comment passer des paramètres et renvoyer des valeurs), la taille des types de données, les appels système. Comment ça fonctionne? Par exemple, si un programme écrit pour Linux doit créer un thread supplémentaire (à partir du thread anglais) pour l'exécution, la fonction pthread_create () est appelée. Mais que faire si vous créez une bibliothèque avec une telle fonction dans Windows et implémentez les mécanismes nécessaires pour lier l'application et la bibliothèque (liaison dynamique)? Dans ce cas, vous pouvez exécuter des applications Linux à partir de Windows. Windows "simulera" Linux.C'est exactement ce qui a été fait dans le sous-système Windows pour Linux sur Windows 10, qui vous permet d'exécuter des applications Linux binaires non modifiées sur Windows.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons maintenant à quoi ressemblent les niveaux de simulation inférieurs et détaillés. Ce sera le niveau de microarchitecture auquel les algorithmes internes réels et les blocs de processeur sont simulés, tels qu'un décodeur d'instructions, des files d'attente, une unité de traitement en panne, un prédicteur de branche, un cache, un planificateur et des appareils de comptage eux-mêmes. Une telle modélisation nous permet d'analyser la vitesse réelle d'exécution des programmes et, par exemple, de les optimiser pour les architectures existantes. Et dans le cas de la simulation de prototypes de futurs microprocesseurs, la prédiction et l'évaluation des performances de ces dispositifs sont possibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En dessous du niveau de simulation microarchitecturale se trouve le niveau d'émulation des éléments logiques qui composent les puces modernes. Ces émulateurs sont à la fois logiciels et matériels utilisant des FPGA. La logique FPGA est décrite en utilisant RTL (Register Transfer Level) dans les langues Verilog, VHDL, etc. Après la compilation, une image (bitstream) est obtenue, qui est ensuite flashée dans le FPGA. Et pour cela, il n'est pas nécessaire d'utiliser un fer à souder et de comprendre le génie électrique. La carte est connectée à un ordinateur, par exemple, via une interface USB ou JTAG, et un logiciel spécial du fabricant de la carte FPGA effectue l'enregistrement. Le coût de ces cartes commence de dix dollars pour les options les plus simples à des millions de dollars pour les grandes cartes FPGA de la taille d'une armoire utilisée dans les grandes entreprises de fabrication de puces.Dans ces entreprises, la simulation FPGA est la dernière étape avant la mise en production de RTL.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons d'appareils simples, alors que l'image FPGA est à portée de main, vous pouvez contacter des entreprises spécialisées qui fabriqueront un véritable appareil (non FPGA) avec une logique programmée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La figure ci-dessous montre les niveaux de simulation décrits.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jr/zp/yb/jrzpybtaxtzvnzr9rxixvbkifqo.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus de ces niveaux de simulation, j'ai également dû faire face à des simulateurs hybrides. En fait, ce sont des simulateurs connectés les uns aux autres, modélisant différentes parties du système à différents niveaux. Par exemple, vous devez analyser la bande passante d'une nouvelle carte réseau qui fonctionne avec le pilote en cours de développement pour un système d'exploitation particulier. Un tel dispositif de réseau, ainsi qu'un certain nombre de dispositifs associés, peuvent être mis en œuvre d'abord au niveau microarchitectural pour une analyse préliminaire, puis dans le FPGA, au niveau des éléments logiques, pour les vérifications finales. Dans le même temps, le reste du système, qui n'est que partiellement impliqué, est implémenté au niveau de l'instruction. Vous ne pouvez pas vous en passer, car il est nécessaire, par exemple, de charger le système d'exploitation, et cela n'a aucun sens de l'implémenter à un niveau inférieur et plus complexe.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alors, qu'en est-il de la comparaison des simulateurs et de la réalité? </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme il est maintenant clair, il n'y a aucune tâche pour rendre tel ou tel simulateur aussi similaire à la réalité que possible. </font><font style="vertical-align: inherit;">Il y a une tâche posée par l'entreprise, et la simulation est effectuée avec le degré de «similitude» avec la réalité, ce qui est au minimum suffisant pour résoudre ce problème, sans perdre d'argent et de temps supplémentaires. </font><font style="vertical-align: inherit;">Dans un cas, il peut s'agir d'une simple bibliothèque qui implémente l'interface binaire nécessaire (ABI), et dans l'autre, un simulateur microarchitectural détaillé ne peut être supprimé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit des informations les plus élémentaires sur ce que sont les simulateurs et ce qu'ils sont. </font><font style="vertical-align: inherit;">Dans le prochain article, je décrirai les détails de la mise en œuvre de simulateurs de plate-forme complète, de modèles de battements et de travail avec des pistes.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504072/index.html">L'accord utilisateur idéal: comment minimiser les risques pour les développeurs</a></li>
<li><a href="../fr504074/index.html">Glass Nightmare: Nettoyer le patrimoine nucléaire de la guerre froide de Hanford</a></li>
<li><a href="../fr504080/index.html">Comment les employés d'Apple et de Google aident les responsables de la santé à suivre ensemble le coronavirus</a></li>
<li><a href="../fr504082/index.html">Que ferons-nous avec les 1,2 GHz supplémentaires?</a></li>
<li><a href="../fr504084/index.html">Explorez le bug iOS avec Hopper</a></li>
<li><a href="../fr504088/index.html">Journalisation avancée de Windows. Recherche de mimikatz</a></li>
<li><a href="../fr504092/index.html">Regardez d'abord les enregistrements et les tuples JavaScript</a></li>
<li><a href="../fr504096/index.html">Optimal Newbie Way pour C ++ / Qt</a></li>
<li><a href="../fr504098/index.html">Dipfake vidéo une image</a></li>
<li><a href="../fr504102/index.html">Introduction à Python Functools</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>