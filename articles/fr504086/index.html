<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§æüèª üë∏üèΩ üì™ Simulateurs de syst√®mes informatiques - ressemblent-ils √† la r√©alit√© üö† üôÖüèº ü§±üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans un langage simple et accessible sur les termes de base du domaine des simulateurs, ainsi que les types et niveaux de d√©tail des mod√®les. Mat√©riel...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Simulateurs de syst√®mes informatiques - ressemblent-ils √† la r√©alit√©</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/auriga/blog/504086/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans un langage simple et accessible sur les termes de base du domaine des simulateurs, ainsi que les types et niveaux de d√©tail des mod√®les. </font><font style="vertical-align: inherit;">Mat√©riel pour une connaissance facile et rapide de ce domaine.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n6/ra/jd/n6rajd4edfjmszumvujqoaqtxt8.jpeg" alt="image"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si on m'avait interrog√© sur la simulation il y a quelque temps, la premi√®re chose qui me serait venue √† l'esprit serait mon fils, qui parle de son estomac malade √† la veille du contr√¥le √† l'√©cole. Cependant, depuis dix ans, je travaille avec des simulateurs de divers syst√®mes informatiques, des t√©l√©phones aux serveurs bas√©s sur des microprocesseurs, des SOC (System-On-Chip) et des chipsets de l'un des plus grands fabricants (malheureusement, le nom est sous la NDA), et mon id√©e de La simulation a chang√©. Mais tout d'abord.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis s√ªr que beaucoup d'entre vous sont tomb√©s sur des simulateurs, souvent appel√©s machines virtuelles, hyperviseurs. </font><font style="vertical-align: inherit;">Quelqu'un installe Parallels Studio sur son Mac pour ex√©cuter Windows √† partir de MacOS, quelqu'un utilise un produit de VmWare - Workstation pour avoir un autre syst√®me d'exploitation (OS) √† l'int√©rieur d√©j√† install√©. </font><font style="vertical-align: inherit;">Ceux qui connaissent Linux pr√©f√®rent KVM et QEMU. </font><font style="vertical-align: inherit;">VirtualBox est √©galement populaire parmi les gens. </font><font style="vertical-align: inherit;">Les professionnels impliqu√©s dans le d√©veloppement de mat√©riel bas√© sur FPGA (circuits int√©gr√©s logiques programmables) connaissent VCS de Synopsys et Mentor Graphics Questa. </font><font style="vertical-align: inherit;">Et pourtant, ce n'est qu'une petite partie de ce que l'on peut appeler des simulateurs.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qu'est-ce qu'un simulateur? </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un simulateur est un mod√®le, g√©n√©ralement un logiciel, un v√©ritable appareil. </font><font style="vertical-align: inherit;">En cons√©quence, la simulation est un processus d'un tel mod√®le qui r√©p√®te le fonctionnement du dispositif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En principe, vous pouvez cr√©er un mod√®le de n'importe quel p√©riph√©rique, mais les plus courants sont les simulateurs de p√©riph√©riques √† microprocesseur, c'est-√†-dire les p√©riph√©riques dont le composant central est un microprocesseur, et le reste de la logique est d√©j√† construit autour de lui. </font><font style="vertical-align: inherit;">L'une des principales utilisations du simulateur est de lancer des programmes con√ßus pour ce microprocesseur lui-m√™me. </font><font style="vertical-align: inherit;">Dans le m√™me temps, l'utilisation d'un v√©ritable appareil est difficile pour une raison ou une autre, par exemple, elle peut tout simplement ne pas exister encore, si nous parlons de mod√©lisation de la future g√©n√©ration de microprocesseurs.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Airbnb en simulation - invit√© et h√¥te</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code qui s'ex√©cute √† l'int√©rieur du simulateur s'appelle le "code invit√©", il peut s'agir d'un "programme invit√©" ou de l'ensemble du "syst√®me d'exploitation invit√©". </font><font style="vertical-align: inherit;">Le syst√®me simul√© lui-m√™me est simplement appel√© ¬´invit√©¬ª. </font><font style="vertical-align: inherit;">√Ä son tour, le syst√®me, l'ordinateur sur lequel le simulateur s'ex√©cute, est appel√© ¬´h√¥te¬ª (h√¥te anglais) et le syst√®me d'exploitation ex√©cut√© sur l'h√¥te sur lequel le simulateur s'ex√©cute est appel√© ¬´OS h√¥te¬ª.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/0z/u-/6c/0zu-6c26huucbitovqa4ln8pjcc.jpeg" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, nous pouvons dire qu'un simulateur qui impl√©mente un certain ensemble d'instructions du syst√®me invit√© les simule √† l'aide des outils du syst√®me h√¥te disponibles.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simulation et √©mulation - quel nom est correct?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le mod√®le peut r√©p√©ter l'appareil avec diff√©rents degr√©s de pr√©cision et de d√©tails. </font><font style="vertical-align: inherit;">Il s'agit souvent d'une simulation du comportement externe du syst√®me uniquement disponible pour le code de programme. </font><font style="vertical-align: inherit;">Le code ne se soucie pas de la fa√ßon dont telle ou telle instruction du processeur est impl√©ment√©e √† l'int√©rieur - l'essentiel est qu'il fonctionne. </font><font style="vertical-align: inherit;">Cette version de la simulation est courante, pas difficile √† d√©velopper et assez rapide, ne ralentit pas m√™me sur les ordinateurs des utilisateurs ordinaires.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, cela ne suffit pas si nous voulons savoir, par exemple, combien de temps le programme fonctionnera sur du mat√©riel r√©el. </font><font style="vertical-align: inherit;">Cela n√©cessite de mod√©liser non seulement le comportement externe, mais aussi une r√©p√©tition de la structure interne et de la logique de travail. </font><font style="vertical-align: inherit;">Cela peut √©galement √™tre fait avec diff√©rents degr√©s de d√©tail et de pr√©cision. </font><font style="vertical-align: inherit;">Il est plus correct d'appeler de tels mod√®les d'√©mulateurs, qui √©mulent vraiment l'appareil et ne ¬´simulent¬ª pas les r√©sultats.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La cr√©ation d'√©mulateurs est beaucoup plus compliqu√©e en raison de la plus grande quantit√© de fonctionnalit√©s qui doivent √™tre impl√©ment√©es dans le mod√®le. </font><font style="vertical-align: inherit;">Ils fonctionnent √©galement beaucoup plus lentement que les simulateurs du comportement externe de l'appareil. </font><font style="vertical-align: inherit;">Avec les √©mulateurs, nous ne parlons pas du tout de d√©marrer Windows - cela peut prendre des ann√©es. </font><font style="vertical-align: inherit;">Personne n'est engag√© dans la cr√©ation d'un √©mulateur logiciel de l'ensemble de la plateforme - c'est tr√®s long et cher. </font><font style="vertical-align: inherit;">Au lieu de cela, des composants individuels du syst√®me sont √©mul√©s, comme le m√™me processeur central, et seule une partie du processus de simulation est lanc√©e sur celui-ci. </font><font style="vertical-align: inherit;">Divers sch√©mas hybrides sont possibles, lorsqu'une partie du simulateur est un mod√®le de haut niveau, une partie est un mod√®le de bas niveau, une partie est dans un FPGA et une partie est en fait un v√©ritable morceau de fer.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lt/j3/yd/ltj3ydvpjsh9jgsczxuqi-cu2x0.jpeg" alt="image"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4 niveaux de d√©tails de simulation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme je l'ai √©crit ci-dessus, l'option la plus courante est la simulation au niveau des instructions du processeur, dite ISA (Instruction Set Architecture), ou, plus pr√©cis√©ment, le r√©sultat de leur ex√©cution, c'est-√†-dire sans √©muler toute la logique interne de comment cela se passe dans un vrai processeur, et sans prendre en compte le temps d'ex√©cution des diff√©rentes instructions. Ces simulateurs sont √©galement appel√©s fonctionnels. C'est ainsi que VirtualBox, Vmware Workstation, Wind River Simics, KVM et QEMU fonctionnent. Cela vous permet d'ex√©cuter facilement, sans actions suppl√©mentaires inutiles, des programmes con√ßus pour le p√©riph√©rique simul√©. En d'autres termes, aucune recompilation ni aucune autre manipulation avec les programmes en cours n'est requise. Dans de tels cas, ils disent qu'il est possible d'ex√©cuter du code binaire non modifi√©.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons d'un niveau d'abstraction plus √©lev√©, alors ce sera la mise en ≈ìuvre d'une certaine ABI (Application Binary Interface). En r√©sum√©, ABI d√©crit une interface binaire pour l'interaction de deux programmes - g√©n√©ralement un programme utilisateur et une biblioth√®que ou un syst√®me d'exploitation. ABI couvre les conventions d'appel (comment passer des param√®tres et renvoyer des valeurs), la taille des types de donn√©es, les appels syst√®me. Comment √ßa fonctionne? Par exemple, si un programme √©crit pour Linux doit cr√©er un thread suppl√©mentaire (√† partir du thread anglais) pour l'ex√©cution, la fonction pthread_create () est appel√©e. Mais que faire si vous cr√©ez une biblioth√®que avec une telle fonction dans Windows et impl√©mentez les m√©canismes n√©cessaires pour lier l'application et la biblioth√®que (liaison dynamique)? Dans ce cas, vous pouvez ex√©cuter des applications Linux √† partir de Windows. Windows "simulera" Linux.C'est exactement ce qui a √©t√© fait dans le sous-syst√®me Windows pour Linux sur Windows 10, qui vous permet d'ex√©cuter des applications Linux binaires non modifi√©es sur Windows.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons maintenant √† quoi ressemblent les niveaux de simulation inf√©rieurs et d√©taill√©s. Ce sera le niveau de microarchitecture auquel les algorithmes internes r√©els et les blocs de processeur sont simul√©s, tels qu'un d√©codeur d'instructions, des files d'attente, une unit√© de traitement en panne, un pr√©dicteur de branche, un cache, un planificateur et des appareils de comptage eux-m√™mes. Une telle mod√©lisation nous permet d'analyser la vitesse r√©elle d'ex√©cution des programmes et, par exemple, de les optimiser pour les architectures existantes. Et dans le cas de la simulation de prototypes de futurs microprocesseurs, la pr√©diction et l'√©valuation des performances de ces dispositifs sont possibles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En dessous du niveau de simulation microarchitecturale se trouve le niveau d'√©mulation des √©l√©ments logiques qui composent les puces modernes. Ces √©mulateurs sont √† la fois logiciels et mat√©riels utilisant des FPGA. La logique FPGA est d√©crite en utilisant RTL (Register Transfer Level) dans les langues Verilog, VHDL, etc. Apr√®s la compilation, une image (bitstream) est obtenue, qui est ensuite flash√©e dans le FPGA. Et pour cela, il n'est pas n√©cessaire d'utiliser un fer √† souder et de comprendre le g√©nie √©lectrique. La carte est connect√©e √† un ordinateur, par exemple, via une interface USB ou JTAG, et un logiciel sp√©cial du fabricant de la carte FPGA effectue l'enregistrement. Le co√ªt de ces cartes commence de dix dollars pour les options les plus simples √† des millions de dollars pour les grandes cartes FPGA de la taille d'une armoire utilis√©e dans les grandes entreprises de fabrication de puces.Dans ces entreprises, la simulation FPGA est la derni√®re √©tape avant la mise en production de RTL.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous parlons d'appareils simples, alors que l'image FPGA est √† port√©e de main, vous pouvez contacter des entreprises sp√©cialis√©es qui fabriqueront un v√©ritable appareil (non FPGA) avec une logique programm√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La figure ci-dessous montre les niveaux de simulation d√©crits.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jr/zp/yb/jrzpybtaxtzvnzr9rxixvbkifqo.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus de ces niveaux de simulation, j'ai √©galement d√ª faire face √† des simulateurs hybrides. En fait, ce sont des simulateurs connect√©s les uns aux autres, mod√©lisant diff√©rentes parties du syst√®me √† diff√©rents niveaux. Par exemple, vous devez analyser la bande passante d'une nouvelle carte r√©seau qui fonctionne avec le pilote en cours de d√©veloppement pour un syst√®me d'exploitation particulier. Un tel dispositif de r√©seau, ainsi qu'un certain nombre de dispositifs associ√©s, peuvent √™tre mis en ≈ìuvre d'abord au niveau microarchitectural pour une analyse pr√©liminaire, puis dans le FPGA, au niveau des √©l√©ments logiques, pour les v√©rifications finales. Dans le m√™me temps, le reste du syst√®me, qui n'est que partiellement impliqu√©, est impl√©ment√© au niveau de l'instruction. Vous ne pouvez pas vous en passer, car il est n√©cessaire, par exemple, de charger le syst√®me d'exploitation, et cela n'a aucun sens de l'impl√©menter √† un niveau inf√©rieur et plus complexe.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Alors, qu'en est-il de la comparaison des simulateurs et de la r√©alit√©? </font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme il est maintenant clair, il n'y a aucune t√¢che pour rendre tel ou tel simulateur aussi similaire √† la r√©alit√© que possible. </font><font style="vertical-align: inherit;">Il y a une t√¢che pos√©e par l'entreprise, et la simulation est effectu√©e avec le degr√© de ¬´similitude¬ª avec la r√©alit√©, ce qui est au minimum suffisant pour r√©soudre ce probl√®me, sans perdre d'argent et de temps suppl√©mentaires. </font><font style="vertical-align: inherit;">Dans un cas, il peut s'agir d'une simple biblioth√®que qui impl√©mente l'interface binaire n√©cessaire (ABI), et dans l'autre, un simulateur microarchitectural d√©taill√© ne peut √™tre supprim√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il s'agit des informations les plus √©l√©mentaires sur ce que sont les simulateurs et ce qu'ils sont. </font><font style="vertical-align: inherit;">Dans le prochain article, je d√©crirai les d√©tails de la mise en ≈ìuvre de simulateurs de plate-forme compl√®te, de mod√®les de battements et de travail avec des pistes.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr504072/index.html">L'accord utilisateur id√©al: comment minimiser les risques pour les d√©veloppeurs</a></li>
<li><a href="../fr504074/index.html">Glass Nightmare: Nettoyer le patrimoine nucl√©aire de la guerre froide de Hanford</a></li>
<li><a href="../fr504080/index.html">Comment les employ√©s d'Apple et de Google aident les responsables de la sant√© √† suivre ensemble le coronavirus</a></li>
<li><a href="../fr504082/index.html">Que ferons-nous avec les 1,2 GHz suppl√©mentaires?</a></li>
<li><a href="../fr504084/index.html">Explorez le bug iOS avec Hopper</a></li>
<li><a href="../fr504088/index.html">Journalisation avanc√©e de Windows. Recherche de mimikatz</a></li>
<li><a href="../fr504092/index.html">Regardez d'abord les enregistrements et les tuples JavaScript</a></li>
<li><a href="../fr504096/index.html">Optimal Newbie Way pour C ++ / Qt</a></li>
<li><a href="../fr504098/index.html">Dipfake vid√©o une image</a></li>
<li><a href="../fr504102/index.html">Introduction √† Python Functools</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>