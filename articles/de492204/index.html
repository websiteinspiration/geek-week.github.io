<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩🏻 🐁 📸 So umgehen Sie Fehler beim Erstellen von Berichten in Power BI und beim Aufbau eines Upload-Systems für Big Data 👌🏽 👩🏼‍💻 👋🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hinter schönen und verständlichen Power BI-Dashboards stehen oft Wochen der Vorbereitung und des Data Mining. Insbesondere, wenn es darum geht, nützli...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>So umgehen Sie Fehler beim Erstellen von Berichten in Power BI und beim Aufbau eines Upload-Systems für Big Data</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/agima/blog/492204/"><img src="https://habrastorage.org/webt/2d/wo/vr/2dwovr1h5boyixwojsztgjctksk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hinter schönen und verständlichen Power BI-Dashboards stehen oft Wochen der Vorbereitung und des Data Mining. </font><font style="vertical-align: inherit;">Insbesondere, wenn es darum geht, nützliche BI-Berichte in einem großen Unternehmen mit einem monatlichen Verkehrsaufkommen von mehreren zehn Millionen Besuchern zu erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Artikel möchte ich eine Reihe negativer Aspekte beschreiben, die beim Erstellen von BI-Berichten auf der Grundlage von Daten aus Webanalysesystemen in einer Reihe von Unternehmen (große Vertreter des russischen E-Commerce, Versicherungsunternehmen usw.) aufgetreten sind. </font><font style="vertical-align: inherit;">Der Artikel zielt nicht darauf ab, Werbung gegen bestimmte Tools oder Entscheidungen gegen Werbung zu machen oder umgekehrt. </font><font style="vertical-align: inherit;">Es wurde vorbereitet, um mögliche negative Momente für andere Benutzer zu vermeiden und Lösungsoptionen anzugeben.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Haftungsausschluss</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich spreche von großen Datenmengen und zeige Beispiele für das Hochladen und Abtasten von Google Analytics 360. Bei Projekten mit kleinen Datenmengen bestehen solche Schwierigkeiten möglicherweise nicht. </font><font style="vertical-align: inherit;">Ich habe alle identifizierten Probleme in der Praxis getroffen und in dem Artikel beschreibe ich nur meine Erfahrung bei der Lösung - Ihre kann völlig anders sein.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anschluss an Yandex.Metrica</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandex.Metrica bietet im Vergleich zu Google Analytics mildere Stichprobenbedingungen und eine intuitive Benutzeroberfläche. Daher bevorzugen viele Vermarkter Yandex.Metrica und erstellen BI-Berichte für das Hochladen von Daten von dort. Verwenden Sie dazu den </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connector von</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Maxim Uvarov. Diese Methode ist unsicher und erlaubt keine Verarbeitung komplexer Anforderungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Große Unternehmen benötigen eine Garantie dafür, dass vertrauliche Informationen nicht in die Hände von Kritikern gelangen und Finanzindikatoren nur für Stakeholder und ausschließlich innerhalb des Unternehmens verwendet werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das erste große Minus ist, dass Sie in Power BI die Einstellung "Datenschutzstufen ignorieren" aktivieren müssen, um den Connector verwenden zu können. Andernfalls funktioniert dies einfach nicht.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ty/pg/eb/typgebof8euu4d6s2pgljyfqs4k.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Somit können vertrauliche Daten in die Hände eines nicht autorisierten Benutzers fallen. Dies wird durch einen Auszug aus der Power BI-Hilfe bestätigt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xd/2j/86/xd2j860l6kp0j7wuswlge0jor3u.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Datenverbindung ist anonym. Es gibt jedoch keine Autorisierung oder Überprüfung der Berechtigung zur Verwendung dieser Daten für Benutzer, die dies tatsächlich dürfen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gd/b3/dn/gdb3dni9wi_kxd27btthfhuk5h0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit diese Konnektoren funktionieren, benötigen Sie ein Oauth-Zugriffstoken. Die Beschreibung des Connectors enthält einen Link, wie Sie der Anwendung Zugriff auf Ihr Konto gewähren können. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-y/nq/gx/-ynqgxssteulef1kedj3smcflkk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tatsächlich erhält eine Drittanbieteranwendung Zugriff auf Ihr Konto. Niemand trägt eine Garantie für die Sicherheit Ihrer Daten.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tm/ux/23/tmux237gyybnovyelwetareee4g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das zweite Minus ist, dass die Yandex.Metrica-API keine großen Datenmengen in großen Projekten verarbeiten kann. Daher weigert sich der Connector auch, mit komplexen Abfragen von Yandex.Metrica-Rohdaten zu arbeiten - er entlädt sie nicht. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispielsweise müssen Sie Daten für ein Jahr ohne komplexe Filter hochladen. Der Connector gibt einen Fehler aus: „Die Anforderung ist zu komplex. Bitte reduzieren Sie den Datumsabstand oder die Probenahme. " </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xs/vx/fi/xsvxfi4zsihgayia1fo87_pbj88.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist natürlich eine Übersetzung des Fehlers der Yandex.Metrica-API selbst. In diesem Fall haben wir jedoch keine Wahl, Daten mit einer Aufschlüsselung nach Monat oder Tag herunterzuladen, z. B. Daten für jeden Monat zu zyklisieren und sie zu einem einzigen Datensatz zu kombinieren, um einen API-Fehler zu überwinden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie den Zeitraum erheblich verkürzen, können Sie mit der API Daten pumpen. Dies ist jedoch nur ein kleiner Teil dessen, was wir benötigen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xd/gd/6q/xdgd6qonfgcyjthxhjj65_ophyu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um große Berichte zu erstellen, ist das Entladen für kurze Zeiträume unpraktisch und unpraktisch. </font><font style="vertical-align: inherit;">In der Praxis müssen Sie häufig durch komplexe Open-Site-Trichter mit einer großen Anzahl von Besuchen pro Tag entladen werden. </font><font style="vertical-align: inherit;">Insbesondere bei Verwendung komplexer Besuchssegmente ist es praktisch unmöglich, die erforderlichen Daten hochzuladen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selbst wenn Sie die Daten laden konnten, ist es keine Tatsache, dass es möglich ist, sie in das Datenmodell hochzuladen, um die Berichterstellung selbst zu erstellen, da hin und wieder verschiedene Ladefehler auftreten. </font><font style="vertical-align: inherit;">Aus irgendeinem Grund treten selbst bei einer normal geladenen Tabelle Fehler auf.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/wk/9d/u8/wk9du8sdgpdqe1gb7cr-n2uk6_8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit alle Stakeholder im Unternehmen den auf dem Yandex.Metrica-API-Connector basierenden Bericht verwenden können, müssen Sie den Bericht im PowerBI-Service veröffentlichen. </font><font style="vertical-align: inherit;">In diesem Fall müssen auch die Datenschutzstufen ignoriert werden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/qc/dg/i8/qcdgi8gck0lkcdp-t--vedkmuiw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die Visualisierung konfiguriert und der Bericht in der Microsoft Cloud veröffentlicht wird, zeigt der Connector einen kombinierten Abfragefehler an und wird nicht über den Power BI-Dienst aktualisiert. Sie können die geplante Aktualisierung Ihres Berichts nicht konfigurieren. Der Fehler tritt auf, wenn eine der Abfragen, die die endgültige Upload-Tabelle bilden, die Logik der gleichzeitigen Arbeit mit der externen und internen Abfrage enthält. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In dem Fehler </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0-/ci/rt/0-cirtjh6ifdkpe-ajduldxstsc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
wird </font><font style="vertical-align: inherit;">nur die </font><font style="vertical-align: inherit;">Tabelle </font><font style="vertical-align: inherit;">"Aufgerufene Funktion" angezeigt: </font><font style="vertical-align: inherit;">Diese Tabelle wird aufgrund der PQYM-Funktion erhalten, die mit einer externen Datenquelle - der Yandex.Metrica-API - arbeitet. Der Berichtsaktualisierungsmechanismus in Power BI funktioniert nicht und fordert Sie auf, die Kombination von Abfragen zu wiederholen. Dies liegt an den internen Links einer Anforderung zum Herstellen einer Verbindung mit einer externen Anforderung sowie an der Struktur der Funktion selbst.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/lv/mb/vvlvmbnqatqohghiivpcofsgxze.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben uns entschieden, beim Erstellen von Berichten keinen solchen Connector zu verwenden, und sind zum Entladen von Daten aus der Yandex.Metrica-API über Python-Skripte übergegangen. Mehr dazu später in diesem Artikel.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Analytics Connector</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Erstellen von Berichten zu Google Analytics-Daten (es handelt sich um das direkte Herunterladen vom Analysesystem) gibt es auch einen </font><font style="vertical-align: inherit;">Maxim Uvarov- </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connector</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier müssen Sie auch "Datenschutzstufen ignorieren" einstellen. Der Zugriff auf die API Ihres Analysesystems, die Daten zum Online-Verkauf enthält, erfolgt über eine anonyme Verbindung. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pw/ke/x1/pwkex1vkvifxlkqne2kbvo0pvsy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gemäß den Anweisungen müssen Sie erneut den Zugriff auf eine Drittanbieteranwendung nur für ein Google-Konto öffnen, das eine Bedrohung für den Datenschutz Ihrer Daten darstellt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zx/qr/0f/zxqr0fyqjpqp_6umz9y_o5_i83a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können einige Daten im Connector selbst neu schreiben und für Ihre eigene Anwendung verwenden. Registrieren Sie dazu "OAuth 2.0 Client ID" auf </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud.google.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Holen Sie sich Zugriffstoken und geben Sie die erforderlichen Zugriffsschlüssel in den Arbeitsmechanismus ein. Aber selbst diese Maßnahmen helfen nicht im Kampf gegen Stichproben und Aktualisierung Ihrer Berichterstattung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie die aggregierten Daten der Google Analytics-API berühren, werden wir immer auf Stichproben stoßen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Connector hat die Möglichkeit, einen Tag zu entladen, spart aber nicht immer. Die im Anschluss integrierte Probenahmeanzeige zeigt an, dass sie auch an einem Tag vorhanden ist. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dk/kj/5l/dkkj5lp-e3zi8drcbylxc1hzmjk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beispielsweise können Sitzungsdaten, die nach Einkaufsphasen aufgeschlüsselt sind, nicht hochgeladen werden, ohne solche Datenmengen abzutasten. Dies führt zu großen Daten- und Messfehlern beim Erstellen von Berichten, insbesondere wenn die Konvertierung des Übergangs von einem Schritt in einen anderen genau berechnet oder Daten auf Trichtern mit einer komplexen Segmentstruktur hochgeladen werden müssen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auch wenn Datenverlust für Sie nicht kritisch ist, können Sie die geplante Aktualisierung Ihrer Berichte nicht über den Power BI-Dienst konfigurieren. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sh/5q/61/sh5q61niklucdiieoedjfltnp3c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der gleiche Fehler des Arbeitsmechanismus stört, nur die PQGA-Funktionen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/k0/ft/uy/k0ftuyqfzkqptqvupuotawgo1my.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben uns auch geweigert, mit diesem Anschluss zu arbeiten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Analytics Native Connector</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manchmal machen Google und Microsoft Zugeständnisse: Power BI verfügt standardmäßig über einen Standard-Google Analytics-Connector. </font><font style="vertical-align: inherit;">Leider gibt es für Yandex.Metrica keine solche Option.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xl/hk/po/xlhkpo-a4h95gz-nksi6ws_613k.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Mechanismus für die Arbeit mit der Google Analytics-API ist hier bequemer implementiert als im Connector von Maxim Uvarov. Beim Herunterladen einer großen Anzahl von Indikatoren werden die Daten jedoch zu stark abgetastet. </font><font style="vertical-align: inherit;">Die sich wiederholenden Zahlen im Screenshot sind die abgetasteten Daten.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lw/ba/n_/lwban_daksuitnrmfw5sihfjqpm.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können Stichproben vermeiden, wenn Sie Minitabellen entladen, die nur nach Datum und einem Indikator aufgeschlüsselt sind. Zum Beispiel Datum, Anzahl der Sitzungen und Gerätetyp. Und dann aus diesen Tabellen die notwendigen Berichte zu sammeln. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie nicht über Millionen von Datenverkehr verfügen, kann dies hilfreich sein. Die Berichterstellung ist jedoch nicht informativ und mit Einschränkungen der Skalierbarkeit verbunden: Aufgrund der vielen Minitabellen im Datenmodell ist es schwierig, Beziehungen zwischen ihnen herzustellen. Dies führt zu einer Einschränkung der Erstellung von Filtern und Slices. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können den Standard-Connector neu schreiben und erzwingen, dass Daten für jeden Tag hochgeladen werden, während die Daten nahe an den reellen Zahlen in der GA-Schnittstelle liegen, aber Sie können das Abtasten nicht vermeiden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/br/oc/fg/brocfgwihu2rpcqfjrdmhsvbsdc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach meinen Beobachtungen konnte bei der Aufschlüsselung der Shopping Stage-Sitzungen kein einziger Konnektor normalerweise Daten hochladen, ohne große Datenmengen abzutasten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Standard-Connector können Sie die Download-Daten nicht anpassen. </font><font style="vertical-align: inherit;">Sie müssen lediglich eine Auswahl von Parametern und Metriken aus den in Ordnern angeordneten Google Analytics-APIs auswählen.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/he/_n/tt/he_ntt6qogkz6vm-3mjnbmn0rya.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dieser Anschluss eignet sich für kleine und mittlere Internetprojekte mit wenig Verkehr. </font><font style="vertical-align: inherit;">Eine ähnliche Situation ergibt sich hier beim Abrufen von Daten von Yandex.Metrica. </font><font style="vertical-align: inherit;">Alle erforderlichen Informationen ohne Genauigkeitsverlust können nur mithilfe von Skripten oder speziellen Daten-Streaming-Diensten direkt über die API heruntergeladen werden - mehr dazu später in diesem Artikel.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sticks in Wheels von Google</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kürzlich haben wir eine seltsame Sperre festgestellt. Beim Versuch, das Update für den "nativen" Connector für Google Analytics zu konfigurieren, wurde über ein Google-Konto in der Power BI Service-Oberfläche ein Autorisierungsfehler angezeigt. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o0/wt/yr/o0wtyrw-caxzwahcpjjb_pgfrbe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben versucht, bei Google herauszufinden, was in einer solchen Situation zu tun ist und wie der Ruf des Kontos "getüncht" werden kann. Unsere Versuche sind jedoch fehlgeschlagen. Wir haben versucht, neue Konten zu registrieren und uns über verschiedene Geräte anzumelden. Google hat alle Autorisierungsversuche blockiert.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ungefähr einen Monat nach der Sperrung konnten wir uns immer noch über dasselbe Konto anmelden. Ein solcher Vorfall kann jedoch die rechtzeitige Veröffentlichung der erforderlichen BI-Berichterstattung erheblich beeinträchtigen und den Kunden in eine unangenehme Lage bringen. </font><font style="vertical-align: inherit;">Unmittelbar nach dem Schloss begannen wir nach einem möglichen Ausweg aus der Situation zu suchen. </font><font style="vertical-align: inherit;">Um unerwartete Sperren zu vermeiden, haben wir beschlossen, eine eigene kontrollierte Umgebung mit den erforderlichen Daten für die BI-Berichterstellung zu erstellen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lösungsoptionen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Erhalten Sie die erforderlichen BI-Berichte für mittlere und große Unternehmen, und auch ohne Stichproben ist dies möglich. </font><font style="vertical-align: inherit;">Aber Sie müssen ein wenig versuchen und eine von mehreren Möglichkeiten wählen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können vorgefertigte Dienste zum Streamen von Daten verwenden. </font><font style="vertical-align: inherit;">Ihr Hauptzweck ist das Hochladen von Daten aus dem Analysesystem, verschiedenen Werbesystemen, CRM und anderen Diensten in einen beliebigen Speicher. </font><font style="vertical-align: inherit;">Bequem, schnell und praktisch, aber nicht kostenlos. </font><font style="vertical-align: inherit;">Bei großen Datenmengen oder Daten mit mehreren Quellen sind die Mengen greifbar. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die bekanntesten Dienstleistungen:</font></font></b><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renta.im</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OWOX BI Pipeline</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">myBI Connect</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit jedem dieser Systeme können Sie das tägliche Streaming von nicht abgetasteten Daten von Webanalysesystemen (Yandex.Metrics und Google Analytics) in Datenbanken (z. B. BigQuery, Azure SQL-Datenbank, Microsoft SQL Server oder ClickHouse) für die Verbindung über Power BI und das Erstellen von Berichten konfigurieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die aufgeführten Tools für das Unternehmen zu teuer sind, können Sie versuchen, Ihr Daten-Upload-System zu implementieren und Power BI + Python + Any Cloud Server (oder Yandex.Cloud) + PostgreSQL zu verwenden. Dies ist die Methode, die wir beim Erstellen von BI-Berichten verwenden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Systeminteraktionsschema:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/kb/iu/um/kbiuumx6q6a_k5wxdq1g78ukehg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein solches Arbeitsschema bietet die notwendige Aufbewahrung, Autonomie und Aggregation von Daten. Nachdem Sie ein solches Schema einmal eingerichtet haben, müssen Sie keine Zeit mehr mit dem Sammeln von Informationen verbringen. Alles befindet sich im Repository. Sie müssen lediglich eine Verbindung herstellen und einen Bericht über Power BI erstellen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python-Skripte „ziehen“ alle Daten gemäß der API aus den erforderlichen Quellen, schreiben in die Datenbank oder bilden Entladungen (z. B. im CSV-Format). Skripte zum Hochladen von der API und zum Laden in die Datenbank verdienen einen separaten Artikel, und eines Tages werde ich ihn schreiben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Natürlich gibt es im Internet viele Vorlagen und vorgefertigte Lösungen, aber für die weitere Skalierung ist es erforderlich, die individuellen Anforderungen des Systems zu kennen, unter dem die Skripte zum Entladen erstellt werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daten werden in eine vorab erstellte und konfigurierte Datenbank geschrieben - in unserem Fall PostgreSQL. </font><font style="vertical-align: inherit;">Skripte pumpen Daten für jeden Tag aus und schreiben sie nach einem Zeitplan in Tabellen. </font><font style="vertical-align: inherit;">Sie befinden sich auf einem Cloud-Server unter unserer Kontrolle oder unter der Kontrolle des IT-Sicherheitsdienstes des Kunden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt eine große Anzahl von Unternehmen, die Cloud-Speicherdienste anbieten. </font><font style="vertical-align: inherit;">Basierend auf persönlichen Vorlieben wurde </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Yandex</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">Cloud</font></a><font style="vertical-align: inherit;"> ausgewählt </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorteile von Yandex.Cloud:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bequeme Konfiguration und Serververmietung mit vorinstalliertem PostgreSQL.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Umfangreiche Dokumentation in russischer Sprache, die klar angegeben ist und es Ihnen ermöglicht, schnell zu lernen, wie Sie den Dienst nutzen. </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bequeme Serververwaltung.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schnelle Unterstützung von Spezialisten.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Flexibilität verschiedener Geräteeinstellungen und -tarife: Niemand schreibt vorgefertigte Konfigurationspakete vor, Sie wählen die Konfiguration Ihrer Geräte selbst aus und können sofort die Voreinstellung einer beliebigen Datenbank bestellen.</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yt/f6/_-/ytf6_-9xrfcobvmfbwaajwyl8bm.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die resultierenden Uploads werden in die PostgreSQL-Datenbank geschrieben. </font><font style="vertical-align: inherit;">Diese Datenbank wurde ausgewählt, weil es sich um ein objektrelationales DBMS handelt (Arbeiten mit mehrdimensionalen Arrays und JSON-Unterstützung aus der "Box" - für komplexe Datenstrukturen muss). </font><font style="vertical-align: inherit;">Es ist flexibel, zuverlässig, kostenlos und hat auch eine riesige Community an Support. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Power BI verfügt über einen integrierten direkten Connector in PostgreSQL. </font><font style="vertical-align: inherit;">Bei der ersten Verbindung müssen Sie zusätzliches </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Npgsql</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> installieren </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Power BI benachrichtigt Sie darüber und stellt einen Link bereit.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ju/n_/wf/jun_wfcjtsnm0khj3wf9pzj8h2s.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Berichtsaktualisierungen bei Verwendung des Cloud-Speichers zu konfigurieren, müssen Sie das </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BI-Gateway</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> konfigurieren </font><font style="vertical-align: inherit;">. Es ist erforderlich, die Aktualisierung der BI-Berichterstellung zu konfigurieren und die Sicherheit vertraulicher Daten zu gewährleisten, wenn diese aus einer Datenbank übertragen werden, die sich im internen IT-Bereich Ihres Unternehmens oder auf einem sicheren Cloud-Server befinden sollte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Gateway bietet eine schnelle und sichere Datenübertragung zwischen Datenspeichern im internen Netzwerk des Unternehmens und Microsoft Cloud-Diensten. Die Datenübertragung zwischen Power BI und dem Gateway ist sicher, und alle von den Gateway-Administratoren bereitgestellten Anmeldeinformationen werden zum Schutz der Informationen in der Cloud verschlüsselt und nur auf dem Gateway-Computer entschlüsselt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mm/hd/re/mmhdrebvglgmfz1zfbncjck835w.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Herunterladen </font><font style="vertical-align: inherit;">und Starten von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Power BI Gateway</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> wird ein Dialogfeld angezeigt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/or/q7/4z/orq74zn_gyemebomwqxzfxcwkfu.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Registrieren und Betreiben des Gateways sind die Anmeldeinformationen des Power BI Service-Clouddiensts erforderlich.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/4z/pq/ft/4zpqft8l1urixndm8dfndrrje4s.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach allen Einstellungen wird ein Fenster über das Arbeitsgateway angezeigt. </font><font style="vertical-align: inherit;">Als nächstes müssen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zusätzliche Einstellungen vornehmen.</font></font></a><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/mb/t2/swmbt2b7ldkzf42k56px-ucc4re.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine einfachere Alternative zum Anpassen von PostgreSQL ist Google BigQuery. </font><font style="vertical-align: inherit;">Power BI verfügt über einen integrierten Connector in Google BigQuery. </font><font style="vertical-align: inherit;">In diesem Fall muss das Prinzip "siebenmal zur Berechnung der Kosten, einmal zur Erfüllung der Anforderung" befolgt werden.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/3m/gv/7a/3mgv7a-1zf0i3g8oxj-jiabgke4.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BigQuery kann ein Jahr lang kostenlos verwendet werden, indem einfach eine Bankkarte gebunden wird, wenn die Nutzung des Dienstes vereinbart wurde. </font><font style="vertical-align: inherit;">Geld nach Ablauf der Frist ohne Ihr Wissen wird nicht belastet. </font><font style="vertical-align: inherit;">Weitere Tarife - entsprechend den Tarifen des Systems selbst, jedoch mit einigen angenehmen "Pluspunkten". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die von Ihren Systemen heruntergeladenen Daten nicht 10 GB pro Monat (!) Erreichen, wird für das Herunterladen keine Gebühr erhoben.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/bg/il/hj/bgilhj19p3rswgrnp5co7lw75dq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn die monatliche Datenverarbeitung 1 TB nicht überschreitet, wird auch hierfür keine Gebühr erhoben. </font><font style="vertical-align: inherit;">Wenn mehr, dann 5 $ für jede Behandlung 1 TB.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ff/gk/4l/ffgk4l0whznxxacywqupqmuht1i.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie mehr als 10 GB pro Monat speichern müssen, kostet jedes weitere Gigabyte 0,010 USD.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lh/bn/7z/lhbn7zv038ot99ogeahedobx5bc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Tarife werden auf </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">der BigQuery-Seite</font></a><font style="vertical-align: inherit;"> ausführlicher beschrieben </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zusammenfassung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie Daten aus verschiedenen Analysesystemen benötigen und gleichzeitig Sicherheit, kontinuierliche Aggregation, Benutzerfreundlichkeit und fehlende Stichproben für Sie von grundlegender Bedeutung sind, haben Sie zwei Möglichkeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der erste ist Streaming-Dienste. </font><font style="vertical-align: inherit;">Sie sind einfach zu bedienen, verfügen über fortlaufenden technischen Support und eine vorgefertigte Integration in Data Warehouses. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nachteile:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sachkosten für große Datenmengen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Begrenzte Art der Integration vorgesehen.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unkontrollierte Prozesse auf der Seite des Streaming-Dienstanbieters, um mit Ihren Informationen zu arbeiten.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der zweite ist ein eigener Daten-Upload- und Aggregations-Stream. Skalierbar, kontrolliert und mit Datensicherheit. Die Implementierung mag kompliziert und zeitaufwändig erscheinen. Wenn das Unternehmen eine effektive Organisation der BI-Berichterstellung, ihrer weiteren Skalierbarkeit und Datensicherheit benötigt, ist diese Option am akzeptabelsten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alle, die nur an eine umfassende BI-Berichterstattung denken, müssen das Motto „Sammeln, Strukturieren und Schützen dieser Daten vor Jugendlichen“ in die Unternehmenskultur aufnehmen. Es gibt nichts Besseres als eine vollwertige fehlertolerante Datenbank mit einer regelmäßigen Sicherung und differenzierten Nutzungsrechten für verschiedene Kategorien von Stakeholdern.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist erforderlich, Ihre Daten aus Analysesystemen, einer mobilen Anwendung und anderen Client-Diensten zu sammeln, zu strukturieren und zu aggregieren. </font><font style="vertical-align: inherit;">All dies wird in Zukunft dazu beitragen, sowohl Ihre Zielgruppe als auch Ihre Produkte in beliebigen Abschnitten zu analysieren. </font><font style="vertical-align: inherit;">Informationen und Daten regieren heute die Welt und kosten manchmal mehr als Geld. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In den folgenden Artikeln werde ich erläutern, wie der im Artikel beschriebene Ansatz zum Übertragen von Analysedaten in eine PostgreSQL-Datenbank mithilfe von Python-Skripten und Implementierungsdetails implementiert wird.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de492190/index.html">Russische SaaS 2019 - Ergebnisse</a></li>
<li><a href="../de492192/index.html">Auf der Suche nach Spitzenleistungen</a></li>
<li><a href="../de492194/index.html">Treffen Sie einen Mann, der drahtlose Geräte verkauft, um schnell Luxusautos zu stehlen</a></li>
<li><a href="../de492200/index.html">Testautomatisierung: Java oder Python?</a></li>
<li><a href="../de492202/index.html">Коронавирус COVID-19: только факты, без паники</a></li>
<li><a href="../de492210/index.html">Technischer Überblick über die Infinidat-Speicherarchitektur</a></li>
<li><a href="../de492212/index.html">Frontend-Entwicklung von Portalen für Open Source-Software: Erfahrungsaustausch</a></li>
<li><a href="../de492214/index.html">Warum lohnt es sich, sich beim Gehen zu treffen? Von der Wissenschaft bewiesen, von der Mafia bestätigt</a></li>
<li><a href="../de492216/index.html">Speichern von Werten in einer .NET-Anwendung in der Erstellungsphase</a></li>
<li><a href="../de492218/index.html">Zu beachtende Icon-Design-Regeln</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>