<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👘 🌡️ 🕠 Bagaimana tipe integer yang sangat panjang diimplementasikan dalam Python? 👈🏽 📱 💅🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Terjemahan artikel disiapkan khusus untuk siswa kursus Pengembang Python .
 
 
 
 
 Saat Anda menulis dalam bahasa tingkat rendah seperti C, Anda khaw...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Bagaimana tipe integer yang sangat panjang diimplementasikan dalam Python?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/489258/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terjemahan artikel disiapkan khusus untuk siswa kursus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengembang Python</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
</i></b><br>
<br>
<img src="https://habrastorage.org/webt/83/4n/6h/834n6hzjg8axynzih1kpbfszk_4.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat Anda menulis dalam bahasa tingkat rendah seperti C, Anda khawatir tentang memilih tipe data dan kualifikasi yang tepat untuk bilangan bulat Anda, pada setiap langkah Anda menganalisis apakah akan cukup untuk menggunakannya secara sederhana </font></font><code>int</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau apakah Anda perlu menambahkan </font></font><code>long</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atau bahkan </font></font><code>long double</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Namun, saat menulis kode dengan Python, Anda tidak perlu khawatir tentang hal-hal "minor" ini, karena Python dapat bekerja dengan angka dari </font></font><code>integer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">semua </font><font style="vertical-align: inherit;">jenis </font><font style="vertical-align: inherit;">ukuran.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di C, jika Anda mencoba menghitung 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">20000</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> menggunakan fungsi bawaan </font></font><code>powl</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Anda akan mendapatkan hasilnya </font></font><code>inf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#include &lt;stdio.h&gt;</span>
<span class="hljs-comment">#include &lt;math.h&gt;</span><font></font>
<font></font>
int main(void) {<font></font>
  printf(<span class="hljs-string">"%Lf\n"</span>, powl(<span class="hljs-number">2</span>, <span class="hljs-number">20000</span>));
  <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;<font></font>
}<font></font>
<font></font>
$ ./a.out<font></font>
inf</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun dengan Python, menjadikan ini lebih mudah dari sebelumnya adalah mudah:</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-meta">&gt;&gt;&gt; </span><span class="hljs-number">2</span> ** <span class="hljs-number">20000</span>
<span class="hljs-number">39802768403379665923543072061912024537047727804924259387134</span> ...<font></font>
...<font></font>
<span class="hljs-meta">... </span><span class="hljs-number">6021</span> digits long ...<font></font>
...<font></font>
<span class="hljs-number">6309376</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pasti di bawah kap bahwa Python melakukan sesuatu yang sangat indah, dan hari ini kita akan mencari tahu apa fungsinya untuk bekerja dengan bilangan bulat ukuran sewenang-wenang!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Presentasi dan Definisi</font></font></h3> <br>
<code>Integer</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam Python, ini adalah struktur C yang didefinisikan sebagai berikut:</font></font><br>
<br>
<pre><code class="python hljs">struct _longobject {<font></font>
    PyObject_VAR_HEAD<font></font>
    digit ob_digit[<span class="hljs-number">1</span>];<font></font>
};<font></font>
</code></pre><br>
<code>PyObject_VAR_HEAD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merupakan makro, yang diperluas </font></font><code>PyVarObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, yang memiliki struktur berikut:</font></font><br>
<br>
<pre><code class="python hljs">typedef struct {<font></font>
    PyObject ob_base;<font></font>
    Py_ssize_t ob_size; /* Number of items <span class="hljs-keyword">in</span> variable part */<font></font>
} PyVarObject;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Jenis lain yang memiliki </font></font><code>PyObject_VAR_HEAD</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyBytesObject</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyTupleObject</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PyListObject</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini berarti bahwa integer, seperti tuple atau daftar, memiliki panjang variabel, dan ini adalah langkah pertama untuk memahami bagaimana Python dapat mendukung kerja dengan angka raksasa. </font><font style="vertical-align: inherit;">Setelah diperluas, makro </font></font><code>_longobject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dapat dianggap sebagai:</font></font><br>
<br>
<pre><code class="python hljs">struct _longobject {<font></font>
    PyObject ob_base;<font></font>
    Py_ssize_t ob_size; /* Number of items <span class="hljs-keyword">in</span> variable part */<font></font>
    digit ob_digit[<span class="hljs-number">1</span>];<font></font>
};</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada </font></font><code>PyObject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beberapa bidang meta </font><font style="vertical-align: inherit;">dalam struktur </font><font style="vertical-align: inherit;">yang digunakan untuk penghitungan referensi (pengumpulan sampah), tetapi untuk membicarakan hal ini, kita memerlukan artikel terpisah. </font><font style="vertical-align: inherit;">Bidang yang akan kita fokuskan ini </font></font><code>ob_digit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan sedikit lagi </font></font><code>ob_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dekripsi </font></font><code>ob_digit</code></h3> <br>
<code>ob_digit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Merupakan array yang dialokasikan secara statis dari jenis satuan panjang </font></font><code>digit (typedef  uint32_t)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Karena ini adalah array, </font></font><code>ob_digit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ini terutama adalah penunjuk ke angka, dan karena itu, jika perlu, dapat ditingkatkan menggunakan fungsi malloc dengan panjang apa pun. </font><font style="vertical-align: inherit;">Dengan cara ini python dapat mewakili dan memproses angka yang sangat panjang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Biasanya, dalam bahasa tingkat rendah seperti C, ketepatan bilangan bulat dibatasi hingga 64 bit, namun Python mendukung bilangan bulat dengan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ketepatan acak</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dimulai dengan Python 3, semua angka disajikan dalam bentuk </font></font><code>bignum</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan hanya dibatasi oleh memori sistem yang tersedia.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dekripsi </font></font><code>ob_size</code></h3><br>
<code>ob_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menyimpan jumlah item dalam </font></font><code>ob_digit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Python menimpa dan kemudian menggunakan nilai </font></font><code>ob_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk menentukan jumlah elemen yang terkandung dalam array untuk meningkatkan efisiensi mengalokasikan memori ke array </font></font><code>ob_digit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyimpanan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cara yang paling naif untuk menyimpan bilangan bulat adalah dengan menyimpan satu angka desimal dalam satu elemen array, maka operasi seperti penjumlahan dan pengurangan dapat dilakukan sesuai dengan aturan matematika dari sekolah dasar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan pendekatan ini, angka 5238 akan disimpan seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z_/gt/qz/z_gtqzwee0xfpoaktyogzh1_cv8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendekatan ini tidak efisien, karena kita akan menggunakan hingga 32-bit digit (uint32_t) untuk menyimpan angka desimal, yang, pada kenyataannya, berkisar dari 0 hingga 9 dan dapat dengan mudah diwakili dengan hanya 4 bit, karena ketika menulis sesuatu yang serbaguna seperti python, pengembang kernel harus lebih inventif. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, bisakah kita melakukan yang lebih baik? </font><font style="vertical-align: inherit;">Tentu saja, kalau tidak saya tidak akan memposting artikel ini. </font><font style="vertical-align: inherit;">Mari kita lihat lebih dekat bagaimana Python menyimpan integer ekstra panjang.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jalur python</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alih-alih menyimpan hanya satu angka desimal di setiap elemen array </font></font><code>ob_digit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Python mengubah angka dari sistem angka dengan basis 10 ke angka dalam sistem dengan basis 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan memanggil setiap elemen sebagai digit yang nilainya berkisar dari 0 hingga 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dalam sistem angka heksadesimal, basis 16 ~ 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berarti bahwa setiap "digit" dari rentang angka heksadesimal 0-15 dalam sistem angka desimal. Dalam Python, demikian pula, "angka" dengan basis 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang berarti bahwa jumlahnya akan bervariasi dari 0 hingga 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 1 = 1073741823 dalam desimal.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, Python efektif menggunakan hampir semua ruang yang dialokasikan dari 32 bit per digit, menghemat sumber daya, dan masih melakukan operasi sederhana seperti penambahan dan pengurangan pada tingkat matematika sekolah dasar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bergantung pada platform, Python menggunakan array integer 32-bit unsigned atau array integer 16-bit dengan digit 15-bit. Untuk melakukan operasi yang akan dibahas nanti, Anda hanya perlu beberapa bit. </font></font><br>
<br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Contoh: 1152921504606846976</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Seperti yang telah disebutkan, untuk Python, angka diwakili dalam sistem dengan basis 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yaitu, jika Anda mengubah 1152921504606846976 menjadi sistem angka dengan basis 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Anda akan mendapatkan 100. </font></font><br>
 <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1152921504606846976 = 1 * (2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + 0 * (2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + 0 * (2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">30</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></sup></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Karena ini adalah yang </font></font><code>ob_digit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pertama menyimpan digit paling tidak signifikan, disimpan sebagai 001 dalam bentuk tiga digit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Struktur </font></font><code>_longobject</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk nilai ini akan mengandung:</font></font><br>
<br>
<ul>
<li><code>ob_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seperti 3</font></font></li>
<li><code>ob_digit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> seperti [0, 0, 1]</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/hb/fj/y4/hbfjy4kl64ogtyfjjx6hikzvray.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya membuat demo </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">REPL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang akan menunjukkan bagaimana Python menyimpan integer di dalamnya, dan juga merujuk pada anggota struktur seperti </font></font><code>ob_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, </font></font><code>ob_refcount</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dll.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Operasi Panjang Integer</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita memiliki gagasan yang jelas tentang bagaimana Python mengimplementasikan bilangan bulat dari presisi sewenang-wenang, sekarang saatnya untuk memahami bagaimana berbagai operasi matematika dilakukan dengan mereka.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tambahan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Integer disimpan "dalam angka", yang berarti bahwa penambahan itu sesederhana di sekolah dasar, dan kode sumber Python menunjukkan kepada kita bahwa ini adalah bagaimana penambahan diterapkan. </font><font style="vertical-align: inherit;">Fungsi dengan nama </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">x_add</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam file </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">longobject.c</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menambah dua angka.</font></font><br>
<br>
<pre><code class="python hljs">...
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; size_b; ++i) {<font></font>
        carry += a-&gt;ob_digit[i] + b-&gt;ob_digit[i];<font></font>
        z-&gt;ob_digit[i] = carry &amp; PyLong_MASK;<font></font>
        carry &gt;&gt;= PyLong_SHIFT;<font></font>
    }<font></font>
    <span class="hljs-keyword">for</span> (; i &lt; size_a; ++i) {<font></font>
        carry += a-&gt;ob_digit[i];<font></font>
        z-&gt;ob_digit[i] = carry &amp; PyLong_MASK;<font></font>
        carry &gt;&gt;= PyLong_SHIFT;<font></font>
    }<font></font>
    z-&gt;ob_digit[i] = carry;<font></font>
...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuplikan kode di atas diambil dari suatu fungsi </font></font><code>x_add</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Seperti yang Anda lihat, itu berulang atas angka dengan angka dan melakukan penambahan angka, menghitung hasilnya dan menambahkan tanda hubung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menjadi lebih menarik ketika hasil penambahan adalah angka negatif. </font><font style="vertical-align: inherit;">Tanda </font></font><code>ob_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adalah </font><font style="vertical-align: inherit;">tanda </font><font style="vertical-align: inherit;">bilangan bulat, yaitu, jika Anda memiliki angka negatif, maka itu </font></font><code>ob_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">akan menjadi minus. </font></font><code>ob_size</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Modulo </font><font style="vertical-align: inherit;">nilai </font><font style="vertical-align: inherit;">akan menentukan jumlah digit dalam </font></font><code>ob_digit</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengurangan </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sama seperti penambahan terjadi, pengurangan juga terjadi. </font><font style="vertical-align: inherit;">Fungsi dengan nama </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">x_sub</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dalam file </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">longobject.c</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mengurangi satu nomor dari yang lain.</font></font><br>
<br>
<pre><code class="python hljs">...
    <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; size_b; ++i) {<font></font>
        borrow = a-&gt;ob_digit[i] - b-&gt;ob_digit[i] - borrow;<font></font>
        z-&gt;ob_digit[i] = borrow &amp; PyLong_MASK;<font></font>
        borrow &gt;&gt;= PyLong_SHIFT;<font></font>
        borrow &amp;= <span class="hljs-number">1</span>; /* Keep only one sign bit */<font></font>
    }<font></font>
    <span class="hljs-keyword">for</span> (; i &lt; size_a; ++i) {<font></font>
        borrow = a-&gt;ob_digit[i] - borrow;<font></font>
        z-&gt;ob_digit[i] = borrow &amp; PyLong_MASK;<font></font>
        borrow &gt;&gt;= PyLong_SHIFT;<font></font>
        borrow &amp;= <span class="hljs-number">1</span>; /* Keep only one sign bit */<font></font>
    }<font></font>
...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuplikan kode di atas diambil dari suatu fungsi </font></font><code>x_sub</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Di dalamnya, Anda melihat bagaimana penghitungan angka terjadi dan pengurangan dilakukan, hasilnya dihitung dan transfer didistribusikan. </font><font style="vertical-align: inherit;">Memang, ini sangat mirip dengan penambahan.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perkalian</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan lagi, perkalian akan dilaksanakan dengan cara yang sama naif yang kita pelajari dari pelajaran matematika di sekolah dasar, tetapi itu tidak terlalu efisien. </font><font style="vertical-align: inherit;">Untuk menjaga efisiensi, Python mengimplementasikan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritma Karatsuba</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , yang mengalikan dua angka n-digit dalam </font><font style="vertical-align: inherit;">langkah-langkah sederhana </font><font style="vertical-align: inherit;">O (n </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">log </font></font></sup><sub><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 </font></font></sub><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algoritma ini tidak sederhana dan implementasinya berada di luar cakupan artikel ini, tetapi Anda dapat menemukan implementasinya dalam fungsi </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">k_mul</a> </code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">k_lopsided_mul</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">file </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">longobject.c</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Divisi dan operasi lainnya</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua operasi pada bilangan bulat didefinisikan dalam file </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">longobject.c</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, mereka sangat sederhana untuk menemukan dan melacak pekerjaan masing-masing. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perhatian: </font></font></b> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemahaman terperinci tentang pekerjaan masing-masing dari mereka akan memakan waktu, jadi siapkan dengan popcorn</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
 <br>
<h3>    </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Python </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">melakukan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pra-alokasi sejumlah kecil bilangan bulat dalam memori mulai dari -5 hingga 256. Alokasi ini terjadi selama inisialisasi, dan karena kami tidak dapat mengubah bilangan bulat (kekekalan), angka-angka yang dialokasikan sebelumnya adalah singleton dan direferensikan langsung alih-alih dialokasikan. Ini berarti bahwa setiap kali kita menggunakan / membuat angka kecil, Python alih-alih menjualnya hanya mengembalikan referensi ke nomor yang dialokasikan sebelumnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Optimalisasi tersebut dapat dilacak di makro </font></font><code>IS_SMALL_INT</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dan fungsi </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">get_small_int</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">longobject.c</a></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Jadi Python menghemat banyak ruang dan waktu dalam menghitung angka integer yang umum digunakan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah artikel kedua dalam seri Python Internals. Artikel pertama adalah tentang bagaimana saya mengubah versi Python saya untuk membuatnya</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ambigu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ini akan membantu Anda mengambil langkah pertama dalam memahami kode sumber Python dan melanjutkan jalur untuk menjadi pengembang kernel Python. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin melihat lebih banyak artikel serupa, berlangganan buletin saya dan terima langsung di kotak masuk Anda. </font><font style="vertical-align: inherit;">Saya menulis tentang teknik, sistem rekayasa dan sedikit tentang pemrograman setiap hari Jumat. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Email</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya di </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">@arpit_bhayani</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Anda dapat menemukan artikel saya sebelumnya di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ arpitbhayani.me / blog</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu saja. </font><font style="vertical-align: inherit;">Sampai jumpa di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lapangan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> !</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id489244/index.html">Pengembangan plugin untuk Zabbix Agent 2</a></li>
<li><a href="../id489246/index.html">Saya berumur 14 dan saya memutuskan untuk mengembangkan game</a></li>
<li><a href="../id489252/index.html">Sejarah Telegram: dari ide ke mata uang kripto sendiri</a></li>
<li><a href="../id489254/index.html">Apakah Yandex membantu menyebarkan malware?</a></li>
<li><a href="../id489256/index.html">Yayasan Sistem Otomasi Fieldbus</a></li>
<li><a href="../id489260/index.html">Bagaimana merancang sistem otomatis skala besar untuk perusahaan besar dalam tujuh langkah</a></li>
<li><a href="../id489262/index.html">Mengapa tidak mudah memberi pengembang kebebasan memilih</a></li>
<li><a href="../id489268/index.html">Implementasi proses mengunggah file dari wadah dengan browser ke kerangka uji</a></li>
<li><a href="../id489270/index.html">WebAuthn dalam kehidupan nyata</a></li>
<li><a href="../id489272/index.html">Mata, otak, kualitas video: pantulan 120fps, 8K, HDR, tongkat, kerucut, dan "efek opera sabun"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>