<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë®üèΩ‚Äçüç≥ üë∑üèº üõÉ Neomorfismo usando SwiftUI. Parte 1 üë∞üèΩ üßúüèº üöß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Saludo, Khabrovites! En previsi√≥n del lanzamiento del curso avanzado "IOS Developer", hemos preparado otra traducci√≥n interesante.
 
 
 
 El dise√±o no...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Neomorfismo usando SwiftUI. Parte 1</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/otus/blog/502592/"><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Saludo, Khabrovites! </font><font style="vertical-align: inherit;">En previsi√≥n del lanzamiento del curso avanzado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"IOS Developer",</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hemos preparado otra traducci√≥n interesante.</font></font></i></b><br>
<br>
<img src="https://habrastorage.org/webt/nr/7d/ml/nr7dmlj7ru0rbnazf8ce8wox3ra.png"><br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El dise√±o no m√≥rfico es quiz√°s la tendencia m√°s interesante de los √∫ltimos meses, aunque, en verdad, Apple lo us√≥ como motivo de dise√±o en WWDC18. </font><font style="vertical-align: inherit;">En este art√≠culo, veremos c√≥mo puede implementar un dise√±o no m√≥rfico utilizando SwiftUI, por qu√© es posible que desee hacer esto y, lo m√°s importante, c√≥mo podemos refinar este dise√±o para aumentar su accesibilidad.</font></font><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Importante</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : el neomorfismo, tambi√©n llamado a veces neuromorfismo, tiene graves consecuencias para la accesibilidad, por lo que a pesar de la tentaci√≥n de leer la primera parte de este art√≠culo y omitir el resto, le insto a que lea el art√≠culo hasta el final y estudie las ventajas y desventajas para que pueda ver la imagen completa. .</font></font><br>
</blockquote><a name="habracut"></a><br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/z3tJdxwlo_Y" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fundamentos del neomorfismo</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de pasar al c√≥digo, quiero describir brevemente dos principios b√°sicos de esta direcci√≥n en el dise√±o, ya que ser√°n relevantes a medida que avancemos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El neomorfismo usa reflejos y sombras para determinar las formas de los objetos en la pantalla.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El contraste tiende a disminuir; </font><font style="vertical-align: inherit;">no se utilizan completamente blanco o negro, lo que le permite resaltar luces y sombras.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El resultado final es una apariencia que recuerda al "pl√°stico extruido", un dise√±o de interfaz de usuario que ciertamente se ve fresco e interesante sin chocar con sus ojos. </font><font style="vertical-align: inherit;">No puedo dejar de repetir una vez m√°s que reducir el contraste y usar sombras para resaltar formas afecta seriamente la accesibilidad, y volveremos a esto m√°s adelante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sin embargo, sigo pensando que el tiempo dedicado a aprender sobre el neomorfismo en SwiftUI lo vale, incluso si no lo usa en sus propias aplicaciones, es como un c√≥digo escribiendo kata para ayudar a perfeccionar sus habilidades. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muy bien, suficiente conversaci√≥n inactiva: pasemos al c√≥digo.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Construyendo un mapa no m√≥rfico</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El punto de partida m√°s simple es crear un mapa no m√≥rfico: un rect√°ngulo redondeado que contendr√° alguna informaci√≥n. A continuaci√≥n, veremos c√≥mo podemos transferir estos principios a otras partes de SwiftUI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos creando un nuevo proyecto de iOS usando la plantilla de aplicaci√≥n Single View. Aseg√∫rate de usar SwiftUI para la interfaz de usuario y luego nombra el proyecto Neumorphism. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consejo: si tiene acceso a la vista previa de SwiftUI en Xcode, le recomiendo que lo active de inmediato, ser√° mucho m√°s f√°cil para usted experimentar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comenzaremos definiendo un color que represente un tono cremoso. </font><font style="vertical-align: inherit;">Esto no es gris puro, sino un tono muy sutil que agrega un poco de calidez o frescura a la interfaz. </font><font style="vertical-align: inherit;">Puede agregarlo al directorio de activos si lo desea, pero ahora es m√°s f√°cil hacerlo en c√≥digo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agregue esto </font></font><code>Color</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fuera de la estructura </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">Color</span> </span>{
    <span class="hljs-keyword">static</span> <span class="hljs-keyword">let</span> offWhite = <span class="hljs-type">Color</span>(red: <span class="hljs-number">225</span> / <span class="hljs-number">255</span>, green: <span class="hljs-number">225</span> / <span class="hljs-number">255</span>, blue: <span class="hljs-number">235</span> / <span class="hljs-number">255</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√≠, es casi blanco, pero es lo suficientemente oscuro como para que el blanco real parezca un resplandor cuando lo necesitamos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora podemos llenar el cuerpo </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proporcion√°ndolo </font></font><code>ZStack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, que ocupa toda la pantalla, usando nuestro nuevo color casi blanco para llenar todo el espacio:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContentView</span>: <span class="hljs-title">View</span> </span>{
    <span class="hljs-keyword">var</span> body: some <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {
            <span class="hljs-type">Color</span>.offWhite<font></font>
        }<font></font>
        .edgesIgnoringSafeArea(.all)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para representar nuestro mapa, utilizaremos un rect√°ngulo redondeado en la resoluci√≥n de 300x300 para que quede hermoso y claro en la pantalla. </font><font style="vertical-align: inherit;">Entonces agregue esto a </font></font><code>ZStack</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, debajo del color:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">25</span>)<font></font>
    .frame(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por defecto ser√° negro, pero para la implementaci√≥n del neomorfismo queremos reducir dr√°sticamente el contraste, por lo que lo reemplazaremos con el mismo color que usamos para el fondo, de hecho haciendo invisible la forma. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As√≠ que c√°mbialo as√≠:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">RoundedRectangle</span>(cornerRadius: <span class="hljs-number">25</span>)<font></font>
    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
    .frame(width: <span class="hljs-number">300</span>, height: <span class="hljs-number">300</span>)</code></pre><br>
<blockquote><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un punto importante:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> determinamos la forma usando sombras, una oscura y una clara, como si la luz proyectara rayos desde la esquina superior izquierda de la pantalla.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SwiftUI nos permite aplicar modificadores varias veces, lo que facilita la implementaci√≥n del neomorfismo. </font><font style="vertical-align: inherit;">Agregue los siguientes dos modificadores a su rect√°ngulo redondeado:</font></font><br>
<br>
<pre><code class="swift hljs">.shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
.shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Representan el desplazamiento de la sombra oscura en la esquina inferior derecha y el desplazamiento de la sombra clara en la esquina superior izquierda. </font><font style="vertical-align: inherit;">La sombra clara es visible porque usamos un fondo casi blanco, y ahora el mapa se vuelve visible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hemos escrito unas pocas l√≠neas de c√≥digo, pero ya tenemos un mapa no m√≥rfico. ¬°Espero que acepte que SwiftUI sorprendentemente facilita el proceso!</font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/_z/0h/he_z0hdu4zlhtftzxwsvxo5k9t8.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crear un bot√≥n simple no m√≥rfico</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De todos los elementos de una IU, el neomorfismo representa un riesgo bastante bajo para las tarjetas: si la IU dentro de sus tarjetas es clara, la tarjeta puede no tener un borde claro, y esto no afectar√° la accesibilidad. Los botones son otra cosa, porque est√°n dise√±ados para interactuar, por lo que reducir su contraste puede hacer m√°s da√±o que bien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tratemos esto creando nuestro propio estilo de bot√≥n, ya que esta es la forma en que SwiftUI permite que las configuraciones de botones se distribuyan en muchos lugares. Esto es mucho m√°s conveniente que agregar muchos modificadores a cada bot√≥n que cree; simplemente podemos definir el estilo una vez y usarlo en muchos lugares.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos a definir un estilo de bot√≥n que en realidad estar√° vac√≠o: SwiftUI nos dar√° la etiqueta para el bot√≥n, que puede ser texto, imagen u otra cosa, y lo enviaremos de regreso sin cambios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agregue esta estructura en alg√∫n lugar afuera </font></font><code>ContentView</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">SimpleButtonStyle</span>: <span class="hljs-title">ButtonStyle</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">makeBody</span><span class="hljs-params">(configuration: <span class="hljs-keyword">Self</span>.Configuration)</span></span> -&gt; some <span class="hljs-type">View</span> {<font></font>
        configuration.label<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este </font></font><code>configuration.label</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">es el contenido del bot√≥n, y pronto agregaremos algo m√°s. </font><font style="vertical-align: inherit;">Primero, definamos un bot√≥n que lo use para que pueda ver c√≥mo evoluciona el dise√±o:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Button</span>(action: {
    <span class="hljs-built_in">print</span>(<span class="hljs-string">"Button tapped"</span>)<font></font>
}) {<font></font>
    <span class="hljs-type">Image</span>(systemName: <span class="hljs-string">"heart.fill"</span>)<font></font>
        .foregroundColor(.gray)<font></font>
}<font></font>
.buttonStyle(<span class="hljs-type">SimpleButtonStyle</span>())</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No ver√° nada especial en la pantalla, pero podemos solucionarlo agregando nuestro efecto no m√≥rfico al estilo del bot√≥n. Esta vez no usaremos un rect√°ngulo redondeado, porque para iconos simples el c√≠rculo es mejor, pero necesitamos agregar algo de sangr√≠a para que el √°rea de clic del bot√≥n sea grande y hermosa. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cambie su m√©todo </font></font><code>makeBody()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">agregando un poco de sangr√≠a y luego colocando nuestro efecto no m√≥rfico como fondo para el bot√≥n:</font></font><br>
<br>
<pre><code class="swift hljs">configuration.label<font></font>
    .padding(<span class="hljs-number">30</span>)<font></font>
    .background(<font></font>
        <span class="hljs-type">Circle</span>()<font></font>
            .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
            .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
    )</code></pre><br>
<img src="https://habrastorage.org/webt/nm/-x/yp/nm-xyp4klovncqtomhthav-za7y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto nos acerca lo suficiente al efecto deseado, pero si ejecuta la aplicaci√≥n, ver√° que en la pr√°ctica el comportamiento a√∫n no es perfecto: el bot√≥n no responde visualmente cuando se presiona, lo que se ve raro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para solucionar esto, debemos leer la propiedad </font></font><code>configuration.isPressed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dentro de nuestro estilo de bot√≥n personalizado, que indica si el bot√≥n est√° presionado o no. Podemos usar esto para mejorar nuestro estilo para dar una indicaci√≥n visual de si se presiona el bot√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comencemos con uno simple: usaremos </font></font><code>Group</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">botones para el fondo, luego verificaremos </font></font><code>configuration.isPressed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y devolveremos un c√≠rculo plano si se presiona el bot√≥n, o nuestro c√≠rculo oscuro actual de lo contrario:</font></font><br>
<br>
<pre><code class="swift hljs">configuration.label<font></font>
    .padding(<span class="hljs-number">30</span>)<font></font>
    .background(<font></font>
        <span class="hljs-type">Group</span> {
            <span class="hljs-keyword">if</span> configuration.isPressed {
                <span class="hljs-type">Circle</span>()<font></font>
                    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-type">Circle</span>()<font></font>
                    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
                    .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
            }<font></font>
        }<font></font>
    )</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dado que el </font></font><code>isPressed</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≠rculo con color casi blanco se usa </font><font style="vertical-align: inherit;">en el estado </font><font style="vertical-align: inherit;">, hace que nuestro efecto sea invisible cuando se presiona el bot√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Advertencia: debido a la forma en que SwiftUI calcula las √°reas tapables, involuntariamente hicimos que el √°rea de clic para nuestro bot√≥n fuera muy peque√±a; ahora debe tocar la imagen en s√≠, y no el dise√±o unom√≥rfico a su alrededor. </font><font style="vertical-align: inherit;">Para solucionar esto, agregue un modificador </font></font><code>.contentShape(Circle())</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inmediatamente despu√©s </font></font><code>.padding(30)</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, forzando a SwiftUI a usar todo el espacio disponible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora podemos crear el efecto de la concavidad artificial volteando la sombra, copiando dos modificadores </font></font><code>shadow</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">del efecto base, intercambiando los valores X e Y para blanco y negro, como se muestra aqu√≠:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-keyword">if</span> configuration.isPressed {
    <span class="hljs-type">Circle</span>()<font></font>
        .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
} <span class="hljs-keyword">else</span> {
    <span class="hljs-type">Circle</span>()<font></font>
        .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.black.opacity(<span class="hljs-number">0.2</span>), radius: <span class="hljs-number">10</span>, x: <span class="hljs-number">10</span>, y: <span class="hljs-number">10</span>)<font></font>
        .shadow(color: <span class="hljs-type">Color</span>.white.opacity(<span class="hljs-number">0.7</span>), radius: <span class="hljs-number">10</span>, x: -<span class="hljs-number">5</span>, y: -<span class="hljs-number">5</span>)<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estima el resultado.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bk/nz/gv/bknzgvars2r0e4anrdqngo12wr4.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Crea sombras internas para hacer clic en un bot√≥n</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nuestro c√≥digo actual, en principio, ya funciona, pero las personas interpretan el efecto de manera diferente: algunos lo ven como un bot√≥n c√≥ncavo, otros ven que el bot√≥n todav√≠a no est√° presionado, solo que la luz proviene de un √°ngulo diferente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La idea de la mejora es crear una sombra interna que simule el efecto de presionar el bot√≥n hacia adentro. Esto no es parte del kit est√°ndar SwiftUI, pero podemos implementarlo con bastante facilidad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear una sombra interna requiere dos gradientes lineales, y ser√°n solo el primero de muchos gradientes internos que usaremos en este art√≠culo, por lo que agregaremos inmediatamente una peque√±a extensi√≥n auxiliar para </font></font><code>LinearGradient</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simplificar la creaci√≥n de gradientes est√°ndar:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">extension</span> <span class="hljs-title">LinearGradient</span> </span>{
    <span class="hljs-keyword">init</span>(<span class="hljs-number">_</span> colors: <span class="hljs-type">Color</span>...) {
        <span class="hljs-keyword">self</span>.<span class="hljs-keyword">init</span>(gradient: <span class="hljs-type">Gradient</span>(colors: colors), startPoint: .topLeading, endPoint: .bottomTrailing)<font></font>
    }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con esto, simplemente podemos proporcionar una lista variable de colores para recuperar su gradiente lineal en la direcci√≥n diagonal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora sobre el punto importante: en lugar de agregar dos sombras invertidas a nuestro c√≠rculo presionado, vamos a superponer un nuevo c√≠rculo con un desenfoque (trazo) y luego aplicar otro c√≠rculo con un degradado como m√°scara. </font><font style="vertical-align: inherit;">Esto es un poco m√°s complicado, pero d√©jenme explicarlo poco a poco:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nuestro c√≠rculo base es nuestro c√≠rculo actual con un efecto neom√≥rfico, lleno de un color casi blanco.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Colocamos un c√≠rculo encima de √©l, enmarcado por un marco gris, y un poco borroso para suavizar sus bordes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Luego aplicamos una m√°scara con otro c√≠rculo a este c√≠rculo superpuesto en la parte superior, esta vez lleno de un degradado lineal.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando aplica una vista como m√°scara para otra, SwiftUI usa el canal alfa de la m√°scara para determinar qu√© debe mostrarse en la vista base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, si dibujamos un trazo gris borroso, y luego lo enmascaramos con un degradado lineal de negro a transparente, el trazo borroso ser√° invisible en un lado y aumentar√° gradualmente en el otro, obtendremos un gradiente interno suave. Para que el efecto sea m√°s pronunciado, podemos cambiar ligeramente los c√≠rculos sombreados en ambas direcciones. Despu√©s de experimentar un poco, descubr√≠ que dibujar una sombra clara con una l√≠nea m√°s gruesa que una oscura ayuda a maximizar el efecto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Recuerde que se usan dos sombras para crear una sensaci√≥n de profundidad en el neomorfismo: una clara y otra oscura, por lo que agregaremos este efecto de la sombra interna dos veces con diferentes colores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cambia el c√≠rculo de la </font></font><code>configuration.isPress</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">siguiente manera:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-type">Circle</span>()<font></font>
    .fill(<span class="hljs-type">Color</span>.offWhite)<font></font>
    .overlay(<font></font>
        <span class="hljs-type">Circle</span>()<font></font>
            .stroke(<span class="hljs-type">Color</span>.gray, lineWidth: <span class="hljs-number">4</span>)<font></font>
            .blur(radius: <span class="hljs-number">4</span>)<font></font>
            .offset(x: <span class="hljs-number">2</span>, y: <span class="hljs-number">2</span>)<font></font>
            .mask(<span class="hljs-type">Circle</span>().fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.black, <span class="hljs-type">Color</span>.clear)))<font></font>
    )<font></font>
    .overlay(<font></font>
        <span class="hljs-type">Circle</span>()<font></font>
            .stroke(<span class="hljs-type">Color</span>.white, lineWidth: <span class="hljs-number">8</span>)<font></font>
            .blur(radius: <span class="hljs-number">4</span>)<font></font>
            .offset(x: -<span class="hljs-number">2</span>, y: -<span class="hljs-number">2</span>)<font></font>
            .mask(<span class="hljs-type">Circle</span>().fill(<span class="hljs-type">LinearGradient</span>(<span class="hljs-type">Color</span>.clear, <span class="hljs-type">Color</span>.black)))<font></font>
    )</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si ejecuta la aplicaci√≥n nuevamente, ver√° que el efecto de presionar un bot√≥n es mucho m√°s pronunciado y se ve mejor. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1r/f1/ha/1rf1hanjn-9zhj0xhglha6e4lr0.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre esto, la primera parte de la traducci√≥n lleg√≥ a su fin. </font><font style="vertical-align: inherit;">En los pr√≥ximos d√≠as publicaremos la continuaci√≥n, y ahora los invitamos a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">conocer m√°s sobre el pr√≥ximo curso</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es502576/index.html">Apple Watch por poco dinero: c√≥mo quer√≠an "criarme" en Avito y Yulia</a></li>
<li><a href="../es502578/index.html">Sobre la revoluci√≥n en radares, plazos y entrando en la cuarta dimensi√≥n</a></li>
<li><a href="../es502580/index.html">¬øComprometerse en c√≥digo abierto como desarrollador? Nos ocupamos de los derechos (hola, nginx)</a></li>
<li><a href="../es502584/index.html">El fabricante Mi Band lanzar√° una m√°scara transparente autodesinfectante para proteger contra COVID-19</a></li>
<li><a href="../es502588/index.html">La incre√≠ble historia de PowerPoint</a></li>
<li><a href="../es502594/index.html">7 razones por las cuales los proyectos web no se terminan y c√≥mo lidiar con ellos</a></li>
<li><a href="../es502596/index.html">Cursos educativos gratuitos de cuarentena: dise√±o</a></li>
<li><a href="../es502598/index.html">Semana de la seguridad 21: Vulnerabilidad del servicio de impresi√≥n de Windows</a></li>
<li><a href="../es502604/index.html">Una introducci√≥n a TLS para Patrik Patrick (Parte 1)</a></li>
<li><a href="../es502608/index.html">C√≥mo comenzamos el mercado de aplicaciones en el servicio SaaS</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>