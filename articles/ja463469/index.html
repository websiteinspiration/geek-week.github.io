<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🛒 🌉 🕖 箱のないシュレディンガー猫：分散システムにおけるコンセンサスの問題 💽 🔞 👨🏻‍🎨</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="想像してみてください。 5匹の猫が部屋に閉じ込められており、飼い主を目覚めさせるためには、5匹に寄りかかって初めてドアを開けることができるので、全員がこれに同意する必要があります。猫の1人がシュレディンガー猫であり、残りの猫がその解決策を知らない場合、「どのようにしてこれを行うことができるのか」とい...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>箱のないシュレディンガー猫：分散システムにおけるコンセンサスの問題</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dodopizzadev/blog/463469/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">想像してみてください。 5匹の猫が部屋に閉じ込められており、飼い主を目覚めさせるためには、5匹に寄りかかって初めてドアを開けることができるので、全員がこれに同意する必要があります。猫の1人がシュレディンガー猫であり、残りの猫がその解決策を知らない場合、「どのようにしてこれを行うことができるのか」という疑問が生じます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、分散システムの世界の理論的なコンポーネントとその動作原理について簡単な言葉で説明します。また、Paxos'aの根底にある主要なアイデアを表面的に検討します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rd/38/j0/rd38j0ycrlghtsm-ahtyuh4dj9e.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者がクラウドインフラストラクチャ、さまざまなデータベースを使用し、多数のノードからクラスターで作業する場合、データが完全で、安全で、いつでもアクセスできることが確実です。しかし、保証はどこにありますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、私たちが持っている保証はサプライヤーの保証です。ドキュメントでは、ほぼ次のように説明されています。「このサービスは非常に信頼性が高く、SLAが事前定義されています。心配しないでください。すべてが期待どおりに分散して機能します。」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大企業の賢い叔父たちがすべてがうまくいくと確信していたので、私たちは最高のものを信じる傾向があります。私たちは自問しません。なぜ、実際にそれが機能するのでしょうか。そのようなシステムが正しく動作するための正式な正当化はありますか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">、分散コンピューティング学校に</font></a><font style="vertical-align: inherit;">行き</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして、このトピックから非常に刺激を受けました。</font><font style="vertical-align: inherit;">学校での講義は、コンピューターシステムに関連するものよりも、数学分析のクラスに似ていました。</font><font style="vertical-align: inherit;">しかし、これは、私たちが毎日それを知らずに使用する最も重要なアルゴリズムが一度に証明された方法です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最近のほとんどの分散システムは、Paxosコンセンサスアルゴリズムとそのさまざまな変更を使用しています。</font><font style="vertical-align: inherit;">最もクールなことは、有効性、そして原則として、このアルゴリズムの存在の可能性はペンと紙で簡単に証明できることです。</font><font style="vertical-align: inherit;">ただし、実際には、このアルゴリズムは、クラウド内の膨大な数のノードで動作する大規模なシステムで使用されます。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらに議論されることの簡単な説明：2人の将軍のタスク</font></font></b><div class="spoiler_text">    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a>. <br>
<br>
     –   .      .       1  2      .   –      .          .<br>
<br>
<img src="https://habrastorage.org/webt/5i/ij/lu/5iijluannrbav-ljyfbmmi1n6fo.png"><br>
<br>
   :     ,      .    1  2     .      ,  . <br>
<br>
 ,  1  2          .            . :         (    1  2    2  1),          . ,   ,       ,   ( )      X.<br>
<br>
,  1    2  : «    !».  1        2.    1 ,   2    : «,    ».    2  ,     ,    ,    .    2   .<br>
<br>
    ,  :       ,        ,     ( ,       ).<br>
<br>
   –       ,       .     100%  ,   .           .<br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散システムの概念を紹介します</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分散システムは、メッセージを交換できるコンピュータ（以下、ノードと呼びます）のグループです。</font><font style="vertical-align: inherit;">個々のノードは自律エンティティです。</font><font style="vertical-align: inherit;">ノードは独立してタスクを処理できますが、他のノードと対話するためには、メッセージを送受信する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メッセージが具体的にどのように実装され、どのプロトコルが使用されるか-これは、このコンテキストでは私たちにとって重要ではありません。</font><font style="vertical-align: inherit;">分散システムのノードがメッセージを送信することによって相互にデータを交換できることが重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
定義自体はそれほど複雑に見えませんが、分散システムには、私たちにとって重要ないくつかの属性があることを考慮する必要があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散システム属性</font></font></h4><br>
<ol>
<li><b>Concurrency</b> –        .  ,   ,  ,     ,     ,         . ,  ,    .</li>
<li><b>  </b>.           .        ,        .  ,      .       ,   ,     ,      .        .</li>
<li><b>   </b>.    : -      ,     .      ,    ,      .  ,  ,   ,      .       :  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="> </a>.         –  Blockchain.          .    ,           .</li>
<li><b>  (  )  </b>.   ,      .      :   .</li>
</ol><br>
<h4>      </h4><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同期モデル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -あるノードから別のノードへのメッセージの到達が保証されている有限の既​​知の時間デルタがあることは確かです。</font><font style="vertical-align: inherit;">この時間が経過してもメッセージが届かない場合は、ノードに障害が発生したと言えます。</font><font style="vertical-align: inherit;">そのようなモデルでは、予測可能な待ち時間があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非同期モデル</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -非同期モデルでは、待機時間は有限であると考えていますが、そのようなデルタ時間がないため、ノードが故障していることが保証されます。</font><font style="vertical-align: inherit;">それら。</font><font style="vertical-align: inherit;">ノードからのメッセージの待機時間は、任意に長くすることができます。</font><font style="vertical-align: inherit;">これは重要な定義であり、これについては後でさらに説明します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散システムにおけるコンセンサスの概念</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンセンサスの概念を正式に定義する前に、必要な状況の例、つまり</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステートマシンレプリケーション</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">について考えてみましょう</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いくつかの分散ログがあります。一貫性を保ち、分散システムのすべてのノードで同一のデータを含める必要があります。ノードの1つがログに書き込む新しい値を見つけると、すべてのノードでログが更新され、システムが新しい一貫した状態に切り替わるように、この値を他のすべてのノードに提供することがタスクになります。ノードが互いに同意することが重要です。すべてのノードは、提案された新しい値が正しいことに同意し、すべてのノードがこの値を受け入れます。この場合のみ、誰もが新しい値をログに書き込むことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
言い換えると、より関連性の高い情報があることに異議を唱えたノードはなく、提案された値は正しくありません。</font><font style="vertical-align: inherit;">ノード間の合意と単一の正しい許容値に関する合意は、分散システムではコンセンサスです。</font><font style="vertical-align: inherit;">さらに、分散システムが保証付きのコンセンサスを達成できるようにするアルゴリズムについて説明します。</font></font><br>
<img src="https://habrastorage.org/webt/0j/ph/1q/0jph1qr2_nur1-s1cyabhttzpy4.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より正式には、コンセンサスアルゴリズム（または単にコンセンサスアルゴリズム）を、分散システムを状態Aから状態Bに転送する関数として定義できます。さらに、この状態はすべてのノードによって受け入れられ、すべてのノードがそれを確認できます。</font><font style="vertical-align: inherit;">結局のところ、このタスクは、一見したところほど簡単ではありません。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンセンサスアルゴリズムのプロパティ</font></font></h4> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムが存在し続け、状態から状態への移行がある程度進むように、コンセンサスアルゴリズムには3つのプロパティが必要です。</font></font><br>
<br>
<ol>
<li><b>Agreement </b> –            (       safety property).  ,    (         )          . <br>
<br>
  ,         .       ,     -  (,  - ),       ,      (  ).       .</li>
<li><b>Integrity </b> —            <b>v</b>,          <b>v</b>. </li>
<li><b>Termination </b>–           (liveness property),       .     ,          : «  –   ,     ».</li>
</ol><br>
<h4>   </h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アルゴリズムの特性は完全に明確ではないかもしれませんが。したがって、同期メッセージングモデルのシステムで最も単純なコンセンサスアルゴリズムがどの段階を通過するかを例として示します。このモデルでは、すべてのノードが期待どおりに機能し、メッセージは失われず、何も壊れません（これは本当に起こりますか？）。</font></font><br>
<br>
<ol>
<li>    <s>  </s> (Propose). ,      « 1»     ,     – .    « 1»    <b>proposer</b>.  proposer « 1»       ,      ,       : «!    «»,     !  ,     «»   ». <br>
<br>
<img src="https://habrastorage.org/webt/62/tt/i4/62tti4d8onrzc_0npw14yxzttba.png"></li>
<li>   –     (Voting).    ?   ,       ,         .<br>
<br>
<img src="https://habrastorage.org/webt/4f/a8/ii/4fa8iiknak8jtumfh-kq3--yljs.png"><br>
<br>
  « 1»   ,          .    ,  : «,        .  «» –    ,   ». <br>
<br>
   ,    « 1»: «!         .  «»,  - ».<br>
<br>
      :     ,  -    , ,       . </li>
<li>     ,    «»,       –   (Accept). « 1»       : «    «»!    ,  «» –   ,   !    ,  .    !»<br>
<br>
<img src="https://habrastorage.org/webt/q4/q3/dj/q4q3djt3usbjuxz5jktov7tki9u.png"></li>
<li>     (Accepted),      «»,         (   ).      ,    .<br>
 <img src="https://habrastorage.org/webt/ip/mi/hx/ipmihxdgotdz6dkggfeubcothkc.png"> </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、単純な場合のコンセンサスアルゴリズムは、提案、投票（投票）、承認（承認）、承認の確認（承認）の4つのステップで構成されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あるステップで合意に到達できなかった場合、提案された値の確認を拒否したノードから提供された情報を考慮して、アルゴリズムが再起動されます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非同期システムにおける合意アルゴリズム</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それ以前は同期メッセージングモデルについてだったので、すべてがスムーズでした。</font><font style="vertical-align: inherit;">しかし、現代の世界ではすべてを非同期で行うことに慣れていることはわかっています。</font><font style="vertical-align: inherit;">ノードからの応答を待つ時間が任意に長くなる可能性があると考えられる非同期メッセージングモデルを持つシステムで、同様のアルゴリズムがどのように機能するか（ちなみに、ノードの障害は、ノードが任意に長い時間応答できる場合の例と考えることもできます） ）</font></font><br>
<br>
<blockquote>,   ,      ,     ,     :      N         ,   -   ?</blockquote><br>
<div class="spoiler"><b class="spoiler_title">     .</b><div class="spoiler_text"> : <b>0</b>.           ,     .          FLP (1985, Fischer, Lynch, Paterson,      ): «           ».<br>
<img src="https://habrastorage.org/webt/bo/hm/1x/bohm1xpvycsoq2xbobtaje8xpfc.png"><br>
,    ,   ,     .   .   ? <br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは今、理論について、数学について話しています。数学の言語から私たちの言語に変換するときに「合意に達することができない」とはどういう意味ですか？エンジニアリング？これは、「常に達成できるとは限らない」、つまりコンセンサスが得られない場合があります。そして、このケースは何ですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、上記の活性プロパティの違反にすぎません。一般的な合意はありません。また、すべてのノードからの応答がない場合、システムは進行できません（有限時間内に完了できません）。非同期システムでは、予測可能な応答時間がないため、ノードがダウンしているか、応答に時間がかかるだけなのかわかりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし実際には、解決策を見つけることができます。障害が発生した場合にアルゴリズムを長時間動作させます（無限に動作する可能性があります）。しかし、ほとんどの場合、ほとんどのノードが正しく機能していれば、システムは進歩します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、部分的に同期した通信モデルを扱っています。部分的な同期性は次のように理解されています。一般的なケースでは、非同期モデルがありますが、正式には特定の瞬間の「グローバル安定化時間」という特定の概念が導入されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この時点は恣意的に長くなるとは限らないかもしれませんが、いつかは来るはずです。仮想アラームが鳴り、今後はメッセージが到達する時間差を予測できます。この瞬間から、システムは非同期から同期に変わります。実際には、このようなシステムを正確に扱っています。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paxosアルゴリズムはコンセンサスの問題を解決します</font></font></h2><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paxos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、一部のノードで障害が発生する可能性がある場合に、部分同期システムのコンセンサス問題を解決するアルゴリズムのファミリーです。</font><font style="vertical-align: inherit;">Paxosの作者は</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leslie Lamport</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">彼は1989年にアルゴリズムの存在と正当性の正式な証明を提案しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、その証拠は決して簡単なものではありませんでした。</font><font style="vertical-align: inherit;">最初の出版物は、アルゴリズムの説明付きで1998年にのみリリースされました（33ページ）。</font><font style="vertical-align: inherit;">結局、理解するのが非常に難しく、2001年に14ページにわたる記事の解説が掲載されました。</font><font style="vertical-align: inherit;">出版物の量は、実際にはコンセンサスの問題は容易ではなく、そのようなアルゴリズムは最も賢い人々の大きな仕事であることを示すために与えられています。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">興味深いことに、レスリーランポート自身の講義では、2番目の記事の説明で、1つのステートメント、1つの行（どちらを指定していないか）があり、解釈が異なることに気付きました。</font><font style="vertical-align: inherit;">このため、最新のPaxos実装の多くは正しく機能しません。</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パクソスの仕事の詳細な分析は複数の記事を描くので、アルゴリズムの主なアイデアを非常に簡潔に伝えようと思います。</font><font style="vertical-align: inherit;">私の記事の最後にあるリンクには、このトピックにさらに浸るための資料があります。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paxosでの役割</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paxosには役割の概念があります。</font><font style="vertical-align: inherit;">3つの主要なものを考えてみましょう（追加の役割を持つ変更があります）。</font></font><br>
 <br>
<ol>
<li><b>Proposers (   :   )</b>.  ,    -          .            .  Paxos       .</li>
<li><b>Acceptors (Voters)</b>.  ,          .    ,       :     (  )      .</li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">学習者</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">システムの状態が変化したときに、新しい受け入れられた値を単に受け入れて記録するノード。</font><font style="vertical-align: inherit;">彼らは意思決定を行わず、単にデータを受け取り、それをエンドユーザーに提供することができます。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つのノードで、さまざまな状況で複数の役割を組み合わせることができます。 </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">定足数の概念</font></font></h4><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノードの</font><font style="vertical-align: inherit;">
システムがあると仮定し</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">そして、それらから最大</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ノードが失敗する可能性があります。</font><font style="vertical-align: inherit;">Fノードに障害が発生した場合</font><font style="vertical-align: inherit;">、クラスターには</font><font style="vertical-align: inherit;">少なくとも</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2F + 1個の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセプターノードが</font><font style="vertical-align: inherit;">必要</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、最悪の状況でも常に「正常」で正しく機能するノードの過半数を確保するために必要です。</font><font style="vertical-align: inherit;">つまり</font><font style="vertical-align: inherit;">、同意した</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">F + 1の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「良好」ノード、および最終値が受け入れられます。</font><font style="vertical-align: inherit;">そうしないと、地域のグループによって意味が異なり、合意できない場合があります。</font><font style="vertical-align: inherit;">したがって、投票に勝つには絶対多数派が必要です。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paxosコンセンサスアルゴリズムの一般的な考え方</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Paxosアルゴリズムには2つの大きなフェーズが含まれており、フェーズはそれぞれ2つのステップに分かれています。</font></font><br>
<br>
<ol>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フェーズ1a：準備</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">準備段階では、リーダー（提案者）がすべてのノードに通知します。</font><font style="vertical-align: inherit;">新しいラウンドがあります。</font><font style="vertical-align: inherit;">このラウンドの数はnです。</font><font style="vertical-align: inherit;">今、私たちは投票を始めます。」</font><font style="vertical-align: inherit;">現時点では、新しいサイクルの開始を報告するだけで、新しい値は報告しません。</font><font style="vertical-align: inherit;">このステージのタスクは、新しいラウンドを開始し、全員に一意の番号を伝えることです。</font><font style="vertical-align: inherit;">ラウンド数は重要です。これは、以前のすべてのリーダーからの以前のすべての投票数よりも大きい値でなければなりません。</font><font style="vertical-align: inherit;">正確にラウンド数のおかげで、システム内の他のノードはリーダーがデータをどれだけ新鮮に持っているかを理解します。</font><font style="vertical-align: inherit;">他のノードはおそらくはるかに後のラウンドの投票結果をすでに持っているでしょう、そして彼らは単に彼が時代遅れであるとリーダーに話します。</font></font></li>
<li><b>Phase 1b: Promise</b>.  -acceptor'     ,   : <br>
 <ul>
<li> n   ,      ,    acceptor.  acceptor   ,            ,  n.  acceptor    -  (..       - ),           ,    .</li>
<li>  ,  acceptor       ,          .</li>
</ul></li>
<li><b>Phase 2a: Accept</b>.       (   ) ,     ,        : <br>
 <ul>
<li>  acceptor'  ,     .          c .    x,      : «Accept (n, x)»,    –       Propose,    –     , ..   , , .</li>
<li>   acceptor'    ,        ,        ,  ,      .   y.      : «Accept (n, y)»,     .</li>
</ul></li>
<li><b>Phase 2b: Accepted</b>. , -acceptor',    «Accept(...)»,      (   ,      )    ,     - ()        <b>n' &gt; n</b>,        .<br>
<br>
    ,      ,     . !        ,     ,    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これがPaxosアルゴリズムが機能する方法です。</font><font style="vertical-align: inherit;">これらの各段階には多くの微妙な点があり、実際にはさまざまな種類の障害、複数のリーダーの問題などは考慮されていませんでしたが、この記事の目的は、読者に分散コンピューティングの世界を紹介することだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、Paxosは類のないものであり、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raft</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">などの他のアルゴリズムもあります</font><font style="vertical-align: inherit;">が、これは別の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事の</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トピックです</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さらなる研究のための資料へのリンク</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビギナーのレベル：</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散コンセンサスはどのように機能しますか？</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Preethi Kasireddy、Mediumに関するブログ記事</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paxosがシンプルになりました。</font><font style="vertical-align: inherit;">実際には</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Adi Kancherla、Mediumに関するブログ記事</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分散思想</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、イタイ・アブラハム、ブログ</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Synchrony、Asynchrony、Partial synchrony</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Ittai Abraham、ブログ記事</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レスリーランプポートレベル：</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1つの障害のあるプロセスでの分散型コンセンサスの不可能性（FLP不可能）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Fischer、LynchおよびPaterson、研究論文、1985</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パートタイム議会</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、レスリーランポート、研究論文、1998</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Paxosはシンプルになりました</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、レスリーランポート、研究論文、2001年</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja463447/index.html">Astra Linux 1.6（スモレンスク）。システムは通常のユーザーと動作する準備ができていますか？松葉杖の例</a></li>
<li><a href="../ja463455/index.html">バージョン1からJavaで修正すべき何千ものもの：OracleのSergey Kuksenkoへの素晴らしいインタビュー</a></li>
<li><a href="../ja463461/index.html">Goには何があるか、何がないか。パート1</a></li>
<li><a href="../ja463463/index.html">DRAGおよびDROPエフェクトを作成する方法</a></li>
<li><a href="../ja463465/index.html">本「表現力豊かなJavaScript。最新のWebプログラミング。第3版</a></li>
<li><a href="../ja463471/index.html">機能の切り替え：ビュー、メリット、.NETでの操作</a></li>
<li><a href="../ja463473/index.html">Cisco 200-125 CCNA v3.0のトレーニング。16日目。小規模オフィスでのネットワーキング</a></li>
<li><a href="../ja463477/index.html">静かで静か：2つのノイズ低減レベルを備えたdBud耳栓</a></li>
<li><a href="../ja463481/index.html">WMSの離散数学：セル内の商品を圧縮するアルゴリズム（パート1）</a></li>
<li><a href="../ja463483/index.html">ドキュメントのコラボレーション、更新された企業チャット、モバイルアプリ：Zextras Suite 3.0の新機能</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>