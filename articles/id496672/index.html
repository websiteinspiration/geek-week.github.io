<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üéóÔ∏è üë®üèø‚Äçüöí üë∞üèΩ Pengantar untuk mengeksploitasi dan membalikkan menggunakan IDA GRATIS dan alat gratis lainnya. Bab 2 üóíÔ∏è üì¢ üë®üèº‚Äçüîß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada bagian pertama, kami memasang beberapa alat yang akan berguna bagi kami untuk mengikuti kursus ini. Fitur mereka adalah mereka semua gratis. Kami...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pengantar untuk mengeksploitasi dan membalikkan menggunakan IDA GRATIS dan alat gratis lainnya. Bab 2</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496672/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada bagian pertama, kami memasang beberapa alat yang akan berguna bagi kami untuk mengikuti kursus ini. </font><font style="vertical-align: inherit;">Fitur mereka adalah mereka semua gratis. </font><font style="vertical-align: inherit;">Kami tidak akan menggunakan alat berbayar apa pun, dan dari mereka yang memiliki versi berbayar, seperti IDA atau PYCHARM, kami akan menggunakan versi GRATIS atau KOMUNITAS.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat beberapa konsep sebelum kita mulai dengan latihan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa itu TAS? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BAG adalah hasil dari kegagalan atau kekurangan dalam proses menciptakan program komputer (perangkat lunak) atau komputer. Kegagalan yang ditentukan dapat terjadi pada setiap tahap siklus hidup perangkat lunak, meskipun kegagalan yang paling jelas terjadi pada tahap pengembangan dan pemrograman. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang selalu saya katakan, seorang programmer dapat membuat kesalahan, dan kesalahan ini dapat menyebabkan crash atau bug program. Sejauh ini, saya belum mengatakan hal baru. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertanyaannya adalah untuk mengetahui perbedaan antara BAG dan VULNERABILITY, jadi mari kita lihat apa VULNERABILITY itu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa itu VULNERABILITY?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
KERENTANAN adalah jenis bug tertentu dalam suatu program yang memungkinkan menggunakannya untuk melanggar keamanan sistem komputer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, kerentanan memungkinkan Anda untuk melakukan tindakan yang programnya tidak dimaksudkan, dan menyalahgunakannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan kata lain, kerentanan adalah jenis bug tertentu, bagian dari mereka. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ve/xv/dz/vexvdzddt1ik8nomu0jbz2yxjyi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tentu saja, ada banyak jenis kerentanan. </font><font style="vertical-align: inherit;">Kami akan fokus pada studi dan eksploitasi kerentanan di WINDOWS.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu EXPLOIT?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EXPLOIT adalah program komputer yang mencoba memanfaatkan beberapa kerentanan dari program lain. Tujuan akhir dari suatu eksploitasi dapat berbahaya, misalnya, sebagai menghancurkan atau mematikan sistem yang diserang, meskipun biasanya merupakan pelanggaran terhadap langkah-langkah keamanan untuk mendapatkan akses ke informasi dengan cara yang tidak sah dan menggunakannya untuk kepentingan mereka sendiri atau sebagai sumber serangan lain terhadap pihak ketiga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penyalahgunaan kerentanan dapat menyebabkan kegagalan aplikasi atau sistem itu sendiri, pelaksanaan kode asli pada mesin lokal atau jarak jauh. Operasi dan kerumitannya bergantung pada kerentanan itu sendiri, lingkungan dan ukuran yang dimiliki tujuan selama operasi.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jenis kerentanan pertama yang akan kita periksa adalah buffer overflows. </font><font style="vertical-align: inherit;">Kami akan mulai dengan contoh-contoh paling sederhana, dan kemudian kami akan secara bertahap meningkatkan kompleksitas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awalnya, fitur keamanan sistem tidak akan diaktifkan, tetapi secara bertahap kami akan mengaktifkannya untuk mengetahui bagaimana kami dapat menghadapinya dan dalam situasi apa.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu BUFFER?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BUFFER adalah ruang memori dengan ukuran tertentu yang disediakan untuk penyimpanan dan manajemen data. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh dasar adalah stoples 20 liter, yang saya miliki untuk menyimpan konten. </font><font style="vertical-align: inherit;">Ini bisa kurang dari atau sama dengan 20 liter, yang merupakan ukuran maksimum. </font><font style="vertical-align: inherit;">Jika Anda ingin menyimpan lebih banyak dalam satu tangki, Anda harus menemukan cara untuk menambah ukuran buffer, jika tidak ketika Anda mencoba menyimpan, misalnya, 40 liter dalam kaleng 20 liter, itu akan meluap.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu BUFFER OVERFILL?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BUFFER OVERFLOW terjadi ketika sebuah program komputer melebihi jumlah memori yang disediakan untuk itu dengan menulis data ke blok memori yang berdekatan. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.welivesecurity.com/la-es/tag/buffer-overflow-la-es</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Sebenarnya, buffer overflow terjadi dalam aplikasi ketika tidak memiliki pemeriksaan keamanan yang diperlukan dalam kode programnya, seperti mengukur jumlah data yang akan disalin ke buffer dan yang tidak melebihi ukuran buffer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jenis buffer overflows yang paling umum adalah stack buffer overflows dan heap buffer overflows.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita melihat definisi buffer overflow, dan dalam contoh kita sebelumnya, jika saya mencoba menuangkan 40 liter ke dalam tangki 20 liter, itu akan meluap, seperti yang kita pahami. </font><font style="vertical-align: inherit;">Ini adalah overflow yang menyebabkan buffer overflow, mis. </font><font style="vertical-align: inherit;">meluap tangki saya ketika kapasitas maksimumnya terlampaui. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang jelaskan perbedaan antara tumpukan dan tumpukan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu STACK?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
STACK digunakan untuk menyimpan variabel fungsi lokal yang diperlukan hanya selama fungsi dijalankan. </font><font style="vertical-align: inherit;">Dalam sebagian besar bahasa pemrograman, penting bahwa kita tahu pada waktu kompilasi seberapa besar variabel jika kita ingin menyimpannya di stack.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu BANYAK?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heap digunakan untuk menyimpan memori dinamis, masa manfaat yang tidak diketahui sebelumnya, tetapi diharapkan akan bertahan beberapa saat. Jika kita tidak tahu ukurannya atau ditentukan saat runtime, ukuran harus dihitung dan dicadangkan di heap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heap juga digunakan untuk objek yang ukurannya bervariasi karena kita tidak tahu pada waktu kompilasi berapa lama mereka akan digunakan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya telah bekerja di perusahaan kami selama lebih dari 13 tahun sebagai penulis eksploitasi, dan hal pertama yang kami lakukan dengan semua orang yang disewa bahkan kepada saya ketika saya bergabung adalah mencoba mengurai tumpukan dan tumpukan GERARDO RICHART yang terkenal. Dia adalah salah satu pendiri CORE SECURITY dan seorang guru analisis eksploit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan mulai perlahan dengan tumpukan paling sederhana. Tentu saja, seperti yang saya katakan, mereka dikompilasi pada saat ini dengan perlindungan minimal dan 32-bit untuk memfasilitasi operasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat kode sumber untuk tugas STACK1. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://drive.google.com/open?id=16btJAetpa1V5yHDZE2bnnFWTQNpsUR4H</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kami melihat folder dengan latihan, dan di dalamnya ada kode sumber STACK1 yang disebut STACK1_VS_2017.CPP.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-comment">#define _CRT_SECURE_NO_WARNINGS</span>
<span class="hljs-comment">#define _CRT_SECURE_NO_DEPRECATE</span><font></font>
<font></font>
<span class="hljs-comment">#include &lt;stdlib.h&gt;</span>
<span class="hljs-comment">#include  &lt;stdio.h&gt; </span>
<span class="hljs-comment">#include "Windows.h"</span><font></font>
<font></font>
<font></font>
int main(int argc, char **argv) <font></font>
{<font></font>
<font></font>
<font></font>
	MessageBoxA((HWND)<span class="hljs-number">-0</span>, (LPCSTR) <span class="hljs-string">"Imprimir You win..\n"</span>, (LPCSTR)<span class="hljs-string">"Vamosss"</span>, (UINT)<span class="hljs-number">0</span>);<font></font>
<font></font>
	int cookie;<font></font>
	char buf[<span class="hljs-number">80</span>];<font></font>
<font></font>
	printf(<span class="hljs-string">"buf: %08x cookie: %08x\n"</span>, &amp;buf, &amp;cookie);<font></font>
	gets(buf);<font></font>
<font></font>
	<span class="hljs-keyword">if</span> (cookie == <span class="hljs-number">0x41424344</span>) printf(<span class="hljs-string">"you win!\n"</span>);<font></font>
<font></font>
}<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan mencoba memahami kode ini dan melihat di mana buffer overflow dapat terjadi, dan apakah itu akan menjadi buffer overflow pada tumpukan atau pada heap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Panggilan fungsi MessageBoxA ditambahkan ke kode sumber STACK1 untuk menunjukkan kepada kami sebuah pesan kecil yang mendorong kami untuk menyelesaikannya. Ini hanyalah tambahan yang tidak mempengaruhi apa pun. Ini adalah panggilan standar ke fungsi WINDOWS yang ditentukan, yang tidak akan kami analisis di sini. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Siapa yang butuh informasi tentang fungsi ini, Anda bisa mendapatkannya di sini.</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kita tahu bahwa di dalam fungsi, jika ada variabel lokal, Anda harus memesan tempat untuk mereka. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi kita dibiarkan dengan kode sumber ini dibuat oleh GERARDO RICHART.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> **argv)</span> 
</span>{<font></font>
<font></font>
	<span class="hljs-keyword">int</span> cookie;
	<span class="hljs-keyword">char</span> buf[<span class="hljs-number">80</span>];<font></font>
<font></font>
	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"buf: %08x cookie: %08x\n"</span>, &amp;buf, &amp;cookie);<font></font>
	gets(buf);<font></font>
<font></font>
	<span class="hljs-keyword">if</span> (cookie == <span class="hljs-number">0x41424344</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"you win!\n"</span>);<font></font>
<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat warna merah bagian pertama dari program, di mana disediakan ruang untuk variabel lokal. Dalam hal ini, ada dua variabel lokal, COOKIE dan BUF. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda bisa melihat tipe data di tabel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Jenis variabel lain juga terletak di sana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kode akan dikompilasi menjadi 32 bit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa variabel COOKIE akan bertipe INT, jadi 4 byte memori akan disediakan untuk variabel ini. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1x/xh/qr/1xxhqrcrft6amjldaqun6yvffro.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus variabel BUF, kita melihat bahwa itu adalah array atau serangkaian karakter (ukuran karakter = 1 byte). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5j/0f/py/5j0fpyugggmbrkvzktqjibwstuk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu itu akan menjadi array 80 karakter, mis. panjangnya akan menjadi 80x1 = 80 byte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siapa pun yang tidak tahu array apa yang bisa membacanya di sini: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.programiz.com/c-programming/c-arrays</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, sebuah array dapat menyimpan banyak nilai dari tipe data yang sama. </font><font style="vertical-align: inherit;">Anda hanya perlu memberi tahu dia jenis data apa yang akan dan berapa banyak akan ada. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e8/do/ab/e8doabufhyuyqjdwz95qlikvcim.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam contoh pertama, ini adalah array bilangan bulat, mis. </font><font style="vertical-align: inherit;">itu akan menjadi 100 byte, dan karena setiap integer mengambil 4 byte, panjang array akan menjadi 100 x 4 = 400 byte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada contoh kedua, FLOAT membutuhkan 4 byte, jadi arraynya adalah 5 FLOAT, jadi panjangnya 5 x 4 = 20 byte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika kita menganalisis array pada level rendah, kita akan melihat bahwa itu adalah ruang memori yang disediakan atau buffer. </font><font style="vertical-align: inherit;">Ini bukan satu-satunya cara untuk menghemat ruang memori. </font><font style="vertical-align: inherit;">Ada tipe data variabel lain yang juga membutuhkan ruang cadangan dalam memori yang akan menjadi buffer untuk menyimpan kontennya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kembali ke latihan kami: </font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">char</span> buf[<span class="hljs-number">80</span>];</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah array karakter yang panjangnya 80 x 1 = 80 byte, mis. sepertinya toples 20 liter kami. Jika kami mencoba menyimpan lebih dari 80 byte, bank akan meluap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita lihat di mana buffer BUF digunakan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kp/ac/nt/kpacnt_0dfwci5pzs4ubozc4tou.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melihat bahwa buffer digunakan di dua tempat yang ditandai dengan panah merah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instruksi pertama memiliki fungsi PRINTF, yang digunakan untuk menampilkan pesan di konsol, yang akan menjadi string yang dikutip.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-string">"buf: %08x cookie: %08x\n"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi fungsi PRINTF tidak hanya mencetak string dalam tanda kutip, tetapi juga mencetak string dalam format yang ditentukan. Persentase di dalam memberi tahu kami bahwa garis keluaran akan dibuat. Kita melihat bahwa string hanyalah argumen pertama ke fungsi. Format output dan argumen lain mungkin ada beberapa (akan ada satu untuk setiap% argumen dalam format). Dalam kasus kami, ada dua dari mereka. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hq/j5/ol/hqj5ollvpzgitrc29p3ywimufvm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, kami memiliki dua format X%, oleh karena itu, jika saya melihat tabel format PRINTF: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vn/bt/b7/vnbtb7zfdmzy19wtmyd6mzxkit4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melihat bahwa fungsi tersebut akan mengambil bilangan bulat (INT) ini dan memasukkannya ke dalam garis keluaran dengan basis sistem bilangan 16, yaitu. dalam format heksadesimal. 08 menunjukkan bahwa jika angka mengandung kurang dari 8 digit, fungsi akan mengisinya dengan spasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Output untuk "buf:% 31x", &amp; buf akan seperti ini</font></font><br>
<br>
<pre><code class="cpp hljs">buf:             <span class="hljs-number">19F</span>ED4 
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa dalam contoh ini diisi dengan spasi sebelum nomor. Ada beberapa pengubah untuk menampilkan output. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua kasus yang mungkin tercantum di sini: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.cplusplus.com/reference/cstdio/printf/</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kasus kami adalah ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tf/pa/g_/tfpag_nbzmhvrzf1gzsqczecfw4.png"><br>
<br>
<img src="https://habrastorage.org/webt/ja/yq/wo/jayqwocmor7ctp0y1tnykptorle.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melihat bahwa hasilnya tidak terpotong, diisi dengan spasi hanya jika panjang argumen yang dimasukkan kurang dari nilai. sebelum X. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, kita tahu bahwa fungsi mencetak dua angka heksadesimal, yang diperoleh dari dua argumen.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-built_in">printf</span>(<span class="hljs-string">"buf: %08x cookie: %08x\n"</span>, &amp;buf, &amp;cookie);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita tahu bahwa suatu variabel memiliki alamat memori dan nilai yang dapat disimpan. </font><font style="vertical-align: inherit;">Sepertinya tabung 20 liter kami. </font><font style="vertical-align: inherit;">Itu memiliki konten atau artinya, yaitu </font><font style="vertical-align: inherit;">liter disimpan di dalam, tetapi juga jika saya memiliki garasi penuh kaleng serupa saya perlu beberapa cara untuk menentukan di mana kaleng yang saya inginkan adalah di antara semua yang saya miliki. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simbol &amp; menunjukkan ini. </font><font style="vertical-align: inherit;">Ia mengembalikan alamat atau lokasi toples, bukan isinya atau nilainya.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Definisi AMPERSAND</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AMPERSAND digunakan untuk menunjukkan alamat memori dari variabel di mana data akan disimpan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, jika saya menjalankan executable di konsol, saya akan melihat, misalnya, bahwa ketika mengeksekusi fungsi PRINTF, ia akan mencetak: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ry/bs/g6/rybsg6crsldpimnhgfopd2-oddq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alamat-alamat dapat berubah pada PC Anda, tetapi karena alamat bawah kedua alamat cocok dengan alamat BUF, kita melihat bahwa mereka terletak dengan cara ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/-j/yc/xf-jycqtfpqcdyu_5tfsuv19uae.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alamat BUF kurang dari alamat COOKIE, sehingga akan meningkat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan apa yang dikatakan alamat variabel ini kepada kami? (Dalam kasus saya, &amp; BUF = 0x19FED4 dan &amp; COOKIE = 0x19FF24) </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6s/xy/8a/6sxy8am2y6d2skgyu7pmsz-wd7i.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Keduanya dalam format heksadesimal. Ingat ini format% X? Jadi saya menempatkan 0x di depan untuk membedakan angka desimal yang akan kami wakili tanpa penambahan apa pun.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika saya melakukan pengurangan di konsol PYTHON atau di PYCHARM: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rd/-u/hw/rd-uhwhszxlontfjic1tl7cqmvo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendapatkan hasil 80 byte, karena variabel COOKIE seharusnya dimulai tepat di mana buffer BUF berakhir, jadi perbedaannya memberi kita ukuran buffer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seringkali, ketika kita membuat tipe variabel ini berdasarkan kode sumber, mungkin saja kompiler memberi kita ukuran yang lebih besar daripada yang dicadangkan dalam kode sumber. Kompiler menjamin bahwa ia akan memesan setidaknya 80 byte, yaitu dia bisa memesan lebih banyak, tidak sedikit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktanya adalah bahwa kita sudah tahu sesuatu tentang kode, ukuran variabel dan lokasinya karena fakta bahwa ia memiliki fungsi PRINTF.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita lihat tempat lain di mana buffer BUF digunakan, karena sekarang program hanya mencetak alamatnya, tetapi tidak menggunakannya untuk menyimpan data di dalamnya.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> **argv)</span> 
</span>{<font></font>
<font></font>
	<span class="hljs-keyword">int</span> cookie;
	<span class="hljs-keyword">char</span> buf[<span class="hljs-number">80</span>];<font></font>
<font></font>
	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"buf: %08x cookie: %08x\n"</span>, &amp;buf, &amp;cookie);<font></font>
	gets(buf);<font></font>
<font></font>
	<span class="hljs-keyword">if</span> (cookie == <span class="hljs-number">0x41424344</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"you win!\n"</span>);<font></font>
<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini, pada garis merah, GET adalah fungsi untuk memasukkan data dari keyboard. Data akan dimasukkan sampai saya menekan Enter. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Program tidak dapat membatasi jumlah data yang dimasukkan oleh pengguna, dan juga tidak ada cara untuk memverifikasi data ini. Segala sesuatu yang dimasukkan sebelum menekan tombol ENTER disalin ke buffer BUF. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini masalahnya. Kami mengatakan bahwa BUF hanya dapat menyimpan maksimum 80 byte, jadi jika kami memasukkan lebih banyak, kami akan membuat buffer overflow, dan di sini semua syarat untuk ini, karena jika pengguna menulis lebih dari 80 byte, maka tangki kami akan meluap dan cairan akan menetes ke bawah . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pr/tv/0e/prtv0eh97rud78cpbrvpqmn7vd4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktanya adalah bahwa di bawah BUF adalah variabel COOKIE, sehingga overflow akan menimpa dan mengisinya dengan nilai yang dapat Anda kontrol.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, jika seseorang yang mencetak menulis 80 * A dan 4 * B, 80 * A akan mengisi BUF, dan 4 * B akan mengisi COOKIE, dan seperti yang kita tahu, ketika seseorang mencetak karakter di konsol, nilainya akan tetap rendah. ASCII. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bx/ff/lh/bxfflhk6qfthec5v64o3kr90ey8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena cookie akan diisi dengan empat huruf B, yang setara dengan nilai 0x42, kami dapat menjamin bahwa nilai cookie akan menjadi 0x42424242, yaitu di komputer saya, alamat cookie 0x19FF24 akan memiliki 0x42424242 sebagai konten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
0x19FF24 =&gt; 42424242 </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mn/zl/zb/mnzlzbrka2otg0rszogmqu3xwmo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Faktanya adalah bahwa kita telah melihat cara meluap dan mengontrol nilai COOKIE.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> **argv)</span> 
</span>{<font></font>
<font></font>
	<span class="hljs-keyword">int</span> cookie;
	<span class="hljs-keyword">char</span> buf[<span class="hljs-number">80</span>];<font></font>
<font></font>
	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"buf: %08x cookie: %08x\n"</span>, &amp;buf, &amp;cookie);<font></font>
	gets(buf);<font></font>
<font></font>
	<span class="hljs-keyword">if</span> (cookie == <span class="hljs-number">0x41424344</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"you win!\n"</span>);<font></font>
<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda harus mencetak "Anda menang" untuk menyelesaikan latihan. Untuk ini, COOKIE harus sama dengan nilai 0x41424344, dan jika tidak ada luapan, ini tidak mungkin, karena nilai COOKIE tidak pernah berubah sejak awal program. Kami tidak akan dapat mencetak "Anda menang", dan untuk ini kami menggunakan buffer overflow, yang mengatakan bahwa ini dapat menyebabkan program melakukan beberapa tindakan selain dari apa yang diprogram. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam hal ini, Anda tidak pernah bisa mengetik "Anda menang", hanya overflow yang akan memungkinkan Anda melakukan ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AAAAAAAA </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan kata lain, alih-alih lewat, misalnya, 80 * A dan 4 * B, untuk mencetak "Anda menang", Anda harus melewati 80 * A dan kemudian huruf DCBA, karena ini akan menyebabkan nilai disimpan dalam COOKIE ASCII. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
44434241</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://www.arumeinformatica.es/blog/los-formatos-big-endian-y-little-endian/</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Format penyimpanan data adalah LITTLE ENDIAN. Dengan kata lain, data dalam memori disimpan dalam urutan terbalik, untuk membuatnya lebih sederhana. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/91/jh/wo/91jhwoo4rj058xjbp9jdp089vw4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan jika urutan 0x41424344 disimpan, sistem akan menyimpannya dalam memori sebagai: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
44 43 42 41 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena alasan ini, ketika menyalin ke memori, menyalin akan terjadi saat kita mengetik, jadi kita harus menulis nilai dalam urutan terbalik sehingga ketika membaca dari memori itu berada dalam kondisi yang tepat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita dapat menjalankan executable di konsol. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wn/sn/yo/wnsnyolnlocppvkl573pmu-luva.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kursor akan berkedip, ketika fungsi GET meminta saya untuk memasukkan input. Ketik 80 karakter A dengan hati-hati dan kemudian DCBA.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di konsol PYTHON atau PYCHARM, saya dapat mencetak baris, menyalinnya tanpa tanda kutip dan menempelkannya ke konsol agar tidak mencetaknya seperti orang gila, dan kemudian tekan tombol ENTER untuk memasukkannya. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/um/9n/bh/um9nbhsmtv_w2cko2d1lwvelqwq.png"><br>
<br>
<img src="https://habrastorage.org/webt/rm/nr/be/rmnrbe4pvbxovetmml_n85dwc4q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melihat bahwa kami mendapat "Anda menang". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita bisa melihat ini di debugger. Untuk ini kita akan menggunakan X64DBG. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/el/2x/db/el2xdbqsgxwi5rh22txd_hqnnx0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memilih versi 32 bit. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ly/ep/e2/lyepe2znpbsedu8edqur13iocau.png"><br>
<br>
<img src="https://habrastorage.org/webt/ux/4u/pt/ux4upt903tftde_hfpteze3irho.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kami berhenti di perpustakaan NTDLL.DLL, kami menekan RUN lagi dengan F9. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa debugger berhenti pada instruksi pertama dari modul STACK1, yang disebut POIN MASUK atau instruksi pertama yang dijalankan oleh modul.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/va/y-/qf/vay-qf4tqfkxmlik0892lukku7g.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jelas ini tidak seperti kode sumber kami. Anda harus memahami bahwa kompiler menambahkan banyak kode untuk membuat pekerjaan yang dapat dieksekusi dan berjalan dengan benar. Kami akan mencoba menemukan fungsi utama kami. Kita dapat mengarahkan diri kita sendiri dengan melihat garis-garis program. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pg/hv/c9/pghvc9kf8f8xjzdpk4yigw5w5vy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memilih hanya pencarian di wilayah saat ini. Kita tahu bahwa garis akan berada di bagian yang sama. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/a3/fj/qc/a3fjqcvl8iqrupyr4oz2trl0viw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita melihat bahwa ada baris-baris program dan lainnya yang ditambahkan oleh kompiler. Kami mengklik dua kali pada salah satu baris kami. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ua/fc/b6/uafcb61zxgu6jbg2yraawefum50.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda bisa melihat lebih banyak. Kami melihat panggilan ke fungsi MessageBoxA, PRINTF, GETS dan perbandingan dengan nilai 0x41424344.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, kami menambahkan plugin untuk mendekompilasi SNOWMAN. Kita dapat mencoba melihat bagaimana ia mendekompilasi kode, mis. bagaimana dia mencoba untuk mendapatkan kode sumber atau sesuatu yang semirip mungkin dari file yang dikompilasi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/r0/hs/-w/r0hs-w2cpoquwejdry_pogmxlpu.png"><br>
<br>
<img src="https://habrastorage.org/webt/8h/ib/j_/8hibj_rzmyn_5gwvlg-bqhg4upk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa ini tidak sempurna, tetapi lebih baik daripada apa itu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan meletakkan BP di awal fungsi dan tekan F9 sampai debugger berhenti. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9j/wz/em/9jwzemcr76ij1vfdvy9pcdx9gaa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagi mereka yang tidak tahu apa fungsi argumen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rt/su/31/rtsu317d7gmqo_u7parcbcxfagg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus kami, fungsi utama memiliki argumen, tetapi mereka tidak digunakan di dalam fungsi.</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> **argv)</span> 
</span>{<font></font>
<font></font>
	<span class="hljs-keyword">int</span> cookie;
	<span class="hljs-keyword">char</span> buf[<span class="hljs-number">80</span>];<font></font>
<font></font>
	<span class="hljs-built_in">printf</span>(<span class="hljs-string">"buf: %08x cookie: %08x\n"</span>, &amp;buf, &amp;cookie);<font></font>
	gets(buf);<font></font>
<font></font>
	<span class="hljs-keyword">if</span> (cookie == <span class="hljs-number">0x41424344</span>) <span class="hljs-built_in">printf</span>(<span class="hljs-string">"you win!\n"</span>);<font></font>
<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita melihat bahwa ada dua argumen, dan mereka melewati stack ketika dieksekusi dikompilasi menjadi 32 bit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tepat sebelum pemanggilan fungsi, argumen akan disimpan di stack. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika kita berhenti di awal fungsi, nilai pertama pada stack adalah RETURN ALAMAT, yaitu di mana fungsi akan kembali setelah fungsi selesai, dan di bawah nilai ini akan menjadi argumen fungsi ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika saya klik kanan pada RETURN ALAMAT dan pilih FOLLOW DWORD IN DISASSEMBLER, saya akan melihat di mana debugger harus kembali setelah fungsi selesai. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9o/jb/1s/9ojb1skptq9fvde0hlbque803qs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dia akan kembali ke sini. Ini berarti bahwa fungsi utama dipanggil dari panggilan yang lebih tinggi. Saya dapat menempatkan BP di sini, memulai kembali latihan dan memastikannya.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8w/8c/sc/8w8cscopqchym1ubcx2zuazrohq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan menempatkan BP sedikit lebih awal dan me-reboot program. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w8/hc/te/w8hctep2w06vcaqzx_ouz4zguws.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debugger akan berhenti di sini. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hy/mk/3h/hymk3hx1u-myzmmlnygmmeadmww.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini akan menyimpan argumen ke fungsi utama menggunakan instruksi PUSH ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bawah ini adalah tautan untuk mereka yang ingin tahu lebih banyak tentang argumen fungsi: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://publications.gbdirect.co.uk/c_book/chapter10/arguments_to_main.html</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ini tidak terlalu sulit. Argumen pertama ke ARGC adalah INT, yang menunjukkan jumlah parameter konsol yang digunakan untuk menjalankan program, termasuk path ke executable, dan ARGV adalah array pointer ke string. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa jika saya mengubah baris perintah, saya akan memberikan lebih banyak argumen dan memuat ulang.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_a/1o/jc/_a1ojcg0g9lie1le3ouoyuyrtxo.png"><br>
<br>
<img src="https://habrastorage.org/webt/9f/pb/uy/9fpbuygn9gtz4osszzcffsurz9m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini debugger berhenti ketika hendak menyimpan argumen menggunakan instruksi PUSH. Argumen pertama yang disimpan adalah yang terjauh, dan yang terakhir yang Anda simpan akan menjadi argumen pertama untuk fungsi tersebut. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya melacak dan setiap instruksi PUSH menyimpan argumen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1u/yj/rp/1uyjrps22gzfc0re25uhcu-p8a8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini saya bisa melihat argumen fungsi. Di atas adalah argumen pertama ke ARGC. Ini adalah 3, karena menandai jumlah argumen yang diteruskan ke konsol. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vk/il/0i/vkil0istebtffechadwuwyqt2u8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut 3 argumen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita tekan F7 untuk melakukan STEP INTO dan masuk ke fungsi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita melihat bahwa ketika memasuki CALL, debugger menyimpan RETURN ALAMAT ke tumpukan.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gp/xc/fw/gpxcfwbg8jr538d3c45oyrqke6e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, seperti yang sudah kita katakan ketika memasuki fungsi, hal pertama yang akan disimpan di stack adalah RETURN ADDRESS (dalam kompilasi 32-bit), dan di bawah ini adalah argumen untuk fungsi, pertama argumen pertama, dan kemudian sisanya secara berurutan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qk/s4/bi/qks4bikctvy6i3oxg7sy2ipop_o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Argumen kedua, seperti yang kita lihat, adalah array pointer. Di sini kita melihat dalam memori bahwa ada tiga pointer ke tiga baris yang dilewatkan sebagai argumen. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/c5/f3/kn/c5f3knt9kreq8r5kmfzqgvnv2zw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kami berhenti di awal fungsi, sedikit lebih rendah kami memiliki ALAMAT KEMBALI dan ARGUMEN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengklarifikasi bahwa file tersebut dikompilasi dalam 32-bit, karena dalam versi 64-bit, argumen diteruskan dengan cara yang berbeda. Kami akan melihatnya nanti. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian fungsi mulai dijalankan. Hal pertama adalah yang disebut PROLOGUE, yang menyimpan nilai EBP dari fungsi yang disebut milik kita.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ka/ss/9k/kass9k6zty8_-nxgxomh2zb6iui.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini akan menjaga nilai EBP tepat di atas alamat pengirim. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uo/da/gi/uodagirflnltomk1uqlo9dawbjo.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika saya mengikuti instruksi menggunakan F7. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya melihat bahwa nilai EBP GUARDADO ada di tumpukan di atas alamat pengirim. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/ml/wi/gwmlwilzarr_u67xp_-6dg5-m0w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instruksi berikut dalam PROLOG: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MOV EBP, ESP </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini menetapkan nilai EBP untuk fungsi saat ini yang disimpan dan adalah fungsi induk yang memanggil kita (Dalam kasus ini, fungsi utama saya adalah fungsi berbasis EBP, dalam kasus lain mungkin berbeda, dan kami lihat nanti) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan menempatkan nilai ESP saat ini di EBP, kami memastikan bahwa kami membuat bingkai untuk fungsi kami saat ini.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bw/d0/8u/bwd08ut1gamkdw-5m9y58cqmdrw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, karena fungsi ini didasarkan pada EBP atau EBP BASED, nilai EBP akan disimpan di dalam fungsi dan akan diterima sebagai referensi, dan ESP akan berubah. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/31/fm/rm/31fmrm3jsa9gz0dwzonyf4lh4wa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nilai EBP ini diambil sebagai basis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam fungsi berbasis EBP, variabel dan argumen dapat dinamai berdasarkan jaraknya dari alamat ini, yang akan disimpan dalam nilai EBP hingga epilognya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita dapat melihat beberapa variabel dalam daftar yang disebut sebagai EBP-4 atau EBP-54, merujuk pada nilai EBP yang saat ini diterima.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita dapat mengatakan bahwa segera setelah EBP mengambil nilainya setelah PROLOG, itu akan terlihat seperti sia-sia, sehingga argumen akan selalu pergi ke arah itu, oleh karena itu EBP + XXX mengacu pada argumen (EBP yang disimpan dan ALAMAT KEMBALI juga lebih rendah, tetapi tidak akan memiliki tautan dalam kode), sementara variabel, seperti yang akan kita lihat, akan berada di atas alamat ini, sehingga tautan ke EBP-XXX merujuk ke beberapa variabel lokal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, dalam fungsi berbasis </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EBP </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">EBP + XXXX = argumen yang diteruskan ke fungsi </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
EBP - XXXX = variabel fungsi lokal</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah PROLOG, akan ada cara untuk menyediakan ruang untuk variabel. Dalam kasus kami, ini dilakukan dengan menggerakkan ESP ke atas sehingga ruang yang tersisa di bawah dicadangkan untuk jumlah semua panjang variabel dan, kadang-kadang, sedikit lebih berjaga-jaga, yang tergantung pada kompiler. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
00401043 | 83EC 54 | SUB ESP, 54 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa ESP terletak di atas EBP, yang akan tetap menjadi tautan, dan bahwa 0x54 yang dikonversi menjadi desimal adalah 84, yang merupakan jumlah panjang BUF dan COOKIE. Ingatlah bahwa mereka masing-masing berusia 80 dan 4 tahun. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/h8/sz/hxh8sz1xa-15otyztxyu8dl6g34.png"><br>
<br>
<img src="https://habrastorage.org/webt/1a/84/bv/1a84bvou8z1bdrr0rkcjyqvqvg8.png"><br>
<br>
<img src="https://habrastorage.org/webt/yv/sh/tv/yvshtvouwajuyoqcvfptuhfa7oa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada eksekusi, spasi dibuat untuk variabel BUF dan COOKIE dengan ukuran 84 byte. Anda bisa mengklik kolom pertama dalam arah horisontal dan melihat nilai EBP dan menemukan nilai itu di tumpukan. Jelas, sekarang akan lebih rendah.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w1/eg/vc/w1egvc6xx-pgpprzf6pfvcuicn0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya klik dua kali di sini. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gl/1s/i2/gl1si2koeosh8u7seukoagohri4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, kita akan memiliki nilai mengenai EBP juga di stack. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya, EBP-4 cocok dengan daftar, -4 ditampilkan di kolom pertama tumpukan, dan dalam penjelasannya, juga ditampilkan sebagai EBP-4. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pw/_w/2l/pw_w2lyzbza2xlwmthujrqsdado.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika saya melacak, kita melihat bahwa dari tempat ESP berada untuk memesan variabel, ia akan selalu naik, karena harus memperhitungkan ruang yang dialokasikan untuk variabel. Saat melakukan 4 PUSH untuk MessageBoxA, debugger menempatkan variabel di atas ruang yang disediakan dan meningkatkan ESP. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ny/sm/cn/nysmcnqbcdrmrl-q4nbtfi85r_8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika saya melihat tumpukan, saya melihat 4 argumen hijau yang saya tambahkan di atas ruang yang disediakan ditandai dengan warna merah. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dg/-t/ty/dg-ttymvnjmjq3u-68oeoixwcgw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat Anda memasukkan fungsi MessageBoxA, ALAMAT KEMBALI dari fungsi ini disimpan di tumpukan.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ac/gb/kg/acgbkgp58eatqpqgducvgxoqzca.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini alamat pengirim MessageBoxA. Ketika saya sampai ke RET fungsi ini dengan menelusuri dengan F8, dan saya menjalankan MessageBoxA. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vv/nb/qm/vvnbqmlpj06asy7qqwuwipvvzjq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melihat bahwa debugger akan kembali tepat di bawah panggilan MessageBoxA. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fm/ct/do/fmctdoieugal4uiig_pzcvvwfr8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan nilai PUSH yang Anda berikan untuk fungsi MessageBoxA dan RETURN ADDRESS untuk fungsi ini telah digunakan, dan ESP lagi tepat di atas area yang dipesan, seperti sebelum fungsi apa pun dipanggil. Hal yang sama akan terjadi dengan memanggil fungsi PRINTF. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah Anda melewati fungsi PRINTF, alamat BUF dan COOKIE akan dicetak. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qo/tj/8z/qotj8zivsh5xnhiglbkibu53dh4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alamat BUF pada mesin saya akan 0x19FED4, dan alamat COOKIE akan menjadi 0x19FF24. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini, program membaca alamat BUF untuk meneruskannya ke fungsi GETS dan mengisi BUF. Kami dapat memeriksa apakah alamatnya cocok dengan yang ditampilkan oleh konsol 0x19FED4.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6b/kg/-l/6bkg-lgioczisxsz0s9mlp1omz0.png"><br>
<br>
<img src="https://habrastorage.org/webt/sg/qp/e1/sgqpe1ypgqar2o_5plt8tjlcb0o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kita melihat bahwa itu adalah EBP-54. Jika saya klik dua kali pada tumpukan yang menunjukkan -54, itu akan menunjukkan bahwa alamatnya BUF = 0x19FED4 pada mesin saya. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/d2/ff/wh/d2ffwhnayhtqxh8h1vgknmubaji.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, ketika saya akan menyimpan data yang dimasukkan di alamat ini, saya bisa meletakkannya di dump untuk melihat bagaimana byte disimpan di sana. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fu/mz/9h/fumz9hojfwk_mzv4fwhx9rjzfjw.png"><br>
<br>
<img src="https://habrastorage.org/webt/r6/hx/lm/r6hxlmsrelhvlr-tjfdss11mulm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini mereka. Selain itu, tidak ada yang ditampilkan di bawah, karena tidak ada data. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika saya memanggil fungsi GETS menggunakan F8, saya harus pergi ke konsol, ketik dan tekan ENTER untuk mengisi buffer BUF dan menulis ulang COOKIE. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z2/ye/e6/z2yee6bmvi02vjrqpz5-dscio0a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa variabel COOKIE berada di 19FF24 pada mesin saya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini, program membandingkan cookie dengan 0x41424344. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/am/p4/ja/amp4ja-l9lkyf8trocairpbj3e0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa EBP-4 mengatakan itu adalah COOKIE, selain alamat, jika kita menetapkan HORIZON ke nilai EBP, seperti sebelumnya.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/p4/uo/0u/p4uo0ufah0vdsro_ngyrym3txxm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya klik dua kali di sini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita melihat bahwa EBP-4 adalah COOKIE, karena variabelnya berada pada level -4 stack, menghilangkan HORIZON. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/x2/gu/kx/x2gukxgn7arw1lk9_w9fj3y3qbu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melihat bahwa program tidak akan melompat dan akan menunjukkan kepada kami bahwa Anda menang! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0e/qv/cl/0eqvclf1uxc7dg8hmgp22ka_3sm.png"><br>
<br>
<img src="https://habrastorage.org/webt/5b/fs/mj/5bfsmjqijpcan7zdmidh-pqj6eg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami secara manual mencapai tujuan yang Anda menangkan! Kata </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kami, kami secara dinamis menganalisis STACK1 menggunakan X64DBG, yang merupakan debugger dan tidak memungkinkan kami untuk menganalisis program tanpa memulainya. Untuk melakukan ini, kita harus menggunakan alat lain, seperti IDA PRO, GHIDRA atau RADARE. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya dapat membuat model skrip untuk mengoperasikan latihan dari PYTHON.</font></font><br>
<br>
<pre><code class="python hljs"><span class="hljs-keyword">import</span> sys
<span class="hljs-keyword">from</span> subprocess <span class="hljs-keyword">import</span> Popen, PIPE<font></font>
<font></font>
payload = <span class="hljs-string">b"A"</span> * <span class="hljs-number">80</span> + <span class="hljs-string">b"\x44\x43\x42\x41"</span><font></font>
<font></font>
p1 = Popen(<span class="hljs-string">r"C:\Users\ricardo\Desktop\abos y stack nuevos\STACK1_VS_2017.exe"</span>, stdin=PIPE)
<span class="hljs-keyword">print</span> (<span class="hljs-string">"PID: %s"</span> % hex(p1.pid))
<span class="hljs-keyword">print</span> (<span class="hljs-string">"Enter para continuar"</span>)<font></font>
p1.communicate(payload)<font></font>
p1.wait()<font></font>
input()<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam kasus PYTHON 3, saya harus meletakkan tanda kurung dalam fungsi PRINT dan berhati-hati ketika menambahkan baris yang seharusnya byte (letakkan b di depan baris di PYTHON 2). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memeriksa apakah pathnya benar dan kapan saya menjalankan file. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5b/fs/mj/5bfsmjqijpcan7zdmidh-pqj6eg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baik. Kami sudah memiliki model skrip untuk PYTHON 3 untuk mengoperasikan STACK1. Pada bagian selanjutnya, kami akan melanjutkan analisis statis di IDA, RADARE dan GHIDRA. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xg/65/w_/xg65w_m85xv1anv5a7uhbuvatuc.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Harap dicatat bahwa selain tugas STACK1, ada juga versi 2, 3 dan 4. Anda dapat mencoba menyelesaikannya. Mereka sangat sederhana dan mirip dengan STACK1, jadi jangan bosan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada bagian selanjutnya kita akan melihat IDA GRATIS, RADARE dan GHIDRA. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sampai jumpa di bagian 3 berikutnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ricardo Narvaha </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
25/10/2019 </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS # 1</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PDF yang indah dapat diunduh di halaman rumah saya - yasha.su </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS # 2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segera saya akan menulis kelanjutan artikel </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://habr.com/en/post/464117/</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tentang bagaimana saya mengumpulkan bantuan untuk Pastor Chris Kaspersky dan bagaimana dengan ini terjadi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jangan bosan.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id496652/index.html">Bagaimana cara menambahkan notifikasi real-time ke Laravel menggunakan Pusher</a></li>
<li><a href="../id496654/index.html">Edisi # 35: Pelatihan TI - masalah saat ini dan tantangan dari perusahaan terkemuka</a></li>
<li><a href="../id496664/index.html">Pekerjaan berbeda, hitam, putih, merah</a></li>
<li><a href="../id496666/index.html">Kami mempelajari mesin VoIP Mediastreamer2. Bagian 8</a></li>
<li><a href="../id496670/index.html">Apakah masyarakat akan berubah setelah pandemi?</a></li>
<li><a href="../id496674/index.html">Bagaimana kita menghasilkan laporan keuangan konsolidasi?</a></li>
<li><a href="../id496680/index.html">Industri 4.1: Kepemilikan Robot, Jaringan Saraf Tiruan, dan Monetisasi Sumber Terbuka</a></li>
<li><a href="../id496682/index.html">Bagaimana tetap profesional dalam permintaan</a></li>
<li><a href="../id496686/index.html">Bagaimana Sistem Analisis Lalu Lintas Mendeteksi Taktik Peretas oleh MITER ATT & CK, Bagian 4</a></li>
<li><a href="../id496690/index.html">Teknologi Kontrol Coronavirus</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>