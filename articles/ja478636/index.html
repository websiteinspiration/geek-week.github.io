<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🎊 👴🏿 🔬 テキストエンコーディングの仕組み。「ワニ」はどこから来たのですか？コーディングの原則。一般化と詳細分析 ☑️ ♏️ 🤐</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="この記事の目的は、テキストエンコーディングの動作原理とメカニズムをまとめて分解することです。詳細には、このメカニズムを分解して説明します。これは、テキストエンコーディングとは何か、それらがどのように機能するか、相互にどのように異なるのか、時々読めない文字が表示される理由、異なるエンコーディングのエン...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>テキストエンコーディングの仕組み。「ワニ」はどこから来たのですか？コーディングの原則。一般化と詳細分析</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/478636/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事の目的は、テキストエンコーディングの動作原理とメカニズムをまとめて分解することです。詳細には、このメカニズムを分解して説明します。これは、テキストエンコーディングとは何か、それらがどのように機能するか、相互にどのように異なるのか、時々読めない文字が表示される理由、異なるエンコーディングのエンコーディング原理について大まかに想像するだけの人に役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題の詳細を理解するには、複数の記事を読んでまとめ、これにかなりの時間を費やす必要があります。この資料では、これはすべてまとめられており、理論的には時間を節約できるはずです。私の意見では、分析は非常に詳細であることが判明しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カットの下で何が起こるか：シングルバイトエンコーディング（ASCII、Windows-1251など）の動作原理、Unicodeの外観の前提条件、Unicodeとは何か、UnicodeエンコーディングUTF-8、UTF-16、それらの違い、基本的な機能、互換性異なるエンコーディングの非互換性、文字エンコーディングの原理、エンコーディングとデコーディングの実際的な分析。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、エンコーディングの問題は関連性を失っていますが、それでも、現在どのように機能し、以前はどのように機能していたかを知ることは不必要ではないと思います。</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicodeの前提条件</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンピュータ化がまだそれほど発達しておらず、勢いが増していた頃から始めてみる価値はあると思います。その後、開発者と標準化者は、コンピュータとインターネットがそのような大きな人気と普及を得るとは考えませんでした。実際には、テキストのエンコードが必要でした。どのような形で文字をコンピューターに保存する必要があり、彼（コンピューター）は1と0だけを理解します。そのため、1バイトのASCIIエンコーディングが開発されました（多くの場合、これは最初のエンコーディングではありませんが、最も一般的であり、示唆的であるため、参照として検討します）。彼女はどんな人ですか？このエンコーディングの各文字は、8ビットでエンコードされています。これに基づいて、エンコードに256文字（8ビット、0または1 2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = 256）</font><font style="vertical-align: inherit;">を含めることができると簡単に計算できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初の7ビット（128文字2 </font></font><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">7</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= 128）このエンコーディングでは、ラテンアルファベットの文字、制御文字（改行、タブなど）、および文法文字に与えられました。残りは各国語用に予約されていました。つまり、最初の128文字は常に同じであることがわかりました。母国語をエンコードする場合は、残りの容量を使用してください。実際には、国のコーディングの巨大な動物園が登場しました。そして、あなたが想像できるようになりました。たとえば、私がロシアにいるときにテキストドキュメントを取得して作成します。デフォルトでは、Windows-1251エンコーディング（Windowsで使用されているロシア語のエンコーディング）で作成され、米国などの誰かに送信します。私の対談者がロシア語を知っているという事実でさえ彼を助けません、私が自分のドキュメントを（同じASCIIのデフォルトエンコーディングのエディターで）コンピューターで開くと、ロシア語の文字ではなくkrakozyabryが表示されるためです。もっと正確に言うと、Windows-1251とASCIIエンコードの最初の128文字は同じですが、エディターで正しいエンコードを示していない場合は、ロシア語のテキストを書いたので、英語で書いたドキュメントの場所は問題なく表示されます。ワニの形で。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
国別エンコーディングの問題は理解できると思います。</font><font style="vertical-align: inherit;">実際、これらの国のエンコーディングはたくさんあり、インターネットは非常に広くなり、インターネットの誰もが自分の言語で書くことを望み、その言語が曲がった髪のようになりたくありませんでした。</font><font style="vertical-align: inherit;">エンコーディングの各ページを示す方法と、世界中のすべての文字に共通する文字の表を1つ作成する方法の2つがありました。</font><font style="vertical-align: inherit;">2番目のオプションが勝ったため、Unicode文字テーブルを作成しました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ASCII小さなワークショップ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
初歩的に見えるかもしれませんが、詳しく説明することにしたので、これは必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ASCII文字テーブルは次のとおりです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/az/bt/mw/azbtmwjfkdtsfbvqd_ju-fibbwe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここには3つの列があります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小数文字数</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16進形式の文字番号</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シンボル自体の表現。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、文字列「ok」（英語）をASCIIエンコードでエンコードします。</font><font style="vertical-align: inherit;">文字 "o"（英語）の位置は10進数で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">111、16</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">進数で</font><i><font style="vertical-align: inherit;">6F</font></i><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">これをバイナリシステムに変換しましょう- </font></font><code><b>01101111</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">記号「k」（英語）-10進数で位置107、16進数で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6B</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、2進数に変換- </font></font><code><b>01101011</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">全体として、ASCIIでエンコードされた文字列「ok」は次のようになります</font></font><code><b>01101111 01101011</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">デコード処理は逆になります。</font><font style="vertical-align: inherit;">8ビットを取り、10進数のエンコードに変換し、文字番号を取得し、それがどのような文字かを表で確認します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicode</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
世界中のすべてのキャラクターに共通のテーブルを作成するための前提条件を使用して、整理されています。今、実際には、テーブル自体に。 Unicode-これはテーブルです（これはエンコーディングではなく、シンボルテーブルです）。 1,114,112のポジションで構成されています。これらのポジションのほとんどはまだシンボルで埋められていないため、このスペースを拡張する必要があるとは考えられません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この合計スペースは、それぞれ65,536文字の17個のブロックに分割されます。各ブロックには、独自の文字グループが含まれています。ゼロブロックは基本的なものであり、すべての現代的なアルファベットの中で最も使用されている文字が含まれています。 2番目のブロックには、絶滅した言語の文字があります。私的使用のために予約されている2つのブロックがあります。ほとんどのブロックはまだ満たされていません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unicode文字の合計容量はからである</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10FFFF</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（16進数）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
16進文字は、接頭辞「U +」で書き込まれます。たとえば、最初の基本ブロックにはU + 0000からU + FFFF（0から65,535）の文字が含まれ、最後の17番目のブロックにはU + 100,000からU + 10FFFF（1,048,576から1,114,111）が含まれます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、国のエンコーディングの動物園の代わりに、私たちに役立つかもしれないすべての文字が暗号化されている包括的なテーブルがあります。しかし、欠点もあります。以前は、各文字が1バイトでエンコードされていた場合は、別のバイト数でエンコードできます。たとえば、英語のアルファベットのすべての文字をエンコードするには、1バイトでも十分です。たとえば、同じ「o」文字（英語）は、UnicodeでU + 006F、つまり、ASCII- </font><i><font style="vertical-align: inherit;">6F</font></i><font style="vertical-align: inherit;">と同じ番号を持ちます。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16進数と111の10進数で。</font><font style="vertical-align: inherit;">しかし、文字「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">U + 103D5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」（これは古代ペルシアの百の数です）-16進数で103D5、10進数で66,517をエンコードするには、ここで3バイトが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UTF-8やUTF-16などのUnicodeエンコーディングは、この問題をすでに解決しているはずです。</font><font style="vertical-align: inherit;">さらにそれらについて話します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UTF-8</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UTF-8は、任意のUnicode文字を表すために使用できる可変長のUnicodeエンコーディングです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可変長についてもっと話しましょう、それはどういう意味ですか？</font><font style="vertical-align: inherit;">最初に言うことは、このエンコーディングの構造（原子）単位がバイトであることです。</font><font style="vertical-align: inherit;">変数のエンコードが長いという事実は、1つの文字がエンコードの異なる数の構造単位、つまり異なるバイト数でエンコードできることを意味します。</font><font style="vertical-align: inherit;">たとえば、ラテン語は1バイトでエンコードされ、キリル文字は2バイトでエンコードされます。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トピックから少し離れて、ASCIIとUTFの互換性について書く必要があります</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ラテン文字と、改行、タブなどの基本的な制御構造。 1バイトでエンコードすると、utfエンコードはASCIIエンコードと互換性があります。つまり、実際には、ラテン語と制御構造はASCIIとUTFの両方の同じ場所にあり、それらが1バイトずつそこにエンコードされているという事実により、この互換性が保証されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のASCIIの例から「o」文字を取りましょう。 ASCII文字の表では111の位置にあり、ビット形式ではであることを覚えておいてください</font></font><code><b>01101111</b></code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 Unicodeテーブルでは、この文字はU + 006Fであり、これもビット形式になります。</font></font><b><code>01101111</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。そして今、UTFは可変長エンコーディングなので、この文字は1バイトでエンコードされます。つまり、両方のエンコーディングでのこのシンボルの表現は同じになります。そして、0から128までの文字の範囲全体についてです。つまり、ドキュメントが英語のテキストで構成されている場合、UTF-8とUTF-16で開いてASCIIエンコーディング（たとえば、UTF-16でそのような文字がすべて同様に2バイトでエンコードされるため、エディターがゼロバイトを無視しても違いはわかりません）、国別アルファベットで作業を開始するまで続きます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
「Hello World」というフレーズが3つの異なるエンコーディングでどのように見えるかを実際に比較してみましょう。Windows-1251（ロシア語エンコーディング）、ISO-8859-1（西ヨーロッパ言語のエンコーディング）、UTF-8（ユニコードエンコーディング）。この例の本質は、フレーズが2つの言語で書かれていることです。異なるエンコーディングでどのように見えるか見てみましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cf/qa/_x/cfqa_xgr7adcrjoxgqj7nfbfcak.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エンコーディングISO-8859-1には、そのような文字「m」、「and」、「p」はありません。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
次に、エンコーディングを使用して、文字列をあるエンコーディングから別のエンコーディングに変換する方法と、変換が正しくない場合、またはエンコーディングの違いにより変換できない場合にどうなるかを見てみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このフレーズはもともとWindows-1251でエンコードされていたと想定しています。上記の表に基づいて、Windows-1251でエンコードされたバイナリ形式でこのフレーズを記述します。これを行うには、シンボルを2進数から10進数または16進数（上記の表から）に変換するだけです。</font></font><br>
<br>
<code><b>01001000 01100101 01101100 01101100 01101111 00100000 11101100 11101000 11110000</b></code><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">さて、これはWindows-1251でエンコードされた「Hello World」というフレーズです。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、テキストが含まれているファイルがあるとしますが、このテキストがどのエンコーディングであるかわかりません。 ISO-8859-1でエンコードされていると想定し、そのエンコードでエディターで開きます。上記のように、一部のシンボルではすべてが順番になっており、これらはこのエンコーディング内にあり、同じ場所にありますが、「world」という単語のシンボルではすべてがより複雑です。これらの文字はこのエンコーディングには含まれておらず、エンコーディングの代わりにISO-8859-1は完全に異なる文字です。具体的には、「m」は位置236、「および」は232です。「p」は240です。ISO-8859-1エンコーディングのこれらの位置には、次の文字があります。位置236-文字「ì」、232-「è」、240 -「ð」</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、Windows-1251でエンコードされ、ISO-8859-1エンコードで開かれた「Hello World」というフレーズは、「Helloìèð」のようになります。したがって、これらの2つのエンコーディングは部分的にのみ互換性があり、単純にそのような文字がないため、あるエンコーディングから別のエンコーディングに文字列をエンコードすることは正しく機能しないことがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、Unicodeエンコーディングが必要になります。特にこの場合は、UTF-8を検討してください。その中の文字が1から4までの異なるバイト数でエンコードできるという事実は、すでにわかっています。 UTFを使用すると、前の2つのように256文字だけでなく、すべてのUnicode文字をエンコードできることは言うまでもありません</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のように動作します。文字エンコードの各バイトの最初のビットは、文字自体ではなく、バイトの決定に使用されます。つまり、たとえば、先頭の（最初の）ビットがゼロの場合、これは、1バイトだけが文字のエンコードに使用されることを意味します。 ASCIIとの互換性を提供します。 ASCII文字表を注意深く見ると、最初の128文字（英語のアルファベット、制御文字、句読点）がバイナリに変換されると、すべてがゼロビットで始まることがわかります（たとえば、オンラインで文字をバイナリシステムに変換する場合は注意してください）コンバーターの場合、最初のゼロの先頭ビットが破棄される可能性があり、混乱を招く可能性があります）。</font></font><br>
<br>
<b><code>01001000</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-最初のビットがゼロ、1バイトが1文字をエンコード-&gt; "H" </font></font><br>
<br>
<b><code>01100101</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-最初のビットがゼロ、1バイトが1文字をエンコード-&gt; "e"</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のビットがゼロでない場合、文字は数バイトにエンコードされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2バイト文字の場合、最初の3ビットは110 </font><font style="vertical-align: inherit;">の先頭で-110-になる</font><font style="vertical-align: inherit;">はずな</font><font style="vertical-align: inherit;">ので、2バイトは1文字をエンコードします。この場合、2番目のバイトは常に10から始まります。全体として、制御ビット（赤と緑で強調表示されている最初のビット）を破棄し、残りのすべてのビット（</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">を取得して、</font><font style="vertical-align: inherit;">16進数に変換します（043C）-&gt; U + 043C（Unicodeの場合、文字 "m"と同じ） 。</font><font style="vertical-align: inherit;">
最初のバイトの3バイト文字のために、先行ビット- 1110 </font><font style="vertical-align: inherit;">-私たちは、制御ビット以外のすべてを合計すると、私たちは16進数で、それは103V5であることを取得するには、U + 103D5は、古代ペルシャの数字百（ある</font><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">
最初のバイトの4バイト文字先行ビットのためには、11110です</font><font style="vertical-align: inherit;">- U + 10FFFFは、Unicodeテーブル（</font></font><br>
<br>
<b><code><font color="#cc0000">110</font>10000 <font color="#008000">10</font>111100</code></b><font style="vertical-align: inherit;"></font><b><code>10000111100</code></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<b><code><font color="#cc0000">1110</font>1000 <font color="#008000">10</font>000111 <font color="#008000">10</font>1010101 </code></b><font style="vertical-align: inherit;"></font><b><code>10000001111010101</code></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<b><code><font color="#cc0000">11110</font>100 <font color="#008000">10</font>001111 <font color="#008000">10</font>111111 <font color="#008000">10</font>111111</code></b><font style="vertical-align: inherit;"></font><b><code>100001111111111111111</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、必要に応じて、フレーズをUTF-8エンコーディングで記​​録できます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UTF-16</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UTF-16も可変長エンコーディングです。 UTF-8との主な違いは、構造単位が1バイトではなく2バイトであることです。つまり、UTF-16エンコーディングでは、任意のUnicode文字を2バイトまたは4バイトでエンコードできます。今後、このようなバイトのペアをコードペアと呼びます。これに基づいて、UTF-16でエンコードされたすべてのUnicode文字は、1つまたは2つのコードペアでエンコードできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つのコードペアでエンコードされた文字から始めましょう。そのような文字（2v16）が65,535個存在する可能性があることは簡単に計算できます。これは、基本Unicodeブロックと完全に一致します。このUTF-16エンコードされたUnicodeブロックのすべての文字は、1つのコードペア（2バイト）でエンコードされます。ここではすべてが単純です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記号「o」（ラテン語）-</font></font><code><b>00000000 01101111</b></code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M文字（キリル文字）- </font></font><code><b>00000100 00011100</b></code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで、基本Unicode範囲外の文字を検討します。エンコードには、2つのコードペア（4バイト）が必要です。そして、それらをコーディングするメカニズムはもう少し複雑です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、サロゲートペアの概念を紹介します。サロゲートペアは、1つの文字（合計4バイト）をエンコードするために使用される2つのコードペアです。このようなサロゲートペアの場合、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D800</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DFFF</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">までの特別な範囲がUnicodeテーブルに割り当てられます</font><font style="vertical-align: inherit;">。つまり、コードペアをバイト形式から16進数に変換すると、この範囲から数値が得られ、これは独立した文字ではなく、サロゲートペアになります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
範囲から文字エンコードするには</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10000</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10FFFFを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> （つまり、複数のコードペアを使用する文字）必要です。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">減算</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10000</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（16進数）</font><font style="vertical-align: inherit;">の文字コードから</font><font style="vertical-align: inherit;">（この範囲から最小の数である</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10000</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10FFFF</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のポイントの結果として、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FFFFF</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下の数が取得され</font><font style="vertical-align: inherit;">、最大20ビットを占有します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受信した数値の先頭の10ビットが</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D800</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Unicodeのサロゲートペアの範囲の最初）と</font><font style="vertical-align: inherit;">合計さ</font><font style="vertical-align: inherit;">れます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次の10ビットを用いて加算される</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DC00</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（サロゲートペアの範囲よりも数）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その後、それぞれ16ビットの2つのサロゲートペアを取得します。このような各ペアの最初の6ビットは、それがサロゲートであると判断する責任があります。 </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">各サロゲートの10番目のビットはその順序を担当します。1の場合、これが最初のサロゲートであり、0の場合、2番目</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを実際に分析していきますが、もっと明確になると思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、シンボルを暗号化してから復号化します。</font><font style="vertical-align: inherit;">古代ペルシャ数百（U + 103D5）を取る：</font></font><br>
<br>
<ol>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">103D5</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10000</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D5</font></font></i> </li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D5</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><b><code>0000000000 1111010101</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（先頭の10ビットはゼロであることがわかりました。これを16進数にすると、0（最初の10）、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D5</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（2番目の10）になります）</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D800</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D800</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">）最初の6ビットは、10番目のビット（右側）のサロゲートペアの範囲からの数値がゼロであることを決定し、これが最初のサロゲートです。</font></font><b><code><font color="#cc0000">110110</font><font color="#008000">0</font>000000000</code></b><font style="vertical-align: inherit;"></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3D5</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DC00</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DFD5</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">）最初の6ビットは、サロゲートペアの範囲内の数は、（右側）10分のビットが1であり、これは第二の代理であることを決定</font></font><b><code><font color="#cc0000">110111</font><font color="#008000">1</font>111010101</code></b><font style="vertical-align: inherit;"></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この文字をUTF-16で合計- </font></font><b><code>1101100000000000 1101111111010101</code></b></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、反対をデコードします。</font><font style="vertical-align: inherit;">そのようなコードがあるとしましょう-1101100000100010 1101111010001000：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16進形式に変換= </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D822 </font></font></i> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DE88</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（両方の値はサロゲートペアの範囲からのものであるため、サロゲートペアの前にあります）</font></font></li>
<li><b><code><font color="#cc0000">110110</font><font color="#008000">0</font>000100010</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -10番目のビット（右側）はゼロ、つまり最初のサロゲート</font></font></li>
<li><b><code><font color="#cc0000">110111</font><font color="#008000">1</font>010001000</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -10番目のビット（右側）は1、次に2番目のビット</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サロゲートの決定を担当する6ビットを破棄すると、次のようになります</font></font><b><code>0000100010 1010001000</code></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8A88</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></li>
<li><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10,000を</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">追加</font><font style="vertical-align: inherit;">（代理範囲が少ない）</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">8A88</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> + </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10000</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> = </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">18A88</font></font></i></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unicodeテーブルで文字U + 18A88 = Tangut Component-649を見てください。</font><font style="vertical-align: inherit;">Tangutスクリプトのコンポーネント。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後まで読んで下さった方々のお陰で、重宝し、飽きのこないものでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
：ここでは、このトピックに関するいくつかの興味深いリンクです</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/post/158895</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エンコーディングに関する有用な一般的な情報- </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">habr.com/en/post/312642</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユニコードについて- </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">unicode-table.com/ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Unicode文字テーブル自体は</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際には、まあそれなし</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ru.wikipedia.org/wiki/%D0%AE%D0%BD%D0%B8%D0%BA%D0%BE%D0%B4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -ユニコード</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ru.wikipedia.org/wiki/ASCII</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - ASCII </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RU .wikipedia.org /ウィキ/ UTF-8</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - UTF-8 </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">en.wikipedia.org/wiki/UTF-16</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - UTF-16</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja478622/index.html">A / Bテスト、パイプライン、小売：GeekBrainsとX5 Retail Groupのビッグデータに関するブランド四半期</a></li>
<li><a href="../ja478626/index.html">straceを使用したソフトウェア展開のデバッグ</a></li>
<li><a href="../ja478628/index.html">中国語の高いCRI</a></li>
<li><a href="../ja478630/index.html">パスカルは囲碁を演じます。アマチュアコンパイラでのメソッドとインターフェイスの実装</a></li>
<li><a href="../ja478634/index.html">機械学習プロジェクト管理の落とし穴</a></li>
<li><a href="../ja478638/index.html">db-tree：データベースの検索とナビゲーション</a></li>
<li><a href="../ja478640/index.html">オープンソースの自動運転車</a></li>
<li><a href="../ja478642/index.html">MOXA Nport-インサイドルック</a></li>
<li><a href="../ja478646/index.html">JetQuad：垂直離着陸を備えた航空機</a></li>
<li><a href="../ja478650/index.html">ドーン3D</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>