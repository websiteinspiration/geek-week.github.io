<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👌🏽 🍢 💞 tSQLtを使用したSQL Serverコードのテスト 🤸🏿 👩🏿‍🤝‍👨🏼 ✍🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="参考：この記事は、SQA日数25に関する私のレポートの拡張版です。
 
 同僚とのコミュニケーションの経験に基づくと、データベースでコードをテストすることは一般的な方法ではないと言えます。これは潜在的な危険である可能性があります。データベース内のロジックは、「通常の」コードを書くのと同じ人によって書...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>tSQLtを使用したSQL Serverコードのテスト</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/arcadia/blog/461133/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参考：この記事は、</font><font style="vertical-align: inherit;">SQA日数25に関する</font><font style="vertical-align: inherit;">私の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レポートの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">拡張版です</font><font style="vertical-align: inherit;">。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同僚とのコミュニケーションの経験に基づくと、データベースでコードをテストすることは一般的な方法ではないと言えます。</font><font style="vertical-align: inherit;">これは潜在的な危険である可能性があります。</font><font style="vertical-align: inherit;">データベース内のロジックは、「通常の」コードを書くのと同じ人によって書かれます。</font><font style="vertical-align: inherit;">その結果、そこにもエラーが存在する可能性があり、それらはまた、製品、ビジネス、および消費者に悪影響をもたらす可能性があります。</font><font style="vertical-align: inherit;">バックエンドに役立つストアドプロシージャなのか、データをストレージに変換するETLなのかは問題ではありません。リスクがあり、テストによって大幅に削減できます。</font><font style="vertical-align: inherit;">tSQLtとは何か、それがSQL Serverでコードをテストするのにどのように役立つかを説明します。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/2e/-h/nx/2e-hnxb3bddbq3ck_8vi4jwah8i.jpeg"></div><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SQL Serverには、さまざまな臨床研究データを含む大規模な倉庫があります。</font><font style="vertical-align: inherit;">さまざまなソース（主にドキュメント指向のデータベース）から入力されます。</font><font style="vertical-align: inherit;">サーバー自体の内部では、データはETLを使用して繰り返し変換されます。</font><font style="vertical-align: inherit;">将来的には、このデータを小さなデータベースにアップロードして、いくつかの小さな特定の問題を解決するWebアプリケーションで使用できるようにする予定です。</font><font style="vertical-align: inherit;">一部の顧客の顧客は、社内のニーズに合わせてAPIも要求しています。</font><font style="vertical-align: inherit;">このようなAPIの実装では、ストアドプロシージャとクエリがよく使用されます。</font></font><br>
<br>
<div style="text-align:center;"><img width="75%" height="75%" src="https://habrastorage.org/webt/iw/vu/rz/iwvurz8sbflhuz3mkj39ipf9rag.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、コードは順番にDBMS側にあります。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">なぜこれがすべて必要なのか</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
概要からすでに理解できるように、データベース内のコード</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
は他の</font><font style="vertical-align: inherit;">コードと同じ</font><font style="vertical-align: inherit;">アプリケーション</font><font style="vertical-align: inherit;">コード</font><font style="vertical-align: inherit;">であり、エラーが発生する場合もあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くの人がバグの価格がその発見の時間に依存していることを知っていると思います。その発見は通常バリーボヘムに起因します。エラーを特定し、修正されたコードを元に戻すために多くの段階（コーディング、ユニット、統合、システムテストなど）を繰り返す必要があるため、初期段階で発生し、後期段階で検出されたエラーは、より高価になる可能性があります。問題が特定された段階。この効果は、倉庫のケースにも関係します。エラーが一部のETLに侵入し、データが複数の変換を受ける場合、データでエラーが検出されると、次のことを行う必要があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すべての変換手順を実行して、問題の場所を特定します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題を解決します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修正されたデータを再受信します（手動修正の必要性は除外されません）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エラーが原因の誤ったデータが他の場所に表示されていないことを確認します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ぬいぐるみは販売しておりませんので、お忘れなく。</font><font style="vertical-align: inherit;">臨床研究などの分野での間違いは、ビジネスだけでなく人々の健康にも害を及ぼす可能性があります。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストする方法？</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードテストについて話しているので、ユニットテストと統合テストを意味します。これらは非常にリハーサルであり、一定の回帰を伴います。厳密に言えば、そのようなテストを手動で行う人はいません（たぶん、完全に退化したケースを除いて）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
素晴らしいボーナス：コードを文書化する場合、テストは補助資料になる可能性があります。ちなみに、お客様の要件は次のようになります（クリック可能）。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/fh/af/xb/fhafxb5yph-tgvy2zhka9jfcvmk.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Excel、要件のある2つの列+他の列に散在するサポート情報+不明瞭なマークアップ。これは、役立つよりも混乱します。</font><font style="vertical-align: inherit;">必要に応じて、元の希望を復元するのは難しい場合があります。</font><font style="vertical-align: inherit;">テストは、実装のニュアンスをより正確に把握するのに役立ちます（もちろん、それらをドキュメントの同等物と見なすべきではありません）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、コードの複雑さが増すにつれて、テストの複雑さが増し、この影響を平準化することができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストは、自発的なセイウチに対する追加のセキュリティ層として役立ちます。</font><font style="vertical-align: inherit;">形式主義によるCIのセルフテストは、この問題の対処に役立ちます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの選択が自動化の道にあった場合、その実装のためのツールを決定する必要があります。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストする方法？</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データベースでコードをテストする場合、2つのアプローチを区別します。SQL機能、つまりDBMSで直接機能する機能と、非SQL機能です。</font><font style="vertical-align: inherit;">次のニュアンスを強調することができました。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SQLを利用</font></font><br>
 </th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SQLを利用しない</font></font><br>
 </th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> データベースへのオブジェクトのインストールが必要</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> データベースに追加の外部ツールをインストールする必要があります</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> テストは、データベース外のアプリケーションで使用されているテクノロジーから常に独立しています</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> テストは、データベースの外部で使用されているテクノロジーに依存している場合があります。</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> フレームワークは常に特定のDBMSに関連付けられています</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> フレームワークは多くの場合、複数のDBMSをサポートしています。</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストを作成するには、DBMSの知識のみが必要です。</font><font style="vertical-align: inherit;">開発には、手動テスターまたはDBAを使用できます</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストを作成するには、通常、プログラミング言語やテクノロジーの追加知識が必要です。</font><font style="vertical-align: inherit;">しばしばプログラマーの助けが必要</font></font><br>
 </td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DBMSレベルで実行すると、より高度な偽装とアサーションを使用できます</font></font><br>
 </td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 外部実行はツール機能を制限する可能性があります</font></font><br>
 </td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL Serverでは、いくつかの選択肢があります。</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<th colspan="6" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 一般情報</font></font></th>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 題名</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> アプローチ</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 建築</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> に書かれた</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> のテスト</font></font></th>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tSQLt</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SQLを利用</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> xUnit</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> T-SQL + CLR</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> T-SQL</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TSQLUnit</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SQLを利用</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> xUnit</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> T-SQL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> T-SQL</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utTSQL</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SQLを利用</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> xUnit</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> T-SQL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> T-SQL</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tst</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SQLを利用</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> xUnit</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> T-SQL</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> T-SQL</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dbfit</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SQLを利用しない</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> フィットネス</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C＃/ java</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Wikiマークダウン</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">怠け者</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SQLを利用しない</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RSpec（BDD指向）</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ルビー</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ルビー</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUnit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;など</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SQLを利用しない</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> xUnit</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N / a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N / a</font></font></td>
</tr>
</tbody></table></div><div class="scrollable-table"><table>
<tbody><tr>
<th colspan="4" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 日付</font></font></th>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 題名</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 第一印象</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 最終コミット</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 最新のリリース</font></font></th>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tSQLt</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2007年7月27日</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2019/07/07</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2016年1月31日</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TSQLUnit</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2002年</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 12月12日</font><font style="vertical-align: inherit;">（0.9）2009年7 </font><font style="vertical-align: inherit;">月21日（0.91 rc1）</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2018年4月26日（GitHub）</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2011年4月9日（SourceForge）</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utTSQL</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2003-03-12</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2003-03-12</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2003-03-12</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tst</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2009年2月3日（v1.0）</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N / a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2012年3月30日</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dbfit</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2009年12月1日</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2018年10月9日</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2015年8月15日</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">怠け者</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2011年6月6日</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2018年12月12日</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2018年12月12日</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUnit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;など</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N / a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N / a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N / a</font></font></td>
</tr>
</tbody></table></div><div class="scrollable-table"><table>
<tbody><tr>
<th colspan="7" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 能力</font></font></th>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 題名</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CLRは不要</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> XML出力</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> トランザクションにラップされたテスト</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 偽</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> エラーハンドラー</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> アサーション</font></font></th>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tSQLt</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TSQLUnit</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ひどい</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utTSQL</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 不完全に</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tst</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +（オプション）</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dbfit</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +（オプション）</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">良い; </font><font style="vertical-align: inherit;">ニュアンスがあります</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">怠け者</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +（オプション）</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">良い; </font><font style="vertical-align: inherit;">ニュアンスがあります</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUnit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;など</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> +</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N / a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N / a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> N / a</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いいね </font><font style="vertical-align: inherit;">ニュアンスがあります</font></font></td>
</tr>
</tbody></table></div><div class="scrollable-table"><table>
<tbody><tr>
<th colspan="3" align="center"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> その他の</font></font></th>
</tr>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 題名</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ドキュメンテーション</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> コミュニティ</font></font></th>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tSQLt</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">いいね </font><font style="vertical-align: inherit;">ニュアンスがあります</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TSQLUnit</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 不完全に</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 不完全に</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utTSQL</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 不完全に</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tst</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 不完全に</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dbfit</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">怠け者</font></font></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
</tr>
<tr>
<td> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUnit</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;など</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 良い</font></font></td>
</tr>
</tbody></table></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「良い悪い」の評価は主観的であり、申し訳ありませんが、これなしではどこにもありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
説明：「最初の出現」は、私が見つけたフレームワークのライフパスの最も早い日付、つまり、最も早いリリースまたはコミットです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SQLを利用した代替手段はかなり前から見捨てられており、サポートされているオプションはtSQLtだけです。</font><font style="vertical-align: inherit;">機能的には、tSQLtも優先されます。</font><font style="vertical-align: inherit;">唯一のこと-アサーションに関して、TSTはtSQLtよりもわずかに豊富な選択肢を誇っていますが、短所を上回る可能性は低いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tSQLtのドキュメントには微妙な違いがありますが、これについては後で説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SQLを利用しない世界では、物事はそれほど単純ではありません。超アクティブではありませんが、代替案が開発されています。 DbFitは、FitNesseフレームワークに基づく興味深いツールです。彼はwikiマークアップのテストを書いています。 Slackerは、データベースのテストを作成する際のBDDアプローチという興味深いものでもあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SQLを利用しないアサーションについて説明します。外見上、それらの数は少なく、このために彼らはより悪いと言えるでしょう。しかし、ここでは、それらがtSQLtと根本的に異なることを考慮する価値があります。すべてがそれほど単純なわけではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後の行は「NUnitなど」です。</font><font style="vertical-align: inherit;">-それはむしろリマインダーです。</font><font style="vertical-align: inherit;">日常業務でよく知られている単体テストフレームワークの多くは、補助ライブラリを使用してデータベースに適用できます。</font><font style="vertical-align: inherit;">この行には実際には多くのツールが含まれているため、テーブルには多くのN / Aがあります。</font><font style="vertical-align: inherit;">アサーション列の「ニュアンス」は同じ点から来ています-異なるツールでは、それらのセットは異なる場合があり、データベースへの適用性の問題は未解決です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の興味深い指標として、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Googleのトレンド</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を検討でき</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ud/2u/km/ud2ukmcoyjvstvhcu2taegpib34.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ニュアンス：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Slackerは含めませんでした。この名前は多くのことを意味する可能性があるためです（「Slackerフレームワーク」などのリクエストは、グラフでは特に見えません）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">好奇心のために、TSTトレンドは追加されましたが、それは多くの異なることを意味する略語であるため、状況をあまり反映していません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NUnitとその類似物は元々アプリケーションのコードをテストするためのフレームワークであり、それらの傾向は私たちの状況を示すものではないため、ここには含めませんでした。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般に、tSQLtはアナログの背景に対して好意的に見えます。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tSQLtとは何ですか？</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tSQLtは、ご想像のとおり、SQLを利用した単体テストフレームワークです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公式サイト</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
SQL Serverのサポートは2005 SP2から発表されました。</font><font style="vertical-align: inherit;">私は過去にこれまで調べたことがありませんでしたが、開発サーバーには2012年があり、ローカルには2017年があります-問題はありませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apache 2.0ライセンスであるオープンソース&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はGitHubで入手できます</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">フォークしたり、密輸したり、商用プロジェクトで無料で使用したりできます。最も重要なのは、CLRのブックマークを恐れないことです。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">作業力学</font></font></h1><br>
<div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/1v/kx/wi/1vkxwixwjyna756vsce7uhwqzw0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストケースはストアドプロシージャです。それらはテストクラスに結合されます（xUnitに関するテストスイート）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストクラスは、通常のデータベーススキーマにすぎません。それらは、フレームワークテーブルへの登録によって他のスキームと異なります。この登録は、1つのプロシージャ-tSQLt.NewTestClassを呼び出すことによって行うことができます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストクラス内では、個々のテストケースが実行される前に起動されるSetUpプロシージャを定義することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テストケースの完了時にシステムを復元するための分解手順は必要ありません。各テストケースとSetUpプロシージャは、結果を収集した後にロールバックされる個別のトランザクションで実行されます。これは非常に便利ですが、以下で説明するように、いくつかの悪影響があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークを使用すると、個々のテストケース、テストクラス全体、またはすべての登録済みテストクラスを一度に実行できます。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例による特徴</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すでに簡単な公式ガイドを再説したくないので、例を使用してフレームワークの可能性について話します。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">免責事項：</font></font></i><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例は簡略化されています。</font></font></i></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オリジナルでは、すべてのテストコードが私によって作成されたのではなく、集合的な創造性の成果です。</font></font></i></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例2は、tSQLtの機能をより完全に示すために考案されました。</font></font></i></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例1：CsvSql</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ある顧客の顧客の要求により、以下が実装されました。</font><font style="vertical-align: inherit;">Nvarchar（MAX）フィールドのデータベースには、SQLクエリが格納されます。</font><font style="vertical-align: inherit;">これらのクエリを表示するには、最小限のフロントエンドをボルトで固定します。</font><font style="vertical-align: inherit;">これらのリクエストによって返された結果セットは、API呼び出しで返されるCSVファイルを生成するためにバックエンドで使用されます。</font></font><br>
<br>
<div style="text-align:center;"><img width="75%" height="75%" src="https://habrastorage.org/webt/5q/mu/oy/5qmuoyyjjvlphk79jt-xtawwjn8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果セットは非常に重く、多くの列が含まれています。</font><font style="vertical-align: inherit;">このような結果セットの条件付きの例：</font></font><br>
<br>
<div style="text-align:center;"><img width="75%" height="75%" src="https://habrastorage.org/webt/dg/50/bb/dg50bbx25qaw6ycwpfqcsfj5kyk.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この結果セットは、いくつかの臨床試験データです。</font><font style="vertical-align: inherit;">ClinicsNumがどのように考慮されるか、つまり調査に関与するクリニックの数を詳しく見てみましょう。</font><font style="vertical-align: inherit;">[トライアル]と[クリニック]の2つのテーブルがあります。</font></font><br>
<br>
<div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/qo/mu/n-/qomun-gdbdl05teniypbtzi8jio.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FK：[Clinic]。[TrialID]-&gt; [Trial]。[TrialID]があります。</font><font style="vertical-align: inherit;">明らかに、診療所の数を計算するには、通常のCOUNT（*）が必要です。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">SELECT</span> <span class="hljs-keyword">COUNT</span>(*), ...
&nbsp; <span class="hljs-keyword">FROM</span> dbo.Trial
&nbsp; <span class="hljs-keyword">LEFT</span> <span class="hljs-keyword">JOIN</span> dbo.Clinic
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ON</span> Trial.ID = Clinic.TrialID
&nbsp; <span class="hljs-keyword">WHERE</span> Trial.Name = @trialName
&nbsp; <span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span>
...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなリクエストをどのようにテストしますか？</font><font style="vertical-align: inherit;">まず、便利なスタブ-FakeTableを使用できます。これにより、以降の作業が大幅に簡略化されます。</font></font><br>
<br>
<pre><code class="sql hljs">EXEC tSQLt.FakeTable 'dbo.Trial';<font></font>
EXEC tSQLt.FakeTable 'dbo.Clinic';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FakeTableは単純なことを行います-古いテーブルの名前を変更し、代わりに新しいテーブルを作成します。</font><font style="vertical-align: inherit;">同じ名前、同じ列ですが、 'ovとtrigger'ovの制約はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜ私たちはこれが必要なのですか：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストに干渉する可能性のあるデータがテストデータベースに含まれている可能性があります。</font><font style="vertical-align: inherit;">FakeTableのおかげで、私たちはそれらに依存していません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストでは、原則として、数列だけを入力する必要があります。</font><font style="vertical-align: inherit;">テーブルにはそれらが多数あり、一部には制約があります。</font><font style="vertical-align: inherit;">このようにして、テストデータの追加インストールを簡略化します。テストケースに本当に必要なものだけを挿入します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストデータの挿入時にトリガーに影響を与えることは絶対にありません。また、不要な後効果について心配する必要もありません。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、必要なテストデータを挿入します。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> dbo.Trial<font></font>
([<span class="hljs-keyword">ID</span>], [<span class="hljs-keyword">Name</span>])
<span class="hljs-keyword">VALUES</span>
(<span class="hljs-number">1</span>,&nbsp;&nbsp;&nbsp; <span class="hljs-string">'Valerian'</span>);<font></font>
<font></font>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> dbo.Clinic<font></font>
([<span class="hljs-keyword">ID</span>], [TrialID], [<span class="hljs-keyword">Name</span>])
<span class="hljs-keyword">VALUES</span>
(<span class="hljs-number">1</span>,&nbsp;&nbsp;&nbsp; <span class="hljs-number">1</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-string">'Clinic1'</span>),<font></font>
(<span class="hljs-number">2</span>,&nbsp;&nbsp;&nbsp; <span class="hljs-number">1</span>,&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-string">'Clinic2'</span>);</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データベースからクエリを取得し、Actualテーブルを作成して、クエリの結果セットで埋めます。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">DECLARE</span> @sqlStatement <span class="hljs-keyword">NVARCHAR</span>(<span class="hljs-keyword">MAX</span>) = (<span class="hljs-keyword">SELECT</span>…
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> actual ([TrialID], ...);
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> actual<font></font>
EXEC sp_executesql @sqlStatement, ...</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
期待値を入力-期待値：</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> expected (<font></font>
&nbsp;&nbsp;&nbsp; ClinicsNum <span class="hljs-built_in">INT</span><font></font>
);<font></font>
<span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> expected <span class="hljs-keyword">SELECT</span> <span class="hljs-number">2</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Expectedテーブルでは列が1つしかありませんが、Actualでは完全なセットがあるという事実に注意を向けたいと思います。</font></font><br>
<br>
<div style="text-align:center;"><img width="80%" height="80%" src="https://habrastorage.org/webt/qd/gx/ga/qdgxgaqr4cjp2eayoz0eycjs8cg.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、値の確認に使用するAssertEqualsTableプロシージャの機能によるものです。</font></font><br>
<br>
<pre><code class="sql hljs">EXEC tSQLt.AssertEqualsTable<font></font>
&nbsp;&nbsp;&nbsp; 'expected',<font></font>
&nbsp;&nbsp;&nbsp; 'actual',<font></font>
&nbsp;&nbsp;&nbsp; 'incorrect number of clinics';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
比較される両方のテーブルに存在する列のみを比較します。</font><font style="vertical-align: inherit;">テストクエリは多くの列を返し、それぞれに独自のロジックがあり、非常に混乱するため、これは非常に便利です。</font><font style="vertical-align: inherit;">テストケースを膨らませたくないので、この機能は非常に役立ちます。</font><font style="vertical-align: inherit;">もちろん、これは両刃の剣です。</font><font style="vertical-align: inherit;">実際に一連の列がSELECT TOP 0によって自動的に入力され、ある時点で余分な列が突然出てきた場合、このテストケースはこの瞬間を捉えません。</font><font style="vertical-align: inherit;">このような状況に対処するには、追加のチェックを行う必要があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">姉妹手続きAssertEqualsTable</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tSQLtにはAssertEqualsTableと同様の2つのプロシージャが含まれていることに言及する価値があります。</font><font style="vertical-align: inherit;">これらはAssertEqualsTableSchemaとAssertResultSetsHaveSameMetaDataです。</font><font style="vertical-align: inherit;">1つ目はAssertEqualsTableと同じですが、テーブルのメタデータに対して行われます。</font><font style="vertical-align: inherit;">2つ目も同様の比較を行いますが、結果セットのメタデータについてです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例2：制約</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の例では、制約を削除する方法を示しました。</font><font style="vertical-align: inherit;">しかし、それらをチェックする必要がある場合はどうでしょうか？</font><font style="vertical-align: inherit;">技術的には、これもロジックの一部であり、テストカバレッジの候補と見なすこともできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
前の例の状況を考えてみましょう。</font><font style="vertical-align: inherit;">2つのテーブル-[トライアル]と[クリニック]; </font><font style="vertical-align: inherit;">[TrialID] FK：</font></font><br>
<br>
<div style="text-align:center;"><img width="80%" height="80%" src="https://habrastorage.org/webt/-8/zu/v3/-8zuv3clqoo3ygm9wko5hpibc90.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この制約をテストするためのテストケースを書いてみましょう。</font><font style="vertical-align: inherit;">最初は、前回と同様に、テーブルを偽造します。</font></font><br>
<br>
<pre><code class="sql hljs">EXEC tSQLt.FakeTable '[dbo].[Trial]'<font></font>
EXEC tSQLt.FakeTable '[dbo].[Clinic]'</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
目標は同じです-不要な制限を取り除くことです。</font><font style="vertical-align: inherit;">不要なジェスチャーのない分離されたチェックが必要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ApplyConstraintプロシージャを使用して、場所に必要な制約を返します。</font></font><br>
<br>
<pre><code class="sql hljs">EXEC tSQLt.ApplyConstraint<font></font>
&nbsp;&nbsp;&nbsp; '[dbo].[Clinic]',<font></font>
&nbsp;&nbsp;&nbsp; 'Trial_FK';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、直接検証のための便利な構成をまとめました。</font><font style="vertical-align: inherit;">チェック自体は、データを挿入しようとすると必然的に例外が発生するという事実で構成されます。</font><font style="vertical-align: inherit;">テストケースが正しく機能するためには、この例外をキャッチする必要があります。</font><font style="vertical-align: inherit;">ExpectException例外ハンドラーは、これに役立ちます。</font></font><br>
<br>
<pre><code class="sql hljs">EXEC tSQLt.ExpectException<font></font>
&nbsp;&nbsp;&nbsp; @ExpectedMessage = 'The <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">statement</span> conflicted...<span class="hljs-string">',
&nbsp;&nbsp;&nbsp; @ExpectedSeverity = 16,
&nbsp;&nbsp;&nbsp; @ExpectedState = 0;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハンドラーをインストールした後、挿入不可を挿入することができます。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">INTO</span> [dbo].[Clinic] ([TrialID])
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">VALUES</span> (<span class="hljs-number">1</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例外がキャッチされました。</font><font style="vertical-align: inherit;">テスト合格。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">姉妹手続きApplyConstraint</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TSQLt開発者は、トリガーをテストするための同様のアプローチを提供しています。</font><font style="vertical-align: inherit;">ApplyTriggerプロシージャを使用して、偽のテーブルにトリガーを返すことができます。</font><font style="vertical-align: inherit;">次に、すべてが上記の例のようになります。トリガーをトリガーし、結果を確認します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ExpectNoException-ExpectExceptionの反意語</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例外が絶対に発生してはならない場合のために、ExpectNoExceptionプロシージャがあります。</font><font style="vertical-align: inherit;">ExpectExceptionと同様に機能しますが、例外が発生した場合、テストは失敗したと見なされます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">例3：セマフォ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
状況は次のとおりです。</font><font style="vertical-align: inherit;">多数のストアドプロシージャとWindowsサービスがあります。</font><font style="vertical-align: inherit;">それらの実行の開始は、さまざまな外部イベントによって引き起こされる可能性があります。</font><font style="vertical-align: inherit;">さらに、実行の許容順序は固定されています。</font><font style="vertical-align: inherit;">データベーステーブルへのアクセスを区切るには、セマフォを使用します。</font><font style="vertical-align: inherit;">ストアドプロシージャのグループです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、これらの手順の1つを検討してください。</font><font style="vertical-align: inherit;">2つのテーブルがあります。</font></font><br>
<br>
<div style="text-align:center;"><img width="80%" height="80%" src="https://habrastorage.org/webt/-m/hz/8-/-mhz8-fm_n1w7njpryiv8z3epiw.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テーブル[Process]には、実行が許可されているプロセスのリスト、[ProcStatus]-これらのプロセスのステータスのリストが含まれています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの手順は何をしますか？</font><font style="vertical-align: inherit;">呼び出されると、一連のチェックが最初に行われます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開始するプロセスの名前は、procedureパラメーターで渡され、[Process]テーブルの[Name]フィールドで検索されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセス名が見つかった場合、現在それを開始することが可能かどうか、つまり[Process]テーブルの[IsRunable]フラグがチェックされます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセスが実行可能であることが判明した場合は、まだ実行されていないことを確認する必要があります。</font><font style="vertical-align: inherit;">テーブル[ProcStatus]では、ステータスが「InProg」であるこのプロセスに関するレコードが存在しないことが確認されます。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてがOKの場合、ステータスが「InProg」のこのプロセスに関する新しいレコードがProcStatusに追加され（これは起動と見なされます）、このレコードのIDがProcStatusIdパラメータとともに返されます。</font><font style="vertical-align: inherit;">検証が失敗した場合は、次のことが予想されます。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レターがシステム管理者に送信されます。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProcStatusId = -1を返します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[ProcStatus]の新しいエントリは追加されません。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロセスが受け入れ可能なプロセスのリストにまったくない場合にテストするテストケースを作成してみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
便宜上、すぐにFakeTableを適用します。</font><font style="vertical-align: inherit;">ここではそれほど重要ではありませんが、役に立つ場合があります。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テストケースの適切な実行を妨げる可能性のあるデータはすべて取り除くことが保証されています。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProcStatusで欠落しているエントリの検証をさらに簡略化します。</font></font></li>
</ol><br>
<pre><code class="sql hljs">EXEC tSQLt.FakeTable 'dbo.Process';<font></font>
EXEC tSQLt.FakeTable 'dbo.ProcStatus';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
メッセージを送信するには、プログラマーが作成した[SendEmail]プロシージャを使用します。</font><font style="vertical-align: inherit;">管理者への手紙の送信を確認するには、彼女の電話をキャッチする必要があります。</font><font style="vertical-align: inherit;">この場合、tSQLtはSpyProcedureの使用を提供します。</font></font><br>
<br>
<pre><code class="sql hljs">EXEC tSQLt.SpyProcedure 'dbo.SendEmail'</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SpyProcedureは次のことを行います。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[dbo]。[SendEmail_SpyProcedureLog]という形式のテーブルを作成します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FakeTableのように、元のプロシージャを同じ名前で独自のプロシージャに置き換えますが、ロギングロジックが含まれています。</font><font style="vertical-align: inherit;">必要に応じて、独自のロジックを追加できます。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご想像のとおり、ログはテーブル[dbo]。[SendEmail_SpyProcedureLog]で発生します。</font><font style="vertical-align: inherit;">このテーブルには、列[_ID_]（プロシージャコールのシーケンス番号）が含まれています。</font><font style="vertical-align: inherit;">後続の列には、プロシージャに渡されたパラメーターの名前が付けられ、呼び出し中に渡された値が収集されます。</font><font style="vertical-align: inherit;">必要に応じてチェックすることもできます。</font></font><br>
<br>
<div style="text-align:center;"><img width="75%" height="75%" src="https://habrastorage.org/webt/ko/gh/4h/kogh4hgcdsxagldk2bmdcfrptzi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セマフォを呼び出してチェックする前に最後に行う必要があるのは、[ProcStatus]テーブルからレコードIDを配置する変数を作成することです（レコードは追加されないため、正確には-1です）。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">DECLARE</span> @ProcStatusId <span class="hljs-built_in">BIGINT</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セマフォを呼び出します。</font></font><br>
<br>
<pre><code class="sql hljs">EXEC dbo.[Semaphore_JobStarter]<font></font>
&nbsp; &nbsp;&nbsp;'SomeProcess',<font></font>
&nbsp;&nbsp;&nbsp; @ProcStatusId OUTPUT; <span class="hljs-comment">--    -1</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以上で、検証に必要なすべてのデータが揃いました。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
手紙</font><font style="vertical-align: inherit;">の送信をチェックすることから始めましょう</font><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="sql hljs">IF NOT EXISTS (
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">SELECT</span> *
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">FROM</span><font></font>
dbo.SendEmail_SpyProcedureLog)<font></font>
EXEC tSQLt.Fail <span class="hljs-string">'SendEmail has not been run.'</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この場合、送信中に送信されたパラメータをチェックするのではなく、事実自体をチェックすることにしました。</font><font style="vertical-align: inherit;">tSQLt.Failプロシージャに注意を向けます。</font><font style="vertical-align: inherit;">テストケースを「公式に」記入できます。</font><font style="vertical-align: inherit;">特定の構造を構築する必要がある場合は、tSQLt.Failを使用してこれを実行できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、[dbo]にエントリがないことを確認します。[ProcStatus]：</font></font><br>
<br>
<pre><code class="sql hljs">EXEC tSQLt.AssertEmptyTable 'dbo.ProcStatus';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは、FakeTableが私たちを助けてくれた場所であり、最初に適用しました。</font><font style="vertical-align: inherit;">彼のおかげで、私たちは空虚を期待することができます。</font><font style="vertical-align: inherit;">これがなければ、正確な検証のために、セマフォの前後のレコード数を適切に比較する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Equality ProcStatusId = -1 AssertEqualsで簡単に確認できます。</font></font><br>
<br>
<pre><code class="sql hljs">EXEC tSQLt.AssertEquals<font></font>
&nbsp;&nbsp;&nbsp; -1,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; @ProcStatusId,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'Wrong ProcStatusId.';</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AssertEqualsは最小限です。2つの値を比較するだけで、超自然的なものはありません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AssertEquals兄弟手続き</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
値を比較するために、いくつかの手順が用意されています。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AssertEquals</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AssertNotEquals</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AssertEqualsString</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assertike</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
彼らの名前は自分たちに代わるものだと思います。</font><font style="vertical-align: inherit;">注目に値する唯一のことは、別個のAssertEqualsStringプロシージャの存在です。</font><font style="vertical-align: inherit;">重要なのは、AssertEquals / AssertNotEquals / AssertLikeはSQL_VARIANTで動作し、NVARCHAR（MAX）は適用されないため、tSQLt開発者はNVARCHAR（MAX）をテストするために別のプロシージャを割り当てる必要がありました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フェイク機能</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
FakeFunctionにある程度のストレッチを付けて、SpyProcedureと同様のプロシージャと呼ぶことができます。</font><font style="vertical-align: inherit;">この偽物により、任意の関数を必要な単純な関数に置き換えることができます。</font><font style="vertical-align: inherit;">SQL Serverの関数は、歯磨き粉を使用したチューブの原理に基づいて動作するため、「技術的な穴のみ」を介して結果が得られるため、残念ながらログ機能は提供されません。</font><font style="vertical-align: inherit;">ロジックの置き換えのみ。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">水中の岩</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tSQLtでの作業中に遭遇する可能性があるいくつかの落とし穴に注意する価値があります。</font><font style="vertical-align: inherit;">この場合、落とし穴とは、SQL Serverの制限が原因で発生した問題や、フレームワークの開発者が解決できない問題を意味します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">トランザクションのキャンセル/破損</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのチームが最初に直面した最も重要な問題は、トランザクションのキャンセルでした。 SQL Serverは、ネストされたトランザクションを個別にロールバックする方法を認識していません-全体として、最も外部のものまで、すべてをロールバックするだけです。 tSQLtが各テストケースを個別のトランザクションにラップするという事実を考えると、これは問題になります。結局のところ、テストプロシージャ内でトランザクションをロールバックすると、テストの実行が中断され、記述的でない実行エラーが発生する可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題を回避するには、セーブポイントを使用します。</font><font style="vertical-align: inherit;">アイデアは簡単です。</font><font style="vertical-align: inherit;">テストプロシージャでトランザクションを開始する前に、トランザクション内にいるかどうかを確認します。</font><font style="vertical-align: inherit;">「はい」と判明した場合、これはtSQLtトランザクションであると想定して、開始する代わりにセーブポイントを配置します。</font><font style="vertical-align: inherit;">次に、必要に応じて、トランザクションの最初ではなく、このセーブポイントにロールバックします。</font><font style="vertical-align: inherit;">ネスト自体はそうではありません。</font></font><br>
<br>
<div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/zk/0u/jc/zk0ujc2gmggccs7bg7icraan3da.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この問題は、トランザクションの破損によって複雑になっています。</font><font style="vertical-align: inherit;">突然問題が発生し、例外が機能した場合、トランザクションが失敗する可能性があります。</font><font style="vertical-align: inherit;">このようなトランザクションはコミットされるだけでなく、セーブポイントまでロールバックされ、全体をロールバックすることしかできません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のすべてを前提として、次の設計を適用する必要があります。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">DECLARE</span> @isNestedTransaction <span class="hljs-built_in">BIT</span> = 
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">CASE</span>
<span class="hljs-keyword">WHEN</span> @@trancount &gt; <span class="hljs-number">0</span> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">THEN</span> <span class="hljs-string">'true'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ELSE</span> <span class="hljs-string">'false'</span>
<span class="hljs-keyword">END</span>;
<span class="hljs-keyword">BEGIN</span> TRY
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">IF</span> @isNestedTransaction = <span class="hljs-string">'false'</span> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">BEGIN</span> <span class="hljs-keyword">TRANSACTION</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ELSE</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">SAVE</span> <span class="hljs-keyword">TRANSACTION</span> SavepointName;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-comment">-- something useful</span><font></font>
&nbsp;&nbsp;&nbsp; IF @isNestedTransaction = 'false'<font></font>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">COMMIT</span> <span class="hljs-keyword">TRANSACTION</span>;
<span class="hljs-keyword">END</span> TRY
<span class="hljs-keyword">BEGIN</span> CATCH
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">DECLARE</span> @isCommitable <span class="hljs-built_in">BIT</span> = 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> XACT_STATE() = <span class="hljs-number">1</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">THEN</span> <span class="hljs-string">'true'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ELSE</span> <span class="hljs-string">'false'</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">END</span>;<font></font>
&nbsp;&nbsp;&nbsp; IF @isCommitable = 'true' AND @isNestedTransaction = 'true'<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ROLLBACK</span> <span class="hljs-keyword">TRANSACTION</span> SavepointName;<font></font>
&nbsp;&nbsp;&nbsp; ELSE<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ROLLBACK</span>;<font></font>
&nbsp;&nbsp;&nbsp; THROW;<font></font>
<span class="hljs-keyword">END</span> CATCH;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードを部分的に検討します。</font><font style="vertical-align: inherit;">まず、トランザクション内にいるかどうかを判断する必要があります。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">DECLARE</span> @isNestedTransaction <span class="hljs-built_in">BIT</span> = 
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> @@trancount &gt; <span class="hljs-number">0</span> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">THEN</span> <span class="hljs-string">'true'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ELSE</span> <span class="hljs-string">'false'</span>
<span class="hljs-keyword">END</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
@isNestedTransactionフラグを受け取った後、TRYブロックを実行し、状況に応じてセーブポイントまたはトランザクションの開始を設定します。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">BEGIN</span> TRY
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">IF</span> @isNestedTransaction = <span class="hljs-string">'false'</span> 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">BEGIN</span> <span class="hljs-keyword">TRANSACTION</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ELSE</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">SAVE</span> <span class="hljs-keyword">TRANSACTION</span> SavepointName;
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-comment">-- something useful</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが手順の「実際の」開始である場合は、何か有用なことを行った後、コミットします。</font></font><br>
<br>
<pre><code class="sql hljs">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-comment">-- something useful</span><font></font>
&nbsp;&nbsp;&nbsp; IF @isNestedTransaction = 'false'<font></font>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">COMMIT</span> <span class="hljs-keyword">TRANSACTION</span>;
<span class="hljs-keyword">END</span> TRY</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、これがテストケースからの起動であれば、何もコミットする必要はありません。</font><font style="vertical-align: inherit;">完了したら、tSQLtは単にすべての変更をロールバックします。</font><font style="vertical-align: inherit;">突然問題が発生してCATCHブロックに入った場合、最初に行うことは、トランザクションがコミットできるかどうかを確認することです。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">BEGIN</span> CATCH
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">DECLARE</span> @isCommitable <span class="hljs-built_in">BIT</span> = 
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">CASE</span> <span class="hljs-keyword">WHEN</span> XACT_STATE() = <span class="hljs-number">1</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">THEN</span> <span class="hljs-string">'true'</span>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ELSE</span> <span class="hljs-string">'false'</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">END</span>;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セーブポイントまでロールバックできるのは、</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コミット可能なトランザクション</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト実行が行われます。</font><font style="vertical-align: inherit;">セーブポイントが存在します。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他の場合では、トランザクション全体をロールバックする必要があります。</font></font><br>
<br>
<pre><code class="sql hljs">&nbsp;&nbsp;&nbsp; IF @isCommitable = 'true' AND @isNestedTransaction = 'true'
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ROLLBACK</span> <span class="hljs-keyword">TRANSACTION</span> SavepointName;<font></font>
&nbsp;&nbsp;&nbsp; ELSE<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">ROLLBACK</span>;<font></font>
&nbsp;&nbsp;&nbsp; THROW;<font></font>
<span class="hljs-keyword">END</span> CATCH;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい、残念ながら、テスト実行中にコミットできないトランザクションが発生した場合でも、テストケースの実行でエラーが発生します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FakeTableと外部キーの問題</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おなじみのテーブル[トライアル]と[クリニック]を考えてみましょう。</font></font><br>
<br>
<div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/fy/k7/nm/fyk7nmhfha_fnezignyxclpflay.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[TrialID] FKを覚えています。</font><font style="vertical-align: inherit;">これはどのような問題を引き起こす可能性がありますか？</font><font style="vertical-align: inherit;">前述の例では、両方のテーブルにFakeTableを一度に適用しました。</font><font style="vertical-align: inherit;">[試用版]のみに適用すると、次のような状況になります。</font></font><br>
<br>
<div style="text-align:center;"><img width="85%" height="85%" src="https://habrastorage.org/webt/og/to/3-/ogto3-drjheieblpi1_gsyup4hs.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このように[クリニック]にレコードを挿入しようとすると、失敗する場合があります（[トライアル]テーブルの偽バージョンに必要なすべてのデータを用意した場合でも）。</font></font><br>
<br>
<pre><code class="sql hljs">[dbo].[Test_FK_Problem] failed: (Error) The <span class="hljs-keyword">INSERT</span> <span class="hljs-keyword">statement</span> conflicted <span class="hljs-keyword">with</span> the <span class="hljs-keyword">FOREIGN</span> <span class="hljs-keyword">KEY</span> <span class="hljs-keyword">constraint</span> <span class="hljs-string">"Trial_Fk"</span>. The conflict occurred <span class="hljs-keyword">in</span> <span class="hljs-keyword">database</span> <span class="hljs-string">"HabrDemo"</span>, <span class="hljs-keyword">table</span> <span class="hljs-string">"dbo.tSQLt_tempobject_ba8f36353f7a44f6a9176a7d1db02493"</span>, <span class="hljs-keyword">column</span> <span class="hljs-string">'TrialID'</span>.[<span class="hljs-number">16</span>,<span class="hljs-number">0</span>]{Test_FK_Problem,<span class="hljs-number">14</span>}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結論：すべてを偽造するか、何も偽造しない必要があります。</font><font style="vertical-align: inherit;">2番目のケースでは、ベースをテスト用に事前に準備する必要があることは明らかです。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">システム手順に関するSpyProcedure</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
残念ながら、システムプロシージャの呼び出しをスパイすることはできません。</font></font><br>
<br>
<pre><code class="sql hljs">[HabrDemo].[test_test] failed: (Error) Cannot <span class="hljs-keyword">use</span> SpyProcedure <span class="hljs-keyword">on</span> sys.sp_help because the <span class="hljs-keyword">procedure</span> does <span class="hljs-keyword">not</span> exist[<span class="hljs-number">16</span>,<span class="hljs-number">10</span>] {tSQLt.Private_ValidateProcedureCanBeUsedWithSpyProcedure,<span class="hljs-number">7</span>}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セマフォの例では、開発者が作成した[SendEmail]プロシージャの呼び出しを追跡しました。</font><font style="vertical-align: inherit;">この場合、メッセージを直接送信する前にいくつかの追加情報を収集して処理する必要があるため、別の手順を作成します。</font><font style="vertical-align: inherit;">全体として、テストのためだけにシステム手順の中間手順を書かなければならないかもしれないという事実に対して、精神的に準備する必要があります。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メリット</font></font></h1><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">クイックインストール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストールは2段階で行われ、約2分かかります。</font><font style="vertical-align: inherit;">サーバーでCLRをアクティブ化する必要があるだけで、まだ実行されていない場合は、1つのスクリプトを実行するだけです。</font><font style="vertical-align: inherit;">それだけです。最初のテストクラスを追加して、テストケースを作成できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">迅速な開発</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tSQLtは学習しやすいツールです。</font><font style="vertical-align: inherit;">それを習得するのに少し日かかりました。</font><font style="vertical-align: inherit;">このフレームワークを使用している同僚に聞いたところ、誰もが約1日を費やすことがわかりました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CIでの迅速な実装</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのプロジェクトでCIに統合をセットアップするのに約2時間かかりました。</font><font style="vertical-align: inherit;">もちろん、時間は変動する可能性がありますが、一般にこれは問題ではなく、統合は非常に迅速に実行できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">幅広いツール</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは主観的な評価ですが、私の意見では、tSQLtによって提供される機能は非常に豊富であり、実際のニーズの大部分をカバーしています。</font><font style="vertical-align: inherit;">組み込みの偽物やアサーションが十分でないまれなケースでは、もちろんtSQLt.Failがあります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">便利なドキュメント</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
公式ドキュメントは便利で一貫しています。</font><font style="vertical-align: inherit;">これにより、初めての単体テストツールであっても、tSQLtを使用することの本質を短時間で簡単に理解できます。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">便利な出力</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データは非常に明確なテキスト形式で取得できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">[tSQLtDemo].[test_error_messages] failed: (Failure) Expected an error to be raised.<font></font>
[tSQLtDemo].[test_tables_comparison] failed: (Failure) useful and descriptive error message<font></font>
Unexpected/missing resultset rows!<font></font>
|_m_|Column1|Column2|<font></font>
+---+-------+-------+<font></font>
|&lt;  |2      |Value2 |<font></font>
|=  |1      |Value1 |<font></font>
|=  |3      |Value3 |<font></font>
|&gt;  |2      |Value3 |<font></font>
 <font></font>
+----------------------+<font></font>
|Test Execution Summary|<font></font>
+----------------------+<font></font>
 <font></font>
|No|Test Case Name                      |Dur(ms)|Result |<font></font>
+--+------------------------------------+-------+-------+<font></font>
|1 |[tSQLtDemo].[test_constraint]       |     83|Success|<font></font>
|2 |[tSQLtDemo].[test_trial_view]       |     83|Success|<font></font>
|3 |[tSQLtDemo].[test_error_messages]   |    127|Failure|<font></font>
|4 |[tSQLtDemo].[test_tables_comparison]|    147|Failure|<font></font>
-----------------------------------------------------------------------------<font></font>
Msg 50000, Level 16, State 10, Line 1<font></font>
Test Case Summary: 4 test case(s) executed, 2 succeeded, 2 failed, 0 errored.<font></font>
----------------------------------------------------------------------------- <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データベースから抽出することもできます（クリック可能）...</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><div style="text-align:center;"><img src="https://habrastorage.org/webt/-f/83/la/-f83lajcz1mfcnkhtttz45b0x3g.png"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...またはXML形式で取得します。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">testsuites</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">testsuite</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"tSQLtDemo"</span> <span class="hljs-attr">tests</span>=<span class="hljs-string">"3"</span> <span class="hljs-attr">errors</span>=<span class="hljs-string">"0"</span> <span class="hljs-attr">failures</span>=<span class="hljs-string">"1"</span> <span class="hljs-attr">timestamp</span>=<span class="hljs-string">"2019-06-22T16:46:06"</span> <span class="hljs-attr">time</span>=<span class="hljs-string">"0.433"</span> <span class="hljs-attr">hostname</span>=<span class="hljs-string">"BLAHBLAHBLAH\SQL2017"</span> <span class="hljs-attr">package</span>=<span class="hljs-string">"tSQLt"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">properties</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">testcase</span> <span class="hljs-attr">classname</span>=<span class="hljs-string">"tSQLtDemo"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"test_constraint"</span> <span class="hljs-attr">time</span>=<span class="hljs-string">"0.097"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">testcase</span> <span class="hljs-attr">classname</span>=<span class="hljs-string">"tSQLtDemo"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"test_error_messages"</span> <span class="hljs-attr">time</span>=<span class="hljs-string">"0.153"</span>&gt;</span>
         <span class="hljs-tag">&lt;<span class="hljs-name">failure</span> <span class="hljs-attr">message</span>=<span class="hljs-string">"Expected an error to be raised."</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"tSQLt.Fail"</span> /&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">testcase</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">testcase</span> <span class="hljs-attr">classname</span>=<span class="hljs-string">"tSQLtDemo"</span> <span class="hljs-attr">name</span>=<span class="hljs-string">"test_trial_view"</span> <span class="hljs-attr">time</span>=<span class="hljs-string">"0.156"</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">system-out</span> /&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">system-err</span> /&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">testsuite</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">testsuites</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
後者のオプションを使用すると、テストをCIに簡単に統合できます。</font><font style="vertical-align: inherit;">特に、すべてがAtlassian Bambooの下で機能します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redgateサポート</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プラスには、RedGateなどのDBAツールの大規模プロバイダーのサポートが含まれます。</font><font style="vertical-align: inherit;">SQL Test-SQL Server Management Studioのプラグイン-はそのままでtSQLtで動作します。</font><font style="vertical-align: inherit;">さらに、RedGateは、開発者自身が</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Googleグループで</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主張しているように、dev-environmentを使用してtSQLtのメインデベロッパーに支援を提供し&nbsp; </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">欠点</font></font></h1><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一時的なテーブルの偽物はありません</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tSQLtは偽の一時テーブルを許可しません。</font><font style="vertical-align: inherit;">必要に応じて、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">非公式のアドオンを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用できます&nbsp; </font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">残念ながら、このアドオンはSQL Server 2016以降でのみサポートされています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">外部データベースへのアクセスなし</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
フレームワークを保存するためだけに別のベースを維持することはできません。</font><font style="vertical-align: inherit;">tSQLtは、同じデータベース内にあるものをテストするように設計されています。</font><font style="vertical-align: inherit;">残念ながら、偽物は機能しません。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> [tSQLtDemo].[test_outer_db]
<span class="hljs-keyword">AS</span>
<span class="hljs-keyword">BEGIN</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">SELECT</span> TOP <span class="hljs-number">10</span> * <span class="hljs-keyword">FROM</span> [AdventureWorks2017].[Person].[<span class="hljs-keyword">Password</span>]<font></font>
&nbsp;&nbsp;&nbsp; EXEC tSQLt.FakeTable <span class="hljs-string">'[AdventureWorks2017].[Person].[Password]'</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">SELECT</span> TOP <span class="hljs-number">10</span> * <span class="hljs-keyword">FROM</span> [AdventureWorks2017].[Person].[<span class="hljs-keyword">Password</span>]
<span class="hljs-keyword">END</span>
</code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ga/au/ny/gaaunygdr124sssxhonbb2s0b_0.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アサーションは機能しているように見えますが、もちろんそのパフォーマンスを保証するものはありません。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> [tSQLtDemo].[test_outer_db_assertions]
<span class="hljs-keyword">AS</span>
<span class="hljs-keyword">BEGIN</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">SELECT</span> TOP <span class="hljs-number">1</span> *
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">INTO</span> <span class="hljs-comment">#Actual</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">FROM</span> [AdventureWorks2017].[Person].[<span class="hljs-keyword">Password</span>]<font></font>
<font></font>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">SELECT</span> *
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">INTO</span> <span class="hljs-comment">#Expected</span>
&nbsp;&nbsp;&nbsp; <span class="hljs-keyword">FROM</span> (
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;&nbsp;&nbsp; <span class="hljs-keyword">SELECT</span> <span class="hljs-string">'bE3XiWw='</span> <span class="hljs-keyword">AS</span> [PasswordSalt]<font></font>
&nbsp;&nbsp;&nbsp; ) expectedresult;<font></font>
<font></font>
&nbsp;&nbsp;&nbsp; EXEC tSQLt.AssertEqualsTable '<span class="hljs-comment">#Expected', '#Actual', 'The salt is not salty';</span>
<span class="hljs-keyword">END</span></code></pre><br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/dk/ow/cgdkowych69imevqmbirkkgsniq.png"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ドキュメントのバグ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ドキュメントの一貫性とアクセシビリティについて私が上で書いたという事実にもかかわらず、それはまた問題を含んでいます。</font><font style="vertical-align: inherit;">時代遅れの瞬間がいくつかあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例1.&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「クイックスタートガイド」では</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;、SourceForgeからフレームワークをダウンロードすることを推奨しています。</font><font style="vertical-align: inherit;">SourceForgeを使用し</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">て、2015年にはすでに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">別れを告げ&nbsp; </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ていました</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例2.例の&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ApplyConstraintガイド</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> &nbsp;では、例外をキャッチするためにFailプロシージャを使用しています。これは、ExpectExceptionで置き換える方が簡単で視覚的です。</font></font><br>
<br>
<pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">PROCEDURE</span> ConstraintTests.[<span class="hljs-keyword">test</span> ReferencingTable_ReferencedTable_FK prevents <span class="hljs-keyword">insert</span> <span class="hljs-keyword">of</span> orphaned <span class="hljs-keyword">rows</span>]
<span class="hljs-keyword">AS</span>
<span class="hljs-keyword">BEGIN</span>
     EXEC tSQLt.FakeTable <span class="hljs-string">'dbo.ReferencedTable'</span>;<font></font>
     EXEC tSQLt.FakeTable 'dbo.ReferencingTable';<font></font>
     <font></font>
     EXEC tSQLt.ApplyConstraint 'dbo.ReferencingTable','ReferencingTable_ReferencedTable_FK';<font></font>
     <font></font>
     <span class="hljs-keyword">DECLARE</span> @ErrorMessage <span class="hljs-keyword">NVARCHAR</span>(<span class="hljs-keyword">MAX</span>); <span class="hljs-keyword">SET</span> @ErrorMessage = <span class="hljs-string">''</span>;<font></font>
     <font></font>
     <span class="hljs-comment">/* []     ExceptException ? */</span>
     <span class="hljs-keyword">BEGIN</span> TRY
    <span class="hljs-keyword">INSERT</span>  <span class="hljs-keyword">INTO</span> dbo.ReferencingTable<font></font>
            ( <span class="hljs-keyword">id</span>, ReferencedTableId )
    <span class="hljs-keyword">VALUES</span>  ( <span class="hljs-number">1</span>, <span class="hljs-number">11</span> ) ;
     <span class="hljs-keyword">END</span> TRY
     <span class="hljs-keyword">BEGIN</span> CATCH
    <span class="hljs-keyword">SET</span> @ErrorMessage = ERROR_MESSAGE();     
     <span class="hljs-keyword">END</span> CATCH<font></font>
     <font></font>
     <span class="hljs-keyword">IF</span> @ErrorMessage <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%ReferencingTable_ReferencedTable_FK%'</span>
     <span class="hljs-keyword">BEGIN</span>
       EXEC tSQLt.Fail <span class="hljs-string">'Expected error message containing ''ReferencingTable_ReferencedTable_FK'' but got: '''</span>,@ErrorMessage,<span class="hljs-string">'''!'</span>;
     <span class="hljs-keyword">END</span><font></font>
     <font></font>
<span class="hljs-keyword">END</span>
<span class="hljs-keyword">GO</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これが起こるので、これは自然なことです...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">部分的放棄</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2016年の初めから2019年6月まで、tSQLtの開発には長い中断があります。はい、残念ながら、このツールは部分的に廃止されています。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">よると</font></a><font style="vertical-align: inherit;">、2019年は少しずつ&nbsp; </font><font style="vertical-align: inherit;">開発が進んでいます。</font><font style="vertical-align: inherit;">公式のGoogleグループ&nbsp; </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にはスレッド</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があり、tSQLtの主な開発者であるSebastianが開発の運命について直接尋ねられました。</font><font style="vertical-align: inherit;">最後の質問は2019年3月2日に行われましたが、回答はまだ受け取っていません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SQL Server 2017の問題</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SQL Server 2017を使用している場合は、tSQLtをインストールするために追加の操作が必要になる可能性があります。</font><font style="vertical-align: inherit;">問題は、2012年以来初めて、SQL Serverがセキュリティの変更を行ったことです。</font><font style="vertical-align: inherit;">サーバーレベルで、CLRの厳格なセキュリティフラグが追加されました。これにより、署名されていないアセンブリ（SAFEも含む）の作成が禁止されます。</font><font style="vertical-align: inherit;">問題の詳細な説明は別の記事に値します（幸いにも、すべてがすでに十分に</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明さ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れており、シリーズの後続の記事も）。</font><font style="vertical-align: inherit;">ただ精神的に準備してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、この欠点は「落とし穴」に起因する可能性があり、その解決策はtSQLt開発者に依存しませんが、少し時間がかかりますが、フレームワークレベルでこの問題を解決することは可能です。&nbsp;</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubにはすでに問題があります</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">確かに、彼の許可を得て、彼らは2017年10月以来引きずられてきた（前のサブパラグラフを参照）。</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">他のDBMSの代替（±）</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のDBMSの代替についても言及する価値があります。</font><font style="vertical-align: inherit;">この種のツールはtSQLtだけではありません。</font><font style="vertical-align: inherit;">実装機能（CLR、およびT-SQLは他のSQL方言とは大きく異なる）のため、他のDBMSで使用することはできませんが、同様のツールを見つけることができます。</font><font style="vertical-align: inherit;">これらの選択肢はtSQLtとは大きく異なるため、主にSQLを利用したアプローチ全体について説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、PostgreSQLの下には、かなり開発され、積極的に開発された</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ptTAPがあり</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">これには、ネイティブPL / pgSQLでテストを記述し、結果をTAP形式で出力することが含まれます。</font><font style="vertical-align: inherit;">MySQLでは、機能は多少劣りますが、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MyTAP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">という類似のツールがあります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">Oracleを使用して突然運が</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">良けれ</font></a><font style="vertical-align: inherit;">ば、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">utPLSQL</font></a><font style="vertical-align: inherit;">を使用する機会があります</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -非常にパワフルでアクティブな（私が言う以上に）開発ツール。&nbsp;</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
おそらく、上記のすべての情報とともに、私は2つの主要な考えを伝えたかったのです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1つ目は、データベースでコードをテストすることの有用性です。</font><font style="vertical-align: inherit;">SQL Server、Oracle、MySQLのどちらに座っていても、問題はありません。</font><font style="vertical-align: inherit;">ある程度の量のテストされていないロジックがデータベースに保存されている場合、追加のリスクが発生します。</font><font style="vertical-align: inherit;">データベースコード内のバグは、残りのコード内のバグと同様に、製品、ひいては製品を提供する会社に損害を与える可能性があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目のアイデアは、ツールを選択することです。</font><font style="vertical-align: inherit;">私と同じようにSQL Serverを使用している場合、tSQLtは100％勝っていないとしても、間違いなく注目に値します。</font><font style="vertical-align: inherit;">最近の開発の停滞にもかかわらず、それはまだテストを大いに促進する関連ツールです。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私を助けたソース（不完全なリスト）</font></font></b><div class="spoiler_text">DbFit — Automated Open Source Database Testing:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">http://www.methodsandtools.com/tools/dbfit.php</a><br>
<br>
DbFit Documentation:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://dbfit.github.io/dbfit/docs/</a><br>
<br>
Slacker wiki:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/vassilvk/slacker/wiki</a><br>
<br>
T.S.T. documentation:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://archive.codeplex.com/projects/TST/4e04e281-9f35-4891-809a-15f09d304f4e</a>&nbsp;<br>
<br>
NUnit Assertions:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/nunit/docs/wiki/Assertions</a><br>
<br>
utTSQL code:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://sourceforge.net/p/uttsql/code/HEAD/tree/</a><br>
<br>
Junit Class Assert:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://junit.org/junit4/javadoc/latest/org/junit/Assert.html</a><br>
<br>
pgTap:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://pgtap.org/</a><br>
<br>
utPLSQL:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">http://utplsql.org/</a><br>
<br>
MyTap:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/hepabolu/mytap</a><br>
<br>
tSQLt Google groups:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://groups.google.com/forum/#!forum/tsqlt</a><br>
<br>
tSQLt official website: <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://tsqlt.org/</a><br>
<br>
tSQLt GitHub:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://github.com/tSQLt-org/tSQLt</a><br>
<br>
Google trends:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://bit.ly/2x7BQL6</a><br>
<br>
How to ROLLBACK a transaction when testing using tSQLt:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://stackoverflow.com/questions/8973138/how-to-rollback-a-transaction-when-testing-using-tsqlt</a><br>
&nbsp;<br>
What are the Pros and Cons of Manual Unit Testing against the Automated Unit Testing?:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://stackoverflow.com/questions/2948337/what-are-the-pros-and-cons-of-manual-unit-testing-against-the-automated-unit-tes#2948354</a><br>
<br>
The Good, the Bad, and the Ugle̅e̅:&nbsp;<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">https://sqlquantumleap.com/2017/08/07/sqlclr-vs-sql-server-2017-part-1-clr-strict-security/</a><br>
<br>
Rex Black, Erik Van Veenendal, Dorothy Graham, Foundations of Software Testing, Third edition, 2012 Cengage Learning EMEA<br>
</div></div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja461121/index.html">マイクロコントローラーでの小さなマルチタスク実験</a></li>
<li><a href="../ja461125/index.html">Visual Studioのソースコードでメッセージに番号を付けるための連続した数値コードを作成するタスク（例：C＃）</a></li>
<li><a href="../ja461127/index.html">VMware vSphereでのVMパフォーマンス分析。パート3：ストレージ</a></li>
<li><a href="../ja461129/index.html">コート、妻、二人の息子についての考え…そしてそれだけではありません。続きのある物語</a></li>
<li><a href="../ja461131/index.html">ROSカートトラック。パート2.ソフトウェア</a></li>
<li><a href="../ja461137/index.html">ドライバーの注意を監視するためのデバイスをどのように開発したか。Yandex.Taxiを体験</a></li>
<li><a href="../ja461139/index.html">保険料詐欺スキーム</a></li>
<li><a href="../ja461141/index.html">俳句初日：意外といい</a></li>
<li><a href="../ja461143/index.html">ゲームデザインの現在の問題とそれらを解決する方法について。下から見る</a></li>
<li><a href="../ja461145/index.html">チームがリードすべきこと：役割、責任、スキル</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>