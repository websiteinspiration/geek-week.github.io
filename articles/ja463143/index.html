<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👇🏻 🆘 👨🏿‍⚕️ Googleアナリティクス入門：アプリ+ウェブ 📭 👏🏻 💿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Google は最近、App + Webと呼ばれるGoogle Analyticsの新しいバージョンをパブリックアクセスでリリースしました。 Simo Ahabは、ツールの使用を開始する方法に関する優れた段階的な説明を既に書いているので、それをロシア語に翻訳することにしました。私自身は、この製品がベ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Googleアナリティクス入門：アプリ+ウェブ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/463143/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は最近、</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">App + Web</font></a><font style="vertical-align: inherit;">と呼ばれるGoogle Analyticsの新しいバージョンを</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">パブリックアクセスでリリースしました</font></a></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。 Simo Ahabは、ツールの使用を開始する方法に関する優れた段階的な説明を既に書いているので、それをロシア語に翻訳することにしました。私自身は、この製品がベータ版で登場したばかりであり、明らかに実質的に完成することを付け加えておきます。新しいデータ構造とGoogle BigQueryの組み込みデータエクスポート機能の機能のテストをすでに開始しており、長所と短所についてすぐにお知らせします。一般的に、今日のアナリストはイノベーションを積極的に評価しています。たとえば、OWOX BIのVlad Flaxは、この更新により、データの構造を変更する準備ができているプロジェクトのために、Googleがデータを収集し、Google AnalyticsからBigQueryにデータを配信するプロセスを簡略化したと考えています。さらに、マーケティングデータのDWHとしてGoogle BigQueryに付加価値をもたらします。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以下は、Simoによる記事の翻訳で、彼の評価と使用感を示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
扱いにくいタイトルにもかかわらず、GoogleアナリティクスV2やFirebase Analytics for Webのすべての目標と目的に最適なツールです。ここでは</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Firebase向けGoogleアナリティクス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">とユニバーサルアナリティクスの</font><font style="vertical-align: inherit;">間で概要レポートを作成する魅力的な方法</font><font style="vertical-align: inherit;">や、ユニバーサルアナリティクスの改善について</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">は触れ</font></a><font style="vertical-align: inherit;">ていません</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いいえ、Firebase向けGoogleアナリティクスと連携して機能する新しいウェブトラフィック測定モデルについて話しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはまだ少し洗練されていない製品であり、ドキュメントはまだ少し不足しているので、私はあなたに優位性を与え、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Googleタグマネージャー</font></a><font style="vertical-align: inherit;">を使用してデータ収集を設定する方法を示すと思いました</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。関数がベータテストを終了したらすぐに、完全で適切な包括的なガイドをリリースするつもりです。ただし、この記事は、その新機能や興味深いものを今すぐ試してみたいと思っている方に役立つはずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Analytics：App + Webという名前はやや扱いにくいです。これは時間の問題であり、いつFirebase for the Webまたはそのようなものと呼ぶのでしょうか。これが本質的なものだからです。この記事では、名前を完全に入力するのが簡単ではない場所で、GAv2と呼びます（そうです、私は怠惰です）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/n2/8n/g4/n28ng4pnp0xw7zhsw9myfhx3a0o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
始める前に、</font><font style="vertical-align: inherit;">Krista Seydenの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すばらしいブログ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を新しいタブ</font><font style="vertical-align: inherit;">で開き、</font><font style="vertical-align: inherit;">彼女がGoogleアナリティクスのレポート機能について公開した3つの記事、App + Webに特に注意してください。</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Googleアナリティクスの新しいアプリ+ウェブプロパティ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グーグルアナリティクスのパス</font></font></a></li>
<li><a href=""><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google AnalyticsのStreamview</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ol><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新：この記事を公開した直後に、Kristaは別の優れたガイドをリリースしました。すばらしい点は、Firebaseプロジェクトの作成に必要な手順をより詳しくカバーしているため、これを補完することです。</font><font style="vertical-align: inherit;">一般に、これをチェックしてください：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">App + Webの段階的な設定</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はいくつかの冒頭の言葉から始めるので、必要に応じて、それらをスキップして、実装手順に直接進んでください。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">警告</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、Google Analytics：App + Webは</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベータ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト中です。</font><font style="vertical-align: inherit;">つまり、まだ完全には準備されていません。</font><font style="vertical-align: inherit;">真剣に、それはまだ準備ができていません。</font><font style="vertical-align: inherit;">私が今頭を悩ませていることの多くは、間違いなくいつかプラットフォームに当てはまるでしょう。また、あなたが持つであろう多くの質問への答えは、おそらく将来のリリースで提供されるでしょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レポートUIとGoogleタグマネージャーの設定で見つけたいくつかのポイントを次に示します。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> サイト検索レポートやeコマースなどの特別なレポートはありません</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ユーザーレポートUIで自動的に収集されたイベント、推奨されたイベント、カスタムイベントを区別する方法はありません。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ユーザーリソースを設定できます。その方法については以下をご覧ください。</font></font></li>
<li>   items  (    )      Google Analytics   GTM.</li>
<li>        GTM, , .</li>
<li>      Firebase Analytics    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  </a>.      Google Analytics ( ,       Google Analytics),        ,   .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この章に記載されている問題に関連する問題を含む詳細情報の魔法の杖になるので</font><font style="vertical-align: inherit;">
、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公式ブログ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">クリスタの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブログを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">必ずフォローし</font><font style="vertical-align: inherit;">てください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/mp/g3/bu/mpg3bujaubzo9qnva_gpt1j2yao.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、明らかなポイント。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはユニバーサルアナリティクスではありません</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。ユニバーサルアナリティクスで慣れていることの多くは、Firebaseにはありません。個人的には、機能の同等性がすぐそこまで来ていることを願っています。現在、Googleには新しい優れたものを作成する機会があるからです。ただし、もちろん、このプラットフォームをユニバーサルアナリティクスに取って代わってもらいたいので、少なくとも同じユースケースで役立つはずです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、私の考えでは、ユニバーサルアナリティクスと新しいプラットフォームの主な違いについて説明します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユニバーサルアナリティクス：</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
すべてがセッションの概念に基づいて構築されており、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヒットスコープ、セッションスコープ、ユーザースコープのカスタム定義。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リアルタイムの表面レポート。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セグメント。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セマンティックな構造化はありません。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
かなり好ましい割り当てと制限（サンプルを除く）。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GoogleアナリティクスV2：</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
すべてが「ユーザー」と「イベント」の概念に基づいて構築されています</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カスタムプロパティとカスタムイベントパラメーター</font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StreamViewとDebugViewは</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、より包括的な詳細を提供します。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
聴衆。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自動的に収集され、推奨されるイベント。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
厳格な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">割り当てと制限</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（サンプリングなし）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユニバーサルアナリティクスとは異なり、制限は特に苦痛です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
いずれにせよ、これらの問題はGoogleアナリティクスの前に解決されると確信しています。アプリ+ウェブはベータテストから抜け出しますが、1つ確かなことがあり</font><font style="vertical-align: inherit;">ます。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これはユニバーサルアナリティクスではありません</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。新しい測定モデルは、従来のGAデータモデルにデータを入力する方法としてではなく、Universal Analyticsが提供できるものを超える機会として検討してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらの警告のため</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ユニバーサルアナリティクスでのデータ収集を停止し、Googleアナリティクスでのみデータを収集することを強くお勧めします：アプリ+ウェブ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">いずれの場合でも、この新しい測定モデルを、サイトに既に存在する設定と並行して実行して、2つのデータセット間のパリティを比較できるようにすることをお勧めします。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しい分析設定の作成：アプリ+ウェブ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいGoogleアナリティクスプロパティを作成するには、App + Webを実行する必要があります。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注意！</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">公開されたドキュメントに基づいて、これらの手順は将来大幅に簡略化される可能性があります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ1：新しいFirebaseプロジェクトを作成する</font></font></h3><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firebaseコンソールに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
移動し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">て</font></a><font style="vertical-align: inherit;">、新しいプロジェクトを作成します。これは、新しいセットアップのベースFirebaseプロジェクトになります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/3b/3v/yn/3b3vynm7uvhajdryv-x5lbugtze.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プロジェクトに名前とIDを付けます（IDは一意である必要があります。プロジェクトの名前に基づいて生成されます）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Firebaseの規約を読んで同意し、[続行]をクリックします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ef/hv/tz/efhvtzmljd3aumtxmioqduqtfpo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のステップでは、「プロジェクトにGoogleアナリティクスを設定する」チェックボックスが選択されていることを確認し、「続行」をクリックします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wt/4j/ps/wt4jps7l5yylvdsqaesf0yv1gji.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
既にGoogleアカウントを持っているかどうかに応じて、リソースを作成するアカウントを選択するか、全体として新しいアカウントを作成できます。ログインに関連付けられたGoogleアナリティクスアカウントがない場合は、GAの利用規約に同意する必要があります。その後、新しいアカウントとリソースが作成されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d9/bz/f-/d9bzf-tavmmbmyjqpm03sob2nec.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトの作成</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]をクリック</font><font style="vertical-align: inherit;">して処理が完了したら、Googleアナリティクスに移動して、選択したアカウントで新しいアプリ+ Webリソースを見つけることができます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bp/js/y_/bpjsy_kg-eccdxlagnoqgpkgnny.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ステップ2.新しいWebストリームを作成する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しい測定モデルは</font><font style="vertical-align: inherit;">、アプリケーション（iOSおよびAndroid）またはインターネットからの</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ストリーム</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">中心に展開し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。将来的には、インターネットに接続された任意のデバイスからのHTTPリクエストを受け入れるMeasurement Protocolなどの新しいストリームが表示されることを願っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どちらの場合も、</font><font style="vertical-align: inherit;">リソース列で[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データストリーム</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]オプションを選択</font><font style="vertical-align: inherit;">し、[ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Web</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ]を選択し</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/wv/1g/ouwv1guhselkp0mda09ag4dzxyq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ストリームを設定するには、サイトのURLを入力し、ストリームにわかりやすい名前を付けます。次に、小さな歯車をクリックして、拡張測定を設定します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r6/tn/nl/r6tnnlyvn6s7tvdq4lo254hje7w.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
拡張測定では、基本的に、タグの作成時にアクティブ化されるいくつかの自動追跡機能がサイトに追加されます。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本構成</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gy/kv/lh/gykvlhuh7mitdzp-v_o3eyg0cy4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
自動的に追跡できる項目のリストはかなり明確で、拡張測定構成（上記のスクリーンショットを参照）で十分に説明されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
準備ができたら、データストリームを作成すると、一連のタグ付け手順やその他のポイントが画面に表示されます。</font><font style="vertical-align: inherit;">注意すべき最も重要なことは、測定IDです。</font><font style="vertical-align: inherit;">このタブを開いたままにしておくと、必要に応じてディメンションIDをGoogleタグマネージャータグにコピーできます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xw/mt/pg/xwmtpgjlosplxdl0mvikm14gg-y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
終わった？</font><font style="vertical-align: inherit;">では、Googleタグマネージャーに移りましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">基本構成タグを作成する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Googleタグマネージャーで新しいタグを作成すると、セレクターに2つの新しいタグテンプレートが表示されます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uw/fa/n-/uwfan-erdvibiojmzalem4bptsq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Analytics：App + Web Configurationは</font><font style="vertical-align: inherit;">、実装で使用される</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドに</font></font></a> <font style="vertical-align: inherit;"><font style="vertical-align: inherit;">似て</font></font><code>config</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">います</font></font><code>gtag.js</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。これを使用して、トラッカーを構成し、初期ページビューを送信し、すべてのイベントに定数値を設定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テンプレートを開いたとき、多くのオプションは歓迎されません。実際、測定IDを決定するためのフィールド</font><font style="vertical-align: inherit;">、最初のページビューを送信するかどうかを選択するための</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スイッチ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、および</font><font style="vertical-align: inherit;">タグで設定できる</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成フィールド</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">があります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lb/7b/od/lb7bodf5qbqg4xwpbnslhqt61rs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ベースタグを設定するには、前のパートで作成したWebストリームのMeasurement IDフィールドで指定します。</font></font><code>user_id</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバイスとアプリケーション間の測定の道を開きたい場合に備えて、ユーザー認証IDに関連付けられて</font><font style="vertical-align: inherit;">いるフィールドに</font><font style="vertical-align: inherit;">値</font><font style="vertical-align: inherit;">を設定でき</font><font style="vertical-align: inherit;">ます。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ドキュメント</font></a><font style="vertical-align: inherit;">に</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
よると、</font><font style="vertical-align: inherit;">同じディメンションIDを使用する後続のすべての呼び出しでこれらのイベントパラメーターを送信する場合は、構成タグのセットにフィールドでイベントパラメーターを定義できるようにする必要があります。</font><font style="vertical-align: inherit;">残念ながら、執筆の時点では、これは機能していないようです。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カスタムプロパティを設定する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザープロパティを設定</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、まずレポートUIで</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">それら</font></a><font style="vertical-align: inherit;">を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">作成する</font></a><font style="vertical-align: inherit;">必要があり</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vf/_g/k3/vf_gk3ltoh6kpmfwcmlx9ydqyhi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、[設定するフィールド]の設定に移動し、新しいフィールドを追加します。フィールド名はでなければなりません</font></font><code>user_properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vs/w7/8e/vsw78exc-nrgoxryhiecqkaf0vu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
カスタムJavaScript変数（またはカスタム変数テンプレート）をフィールド値として使用する必要があります。これにより、オブジェクトの各キーがレポートUIで作成したユーザープロパティ名に対応し、値はカスタムプロパティとして送信するものと同じになります。質問では。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば、プロパティを設定するには</font></font><code>user_type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（上のスクリーンショットを参照）、次のようなカスタムJavaScript変数を作成できます。</font></font><br>
<br>
<pre><code class="plaintext hljs">"function() {<font></font>
  return {<font></font>
    user_type: 'Premium user'<font></font>
  };<font></font>
}"<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、この変数を</font></font><code>user_properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成タグの</font><font style="vertical-align: inherit;">フィールド値として追加する必要があり</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の方法は、カスタム変数テンプレートを使用する</font><font style="vertical-align: inherit;">ことです</font><font style="vertical-align: inherit;">（</font><font style="vertical-align: inherit;">ユーザーテンプレートが何か覚えていない場合</font><font style="vertical-align: inherit;">は、私の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ガイドを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照して</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ください</font></a><font style="vertical-align: inherit;">）。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これは、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ユーザープロパティオブジェクトを返すために作成し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">たテンプレート</font></a><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">これを使用して、個別のキーとユーザープロパティ値を設定する変数を作成し、この変数を</font></font><code>user_properties</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">構成タグの</font><font style="vertical-align: inherit;">キー値として</font><font style="vertical-align: inherit;">設定できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rx/zl/1o/rxzl1oz2kciqbzjd2zxdad4pbo8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
構成タグを作成したら、[すべてのページ]スイッチで有効にしてプレビューモードに入ります。</font><font style="vertical-align: inherit;">この新しい測定モデルがWebサイトでどのように機能するか見てみましょう！</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト！</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サイトにアクセスしてプレビューコンテナーをダウンロードし</font><font style="vertical-align: inherit;">たら、ブラウザーの</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発者ツール</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">開き</font><font style="vertical-align: inherit;">、GAv2で使用されるCookieを確認します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kl/ab/xo/klabxouaktnaphimbe0wwk5zvik.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このファイルは</font></font><code>cookie _ga</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Universal Analytics </font><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">ほとんど同じ</font><font style="vertical-align: inherit;">ですが</font><font style="vertical-align: inherit;">、わずかに1つ違いがあります。 _ga cookieは、cookie値のドメインの部分の数をの後の数としてエンコードします</font></font><code>GA1</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。たとえば、Cookieがsimoahava.comに書き込まれる場合、ドメインは2つの部分で構成され、CookieプレフィックスはGA1.2です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、GAv2では、これは</font></font><code>cookie_domain</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デフォルト</font><font style="vertical-align: inherit;">値</font><font style="vertical-align: inherit;">（自動構成）の</font><font style="vertical-align: inherit;">使用とは</font><font style="vertical-align: inherit;">異なります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
たとえば</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.simoahava.comの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ようにドメインを手動で設定した場合</font><font style="vertical-align: inherit;">、Cookieには通常のGA1.3 </font><font style="vertical-align: inherit;">が含まれるため、これは省略かもしれません</font><font style="vertical-align: inherit;">。接頭辞。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別のファイルが</font></font><code>cookie, _ga_MEASUREMENT-ID **</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セッション状態をサポートしているようです。最初の長い数値は、Cookieが作成されたときのタイムスタンプ（秒単位）で、2番目に長い数値は、ヒットがGAに最後に送信されたときのタイムスタンプです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、GAv2は少なくともセッションが現在アクティブであるかどうかを追跡しているようです。セッション情報にクライアント側の永続性をより多く使用するかどうか、およびこのCookieを使用してWebブラウザーのセッション状態を判別できるかどうかは、まだ不明です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JavaScriptはCookieに使用されるため、SafariのIntelligent Tracking Preventionなど、クライアント側のCookieの有効性を低下させる対策の影響を受けます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ブラウザーから送信されたWebリクエストに従うか、Google Analyticsデバッガー拡張機能を使用して、ライブラリがGoogle Analyticsにヒットを送信する方法を確認します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vi/os/2q/vios2qqoxfidrj52xjdesfbcthq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まず、リクエストが使い慣れたエンドポイントに送信されていることがわかります</font></font><code>/collect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。ただし、/ g /パス上にある点が異なります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リクエストタイプはPOSTで、エンドポイントは画像ピクセルのままです。つまり、ヒットはデフォルトでビーコンAPIを使用しているように見えます。これは、この機能を手動で有効にする必要があったユニバーサルアナリティクスの大幅な改善です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ビーコンAPIは、ページがアンロードされたときに送信される非同期リクエストを保護します。これにより、ブラウザーが閉じている場合でも、リクエストを実行できます。これにより、ユーザーはリクエストが完了する前にページを離れたため、呼び出し（リンクのクリックに関連付けられたイベントなど）をスキップする手間を省くことができます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-9/au/c2/-9auc2solqzij8-nmq_pshjgvxk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GAに送信される実際のパラメーターを見ると、測定プロトコルのクエリがどのように構築されているかを覚えていれば、ここでよく知られていることがたくさんあります。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータ</font></font><code>v</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の値は2ですが、ユニバーサルアナリティクスでは1です。これはプロトコルのバージョンです。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータは</font></font><code>tid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">測定IDに設定されます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータは</font></font><code>gtm</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GTMコンテナのIDからハッシュされます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パラメータ</font></font><code>cid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルに格納されているクライアント識別子です</font></font><code>cookie _ga</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実質的に変更されていない他のオプションには、</font></font><code>uid</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（ユーザーID）、dl / dr / dt（ドキュメントメタデータ）、</font></font><code>sr</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（画面解像度）などがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ヒットタイプディメンションはなくなりました。代わりに、en（イベント名）パラメータを使用して、異なるタイプのヒットを互いに区別します。これは、ユニバーサルアナリティクスとの主な違いです。GAv2では、1つのイベントストリームがあり、イベントの名前と一緒に送信するイベントパラメータによって、レポートでのデータの表示方法が決まるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントパラメータの先頭にはepが付いています。またはepn。テキストパラメーターと数値パラメーターのそれぞれ。スクリーンショットでは、countryという名前のイベントパラメータを作成し、それをUSに設定しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ユーザープロパティの先頭にはupが付いています。またはupn。テキストまたは数値形式のカスタムプロパティのそれぞれ。スクリーンショットは</font></font><code>user_type</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、プレミアムユーザーに設定され</font><font style="vertical-align: inherit;">た名前</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">持つユーザーの1つのテキストプロパティを示してい</font><font style="vertical-align: inherit;">ます。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、sidパラメータには、現在のセッション（から取得</font></font><code>cookie _ga_MEASUREMENT-ID</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">が開始されたときのタイムスタンプが含まれているよう</font><font style="vertical-align: inherit;">です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他のオプションが何をしているかはまだ不明です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あなたが気づくかもしれない一つのことは、ヒットの送信の遅れです。ページをロードすると、ブラウザがヒットをGAに送信する前に数秒待機する方法を確認できます。これは、GAv2がリクエストを自動的にグループ化するためです。これも、優れた機能の更新です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
複数のヒットを1つのリクエストにまとめることで、ブラウザのリソースが他の目的で節約されます。遅延は、ページビューとともに他のヒットが送信されるのをブラウザが待機していることが原因です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初のイベントタグを作成する前に、拡張測定がどのように機能するかを確認してください。まず、現在のページの最後までスクロールし、Googleアナリティクスに送信されたイベントを確認します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6g/cv/uy/6gcvuyafq8jicmqyvmiupnlcpoa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、あなたのサイトからつながるリンクをクリックします（CTRL / CMD +クリックして新しいタブで開きます）。</font><font style="vertical-align: inherit;">オプションを見てください。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gp/h1/_i/gph1_iunj1kbcqrp3ruvcx3fote.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後に、enablejsapi = 1でYouTubeがサイトに埋め込まれている場合は、自動ビデオ追跡を確認してください！</font></font><br>
<br>
<img src="https://habrastorage.org/webt/it/9k/hd/it9khdbigieyah5sja-l1x7hy34.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それはすべて信じられないほどクールですが、拡張測定を微調整するためのいくつかのコントロールが得られることを願っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
では、独自のイベントタグを作成しましょう。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントタグを作成する</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
gtag.jsおよびFirebaseイベントの使用と同様に機能します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、自動的に収集されたイベント、推奨イベント、およびユーザーイベントの組み合わせがあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいイベントを作成するときは、まず、イベントがまだ自動的に収集されていないことを確認してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、カスタムイベントの代わりに使用できる推奨イベント構造があるかどうかを確認します。適切な推奨イベントが見つかった場合は、イベントタグを設定するときに、推奨されるイベント名とパラメーターを使用してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで、必要に応じて、完全に任意のイベントパラメータを含む完全に構成されたイベント名を送信できます。ユーザーインターフェイスでレポート用に定義できるカスタムプロパティの数には厳格な制限があるため、レポートユーザーインターフェイスでは柔軟性が失われることに注意してください。</font><b><font style="vertical-align: inherit;">簡単なカスタムイベント</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
から始めましょう</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">
新しいGoogle Analytics：App + Web Event tegを作成し、次のように入力します。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/vo/sw/xg/voswxgm0yjxlmcu0j7bi7jhs9hq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
構成タグを前のセクションで作成した値に設定します。</font><font style="vertical-align: inherit;">これは、Googleアナリティクスの設定変数と同様に機能します。トラッカー設定を1回だけ構成する必要があるため、その後、構成タグを使用するすべてのタグに適用されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントに任意の名前を付けます（つまり、自動的に収集されるイベントや推奨されるイベントではありません）。</font><font style="vertical-align: inherit;">この場合、</font></font><code>data_loaded</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">イベントの名前として</font><font style="vertical-align: inherit;">使用</font><font style="vertical-align: inherit;">します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、いくつかのパラメーターを追加します。</font></font><br>
<br>
<ul>
<li> <code>all_data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> trueに設定されているカスタムテキストパラメータです。</font></font></li>
<li> <code>debug_mode</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -これは、タグにインストールされると、レポートのDebugView UIストリームにヒットを表示するパラメーターです（これについては、以下で詳しく説明します）。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ボックスをオンにして[ウィンドウが読み込まれました]ラジオボタンを起動し、プレビューモードを更新して、コンテナをウェブサイトにアップロードします。へのネットワーク要求を確認してください</font></font><code>/collect</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ページをロードすると、2つのヒットが1つに結合された1つのリクエストが表示されます（バッチモード）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w7/hy/rh/w7hyrhclui132v52ceu_45zfs8c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ご覧のとおり、1行目にヒットがあり</font></font><code>page_view</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、2行目にカスタムイベントがあり</font></font><code>data_loaded</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、Google AnalyticsレポートUIに移動し、レポートナビゲーターでDebugViewを選択します。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以下のデータを解釈する方法を理解するには、Kristaの優れたストリーミングレポートの記事を必ずお読みください。詳細については、Firebase DebugViewのドキュメントもご覧ください。</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画面上部のデバッグデバイスセレクターで、現在デバッグヒットをGAに送信しているデバイス（ブラウザーインスタンスなど）の数を確認できます。セレクタを使用して、最近イベントを送信したデバイスが見つかるまで、リストされたデバイスをスクロールします</font></font><code>data_loaded</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">このデバッグデバイスセレクターは現在使用できません。近い将来、デバッグデバイスを見つけやすくなることを願っています。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
イベントが見つかっ</font></font><code>data_loaded</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たら、DebugViewに含まれる他のヒットを確認できます。これは、パッケージにhit以外のヒットが含まれている場合</font></font><code>data_loaded</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、それらもDebugViewに自動的にリストされるためです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oy/-g/i-/oy-gi-5w_os53sp1o3byjbiwuv0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イベントのパラメーターをクリックする</font></font><code>data_loaded</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と、ヒットとともにGoogleアナリティクスに送信される情報の種類を確認</font><font style="vertical-align: inherit;">できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
終了する前に、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">おすすめのイベントも</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">送信してみましょう</font><font style="vertical-align: inherit;">。サイト検索をシミュレートする検索イベントを送信します。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">イベントの推奨リストの</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
手順</font><font style="vertical-align: inherit;">を見ると、イベント検索の名前が検索であり、1つのパラメーターを使用して</font><font style="vertical-align: inherit;">いる</font><font style="vertical-align: inherit;">ことがわかります</font><font style="vertical-align: inherit;">。それでは、新しいイベントタグを作成して、これらの値を入力してみましょう！タグは次のようになります。</font><font style="vertical-align: inherit;">
ご覧のとおり、イベントパラメータに検索ワードをハードコーディングしました。</font><b><font style="vertical-align: inherit;">カスタムイベントトリガーが</font></b><font style="vertical-align: inherit;">イベント名に設定され</font><font style="vertical-align: inherit;">たタグを実行してい</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">
プレビューモードを更新して自分のウェブサイトをリロードした後、簡単な方法でイベントを発生させることができます</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><code>search_term</code><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/us/h_/wb/ush_wbm2mzugcdl-nnr3bt21ypy.jpeg"><br>
<br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><code>search</code><font style="vertical-align: inherit;"></font><br>
 <br><font style="vertical-align: inherit;"></font><code>window.dataLayer.push ({event: 'search'})</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ページのJavaScriptコンソールで実行されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DebugViewで、イベントがログに記録されていることがわかります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ks/mz/gi/ksmzgix7vgnvrgfo_ky3v3r4nb0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして...それだけです。</font><font style="vertical-align: inherit;">このイベントとユーザーイベントを区別するものはありません。</font><font style="vertical-align: inherit;">Universal Analyticsのようなサイト検索データに一致するレポートはありません。</font><font style="vertical-align: inherit;">ある時点で、一部の検索イベントは独自のレポートに記録され、検索データは自動的に収集されたイベント</font></font><code>view_search_results</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（サイトでの検索に対応するクエリパラメータが記録されたページビュー）</font><font style="vertical-align: inherit;">と結合されると確信し</font><font style="vertical-align: inherit;">ています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">概要</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、新しいGoogleアナリティクスリソースを設定する方法を紹介したいと思います。選択した実装ツールとしてGoogleタグマネージャーを使用する場合のアプリ+ウェブです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
うまくいけば、私はこの機能がまだ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベータ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">テスト中であり、故に故意に完成されない</font><font style="vertical-align: inherit;">ことを明らかにし</font><font style="vertical-align: inherit;">ました。将来的には完全な機能を備えたプラットフォームでベータ版を終了するまで、新しい機能が徐々に導入されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このプラットフォームはユニバーサルアナリティクスに代わるものですか？まだわかりません。しかし、我慢しなければならない新しい見事な測定モデルがあるとき、ユニバーサルアナリティクスのサービスや機能の将来のリリースを正当化することは概念的に難しいでしょう。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">丁寧にプレゼントさせていただきます</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lインターネット上のFirebase。これは、かなり前にFirebase（およびFirebase Analytics）の使用を開始してから期待していたことです。ユーザーとイベントの測定モデルは、Googleアナリティクスで使用される高度に集約されたセッションモデルよりも優れていると思います。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、Googleアナリティクスで検討されているユースケースとアプリ+ウェブがユニバーサルアナリティクスのユースケースとどのように比較できるかを理解するために、精神的に実行する必要のあるコンテキスト切り替えの程度はまだ不明です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アプリケーションとWebサイト間の分析を組み合わせるこの新しい方法は無視できないほど興味深いので、Firebaseのコンテンツを作成するためにより多くのリソースを割くつもりです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コメントでGoogle Analytics：App + Webについて説明しましょう。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ベータ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">製品。</font><font style="vertical-align: inherit;">ベータ版の目的は、コミュニティからのフィードバック。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja463125/index.html">写真のOOP</a></li>
<li><a href="../ja463127/index.html">UPSモニタリング。パート2-分析の自動化</a></li>
<li><a href="../ja463135/index.html">2019年にIT企業を登録することが収益を上げているのはどの国ですか？</a></li>
<li><a href="../ja463137/index.html">あなたがゲームデザイナーになりたいとしても、誰もあなたに方法を教えることはありません</a></li>
<li><a href="../ja463141/index.html">Habr Weekly＃13 /出会い系サービスのユーザー150万人の脅威、メデューサの調査、ロシア人の大任</a></li>
<li><a href="../ja463147/index.html">ROSトロリーロボット。パート3.加速、カメラの変更、歩行の修正</a></li>
<li><a href="../ja463149/index.html">アランケイは古くて忘れられていたが重要なプログラミングの本を読むことを勧めます</a></li>
<li><a href="../ja463151/index.html">虫眼鏡の下のiOS 13</a></li>
<li><a href="../ja463155/index.html">ホワイトノイズは黒い四角を描画します。パート2.ソリューション</a></li>
<li><a href="../ja463157/index.html">I2CとSPIディスプレイを接続するESP32-CAMビデオストリーミングサーバー</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>