<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦈 👏🏽 🙆🏼 Apple Mac und ausgefallene Geräte. LTO, SAS, Fibre Channel, eSATA 🔰 💫 🤴🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel geht es darum, externe Geräte über SAS-, Fibre Channel (FC) - und eSATA-Schnittstellen mit dem Mac zu verbinden. Machen Sie sofort e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Apple Mac und ausgefallene Geräte. LTO, SAS, Fibre Channel, eSATA</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503178/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In diesem Artikel geht es darum, externe Geräte über SAS-, Fibre Channel (FC) - und eSATA-Schnittstellen mit dem Mac zu verbinden. Machen Sie sofort eine Reservierung, dass es zur Lösung des Problems des Zugriffs auf solche Geräte einen gesunden Menschen gibt: Sie können einen billigen PC zusammenbauen, eine HBA SAS- oder FC-Controllerkarte dort anbringen (z. B. den einfachsten LSI-Adapter), Ihre Geräte an diesen Controller anschließen, Linux auf dem PC installieren und arbeiten vom Mac über das Netzwerk. Aber es ist banal und uninteressant. Wir werden den Weg des Hardcore gehen und unsere Geräte </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">direkt</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> an den Mac anschließen.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was wir dafür brauchen: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- eine anständige Menge Geld, um neue Geräte zu kaufen, oder viel Glück bei Auktionen bei eBay (wo Sie mit ein wenig Aufwand die erforderlichen Geräte früherer Generationen zehnmal billiger als die Preisliste kaufen können); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Dieser Beitrag.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um mit Magnetbändern arbeiten zu können (derzeit fast überall im LTO-Format dargestellt), benötigen Sie ein Bandlaufwerk (Bandlaufwerk) oder eine Bandbibliothek des LTO-Standards. Dies ist ein ziemlich teures Gerät für den ersten Kauf (aus Hunderttausenden von Rubel), aber das vernünftige Geld wert, wenn Sie ein gebrauchtes kaufen. Da sich die LTO-Generationen ungefähr alle zwei Jahre ändern und die Kompatibilität auf zwei Generationen beschränkt ist, ist der Sekundärmarkt mit betriebsfähigen Geräten von vier Jahren oder mehr ausreichend gesättigt, d. H. das vorletzte Jahr und darüber hinaus. Wenn Sie ein neues Gerät für kommerzielle Zwecke kaufen, verstehen Sie selbst, warum Sie es benötigen. Wenn Sie für zu Hause und für die Familie kaufen möchten, können Sie diese Option als Archivierungsmethode für Informationen in Betracht ziehen (da die Medien selbst pro 1 Gigabyte sehr günstig sind).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ab der LTO-5-Generation (und teilweise LTO-4) werden Magnetbandgeräte über eine SAS- oder FC-Schnittstelle mit dem Computer verbunden (normalerweise gibt es zwei Versionen jedes Geräts). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apple stellt uns dies jedoch freundlicherweise auf unserem Mac zur Verfügung USB-C-Schnittstelle (funktioniert über USB-, Thunderbolt 3- oder DisplayPort-Protokolle), manchmal eine Ethernet-Schnittstelle sowie proprietäre Thunderbolt 3-Adapter - Thunderbolt 2 und Thunderbolt - FireWire 800. Eine </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hoffnungslose Situation? Nicht wirklich. Glücklicherweise kann der Thunderbolt-Bus im PCIe-Modus betrieben werden und bietet die Möglichkeit, PCIe-Karten so anzuschließen, als ob sie direkt im Computergehäuse installiert wären. Aus diesem Grund sind Erweiterungen der Mac-Hardwarekonfiguration möglich, es wären ein entsprechender Adapter und Treiber vorhanden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die konzeptionell einfachste Möglichkeit, das Problem zu lösen, besteht darin, eine externe Box für PCIe-Adapter mit Thunderbolt-Schnittstelle (PCIe-Kartenerweiterungssystem) zu verwenden, in der Sie einen Controller (Host-Busadapter, HBA) SAS oder FC installieren können. Beispielsweise werden solche Boxen von </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonnet</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und mehreren anderen hergestellt. Es gibt eine Nuance: Nicht jeder Controller ist für uns geeignet, sondern nur ein Treiber für macOS. Es gibt nur wenige solcher Boards, und die billigsten und beliebtesten (zum Beispiel das gleiche LSI) sind nicht in ihrer Anzahl enthalten. Glücklicherweise hatte Sonnet Probleme, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eine</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> PCIe-Kartenkompatibilitätstabelle für verschiedene Betriebssysteme über die Thunderbolt-Schnittstelle zu erstellen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eine andere Lösung besteht darin, einen vorgefertigten Konverter für den Thunderbolt-SAS- oder Thunderbolt-FC-Schnittstellenkonverter zu erwerben, bei dem es sich im Wesentlichen um eine vorgefertigte Baugruppe aus der Box und der Steuerung handelt. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ATTO ist</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in diesem Bereich am bekanntesten </font><font style="vertical-align: inherit;">, aber es werden auch Produkte von anderen Unternehmen gefunden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beachten Sie, dass nicht alle SAS- und FC-Controller für die Einhaltung des LTO-Standards zertifiziert sind, da dies allein Geld kostet. Einige Hersteller schreiben direkt, dass der Betrieb ihrer Controller mit Bandlaufwerken nicht vorgesehen ist. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um das Bild zu vervollständigen, stellen wir fest, dass die Firma mLogic ein </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gerät herstellt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies ist ein IBM LTO-8-Laufwerk in einem externen Gehäuse, in das der Konverter von SAS zu Thunderbolt 3 sofort integriert ist. Dies ist jedoch noch exotischer als alle oben genannten, insbesondere nach den Standards unserer Region. Ich bezweifle, dass dieses Gerät sogar legal nach Russland importiert werden kann (LTO-Laufwerke enthalten kryptografische Tools, und Hersteller wie IBM und HP erhalten aus diesem Grund die FSB-Importgenehmigung für jedes Modell). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ferner werden wir zum Beispiel einen bestimmten Satz von Geräten betrachten, dessen Eigentümer der Autor infolge mehrerer erfolgreicher Akquisitionen wurde, aber das allgemeine Prinzip sollte für alle Optionen beibehalten werden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben also folgende Ausrüstung für die Arbeit mit Klebeband:</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Apple Mac mini 2018 Computer mit macOS 10.15 Catalina, der USB-C-Anschlüsse mit Unterstützung für Thunderbolt 3 hat; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Apple Thunderbolt 3 / Thunderbolt 2 Adapter; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Apple Thunderbolt 2-Kabel; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- ATTO ThunderLink SH 1068 Schnittstellenkonverter (2 * Thunderbolt / 2 * SAS-2); </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- SAS-Kabel SFF-8088 - SFF-8088; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- Bandlaufwerk LTO-5 IBM TS2350; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
- LTO-5-Patronen, Reinigungspatrone. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt, wie sie sagen, werden wir mit all dem Müll versuchen, uns zu entfernen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Laden Sie die neueste Version des ThunderLink SH 1068-Treibers von der ATTO-Website herunter (anscheinend wird er zur Vereinfachung mit dem SH 2068-Treiber kombiniert und befindet sich in Abschnitt 2068, der nur im Treiberarchiv selbst geschrieben ist) und dem ATTO-Konfigurationsdienstprogramm.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/7b8/7a2/a61/7b87a2a613e003ad3929a7fe456145f4.gif" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Treiber muss natürlich installiert sein. </font><font style="vertical-align: inherit;">Vor solchen Aktionen empfiehlt der Autor, mit dem Befehl immer einen Snapshot des APFS-Dateisystems der Startdiskette zu erstellen</font></font><br>
<br>
<pre><code class="bash hljs">tmutil localsnapshot</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oder eine Sicherungskopie der Startdiskette, wenn HFS + vorhanden ist. </font><font style="vertical-align: inherit;">Du weißt nie was. </font><font style="vertical-align: inherit;">Dann ist es einfach, von einem Schnappschuss zurückzusetzen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Darüber hinaus ist der Verstand unerfahren, aber mit der gebotenen Sorgfalt geneigt, die ATTO-Anweisungen zur Installation des Treibers sorgfältig zu lesen und auszuführen. </font><font style="vertical-align: inherit;">Das Ergebnis ist Tadam! </font><font style="vertical-align: inherit;">- Wir lassen das Betriebssystem beim Booten hängen. </font><font style="vertical-align: inherit;">Hier können wir einen Snapshot verwenden, den Sie wiederherstellen können, indem Sie Time machine von der Wiederherstellungspartition aufrufen, oder Sie können einen kranken Text aus dem Kernel-Erweiterungskatalog manuell von derselben Wiederherstellungspartition löschen (der Autor empfiehlt dies im Allgemeinen nicht).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Warum passiert es? </font><font style="vertical-align: inherit;">Weil Apple sich um uns gekümmert hat. </font><font style="vertical-align: inherit;">In neueren Versionen von macOS ist es nicht einfach, fremden Code in den Startvorgang aufzunehmen und einzubetten. </font><font style="vertical-align: inherit;">Gute Apple-Programmierer haben solch destruktives Verhalten blockiert. </font><font style="vertical-align: inherit;">Genauer gesagt, sie haben es um die Hälfte blockiert, wenn die Fahrerwartezeit eingeführt wird, aber der Fahrer selbst nicht, also hängt einfach alles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was sollte ein erfahrener Kopf tun, bevor er einen Treiber installiert? </font><font style="vertical-align: inherit;">Geben Sie zunächst den Befehl ein:</font></font><br>
<br>
<pre><code class="bash hljs">csrutil status</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn wir darauf antworten:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Status des Systemintegritätsschutzes: aktiviert.</font></font></blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies bedeutet, dass gute Apple-Programmierer sich um uns kümmern, sodass nichts von uns kommt, bis wir ihren wunderbaren Schutz ausschalten. </font><font style="vertical-align: inherit;">Dazu starten wir die Wiederherstellungspartition (⌘R) neu, rufen das Terminal auf und geben den folgenden Befehl ein:</font></font><br>
<br>
<pre><code class="bash hljs">csrutil <span class="hljs-built_in">disable</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Danach starten wir das funktionierende System neu und installieren dann den Treiber und gleichzeitig das ATTO-Konfigurationsdienstprogramm (im Prinzip wird das Konfigurationsdienstprogramm nur für die Diagnose benötigt und ist während des normalen Betriebs nicht erforderlich). Auf Anfrage bestätigen wir dabei die ATTO-Autorisierung in den Systemeinstellungen. Nach der Installation können Sie die Wiederherstellungspartition erneut starten und den Befehl eingeben</font></font><br>
<br>
<pre><code class="bash hljs">csrutil <span class="hljs-built_in">enable</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apple kümmert sich wieder um uns. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt haben wir eine treiberunterstützte Schnittstelle zu externen SAS-Geräten (oder FC, wenn FC-Konverter verwendet wurde). Aber wie arbeitet man mit dem Band auf einer logischen Ebene? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie einem unerfahrenen, aber gelehrten Verstand bekannt ist, unterstützt jedes Unix-kompatible System Bandlaufwerke auf Kernelebene und die wichtigsten Systemdienstprogramme, zu denen hauptsächlich mt (Bandverwaltung) und tar (ein Archivierer, der die Arbeit mit Bandarchiven unterstützt) gehören. . Was wird der hoch entwickelte Verstand jedoch spezifizieren? Jedes Unix-kompatible System </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">außer macOS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Apple machte sich Sorgen um uns, indem es die Unterstützung für Bandgeräte aus seinem Code entfernte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber ist es wirklich unmöglich, diesen Code zurückzugeben, indem die Standard-Open-Source-Open-Source-Dienstprogramme auf macOS portiert werden? Die gute Nachricht ist, dass Tolis dies bereits in seinem Produkt Tolis Tape Tools getan hat (ein Link, den ich nicht zur Verfügung stelle). Die schlechte Nachricht ist, dass das Unternehmen die Verwendung der Ergebnisse seiner Arbeit auf 399 US-Dollar schätzt. Schätzungen dieser Tatsache mögen unterschiedlich sein, aber der Autor persönlich ist nicht bereit, jemandem 400 Dollar für einen Code zu zahlen, der größtenteils von völlig anderen Personen geschrieben und seit den 1970er Jahren offen verwendet wird. Daher ist dieses Problem für den Autor bestimmt hält geschlossen. (Übrigens gibt es ein kostenloses </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IOSCSITape-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Projekt </font><font style="vertical-align: inherit;">zum gleichen Thema </font><font style="vertical-align: inherit;">auf dem Github in einem vagen Zustand </font><font style="vertical-align: inherit;">).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Glücklicherweise gibt es ein IBM-Unternehmen auf der Welt, dessen kommerzieller Appetit völlig anders ist und daher nicht in jeder Kleinigkeit vorkommt. Insbesondere entwickelte sie das Open-Source-LTFS-Banddateisystem, das auch für macOS vertrieben wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt eine Nuance darin, dass verschiedene Hersteller von Bandgeräten ihre eigenen Versionen von LTFS veröffentlichen, die ihre Geräte unterstützen. Da der Autor das IBM Bandlaufwerk verwendet, wurde LTFS auch von IBM installiert. Laufwerke von Drittanbietern benötigen möglicherweise eigene LTFS-Ports. Und es gibt eine universelle openLTFS-Implementierung für Github und Homebrew.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für uns ist es wichtig, dass LTFS die Medienpartitionsfunktion verwendet und daher ab der LTO-5-Generation mit Geräten und Kassetten arbeiten kann. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In unserem Fall laden wir das Produkt IBM Spectrum Archive Single Drive Edition für macOS von der IBM Website herunter, die nur die LTFS-Implementierung enthält. </font><font style="vertical-align: inherit;">Ohne Abenteuer installieren wir das Produkt mit unserem eigenen Installer. </font><font style="vertical-align: inherit;">Dabei installiert er auch das FUSE-Paket, während Sie in den Systemeinstellungen die Autorisierung eines intelligenten Programmierers namens Anatol Pomozov bestätigen müssen, von dem in diesem Fall die gesamte IBM abhängt. </font><font style="vertical-align: inherit;">Respekt und Respekt für diese Person. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist ratsam, sofort die folgende Zeile zu schreiben: /Library/Frameworks/LTFS.framework/Versions/Current/etc/ltfs.conf.local:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option Single-Drive Sync_Type = Zeit @ 1</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Festlegen der Montage des Bandes standardmäßig mit dem Zurücksetzen des Aufzeichnungspuffers nach 1 Minute Inaktivität (Standard 5 Minuten). </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/47b/ac4/46a/47bac446a112a11830c3df9ea44dbad1.jpg" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Endlich ist alles bereit zum Verbinden. </font><font style="vertical-align: inherit;">Wir verbinden die Kette: Mac - T3 / T2 Adapter - Thunderbolt Kabel - ATTO Konverter - SAS Kabel - Bandlaufwerk (die Auswahl mehrerer Ports am Mac, am Konverter und am Laufwerk ist unwichtig). </font><font style="vertical-align: inherit;">Schalten Sie den Konverter ein. </font><font style="vertical-align: inherit;">Schalten Sie das Bandlaufwerk ein. </font><font style="vertical-align: inherit;">Wir warten auf die Initialisierung des Laufwerks anhand seiner Anzeige. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir geben den Befehl:</font></font><br>
<br>
<pre><code class="bash hljs">ltfs -o device_list</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hurra! </font><font style="vertical-align: inherit;">Wir erhalten (in der für IBM üblichen diagnostischen Weise):</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">307 LTFS14000I LTFS wird gestartet, LTFS Version 2.4.2.0 (10418), Protokollebene 2. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14058I LTFS-Formatspezifikation Version 2.4.0. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14104I Wird von "ltfs -o device_list" gestartet. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14105I Diese Binärdatei wurde für Mac OS X entwickelt. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS14106I Die GCC-Version ist 4.2.1-kompatibel mit Apple Clang 4.1 ((tags / Apple / clang-421.11.66)). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS17087I Kernel-Version: Darwin Kernel-Version 19.4.0: Mi Mar 4 22:28:40 PST 2020; </font><font style="vertical-align: inherit;">root: xnu-6153.101.6 ~ 15 / RELEASE_X86_64. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
307 LTFS17085I Plugin: Laden des "iokit" -Band-Backends. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bandgeräteliste :. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gerätename = 0, Lieferanten-ID = IBM, Produkt-ID = ULT3580-TD5, Seriennummer = **********, Produktname = [ULT3580-TD5].</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir legen die Patrone ein, warten auf den Download und formatieren:</font></font><br>
<br>
<pre><code class="bash hljs">mkltfs -d 0 -nTest -r <span class="hljs-string">"size=10M/name=.DS_Store"</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hier gibt der Parameter -d die Nummer des Laufwerks an (immer Null, wenn es das einzige ist, aber in diesem Befehl nicht weggelassen werden kann), -n ist der Name des Bandes (Sie können es weglassen), und der Parameter -r erfordert, dass der Inhalt der .DS_Store-Dateien nicht überschritten wird 10 Megabyte im Indexabschnitt (d. H. Für Verzeichnisse vorgesehen) des Bandes anstelle des Datenabschnitts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das mysteriöse Leben im Bandlaufwerk ist vorbei. Wir warten ein paar Minuten, wir bekommen die Antwort:</font></font><br>
<br>
<blockquote>LTFS15000I Starting mkltfs, LTFS version 2.4.2.0 (10418), log level 2.<br>
LTFS15041I Launched by «mkltfs -d 0 -nTest -r size=10M/name=.DS_Store».<br>
LTFS15042I This binary is built for Mac OS X.<br>
LTFS15043I GCC version is 4.2.1 Compatible Apple Clang 4.1 ((tags/Apple/clang-421.11.66)).<br>
LTFS17087I Kernel version: Darwin Kernel Version 19.4.0: Wed Mar 4 22:28:40 PST 2020; root:xnu-6153.101.6~15/RELEASE_X86_64.<br>
LTFS15003I Formatting device '0'.<br>
LTFS15004I LTFS volume blocksize: 524288.<br>
LTFS15005I Index partition placement policy: size=10M/name=.DS_Store.<br>
<br>
LTFS11337I Update index-dirty flag (1) — NO_BARCODE (0x0x1021081e0).<br>
LTFS17085I Plugin: Loading «iokit» tape backend.<br>
LTFS30810I Opening a device through iokit driver (0).<br>
LTFS30814I Vendor ID is IBM.<br>
LTFS30815I Product ID is 'ULT3580-TD5 '.<br>
LTFS30816I Firmware revision is H976.<br>
LTFS30817I Drive serial is **********.<br>
LTFS17160I Maximum device block size is 1048576.<br>
LTFS11330I Loading cartridge.<br>
LTFS30854I Logical block protection is disabled.<br>
LTFS11332I Load successful.<br>
LTFS17157I Changing the drive setting to write-anywhere mode.<br>
LTFS15049I Checking the medium (mount).<br>
LTFS30854I Logical block protection is disabled.<br>
LTFS15010I Creating data partition b on SCSI partition 1.<br>
LTFS15011I Creating index partition a on SCSI partition 0.<br>
LTFS17165I Resetting the medium's capacity proportion.<br>
LTFS11097I Partitioning the medium.<br>
LTFS11100I Writing label to partition b.<br>
LTFS11278I Writing index to partition b.<br>
LTFS30808I READ_ATTR (0x8c) returns -20501.<br>
LTFS30865I READ_ATTR returns Invalid Field in CDB (-20501) 0.<br>
LTFS30836I Cannot read attribute (-20501).<br>
LTFS11336I The attribute does not exist. Ignore the expected error.<br>
LTFS17235I Writing index of NO_BARCODE to b (Reason: Format, 0 files) **********.<br>
LTFS17236I Wrote index of NO_BARCODE (b, **********).<br>
LTFS11337I Update index-dirty flag (0) — NO_BARCODE (0x0x1021081e0).<br>
LTFS11100I Writing label to partition a.<br>
LTFS11278I Writing index to partition a.<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30808I READ_ATTR (0x8c) gibt -20501 zurück. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30865I READ_ATTR gibt ein ungültiges Feld in CDB (-20501) 0 zurück. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30836I Attribut (-20501) kann nicht gelesen werden. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS11336I Das Attribut existiert nicht. </font><font style="vertical-align: inherit;">Ignorieren Sie den erwarteten Fehler. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS17235I Index von NO_BARCODE in a schreiben (Grund: Format, 0 Dateien) 9068025555. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS17236I Index von NO_BARCODE (a, **********) geschrieben. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die UFS-ID des LTFS15013I lautet: 3802a70d-bd9f-47a6-a999-eb74ffa67fc1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS15019I Die Volumenkapazität beträgt 1425 GB. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS30854I Der logische Blockschutz ist deaktiviert. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTFS15024I Medium erfolgreich formatiert.</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Legen Sie das formatierte Band ein:</font></font><br>
<br>
<pre><code class="bash hljs">sudo mkdir /Volumes/LTFS<font></font>
sudo chmod 777 /Volumes/LTFS/<font></font>
sudo ltfs /Volumes/LTFS</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir haben noch ein paar Minuten Antriebsbetrieb, Diagnose:</font></font><br>
<br>
<blockquote>307 LTFS14000I LTFS starting, LTFS version 2.4.2.0 (10418), log level 2.<br>
307 LTFS14058I LTFS Format Specification version 2.4.0.<br>
307 LTFS14104I Launched by «ltfs /Volumes/LTFS/».<br>
307 LTFS14105I This binary is built for Mac OS X.<br>
307 LTFS14106I GCC version is 4.2.1 Compatible Apple Clang 4.1 ((tags/Apple/clang-421.11.66)).<br>
307 LTFS17087I Kernel version: Darwin Kernel Version 19.4.0: Wed Mar 4 22:28:40 PST 2020; root:xnu-6153.101.6~15/RELEASE_X86_64.<br>
307 LTFS14063I Sync type is «time», Sync time is 60 sec.<br>
307 LTFS17085I Plugin: Loading «iokit» tape backend.<br>
307 LTFS17085I Plugin: Loading «unified» iosched backend.<br>
307 LTFS14095I Set the tape device write-anywhere mode to avoid cartridge ejection.<br>
307 LTFS30810I Opening a device through iokit driver (0).<br>
307 LTFS30814I Vendor ID is IBM.<br>
307 LTFS30815I Product ID is 'ULT3580-TD5 '.<br>
307 LTFS30816I Firmware revision is H976.<br>
307 LTFS30817I Drive serial is **********.<br>
307 LTFS17160I Maximum device block size is 1048576.<br>
307 LTFS11330I Loading cartridge.<br>
307 LTFS30854I Logical block protection is disabled.<br>
307 LTFS11332I Load successful.<br>
307 LTFS17157I Changing the drive setting to write-anywhere mode.<br>
307 LTFS11005I Mounting the volume.<br>
307 LTFS30854I Logical block protection is disabled.<br>
307 LTFS17227I Tape attribute: Vendor = IBM.<br>
307 LTFS17227I Tape attribute: Application Name = LTFS.<br>
307 LTFS17227I Tape attribute: Application Version = 2.4.2.0.<br>
307 LTFS17227I Tape attribute: Medium Label =.<br>
307 LTFS17228I Tape attribute: Text Localization ID = 0x81.<br>
307 LTFS17227I Tape attribute: Barcode =.<br>
307 LTFS17227I Tape attribute: Application Format Version = 2.4.0.<br>
307 LTFS17228I Tape attribute: Volume Lock Status = 0x00.<br>
307 LTFS17227I Tape attribute: Media Pool name =.<br>
307 LTFS14111I Initial setup completed successfully.<br>
307 LTFS14112I Invoke 'mount' command to check the result of final setup.<br>
307 LTFS14113I Specified mount point is listed if succeeded.<br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier ist sie, unser Band auf dem Desktop namens Test (ltfs)! Das namenlose Band erhält den Namen OSXFUSE Volume 0 (ltfs). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt kannst du mit ihr arbeiten. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/06f/956/191/06f9561919067fcc4c631f390c8b4d1e.png" alt="Bild"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich sollten Sie bedenken, dass es ratsam ist, die Anzeige des Inhalts der Bandverzeichnisse in den Fenstern des Finders nicht zu missbrauchen, da dies für LTFS ein unglaublich teurer Vorgang ist. Es ist jedoch besser, mit Terminalbefehlen zu arbeiten oder das Sicherungsverzeichnis wie gezeigt in großen Mengen auf das Band zu übertragen im Fenster oben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Übrigens gibt es ein speziell geschriebenes IBM Dienstprogramm ltfs_copy und seine Klone, die für ein effizienteres Kopieren zwischen Band und Festplatte entwickelt wurden. Bisher konnte der Autor sie jedoch bei der Oberflächensuche nicht öffentlich finden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie können das Band mit dem folgenden Befehl aushängen:</font></font><br>
<br>
<pre><code class="bash hljs">umount /Volumes/LTFS</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
oder werfen Sie es einfach in den Korb. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich gibt es in der Natur eine Art Grafik-Shells für macOS, um diese Aktionen zu erleichtern. Haben wir nach solchen Perversionen Angst, ein paar Zeilen in das Terminal einzugeben? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Als Nebeneffekt erhalten wir die Möglichkeit, externe eSATA-Laufwerke über ein SAS / 4 * eSATA-Kabel anzuschließen.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f6f/47b/ca9/f6f47bca9d7ea9928136b4757bab2c0f.jpg" alt="Bild"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de503156/index.html">Die russischen Bahnhöfe können mit russischen Wärmebildkameras ausgestattet werden, die äußerlich den chinesischen sehr ähnlich sind</a></li>
<li><a href="../de503158/index.html">Künstliche Intelligenz malt ein Bild für sich, wirklich für sich - ohne aus Beispielen anderer Gemälde zu lernen</a></li>
<li><a href="../de503164/index.html">Glücksspielwerbung: Google Policy Brief</a></li>
<li><a href="../de503172/index.html">C #: Einführung in Quellcode-Generatoren</a></li>
<li><a href="../de503176/index.html">Implementierung eines Algorithmus zur Bestimmung der Breite eines Objekts mit einem Ultraschall-Entfernungsmesser und Encodern in RobotC-Sprache</a></li>
<li><a href="../de503182/index.html">"Ich bin der erste blinde Entwickler in meinem Unternehmen." Teil 1</a></li>
<li><a href="../de503184/index.html">Wir laden Sie zum Online-Meeting Zabbix ein</a></li>
<li><a href="../de503192/index.html">OVirt in 2 Stunden. Teil 4. Grundlegende Operationen</a></li>
<li><a href="../de503194/index.html">ISA vergibt keine Fehler</a></li>
<li><a href="../de503196/index.html">450 kostenlose Kurse aus der Ivy League</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>