<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👩‍👦‍👦 🉑 ✖️ Mikrosha Capítulo uno. Controlador de tarjeta SD 👩‍🎓 🤲🏿 😴</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Mucha gente recuerda esta maravillosa PC. Obtuve esto cuando tenía 11 años. Tomó 28 años y ahora decidí hacer dispositivos de expansión, lo que realme...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mikrosha Capítulo uno. Controlador de tarjeta SD</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500816/"><img src="https://habrastorage.org/getpro/habr/post_images/4e4/843/62d/4e484362df0eacd9d8d9a7444c4a6c64.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mucha gente recuerda esta maravillosa PC. </font><font style="vertical-align: inherit;">Obtuve esto cuando tenía 11 años. Tomó 28 años y ahora decidí hacer dispositivos de expansión, lo que realmente me faltaba como hobby.</font></font><br>
<a name="habracut"></a><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idea</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la red, vi varias opciones para los descargadores de SD para tales PC, no me gustó la presencia de microcontroladores en ellos, quería usar un circuito "DIP cálido y antiguo", por lo que decidí usar "KR1533" en la lógica doméstica. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como un complemento. </font><font style="vertical-align: inherit;">RAM apliqué UT62256. </font><font style="vertical-align: inherit;">Este es el único chip importado en el proyecto. </font><font style="vertical-align: inherit;">Por supuesto, fue posible instalar KP537RU10 o KP537RU25A, pero en primer lugar, habrían tenido que instalarse no uno sino dos (planeé 4 KB de RAM adicional), y en segundo lugar tenía UT62256, pero no tenía KR537 y no tenía que pedir Quería. </font><font style="vertical-align: inherit;">Por lo tanto, me permití la libertad de importar, y luego surgió la idea de usar todos los 32kB de RAM adicional, con cambio de página. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bs/hq/ho/bshqhoyuqbckntjlxyd73v88gb8.jpeg"> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para la ROM elegí KR573RF5, solo había dos limpias.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Diagrama de flujo</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Después de sentarme sobre una taza de té, dibujé un diagrama de bloques. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e40/650/c2d/e40650c2d607251445e4774ab7f524ed.jpg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aquí está el chip RAM, el chip ROM y el bloque PORT. El bloque PORT tiene una interfaz paralela que tiene 8 entradas y 8 salidas. Al escribir en la dirección EFFF, el código escrito se establece en las salidas, y cuando se lee desde la misma dirección, el valor de lectura corresponde al estado de las entradas. Tres de las salidas y una de las entradas están conectadas a la tarjeta SD a través de un convertidor de nivel.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La RAM está representada por el chip UT62256 y tiene 32kB de memoria. Como el rango de direcciones E000-EFFE es de casi 4kB (4095 bytes), obtenemos 8 páginas que son seleccionadas por el bloque PORT, bits 1,2 y 3. Es decir, escribir en la dirección EFFF establece la página de acuerdo con estos tres bits. También leer desde este puerto muestra qué página está seleccionada actualmente (en los mismos bits). Total, tenemos 32760 bytes de RAM adicional (4095x8str). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El chip ROM es KR573RF5. Está conectado al espacio de direcciones F000-F7FF y contiene el código BSVV (BIOS), la tarea de este código es inicializar la tarjeta SD, cargar el sistema operativo y transferirle el control. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En consecuencia, después de encender la PC, escribimos el Monitor del sistema GF000 y presionamos VK.</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 En el futuro, existe la idea de modificar la ROM nativa del Monitor del sistema para iniciar automáticamente el sistema operativo desde la tarjeta SD, y la PC irá al indicador estándar del Monitor si la descarga falló o se interrumpió, por ejemplo, presionando alguna tecla. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lo pensaré de nuevo.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Esquema</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aproximadamente 2-3 horas en la computadora, y dibujé el siguiente diagrama en EAGLE. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/457/20c/399/45720c3997d2e7861a69285379e0d26f.jpg"><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zoom</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
que dibujé en base a los microcircuitos que tenía. </font><font style="vertical-align: inherit;">Es posible que la cantidad de chips lógicos se reduzca si se usan otras puertas, pero solo tuve una. </font><font style="vertical-align: inherit;">Y en el futuro, lo más probable es que optimice el circuito. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Análisis de circuitos de bajo nivel ...</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... eliminado bajo el spoiler, creo que pocas personas están interesadas en esta jungla.</font></font></b>
                        <div class="spoiler_text">     V3/1,     A14  A15  ,    N3   ,        .1.   V1/2      G,     IC2.    A  B,    A12  A13 . , ,        A14  A15,        A12  A13.      — 1110, <br>
  A15-1; A14-1; A13-1; A12-0.       N2.    ,        5  11,  - ,         ,            .  1   5,   2   11.   ,   1C ,   2C ,    .1     5,   .0 —  11.<br>
<br>
:       Exxx  =1,   «PORT»,        Exxx  C=0,   «RAM».<br>
<br>
 «C»      ,     (A0-A11).      xFFF,  =1,   =0. :  «PORT»   EFFF,   «RAM»  E000-EFFE.<br>
<br>
 «RAM»    CS  IC3,   ,  ,     E000-EFFE      .     E000-EFFE      .     EFFF      IC4,     .      «PORT»  «WR» c   V1/5, V1/6  V3/4.<br>
<br>
   EFFF       IC5,    <br>
   B0-B7. <br>
<br>
           .     « »   CS3      CS  . </div>
                    </div><br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ensamblaje de diseño</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora no tengo oportunidad de envenenar el tablero en casa, y yo, tomando un pedazo de PCB de doble cara recubierto de aluminio, corté el rectángulo necesario. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este rectángulo se insertó firmemente en la ranura de "interfaz interna" de la PC, no se colgó y no se movió. Luego, rasqué las almohadillas en la parte posterior y frontal. Resulto bastante bien. Luego, la disposición aproximada de los microcircuitos y el reconocimiento de los agujeros. En el lado frontal, lo perforé con un taladro grande para que los terminales de los microcircuitos no entren en contacto con la lámina frontal. En el reverso, rasqué el perímetro de cada fila de contacto y lo dividí en almohadillas de contacto.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El siguiente paso puse todos los microcircuitos (y el zócalo) y desapareció de la parte posterior. Me llevó mucho tiempo la instalación, que realicé con un MGTF delgado. Condujo el cableado en ambos lados, desde la parte delantera que soldaba directamente a las patas de los microcircuitos, desde la parte posterior a los sitios. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2a3/6b0/811/2a36b081191f9121d1c009aa800343d7.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cuando terminó el proceso de soldadura, decidí prestar atención al convertidor de nivel de señal. El hecho es que la tarjeta SD funciona con un voltaje de 3.3V, y los chips KR1533AP6 y KR1533IR22 TTL 5v. Por lo tanto, tuve que hacer una pequeña bufanda adaptadora, en la que los niveles se limitaban a diodos zener. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La señal proveniente de la tarjeta SD al controlador que acabo de extraer a la fuente 3.3v. Resistencia de 10k. Como la práctica ha demostrado, esta señal no necesita ser convertida. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/1a9/b60/a51/1a9b60a514daff10804816ab02db91f9.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aunque en la versión final probablemente haré un inversor basado en un comparador.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usé un adaptador de microSD a SD como soporte de la tarjeta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En general, no hubo problemas especiales al ensamblar el diseño, aunque temía que algunos de los microcircuitos pudieran estar funcionando mal.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pruebas de diseño</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, verifiqué el funcionamiento de la RAM, escribí los patrones "AA", "55", "F0" y "0F" en el área E000-EFFE utilizando la directiva del Monitor del sistema "F" y los verifiqué utilizando la directiva "D". </font><font style="vertical-align: inherit;">Todo resultó ser normal. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Luego, usando la directiva "M", comencé a escribir diferentes valores en la dirección EFFF y a observar los cambios en las patas del registro 153322 con un multímetro, los estados correspondían a los códigos grabados. </font><font style="vertical-align: inherit;">Además, al leer desde este puerto, el código contenía la página seleccionada, de acuerdo con el plan, e incluso cuando la señal MISO se cerró al suelo, el bit bajo resultó ser 0, y cuando se abrió 1. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Incluso era sospechoso que todos los microcircuitos funcionaran y la instalación fuera exitosa Sin errores.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BSVV</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Por supuesto, no tenía ninguna herramienta especial para escribir programas para 58080. </font><font style="vertical-align: inherit;">Tuve que escribir un programa en un cuaderno (bloc de notas), luego traducirlo a códigos manualmente. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Creó un archivo en el editor bajo DOS "HIEW" y comenzó a llenarlo con códigos. </font><font style="vertical-align: inherit;">Para lo básico, tomé mi proyecto bajo AVR, en el que había una inicialización estándar de la tarjeta SD. </font><font style="vertical-align: inherit;">El proyecto era antiguo y no utilizaba ningún sistema de archivos, solo un registrador. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primero escribí una función de bajo nivel de la interfaz de programación SPI, y luego una rutina de inicialización de tarjeta SD de alto nivel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Resultó algo así como este algoritmo ...</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... que se pone bajo el spoiler, creo que ya es conocido por todos.</font></font></b>
                        <div class="spoiler_text">1.    ()  90;<br>
2.  CS  .1   10  FF;<br>
3.  CS  .0;<br>
4.  CMD0;<br>
5.   01,    7;<br>
6.  .  =0,    ,    2;<br>
7.  CMD8;<br>
8.  ACMD41;<br>
9.   00,   11<br>
10.  .  =0,    ,    8;<br>
11.  CMD58.<br>
12.  2       EFFE.<br>
13.  .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 El registro de la tarjeta OCR también se leyó en la rutina de inicialización, y el segundo byte se escribió en la dirección EFFE. </font><font style="vertical-align: inherit;">Esto fue necesario para determinar el tipo de tarjeta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En el caso de SDSC - 80h, y en el caso de SDHC - C0h. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Si no se aprobó la inicialización, aparecerá el mensaje "ERROR DE TARJETA SD" y luego el monitor se apagó sin reiniciar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Convertí este BSVV en WAV y lo descargué a la PC a través de la entrada de cinta, luego lo depuré, corrigí el código fuente y lo descargué nuevamente.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puentes</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora tengo RAM adicional, 32,760 bytes de tamaño, dividida en 8 páginas. ¿Pero cómo navegar entre páginas? ¿Cómo puede un programa que se ejecuta en la primera página invocar una rutina ubicada en la cuarta? </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para resolver este problema, he proporcionado puentes de software. Un puente es un área pequeña en ROM que media la transferencia de control.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por ejemplo, el código de ejecución debe transferir el control a la página número 3, para direccionar E4B5. Luego, el código de ejecución coloca los 12 bits inferiores (4B5) en el par de registro del procesador HL, y en los cuatro bits superiores pone el valor 3: el número de página. Ahora en el par de registros HL se escribe el valor 34B5. Y el código salta (JMP) al área ROM, que se llama JMP-Bridge, solo va a una dirección fija en la ROM. El código en esta área extrae el número de página de los bits altos del par de registros HL y los escribe en el registro del bloque PORT en la dirección EFFF. La tercera página de RAM ahora se muestra en el área E000-EFFE. El programa JMP-Bridge restablece los cuatro bits altos del par de registros HL y escribe "E" allí. Ahora en el par de registros HL ya hay una dirección física E4B5, y aquí el programa JMP-Bridge le transfiere el control.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto transfiere el control entre páginas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay un CALL-Bridge, es necesario llamar a una subrutina con un retorno, y difiere de JMP-Bridge al guardar la página actual en la pila y el procedimiento inverso para el retorno. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Los siguientes dos puentes son STA-Bridge y LDA-Bridge. </font><font style="vertical-align: inherit;">Como sugieren los nombres, el primero escribe el registro de la batería en una dirección lógica (en HL), y el segundo lee los datos de la dirección lógica en este registro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gracias a estos dos puentes, un programa que se ejecuta desde una página puede almacenar datos en otra.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Carga del sistema operativo</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si observa el sector de inicio de la tarjeta SD, puede ver que el texto "Error de disco, presione cualquier tecla para reiniciar" se encuentra en las direcciones 1AC-1D4. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a56/a5a/a9b/a56a5aa9bd2e2f2a81499a567ad2da25.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sí, es tan extraño cómo se ve en la foto, porque la codificación de caracteres de Mikroshi no coincide con ASCII. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Decidí usar esta área para colocar los datos allí para descargar la PC. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En primer lugar, puse el código 00 en la posición 1BA, y así corté el récord. Ahora, solo se debe mostrar "Error de disco" y eso es todo. Los bytes restantes son míos. El principio es simple, la firma MicrOS de 6 bytes y la dirección de 4 bytes en la tarjeta SD del comienzo del archivo con el sistema operativo. En BSVV, escribí, después de recibir el sector de arranque de la tarjeta SD, se verifica la firma, y ​​si hay una, entonces tome los siguientes 4 bytes y úsela como la dirección del sector para cargar el sistema operativo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si no hay firma, se muestra el mensaje "ERROR DE DESCARGA DEL SO" y el Monitor del sistema se apaga sin reiniciar.</font></font><br>
<br>
<h1><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total</font></font></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y ahora, finalmente, todo funciona. </font><font style="vertical-align: inherit;">BSVV está escrito, pero aún necesito escribirlo en la ROM. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/49a/cb4/d36/49acb4d36b5b9709eba320cca18b1b39.jpg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y para esto, necesito editar todas las direcciones de llamadas y saltos de subrutina, ya que este procesador tiene direccionamiento absoluto. </font><font style="vertical-align: inherit;">Y escribí BSVV para la región 6000-67FF para cargar en RAM. </font><font style="vertical-align: inherit;">Pero ahora necesitamos cambiar todos los 6xxx a Fxxx. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Además, estoy en las condiciones "popanetsky". </font><font style="vertical-align: inherit;">Tengo un programador de ROM, pero es antiguo, bajo un puerto LPT. </font><font style="vertical-align: inherit;">Y no hay una sola computadora con LPT. </font><font style="vertical-align: inherit;">Pero hay un par de Atmega32A, en el paquete PDIP40 y una placa de pruebas. </font><font style="vertical-align: inherit;">Es posible que deba emular LPT con AVR. </font><font style="vertical-align: inherit;">Pero tal vez todo saldrá bien ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eso es todo por ahora. </font><font style="vertical-align: inherit;">¡Gracias por la atención! </font><font style="vertical-align: inherit;">Continuará…</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es500796/index.html">Qué analizar antes de diseñar una interfaz</a></li>
<li><a href="../es500798/index.html">Ahora sé que mi colega tiene python, o cómo nuestro equipo mantiene relaciones a distancia durante la distancia.</a></li>
<li><a href="../es500800/index.html">¿Por qué el software no siempre es una mercancía y dónde se beneficia la TI?</a></li>
<li><a href="../es500804/index.html">Debriefing al Audi A8</a></li>
<li><a href="../es500806/index.html">Escolta</a></li>
<li><a href="../es500818/index.html">Interfaces de neurocomputadora para juegos: lo que se conoce hoy</a></li>
<li><a href="../es500822/index.html">Кто похоронит современный веб?</a></li>
<li><a href="../es500824/index.html">¿Necesita narración de voz para videos sobre aplicaciones y servicios web?</a></li>
<li><a href="../es500834/index.html">Almacenamiento web</a></li>
<li><a href="../es500836/index.html">Qué sucede con el transporte el 7 de mayo: diferentes cuarentenas en diferentes regiones</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>