<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üåÇ üë®üèª‚Äçüíª üî∂ Comment faire bouger le robot avec pr√©cision? Pr√©sentation et fonctionnalit√©s de Studuino Platform Robotics üóÇÔ∏è üå≤ üë®‚Äçüë®‚Äçüëß‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="L'organisation dans laquelle je travaille a √©t√© invit√©e √† organiser un petit webinaire sur la robotique pour le Salon international de l'√©ducation 202...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment faire bouger le robot avec pr√©cision? Pr√©sentation et fonctionnalit√©s de Studuino Platform Robotics</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/503968/"><img src="https://habrastorage.org/webt/tv/1x/rr/tv1xrr8dyui1j9kgp12ampq04z4.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'organisation dans laquelle je travaille a √©t√© invit√©e √† organiser un petit webinaire sur la robotique pour le Salon international de l'√©ducation 2020 de Moscou, qui s'est d√©roul√© en ligne. Le sujet de la pr√©sentation m'a √©t√© laiss√© ouvert et donn√© un ensemble p√©dagogique sur la robotique. J'ai donc pris connaissance des produits de la soci√©t√© japonaise </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ArTeC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ce n'est pas de la publicit√© et je ne suis pas un employ√© d'ArTeC - c'est juste mon exp√©rience personnelle de communication avec leurs produits). Apr√®s le webinaire, j'ai d√©cid√© d'√©crire cet article, car en Russie, les kits de Lego Education √©taient tr√®s populaires, et c'√©tait la premi√®re fois que je rencontrais ce designer japonais.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'article est divis√© en deux parties. </font><font style="vertical-align: inherit;">La premi√®re partie sera utile √† ceux qui choisissent un kit de robotique p√©dagogique. </font><font style="vertical-align: inherit;">Dans la deuxi√®me partie, j'ai examin√© l'utilisation d'un kit pour r√©soudre un probl√®me appliqu√© pouvant survenir dans la vie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, si quelqu'un s'int√©resse √† ce type de kit robotique et √† ce que l'on peut en faire, je demande un chat. </font><font style="vertical-align: inherit;">Alors allons-y!</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme base de construction, le concepteur n'utilise que quelques pi√®ces de base √† partir desquelles vous pouvez assembler des structures assez complexes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-f/wo/fc/-fwofcl47qvnsp3yktrthob23fk.jpeg" alt="Blocs de base ArTeC Designer"><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®les de blocs de base ArTeC Designer </font></font></b></i><br>
<br>
<img src="https://habrastorage.org/webt/88/y5/x_/88y5x_wap5y9pfk89w0s2d_kclm.jpeg" alt="image"><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemples de mod√®les de pi√®ces Designer</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En raison des sp√©cificit√©s des pi√®ces - l'ordre √©chelonn√© des trous et des pointes pour la connexion, il n'est pas toujours rapide de trouver la bonne combinaison de pi√®ces pour obtenir le r√©sultat. Parmi les avantages, contrairement √† Lego: toutes les pi√®ces sont suffisamment grandes, ce qui les rend beaucoup plus difficiles √† perdre. Le deuxi√®me avantage est que vous n'avez pas √† fouiller longtemps √† la recherche de la pi√®ce n√©cessaire, car il n'y a que 5-6 pi√®ces de pi√®ces de base (la diff√©rence de couleur des pi√®ces ne compte pas). Il y a un inconv√©nient - tant que les pi√®ces sont compl√®tement neuves, leur s√©paration se transforme parfois en tourment - donc elles s'accrochent √©troitement les unes aux autres. Pour aider √† les d√©sengager, un outil sp√©cial est inclus dans le kit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En plus des blocs de base de l'ensemble, il existe plusieurs vari√©t√©s de roues et d'engrenages, ainsi qu'une cr√©maill√®re.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant sur ce qui est inclus dans la partie √©lectronique de ce kit robotique. Le site Web japonais dispose d'un nombre assez important de capteurs et de modules diff√©rents. Bien s√ªr, j'en avais beaucoup moins, mais ceux qui l'√©taient d√©j√† donnaient une certaine marge de cr√©ativit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour le remplissage de l'unit√© de contr√¥le principale, les Japonais ont fait leur version de la carte Arduino, la finalisant, et l'ont appel√©e Studuino. Ils y ont ajout√© un pilote de commande de moteur CC et ont apport√© une ligne pour les connecteurs √† 3 broches (BLS-3 standard, ceux-ci sont plac√©s sur des servos). Sur chacun de ces connecteurs, il y a de la puissance: plus et moins, ainsi que l'une des broches de la carte Arduino. Tous les connecteurs sont sign√©s, il est donc difficile de se tromper lors de la connexion. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ti/ls/g5/tilsg5zc0fbgyoeusvabr0xeti0.png" alt="Plateforme Studuino"><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plateforme Studuino</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la compatibilit√© avec les blindages Arduino standard sur les emplacements standard, il existe des connecteurs similaires √† Arduino. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La principale diff√©rence avec la carte Arduino est que la tension du contr√¥leur est de 3,3 V. Cela s'explique par le fait que le module de commande central est aliment√© par le compartiment √† piles fourni pour 3 piles AA (4,5 V au total). La batterie, malheureusement, n'est pas fournie, elle ne peut m√™me pas √™tre achet√©e sur le site Web du fabricant en option suppl√©mentaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La planche est situ√©e dans un bo√Ætier en plastique, auquel vous pouvez fixer les parties de base du concepteur et d'autres √©l√©ments. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4s/db/tv/4sdbtvlbdgyvbyrtjohswx8w4zq.jpeg" alt="Unit√© centrale ArTeC"><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Unit√© centrale ArTeC</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant qu'actionneurs, le fabricant propose deux moteurs √† courant continu avec r√©ducteurs et jusqu'√† 8 servo-variateurs de leur propre conception (leur nombre peut varier en fonction de la configuration du kit). Les moteurs sont connect√©s via des connecteurs sp√©ciaux qui sont sur la carte. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xr/ig/ti/xrigtithv8bt_ypcxqceow8mze0.jpeg" alt="Moteurs √† courant continu avec engrenages et leur connexion"><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Moteurs √† courant continu avec r√©ducteurs et leur connexion</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il </font><i><b><font style="vertical-align: inherit;">est</font></b></i><font style="vertical-align: inherit;"> possible d'assembler assez facilement et rapidement la construction la plus simple qui nous vient √† l'esprit: une machine robot √† deux moteurs, contr√¥lant que vous pouvez la faire avancer dans la bonne direction. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cw/k8/pb/cwk8pb5whc2yhdqudkn_igjmw04.jpeg" alt="Machine robotique simple avec deux moteurs √† courant continu"><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Machine robotique simple avec deux moteurs √† courant continu</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les moteurs sont contr√¥l√©s en d√©finissant les √©tats logiques des bornes D2, D4, D3 pour le moteur, qui est connect√© aux connecteurs M1 et D7, D8, D5 pour le moteur connect√© au connecteur M2 sur la carte Studuino. C'est √† ces conclusions que les d√©veloppeurs de la carte Studuino ont connect√© en parall√®le une puce pilote de pilote de moteur. L'utilisation de ces conclusions en y connectant votre circuit, et en m√™me temps en utilisant les moteurs en m√™me temps, √©chouera.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consid√©rez comment contr√¥ler un moteur connect√© au connecteur M1. En r√©glant un √©tat logique diff√©rent des bornes D2 et D4, il est possible de r√©aliser la rotation du moteur dans le sens souhait√©. Par exemple: avec D2 - 1 et D4 - 0, le moteur tourne dans le sens horaire, et si D2 - 0 et D4 - 1, alors le moteur tourne dans le sens antihoraire. Il est √©galement n√©cessaire de d√©finir la vitesse de rotation du moteur en d√©finissant la valeur PWM √† la broche D3 - elle peut √™tre comprise entre 0 et 255. Si la valeur est 0, le moteur ne tournera pas et si la valeur est 255, nous obtiendrons la vitesse de rotation maximale. Le pilote du moteur permet √©galement un changement instantan√© du sens de rotation du moteur et prend en charge le mode de freinage moteur. Pour ralentir le moteur, le m√™me √©tat logique √©gal √† 1 doit √™tre r√©gl√© aux bornes D2 et D4.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit dit en passant, il n'y a pas de broches D3 et D5 dans les connecteurs qui ont 3 broches (GND, VCC, SIG) sur la carte Studuino, mais elles se trouvent sur le connecteur Arduino standard, que les d√©veloppeurs ont laiss√© pour maintenir la compatibilit√© de la plate-forme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De m√™me, le moteur est contr√¥l√©, qui est connect√© au connecteur M2. Pour lui, le sens de rotation est pr√©cis√© par l'√©tat des bornes D7 et D8, et la vitesse de rotation par la borne D5. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le programme le plus simple que j'ai √©crit a fait bouger la machine robot comme ceci:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/vQ3rZuYrAfM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les servos peuvent √™tre connect√©s aux connecteurs surlign√©s en rouge sur la carte: D2, D4, D7, D8, D9, D10, D11, D12. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0w/dj/ai/0wdjaiemegvopfxyopehiaw3kk4.jpeg" alt="Connexion servo"><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connexion des servocommandes</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
C'est sur ces broches que le microcontr√¥leur AtMega168 dispose d'un PWM, qui est n√©cessaire pour contr√¥ler les servocommandes. Si vous connectez le nombre maximum de servos, vous pouvez obtenir une conception int√©ressante. Dans un souci de d√©monstration, j'ai assembl√© un simple analogue d'un robot ambulant et j'ai essay√© de le programmer un peu. Le r√©sultat peut √™tre vu dans la vid√©o:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/7wUzKdMxz2o" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La seule chose √† retenir est que si vous pr√©voyez d'utiliser √† la fois des moteurs CC et des servos, vous ne pouvez pas utiliser 2 moteurs CC et 8 servos en m√™me temps, car ils ont des sorties communes contr√¥l√©es par un microcontr√¥leur. Vous pouvez effectuer les configurations suivantes: 2 moteurs CC + 4 servos, 1 moteur CC + 6 servos ou utiliser seulement 8 servos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans tout kit robotique, en plus des actionneurs, il doit y avoir des capteurs qui sont les ¬´yeux¬ª et les ¬´oreilles¬ª de tout robot. Ils sont √©galement l√†. Dans mon ensemble, il y avait les capteurs suivants: un capteur de lumi√®re, un capteur de son, un capteur d'acc√©l√©ration, deux capteurs IR, un capteur tactile, ainsi que des LED (vert, rouge, bleu, blanc) et un pi√©zodynamique. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/37/od/_9/37od_926t58t-bpda408gn8t3r0.jpeg" alt="Capteurs dans un ensemble"><br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteurs dans un ensemble</font></font></b></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les capteurs sont connect√©s √† l'unit√© centrale √† l'aide des c√¢bles fournis avec le kit. </font><font style="vertical-align: inherit;">Pour fixer les capteurs du mod√®le de robot sur les bo√Ætiers, ils ont des pointes avec lesquelles ils peuvent √™tre fix√©s √† la structure. </font><font style="vertical-align: inherit;">J'ai assembl√© et programm√© quelques conceptions simples pour examiner le fonctionnement des capteurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici comment fonctionne le capteur tactile:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/1xNKl1vxEEM" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et voici comment fonctionne le capteur de lumi√®re:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/IporhRPSjf4" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'il n'y a pas suffisamment de capteurs standard dans l'ensemble et que vous souhaitez √©tendre ses fonctionnalit√©s, vous pouvez facilement utiliser la platine d'exp√©rimentation sans soudure et y connecter des circuits, tout comme sur une carte Arduino standard. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_b/c6/vg/_bc6vgpysz7ujiuqezh3v69hgfy.jpeg" alt="Fonctionnalit√©s de recrutement am√©lior√©es"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Num√©rotation am√©lior√©e</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le prochain point important pour tout kit robotique est la disponibilit√© d'un environnement de programmation pratique. Ici, le fabricant propose trois options de programmation diff√©rentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Niveau d'entr√©e - con√ßu pour les plus petits utilisateurs, ceux qui ne savent pas encore vraiment lire, mais qui font d√©j√† leurs premiers pas dans le monde adulte de la robotique. Pour eux, l'environnement de programmation le plus simple est offert - celui de pictogramme. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/my/pe/o-/mypeo-odgpb_o6ewezjvyd2haxy.jpeg" alt="Programmation des ic√¥nes"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmation des ic√¥nes</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, vous pouvez extraire des pictogrammes avec des actions de base dans le programme (avancer, allumer, allumer la LED, etc.) et configurer leurs param√®tres de base. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque ce niveau est ma√Ætris√© ou que ses capacit√©s deviennent insuffisantes pour r√©soudre les t√¢ches, vous pouvez passer √† l'√©tape suivante et commencer √† utiliser l'environnement de programmation Scratch pour la plateforme Studuino. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ms/cx/ze/mscxzeyahq9fake71sur4f9ncuq.jpeg" alt="Programmation Scratch pour Studuino"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmation Scratch pour Studuino</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il existe d√©j√† plus d'options de programmation: vous pouvez utiliser des variables et des tableaux, des expressions logiques et arithm√©tiques, des sous-programmes, ainsi que configurer de mani√®re plus flexible divers blocs pour l'ex√©cution.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque ces capacit√©s ne sont pas suffisantes, vous pouvez passer √† la programmation dans l'IDE Arduino et obtenir un contr√¥le total sur toutes les capacit√©s mat√©rielles de la plate-forme Studuino. Pour utiliser la carte Studuino dans l'IDE Arduino, vous devez configurer l'environnement selon les instructions du site Web du fabricant (afin que l'environnement voit la plate-forme Studuino dans la liste des cartes prises en charge). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Complet avec un logiciel de programmation, le fabricant donne un ensemble d'instructions pour assembler diff√©rents mod√®les et les programmer. Le logiciel lui-m√™me est disponible gratuitement sur le site Web du fabricant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essayons maintenant de r√©soudre un petit probl√®me pratique en utilisant cet ensemble.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imaginez que nous avons un robot qui doit avancer et reculer dans l'entrep√¥t et nous devons le faire s'arr√™ter aux endroits donn√©s. </font><font style="vertical-align: inherit;">Si le robot n'est pas contr√¥l√©, un accident se produira. </font><font style="vertical-align: inherit;">Un exemple d'un tel accident est illustr√© ici:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/a-q58XA4iKs" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le d√©placement du robot vers l'avant et vers l'arri√®re peut √™tre effectu√© √† l'aide de moteurs √† courant continu ou √† l'aide de servos. </font><font style="vertical-align: inherit;">Les servomoteurs r√©solvent le probl√®me de l'arr√™t du robot au bon endroit (vous pouvez d√©finir avec pr√©cision l'angle de rotation du servomoteur). </font><font style="vertical-align: inherit;">Cette solution a une limitation (nous utiliserons un servo √† partir d'un ensemble avec une roue mont√©e dessus) - les servos ne peuvent pas tourner d'un angle de plus de 180 degr√©s et donc le mouvement de notre robot sera limit√© √† la moiti√© de la longueur de la r√©volution de la roue sur le servo, mais g√©n√©ralement vous en voulez plus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous utiliserons un moteur √† courant continu avec un r√©ducteur de l'ensemble pour avancer et reculer. Ces moteurs n'ont aucun retour. Apr√®s avoir d√©marr√© le moteur, nous ne pouvons pas dire jusqu'o√π le robot a voyag√©. Vous pouvez d√©tecter le temps pendant lequel le robot parcourt la distance requise pendant le fonctionnement du moteur et utiliser ces retards dans le programme pour arr√™ter le robot au bon endroit. Cette m√©thode pr√©sente un inconv√©nient important - le r√©gime du moteur d√©pend de la tension qui lui est fournie et de l'effort requis. Comme les batteries sont utilis√©es dans le robot, qui apr√®s un certain temps seront l√©g√®rement d√©charg√©es et que leur tension deviendra inf√©rieure, alors en m√™me temps, le robot commencera √† parcourir une distance plus courte, et il sera n√©cessaire de s√©lectionner √† nouveau l'heure.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'option la plus simple que vous pouvez utiliser est un robot, en passant le point souhait√©, touche le capteur tactile, qui sera un signal d'arr√™t au bon endroit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai apport√© des modifications √† ma conception en ajoutant des capteurs tactiles sur le robot, et plac√© des √©l√©ments le long du chemin du robot afin que le robot les touche avec des capteurs tactiles lors de son d√©placement.</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/HA3jLus8px8" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La vid√©o montre que le robot atteint la fin de l '¬´entrep√¥t¬ª et touche le ¬´mur¬ª avec le capteur, puis il retourne vers le ¬´mur¬ª oppos√© de l'entrep√¥t et l√†, il touche √©galement. Apr√®s cela, le processus est r√©p√©t√©. Ainsi, il y a deux points que le robot ¬´conna√Æt¬ª √† coup s√ªr - ce sont les points lorsque le capteur tactile est d√©clench√©. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/da/b1/t9/dab1t9huyd38v6ayifpulmebjnq.jpeg" alt="Programme Scratch Touch pour Studuino"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un programme avec des capteurs tactiles en langue Scratch pour Studuino</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Parfois, cela suffit pour r√©soudre la t√¢che. Mais nous en voulons plus! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai apport√© des modifications √† la conception et au programme du robot et voici ce que j'ai obtenu:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/VFrxd_LQzo0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voyons plus en d√©tail ce que j'ai d√©cid√© d'exiger du robot. J'ai d√©cid√© que deux points d'arr√™t ne me suffisaient pas et j'en veux plus. Pour cela, j'ai utilis√© un capteur IR, qui est inclus dans le kit. Je l'ai fix√© sur une plate-forme mobile, et en dessous j'ai dispos√© une bande de papier avec des lignes noires pr√©-dessin√©es par le marqueur, sur laquelle le robot devrait s'arr√™ter. J'ai √©galement retir√© l'un des capteurs tactiles du robot (sur le c√¥t√© droit). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/al/kn/1x/alkn1xf57oqajjs1jfb_k7n3e3q.jpeg" alt="Robot IR"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Robot avec un capteur IR</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
En cons√©quence, j'ai obtenu un sch√©ma classique de l'appareil de l'un des axes d'une imprimante 3D ou d'une machine CNC. Lorsqu'elle est allum√©e, l'imprimante ne sait pas o√π elle se trouve et va jusqu'√† un c√¥t√© (jusqu'√† ce qu'elle soit touch√©e par le fin de course), puis elle consid√®re ce point √† z√©ro et commence √† compter sa position sur cet axe √† partir d'elle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette conception, le compte √† rebours se produit sur des bandes noires sur papier. Le nombre de ces bandes est connu √† l'avance, donc lorsque vous atteignez la derni√®re bande, vous pouvez revenir au point de r√©f√©rence z√©ro. Le programme Scratch pour Studuino est pr√©sent√© ci-dessous. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b9/tv/so/b9tvsopxgjuhgvbiga4dj22_kck.jpeg" alt="Programme de Scratch IR Robot pour Studuino"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programme de Scratch IR Robot pour Studuino</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous regardez attentivement le programme, vous pouvez voir des valeurs incompr√©hensibles de 40 et 50, avec lesquelles la valeur du capteur IR est compar√©e. Pour comprendre ces chiffres, vous devez vous souvenir un peu des signaux pouvant √™tre lus √† partir de diff√©rents capteurs. Il existe des capteurs num√©riques et analogiques. Les capteurs num√©riques ont un nombre fixe de positions et se d√©placent d'une position √† une autre de mani√®re nette et sans valeurs interm√©diaires. Capteurs principalement utilis√©s avec deux positions. Les capteurs tactiles sont l'exemple le plus frappant d'un capteur num√©rique: jusqu'√† ce que le capteur soit enfonc√©, il donne une valeur logique de 1, et lorsqu'il est enfonc√© - une valeur logique de 0 (dans ce constructeur et avec ces capteurs, c'est le sch√©ma, mais il existe des sch√©mas o√π cela se fait dans l'autre sens: press√© - 1, non enfonc√© - 0).Les capteurs analogiques d√©crivent une relation inextricable entre le signal et la tension ou le courant √† la sortie et n'ont pas de valeurs fixes. Le capteur infrarouge √©met un signal lumineux analogique, qui peut d√©pendre de divers facteurs, tels que la lumi√®re ambiante, la tension de la batterie et m√™me la temp√©rature ambiante.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le signal analogique est converti lin√©airement en un nombre, pour Scratch for Studuino - dans la plage de 0 √† 100. Ceci est fait pour simplifier le travail avec eux pour les utilisateurs finaux (cet environnement de programmation a d'abord √©t√© d√©velopp√© pour enseigner aux enfants). Dans l'IDE Arduino, une plage de valeurs ¬´honn√™te¬ª de 0 √† 1023 est √©mise, ce qui correspond au convertisseur ADC 10 bits pr√©sent dans le contr√¥leur Atmega168. Si vous regardez les diff√©rences dans les graphiques entre le signal num√©rique et analogique, il devient clair pourquoi le signal analogique est une plage de valeurs. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ur/3x/et/ur3xety3bijaa_dks5k0_evptss.jpeg" alt="Signal analogique (gauche) et num√©rique (droite)"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Signal analogique (gauche) et num√©rique (droite) Le</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
capteur infrarouge, qui est utilis√© pour d√©terminer la ligne d'√©tiquette noire, fonctionne selon le principe de capture du signal r√©fl√©chi. Deux √©l√©ments sont clairement visibles sur la figure: LED IR et photod√©tecteur IR.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/on/3c/6x/on3c6xotvu7c0kki7or2ldclw9k.png" alt="Capteur IR"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Capteur IR</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si vous placez un obstacle devant le capteur √† partir duquel les rayons IR seront r√©fl√©chis, mieux ils seront r√©fl√©chis par l'obstacle (en fonction de la distance √† l'obstacle ou du type d'obstacle), plus ils seront capt√©s par le photod√©tecteur IR et le capteur retournera plus valeur √† l'utilisateur lors de son enqu√™te.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les nombres 40 et 50 sont s√©lectionn√©s empiriquement. Dans mon cas, le capteur a montr√©, √©tant au-dessus d'une surface blanche, des valeurs d'environ 65 √† 75. Au-dessus de la surface noire, le capteur a renvoy√© des valeurs comprises entre 18 et 25. Le nombre 40 est le moment o√π le capteur commence √† passer d'une surface blanche au noir, et le nombre 50 est le moment de la transition d'une surface noire au blanc. Ces chiffres sont pris avec une petite marge afin de bloquer l'erreur de mesure du capteur. Lors du d√©veloppement d'une conception r√©elle, il est n√©cessaire de prendre en compte les conditions dans lesquelles le capteur prendra des mesures (√©clairage externe, emplacement du capteur, etc.), car tous ces facteurs affecteront les lectures du capteur. Vous devrez peut-√™tre d√©velopper un algorithme pour ajuster constamment ces valeurs en fonction des conditions externes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vais r√©sumer un petit r√©sultat. Deux solutions possibles au probl√®me du d√©placement du robot dans l'entrep√¥t ont √©t√© envisag√©es. Ces deux options n√©cessitaient des ¬´balises¬ª externes suppl√©mentaires, qui guidaient le robot. Y a-t-il moyen de s'en passer? Pour que le robot, par exemple, sache sous quel angle l'arbre du moteur a tourn√© et, selon la valeur de l'angle, a d√©cid√© de s'arr√™ter ou d'avancer. Il existe une solution simple √† ce probl√®me - l'utilisation d'un moteur avec un codeur (capteur d'angle). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'ensemble a des moteurs √† courant continu avec engrenage, mais ils n'ont pas de codeur. L'id√©e m'est venue √† l'esprit: peut-√™tre pourrais-je essayer de faire un simple encodeur √† partir des pi√®ces du concepteur, d'autant plus que les engrenages de l'ensemble ont un module assez grand (taille de dent)? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3f/pw/m7/3fpwm7n1mk6bd9rcxqx4lbu3vly.jpeg" alt="Les principaux √©l√©ments de l'encodeur"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les principaux √©l√©ments de l'encodeur</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le probl√®me principal √©tait de choisir l'emplacement et de fixer le capteur IR de sorte qu'il croise la dent de l'engrenage lors de sa rotation. En cons√©quence, j'ai obtenu une conception de test, qui est illustr√©e dans la figure ci-dessous. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tq/xl/e-/tqxle-maffh26bftiaj1knmhuvc.jpeg" alt="Mod√®le de test de l'encodeur"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®le de test de l'encodeur</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Comme vous pouvez le voir sur l'image ci-dessus, le capteur IR est fix√© de sorte que l'engrenage traverse sa zone de mesure de travail avec ses dents pendant la rotation. En face (de l'autre c√¥t√© de l'engrenage) du capteur IR, j'ai √©galement mis un obstacle travaillant sur la r√©flexion des rayons infrarouges pour obtenir des donn√©es plus correctes du capteur. Lorsque l'engrenage tourne et que le capteur infrarouge mesure la r√©flexion du signal, il y aura de grandes valeurs lorsqu'il y a une dent devant le capteur et de plus petites lorsqu'il y a un ¬´trou¬ª entre les dents de l'engrenage.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le programme pour travailler avec l'encodeur est d√©velopp√© dans l'IDE Arduino. </font><font style="vertical-align: inherit;">Pour tester l'efficacit√© de mon id√©e, j'ai √©crit un programme simple qui d√©marrait le moteur pour qu'il tourne √† vitesse constante et produisait en continu des valeurs du capteur IR vers la console de d√©bogage.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Texte du programme</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> M1_A        2       <span class="hljs-comment">//   1   1</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> M1_B        4       <span class="hljs-comment">//   2   1</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> M1_PWM      3       <span class="hljs-comment">//       1</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SENSOR_PIN  A4      <span class="hljs-comment">//     IR-sensor</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{<font></font>
  Serial.begin(<span class="hljs-number">9600</span>);       <span class="hljs-comment">//      </span>
  pinMode(M1_A, OUTPUT);    <span class="hljs-comment">//       " "</span><font></font>
  pinMode(M1_B, OUTPUT);    <font></font>
  analogWrite(M1_PWM, <span class="hljs-number">100</span>); <span class="hljs-comment">//    </span>
  digitalWrite(M1_A, HIGH); <span class="hljs-comment">//    </span>
  <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i=<span class="hljs-number">0</span>; i &lt; <span class="hljs-number">2000</span>; i++) {    <span class="hljs-comment">//   2000    -</span>
    Serial.println(analogRead(SENSOR_PIN));   <span class="hljs-comment">//      </span><font></font>
  }<font></font>
  digitalWrite(M1_A, LOW);  <span class="hljs-comment">//   </span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon les donn√©es affich√©es par le programme sur la console, j'ai obtenu le graphique suivant: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/at/kf/tc/atkftc0d8gxexmeimdiirwuyfbw.png" alt="Graphique des valeurs du capteur IR pendant la rotation de l'engrenage"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphique des changements dans les valeurs du capteur IR lors de la rotation de la vitesse</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La nature du graphique ressemble √† la forme des dents d'un engrenage, ce qui sugg√®re que de telles donn√©es peuvent en effet √™tre utilis√©es pour contr√¥ler la rotation du moteur en utilisant l'engrenage du jeu de concepteur comme disque codeur. Pour √©liminer l'hyst√©r√©sis de ¬´rebond¬ª, qui est impl√©ment√©e comme suit (symboles sur le graphique): MIDDLE est la valeur moyenne entre les valeurs maximum et minimum des lectures du capteur IR, WIDTH est la d√©viation de MIDDLE √† une valeur plus ou moins grande pour cr√©er une certaine ¬´bande d'erreur¬ª ¬ªMesures du signal (la largeur totale de cette bande est de 2 * LARGEUR). MIDDLE et WIDTH seront utilis√©s dans l'algorithme de contr√¥le de rotation du moteur. L'algorithme de comptage des dents de l'engrenage lors de la rotation du moteur peut √™tre repr√©sent√© comme suit:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rs/cp/2a/rscp2atjd50elx___64gsjrvpra.png" alt="Algorithme pour compter les dents de l'engrenage pendant la rotation du moteur"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Algorithme de comptage des dents de l'engrenage lors de la rotation du moteur.</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
L'algorithme utilise la notation suivante:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prev_state</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - √©tat d'engrenage pr√©c√©dent;</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cur_state</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - √©tat actuel de l'engrenage;</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">count</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - le nombre de dents d'engrenage compt√©es;</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tmp</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Lectures du capteur IR.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le principe du comptage des dents d'engrenage dans cet algorithme est bas√© sur la lecture constante des lectures du capteur IR et le changement de la valeur de la variable cur_state lorsque le niveau du signal d√©passe la ligne sup√©rieure ou inf√©rieure de la "bande d'erreur". </font><font style="vertical-align: inherit;">Si la valeur d√©passe la limite sup√©rieure, la variable cur_state devient √©gale √† 1, ce qui signifie une dent d'engrenage, et lorsqu'elle d√©passe la limite inf√©rieure, la variable cur_state devient √©gale √† 0, ce qui signifie une d√©faillance entre les dents d'engrenage. </font><font style="vertical-align: inherit;">L'ajout de la variable count ne se produit que lorsque l'√©tat de la variable cur_state change. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un programme qui utilise cet algorithme est pr√©sent√© ci-dessous. </font><font style="vertical-align: inherit;">Dans ce document, j'ai d√©crit un sous-programme qui attend que le moteur fasse tourner le rapport d'un nombre pr√©d√©termin√© de dents et qui transf√®re ensuite le contr√¥le au programme principal.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Texte du programme</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> M1_A        2       <span class="hljs-comment">//   1   1</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> M1_B        4       <span class="hljs-comment">//   2   1</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> M1_PWM      3       <span class="hljs-comment">//       1</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> SENSOR_PIN  A4      <span class="hljs-comment">//     IR-sensor</span></span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MIDDLE      550     <span class="hljs-comment">//         </span></span>
                            <span class="hljs-comment">// ""</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> WIDTH       50      <span class="hljs-comment">//      ,   </span></span>
      <span class="hljs-comment">//    -     </span>
      <span class="hljs-comment">// </span><font></font>
<font></font>
<span class="hljs-keyword">int</span> enc_tooth = <span class="hljs-number">0</span>;          <span class="hljs-comment">// ,    </span>
<span class="hljs-keyword">int</span> cur_state = <span class="hljs-number">0</span>;          <span class="hljs-comment">//   :  (1)  "" (0)</span>
<span class="hljs-keyword">int</span> prev_state = <span class="hljs-number">0</span>;         <span class="hljs-comment">//   </span>
<span class="hljs-keyword">int</span> tmp;                    <span class="hljs-comment">//      </span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">init_enc</span><span class="hljs-params">()</span> </span>{<font></font>
  enc_tooth = <span class="hljs-number">0</span>;<font></font>
  cur_state = <span class="hljs-number">0</span>;<font></font>
  prev_state = <span class="hljs-number">0</span>;<font></font>
<font></font>
  <span class="hljs-comment">//         cur_state</span>
  <span class="hljs-comment">//    ,   = 1,    ""      </span>
  <span class="hljs-comment">//   0      </span>
  <span class="hljs-keyword">if</span> (analogRead(SENSOR_PIN)&gt;MIDDLE) {<font></font>
    prev_state = <span class="hljs-number">1</span>;<font></font>
    cur_state = <span class="hljs-number">1</span>;<font></font>
    enc_tooth++;<font></font>
  }  <font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">wait_by_count</span><span class="hljs-params">(<span class="hljs-keyword">int</span> count)</span> </span>{
  <span class="hljs-comment">//       count,       IR </span>
  <span class="hljs-comment">//           ""</span>
  <span class="hljs-keyword">while</span> (enc_tooth &lt;= count) {
    <span class="hljs-comment">//    IR-    </span><font></font>
    tmp = analogRead(SENSOR_PIN);<font></font>
<font></font>
    <span class="hljs-comment">//       +  ,    </span>
    <span class="hljs-keyword">if</span> ((tmp + WIDTH) &gt; MIDDLE) {<font></font>
      cur_state = <span class="hljs-number">1</span>;<font></font>
    } <span class="hljs-keyword">else</span> {
    <span class="hljs-comment">//       -  ,    ""</span>
      <span class="hljs-keyword">if</span> ((tmp - WIDTH) &lt; MIDDLE) {<font></font>
        cur_state = <span class="hljs-number">0</span>;<font></font>
      }<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">//       ,      </span>
    <span class="hljs-comment">// ,     ""   -  ""  </span>
    <span class="hljs-keyword">if</span> (cur_state != prev_state) {
    <span class="hljs-comment">//   ,   0  - ,     </span>
    <span class="hljs-comment">// </span><font></font>
      enc_tooth += cur_state;<font></font>
    <font></font>
    <span class="hljs-comment">//        </span><font></font>
      prev_state = cur_state;<font></font>
    }<font></font>
  }<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">setup</span><span class="hljs-params">()</span> </span>{
  <span class="hljs-comment">//        </span>
  Serial.begin(<span class="hljs-number">115200</span>);<font></font>
<font></font>
  <span class="hljs-comment">//        ""</span><font></font>
  pinMode(M1_A, OUTPUT);<font></font>
  pinMode(M1_B, OUTPUT);<font></font>
<font></font>
  <span class="hljs-comment">//   </span><font></font>
  init_enc();<font></font>
<font></font>
  <span class="hljs-comment">//    </span>
  analogWrite(M1_PWM, <span class="hljs-number">100</span>);<font></font>
 <font></font>
  <span class="hljs-comment">//    ,      1 (    </span>
  <span class="hljs-comment">//  0)</span>
  digitalWrite(M1_A, <span class="hljs-number">1</span>);<font></font>
<font></font>
  <span class="hljs-comment">// ,    30  </span>
  wait_by_count(<span class="hljs-number">30</span>);<font></font>
  <font></font>
  <span class="hljs-comment">//   </span>
  digitalWrite(M1_B, <span class="hljs-number">1</span>);<font></font>
<font></font>
  Serial.print(<span class="hljs-string">"  = "</span>);<font></font>
  Serial.println(enc_tooth);<font></font>
<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">loop</span><span class="hljs-params">()</span> </span>{<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le programme d√©marre le moteur et attend jusqu'√† ce que le pignon tourne de 30 dents - juste un nombre de dents dans le pignon, puis il arr√™te le moteur. </font><font style="vertical-align: inherit;">Ci-dessous, une vid√©o qui montre le fonctionnement du programme:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/wS0eODG7zzc" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur une feuille de papier blanche, coll√©e √† l'engrenage, vous pouvez suivre sa rotation de 360 ‚Äã‚Äãdegr√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur ce, je veux terminer cet article. </font><font style="vertical-align: inherit;">En conclusion, je peux dire que je ne me suis pas content√© du mod√®le d'encodeur. </font><font style="vertical-align: inherit;">Une plate-forme de robot √† part enti√®re a √©t√© assembl√©e avec deux moteurs et deux encodeurs (un pour chaque roue) et un programme a √©t√© cr√©√© pour synchroniser la rotation des roues en fonction des encodeurs, mais c'est un sujet pour un autre article ... Une </font></font><br>
<br>
<img src="https://habrastorage.org/webt/st/zy/b3/stzyb3ery-ssclsmbwlzghisq24.jpeg" alt="Plateforme robotique avec encodeurs bas√©s sur des capteurs IR"><br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plate-forme de robot avec des encodeurs bas√©s sur des capteurs IR</font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que concepteur p√©dagogique en robotique, c'est une bonne option pour les enfants (enfin, les adultes) qui veulent participer √† de telles classes, d'autant plus que le fabricant a tout fait pour maximiser la tranche d'√¢ge de ceux qui peuvent utiliser ce produit (la pr√©sence de diff√©rents environnements de programmation ) </font><font style="vertical-align: inherit;">Vous pouvez commencer par les √©l√©ments les plus simples et les plus √©l√©mentaires, et apr√®s avoir acquis les connaissances de base, passer √† un autre niveau de d√©veloppement de la robotique et de l'√©lectronique.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr503958/index.html">Jeu API ouvert: Swagger Play</a></li>
<li><a href="../fr503960/index.html">Comment Linux trie les cha√Ænes</a></li>
<li><a href="../fr503962/index.html">Conduite autonome - battage m√©diatique dans les voitures, mais la n√©cessit√© de services de r√©seau de centre de donn√©es</a></li>
<li><a href="../fr503964/index.html">DataStore - CRUD (Cr√©er la suppression de la mise √† jour en lecture)</a></li>
<li><a href="../fr503966/index.html">L'application Social Monitoring a √©t√© cr√©√©e √† partir d'un suivi de camion √† ordures</a></li>
<li><a href="../fr503970/index.html">PuppetConf 2016. Kubernetes pour les administrateurs syst√®me. Partie 1</a></li>
<li><a href="../fr503972/index.html">Test de streaming sur 4 r√©seaux sociaux et choix de la meilleure option</a></li>
<li><a href="../fr503980/index.html">Surveillance de la temp√©rature sur un site √©loign√© par des moyens ¬´improvis√©s¬ª</a></li>
<li><a href="../fr503982/index.html">A propos des orcs et des frameworks</a></li>
<li><a href="../fr503988/index.html">Comment la "lumi√®re tourbillonnante" est entr√©e dans les r√©seaux optiques</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>