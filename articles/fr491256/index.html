<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üòò üë∞üèª üç® D√©veloppement du module sur iMX8 √† partir de NXP. Caract√©ristiques du transfert de trace DDR üò¶ üõåüèæ üß•</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salutations, Habr! 
 
 
 
 Il y a quelque temps, NXP a pr√©sent√© la gamme de processeurs iMX8. Il serait √©trange de manquer une opportunit√© et de ne pa...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>D√©veloppement du module sur iMX8 √† partir de NXP. Caract√©ristiques du transfert de trace DDR</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491256/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salutations, Habr! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xc/om/46/xcom46yvv9ipplm4kypjmquyguk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a quelque temps, NXP a pr√©sent√© la gamme de processeurs iMX8. </font><font style="vertical-align: inherit;">Il serait √©trange de manquer une opportunit√© et de ne pas d√©velopper un nouveau module. </font><font style="vertical-align: inherit;">Peu importe les nuances, je demande une coupe (beaucoup de photos l√©g√®res).</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Introduction (sauter)</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous sommes depuis longtemps ¬´accroch√©s¬ª aux produits NXP, en termes de processeurs, et nous suivons toujours les derni√®res mises √† jour de l'entreprise. Lorsqu'un nouveau produit est lanc√©, nous achetons une r√©f√©rence et recevons des √©chantillons par le biais de distributeurs afin que les programmeurs commencent imm√©diatement le d√©veloppement de la puce et que les apparatchiks, √† la fin de la premi√®re it√©ration, re√ßoivent rapidement un mod√®le de produit. Un soutien important dans tout cela est jou√© par le support technique, qui fournit le SDK et le HDK et r√©pond aux questions des programmeurs et des apparatchiks. Alors que les premiers d√©marrent le logiciel et commencent √† l'adapter √† nos t√¢ches, les seconds pr√©parent la deuxi√®me it√©ration de la carte avec les erreurs corrig√©es, le cas √©ch√©ant (par exemple, le module processeur bas√© sur la puce iMX7 d√©velopp√© par le client a √©t√© mis en service d√®s la premi√®re it√©ration, et le second √©tait purement cosm√©tique, le module sur iMX6UL / ULL, d'abord d√©velopp√© pour nos projets, puis devenu un produit distinct,√©galement presque inchang√© apr√®s la premi√®re version). Lors du d√©veloppement du fer, nous pr√©servons partiellement les circuits de r√©f√©rence (√† condition que cela ne nuise pas √† la qualit√© du produit), de sorte que l'ancrage du logiciel et du mat√©riel soit rapide et indolore. Chaque nouvelle it√©ration conduit √† de nouveaux tests, qui non seulement doivent √™tre r√©ex√©cut√©s, mais √©galement compl√©t√©s, en tenant compte de tous les changements. Chaque nouveau d√©chargement de gerberas du projet n√©cessite une v√©rification (production d'√©chantillons et leurs tests) avant de d√©marrer la s√©rie. Habituellement, le module d√©velopp√© est une solution universelle et est utilis√© dans nos diff√©rents projets. De plus, certains clients demandent une personnalisation du module, par exemple, en termes de trous de montage, types de connecteurs, configuration, ou tout √† la fois, √† utiliser comme produit fini dans leurs d√©veloppements futurs.Lors du d√©veloppement du fer, nous pr√©servons partiellement les circuits de r√©f√©rence (√† condition que cela ne nuise pas √† la qualit√© du produit), de sorte que l'ancrage du logiciel et du mat√©riel soit rapide et indolore. Chaque nouvelle it√©ration conduit √† de nouveaux tests, qui non seulement doivent √™tre r√©ex√©cut√©s, mais √©galement compl√©t√©s, en tenant compte de tous les changements. Chaque nouveau d√©chargement de gerberas du projet n√©cessite une v√©rification (production d'√©chantillons et leurs tests) avant de d√©marrer la s√©rie. Habituellement, le module d√©velopp√© est une solution universelle et est utilis√© dans nos diff√©rents projets. De plus, certains clients demandent une personnalisation du module, par exemple, en termes de trous de montage, types de connecteurs, configuration, ou tout √† la fois, √† utiliser comme produit fini dans leurs d√©veloppements futurs.Lors du d√©veloppement du fer, nous pr√©servons partiellement les circuits de r√©f√©rence (√† condition que cela ne nuise pas √† la qualit√© du produit), de sorte que l'ancrage du logiciel et du mat√©riel soit rapide et indolore. Chaque nouvelle it√©ration conduit √† de nouveaux tests, qui non seulement doivent √™tre r√©ex√©cut√©s, mais √©galement compl√©t√©s, en tenant compte de tous les changements. Chaque nouveau d√©chargement de gerberas du projet n√©cessite une v√©rification (production d'√©chantillons et leurs tests) avant de d√©marrer la s√©rie. Habituellement, le module d√©velopp√© est une solution universelle et est utilis√© dans nos diff√©rents projets. De plus, certains clients demandent une personnalisation du module, par exemple, en termes de trous de montage, types de connecteurs, configuration, ou tout √† la fois, √† utiliser comme produit fini dans leurs d√©veloppements futurs.afin que l'ancrage des composants logiciels et mat√©riels soit rapide et indolore. Chaque nouvelle it√©ration conduit √† de nouveaux tests, qui non seulement doivent √™tre r√©ex√©cut√©s, mais √©galement compl√©t√©s, en tenant compte de tous les changements. Chaque nouveau d√©chargement de gerberas du projet n√©cessite une v√©rification (production d'√©chantillons et leurs tests) avant de d√©marrer la s√©rie. Habituellement, le module d√©velopp√© est une solution universelle et est utilis√© dans nos diff√©rents projets. De plus, certains clients demandent une personnalisation du module, par exemple, en termes de trous de montage, types de connecteurs, configuration, ou tout √† la fois, √† utiliser comme produit fini dans leurs d√©veloppements futurs.afin que l'ancrage des composants logiciels et mat√©riels soit rapide et indolore. Chaque nouvelle it√©ration conduit √† de nouveaux tests, qui non seulement doivent √™tre r√©ex√©cut√©s, mais √©galement compl√©t√©s, en tenant compte de tous les changements. Chaque nouveau d√©chargement de gerberas du projet n√©cessite une v√©rification (production d'√©chantillons et leurs tests) avant de d√©marrer la s√©rie. Habituellement, le module d√©velopp√© est une solution universelle et est utilis√© dans nos diff√©rents projets. De plus, certains clients demandent une personnalisation du module, par exemple, en termes de trous de montage, types de connecteurs, configuration, ou tout √† la fois, √† utiliser comme produit fini dans leurs d√©veloppements futurs.Chaque nouveau d√©chargement de gerberas du projet n√©cessite une v√©rification (production d'√©chantillons et leurs tests) avant de d√©marrer la s√©rie. Habituellement, le module d√©velopp√© est une solution universelle et est utilis√© dans nos diff√©rents projets. De plus, certains clients demandent une personnalisation du module, par exemple, en termes de trous de montage, types de connecteurs, configuration, ou tout √† la fois, √† utiliser comme produit fini dans leurs d√©veloppements futurs.Chaque nouveau d√©chargement de gerberas du projet n√©cessite une v√©rification (production d'√©chantillons et leurs tests) avant de d√©marrer la s√©rie. Habituellement, le module d√©velopp√© est une solution universelle et est utilis√© dans nos diff√©rents projets. De plus, certains clients demandent une personnalisation du module, par exemple, en termes de trous de montage, types de connecteurs, configuration, ou tout √† la fois, √† utiliser comme produit fini dans leurs d√©veloppements futurs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est ainsi que l'on passe g√©n√©ralement de la sortie du processeur √† l'av√®nement de notre nouveau produit. </font><font style="vertical-align: inherit;">Parfois, c'est simple et rapide, mais il arrive que vous deviez apporter de s√©rieuses am√©liorations en peu de temps, qui apparaissent pendant les tests.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O√π commencer?</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne m'attarderai pas sur les travaux pr√©paratoires qui pr√©c√®dent le d√©marrage du projet - il s'agit de la coordination des TDR, de l'√©tablissement d'un calendrier des travaux, de l'approbation des devis, etc. </font><font style="vertical-align: inherit;">Je vais parler des premi√®res √©tapes qui peuvent aider √† r√©duire consid√©rablement le temps de d√©veloppement du projet, en utilisant l'iMX8 dans Altium Designer comme exemple. </font><font style="vertical-align: inherit;">Ce ne sera pas quelque chose de surnaturel et d'abstrus, je pense que beaucoup le font, mais peut-√™tre pas tous.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La chose la plus effrayante, peut-√™tre, quand je regarde la documentation d'un processeur ou d'un circuit pr√™t √† l'emploi, c'est la perspective de retrouver la RAM. T√¥t ou tard, tout le monde est confront√© √† cela, mais, comme on dit, il vaut mieux plus tard, s'il y a une telle opportunit√©. Eh bien, si vous n'utilisez qu'une seule puce dans l'appareil, il peut √™tre plus facile de faire le tra√ßage vous-m√™me. Vous trouverez ci-dessous un exemple de trace DDR3L pour Xilinx (carte √† 4 couches). Con√ßu √† partir de z√©ro, rien √† redire. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/li/t-/5a/lit-5ac_tweo0qjtrv-fmhkw_bg.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig. 1. Trace de RAM DDR3L pour Xilinx XC7A35T-1FTG256</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mais lorsque vous avez besoin de 4 lattes, et m√™me sur diff√©rents c√¥t√©s de la carte, pour r√©duire la taille. Ce qui suit est un exemple de module sur l'iMX6Q. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yv/4r/da/yv4rda0fcbyba7kz9v4jxucx74o.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.2. Trace 4 puces RAM DDR3 pour NXP iMX6Q (2 en haut, 2 en bas - l'une en dessous de l'autre)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce n'est pas non plus une t√¢che √©crasante, mais je n'y vois pas l'int√©r√™t (je le r√©p√®te, ce n'est malheureusement pas toujours le cas) s'il peut √™tre simplifi√© tout en maintenant la qualit√© d'un produit d√©bogu√© et test√© (dans notre cas, c'est une r√©f√©rence que vous pouvez "toucher" ) √Ä la premi√®re it√©ration, l'essentiel est que la puce d√©marre et autant d'interfaces fonctionnent que possible. Cela signifie qu'au moins la m√©moire fonctionne avec nous, toute l'√©nergie n√©cessaire est fournie et la pile de cartes est s√©lectionn√©e correctement. D'autres travaux seront men√©s en vue d'am√©liorer les param√®tres de la carte en termes de performances p√©riph√©riques. Ainsi, la premi√®re priorit√© pour nous est la m√©moire (op√©rationnelle et non volatile) et la puissance.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce n'est pas un secret que pour un processeur qui est produit en s√©rie et qui b√©n√©ficie du support du fabricant, vous pouvez en r√®gle g√©n√©rale trouver un ensemble complet de documentation (les exceptions sont les produits sous la NDA, les nouveaux produits sans support, etc.). √Ä la premi√®re √©tape, je ne serai int√©ress√© que par quelques documents - il s'agit d'une fiche technique, d'un sch√©ma et d'une trace du tableau de r√©f√©rence. De plus, tout d√©pend de la forme sous laquelle cette documentation sera transf√©r√©e et du syst√®me de CAO dans lequel vous travaillez. Je travaille uniquement dans Altium Designer et je ne peux donc pas utiliser de circuits et de circuits imprim√©s de fabricants, car ils se pr√©sentent g√©n√©ralement sous diff√©rents formats. Un autre probl√®me de conversion de projets √† partir de programmes tiers est l'inad√©quation des champs de la base de composants et, par cons√©quent, l'impossibilit√© de d√©charger la liste des √©l√©ments. Et ce qui est vraiment triste, c'est le manque de connexions entre les composants (pas toujours, mais plus souvent).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je veux parler de la fa√ßon dont vous pouvez transf√©rer partiellement un projet vers Altium avec un circuit converti et un circuit imprim√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le package int√©gr√© d'Altium Designer, appel√© Assistant d'importation, vous permet d'importer des fichiers √† partir d'autres syst√®mes de CAO. Personnellement, cela s'accompagne d'une danse constante avec un tambourin, car en plus d'Altium, par exemple, Allegro devrait √™tre install√©, mais je n'en parlerai pas. Il est d√©di√© aux vid√©os et articles individuels sur Internet. La conversion, g√©n√©ralement, mais pas toujours, ne vous permet pas d'obtenir un brouillon de travail, dont je n'ai pas besoin. Pour notre travail, nous avons besoin d'un fichier pcb et de pr√©f√©rence d'un sch√©ma. Pour un exemple, j'utiliserai le projet de r√©f√©rence sur iMX8 - "MCIMX8M-EVK-DESIGNFILES". </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g1/o4/zh/g1o4zht-v-jicq0ifceg2h7olyw.jpeg"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.3. Carte de r√©f√©rence MCIMX8M-EVK-DESIGNFILES</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puisque je pr√©vois de d√©velopper un module, je n'aurai pas besoin de la plupart des interfaces - elles seront impl√©ment√©es sur la carte m√®re. </font><font style="vertical-align: inherit;">M√™me l'image montre que vous devez beaucoup r√©tr√©cir lors de l'organisation des composants et √† partir du circuit imprim√©, je ne peux prendre que la trace LPDDR4 (MT53B768M32D4NQ-062) et PMIC (contr√¥leur de puissance pour le processeur MC34PF4210A1ES). </font><font style="vertical-align: inherit;">Les cartes eMMC et SD sont loin de la puce, elles devront √™tre retrac√©es, mais ce n'est pas un probl√®me.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Biblioth√®que de composants</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour ma biblioth√®que du projet MCIMX8M-EVK-DESIGNFILES, je n'ai pris que quelques composants, dont le processeur, la m√©moire et PMIC. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Regardons le composant iMX8. Ci-dessous, une capture d'√©cran de la biblioth√®que. MIMX8MQ7DVAJZXA a 14 parties combin√©es en un seul composant. Cette s√©paration vous permet de r√©partir davantage les interfaces sur diff√©rentes feuilles (parties du circuit, qui sont combin√©es en un seul projet). Par exemple, "PARTIE A" est enti√®rement USB, "PARTIE D" est MIPI DSI, "PARTIE G" est tout SAI, etc. Pour l'avenir, je dirai que mon projet ne comporte que 12 feuilles de sch√©mas, respectivement, j'ai combin√© certains des √©l√©ments pour faciliter la lecture. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j_/n7/3d/j_n73dmhc3ibc7fyly-neqt8jhk.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.4. Sch√©ma MIMX8MQ7DVAJZXA</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ayant un tel composant apr√®s l'importation, j'ai √©vit√© de le cr√©er √† partir de z√©ro, r√©duisant ainsi consid√©rablement la probabilit√© d'erreurs dans le circuit. Maintenant sur ce qui devra √™tre corrig√© dans les param√®tres du composant. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wb/a7/cb/wba7cbrihuzgu1do1u-mkkz87ay.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.5. Sch√©mas MIMX8MQ7DVAJZXA</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour diff√©rents composants, le nombre de param√®tres peut √™tre diff√©rent, mais certains champs doivent √™tre les m√™mes pour que vous puissiez ensuite t√©l√©charger la liste des composants pour la commande et l'assemblage. Les champs de gauche ont √©t√© import√©s de la r√©f√©rence. √Ä droite - dont j'ai besoin pour d'autres travaux. Les r√©sistances, par exemple, ont plus de param√®tres, les condensateurs encore plus, etc. Dans mon exemple, l'ensemble de param√®tres minimum requis avec les en-t√™tes dont j'ai besoin.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De la m√™me mani√®re, j'ai converti et peaufin√© la RAM et le contr√¥leur de puissance. Ensuite, je cr√©e un nouveau projet (sachant approximativement combien de feuilles je vais avoir), y transf√®re des parties des circuits avec reliure et remplace les composants import√©s par les miens. Le r√©sultat est des circuits tr√®s similaires √† l'original. Dans cet article, je ne parlerai pas de la structure du projet, de la relation entre les feuilles, etc., alors passons √† autre chose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La partie la plus simple du travail a √©t√© effectu√©e. Vous pouvez maintenant commencer la deuxi√®me √©tape - il s'agit du transfert du composant PCB de la biblioth√®que.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, c'est presque le m√™me qu'avant, mais au lieu des param√®tres - les couches. Dans mes composants, j'utilise un ensemble fixe de couches. En plus du standard "top", "top overlay", "top past", etc., par exemple, dans "mechanical 1" je dessine un contour de composant, son mod√®le 3D et mets un ".Designator" - ceci est fait pour que plus tard il √©tait plus facile de d√©charger le dessin d'assemblage (et d'autres). Tous les champs suppl√©mentaires que je n'utilise pas sont supprim√©s. Il m'en reste donc une quinzaine, au lieu de 24, comme c'√©tait le cas apr√®s l'importation. Souvent pour BGA et QFN, il est n√©cessaire de changer l'ouverture du masque des pads, de faire d'autres ajustements des capacit√©s de production, etc. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cu/sb/rz/cusbrzxl-r3lp5d4bq_avojzcam.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.6. pcb MIMX8MQ7DVAJZXA</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, dans les propri√©t√©s sch√©matiques, vous devez connecter le composant avec le PCB. </font><font style="vertical-align: inherit;">Pour mieux comprendre tout ce qui est √©crit ci-dessus, vous pouvez regarder des vid√©os p√©dagogiques sur la cr√©ation d'une biblioth√®que pour Altium. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours des deux premi√®res √©tapes pr√©paratoires, j'ai r√©ussi √† cr√©er des composants de biblioth√®que qui peuvent d√©sormais √™tre utilis√©s dans le projet. </font><font style="vertical-align: inherit;">Cela a pris beaucoup moins de temps que si je le faisais √† partir de z√©ro.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Transfert de trace </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La troisi√®me √©tape est la plus difficile - c'est le transfert d'une partie de la trace du tableau de r√©f√©rence au projet. Vous devez √™tre tr√®s prudent. Habituellement, les erreurs d'importation provoquent des erreurs de transfert (entre les environnements de d√©veloppement), vous n'avez donc qu'√† ¬´emprunter¬ª ce dont vous avez besoin, ce qui prendrait beaucoup de temps et d'efforts. Je ne recommande surtout pas de d√©placer les vias, les polygones, les d√©coupes dans les polygones et les r√®gles pour la RDC (Design -&gt; Rules ...). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'iMX8 est trac√© sur 10 couches, donc j'utiliserai la m√™me pile avec la m√™me s√©quence de couches. Pour la commodit√© de travailler avec le projet MCIMX8M-EVK-DESIGNFILES, je vais masquer tous les polygones. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gc/s0/7u/gcs07ubjabshelmdwi0rbohn9yu.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.7. Carte de r√©f√©rence MCIMX8M-EVK-DESIGNFILES. PCB</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√áa a l'air effrayant. Tr√®s effrayant. Il semblerait que vous puissiez d√©j√† fermer l'Altium et aller pleurer. Pour plus de commodit√©, vous pouvez masquer les calques inutiles, mais cela n'aidera pas radicalement, mais par calques, cela semblera plus ou moins simple. Le DDR est divorc√© sur 4 couches, mais je n'ai pas apport√© de fond non plus par accident (voir ci-dessous). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/td/sw/09/tdsw09yzzdpfszfxrexmslefeiu.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.8. Tra√ßage de LPDDR4 MCIMX8M-EVK-DESIGNFILES par couches</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si vous avez atteint ce point dans votre projet, alors la moiti√© du travail de transfert, ou peut-√™tre l'ensemble du projet, a d√©j√† √©t√© effectu√©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-√™tre avez-vous d√©j√† devin√© ce qui doit √™tre fait ensuite? Oui, il ne reste plus qu'√† copier couche par couche correctement. Je vais vous dire comment je le fais pour √©viter de simples erreurs.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, j'ouvre la carte de r√©f√©rence et la mienne, avec les composants charg√©s √† partir du circuit sur deux moniteurs (cette option est la plus pratique pour le d√©veloppement). Je copie moi-m√™me le processeur et la m√©moire de la carte de r√©f√©rence (cela est n√©cessaire pour exposer ces composants en tenant compte de la trace existante). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1n/kv/w2/1nkvw2eo6eopax8rlh7qesujlme.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.9. Arrangement mutuel de la m√©moire et du processeur (r√©f√©rence √† gauche)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Apr√®s cela, il est n√©cessaire d'installer le processeur et la m√©moire de notre carte par-dessus ceux correctement install√©s, et ensuite il suffit de retirer les composants copi√©s de la r√©f√©rence. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/em/4s/4j/em4s4jj62nxzn6yb57lw6rsbvsg.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.10. Emplacement correct du processeur et de la m√©moire</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Des lignes de communication excessives peuvent √™tre temporairement masqu√©es et proc√©der au transfert direct de la trace.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous devrez utiliser deux m√©thodes pour copier des fils. Le premier est le plus simple et le plus long - copier les conducteurs un par un. Vous n'avez pas besoin de copier toutes les connexions de cette fa√ßon - cela prendra beaucoup de temps, mais parfois c'est pratique. Par exemple, prenez les signaux des chocs sur les pads AE14, AD14, AE12 et AD12. Cliquez sur RMB dans l'explorateur, s√©lectionnez l'√©l√©ment de menu Rechercher des objets similaires ..., dans la fen√™tre qui appara√Æt, marquez le nom de l'explorateur et du calque (vous pouvez copier imm√©diatement √† partir de tous les calques, y compris les trous). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/42/b1/in/42b1infelxqas5ubrynrhet_ea4.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.11. Copiez un conducteur dans une couche (en haut)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ensuite, appuyez sur Ctrl + C et placez la souris sur le pad du processeur. Nous allons √† notre tableau et appuyez sur Ctrl + V et collez. Nous r√©p√©tons pour les quatre conducteurs et mettons des trous dans les tampons de m√©moire pour aller vers le bas - il y a des r√©sistances. Si vous avez fait des copies dans toutes les couches, les r√©sistances seront plus faciles √† installer. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/aq/vx/h_/aqvxh_ndep6hsbykktnuravjepk.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.12. Copie d'un seul conducteur</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Figure 12. (√† droite) il y a un conducteur s√©par√© (avec une croix de la souris) - ceci est un exemple de copie du conducteur dans toutes les couches avec un vias. L'essence de la m√©thode est que lorsque vous copiez le conducteur et le "r√©glez sur le pad", il prend le nom du pad (vous devez √™tre prudent - si vous copiez le conducteur sur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un autre</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pad, il prendra le nom de l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">autre</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pad).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√™me maintenant, vous pouvez transf√©rer vous-m√™me tous les conducteurs de la r√©f√©rence vers votre carte, mais il existe un moyen plus simple (en g√©n√©ral, il y en a plusieurs, mais concentrons-nous sur un), il est id√©al pour copier des groupes de conducteurs dans une couche. Pour commencer √† copier les conducteurs de la deuxi√®me couche (et de la suivante), il est n√©cessaire de transf√©rer les conducteurs sup√©rieurs de tous les pads du processeur, sinon la connexion des conducteurs sera rompue (nous devons transf√©rer les vias du haut vers les autres couches, de sorte que les conducteurs soient ensuite li√©s √† eux) . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gz/hk/uf/gzhkufhxa1h7s2i0uvzcvjww4om.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.13. Copiez tous les conducteurs avec vias en haut</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, j'ai retir√© tous les pads du processeur et ils peuvent √™tre utilis√©s sur d'autres couches. Autrement dit, dans une autre couche, je peux lier les conducteurs sans craindre qu'ils ne deviennent NoNet (conducteurs suspendus ¬´en l'air¬ª qui ne se sont pas d√©croch√©s). Ensuite, je vais transf√©rer la couche 6 (la troisi√®me, si vous regardez la figure 8.), pour montrer un autre hack. Tout de m√™me, s√©lectionnez, copiez avec reliure dans n'importe quel trou ou tampon et collez. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/dy/ey/podyey-wakjrku5d4fedwgxpc4q.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.14. Copie de tous les conducteurs avec des vias de la couche 6</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Qu'est-ce que le hack? Ainsi, en plus de la trace RAM, j'ai r√©ussi √† extraire les interfaces du processeur, qui seront d√©j√† regroup√©es dans certaines parties de la carte. Dans la puce, des bus de donn√©es individuels sont situ√©s √† des endroits sp√©cifiques. Par exemple, dans iMX8, en bas √† gauche du CSI, juste au-dessus de NAND, etc., c'est-√†-dire qu'ils ne peuvent de toute fa√ßon pas √™tre affich√©s de mani√®re diff√©rente.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une fois que toutes les couches n√©cessaires ont √©t√© transf√©r√©es, il est n√©cessaire de retirer tous les vias et les conducteurs NoNet (lors de la copie de cinq couches, il y aura cinq vias sur chaque carte sur chaque carte). </font><font style="vertical-align: inherit;">Ensuite, j'arrange manuellement via, en v√©rifiant en m√™me temps toutes les connexions. </font><font style="vertical-align: inherit;">Avec une certaine habilet√©, tout le travail de transfert prendra plusieurs heures.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la Fig.8. </font><font style="vertical-align: inherit;">J'ai montr√© la couche inf√©rieure, que je souhaite √©galement transf√©rer. </font><font style="vertical-align: inherit;">Mais l'essentiel n'est pas les conducteurs (il n'y en a pas beaucoup), mais l'agencement des composants. </font><font style="vertical-align: inherit;">Il y a 132 √©l√©ments sous la puce et la RAM. </font><font style="vertical-align: inherit;">Habituellement, je ne copie pas ce calque, mais je d√©finis simplement le passif ainsi que la r√©f√©rence (en ouvrant deux cartes sur des moniteurs diff√©rents). </font><font style="vertical-align: inherit;">Cette option convient si vous n'avez pas chang√© la taille des composants pour une plus grande, sinon vous devrez bricoler. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g2/up/1y/g2up1yai-nz9ogsadntj5nbagga.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.15. </font><font style="vertical-align: inherit;">Composants √† l'arri√®re de la carte du module </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/bu/vf/sh/buvfshfqz7becstk5a5hqxrzj0q.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fig.16. </font><font style="vertical-align: inherit;">Trace finale sous le processeur et m√©moire des couches de signaux</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âpilogue</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En r√©sum√©, je peux dire que cette m√©thode de transfert est assez simple (je n'exclus pas qu'il y en ait d'autres). </font><font style="vertical-align: inherit;">Si vous commencez avec des cartes simples sur 4 couches, vous pouvez rapidement apprendre √† transf√©rer des traces plus complexes, sans y consacrer de grandes ressources. </font><font style="vertical-align: inherit;">√Ä ce sujet, je pense que l'article peut √™tre compl√©t√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour la "graine", je dirai que sur la carte r√©sultante, il y a 156 polygones et, si quelqu'un est int√©ress√©, je peux √©crire un article sur la fa√ßon dont ils ont √©t√© pos√©s sur ce module, quelles difficult√©s sont survenues en raison des petites dimensions (dimensions du module 81 mm * 58 mm) et ce que devrait √™tre consid√©r√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Merci pour l'attention!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr491240/index.html">La route vers les nuages: hier et aujourd'hui Adobe</a></li>
<li><a href="../fr491244/index.html">Ableton n'est pas n√©cessaire: connectez Ableton Push 2 au rack VCV</a></li>
<li><a href="../fr491246/index.html">Conf√©rence DEFCON 27. Votre voiture est ma voiture. Partie 2</a></li>
<li><a href="../fr491250/index.html">Lampes √† LED Gauss Basic</a></li>
<li><a href="../fr491252/index.html">5 fonctionnalit√©s peu connues de JSON.stringify ()</a></li>
<li><a href="../fr491258/index.html">IT girls, d'o√π venez-vous? Construisons une carte</a></li>
<li><a href="../fr491260/index.html">Normalisation du texte dans les t√¢ches de reconnaissance vocale</a></li>
<li><a href="../fr491262/index.html">Oeil pour oeil. Probl√®mes de biom√©trie</a></li>
<li><a href="../fr491264/index.html">Introduction au SSD. Partie 4. Physique</a></li>
<li><a href="../fr491266/index.html">SurfingAttack: compromettre les smartphones avec des assistants sonores [+ vid√©o]</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>