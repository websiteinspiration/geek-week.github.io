<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ôüèΩ üé© üì† Download and store files of any size on Google Drive for free. Bug or feature? üëßüèΩ ‚ô¶Ô∏è üõÇ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="I recently found a weird feature in Google Drive. A certain sequence of actions in the Google Drive web interface leads to the fact that everyone can ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Download and store files of any size on Google Drive for free. Bug or feature?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489514/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I recently found a weird feature in Google Drive. A certain sequence of actions in the Google Drive web interface leads to the fact that everyone can upload files of any size to their account and at the same time not spend a single byte to store them. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, I immediately decided to report it to Google through the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BugHunter</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> program </font><font style="vertical-align: inherit;">. But, to my regret, having spent a week communicating with Google experts, I was not able to convince them that this was a bug. The employee was unable to reproduce this bug and I received a response that ‚Äúthis is not a bug, but a feature‚Äù and I was sent to RTFM. In the end, Google just closed the ticket and stopped responding to my emails.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Since the correspondence with Google has reached an impasse, I decided to publicly talk about this ‚Äúfeature‚Äù and, perhaps, finally draw the attention of Google employees to this problem or at least understand what I'm doing wrong. </font><font style="vertical-align: inherit;">Below under the cat is the history of correspondence with Google and proof of concept.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here is the report I sent to Google. </font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Summary: Service abuse: Free unlimited file storage, space counting error </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Steps to reproduce:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Create a new google drive account</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">File "Getting started" appeared</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Right click on the file, click on "Manage Versions"</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Upload any amount of files as a new version of "Getting started", no space counting, even with "keep forever" checked for that file.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Browser / OS: Any </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Attack scenario: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Any regular user can do that with google drive user interface or experienced user via google drive api. A user can upload unlimited amount of files without any payments and store files forever for free.</font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As is clear from the text, in order to reproduce the problem, you need to create a new account. Then go to google drive and find the file ‚ÄúGetting started‚Äù, which is created automatically in each new account. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The first thing that immediately struck me was that the size of this file is 1MB, but it takes 0 bytes. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/xm/v5/gvxmv59ghao5ymkaom5i8fixnai.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
This was strange since PDF is not a Google Drive native storage format and should use a common limit. It was clear that the service somehow excluded this file from the list to count the place. Simple copying of the file led to the fact that the file began to weigh real megabytes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
However, as it turned out, if instead of copying a file just downloading a new version, this new version will still occupy 0 bytes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Before publishing this article, I repeated the experiment with a new account and successfully loaded 17GB into an account with a limit of 15GB without any problems. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In Google Drive, you can select the option ‚Äúsave all versions‚Äù, I checked, if you select it, then all versions of the file are saved and do not waste space. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zt/ee/nz/zteenzfw6m4ldnhqihpaevmm7r0.png" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thus, by simple tricks you can store any number of files of any size in Google Drive. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unfortunately, a Google employee was unable to reproduce this issue and asked me to make a video:</font></font><br>
<blockquote>Hey,<br>
<br>
We're closing this bug, as you didn't provide enough details for us to determine what the security issue you're reporting. Feel free to update this report with additional details. <br>
<br>
We tried to replicate it and wasn't able to, if you think you were able to feel free to share a proof of concept in a video. <br>
<br>
If you didn't provide this yet, please include the reproduction steps (https://sites.google.com/site/bughunteruniversity/improve/help-us-reproduce-the-bug), an attack scenario (https://sites.google.com/site/bughunteruniversity/improve/writing-the-perfect-attack-scenario) and a short explanation why do you believe this is a technical security vulnerability.<br>
<br>
Thanks!<br>
Google Trust &amp; Safety<br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I made a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">video</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> from my test account in my Google Apps domain with a limit of 15GB. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And after a while I got this answer:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hello, </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thanks for the POC, we noticed in the video you shared it is associated with Gsuite account visible on the right top of the video screen. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For more information on G suite storage limit please visit. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">support.google.com/a/answer/172541?hl=en</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Your report is now * closed * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Thanks! </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Google Trust &amp; Safety</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">My further attempts to contact Google were unsuccessful, I tried to write another comment, attached the video from the POC from a regular account again, but the response was only silence. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In conclusion, I want to say that I participated in Yandex BugBounty quite a lot and always received excellent feedback on all of my submitted reports. </font><font style="vertical-align: inherit;">Unfortunately, Google, in my opinion, is very strange about such messages. </font><font style="vertical-align: inherit;">Most likely, this is my first and last attempt to send information about a bug in Google applications with such feedback. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PS Link to </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">report</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , if Google employees are suddenly present on Habr, perhaps they will be able to clarify what I did wrong. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
UPDATE 02.26.2020: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Today the bug was rediscovered. </font><font style="vertical-align: inherit;">Thanks to all!</font></font><br>
<img src="https://habrastorage.org/webt/bs/4m/w5/bs4mw5xwqp6ftjezkptefpgeqbq.png" alt="image"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en489500/index.html">Assessing Tasks at Story Points</a></li>
<li><a href="../en489502/index.html">Selenium + AutoIT. Windows Test Automation Windows</a></li>
<li><a href="../en489504/index.html">How to start creating a map in UE4</a></li>
<li><a href="../en489510/index.html">Trying to solve the problem of choosing tickets before vacation # 2</a></li>
<li><a href="../en489512/index.html">Flutter. BlOC, Provider, async - Shelf Architecture</a></li>
<li><a href="../en489516/index.html">Friends React Native and Fastlane</a></li>
<li><a href="../en489518/index.html">Members Exchange Low-Cost Exchange Appears In US</a></li>
<li><a href="../en489526/index.html">Zero-sum games and Karush-Kun-Takker conditions</a></li>
<li><a href="../en489528/index.html">You do not watch ads during development? Disorder</a></li>
<li><a href="../en489530/index.html">What makes a reactive system good?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>