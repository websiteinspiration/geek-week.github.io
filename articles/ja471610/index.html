<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📨 💅🏼 🏴󠁧󠁢󠁥󠁮󠁧󠁿 Prolog上のRESTサーバー、それはどのように見えますか？ 🤞🏻 👩🏾‍🤝‍👨🏿 🙏🏿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="論理プログラミングの初心者向けの小さな遠足として、
 このセッションで公開されたマジックセッションが開催され
 、RESTサーバーを作成するためのアプローチが提供され、そのパラメーターが測定されます。
 
 キャッチは何ですか？そして、すべてが簡単です-プロローグ（SWI-プロローグの実装）でそれを...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Prolog上のRESTサーバー、それはどのように見えますか？</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/471610/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">論理プログラミングの初心者向けの小さな遠足として、</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">セッションで公開さ</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">れ</font><s><font style="vertical-align: inherit;">たマジックセッション</font></s><font style="vertical-align: inherit;">が</font><s><font style="vertical-align: inherit;">開催さ</font></s><font style="vertical-align: inherit;">れ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、RESTサーバーを作成する</font><font style="vertical-align: inherit;">ためのアプローチ</font><font style="vertical-align: inherit;">が提供され、そのパラメーターが測定されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キャッチは何ですか？</font><font style="vertical-align: inherit;">そして、すべてが簡単です-プロローグ（SWI-プロローグの実装）でそれを行います...</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
だからあなたが必要なもの。</font><font style="vertical-align: inherit;">まず、実際のswi-prolog </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を彼のウェブサイト</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.swi-prolog.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から</font><font style="vertical-align: inherit;">ダウンロードし（まだインストールしていない場合）、インストールし</font><font style="vertical-align: inherit;">ます。</font><font style="vertical-align: inherit;">タイプの初期コンテンツを含むタイプrest.plの小さなファイルを作成する方が簡単です</font></font><br>
 <blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバ。</font></font></blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">引き続きダウンロードして、次のようにプロローグシステム自体を使用して編集します</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（例はLinuxコンソールの例ですが、Windowsとほとんど同じです）。</font></font><br>
<br>
<pre><code class="bash hljs">  <span class="hljs-variable">$echo</span> <span class="hljs-string">"."</span> &gt; rest.pl
  <span class="hljs-variable">$swipl</span><font></font>
   ...<font></font>
  ?- [rest].<font></font>
  <span class="hljs-literal">true</span>.<font></font>
<font></font>
  ?- edit().<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 その後、emacsのようなエディターが起動し、そこにすべてを入力できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、最初に、ライブラリを使用して</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、サーバー</font><font style="vertical-align: inherit;">を</font><font style="vertical-align: inherit;">起動する</font><font style="vertical-align: inherit;">ことの意味を記述することを示し</font><font style="vertical-align: inherit;">ます-プロローグのシンボル：-「これは」と読むことができます：</font></font><br>
<br>
<pre><code class="plaintext hljs">:- use_module(library(http/http_server)).<font></font>
:- use_module(library(http/http_json)).<font></font>
:- http_handler(/,(M), [method(M),methods([get,post]),time_limit(10000)]).<font></font>
<font></font>
 :- http_server(http_dispatch, [port(8080)]).<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ご覧のとおり、サービスがgetメソッドとpostメソッドに応答するように計画しています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モデルの問題</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 今実際に何をするか。</font><font style="vertical-align: inherit;">リクエストに応じて、数値入力フィールドのあるページで応答します。入力時に、ポストメソッドをリクエストし、このフィボナッチ数を計算します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり：</font></font><br>
<br>
<pre><code class="plaintext hljs">(get,_) :- (X),(X).<font></font>
(post,) :-<font></font>
  http_parameters(,[val(,[integer])]),<font></font>
  ().<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以上です！</font><font style="vertical-align: inherit;">実際にサーバーを作成しました...プロローグは宣言型言語です。そのため、処理オプションを宣言しました。</font><font style="vertical-align: inherit;">ちなみに、どの言語でも使えるので、ロシア語で書くことにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、ねえ、彼は何をしていますか？</font><font style="vertical-align: inherit;">結局のところ、「フォーム」、「回答」、「短縮」は私たちの述語であり、まだ定義されていません。</font><font style="vertical-align: inherit;">修正しましょう：</font></font><br>
<br>
<pre><code class="plaintext hljs">():-<font></font>
 format('Content-type: text/html~n~n<font></font>
 &lt;html&gt;&lt;body&gt;  &lt;br/&gt;<font></font>
 ~w<font></font>
 &lt;/body&gt;&lt;/html&gt;~n', []).<font></font>
<font></font>
('&lt;form method="POST"&gt;&lt;input name="val"/&gt;&lt;/form&gt;').<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、ここに計算のための2つのオプションがあります-正のフィボナッチ数のみを持ちましょう：</font></font><br>
<br>
<pre><code class="plaintext hljs">():-<font></font>
   &gt; 0,<font></font>
  (0,1,1,,),(X),<font></font>
  format(atom(),'~w    ~w&lt;br/&gt;~w',[,,X]),<font></font>
  ().<font></font>
():- <font></font>
  (X),<font></font>
  format(atom(),'  ~w  0&lt;br/&gt;~w',[,X]),<font></font>
  ().<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 まあ、それは実際にフィボナッチ数が何であるかを決定するために残っています：</font></font><br>
<br>
<pre><code class="plaintext hljs">(_F, F1, N, N, F1) :- !.<font></font>
(F0, F1, I, N, F) :-<font></font>
        F2 is F0+F1,<font></font>
        I2 is I + 1,<font></font>
        !,(F1, F2, I2, N, F).<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 もちろん、この定義</font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は風水</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><s><font style="vertical-align: inherit;">は</font></s><font style="vertical-align: inherit;">あまり馴染みのないものですが、Cで</font><font style="vertical-align: inherit;">記述した</font><font style="vertical-align: inherit;">場合よりもほぼ高速であると考えられ</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます。</font><font style="vertical-align: inherit;">私たちはチェックします：</font></font><br>
<br>
<pre><code class="bash hljs"> ?- .<font></font>
 % Started server at http://localhost:8080/<font></font>
 <span class="hljs-literal">true</span>.
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 そのため、サーバーが起動したようです。</font><font style="vertical-align: inherit;">ちなみにマルチスレッドです！</font><font style="vertical-align: inherit;">確認するには、アドレス</font></font><br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">127.0.0.1：8080</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font><font style="vertical-align: inherit;">を開き</font><font style="vertical-align: inherit;">、1000などの数値を入力</font><font style="vertical-align: inherit;">する必要があります</font><font style="vertical-align: inherit;">。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数値の計算</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 フィボナッチ1000フィボナッチ数</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4346655768693745643568852767504062580 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2564660517371780402481729089536555417 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
9490518904038798400792551692959225930 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
8032263477520968962323987332247116164 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2996440906533187938298969649928516003 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
704476137795166849228875</font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まあ、それはうまくいきます！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーのパフォーマンスの小さな調査-GETメソッドを確認しましょう（POSTは明らかに特定の数値に強く依存しているため、10,000,000の数値が考慮されますが、数秒です...）</font></font><br>
<br>
<pre><code class="bash hljs"> $ ab -k -c 4 -n 4000 http://127.0.0.1:8080/<font></font>
<font></font>
...<font></font>
Concurrency Level:      4<font></font>
Time taken <span class="hljs-keyword">for</span> tests:   0.283 seconds<font></font>
Complete requests:      4000<font></font>
Failed requests:        0<font></font>
Keep-Alive requests:    4000<font></font>
Total transferred:      1108000 bytes<font></font>
HTML transferred:       544000 bytes<font></font>
Requests per second:    14140.57 [<span class="hljs-comment">#/sec] (mean)</span><font></font>
Time per request:       0.283 [ms] (mean)<font></font>
Time per request:       0.071 [ms] (mean, across all concurrent requests)<font></font>
Transfer rate:          3825.14 [Kbytes/sec] received<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 10スレッドで毎秒14140リクエスト-これは通常のコンピュータにとって非常に良いです！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、はい、プロローグはそのような機会を持っています-論理的な外観。</font><font style="vertical-align: inherit;">したがって、コードで何かを変更した場合は、コンソールに入力するだけです</font></font><br>
<br>
<pre><code class="bash hljs"> ?- make.
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 そして、すべての変更は新しいリクエストで機能します-オーバーロードや停止などは必要ありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このような簡単な例でレストサーバーを作成する方法に興味を持っていただければ幸いです。</font><font style="vertical-align: inherit;">もちろん、例で行ったように、残りのインターフェイスを静的に記述することができます。あらゆる種類の変数を入力し、URLパスの一部を変数として使用できます。まあ、一般的に、すべてが通常どおりです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これを動的に実行し、述語を作成、削除、変更することでプログラムのロジックを変更できます。これは、履歴に依存する一種の自己変更サーバーです。</font><font style="vertical-align: inherit;">データベースを接続できます。</font><font style="vertical-align: inherit;">一般的に、すべてがいつものように、仕事をするだけでシンプルで楽しいです。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja471590/index.html">チームリーダーとしての最初の6か月間：すべてが悪いように思われる場合に気を狂わせない方法</a></li>
<li><a href="../ja471594/index.html">BeelineカザフスタンとSlermが11月6〜7日にアルマトイでBeeline DevOps Dayを開催</a></li>
<li><a href="../ja471596/index.html">MacOS 10.15は32ビットアプリケーションをサポートしなくなりました。あなたは何ができますか？</a></li>
<li><a href="../ja471600/index.html">現代音楽の根底にある数</a></li>
<li><a href="../ja471608/index.html">衝突回避システム：パート1.開発者のためのTKとしての法律</a></li>
<li><a href="../ja471614/index.html">Rustup 1.20.0リリース：プロファイルのサポート、更新およびdocコマンドの改善</a></li>
<li><a href="../ja471618/index.html">PythonからのC / C ++（ブースト）</a></li>
<li><a href="../ja471620/index.html">Kubernetesでのデプロイ戦略：ローリング、再作成、ブルー/グリーン、カナリア、ダーク（A / Bテスト）</a></li>
<li><a href="../ja471622/index.html">Xamarin.Forms-ホストベースのカードエミュレーションの簡単な例</a></li>
<li><a href="../ja471626/index.html">人のためのAI：テクノロジーに関する簡単な言葉</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>