<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§ö üê± ü§ì Mengadaptasi solusi bisnis Anda yang sudah ada untuk SwiftUI. Bagian 3. Bekerja dengan arsitektur ü§üüèº ü¶Ä üë®‚Äçüë©‚Äçüëß‚Äçüë¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Hari baik untuk semua! Bersama Anda, saya, Anna Zharkova, pengembang seluler terkemuka Usetech, kami
 
 terus membongkar seluk-beluk SwiftUI. Bagian s...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mengadaptasi solusi bisnis Anda yang sudah ada untuk SwiftUI. Bagian 3. Bekerja dengan arsitektur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500470/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hari baik untuk semua! </font><font style="vertical-align: inherit;">Bersama Anda, saya, Anna Zharkova, pengembang seluler terkemuka </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usetech, kami</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
terus membongkar seluk-beluk SwiftUI. </font><font style="vertical-align: inherit;">Bagian sebelumnya dapat ditemukan di tautan: </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian 1 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian 2</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hari ini kita akan berbicara tentang fitur arsitektur, dan cara mentransfer dan menanamkan logika bisnis yang ada ke dalam aplikasi SwiftUI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aliran data standar dalam SwiftUI didasarkan pada interaksi View dan model tertentu yang berisi properti dan variabel keadaan, atau yang merupakan variabel keadaan tersebut. </font><font style="vertical-align: inherit;">Oleh karena itu, adalah logis bahwa MVVM adalah mitra arsitektur yang direkomendasikan untuk aplikasi SwiftUI. </font><font style="vertical-align: inherit;">Apple menyarankan untuk menggunakannya bersamaan dengan kerangka kerja Combine, yang memperkenalkan Api SwiftUI deklaratif untuk memproses nilai dari waktu ke waktu. </font><font style="vertical-align: inherit;">ViewModel mengimplementasikan protokol ObservableObject dan menghubungkannya sebagai ObservedObject ke View tertentu.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dd/ur/cp/ddurcpkb3o-tgqdmwl1gswmqvck.png"><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Properti model yang dapat dimodifikasi dinyatakan sebagai @Published. </font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">NewsItemModel</span>: <span class="hljs-title">ObservableObject</span> </span>{<font></font>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> title: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> description: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> image: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> dateFormatted: <span class="hljs-type">String</span> = <span class="hljs-string">""</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti dalam MVVM klasik, ViewModel berkomunikasi dengan model data (mis. Logika bisnis) dan mentransfer data dalam satu bentuk atau lainnya.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">NewsItemContentView</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">ObservedObject</span> <span class="hljs-keyword">var</span> moder: <span class="hljs-type">NewsItemModel</span><font></font>
    <font></font>
    <span class="hljs-keyword">init</span>(model: <span class="hljs-type">NewsItemModel</span>) {
        <span class="hljs-keyword">self</span>.model = model <font></font>
    }<font></font>
    <span class="hljs-comment">//... - </span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MVVM, seperti hampir semua pola lainnya, memiliki kecenderungan kemacetan dan </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
redundansi. ViewModel yang kelebihan beban selalu bergantung pada seberapa baik logika bisnis disorot dan disarikan. Beban Tampilan ditentukan oleh kompleksitas ketergantungan elemen pada variabel status dan transisi ke Tampilan lainnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di SwiftUI, yang ditambahkan adalah bahwa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">View adalah struktur, bukan kelas</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan karenanya </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tidak mendukung warisan, memaksa duplikasi kode.</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Jika dalam aplikasi kecil ini tidak kritis, maka dengan pertumbuhan fungsionalitas dan kompleksitas logika, kelebihan menjadi kritis, dan sejumlah besar menghambat copy-paste.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita coba menggunakan pendekatan kode bersih dan arsitektur bersih dalam kasus ini. Kami tidak bisa sepenuhnya meninggalkan MVVM, lagipula, DataFlow SwiftUI dibangun di atasnya, tetapi cukup sedikit untuk membangun kembali. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Peringatan! </font></font><br>
</i><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda alergi terhadap artikel tentang arsitektur, dan Bersihkan kode dari frase, gulir ke bawah beberapa paragraf. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini bukan kode Bersihkan dari Paman Bob!</font></font><br>
</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Ya, kami tidak akan mengambil Kode Bersih Paman Bob dalam bentuk yang paling murni. Bagi saya, ada over-engineering di dalamnya. Kami hanya akan mengambil ide. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagasan utama kode bersih adalah membuat kode yang paling mudah dibaca, yang kemudian dapat diperluas dan dimodifikasi tanpa rasa sakit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada beberapa prinsip pengembangan perangkat lunak yang direkomendasikan untuk dipatuhi.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ep/yb/qx/epybqx2vc9lfjagxz2nlkawvzqc.png" width="50%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Banyak orang mengenal mereka, tetapi tidak semua orang menyukai dan tidak semua orang menggunakannya. Ini adalah topik terpisah untuk holivar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk memastikan kemurnian kode, setidaknya perlu untuk membagi kode menjadi lapisan fungsional dan modul, gunakan solusi umum masalah dan menerapkan abstraksi interaksi antara komponen. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan setidaknya Anda perlu memisahkan kode UI dari apa yang disebut logika bisnis.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terlepas dari pola arsitektur yang dipilih, logika bekerja dengan database dan jaringan, pemrosesan dan penyimpanan data dipisahkan dari UI dan modul aplikasi itu sendiri. Pada saat yang sama, modul bekerja dengan implementasi layanan atau penyimpanan, yang pada gilirannya mengakses layanan umum dari permintaan jaringan atau penyimpanan data umum. Inisialisasi variabel dengan mana Anda dapat mengakses satu atau layanan lain dilakukan dalam wadah umum tertentu, di mana modul aplikasi (modul logika bisnis) akhirnya mengakses. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xj/5m/wj/xj5mwjxvmfme_cg6li2rowb9eny.png" width="75%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kita telah memilih dan mengabstraksi logika bisnis, maka kita dapat mengatur interaksi antara komponen-komponen modul sesuka kita. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada prinsipnya, semua pola aplikasi iOS yang ada beroperasi dengan prinsip yang sama.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/s_/b6/zl/s_b6zlrz8qcadakh4tgc75nh5da.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selalu ada logika bisnis, ada data. Ada juga manajer panggilan, yang bertanggung jawab untuk penyajian dan transformasi data untuk output dan di mana data yang dikonversi adalah output. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Satu-satunya perbedaan adalah bagaimana peran didistribusikan antar komponen.</font></font><br>
<br>
</b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Karena kami berusaha keras agar aplikasi dapat dibaca, untuk menyederhanakan perubahan saat ini dan di masa depan, adalah logis untuk memisahkan semua peran ini. Logika bisnis kami telah disorot, data selalu dipisahkan. Tetap pengirim, presenter dan lihat. Sebagai hasilnya, kami mendapatkan arsitektur yang terdiri dari View-Interactor-Presenter, di mana interaksor berinteraksi dengan layanan logika bisnis, presenter mengubah data dan memberikannya sebagai semacam ViewModel ke View kami. Dengan cara yang baik, navigasi dan konfigurasi juga diambil dari View menjadi komponen yang terpisah.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-g/wf/bx/-gwfbxs-tyq0noqy2kr87dm3-nw.png" width="75%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendapatkan arsitektur VIP + R dengan pembagian peran kontroversial ke dalam berbagai komponen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita coba lihat sebuah contoh. </font><font style="vertical-align: inherit;">Kami memiliki aplikasi agregator berita kecil yang </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ditulis dalam bahasa SwiftUI dan MVVM. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h-/ds/od/h-dsodxehcqsfbzn1oo0nruhx-y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi memiliki 3 layar terpisah dengan logikanya sendiri, yaitu 3 modul:‚Ä®</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modul daftar berita;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modul layar berita;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modul pencarian berita.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setiap modul terdiri dari ViewModel, yang berinteraksi dengan logika bisnis yang dipilih, dan View, yang menampilkan apa yang disiarkan ViewModel padanya. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/50/d1/7f/50d17fsmobld9mjgujdz3pe4f8g.png" width="60%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami berusaha keras untuk memastikan bahwa ViewModel hanya peduli dengan menyimpan data yang siap untuk ditampilkan. Sekarang dia terlibat dalam mengakses layanan dan memproses hasilnya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mentransfer peran-peran ini ke presenter dan berinteraksi, yang kami siapkan untuk setiap </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
modul. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5e/hd/i8/5ehdi8kd3otiltlepisfdr9pzua.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Interaktor mengirimkan data yang diterima dari layanan ke presenter, yang mengisi ViewModel yang ada terikat dengan View dengan data yang disiapkan. Pada prinsipnya, berkenaan dengan pemisahan logika bisnis dari modul, semuanya sederhana. ‚Ä®</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang buka View. </font><font style="vertical-align: inherit;">Mari kita coba menangani duplikasi kode paksa. </font><font style="vertical-align: inherit;">Jika kita berhadapan dengan semacam kontrol, maka itu mungkin gaya atau pengaturannya. </font><font style="vertical-align: inherit;">Jika kita berbicara tentang Tampilan di layar, maka ini:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gaya layar</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> elemen UI umum (LoadingView);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peringatan informasi;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beberapa metode umum.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita tidak bisa menggunakan warisan, tetapi kita bisa </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menggunakan komposisi</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dengan prinsip inilah semua Tampilan kustom di SwiftUI dibuat. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami membuat wadah Tampilan, di mana kami mentransfer semua logika yang sama, dan meneruskan Tampilan di layar ke penginisialisasi wadah dan kemudian menggunakannya sebagai Tampilan konten di dalam tubuh.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContainerView</span>&lt;<span class="hljs-title">Content</span>&gt;: <span class="hljs-title">IContainer</span>, <span class="hljs-title">View</span> <span class="hljs-title">where</span> <span class="hljs-title">Content</span>: <span class="hljs-title">View</span> </span>{<font></font>
    @<span class="hljs-type">ObservedObject</span> <span class="hljs-keyword">var</span> containerModel = <span class="hljs-type">ContainerModel</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> content: <span class="hljs-type">Content</span><font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(content: <span class="hljs-type">Content</span>) {
        <span class="hljs-keyword">self</span>.content = content<font></font>
    }<font></font>
<font></font>
    <span class="hljs-keyword">var</span> body : some <span class="hljs-type">View</span> {
        <span class="hljs-type">ZStack</span> {<font></font>
            content<font></font>
            <span class="hljs-keyword">if</span> (<span class="hljs-keyword">self</span>.containerModel.isLoading) {
                <span class="hljs-type">LoaderView</span>()<font></font>
            }<font></font>
        }.alert(isPresented: $containerModel.hasError){<font></font>
            <span class="hljs-type">Alert</span>(title: <span class="hljs-type">Text</span>(<span class="hljs-string">""</span>), message: <span class="hljs-type">Text</span>(containerModel.errorText),<font></font>
                 dismissButton: .<span class="hljs-keyword">default</span>(<span class="hljs-type">Text</span>(<span class="hljs-string">"OK"</span>)){
                <span class="hljs-keyword">self</span>.containerModel.errorShown()<font></font>
                })<font></font>
        }<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampilan di layar tertanam dalam ZStack di dalam body ContainerView, yang juga berisi kode untuk menampilkan LoadingView dan kode untuk menampilkan peringatan informasi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita juga membutuhkan ContainerView untuk menerima sinyal dari Model View dari tampilan internal dan memperbarui kondisinya. </font><font style="vertical-align: inherit;">Kami tidak dapat berlangganan melalui @Observed ke model yang sama </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dengan tampilan internal, karena kami akan menyeret sinyalnya. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hg/y4/gv/hgy4gvxu5fbdn4lbxs6vuzggrca.png" width="60%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, kami menjalin komunikasi dengannya melalui pola delegasi, dan untuk kondisi wadah saat ini kami menggunakan ContainerModel sendiri.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ContainerModel</span>:<span class="hljs-title">ObservableObject</span> </span>{<font></font>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> hasError: <span class="hljs-type">Bool</span> = <span class="hljs-literal">false</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> errorText: <span class="hljs-type">String</span> = <span class="hljs-string">""</span>
    @<span class="hljs-type">Published</span> <span class="hljs-keyword">var</span> isLoading: <span class="hljs-type">Bool</span> = <span class="hljs-literal">false</span><font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">setupError</span><span class="hljs-params">(error: String)</span></span>{
     <span class="hljs-comment">//....</span><font></font>
       }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">errorShown</span><span class="hljs-params">()</span></span> {
     <span class="hljs-comment">//...</span><font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showLoading</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">self</span>.isLoading = <span class="hljs-literal">true</span><font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hideLoading</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">self</span>.isLoading = <span class="hljs-literal">false</span><font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ContainerView mengimplementasikan protokol IContainer, sebuah referensi instance ditugaskan untuk model View tertanam. </font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span>  <span class="hljs-title">IContainer</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showError</span><span class="hljs-params">(error: String)</span></span><font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showLoading</span><span class="hljs-params">()</span></span><font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hideLoading</span><span class="hljs-params">()</span></span><font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContainerView</span>&lt;<span class="hljs-title">Content</span>&gt;: <span class="hljs-title">IContainer</span>, <span class="hljs-title">View</span> <span class="hljs-title">where</span> <span class="hljs-title">Content</span>: <span class="hljs-title">View</span>&amp;<span class="hljs-title">IModelView</span> </span>{<font></font>
    @<span class="hljs-type">ObservedObject</span> <span class="hljs-keyword">var</span> containerModel = <span class="hljs-type">ContainerModel</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> content: <span class="hljs-type">Content</span><font></font>
<font></font>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">init</span>(content: <span class="hljs-type">Content</span>) {
        <span class="hljs-keyword">self</span>.content = content
        <span class="hljs-keyword">self</span>.content.viewModel?.listener = <span class="hljs-keyword">self</span><font></font>
    }<font></font>
    <span class="hljs-comment">//- </span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lihat mengimplementasikan protokol IModelView untuk merangkum akses model dan menyatukan beberapa logika. </font><font style="vertical-align: inherit;">Model untuk tujuan yang sama mengimplementasikan protokol IModel:</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">protocol</span> <span class="hljs-title">IModelView</span> </span>{
    <span class="hljs-keyword">var</span> viewModel: <span class="hljs-type">IModel?</span> {<span class="hljs-keyword">get</span>}<font></font>
}<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">protocol</span>  <span class="hljs-title">IModel</span>:<span class="hljs-title">class</span> </span>{
   <span class="hljs-comment">//....</span>
    <span class="hljs-keyword">var</span> listener:<span class="hljs-type">IContainer?</span> {<span class="hljs-keyword">get</span> <span class="hljs-keyword">set</span>}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian, sudah dalam model ini, jika perlu, metode delegasi dipanggil, misalnya, untuk menampilkan peringatan dengan kesalahan di mana variabel keadaan model wadah berubah.</font></font><br>
<br>
<pre><code class="swift hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">ContainerView</span>&lt;<span class="hljs-title">Content</span>&gt;: <span class="hljs-title">IContainer</span>, <span class="hljs-title">View</span> <span class="hljs-title">where</span> <span class="hljs-title">Content</span>: <span class="hljs-title">View</span>&amp;<span class="hljs-title">IModelView</span> </span>{<font></font>
    @<span class="hljs-type">ObservedObject</span> <span class="hljs-keyword">var</span> containerModel = <span class="hljs-type">ContainerModel</span>()
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">var</span> content: <span class="hljs-type">Content</span><font></font>
<font></font>
    <span class="hljs-comment">//- </span>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showError</span><span class="hljs-params">(error: String)</span></span> {
        <span class="hljs-keyword">self</span>.containerModel.setupError(error: error)<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">showLoading</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">self</span>.containerModel.showLoading()<font></font>
    }<font></font>
    <font></font>
    <span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hideLoading</span><span class="hljs-params">()</span></span> {
        <span class="hljs-keyword">self</span>.containerModel.hideLoading()<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita dapat menyatukan pekerjaan View dengan beralih ke bekerja melalui ContainerView. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini akan sangat memudahkan hidup kita ketika bekerja dengan konfigurasi modul dan navigasi berikut. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana mengkonfigurasi navigasi di SwiftUI dan membuat konfigurasi bersih, kita akan berbicara di depan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bagian</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menemukan kode sumber dari contoh di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sini</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id500454/index.html">"Marina apa?" atau kami mengontrol pengontrol via bluetooth menggunakan aplikasi seluler di Xamarin (Android)</a></li>
<li><a href="../id500456/index.html">BpfTrace - akhirnya, pengganti lengkap untuk Dtrace di Linux</a></li>
<li><a href="../id500458/index.html">Fitur Teknis Ucapan Online: Paket Pemula</a></li>
<li><a href="../id500462/index.html">Mendeteksi perubahan adegan dan menyimpan klip video h264 ke Raspberry Pi tanpa decoding</a></li>
<li><a href="../id500468/index.html">Panduan Fitur Java 8-14</a></li>
<li><a href="../id500472/index.html">Python adalah waktu untuk memberi ruang. Tentang prospek Julia</a></li>
<li><a href="../id500476/index.html">Ketidakpastian</a></li>
<li><a href="../id500478/index.html">Tetris pada selongsong: bahan permeabel gas untuk elektronik yang dapat dipakai</a></li>
<li><a href="../id500484/index.html">Komponen Web Alih-alih Bereaksi - Upaya Lain</a></li>
<li><a href="../id500486/index.html">Bagaimana menjelaskan notasi biner</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>