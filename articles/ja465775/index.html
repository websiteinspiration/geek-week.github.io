<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👐🏼 💄 👨🏻‍🌾 CentOS7ベースのLTSPサーバー 👨🏿‍🔬 👨🏽‍💻 🥔</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、ハブルの親愛なる居住者。
 
 LTSPの記事に触発されて：Linuxターミナルサーバーは、CentOS 7でのみ同じことを行うことを決定しました。インターネットを歩き回って情報のほんの一部だけを見つけ、CentOS 5の古い指示を見つけた後、私はすべての手順をゼロから始めました。
 
...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CentOS7ベースのLTSPサーバー</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/465775/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、ハブルの親愛なる居住者。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LTSPの記事に触発されて：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linuxターミナルサーバー</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、CentOS 7でのみ同じことを行うことを決定しました。インターネットを歩き回って情報のほんの一部だけを見つけ、CentOS 5の古い指示を見つけた後、私はすべての手順をゼロから始めました。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、ネットワーク上にDHCPサーバーとTFTPサーバーが既に構成されていることを前提としています。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのCentOS 7テストベンチはVirtualBoxにデプロイされました（彼だけが手元にあったので、私をこれに蹴り込まないでください）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それでは、始めましょう... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドを入力した後</font></font><br>
<br>
<pre><code class="xml hljs">yum install ltsp-server-standalone</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パッケージがどのリポジトリにもないことをひどく発見しました。</font><font style="vertical-align: inherit;">パッケージの名前をltsp-server、ltspに変更しようとしましたが、すべて無効になりました。</font><font style="vertical-align: inherit;">リポジトリにパッケージがありません。</font><font style="vertical-align: inherit;">OK。</font><font style="vertical-align: inherit;">良い。</font><font style="vertical-align: inherit;">LTSP.orgプロジェクトのサイトにアクセスしましたが、CentOSシステムのリストにはありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
わかった。</font><font style="vertical-align: inherit;">しかし、彼はあきらめませんでした。</font><font style="vertical-align: inherit;">最も単純なクエリltsp-server-standalone CentOS 7を使用してGoogleに</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクセスし</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、結果の順序を</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">スクロール</font></a><font style="vertical-align: inherit;">すると、</font><font style="vertical-align: inherit;">必要なパッケージ</font><font style="vertical-align: inherit;">が</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">含まれて</font></a><font style="vertical-align: inherit;">いる</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">awale.qc.ca</font></a><font style="vertical-align: inherit;">リポジトリが</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">見つかりました</font></a><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パッケージがまだ見つかったことに喜んで、次のコマンドを入力します</font></font><br>
<br>
<pre><code class="xml hljs">rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/ltsp-server-5.4.5-19.20130427.08.el6.x86_64.rpm </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サーバーに必要なパッケージの膨大なリストを取得します。</font></font><br>
<br>
<s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その時、私は正直にすべてを落としたかったのですが、面白くなりました。「飛び上がる」かどうかです。</font></font></s><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OK。</font><font style="vertical-align: inherit;">パッケージのリストを確認します。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パッケージリスト</font></font></b><div class="spoiler_text"><ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bridge-utils</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DHCP</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ダイアログ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒューズ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒューズ開発</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ヒューズライブラリ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ldm</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ldminfod</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lsb</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ltspfs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モック</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nfs-utils</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">perl（NetAddr :: IP）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">squashfs-tools</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tftp-server</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xinetd </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">xorg-x11-xdm</font></font></li>
</ol><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、親愛なる、始めましょう。</font></font><br>
 <br>
<pre><code class="xml hljs">yum install bridge-utils</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
安定したパッケージを見て楽しんでいます。</font><font style="vertical-align: inherit;">その後、繰り返します</font></font><br>
<br>
<pre><code class="xml hljs">rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/ltsp-server-5.4.5-19.20130427.08.el6.x86_64.rpm</code></pre> <br>
<s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（インストールする必要のあるパッケージを忘れないように、私はすでにこれを自分で行いました）、</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同じリストですが、最初の行</font><s><font style="vertical-align: inherit;">はありません</font></s><font style="vertical-align: inherit;">。</font></font><br>
<br>
<pre><code class="xml hljs">yum install dhcp dialog fuse fuse-devel (fuse-libs    )</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それから彼はyum install ldmを紹介し、悲しみました。</font><font style="vertical-align: inherit;">パッケージは再びリポジトリから欠落しています。</font><font style="vertical-align: inherit;">OK。</font><font style="vertical-align: inherit;">良い。</font><font style="vertical-align: inherit;">上記のリポジトリからパッケージを取得します。</font></font><br>
<br>
<pre><code class="xml hljs">rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/ldm-2.2.11-4.el6.x86_64.rpm</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして再び、そうではない依存関係の束。</font><font style="vertical-align: inherit;">ここにリストがあります：</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依存関係</font></font></b><div class="spoiler_text"><ol>
<li>libX11.so</li>
<li>libXext.so</li>
<li>libatk-1.0.so</li>
<li>libcairo.so.2</li>
<li>libfontconfig.so.1</li>
<li>libgdk-x11-2.0.so</li>
<li>libgdk_pixbuf-2.0.so</li>
<li>libgtk-x11-2.0.so</li>
<li>libpango-1.0.so</li>
<li>libpangocairo-1.0.so</li>
<li>libpangoft.-1.0.so</li>
<li>nc</li>
</ol><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで私は最も単純なものから始めました： </font></font><pre><code class="xml hljs">yum install nc</code></pre><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nmap-ncatとlibpcapの2つのパッケージが登場しました。</font><font style="vertical-align: inherit;">私の喜びは無限でした。</font><font style="vertical-align: inherit;">次のパッケージの名前を入力しようとしています。リポジトリに1つではなく、もっと暗いです。</font><font style="vertical-align: inherit;">良い。</font><font style="vertical-align: inherit;">Googleを使用して、依存関係を処理しています。</font><font style="vertical-align: inherit;">インストールは続行されます。</font></font><br>
<br>
<pre><code class="xml hljs">yum install lsb ( 158 )<font></font>
rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/ldm-2.2.11-4.el6.x86_64.rpm (   )<font></font>
rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/ldminfod-2.2.11-4.el6.x86_64.rpm <font></font>
rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/ltspfs-1.1-7.el6.x86_64.rpm<font></font>
rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/mock-1.1.32-1.el6.noarch.rpm </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、ここでも間違いです。</font><font style="vertical-align: inherit;">解決する必要のある依存関係の束。</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">依存関係</font></font></b><div class="spoiler_text"><ol>
<li>createrepo</li>
<li>pigz</li>
<li>python(abi)</li>
<li>python-decoratortools</li>
<li>usermode</li>
<li>yum-utils</li>
</ol><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
良い。</font><font style="vertical-align: inherit;">パッケージを入れ始めます。</font><font style="vertical-align: inherit;">最初は、yum-utilsでした。</font></font><br>
<br>
<pre><code class="xml hljs">yum install yum-utils<font></font>
rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/pigz-2.2.5-1.el6.x86_64.rpm (     )<font></font>
yum install perl ( )<font></font>
yum install nfs-utils<font></font>
yum install mock<font></font>
yum install tftp-server<font></font>
yum install xinetd<font></font>
rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/perl-File-BaseDir-0.03-12.1.noarch.rpm (       )<font></font>
rpm -i https://kojipkgs.fedoraproject.org//packages/xorg-x11-xdm/1.1.11/20.fc31/x86_64/xorg-x11-xdm-debugsource-1.1.11-20.fc31.x86_64.rpm (  )<font></font>
yum install libxaw<font></font>
yum install libXdmcp<font></font>
yum install xorg-x11-xinit-session<font></font>
yum install libXxf86misc<font></font>
rpm -i https://kojipkgs.fedoraproject.org//packages/xorg-x11-xinit/1.4.0/4.fc30/x86_64/xorg-x11-xinit-debugsource-1.4.0-4.fc30.x86_64.rpm</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コマンドでこれらすべてに半日（依存関係とパッケージを探すためにそれらのほとんど）苦しめられました。</font></font><br>
<br>
<pre><code class="xml hljs"> rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/ltsp-server-5.4.5-19.20130427.08.el6.x86_64.rpm </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ようやく </font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2つの依存関係</font></font></b><div class="spoiler_text"> <br>
<ol>
<li>perl(NetAddr::IP)</li>
<li>squashfs-tools</li>
</ol><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは前進し続けます。</font></font><br>
<br>
<pre><code class="xml hljs">yum install squashfs-tools<font></font>
yum install perl-NetAddr-IP<font></font>
</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最終的に </font></font><br>
<br>
<pre><code class="xml hljs">rpm -i http://awale.qc.ca/CentOS/ltsp5/el6/x86_64/ltsp-server-5.4.5-19.20130427.08.el6.x86_64.rpm.</code></pre> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
やったー！</font><font style="vertical-align: inherit;">やったー！</font><font style="vertical-align: inherit;">やったー！</font><font style="vertical-align: inherit;">パッケージが正常にインストールされました。</font><font style="vertical-align: inherit;">最後に、シンクライアントの組み立てを開始できます。</font><b><font style="vertical-align: inherit;">ltsp-build-client</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
スクリプトを開始し</font><font style="vertical-align: inherit;">、プログレスバーがイメージの作成をどのように楽しく作成しているかを確認します...そして、これがないとエラーがポップアップします。</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<pre><code class="xml hljs">Could not retrieve mirrorlist http://ltsp.repo.inode0.com/mirrorlist.php&amp;dist=el6&amp;arch=i386&amp;repo=ltsp error was 12</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、すべては明らかです-接続タイムアウト。</font><font style="vertical-align: inherit;">さて、このリポジトリなしでやってみましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
パス</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ etc / ltsp / mock /</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たどる</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><font style="vertical-align: inherit;">、ファイル</font><b><font style="vertical-align: inherit;">epel-6-i386.cfgが見つかり</font></b><font style="vertical-align: inherit;">、LTSPリポジトリに関連するすべてのものにコメントします。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ltsp-build-client</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を起動し、</font><b><font style="vertical-align: inherit;">うれしい</font></b><font style="vertical-align: inherit;">ことにシンクライアントのビルドを観察します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
組み立て後、必要なすべてのソフトウェアをltsp-chrootコマンドで作成したイメージにインストールできます。必要なすべてのソフトウェアをイメージにインストールした後（それぞれに独自のセットがあります）、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ltsp-image-update</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コマンドで</font><b><font style="vertical-align: inherit;">イメージを更新し</font></b><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
まあ、それは基本的にそれです。</font><font style="vertical-align: inherit;">これでサーバーのセットアップが完了しました。</font><font style="vertical-align: inherit;">ご清聴ありがとうございました。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja465761/index.html">モーションスムージングは​​映画館を殺します</a></li>
<li><a href="../ja465763/index.html">プレゼンテーションアプリケーションプレゼンテーション</a></li>
<li><a href="../ja465765/index.html">モバイル開発者向けの興味深い資料の要約＃313（8月26日-9月1日）</a></li>
<li><a href="../ja465767/index.html">デザイナーからプログラマーに転職した後の個人的な経験と結論</a></li>
<li><a href="../ja465773/index.html">Windows 10 1903を使用したラップトップの更新-レンガからすべてのデータの損失まで。更新がユーザー以上のものになるのはなぜですか？</a></li>
<li><a href="../ja465779/index.html">Yealink T19自動プロビジョニング+動的アドレス帳</a></li>
<li><a href="../ja465781/index.html">Kotlinのコルーチンを使用してカスタムOkhttpブレーカーを作成する方法</a></li>
<li><a href="../ja465783/index.html">ロシアのゲーム開発者、無意味で無慈悲</a></li>
<li><a href="../ja465787/index.html">ヤギが大好き</a></li>
<li><a href="../ja465789/index.html">Cisco 200-125 CCNA v3.0のトレーニング。29日目。PATとNAT</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>