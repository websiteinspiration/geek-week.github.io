<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üõ´ üöà üöû Como integrei o terminal POS e o FR IKKM-Touch em 1C: empresa üë∏üèª üéâ üôáüèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Uma instru√ß√£o passo a passo responder√° √† maioria das perguntas sobre como conectar um dispositivo 2in1 a uma plataforma 1C (mesmo que n√£o responda a t...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Como integrei o terminal POS e o FR IKKM-Touch em 1C: empresa</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500152/"><img src="https://habrastorage.org/getpro/habr/post_images/c12/c96/d83/c12c96d8354cf3619385e4d3dc5f034f.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma instru√ß√£o passo a passo responder√° √† maioria das perguntas sobre como conectar um dispositivo 2in1 a uma plataforma 1C (mesmo que n√£o responda a todas, teremos o prazer de analisar o restante nos coment√°rios), mostrar poss√≠veis op√ß√µes e modos de conex√£o, drivers e o software necess√°rio. </font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O artigo original em minha apresenta√ß√£o sobre esse assunto j√° est√° na Internet, e essa op√ß√£o foi reescrita e finalizada especialmente para os leitores de Habr, em conformidade com as regras (espero n√£o ter quebrado nada). </font><font style="vertical-align: inherit;">Assim‚Ä¶</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Intera√ß√£o de equipamentos de caixa com a plataforma 1C</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Antes de prosseguir diretamente para a conex√£o, analisaremos as op√ß√µes poss√≠veis para os modos de opera√ß√£o, existem apenas duas delas: troca de dados offline e troca online.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando troca OFFLINE</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ocorre uma troca peri√≥dica e intermitente. </font><font style="vertical-align: inherit;">A base do estoque e os pre√ßos de 1C s√£o descarregados no dispositivo. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/c53/e58/7d6/c53e587d620a8b51c60032a7c58cd5d2.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O correio, por exemplo, pega a m√°quina e vai para o campo com os pedidos, entregando cheques fiscais aos clientes e aceitando dinheiro e cart√µes banc√°rios para pagamento. </font><font style="vertical-align: inherit;">Ap√≥s o final do dia √∫til, o funcion√°rio retorna para enviar o relat√≥rio e o dinheiro, o dispositivo se conecta √† rede local da empresa e carrega os resultados do turno (relat√≥rio de vendas no varejo, veja a figura abaixo).</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2ad/901/4c6/2ad9014c645d9bf22847fc1278beaccc.jpg" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cl√°ssicos da troca de g√™nero-ONLINE</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este √© um link permanente do equipamento da caixa registradora para o sistema de contabilidade, o dispositivo est√° sempre instalado na caixa registradora, embora n√£o seja necess√°rio fazer upload de toda a gama de itens e pre√ßos para ele, todos os dados s√£o retirados do 1C pela rede. </font><font style="vertical-align: inherit;">Este modo de opera√ß√£o do equipamento da caixa registradora pode ser encontrado em qualquer supermercado moderno.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">E mais algumas coisas antes de iniciar a integra√ß√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o dispositivo √© uma caixa registradora e, ao mesmo tempo, um terminal adquirente, no caso de troca ONLINE para a plataforma 1C, ele se apega a dois drivers diferentes (como dois dispositivos separados). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos integrar usando: </font></font><br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">driver do registrador fiscal vers√£o 1.9 para a plataforma 1C 8.3 </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adquirindo o driver do terminal vers√£o 1.9 para a mesma plataforma </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OFFLINE IKKM Exchange vers√£o 1.6 software de troca de dados</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Integre-se √† troca OFFLINE</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Descompacte o arquivo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iKKMExchange.rar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no link acima para um local conveniente. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/49e/567/6dd/49e5676dd469eb5db4f530e6b600553f.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Execute o script </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">createINI.bat</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e o arquivo de configura√ß√µes </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ser√° criado. </font><font style="vertical-align: inherit;">Vamos </font><b><font style="vertical-align: inherit;">nos</font></b></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/779/43c/5c2/77943c5c22ebf5bc6e7971d3828183cf.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
concentrar nas configura√ß√µes abrindo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> em qualquer editor de texto: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cbb/bc7/e2b/cbbbc7e2b988b0ffe3c382acfb7123a9.jpg" alt="imagem"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Log": "off"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - log de opera√ß√£o do aplicativo est√° desativado por padr√£o. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RecNumLim: 2500</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m√°x. n√∫mero de unidades de manuten√ß√£o de estoque (SKU) na base de estoque. 2500 √© o d√≠gito padr√£o. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"IPPort":</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> porta </font><b><font style="vertical-align: inherit;">8082</font></b><font style="vertical-align: inherit;"> na qual a troca ser√° feita com 1C. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Dinheiro": 0, "Banco": 1, "Tara": 2, "Cr√©dito": 3</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - esses s√£o os par√¢metros que devem ser id√™nticos no lado 1C da plataforma. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dinheiro</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sign indica retirada de dinheiro. </font></font><br>
 <br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Banco -</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indica aceita√ß√£o do pagamento com cart√£o banc√°rio. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tara -</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> indica a recep√ß√£o de cont√™ineres. </font><font style="vertical-align: inherit;">O sinal √© usado como contabilidade de desconto, no atual sistema de fidelidade, etc. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©dito</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - designa√ß√£o de cr√©dito. </font></font><br>
<br>
<b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para que a troca ocorra corretamente, √© necess√°rio verificar e corrigir os sinais por seus nomes e n√∫meros de identifica√ß√£o no lado 1C. </font></font></i></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fazemos altera√ß√µes a nosso crit√©rio, salve o arquivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s as configura√ß√µes, voc√™ pode executar o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">iKKMExchange.exe. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ap√≥s um in√≠cio bem-sucedido, o √≠cone com o mesmo nome aparecer√° na barra de tarefas da √°rea de trabalho.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/4b8/131/fe8/4b8131fe8674d3c155aefe5623e69ba8.png" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prosseguimos para a configura√ß√£o na lateral do dispositivo IKKM integrado</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer isso, v√° para o item </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Configura√ß√µes do dispositivo"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no </font><b><font style="vertical-align: inherit;">dispositivo e</font></b><font style="vertical-align: inherit;"> , em seguida, para </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Importar"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , na janela que se abre, execute os procedimentos mostrados no v√≠deo abaixo:</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/https://translate" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver no tutorial em v√≠deo, na janela </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Configura√ß√£o da conex√£o",</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© necess√°rio prestar aten√ß√£o especial ao preenchimento de duas linhas: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Diret√≥rio de produtos HTTP"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Registro de documentos HTTP"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os dois links come√ßam com o endere√ßo IP do PC, onde integraremos, e a porta de conex√£o (especificada anteriormente em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) √© </font><font style="vertical-align: inherit;">registrada </font><font style="vertical-align: inherit;">, ap√≥s a barra o comando permanece inalterado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, a sequ√™ncia de links de refer√™ncia ficar√° assim: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.0.11:8082/GetPriceList,</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> levando em considera√ß√£o a porta de conex√£o padr√£o. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E a linha do di√°rio do documento √©: </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">192.168.0.11:8082/SalesReport</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para fazer altera√ß√µes nas linhas, voc√™ precisa chamar o teclado virtual na tela do dispositivo pressionando o bot√£o f√≠sico no dispositivo com o √≠cone "seta para cima", localizado no canto inferior esquerdo do dispositivo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pode acontecer que, durante o processo de instala√ß√£o, voc√™ encontre listas suspensas inativas na guia </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Configura√ß√£o de importa√ß√£o"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o que impossibilita a realiza√ß√£o de mais integra√ß√£o. Isso indica um firmware desatualizado do dispositivo. A atualiza√ß√£o do firmware para a vers√£o mais recente corrigir√° a situa√ß√£o. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b6f/9a3/e47/b6f9a3e47d053e602bbe7e4228183ba5.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, volte para a pasta com o aplicativo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IKKMExchange</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se as configura√ß√µes na lateral do dispositivo forem feitas corretamente, a primeira intera√ß√£o com o PC pela rede criar√° uma subpasta interna, cujo nome ser√° o n√∫mero de registro do dispositivo IKKM conectado. </font><font style="vertical-align: inherit;">Todos os dados de troca para um dispositivo espec√≠fico ocorrer√£o nesta pasta. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/560/f8b/04c/560f8b04cdba6d79683297db43e20225.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A troca de dados ocorre atrav√©s da </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API REST</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Uma troca bem-sucedida na pasta ter√° a seguinte apar√™ncia:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8e4/8d9/fa6/8e48d9fa6cdafc98005daf3ca61563f9.png" alt="imagem"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configura√ß√£o OFFLINE no lado 1C</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Estamos estabelecendo uma nova regra de troca com equipamentos conectados. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/286/904/5e2/2869045e2a2c3ae9a2e93265eb4c8470.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na janela </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Configura√ß√µes do equipamento conectado",</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© necess√°rio definir a caixa de sele√ß√£o correspondente; depois, iremos para o link </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Regras para a troca com o equipamento conectado"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a0c/393/d7d/a0c393d7dbd393e97ee92ed2fa2c67ef.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Criaremos uma nova regra de troca com o nome e o dep√≥sito para descarregar itens de mercadorias, tamb√©m indicaremos os par√¢metros pelos quais as mercadorias ser√£o selecionadas para descarregar no campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Sele√ß√£o"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/eb9/f21/38a/eb9f2138a80ef8a8b767e6d30bcdb813.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando voc√™ clica em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Atualizar"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na guia </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Lista de pre√ßos"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , observamos o preenchimento da se√ß√£o tabular abaixo com itens de mercadorias de acordo com a sele√ß√£o. Coluna </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"SKU"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cont√©m o c√≥digo de cada produto na lista, com a ajuda da qual j√° √© poss√≠vel encontrar facilmente a nomenclatura necess√°ria no dispositivo. Se alguns produtos da lista n√£o contiverem o c√≥digo SKU, √© melhor cri√°-lo usando a chave </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Gerar SKU"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Salve as altera√ß√µes. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a59/df5/6bb/a59df56bb29f307f7c906b0faadffece.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora voc√™ precisa associar a regra criada ao equipamento. Para isso, retornaremos √† janela </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Configurando equipamento conectado"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , clique no link </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Equipamento conectado"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f8b/9db/edb/f8b9dbedbd6080cd3d6ef1e6663de2c3.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selecionamos o tipo de equipamento apropriado, clique em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Criar"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , em uma nova janela, voc√™ precisa especificar o driver, a regra de troca que criamos anteriormente, o n√∫mero de s√©rie do dispositivo pode ser especificado, mas n√£o obrigat√≥rio.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/0d8/f6f/874/0d8f6f874b692c10a7049ce6831ea66b.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Realizaremos configura√ß√µes adicionais do equipamento conectado, clicando em </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúConfigurar‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> na mesma janela </font><font style="vertical-align: inherit;">. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Vers√£o do formato do Exchange"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - 1.6 na lista suspensa. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Äú</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Descarregar diret√≥rio </font><b><font style="vertical-align: inherit;">‚Äù</font></b><font style="vertical-align: inherit;"> - o caminho para a pasta com o n√∫mero de s√©rie do equipamento no diret√≥rio iKKMExchange. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúNome do arquivo de configura√ß√µes‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - prescreva </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúConfigura√ß√µes‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúArquivo m√°ximo da lista de pre√ßos‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - voc√™ precisa registrar a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúLista de Pre√ßos‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Diret√≥rio de download"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - o caminho √© semelhante ao diret√≥rio de upload. </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúNome do arquivo do relat√≥rio de vendas‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - indique </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúSalesReport‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salve as altera√ß√µes e saia.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/236/eda/104/236eda104160a031445659701ba1acb3.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Algumas etapas anteriores, observei os sinais das equipes que examinamos no documento </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , agora precisamos duplic√°-las no sistema de contabilidade 1C. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos para a se√ß√£o, como mostrado na figura abaixo: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/338/78d/8d1/33878d8d19dd366626e6407e97ea630b.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pelo </font><font style="vertical-align: inherit;">bot√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Criar"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , uma janela para adicionar novos equipamentos de caixa registradora ao 1C √© aberta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro item √© a indica√ß√£o do local de trabalho correto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segundo, voc√™ pode especificar o n√∫mero de s√©rie da KKM, esta √© uma condi√ß√£o opcional. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O terceiro par√°grafo - seleciona as configura√ß√µes de equipamento criadas anteriormente "KKM Offline" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Correspond√™ncia de rubricas salariais"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (quarto par√°grafo na figura), indicamos o nome e definimos os valores de identifica√ß√£o em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Settings.ini</font></font></b><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/979/4b6/ad9/9794b6ad955debc660d16d9667bbc549.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salve as altera√ß√µes e v√° para a √∫ltima etapa da configura√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Verificaremos como os dados ser√£o baixados do 1C para a pasta no IKKMExchange correspondente ao dispositivo, v√° para a se√ß√£o 1C necess√°ria: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/e0d/0d3/e2b/e0d0d3e2b850f93873579e80b33077b9.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde que as opera√ß√µes de configura√ß√£o anteriores sejam executadas corretamente e o armaz√©m correto seja selecionado, bem como a regra de upload, nosso equipamento off-line √© exibido na janela. </font><font style="vertical-align: inherit;">Clique em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Descarregar"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/aa9/9f5/7b6/aa99f57b65ec94d80a5f3f06647adacb.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O descarregamento ocorrer√° na pasta com o n√∫mero de s√©rie do seu KKM. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2d0/2de/40f/2d02de40f2002ab288fd2fbdf28aaf03.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ abrir o arquivo Settings.xml, poder√° encontrar os c√≥digos de pagamento definidos anteriormente. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/499/f06/cce/499f06cceeb8183c60a783ecd82c6c85.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A configura√ß√£o do compartilhamento OFFLINE est√° conclu√≠da. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ instalou a vers√£o mais recente da configura√ß√£o 1C: varejo, a fun√ß√£o de troca autom√°tica tamb√©m estar√° dispon√≠vel para voc√™.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/5d8/744/303/5d8744303a7c4150fcdd3d6c621a1357.jpg" alt="imagem"><br>
<br>
<u><h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configurar compartilhamento ONLINE</font></font></h2></u><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para impedir que o artigo se transforme em dois volumes, uma demonstra√ß√£o das configura√ß√µes de troca ONLINE ser√° mostrada no exemplo da IKKM, como registradora fiscal. O processo de cria√ß√£o de uma troca com a parte banc√°ria do dispositivo (como um terminal de aquisi√ß√£o) √© semelhante. O exemplo usa a configura√ß√£o ‚Äú1C: trade management‚Äù, o processo de instala√ß√£o em outras configura√ß√µes ser√° ligeiramente diferente devido aos recursos da interface, mas o princ√≠pio √© preservado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, voc√™ precisa instalar o driver. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na janela do item </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúRMK and equipment‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , encontramos o link </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúConnected equipment‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font><font style="vertical-align: inherit;">clique </font><font style="vertical-align: inherit;">nele. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/d4f/406/e5c/d4f406e5ce2f5d3208eb7e74283fc7a5.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
V√° para a guia </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Drivers de hardware"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e clique no bot√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Adicionar um novo driver do arquivo"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/984/c65/c20/984c65c205077f10605606e68fe12635.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fa√ßa o download do arquivo com o driver, descrito no artigo acima, e abra-o. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/834/a1e/f8e/834a1ef8e998c731b12a25e8d4e90449.jpg" alt="imagem"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/83b/8b0/7aa/83b8b07aaacb407e935a2ebd6b7efa0f.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O primeiro download do driver produz um erro. Para continuar a integra√ß√£o, basta tentar novamente a tentativa de instala√ß√£o e na segunda vez em que o driver for instalado com sucesso. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2c6/06b/a96/2c606ba96a8be78e5b0d1d5e441549a3.jpg" alt="imagem"> <br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/2b5/b84/486/2b5b84486535d94fb5d1404d93c9110d.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na metade do caminho para configurar a troca ONLINE, v√° para a guia </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Conectar e configurar o equipamento"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o tipo de equipamento a ser conectado √© </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Registradores fiscais"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , clique em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Criar"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Na lista suspensa, selecione iKKM. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/00c/243/8e1/00c2438e1ff16c72dc731cc1de754bb3.jpg" alt="imagem"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/90b/16f/88d/90b16f88d1bf5fdd4d6b9b53f2d7fc3b.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de clicar em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúConfigurar‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a janela dos par√¢metros do equipamento que escolhemos se abre, onde voc√™ deve prestar aten√ß√£o ao par√¢metro de impress√£o da impressora </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúN√∫mero de caracteres por linha‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: para a impressora embutida no iKKM (largura do papel 57 mm), o par√¢metro padr√£o (vinte e quatro caracteres) √© adequado; se voc√™ conectar uma impressora externa (80 mm e acima), poder√° usar outros valores (trinta e seis, quarenta e oito caracteres). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No item </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Endere√ßo IP",</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √© necess√°rio especificar o ip sem adicionar a porta de um dispositivo iKKM na rede, depois de configur√°-lo com um endere√ßo est√°tico atrav√©s de um roteador. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚ÄúOnde vamos armazenar a chave da API‚Äù</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - o ponto em que colocamos um diret√≥rio conveniente para voc√™ com um documento de texto de uma chave da API din√¢mica para proteger as opera√ß√µes da rede. Sempre que durante uma opera√ß√£o fiscal, a chave ser√° substitu√≠da por um valor diferente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O item </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"chave da API da WEB"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> deve conter a chave de seguran√ßa atual.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/db8/617/2b2/db86172b294174fbba3e408331270a79.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A chave da API atual pode ser obtida na interface da web do dispositivo entrando em contato com ela ap√≥s conectar-se √† rede por meio do navegador </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"endere√ßo IP do dispositivo: 8080"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/8d5/ea4/aa8/8d5ea4aa8fa7b0a2fa14fe4f720850f0.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todas as configura√ß√µes s√£o feitas, agora voc√™ pode testar o dispositivo. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/cd5/ba1/70a/cd5ba170aaab6991659016fe009a6c9b.jpg" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Viva, a instala√ß√£o do FR foi conclu√≠da com √™xito!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Finalmente, outro truque</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se durante o uso do dispositivo, voc√™ n√£o puder vender um ou outro produto via iKKM (o dispositivo n√£o o interrompe na verifica√ß√£o), verifique as configura√ß√µes de arredondamento na sua </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">op√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1C: </font><b><font style="vertical-align: inherit;">Correta para 1C: Varejo, 1C: Farm√°cia </font></b></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/905/879/a38/905879a38ff74e8c6960eda0267c0db8.png" alt="imagem"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para 1C: Restaurante</font></font></b><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/9db/f7a/0f9/9dbf7a0f976e5cdc01f95c285c1ecfcc.png" alt="imagem"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Bom para todos caixas registradoras r√°pidas e convenientes para voc√™!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt500142/index.html">Gerenciar direitos no n√≠vel da instala√ß√£o</a></li>
<li><a href="../pt500144/index.html">David O'Brien (Xirus): M√©tricas! M√©tricas! M√©tricas! Parte 1</a></li>
<li><a href="../pt500146/index.html">Procura de emprego na Alemanha como gerente de produtos e muito mais. Parte 3/5. O que voc√™ precisa fazer antes de come√ßar a enviar curr√≠culos</a></li>
<li><a href="../pt500148/index.html">Filtro de firewall Mikrotik: script gerando a base para uma pol√≠tica de filtragem</a></li>
<li><a href="../pt500150/index.html">Rob√¥ ROS e Mendigo de Grade Neural</a></li>
<li><a href="../pt500154/index.html">Aprendizado de m√°quina confidencial. Biblioteca PySyft</a></li>
<li><a href="../pt500158/index.html">Intera√ß√£o SwiftUI com Redux</a></li>
<li><a href="../pt500160/index.html">Elementos visuais</a></li>
<li><a href="../pt500162/index.html">Tutorial sobre processamento de dados esportivos em python</a></li>
<li><a href="../pt500164/index.html">Tutor: custos profissionais</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>