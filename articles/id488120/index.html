<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🙍🏽 🖕🏾 🤱🏿 Mengapa perlu menginstal OS 64-bit pada Raspberry Pi4 🎄 👫 👩🏽‍🤝‍👨🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Salah satu manfaat bekerja untuk perusahaan perangkat lunak adalah Anda sering memiliki kesempatan untuk menguji prototipe perangkat keras baru. Namun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Mengapa perlu menginstal OS 64-bit pada Raspberry Pi4</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/488120/"><img src="https://habrastorage.org/getpro/habr/post_images/0cc/a7b/84a/0cca7b84aa3da5d217f72f7d3dc84d1b.jpg" alt="gambar"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu manfaat bekerja untuk perusahaan perangkat lunak adalah Anda sering memiliki kesempatan untuk menguji prototipe perangkat keras baru. Namun, tidak dalam kasus ini - saya membeli Raspberry Pi4 karena sangat murah! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Raspberry Pi4 memiliki quad-core ARM Cortex A72, memori hingga 4 GB dan port Ethernet gigabit - semuanya hanya dengan $ 35. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada Raspberry Pi4 memiliki OS </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Raspbian</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (berdasarkan Debian), dan perpustakaan produk jadi, jadi saya letakkan di SD-card agar bisa boot lebih cepat. Saya mencari syslog dan memperhatikan bahwa baik kernel dan semua program pengguna dikompilasi sebagai armv7 - yaitu, untuk memori 32-bit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tahu bahwa Raspberry Pi4 mendukung 64 bit, jadi saya tidak ingin menjalankan OS 32-bit di atasnya. </font><font style="vertical-align: inherit;">Saya mengambil kartu memori lain dan meletakkan Debian di atasnya. </font><font style="vertical-align: inherit;">Debian, tidak mengandung apapun yang berlebihan, dikompilasi sebagai </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">aarch64</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - yang berarti memori 64-bit.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah mengunduh OS 64-bit, saya menjadi tertarik pada betapa jauh lebih baik kerjanya dalam 32-bit, jadi saya melakukan beberapa tes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tes kecepatan sintetis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal pertama yang terpikir oleh saya adalah tes batu dhrystone lama, yang telah ada sejak awal waktu. Program ini ditulis pada tahun 1988, dan berkaitan dengan perhitungan matematika. Tampaknya tidak mungkin untuk mensimulasikan beban saat ini, dan kita dapat menggunakannya hanya untuk menjaga beberapa jenis konektivitas dengan perangkat keras dan program lama. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/698/5f6/083/6985f6083a6d12ec86b7ad6a71c0ee5d.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi digest modern lebih baik disimulasikan oleh komputasi hash, jadi saya ingin menjalankan tes dengan SHA1. Sayangnya, utilitas sha1sum dikompilasi tanpa dukungan untuk fungsi kernel libssl atau kriptografi, jadi saya harus mengkompilasinya dari sumbernya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menghindari kemacetan di I / O, saya menghitung hash dari file 2 GB dengan opsi truncate -s 2GB, jadi tidak ada input atau output dari kartu:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b20/b3f/738/b20b3f73835d8f9b1e14c92286b7b049.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SHA1 adalah tes yang lebih realistis daripada dhrystone, karena algoritma ini digunakan dalam banyak aplikasi - torrents, git, dll.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem 64-bit menyediakan akses ke memori 8 byte per baca / tulis. </font><font style="vertical-align: inherit;">Saya menulis sebuah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">program sederhana</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang menempatkan buffer besar - dia menulisnya, dan kemudian membacanya. </font><font style="vertical-align: inherit;">Untuk menjamin </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alokasi memori nyata,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> saya menggunakan mlock (). </font><font style="vertical-align: inherit;">Dalam tes ini, volume buffer adalah 2 GB: buffer 3 GB bekerja dalam mode 64-bit, dan dalam mode 32-bit itu menghasilkan kesalahan "kehabisan memori".</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/08a/53c/2cd/08a53c2cdc361820aa817cfdd2d6ed02.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengkodean audio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya perhatikan bahwa banyak pengguna Raspberry Pi4 menggunakan komputer sebagai pusat media, jadi saya memulai tugas untuk menyandikan audio dengan dua codec paling populer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menyandikan komposisi "Echoes" Pink Floyd karena itu lagu yang agak panjang dan Anda bisa mendapatkan nilai yang terukur darinya. </font><font style="vertical-align: inherit;">Untuk menghindari keterlambatan I / O, file sumber dan tujuan disimpan di ramf:</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/131/58a/8cb/13158a8cb3b7849d02ab52c6881bffd9.png"><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b25/7a2/623/b257a26231bf005fddd15715187e516e.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pengukuran kecepatan jaringan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Opsi lain untuk menggunakan Raspberry Pi4 adalah sebagai VPN atau firewall. Saya tidak merekomendasikan menggunakan sistem seperti itu untuk tujuan seperti itu, tetapi banyak orang masih memiliki koneksi internet yang lambat (kurang dari 100 MB), sehingga mereka mungkin tidak memperhatikan lambatnya operasi Raspberry Pi4. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertanyaan pertama: berapa banyak lalu lintas yang dapat ditangani Raspberry Pi4? Kita perlu mengukur kekuatan jaringan net komputer, tanpa batasan antarmuka fisik, jadi saya memulai sesi iperf3 di antara dua wadah. Namun, kontainer bertukar data melalui sepasang veths, dan veth mempercepat lalu lintas melalui pembongkaran palsu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Membongkar perhitungan checksum IP dilakukan hanya dengan menolak untuk menghitungnya, dan melepas segmentasi TCP dengan menolak dari segmentasi dan memasang kembali lalu lintas: sepotong besar data 64K hanya ditransfer ke memori apa adanya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk menghindari momen seperti itu, saya melarang membongkar dengan perintah </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ethtool -K veth0 tx off rx off tso off gro off gso off</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/a26/549/b2c/a26549b2c6ac9a2737f791f317dcf733.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Firewall</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peralatan jaringan tercepat mampu - untuk menjatuhkan bagian dari lalu lintas, dan cara tercepat untuk melakukan ini adalah melalui aturan TC. </font><font style="vertical-align: inherit;">Agar tidak mencapai kecepatan maksimum yang mungkin, saya menggunakan ukuran frame Ethernet minimum, 64b. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f81/e12/4af/f81e124af378a94ce8c620e3f285d7ac.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Meskipun kedua sistem tidak mencapai kecepatan transfer maksimum (1,5 Mb / dtk), inti 64-bit menunjukkan kecepatan yang sedikit lebih tinggi daripada 32-bit. </font><font style="vertical-align: inherit;">Jika Anda ingin menggunakan Raspberry Pi4 sebagai firewall, pastikan untuk menggunakan kernel 64-bit.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VPN</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kasus penggunaan lain yang umum untuk Raspberry Pi4 adalah server VPN, atau lebih tepatnya, OpenVPN. </font><font style="vertical-align: inherit;">Saya lebih suka WireGuard, jadi saya memeriksa kedua program karena keduanya mudah dipasang: </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/467/c2f/a26/467c2fa2634f3568d4574654eb0faaa0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang diharapkan, OpenVPN 10 kali lebih lambat daripada WireGuard. </font><font style="vertical-align: inherit;">Apa yang tidak diharapkan adalah bahwa OpenVPN bekerja pada kecepatan yang sama pada 32 dan 64 bps. </font><font style="vertical-align: inherit;">WireGuard hampir memenuhi port gigabit dalam kedua kasus - mungkin kita telah mencapai batas NIC. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk mengetahui apakah WireGuard dapat bekerja lebih cepat, saya menjalankan tes lain dengan dua kontainer yang tidak menggunakan Ethernet fisik. </font><font style="vertical-align: inherit;">Satu-satunya masalah adalah bahwa kedua klien dan server iperf3 berjalan pada Raspberry Pi4, memuat dua core.</font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/aff/4ec/d3f/aff4ecd3f9ded87dd079827c3d7dfc8b.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang diharapkan, OpenVPN dan 32-bit WireGuard, dibatasi oleh CPU, berkinerja lebih buruk, dan 64-bit WireGuard melakukan lebih baik.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesimpulan</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sering membaca pernyataan seperti "itu tidak layak", "Anda akan memenangkan beberapa milidetik", dll., Hanya karena Raspberry Pi4 bukan komputer yang sangat kuat. </font><font style="vertical-align: inherit;">Ini tidak benar! </font><font style="vertical-align: inherit;">Seperti diketahui oleh semua orang yang terlibat dalam peralatan tertanam, optimasi perangkat lunak perangkat keras yang lambat bahkan lebih penting daripada perangkat keras yang cepat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sudah tahu bahwa OS 64-bit akan bekerja lebih baik pada Raspberry Pi4, tetapi saya tidak tahu seberapa jauh lebih baik. </font><font style="vertical-align: inherit;">Jadi saya melakukan semua tes ini. </font><font style="vertical-align: inherit;">Saya harap Anda menikmatinya!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id488104/index.html">DBA: Temukan Indeks Tidak Berguna</a></li>
<li><a href="../id488108/index.html">SAP HANA Lab di Azure</a></li>
<li><a href="../id488112/index.html">Memahami Iterators dengan Python</a></li>
<li><a href="../id488116/index.html">Lima pelajaran penting tentang keseimbangan gim</a></li>
<li><a href="../id488118/index.html">Laporan Status Musim Dingin Haxe</a></li>
<li><a href="../id488122/index.html">Penyuling airgel, aluminium, dan handuk kertas seharga $ 1,5</a></li>
<li><a href="../id488128/index.html">Paket istimewa: apa yang ditambahkan ke gaji spesialis TI di Armenia?</a></li>
<li><a href="../id488130/index.html">Belajar bahasa Inggris menggunakan bot Telegram</a></li>
<li><a href="../id488134/index.html">Meningkatkan CI di github untuk Android dalam sehari</a></li>
<li><a href="../id488136/index.html">Bagaimana robot Atlas belajar melakukan aksi akrobatik, tak tertahankan bagi orang biasa?</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>