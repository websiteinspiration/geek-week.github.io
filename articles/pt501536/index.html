<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📎 🤨 💃🏼 Feito sob medida: uma história sobre como uma linha de código se transformou em quilotons de carvão ⚱️ 🌐 🌱</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="O telefone de Brad explodiu no trinado familiar de uma ligação. 
 
 - Sim? Ele latiu, pegando o telefone. - O que você quer? 
 
 Pelos padrões de Brad...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Feito sob medida: uma história sobre como uma linha de código se transformou em quilotons de carvão</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digital-ecosystems/blog/501536/"><img src="https://habrastorage.org/webt/vf/7f/mt/vf7fmthf1wdqwbwh8pdjpic4sli.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O telefone de Brad explodiu no trinado familiar de uma ligação. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Sim? Ele latiu, pegando o telefone. - O que você quer? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pelos padrões de Brad, essa maneira de se comunicar por telefone era, de fato, considerada até educada. Como comerciante-chefe da ecxecor, uma das maiores empresas de comércio de energia do mundo, Brad não agradaria ninguém e considerou qualquer manifestação de sentimentos, exceto zombaria arrogante, um sinal de fraqueza. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Uh", disse a secretária obviamente nervosa, "aqui está você ... uh ... parto." Eles ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Pf - Brad bufou, interrompendo-a de relance. - Assine para ela! Ou é tão difícil? Você não consegue lidar com isso sozinho?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Você vê", disse a secretária, "eles me pedem para explicar como atracar." </font><font style="vertical-align: inherit;">E também precisamos pagar uma taxa de amarração. </font><font style="vertical-align: inherit;">Eles dizem que você está sabendo. </font><font style="vertical-align: inherit;">Eu não entendo nada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Ok", Brad resmungou. </font><font style="vertical-align: inherit;">- Parece, e a verdade, tudo o que você precisa fazer aqui.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ele jogou o telefone e saiu do escritório da esquina. </font><font style="vertical-align: inherit;">Apesar de a residência de Æxecor estar localizada em uma área adjacente à antiga marina, seu escritório era considerado um dos mais luxuosos da cidade. </font><font style="vertical-align: inherit;">Em uma extremidade do edifício espaçoso, que costumava ser um armazém, os escritórios dos chefes estavam localizados; na outra - Brad estava indo para lá e dirigindo - havia uma sala de recepção, cujas janelas davam para o cais pessoal da empresa, perto do próprio rio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 Bem, aqui estou eu! </font><font style="vertical-align: inherit;">Ele anunciou com raiva, mal cruzando o limiar do corredor. </font><font style="vertical-align: inherit;">- Vamos lá, esquematize. </font><font style="vertical-align: inherit;">O que eu deveria ...</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Brad parou antes de terminar a frase. Seu olhar imediatamente se voltou para o espetáculo no píer próximo ao escritório de Æxecor, que se abria através de janelas altas do chão ao teto. Havia uma barcaça de tamanho monstruoso - não, toda uma armada de barcaças firmemente presas cheias até a borda com montes de carvão. Toda essa armada pretendia atracar no píer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Que porra é essa ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 " "E você deve ser Brad", veio uma voz animada. Brad voltou os olhos para o camponês de aparência surrada, vestindo algum tipo de roupa de trabalho, que estava sentado em uma das cadeiras da sala de espera. "Bem, para começar, como atracamos?" Eu tenho duas rolhas, mas você não consegue. E você tem alguma coisa pronta para descarregar?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pela primeira vez, Brad ficou sem palavras. </font><font style="vertical-align: inherit;">Ele não tinha idéia de quem era esse homem e quase não entendeu uma palavra do que estava dizendo. </font><font style="vertical-align: inherit;">Além disso, esta comunidade, gradualmente se aproximando do edifício. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Uh ..." ele murmurou, "ei ... você trouxe ... carvão?" </font><font style="vertical-align: inherit;">E para nós? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 - Bem, sim! </font><font style="vertical-align: inherit;">Vinte e oito mil toneladas de bom e velho ouro preto! </font><font style="vertical-align: inherit;">- O trabalhador zombou da testa e acrescentou: - Bem, a menos que, é claro, o endereço não estivesse errado, haha. </font><font style="vertical-align: inherit;">É esta Æxecor? </font><font style="vertical-align: inherit;">Beliche número cinquenta e três? </font><font style="vertical-align: inherit;">Você é o Brad, o mesmo cara que pediu? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E então a mão de Brad se encontrou em uma fração de segundo com o rosto de Brad. </font><font style="vertical-align: inherit;">Ele percebeu que algo havia dado muito errado de acordo com o plano e, em vez de vender virtualmente vinte e oito mil toneladas de carvão, de alguma forma as colocou em suas mãos</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um curso curto de negociação de futuros de commodities</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se você já assistiu o clássico </font><font style="vertical-align: inherit;">filme de 1983 </font><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Swap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ", com Eddie Murphy e Dan Ackroyd nos papéis principais, você já pode imaginar como as matérias-primas são vendidas. Em seus termos mais gerais, as commodities - por exemplo, ouro, lã, soja - são vendidas pelos fabricantes e, finalmente, chegam aos clientes. Mas Billy Ray Valentine ganhou dinheiro e flagrou os irmãos Duke não apenas vendendo suco de laranja concentrado congelado de uma bandeja. Ele conseguiu entrar no mercado devido ao fato de ter vendido e comprado contratos futuros. De fato, esta é a única maneira de negociar mercadorias.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os contratos futuros são uma coisa bastante transparente: você concorda em comprar mercadorias em quantidades de X a um preço de Y por unidade em um determinado ponto no futuro. Obviamente, pode parecer estranho que uma pessoa decida comprar vinte toneladas de peito por US $ 34.420 em abril (mesmo que goste muito de peito), mas o ponto principal é que ele pretende vender essa entrega muito antes do início de abril e por um valor significativamente superior a 34 420 $. Quase todos os produtos que você pode imaginar são vendidos e comprados dessa maneira, mesmo antes do início da produção. O objetivo de tal esquema comercial é que os riscos (e benefícios) causados ​​pelas flutuações nos preços das commodities não são mais dados aos produtores (agricultores, mineradores etc.), mas aos comerciantes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, os comerciantes de commodities não estão interessados ​​em ficar com quilotons de peito nas mãos. Portanto, toda uma cadeia de intermediários - corretores, bolsas de valores, câmaras de compensação - que trabalham no suor de seus rostos é incluída no processo, de modo que a pessoa que diz: "Em maio comprarei trezentas toneladas de peito por US $ 518.000", posso ter certeza de que não comprarei em maio trezentas toneladas de peito por US $ 518.000 no sentido literal dessas palavras.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os corretores, por exemplo, organizam transações circulares, sugerindo que todos os contratos futuros adquiridos serão compensados ​​com a venda do contrato correspondente a uma pessoa realmente interessada no produto. </font><font style="vertical-align: inherit;">Os sistemas de negociação automatizados usados ​​pelas bolsas têm códigos de prática embutidos para detectar erros óbvios (por exemplo, a entrega de grandes quantidades de mercadorias no território de uma empresa comercial). </font><font style="vertical-align: inherit;">E, finalmente, as câmaras de compensação mais uma vez verificam as transações para garantir que nada seja enviado com erro. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Com base no exposto, é quase impossível para um comerciante ser o proprietário real dos bens que compra. </font><font style="vertical-align: inherit;">Por pouco.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Como um relógio</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Æxecor negociou apenas carvão em uma bolsa (WTFSE), e as transações de carvão não foram realizadas com muita frequência. Consequentemente, quando o WTFSE introduziu uma nova API voltada para o usuário e baseada em serviços da Web, o sistema de negociação interno não conseguiu interagir com ele. Dois acordos de carvão surgiram no horizonte, então a empresa teve um pequeno problema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, havia alguns programadores autodidatas em Æxecor e eles conseguiram montar uma solução que se dava bem com a nova API do WTFSE. Em essência, o programador adicionou algum código XML às solicitações de negociação. Em particular, havia um fragmento assim:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">AdditionalProperties</span>&gt;</span>
   <span class="hljs-tag">&lt;<span class="hljs-name">PhysicallyDeliver</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">value</span>&gt;</span>False<span class="hljs-tag">&lt;/<span class="hljs-name">value</span>&gt;</span>
   <span class="hljs-tag">&lt;/<span class="hljs-name">PhysicallyDeliver</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">AdditionalProperties</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Não encontrou nada de estranho neste código XML? Se você respondeu: "O valor não deve ser Falso, mas 0", você pode dar um tapinha no ombro. Como se viu, o sistema WTFSE percebeu apenas 1 e 0 para denotar Verdadeiro e Falso, respectivamente; qualquer outro valor era simplesmente igualado automaticamente a um. Opa! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, em circunstâncias normais, um grande desastre não teria resultado disso. Para garantir que tudo esteja correto na transação, o WTFSE (e qualquer outra troca) envia uma confirmação de transação ao cliente, onde todas as informações de origem são gravadas em XML. Assim, ambas as partes têm acesso aos dados. No lado do Æxecor, tudo parecia completamente seguro, principalmente devido às seguintes linhas no código:</font></font><br>
<br>
<pre><code class="xml hljs"><font></font>
bool physicallyDeliver = <font></font>
    (getNodeVal("PhysicallyDeliver").toLower() == "true");</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muito bem, o desenvolvedor fez a verificação ... apenas uma linha pode fornecer muito mais valores do que verdadeiro ou falso. Digamos 1 ou 0. Opa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas mesmo o fato de que a transação errada por engano passou na verificação, em teoria, ainda não é um desastre, porque a câmara de compensação teria notado que algo estava fundamentalmente errado com ela. Você não pode simplesmente ligar para o serviço de entrega da FedEx e pedir que eles levem milhares de toneladas de matérias-primas para algum prédio de escritórios no centro de negócios. A lista de pontos em que você pode entregar matérias-primas é muito limitada - geralmente são depósitos próximos a depósitos ou portos. No entanto, a residência Æxecor estava localizada perto do cais de cinquenta e três na área costeira, com instalações de armazenamento que foram recentemente reformadas - à primeira vista, é um local razoável para entregar uma pilha inteira de carvão, especialmente do ponto de vista da máquina. Opa</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Felizmente, o mercado de futuros de commodities não depende inteiramente de software. Nos dois lados da transação (e também em um par de pontos intermediários), os dados passam pelos funcionários dos departamentos operacionais que verificam se o profissional fez alguma coisa estúpida: por exemplo, acidentalmente marcou a caixa "entrega física", entrou na transação do grupo, que imediatamente vai dar uma perda, e assim por diante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como tantas pessoas estão vendo transações, seria lógico supor que pelo menos alguém notasse que a gigante comercial Æxecor pede fisicamente que lhes entregue uma carga de carvão por um milhão e meio de dólares. Sim, alguém provavelmente percebeu, mas Brad estava envolvido no negócio, o que significa que era impossível conceber que houvesse algum tipo de mal-entendido.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como principal comerciante do xecor, Brad transmitiu a todos com a maior clareza: ninguém, “até Sua Santidade, o Papa de Roma” ousa questionar suas ações. </font><font style="vertical-align: inherit;">No final, Brad precisa tomar as decisões de lance mais difíceis que ninguém mais pode compreender. </font><font style="vertical-align: inherit;">Às vezes, ele compra caro e vende barato. </font><font style="vertical-align: inherit;">Às vezes, mantém a mercadoria, embora o preço caia. </font><font style="vertical-align: inherit;">Às vezes, ele se recusa a vendê-lo, independentemente do preço. </font><font style="vertical-align: inherit;">Os caminhos de Brad são misteriosos e, se ele disser: "Faça!", É melhor fazê-lo.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Natal adiantado</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 "Apenas não me diga que não é o seu carvão", sentindo que o assunto era impuro, o trabalhador assumiu uma posição defensiva. - Você precisa, não precisa - entenda você mesmo. Mas seu carvão, Sr. Brad. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Brad ficaria feliz em objetar, mas ele próprio entendeu: seu carvão. Pior ainda, ele repetidamente confiava isso ao departamento de operações da Æxecor. Ele simplesmente supôs que era típico para ele que esses trocadores de papel estúpidos não pudessem realmente ler. Ele voltou mentalmente à sua última conversa com um funcionário do departamento de compras de carvão ("Eu disse um negócio, que palavra você não entende?") E se perdeu no pensamento sobre o que fazer com 56 milhões de libras de carvão em sua forma física.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tente imaginar por um momento como você se safaria com uma pilha de carvão no valor de um milhão e meio de dólares. Até os recursos do Craigslist ainda têm limites. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como se viu, vender carvão real foi ainda mais difícil do que Brad poderia ter imaginado. O mercado de commodities, de fato, negocia apenas com futuros - todo mundo que precisa de 28 mil toneladas de carvão no momento já o comprou com antecedência. Enfim, quem comprará carvão de algum tipo obscuro chamado Brad? No final, gastando quantias altíssimas em berthage, entrega, imposto ambiental, ancoragem, descarregamento, carregamento e outras taxas, Brad partiu o coração partido pela metade vendendo carvão a vinte centavos de dólar por dólar.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Após essa "compra grandiosa", a montanha de carvão de Brad nunca foi esquecida. </font><font style="vertical-align: inherit;">Cada vez que passava por colegas no corredor, ele sabia que eles se lembravam do carvão, e eles sabiam que ele entendia isso. </font><font style="vertical-align: inherit;">Ninguém particularmente zombou ou zombou dele, mas isso não importava. </font><font style="vertical-align: inherit;">Brad não era mais percebido como o Chief Trader da ecxecor, ele se tornou o cara que comprou por engano uma inovação de carvão.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt501522/index.html">Webinars gratuitos do Skillbox: escrevendo jogos em PHP, Unity e Unreal Engine</a></li>
<li><a href="../pt501524/index.html">Segredos de sincronizar os campos eletromagnéticos da Terra e um organismo vivo</a></li>
<li><a href="../pt501526/index.html">Por que o inglês canadense é considerado "sujo" e o que Keanu Reeves tem a ver com isso?</a></li>
<li><a href="../pt501528/index.html">O livro "Bash e segurança cibernética: ataque, defesa e análise a partir da linha de comando do Linux"</a></li>
<li><a href="../pt501534/index.html">Agora, com o COVID-19, também há uma erupção cutânea</a></li>
<li><a href="../pt501538/index.html">Recuo em Python - Opção de Solução</a></li>
<li><a href="../pt501544/index.html">Smartphone perfeito</a></li>
<li><a href="../pt501546/index.html">"Por que estou passando por isso?" - psicólogos explicam como encontrar significado isoladamente</a></li>
<li><a href="../pt501548/index.html">Dorofei Proleskovsky: “O único projeto de mapeamento no qual faz sentido investir tempo e energia é o OSM”</a></li>
<li><a href="../pt501554/index.html">Estamos criando uma conta pessoal para o serviço SaaS de segurança</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>