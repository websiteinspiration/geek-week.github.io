<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üóíÔ∏è üçä üë∫ Zen go üï§ üçª ‚≠ïÔ∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En √©valuant mon travail, j'ai r√©cemment beaucoup r√©fl√©chi √† la fa√ßon d'√©crire du bon code. √âtant donn√© que personne ne s'int√©resse √† la fa√ßon d'√©crire...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Zen go</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/490340/"><img src="https://habrastorage.org/webt/kr/ic/9k/kric9kwqdonbm71t_zw5b35ui4o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En √©valuant mon travail, j'ai r√©cemment beaucoup r√©fl√©chi √† la fa√ßon d'√©crire du bon code. </font><font style="vertical-align: inherit;">√âtant donn√© que personne ne s'int√©resse √† la fa√ßon d'√©crire du </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mauvais</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> code, la question se pose: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comment savoir si vous avez √©crit du bon code sur Go</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ? </font><font style="vertical-align: inherit;">S'il existe une sorte d'√©chelle entre le bien et le mal, alors comment comprendre quelles parties de l'√©chelle appartiennent au bien? </font><font style="vertical-align: inherit;">Quelles sont ses propri√©t√©s, ses attributs, ses caract√©ristiques distinctives, ses mod√®les et ses idiomes?</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aller idiomatique</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces consid√©rations m'ont conduit au Go idiomatique. </font><font style="vertical-align: inherit;">Si nous appelons quelque chose ¬´idiomatique¬ª, alors ce quelque chose correspond √† un certain style d'un certain temps. </font><font style="vertical-align: inherit;">Si quelque chose n'est pas idiomatique, cela ne correspond pas au style dominant. </font><font style="vertical-align: inherit;">Ce n'est pas √† la mode. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus important encore, lorsque nous disons que le code de quelqu'un n'est pas idiomatique, cela n'explique pas la raison. </font><font style="vertical-align: inherit;">Pourquoi pas idiomatique? </font><font style="vertical-align: inherit;">La r√©ponse est donn√©e par le dictionnaire.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Idiome (n.): Une r√©volution de la parole, utilis√©e dans son ensemble, non soumise √† une d√©composition suppl√©mentaire et ne permettant g√©n√©ralement pas de permutations en elle-m√™me.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les idiomes sont la marque des significations courantes. </font><font style="vertical-align: inherit;">Les livres ne vous apprendront pas le Go idiomatique; il n'est connu que lorsque vous faites partie d'une communaut√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis pr√©occup√© par le mantra idiomatique de Go, car il est souvent restrictif. </font><font style="vertical-align: inherit;">Elle dit: "tu ne peux pas t'asseoir avec nous." </font><font style="vertical-align: inherit;">N'est-ce pas ce que nous voulons dire lorsque nous critiquons le travail de quelqu'un d'autre comme ¬´non idiomatique¬ª? </font><font style="vertical-align: inherit;">Ils l'ont mal fait. </font><font style="vertical-align: inherit;">Cela ne semble pas correct. </font><font style="vertical-align: inherit;">Ce n'est pas conforme au style de l'√©poque. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je crois que le Go idiomatique n'est pas adapt√© pour enseigner comment √©crire un bon code, car, essentiellement, cela signifie dire aux gens qu'ils ont fait quelque chose de mal. </font><font style="vertical-align: inherit;">Il vaut mieux donner de tels conseils qui ne repousseront pas une personne au moment o√π elle souhaite le plus recevoir ces conseils.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√ânonciations</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©tournons-nous des probl√®mes idiomatiques. </font><font style="vertical-align: inherit;">Quels autres artefacts culturels sont inh√©rents aux programmeurs Go? </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendez-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> vous sur la belle page </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">Go Proverbs</font></a><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ces paroles sont-elles un outil d'apprentissage appropri√©? </font><font style="vertical-align: inherit;">Dit-il aux d√©butants comment √©crire du bon code Go? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je ne pense pas. </font><font style="vertical-align: inherit;">Je ne veux pas minimiser le travail de l'auteur. </font><font style="vertical-align: inherit;">Les paroles qu'il a compos√©es ne sont que des observations et non des d√©finitions de sens. </font><font style="vertical-align: inherit;">Le dictionnaire vient √† la rescousse:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proverbe (n.): Une courte d√©claration qui a une signification litt√©rale ou figurative.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La mission de Go Proverbs est de montrer l'essence profonde de l'architecture du langage. </font><font style="vertical-align: inherit;">Mais sera-t-il utile de conseiller comme "L' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">interface vide ne dit rien</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " √† un d√©butant venu d'une langue sans typage structurel? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans une communaut√© en pleine croissance, il est important de reconna√Ætre que le nombre d'√©l√®ves de Go est bien sup√©rieur au nombre de ceux qui parlent couramment cette langue. </font><font style="vertical-align: inherit;">Autrement dit, les dictons ne sont probablement pas la meilleure fa√ßon d'apprendre dans une telle situation.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valeurs de conception</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan Liu a trouv√© </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une ancienne pr√©sentation de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Mark Lukowski sur la culture de conception dans l'√©quipe de d√©veloppement Windows Windows NT-Windows 2000. J'ai mentionn√© cela parce que Lukowski d√©crit la culture comme un moyen courant d'√©valuer les architectures et de faire des compromis.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0cb/a0d/487/0cba0d4873afc7945a74500669efd389.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'id√©e principale est de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prendre des d√©cisions bas√©es sur la valeur dans une architecture inconnue</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">L'√©quipe NT avait ces valeurs: portabilit√©, fiabilit√©, s√©curit√© et extensibilit√©. </font><font style="vertical-align: inherit;">En termes simples, les valeurs de conception sont un moyen de r√©soudre les probl√®mes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go Values</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelles sont les valeurs explicites de Go? </font><font style="vertical-align: inherit;">Quels sont les concepts ou philosophies cl√©s qui d√©terminent la fa√ßon dont les programmeurs Go interpr√®tent le monde? </font><font style="vertical-align: inherit;">Comment sont-ils proclam√©s? </font><font style="vertical-align: inherit;">Comment sont-ils enseign√©s? </font><font style="vertical-align: inherit;">Comment sont-ils suivis? </font><font style="vertical-align: inherit;">Comment changent-ils au fil du temps? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment convertir un programmeur Go pour obtenir les valeurs de la conception Go? </font><font style="vertical-align: inherit;">Ou comment, en tant que Go-pro exp√©riment√©, proclamez-vous vos valeurs aux g√©n√©rations futures? </font><font style="vertical-align: inherit;">Et pour que vous compreniez, ce processus de transfert de connaissances n'est pas optionnel? </font><font style="vertical-align: inherit;">Sans l'afflux de nouveaux participants et de nouvelles id√©es, notre communaut√© devient myope et se fl√©trit.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valeurs d'autres langues</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour pr√©parer la voie √† ce que je veux dire, nous pouvons pr√™ter attention √† d'autres langues, √† leurs valeurs de conception. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, en C ++ et Rust, on pense qu'un programmeur </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne devrait pas payer pour une fonctionnalit√© qu'il n'utilise pas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Si le programme n'utilise pas certaines fonctionnalit√©s gourmandes en ressources de la langue, le programme ne peut pas √™tre oblig√© de supporter le co√ªt de maintenance de cette fonctionnalit√©. Cette valeur est projet√©e du langage dans la biblioth√®que standard et est utilis√©e comme crit√®re pour √©valuer l'architecture de tous les programmes √©crits en C ++. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Valeur principale en Java, Ruby et Smalltalk - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tout est un objet</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ce principe sous-tend la conception du programme en termes de transfert de messages, de dissimulation d'informations et de polymorphisme. </font><font style="vertical-align: inherit;">Les architectures conformes √† un paradigme proc√©dural ou fonctionnel sont consid√©r√©es comme erron√©es dans ces langages. </font><font style="vertical-align: inherit;">Ou, comme dirait un programmeur Go, pas idiomatique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenons √† notre communaut√©. </font><font style="vertical-align: inherit;">Quelles valeurs de conception les programmeurs Go professent-ils? </font><font style="vertical-align: inherit;">Les discussions sur ce sujet sont souvent fragment√©es, il n'est donc pas facile de formuler un ensemble de significations. </font><font style="vertical-align: inherit;">Il est imp√©ratif de parvenir √† un accord, mais la difficult√© d'y parvenir cro√Æt de fa√ßon exponentielle avec le nombre croissant de participants √† la discussion. </font><font style="vertical-align: inherit;">Et si quelqu'un faisait ce travail difficile pour nous?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zen </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Go</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a quelques d√©cennies, Tim Peters s'est assis et a √©crit </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PEP-20</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le Zen de Python</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Il a essay√© de documenter les valeurs de conception auxquelles Guido Van Rossum a adh√©r√© en tant que dictateur Python g√©n√©reux √† vie. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Examinons </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le Zen de Python</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et voyons si nous pouvons apprendre quelque chose sur les valeurs de conception du concepteur Go.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un bon package commence par un bon nom</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Commen√ßons par le pointu:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les espaces de noms sont une excellente id√©e, agrandissons-les! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Zen de Python, record 19.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sans ambigu√Øt√©: les programmeurs Python devraient utiliser des espaces de noms. Beaucoup d'espaces. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la terminologie Go, un espace de noms est un package. Il ne fait aucun doute que le regroupement favorise la conception et la r√©utilisation. Mais il peut y avoir confusion sur la fa√ßon de proc√©der, surtout si vous avez de nombreuses ann√©es d'exp√©rience en programmation dans une autre langue. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans Go, chaque package doit √™tre con√ßu pour quelque chose. Et le nom est le meilleur moyen de comprendre cette destination. En reformulant les pens√©es de Peteres, chaque package de Go devrait √™tre con√ßu pour une chose. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'id√©e n'est pas nouvelle, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">j'en ai d√©j√† parl√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Mais pourquoi utiliser cette approche, et non une autre, dans laquelle les packages sont utilis√©s pour les besoins d'une classification d√©taill√©e? Tout tourne autour des changements.</font></font><br>
<br>
<blockquote> ‚Äî    ,         .<br>
<br>
 </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le changement est le nom du jeu auquel nous participons. En tant que programmeurs, nous g√©rons le changement. Si nous le faisons bien, nous l'appelons architecture. Et si c'est mauvais, nous l'appelons dette technique ou code h√©rit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous √©crivez un programme qui fonctionne tr√®s bien une fois avec un ensemble fixe de donn√©es d'entr√©e, personne ne sera int√©ress√© √† savoir s'il a un bon code, car seul le r√©sultat de son travail est important pour les entreprises. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais cela </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n'arrive pas</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il y a des bogues dans les programmes, les exigences et les changements de donn√©es d'entr√©e, et tr√®s peu de programmes sont √©crits avec une seule attente d'ex√©cution. C'est, votre programme </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">va</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> changer au </font><font style="vertical-align: inherit;">fil du </font><font style="vertical-align: inherit;">temps. Peut-√™tre que cette t√¢che vous sera confi√©e, mais tr√®s probablement quelqu'un d'autre le fera. Quelqu'un doit accompagner ce code.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comment pouvons-nous faciliter le changement de programme? </font><font style="vertical-align: inherit;">Ajoutez des interfaces partout? </font><font style="vertical-align: inherit;">Faites tout ce qui convient pour cr√©er des talons? </font><font style="vertical-align: inherit;">D√©ployer les d√©pendances √©troitement? </font><font style="vertical-align: inherit;">Peut-√™tre que pour certains types de programmes, ces techniques conviennent, mais pas pour beaucoup. </font><font style="vertical-align: inherit;">Cependant, pour la plupart des programmes, la cr√©ation d'une architecture flexible est plus que de la conception. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et si au lieu d'√©tendre les composants, nous les remplacerions? </font><font style="vertical-align: inherit;">Si le composant ne fait pas ce qui est sp√©cifi√© dans les instructions, il est temps de le changer. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un bon package commence par le choix d'un bon nom. </font><font style="vertical-align: inherit;">Consid√©rez-le comme une courte pr√©sentation qui d√©crit la fonction d'un package avec un seul mot. </font><font style="vertical-align: inherit;">Et lorsque le nom ne r√©pond plus √† l'exigence, trouvez un rempla√ßant.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La simplicit√© compte</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simple, c'est mieux que complexe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Zen de Python, entr√©e 3.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PEP-20 pr√©tend que le simple est meilleur que le complexe, et je suis enti√®rement d'accord. </font><font style="vertical-align: inherit;">Il y a quelques ann√©es, j'ai √©crit:</font></font><br>
<br>
<div class="oembed"><twitter-widget class="twitter-tweet twitter-tweet-rendered" id="twitter-widget-0" style="position: static; visibility: visible; display: block; transform: rotate(0deg); max-width: 100%; width: 500px; min-width: 220px; margin-top: 10px; margin-bottom: 10px;" data-tweet-id="539576755254611968"></twitter-widget>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>
</div><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La plupart des langages de programmation essaient d'√™tre simples au d√©but, mais d√©cident plus tard d'√™tre puissants.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon mes observations, au moins √† cette √©poque, je ne me souvenais pas d'une langue que je connaissais qui ne serait pas consid√©r√©e comme simple. Comme justification et tentation, les auteurs de chaque nouvelle langue ont d√©clar√© la simplicit√©. Mais j'ai trouv√© que la simplicit√© n'√©tait pas la valeur fondamentale de nombreuses langues du m√™me √¢ge que Go (Ruby, Swift, Elm, Go, NodeJS, Python, Rust). Peut-√™tre que cela frappera un point sensible, mais peut-√™tre la raison en est qu'aucune de ces langues n'est simple. Ou leurs auteurs ne les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">consid√©raient</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pas </font><i><font style="vertical-align: inherit;">comme</font></i><font style="vertical-align: inherit;"> simples. La simplicit√© n'√©tait pas incluse dans la liste des valeurs fondamentales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez me consid√©rer comme d√©mod√©, mais quand cette simplicit√© est-elle pass√©e de mode? Pourquoi l'industrie du logiciel commercial oublie-t-elle constamment et joyeusement cette v√©rit√© fondamentale?</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a deux fa√ßons de cr√©er une architecture logicielle: pour la rendre si simple que l'absence de d√©fauts est √©vidente, et pour la rendre si complexe qu'elle n'a pas de d√©fauts √©vidents. </font><font style="vertical-align: inherit;">La premi√®re m√©thode est beaucoup plus difficile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Charles Hoar, The Old Emperor's Old Clothes, Turing Award Lecture, 1980</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Simple ne signifie pas facile, nous le savons. </font><font style="vertical-align: inherit;">Souvent, il faut plus d'efforts pour garantir la facilit√© d'utilisation plut√¥t que la facilit√© de cr√©ation.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La simplicit√© est la cl√© de la fiabilit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Edsger Dijkstra, EWD498, 18 juin 1975</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi viser la simplicit√©? </font><font style="vertical-align: inherit;">Pourquoi est-il important que les programmes Go soient simples? </font><font style="vertical-align: inherit;">Simple signifie brut, cela signifie lisible et facile √† suivre. </font><font style="vertical-align: inherit;">Simple ne signifie pas sans art, il signifie fiable, intelligible et compr√©hensible.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le c≈ìur de la programmation est la gestion de la complexit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Brian Kernigan, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Outils logiciels</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (1976)</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Que Python suive son mantra de simplicit√© est une question discutable. </font><font style="vertical-align: inherit;">Chez Go, cependant, la simplicit√© est une valeur fondamentale. </font><font style="vertical-align: inherit;">Je pense que nous conviendrons tous que dans Go, le code simple est pr√©f√©rable au code intelligent.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âvitez les √©tats au niveau du package</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Explicite vaut mieux qu'implicite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Zen de Python, entr√©e 2</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, Peters, √† mon avis, r√™ve plut√¥t qu'adh√®re aux faits. En Python, beaucoup n'est pas explicite: d√©corateurs, m√©thodes de dunder, etc. Sans aucun doute, ce sont des outils puissants, et ils existent pour une raison. Sur la mise en ≈ìuvre de chaque fonctionnalit√©, particuli√®rement complexe, quelqu'un a travaill√©. Mais l'utilisation active de telles fonctionnalit√©s rend difficile l'√©valuation du co√ªt de l'op√©ration lors de la lecture du code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heureusement, nous, les programmeurs de Go, pouvons √©ventuellement rendre le code explicite. Peut-√™tre que pour vous, manifestation peut √™tre synonyme de bureaucratie et de verbosit√©, mais c'est une interpr√©tation superficielle. Ce sera une erreur de se concentrer uniquement sur la syntaxe, de prendre soin de la longueur des lignes et de l'application des principes DRY aux expressions. Il me semble plus important de fournir une explication en termes de connectivit√© et d'√©tats.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La connectivit√© est une mesure de la d√©pendance de l'un √† l'autre. Si l'un est √©troitement li√© √† l'autre, alors les deux se d√©placent ensemble. Une action affectant l'un se refl√®te directement dans l'autre. Imaginez un train dans lequel toutes les voitures sont connect√©es - ou plut√¥t connect√©es - ensemble. L√† o√π va le train √† vapeur, il y a les voitures. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La connectivit√© peut √©galement √™tre d√©crite par le terme coh√©sion - coh√©sion. C'est une mesure de combien l'un appartient √† l'autre. Dans une √©quipe soud√©e, tous les participants sont tellement adapt√©s les uns aux autres, comme s'ils avaient √©t√© sp√©cialement cr√©√©s ainsi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi la coh√©rence est-elle importante? Comme dans le cas du train, lorsque vous devez changer un morceau de code, vous devez changer le reste du code √©troitement li√©. Par exemple, quelqu'un a publi√© une nouvelle version de son API et maintenant votre code ne se compile plus.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une API est une source in√©vitable de liaison. Mais il peut √™tre pr√©sent√© sous des formes plus insidieuses. Tout le monde sait que si la signature de l'API a chang√©, les donn√©es transf√©r√©es vers et depuis l'API changeront √©galement. Tout d√©pend de la signature de la fonction: je prends les valeurs d'un type et renvoie les valeurs d'autres types. Et si l'API commence √† transf√©rer des donn√©es d'une mani√®re diff√©rente? Que faire si le r√©sultat de chaque appel API d√©pend de l'appel pr√©c√©dent, m√™me si vous n'avez pas modifi√© vos param√®tres? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est ce qu'on appelle l'√âtat, et la gestion de l'√âtat est un probl√®me en informatique.</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> counter<font></font>
<font></font>
<span class="hljs-keyword">var</span> count <span class="hljs-keyword">int</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Increment</span><span class="hljs-params">(n <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span> {<font></font>
        count += n<font></font>
        <span class="hljs-keyword">return</span> count<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous avons un package simple </font></font><code>counter</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Pour changer le compteur, vous pouvez appeler </font></font><code>Increment</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, vous pouvez m√™me r√©cup√©rer la valeur si vous incr√©mentez avec une valeur nulle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Disons que vous devez tester ce code. Comment r√©initialiser le compteur apr√®s chaque test? Et si vous souhaitez ex√©cuter des tests en parall√®le, comment proc√©der? Et supposez que vous vouliez utiliser plusieurs compteurs dans le programme, r√©ussirez-vous? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien s√ªr que non. De toute √©vidence, la solution consiste √† encapsuler la variable </font></font><code>variable</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dans le type.</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">package</span> counter<font></font>
<font></font>
<span class="hljs-keyword">type</span> Counter <span class="hljs-keyword">struct</span> {<font></font>
        count <span class="hljs-keyword">int</span><font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(c *Counter)</span> <span class="hljs-title">Increment</span><span class="hljs-params">(n <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span> {<font></font>
        c.count += n<font></font>
        <span class="hljs-keyword">return</span> c.count<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imaginez maintenant que le probl√®me d√©crit ne se limite pas aux compteurs; il affecte √©galement la logique m√©tier principale de vos applications. </font><font style="vertical-align: inherit;">Pouvez-vous le tester isol√©ment? </font><font style="vertical-align: inherit;">Pouvez-vous tester en parall√®le? </font><font style="vertical-align: inherit;">Pouvez-vous utiliser plusieurs instances en m√™me temps? </font><font style="vertical-align: inherit;">Si la r√©ponse est non pour toutes les questions, la raison en est l'√©tat au niveau du paquet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âvitez ces conditions. </font><font style="vertical-align: inherit;">R√©duisez la connectivit√© et le nombre d'actions distantes cauchemardesques en fournissant aux types les d√©pendances dont ils ont besoin en tant que champs, plut√¥t qu'en utilisant des variables de package.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Faites des plans pour l'√©chec, pas pour le succ√®s</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ne passez jamais les bugs en silence. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Zen de Python, entr√©e 10</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela est dit √† propos des langues qui encouragent la gestion des exceptions de style samoura√Ø: revenez avec une victoire ou ne revenez pas du tout. Dans les langues bas√©es sur des exceptions, les fonctions ne renvoient que des r√©sultats valides. Si la fonction ne peut pas le faire, le flux de contr√¥le va d'une mani√®re compl√®tement diff√©rente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De toute √©vidence, les exceptions non v√©rifi√©es sont un mod√®le de programmation dangereux. Comment pouvez-vous √©crire du code fiable en pr√©sence d'erreurs si vous ne savez pas quelles expressions peuvent lever une exception? Java essaie de r√©duire les risques avec le concept d'exceptions v√©rifi√©es. Et pour autant que je sache, dans d'autres langues populaires, il n'y a pas d'analogues de cette solution. Il existe des exceptions dans de nombreux langages, et partout sauf Java, elles ne sont pas v√©rifi√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De toute √©vidence, Go a pris un chemin diff√©rent. </font><font style="vertical-align: inherit;">Les programmeurs Go estiment que les programmes fiables sont constitu√©s de parties qui g√®rent les √©checs </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">avant de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> traiter les chemins r√©ussis. </font><font style="vertical-align: inherit;">√âtant donn√© que le langage a √©t√© cr√©√© pour le d√©veloppement de serveurs, la cr√©ation de programmes multithreads, ainsi que des programmes qui traitent les donn√©es entrant sur le r√©seau, les programmeurs devraient se concentrer sur le traitement des donn√©es inattendues et endommag√©es, des d√©lais d'expiration et des √©checs de connexion. </font><font style="vertical-align: inherit;">Bien s√ªr, s'ils veulent fabriquer des produits fiables.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Je crois que les erreurs doivent √™tre trait√©es explicitement, cela devrait √™tre la valeur principale du langage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peter Burgon, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GoTime # 91</font></font></a></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je rejoins les propos de Peter, ils ont servi d'impulsion √† la r√©daction de cet article. </font><font style="vertical-align: inherit;">Je crois que Go doit son succ√®s au traitement explicite des erreurs. </font><font style="vertical-align: inherit;">Les programmeurs pensent principalement aux plantages possibles. </font><font style="vertical-align: inherit;">Premi√®rement, nous r√©solvons des probl√®mes comme ¬´et si¬ª. </font><font style="vertical-align: inherit;">Le r√©sultat est des programmes dans lesquels les pannes sont g√©r√©es au stade de l'√©criture du code, et non comme elles se produisent pendant le fonctionnement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La verbosit√© de ce code</font></font><br>
<br>
<pre><code class="go hljs"><span class="hljs-keyword">if</span> err != <span class="hljs-literal">nil</span> {
    <span class="hljs-keyword">return</span> err<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'emporte sur l'importance de g√©rer d√©lib√©r√©ment chaque √©tat d√©faillant au moment o√π il se produit. </font><font style="vertical-align: inherit;">La cl√© de ceci est la valeur de la gestion explicite de chaque erreur.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mieux vaut rentrer t√¥t que d'investir profond√©ment</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La fratrie est meilleure que l'embo√Ætement </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Zen de Python, entr√©e 5</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce sage conseil vient d'un langage dans lequel l'indentation est la principale forme de flux de contr√¥le. Comment interpr√©tons-nous cette astuce dans la terminologie Go? gofmt g√®re la totalit√© de l'espace vide dans les programmes Go, nous n'avons donc rien √† faire ici. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai √©crit ci-dessus sur les noms de paquets. Il est peut-√™tre conseill√© d'√©viter une hi√©rarchie complexe de packages. D'apr√®s mon exp√©rience, plus un programmeur essaie de s√©parer et de classer une base de code sur Go, plus le risque d'importation cyclique de packages est √©lev√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je crois que la meilleure utilisation de la cinqui√®me entr√©e de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Zen of Python</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est de cr√©er un flux de contr√¥le √† l' </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">int√©rieur d'une</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fonction. En d'autres termes, √©vitez un flux de contr√¥le qui n√©cessite une indentation √† plusieurs niveaux.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La visibilit√© directe est une ligne droite le long de laquelle la vue n'est masqu√©e par rien. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
May Ryer, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code: Alignez le chemin heureux sur le bord gauche</font></font></a></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
May Ryer d√©crit cette id√©e comme une programmation en ligne directe:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Utilisez les instructions de contr√¥le pour revenir plus t√¥t si la condition pr√©alable n'est pas remplie.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Placer l'instruction de retour r√©ussi √† la fin de la fonction, et non √† l'int√©rieur du bloc conditionnel.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©duisez le niveau d'imbrication global en extrayant des fonctions et des m√©thodes.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essayez de vous assurer que les fonctions importantes ne se d√©placent jamais hors de la vue vers le bord droit de l'√©cran. </font><font style="vertical-align: inherit;">Ce principe a un effet secondaire: vous √©viterez les conflits sans signification avec l'√©quipe sur la longueur des lignes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque fois que vous indenter, vous ajoutez une condition suppl√©mentaire aux chefs de programmeurs, occupant l'un de leurs 7 ¬± 2 emplacements de m√©moire √† court terme. </font><font style="vertical-align: inherit;">Au lieu d'approfondir l'imbrication, essayez de garder le chemin d'acc√®s r√©ussi de la fonction aussi pr√®s que possible du c√¥t√© gauche de l'√©cran.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si vous pensez que quelque chose tourne lentement, alors prouvez-le avec une r√©f√©rence</font></font></h2><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Renoncez √† la tentation de deviner face √† l'ambigu√Øt√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le Zen de Python 12</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La programmation est bas√©e sur les math√©matiques et la logique. </font><font style="vertical-align: inherit;">Ces deux concepts utilisent rarement l'√©l√©ment de chance. </font><font style="vertical-align: inherit;">Mais nous, en tant que programmeurs, faisons chaque jour de nombreuses hypoth√®ses. </font><font style="vertical-align: inherit;">Que fait cette variable? </font><font style="vertical-align: inherit;">Que fait cette option? </font><font style="vertical-align: inherit;">Que se passe-t-il si je passe √† z√©ro ici? </font><font style="vertical-align: inherit;">Que se passe-t-il si j'appelle le registre deux fois? </font><font style="vertical-align: inherit;">Dans la programmation moderne, vous devez assumer beaucoup, surtout lorsque vous utilisez les biblioth√®ques d'autres personnes.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'API doit √™tre facile √† utiliser et difficile √† utiliser de mani√®re incorrecte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Josh Bloch</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'une des meilleures fa√ßons que j'ai connues pour aider un programmeur √† √©viter de deviner lors de la cr√©ation d'une API est de se </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">concentrer sur les m√©thodes d'utilisation standard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L'appelant doit pouvoir effectuer les op√©rations normales aussi facilement que possible. Cependant, avant d'avoir beaucoup √©crit et parl√© de la conception de l'API, voici donc mon interpr√©tation de l'enregistrement 12: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ne devinez pas le sujet des performances</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malgr√© votre attitude envers les conseils de Knut, l‚Äôune des raisons du succ√®s de Go est l‚Äôefficacit√© de son ex√©cution. Des </font><font style="vertical-align: inherit;">programmes efficaces peuvent √™tre √©crits dans cette langue, et gr√¢ce √† cela, les </font><font style="vertical-align: inherit;">gens </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seront</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">choisissez aller. </font><font style="vertical-align: inherit;">Il existe de nombreuses id√©es fausses li√©es aux performances. </font><font style="vertical-align: inherit;">Par cons√©quent, lorsque vous cherchez des moyens d'am√©liorer les performances du code, ou suivez des conseils dogmatiques tels que ¬´le ralentissement des √©tag√®res¬ª, ¬´CGO est cher¬ª ou ¬´utilisez toujours des op√©rations atomiques au lieu de mutex¬ª, ne faites pas de la bonne aventure. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ne compliquez pas votre code en raison de dogmes obsol√®tes. </font><font style="vertical-align: inherit;">Et si vous pensez que quelque chose fonctionne lentement, assurez-vous d'abord de cela √† l'aide d'une r√©f√©rence. </font><font style="vertical-align: inherit;">Go propose d'excellents outils d'analyse comparative et de profilage gratuits. </font><font style="vertical-align: inherit;">Utilisez-les pour trouver des goulots d'√©tranglement dans les performances de votre code.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avant de commencer la gorutine, d√©couvrez quand elle s'arr√™tera</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je pense que j'ai √©num√©r√© les √©l√©ments pr√©cieux de PEP-20 et peut-√™tre √©largi leur interpr√©tation au-del√† du bon go√ªt. </font><font style="vertical-align: inherit;">C'est bien, car bien qu'il s'agisse d'un dispositif rh√©torique utile, nous parlons toujours de deux langues diff√©rentes.</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âcrivez g, o, un espace, puis un appel de fonction. </font><font style="vertical-align: inherit;">Trois pressions de bouton, il ne peut pas √™tre plus court. </font><font style="vertical-align: inherit;">Trois clics sur le bouton et vous avez lanc√© le sous-processus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rob Pike, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simplicity is Complicated</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dotGo 2015</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les deux prochains conseils que je consacre aux goroutins. Les gorutins sont une caract√©ristique de la langue, notre r√©ponse √† une comp√©titivit√© de haut niveau. Ils sont tr√®s faciles √† utiliser: mettez un mot </font></font><code>go</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">devant l'op√©rateur et vous ex√©cutez la fonction de mani√®re asynchrone. Aucun thread d'ex√©cution, aucun ex√©cuteur de pool, aucun ID, aucun suivi de l'√©tat d'ach√®vement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les gorutins sont bon march√©. En raison de la capacit√© de l'environnement d'ex√©cution √† multiplexer les goroutines dans un petit nombre de threads d'ex√©cution (que vous n'avez pas besoin de g√©rer), vous pouvez facilement cr√©er des centaines de milliers ou des millions de goroutines. Cela vous permet de cr√©er des architectures qui ne seraient pas pratiques lors de l'utilisation d'autres mod√®les concurrents, sous la forme de threads d'ex√©cution ou de rappels d'√©v√©nements.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais peu importe le prix des goroutines, ils ne sont pas gratuits. Leur pile prend au moins quelques kilo-octets. Et quand vous avez des millions de goroutines, cela devient perceptible. Je ne veux pas dire que vous n'avez pas besoin d'utiliser des millions de goroutines, si l'architecture vous y pousse. Mais si vous l'utilisez, il est extr√™mement important de les surveiller, car en de telles quantit√©s, les goroutins peuvent consommer beaucoup de ressources. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les goroutines sont la principale source de propri√©t√© de Go. Pour √™tre utile, la goroutine doit faire quelque chose. Autrement dit, il contient presque toujours un lien vers une ressource, c'est-√†-dire des informations de propri√©t√©: verrou, connexion r√©seau, tampon de donn√©es envoyant la fin du canal. Pendant que goroutine est en vie, le verrou est maintenu, la connexion reste ouverte, le tampon est enregistr√© et les destinataires du canal attendent de nouvelles donn√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le moyen le plus simple de lib√©rer des ressources est de les relier au cycle de vie du goroutin. </font><font style="vertical-align: inherit;">Une fois termin√©, les ressources sont lib√©r√©es. </font><font style="vertical-align: inherit;">Et comme il est tr√®s facile d'ex√©cuter goroutine, avant d'√©crire ¬´allez et espace¬ª, assurez-vous d'avoir les r√©ponses √† ces questions:</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans quelles conditions la goroutine s'arr√™te-t-elle? </font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Go ne peut pas dire √† goroutine de finir. </font><font style="vertical-align: inherit;">Pour une raison pr√©cise, il n'y a pas de fonction pour arr√™ter ou interrompre. </font><font style="vertical-align: inherit;">Nous ne pouvons pas ordonner l'arr√™t des goroutines, mais nous pouvons demander poliment. </font><font style="vertical-align: inherit;">Ceci est presque toujours li√© au fonctionnement du canal. </font><font style="vertical-align: inherit;">Lorsqu'il est ferm√©, la plage est boucl√©e pour quitter le canal. </font><font style="vertical-align: inherit;">Lorsque vous fermez la cha√Æne, vous pouvez la s√©lectionner. </font><font style="vertical-align: inherit;">Le signal d'un goroutine √† l'autre s'exprime mieux comme un canal ferm√©.</font></font></li>
<li><strong>    ?</strong>          ,        ,   :        ?</li>
<li><strong>     ,   ?</strong>     ,    -       .        ,       .           .          ,        .</li>
</ul><br>
<h2>  </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Probablement dans l'un de vos programmes Go s√©rieux, la simultan√©it√© est utilis√©e. Cela conduit souvent au probl√®me d'un mod√®le de travailleur - un goroutine par connexion. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un excellent exemple est net / http. Il est assez simple d'arr√™ter le serveur propri√©taire du socket d'√©coute, mais qu'en est-il des goroutines g√©n√©r√©es par ce socket? net / http fournit un objet contextuel au sein de l'objet de requ√™te qui peut √™tre utilis√© pour indiquer √† l'auditeur que la requ√™te doit √™tre annul√©e, et donc interrompre le goroutine. Mais il n'est pas clair comment savoir quand tout cela doit √™tre fait. C'est une chose √† appeler </font></font><code>context.Cancel</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, une autre √† savoir que l'annulation est termin√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je trouve souvent des d√©fauts avec net / http, mais pas parce que c'est mauvais. Au contraire, c'est l'API la plus r√©ussie, la plus ancienne et la plus populaire de la base de code Go. Par cons√©quent, son architecture, son √©volution et ses d√©fauts sont soigneusement analys√©s. Consid√©rez cette flatterie, pas la critique. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, je veux apporter net / http comme contre-exemple de bonnes pratiques. √âtant donn√© que chaque connexion est trait√©e par le goroutin cr√©√© √† l'int√©rieur du type </font></font><code>net/http.Server</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, le programme en dehors du package net / http ne peut pas contr√¥ler les goroutins cr√©√©s par le socket de r√©ception. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce domaine de l'architecture est toujours en d√©veloppement. Vous pouvez rappeler </font></font><code>run.Group</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le go-kit, ou </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ErrGroup,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de l'√©quipe de d√©veloppement Go, qui fournit un cadre pour l'ex√©cution, l'annulation et l'attente de fonctions ex√©cut√©es de mani√®re asynchrone.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour tous ceux qui √©crivent du code qui peut √™tre ex√©cut√© de mani√®re asynchrone, le principe principal de la cr√©ation d'architectures est que la responsabilit√© de l'ex√©cution des goroutines devrait √™tre transf√©r√©e √† l'appelant. </font><font style="vertical-align: inherit;">Laissez-le choisir comment il veut s'ex√©cuter, suivre et attendre la fin de vos fonctions.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ecrire des tests pour bloquer le comportement de votre API de package</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez peut-√™tre esp√©r√© que dans cet article, je ne mentionnerai pas les tests. D√©sol√©, une autre fois. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vos tests sont un accord sur ce que fait et ne fait pas votre programme. Les tests unitaires doivent bloquer le comportement de leurs API au niveau du package. Les tests d√©crivent sous forme de code ce que le package promet de faire. S'il y a un test unitaire pour chaque conversion d'entr√©e, alors vous, </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sous forme de code</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et non de documentation, avez d√©fini un accord sur ce que fera le code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'approbation de cet accord est aussi simple que la r√©daction d'un test. √Ä tout moment, vous pouvez </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">affirmer</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec un haut degr√© de confiance </font><font style="vertical-align: inherit;">que le comportement sur lequel les gens se sont appuy√©s avant les modifications que vous avez apport√©es continuera de fonctionner apr√®s les modifications.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teste le comportement de l'API de blocage. </font><font style="vertical-align: inherit;">Toute modification qui ajoute, modifie ou supprime l'API publique doit inclure des modifications dans les tests.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La mod√©ration est une vertu</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go est un langage simple avec seulement 25 mots cl√©s. </font><font style="vertical-align: inherit;">D'une certaine mani√®re, cela met en √©vidence les fonctionnalit√©s int√©gr√©es dans le langage. </font><font style="vertical-align: inherit;">Ce sont les fonctionnalit√©s qui permettent au langage de se promouvoir: comp√©tition simple, typage structurel, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je pense que nous sommes tous confus en essayant d'utiliser toutes les fonctionnalit√©s de Go √† la fois. </font><font style="vertical-align: inherit;">Combien d'entre vous √©taient si inspir√©s par l'utilisation des cha√Ænes que vous les avez utilis√©es partout o√π vous le pouvez? </font><font style="vertical-align: inherit;">J'ai d√©couvert que les programmes r√©sultants sont difficiles √† tester, ils sont fragiles et trop complexes. </font><font style="vertical-align: inherit;">Et vous?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai eu la m√™me exp√©rience avec les goroutines. En essayant de diviser le travail en petits fragments, j'ai cr√©√© l'obscurit√© du goroutin, qui √©tait difficile √† contr√¥ler, et j'ai compl√®tement perdu de vue le fait que la plupart d'entre eux √©taient toujours bloqu√©s en raison de l'attente de leurs pr√©d√©cesseurs de terminer le travail. Le code √©tait compl√®tement coh√©rent, et j'ai d√ª augmenter consid√©rablement la complexit√© afin d'obtenir un petit avantage. Combien d'entre vous ont rencontr√© cela? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai eu la m√™me chose avec l'int√©gration. Au d√©but, je l'ai confondu avec l'h√©ritage. Puis il a rencontr√© le probl√®me d'une classe de base fragile, combinant plusieurs types complexes qui avaient d√©j√† plusieurs t√¢ches en des types √©normes encore plus complexes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est peut-√™tre le conseil le moins efficace, mais je consid√®re qu'il est important de le mentionner. </font><font style="vertical-align: inherit;">Le conseil est le m√™me: gardez la mod√©ration, et les capacit√©s de Go ne font pas exception. </font><font style="vertical-align: inherit;">Dans la mesure du possible, n'utilisez pas de goroutines, de canaux, de structures d'int√©gration, de fonctions anonymes, de nombreux packages et interfaces. </font><font style="vertical-align: inherit;">Utilisez des solutions plus simples que les solutions intelligentes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Facilit√© d'entretien</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, je vais vous donner une autre entr√©e de PEP-20:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La lisibilit√© est importante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le zen de Python, fiche 7</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
On a beaucoup parl√© de l'importance de la lisibilit√© du code dans tous les langages de programmation. Ceux qui font la promotion de Go utilisent des mots tels que simplicit√©, lisibilit√©, clart√©, productivit√©. Mais tous ces √©l√©ments sont synonymes d'un concept: la commodit√© de la maintenance. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le v√©ritable objectif est de cr√©er du code facile √† maintenir. Le code qui survit √† l'auteur. Un code qui peut exister non seulement comme un investissement de temps, mais comme une base pour obtenir une valeur future. Cela ne signifie pas que la lisibilit√© n'est pas importante, juste la commodit√© de la maintenance est </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">plus importante</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Go n'est pas une de ces langues optimis√©es pour les programmes sur une seule ligne. Et pas une de ces langues optimis√©es pour les programmes avec un nombre minimum de lignes. Nous n'optimisons pas pour la taille du code source sur le disque, ni pour la vitesse d'√©criture des programmes dans l'√©diteur. Nous voulons optimiser notre code afin qu'il devienne plus compr√©hensible pour les lecteurs. Car ce sont eux qui devront l'accompagner.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous √©crivez un programme pour vous-m√™me, il ne sera peut-√™tre lanc√© qu'une seule fois, ou vous √™tes le seul √† voir son code. </font><font style="vertical-align: inherit;">Dans ce cas, faites n'importe quoi. </font><font style="vertical-align: inherit;">Mais si plus d'une personne travaille sur le code, ou s'il sera utilis√© pendant une longue p√©riode et que les exigences, les capacit√©s ou l'ex√©cution peuvent changer, alors le programme devrait √™tre pratique √† maintenir. </font><font style="vertical-align: inherit;">Si le logiciel ne peut pas √™tre maintenu, il ne peut pas √™tre r√©√©crit. </font><font style="vertical-align: inherit;">Et c'est peut-√™tre la derni√®re fois que votre entreprise investit dans Go. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce sur quoi vous travaillez dur sera pratique √† accompagner apr√®s votre d√©part? </font><font style="vertical-align: inherit;">Comment pouvez-vous faciliter la maintenance de votre code pour ceux qui vous succ√®dent aujourd'hui?</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr490324/index.html">Comment trouver des erreurs non √©videntes dans les interfaces d'affectation en ligne pour les enfants</a></li>
<li><a href="../fr490328/index.html">Profession: testeur</a></li>
<li><a href="../fr490332/index.html">Nous faisons un clone du service de livraison de nourriture en utilisant Nuxt.js, GraphQL, Strapi et Stripe. Partie 2/7</a></li>
<li><a href="../fr490336/index.html">Anatomie des canaux dans Go</a></li>
<li><a href="../fr490338/index.html">Dans une exp√©rience innovante, les physiciens ont appris √† capturer des atomes individuels.</a></li>
<li><a href="../fr490342/index.html">Ce que nous avons appris en testant le syst√®me d'information de l'√âtat</a></li>
<li><a href="../fr490344/index.html">Qui est Techlide et pourquoi l'√©quipe en a-t-elle besoin?</a></li>
<li><a href="../fr490346/index.html">Le r√¥le du protocole MQTT dans le d√©veloppement de l'Internet industriel des objets</a></li>
<li><a href="../fr490348/index.html">Comment faire des commentaires et ne pas commencer la Troisi√®me Guerre mondiale</a></li>
<li><a href="../fr490354/index.html">Renforcer la culture de la s√©curit√© de l'information dans les soci√©t√©s fintech</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>