<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📹 👵🏼 🍺 本「Kubernetesパターン：ネイティブクラウドアプリケーション開発パターン」 👨🏻‍🎤 🙌🏾 🧙🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="こんにちは、habrozhiteli！
 
 マイクロサービスとコンテナーの開発に伴い、ソフトウェアの設計、作成、および起動へのアプローチが変化しました。Kubernetesクラウドアプリケーションを実装するために必要な新しい設計パターンと原則を調べます。
 
 この本は、Kubernetesプラッ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>本「Kubernetesパターン：ネイティブクラウドアプリケーション開発パターン」</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/piter/blog/490844/"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/z1/xp/jr/z1xpjrbdjk7o8hr1ydymen7sxsm.jpeg" align="left" alt="画像"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こんにちは、habrozhiteli！</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マイクロサービスとコンテナーの開発に伴い、ソフトウェアの設計、作成、および起動へのアプローチが変化しました。</font><font style="vertical-align: inherit;">Kubernetesクラウドアプリケーションを実装するために必要な新しい設計パターンと原則を調べます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この本は、Kubernetesプラットフォーム用のクラウドベースのアプリケーションを設計および開発する開発者を対象としています。</font><font style="vertical-align: inherit;">それからの最大の利点は、少なくともコンテナに少し精通していて、新しいレベルに上がりたい読者です。</font><font style="vertical-align: inherit;">各設計パターンは実際の問題の説明であり、解決策は特定のコード例でサポートおよび例示されています。</font></font><br>
<a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抜粋。</font><font style="vertical-align: inherit;">サイドカーパターン</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サイドカーパターン（予告編）では、既存のコンテナーの機能を変更せずに拡張するコンテナーを定義します。</font><font style="vertical-align: inherit;">これは、互いに密接に連携する高度に専門化されたコンテナを作成するための基本的なコンテナパターンの1つです。</font><font style="vertical-align: inherit;">この章では、サイドカーパターン（トレーラー）のアイデアに関連するすべてを学びます。</font><font style="vertical-align: inherit;">また、第16章と第17章では、このパターンの特殊な変形（それぞれアダプタパターンとアンバサダーパターン）について説明します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仕事</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンテナーは、開発者とシステム管理者がアプリケーションを作成、配信、および統合された方法で実行できるようにする人気のあるパッケージングテクノロジーです。コンテナーは、ランタイム、リリースサイクル、API、および所属する開発チームで機能ユニットの自然な境界を表します。典型的なコンテナーは、Linux上のプロセスのように機能します-1つの問題を解決し、うまく実行します-置き換えと再利用の可能性を想定して作成されます。後者は、既存の専用コンテナを使用してアプリケーションをすばやく作成できるため、特に重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、HTTPリクエストを送信するために、クライアントライブラリを作成する必要はありません。既存のものを使用してください。</font><font style="vertical-align: inherit;">同様に、Webサイトを維持するには、Webサーバーでコンテナーを作成する必要はなく、既存のコンテナーを使用するだけです。</font><font style="vertical-align: inherit;">このアプローチにより、開発者はホイールを再発明せずに、メンテナンス用のより良い品質のコンテナーが少ないエコシステムを作成できます。</font><font style="vertical-align: inherit;">ただし、高度に専門化された再利用可能なコンテナーを使用できるようにするには、コンテナーの機能を拡張する方法と、コンテナー間の相互作用を整理する手段が必要です。</font><font style="vertical-align: inherit;">サイドカーパターン（予告編）は、あるコンテナーが別の既存のコンテナーの機能を拡張するときの対話を編成する方法を説明します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">決定</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第1章では、ポッドを使用して複数のコンテナーを1つのブロックに結合する方法を説明しました。実行時の背後にはコンテナーもありますが、炉内の他のすべてのコンテナーの前で、一時停止された（文字通りpauseコマンドを使用）プロセスとして開始されます。アプリケーションコンテナーがポッドのライフサイクル全体で対話するために使用するすべてのLinux名前空間を保存するだけです。この実装の詳細に加えて、ハースアブストラクションが提供するすべての特性も重要です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Underは非常に基本的なプリミティブであり、さまざまな名前ではありますが、多くのクラウドプラットフォームに存在しますが、常に同様の機能を備えています。配備ユニットとして、コンテナに特定の実行時制限を課します。たとえば、すべてのコンテナは1つのノードにデプロイされ、共通のライフサイクルがあります。さらに、以下では、コンテナが共有ボリュームを使用し、ローカルネットワークまたはホストプロセス間通信ツールを使用してデータを交換できます。そのため、ユーザーはコンテナをポッドに結合します。サイドカーパターン（予告編）（サイドキック（コンパニオン）とも呼ばれる）は、別のコンテナーの機能を拡張するためにコンテナーを下に追加するシナリオを示します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このパターンを示す典型的な例は、HTTPサーバーとGitリポジトリとの同期メカニズムです。 HTTPサーバーコンテナーは、HTTP経由でファイルを処理することに関連する問題を解決し、これらのファイルがどこからどのようにして発生するかを知りません。同様に、Gitと同期するコンテナーの唯一の目的は、ローカルファイルシステムのデータをGitサーバーのデータと同期することです。彼は同期後にファイルがどうなるかを気にしていません。彼の唯一のタスクは、ローカルフォルダーのコンテンツをリモートGitサーバーのコンテンツと同期することです。リスト15.1は、これら2つのコンテナーがファイル共有にボリュームを使用するように構成されたポッド定義を示しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト15.1サイドカーパターンの実装（予告編）</font></font><br>
<br>
<pre><code class="bash hljs">apiVersion: v1<font></font>
kind: Pod<font></font>
metadata:<font></font>
    name: web-app<font></font>
spec:<font></font>
    containers:<font></font>
    - name: app<font></font>
      image: docker.io/centos/httpd ❶<font></font>
      ports:<font></font>
      - containerPort: 80<font></font>
      volumeMounts:<font></font>
      - mountPath: /var/www/html ❸<font></font>
      name: git<font></font>
    - name: poll<font></font>
      image: axeclbr/git ❷<font></font>
      volumeMounts:<font></font>
      - mountPath: /var/lib/data ❸<font></font>
        name: git<font></font>
      env:<font></font>
      - name: GIT_REPO<font></font>
         value: https://github.com/mdn/beginner-html-site-scripted<font></font>
      <span class="hljs-built_in">command</span>:<font></font>
      - <span class="hljs-string">"sh"</span>
      - <span class="hljs-string">"-c"</span>
      - <span class="hljs-string">"git clone <span class="hljs-subst">$(GIT_REPO)</span> . &amp;&amp; watch -n 600 git pull"</span><font></font>
      workingDir: /var/lib/data<font></font>
volumes:<font></font>
- emptyDir: {}<font></font>
      name: git</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（1）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> HTTP経由でファイルを提供するメインアプリケーションコンテナー。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（2）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">補助コンテナー（予告編）が並行して動作し、Gitサーバーからデータを受信します。</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（3）</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プライマリコンテナとセカンダリコンテナの間でデータを交換するため</font><b><font style="vertical-align: inherit;">の</font></b><font style="vertical-align: inherit;">共有フォルダ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この例は、Gitを含む同期コンテナーがHTTPサーバーによって提供されるコンテンツを追加し、それを最新に保つ方法を示しています。</font><font style="vertical-align: inherit;">両方のコンテナーが密接に連携して機能し、同等に重要であるとも言えますが、サイドカーパターン（予告編）は、集合的な動作を拡張するメイン（メイン）コンテナーと補助コンテナーの存在を想定しています。</font><font style="vertical-align: inherit;">通常、メインのコンテナはコンテナのリストの最初にリストされ、デフォルトのコンテナを表します（たとえば、kubectl execコマンドによって起動されます）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
図1に示すこの単純なパターン。</font><font style="vertical-align: inherit;">15.1は、実行時のコンテナーの緊密な連携を保証すると同時に、新しいバージョンのリリースの異なるサイクルなど、異なるプログラミング言語を使用する開発者の別々のチームに属するタスクを共有できるようにします。また、コンテナーの互換性と再利用を促進します-つまり、HTTPサーバーとGit同期メカニズムは、独立して、または他のコンテナーと組み合わせて、他のアプリケーションや他の設定で再利用できます。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/28/5g/wy/285gwyeypygwt7r2pkwue45p_7y.jpeg" alt="画像"></div><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コンテナーイメージはクラスに似ており、コンテナーはオブジェクト指向プログラミング（OOP）のオブジェクトのようであると既に述べています。この類推を続けると、コンテナー機能の拡張とOOPでの継承、および囲炉裏でのいくつかのコンテナーの共同作業とOOPでの構成の受信を比較できます。これらのアプローチはどちらもコードの再利用を可能にしますが、継承はより密接な関係を定義し、コンテナ間の「is」関係を表します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
囲炉裏の構成は「has」の関係を表しています。組み立て時にコンテナを組み合わせる必要がないため、柔軟性が高く、後で囲炉裏の定義でコンテナを変更できるようになります。ただし、コンポジションは、同時に動作している複数のコンテナ（プロセス）の存在も意味します。これらは、操作性をチェックして再起動する必要があり、リソースとメインアプリケーションコンテナを消費します。サイドカーパターン（予告編）では、最小限のリソースを消費する小さな補助コンテナーの作成が含まれますが、別のプロセスを開始するか、すべてのタスクをメインコンテナーに結合するかを決定します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の観点から見ると、コンテナーの構成はアスペクト指向プログラミングに似ています。メインコンテナーに関係のない直交（独立）機能が追加のコンテナーの助けを借りてサブに追加されます。</font><font style="vertical-align: inherit;">ここ数か月間、Sidecarパターンは、特に各サービスが補助コンテナの形でも提供されるネットワーク管理およびサービス監視タスクで人気が高まっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
»書籍の詳細については、上で見つけることができます</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">出版社のウェブサイト</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
» </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンテンツ</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
» </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">抜粋</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
クーポンのためにKhabrozhiteley 25％割引- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ブックの紙のバージョンの支払いの際に、電子書籍を電子メールで送信されます。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja490832/index.html">靴のマーキング：200万のマーキングコード「1C」+「正直な​​サイン」を流通させたとき</a></li>
<li><a href="../ja490836/index.html">コメントを開いてスパムに溺れない方法</a></li>
<li><a href="../ja490838/index.html">WiFi 6が登場：市場が提供するものと、なぜこのテクノロジーが必要なのか</a></li>
<li><a href="../ja490840/index.html">リソースプランニング。パート4.1。リソース計画を立てる前に</a></li>
<li><a href="../ja490842/index.html">写真内のGPT-2（Transformer言語モデルの視覚化）</a></li>
<li><a href="../ja490846/index.html">カラシニコフアカデミーのウェブサイトをどのように開発し、2つのコンテストの受賞者になったか</a></li>
<li><a href="../ja490850/index.html">コンパイラがあなたを助けるのを助ける</a></li>
<li><a href="../ja490852/index.html">SpinLaunchの詳細-宇宙業界で最も熱心に秘密にされてきた</a></li>
<li><a href="../ja490854/index.html">AIを使用してアイテムを並べ替える倉庫ロボットの準備が整いました</a></li>
<li><a href="../ja490856/index.html">オートダンジョンマスター</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>