<!doctype html>
<html class="no-js" lang="es">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üçà üë®‚Äçüë©‚Äçüëß üë©üèæ Por qu√© no deber√≠as usar WireGuard üë®üèº‚Äçüé§ üÜì üß¶</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Recientemente, WireGuard atrae mucha atenci√≥n, de hecho, esta es una nueva "estrella" entre las VPN. ¬øPero es tan bueno como parece? Me gustar√≠a discu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Por qu√© no deber√≠as usar WireGuard</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/dcmiran/blog/492888/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recientemente, WireGuard atrae mucha atenci√≥n, de hecho, esta es una nueva "estrella" entre las VPN. ¬øPero es tan bueno como parece? Me gustar√≠a discutir algunas observaciones y considerar la implementaci√≥n de WireGuard para explicar por qu√© no es una soluci√≥n que reemplace IPsec u OpenVPN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En este art√≠culo, me gustar√≠a desacreditar algunos mitos [en torno a WireGuard]. S√≠, tomar√° mucho tiempo leerlo, as√≠ que si no ha preparado una taza de t√© o caf√©, entonces es hora de hacerlo. Tambi√©n me gustar√≠a agradecer a Peter por corregir mis pensamientos ca√≥ticos.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No me propongo el objetivo de desacreditar a los desarrolladores de WireGuard, de devaluar sus esfuerzos o ideas. Su producto funciona, pero personalmente creo que se presenta completamente diferente de lo que realmente es: se presenta como un reemplazo para IPsec y OpenVPN, que en realidad ahora simplemente no existe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como nota, quiero agregar que la responsabilidad de tal posicionamiento de WireGuard recae en los medios que hablaron sobre √©l, y no en el proyecto en s√≠ o sus creadores.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No ha habido demasiadas buenas noticias sobre el tema del kernel de Linux √∫ltimamente. </font><font style="vertical-align: inherit;">Entonces, nos dijeron sobre las monstruosas vulnerabilidades del procesador, que fueron niveladas por el software, y Linus Torvalds habl√≥ sobre el lenguaje utilitario demasiado grosero y aburrido del desarrollador. </font><font style="vertical-align: inherit;">Programador o nivel cero de la pila de red: tampoco temas demasiado claros para revistas brillantes. </font><font style="vertical-align: inherit;">Y luego aparece WireGuard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todo suena genial en papel: una nueva tecnolog√≠a emocionante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero echemos un vistazo a ella un poco m√°s cuidadosamente.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Documentaci√≥n t√©cnica de WireGuard</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este art√≠culo se basa en la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentaci√≥n oficial de WireGuard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> escrita por Jason Donenfeld. </font><font style="vertical-align: inherit;">All√≠ explica el concepto, el prop√≥sito y la implementaci√≥n t√©cnica de [WireGuard] en el kernel de Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La primera oraci√≥n dice:</font></font><br>
<br>
<blockquote>WireGuard [...]    IPsec     ,         / TLS,   OpenVPN,     ,      []. </blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por supuesto, la principal ventaja de todas las nuevas tecnolog√≠as es su </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">simplicidad</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> [en comparaci√≥n con sus predecesores]. </font><font style="vertical-align: inherit;">Pero una VPN tambi√©n debe ser </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eficiente y segura</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces, ¬øqu√© sigue? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si dice que [de la VPN] no necesita esto, puede finalizar la lectura. </font><font style="vertical-align: inherit;">Sin embargo, notar√© que tales tareas se plantean antes que cualquier otra tecnolog√≠a de t√∫nel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√°s interesante de las citas anteriores radica en las palabras "en la mayor√≠a de los casos", que, por supuesto, fueron ignoradas por la prensa. </font><font style="vertical-align: inherit;">Y aqu√≠ estamos, donde terminamos debido al caos creado por esta negligencia, en este art√≠culo.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6a/6i/mh/6a6imhnuzbtscbkm7rdwladwddm.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øWireGuard reemplazar√° mi conexi√≥n VPN [IPsec] entre sitios?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No. </font><font style="vertical-align: inherit;">Simplemente no hay posibilidad de que grandes proveedores como Cisco, Juniper y otros compren WireGuard para sus productos. </font><font style="vertical-align: inherit;">No "saltan los trenes" sobre la marcha, a menos que sea muy necesario. </font><font style="vertical-align: inherit;">M√°s adelante hablar√© sobre algunas de las razones por las cuales probablemente no podr√≠an instalar los productos WireGuard a bordo, incluso si quisieran.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øWireGuard transferir√° mi RoadWarrior de una computadora port√°til a un centro de datos?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No. WireGuard no ha implementado una gran cantidad de funciones importantes en este momento para que pueda hacer algo como esto. Por ejemplo, no puede usar la direcci√≥n IP din√°mica en el lado del servidor del t√∫nel, y esto solo rompe todo el escenario de un uso similar del producto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPFire se usa a menudo para canales de Internet de bajo costo, como DSL o conexi√≥n por cable. Esto tiene sentido para una peque√±a o mediana empresa que no necesita fibra r√°pida.</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[Nota del traductor: no olvide que, en t√©rminos de comunicaciones, Rusia y algunos pa√≠ses de la CEI est√°n muy por delante de Europa y Estados Unidos, porque comenzamos a construir nuestras redes mucho m√°s tarde y con el advenimiento de las redes Ethernet y de fibra √≥ptica como est√°ndar, nos fue m√°s f√°cil reconstruir. En los mismos pa√≠ses de la UE o EE. UU., El acceso de banda ancha xDSL a una velocidad de 3-5 Mbps sigue siendo la norma universal, y la conexi√≥n de fibra √≥ptica cuesta algo de dinero poco realista seg√∫n nuestros est√°ndares. Por lo tanto, el autor del art√≠culo habla de DSL o conexi√≥n de cable como normal, en lugar del pasado antiguo.]</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sin embargo, DSL, cable, LTE (y otros m√©todos de acceso inal√°mbrico) tienen direcciones IP din√°micas. Por supuesto, a veces no cambian a menudo, pero a√∫n cambian. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay un subproyecto llamado </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"wg-dynamic"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El espacio de usuario daemon se agrega para superar esta deficiencia. </font><font style="vertical-align: inherit;">Un gran problema con el escenario de usuario descrito anteriormente es el agravamiento de la situaci√≥n mediante el direccionamiento din√°mico IPv6. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desde el punto de vista del distribuidor, todo esto tampoco se ve muy bien. </font><font style="vertical-align: inherit;">Uno de los objetivos de dise√±o era mantener el protocolo simple y limpio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desafortunadamente, todo esto se volvi√≥ demasiado simple y primitivo, por lo que tenemos que usar software adicional para hacer viable todo este dise√±o en condiciones de la vida real.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øWireGuard es tan f√°cil de usar?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A√∫n no. No digo que WireGuard nunca sea una buena alternativa para reenviar un t√∫nel entre dos puntos, pero hasta ahora es solo una versi√≥n alfa del producto en el que deber√≠a convertirse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero entonces, ¬øqu√© hace realmente? ¬øIPsec es realmente mucho m√°s dif√≠cil de operar? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente no. El proveedor de IPsec ha considerado este punto y est√° entregando su producto junto con una interfaz como IPFire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para configurar un t√∫nel VPN a trav√©s de IPsec, necesitar√° cinco conjuntos de datos que deber√° ingresar en la configuraci√≥n: su propia direcci√≥n IP p√∫blica, la direcci√≥n IP p√∫blica del lado receptor, subredes que desea hacer p√∫blicas a trav√©s de esta conexi√≥n VPN y previamente compartidas llave. Por lo tanto, la VPN se configura en unos minutos y es compatible con cualquier proveedor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desafortunadamente, hay algunas excepciones a esta historia. </font><font style="vertical-align: inherit;">Todos los que intentaron reenviar un t√∫nel VPN a trav√©s de IPsec a una m√°quina en OpenBSD entienden de lo que estoy hablando. </font><font style="vertical-align: inherit;">Hay un par de ejemplos m√°s dolorosos, pero de hecho, la buena pr√°ctica de usar IPsec es mucho, mucho m√°s.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre la complejidad del protocolo</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El usuario final no tiene que preocuparse por la complejidad del protocolo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vivi√©ramos en un mundo donde esta era la verdadera preocupaci√≥n del usuario, hace mucho tiempo nos habr√≠amos librado de SIP, H.323, FTP y otros protocolos creados hace m√°s de diez a√±os que no funcionan bien con NAT. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hay razones por las que IPsec es m√°s complicado que WireGuard: hace mucho m√°s. Por ejemplo, autenticaci√≥n de usuario utilizando un nombre de usuario / contrase√±a o tarjeta SIM con EAP. Tiene la capacidad ampliada de agregar nuevas </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">primitivas criptogr√°ficas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero WireGuard no lo hace. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y esto significa que WireGuard se romper√° en alg√∫n momento, porque una de las primitivas criptogr√°ficas se debilitar√° o se ver√° completamente comprometida. El autor de la documentaci√≥n t√©cnica dice esto:</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vale la pena se√±alar que WireGuard es criptogr√°ficamente seguro de s√≠ mismo. </font><font style="vertical-align: inherit;">Carece intencionalmente de la flexibilidad de cifrados y protocolos. </font><font style="vertical-align: inherit;">Si se encuentran agujeros serios en las primitivas subyacentes, todos los puntos finales deber√°n actualizarse. </font><font style="vertical-align: inherit;">Como puede ver en el flujo continuo de vulnerabilidades SLL / TLS, la flexibilidad de cifrado ahora ha aumentado enormemente.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La √∫ltima oraci√≥n es absolutamente cierta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Crear consenso sobre qu√© cifrado usar hace que protocolos como IKE y TLS sean </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√°s</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> complejos. </font><font style="vertical-align: inherit;">¬øDemasiado complicado? </font><font style="vertical-align: inherit;">S√≠, las vulnerabilidades son bastante comunes en TLS / SSL, y no hay alternativa a ellas.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sobre ignorar problemas reales</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imagina que tienes un servidor VPN con 200 clientes de combate, en alg√∫n lugar del mundo. Este es un caso de uso muy est√°ndar. Si tiene que cambiar el cifrado, debe entregar la actualizaci√≥n a todas las copias de WireGuard en estas computadoras port√°tiles, tel√©fonos inteligentes, etc. </font><font style="vertical-align: inherit;">Entregar al </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mismo tiempo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Es literalmente imposible. A los administradores que intenten hacerlo estos meses les llevar√° implementar las configuraciones necesarias, y las empresas medianas literalmente tardar√°n a√±os en organizar tal evento.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec y OpenVPN ofrecen negociaci√≥n de cifrado. Por lo tanto, alg√∫n tiempo despu√©s de que habilite el nuevo cifrado, el antiguo funcionar√°. Gracias a esto, los clientes actuales podr√°n actualizar a la nueva versi√≥n. Una vez que se implementa la actualizaci√≥n, simplemente apaga el cifrado vulnerable. ¬°Y eso es todo! ¬°Hecho! ¬°eres guapisima! Y los clientes ni siquiera lo notar√°n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este es realmente un caso muy com√∫n para implementaciones grandes, e incluso OpenVPN tiene algunas dificultades. La compatibilidad con versiones anteriores es importante, y aunque utilice un cifrado m√°s d√©bil, para muchos esto no causa el cierre del negocio. Porque conducir√° a la par√°lisis de cientos de clientes debido a la incapacidad de hacer su trabajo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El equipo de WireGuard ha simplificado su protocolo, pero es completamente inadecuado para las personas que no tienen control constante sobre ambos pares de su t√∫nel. </font><font style="vertical-align: inherit;">En mi experiencia, este es el escenario m√°s com√∫n.</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/xz/8g/un/xz8gunpa9bqpa5viwsssog6fbv0.png"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬°Criptograf√≠a!</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, ¬øcu√°l es este nuevo cifrado interesante que utiliza WireGuard?</font></font><br>
<br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WireGuard utiliza Curve25519 para el intercambio de claves, ChaCha20 para el cifrado y Poly1305 para la autenticaci√≥n de datos. </font><font style="vertical-align: inherit;">Tambi√©n funciona con SipHash para las claves hash y BLAKE2 para el hash.</font></font></blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ChaCha20-Poly1305 est√° estandarizado para IPsec y OpenVPN (a trav√©s de TLS). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, el desarrollo de Daniel Bernstein se usa con mucha frecuencia. BLAKE2 es el sucesor de BLAKE, el finalista de SHA-3 que no gan√≥ debido a su parecido con SHA-2. Si SHA-2 fuera pirateado, hab√≠a una alta probabilidad de que BLAKE se viera comprometido. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec y OpenVPN no necesitan SipHash debido a su dise√±o. Por lo tanto, lo √∫nico que no se puede usar con ellos en este momento es BLAKE2, y solo hasta que est√© estandarizado. Esto no es un gran inconveniente, porque las VPN usan HMAC para crear integridad, lo que se considera una soluci√≥n s√≥lida incluso en combinaci√≥n con MD5.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Entonces llegu√© a la conclusi√≥n de que todas las VPN usan casi el mismo conjunto de herramientas criptogr√°ficas. </font><font style="vertical-align: inherit;">Por lo tanto, WireGuard no es m√°s ni menos seguro que cualquier otro producto relevante cuando se trata de cifrado o integridad de datos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero incluso esto no es lo m√°s importante a lo que debe prestar atenci√≥n de acuerdo con la documentaci√≥n oficial del proyecto. </font><font style="vertical-align: inherit;">Despu√©s de todo, lo principal es la velocidad.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øWireGuard es m√°s r√°pido que otras soluciones VPN?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En resumen: no, no m√°s r√°pido. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ChaCha20 es un cifrado de flujo que es m√°s f√°cil de implementar en software. Cifra un bit a la vez. Los protocolos de bloque, como AES, encriptan un bloque de 128 bits a la vez. Para implementar el soporte de hardware, se requerir√°n muchos m√°s transistores, por lo tanto, los procesadores m√°s grandes vienen con AES-NI, una extensi√≥n del conjunto de instrucciones que realiza algunas tareas del proceso de cifrado para acelerarlo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se esperaba que AES-NI nunca llegara a los tel√©fonos inteligentes [y golpe√≥, - aprox. trans.]. Para esto, se desarroll√≥ el ChaCha20, como una alternativa f√°cil y econ√≥mica que ahorra bater√≠a. Por lo tanto, puede ser una novedad para usted que cada tel√©fono inteligente que pueda comprar hoy tenga una u otra aceleraci√≥n para AES y funcione con este cifrado m√°s r√°pido y con menos consumo de energ√≠a que con ChaCha20. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Obviamente, casi todos los procesadores de escritorio / servidor comprados en los √∫ltimos a√±os tienen AES-NI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, espero que AES supere a ChaCha20 en cada escenario. La documentaci√≥n oficial de WireGuard menciona que gracias al AVX512, el ChaCha20-Poly1305 superar√° a AES-NI, pero esta extensi√≥n de conjunto de comandos solo estar√° disponible en procesadores grandes, lo que nuevamente no ayudar√° con equipos m√°s peque√±os y m√≥viles que siempre funcionar√°n m√°s r√°pido con AES- NI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No estoy seguro de si esto podr√≠a haberse previsto durante el desarrollo de WireGuard, pero hoy el hecho de que est√© enclavado en un cifrado ya es un inconveniente que puede no afectar muy bien su trabajo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
IPsec le permite elegir libremente qu√© cifrado es mejor para su aplicaci√≥n. Y, por supuesto, esto es necesario si, por ejemplo, desea transferir 10 o m√°s gigabytes de datos a trav√©s de una conexi√≥n VPN.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Problemas de integraci√≥n de Linux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aunque WireGuard ha elegido un protocolo de cifrado moderno, esto ya est√° causando muchos problemas. </font><font style="vertical-align: inherit;">Y as√≠, en lugar de usar lo que es compatible con el n√∫cleo de f√°brica, la integraci√≥n de WireGuard se ha retrasado durante a√±os debido a la falta de estas primitivas en Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No estoy completamente consciente de la situaci√≥n en otros sistemas operativos, pero probablemente no es muy diferente de la situaci√≥n con Linux.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬øC√≥mo se ve la realidad?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desafortunadamente, cada vez que un cliente me pide que configure una conexi√≥n VPN para √©l, me encuentro con el tema de que usan credenciales y cifrado obsoletos. 3DES junto con MD5 sigue siendo una pr√°ctica com√∫n, como lo son AES-256 y SHA1. Y aunque este √∫ltimo es un poco mejor, esto no es algo para usar en 2020. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para el intercambio de claves </font><font style="vertical-align: inherit;">, </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">siempre se</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usa RSA, una herramienta lenta pero bastante segura.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mis clientes est√°n conectados con las autoridades aduaneras y otras organizaciones e instituciones estatales, as√≠ como con grandes corporaciones, cuyos nombres son conocidos en todo el mundo. Todos usan un formulario de solicitud creado hace d√©cadas, y la capacidad de usar SHA-512 simplemente nunca se agreg√≥. No puedo decir que esto de alguna manera afecte claramente el progreso tecnol√≥gico, pero obviamente ralentiza el proceso corporativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Me duele ver esto, porque IPsec ha admitido curvas el√≠pticas fuera de la curva desde el a√±o 2005. Curve25519 tambi√©n es m√°s nuevo y m√°s accesible. Todav√≠a hay alternativas a AES, como Camellia y ChaCha20, pero, obviamente, no todas son compatibles con grandes proveedores, como Cisco y otros.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Y la gente lo usa. </font><font style="vertical-align: inherit;">Hay muchos kits de Cisco; hay muchos kits dise√±ados para funcionar con Cisco. </font><font style="vertical-align: inherit;">Son l√≠deres del mercado en este segmento y no est√°n muy interesados ‚Äã‚Äãen ninguna innovaci√≥n. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S√≠, la situaci√≥n [en el segmento corporativo] es terrible, pero no veremos ning√∫n cambio debido a WireGuard. </font><font style="vertical-align: inherit;">Es probable que los fabricantes nunca identifiquen ning√∫n problema de rendimiento con las herramientas y el cifrado que ya est√°n en uso, no ver√°n problemas al usar IKEv2 y, por lo tanto, no est√°n buscando alternativas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En general, ¬øalguna vez has pensado en abandonar Cisco?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puntos de referencia</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ahora pasemos a los puntos de referencia de la documentaci√≥n de WireGuard. Aunque esta [documentaci√≥n] no es un art√≠culo cient√≠fico, todav√≠a esperaba que los desarrolladores adoptaran un enfoque m√°s cient√≠fico o utilizaran un enfoque cient√≠fico como referencia. Cualquier punto de referencia es in√∫til si no puede reproducirse, y a√∫n m√°s, es in√∫til cuando se obtiene en el laboratorio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En la compilaci√≥n WireGuard para Linux, aprovecha la GSO - Descarga de segmentaci√≥n gen√©rica. Gracias a √©l, el cliente crea un gran paquete de 64 kilobytes de tama√±o y lo cifra / descifra en un solo enfoque. Por lo tanto, se reduce el costo de llamar e implementar operaciones criptogr√°ficas. Si desea maximizar el ancho de banda de su conexi√≥n VPN, esta es una buena idea.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero, como siempre, en realidad no es tan simple. Enviar un paquete tan grande a un adaptador de red requiere que se corte en muchos paquetes m√°s peque√±os. El tama√±o de env√≠o t√≠pico es de 1.500 bytes. Es decir, nuestros 64 kilobytes gigantes se dividir√°n en 45 paquetes (1240 bytes de informaci√≥n y 20 bytes de encabezado IP). Luego, durante un tiempo, bloquean completamente el funcionamiento del adaptador de red, ya que deben enviarse juntos e inmediatamente. Como resultado, esto dar√° lugar a un salto en la prioridad, y los paquetes como, por ejemplo, VoIP, se pondr√°n en cola. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por lo tanto, el alto rendimiento, que WireGuard afirma tan audazmente, se logra al ralentizar el funcionamiento de la red de otras aplicaciones. Y el equipo de WireGuard ya ha </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=es&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">confirmado</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> esta conclusi√≥n m√≠a.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero sigamos adelante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seg√∫n los puntos de referencia en la documentaci√≥n t√©cnica, la conexi√≥n muestra un ancho de banda de 1011 Mbit / s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Impresionante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esto es especialmente impresionante porque el ancho de banda te√≥rico m√°ximo de una conexi√≥n Ethernet de un gigabit es de 966 Mbit / s con un tama√±o de paquete de 1,500 bytes menos 20 bytes por encabezado IP, 8 bytes por encabezado UDP y 16 bytes por encabezado de cable. . Hay otro encabezado IP en el paquete encapsulado y otro en TCP de 20 bytes. Entonces, ¬øde d√≥nde viene este ancho de banda adicional?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Con las enormes tramas y ventajas de GSO, de las que hablamos anteriormente, el m√°ximo te√≥rico con un tama√±o de trama de 9000 bytes ser√° de 1014 Mbit / s. Por lo general, dicho rendimiento es inalcanzable en realidad, porque est√° asociado con grandes dificultades. Por lo tanto, solo puedo suponer que la prueba se realiz√≥ con marcos a√∫n m√°s en negrita que exceden el tama√±o de 64 kilobytes con un m√°ximo te√≥rico de 1023 Mbit / s, que solo es compatible con algunos adaptadores de red. Pero esto no es absolutamente aplicable en condiciones reales, o puede usarse solo entre dos estaciones conectadas directamente entre s√≠, exclusivamente dentro del banco de pruebas.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero dado que el t√∫nel VPN se reenv√≠a entre dos hosts utilizando una conexi√≥n a Internet que no admite tramas grandes, el resultado logrado en el stand no puede tomarse como est√°ndar. </font><font style="vertical-align: inherit;">Esto es simplemente un logro de laboratorio poco realista, que es imposible y no aplicable en condiciones reales de combate. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Incluso sentado en el centro de datos, no podr√≠a transferir marcos de m√°s de 9000 bytes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El criterio de aplicabilidad en la vida real se viola por completo y, seg√∫n creo, el autor de la "medici√≥n" se desacredit√≥ seriamente por razones obvias.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/ra/2b/pora2bzrbixbty-gnnngbffbc-i.png"><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">El √∫ltimo rayo de esperanza</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
El sitio web de WireGuard habla mucho sobre los contenedores y queda claro a qu√© est√° destinado realmente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Una VPN simple y r√°pida que no requiere ninguna configuraci√≥n y se puede implementar y configurar con herramientas de orquestaci√≥n masivas, como las de Amazon en su nube. Espec√≠ficamente, Amazon utiliza las √∫ltimas funciones de hardware que mencion√© anteriormente, por ejemplo, AVX512. Esto se hace para acelerar el trabajo y no estar vinculado a x86 ni a ninguna otra arquitectura.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Optimizan el ancho de banda y los paquetes cuyo tama√±o excede los 9000 bytes; esto dar√° como resultado enormes marcos encapsulados para comunicar contenedores entre s√≠, o para operaciones de copia de seguridad, crear instant√°neas o implementar estos contenedores. </font><font style="vertical-align: inherit;">Incluso las direcciones IP din√°micas no afectar√°n el funcionamiento de WireGuard en el caso del escenario que describ√≠. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No est√° mal jugado. </font><font style="vertical-align: inherit;">Implementaci√≥n brillante y un protocolo muy delgado, casi de referencia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pero simplemente no es adecuado para el mundo fuera del centro de datos que usted controla por completo. </font><font style="vertical-align: inherit;">Si se arriesga y comienza a usar WireGuard, deber√° comprometerse constantemente en el desarrollo y la implementaci√≥n del protocolo de cifrado.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusi√≥n</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para m√≠ es f√°cil concluir que WireGuard a√∫n no est√° listo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fue concebido como una soluci√≥n ligera y r√°pida para una serie de problemas con las soluciones existentes. Desafortunadamente, por el bien de estas soluciones, sacrific√≥ muchas caracter√≠sticas que ser√°n relevantes para la mayor√≠a de los usuarios. Es por eso que no puede reemplazar IPsec u OpenVPN. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que WireGuard sea competitivo, necesita agregar al menos la configuraci√≥n de la direcci√≥n IP y la configuraci√≥n de enrutamiento y DNS. Obviamente, esto es para lo que se necesitan los canales encriptados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La seguridad es mi principal prioridad, y en este momento no tengo ninguna raz√≥n para creer que IKE o TLS est√©n de alguna manera comprometidos o quebrados. El cifrado moderno es compatible con ambos, y se han probado durante d√©cadas de funcionamiento. Si algo m√°s nuevo no significa que es algo, es mejor.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La interoperabilidad es crucial cuando contacta a terceros cuyas estaciones no controla. </font><font style="vertical-align: inherit;">IPsec es el est√°ndar de facto y es compatible casi universalmente. </font><font style="vertical-align: inherit;">Y funciona. </font><font style="vertical-align: inherit;">Y no importa c√≥mo se vea, en teor√≠a, WireGuard en el futuro puede no ser compatible incluso con diferentes versiones de s√≠ mismo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cualquier protecci√≥n criptogr√°fica se piratea tarde o temprano y, en consecuencia, debe reemplazarse o actualizarse. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Negar todos estos hechos y desear ciegamente usar WireGuard para conectar su iPhone a la estaci√≥n de trabajo de su hogar es solo un taller sobre c√≥mo meter la cabeza en la arena.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../es492874/index.html">Optimizaci√≥n de renderizado para dispositivos m√≥viles</a></li>
<li><a href="../es492878/index.html">Zapatillas geek: buscando resultados positivos en cierres temporales de oficinas</a></li>
<li><a href="../es492880/index.html">¬øQu√© debemos construir una casa inteligente?</a></li>
<li><a href="../es492884/index.html">Recibir mensajes de transmisiones de youtube + autorizaci√≥n de google en PHP</a></li>
<li><a href="../es492886/index.html">Receta de probadores de reclutamiento masivo</a></li>
<li><a href="../es492894/index.html">C√≥mo no perder todo el dinero en un par de minutos o administrar el riesgo en el comercio algor√≠tmico</a></li>
<li><a href="../es492900/index.html">Generador de m√∫sica API de audio web Experiencia de principiante</a></li>
<li><a href="../es492906/index.html">C√≥mo los diferentes tipos de MBTI responden al estr√©s</a></li>
<li><a href="../es492908/index.html">C√≥mo solicitar una transferencia temporal al trabajo remoto</a></li>
<li><a href="../es492910/index.html">Control de motor paso a paso a trav√©s del controlador Canny</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>