<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸƒ ğŸ‘¨â€ğŸ‘©â€ğŸ‘§â€ğŸ‘¦ ğŸ¤›ğŸ» å…³äºLinuxå†…æ ¸ä¸­çš„é‡å®šä½çš„ä¸€äº›çŸ¥è¯† ğŸ• ğŸ¤°ğŸ» âœŠğŸ¿</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘ä»¬å°†è§£å†³ä¸€ä¸ªç®€å•çš„é—®é¢˜-åœ¨Linuxå†…æ ¸ç©ºé—´ä¸­é€‰æ‹©ä¸€ä¸ªå†…å­˜å—ï¼Œå°†ä¸€äº›äºŒè¿›åˆ¶ä»£ç æ”¾å…¥å…¶ä¸­å¹¶æ‰§è¡Œå®ƒã€‚ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå†…æ ¸æ¨¡å—ï¼Œåœ¨å…¶ä¸­å®šä¹‰äº†å‡½æ•°fooï¼Œå®ƒå°†æ‰®æ¼”æˆ‘ä»¬æ‰€éœ€çš„äºŒè¿›åˆ¶ä»£ç çš„è§’è‰²ï¼Œç„¶åä½¿ç”¨module_allocå‡½æ•°ï¼Œé€‰æ‹©å†…å­˜å—ï¼Œç„¶åé€šè¿‡memcpyå°†æ•´ä¸ªå‡½æ•°å¤åˆ¶åˆ°å®ƒå¹¶è¿›è¡Œæ§åˆ¶ã€‚
 
 çœ‹èµ·...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>å…³äºLinuxå†…æ ¸ä¸­çš„é‡å®šä½çš„ä¸€äº›çŸ¥è¯†</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/504442/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬å°†è§£å†³ä¸€ä¸ªç®€å•çš„é—®é¢˜-åœ¨Linuxå†…æ ¸ç©ºé—´ä¸­é€‰æ‹©ä¸€ä¸ªå†…å­˜å—ï¼Œå°†ä¸€äº›äºŒè¿›åˆ¶ä»£ç æ”¾å…¥å…¶ä¸­å¹¶æ‰§è¡Œå®ƒã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œæˆ‘ä»¬ç¼–å†™äº†ä¸€ä¸ªå†…æ ¸æ¨¡å—ï¼Œåœ¨å…¶ä¸­å®šä¹‰äº†å‡½æ•°fooï¼Œå®ƒå°†æ‰®æ¼”æˆ‘ä»¬æ‰€éœ€çš„äºŒè¿›åˆ¶ä»£ç çš„è§’è‰²ï¼Œç„¶åä½¿ç”¨module_allocå‡½æ•°ï¼Œé€‰æ‹©å†…å­˜å—ï¼Œç„¶åé€šè¿‡memcpyå°†æ•´ä¸ªå‡½æ•°å¤åˆ¶åˆ°å®ƒå¹¶è¿›è¡Œæ§åˆ¶ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çœ‹èµ·æ¥æ˜¯è¿™æ ·çš„ï¼š</font></font><br>
<a name="habracut"></a><br>
<pre><code class="plaintext hljs">static noinline int foo(int ret)<font></font>
{<font></font>
	return (ret + 2);<font></font>
}<font></font>
<font></font>
static int exe_init(void)<font></font>
{<font></font>
	int ret = 0;<font></font>
	int (*new_foo)(int);<font></font>
<font></font>
	ret = foo(0);<font></font>
	printk(KERN_INFO "ret=%d\n", ret);<font></font>
<font></font>
	new_foo = module_alloc(PAGE_SIZE);<font></font>
	set_memory_x((unsigned long)new_foo, 1);<font></font>
<font></font>
	printk(KERN_INFO "foo=%lx new_foo=%lx\n",<font></font>
		(unsigned long)foo, (unsigned long)new_foo);<font></font>
<font></font>
	memcpy((void *)new_foo, (const void *)foo, PAGE_SIZE);<font></font>
<font></font>
	ret = new_foo(1);<font></font>
	printk(KERN_INFO "ret=%d\n", ret);<font></font>
<font></font>
	vfree(new_foo);<font></font>
	return 0;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŠ è½½æ¨¡å—æ—¶å°†è°ƒç”¨exe_initå‡½æ•°ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬åœ¨å†…æ ¸æ—¥å¿—ä¸­æŸ¥çœ‹å·¥ä½œç»“æœï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">[ 6972.522422] ret=2<font></font>
[ 6972.522443] foo=ffffffffc0000000 new_foo=ffffffffc0007000<font></font>
[ 6972.522457] ret=3<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€åˆ‡æ­£å¸¸ã€‚</font><font style="vertical-align: inherit;">ç°åœ¨ï¼Œæˆ‘ä»¬å°†printkå‡½æ•°æ·»åŠ åˆ°fooä¸­ä»¥æ˜¾ç¤ºå‚æ•°ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">static noinline int foo(int ret)<font></font>
{<font></font>
	printk(KERN_INFO "ret=%d\n", ret);<font></font>
	return (ret + 2);<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å°†æ§åˆ¶æƒä¼ é€’ç»™å®ƒä¹‹å‰ï¼Œè½¬å‚¨new_fooï¼ˆï¼‰å‡½æ•°çš„å†…å®¹çš„25ä¸ªå­—èŠ‚ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">	memcpy((void *)new_foo, (const void *)foo, PAGE_SIZE);<font></font>
	dump((unsigned long)new_foo);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è½¬å‚¨å®šä¹‰ä¸º</font></font><br>
<br>
<pre><code class="plaintext hljs">static inline void dump(unsigned long x)<font></font>
{<font></font>
	int i;<font></font>
	for (i = 0; i &lt; 25; i++) \<font></font>
		pr_cont("%.2x ", *((unsigned char *)(x) + i) &amp; 0xFF); \<font></font>
	pr_cont("\n");<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬åŠ è½½æ¨¡å—å¹¶åœ¨æ—¥å¿—ä¸­æ˜¾ç¤ºä»¥ä¸‹æ¶ˆæ¯ï¼Œä»è€Œå¯¼è‡´å´©æºƒï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">[ 8482.806092] ret=0<font></font>
[ 8482.806092] ret=2<font></font>
[ 8482.806111] foo=ffffffffc0000000 new_foo=ffffffffc0007000<font></font>
[ 8482.806113] 53 89 fe 89 fb 48 c7 c7 24 10 00 c0 e8 e8 3d 0b c1 8d 43 02 5b c3 66 2e 0f <font></font>
[ 8482.806135] invalid opcode: 0000 [#1] SMP NOPTI<font></font>
[ 8482.806639] CPU: 0 PID: 5081 Comm: insmod Tainted: G           O      5.4.27 #12<font></font>
[ 8482.807669] Hardware name: innotek GmbH VirtualBox/VirtualBox, BIOS VirtualBox 12/01/2006<font></font>
[ 8482.808560] RIP: 0010:irq_create_direct_mapping+0x79/0x90<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°½ç®¡æˆ‘ä»¬ä¸å¾—ä¸è°ƒç”¨printkï¼Œä½†è¿˜æ˜¯ä»¥æŸç§æ–¹å¼ç»“æŸäº†irq_create_direct_mappingå‡½æ•°ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬æ‰¾å‡ºå‘ç”Ÿäº†ä»€ä¹ˆã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œçœ‹ä¸€ä¸‹fooå‡½æ•°çš„åæ±‡ç¼–æ¸…å•ã€‚</font><font style="vertical-align: inherit;">ä½¿ç”¨objdump -då‘½ä»¤è·å–å®ƒï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">Disassembly of section .text:<font></font>
<font></font>
0000000000000000 &lt;foo&gt;:<font></font>
   0:	53                   	push   %rbx<font></font>
   1:	89 fe                	mov    %edi,%esi<font></font>
   3:	89 fb                	mov    %edi,%ebx<font></font>
   5:	48 c7 c7 00 00 00 00 	mov    $0x0,%rdi<font></font>
   c:	e8 00 00 00 00       	callq  11 &lt;foo+0x11&gt;<font></font>
  11:	8d 43 02             	lea    0x2(%rbx),%eax<font></font>
  14:	5b                   	pop    %rbx<font></font>
  15:	c3                   	retq   <font></font>
  16:	66 2e 0f 1f 84 00 00 	nopw   %cs:0x0(%rax,%rax,1)<font></font>
  1d:	00 00 00 <font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
fooå‡½æ•°ä½äºæ–‡æœ¬éƒ¨åˆ†çš„å¼€å¤´ã€‚åœ¨åç§»é‡0xCå¤„ï¼Œnearè°ƒç”¨å‘½ä»¤e8çš„æ“ä½œç ä½äº-é™„è¿‘ï¼Œå› ä¸ºå®ƒåœ¨å½“å‰ä»£ç æ®µä¸­æ‰§è¡Œï¼Œæ‰€ä»¥é€‰æ‹©å™¨å€¼ä¸ä¼šæ›´æ”¹ã€‚æ¥ä¸‹æ¥çš„4ä¸ªå­—èŠ‚æ˜¯ç›¸å¯¹äºRIPå¯„å­˜å™¨ä¸­çš„å€¼çš„åç§»é‡ï¼Œæ§åˆ¶å°†è½¬ç§»åˆ°è¯¥å€¼ä¸­ã€‚æ ¹æ®è‹±ç‰¹å°”æ–‡æ¡£ï¼ˆè‹±ç‰¹å°”64å’ŒIA-32ä½“ç³»ç»“æ„è½¯ä»¶å¼€å‘äººå‘˜æ‰‹å†Œï¼ŒæŒ‡ä»¤é›†å‚è€ƒAZï¼‰ï¼ŒRIP = RIP +åç§»ï¼š</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç›¸å¯¹åç§»é‡ï¼ˆrel16æˆ–rel32ï¼‰é€šå¸¸åœ¨æ±‡ç¼–ä»£ç ä¸­æŒ‡å®šä¸ºæ ‡ç­¾ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯åœ¨æœºå™¨ä»£ç çº§åˆ«ï¼Œå®ƒè¢«ç¼–ç ä¸ºå¸¦ç¬¦å·çš„16ä½æˆ–32ä½ç«‹å³æ•°ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ­¤å€¼å°†æ·»åŠ åˆ°EIPï¼ˆRIPï¼‰å¯„å­˜å™¨ä¸­çš„å€¼ã€‚</font><font style="vertical-align: inherit;">åœ¨64ä½æ¨¡å¼ä¸‹ï¼Œç›¸å¯¹åç§»å§‹ç»ˆæ˜¯32ä½ç«‹å³æ•°ï¼Œåœ¨å°†å…¶æ·»åŠ åˆ°RIPå¯„å­˜å™¨ä¸­çš„å€¼ä»¥è¿›è¡Œç›®æ ‡è®¡ç®—ä¹‹å‰ï¼Œå°†å…¶ç¬¦å·æ‰©å±•ä¸º64ä½ã€‚</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬çŸ¥é“å‡½æ•°fooçš„åœ°å€ï¼Œå®ƒæ˜¯0xffffffffc0000000ï¼Œæ‰€ä»¥åœ¨RIP = 0xffffffffc0000000 + 0xc + 0x5 = 0xffffffffc00000011ï¼ˆ0xcæ˜¯e8æŒ‡ä»¤çš„åç§»é‡ï¼Œè¯¥æŒ‡ä»¤çš„1ä¸ªå­—èŠ‚ï¼Œè¯¥åç§»é‡çš„4ä¸ªå­—èŠ‚ï¼‰ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»¬çŸ¥é“åç§»é‡ï¼Œå› ä¸º </font><font style="vertical-align: inherit;">ç”©æ‰èº«ä½“çš„åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">è®©æˆ‘ä»¬è®¡ç®—å°†æˆ‘ä»¬å‘é€åˆ°fooå‡½æ•°çš„è°ƒç”¨å°†å‘é€åˆ°å“ªé‡Œï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">0xffffffffc00000011 + 0xffffffffc10b3de8 = 0xffffffff810b3df9
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯printkå‡½æ•°çš„åœ°å€ï¼š</font></font><br>
<pre><code class="plaintext hljs"># cat /proc/kallsyms | grep ffffffff810b3df9  <font></font>
ffffffff810b3df9 T printk<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨new_fooçš„åœ°å€ä¹Ÿä¸º0xffffffffc0007000</font></font><br>
<br>
<pre><code class="plaintext hljs">0xffffffffc0007011 + 0xffffffffc10b3de8 = 0xffffffff810badf9
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
kallsymsä¸­æ²¡æœ‰è¿™æ ·çš„åœ°å€ï¼Œä½†æ˜¯æœ‰0xffffffff810badf9-0x79 = 0xffffffff810bad80</font></font><br>
<pre><code class="plaintext hljs"># cat /proc/kallsyms | grep ffffffff810bad80<font></font>
ffffffff810bad80 T irq_create_direct_mapping<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯å‘ç”Ÿå´©æºƒçš„åŠŸèƒ½ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†é˜²æ­¢å´©æºƒï¼Œåªéœ€é‡æ–°è®¡ç®—åç§»é‡ï¼Œå°±çŸ¥é“new_fooå‡½æ•°çš„åœ°å€ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">memcpy((void *)new_foo, (const void *)foo, PAGE_SIZE);<font></font>
unsigned int delta = (unsigned long)printk - (unsigned long)new_foo - 0x11;<font></font>
*(unsigned int *)((void *)new_foo + 0xD) = delta;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿›è¡Œæ­¤æ›´æ­£åï¼Œå°†ä¸ä¼šå‘ç”Ÿå´©æºƒï¼Œnew_fooå‡½æ•°å°†æˆåŠŸæ‰§è¡Œå¹¶è¿”å›æ§åˆ¶ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é—®é¢˜å·²ç»è§£å†³äº†ã€‚</font><font style="vertical-align: inherit;">ä»ç„¶éœ€è¦äº†è§£ä¸ºä»€ä¹ˆåœ¨åæ±‡ç¼–ç¨‹åºä¸­åˆ—å‡ºe8æ“ä½œç ä¹‹åçš„åç§»é‡ä¸ºé›¶ï¼Œä½†è½¬å‚¨ä¸­æ²¡æœ‰ä»»ä½•åŠŸèƒ½ã€‚</font><font style="vertical-align: inherit;">ä¸ºæ­¤ï¼Œè¯·è€ƒè™‘ä»€ä¹ˆæ˜¯é‡å®šä½ä»¥åŠå†…æ ¸å¦‚ä½•ä½¿ç”¨å®ƒä»¬ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯é¦–å…ˆï¼Œå…³äºELFæ ¼å¼çš„ä¸€äº›çŸ¥è¯†ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ELFä»£è¡¨å¯æ‰§è¡Œå’Œå¯é“¾æ¥æ ¼å¼-å¯æ‰§è¡Œæ–‡ä»¶å’Œå¯ç»„åˆæ–‡ä»¶çš„æ ¼å¼ã€‚ ELFæ–‡ä»¶æ˜¯éƒ¨åˆ†çš„é›†åˆã€‚è¯¥éƒ¨åˆ†å­˜å‚¨äº†é“¾æ¥å™¨å½¢æˆå¯æ‰§è¡Œæ˜ åƒæ‰€éœ€çš„ä¸€ç»„å¯¹è±¡-æŒ‡ä»¤ï¼Œæ•°æ®ï¼Œç¬¦å·è¡¨ï¼Œé‡å®šä½è®°å½•ç­‰ã€‚æ¯ä¸ªéƒ¨åˆ†éƒ½æœ‰ä¸€ä¸ªæ ‡é¢˜æè¿°ã€‚æ‰€æœ‰æ ‡å¤´éƒ½æ”¶é›†åœ¨æ ‡å¤´è¡¨ä¸­ï¼Œå¹¶ä¸”æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œå…¶ä¸­æ¯ä¸ªå…ƒç´ éƒ½æœ‰ä¸€ä¸ªç´¢å¼•ã€‚èŠ‚æ ‡é¢˜åŒ…å«åˆ°èŠ‚å¼€å¤´çš„åç§»é‡å’Œå…¶ä»–å¼€é”€ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼Œé€šè¿‡åœ¨æ ‡é¢˜è¡¨ä¸­æŒ‡å®šç´¢å¼•æ¥é“¾æ¥åˆ°å…¶ä»–èŠ‚ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨ç»„è£…æˆ‘ä»¬çš„æµ‹è¯•ç”¨ä¾‹æ—¶ï¼Œç¼–è¯‘å™¨ä¸çŸ¥é“printkå‡½æ•°çš„åœ°å€ï¼Œå› æ­¤å®ƒç”¨é›¶å€¼å¡«å……è°ƒç”¨ä½ç½®ï¼Œå¹¶ä½¿ç”¨é‡å®šä½è®°å½•å‘Šè¯‰å†…æ ¸è¯¥ä½ç½®å¿…é¡»ç”¨æœ‰æ•ˆå€¼å¡«å……ã€‚é‡å®šä½è®°å½•åŒ…å«è¦æ›´æ”¹çš„ä½ç½®ï¼ˆé‡å®šä½ä½ç½®ï¼‰çš„åç§»é‡ï¼Œé‡å®šä½çš„ç±»å‹ä»¥åŠç¬¦å·è¡¨ä¸­ç¬¦å·çš„ç´¢å¼•ï¼Œå¿…é¡»åœ¨æŒ‡å®šçš„åç§»é‡å¤„æ›¿æ¢å…¶åœ°å€ã€‚é‡å®šä½çš„ç±»å‹æ˜¯ä»€ä¹ˆï¼Ÿé‡å®šä½è®°å½•çš„è¯¥éƒ¨åˆ†çš„æ ‡é¢˜é€šè¿‡ç´¢å¼•æŒ‡å‘å¸¦æœ‰å­—ç¬¦å’Œéƒ¨åˆ†è¡¨çš„è¯¥éƒ¨åˆ†çš„æ ‡é¢˜ï¼Œç›¸å¯¹äºè¯¥å­—ç¬¦çš„å¼€å¤´éƒ¨åˆ†æŒ‡å®šäº†é‡å®šä½ä½ç½®çš„åç§»é‡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥ä½¿ç”¨å¸¦æœ‰-rå¼€å…³çš„objdumpå®ç”¨ç¨‹åºæ¥æŸ¥çœ‹é‡å®šä½è®°å½•çš„å†…å®¹ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»åæ±‡ç¼–çš„æ¸…å•ä¸­ï¼Œæˆ‘ä»¬çŸ¥é“åœ¨åç§»é‡0xDå¤„å¿…é¡»å†™å…¥printkå‡½æ•°çš„åœ°å€ï¼Œå› æ­¤æˆ‘ä»¬åœ¨ä»¥ä¸‹ä½ç½®å¯»æ‰¾objdumpè¾“å‡ºï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">000000000000000d R_X86_64_PC32     printk-0x0000000000000004
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæˆ‘ä»¬æœ‰å¿…è¦çš„é‡å®šä½è®°å½•ï¼ŒæŒ‡ç¤ºåç§»é‡0xDå¤„çš„ä½ç½®ï¼Œä»¥åŠå°†åœ°å€å†™å…¥è¯¥ä½ç½®çš„ç¬¦å·çš„åç§°ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å€¼ï¼ˆ-4ï¼‰ã€‚</font><font style="vertical-align: inherit;">æ·»åŠ åˆ°printkå‡½æ•°çš„åœ°å€çš„åœ°å€ç§°ä¸ºé™„å½•ï¼Œåœ¨è®¡ç®—é‡å®šä½çš„æœ€ç»ˆç»“æœæ—¶å°†å…¶è€ƒè™‘åœ¨å†…ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨çœ‹ä¸€ä¸‹printkç¬¦å·ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">$ objdump -t exe.ko | grep printk<font></font>
0000000000000000         *UND*	0000000000000000 printk<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰ä¸€ä¸ªç¬¦å·ï¼Œå®ƒåœ¨æ¨¡å—å†…éƒ¨æ˜¯æœªå®šä¹‰çš„ï¼ˆæœªå®šä¹‰ï¼‰ï¼Œå› æ­¤æˆ‘ä»¬å°†åœ¨å†…æ ¸ä¸­æœç´¢å®ƒã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥äºŒè¿›åˆ¶å½¢å¼æŸ¥çœ‹é‡å®šä½å’Œç¬¦å·çš„è®°å½•å°†æ›´ä¸ºæœ‰ç”¨ã€‚</font><font style="vertical-align: inherit;">è¿™å¯ä»¥ä½¿ç”¨wiresharkæ¥å®Œæˆï¼Œå®ƒå¯ä»¥è§£æELFæ ¼å¼ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯æˆ‘ä»¬çš„é‡å®šä½é¡¹ï¼ˆä»å·¦ä¾§çš„LSBçš„writesharkå¤åˆ¶ç²˜è´´ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">  0d 00 00 00 00 00 00 00  02 00 00 00 22 00 00 00  fc ff ff ff ff ff ff ff<font></font>
  |                     |  |          ||         |  |                     |<font></font>
  +----  -------+  +--  ---++---+  +---- addendum  ------+<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°†æ­¤æ¡ç›®ä¸&lt;linux / elf.h&gt;ä¸­ç›¸åº”ç»“æ„çš„å®šä¹‰è¿›è¡Œæ¯”è¾ƒï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">typedef struct elf64_rela {<font></font>
  Elf64_Addr r_offset;	/* Location at which to apply the action */<font></font>
  Elf64_Xword r_info;	/* index and type of relocation */<font></font>
  Elf64_Sxword r_addend;	/* Constant addend used to compute value */<font></font>
} Elf64_Rela;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™é‡Œæˆ‘ä»¬æœ‰8ä¸ªå­—èŠ‚çš„åç§»é‡0x00000000dï¼Œ4ä¸ªå­—èŠ‚çš„ç±»å‹0x00000002ï¼Œå­—ç¬¦è¡¨0x00000022ä¸­çš„4ä¸ªå­—èŠ‚ç´¢å¼•ï¼ˆæˆ–åè¿›åˆ¶çš„34ä¸ªï¼‰å’Œ8ä¸ªå­—èŠ‚çš„é™„å½•-4ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯ç¬¦å·è¡¨ä¸­ç¼–å·34çš„æ¡ç›®ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">  01 01 00 00 10 00 00 00  00 00 00 00 00 00 00 00  00 00 00 00 00 00 00 00
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŠç›¸å…³ç»“æ„</font></font><br>
<br>
<pre><code class="plaintext hljs">typedef struct elf64_sym {<font></font>
  Elf64_Word st_name;		/* Symbol name, index in string tbl */<font></font>
  unsigned char	st_info;	/* Type and binding attributes */<font></font>
  unsigned char	st_other;	/* No defined meaning, 0 */<font></font>
  Elf64_Half st_shndx;		/* Associated section index */<font></font>
  Elf64_Addr st_value;		/* Value of the symbol */<font></font>
  Elf64_Xword st_size;		/* Associated symbol size */<font></font>
} Elf64_Sym;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‰4ä¸ªå­—èŠ‚0x00000101æ˜¯å­—ç¬¦ä¸².strtabè¡¨ä¸­æ­¤å­—ç¬¦åç§°çš„ç´¢å¼•ï¼Œå³å°åˆ·å“ã€‚ st_infoå­—æ®µå®šä¹‰ç¬¦å·çš„ç±»å‹ï¼Œå®ƒå¯ä»¥æ˜¯å‡½æ•°ï¼Œæ•°æ®å¯¹è±¡ç­‰ï¼Œæœ‰å…³æ›´å¤šè¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚è§ELFè§„èŒƒã€‚æˆ‘ä»¬å°†è·³è¿‡st_otherå­—æ®µï¼Œç°åœ¨æˆ‘ä»¬ä¸æ„Ÿå…´è¶£å®ƒï¼Œå¹¶æŸ¥çœ‹æœ€åä¸‰ä¸ªå­—æ®µst_shndxï¼Œst_valueå’Œst_sizeã€‚ st_shndx-å®šä¹‰å­—ç¬¦çš„éƒ¨åˆ†çš„æ ‡é¢˜ç´¢å¼•ã€‚æˆ‘ä»¬åœ¨è¿™é‡Œçœ‹åˆ°ä¸€ä¸ªé›¶å€¼ï¼Œå› ä¸ºè¯¥ç¬¦å·æœªåœ¨æ¨¡å—å†…éƒ¨å®šä¹‰ï¼›å®ƒä¸åœ¨å¯ç”¨éƒ¨åˆ†ä¸­ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œå…¶st_valueå€¼å’Œst_sizeå¤§å°ä¹Ÿä¸ºé›¶ã€‚åŠ è½½æ¨¡å—æ—¶ï¼Œå†…æ ¸å°†å¡«å……è¿™äº›å­—æ®µã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†è¿›è¡Œæ¯”è¾ƒï¼Œè¯·çœ‹ä¸€ä¸‹æ˜æ˜¾å­˜åœ¨çš„ç¬¦å·fooï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">  08 00 00 00 02 00 02 00  00 00 00 00 00 00 00 00  16 00 00 00 00 00 00 00
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥ç¬¦å·å®šä¹‰äº†ä¸€ä¸ªå‡½æ•°ï¼Œè¯¥å‡½æ•°ä½äº.textèŠ‚ä¸­ç›¸å¯¹äº0x00000000èŠ‚å¼€å¤´çš„åœ°å€å¤„ï¼Œå³ </font><font style="vertical-align: inherit;">åœ¨æœ¬èŠ‚çš„å¼€å¤´ï¼Œæ­£å¦‚æˆ‘ä»¬åœ¨åæ±‡ç¼–çš„æ¸…å•ä¸­çœ‹åˆ°çš„é‚£æ ·ï¼Œå‡½æ•°å¤§å°ä¸º22ä¸ªå­—èŠ‚ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Objdumpå°†å‘æˆ‘ä»¬æ˜¾ç¤ºæœ‰å…³æ­¤ä¿¡æ¯çš„ç›¸åŒä¿¡æ¯ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">$ objdump -t exe.ko | grep foo<font></font>
0000000000000000 l     F .text	0000000000000016 foo<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å†…æ ¸åŠ è½½æ¨¡å—æ—¶ï¼Œå®ƒå°†æŸ¥æ‰¾æ‰€æœ‰æœªå®šä¹‰çš„å­—ç¬¦ï¼Œå¹¶ç”¨æœ‰æ•ˆå€¼å¡«å……st_valueå’Œst_sizeå­—æ®µã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯åœ¨kernel / module.cæ–‡ä»¶çš„simple_symbolså‡½æ•°ä¸­å®Œæˆçš„ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">/* Change all symbols so that st_value encodes the pointer directly. */<font></font>
static int simplify_symbols(struct module *mod, const struct load_info *info)<font></font>
{<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å‡½æ•°çš„å‚æ•°ä¸­ï¼Œä¼ é€’ä»¥ä¸‹å½¢å¼çš„load_infoç»“æ„</font></font><br>
<br>
<pre><code class="plaintext hljs">struct load_info {<font></font>
	const char *name;<font></font>
	/* pointer to module in temporary copy, freed at end of load_module() */<font></font>
	struct module *mod;<font></font>
	Elf_Ehdr *hdr;<font></font>
	unsigned long len;<font></font>
	Elf_Shdr *sechdrs;<font></font>
	char *secstrings, *strtab;<font></font>
	unsigned long symoffs, stroffs, init_typeoffs, core_typeoffs;<font></font>
	struct _ddebug *debug;<font></font>
	unsigned int num_debug;<font></font>
	bool sig_ok;<font></font>
#ifdef CONFIG_KALLSYMS<font></font>
	unsigned long mod_kallsyms_init_off;<font></font>
#endif<font></font>
	struct {<font></font>
		unsigned int sym, str, mod, vers, info, pcpu;<font></font>
	} index;<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥ä¸‹æ˜¯æˆ‘ä»¬æ„Ÿå…´è¶£çš„å­—æ®µï¼š</font><font style="vertical-align: inherit;">
 -hdr </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -ELFæ–‡ä»¶å¤´</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-sechdrs-æŒ‡å‘èŠ‚æ ‡é¢˜è¡¨çš„æŒ‡é’ˆ</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -strtab-ç¬¦å·åç§°è¡¨-ä¸€ç»„ç”¨é›¶åˆ†éš”çš„å­—ç¬¦ä¸²</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -index.sym-åŒ…å«ç¬¦å·è¡¨çš„èŠ‚æ ‡é¢˜çš„ç´¢å¼•</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œè¯¥å‡½æ•°å°†è·å¾—è®¿é—®æƒé™åˆ°ç¬¦å·è¡¨éƒ¨åˆ†ã€‚</font><font style="vertical-align: inherit;">ç¬¦å·è¡¨æ˜¯Elf64_Symç±»å‹çš„å…ƒç´ æ•°ç»„ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">Elf64_Shdr *symsec = &amp;info-&gt;sechdrs[info-&gt;index.sym];<font></font>
Elf64_Sym *sym = (void *)symsec-&gt;sh_addr;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¥ä¸‹æ¥ï¼Œåœ¨å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬éå†è¡¨ä¸­çš„æ‰€æœ‰å­—ç¬¦ï¼Œå¹¶ä¸ºæ¯ä¸ªå­—ç¬¦ç¡®å®šå…¶åç§°ï¼š</font></font><br>
<pre><code class="plaintext hljs">for (i = 1; i &lt; symsec-&gt;sh_size / sizeof(Elf_Sym); i++) {<font></font>
	const char *name = info-&gt;strtab + sym[i].st_name;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
st_shndxå­—æ®µåŒ…å«å®šä¹‰æ­¤å­—ç¬¦çš„éƒ¨åˆ†çš„æ ‡é¢˜ç´¢å¼•ã€‚</font><font style="vertical-align: inherit;">å¦‚æœå€¼ä¸ºé›¶ï¼ˆæˆ‘ä»¬çš„æƒ…å†µï¼‰ï¼Œåˆ™æ­¤ç¬¦å·ä¸åœ¨æ¨¡å—å†…éƒ¨ï¼Œæ‚¨éœ€è¦åœ¨å†…æ ¸ä¸­æŸ¥æ‰¾å®ƒï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">	switch (sym[i].st_shndx) {<font></font>
	.....<font></font>
	 case SHN_UNDEF: //  0<font></font>
	ksym = resolve_symbol_wait(mod, info, name);<font></font>
 	/* Ok if resolved.  */<font></font>
	if (ksym &amp;&amp; !IS_ERR(ksym)) {<font></font>
		sym[i].st_value = kernel_symbol_value(ksym);<font></font>
		break;<font></font>
	}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶åæ˜¯apply_relocationså‡½æ•°ä¸­çš„é‡å®šä½é˜Ÿåˆ—ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">static int apply_relocations(struct module *mod, const struct load_info *info)<font></font>
{<font></font>
	unsigned int i;<font></font>
	int err = 0;<font></font>
<font></font>
	/* Now do relocations. */<font></font>
	for (i = 1; i &lt; info-&gt;hdr-&gt;e_shnum; i++) {<font></font>
	.....<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å¾ªç¯ä¸­ï¼Œæˆ‘ä»¬æŸ¥æ‰¾é‡å®šä½éƒ¨åˆ†ï¼Œå¹¶å¤„ç†apply_relocate_addå‡½æ•°ä¸­æ‰¾åˆ°çš„æ¯ä¸ªéƒ¨åˆ†çš„è®°å½•ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">if (info-&gt;sechdrs[i].sh_type == SHT_RELA) //   <font></font>
	err = apply_relocate_add(info-&gt;sechdrs, info-&gt;strtab,<font></font>
				info-&gt;index.sym, i, mod);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æŒ‡å‘èŠ‚å¤´è¡¨çš„æŒ‡é’ˆï¼ŒæŒ‡å‘ç¬¦å·åè¡¨çš„æŒ‡é’ˆï¼Œå¸¦æœ‰ç¬¦å·è¡¨çš„èŠ‚å¤´ç´¢å¼•ä»¥åŠé‡å®šä½èŠ‚å¤´ç´¢å¼•è¢«ä¼ é€’ç»™apply_relocate_addï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">int apply_relocate_add(Elf64_Shdr *sechdrs,<font></font>
	   const char *strtab,<font></font>
	   unsigned int symindex,<font></font>
	   unsigned int relsec,<font></font>
	   struct module *me)<font></font>
{<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é¦–å…ˆï¼Œæˆ‘ä»¬è§£å†³é‡å®šä½éƒ¨åˆ†ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">Elf64_Rela *rel = (void *)sechdrs[relsec].sh_addr;
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç„¶åï¼Œåœ¨ä¸€ä¸ªå¾ªç¯ä¸­ï¼Œéå†å…¶æ¡ç›®æ•°ç»„ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">for (i = 0; i &lt; sechdrs[relsec].sh_size / sizeof(*rel); i++) {
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘ä»¬æ‰¾åˆ°äº†è¦æ¬è¿çš„éƒ¨åˆ†åŠå…¶ä¸­çš„ä½ç½®ï¼Œå³ </font><font style="vertical-align: inherit;">æˆ‘ä»¬éœ€è¦è¿›è¡Œæ›´æ”¹çš„åœ°æ–¹ã€‚</font><font style="vertical-align: inherit;">é‡å®šä½èŠ‚å¤´çš„sh_infoå­—æ®µæ˜¯è¦é‡å®šä½çš„èŠ‚å¤´çš„ç´¢å¼•ï¼Œé‡å®šä½è®°å½•çš„r_offsetå­—æ®µæ˜¯è¦é‡å®šä½çš„èŠ‚å†…ä½ç½®çš„åç§»é‡ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">/* This is where to make the change */<font></font>
loc = (void *)sechdrs[sechdrs[relsec].sh_info].sh_addr + rel[i].r_offset;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è€ƒè™‘åˆ°é™„å½•ï¼Œåœ¨æ­¤ä½ç½®è¦æ›¿æ¢çš„å­—ç¬¦çš„åœ°å€ã€‚</font><font style="vertical-align: inherit;">é‡å®šä½æ¡ç›®çš„r_infoå­—æ®µåŒ…å«æ­¤ç¬¦å·åœ¨ç¬¦å·è¡¨ä¸­çš„ç´¢å¼•ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">	/* This is the symbol it is referring to.  Note that all<font></font>
	   undefined symbols have been resolved.  */<font></font>
	sym = (Elf64_Sym *)sechdrs[symindex].sh_addr<font></font>
		+ ELF64_R_SYM(rel[i].r_info);<font></font>
<font></font>
	val = sym-&gt;st_value + rel[i].r_addend;<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é‡å®šä½çš„ç±»å‹å†³å®šäº†è®¡ç®—çš„æœ€ç»ˆç»“æœï¼Œåœ¨æˆ‘ä»¬çš„ç¤ºä¾‹ä¸­ä¸ºR_X86_64_PLT32ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">	switch (ELF64_R_TYPE(rel[i].r_info)) {<font></font>
	......<font></font>
	case R_X86_64_PLT32:	<font></font>
		if (*(u32 *)loc != 0)<font></font>
			goto invalid_relocation;<font></font>
		val -= (u64)loc;	//   <font></font>
		*(u32 *)loc = val;  //    <font></font>
		break;<font></font>
	.....<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨æˆ‘ä»¬å¯ä»¥è‡ªå·±è®¡ç®—æœ€ç»ˆå€¼ï¼ŒçŸ¥é“sym-&gt; st_valueæ˜¯printkå‡½æ•°0xffffffff810b3df9çš„åœ°å€ï¼Œr_addendæ˜¯ï¼ˆ-4ï¼‰ï¼Œé‡å®šä½ä½ç½®çš„åç§»é‡æ˜¯ä»æ¨¡å—æ–‡æœ¬éƒ¨åˆ†çš„å¼€å¤´æˆ–ä»fooå‡½æ•°çš„å¼€å¤´å¼€å§‹çš„0xdã€‚</font><font style="vertical-align: inherit;">å°†ä¸ºffffffffc000000dã€‚</font><font style="vertical-align: inherit;">æ›¿æ¢æ‰€æœ‰è¿™äº›å€¼å¹¶è·å¾—ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">val = (u32)(0xffffffff810b3df9 - 0x4 - 0xffffffffc000000d) = 0xc10b3de8
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬çœ‹ä¸€çœ‹fooå‡½æ•°çš„è½¬å‚¨ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">53 89 fe 89 fb 48 c7 c7 24 10 00 c0 e8 e8 3d 0b c1 8d 43 02 5b c3 66 2e 0f
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨åç§»é‡0xDå¤„ï¼Œæ‰¾åˆ°å€¼0xc10b3de8ï¼Œè¯¥å€¼ä¸æˆ‘ä»¬è®¡ç®—å‡ºçš„å€¼ç›¸åŒã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™å°±æ˜¯å†…æ ¸å¦‚ä½•å¤„ç†é‡å®šä½å¹¶ä¸ºclose callå‘½ä»¤è·å–å¿…è¦çš„åç§»é‡çš„æ–¹å¼ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨å‡†å¤‡æœ¬æ–‡æ—¶ï¼Œä½¿ç”¨äº†Linuxå†…æ ¸ç‰ˆæœ¬5.4.27ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN504414/index.html">å¾®è½¯å¦‚ä½•æ€æ­»AppGet</a></li>
<li><a href="../zh-CN504420/index.html">ç¼–å†™åŒæ—¶è¿›è¡Œç§»åŠ¨çš„åŸºäºå›åˆçš„PvPç«æŠ€åœº</a></li>
<li><a href="../zh-CN504430/index.html">æ—¥å¸¸ç”Ÿæ´»Tinkoffå®‰å…¨è¿è¥ä¸­å¿ƒï¼šå•ä¸ªBootloaderåˆ†æ</a></li>
<li><a href="../zh-CN504434/index.html">å®¶é•¿æ•™è‚²è®¡åˆ’ï¼šå¦‚ä½•ä¿æŠ¤å­©å­å…å—äº’è”ç½‘å¨èƒ</a></li>
<li><a href="../zh-CN504438/index.html">æ¯å‘¨30æ¬¡ã€‚æˆ‘ä»¬æ‰“å¼€2020å¹´å¤å­£</a></li>
<li><a href="../zh-CN504444/index.html">ä½¿ç”¨Dockerå¤šé˜¶æ®µæ„å»ºWindowsæ˜ åƒ</a></li>
<li><a href="../zh-CN504448/index.html">ç¬¬äºŒä»£ç©å®¶</a></li>
<li><a href="../zh-CN504450/index.html">ç°ä»£JavaScriptï¼šä¾§è§†å›¾</a></li>
<li><a href="../zh-CN504452/index.html">æœ¬ä½“å¯åŠ¨ç¬¬2å±‚ï¼Œä¸ºæ›´é›†æˆçš„å…¬å…±é“¾å¹³å°åšå‡ºè´¡çŒ®</a></li>
<li><a href="../zh-CN504454/index.html">é€‚ç”¨äºWebå¼€å‘äººå‘˜çš„æœ€ä½³GitHubå­˜å‚¨åº“</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>