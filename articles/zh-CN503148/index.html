<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸš¸ ğŸ¦Š âœğŸ» ä½¿ç”¨Lynis Utilityæ£€æŸ¥Linuxå®‰å…¨æ€§ ğŸš¡ ğŸ’¢ ğŸ®</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="æˆ‘ä»¬æ‰¾å‡ºäº†å¦‚ä½•ä½¿ç”¨æœ€å¼ºå¤§çš„å…è´¹è½¯ä»¶å®ç”¨ç¨‹åºä¹‹ä¸€æ¥å®¡æ ¸Linuxç³»ç»Ÿã€‚
 
 
 æ‚¨æ˜¯å¦æƒ³è¿‡Linuxç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Ÿæœ‰è®¸å¤šLinuxå‘è¡Œç‰ˆï¼ˆæ¯ä¸ªå‘è¡Œç‰ˆéƒ½æœ‰å…¶è‡ªå·±çš„é»˜è®¤è®¾ç½®ï¼‰ï¼Œåœ¨å…¶ä¸­å¯ä»¥è¿è¡Œæ•°åä¸ªå…·æœ‰ä¸åŒç‰ˆæœ¬å·çš„è½¯ä»¶åŒ…ã€‚å¦å¤–ï¼Œåœ¨åå°çš„OSä¸Šï¼Œæ‚¨æœ‰æ—¶ä¸çŸ¥é“æˆ–æƒ³ä¸åˆ°çš„è®¸å¤šæœåŠ¡ã€‚
 
 è¦è·å–æœ‰å…³ç³»ç»Ÿçš„ä¿¡æ¯ï¼Œ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ä½¿ç”¨Lynis Utilityæ£€æŸ¥Linuxå®‰å…¨æ€§</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/vdsina/blog/503148/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬æ‰¾å‡ºäº†å¦‚ä½•ä½¿ç”¨æœ€å¼ºå¤§çš„å…è´¹è½¯ä»¶å®ç”¨ç¨‹åºä¹‹ä¸€æ¥å®¡æ ¸Linuxç³»ç»Ÿã€‚</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/sy/ha/eg/syhaeggjhdwi_yiu0g88jm24w_8.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨æ˜¯å¦æƒ³è¿‡Linuxç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Ÿæœ‰è®¸å¤šLinuxå‘è¡Œç‰ˆï¼ˆæ¯ä¸ªå‘è¡Œç‰ˆéƒ½æœ‰å…¶è‡ªå·±çš„é»˜è®¤è®¾ç½®ï¼‰ï¼Œåœ¨å…¶ä¸­å¯ä»¥è¿è¡Œæ•°åä¸ªå…·æœ‰ä¸åŒç‰ˆæœ¬å·çš„è½¯ä»¶åŒ…ã€‚å¦å¤–ï¼Œåœ¨åå°çš„OSä¸Šï¼Œæ‚¨æœ‰æ—¶ä¸çŸ¥é“æˆ–æƒ³ä¸åˆ°çš„è®¸å¤šæœåŠ¡ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¦è·å–æœ‰å…³ç³»ç»Ÿçš„ä¿¡æ¯ï¼Œå³æ£€æŸ¥å®‰è£…äº†Linuxçš„è®¡ç®—æœºä¸Šè¿è¡Œçš„è½¯ä»¶ï¼Œç½‘ç»œå’ŒæœåŠ¡çš„ä¸€èˆ¬çŠ¶æ€ï¼Œåªéœ€è¿è¡Œä¸€äº›å‘½ä»¤å³å¯ã€‚ä½†æ˜¯ç°åœ¨å¦‚ä½•å¤„ç†æ”¶åˆ°çš„ä¿¡æ¯ï¼Ÿæ€ä¹ˆç†è§£å‘¢ï¼Ÿæ¯•ç«Ÿï¼Œæ‚¨éœ€è¦åˆ†æçš„æ•°æ®é‡å·¨å¤§ã€‚</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœæ‚¨åªè¿è¡Œä¸€ä¸ªå¯ä»¥ç”Ÿæˆæœ‰å…³ç³»ç»Ÿå®‰å…¨çº§åˆ«çš„ç»“æ„åŒ–æŠ¥å‘Šçš„å·¥å…·ï¼Œé‚£å°±æ›´å¥½äº†ã€‚</font><font style="vertical-align: inherit;">Lynisæ˜¯ä¸€ç§æµè¡Œçš„å¼€æºå·¥å…·ï¼Œç”¨äºå®¡æ ¸åŸºäºLinuxå’ŒUnixçš„ç³»ç»Ÿã€‚</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œå®ƒå¯¹å®‰å…¨è®¾ç½®è¿›è¡Œå…¨é¢æ‰«æï¼Œå¹¶åœ¨ç³»ç»Ÿæœ¬èº«ä¸Šè¿è¡Œã€‚</font><font style="vertical-align: inherit;">ä¸»è¦ç›®æ ‡æ˜¯æµ‹è¯•å®‰å…¨åŠŸèƒ½å¹¶å‘å¸ƒå»ºè®®ï¼Œä»¥è¿›ä¸€æ­¥æé«˜ç³»ç»Ÿå®‰å…¨çº§åˆ«ã€‚</font><font style="vertical-align: inherit;">å®ƒè¿˜ä¼šæ‰«æç³»ç»ŸèŒƒå›´çš„ä¿¡æ¯ï¼Œæœ‰å…³å·²å®‰è£…è½¯ä»¶åŒ…çš„ä¿¡æ¯ä»¥åŠå¯èƒ½çš„é…ç½®é”™è¯¯ã€‚</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¯¥é¡¹ç›®çš„ç½‘ç«™è¯´ï¼š</font><i><font style="vertical-align: inherit;">â€œé€šå¸¸ï¼Œç³»ç»Ÿç®¡ç†å‘˜å’Œå®‰å…¨ä¸“å®¶ä¼šä½¿ç”¨Lynisæ¥è¯„ä¼°ç³»ç»Ÿå®‰å…¨çº§åˆ«</font></i><font style="vertical-align: inherit;">ã€‚â€</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®‰è£…Lynis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥ä½¿ç”¨ç¨‹åºåŒ…ç®¡ç†å™¨æ¥å®‰è£…Lynisã€‚</font><font style="vertical-align: inherit;">å¦‚æœæ‚¨çš„Linuxç³»ç»Ÿä¸å­˜å‚¨åº“ä¸­ç‰ˆæœ¬çš„ç›¸å…³æ€§æ­£ç¡®ï¼Œåˆ™å¯ä»¥æŒ‰ä»¥ä¸‹æ–¹å¼å®‰è£…å®ç”¨ç¨‹åºï¼š</font></font><br>
<br>
<pre><code class="bash hljs">dnf install lynis</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ–è€…ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">apt install lynis</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½†æ˜¯ï¼Œå¦‚æœå­˜å‚¨åº“ä¸­çš„å®ç”¨ç¨‹åºç‰ˆæœ¬ä¸æ˜¯æœ€æ–°çš„ï¼Œåˆ™æœ€å¥½åœ¨GitHubä¸Šå®‰è£…Lynisï¼ˆæˆ‘ä½¿ç”¨Red Hat Linuxç³»ç»Ÿï¼Œä½†æ˜¯ç±»ä¼¼çš„å‘½ä»¤å¯åœ¨ä»»ä½•Linuxå‘è¡Œç‰ˆä¸Šè¿è¡Œï¼‰ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ cat /etc/redhat-release<font></font>
Red Hat Enterprise Linux Server release 7.8 (Maipo)<font></font>
$<font></font>
$ uname  -r<font></font>
3.10.0-1127.el7.x86_64<font></font>
$<font></font>
$ git <span class="hljs-built_in">clone</span> https://github.com/CISOfy/lynis.git<font></font>
Cloning into <span class="hljs-string">'lynis'</span>...<font></font>
remote: Enumerating objects: 30, <span class="hljs-keyword">done</span>.<font></font>
remote: Counting objects: 100% (30/30), <span class="hljs-keyword">done</span>.<font></font>
remote: Compressing objects: 100% (30/30), <span class="hljs-keyword">done</span>.<font></font>
remote: Total 12566 (delta 15), reused 8 (delta 0), pack-reused 12536<font></font>
Receiving objects: 100% (12566/12566), 6.36 MiB | 911.00 KiB/s, <span class="hljs-keyword">done</span>.<font></font>
Resolving deltas: 100% (9264/9264), <span class="hljs-keyword">done</span>.<font></font>
$</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å…‹éš†å­˜å‚¨åº“åï¼Œç«‹å³è¿›å…¥å­˜å‚¨åº“ï¼ŒæŸ¥çœ‹å¯ç”¨çš„å­˜å‚¨åº“ï¼Œç„¶åæ‰¾åˆ°ä¸€ä¸ªåä¸ºlynisçš„æ–‡ä»¶ã€‚</font><font style="vertical-align: inherit;">è¿™å®é™…ä¸Šæ˜¯ä¸€ä¸ªshellè„šæœ¬ï¼Œå› æ­¤æ‚¨å¯ä»¥æ‰“å¼€å®ƒå¹¶é˜…è¯»å®ƒçš„ä½œç”¨ã€‚</font><font style="vertical-align: inherit;">å®é™…ä¸Šï¼ŒLynisä¸»è¦æ˜¯ä½¿ç”¨è„šæœ¬å®ç°çš„ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ <span class="hljs-built_in">cd</span> lynis/<font></font>
$ ls<font></font>
CHANGELOG.md        CONTRIBUTING.md  db           developer.prf  FAQ             include  LICENSE  lynis.8  README     SECURITY.md<font></font>
CODE_OF_CONDUCT.md  CONTRIBUTORS.md  default.prf  extras         HAPPY_USERS.md  INSTALL  lynis    plugins  README.md<font></font>
$<font></font>
$ file lynis<font></font>
lynis: POSIX shell script, ASCII text executable, with very long lines<font></font>
$ </code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯åŠ¨Lynis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬é€šè¿‡ä½¿ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-h</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ ‡å¿—è¿è¡Œå¸®åŠ©æ¥å¼€å§‹ä½¿ç”¨Lynis </font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ ./lynis -h</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œæ‚¨å¯ä»¥ç†Ÿæ‚‰ä¸»è¦çš„å®ç”¨ç¨‹åºå‘½ä»¤ã€‚</font><font style="vertical-align: inherit;">ä¾‹å¦‚ï¼Œè®©æˆ‘ä»¬æ‰¾å‡ºå®ƒçš„ç‰ˆæœ¬ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ ./lynis show version<font></font>
3.0.0<font></font>
$</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ‰å…³Lyniså‘½ä»¤çš„å®Œæ•´åˆ—è¡¨ï¼Œè¯·é”®å…¥ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ ./lynis show commands<font></font>
<font></font>
Commands:<font></font>
lynis audit<font></font>
lynis configure<font></font>
lynis generate<font></font>
lynis show<font></font>
lynis update<font></font>
lynis upload-only<font></font>
<font></font>
$</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯¹Linuxç³»ç»Ÿè¿›è¡Œå®¡æ ¸</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€åˆ‡éƒ½ä»ä»¥ä¸‹å‘½ä»¤å¼€å§‹ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ ./lynis audit system</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¯åŠ¨å›¢é˜Ÿåï¼Œæˆ‘ä»¬å°†æ”¶åˆ°è¯¦ç»†çš„æŠ¥å‘Šã€‚</font><font style="vertical-align: inherit;">ä¸è¦æƒŠæ…Œï¼Œæˆ‘ä»¬ç¨åä¼šè§£å†³ã€‚</font><font style="vertical-align: inherit;">å…¶ä»–å›¢é˜Ÿå·¥ä½œç»“æœä¹Ÿä¼šä¿å­˜ï¼Œå› æ­¤æ‚¨ä»¥åå¯ä»¥è¿”å›ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lynisåœ¨è¿™é‡Œå­˜å‚¨æ—¥å¿—ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">  Files:<font></font>
  - Test and debug information      : /var/<span class="hljs-built_in">log</span>/lynis.log<font></font>
  - Report data                     : /var/<span class="hljs-built_in">log</span>/lynis-report.dat</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥æ£€æŸ¥æ˜¯å¦å®é™…åˆ›å»ºäº†æ‰€æœ‰å¿…éœ€çš„æ–‡ä»¶ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ ls -l /var/<span class="hljs-built_in">log</span>/lynis.log<font></font>
-rw-r-----. 1 root root 341489 Apr 30 05:52 /var/<span class="hljs-built_in">log</span>/lynis.log<font></font>
$<font></font>
$ ls -l /var/<span class="hljs-built_in">log</span>/lynis-report.dat<font></font>
-rw-r-----. 1 root root 638 Apr 30 05:55 /var/<span class="hljs-built_in">log</span>/lynis-report.dat<font></font>
$ </code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬ç ”ç©¶æŠ¥å‘Š</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lynisæä¾›äº†ç›¸å½“è¯¦ç»†çš„æŠ¥å‘Šï¼Œå› æ­¤æˆ‘ä»…æ¶µç›–ä¸€äº›é‡è¦ä¸»é¢˜ã€‚</font><font style="vertical-align: inherit;">Lynisåœ¨åˆå§‹åŒ–æœŸé—´è¦åšçš„ç¬¬ä¸€ä»¶äº‹å°±æ˜¯æ‰¾å‡ºæœ‰å…³è®¡ç®—æœºä¸Šè¿è¡Œçš„æ“ä½œç³»ç»Ÿçš„å®Œæ•´ä¿¡æ¯ã€‚</font><font style="vertical-align: inherit;">ç„¶åï¼Œè¯¥å®ç”¨ç¨‹åºä¼šæ£€æŸ¥æ‚¨å·²å®‰è£…äº†å“ªäº›ç³»ç»Ÿå·¥å…·å’Œæ’ä»¶ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">[+] Initializing program<font></font>
------------------------------------<font></font>
  - Detecting OS...                                           [ DONE ]<font></font>
  - Checking profiles...                                      [ DONE ]<font></font>
<font></font>
  ---------------------------------------------------<font></font>
  Program version:           3.0.0<font></font>
  Operating system:          Linux<font></font>
  Operating system name:     Red Hat Enterprise Linux Server 7.8 (Maipo)<font></font>
  Operating system version:  7.8<font></font>
  Kernel version:            3.10.0<font></font>
  Hardware platform:         x86_64<font></font>
  Hostname:                  example<font></font>
  ---------------------------------------------------<font></font>
&lt;&lt;snip&gt;&gt;<font></font>
<font></font>
[+] System Tools<font></font>
------------------------------------<font></font>
  - Scanning available tools...<font></font>
  - Checking system binaries...<font></font>
<font></font>
[+] Plugins (phase 1)<font></font>
------------------------------------<font></font>
 Note: plugins have more extensive tests and may take several minutes to complete<font></font>
 <font></font>
  - Plugin: pam<font></font>
    [..]<font></font>
  - Plugin: systemd<font></font>
    [................]<font></font>
<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¯¥æŠ¥å‘Šåˆ†ä¸ºä¸åŒçš„éƒ¨åˆ†ï¼Œæ¯ä¸ªéƒ¨åˆ†å‡ä»¥</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">[+]</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¼€å¤´</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ä¸€äº›éƒ¨åˆ†å¯ä»¥åœ¨ä¸‹é¢çœ‹åˆ°ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">[+] Boot and services<font></font>
[+] Kernel<font></font>
[+] Memory and Processes<font></font>
[+] Users, Groups and Authentication<font></font>
[+] Shells<font></font>
[+] File systems<font></font>
[+] USB Devices<font></font>
[+] Storage<font></font>
[+] NFS<font></font>
[+] Name services<font></font>
[+] Ports and packages<font></font>
[+] Networking<font></font>
[+] Printers and Spools<font></font>
[+] Software: e-mail and messaging<font></font>
[+] Software: firewalls<font></font>
[+] Software: webserver<font></font>
[+] SSH Support<font></font>
[+] SNMP Support<font></font>
[+] Databases<font></font>
[+] LDAP Services<font></font>
[+] PHP<font></font>
[+] Squid Support<font></font>
[+] Logging and files<font></font>
[+] Insecure services<font></font>
[+] Banners and identification<font></font>
[+] Scheduled tasks<font></font>
[+] Accounting<font></font>
[+] Time and Synchronization<font></font>
[+] Cryptography<font></font>
[+] Virtualization<font></font>
[+] Containers<font></font>
[+] Security frameworks<font></font>
[+] Software: file integrity<font></font>
[+] Software: System tooling<font></font>
[+] Software: Malware<font></font>
[+] File Permissions<font></font>
[+] Home directories<font></font>
[+] Kernel Hardening<font></font>
[+] Hardening<font></font>
[+] Custom tests</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†æ›´åŠ æ¸…æ™°ï¼ŒLynisä½¿ç”¨é¢œè‰²çº¦å®šï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»¿è‰²ï¼šä¸€åˆ‡éƒ½å¾ˆå¥½</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é»„è‰²ï¼šæ²¡æœ‰æ‰¾åˆ°æ‰€æœ‰å¿…è¦çš„ä¸œè¥¿ï¼Œæˆ–è€…å‡ºç°äº†æœ‰äº‰è®®çš„æƒ…å†µ</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çº¢è‰²ï¼šè¿™æ˜¯ä¸€ä¸ªé—®é¢˜ï¼Œå€¼å¾—å¤„ç†</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°±æˆ‘è€Œè¨€ï¼Œå¤§å¤šæ•°é—®é¢˜ï¼ˆçº¢è‰²æ ‡è®°ï¼‰éƒ½åœ¨â€œå†…æ ¸å¼ºåŒ–â€éƒ¨åˆ†ä¸­æ‰¾åˆ°ã€‚</font><font style="vertical-align: inherit;">å†…æ ¸å…·æœ‰å†³å®šå…¶æ“ä½œçš„å„ç§å¯é…ç½®å‚æ•°ï¼Œå…¶ä¸­ä¸€äº›å‚æ•°è´Ÿè´£å®‰å…¨æ€§ã€‚</font><font style="vertical-align: inherit;">é»˜è®¤æƒ…å†µä¸‹ï¼Œå‘è¡Œç‰ˆå¯èƒ½ç”±äºå„ç§åŸå› æœªå®‰è£…å®ƒä»¬ï¼Œä½†æ˜¯æ‚¨åº”è¯¥æ£€æŸ¥å®ƒä»¬ä¸­çš„æ¯ä¸€ä¸ªï¼Œå¹¶æŸ¥çœ‹æ˜¯å¦éœ€è¦æ ¹æ®å®‰å…¨æ€§è¦æ±‚æ›´æ”¹å…¶å€¼ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">[+] Kernel Hardening<font></font>
------------------------------------<font></font>
  - Comparing sysctl key pairs with scan profile<font></font>
    - fs.protected_hardlinks (exp: 1)                         [ OK ]<font></font>
    - fs.protected_symlinks (exp: 1)                          [ OK ]<font></font>
    - fs.suid_dumpable (exp: 0)                               [ OK ]<font></font>
    - kernel.core_uses_pid (exp: 1)                           [ OK ]<font></font>
    - kernel.ctrl-alt-del (exp: 0)                            [ OK ]<font></font>
    - kernel.dmesg_restrict (exp: 1)                          [ DIFFERENT ]<font></font>
    - kernel.kptr_restrict (exp: 2)                           [ DIFFERENT ]<font></font>
    - kernel.randomize_va_space (exp: 2)                      [ OK ]<font></font>
    - kernel.sysrq (exp: 0)                                   [ DIFFERENT ]<font></font>
    - kernel.yama.ptrace_scope (exp: 1 2 3)                   [ DIFFERENT ]<font></font>
    - net.ipv4.conf.all.accept_redirects (exp: 0)             [ DIFFERENT ]<font></font>
    - net.ipv4.conf.all.accept_source_route (exp: 0)          [ OK ]<font></font>
    - net.ipv4.conf.all.bootp_relay (exp: 0)                  [ OK ]<font></font>
    - net.ipv4.conf.all.forwarding (exp: 0)                   [ OK ]<font></font>
    - net.ipv4.conf.all.log_martians (exp: 1)                 [ DIFFERENT ]<font></font>
    - net.ipv4.conf.all.mc_forwarding (exp: 0)                [ OK ]<font></font>
    - net.ipv4.conf.all.proxy_arp (exp: 0)                    [ OK ]<font></font>
    - net.ipv4.conf.all.rp_filter (exp: 1)                    [ OK ]<font></font>
    - net.ipv4.conf.all.send_redirects (exp: 0)               [ DIFFERENT ]<font></font>
    - net.ipv4.conf.default.accept_redirects (exp: 0)         [ DIFFERENT ]<font></font>
    - net.ipv4.conf.default.accept_source_route (exp: 0)      [ OK ]<font></font>
    - net.ipv4.conf.default.log_martians (exp: 1)             [ DIFFERENT ]<font></font>
    - net.ipv4.icmp_echo_ignore_broadcasts (exp: 1)           [ OK ]<font></font>
    - net.ipv4.icmp_ignore_bogus_error_responses (exp: 1)     [ OK ]<font></font>
    - net.ipv4.tcp_syncookies (exp: 1)                        [ OK ]<font></font>
    - net.ipv4.tcp_timestamps (exp: 0 1)                      [ OK ]<font></font>
    - net.ipv6.conf.all.accept_redirects (exp: 0)             [ DIFFERENT ]<font></font>
    - net.ipv6.conf.all.accept_source_route (exp: 0)          [ OK ]<font></font>
    - net.ipv6.conf.default.accept_redirects (exp: 0)         [ DIFFERENT ]<font></font>
    - net.ipv6.conf.default.accept_source_route (exp: 0)      [ OK ]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»¥SSHä¸ºä¾‹ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯ç³»ç»Ÿçš„é‡è¦ç»„æˆéƒ¨åˆ†ï¼Œå¿…é¡»åŠ ä»¥ä¿æŠ¤ã€‚</font><font style="vertical-align: inherit;">è¿™é‡Œæ²¡æœ‰ç”¨çº¢è‰²çªå‡ºæ˜¾ç¤ºä»»ä½•å†…å®¹ï¼Œä½†æ˜¯Lyniså¯¹äºæé«˜SSHæœåŠ¡çš„å®‰å…¨æ€§æœ‰å¾ˆå¤šå»ºè®®ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">[+] SSH Support<font></font>
------------------------------------<font></font>
  - Checking running SSH daemon                               [ FOUND ]<font></font>
    - Searching SSH configuration                             [ FOUND ]<font></font>
    - OpenSSH option: AllowTcpForwarding                      [ SUGGESTION ]<font></font>
    - OpenSSH option: ClientAliveCountMax                     [ SUGGESTION ]<font></font>
    - OpenSSH option: ClientAliveInterval                     [ OK ]<font></font>
    - OpenSSH option: Compression                             [ SUGGESTION ]<font></font>
    - OpenSSH option: FingerprintHash                         [ OK ]<font></font>
    - OpenSSH option: GatewayPorts                            [ OK ]<font></font>
    - OpenSSH option: IgnoreRhosts                            [ OK ]<font></font>
    - OpenSSH option: LoginGraceTime                          [ OK ]<font></font>
    - OpenSSH option: LogLevel                                [ SUGGESTION ]<font></font>
    - OpenSSH option: MaxAuthTries                            [ SUGGESTION ]<font></font>
    - OpenSSH option: MaxSessions                             [ SUGGESTION ]<font></font>
    - OpenSSH option: PermitRootLogin                         [ SUGGESTION ]<font></font>
    - OpenSSH option: PermitUserEnvironment                   [ OK ]<font></font>
    - OpenSSH option: PermitTunnel                            [ OK ]<font></font>
    - OpenSSH option: Port                                    [ SUGGESTION ]<font></font>
    - OpenSSH option: PrintLastLog                            [ OK ]<font></font>
    - OpenSSH option: StrictModes                             [ OK ]<font></font>
    - OpenSSH option: TCPKeepAlive                            [ SUGGESTION ]<font></font>
    - OpenSSH option: UseDNS                                  [ SUGGESTION ]<font></font>
    - OpenSSH option: X11Forwarding                           [ SUGGESTION ]<font></font>
    - OpenSSH option: AllowAgentForwarding                    [ SUGGESTION ]<font></font>
    - OpenSSH option: UsePrivilegeSeparation                  [ OK ]<font></font>
    - OpenSSH option: AllowUsers                              [ NOT FOUND ]<font></font>
    - OpenSSH option: AllowGroups                             [ NOT FOUND ]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘çš„ç³»ç»Ÿä¸Šæ²¡æœ‰è¿è¡Œä»»ä½•å®¹å™¨æˆ–è™šæ‹Ÿæœºã€‚</font><font style="vertical-align: inherit;">å› æ­¤ï¼Œå¯æƒœè¿™é‡Œæ²¡æœ‰ä»»ä½•å†…å®¹å¯ä¾›é˜…è¯»ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">[+] Virtualization<font></font>
------------------------------------<font></font>
<font></font>
[+] Containers<font></font>
------------------------------------</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lynisæ£€æŸ¥æŸäº›æ–‡ä»¶çš„ç‰¹æƒï¼Œå› ä¸ºä»å®‰å…¨è§’åº¦æ¥çœ‹ï¼Œè¿™å¾ˆé‡è¦ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">[+] File Permissions<font></font>
------------------------------------<font></font>
  - Starting file permissions check<font></font>
    File: /boot/grub2/grub.cfg                                [ SUGGESTION ]<font></font>
    File: /etc/cron.deny                                      [ OK ]<font></font>
    File: /etc/crontab                                        [ SUGGESTION ]<font></font>
    File: /etc/group                                          [ OK ]<font></font>
    File: /etc/group-                                         [ OK ]<font></font>
    File: /etc/hosts.allow                                    [ OK ]<font></font>
    File: /etc/hosts.deny                                     [ OK ]<font></font>
    File: /etc/issue                                          [ OK ]<font></font>
    File: /etc/issue.net                                      [ OK ]<font></font>
    File: /etc/motd                                           [ OK ]<font></font>
    File: /etc/passwd                                         [ OK ]<font></font>
    File: /etc/passwd-                                        [ OK ]<font></font>
    File: /etc/ssh/sshd_config                                [ OK ]<font></font>
    Directory: /root/.ssh                                     [ SUGGESTION ]<font></font>
    Directory: /etc/cron.d                                    [ SUGGESTION ]<font></font>
    Directory: /etc/cron.daily                                [ SUGGESTION ]<font></font>
    Directory: /etc/cron.hourly                               [ SUGGESTION ]<font></font>
    Directory: /etc/cron.weekly                               [ SUGGESTION ]<font></font>
    Directory: /etc/cron.monthly                              [ SUGGESTION ]</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æŠ¥å‘Šçš„ç»“å°¾ï¼ŒLynisæ ¹æ®å®¡æ ¸ç»“æœè¿›è¡Œæ›´æ­£ã€‚</font><font style="vertical-align: inherit;">æ¯ä¸ªå¥å­éƒ½ä»¥æè¿°å¼€å¤´ï¼Œå¹¶åœ¨</font><font style="vertical-align: inherit;">å…¶</font><font style="vertical-align: inherit;">æ—è¾¹çš„æ‹¬å·ä¸­æŒ‡ç¤º</font><font style="vertical-align: inherit;">ç”Ÿæˆè¯¥</font><font style="vertical-align: inherit;">å¥å­çš„æµ‹è¯•ï¼ˆ</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TEST-ID</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã€‚</font><font style="vertical-align: inherit;">å¦‚æœå­˜åœ¨é—®é¢˜ï¼Œåˆ™ä¸‹ä¸€è¡Œæå‡ºè§£å†³æ–¹æ¡ˆï¼š</font></font><br>
<br>
<pre><code class="bash hljs">Suggestions (47):<font></font>
  ----------------------------<font></font>
  * If not required, consider explicit disabling of core dump <span class="hljs-keyword">in</span> /etc/security/limits.conf file [KRNL-5820]<font></font>
      https://cisofy.com/lynis/controls/KRNL-5820/<font></font>
<font></font>
  * Check PAM configuration, add rounds <span class="hljs-keyword">if</span> applicable and expire passwords to encrypt with new values [AUTH-9229]<font></font>
      https://cisofy.com/lynis/controls/AUTH-9229/</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lyniså¯ä»¥ä½¿ç”¨</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">show details</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å‘½ä»¤</font><font style="vertical-align: inherit;">ï¼Œç„¶åæ˜¯</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TEST-ID</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æµ‹è¯•ç¼–å·</font><font style="vertical-align: inherit;">ï¼Œæ‰¾åˆ°æœ‰å…³æ¯ä¸ªæ›´æ­£å»ºè®®çš„å…¶ä»–ä¿¡æ¯</font><font style="vertical-align: inherit;">ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">./lynis show details TEST-ID</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¾‹å¦‚ï¼Œè¦æŸ¥æ‰¾æœ‰å…³SSH-7408æµ‹è¯•çš„æ›´å¤šä¿¡æ¯ï¼Œè¯·è¾“å…¥</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">$ ./lynisæ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯SSH-7408</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¹¶å¾—åˆ°ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">$ ./lynis show details SSH-7408<font></font>
2020-04-30 05:52:23 Performing <span class="hljs-built_in">test</span> ID SSH-7408 (Check SSH specific defined options)<font></font>
2020-04-30 05:52:23 Test: Checking specific defined options <span class="hljs-keyword">in</span> /tmp/lynis.k8JwazmKc6<font></font>
2020-04-30 05:52:23 Result: added additional options <span class="hljs-keyword">for</span> OpenSSH &lt; 7.5<font></font>
2020-04-30 05:52:23 Test: Checking AllowTcpForwarding <span class="hljs-keyword">in</span> /tmp/lynis.k8JwazmKc6<font></font>
2020-04-30 05:52:23 Result: Option AllowTcpForwarding found<font></font>
2020-04-30 05:52:23 Result: Option AllowTcpForwarding value is YES<font></font>
2020-04-30 05:52:23 Result: OpenSSH option AllowTcpForwarding is <span class="hljs-keyword">in</span> a weak configuration state and should be fixed<font></font>
2020-04-30 05:52:23 Suggestion: Consider hardening SSH configuration [<span class="hljs-built_in">test</span>:SSH-7408] [details:AllowTcpForwarding (<span class="hljs-built_in">set</span> YES to NO)] [solution:-]</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°½é‡ä¸è¦æŠ˜ç£¨</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œå¦‚æœæ‚¨æƒ³è¿›ä¸€æ­¥äº†è§£Linuxç³»ç»Ÿçš„å®‰å…¨æ€§ï¼Œè¯·æŸ¥çœ‹Lynisã€‚</font><font style="vertical-align: inherit;">è€Œä¸”ï¼Œå¦‚æœæ‚¨æƒ³äº†è§£æ›´å¤šæœ‰å…³è¯¥å®ç”¨ç¨‹åºå¦‚ä½•å·¥ä½œï¼Œå¦‚ä½•æ”¶é›†æ‰€æœ‰è¿™äº›ä¿¡æ¯çš„ä¿¡æ¯ï¼Œè¯·æ·±å…¥å…¶shellè„šæœ¬ã€‚</font><font style="vertical-align: inherit;">ä¸å…¶ä»–å®ç”¨ç¨‹åºä¸€æ ·ï¼Œé¦–å…ˆåœ¨è™šæ‹Ÿæœºä¸Šè¿›è¡Œå°è¯•æ˜¯æœ‰æ„ä¹‰çš„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨ä½¿ç”¨ä»€ä¹ˆå·¥å…·ï¼Ÿ</font><font style="vertical-align: inherit;">åˆ†äº«è¯„è®ºã€‚</font></font><br>
<br>
<hr><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä½œä¸ºå¹¿å‘Š</font></font></h4><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VDSina</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¯åœ¨ä»»ä½•æ“ä½œç³»ç»Ÿä¸Šæä¾›æœåŠ¡å™¨-é€‰æ‹©é¢„å®‰è£…çš„æ“ä½œç³»ç»Ÿä¹‹ä¸€ï¼Œæˆ–ä»æ˜ åƒä¸­å®‰è£…ã€‚</font><font style="vertical-align: inherit;">æ¯æ—¥ä»˜æ¬¾æœåŠ¡å™¨æˆ–å¸‚åœºä¸Šç‹¬ç‰¹çš„æŠ¥ä»·-æ°¸æ’çš„æœåŠ¡å™¨ï¼</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/9fa/cf4/a34/9facf4a348ef01048b4eb5e16ae66daa.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN503128/index.html">å¦‚ä½•å°†ColorPickeråµŒå…¥JavaScriptç”˜ç‰¹å›¾ä¸­ä»¥æ›´æ”¹ä»»åŠ¡çš„é¢œè‰²</a></li>
<li><a href="../zh-CN503132/index.html">å¸¦æœ‰Apache Arrowçš„Pythoné«˜é€ŸApache Parquet</a></li>
<li><a href="../zh-CN503134/index.html">ç®¡ç†=å›¢é˜Ÿ+äº§å“ã€‚æˆ‘ä»¬æ­ç¤ºäº†ä»Šå¹´çš„å…¬å¼ï¼šDUMP 2020å¯¹äººå’Œäººæœ€æœ‰ç”¨</a></li>
<li><a href="../zh-CN503140/index.html">C2xï¼šæœªæ¥æ ‡å‡†C</a></li>
<li><a href="../zh-CN503144/index.html">åœ¨çº¿æˆ–ç¦»çº¿ï¼šå¤§æµè¡Œåå¦‚ä½•æ•™æˆå¤§å­¦ç¼–ç¨‹</a></li>
<li><a href="../zh-CN503154/index.html">å †æ ˆæº¢å‡ºçš„æœªæ¥æ–¹æ¡ˆ</a></li>
<li><a href="../zh-CN503156/index.html">ä¿„ç½—æ–¯çš„ç«è½¦ç«™å¯ä»¥é…å¤‡ä¿„ç½—æ–¯çš„çƒ­æˆåƒä»ªï¼›å¤–è§‚ä¸Šä¸ä¸­å›½çš„éå¸¸ç›¸ä¼¼</a></li>
<li><a href="../zh-CN503158/index.html">äººå·¥æ™ºèƒ½è‡ªå·±ç”»ä¸€å¹…ç”»ï¼ŒçœŸçš„æ˜¯è‡ªå·±ç”»ä¸€å¹…ç”»ï¼Œè€Œæ— éœ€å­¦ä¹ å…¶ä»–ç”»ä½œ</a></li>
<li><a href="../zh-CN503164/index.html">èµŒåšå¹¿å‘Šï¼šGoogleæ”¿ç­–ç®€ä»‹</a></li>
<li><a href="../zh-CN503172/index.html">Cï¼ƒï¼šä»‹ç»æºä»£ç ç”Ÿæˆå™¨</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>