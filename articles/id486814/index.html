<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤴🏼 🏮 🍎 Zabbix: topologi jaringan jelas dan otomatis 💥 🤜🏻 👬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kelola jaringan yang lebih besar dari host lokal? Tidak mengontrol, tetapi ingin belajar? Kami mengundang Anda ke kursus "Linux. Level 5. Zabbix. Mema...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Zabbix: topologi jaringan jelas dan otomatis</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ua-hosting/blog/486814/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kelola jaringan yang lebih besar dari host lokal? Tidak mengontrol, tetapi ingin belajar? Kami mengundang Anda ke kursus </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Linux. Level 5. Zabbix. Memantau infrastruktur TI suatu perusahaan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">”</font></a><font style="vertical-align: inherit;"> Pada seminar gratis pusat pelatihan Spesialis di Universitas Teknik Negeri Bauman Moscow, Anda akan belajar cara mengajar Zabbix untuk memonitor jaringan secara otomatis: temukan yang ada dan tambahkan node baru, gambar dan perbarui topologi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iv/1c/ut/iv1cutamccowubgbjxpirduuwwe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seminar akan diadakan oleh guru terkemuka dari pusat "Spesialis" di Bauman MSTU, administrator sistem utama jaringan MSTU. N.E.Bauman Vyacheslav Aleksandrovich Lokhturov. Daftar (atau lihat rekamannya) untuk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seminar gratis</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> kami </font><font style="vertical-align: inherit;">.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Halo semuanya! </font><font style="vertical-align: inherit;">Nama saya Vyacheslav Lokhturov. </font><font style="vertical-align: inherit;">Saya bekerja sebagai insinyur di Universitas Teknik Negeri Bauman Moscow. </font><font style="vertical-align: inherit;">Sejak lulus tahun 1997, saya telah bekerja sebagai insinyur. </font><font style="vertical-align: inherit;">Pada saat yang sama saya mengajar di pusat pelatihan No. 1 "Spesialis" - perusahaan yang ramah MSTU. </font><font style="vertical-align: inherit;">Banyak guru dan staf lain bekerja di sana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tema webinar akan menjadi bagian dari pekerjaan saya sebagai insinyur - sistem pemantauan yang luar biasa ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Topologi jaringan: latar belakang, Baumanka Wikipedia, sumber</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rekaman webinar dapat dilihat di tautan ini: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://wiki.val.bmstu.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - format wiki. Alamat email saya adalah: val@bmstu.ru, val@specialist.ru. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tutorial</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ini </font><font style="vertical-align: inherit;">saya gunakan sebagai insinyur. Ada banyak bahan berbeda. Jika Anda tidak menyukainya, ada banyak materi di Internet tentang topik Anda bersama kami ("Zabbix"). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari sudut pandang materi pengajaran dan pengajaran, saya menggunakan bagian "Materi tentang metodologi kursus membaca": </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dx/xt/bc/dxxtbcel7fbzpfzncdnohifiopy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan ada bagian dengan webinar. Untuk setiap pembacaan oleh saya ada catatan di sini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y9/sy/on/y9syon5yqio6tinrekmuwju2qec.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya langsung berkata: "Jika kita lakukan, mari kita lakukan yang paling keren! Mari kita tunjukkan bagaimana topologi jaringan dibangun secara otomatis di Zabbix. Dalam 45 menit saya harus mengatakan ini.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengenai topologi jaringan: di Bauman MSTU jaringan besar; karenanya, topologi jaringan adalah apa yang benar-benar kami butuhkan untuk waktu yang lama. Secara historis, Zabbix bukanlah sistem yang kami gunakan pada tahap awal. Seperti semua orang dari departemen seperti ilmu komputer, manajemen, sistem komputer, kompleks dan jaringan, kami semua suka memprogram diri kami sendiri, dan sekarang kami memprogram ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki Wikipedia kecil yang digunakan untuk bekerja. Dan di antara elemen-elemen Wikipedia ini ada bagian yang ditujukan untuk pengalihan jaringan. Akses ke Wikipedia ini masih ditutup oleh VPN kecil: Sekarang </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nw/th/kw/nwthkwj2jsj-srqt6xkqrvgpps0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
saya akan menunjukkan kepada Anda seperti apa topologi jaringan di universitas kami. Layak untuk dilihat; dan kemudian bandingkan dengan hasilnya:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ma/a2/7h/maa27hc-e9fct-_lqqkig-pn6gs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampak bagi saya bahwa semuanya jelas: semua sakelar dan jalurnya ke sakelar akar; </font><font style="vertical-align: inherit;">jika ada yang hilang, kami akan segera pulih dari file teks ini. </font><font style="vertical-align: inherit;">Topologi jaringan dibangun setiap hari. </font><font style="vertical-align: inherit;">Semua baik-baik saja, tetapi tidak spektakuler, tentu saja. </font><font style="vertical-align: inherit;">Sulit untuk dijual. </font><font style="vertical-align: inherit;">Karena itu, kami memiliki skema seperti itu di universitas.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Topologi jaringan diperlukan ketika beberapa saklar telah hilang. </font><font style="vertical-align: inherit;">Untuk memahami di mana dia terhubung</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami akan mencoba melihat sesuatu yang lebih spektakuler. Dan referensi tertentu untuk apa yang akan kita lakukan adalah artikel ini di forum: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kj/an/rq/kjanrq-tf4gagfaq3sclcshi7ji.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/5r/uw/v-/5ruwv-zvi6w7keseask1zaxrctm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ia memberi tahu bahwa ada beberapa jenis naskah indah yang ditulis dalam bahasa favorit saya, Perl, yang dipungut oleh peralatan jaringan, membuat beberapa kesimpulan dan entah bagaimana secara ajaib memberi makan hasilnya ke Zabbix. Tapi kami tidak akan menggunakan Perl, tetapi kami akan menggunakan sesuatu yang lain. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengucapkan selamat tinggal pada apa yang kami miliki. Mari kita lanjutkan berlatih. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fu/jf/vx/fujfvxfzwxeijmvenkvnsghzxzs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan senang jika Anda dapat mereproduksi semua ini di rumah dan mencoba untuk mempersiapkan ini semua yang mungkin. Setelah webinar, Anda akan ingin mengulang semuanya dan mulai dengan fakta bahwa Anda perlu menggunakan Zabbix, mesin virtual, jaringan. Bagaimana cara melakukannya?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di rumah, Anda mengetik perintah ipconfig dan Anda melihat bahwa Anda memiliki jaringan IP di rumah (mungkin yang berbeda, tetapi paling sering yang ini): Saya memiliki </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nw/0m/sd/nw0msdf_bqqc1rbf2v9poyhvd8m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
alamat kelima (192.168.1.5) di sini, dan Anda dapat memiliki tanggal 20 atau 30 ... Tentunya ada router Wi-Fi yang mengeluarkan alamat ini. </font><font style="vertical-align: inherit;">Karena itu, saya sekarang akan menggambar topologi berdasarkan apa yang mungkin ada di rumah Anda sehingga Anda dapat memperbanyaknya:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/z_/il/pv/z_ilpvbesmx9x8x0ntvfyvgz6by.jpeg"><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda memiliki router WIFI.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sistem di mana Anda ingin memainkan webinar.</font></font></li>
<li>  192.168.1/24 – 1-  WI-FI-,  5-, , –   .<br>
   .   ,    –   ,     2, 10, 20 ,     .  ,   linux-,    «».            ,     100. ,       192.168.1.100.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di mana mendapatkan mobil? </font><font style="vertical-align: inherit;">Tidak ada yang mencegah untuk mengambil distribusi Linux. </font><font style="vertical-align: inherit;">Saya penggemar berat distribusi ini. </font><font style="vertical-align: inherit;">Kami tidak akan membiakkan holivar - Saya mencintainya, saya memilihnya, saya menggunakannya dalam kursus. </font><font style="vertical-align: inherit;">Anda dapat mengambil dan menginstal dari situs ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fw/0p/7_/fw0p7_zevdd2b-hy4_myzkofi78.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar kami tidak menghabiskan waktu 45 menit untuk menginstal Debian, saya akan mengambil gambar pra-instal yang sudah jadi. </font><font style="vertical-align: inherit;">Siapa yang butuh itu - menulis surat, saya akan mengirimkan gambar ini kepada Anda, meskipun tidak ada yang luar biasa di dalamnya (hanya agar tidak membuang waktu menginstal): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hd/sv/ju/hdsvju1d3xv2tlcppgmw7ze0fhk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika diinstal, Anda dapat melihat bagian dalam manual ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penempatan stan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada cerita tentang perintah ipconfig: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uz/3m/a3/uz3ma3gdidyrxl4ni-foi1xerse.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kemudian, ketika mesin berbalik: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1r/by/6n/1rby6nfa4-ie37px_jgo2gzdmsg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat memberi nama di pengaturan, berikan lebih banyak RAM: Ada </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yb/ru/el/ybruel8q66rozvw0tlyjxg3gaxy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
berbagai virtualisasi - VirtualBox bagus untuk digunakan di rumah. Di perusahaan, kami dan teman-teman saya menggunakan VSphere (kami sangat senang dengan produk dari VMware), tetapi ada lebih dari cukup kursus untuk VirtualBox. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jaringan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9s/ie/ao/9sieaok8u0wwjefjyo8fgmze0y4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karena kami mengatakan bahwa mesin ini akan terhubung ke jaringan kami, kami dapat bekerja dengannya - itu harus dihubungkan dengan jembatan ke adaptor fisik. Saya akan membuat ulang alamat Mac. Saya meluncurkan mesin virtual kami:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jx/tu/vw/jxtuvw-er7hyjbhh8de-zowhqcg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan setelah memulai, saya membuat konfigurasi. </font><font style="vertical-align: inherit;">Manual mencantumkan file yang perlu diedit: tetapkan nama ke mesin, diinginkan untuk mengedit file host, resolv.conf (bertanggung jawab untuk klien DNS) dan alamat ip yang dipilih oleh kami - keempat file ini harus diedit. </font><font style="vertical-align: inherit;">Saya akan mencoba melakukannya secepat mungkin.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyebaran Zabbix</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kata sandi pengguna ini (root) langsung diatur dalam gambar - jangan pernah menggunakannya dalam praktik! Hanya untuk menghemat waktu, saya menggunakan akun istimewa: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cf/dk/mt/cfdkmtiq3gditwh0q8d5obxhqyw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Manual mencantumkan file yang perlu diedit. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ou/ww/7a/ouww7abmkynaldx0c53orqbq1fi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikutnya, saya memberikan nama ke mesin kami (server pemantauan Zabbix): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o7/aw/ey/o7aweyooy2otoditfxa76k4g6dw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
File hosts: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xk/zu/m3/xkzum3abl5tgowzag-aq0eew_us.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ubah alamat menjadi yang ke-100 dan nama domain yang kami ciptakan (setiap pendengar pada kursus kami memiliki sendiri, masing-masing, seperti jaringan dengan domain): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/im/sk/g3/imskg32tktggjcqyi-ue7phl_ww.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa lagi yang tersisa? Resolv.conf (klien DNS): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dj/_d/pb/dj_dpbav7eoi7w59gjgnaclace4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Corp1.un akan merapat ke nama pendek, dan router WIFI Anda biasanya akan berfungsi sebagai server DNS: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nc/ao/mv/ncaomvyveyk93fjj6zklqzpvfni.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa yang tersisa? File besar yang paling penting adalah jaringan / antarmuka. Ini adalah templat untuk berbagai kursus, banyak antarmuka:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dm/yw/ak/dmywakkly3qdswu_mkrpp1dxy0u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi mobil kami akan memiliki satu antarmuka. </font><font style="vertical-align: inherit;">Ini akan menjadi server pemantauan dengan alamat ke-100 dan pergi ke Internet melalui tanggal 1: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2h/og/jv/2hogjvlx7gd5uxfxlvgmbalopdq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mungkin, itu tidak perlu, tetapi lebih cepat untuk menggunakan semua file - restart mesin.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menginstal dan memulai layanan di Debian</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zabbiks dapat diinstal dengan berbagai cara. Menurut Zabbix, ada situs web yang sangat baik dengan dokumentasi (omong-omong, dalam bahasa Rusia bagian aktif didukung). Oleh karena itu, berbagai opsi ditawarkan di sini. Saya seorang pendukung besar untuk menginstal perangkat lunak dari repositori biasa. Bukan kebetulan bahwa saya memilih Debian: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-9/eu/2c/-9eu2cfgrndehx_bvjyjxo_gjwg.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/pk/ha/la/pkhalax-z8jy1_vivipznmnozem.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Omong-omong, jika semuanya dilakukan dengan baik, sekarang saya harus dapat terhubung ke sistem saya. Mari kita coba melakukannya. Saya mengambil klien SSH favorit saya dan terhubung ke sistem 192.168.1.100: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sf/me/tr/sfmetrwaaftvvrjxe9jetdjpv3a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lucky: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/re/qe/zb/reqezbzkzbnynazdnxp9blstocq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekali lagi, tidak benar bahwa root diizinkan di sini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bu/5j/_e/bu5j_eloihgsp4_8heomyuedskc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jangan pernah melakukan ini di perusahaan! Di sini hanya menghemat waktu.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/en/kr/k6/enkrk6smoeftphgdxai8xooemcu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita harus menginstal Zabbix. </font><font style="vertical-align: inherit;">Menjadi pencinta yang hebat dan pendukung penggunaan perangkat lunak dasar dan lawan menghubungkan repositori pihak ketiga, saya akan memasukkan versi yang ada di Debian ini. </font><font style="vertical-align: inherit;">Sekali lagi, terima kasih kepada penulis "Debian" - cukup tekan instalasi paket seperti itu: Saya </font></font><br>
<br>
<img src="https://habrastorage.org/webt/id/ad/4z/idad4z6qgksfxjtpl0zh8z6wu3c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ingat satu hal lagi! </font><font style="vertical-align: inherit;">Kami baru saja menginstal sistem - kami perlu menyinkronkan repositori (pembaruan apt): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/su/ho/1w/suho1w8zayqwukaczax17o2acgo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, cukup dengan mengetikkan perintah instalasi server zabbix dengan dukungan untuk basis data (DB) informasi Anda dalam SQL, karena banyak komponen yang akan diinstal (perlu beberapa menit untuk menginstal) :</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hj/1y/ok/hj1yokti8khkpotcwlzkfu-lnji.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terdiri dari apa Zabbix</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zabbix terdiri dari komponen-komponen berikut:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Server "Zabbix";</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dia aktif bekerja dengan konfigurasi, yang akan kita konfigurasikan secara manual dan otomatis;</font></font></li>
<li>      ,       ;        MySQL (   –   ),    ( «»      – PostgreSQL,  Oracle ).</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar kami dapat bekerja dengan Zabbix, yang disebut frontend digunakan. Frontend Zabbix adalah aplikasi yang ditulis mungkin dalam PHP (mungkin bukan segalanya, tetapi kebanyakan). Dengan demikian, aplikasi itu sendiri menggunakan server web. Sejauh ini, hanya bagian ini yang telah diletakkan (sekarang kami akan menunggu pemasangannya): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-p/f7/x1/-pf7x13a5ap9clor_mxdrs3nj2i.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selesai. Sekarang, karena Zabbix menggunakan basis data, kita perlu membuatnya dengan mengikuti dokumentasi. Untuk membuat database, saya akan menggunakan skrip sederhana: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/az/7j/lz/az7jlzl5ymcajcp1lkhebgv1nxa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan merinci apa artinya perintah apa. Jika seseorang bekerja dengan DBMS, mereka akan melihat sesuatu yang familier - nama database dan sebagainya ... </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6v/bd/kk/6vbdkkjydgvlkrnslc9_6s5xvr0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, menggunakan skrip ini, saya membuat database:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9-/ds/v2/9-dsv2o62nrjbkpzx6jevg4ax_q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan isi database ini dengan metadata. Ada beberapa file yang menggambarkan tabel mana yang harus, atribut, parameter, dan sebagainya (semua ini dilakukan, sekali lagi, sesuai dengan dokumentasi): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zj/31/sd/zj31sdartmnaavfhghqy7im32bq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yaitu, sekarang di MySQL kita menumpuk metadata yang akan digunakan Zabbix untuk menyimpan konfigurasi dan hasil: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ro/1p/0b/ro1p0baiwev54t9ttf1k-36zyj4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak Saya akan menghabiskan waktu melihat apa yang akan ia buat di sana (akan ada sejumlah besar tabel yang dibuat). Zabbix sebagai produk telah berkembang selama lebih dari sepuluh tahun dan terus berusaha untuk menjadi lebih baik dan lebih baik, oleh karena itu struktur data di sana cukup berat. Tapi semua ini "di bawah tenda." Kami, sebagai administrator, akan bekerja dengan aplikasi front-end eksternal, yang semuanya akan sederhana, jelas, dan dapat diakses.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut dokumentasi, untuk beberapa alasan, beberapa file. Tetapi karena mereka melakukannya, itu berarti mereka tahu apa yang mereka butuhkan! Basis data sudah siap: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ql/sf/pg/qlsfpgwecdjkq43bvi7-ddnbr4q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang, menurut dokumentasi, komponen ini perlu dijelaskan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/u-/n0/vl/u-n0vlfpaz12mtjtdkvjekaf1za.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jelaskan bahwa itu harus bekerja dengan basis data, terhubung di bawah login dan kata sandi tertentu. Ini dilakukan melalui file konfigurasi: </font><font style="vertical-align: inherit;">
Masukkan di bagian </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5x/pm/aa/5xpmaappvlhi6dtjmzb90m8dbb4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
paling akhir file: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/89/gh/ul/89ghulcpbzbzw913qbznnaecsjm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/n8/oo/_y/n8oo_yuz-elzo7w8scuvnwsjxo8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini kami menjelaskan bahwa server database ada di sini di bawah akun kami: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/u5/vt/wi/u5vtwiauap-aibs5mbmgersdnji.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Debian" -paket untuk "Zabbix" tidak berarti memulai otomatis. Ini adalah tim SystemD yang hebat dan mengerikan, tentang yang ada banyak sekali banyak holivar: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4t/mw/_9/4tmw_9on0khv1_i8flmuoufthkm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini membuat peluncuran Zabbix otomatis setelah server melakukan booting. Luncurkan Zabbix: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/66/kt/aj/66ktajsilnljqvtg8rff03vw5ki.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kedua komponen ini sedang berjalan:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jf/pp/ih/jfppihb3mhcy6oc9ma6rzmxhqsy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda sudah bisa memantau, mengisi konfigurasi. </font><font style="vertical-align: inherit;">Tetapi sulit untuk melakukan sesuatu yang baik sampai frontend diatur ... Namun, pada awalnya - tahap yang terlewatkan ...</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Penyebaran Zabbix </font><font style="vertical-align: inherit;">Lokalisasi Zona Waktu</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya membuka lipatan gambar, dan waktu yang salah di dalamnya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xu/mw/-r/xumw-rual8waq_g1bs36hd660g8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tanggalnya benar. </font><font style="vertical-align: inherit;">Zona waktu kami salah, jadi saya memperbaikinya dengan cepat:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/if/st/aq/ifstaqnjg4rrepsxshjhw_4o9p0.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pergi ke frontend. </font><font style="vertical-align: inherit;">Menginstal dan meluncurkan antarmuka web</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Debian harus menginstal paket seperti itu (setelah server web Apache diinstal): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/al/pt/i5/alpti55pbgnyvxlkwg6cusjayje.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PHP, perpustakaan untuk menghubungkan program yang ditulis dalam PHP dengan MySQL, akan diinstal. Secara umum, saya meluncurkan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/oh/fx/ow/ohfxown1obtvst8-eqn988l5kjy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda tidak perlu melakukan tindakan apa pun untuk waktu yang lama, semuanya akan dilakukan secara otomatis: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fd/gr/6q/fdgr6qma4k3n_ii43xiia9xpkmc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kami menempatkan komponen ini di sini - frontend Zabbix; server web, dan kami akan menjelaskan kepadanya bahwa dia perlu bekerja dengan server Zabbix dan DBMS: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vu/xo/by/vuxobykpvrchotjwrd6locuvp7e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Melalui server web kami akan mengelola Zabbix dan melaluinya kita akan melihat apa yang dia pantau di sana.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu hampir mapan, dan sekarang kita akan melihat bahwa ia memiliki hubungan yang erat dengan negara kita. </font><font style="vertical-align: inherit;">Ini dikembangkan sebagai aplikasi dari beberapa orang yang bekerja di bank. </font><font style="vertical-align: inherit;">Dia memutuskan untuk mengatur pemantauan dan mengambilnya dan menulis programnya daripada menggunakan yang sudah selesai. </font><font style="vertical-align: inherit;">Dia bekerja di Riga, dan Anda dan saya berada di Moskow: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rd/p-/uu/rdp-uuppjegozljjxljdvkcyctk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam file ini ↑ inisialisasi PHP diperlukan ↓ untuk melakukan ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/af/zd/w6/afzdw6duwvdchcizhxre6pg-owm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/n9/uv/11/n9uv119oq-21nip3nyevkey0c50.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan membahas lebih jauh tentang bagaimana aplikasi web dikonfigurasi dalam Debian. </font><font style="vertical-align: inherit;">Sudah cukup untuk menghubungkan konfigurasi yang datang dari paket Zabbix dan memulai kembali server web Apache:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cj/wq/dw/cjwqdwnivhxabf6kbey1qs3yyso.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Terhubung ke antarmuka untuk mengkonfigurasi Zabbix</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hampir siap terhubung ke frontend. </font><font style="vertical-align: inherit;">Tetap hanya menjelaskan kepadanya di mana server database berada. </font><font style="vertical-align: inherit;">Ada dua opsi, dan kami akan melakukannya melalui Wizard. </font><font style="vertical-align: inherit;">Untuk itu, Anda memerlukan file tempat konfigurasi akan ditulis: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/np/hh/1i/nphh1imvszjdktstdx-insdzihs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Server web harus memiliki izin menulis untuk file ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/x7/dj/_o/x7dj_oz6sci-rbq_xqem-hyt_sg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu Anda dapat mencoba menyambungkan dalam browser. </font><font style="vertical-align: inherit;">Anda bisa dengan alamat IP. </font><font style="vertical-align: inherit;">DNS saya sudah dikonfigurasi, jadi saya akan mengambil kesempatan ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0n/1h/lf/0n1hlfvvisfesceo4d-rv2mra7g.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki Zabbix Wizard, di mana saya akan mengklik Next, karena sebagian besar sudah menginstalnya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5m/co/dc/5mcodckrskfsyf0rlu0omicrlnc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qo/qt/o_/qoqto_wcxr0gc_kwsr3ia12muhw.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/5w/1r/pu/5w1rpu_jvw5veghgbvrjltn722g.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/zg/jw/ng/zgjwngenwdojjj-jkx6um7kfnaa.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/li/i7/t2/lii7t2ybvosn2l1dg0wc4tf2exm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/lz/gv/va/lzgvvams559x1iofedcqifizxy0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zabbix kami siap terhubung. </font><font style="vertical-align: inherit;">Kami memasukkan nama pengguna dan kata sandi: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jx/tf/53/jxtf53atwbmrcyx9pjsiaqauffy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Konfigurasi, host ... Tidak memantau host mana pun - "Zabbix" sejauh ini hanya siap untuk memantau dirinya sendiri, jika kami menginstal Zabbix Agent:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/58/97/zv/5897zvb2kgkutggf-ccxvkpqlsy.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rentangkan awan sakelar</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi tidak akan ada agen Zabbix untuk webinar kami. Itu terlalu sederhana dan tidak menarik! Anda dan saya akan memonitor jaringan terdistribusi, rantai sakelar komunikasi, jadi kita membutuhkan rantai sakelar ini. Di mana mendapatkannya? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menyarankan menggunakan virtualisasi Kotak Virtual. Ini memungkinkan Anda untuk meniru PC (komputer), dan sekarang saya akan memperkenalkan Anda ke emulator lain, yang juga digunakan dalam kursus kami. Produk hebat disebut Graphical Network Simulator (GNS): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/be/f8/d_/bef8d_bgqsw6r8xweossqbswqp8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Emulator ini memungkinkan Anda untuk meniru peralatan Cisco. Di sini kami akan menggunakan cloud switch kami. Penting untuk membuat nama proyek lagi (mari kita simpan konfigurasi, bagaimana jika besok diperlukan):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vr/cw/xi/vrcwxiidkq-rt6rlkrw3bohkee8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika Anda ingin belajar cara bekerja dengan peralatan Cisco di rumah, instal GNS ini untuk Anda sendiri dan lakukan seperti yang kami lakukan di seminar, yaitu, kami sekarang akan menggunakan cloud of switches. Masalahnya adalah bahwa GNS tidak memiliki sakelar (tidak ada emulasi di sini) - hanya emulasi router. Oleh karena itu, kita harus meletakkan router (seret dengan kursor mouse): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3q/kf/w9/3qkfw98g1cll_antal4ffvb3j8e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan entah bagaimana membuatnya menjadi switch. Bagaimana cara membuat emulasi sakelar di GNS? Kita perlu mengambil router dari seri ke-36. Anda dapat menyebutnya sakelar (klik kanan sakelar): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ds/hg/zr/dshgzra7cwuo96scx-s5vzxxgmc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menggambar sakelar: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dw/zb/xk/dwzbxklfnlvwgmewwyagg9ax61s.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/kh/ht/zl/khhtzlj_kwjdmmgofbbzrs1yove.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/v8/ly/wa/v8lywaans322t7f3vnrllvhidic.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sepertinya? Tapi itu akan menjadi saklar nyata hanya ketika Anda menambahkan papan seperti itu di sana:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ci/x9/qk/cix9qkmxc6ow8v5iwqk-atxl_fu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada baris router Cisco ini, Anda dapat memasang papan Ethernet 16-port. Dan untuk sejumlah besar pekerjaan laboratorium yang terkait dengan sakelar, papan ini cukup cocok. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami harus memiliki cloud switch, jadi sekarang saya akan membuat cloud ini (ubah nama, gambar, dan masukkan papan). Mari kita mulai dengan tiga sakelar, dan jika kita punya waktu, maka kita </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bf/ti/rv/bftirv6azk16f-do5lt1uqntz4m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
akan </font><font style="vertical-align: inherit;">menambahkan yang keempat: </font><font style="vertical-align: inherit;">Kita akan terhubung, tidak secara khusus membidik ke mana. Topologi kami harus dibangun secara otomatis: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/n2/4d/uf/n24dufxk_bsi44_xj95nvga6afi.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/mq/9b/lq/mq9blquvwehjkbmvt5pjlplgsjs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selesai: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wj/gt/f8/wjgtf8aqoy1vnx-h2-kiaw8oa7q.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang saya memulai bisnis ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/pw/e6/f1/pwe6f1uu9h0idchwsfqj6xpu_ae.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selamat kepada mereka yang menonton untuk pertama kali cara kerja Cisco - sehingga Anda dapat dengan cepat mengkonfigurasi switch Cisco. Sementara itu, mereka mulai dengan kami ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah sistem Windows kami (Windows 7) dan Debian: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i6/ve/uk/i6veukk0v9begz_gtkanjnx5sme.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini virtualisasi GNS3 dan awan sakelar:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xu/jw/6t/xujw6t_eaje5nbl_56akrkthhwk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang sudah jelas apa yang terjadi: dua sistem virtualisasi digunakan dalam kerangka kerja satu mesin. Virtualisasi sistem-PC (di kanan) dan virtualisasi sistem-Cisco (di sebelah kiri): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/66/hx/m2/66hxm25qeoexjawmjhhqpxy0yqa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penting untuk membuat server memonitor peralatan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yo/ek/fz/yoekfz41z6ls3l72ik5yv6hltps.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan agar dapat memonitornya, peralatan ini harus memiliki alamat di jaringan yang sama: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ve/rk/8x/verk8xxlqj_ldywe8dgkr7nw974.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, tanpa berpikir lama, saya Saya memutuskan untuk memberikan alamat switch ini (masing-masing poin 101, 102, 103 untuk switch 1, 2 dan 3). 100 adalah Linux kami: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fh/xr/nf/fhxrnfp__tatacrxnf0i1egxato.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mengonfigurasi ini sebagai berikut: pergi ke kursus Cisco resmi dan mereka akan memberi tahu Anda murah.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar sakelar dapat diakses untuk administrasi, Anda perlu membuat pengaturan berikut - masuk ke mode konfigurasi, berikan nama yang sesuai, tetapkan alamat IP ke antarmuka dan salin hasilnya ke memori jangka panjang: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xr/hs/of/xrhsof2vqmanjxahxyeeuwkitwy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan menyiapkan ikan agar tidak menghabiskan banyak waktu di atasnya. Switch pertama akan disebut switch1, alamat IP adalah 101. Saya menyalin konfigurasi ini ke sakelar: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/he/4q/tc/he4qtcdsyugl9n7zlbsuvv1vdfm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klik dua kali sakelar yang diinginkan (sekarang - sakelar1): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ux/ga/d5/uxgad5fmtc4q8xsr5tiry-yhkma.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/gc/mn/75/gcmn75v8xtwb9icgrakorfvo_o4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siapkan sakelar1. Sekarang - konfigurasi untuk switch kedua: disebut switch2, IP - 102: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rz/h_/g6/rzh_g6y2i_5c3jxkrm2e3flbu-i.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/w3/5a/p6/w35ap6gewzm3zpsggptzpljb6xc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, kami bertindak dengan switch ketiga. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yah, itu akan sangat keren jika tidak hanya server kami tersedia dari komputer Windows kami, tetapi juga apa yang telah kami konfigurasikan sekarang:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4y/va/jr/4yvajrk9agiaacpycpxs6ojp6gq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GNS3 adalah sistem yang baik. </font><font style="vertical-align: inherit;">Saya membuat penekanan seperti itu karena ada cukup banyak masalah dengan itu: itu agak buggy, sedikit ... Tapi untuk belajar, itu sudah cukup. </font><font style="vertical-align: inherit;">Jeda ini mengkhawatirkan bagi saya - saya harap semuanya akan berhasil, dan pergantian kami akan menjawab setelah beberapa waktu: Tapi </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gq/3q/sl/gq3qslehu1-r-_skqokqhowkvqw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tidak, itu tidak akan menjawab, tidak peduli berapa banyak saya menunggu! </font><font style="vertical-align: inherit;">Komunikasi tidak cukup antara komputer kita dan GNS. </font><font style="vertical-align: inherit;">GNS sendiri, jadi satu elemen lagi tidak ada:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/v9/14/vf/v914vfcq1mexkh_tyr96b_b4qe4.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hubungkan Cloud</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar sakelar ini tersedia, Anda harus menggunakan objek Cloud: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ri/uw/wq/riuwwqk1kguxglmtswubooqglas.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hari ini, Cloud menggunakannya dalam arti yang sama sekali berbeda. Penulis GNS sebagai penyedia layanan internet. Dalam pengaturan objek ini, saya dapat menghubungkannya ke kartu jaringan saya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gw/ri/r-/gwrir-quzcq745winbjfqhdry88.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kelihatannya menakutkan, tetapi ini adalah kartu jaringan yang sama: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yl/zq/ux/ylzquxupsoni1diu2tm2zuwbbwc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/lb/pl/sk/lbplskyzgznkrrla6utigrs0qr0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya menaruh Cloud. Sekarang Anda perlu menghubungkan salah satu sakelar ke Cloud (hanya dengan itu koneksi dapat muncul): Saya </font></font><br>
<br>
<img src="https://habrastorage.org/webt/e9/kz/40/e9kz40sqnsx0avn3qmpijjuc7lu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
menduga bahwa dalam kasus kami lebih cepat untuk mem-boot ulang sakelar sehingga semuanya menyala. Satu-satunya hal yang saya ingin pastikan bahwa konfigurasinya disimpan. Ngomong-ngomong, di dalam ping switch sudah seharusnya muncul: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v6/dl/hw/v6dlhwwha_rpetf4u-mvds8sqkg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Real Cisco! Paket pertama menghilang, semuanya ada di sana:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ju/nm/dz/junmdzk7lnakhvcrpzjmmkydkgm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebenarnya, bukan emulasi alami yang digunakan di sini, melainkan iOS. Oleh karena itu, saya hentikan sakelar ke-1 dan mulai lagi: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nq/vf/vo/nqvfvonfdf78rrmvlfy2bti50t4.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/e-/hl/jo/e-hljocq_u863hcwtqwuoy7ulzi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika semuanya beres, maka kita akan melihat koneksi melalui cloud - Windows 7 saya akan terhubung ke peralatan ini melalui kartu jaringan (peralatan memiliki alamat IP pada jaringan yang sama dengan Windows) . Secara umum, ini adalah titik koneksi antara GNS dan Windows. Mari kita </font></font><br>
<br>
<img src="https://habrastorage.org/webt/db/vo/dh/dbvodhj8-wdkwxqf4iycwymwheu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
periksa </font><font style="vertical-align: inherit;">apakah ada hubungannya: </font><font style="vertical-align: inherit;">Mari kita lihat bagaimana perasaannya ... Dari sini dia menjawab: Persetan </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lr/zm/or/lrzmorkfuglvex1hz7ir5togsti.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
! Anda tahu, koneksi telah muncul: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-c/hr/gh/-chrghapsw8pu8kmycxcjyixida.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya suka GNS karena gratis, ini berfungsi ... Tapi tidak semuanya sederhana! Inilah situasi yang lucu: Linux kami merespons sistem Windows, switch kami merespons Windows, tetapi switch tidak merespons sistem Linux:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/1f/wu/re/1fwureh4q3tz4quhdcm7nybwwh8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi guru bisa menjadi abu-abu! Anda sedang melakukan pelajaran, tetapi stand tidak berfungsi untuk orang-orang ... Yah, tidak ada, kami akan meyakinkan! Gratis, murah, dan ceria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pengalaman telah menunjukkan: agar koneksi berada di antara ketiga elemen (dari Windows - ke Linux, dari Linux - ke GNS), Anda perlu pergi ke pengaturan kartu jaringan dan memilih opsi aneh - "Mode tidak terdengar" ("Izinkan semua"): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fp/w8/op/fpw8opcow_frnq3ph1ksbtivq6w.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/jr/jv/ve/jrjvveot5clomchekaw9_xmyxc0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Datang ke Virtualisasi! Mode sembarangan ini ada di semua keputusan (dan juga di "Sphere"). Ini terkait dengan lewatnya paket Ethernet, alamat mac, dan sebagainya. Ayo pada virtualisasi, detailnya ada di sana. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memulai sistem kami lagi dengan harapan konektivitas akan dipulihkan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/my/8t/cy/my8tcyvvejsf5bt-cb5sh-va_lu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hanya sekarang dimungkinkan untuk mengkonfigurasi pemantauan sakelar kami dari Zabbix. Mari kita lihat bagaimana ini terjadi:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ge/ku/6m/geku6mzbdiqubhvfjx4pevfuiau.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yayasan diletakkan. </font><font style="vertical-align: inherit;">Jika kita memiliki koneksi sekarang, maka semuanya akan siap. </font><font style="vertical-align: inherit;">Dalam "Zabbix" banyak "Tsiska", terhubung dengan cerdik satu sama lain - Anda dapat mulai memantau. </font><font style="vertical-align: inherit;">Kami terhubung ke pengguna root dengan kata sandi dan memeriksa ping: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wq/ln/pc/wqlnpckl6msf6vp_rmiyt_q2a5s.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/g7/9y/8z/g79y8z6hx_bix4mvyje3ju34uia.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semuanya siap: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4m/qw/1q/4mqw1qfbb61ytex0d4ldrwaklee.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sebagai administrator DNS lokal, saya juga memungkinkan untuk mengirim dengan nama ping.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana Zabbix dapat memonitor peralatan Cisco?</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agen tidak dapat diinstal pada peralatan Cisco. Banyak dari Anda tahu bahwa peralatan Cisco dipantau secara sempurna menggunakan SNMP. Sekarang kita akan mengatur panggung untuk ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita akan mengatur panggung untuk ini. Untuk memantau peralatan menggunakan SNMP, Anda perlu, pertama, untuk menginstal dukungan SNMP di server pemantauan itu sendiri: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/rx/pj/d_/rxpjd_oqrxzg3kyshufud5ydoik.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zabbix tidak termasuk dukungan ini, ia menggunakan perpustakaan eksternal yang termasuk dalam paket ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y7/6r/v4/y76rv4b1ulvxexqwi69yhhqld1u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan memberi tahu Anda apa basis informasi manajemen - datang ke kursus tentang interaksi Lunux dan Cisco, itu dijelaskan secara rinci. Dan sekarang kita hanya meletakkan paket yang diperlukan untuk pemantauan di Linux: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0x/ze/ed/0xzeedg4nazeeohex3hvh-zqjho.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/yn/lo/pr/ynloprjiladptnptxhd2nowybrc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kita meletakkan elemen konfigurasi pada Cisco kita yang akan memungkinkan kita untuk memantaunya secara bergantian.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/u6/yj/yt/u6yjyteqwobo-tckmhdnhm8clt4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di sini, server SNMP hanya mulai dengan kata sandi berikut: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9t/ie/zo/9tiezomf0b9sk_r6tqf3a9hg8zw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kami melakukannya pada ketiga switch kami: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/k-/cu/-v/k-cu-vr3kzxuq3fcelvdhwyuo3e.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah langkah-langkah ini, kami akan memeriksa apakah server pemantauan kami dapat mengakses peralatan Cisco (semua switch ini) melalui SNMP dan, misalnya, cari tahu sesuatu. </font><font style="vertical-align: inherit;">Ada beberapa opsi pengujian di sini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/u6/yj/yt/u6yjyteqwobo-tckmhdnhm8clt4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat mensurvei sakelar kami menggunakan yang disebut OID (pengidentifikasi objek). </font><font style="vertical-align: inherit;">Di sini kita menginterogasi sakelar (kami meminta nilai parameter sakelar1): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dh/qr/ek/dhqreksw-lbhj1_ky-kitwkcbdu.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kami melihat bahwa Oid ini merujuk pada nama sakelar, yaitu, kami dapat menarik namanya dari setiap sakelar (sangat berguna untuk topologi): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8e/ro/de/8erodew0gy2koqyma4o2k5xo5qi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan Anda dapat menggunakan lebih banyak manusia, yang tekstual - kami meminta sysName dari switch (hal yang sama dapat ditanyakan dari switch2, dll.):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ti/rk/ih/tirkihmj9zh3mbtljm-8mzuuva4.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal SNMP Console</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tindakan lain tidak jelas: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9l/bh/if/9lbhif1jx-4eees2yl4g2n6sse4.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/rf/xs/2f/rfxs2forhqzmhx1vb1pxzyecjzi.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/5r/c6/qi/5rc6qi5sesktvgwhchqnlk14hwy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menurut perjanjian lisensi, Anda perlu mengomentari baris dalam file ini ... Ini adalah perintah pelatuk yang membersihkan konten file, yang mengatakan: "Untuk mengkonfirmasi lisensi, komentar semua yang ada di sana". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Karenanya, server Zabbix harus di-boot ulang karena kami telah menginstal pustaka yang akan digunakan olehnya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nh/n2/rv/nhn2rvgejooztpw-t-6iyqigdjw.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/8u/j9/dw/8uj9dwokqg4-byvjdxbp59fhwdc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Banyak orang tahu bahwa sekarang sudah cukup untuk masuk ke bagian Host, membuat host dan memilih protokol SNMP. </font><font style="vertical-align: inherit;">Tentukan Alamat IP:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gz/cs/ug/gzcsuga-vjjumzjitkwe0zvy2ak.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/bi/gv/kc/bigvkcnw1ji20omf739p434dzaa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi kita tidak di sini untuk itu. </font><font style="vertical-align: inherit;">Mari mencoba Zabbix untuk menemukan semua sakelar kami secara otomatis. </font><font style="vertical-align: inherit;">Kami memiliki tiga dari mereka, dan di Baumanka ada lebih dari seratus dari mereka (120, tampaknya). </font><font style="vertical-align: inherit;">Tidak akan terlalu menyenangkan untuk menambahkan 100 switch, jadi ini bonus: kita akan melihat bagaimana Zabbix menemukan switch kita.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara otomatis menambahkan perangkat ke Zabbix</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Halaman "Secara otomatis menambahkan perangkat ke Zabbix": </font></font><br>
<br>
<img src="https://habrastorage.org/webt/op/4h/3a/op4h3abcnttdjkx_h-zzpzb0zge.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk melakukan ini, kita akan pergi ke bagian "Konfigurasi" (ayat Discovery) dan kami tidak akan membuat aturan baru di sana, tetapi kami akan menggunakan yang sudah ada:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ini dengan benar mengatakan bahwa Anda perlu memindai jaringan ini ... Apakah Anda mengenali kami? </font><font style="vertical-align: inherit;">Agar tidak menunggu lama, saya akan menunjukkan kisaran terbatas 100-110 (cukup untuk saya).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memindai satu jam sekali agak banyak; </font><font style="vertical-align: inherit;">put - setiap 60 detik.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada perangkat yang dipindai, Zabbix kami sekarang mencari agen Zabbix. </font><font style="vertical-align: inherit;">Saya berjanji bahwa Anda dan saya tidak akan memiliki agen, jadi saya menghapusnya.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dan saya katakan bahwa pada kenyataannya, perangkat kami dapat diakses melalui SNMPv2, komunitas - publik; </font><font style="vertical-align: inherit;">kami meminta OID seperti itu:</font></font></li>
<li>       ,     . ,    .       (   ):</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang setiap menit Zabbix menelusuri alamat-alamat IP ini dan menanyakan nama perangkat melalui SNMP. Jika ada perangkat dan mendukung protokol SNMP, maka itu akan menjawab: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ha/xg/-o/haxg-ohyxs1bfr23wjr10quhgoa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini tidak cukup untuk perangkat kami muncul dalam daftar ini: Anda </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1f/qq/ij/1fqqijogq1obsqxxxnqmd06l6l8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
perlu mengkonfigurasi tindakan. Kami akan membuat yang baru (Saya akan menyebutkannya, menyalin dari manual pelatihan): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zj/ds/hi/zjdshidzytis9o614hr8ebunnsi.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/qb/vr/7g/qbvr7grb1zx-e375rrkrndjtf0y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketentuan: permintaan harus mengembalikan informasi bahwa ini adalah sakelar. Dengan “lucky coincidence”, kita memiliki semua sakelar yang disebut sakelar (sakelar1, sakelar2, sakelar3), sehingga nilai yang diterima akan terlihat seperti (suka) sakelar: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jo/-q/ww/jo-qwwjs6zrndbxbnzinyj2gxog.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua ini ada di manual pelatihan. Tetap menunjukkan apa yang harus dilakukan dengannya - "Operasi": </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z_/q2/bo/z_q2boros4ugh7rmz9gkmg9uico.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama-tama, Anda perlu menambahkannya ke beberapa grup. Saya akan menggunakan grup host Ditemukan yang siap pakai:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/t-/na/jf/t-najf0u9b3jw2js5xuu0mb0gfg.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/gk/lj/7h/gklj7honujvnwncitifax5zcrfy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut ini, yang paling penting, kita harus menjelaskan apa yang harus dipantau pada peralatan ini. </font><font style="vertical-align: inherit;">Dalam hal ini, kami akan menggunakan template yang sudah jadi yang cocok untuk sejumlah besar berbagai perangkat SNMP: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ze/lw/1n/zelw1nlbpyv9fnu82tieuv7klh0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/7v/a4/fe/7va4fejt0_p6_m83ru9xsdnr80o.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/km/ca/om/kmcaomawjtebabjjgaofcz1irls.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/2v/ma/et/2vmaet5v9zmyfx-gtmgbzpcyypw.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/bd/_7/4_/bd_74_jpcajgez4osptj4gswxqy.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/j8/x6/jw/j8x6jwcwob9zgdcu4qexixn2kk8.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/6h/do/_o/6hdo_oq76rh6esxpq-yc2hep0s8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika semuanya dilakukan dengan benar, maka setelah beberapa waktu 3 switch akan secara ajaib muncul di Zabbix kami. </font><font style="vertical-align: inherit;">Kami menunggu. </font><font style="vertical-align: inherit;">Mereka akan muncul di bagian Host. </font><font style="vertical-align: inherit;">Ada koneksi (diperiksa untuk jaga-jaga): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mp/d9/o9/mpd9o9nieg8be0a1nkw_nwjenkq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muncul: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9o/eb/zc/9oebzchr5zpdmq9wux7pjfiih28.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kami memiliki 100 switch, 100 switch akan muncul. </font><font style="vertical-align: inherit;">Sekarang kita dapat berbicara tentang topik utama - konstruksi otomatis dari topologi jaringan.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Buat peta jaringan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di "Zabbix" di bagian "Pemantauan" - subbagian "Peta jaringan". Anda dapat membuat peta Anda sendiri dengan nama sembarang (Saya akan menyebutnya, seperti dalam manual - Switches map): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dj/fo/pi/djfopijhurrskrzaa1vdz2xqb7w.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/91/u6/2n/91u62nyrphdsb1u2ypo1rsnjrx8.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/n3/6d/m_/n36dm_svkvrglkplk7fl345msr8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat menambahkan perangkat ke peta ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ty/t1/df/tyt1df6wfkeq4j2amt9evassz88.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memiliki operasi yang agak membosankan untuk menambahkan seluruh seratus sakelar kami di sini: Saya menambahkan </font></font><br>
<br>
<img src="https://habrastorage.org/webt/w9/g7/ih/w9g7ihwj13mcrzevcdh4xbu1seo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
elemen baru dan memberi tahu sistem di mana ia berada. sebenarnya tuan rumah yang Anda pantau; host switch1:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/np/uw/7x/npuw7xcetykmgf0mzoo_wf84obe.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/iw/kf/7o/iwkf7on2ppl3_k6pbqtp7ddwgxo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Orang sering bertanya apakah proses ini dapat dilakukan secara otomatis. Jawab: “Itu mungkin!”. Tapi kemudian kita perlu memecahkan masalah yang menarik: "Bagaimana kita memahami di mana harus meletakkan switch mana?" Itu adalah geometri. Solusi potensial: Anda dapat menentukan tanda geolokasi di sakelar (parameter seperti "Anda berdiri di lantai 6, gedung AZLK, auditorium ke-666), menggambar gedung laboratorium pendidikan, semua audiensnya ... Secara umum, ini adalah siswa yang baik untuk siswa ke-4 Kursus komputer. Kami tidak punya rencana untuk ini!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sekarang akan menambahkan semua 3 switch secara manual, tetapi saya berjanji bahwa saya tidak akan menarik garis komunikasi di antara mereka. Anda menambahkan sakelar 101, kami secara otomatis menambahkannya ke Zabbix - jika Anda menggambarnya di peta dengan pena. Saat yang tidak menyenangkan, tetapi ada tempat yang harus dikunjungi. Tidak ada solusi sederhana untuk masalah ini, selama 45 menit pasti. Dan apa yang kita dapatkan akan tampak menarik bagi saya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya dengan cepat menambahkan 3 switch: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ht/q4/5m/htq45ms1qrynn5vv6rbfltivtag.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya mengatakan bahwa saya tidak akan menambahkan baris? Saya akan, tetapi hanya supaya nanti kita bisa mengerti cara menggambar mereka. Saya akan menghubungkan kedua switch ini (kami tidak </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hu/yy/3v/huyy3v7rbnxbz-vcvvcfscrc3nu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
menghubungkan </font><font style="vertical-align: inherit;">1st ke 3): </font><font style="vertical-align: inherit;">Saya akan menghubungkan mereka (switch1 dan switch3 disorot): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/xx/4w/ygxx4wbqysq3gqcuqbdb8h7vdlo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem kami harus memperbaiki masalah ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1o/p1/da/1op1danyvogme8oxdl5mjy_c_sg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penting untuk tidak lupa menyimpan hasilnya:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/wb/gg/wk/wbggwkhsx0s5v1n-2rximlephs0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/fu/vp/ld/fuvpldfvuoweq4md4vtd9tzpmgi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ngomong-ngomong, tentang GNS - Anda dapat melakukannya dengan indah ... Sembunyikan nama inangnya, buat sakelar dan letakkan di bawah satu sama lain, buat awan sakelar:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ne/uz/f7/neuzf7ylh_eb46psuqp7sq0nsp8.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/fa/uh/iy/fauhiyblbluxal-l8g7mbu5gws4.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/3l/cl/0o/3lcl0ofm4pg0qh8weeshyayu1pg.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/oh/is/fv/ohisfv9b9hvxjtax_u2l73ysmfw.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ua/1c/px/ua1cpxoki5x5akr4imn0wakcvxi.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana kita membangun topologi? </font><font style="vertical-align: inherit;">Konfigurasikan pembuatan otomatis dan pemutakhiran jalur komunikasi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agar topologi dibangun secara otomatis, kita perlu menerima informasi tentangnya secara otomatis. Di universitas, kami menggunakan peralatan Cisco, jadi kami jatuh cinta dengan protokol yang disebut protokol penemuan Cisco - ketikkan saja tunjukkan tetangga cdp pada perangkat apa pun dan itu akan memberi tahu Anda bahwa switch1 terhubung ke antarmuka ke-5: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/u8/yg/vu/u8ygvuncowttw3o0nn6tjjzhep8.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/lj/vo/rh/ljvorhmvhikkk-3r8ykhwgc2zoi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alternatif ke cdp adalah lldp (kami memiliki segmen switch dari perusahaan "menakutkan" Nortel - ada lldp). Anda lihat, ada dua switch: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-h/qq/vf/-hqqvfloaxvhgsplf-dz87zfr1y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
server Zabbix harus entah bagaimana mengeluarkan informasi ini (saya melihatnya di Cisco sendiri). Ada banyak cara. Salah satu yang tercepat, tetapi paling bodoh adalah dengan menggunakan protokol RSH. Protokol yang sangat padat, dan saya tahu hanya karena usia saya:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/44/xz/y-/44xzy-rmyoe9q-yl1c-pxipc61c.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ed/hq/o5/edhqo5l9mzpdzkgydqpi9hvrm4c.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Orang RSH normal tidak tahu, tetapi Anda dapat dengan cepat menggunakannya untuk melakukan sesuatu dari jarak jauh dengan Cisco. </font><font style="vertical-align: inherit;">Atau, jika kita berbicara tentang semacam jaringan manajemen di mana tidak ada orang asing, maka Anda dapat menggunakannya dalam produksi. </font><font style="vertical-align: inherit;">Namun, titik keamanan masih merupakan lapisan yang lengkap! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, saya mengkonfigurasi dukungan untuk mengakses protokol RSH ke server Cisco saya dari alamat IP ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_r/fi/tt/_rfittxipjyhnofewteuvyojncu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang saya dapat menginstal klien RSH di server ... </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-i/ji/ns/-ijinsihdodtgzniujj7ps7iv-q.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/k4/zm/yj/k4zmyjbq64rg_kuh5vzd7eovoyu.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... dan menunjukkan betapa mudahnya sekarang untuk mengikuti instruksi yang baru saja kita ikuti dengan menghubungkan langsung ke peralatan Cisco dari stasiun manajemen - pada switch1 saya akan mengikuti instruksi ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/87/nr/vn/87nrvnudd8y_alfjxwsbusezjdw.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/k7/kh/fz/k7khfzefhkhfbfip2whrfe7yick.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oleh karena itu, akan muncul di switch2:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_k/tk/3x/_ktk3xdve_dtksfm1aj50nanqfa.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Koneksi dari server pemantauan</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih lanjut. Manajer menulis kepada saya: “Vyacheslav, permintaan telah datang dari pendengar. Dia ingin pergi jauh ke Bash, Csh, Sed dan Awk. " Ini adalah utilitas Unix padat yang orang tahu di tahun yang kumuh. Saat ini akan ada sedikit Unix yang padat. Kami akan menginstal paket ini (kami perlu memformat output sehingga terstruktur lebih baik): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zm/db/fg/zmdbfgngl98kq1y3gyimzhhl5u8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan seluruh tim akan terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vx/wg/5b/vxwg5buzmtotxsyuz45_tkjmuj8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan memberi tahu bagaimana kode kembali di Dos berbeda dari Unix. Selanjutnya, saya akan memfilter hanya garis-garis yang berisi sakelar, menghapus spasi tambahan dan memotong bidang yang diperlukan melalui spasi:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/97/gz/dc/97gzdcixffxvpmffvo8nyjfo2t8.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ck/oh/-o/ckoh-o4tmxqmak6u8yitnf3rv9a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita lihat hasilnya, dan Anda akan melihat perbedaannya dari yang sebelumnya. Sedikit lebih "ajaib" Unix. Memproses transformasi informasi menjadi terstruktur (misalnya, switch2). Alih-alih informasi yang tidak terstruktur ini (banyak spasi, beberapa tombol aneh): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lh/ph/pu/lhphpuqqnrpivefwhm3r-26culq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Output muncul: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/my/j6/wr/myj6wrr8s8yjn1xt5xduyuww43k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switch2 terhubung ke switch3 melalui antarmuka Fas 0/6 (dari switch2) dan Fas 0/5 (dari switch3). Tabelnya ternyata: semacam saklar yang digunakan untuk menghubungkan antarmuka itu. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sementara pada protokol ini RSH dan CDP pergi. Sekarang kami, setelah menerima informasi ini, menggambar tautan ini di semua sakelar. Untuk melakukan ini, kami memerlukan informasi yang terhubung ke switch. Anda bisa mendapatkan file teks, tempat mendaftar semua switch ... Tapi itu bukan olahraga!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami hanya perlu menambahkan sakelar secara fisik, dan itu harus secara otomatis dideteksi oleh Zabbix. </font><font style="vertical-align: inherit;">Kami sudah memiliki basis data sakelar di Zabbix. </font><font style="vertical-align: inherit;">Bagaimana aplikasi dapat memperoleh informasi tentang sakelar dari Zabbix?</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API Zabbix</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zabbix API ditulis menggunakan protokol JSON "luar biasa". Saya menyelesaikan pemrograman pada hari-hari ketika JSON belum, oleh karena itu bagi saya, seperti untuk administrator ... Saat ini, tidak ada sampah seperti itu! Ini file teks untuk saya - ini normal, tapi JSON ... ( </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
hanya bercanda </font><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">JSON sangat JSON! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JSON adalah format yang digunakan untuk bertukar data dengan server web, dan utilitas cURL adalah salah satu utilitas praktis yang memungkinkan Anda mengirim permintaan apa pun ke server web: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xk/xy/fh/xkxyfhqtn9p-kllijsbwfda5pus.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/po/g0/qt/pog0qtpuciskhncsbhfespkg1n0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak </font><font style="vertical-align: inherit;">akan </font><font style="vertical-align: inherit;">menjelaskan secara terperinci apa permintaan POST, permintaan GET, dan Saya akan mengatakan secara singkat. Di Zabbix, yang berfungsi di sini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/xb/5x/bb/xb5xbbtwehskdqcmeygzyqczwfs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi ini masuk: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ti/jf/gu/tijfguw4winkqmkpfbjusomxmbw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang siap menerima permintaan seperti itu di kurung kurawal "menakutkan" (ini adalah JSON):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ez/an/cs/ezancsh3w2vyw6byftum-vjaoye.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permintaan ini menunjukkan apa yang ingin saya lakukan dengan Zabbix, parameternya ditunjukkan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/46/h8/e-/46h8e-jkhyzj4dljmuo-rd3i1g8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A Zabbix memberikan jawaban. </font><font style="vertical-align: inherit;">Berikut adalah contoh yang mengatakan: "Zabbix," tolong beri saya string otentikasi sehingga saya dapat mengirimi Anda permintaan lebih lanjut. " </font><font style="vertical-align: inherit;">Saya mengkonfirmasi kredensial saya dengan login dan kata sandi: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ti/8b/5n/ti8b5n7de63oqwt3emjs8wzf45u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Permintaan JSON sekarang akan mengembalikan respons JSON kepada kami: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/or/zw/af/orzwaf9ssguutgd98_tf0qk-yyy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan dalam respons JSON ini akan ada baris seperti </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dm/fw/qa/dmfwqa_ulb9csqhjwlaw8vuphd8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ini </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Ini adalah autentikator yang dapat digunakan untuk permintaan yang tersisa.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bekerja dengan objek host</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami ingat mengapa kami mulai mempelajari JSON: kami ingin mendapatkan switch database dari Zabbix. Yang beralih untuk menginterogasi? Ayo kita keluar! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengenal: Zabbix-API mencakup, antara lain, host.get: Metode </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6h/9s/i9/6h9si95adtk44qyqujquhvjbkru.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
host - ini adalah host kami. Dapatkan adalah memberi. Lalu saya tunjukkan: beri saya informasi host! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_h/qh/jv/_hqhjvdgxtsbtlypqmjkrdbdndo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam parameter saya katakan: output semua yang Anda ketahui tentang host: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g2/jp/as/g2jpasm8v_0jb59cmy2kcjgdcty.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi saya harus menemani permintaan saya dengan baris ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qy/os/jj/qyosjjbate8nm6rcazxw_rz-bwe.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita tunjukkan. Untuk memudahkan saya, saya akan </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fo/xl/lr/foxllrj0twd3dauxqpkdgt3key8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
menyalin </font><font style="vertical-align: inherit;">permintaan ini: </font><font style="vertical-align: inherit;">Dan saya akan memasukkan autentikator yang dikembalikan Zabbix kepada saya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cq/ve/mu/cqvemull9ck4ohbobg57x99mbuw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, Zabbix Api: kami melihat cara meminta Zabbix untuk autentikator untuk akses. Dan kemudian saya menunjukkan cara menggunakan autentikator ini untuk mendapatkan semacam jawaban:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/df/c1/pn/dfc1pnn8ohqpvdto28ls6glrskg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya pikir semuanya jelas. Anda bahkan dapat melihat apakah Anda mengambil kaca pembesar. Apakah Anda mengenali switch1? Di suatu tempat ada switch2 ... </font></font><br>
<br>
<img src="https://habrastorage.org/webt/70/2h/ev/702hevhmrlcdiegys1ae9dh6ndc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mata saya pecah untuk waktu yang lama, dan kemudian memutuskan untuk membaca cara bekerja dengan JSON ini di baris perintah. Dan salah satu rekomendasinya adalah: gunakan JSON Query. Dia sangat sehat, menerangkan jawabannya, lihat: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9a/ei/jz/9aeijz-slee1ekq2iu1tq86cqle.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/ha/jz/26/hajz26f3jvrfymevvidztnzizl8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, semuanya menjadi berwarna - sudah bagus; kedua, switch2, switch1 terlihat jelas di sini:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qv/84/tp/qv84tptvurpqfkfqtmdbkfvh_wa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selanjutnya, sedikit bermain-main dengan JSON Query, kita akan melihat banyak hal menarik. </font><font style="vertical-align: inherit;">Dan agar tidak menyalin "buaya" ini dari notebook setiap saat, saya mengusulkan untuk menentukan program apa yang akan kami gunakan dengan "Zabbix" kami. </font><font style="vertical-align: inherit;">Ada Zabbix API - ini JSON, ada banyak bahasa pemrograman. </font><font style="vertical-align: inherit;">JSON tampaknya merujuk ke skrip Java, tetapi pada kenyataannya, bahasa lain paling sering digunakan untuk bekerja dengan Zabbix - misalnya, Perl, skrip Perl yang melakukan sesuatu.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Membuat permintaan dalam bentuk skrip Bash</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perl bukan bahasa yang modis saat ini, usang. Jika saya memulai hidup dari awal lagi, saya mungkin akan mulai belajar Pyton. Dan sudah pasti diketahui bahwa di bawah "Python" ada perpustakaan yang nyaman untuk bekerja dengan "Zabbix". Tapi, karena kami telah berkumpul di sini dan tidak akan memberikan preferensi ke bahasa apa pun, saya menggunakan bahasa ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sk/fv/xp/skfvxpn5j9scrpc3evf7eyrvnj0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bahasa administrator sistem, yaitu, saya - Bash! Oleh karena itu, saya akan membuat permintaan ini ke Zabbix: </font><font style="vertical-align: inherit;">
Saya akan </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zh/3i/mb/zh3imb6ja0rkpyvy7bl-gpospwc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mengeluarkannya dalam bentuk skrip: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/i0/fk/rg/i0fkrgjljz1l8gdq20zzqirqmno.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skrip sudah siap, saya akan menyalinnya. Mereka terlihat seperti neraka. Saya pikir kode Python yang baik akan jauh lebih mudah dibaca. Tetapi, karena saya sendiri tidak tahu "Python" dan tidak ingin memberikan preferensi, saya akan menulis apa yang dekat dengan jantung administrator sistem:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/01/qj/z2/01qjz2tstbcljo7hlnjbiq-ri7m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya tidak akan memberi tahu Anda apa itu garis miring terbalik (dan Tuhan memberkati mereka). Tetapi string otentikasi akan dibingkai dalam bentuk variabel yang perlu kita ekspor sebelumnya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ni/uc/xf/niucxfqzrmv1ouy4jrin3lrs7mg.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/tt/wa/37/ttwa37gjveh9lxyfbqgnkoxhg-0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nilai apa yang dimilikinya bagi kita? Dan sekarang, alih-alih menyalin garis panjang, saya cukup menjalankan skrip: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gg/b0/xb/ggb0xbiuppm37ndovdlqev-81_u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Script mengembalikan jahitan lengkap. Menggunakan Query JSON, Anda bisa mendapatkan ini indah: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lq/0r/ai/lq0raiqvp0e8ant2sj7ww2ruxkg.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/wh/k7/qg/whk7qgnjyn8amh0goeai98e05ne.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ingat tugas: dapatkan database switch yang ada di Zabbix! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan segera menggambar hasilnya. Saya tidak akan memberi tahu untuk waktu yang lama dan tentang apa yang ada di sini dan bagaimana. Kami memiliki tugas yang menakutkan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uo/ku/f9/uokuf9cd68jhy4n_3tke1cc9bge.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini hasilnya, lihat apa isinya. Dikatakan di sini bahwa kita memiliki sakelar seperti itu di Zabbix, dan ini (10105, 10106, 10107) adalah pengenal sakelar “Zabbiksk” internal:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/l0/ub/hxl0ubkxevyy-ngfijnfw3k3vsa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hasilnya adalah file datar. </font><font style="vertical-align: inherit;">Saat Anda menambahkan setiap sakelar baru, Anda harus menjalankan skrip ini untuk membuat file. </font><font style="vertical-align: inherit;">Agar kami tidak memiliki "buaya" seperti itu, saya akan memasukkan baris ini dalam skrip itu sendiri: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/l1/em/jh/l1emjhywmibe_ehavajfptgx4r0.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/kq/el/r6/kqelr6wblri6snfkbwk0jfvuhtc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan itu akan mengembalikan tampilan tabel yang rapi bersama kami. </font><font style="vertical-align: inherit;">Sekarang saya akan tunjukkan. </font><font style="vertical-align: inherit;">Saya menjalankan skrip, ia menampilkan dan segera menyimpan file ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-h/u0/dz/-hu0dz2hoymtx7eepiys0v4grhi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilitas tee adalah utilitas yang baik yang menulis hasilnya ke file dan membagikan hasilnya. </font><font style="vertical-align: inherit;">Kami sekarang memiliki 3 switch dan kami memiliki file teks di mana semua switch terdaftar: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ur/bu/fz/urbufz8s11mczfb2uld8b_oxo8k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda dapat meminta setiap switch ini melalui RSH dan mencari tahu siapa yang terhubung dengan apa. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, kami mendapat saklar basis data. </font><font style="vertical-align: inherit;">Tujuan utama kami adalah peta!</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mendapatkan daftar peta dan elemen-elemennya dari Zabbix</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana cara menggunakan kartu? Mari kita belajar cara membaca informasi tentang kartu dari Zabbix. Saya akan menyalin skrip ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6t/9_/mb/6t9_mbgxpoyrttupz3cf-zsrmeg.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/pz/g0/gw/pzg0gw6tel-pjkfgzxcqrsy0lf4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Siapa pun yang menyukainya, Anda dapat mengambil semua skrip ini. Saya mencoba menyederhanakan mereka sebanyak mungkin - itu tidak bekerja lebih mudah. Jika Anda menemukan cara menyederhanakannya, tulis, saya akan memperbaikinya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/oj/ex/kt/ojexktdpilhdilffqxopetdrgws.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skrip ini ↑ beralih ke Zabbix dengan peta. Dapatkan permintaan dan katakan: "Ceritakan tentang tautan dan ceritakan tentang elemen-elemen yang terhubung dengan tautan ini satu sama lain." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang saya menjalankan skrip ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zf/96/us/zf96uszqpiityn1vqaezvxj2odc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan saya menunjukkan hasilnya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fd/nn/ep/fdnnepoivtufayskrat49ak6nu4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sama seperti informasi tentang host, sangat mudah untuk mendapatkan informasi tentang kartu dari Zabbix. Setiap kartu memiliki namanya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5n/wl/jt/5nwljtoelbudy0igqcrclgo6_v0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berikut ini adalah elemen dalam kartu ini. Apakah Anda mengenali nomornya? Ini adalah elemen internal Zabbix:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/my/yk/cz/myykczkfzf6iev4s2s_vz-co5nk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal yang paling tidak menyenangkan adalah bahwa dalam Zabbix elemen-elemennya diberi nomor lagi. </font><font style="vertical-align: inherit;">Di sebelah kiri adalah elemen id, di sebelah kanan adalah penomoran elemen di dalam peta: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wz/ek/xi/wzekxi5xnw70eazz4fswo75s9-a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yaitu, di Zabbix setiap host memiliki nomor, dan di peta ada nomor lain - rantai ini diperoleh. </font><font style="vertical-align: inherit;">Yaitu, sakelar switch1 disebut 10105 di Zabbix, dan 2 pada peta (sedikit kerumitan tugas diperoleh).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami menyatukan semuanya melalui CDP dan RSH, mencari tahu koneksi sakelar dengan antarmuka</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagian terakhir dari skrip ini adalah saya harus mendapatkan informasi pengidentifikasi Zabbix yang terkait dengan pengidentifikasi mana di peta. Lihat, di "Zabbix" pengidentifikasi ini (10105, 10106, dll.), Dan pada peta - 2, 3, dll. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/td/e2/kq/tde2kqrnxxq8mw2xvrmckzu-cr8.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Secara tradisional, saya akan menyimpan ini ke file teks: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/o6/ts/wi/o6tswi34dpttupdmkapyier25ki.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita memiliki hampir segalanya. Ada informasi switch mana yang ada dalam file ini (pengidentifikasi mana yang digunakan di dalam Zabbix): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yr/uh/jn/yruhjnqamivzhfuufaefldqm-ya.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan kami memiliki informasi pengenal mana pada kartu yang terkait dengan pengidentifikasi Zabbix (misalnya, switch1 memiliki nomor 10105 di Zabbix, dan nomor kartu 10105 memiliki pengenal 2):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yr/uh/jn/yruhjnqamivzhfuufaefldqm-ya.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/2e/ug/7s/2eug7srj1krpadc4iasvh1mtdye.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu bukan salahku! Orang-orang menulis ini di Zabbix. Tapi saya yakin ada alasan mengapa mereka tidak menggunakan pengidentifikasi langsung di peta. Mungkin karena objek yang sama dapat ditampilkan di peta beberapa kali, dan itu harus memiliki pengidentifikasi unik. Karena itu, rantai lebih panjang. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan di sini, saya mungkin akan berkomentar tentang neraka kecil ini. Mainkan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g8/rs/tq/g8rstq6pvpa0xqgrofdazuk_txm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam loop, saya membaca baris yang menggambarkan saklar mana dengan pengenal Zabbix </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ii/nh/eq/iinhequuyybluby-ybxdu7lkghw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/er/8h/xa/er8hxamulabcynmqppzokznfl-0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya </font><font style="vertical-align: inherit;">terhubung ke setiap switch dari Zabbix melalui RSH: </font><font style="vertical-align: inherit;">Saya membaca host mana yang terhubung. Saya mengarahkan hasil ini ke siklus lain: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ol/hr/pl/olhrpl7refin5zcmakahdqgec4a.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang, pada gilirannya, membaca pengidentifikasi dan mencari tahu siapa yang terhubung dengan siapa: Saya akan </font></font><br>
<br>
<img src="https://habrastorage.org/webt/98/wz/ww/98wzwwnjkx3qp65cl3iqlzfxlza.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
menunjukkan hasil skrip ini (chmod + x):</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oi/qb/qy/oiqbqymkxfur8kd-i7xqglyxqd0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada peta, saklar kedua terhubung ke yang ketiga (ingat bahwa pengidentifikasi pada peta) melalui antarmuka yang sesuai (Fas 0/5 - untuk yang kedua, Fas 0/6 - untuk yang ketiga ↑). </font><font style="vertical-align: inherit;">Kita harus menggambar nama-nama ini di tautan, buat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika sampai saat ini kita hanya membaca informasi dari Zabbix (host, kartu dibacakan, dll.), Sekarang kita harus menulis informasi ke Zabbix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita simpan hasilnya:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gs/uh/wt/gsuhwt_0qiojiuheizaq3gt3wcg.jpeg"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menggambar garis komunikasi di Zabbix</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memutuskan untuk menulis skrip sederhana yang akan mengubah sesuatu di Zabbix. Jujur, saya mempelajari API dengan cara ini - penting bagi saya bahwa sesuatu yang sederhana bekerja: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/ke/s0/ygkes0eksoonvbajier32-c0dw4.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/gz/5g/_a/gz5g_anpr_docgcrlaxfm0jn-mw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skrip pertama tidak akan terkait dengan tugas - itu akan mengubah nama peta (untuk melihat bagaimana hal itu dilakukan). Jika kita ingin mengubah sesuatu di Zabbix, maka kita juga harus mendaftar melalui permintaan POST dan menjelaskannya di JSON, tetapi menggunakan metode map.update. Di antara parameter, kita harus secara eksplisit menunjukkan: MAPID, yang akan menemukan peta yang diinginkan, dan MAPNAME, yang akan mengubah nama peta: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kk/ms/3p/kkms3p-ixoafs4ifvpccikv1nd0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah set parameter minimum. Parameter ini sendiri: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/im/fw/yv/imfwyviqvbgelp9gjmoeelpedic.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lewati variabel argumen skrip. Saya membuat skrip dapat dieksekusi (chmod + x): Saya menjalankannya </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/xj/uz/hxxjuzo5h4galmyprunx1ftd7so.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
, seperti yang tertulis dalam manual pelatihan. Jika semuanya benar, kartu harus disebut Super MAP:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/er/va/qd/ervaqdxvi_h0twak7rxcz9zjh8u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pemantauan - Peta - voila: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/68/vf/yq/68vfyqjmwq8mlq6pacsj_c7mbnc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mudah diubah - Super MAP2: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yf/xi/zx/yfxizx_w2ycib6jifb9cw_2qh5u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semuanya berfungsi: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vx/eh/7o/vxeh7o3axqtxzzggktfy1g1hqqw.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tapi tugas kami rumit - untuk mengubah jalur komunikasi! </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ve/j2/pb/vej2pbmp87qsuylhj6vx7sw5doo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita perlu membuat JSON, yang akan menggambarkan peta kita dan semua jalur komunikasi. Untuk melakukan ini, saya membuat skrip lain: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vc/aj/fd/vcajfdntlvggtwxr0qffvjyb-de.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/o6/o_/p5/o6o_p5msbpvhw27e-jo0xjfi6lg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fakta bahwa saya memiliki banyak skrip tidak berarti bahwa ini harus dilakukan di perusahaan. Di perusahaan, Anda perlu mengambil bahasa normal yang Anda tahu ("Python", "Pearl" atau yang lainnya), dan programkan apa yang ada di sini menggunakan bahasa normal. Batu bata ini, yang masing-masing sederhana, memungkinkan untuk memahami apa, mengapa, dan bagaimana melakukannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skrip lain yang berfungsi lebih untuk memahami apa yang perlu dilakukan, dan bukan untuk menyalin (saya tidak akan menjual produk jadi kepada Anda di sini): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v7/l8/uw/v7l8uwgwtmqbfuacxtnuqg89ery.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/cw/yn/ud/cwynudseywryxw-gkcajcp9vdua.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Skrip ini membaca file ini:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/iu/gj/bt/iugjbtn5qbfhwnjw3ednxvxnqea.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang menyatakan elemen mana di peta dengan elemen mana di peta melalui mana antarmuka itu terhubung. Lebih tepatnya, kita akan mengambil elemen di peta, elemen di peta dan label. Ini adalah elemen pada peta: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fd/yf/ae/fdyfaeounbojncqky7ionmzjaa0.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan tanda tangan ini seharusnya: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/9z/ge/lp/9zgelpwjnjlu_bvsxbvwmkqgkzc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya membaca file ini. Saya memilah-milah semua elemen di peta: Saya </font></font><br>
<br>
<img src="https://habrastorage.org/webt/la/th/ls/lathlszamnf7drlctykzoe7rmlc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
memprogram tautan - deskripsi tautan dalam bentuk JASON. Permintaan akhir terlihat seperti ini: perbarui peta (nomor kartu ↓): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sr/bp/ga/srbpgaaeocsxrerwasxiw4eww-o.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tautan akan dijelaskan dalam variabel ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_s/jv/sb/_sjvsbsea4dfxn8xdhxu6wvq61s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yang dibentuk dalam siklus ini (semua elemen dan tanda tangan kartu disebutkan): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tm/tr/le/tmtrleu4iz3hj-tpihsmg60ai6m.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekali lagi, kami memiliki tugas yang menakutkan, dan menggambarkannya secara rinci di Shell ... Tentunya banyak dari Anda yang tidak memprogram Shell. Anda hanya perlu melihat teks dan program ini pada apa pun yang nyaman bagi Anda.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya memiliki harapan bahwa sekarang semuanya harus terjadi. Meluncurkan skrip: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/z6/ku/aj/z6kuajchdcyhzdsafzrgdwxrhbg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Muat ulang halaman Maps: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/j_/36/6p/j_366pbhfsxwdf6r6-ptm-ajfqc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Baiklah, bagaimana? Setidaknya itu berhasil! Mari tambahkan sakelar lain dan jalankan kembali skrip. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengambil sakelar, menyebutnya sakelar4: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ki/w6/2w/kiw62wjjoudkeqlbyqpwi8w_rum.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menganggap sakelar itu: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4c/1f/jv/4c1fjvsupwx_ujkfykki_nlytbk.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/4k/qe/qu/4kqequ32eiap57vjw0ntpguworm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mengkonfigurasi </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">Kami </font><font style="vertical-align: inherit;">menyambungkannya </font></font><br>
<br>
<img src="https://habrastorage.org/webt/3y/vg/51/3yvg51etfkdm13nua1ricw7hkge.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sesuai keinginan (dengan tanda bintang, Anda dapat menggambar sosis): </font><font style="vertical-align: inherit;">Kami </font><font style="vertical-align: inherit;">mengonfigurasi </font></font><br>
<br>
<img src="https://habrastorage.org/webt/_e/-z/3e/_e-z3ebtugz-banoljrocvnnhkc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
sakelar. Saya luncurkan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fo/cm/vm/focmvm2m5meqrgmfpbrstofgpsg.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segala sesuatu yang sebelumnya kami lakukan (hanya mengubah ke switch4 dan alamatnya adalah 104): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qr/jh/hu/qrjhhudyhklwds0vqvel8bl7oxq.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klik dua kali pada saklar (rekatkan apa yang Anda salin): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0b/ng/ga/0bnggamteyi65nog6igvrnzbw3s.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekali lagi, akan lebih cepat untuk memulai kembali saklar ketiga (switch3), menyimpan konfigurasi:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dv/k2/mr/dvk2mrpw11vgl6jraypfd1t7vva.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sementara itu, ini reboot, periksa untuk melihat apakah itu tersedia di switch baru kami melalui SNMP. Ketika Zabbik menemukannya, hal pertama yang ditanyakan adalah nama host SNMP. Karenanya, kami menambahkan desain ini ke sakelar baru kami: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/fb/yo/t2/fbyot2e9x1ugheuhu-du6jrf5gg.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/wx/ft/by/wxftbyv_y5abyoswch-ctg9cp3y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kami menunggu sakelar tersedia. 101, 102 tersedia, reboot ke-103: yang </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/kq/q-/udkqq-alaw8aoldd5re6a0wgoow.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ke-103 </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ft/fr/ox/ftfroxxsep7orgxpyqhghouetsy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
menjawab </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">ke </font><font style="vertical-align: inherit;">- </font><font style="vertical-align: inherit;">104 merespons. Periksa apakah SNMP tersedia melalui SNMP4: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mx/ts/rd/mxtsrdsg1tvvdd6y_cjuigbnhxi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tersedia! Kami memiliki setiap kesempatan untuk melihatnya di daftar host. Mari tunggu sebentar (setiap menit kami memindai jaringan): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kb/3c/ff/kb3cffka032ra7i5is9ayhewjya.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah muncul, kami kembali ke skrip pertama. Dia menurunkan informasi dari kami yang beralih secara umum adalah:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/np/ea/zo/npeazo2te4hbnfd2ncdm0vsr32y.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pria kabel Anda berlari, mereka memasang saklar baru, Anda mengangkat tautan dan itu muncul secara otomatis di Zabbix. </font><font style="vertical-align: inherit;">Dengan demikian, di sini kita akan melihat bahwa switch keempat telah muncul: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v2/q-/kt/v2q-ktdybfjkhgn_sz0vee3toum.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Database kami secara otomatis terisi.</font></font><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kami memperbaiki materi (tambahkan switch4), jalankan script terakhir</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemudian, sayangnya, Anda harus melarikan diri dan menampilkan switch kami di peta: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ux/4a/5k/ux4a5kwj5gpfzmxbxnsqvncarpc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tidak hanya kabel Anda yang berjalan, Anda tidak hanya mengkonfigurasi tautan - Anda masih harus pergi ke sini dan berkata: "Kami menambahkan switch baru." </font></font><br>
<br>
<img src="https://habrastorage.org/webt/g-/iz/nf/g-iznfb3qf_fillb6w40lmetgxa.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temukan di mana seharusnya dan tunjukkan bahwa kita memiliki host, switch4, dan juga menggambar apa saklar ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/y3/bp/pm/y3bppmrcdmfoaerjlafxilst_gk.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan perbarui (kita belum menggambar jalur komunikasi!): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/gs/fa/fk/gsfafkqzwjjpiwihul-lfc1nzfm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang kita ingat bahwa skrip jalur komunikasi kita dibangun berdasarkan protokol CDP. Dan untuk mendapatkan informasi CDP dari sakelar, Anda perlu mengonfigurasi akses RSH ke sakelar itu. Ingat, saya memutuskan untuk menggunakan metode ini?</font></font><br>
<br>
<img src="https://habrastorage.org/webt/84/q5/df/84q5dfhi0d4spzqawa1uumbn9gm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/wq/kl/xn/wqklxnrebbym3uce1hrsg-izdmy.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika semuanya baik-baik saja, maka saya dapat mencoba, maka saya dapat mencoba RSH - meminta informasi tentang koneksi dari switch ke-4. Di sini dia berkata: "Saya terhubung ke yang ketiga, di pihak saya - yang ke 10, di sisi lain - antarmuka ke 8." </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cy/_a/ug/cy_augy2yrbswanujdpjpdkcwqc.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mereka menambahkannya ke kartu, dan kami memiliki tabel korespondensi antara pengidentifikasi di Zabbix dan pengidentifikasi dalam kartu (lihat, ini yang ke-5 di peta): mereka </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-i/t8/vs/-it8vsr54h_fnue2-srk6zxcwzs.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/je/j5/at/jej5atlnmnnazwy6aga4k8n5sfi.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
mengangkat RSH. Sekarang kita dapat membangun koneksi: switch mana yang terhubung melalui tautan mana (kita punya file teks): </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ab/hl/zm/abhlzmj1mez4py4iecfw4e0mgs8.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/g7/st/qm/g7stqmpv_mu4qsylijjuxwwibac.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita coba jalankan skrip final, yang akan membaca file teks ini dan menghasilkan permintaan JASON untuk memperbarui peta, menggambar ulang semua tautan pada peta: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ct/aq/iy/ctaqiy_1gdpvipgk4t3pzzc86os.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/dq/ld/ue/dqldueagtxz_ap1rbmxphccytba.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/c3/6v/fp/c36vfphix1om8_etfenkvo9oeco.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nah, bagaimana? Impresif? Saya tidak mengelola dalam 45 menit yang direncanakan, tetapi masih cepat (sekitar 75 menit) - mungkin, itu tidak akan bekerja lebih cepat.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua! </font><font style="vertical-align: inherit;">Saya teman yang sangat bahagia - itu berhasil. </font><font style="vertical-align: inherit;">Manual pelatihan ada di sini: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://wiki.val.bmstu.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Jika Anda tidak menemukannya, kirim surat ke: val@bmstu.ru, val@specialist.ru - Saya akan mengirimkannya dengan senang hati. </font><font style="vertical-align: inherit;">Webinar akan muncul di specialist.ru - Saya akan memeriksa ini dengan pasti. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dan yang paling penting, teman-teman saya, bahwa semua ini tidak sia-sia, tetapi dengan tujuan licik membujuk Anda atau kolega Anda untuk mengikuti kursus 2 hari kami, yang memahami sejumlah besar tugas yang berkaitan dengan Zabbix: deteksi dan penyetelan tingkat rendah ... Tidak di atas, seperti sekarang, tetapi secara rinci, dengan yang laboratorium - Anda akan melakukannya: sampai Anda melakukannya, saya tidak akan membiarkan Anda keluar. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya akan senang melihat Anda, kolega Anda! </font><font style="vertical-align: inherit;">Menulis surat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sampai jumpa lagi!</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/ZrNScBG9TnU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sedikit iklan :)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terima kasih untuk tetap bersama kami. Apakah Anda suka artikel kami? Ingin melihat materi yang lebih menarik? Dukung kami dengan melakukan pemesanan atau merekomendasikan kepada teman Anda, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cloud VPS untuk pengembang mulai $ 4,99</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">analog unik dari server entry-level yang diciptakan oleh kami untuk Anda: </font></font></b> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seluruh kebenaran tentang VPS (KVM) E5-2697 v3 (6 Cores) 10GB DDR4 480GB SSD 1Gbps mulai dari $ 19 atau cara membagi server?</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (opsi tersedia dengan RAID1 dan RAID10, hingga 24 core dan hingga 40GB DDR4). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R730xd 2 kali lebih murah di pusat data Equinix Tier IV di Amsterdam?</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Hanya kami yang memiliki </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2 x Intel TetraDeca-Core Xeon 2x E5-2697v3 2.6GHz 14C 64GB DDR4 4x960GB SSD 1Gbps 100 TV dari $ 199</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di Belanda!</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dell R420 - 2x E5-2430 2.2Ghz 6C 128GB DDR3 2x960GB SSD 1Gbps 100TB - mulai dari $ 99! </font></font></b></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Baca tentang</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cara Membangun Infrastruktur Bldg. </font><font style="vertical-align: inherit;">kelas c menggunakan server Dell R730xd E5-2650 v4 seharga 9.000 euro untuk satu sen?</font></font></a></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id486800/index.html">Cassandra. Bagaimana tidak mati jika Anda hanya tahu Oracle</a></li>
<li><a href="../id486802/index.html">Orang-orang bertemu dengan sistem pemberi rekomendasi. Faktorisasi</a></li>
<li><a href="../id486804/index.html">Informatika Kesehatan Global: Teknologi Cloud</a></li>
<li><a href="../id486808/index.html">Tes kehamilan elektronik dari apotek: cara kerjanya</a></li>
<li><a href="../id486810/index.html">Frontend Odnoklassniki baru: meluncurkan React in Java. Bagian II</a></li>
<li><a href="../id486818/index.html">Porting Quake ke iPod Classic</a></li>
<li><a href="../id486820/index.html">70 Pertanyaan Wawancara Javascript</a></li>
<li><a href="../id486822/index.html">[Di dermaga] Berkibar. Bagian 4. Untuk pengembang web</a></li>
<li><a href="../id486824/index.html">Saran buruk ketika bekerja dengan ANTLR</a></li>
<li><a href="../id486826/index.html">Membuat Viberbot lengkap di Django 2 dan API Viber REST. Bagian Satu - Webhook</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>