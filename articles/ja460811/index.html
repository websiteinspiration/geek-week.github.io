<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👨🏼‍✈️ 👦🏼 🤔 異なるチームによる共通のコンポーネント。Yandexレポート ☑️ ⚜️ 👨‍🚒</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="共通コンポーネントの作成と保守は、多くのチームが関与する必要があるプロセスです。Yandex General ComponentsサービスマネージャーVladimir Grinenkoタダトゥタ彼らの開発がどのように専用のレゴチームを凌駕したか、Lernaを使用してGitHubに基づいてモノリポジト...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>異なるチームによる共通のコンポーネント。Yandexレポート</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/460811/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">共通コンポーネントの作成と保守は、多くのチームが関与する必要があるプロセスです。</font><font style="vertical-align: inherit;">Yandex General ComponentsサービスマネージャーVladimir Grinenko</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タダトゥタ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">彼らの開発がどのように専用のレゴチームを凌駕したか、Lernaを使用してGitHubに基づいてモノリポジトリを作成し、CIでサービスを使用してカナリーリリースをセットアップした方法、これに必要なことと実行することを説明しました。</font><font style="vertical-align: inherit;">
「みなさんをお迎えできてうれしいです。」私の名前はウラジミールです。Yandexインターフェースで一般的なことをしています。それらについてお話したいと思います。おそらく、私たちのサービスをあまり深く使用していなければ、質問があります。タイプセットには何がありますか？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><img src="https://habrastorage.org/webt/zv/o-/0b/zvo-0b7pajia8d3pnm4rbpm72hw.jpeg"></a><br>
<br><font style="vertical-align: inherit;"></font><br>
<br>
<a name="habracut"></a><img src="https://habrastorage.org/webt/o3/ip/sx/o3ipsxj2wxuhbnfeq23rfk0ucuc.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/wq/kx/y0/wqkxy0_ta9qyzi3vnbryhxqpwy4.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
検索結果には回答のリストが表示されますが、右側に列が表示される場合があります。あなた方一人一人がおそらく一日に対処するでしょう。別のブラウザがあることなどを覚えている場合は、バグを修正するためにもう1日追加します。その後、誰もがそれに対処します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gc/f5/i8/gcf5i8mqymopdqairky09odo00k.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
誰かがまだそのようなインターフェースがあることを思い出すでしょう。あなたが別の週にそれを与えることができるすべての小さなことを考慮に入れて、それのために行くことができます。そしてディマは私たちに私たち自身の学校を必要とするほど多くの人がいると私たちに話しました。そして、これらすべての人々は常にページを作成しています。毎日彼らが仕事に来て植字していると想像してみませんか？明らかに何か他のものがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/iv/3d/et/iv3detsvcvujieb_-ho8nqmvvuu.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、Yandexのサービスは確かにもっと多くあります。そして、このスライドにはもう少しだけがあります。そのような各リンクの背後には、非常に多様性のあるさまざまなインターフェースの束があります。これらは、さまざまなデバイスのさまざまな言語向けです。彼らは時々車や他の様々な奇妙なものでも動作します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0w/mz/98/0wmz98pcjwflkkhflu4i_vwgtjo.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日のYandexは、ウェブだけでなく、倉庫や配送などのさまざまな商品だけではありません。車黄色に乗る。そして、あなたが食べることができるものだけでなく、鉄片だけではありません。そして、あらゆる種類の自動知能だけではありません。しかし、上記のすべては、各アイテムにインターフェースが必要であるという事実によって統合されます。多くの場合-非常に豊富です。 Yandexは何百もの異なる巨大なサービスです。私たちは常に新しいものを毎日生み出しています。私たちは何百人ものフロントエンド開発者やインターフェース開発者を含む何千人もの従業員を擁しています。これらの人々は異なるオフィスで働いており、異なるタイムゾーンに住んでおり、新しい人が常に仕事に来ています。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、十分な強度がある限り、ユーザーにとって単調で均一なものにするよう努めます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/dz/vn/uz/dzvnuzxrodwkt2oi0tbemkn4lne.gif"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これはインターネット上のドキュメントの検索です。しかし、写真の発行に切り替えると、ヘッダーは一致しますが、これは別のリポジトリーであり、完全に別のチーム（おそらく他のテクノロジーでも）に従事しているという事実にもかかわらずです。複雑なようですが？まあ、彼らは帽子を2回作りました、それは簡単な問題のようです。キャップの各ボタンにも、独自の豊かな内面があります。ここにはいくつかのポップアップが表示されますが、そこに何かをプッシュすることもできます。これはすべて異なる言語に翻訳され、異なるプラットフォームで動作します。ここでは、たとえば写真からビデオに移ります。これもまた、新しいサービスである別のチームです。再び別のリポジトリ。しかし、違いはありますが、同じ帽子です。そして、これはすべて均一にしておく必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スライドでこのように切り替えて、ピクセルのどこにも何も移動していないことを確認する価値は何ですか？これが起こらないようにします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_u/9b/2r/_u9b2ralx_p1qvev6q_k1jsr7ys.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もう少し縮尺を示すために、新しいブラウザのフロントエンドコードのみを保存するリポジトリのスクリーンショットを撮りました-写真とビデオなしのドキュメントからの出力のみ。数万のコミットと約400の貢献者があります。これはレイアウトのみで、プロジェクトは1つだけです。これは、見慣れた青いリンクのリストです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私のリーダーであるSergey Berezhnoyは、このストーリーを非常に気に入っています。社内にたくさん集まっているので、JavaScriptのように私たちのインタラクションが連携して動作するようにしたいのです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qq/kn/-q/qqkn-qr0bqavfyeum_ocif9gycs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、私たちは相互作用からできる限りのものを得ようとしています。このような状況で最初に頭に浮かぶのは、再利用です。ここでは、たとえば、ビデオの検索結果にあるサービスのビデオスニペット。これは、署名と他のいくつかの異なる要素を含むある種の画像です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/j5/rj/pr/j5rjprkjwcplnephmm-dxciv1l4.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらに詳しく見ると、通常の書類の発行はこちらです。しかし、ここでもまったく同じスニペットがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/cr/3k/t4/cr3kt4p_iys_uplw7yi7ltsntn4.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または、別のYandex.Anterサービスがあり、完全に類似したスニペットで構成されているわけではありません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qt/91/ii/qt91iipkwlqktjjqpnwhmfxapzs.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または、ポータルの別のページにある通知機能のビデオスニペットとしましょう。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/az/w9/2i/azw92ih1mulgzijr1gdgbenx8k0.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
または、ビデオスニペットをお気に入りに追加して、それをコレクションで見ると、</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ub/ge/yd/ubgeydeso0lwyy4t67ejiz7uh6w.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
あるように見える？明らかに、そうです。だから何？サービスが完成したコンポーネントを他のポータルサービスに簡単に統合できるようにすると、ユーザーがさまざまなサイトのデータを操作できるため、このサービスはより多くのユーザーを獲得します。それは素晴らしい。ユーザーもこの恩恵を受けます。彼らは同じことを等しく見ます。彼らはいつものように行動します。つまり、デザイナーがここで何を考えていたか、またそれとどのように対話するかを何度も推測する必要はありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、会社はこれから明らかな節約を得るでしょう。さらに、それだけのようです-ビデオのサムネイルとある種の署名を構成するためにあるもの/実際、そのようにするためには、多くの異なる実験を行い、異なる仮説をテストし、サイズ、色、インデントを選択する必要があります。それらが飛行しなかったので、おそらく後で削除するためにいくつかの要素を追加します。そして、何が起こったのか、実際に機能したのは、非常に長いプロセスの結果です。そして、それをすべての新しい場所で毎回行う場合、これは多大な労力です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
想像してみてください。うまくいくものがあるとしましょう。どこでも、どこでも実装してから、新しい実験を行い、改善できる点を認識しました。また、この実装チェーン全体を繰り返す必要があります。高価な。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ex/8c/1_/ex8c1_tlclflyej-krijb8m20fk.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
わかりました、よく再利用することは明らかです。しかし今、私たちは多くの新しい問題を解決する必要があります。そのような新しいコードを格納する場所を理解する必要があります。一方で、それは論理的なようです。ここにビデオスニペットがあります。ビデオチームが作成し、プロジェクトのリポジトリがあります。おそらくそこに置く必要があります。しかし、それを他のすべての人の他のリポジトリにどのように配布するのですか？そして、他の人がこのスニペットに独自のものを持ち込みたい場合はどうなりますか？再び明確ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なんとかバージョンアップする必要があります。何も変えることができないので、出来上がりですが、誰もが突然ロールアウトします。何かをテストする必要があります。さらに、たとえば、ビデオ自体のサービスでこれをテストしました。しかし、別のサービスに統合されたときに何かが壊れた場合はどうなりますか？再び明確ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結局のところ、以前のバージョンと新しいバージョンのどこかにあると奇妙になるため、さまざまなサービスへの十分な速度での配信をどういうわけか保証する必要があります。ユーザーが同じものをクリックしているようで、動作が異なります。また、さまざまなチームの開発者がこのような一般的なコードに変更を加える機会を何らかの形で提供する必要があります。どういうわけか、すべての使い方を教える必要があります。インターフェースの再利用を便利にする長い道のりがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gu/a8/en/gua8ensfq4qkfjd9hwgrf3dpeko.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちは古くからSVNに戻って始めましたが、それはランプのようで便利でした。Bootstrapと同じように、HTMLを使用したパパです。自分にコピーします。スタイルのあるパパの隣にあるJSは、何かを単純に表示/非表示にする方法を知っていました。そして、それだけです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tg/xu/sx/tgxusxowszje9vwtdvxf4yy4_os.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
どういうわけかコンポーネントのリストはこのように見えました。承認を担当したb-domegがここで強調表示されています。おそらくあなたはまだ覚えているかもしれませんが、Yandexでは、屋根とログインとパスワードのフォームが本当にありました。私たちは「家」と呼びましたが、通常は郵便物を入れるため、郵便封筒をほのめかしていました。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、共通のインターフェースをサポートできるようにするための方法論全体を考案しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tu/7h/08/tu7h08reemfp5mrp8rib5a3ib9q.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
社内の図書館自体が、検索と分類法を備えた独自のWebサイトを取得しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fv/pa/jn/fvpajnegfm13z-q1fzb1edglvn0.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リポジトリは次のようになります。また、ほぼ1万のコミットと100以上のコントリビューターがいます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h2/9r/ur/h29ruri7jkqnzacvu9dedijcjgu.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、これは新しい生まれ変わりのまさにb-houseのフォルダーです。今彼女はこのように見えます。画面の半分よりも多くのフォルダが自分のフォルダ内にすでにあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lu/u9/62/luu962u_j91qtinyg3gn-1-efwg.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そのため、サイトは今日のように見えます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/xj/ko/g-/xjkog-2xy19nuayhuliti4urgoy.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、共有ライブラリはYandex内の360以上のリポジトリで使用されます。そして、さまざまな実装、デバッグされたリリースサイクルなどがあります。ここでは、共通のライブラリを取得し、どこでも使用できるようになりました。すべてが素晴らしいです。一般的なものをどこにでも導入するという問題は解決しました。あんまり。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/e5/0_/rje50_8ba6axvribhiogqzzxer8.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すでに既製のコードを持っている段階で再利用の問題を解決しようとするのは遅すぎます。これは、デザイナーがサービスのレイアウトを描き、サービス、特に共通コンポーネントを扱うチームに配布した瞬間から、しばらく時間が経過したことを意味します。最も可能性が高いのは、このときまでに、それぞれの個別のサービス、または少なくともいくつかのサービスで、この同じインターフェース要素も構成されていることです。彼らはどういうわけか独自の方法で作りました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、共有ライブラリに共通のソリューションが表示されたとしても、各サービスで完了したすべてのものを再実装する必要があることがわかります。そして、これもまた問題です。正当化することは非常に困難です。こちらがチームです。彼女には自分の目標があり、すべてがすでにうまく機能しています。そして私たちはこれらを言います-見て、最後に私たちは共通の小さなことを持っています、それを取ってください。しかし、チームはこのようなものです-私たちはすでに十分な仕事をしています。なぜそれが必要なのですか？さらに、突然何かが私たちに合わないのですか？欲しくない。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2番目の大きな問題は、実際には、これらのクールな新しいコンポーネントが何であるかについての情報の普及です。非常に多くの開発者がいるからといって、彼らは日々の仕事で忙しいです。そして、彼らは座って、実際にそれが何を意味するかに関係なく、共通の領域でそこで起こっていることを研究する機会を持っています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最大の問題は、単一の専用チームですべてのサービスに共通する問題を解決することが基本的に不可能であることです。つまり、ビデオを扱うチームがいて、ビデオで独自のスニペットを作成する場合、それらに同意し、このスニペットを何らかの集中ライブラリで実行することは明らかです。しかし、さまざまなサービスにそのような例が数千あります。そして、ここでは確かに手だけでは不十分です。したがって、唯一の解決策は、誰もが常に一般的なコンポーネントを扱う必要があるということです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/y7/ay/9p/y7ay9pqgaxomogw-xz4x7hdlgb4.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして奇妙なことに、インターフェース開発者ではなく、デザイナーから始める必要があります。彼らもそれを理解しています。このプロセスが収束するように、内部でいくつかの同時試行があります。デザイナーは設計システムを作ります。遅かれ早かれ、すべてのニーズを考慮した単一の共通システムにそれらを削減することが可能になることを本当に望んでいます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/be/vd/yd/bevdyd-kpziztd5yxc6qp98xgqy.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
現在、それらのいくつかがあります。驚くべきことに、タスクはまったく同じです。開発プロセスをスピードアップし、一貫性の問題を解決し、ホイールを再発明せず、行われた作業を複製しません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/0z/xd/ci/0zxdcimwdz-s1d8oaiu3dinhxce.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、情報のやり取りの問題を解決する1つの方法は、開発者が他のチーム（一般的なインターフェースコンポーネントを扱うチームを含む）に精通できるようにすることです。私たちはブートキャンプを持っているという事実によってこれを解決します。これは、開発者がYandexに登場したときに、最初に彼が8週間さまざまなチームに行き、それがどのように機能するかを確認し、それが機能する場所を選択することを可能にします。 。しかし、この間、彼の視野は大幅に拡大します。彼はそれがどこにあるかを案内されます。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
よくあることについて話しました。すべてが開発プロセスにどのように見えるかを見てみましょう。レゴと呼ばれる共通ライブラリがあるとしましょう。そして、それに新しい機能を実装したり、何らかの修正を加えたりしたいと考えています。コードを修正してバージョンをリリースしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このバージョンをnpmで公開し、ライブラリが使用されているプロジェクトのリポジトリに移動して、このバージョンを実装する必要があります。ほとんどの場合、これによりpackage.jsonのいくつかの番号が修正され、アセンブリが再起動されます。おそらく、パッケージロックを再生成し、プルリクエストを作成し、テストがどのようにパスするかを確認します。そして、私たちは何を見ますか？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ri/ft/dz/riftdzizz3nhvcxu4ivi1gtnzxy.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ほとんどの場合、バグが発生したことがわかります。さまざまなサービスでコンポーネントを使用するすべての方法を予測することは非常に難しいためです。そして、それが起こった場合、私たちの方法は何ですか？だから私たちはそれが合わないことに気づきました。やり直しを続けます。共有ライブラリを使用してリポジトリに戻り、バグを修正し、新しいバージョンをリリースし、npmに送信して、デプロイし、テストを実行します。ほとんどの場合、バグが再び発生します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、これを1つのサービスに実装するとなお良いです。すぐにすべてが壊れてしまいました。私たちがこれをすべて行い、10の異なるサービスに実装したとき、それは非常に悲しかったです。そこには何も壊れていません。私たちはすでにスムージーやその他必要なものを淹れるために行ってきました。現在、このバージョンは11回目、25回目で紹介されています。そしてバグがあります。チェーン全体に戻り、パッチを作成して、それを以前のすべての20サービスに実装します。さらに、このパッチは以前のパッチのいずれかで爆発する可能性があります。まあなど。楽しい。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
唯一の解決策は、多くのコードを非常に迅速に作成する必要があるということです。その後、遅かれ早かれ、非常に、非常に高速で実行された場合、おそらくバグのないバージョンを本番環境に展開することができます。しかし、その後、新しい機能が表示され、何も私たちを救うことはありません。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
はい。実際には、スキームは次のようなものかもしれません。自動化は私たちを助けます。実際、これは、一般的には、全体の話です。私たちは、共通のライブラリーを持つリポジトリーを、単一リポジトリー・スキームに従って構築できるという考えを思いつきました。あなたはおそらく遭遇しましたが、今ではそのようなプロジェクト、特にインフラストラクチャーのプロジェクトがたくさんあります。内部に多くの異なるnpmパッケージがある場合、あらゆる種類のBabelおよび類似のものが、単一リポジトリのように機能します。それらはどういうわけか互いに接続されている可能性があります。また、それらはLernaなどを介して管理されるため、依存関係を考慮して、これらすべてを公開すると便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このスキームに正確に従って、一般的なものがすべて保存されているプロジェクトを会社全体で編成することができます。別のチームであるライブラリがあるかもしれません。そして、それを含めて、個々のサービスがそれぞれ開発するが、彼が他の人と共有したいパッケージがあるかもしれません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/qb/tx/ck/qbtxckwz4xeknxszl3zkfftpkjo.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、回路は次のようになります。初めは同じです。何らかの方法で、共通コードに変更を加える必要があります。そして、自動化の助けを借りて、このコードの隣だけでなく、この共通コードが埋め込まれているすべてのプロジェクトですぐにテストを実行したいと思います。そして、それらの集計結果を確認してください。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、そこでバグが発生した場合でも、どのバージョンもリリースできず、どのnpmでも公開されていません。手で具体的に実装していないため、これらの追加の作業はすべて行っていません。バグが見つかり、すぐにローカルで修正し、一般的なテストを再度実行しましたが、すべて本番環境で行われました。</font></font><br>
 <br>
<img src="https://habrastorage.org/webt/lo/8-/7d/lo8-7d5hg38lvxpsswq05l2vipm.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際にはどのように見えますか？これが修正されたプルリクエストです。ここで、自動化により、コードに問題がないことを確認するために必要なレビュアーが呼び出されたことがわかります。確かに、査読者は来て、すべてが大丈夫であることに同意しました。そして現時点では、開発者はプルリクエストの中に特別な/カナリアコマンドを書き込むだけです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ロボットが来て言う-さて、私は次の奇跡が起こるためのタスクを作成しました。奇跡は、これらの変更を含むカナリアバージョンがリリースされ、このコンポーネントが使用されるすべてのリポジトリに自動的に実装されたことです。このリポジトリと同様に、自動テストがそこで起動されました。ここでは、一連のチェックが起動されていることがわかります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各テストの背後には、何百もの異なるテストが存在する可能性があります。ただし、コンポーネントに個別に書き込むことができたローカルテストに加えて、コンポーネントが実装されている各プロジェクトのテストも開始することが重要です。統合テストはすでにそこで起動されています。このコンポーネントがサービスで想定されている環境でこのコンポーネントが正常に動作することを確認します。これはすでに私たちが何も忘れていないこと、誰にも何も壊していないことを本当に保証しています。ここですべてが問題なければ、バージョンを本当に安全にリリースできます。ここで何か問題がある場合は、ここで修正します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは私たちに役立つはずです。会社に似たようなものがある場合、再利用できる可能性のある部品があることがわかりますが、自動化がないため、今のところそれらを再配置する必要があります。同様の解決策を講じることをお勧めします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/lu/vp/jp/luvpjp0a5tof1v56lwn7uq_nwiq.jpeg"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何を手に入れましたか？リンターが再構築される一般的な単一リポジトリー。つまり、誰もが同じ方法でコードを記述し、あらゆる種類のテストを行います。どのチームも来て、コンポーネントを配置し、JSユニットテストでテストしたり、スクリーンショットでカバーしたりすることができます。すべてがすでに箱から出されています。私がすでに述べた賢いコードレビュー。豊富な内部ツールのおかげで、ここは本当に賢いです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発者は今休暇中ですか？彼をプルリクエストに呼び出しても意味がありません。システムはこれを考慮します。開発者は病気ですか？システムはこれも考慮に入れます。両方の条件が満たされておらず、開発者が自由であると思われる場合、選択したメッセンジャーの1つで通知を受け取ります。そして、彼は次のようです。いいえ、今、私は緊急の事柄や会議で忙しいです。彼はそこに来て/ busyコマンドを書くことができます。システムは、リストから次のものを割り当てる必要があることを自動的に理解します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のステップは、同じカナリアバージョンを公開することです。つまり、コードを変更するたびに、さまざまなサービスをチェックできるサービスパッケージをリリースする必要があります。次に、これらのすべてのサービスに展開したときにテストを実行する必要があります。そして、すべてが揃ったとき、リリースを開始します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変更がCDNからロードする必要のある静的に影響する場合は、個別に自動的に公開する必要があります。これはそのまま使用することもできます。リリースをリリースするとき、私たちはもちろん、何が起こっていて、何が変わっていたかを知る必要があります。しかし、これらすべてを自動化したいので、変更ログを自動的に生成してどこかに公開する必要があります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして最後に、すべての異なるサービスがコンポーネントを配布し、別の共通の場所に配置する場合は、すべてのコンポーネントのリストとすべてのドキュメントを含むショーケースを作成すると便利です。新しい開発者や設計者がすでに何があるかを理解したい場合、彼は落ち着いてこの単一のレジストリを利用します。</font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これは実際には幸福ですが、次のステップは実際に理解できます。</font><font style="vertical-align: inherit;">これは、一度にすべてのプロジェクトに共通の単一リポジトリです。</font><font style="vertical-align: inherit;">あなたはおそらく尋ねることができます：すぐにすべてをまとめることができるのに、なぜあなたはそんなに苦しみ、非常に複雑なインフラストラクチャを思いついたのですか？</font><font style="vertical-align: inherit;">答えは簡単です。</font><font style="vertical-align: inherit;">実際にすべてのプロジェクトをまとめると、現在利用可能なバージョン管理システムはどれもこれを処理できません。</font><font style="vertical-align: inherit;">したがって、適切なものを発明する必要があります。</font><font style="vertical-align: inherit;">これですべてです。ありがとうございます。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja460799/index.html">標準ブラウザAPI支払いリクエスト</a></li>
<li><a href="../ja460801/index.html">現代のJavaScript開発者向けの27の素晴らしいVS Codeツール</a></li>
<li><a href="../ja460803/index.html">夏の読書：技術者向けの本</a></li>
<li><a href="../ja460805/index.html">マイクロコントローラー間で100 Mbpsでデータを転送する方法</a></li>
<li><a href="../ja460807/index.html">7回測定し、一度BIツールを実装する</a></li>
<li><a href="../ja460813/index.html">ボロノイ図を使用してAIを制御する方法</a></li>
<li><a href="../ja460815/index.html">Vusbライブラリの発明</a></li>
<li><a href="../ja460819/index.html">WorldSkills：オリンピアードの参加者によるレビュー</a></li>
<li><a href="../ja460821/index.html">モバイル開発者向けの興味深い資料の要約＃307（7月15〜21日）</a></li>
<li><a href="../ja460823/index.html">7月22日から28日までのモスクワでのデジタルイベント</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>