<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🏳️‍🌈 👨🏿‍💻 👨🏽‍💻 DirectX 12-レオナルドダヴィンチから現代美術まで ⬛️ 👨🏾‍🌾 🎛️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="コンピュータグラフィックスは、広範かつ急速に発展している分野です。毎年、アプリケーションプログラミングインターフェイスはより柔軟になり、より複雑な画像形成および処理アルゴリズムを実装できます。ただし、インタラクティブグラフィックの可能性は、3Dモデリングおよび視覚化パッケージのレベルに達していません...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>DirectX 12-レオナルドダヴィンチから現代美術まで</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/489282/"><p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンピュータグラフィックスは、広範かつ急速に発展している分野です。</font><font style="vertical-align: inherit;">毎年、アプリケーションプログラミングインターフェイスはより柔軟になり、より複雑な画像形成および処理アルゴリズムを実装できます。</font><font style="vertical-align: inherit;">ただし、インタラクティブグラフィックの可能性は、3Dモデリングおよび視覚化パッケージのレベルに達していません。</font><font style="vertical-align: inherit;">これらはすべて、この分野での活発な研究を奨励しています。</font></font></p><br>
<p><img src="https://habrastorage.org/webt/g5/dr/qv/g5drqvvxul_zgurprdoz4jwkz_g.jpeg" alt="画像"></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectX 12は、高性能グラフィックプログラミングインターフェイスのコンポーネントです。</font><font style="vertical-align: inherit;">新しいインターフェイスの主な目的は、ドライバーのCPUオーバーヘッドを減らし、ハードウェアアブストラクションのレベルを下げ、グラフィックスカードをAPIレベルで組み合わせる機能です（以前はベンダー固有のCrossFireX、NVIDIA SLIソリューションしかありませんでした）。</font><font style="vertical-align: inherit;">2015年7月にMicrosoftによって正式にリリースされました。</font></font></p><a name="habracut"></a><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">この記事は、すでにグラフィックライブラリ（OpenGL、DirectX 11）を使用したことがある人を対象としています。</font><font style="vertical-align: inherit;">ただし、バージョン12でグラフィックの勉強を始める予定のある人にとっては、それも役立つかもしれません。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">その中で、以下のトピックについて検討します。</font></font></p><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフィックパイプラインの簡単な説明</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectX 12の新機能</font></font><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">州</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チーム</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同期</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リソースアタッチメント</font></font></li>
</ol></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">環境</font></font></h2><br>
<p>DirectX 12   Windows SDK  Windows 10.   IDE  Visual Studio,   C++.    DirectX,    d3d12.h dxgi1_6.h   d3d12.lib, dxguid.lib, dxgi.lib, d3dcompiler.lib.       Windows SDK.    "D3D12 Helper Library"      d3dx12.h,     boilerplate .       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">d3dx12.h</a>    .</p><br>
<h2>   </h2><br>
<p>      ,     — -    .    ,  — .        ,       .       .       , ,       . ,   —  ,        .</p><br>
<p>,             . </p><br>
<h3> </h3><br>
<p>      ,  , ,  ,         , ,  .   —     .         ,     .      ,     ,      ,     ,      .            .     —          (clip space).</p><br>
<h3>   </h3><br>
<p>    —  ,      .       .     ,   .       ,   .          .        (    ).          API. ,  ,  .</p><br>
<h3>  </h3><br>
<p>  ,    ,      ,        ,      .               .</p><br>
<h3> </h3><br>
<p>      ,     (scissor test),   (stencil test)    (depth test).     ,        .  -    ,    .     ,         ,       .      ,           .</p><br>
<p>       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"> DirectX 11</a> (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">DiretcX 12</a>      )</p><br>
<h2>  DirectX 12</h2><br>
<p>          DirectX 12. </p><br>
<h3></h3><br>
<p> 11         : RSSetState(), OMSetDepthStencilState(), OMSetBlendState(). ,       .         ,               .            ,      — PSO (Pipeline State Object).        :      " ",     .  ,    ,             Root Signature (  ).</p><br>
<h3></h3><br>
<p>         immideate context.            .  ,   DirectX 11    deferred context.  DirectX 12 immideate context    deferred   .     deferred command list,        .</p><br>
<p> ,         :    command list,    , CPU      . </p><br>
<p>     ,      .   ,   GPU,    . ,     Release()      —   ,          .</p><br>
<h3></h3><br>
<p>    GPU, DirectX 12   <em>fence</em>,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">ID3D12Fence</a> . <em>Fence</em> —   ,     GPU   .     «» ,  ID3D12CommandQueue::Signal()   .    ID3D12Fence::SetEventOnCompletion(UINT64 Value, HANDLE hEvent)      winapi event.     WaitForSingleObject()   event-        ,   .      GPU ,   fence ,  WaitForSingleObject()     .</p><br>
<h3> </h3><br>
<p>    —       DirectX.</p><br>
<h4></h4><br>
<p> DirectX 11    :        API. ,     (    )  5  6      : </p><br>
<pre><code class="plaintext hljs">ID3D11ShaderResourceView* srvs[] = { <font></font>
    texture1-&gt;GetShaderResourceView();<font></font>
    texture2-&gt;GetShaderResourceView();<font></font>
};<font></font>
context-&gt;PSSetShaderResources(5, 2, srvs);</code></pre><br>
<p> GetShaderResourceView()      ID3D11ShaderResourceView.<br>
     :</p><br>
<pre><code class="plaintext hljs">Texture2D texture1 : register(t5);<font></font>
Texture2D texture2 : register(t6);</code></pre><br>
<p>      ,       . ,        .       ?      GCN ISA,   :</p><br>
<blockquote>All vector memory operations use an image resource constant (T#) that is a 128- or 256-bit value in SGPRs. This constant is sent to the texture cache when the instruction is executed. This constant defines the address, data format, and characteristics of the surface in memory.</blockquote><p> ,      ,      (128  256-),       .      ,  ,           . ,       ,  «» .    :  (T#),  (S#)   (V#).  Direct3D 12  , ,      —   GPU.</p><br>
<h4></h4><br>
<p>          ,     <em></em>. <strong></strong> —   ,      (GPU  , , ,  , ).  <em></em>   <strong> </strong> —    <em></em>  . <em> </em>       :</p><br>
<ul>
<li>Constant buffer views (CBVs)</li>
<li>Unordered access views (UAVs)</li>
<li>Shader resource views (SRVs)</li>
<li>Samplers</li>
</ul><br>
<p>CBVs, UAVs, SRVs     <em> </em>,    —  .     ,      .</p><br>
<p>     <em>shader visible </em>. ,  <em>non shader visible </em>:</p><br>
<ul>
<li>Render Target Views (RTVs)</li>
<li>Depth Stencil Views (DSVs)</li>
<li>Stream Output Views (SOVs)</li>
</ul><br>
<p> views         (     ),        <em>non shader visible  </em> (   D3D12_DESCRIPTOR_HEAP_FLAGS::D3D12_DESCRIPTOR_HEAP_FLAG_SHADER_VISIBLE   ).</p><br>
<p>    view's,    (, , <em> </em>)  :</p><br>
<ul>
<li>Index Buffer View (IBV)</li>
<li>Vertex Buffer View (VBV)</li>
</ul><br>
<p>  D3D12_INDEX_BUFFER_VIEW  D3D12_VERTEX_BUFFER_VIEW .                  <em>Pipeline State Object</em>.    <em>PSO</em>   . </p><br>
<p> ,       ID3D11...View,   <em></em>  <em> </em>. </p><br>
<h4>Root signature</h4><br>
<p><strong>Root signature</strong> —  DirectX 12 API          . ,   ,         . <em>Root signature</em>      ,     () ,       . </p><br>
<p><em>Root signature</em>    ,   <strong>root parameter</strong>.   <em>root parameter</em>      <strong>root arguments</strong>.  <em>root argument</em>,     . <em>Root parameter</em>   :</p><br>
<ul>
<li>Root constants (1 DWORD == 32bit value)</li>
<li>Inline descriptors (  64-bit GPU virtual addresses,  2 DWORDs )</li>
<li>  (1 DWORD)</li>
</ul><br>
<p>  <em>root signature</em> — 64 DWORDs.          ,    . </p><br>
<p><strong>Root constant</strong>    <em>root signature</em> 32- ,      constant buffer.       (, MVP ),        (  4 ).           ,         .   :   "  ".</p><br>
<p>      <em>root signature</em>      <em> </em> —    <strong>inline descriptors</strong>.    —  per object.  ,        <em> </em>.    .    (   ),               GPU.    , ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">ID3D12GraphicsCommandList::SetGraphicsRootConstantBufferView</a>,     <em>root parameter</em>  <em>inline descriptor</em>    .</p><br>
<p>   ,      . <strong> </strong>   <em>descriptor range</em>. <em>Descriptor range</em> —      .     <em> </em>   :</p><br>
<pre><code class="plaintext hljs">typedef enum D3D12_DESCRIPTOR_RANGE_TYPE<font></font>
    {<font></font>
        D3D12_DESCRIPTOR_RANGE_TYPE_SRV = 0,<font></font>
        D3D12_DESCRIPTOR_RANGE_TYPE_UAV = ( D3D12_DESCRIPTOR_RANGE_TYPE_SRV + 1 ) ,<font></font>
        D3D12_DESCRIPTOR_RANGE_TYPE_CBV = ( D3D12_DESCRIPTOR_RANGE_TYPE_UAV + 1 ) ,<font></font>
        D3D12_DESCRIPTOR_RANGE_TYPE_SAMPLER = ( D3D12_DESCRIPTOR_RANGE_TYPE_CBV + 1 ) <font></font>
    }   D3D12_DESCRIPTOR_RANGE_TYPE;<font></font>
<font></font>
typedef struct D3D12_DESCRIPTOR_RANGE<font></font>
    {<font></font>
    D3D12_DESCRIPTOR_RANGE_TYPE RangeType;<font></font>
    UINT NumDescriptors;<font></font>
    UINT BaseShaderRegister;<font></font>
//...<font></font>
    }   D3D12_DESCRIPTOR_RANGE;</code></pre><br>
<p>,  RangeType —   <em></em>, NumDescriptors — , BaseShaderRegister —    .            .   <em></em>   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow">ID3D12GraphicsCommandList::SetGraphicsRootDescriptorTable</a>,     <em>root parameter</em>  <em> </em>   <em></em>.  <em></em>,    <em> </em>,  .   ,          <em>descriptor heap</em>.</p><br>
<h2></h2><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DirectX 12のいくつかの機能を調査しました。このトピックやコンピューターグラフィックスのその他の領域に興味がある場合は、コメントで登録解除してください。</font></font></p><br>
<p><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リンク：</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">https</font></a><font style="vertical-align: inherit;"> : </font></font><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">//docs.microsoft.com/en-us/windows/win32/direct3d12/directx-12-programming-guide </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://developer.nvidia.com/dx12-dos-and-donts </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https：// gpuopen.com/performance-root-signature-descriptor-sets/</font></font></a></p></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja489270/index.html">実際のWebAuthn</a></li>
<li><a href="../ja489272/index.html">目、脳、ビデオ品質：120fps、8K、HDR、ワンド、コーン、および「ソープオペラ効果」での反射</a></li>
<li><a href="../ja489274/index.html">テストでメッセージをアサートする</a></li>
<li><a href="../ja489276/index.html">鉄の血液検査-レベルを制御する方法、それが重要である理由を診断する方法</a></li>
<li><a href="../ja489280/index.html">チャネル上のすべてのIPv6ホストにpingを実行します</a></li>
<li><a href="../ja489284/index.html">私のお気に入りのChrome開発者ツール</a></li>
<li><a href="../ja489286/index.html">ブリーフ、靴下、シェービングブラシ：2月23日の贈り物の反評価</a></li>
<li><a href="../ja489290/index.html">「ITで働く-2020」、または誰が、何を愛しているか</a></li>
<li><a href="../ja489294/index.html">実用的な例でCSS変数を学ぶ</a></li>
<li><a href="../ja489296/index.html">ステロイドの機能オプション</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>