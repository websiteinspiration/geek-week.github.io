<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üïµüèø üë©‚Äçüé® ‚ô®Ô∏è Overview of PVS-Studio version 7.07 features üèá üê∞ üòΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="The purpose of this article is an overview demonstration of the capabilities of the PVS-Studio static analyzer. The easiest and most visual way to do ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Overview of PVS-Studio version 7.07 features</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/pvs-studio/blog/502116/"><p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/-j/u6/t7/-ju6t74v9drm9ug1bimrtglb8j4.png" alt="Picture 30"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The purpose of this article is an overview demonstration of the capabilities of the PVS-Studio static analyzer. </font><font style="vertical-align: inherit;">The easiest and most visual way to do this is to show the operation of the tool with examples. </font><font style="vertical-align: inherit;">Verification of the project will be shown using the plug-in for Visual Studio, launching the analyzer in the Linux operating system, importing the analysis results into SonarQube.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">general information</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio is a static code analyzer written in C, C ++, C # and Java. </font><font style="vertical-align: inherit;">PVS-Studio performs a wide range of code checks, but is most powerful at finding typos and the consequences of a failed Copy-Paste (examples: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">one</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">two</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">three</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">four</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Static analysis is a good complement to one of the oldest and most reliable methods for detecting defects - code review. </font><font style="vertical-align: inherit;">Some errors are hard to find during a joint review of the code (for example, the same typos). </font><font style="vertical-align: inherit;">For instance:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">trans_rest</span><span class="hljs-params">(transcoder_settings *trans)</span>
</span>{<font></font>
  ....<font></font>
  <span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>; i&lt;<span class="hljs-number">16</span>; i++);<font></font>
  {<font></font>
    trans-&gt;eq.eq.preamp[i]   = <span class="hljs-number">0.0</span>;
    <span class="hljs-keyword">for</span>(j=<span class="hljs-number">0</span>; j&lt;<span class="hljs-number">32</span>; j++)<font></font>
    {<font></font>
      trans-&gt;eq.eq.boost[i][j] = <span class="hljs-number">0.0</span>;<font></font>
    }<font></font>
  }<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For those who have not noticed, pay attention to the semicolon after the first </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">for</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Or:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">private</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ObjectArrayComparer</span> :</span> IEqualityComparer&lt;object[]&gt;<font></font>
{<font></font>
  <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">bool</span> <span class="hljs-title">Equals</span><span class="hljs-params">(object[] x, object[] y)</span>
  </span>{<font></font>
    ....<font></font>
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; x.Length; i++)<font></font>
    {<font></font>
      <span class="hljs-keyword">if</span> (!object.Equals(x[<span class="hljs-number">0</span>], y[<span class="hljs-number">0</span>])) <font></font>
      {<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
      }<font></font>
    }<font></font>
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
  ....<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The same elements are always compared. </font><font style="vertical-align: inherit;">In order not to waste your time searching for such errors, it is just worth introducing a static analyzer. </font><font style="vertical-align: inherit;">You can download and try PVS-Studio at </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> link.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plugin for visual studio</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio has a plugin for Visual Studio 2010-2019. </font><font style="vertical-align: inherit;">Before we proceed directly to the verification, I will demonstrate the capabilities of the plugin. </font><font style="vertical-align: inherit;">Let's go over some points that may raise questions in the spirit of "what is it all about?"</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/o0/j_/d9/o0j_d9jl3n5ox14j8azkyzrqwk0.png" alt="Picture 13"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I‚Äôll draw attention to the Suppress Messages item, which opens a window for working with suppressed analyzer warnings and now I will explain what this item is. The fact is that PVS-Studio can suppress warnings, which makes it easy to start using the analyzer even in a large project. This allows you to quickly and easily incorporate a static analyzer into the development process. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If your project is small, then implementing the analyzer will be quite simple. However, if the project is ‚Äúwith history‚Äù, then you probably have doubts crept in: who will be involved in processing and filtering the results, how much time you need to devote to this, etc. I'll try to dispel them.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The ideal use of the analyzer in this case is as follows. You run it on your project and see a bunch of analyzer messages. Then, using the warning suppression mechanism, instruct PVS-Studio not to display these messages. Because Since your project has been developing for a long time, then in the analyzer report there will almost certainly be few warnings related to some critical defects. Further, during the development process, you and your colleagues see only those errors that relate to the changed or new code. Those warnings that have been suppressed are now your technical duty, which you can return to gradually. The warning suppression mechanism is described in more detail </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yi/mq/i-/yimqi-fmtqnsnxn08mp3f107qji.png" alt="Picture 14"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, go to the item ‚ÄúDisplay CWE Codes in Output Window‚Äù. </font><font style="vertical-align: inherit;">PVS-Studio is a tool for static application security testing (Static Application Security Testing, SAST). </font><font style="vertical-align: inherit;">PVS-Studio alerts can be classified according to the Common Weakness Enumeration (CWE). </font><font style="vertical-align: inherit;">To learn about the classification of PVS-Studio alerts according to CWE, why CWE is needed, what it is and so on, I suggest that you read the following links:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio warning classification according to Common Weakness Enumeration</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio: search for security defects</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Let's move on to the ‚ÄúOptions‚Äù tab.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/jl/yu/kr/jlyukrrjtsshofdenocotxoe6qy.png" alt="Picture 6"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the "Detectable Errors (C, C ++)" section, we can control the display of analyzer message types. Those diagnostic messages that for some reason are not relevant for this project can be hidden or disabled. For example, MISRA diagnostics are unlikely to interest anyone other than embedded developers. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Therefore, they are disabled by default</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . The user who first decided to use the analyzer, the number of MISRA warnings can scare off and enter into a stupor. And the part of users who purposefully launched the analyzer to check their project for compliance with MISRA standards can simply turn them on in the settings.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/h1/j3/ah/h1j3ahhvwhpo_9avr5ie7ky94r0.png" alt="Picture 10"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here you can enter paths / masks to exclude some files or folders from analysis. You can choose either a mask by the path (Path Mask) or a mask by the file name (FileName Mask). They are needed if you want to exclude third-party libraries, automatically generated files, etc. from the analysis. After setting exclusion masks, messages from the files corresponding to them will disappear from the PVS-Studio output window, and they will not be included in the next scan. Thus, the exclusion of files and directories through masks can significantly reduce the overall analysis time of the entire project. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
More details </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/xz/13/bd/xz13bd-8va60tdnlxem8mj5kio4.png" alt="Picture 8"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also filter the output of the analyzer according to the text contained in it. For example, in your analyzer report there are warnings that mention the </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my_super_function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> function in the text </font><font style="vertical-align: inherit;">, but you are sure that all these warnings are false. Then you can add the word </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">my_super_function</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in this field. All warnings that contained this word will be filtered out. Well, just in case, I‚Äôll leave a link here to the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">corresponding section of the documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note. In PVS-Studio there are other ways to mark false warnings in code or macros. They are described in the documentation in the </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suppressing False Alerts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> section </font><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
After we are done with an overview of the settings, let's move on to checking the project. As you may have noticed, the article had several settings related to C ++ projects, but there were no specifics for C # and Java. There are simply more settings for C ++ than for C #, so we decided to dwell on these brief reviews. But for a change of story, let's check with the help of the plug-in for Visual Studio not a C ++, but a C # project and see what the analyzer report looks like. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Naturally, after the first check of the project, you will have to return to the settings in order to reduce the percentage of false positives. False positives are inevitable, but their percentage can be reduced by setting to an acceptable value. See the article: " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Characteristics of the PVS-Studio analyzer using the EFL Core Libraries example, 10-15% of false positives</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ."</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/tq/gc/ia/tqgciacbhkpm_vrjmc3vuhhubyg.png" alt="Picture 1"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Select the item ‚ÄúAnalyze Solution with PVS-Studio‚Äù.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/3n/_y/rs/3n_yrslf8xcy7c1twtpv4p8oyxs.png" alt="Picture 2"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A window with a progress bar will appear.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ha/ul/zq/haulzq_ib2ediqprs8kahr2dg-a.png" alt="Picture 3"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
And then we can see the analyzer report.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/7t/vy/zt/7tvyztlwnu483ma1etti9gll_yo.png" alt="Picture 11"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By the way, here you can also filter out some warnings. </font><font style="vertical-align: inherit;">For example, you can hide the first warning in our report by selecting it and clicking on the ‚ÄúMark selected messages as False Alarms‚Äù item. </font><font style="vertical-align: inherit;">For more details, refer again to the section </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suppressing False Alerts</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Linux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Earlier we tested the C # project. </font><font style="vertical-align: inherit;">Now let's try to check the code written in C ++. </font><font style="vertical-align: inherit;">To add variety to the article, we will test it under Linux. </font><font style="vertical-align: inherit;">By the way, under Windows, Linux and macOS, you can check projects in any language (C, C ++, C #, Java).</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/gf/ha/fe/gfhafe821sffbigypkfi7ed6w1k.png" alt="Picture 20"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We clone a repository.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/8k/tb/el/8ktbelpauffoxdk0byhdokhoyzg.png" alt="Picture 18"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We launch a configuration script for assembly.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/yl/0k/dr/yl0kdrhtt7i7gbxlm9ir4mxcme8.png" alt="Picture 16"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We launch PVS-Studio in trace mode and assemble the project. </font><font style="vertical-align: inherit;">An installed </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strace</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utility is required </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Instead of the make command, in your case there can be any command to start building the project with all the necessary parameters.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/b9/h9/cl/b9h9clyzyjs_5xf9rmertev3oqi.png" alt="Picture 12"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We analyze the files from the project using the results of the previous step. </font><font style="vertical-align: inherit;">The </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-a</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> switch </font><font style="vertical-align: inherit;">allows you to specify which warnings should be included in the report.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/ki/9-/wv/ki9-wvdwpboeefu8pz_ow5rfx94.png" alt="Picture 4"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We convert the log to html and enjoy the results. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I described only one option for checking a project under Linux and very formally, without going into details. </font><font style="vertical-align: inherit;">There are other ways to check the project, for example, by writing the analyzer call in the makefile. </font><font style="vertical-align: inherit;">For a more detailed review, I recommend referring to the following links:</font></font><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Acquaintance with the PVS-Studio static analyzer when developing C ++ programs in Linux</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">How to run PVS-Studio on Linux and macOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sonarquube</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SonarQube is an open source platform for continuous analysis and measurement of code quality, supporting a large number of programming languages ‚Äã‚Äãand allowing you to receive reports on metrics such as code duplication, compliance with coding standards, test coverage, code complexity, potential errors, etc. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio has a plugin for importing analysis results into SonarQube, let's try to use it.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/sw/5c/g2/sw5cg2-pfkeblm1iltcbfnfrb-i.png" alt="Picture 9"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To get started, we get the analyzer report and the sonar-project.properties configuration file.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zr/dq/ci/zrdqcin_5doajnxc7ykj3sj44e8.png" alt="Picture 27"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Next, we need a scanner launch command.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/zg/e_/jk/zge_jk7ski6uxsmdjipbv3jrzmy.png" alt="Picture 28"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Result :)</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/6h/uy/0j/6huy0juejjxejcj0yuqdemkzco4.png" alt="Picture 23"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, the configuration file can be created (or edited). </font><font style="vertical-align: inherit;">For example, in the screenshot above, we enabled the addition of the MISRA identifier to analyzer warnings. </font><font style="vertical-align: inherit;">Yes, that is, by default, MISRA is disabled here. </font><font style="vertical-align: inherit;">If you need to check your code for MISRA compliance, then add ‚Äúactive‚Äù to your configuration file to include.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/fq/cp/ko/fqcpkovovgcng0w9hit8soscobi.png" alt="Picture 25"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the Measures tab, various code metrics and graphs are available.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/kc/ds/ls/kcdslsq2bxy2faxmjqg-_kswxcw.png" alt="Picture 26"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can also build graphs using the PVS-Studio section. </font><font style="vertical-align: inherit;">You can learn more about integrating PVS-Studio analysis results into SonarQube in </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">this</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> section of the manual.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio Java</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We now looked at the settings for C ++ projects, tested the project in C #, but Java somehow fell out of the article. It is necessary to fix this and tell what the PVS-Studio Java analyzer is all about. The analyzer has several different ways to integrate into a project. Depending on the build system, you can use the plugin for Maven or Gradle. You can also use the analyzer core directly. Using Gradle, Maven or kernel plugins directly allows you to easily work with Sonar Qube or CI (Jenkins). If you have these plugins enabled, then the Java project is checked by static analysis directly during the build process and as a result you will receive not only your assembled project, but also a log from the PVS-Studio analyzer.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
PVS-Studio Java analyzer can also be used as a plug-in for IntelliJ IDEA. </font><font style="vertical-align: inherit;">In this case, the analysis of the project structure is carried out by means of this IDE, and the plug-in provides a convenient graphical interface for working with the analyzer.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/se/1x/hp/se1xhpi6dirzw5edkdhpjgporlc.png" alt="Picture 40"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I suggest reading in more detail in the section on </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">how to start PVS-Studio Java</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Also, by checking a Java project, you can suppress analyzer messages so that integration into a large project is quick and painless. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In IntelliJ IDEA, it looks like this.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/-c/zx/lb/-czxlbrdbykzol_5qiwy3pvp45o.png" alt="Picture 42"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In this window we see the analyzer report. </font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/8g/r2/6j/8gr26jp1erbtwmhzk-vcucvv_8w.png" alt="Picture 43"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
By right-clicking on the selected message, we see such a context menu. </font><font style="vertical-align: inherit;">In it we can select the highlighted item and the message will disappear from the analyzer output.</font></font><br>
<br>
<p></p><div style="text-align:center;"><img src="https://habrastorage.org/webt/cg/dg/yn/cgdgyn1evznjt623afzjnawuwc8.png" alt="Picture 44"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We can also suppress all analyzer messages. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To suppress analyzer warnings in Gradle, execute the command:</font></font><br>
<br>
<pre><code class="cpp hljs">./gradlew pvsSuppress <span class="hljs-string">"-Ppvsstudio.report=/path/to/report.json"</span>
  <span class="hljs-string">"-Ppvsstudio.output=/path/to/suppress_base.json"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To suppress analyzer warnings in Maven, run the command:</font></font><br>
<pre><code class="cpp hljs">mvn pvsstudio:pvsSuppress <span class="hljs-string">"-Dpvsstudio.report=/path/to/report.json"</span>
  <span class="hljs-string">"-Dpvsstudio.output=/path/to/suppress_base.json"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Read more about the suppression mechanism </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">To summarize</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The purpose of this article was to show the capabilities of the PVS-Studio static analyzer, how to easily work with it using the plug-in for Visual Studio and for Linux. </font><font style="vertical-align: inherit;">Thanks to the ability to integrate with the SonarQube platform, you can provide continuous analysis and quality management of your code, which is just one of the many features </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">described</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in the documentation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Integration of the static analyzer into the CI system allows you to detect bugs immediately after building the project. </font><font style="vertical-align: inherit;">This reduces the cost of finding and correcting errors. </font><font style="vertical-align: inherit;">Below are links to articles with integrations with the most popular cloud services:</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio goes to the clouds: Travis CI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio goes to the clouds: Azure DevOps</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio goes to the clouds: CircleCI</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio goes to the clouds: GitLab CI / CD</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Launch PVS-Studio in TeamCity</font></font></a></li>
</ol><br>
<p><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="></a></p><div style="text-align:center;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><img src="https://habrastorage.org/getpro/habr/post_images/eb2/f9c/3bb/eb2f9c3bb5f32f39239298d36431961c.png"></a></div><p></p><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
If you want to share this article with an English-speaking audience, then please use the link to the translation: Ekaterina Nikiforova. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PVS-Studio 7.07: Features Overview</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en502092/index.html">Technological and regulatory support for digital trust services in the Russian Federation</a></li>
<li><a href="../en502098/index.html">How we built B2B</a></li>
<li><a href="../en502102/index.html">AutoML is great and powerful</a></li>
<li><a href="../en502104/index.html">The secretary robot, bot informant, bot therapist and other projects of the online hackathon VirusHack</a></li>
<li><a href="../en502114/index.html">Game of Motivations. Part 1</a></li>
<li><a href="../en502118/index.html">Design at the system level. Part 3: Linking System Composer and the MathWorks Toolchain</a></li>
<li><a href="../en502120/index.html">Remote monitoring and diagnostics of production equipment</a></li>
<li><a href="../en502122/index.html">Thanos - Scalable Prometheus</a></li>
<li><a href="../en502124/index.html">2019 venture results for Ukraine</a></li>
<li><a href="../en502126/index.html">How to Improve Your English Programmer Resume</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>