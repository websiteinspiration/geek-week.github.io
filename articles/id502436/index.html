<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üôåüèª üë∞üèø üé£ CI TeamCity - Otomatisasi proses pembuatan pengujian Android dan UI üî§ üïµÔ∏è ‚ô•Ô∏è</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pada artikel ini, saya membawa instruksi perhatian Anda untuk menginstal dan mengkonfigurasi TeamCity untuk mengotomatisasi perakitan dan pengujian pr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>CI TeamCity - Otomatisasi proses pembuatan pengujian Android dan UI</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/502436/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pada artikel ini, saya membawa instruksi perhatian Anda untuk menginstal dan mengkonfigurasi TeamCity untuk mengotomatisasi perakitan dan pengujian proyek Android di bawah Windows. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya juga akan memperhatikan fitur pengaturan lingkungan untuk proyek Android (yang saya temukan dalam proses penelitian) dan berbagai macam hal yang dapat membantu membuat hidup lebih mudah bagi penguji dan pengembang pemula.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tujuan:</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saat memperbarui kode proyek, berikut ini harus terjadi:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Proyek pembangunan otomatis</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Jalankan Autotests UI</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengekspor debug dan lepaskan file APK untuk pengujian manual selanjutnya</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beri tahu semua anggota tim pengembangan hasil</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rencana:</font></font></h4><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal dan konfigurasikan Java JDK</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal dan konfigurasikan Android SDK</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengatur grader terpisah untuk debug</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mempersiapkan proyek Android</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal TeamCity Server dan Build Agent</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menyiapkan Proyek TeamCity ‚Üí Bangun untuk membangun proyek dan mendapatkan APK instalasi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konfigurasikan langkah pembuatan dengan autotest UI</font></font></li>
</ol><a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bagian utama </font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menginstal dan Mengkonfigurasi Java JDK</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Berlawanan dengan kepercayaan populer tentang menginstal versi terbaru Java, JetBrains di situs web resminya mempublikasikan versi Java SDK </font><font style="vertical-align: inherit;">
yang direkomendasikan </font><font style="vertical-align: inherit;">: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautan</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Menginstal versi yang direkomendasikan: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautan</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Juga menginstal Variabel Lingkungan:</font></font><br>
<br>
<ul>
<li><code>JAVA_HOME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- path ke folder dengan SKD Java untuk menggunakan CI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><br>
<br>
<code>C:\Java\jdk1.8.0_181</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih baik dimasukkan ke dalam variabel Sistem.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Path - path ke folder dengan Java SKD untuk digunakan dari baris perintah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><br>
<br>
<code>C:\Java\jdk1.8.0_181\bin</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lebih baik dimasukkan ke dalam variabel Pengguna.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami memeriksa pemasangan: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di CMD di direktori mana pun yang kami masukkan: </font></font><code> java -version </code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Java harus menjawab bahwa: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/jr/sr/6f/jrsr6flrr8_x5nphn3pyeh4spwk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instal dan konfigurasikan Android SDK</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Kami tidak akan menginstal alat Android SDK secara terpisah. Android telah melarang untuk membuat proyek dari baris perintah. Akan lebih mudah untuk men-debug kemungkinan kesalahan jika kita segera menginstal Android Studio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal versi terbaru: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautan</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Juga instal Variabel Lingkungan: </font></font><br>
<br>
<code>ANDROID_HOME</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><code>C:\Users\1\AppData\Local\Android\Sdk</code><br>
<br>
<code>ANDROID_AVD_HOME</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><code>C:\Users\1\.android\avd</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jalur: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><code>C:\Users\1\AppData\Local\Android\Sdk\platform-tools\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- luncurkan utilitas dari konsol oleh kami dan CI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Periksa: ketik CMD: </font></font><code>adb --help</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dapatkan informasi tentang versi saat ini dan perintah yang tersedia: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/dh/ax/nl/dhaxnlpo3zycmxk39upb7vdmht4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Path: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh:</font></font><code> C:\Users\1\AppData\Local\Android\Sdk\emulator\</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- Mulai emulator dari konsol oleh kami dan CI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Periksa: kami mengetikkan CMD </font></font><code>emulator -version</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mendapatkan informasi tentang versi saat ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qn/dn/jt/qndnjtqddivhsoab-x4thjvng1c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Instalasi Gradle Gradle</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
termasuk dalam Android Studio, tetapi kami akan menempatkan satu lagi untuk debug dari konsol. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versi ini tidak penting, karena diasumsikan bahwa proyek akan diluncurkan melalui pembungkus Gradle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Saya sarankan menginstal versi yang mirip dengan yang digunakan dalam proyek, misalnya Gradle 3.3. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami juga menginstal Variabel Lingkungan: </font></font><br>
<br>
<code>GRADLE_HOME</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- tidak perlu, karena CI akan menggunakan Gradle Android Studio. </font></font><br>
<br>
<code>GRADLE_USER_HOME</code> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><code>c:/gradle-cache</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aktual untuk Windows Server, sebagai tanpanya, selama perakitan proyek, semua pustaka Gradle yang diunduh akan disimpan</font></font><code>C:\Windows\System32\config\systemprofile\.gradle</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lebih lanjut CI tidak akan dapat mengakses file-file ini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Path: </font></font><br>
<br>
<code>C:\Gradle\gradle-3.3\bin</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- path ke folder Gradle untuk penggunaan yang nyaman dari baris perintah. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Periksa: kami mengetikkan CMD </font></font><code>gradle -v</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami menerima informasi tentang versi saat ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5d/oz/sz/5dozszxuoyliwdu4cc7kbsqks5m.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Persiapan proyek Android</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
4.1. Buat proyek uji di Android Studio. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jenis Kegiatan - Aktivitas Navigasi Bawah. Ini akan berguna nanti untuk membuat tes UI. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.2. Nonaktifkan Gradle Daemon secara berkelanjutan sehingga Gradle Daemon tidak muncul di CI: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan file </font></font><code>gradle.properties:</code><br>
<code>add org.gradle.daemon=false</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.3. Kami juga menambahkan ke file </font></font><code>.gitignore</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(sesuai selera Anda) </font><font style="vertical-align: inherit;">
sehingga file tambahan tidak tertinggal di VCS. </font><font style="vertical-align: inherit;">
4.4. Buat keystore (atau gunakan yang sudah ada) di folder proyek. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Link</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<code>.gradle<br>
.idea<br>
/build/<br>
local.properties</code><br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.5. Tambahkan tautan ke keystore ke Gradle sehingga kami dapat membangun APK lengkap. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh:</font></font><br>
<br>
<pre><code class="plaintext hljs">android{  <font></font>
    ... //  <font></font>
    signingConfigs {<font></font>
        release {<font></font>
            storeFile file("keystorefile.jks") //        <font></font>
            storePassword "Password" //  <font></font>
            keyAlias "android" // keyAlias,     <font></font>
            keyPassword "Password" //  APK<font></font>
        }<font></font>
    }<font></font>
<font></font>
    ... //  <font></font>
     buildTypes {<font></font>
        release {<font></font>
            ... //  <font></font>
            signingConfig signingConfigs.release //  APK<font></font>
        }<font></font>
    }<font></font>
} </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.6. Untuk menguji kesehatan sistem, kami akan mengumpulkan proyek baru dari baris perintah. Masukkan CMD: </font></font><br>
<br>
<code>cd &lt;  &gt;</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalnya: </font></font><code>C:\Users\1\Documents\GitHub\Command2</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pergi ke proyek. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masukkan: Kami </font></font><br>
<br>
<code>gradlew assembleDebug</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
menunggu selesainya perakitan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika semuanya baik-baik saja, maka kita mendapatkan hasil BUILD SUCCESSFUL. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uf/dr/x7/ufdrx77tmdj5e1xlin8depxema0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami pergi ke folder proyek: </font></font><code>app\build\outputs\apk\debug</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini berisi file APK baru yang dapat diinstal pada perangkat dan memeriksa apakah semuanya berfungsi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.7. Kami juga akan memeriksa apakah alat SDK dan manajer AVD diluncurkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.7.1. Luncurkan Android Studio dan buat emulator. Anda tentu saja dapat membuatnya di baris perintah, tetapi kami memiliki shell UI yang terinstal, itu dosa untuk tidak menggunakannya. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alat ‚Üí Manajer AVD: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/k7/k5/ibk7k5w33zp2jh4rxcts51ioifu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Versi SDK dari emulator yang dibuat harus setidaknya sama besar dengan proyek SDK kami.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.7.2. Membuat emulator. Mari kita periksa peluncurannya dari konsol. Kita masuk di baris perintah: </font></font><br>
<br>
<code>start /min emulator -avd &lt; &gt;</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><br>
<br>
<code>start /min emulator -avd Pixel_2_API_25</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perhatikan bahwa kita menggunakan fungsi </font></font><code>/min</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">untuk memulai emulator di latar belakang. Kalau tidak, ia tidak akan diizinkan untuk memasukkan perintah baru di CMD. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perangkat sedang berjalan: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/wj/go/ia/wjgoiap9s77ujejq-pn_fahputw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.7.3. Kami memeriksa instalasi APK yang dikumpulkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita masuk dalam CMD: </font></font><br>
<br>
<code>adb install &lt;path_to_apk&gt;</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><br>
<br>
<code>adb install C:\Users\1\Documents\GitHub\Command2\app\release\app-release.apk</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Berhasil: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/-l/gf/ze/-lgfze9zuuhlvlzlecbgp9clwue.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.7.4. Kami memeriksa peluncuran APK yang diinstal. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kita masuk dalam CMD: </font></font><br>
<br>
<code>adb shell monkey -p &lt;     &gt; -c android.intent.category.LAUNCHER 1</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><br>
<br>
<code>adb shell monkey -p com.panarik.command -c android.intent.category.LAUNCHER 1</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aplikasi dimulai: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kc/dl/pu/kcdlpuz9f0bc16c5dulf14rsyd4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
4.7.5. Kami mengunggah proyek ke repositori jarak jauh, misalnya, ke GitHub. Periksa apakah proyek akan diunduh: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Instal Git BASH (jika kami menggunakan Git VCS). </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami mengkloning proyek dari repo jarak jauh. Masuk ke konsol Git BASH: </font></font><br>
<br>
<code>git clone &lt;  .git&gt;</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><br>
<br>
<code>git clone https://github.com/panarik/Command2.git</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kami melihat hasilnya. Proyek ini disalin ke folder lokal: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2m/mc/3u/2mmc3upb1vs0_rurcfes7yeyrai.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semuanya siap untuk menginstal dan mengkonfigurasi TeamCity. Mengapa kita melakukan latihan dengan baris perintah, dan tidak segera menginstal TeamCity. Akan jauh lebih mudah untuk memastikan terlebih dahulu bahwa proyek ini berfungsi, sehingga di masa depan akan lebih mudah untuk melokalisasi kemungkinan bug pada tahap pengembangan di TeamCity. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
5. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menginstal TeamCity Server dan Build Agent</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Saya tidak akan menjelaskan proses instalasi secara rinci. Dia ada dalam panduan resmi dan banyak sumber lainnya. Port server TeamCity saya usulkan untuk menetapkan non-standar, sehingga lebih sulit untuk menghitung pemindaian port. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengkonfigurasi Proyek TeamCity ‚Üí Membangun</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam pengaturan umum, Anda hanya perlu mengatur path ke output APK: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><br>
<br>
<code>app\build\outputs\apk\release\app-release.apk</code><br>
<br>
<img src="https://habrastorage.org/webt/4o/ca/_0/4oca_0ess7vbx4awyid4q7ldv3a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.1. Menyiapkan TeamCity VCS Roots </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semuanya standar. Dalam proyek kami, kami menggunakan Git, jadi kami memasukkannya dan tautan ke repo jarak jauh. Contoh: </font></font><br>
<br>
<code>https://github.com/panarik/Command2.git</code><br>
<br>
<img src="https://habrastorage.org/webt/ko/p9/d1/kop9d17wvkt7gwcgxxpuaoglio0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
6.2. Konfigurasi Build TeamCity </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tambahkan Langkah Build, yang akan mengkompilasi proyek dan menampilkan APK. Dalam proyek kami, kami menggunakan Gradle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masukkan dalam bidang tugas Gradle: </font></font><br>
<br>
<code>clean build assembleDebug --no-daemon</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(--no-daemon untuk jaga-jaga, dan ini harus berfungsi sebagai subskrip ke file yang kita lakukan di bagian 4.2) </font></font><br>
<br>
<img src="https://habrastorage.org/webt/za/wt/cm/zawtcmqdtqqsvpwjzpn_4e0bwvc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Klik Jalankan, kita mendapatkan APK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mengkonfigurasi langkah-langkah pembuatan dengan autotest UI Kami</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
sampai pada bagian yang paling menarik, yaitu, peluncuran otomatis tes UI.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Langkah-langkah akan diluncurkan menggunakan file .BAT. Jauh lebih nyaman untuk menulis kode, mengubahnya dengan cepat tanpa harus masuk ke UI TeamCity, dll. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7.1. Pertama, buat langkah build dengan menjalankan emulator. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat membuat URL ke BATnik sepenuhnya, untuk kenyamanan, saya membuat Lingkungan di TeamCity </font></font><code>BAT_FILES</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dengan path ke folder dengan BATs: kami </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hm/mz/hx/hmmzhx2i5rdyb3eafa3gyczn1ue.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
menulis kode awal emulator dalam file. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh: </font></font><br>
<br>
<code>start /min "emulator" /D "C:\Users\1\AppData\Local\Android\Sdk\emulator" emulator.exe -avd Pixel_2_API_25 -no-snapshot-save -no-boot-anim</code><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar perintah dan parameter di situs luar: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7.2. Buat langkah build dengan jeda saat emulator dimuat. Anda dapat segera mendaftarkan langkah pertama di .BAT, tetapi akan lebih jelas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh tim semacam itu yang telah memata-matai di Internet: </font></font><br>
<br>
<code>adb wait-for-device shell 'while [[ -z $(getprop sys.boot_completed) ]]; do sleep 1; done; input keyevent 82'</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dari UI akan terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/po/uh/0r/pouh0rl3u3g9kfwxyu1h5dcpbxy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Daftar semua tim di luar situs: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tautan</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7.3. </font><font style="vertical-align: inherit;">Jalankan tes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Juga dari baris perintah. </font><font style="vertical-align: inherit;">Semuanya individual di sini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh perintah: </font></font><br>
<br>
<code>gradlew connectedDebugAndroidTest</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
7.4. </font><font style="vertical-align: inherit;">Kami menghentikan emulator. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh perintah: </font></font><br>
<br>
<code>adb -s emulator-5554 emu kill</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Proses selesai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda juga dapat mengunggah laporan dalam langkah terpisah. </font><font style="vertical-align: inherit;">Secara default, ini disimpan dalam folder proyek. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terima kasih banyak atas perhatiannya! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika ada yang punya saran untuk memperbaiki kode untuk langkah-langkah, dan saran untuk perbaikan, saya akan sangat berterima kasih.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id502414/index.html">FOSS News No. 16 - ulasan perangkat lunak bebas dan sumber terbuka untuk 11-17 Mei 2020</a></li>
<li><a href="../id502416/index.html">Melengkapi SQL. Bagian 1. Kompleksitas penguraian. Cerita tentang menyelesaikan file ANTLR</a></li>
<li><a href="../id502418/index.html">Monitor gambar 3D</a></li>
<li><a href="../id502420/index.html">Temuan CSS yang Menarik dalam Desain Twitter</a></li>
<li><a href="../id502432/index.html">Intisari bahan segar dari dunia front-end untuk minggu terakhir No. 415 (11-17 Mei, 2020)</a></li>
<li><a href="../id502438/index.html">Bahan Python. Kartu khusus dengan efek OpenGL</a></li>
<li><a href="../id502440/index.html">Membangun Aplikasi dengan Mediapipe</a></li>
<li><a href="../id502442/index.html">PHP Digest No. 180 (4 - 18 Mei 2020)</a></li>
<li><a href="../id502448/index.html">Seminar Mingguan IBM - Mei 2020</a></li>
<li><a href="../id502450/index.html">Moderasi komentar 2. Namun, bisakah kita mempercayai pengguna? (lanjutan)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>