<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ™ğŸ½ ğŸ§’ğŸ½ ğŸ‘¨ğŸ½â€ğŸ­ Comment une dÃ©mo Memories tient dans 256 octets ğŸ”´ ã€½ï¸ ğŸ¤¬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="introduction
 salut! Je m'appelle HellMood et cet article concerne un petit programme MS DOS appelÃ© Memories. Ce programme a une taille de 256 octets,...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment une dÃ©mo Memories tient dans 256 octets</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/498096/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/za/d2/y1/zad2y1fsjcomgxshmff-6huncn4.jpeg"></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">introduction</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
salut! Je m'appelle HellMood et cet article concerne un petit programme MS DOS appelÃ© Memories. Ce programme a une taille de 256 octets, il a gagnÃ© dans la catÃ©gorie de la compÃ©tition Â«PC 256 octetsÂ» </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">demoscene </font></font></a> <a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Â«RÃ©visionÂ»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en 2020, et a Ã©galement reÃ§u le prix du public. Vous pouvez regarder la vidÃ©o de la sortie du programme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et la vidÃ©o avec la rÃ©action du public en ligne et des modÃ©rateurs </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . TÃ©lÃ©chargez le communiquÃ© et laissez des commentaires </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cet article prÃ©sentera une analyse approfondie du programme, parlera des rÃ©fÃ©rences historiques et des Ã©tapes de dÃ©veloppement. </font><font style="vertical-align: inherit;">L'article est publiÃ© sur le wiki du code de taille. </font><font style="vertical-align: inherit;">Cela vous permettra non seulement de comprendre la structure interne des mÃ©moires, mais vous aidera Ã©galement Ã  crÃ©er quelque chose de similaire. </font><font style="vertical-align: inherit;">Explorez-le! </font><font style="vertical-align: inherit;">Si vous Ãªtes nouveau dans le sizecoding (Ã©criture de programmes dans la taille souhaitÃ©e) ou dans l'assembleur x86, il est recommandÃ© de commencer par les </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">bases de ce wiki</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Les principes sont faciles Ã  comprendre, mais il n'est pas si facile de comprendre les dÃ©tails de la mise en Å“uvre.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bref avis</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, nous parlerons de la version envoyÃ©e au concours pour DosBox (256 octets). L'archive contient Ã©galement des versions pour FreeDos et Windows XP DOS, qui au moment de la rÃ©daction de l'article ne fonctionnaient pas sur tous les ordinateurs. Ces versions alternatives ont Ã©tÃ© incluses dans l'archive comme preuve de concept pour montrer que le programme ne fonctionne pas uniquement dans l'Ã©mulateur. Dans la catÃ©gorie Â«PC 256 octetsÂ» du concours Â«RÃ©visionÂ» de 2020, il Ã©tait possible d'indiquer Â«FreeDosÂ» ou Â«DosBoxÂ» comme plateforme (cette derniÃ¨re dans une configuration spÃ©cifique). Comme le prouvent les versions alternatives, en fait, vous pouvez modifier la version de DosBox pour qu'elle fonctionne dans FreeDos, MS DOS, WinXP et Win98, mais l'article ne traitera pas de cela.</font></font><br>
<a name="habracut"></a> <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quoi qu'il en soit, des versions fiables pour toutes les plateformes et tous les ordinateurs sont en cours de dÃ©veloppement. </font><font style="vertical-align: inherit;">En ce qui concerne d'Ã©ventuelles optimisations supplÃ©mentaires, je ne parlerai que de la version envoyÃ©e au concours, mÃªme si j'ai dÃ©jÃ  trouvÃ© plusieurs endroits oÃ¹ le code peut Ãªtre optimisÃ©. </font><font style="vertical-align: inherit;">Comme il s'agit d'une dÃ©monstration de l'histoire des petits effets, presque aucun du code n'est parfait et il peut Ãªtre encore rÃ©duit. </font><font style="vertical-align: inherit;">Afin de ne pas se confondre dans les diffÃ©rentes versions, je ne parlerai que de la concurrence.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Histoire des petits effets</font></font></h2><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/648/d95/9a3/648d959a333dce574c8932529274cb87.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CatÃ©gories de dimensions sur </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">http://www.pouet.net</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nous, sizcoders, raisonnons en catÃ©gories de tailles. </font><font style="vertical-align: inherit;">Pour MS DOS, ces catÃ©gories sont 256b, 128b, 64b et 32b. </font><font style="vertical-align: inherit;">Ce sont les standards d'une des plus grandes archives de la </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scÃ¨ne dÃ©mo www.pouet.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Il n'y a pas de catÃ©gorie 16b, cependant de nombreux petits effets peuvent Ãªtre implÃ©mentÃ©s en 16 octets. Presque tous les effets de Â«MemoriesÂ» ont Ã©tÃ© Ã©crits et optimisÃ©s par moi plus tÃ´t, et leur implÃ©mentation Ã©tait essentiellement une tentative de rÃ©duire la taille existante de l'effet, ou de crÃ©er quelque chose de similaire, mais plus petit. Par rÃ©duction de taille, on entend ici sa rÃ©duction dans l'une des catÃ©gories plus petites suivantes 2 ^ N. Par exemple, si l'effet a Ã©tÃ© implÃ©mentÃ© sur 33 Ã  64 octets, il est alors rÃ©duit Ã  32 octets ou moins. Presque chaque fois que j'ai rÃ©ussi Ã  Â«rÃ©duireÂ» l'effet dans une catÃ©gorie infÃ©rieure, j'ai envoyÃ© le petit programme rÃ©sultant Ã  un Ã©vÃ©nement dÃ©diÃ© Ã  la dÃ©moscÃ¨ne, dans lequel les participants Ã  distance Ã©taient autorisÃ©s Ã  participer dans la catÃ©gorie 256b, et / ou publiÃ© le rÃ©sultat sur </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.pouet.net</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Dans cette section, je vais vous prÃ©senter les effets, ainsi que leur origine et leurs auteurs.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau d'Ã©chiquiers</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/994/487/b46/994487b46fbc5f335171fb417362c5c6.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">kasparov, 16 octets. La</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
source de cet effet Ã©tait mon propre Â«Kasparov 16bÂ» de 2018 ( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Il semble (citation des notes de version), je "viens de faire ce conseil, l'ajuster en 17 octets, mais ce n'Ã©tait pas trÃ¨s beau jusqu'Ã  ce que je trouve une astuce ...". </font><font style="vertical-align: inherit;">Auparavant, un effet similaire Ã©tait dÃ©jÃ  implÃ©mentÃ© dans 32 octets: 2003 ew Ã  partir du crash du dÃ©veloppeur. </font><font style="vertical-align: inherit;">( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) Dans ce cas, j'ai essayÃ© d'implÃ©menter de Â«vraisÂ» Ã©chiquiers avec un carrÃ© 8x8 et des carrÃ©s noirs et blancs reconnaissables, ainsi que l'orientation correcte des Ã©chiquiers individuels, c'est-Ã -dire que le coin infÃ©rieur droit (h1) aurait dÃ» Ãªtre </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">blanc</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pour que cet effet fonctionne avec le cadre global, dans Â«MemoriesÂ», il a dÃ» Ãªtre rÃ©implÃ©mentÃ© Ã  l'aide d'une autre technique: l'enregistrement Ã  l'Ã©cran; </font><font style="vertical-align: inherit;">De plus, la direction de dÃ©filement a Ã©tÃ© modifiÃ©e de sorte qu'elle diffÃ¨re de l'effet Â«plan inclinÃ© de dÃ©filementÂ».</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cercles de zoom</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les cercles Ã©volutifs (cercles de zoom) Ã©taient censÃ©s participer aux demopati en tant qu'intro de 32 octets, mais je ne l'ai jamais fait. </font><font style="vertical-align: inherit;">Cet effet n'a pas de prÃ©dÃ©cesseur de 64 octets, car dans la catÃ©gorie 64b, des effets beaucoup plus complexes sont possibles. </font><font style="vertical-align: inherit;">Les cercles de zoom Ã©taient le rÃ©sultat de ma tentative dÃ©sespÃ©rÃ©e d'entrer dans la catÃ©gorie 32b avec l'effet d'un Â«tunnelÂ» rond, pour lequel mon record personnel Ã©tait toujours de 52 octets (Â«NeontubeÂ» - 2016) ( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), qui, Ã  son tour, est devenu une optimisation du classique 64 -effet octet "Ã©volution constante" dÃ©veloppeurs ryg / Farbrausch (2003) ( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Dans la procÃ©dure des cercles de zoom, la distance et l'angle sont Ã©liminÃ©s / ignorÃ©s, ce qui a permis de tomber dans la catÃ©gorie 32b.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plan inclinÃ© de dÃ©filement</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/6da/5c5/e22/6da5c5e22cc979b47231a7d07d017d8c.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Floorcast, une version 32 octets, une variante du</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
plan inclinÃ© Scrolling, est l'une de mes propres versions, le floorcast 32b 2018. </font><font style="vertical-align: inherit;">L'effet du Â«revÃªtement de solÂ» a sa propre histoire dans le dimensionnement et a progressivement diminuÃ© de 256 octets Ã  32 octets. </font><font style="vertical-align: inherit;">DiffÃ©rentes versions diffÃ¨rent par le nombre d'avions, dans deux plans environ, dans d'autres - un seul. </font><font style="vertical-align: inherit;">Dans la version Â«floorcast 32bÂ», j'ai spÃ©cifiquement dÃ©cidÃ© d'abandonner la texture Â«XORÂ», et dans Â«MemoriesÂ», je l'ai utilisÃ©e Ã  nouveau, en la masquant avec la touche finale sous la forme de Â«ETÂ».</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2008 rain_storm version - 256 octets - </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version 2008 de org_100h - 128 octets - </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version Baudsurfer 2013 - 86 octets - </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version Baudsurfer 2014 - 64 octets - </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Version HellMood 2018 - 32 octets - </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lien</font></font></a></li>
</ul><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Damier Parallax</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/254/2e6/580/2542e65805ffbe714e47adb79dad2f28.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektbeschreibung, 32 octets</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
J'ai publiÃ© des Ã©chiquiers de parallaxe en 2018 en tant qu'effet Projektbeschreibung de 32 octets. </font><font style="vertical-align: inherit;">Dans ce document, j'ai essayÃ© de rÃ©duire la taille de Â«Follow the lightÂ» ( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) de Â«DigimindÂ» (2006) ou de ma propre Â«LucyÂ» (2014) ( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) Ã  32 octets. </font><font style="vertical-align: inherit;">Des sources d'inspiration trÃ¨s utiles ont Ã©tÃ© Paralaxa de Rrrolas (32 octets, 2007, </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) et Byteropolis de Sensenstahl (2013) ( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) </font><font style="vertical-align: inherit;">La technique de rendu Rrrolas Ã©tait trÃ¨s proche de ma dÃ©cision finale, le code a Ã©tÃ© modifiÃ© pour corriger l'emplacement des avions, remplacer les triangles par des Ã©chiquiers et amÃ©liorer les couleurs. </font><font style="vertical-align: inherit;">Les souvenirs utilisaient le jeu de couleurs de la version Digimind. </font><font style="vertical-align: inherit;">De plus, l'effet a Ã©tÃ© modifiÃ© au maximum pour rÃ©duire les dÃ©formations.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sierpinski rotozoomer</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/02b/b24/0f4/02bb240f4fcd21109bb76af96790bed9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">colpinski, 16 octets</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/04f/634/51e/04f63451eda6291c70747550e1960692.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rotastic, 32 octets</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il se compose de deux effets: rotozoomer et effet Sierpinski comme texture. </font><font style="vertical-align: inherit;">L'effet Sierpinski est basÃ© sur mon propre effet Colpinski 16b 2013 ( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), oÃ¹ j'ai rÃ©ussi Ã  obtenir le maximum possible avec la fonction frag fsqrt. </font><font style="vertical-align: inherit;">Cet effet n'a pas de prÃ©dÃ©cesseur, car il peut Ãªtre implÃ©mentÃ© directement en combinant X et Y, plutÃ´t qu'en utilisant un systÃ¨me de fonction itÃ©rÃ© ou des automates cellulaires. </font><font style="vertical-align: inherit;">Â«Rotation and scalingÂ» (rotozoomer) est sorti par moi en 2017 sous le nom d'intro 32b Â«rotasticÂ» ( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), il est basÃ© sur les idÃ©es de Â«rygÂ» du dÃ©veloppeur Farbrausch (51 octets, 2002, </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) et Â«GargajÂ» du groupe Â«ConspiracyÂ» "(49 octets, 2002, </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tunnel cintrÃ© Raycast</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fe2/9cd/be5/fe29cdbe567a63af46cdf9734ea7d2e8.gif"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dans une nouvelle Ã¨re, version 64 bits Le</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
tunnel cintrÃ© de raycast est devenu une version modifiÃ©e de ma propre version de 64 octets, Â«Dans une nouvelle Ã¨reÂ» (2018, </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Les couleurs d'origine ont Ã©tÃ© remplacÃ©es par les couleurs de la palette standard, la gÃ©omÃ©trie et les calculs correspondants ont Ã©tÃ© lÃ©gÃ¨rement modifiÃ©s de sorte que l'effet de profondeur n'a pas Ã©tÃ© utilisÃ© pour calculer les valeurs de texture. </font><font style="vertical-align: inherit;">Une version distincte de cet effet a une taille de 50 octets. </font><font style="vertical-align: inherit;">Les principales sources d'inspiration pour crÃ©er la version 64 octets Ã©taient deux intros de 128 octets: Â«SpongyÂ» de Â«TBCÂ» (2009, </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) et Â«Wolf128Â» de Baudsurfer (2014, </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), et j'ai dÃ©veloppÃ© l'algorithme moi-mÃªme.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OcÃ©an nuit au jour</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a37/19a/ce2/a3719ace2bf341122325e874f4765fff.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ocean, version 64b</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
L'effet ocÃ©an est basÃ© sur ma propre version de 64 octets de Â«OceanÂ» 2016 ( </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Une gÃ©nÃ©ration sÃ©parÃ©e des couleurs et de la musique de l'original a Ã©tÃ© supprimÃ©e, les deux gÃ©nÃ©rateurs n'Ã©taient pas compatibles avec le cadre principal de Memories sans utiliser des tas d'octets supplÃ©mentaires. </font><font style="vertical-align: inherit;">L'effet spÃ©cial de Â«l'aubeÂ» est dÃ» Ã  la mise en Å“uvre globale de la structure du cadre. </font><font style="vertical-align: inherit;">J'en parlerai dans le chapitre suivant.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effet de dÃ©coloration</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La transition entre les deux effets est en soi un effet qui n'a pas de prÃ©dÃ©cesseurs. </font><font style="vertical-align: inherit;">Il s'agit plutÃ´t d'une idÃ©e qui a Ã©voluÃ© sur plusieurs annÃ©es et qui a peut-Ãªtre Ã©tÃ© mise en Å“uvre de la mÃªme maniÃ¨re par de nombreuses autres. </font><font style="vertical-align: inherit;">En bref, lors du calcul de la trame, la position de chaque pixel est randomisÃ©e, et le temps qui dÃ©termine quel effet doit Ãªtre utilisÃ© est dÃ©calÃ© de cette valeur de randomisation, qui Ã©tait auparavant rÃ©duite. </font><font style="vertical-align: inherit;">Cela vous permet d'utiliser une palette VGA standard (image, source), plutÃ´t que de crÃ©er vos propres couleurs pour un mixage fluide, ce qui Ã©conomise de l'espace.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le cadre de mon "petit mÃ©gademo"</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour combiner plusieurs petits effets en un seul Â«mÃ©gademoÂ», ils doivent utiliser la mÃªme technique et tout au plus ne doivent pas appliquer d'hypothÃ¨ses (concernant le contenu de la mÃ©moire et des registres). Ils sont Ã©galement tenus d'utiliser les mÃªmes valeurs de synchronisation et de travailler en fonction du temps total. Il a fallu beaucoup de temps pour prÃ©parer des effets individuels adaptÃ©s au cadre, et d'abord beaucoup d'espace supplÃ©mentaire. Il convient de noter que certains des effets les plus impressionnants (Ã  en juger par la rÃ©action des tÃ©lÃ©spectateurs et des opinions sur les rÃ©seaux sociaux) n'ont pas pu Ãªtre inclus dans la dÃ©mo en raison de l'Ã©norme utilisation excessive de la mÃ©moire. Une fois tous les effets corrigÃ©s, je pouvais commencer Ã  penser Ã  Â«mettre entre parenthÃ¨sesÂ» des calculs frÃ©quemment rÃ©pÃ©tÃ©s, ce qui permettrait d'Ã©conomiser quelques octets de plus.Le cadre effectue les actions suivantes:</font></font><br>
<br>
<ul>
<li>    320 x 200   256 </li>
<li>   </li>
<li>       </li>
<li> <br>
<br>
<ul>
<li> X  Y    <br>
<ul>
<li>  <a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=">Â« RrrolaÂ»</a></li>
</ul></li>
<li> P =     </li>
<li>   T    P'</li>
<li>   N    T'</li>
<li>  N (X,Y)   <br>
<br>
<ul>
<li>  XY    DX (DL,DH)</li>
<li>       BP</li>
<li>   AL   </li>
</ul></li>
<li>   </li>
<li>    </li>
<li>   </li>
</ul></li>
<li>     35 FPS</li>
<li>    ESC<br>
<ul>
<li>   ESC,    </li>
</ul></li>
</ul><br>
<h3> </h3><br>
<pre><code class="cpp hljs">org <span class="hljs-number">100</span>h<font></font>
s:<font></font>
	mov al,<span class="hljs-number">0x13</span>				; <span class="hljs-built_in">set</span> AL to mode <span class="hljs-number">320</span>*<span class="hljs-number">200</span> in <span class="hljs-number">256</span> colors
	<span class="hljs-keyword">int</span> <span class="hljs-number">0x10</span>	 			; call BIOS to <span class="hljs-built_in">set</span> mode<font></font>
	xchg bp,ax				; <span class="hljs-built_in">set</span> timing value to <span class="hljs-number">0x13</span> 
	push <span class="hljs-number">0xa000</span><span class="hljs-number">-10</span>			; write the screen adress to <span class="hljs-keyword">register</span> ES<font></font>
	pop es					; works in conjunction with Rrrola trick<font></font>
	mov ax,<span class="hljs-number">0x251c</span>			; parameter <span class="hljs-keyword">for</span> changing timer interrupt<font></font>
	mov dl,timer			; adress of timer routine, assume DH=<span class="hljs-number">1</span>
	<span class="hljs-keyword">int</span> <span class="hljs-number">0x21</span>				; install timer routine<font></font>
top:<font></font>
	mov ax,<span class="hljs-number">0xcccd</span>			; load magic Rrrola constant<font></font>
	mul di					; transform screen pointer to X, Y<font></font>
	add al,ah				; use transformation garbage as<font></font>
	<span class="hljs-keyword">xor</span> ah,ah				; pseudorandom value <span class="hljs-keyword">and</span> clear AH<font></font>
	add ax,bp				; add time value to random value<font></font>
	shr ax,<span class="hljs-number">9</span>				; divide by <span class="hljs-number">512</span> (basically the speed)
	<span class="hljs-keyword">and</span> al,<span class="hljs-number">15</span>				; filter effect number<font></font>
	xchg bx,ax				; move effect number to BX<font></font>
	mov bh,<span class="hljs-number">1</span>				; reset BH to align with start of code<font></font>
	mov bl,[byte bx+table]	; read the effect address from the table<font></font>
	call bx					; call the effect<font></font>
	stosb					; write the <span class="hljs-keyword">return</span> value <span class="hljs-keyword">and</span> advance<font></font>
	inc di					; triple interlace trick <span class="hljs-keyword">for</span> after<font></font>
	inc di					; effect <span class="hljs-keyword">and</span> smoothing the animation<font></font>
	jnz top					; repeat until the frame is complete<font></font>
	mov al,tempo			; <span class="hljs-built_in">set</span> AL to divider <span class="hljs-keyword">for</span> timer<font></font>
	out <span class="hljs-number">40</span>h,al				; <span class="hljs-function"><span class="hljs-built_in">set</span> <span class="hljs-title">timing</span> <span class="hljs-params">(dual pass)</span>
	in al,0x60				</span>; read keyboard<font></font>
	dec al					; quit on ESC<font></font>
	jnz top					; otherwise repeat loop<font></font>
sounds: db <span class="hljs-number">0xc3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">0x93</span>; <span class="hljs-number">0xc3</span> is MIDI/RET; fx2-s is used as volume<font></font>
table: 	db fx2-s,fx1-s,fx0-s,fx3-s,fx4-s,fx5-s,fx6-s,sounds-s,stop-s</code></pre><br>
<h2> </h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau d'Ã©chiquiers</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3b8/e42/a5b/3b8e42a5b7ba22dbad5f6a8343b99785.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tableau d'Ã©chiquiers</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
L'effet le plus simple pour commencer. </font><font style="vertical-align: inherit;">AprÃ¨s avoir dÃ©calÃ© temporairement la chaÃ®ne, le motif XOR classique est appliquÃ©. </font><font style="vertical-align: inherit;">Pour crÃ©er l'impression d'une grille d'Ã©chiquier, tous les bits sauf deux sont dÃ©finis en couleur. </font><font style="vertical-align: inherit;">Le vrai truc est de passer au Â«bonÂ» endroit de la palette. </font><font style="vertical-align: inherit;">La partie du cadre qui est perÃ§ue comme noire n'est en fait pas noire, mais c'est la partie sombre de la </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">palette VGA standard</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ce changement vous permet de donner aux cellules sombres et claires la sensation d'un Ã©chiquier ancien.</font></font><br>
<br>
<pre><code class="cpp hljs">	xchg dx,ax		; get XY into AX<font></font>
	sub ax,bp		; subtract time from row<font></font>
	<span class="hljs-keyword">xor</span> al,ah		; <span class="hljs-function">XOR <span class="hljs-title">pattern</span> <span class="hljs-params">(x <span class="hljs-keyword">xor</span> y)</span>
	<span class="hljs-keyword">or</span> al,0xDB		</span>; pattern <span class="hljs-keyword">for</span> <span class="hljs-built_in">array</span> of boards<font></font>
	add al,<span class="hljs-number">13</span>h		; shift to good palette spot</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cercles de zoom</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/345/928/8ba/3459288ba8a5cfafe14437b5c2c85587.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cercles de zoom</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
La distance D du point (X, Y) au centre (0,0) est sqrt (XÂ² + YÂ²). </font><font style="vertical-align: inherit;">Le cadre fait prÃ©cÃ©demment que DL contient la coordonnÃ©e centrÃ©e X, et DH = Y doit Ãªtre centrÃ© dans le code. </font><font style="vertical-align: inherit;">Pour effectuer l'opÃ©ration de calcul de racine carrÃ©e dans x86, beaucoup de code est requis, mais en fait il peut Ãªtre omis. </font><font style="vertical-align: inherit;">Avec un choix minutieux de couleurs, la sensation de cercles convergents sans racine carrÃ©e semble assez convaincante.</font></font><br>
<br>
<pre><code class="cpp hljs">	mov al,dh		; get Y in AL<font></font>
	sub al,<span class="hljs-number">100</span>		; align Y vertically<font></font>
	imul al			; AL = YÂ²<font></font>
	xchg dx,ax		; YÂ²/<span class="hljs-number">256</span> in DH, X in AL<font></font>
	imul al			; AL = XÂ²<font></font>
	add dh,ah		; DH = (XÂ² + YÂ²)/<span class="hljs-number">256</span>
	mov al,dh		; AL = (XÂ² + YÂ²)/<span class="hljs-number">256</span><font></font>
	add ax,bp		; offset color by time<font></font>
	<span class="hljs-keyword">and</span> al,<span class="hljs-number">8</span>+<span class="hljs-number">16</span>		; select special rings</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Plan inclinÃ© de dÃ©filement</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/935/c9c/5d5/935c9c5d54d0172c96766989f5630fc8.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dÃ©filement plan inclinÃ©</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Cet effet est mis en Å“uvre comme suit: d'abord, pour simuler la distance, une grande constante est divisÃ©e par le numÃ©ro de ligne Y. Ensuite, la valeur obtenue est utilisÃ©e deux fois: a) multipliÃ©e par la valeur centrÃ©e de X et b) compensÃ©e par l'heure actuelle. </font><font style="vertical-align: inherit;">Ces rÃ©sultats sont ensuite combinÃ©s Ã  l'aide du modÃ¨le XOR, Ã  partir duquel un modÃ¨le spÃ©cial est sÃ©lectionnÃ©.</font></font><br>
<br>
<pre><code class="cpp hljs">	mov ax,<span class="hljs-number">0x1329</span>	; initialize with constant<font></font>
	add dh,al		; preventing divide overflow<font></font>
	div dh			; reverse divide AL = C/Y<span class="hljs-number">'</span>
	xchg dx,ax		; DL = C/Y<span class="hljs-number">'</span>, AL = X<font></font>
	imul dl			; AH = CX/Y<span class="hljs-number">'</span>
	sub dx,bp		; DL = C/Y<span class="hljs-number">'</span>-T 	
	<span class="hljs-keyword">xor</span> ah,dl		; AH = (CX/Y<span class="hljs-number">'</span>) ^ (C/Y<span class="hljs-number">'</span>-T)<font></font>
	mov al,ah		; move to AL<font></font>
	<span class="hljs-keyword">and</span> al,<span class="hljs-number">4</span>+<span class="hljs-number">8</span>+<span class="hljs-number">16</span>	; select special pattern</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Damier Parallax</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e49/5ef/23f/e495ef23f970c1892890fdee80bb3155.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">planches Ã  damier de parallaxe</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il s'agit d'une sorte de reykasting (Ã©mission de rayons) Ã  gÃ©omÃ©trie dynamique. </font><font style="vertical-align: inherit;">Chaque plan des objets est divisÃ© horizontalement en raison d'une multiplication de 16 bits avec un signe et verticalement en raison de l'opÃ©ration de logique implicite avec le numÃ©ro de colonne. </font><font style="vertical-align: inherit;">De plus, une distorsion indirecte est appliquÃ©e pour relier les bords du maillage rÃ©sultant (4 zones Â«solidesÂ», 4 zones Â«transparentesÂ» en alternance). </font><font style="vertical-align: inherit;">Si le faisceau traverse l'une des zones pleines, la couleur devient le numÃ©ro d'itÃ©ration (+ le dÃ©calage de la palette dans les tons de gris) et sinon, le plan passe au pointeur d'Ã©cran, aprÃ¨s quoi le processus se rÃ©pÃ¨te jusqu'Ã  ce que le nombre maximal d'itÃ©rations soit atteint.</font></font><br>
<br>
<pre><code class="cpp hljs">	mov cx,bp		; <span class="hljs-built_in">set</span> inital point to time<font></font>
	mov bx,<span class="hljs-number">-16</span>		; limit to <span class="hljs-number">16</span> iterations<font></font>
fx3L:<font></font>
	add cx,di		; offset point by screenpointer<font></font>
	mov ax,<span class="hljs-number">819</span>		; magic, related to Rrrola constant<font></font>
	imul cx			; get X<span class="hljs-number">'</span>,Y<span class="hljs-number">'</span> in DX<font></font>
	ror dx,<span class="hljs-number">1</span>		; <span class="hljs-built_in">set</span> carry flag on <span class="hljs-string">"hit"</span><font></font>
	inc bx			; increment iteration count<font></font>
	ja fx3L			; loop until <span class="hljs-string">"hit"</span> <span class="hljs-keyword">or</span> <span class="hljs-string">"iter=max"</span>
	lea ax,[bx+<span class="hljs-number">31</span>]	; <span class="hljs-built_in">map</span> value to standard gray scale</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sierpinski rotozoomer</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/479/382/d6b/479382d6bbb2294225a95baf302ba8ff.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sierpinski rotozoomer</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4a6/9ec/a29/4a69eca29fb6c06b0e9546f0dbe32dd7.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphique 1 / cos (atan (x)), crÃ©Ã© Ã  l'aide de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">www.google.com</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pour effectuer une rotation avec mise Ã  l'Ã©chelle, des fonctions trigonomÃ©triques ou leurs bonnes valeurs approximatives sont gÃ©nÃ©ralement requises. </font><font style="vertical-align: inherit;">Jetons un coup d'Å“il Ã  l' </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã©quation de rotation 2D habituelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et interprÃ©tons-la d'une maniÃ¨re spÃ©ciale pour nous dÃ©barrasser de la trigonomÃ©trie dans les calculs:</font></font><br>
<br>
<pre><code class="cpp hljs">x<span class="hljs-number">'</span> = x*<span class="hljs-built_in">cos</span>(a) - y*<span class="hljs-built_in">sin</span>(a)<font></font>
y<span class="hljs-number">'</span> = x*<span class="hljs-built_in">sin</span>(a) + y*<span class="hljs-built_in">cos</span>(a)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous ajoutons une mise Ã  l'Ã©chelle, cela ressemblera Ã  ceci:</font></font><br>
<br>
<pre><code class="cpp hljs">x<span class="hljs-number">'</span> = z * (x*<span class="hljs-built_in">cos</span>(a) - y*<span class="hljs-built_in">sin</span>(a))<font></font>
y<span class="hljs-number">'</span> = z * (x*<span class="hljs-built_in">sin</span>(a) + y*<span class="hljs-built_in">cos</span>(a))</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supposons maintenant que nous ne dÃ©finissions pas z nous-mÃªmes et mettons 1 / cos (a) entre crochets:</font></font><br>
<br>
<pre><code class="cpp hljs">x<span class="hljs-number">'</span> = <span class="hljs-number">1</span>/<span class="hljs-built_in">cos</span>(a) * (x - y*<span class="hljs-built_in">tan</span>(a))<font></font>
y<span class="hljs-number">'</span> = <span class="hljs-number">1</span>/<span class="hljs-built_in">cos</span>(a) * (x*<span class="hljs-built_in">tan</span>(a) + y)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous remplaÃ§ons tan (a) par une variable de temps, car la fonction tangente tend vers l'infini lorsqu'elle s'approche de 180 Â°:</font></font><br>
<br>
<pre><code class="cpp hljs">x<span class="hljs-number">'</span> = <span class="hljs-number">1</span>/<span class="hljs-built_in">cos</span>(<span class="hljs-built_in">atan</span>(T)) * (x - y*T)<font></font>
y<span class="hljs-number">'</span> = <span class="hljs-number">1</span>/<span class="hljs-built_in">cos</span>(<span class="hljs-built_in">atan</span>(T)) * (x*T + y)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous ne nous soucions pas du manque de possibilitÃ© de dÃ©finir le facteur d'Ã©chelle et que nous ne contrÃ´lons pas directement l'angle, nous pouvons maintenant faire une rotation de -180 Â° Ã  + 180 Â° sans utiliser de fonctions trigonomÃ©triques. </font><font style="vertical-align: inherit;">En consÃ©quence, le facteur de mise Ã  l'Ã©chelle s'avÃ¨re Ãªtre liÃ© au temps T. La fonction du coefficient est affichÃ©e dans l'image, en raison de laquelle la mise Ã  l'Ã©chelle se produit d'un nombre infinitÃ©simal Ã  un (la taille d'origine) et de retour Ã  l'infinitÃ©simal. </font><font style="vertical-align: inherit;">Beaucoup d'octets ont Ã©tÃ© dÃ©pensÃ©s pour dÃ©corer cet effet, corriger les dÃ©calages temporels, accÃ©lÃ©rer les animations, augmenter les pixels des triangles de Sierpinski et crÃ©er de belles couleurs, mais je pense que cela en valait la peine.</font></font><br>
<br>
<pre><code class="cpp hljs">	lea cx,[bp<span class="hljs-number">-2048</span>]; center time to pass zero<font></font>
	sal cx,<span class="hljs-number">3</span>		; speed up by factor <span class="hljs-number">8</span>!<font></font>
	movzx ax,dh		; get X into AL<font></font>
	movsx dx,dl		; get Y <span class="hljs-keyword">int</span> DL<font></font>
	mov bx,ax		; save X in BX<font></font>
	imul bx,cx		; BX = X*T<font></font>
	add bh,dl		; BH = X*T/<span class="hljs-number">256</span>+Y<font></font>
	imul dx,cx		; DX = Y*T<font></font>
	sub al,dh		; AL = X-Y*T/<span class="hljs-number">256</span>
	<span class="hljs-keyword">and</span> al,bh		; AL = (X-Y*T/<span class="hljs-number">256</span>)&amp;(X*T/<span class="hljs-number">256</span>+Y)
	<span class="hljs-keyword">and</span> al,<span class="hljs-number">252</span>		; thicker sierpinski<font></font>
	salc			; <span class="hljs-built_in">set</span> pixel value to black<font></font>
	jnz fx4q		; leave black <span class="hljs-keyword">if</span> <span class="hljs-keyword">not</span> sierpinski<font></font>
	mov al,<span class="hljs-number">0x2A</span>		; otherwise: a nice orange<font></font>
	fx4q:</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tunnel cintrÃ© Raycast</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a70/fc7/a35/a70fc7a35ae31fe48c7b2008b3389c0d.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tunnel cintrÃ© de raycast</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Il s'agit d'un type de </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tunnel avec rastillage de "dans une nouvelle Ã¨re"</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (voir ci-dessus). </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une description dÃ©taillÃ©e de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cet effet pour un </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">programme Essence similaire a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ã©tÃ© publiÃ©e sur reddit. </font><font style="vertical-align: inherit;">Je me suis dÃ©barrassÃ© des couleurs uniques, j'ai changÃ© la direction de l'inclinaison et la gÃ©omÃ©trie est devenue plus fermÃ©e pour amÃ©liorer les performances sur les ordinateurs plus anciens et dans DosBox.</font></font><br>
<br>
<pre><code class="cpp hljs">	mov cl,<span class="hljs-number">-9</span>		; start with depth <span class="hljs-number">9</span> (moves backwards)<font></font>
	fx5L: <font></font>
	push dx			; save DX, destroyed inside the loop<font></font>
		mov al,dh	; Get Y into AL<font></font>
		sub al,<span class="hljs-number">100</span>	; Centering Y has to be done <span class="hljs-string">"manually"</span>.<font></font>
		imul cl		; Multiply AL=Y by the current distance, to get a projection(<span class="hljs-number">1</span>)<font></font>
		xchg ax,dx	; Get X into AL, <span class="hljs-function"><span class="hljs-keyword">while</span> saving the result in <span class="hljs-title">DX</span> <span class="hljs-params">(DH)</span>
		add al,cl	</span>; add distance to projection, (bend to the right)<font></font>
		imul cl		; Multiply AL=X by the current distance, to get a projection(<span class="hljs-number">2</span>)<font></font>
		mov al,dh	; <span class="hljs-function">Get <span class="hljs-title">projection</span><span class="hljs-params">(<span class="hljs-number">1</span>)</span> in AL
		<span class="hljs-keyword">xor</span> al,ah	</span>; <span class="hljs-function">combine with <span class="hljs-title">projection</span><span class="hljs-params">(<span class="hljs-number">2</span>)</span>
		add al,4	</span>; center the walls around <span class="hljs-number">0</span>
		test al,<span class="hljs-number">-8</span>	; check <span class="hljs-keyword">if</span> the wall is hit<font></font>
	pop dx			; restore DX<font></font>
	loopz fx5L		; repeat until <span class="hljs-string">"hit"</span> <span class="hljs-keyword">or</span> <span class="hljs-string">"iter=max"</span><font></font>
	sub cx,bp		; offset depth by time<font></font>
	<span class="hljs-keyword">xor</span> al,cl		; XOR pattern <span class="hljs-keyword">for</span> texture <font></font>
	aam <span class="hljs-number">6</span>			; irregular pattern with MOD <span class="hljs-number">6</span>
	add al,<span class="hljs-number">20</span>		; offset into grayscale palette</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">OcÃ©an nuit au jour</font></font></h3><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/640/0f6/249/6400f62492b11bc031797bbaaebe4863.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oceannight</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8ed/706/5aa/8ed7065aa8ee1e7b1402cbe2ccae2c85.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Oceanday</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
The Ocean Effect est un excellent exemple de </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Â«coup de chanceÂ»</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Si nous chargeons la valeur dans le FPU sous forme d'entier et la stockons sous forme de virgule flottante, puis la rÃ©interprÃ©tons comme un entier, nous obtenons un excellent modÃ¨le. Si vous combinez cela avec la division inverse, vous obtenez un bel effet d'onde. Il fonctionne en Ã©troite collaboration avec le registre DX, qui a un signe d'inversion dans la position dont nous avons besoin, afin que nous puissions facilement sÃ©parer le ciel de la mer. Cependant, la touche finale est la couleur. ConformÃ©ment Ã  la structure du cadre global, la valeur de AL est dÃ©terminÃ©e en entrÃ©e de la fonction, elle contient l'adresse de l'effet. En mÃ©langeant un peu le code, vous pouvez obtenir la couleur du ciel "gratuitement" sans utiliser d'instructions, tout comme la couleur de la "transition vers le jour", qui est Ã©galement l'adresse de l'effet. Et ce n'est pas une heureuse coÃ¯ncidence. Dans d'autres versions que la version DosBox,la couleur du ciel pour cette raison peut varier.</font></font><br>
<br>
<pre><code class="cpp hljs">	sub dh,<span class="hljs-number">120</span>			; check <span class="hljs-keyword">if</span> pixel is in the sky<font></font>
	js fx6q				; quit <span class="hljs-keyword">if</span> that<span class="hljs-number">'</span>s the <span class="hljs-keyword">case</span><font></font>
	mov [bx+si],dx		; move XY to a memory location<font></font>
	fild word [bx+si]	; read memory location as integer<font></font>
	fidivr dword [bx+si]; reverse divide by constant<font></font>
	fstp dword [bx+si<span class="hljs-number">-1</span>]; store result as floating point<font></font>
	mov ax,[bx+si]		; get the result into AX<font></font>
	add ax,bp			; modify color by time<font></font>
	<span class="hljs-keyword">and</span> al,<span class="hljs-number">128</span>			; threshold into two bands<font></font>
	dec ax				; beautify colors to blue/black</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Effet de dÃ©coloration</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour plus de commoditÃ©, l'effet est isolÃ© du cadre global. </font><font style="vertical-align: inherit;">En fait, il gÃ©nÃ¨re un nombre pseudo-alÃ©atoire Ã  partir du pointeur d'Ã©cran, puis effectue un dÃ©calage temporel de sa valeur mise Ã  l'Ã©chelle, aprÃ¨s quoi il provoque l'effet souhaitÃ©.</font></font><br>
<br>
<pre><code class="cpp hljs">	mov ax,<span class="hljs-number">0xcccd</span>			; load magic Rrrola constant<font></font>
	mul di					; transform screen pointer to X, Y<font></font>
	add al,ah				; use transformation garbage as<font></font>
	<span class="hljs-keyword">xor</span> ah,ah				; pseudorandom value <span class="hljs-keyword">and</span> clear AH<font></font>
	add ax,bp				; add time value to random value<font></font>
	shr ax,<span class="hljs-number">9</span>				; divide by <span class="hljs-number">512</span> (basically the speed)
	<span class="hljs-keyword">and</span> al,<span class="hljs-number">15</span>				; filter effect number<font></font>
	xchg bx,ax				; move effect number to BX<font></font>
	mov bh,<span class="hljs-number">1</span>				; reset BH to align with start of code<font></font>
	mov bl,[byte bx+table]	; read the effect address from the table</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Musique MIDI</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette section de code incrÃ©mente la valeur de temps et crÃ©e un son. En sÃ©lectionnant le canal 3, nous pouvons rÃ©utiliser l'instruction Â«changer le canal de l'outilÂ» comme Â«RETÂ». En dÃ©calant le code d'effet, vous pouvez crÃ©er une valeur appropriÃ©e pour le volume, ce qui Ã©conomise un autre octet. Il convient de noter que cette partie du code ne fonctionne que si l'appareil MIDI est dÃ©jÃ  en mode UART, sinon vous devrez dÃ©penser trois autres octets. Beaucoup de spectateurs et d'organisateurs m'ont dit que la mÃ©lodie est un peu comme </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">les Incantations de Mike Oldfield</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais elle a Ã©tÃ© crÃ©Ã©e avec une technique trÃ¨s simple. Depuis </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hypnoteye 2015,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> j'ai expÃ©rimentÃ© avec du MIDI procÃ©dural et finalement publiÃ© un </font></font><a rel="nofollow" href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">petit framework MIDI (64 octets)</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Le principe principal de son travail est de sauter avec une hauteur fixe dans l'espace tonal et de convertir les valeurs hautes en basses (par division modulo). </font><font style="vertical-align: inherit;">Des combinaisons simples de stepwidth et de modvalue peuvent produire des effets intÃ©ressants. </font><font style="vertical-align: inherit;">Par exemple, stepwidth = 3 vous permet d'obtenir un accord mineur rÃ©duit de faÃ§on continue et stepwidth = 4 ou stepwidth = 6 - effets tritonaux. </font><font style="vertical-align: inherit;">Avec une valeur de module bien choisie, ces motifs peuvent crÃ©er des sÃ©quences. </font><font style="vertical-align: inherit;">Je n'ai pas effectuÃ© une analyse thÃ©orique appropriÃ©e, mais j'ai simplement explorÃ© l'espace des tons et notÃ© des sons intÃ©ressants.</font></font><br>
<br>
<pre><code class="cpp hljs">sounds: db <span class="hljs-number">0xc3</span>, <span class="hljs-number">11</span>, <span class="hljs-number">0x93</span>, fx2-s<font></font>
...<font></font>
		inc bp				; increment timing value<font></font>
		test bp, <span class="hljs-number">7</span>			; play a note every <span class="hljs-number">8</span>th step<font></font>
		jnz nomuse			; quit <span class="hljs-keyword">if</span> in between<font></font>
		mov dx,<span class="hljs-number">0x330</span>		; port number <span class="hljs-keyword">for</span> MIDI<font></font>
		mov si,sounds		; adress <span class="hljs-keyword">for</span> sound data<font></font>
		outsb				; change instrument of channel <span class="hljs-number">3</span><font></font>
		outsb				; to vibraphone<font></font>
		outsb				; play a note on channel <span class="hljs-number">3</span>
		imul ax,bp,<span class="hljs-number">-19</span>*<span class="hljs-number">32</span>*<span class="hljs-number">4</span>	; the magic melody constant<font></font>
		shr ax,<span class="hljs-number">10</span>			; scale down <span class="hljs-keyword">and</span> implicit <span class="hljs-string">"and 63"</span>
		add al,<span class="hljs-number">22</span>			; pitch base is <span class="hljs-number">22</span>
		out dx,al			; play THIS note on channel <span class="hljs-number">3</span>
		outsb				; play it with THIS volume</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code de version complÃ¨te</font></font></h2><br>
<pre><code class="cpp hljs">; <span class="hljs-string">"memories"</span> by HellMood/DESiRE<font></font>
; the tiny megademo, <span class="hljs-number">256</span> byte msdos intro<font></font>
; shown in April <span class="hljs-number">2020</span> @ REVISION<font></font>
;<font></font>
;   (= WILL BE COMMENTED IN DETAIL LATER =)<font></font>
;<font></font>
; create : nasm.exe memories.<span class="hljs-keyword">asm</span> -fbin -o memories.com<font></font>
; <span class="hljs-function">CHOOSE YOUR TARGET <span class="hljs-title">PLATFORM</span> <span class="hljs-params">(compo version is dosbox)</span>
</span>; be sure to use the dosbox.conf from <span class="hljs-keyword">this</span> archive!<font></font>
; only ONE of the defines should be active!<font></font>
%define dosbox			; size : <span class="hljs-number">256</span> bytes<font></font>
;%define freedos		; size : <span class="hljs-number">230</span> bytes<font></font>
;%define winxpdos		; size : <span class="hljs-number">263</span> bytes<font></font>
<font></font>
; DON<span class="hljs-number">'</span>T TOUCH THESE UNLESS YOU KNOW WHAT YO<span class="hljs-string">U'RE DOING
%ifdef winxpdos
	%define music
	%define switch_uart
	%define safe_dx
	%define safe_segment
%endif
%ifdef freedos
	%define safe_dx
%endif
%ifdef dosbox
	%define music
	;%define safe_dx ; sometimes needed
%endif

; GLOBAL PARAMETERS, TUNE WITH CARE!
%define volume 127	; not used on dosbox (optimization)
%define instrument 11
%define scale_mod -19*32*4; 
%define time_mask 7
%define targetFPS 35
%define tempo 1193182/256/targetFPS		
%define sierp_color 0x2A
%define tunnel_base_color 20
%define tunnel_pattern 6
%define tilt_plate_pattern 4+8+16
%define circles_pattern 8+16

org 100h
s:
%ifdef freedos
	mov fs,ax
	mov [fs:0x46c],ax
%endif
	mov al,0x13
	int 0x10	 
	xchg bp,ax
	push 0xa000-10
	pop es
%ifndef freedos
	mov ax,0x251c
	%ifdef safe_dx	
		mov dx,timer	
	%else ; assume DH=1, mostly true on DosBox
		mov dl,timer
	%endif
	int 0x21
%endif
top:
%ifdef freedos
	mov bp,[fs:0x46c]
%endif	
	mov ax,0xcccd
	mul di
	add al,ah
	xor ah,ah
	add ax,bp
	shr ax,9
	and al,15
	xchg bx,ax
	mov bh,1
	mov bl,[byte bx+table]
	call bx
	stosb
	inc di
	inc di
	jnz top
	mov al,tempo
	out 40h,al
	in al,0x60
	dec al
	jnz top
sounds:
	db 0xc3	; is MIDI/RET
%ifdef music
	db instrument,0x93
	%ifdef switch_uart
		db volume		; without switch, volume is in table
		db 0x3f 
	%endif
%endif
table: ; first index is volume, change order with care!		    					
	db fx2-s,fx1-s,fx0-s,fx3-s,fx4-s,fx5-s,fx6-s,sounds-s,stop-s
stop:
	pop ax
	ret
timer:
%ifndef freedos
	%ifdef safe_segment
		push cs
		pop ds
	%endif
		inc bp
	%ifdef music	
		test bp, time_mask
		jnz nomuse
		mov dx,0x330
		mov si,sounds
		outsb
		outsb
		outsb
		imul ax,bp,scale_mod
		shr ax,10
		add al,22
		out dx,al
		outsb
		%ifdef switch_uart
			inc dx
			outsb
		%endif
	%endif
nomuse:
	iret
%endif	
fx0: ; tilted plane, scrolling
	mov ax,0x1329
	add dh,al
	div dh
	xchg dx,ax
	imul dl
	sub dx,bp
	xor ah,dl
	mov al,ah
	and al,tilt_plate_pattern
ret
fx2: ; board of chessboards
	xchg dx,ax
	sub ax,bp
	xor al,ah
	or al,0xDB
	add al,13h
ret
fx1: ; circles, zooming
	mov al,dh
	sub al,100
	imul al
	xchg dx,ax
	imul al
	add dh,ah
	mov al,dh
	add ax,bp
	and al,circles_pattern
ret
fx3: ; parallax checkerboards
	mov cx,bp
	mov bx,-16
fx3L:
	add cx,di
	mov ax,819
	imul cx	 
	ror dx,1	 
	inc bx	 
	ja fx3L
	lea ax,[bx+31]	 
ret
fx4: ; sierpinski rotozoomer	
	lea cx,[bp-2048]
	sal cx,3
	movzx ax,dh
	movsx dx,dl
	mov bx,ax
	imul bx,cx
	add bh,dl
	imul dx,cx
	sub al,dh
	and al,bh
	and al,0b11111100
	salc				; VERY slow on dosbox, but ok
	jnz fx4q
	mov al,sierp_color
	fx4q:
ret
fx5: ; raycast bent tunnel
	mov cl,-9
	fx5L: 
	push dx
		mov al,dh
		sub al,100
		imul cl
		xchg ax,dx	
		add al,cl
		imul cl
		mov al,dh
		xor al,ah
		add al,4
		test al,-8
	pop dx
	loopz fx5L
	sub cx,bp
	xor al,cl
	aam tunnel_pattern; VERY slow on dosbox, but ok
	add al,tunnel_base_color
ret
fx6: ; ocean night / to day sky
	sub dh,120
	js fx6q
	mov [bx+si],dx
	fild word [bx+si]
	fidivr dword [bx+si]
	fstp dword [bx+si-1]
	mov ax,[bx+si]
	add ax,bp
	and al,128
	dec ax
fx6q:
ret</span></code></pre><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bonus - NFO / ASCII</font></font></b>
                        <div class="spoiler_text"><pre>                                                             art : hammerfist<font></font>
         âˆ‚#MW%e                              _d$Ng,<font></font>
         'B,  âˆ‚b                   _jM@$QZb,cQ"  )@<font></font>
  ,edRB$b,l@   Wk,yGR$KM&amp;$b,     ,dP"     Wl ]bsd%UR8BG6&amp;$@DSyG#ZKM&amp;$b,<font></font>
,dP      "T%L  'MGF      "*âˆ‚R_   Tg    "*4Zk,#I  YP   W"    7P      "*âˆ‚R<font></font>
4M   gd@    ^   âˆ‚@   d@b   dQ$#@Z@R3L_    "*GMj  'W      ,gd$   d@b   9Q$#%b<font></font>
W#,  `M          Wb  `*  _4P   `Qk  *#N8L   `H5   @b   'QR7YK   `*  _4F"   Qk<font></font>
`6@L             dML            '@          ,BK   'M    âˆ‚B  *b,            '#L<font></font>
  ^QBb,_     _,4&amp;Mâˆâˆ‚@=,_       _dGL       _gQKM    GL    @k  'Mg,_         _dG,<font></font>
    "*BN5W$2#MNP"   "*G3WRM8&amp;B5P"`Y@QNW3Z5P" âˆ‚#$W8BRM3XZN87    "*GW38M%EBDW5P"`<font></font>
<font></font>
<font></font>
                              p r e s e n t s<font></font>
<font></font>
            4<font></font>
           d@,<font></font>
         _&amp; `Wl<font></font>
      _,aP   "#baedM$#@@K JP*"?ML<font></font>
 ,ad@$#P"         ,d@NEWVB"     X,aQPYb,_<font></font>
V@Mm,_          ,d@MW#BW'      EMP"   'Â¶R ,ngBP^fML<font></font>
 Â¶M@N@y        Y#BNW#M"       J9"      `MQ9"      "MgRBq  ,QBMg,<font></font>
  VN#P` ,d@@    `WM@^                   7f         Â¶F` 7kY"   ^G  _.eQNE1.<font></font>
   ]B _G@MWN$,   `P                     '     4b       QP      Â¶w@F*^  ^Qb<font></font>
   ]O@NRM#W@MNB,         ;                    ^`      j        JP^       Yl<font></font>
  J#NRNWM@#BcT"^        ,A  _J                     _q@                   `X<font></font>
 'Â¶WM#B@WdY`,7        _G#YN#PM                 _,gG"                      M,<font></font>
  *BN#WP"  dK       ,Q@NRMB"]9       ,      _,M@Q*                        #A<font></font>
   "U^      V@h,   iNBW#NT  J'      J9     s@QN"         _;               'D,<font></font>
             Â¶RMBv&amp;NMQR@9  .W      .K'     "9`         ,6BA   _JL          ]l<font></font>
              Y#NE@W#NRP   #[      `Â¶8               _d@MW#B_jW#W          BN<font></font>
               "GQ@MR#W    QL_      *B            _,p#NBW#NQMG@WY          3Q<font></font>
                  "Y@F     ,XW@M%im,_Yb_     _,g5@#MW@QMNE@E@NRMB         ,WM<font></font>
                    `  _,gP*"#REM#GB@N#MQbnd@N#M@MW#R8QSB^'WQERM@        ;4NB,<font></font>
                     ,GYKL    Â¶E#B8R8QSB@M@#BM#W@MNB"`_  ,  "^` N       ,dW@Ql<font></font>
                   _Q`'W`*t    'Â¶@GS#MBQ#E@W#NQBW[     'LvQ_   ,K    _dNABGM#N<font></font>
                  ,F   '          `^WAB@QGE9*"9^*@L    jP7FY,  Â¶h,_.jWM#BR#GBM,<font></font>
                 J;    ,   _                  '       '   "LL  YxE#B8R8QSBNW@W;<font></font>
                AP   _,Ag6^          _   J                  Â¶A  `"Q#M@MW#R8E#P<font></font>
               j@   `"XQW[            'LvK,_      'L_,/      @t    Y#NE@WNR"<font></font>
              :M/     9^*@L           jP7F"       _PYKL     _,A;     Â¶RSNQ"<font></font>
              dKL     '     `        '   "L      "`'W`*t   `"XQb      `W^<font></font>
              Q`8t            'L_,/         ,   _   '        9^Q<font></font>
             ,W               _PYKL       _,Ag6^             ' W,     _ ,#N&amp;<font></font>
             !N  _   J       "`'W`*t     `"XQW[       _  J     N!_JG9^RwQ' *t<font></font>
             `W,  'LvK,_        '        _gGB8@L   _   'LvK,_ ,WgB'    V    7L<font></font>
         _.,gm&amp;@B&amp;wBZF"                j@'`  "WL _gML  jZd7Yb lN"          dBWl<font></font>
      ,g&amp;QB*"^`    `"*G@g, .gR&amp;k,_   ,N"      '@QF  Â¶k;gMF  *QvQ     jQ, ,@N@B#,<font></font>
   .eQF*`              `Yb@"  "*6Qg,gF     ,   7     XMN"    'MNB,    ^Â¶QWSER@N;<font></font>
 ,gP"           qy,      W'       ^Q'     &amp;L      ,g@W'       `QMEL     `"WBNWP<font></font>
g7              Â¶9      ,X         M?     9"   _q8MSK           Â¶EMt       *@K<font></font>
Vh   _,m#L             _AH        le         ,GBDNE9^A,          *@F        NMg<font></font>
 Â¶L,qQ@ND           _.m@Bl        We      ,gM@B8#Q'   Â¶h_                   lWE,<font></font>
  W9NHW@`          JWM#B@]        @e     4WR@NGF^      'QL                  dRWl<font></font>
   VMd*            "@BE@PM        'N      *UP"           VW,               JRSB;<font></font>
  ,@F       j       `Â¶WK W,        Â¶t                     XNt            _A@E#N<font></font>
_JP       ,6&amp;         "GLdM         XD,               _.g8NMA@k,_    _,gG#NMGR;<font></font>
"Z      .JRER           'VMi     _jNB#W&amp;_         _,j@E@W#Nl Â¶MBGMNQGNQMG@QBW9<font></font>
 Â¶h   ,G@NRMBl            `"   ,d#R@M$F Â¶Mg,_.gp&amp;@@NEWVBWBMG  *QMN8R8SBN$E@WF<font></font>
  Vb dW#R8QSRb,                 *YM@EQ,_ 'MENBW#NQMG#B@R@MW#l   "BM@QNENRQG'<font></font>
   *WGS#MBMNEYL                    `^"*8M@Q@NRM#W@BWSNW@QBF"`     `^*@QBF^ [HFT]<font></font>
    ^M@MW#Q9 ^Wt                           `^Â¶RQ@W8NQGP*`<font></font>
     Â¶Q#@P     Vk                            lA `"^`<font></font>
      Y"       `MA                           J#,<font></font>
                *R@,                        ,MQl<font></font>
                 Y#Wk,                      GWM8L<font></font>
                  W8RQSt,_                 AQ@MR#,<font></font>
                  `@M@#SB@Mbm.,_          QNBW#NW<font></font>
                    Â¶QB8R8SBN$WNRM@#GNtwg@NMQR@B'<font></font>
                     *MBQ#8R8QS@NE@WNBW#NQMG@NR;<font></font>
                      `WGS#MBQ#R8QSB@NE@W#NQBW9<font></font>
                        *OMW@QMNE@E@NRMW@QMB@*<font></font>
                          `^"YQW@Q#SB#NE@EGP<font></font>
                               `^"*8R@GBQF`</pre><br>
</div>
                    </div></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr498086/index.html">Laissez fleurir une centaine de missiles rÃ©utilisables</a></li>
<li><a href="../fr498088/index.html">Comment fonctionnent les chercheurs Avito</a></li>
<li><a href="../fr498090/index.html">Les dunes de sable sont capables de "communiquer" entre elles</a></li>
<li><a href="../fr498092/index.html">Une mÃ©thode alternative pour classer le champ Â«genreÂ» d'un passeport russe Ã  l'aide d'un rÃ©seau neuronal</a></li>
<li><a href="../fr498094/index.html">Comment nous avons transfÃ©rÃ© toutes les communications internes de l'entreprise vers en ligne</a></li>
<li><a href="../fr498100/index.html">Conception de clusters Kubernetes: combien devraient-ils y en avoir?</a></li>
<li><a href="../fr498104/index.html">Comment les sites sont dÃ©veloppÃ©s Ã  partir de 100 000 $</a></li>
<li><a href="../fr498110/index.html">Â«Que faire lorsque des changements spectaculaires dans les processus dÃ©motivent une Ã©quipe.Â» L'expÃ©rience de l'ingÃ©nieur backend devenu chef d'Ã©quipe</a></li>
<li><a href="../fr498114/index.html">Attaque d'un pixel. Ou comment tromper un rÃ©seau de neurones</a></li>
<li><a href="../fr498118/index.html">ConfÃ©rences sur la tÃ©lÃ©commande: transformation en ligne du groupe JUG Ru</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>