<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦍 👨🏾‍⚖️ 📵 Exploitation d'un grand système distribué: ce que j'ai appris 🤴🏽 🎞️ 📘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En lisant divers canaux et newsletters, je tombe souvent sur des articles sur des «douleurs» spécifiques et des problèmes qui surviennent lorsqu'une e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Exploitation d'un grand système distribué: ce que j'ai appris</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/youla/blog/494932/"><img src="https://habrastorage.org/webt/xy/c2/rk/xyc2rkmcwj7enywqjgy-vgdynzs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En lisant divers canaux et newsletters, je tombe souvent sur des articles sur des «douleurs» spécifiques et des problèmes qui surviennent lorsqu'une entreprise se développe, lorsque la fiabilité et l'évolutivité viennent au premier plan. Cet article est différent. Il n'y a pas d'analyse détaillée de solutions architecturales spécifiques ni de guide étape par étape pour changer la culture d'ingénierie. Il s'agit plutôt d'une vue de dessus des défis qui se posent lors de l'exploitation de systèmes distribués et d'un point de départ qui vous aidera à naviguer dans le flux de termes, d'abréviations et de technologies. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'attire votre attention sur la traduction d'un article rédigé par un ingénieur d'Uber. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours des dernières années, j'ai créé et maintenu un grand </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">système de paiement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> distribué </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">dans Uber</font></a><font style="vertical-align: inherit;"> . Pendant ce temps, j'ai beaucoup appris sur les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">concepts d'architectures distribuées.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et de ma propre expérience, j'ai découvert à quel point il est difficile de créer et de maintenir des systèmes très chargés avec une haute disponibilité. Construire un tel système est un travail intéressant. J'aime planifier la façon dont le système gérera la croissance du trafic de 10 à 100 fois, afin d'assurer la fiabilité des données indépendamment des pannes matérielles. Cependant, l' </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exploitation d'un grand système distribué m'a donné une expérience inattendue</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus le système est grand, plus il est probable que vous rencontrerez une manifestation de la loi de Murphy: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout ce qui peut mal tourner va mal</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." La probabilité est particulièrement élevée avec des versions fréquentes, lorsque de nombreux développeurs déploient du code, lorsqu'ils utilisent plusieurs centres de données et avec un large public d'utilisateurs à travers le monde. Au cours des dernières années, j'ai rencontré plusieurs pannes de système, dont beaucoup m'ont surpris: des problèmes prévisibles, tels que des pannes matérielles ou des bugs innocents, aux ruptures de câbles qui connectent les centres de données à de nombreux plantages en cascade qui se produisent simultanément. J'ai connu des dizaines d'échecs dans lesquels certaines parties du système ne fonctionnaient pas correctement, ce qui a grandement affecté l'entreprise.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cet article résume les techniques qui ont bénéficié de l'exploitation d'un grand système</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans Uber. </font><font style="vertical-align: inherit;">Mon expérience n'est pas unique: d'autres travaillent avec des systèmes de même taille et vivent les mêmes aventures. </font><font style="vertical-align: inherit;">J'ai parlé avec des ingénieurs de Google, Facebook et Netflix, qui ont fait face à des situations similaires et ont trouvé des solutions similaires. </font><font style="vertical-align: inherit;">De nombreuses idées et processus décrits ici peuvent être appliqués à des systèmes de la même échelle, qu'ils fonctionnent dans des centres de données appartenant à l'entreprise (comme c'est le plus souvent le cas avec Uber) ou dans le cloud (où Uber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">évolue parfois</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Cependant, ces conseils peuvent être redondants pour des systèmes pas si importants ou importants pour l'entreprise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous parlerons de ces sujets:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">surveillance</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service (sur appel), détection et notification d'anomalies.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion des pannes et des incidents.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post mortem, analyse d'incidents et culture d'amélioration continue.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basculement, planification des ressources et test de la boîte noire.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA et rapports sur eux.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE en équipe indépendante.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La fiabilité comme investissement permanent.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matériaux utiles.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">surveillance</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour comprendre si le système est sain, nous devons répondre à la question: «Fonctionne-t- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il correctement? </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">". </font><font style="vertical-align: inherit;">Pour cela, il est essentiel de collecter des informations sur les parties critiques du système. </font><font style="vertical-align: inherit;">Et lorsque vous avez des systèmes distribués comprenant divers services sur de nombreux serveurs et dans différents centres de données, il peut être difficile de décider quels points clés vous </font><font style="vertical-align: inherit;">devez </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vraiment</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> suivre. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suivi de l'état des infrastructures.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si une ou plusieurs machines / machines virtuelles sont surchargées, certaines parties du système distribué peuvent dégrader les performances. Les métriques d'état des machines sur lesquelles le service s'exécute - la consommation de ressources processeur et de mémoire - ce sont les paramètres de base qui doivent être surveillés. Il existe des plates-formes qui suivent initialement ces mesures et mettent automatiquement à l'échelle les instances. Uber dispose d'une excellente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">équipe d'infrastructure de base</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui, par défaut, assure la surveillance et les alertes. Quelle que soit la méthode d'implémentation, vous devez disposer d'informations indiquant que les instances, l'infrastructure ou les services individuels ont des problèmes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Surveillance de l'état du service: trafic, erreurs, retard</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Souvent, vous devez avoir la réponse à la question "</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le backend fonctionne-t-il bien?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". La surveillance de métriques telles que la quantité de trafic entrant, la proportion d'erreurs et le retard de réponse fournit des informations précieuses sur l'état du service. Je préfère créer des tableaux de bord pour toutes ces mesures. Lorsque vous créez un nouveau service, l'utilisation des réponses HTTP correctes et la surveillance des codes correspondants peuvent en dire beaucoup sur l'état du système. Si vous êtes sûr que les codes 4xx sont retournés pour les erreurs du client et que les codes 5xx sont retournés pour les erreurs du serveur, il vous sera facile de créer et d'interpréter une telle surveillance.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a autre chose à dire sur la surveillance des délais de réponse. L'objectif des services de production est que la plupart des utilisateurs finaux apprécient de les utiliser. Et mesurer le retard moyen n'est pas la meilleure solution, car la valeur moyenne peut masquer un petit nombre de demandes avec un retard important. Il est préférable de mesurer p95, p99 ou p999 - le délai pour le 95e, 99e ou 99,9e centile des demandes. Ces chiffres aident à répondre à des questions comme: «À </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quelle vitesse la demande sera-t-elle adressée à 99% des visiteurs?»</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "(P99) ou" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle sera la lenteur de la demande pour un visiteur sur 1000?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "(P999). Si vous êtes intéressé par les détails, vous pouvez lire </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cet article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e7/xm/b_/e7xmb_bxizqg4bcqw40buaeylsc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphique pour p95 et p99. Notez que le délai moyen pour ce point de terminaison est inférieur à 1 seconde et 1% des demandes prend 2 secondes. et plus - cela ne se voit pas lors de la mesure de la valeur moyenne.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le sujet de la surveillance et de l'observabilité est beaucoup plus profond. Je recommande de lire le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Google </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">SRE</font></a><font style="vertical-align: inherit;"> et la section </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quatre signaux d'or</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur la surveillance des systèmes distribués. Si pour un système avec lequel les utilisateurs interagissent, vous ne pouvez obtenir que quatre mesures, puis concentrez-vous sur le trafic, les erreurs, le retard et la saturation. Il y a moins de matériel - le livre électronique sur l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observabilité des systèmes distribués</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui décrit des outils utiles tels que les journaux, ainsi que les meilleures pratiques d'utilisation des métriques et du traçage.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Surveillance des mesures commerciales.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les services de surveillance nous renseignent sur leur état général. Mais d'après les seules données de surveillance, nous ne pouvons pas dire si les services fonctionnent correctement, si tout est correctement traité d'un point de vue commercial. Dans le cas du système de paiement, la question principale est: «Les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gens peuvent-ils faire des voyages en utilisant un mode de paiement spécifique?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". L'une des étapes les plus importantes de la surveillance consiste à identifier et à suivre les événements commerciaux créés et traités par ce service.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon équipe a créé un suivi des métriques métier après une panne que nous n'avons pas pu détecter autrement. </font><font style="vertical-align: inherit;">Tout semblait comme si les services fonctionnaient normalement, mais en fait la fonctionnalité clé ne fonctionnait pas. </font><font style="vertical-align: inherit;">Ce type de suivi était très inhabituel pour notre entreprise et notre domaine d'activité. </font><font style="vertical-align: inherit;">Par conséquent, nous avons dû faire beaucoup d'efforts pour configurer cette surveillance pour nous-mêmes, créant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">notre propre système</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service, détection d'anomalies et alerte</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La surveillance est un excellent outil pour vérifier l'état actuel du système. Mais ce n'est qu'une étape sur la route pour détecter automatiquement les défaillances et alerter ceux qui devraient faire quelque chose dans ce cas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La montre est un vaste sujet. Increment Magazine a fait un excellent travail en soulignant bon nombre des problèmes du numéro sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . À mon avis, le devoir est une continuation logique de l'approche «vous avez créé - vous possédez». Les services appartiennent aux équipes qui les ont créés et possèdent également un système d'alerte et de réponse aux incidents. Mon équipe possédait un tel système pour le service de paiement que nous avons créé. Et lorsque l'alerte arrive, l'ingénieur de service doit répondre et savoir ce qui se passe. Mais comment passer de la surveillance aux alertes?</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La détermination des anomalies sur la base des données de surveillance est une tâche difficile</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et l'apprentissage automatique devrait se manifester pleinement ici. Il existe de nombreux services tiers pour détecter les anomalies. Heureusement pour mon équipe, notre entreprise a son propre groupe d'apprentissage automatique pour résoudre les problèmes auxquels Uber est confronté. L'équipe de New York a écrit un article utile sur le fonctionnement de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la détection des anomalies par Uber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Du point de vue de mon équipe, nous ne transmettons que des données de surveillance à ce pipeline et recevons des alertes avec différents degrés de confiance. Et puis nous décidons d'en informer l'ingénieur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quand dois-je envoyer une alerte? La question est intéressante. S'il y a trop peu d'alertes, nous pouvons manquer un problème important. Si c'est trop, les gens ne dormiront pas la nuit.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le suivi et la catégorisation des alertes, ainsi que la mesure des rapports signal / bruit, jouent un rôle important dans la mise en place d'un système d'alerte</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Une bonne étape vers une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rotation régulière des ingénieurs en service</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> consistera à analyser les alertes, à classer les événements comme «nécessitant une action» et «ne nécessitant pas», puis à réduire le nombre d'alertes qui ne nécessitent aucune action.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/239/3be/498/2393be498f8076e4fdcd25d5c65ae6c9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de panneau Call Duty</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> créé par l'équipe Uber Developer Experience à Vilnius. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'équipe Uber pour la création d'outils de développement à partir de Vilnius a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">créé un petit outil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que nous utilisons pour commenter les alertes et visualiser les changements de service. </font><font style="vertical-align: inherit;">Notre équipe génère un rapport hebdomadaire sur le travail du dernier quart de travail, analyse les faiblesses et améliore la méthodologie du travail.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion des pannes et des incidents</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imaginez: vous êtes ingénieur de service pendant une semaine. </font><font style="vertical-align: inherit;">Au milieu de la nuit, vous réveillez un message sur le téléavertisseur. </font><font style="vertical-align: inherit;">Vous vérifiez si un échec de production s'est produit. </font><font style="vertical-align: inherit;">Merde, il semble qu'une partie du système s'est écrasée. </font><font style="vertical-align: inherit;">Maintenant quoi? </font><font style="vertical-align: inherit;">La surveillance et l'alerte ont bien fonctionné. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les pannes peuvent ne pas être particulièrement problématiques pour les petits systèmes lorsque l'ingénieur de service peut comprendre ce qui s'est passé et pourquoi. </font><font style="vertical-align: inherit;">Habituellement, dans de tels systèmes, vous pouvez rapidement identifier les causes et les éliminer. </font><font style="vertical-align: inherit;">Mais dans le cas de systèmes complexes contenant de nombreux (micro) services, lorsque de nombreux ingénieurs envoient le code en fonctionnement, la raison de l'échec est assez difficile. </font><font style="vertical-align: inherit;">Et le respect de plusieurs procédures standard peut être très utile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La première ligne de défense sont les </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">runbooks des procédures de réponse standard</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui décrivent des étapes de dépannage simples. Si l'entreprise dispose de telles listes et bénéficie d'un soutien actif, il est peu probable qu'une idée superficielle de l'ingénieur de service sur le système soit un problème. Les listes doivent être tenues à jour, mises à jour et traitées pour trouver de nouvelles façons de résoudre les problèmes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informer sur les échecs des autres employés</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela devient très important si plusieurs équipes sont impliquées dans le déploiement d'un service. Dans l'environnement dans lequel je travaille, les services, selon les besoins, sont déployés par des milliers d'ingénieurs, avec une fréquence de centaines de versions par heure. Et le déploiement apparemment anodin d'un service peut en affecter un autre. Dans une telle situation, un rôle important est joué par la normalisation des rapports de défaut et des canaux de communication. J'ai eu de nombreux cas où l'alerte ne ressemblait à rien d'autre et j'ai réalisé que pour les autres équipes, cela semblait également étrange. Communiquant dans un chat général sur les pannes, nous identifions le service responsable de la panne et éliminons rapidement les conséquences. Ensemble, nous parvenons à le faire beaucoup plus rapidement que chacun de nous individuellement. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Éliminez les conséquences maintenant et comprenez-le demain</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Au milieu d'un accident, j'étais souvent submergé par une vague d'adrénaline à cause d'un désir de corriger les erreurs. </font><font style="vertical-align: inherit;">Souvent, la cause du problème était le déploiement de mauvais code avec un bogue évident. </font><font style="vertical-align: inherit;">Auparavant, j'aurais tout quitté et commencé à corriger les erreurs, à envoyer un correctif et à restaurer le code ayant échoué. </font><font style="vertical-align: inherit;">Mais fixer la cause au milieu d'un accident est une </font><font style="vertical-align: inherit;">idée </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terrible </font></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Avec une solution rapide, vous pouvez réaliser peu et perdre beaucoup</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Étant donné que la correction doit être effectuée rapidement, elle doit être testée au combat. </font><font style="vertical-align: inherit;">Et c'est le chemin vers un nouveau bogue - ou un nouvel échec - en plus de celui existant. </font><font style="vertical-align: inherit;">J'ai vu comment cela a causé un certain nombre d'échecs. </font><font style="vertical-align: inherit;">Concentrez-vous simplement sur la correction des conséquences, ne soyez pas tenté de corriger le code ou de trouver la cause. </font><font style="vertical-align: inherit;">L'enquête attendra demain.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post mortem, analyse d'incidents et culture d'amélioration continue</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un rapport d'incident est une caractéristique importante de la façon dont une équipe gère les conséquences d'une défaillance. La situation inquiète-t-elle les gens? Font-ils un peu de recherche ou consacrent-ils une quantité incroyable d'efforts à l'observation, arrêtent-ils le produit et apportent-ils des corrections? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'autopsie correctement rédigée est l'un des principaux éléments de la construction de systèmes durables. Il ne condamne personne et ne cherche pas les coupables, il s'agit d'une étude et d'une analyse réfléchies de l'incident. Au fil du temps, nos modèles pour de tels rapports ont évolué, des sections avec des conclusions finales, une évaluation d'impact, une chronologie des événements, une analyse de la raison principale, des leçons apprises et une liste détaillée des éléments pour une observation plus approfondie sont apparues.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/652/c06/931/652c0693103d40024459362c326c723e.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai utilisé ce modèle de gestion des erreurs dans Uber. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un bon post-mortem, la cause de l'échec est minutieusement étudiée et des mesures sont proposées pour prévenir, détecter ou éliminer rapidement les conséquences d'échecs similaires. </font><font style="vertical-align: inherit;">Et quand je dis "profondément", je veux dire que les auteurs ne s'arrêtent pas au fait que la raison en était le roulement de code avec un bug que le relecteur n'a pas remarqué. </font><font style="vertical-align: inherit;">Les auteurs doivent appliquer la méthodologie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Five Why</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour arriver à une conclusion plus utile. </font><font style="vertical-align: inherit;">Par exemple:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi y a-t-il un problème? </font><font style="vertical-align: inherit;">-&gt; Le</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bug a été téléchargé dans le cadre du code.</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi personne n’a-t-il attrapé un bug? </font><font style="vertical-align: inherit;">-&gt;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Celui qui a fait la revue n'a pas remarqué que changer le code pouvait conduire à un tel problème.</font></font></li>
<li><i>     ,    ?</i> --&gt;         .</li>
<li><i>       ?</i> --&gt;         .</li>
<li><i>      ?</i> --&gt;       .</li>
<li>:          .    ,           .</li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'analyse des incidents</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un outil complémentaire important pour travailler sur les bogues. Alors que certaines équipes travaillent soigneusement sur les bogues, d'autres peuvent bénéficier de données supplémentaires et apporter des améliorations préventives. Il est également important que les équipes se considèrent responsables et capables d'apporter les améliorations qu'elles proposent au niveau du système. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les organisations soucieuses de fiabilité, les incidents les plus graves sont analysés et éliminés par des ingénieurs expérimentés. Il est également nécessaire de gérer l'ingénierie au niveau de l'entreprise pour s'assurer que les corrections peuvent être apportées - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">surtout</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si elles prennent du temps ou interfèrent avec d'autres travaux. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un système fiable ne peut pas être créé en une nuit: des itérations constantes seront nécessaires</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Itérations résultant d'une culture d'entreprise d'amélioration continue basée sur les enseignements tirés des incidents.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basculement, planification des ressources et test de la boîte noire</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe plusieurs procédures régulières qui nécessitent des investissements importants, mais qui sont essentielles pour maintenir un grand système distribué. Je suis arrivé à ces idées pour la première fois chez Uber, je n'avais pas besoin de les appliquer à d'autres entreprises en raison de la petite taille et de l'indisponibilité de l'infrastructure. </font><font style="vertical-align: inherit;">J'ai considéré un </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">basculement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> stupide </font><strong><font style="vertical-align: inherit;">dans le centre de données (basculement)</font></strong><font style="vertical-align: inherit;"> jusqu'à ce que je tombe sur moi-même. Au départ, je pensais que la conception d'un système distribué stable est la stabilité des datacenters à tomber. Pourquoi devrait-il être testé régulièrement si tout devait </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">théoriquement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fonctionner? La réponse dépend de la mise à l'échelle et du test de la capacité des services à gérer efficacement l'augmentation inattendue du trafic dans le nouveau centre de données.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le scénario d'échec le plus courant que j'ai rencontré est que le service ne dispose pas de suffisamment de ressources dans le nouveau centre de données pour gérer le trafic global en cas de basculement. Supposons que le service A fonctionne dans un centre de données et le service B dans un autre. Soit une consommation de ressources de 60% - des dizaines ou des centaines de machines virtuelles tournent dans chaque centre de données et des alertes sont déclenchées lorsqu'un seuil de 70% est atteint. Tout le trafic entre le centre de données A et le centre de données B a échoué. Le deuxième centre de données ne peut pas faire face à une telle augmentation de la charge sans déployer de nouvelles machines. Cependant, cela peut prendre beaucoup de temps, donc les demandes commencent à s'accumuler et à tomber. Le blocage commence à affecter d'autres services, provoquant une défaillance en cascade d'autres systèmes qui ne sont pas liés au basculement principal.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/kj/ak/rjkjakjltskllvgtcjatntsuvxy.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une situation possible où le basculement entraîne des problèmes.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Un autre scénario de défaillance populaire implique des problèmes au niveau du routage, des problèmes de bande passante réseau ou une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contre-pression</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Le basculement des centres de données est un développement que tout système distribué fiable doit effectuer sans aucun impact sur les utilisateurs. J'insiste - il le </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faut</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ce développement est l'un des exercices les plus utiles pour vérifier la fiabilité des systèmes Web distribués. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exercices de temps d'arrêt des services planifiés</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un excellent moyen de tester la stabilité d'un système entier. C'est également un excellent outil pour détecter les dépendances cachées ou les utilisations inappropriées / inattendues d'un système particulier. Les exercices de temps d'arrêt planifiés peuvent être relativement faciles à effectuer avec des services avec lesquels les clients interagissent et ont des dépendances peu connues. Cependant, si nous parlons de systèmes critiques pour lesquels un temps d'arrêt très court est autorisé ou dont dépendent de nombreux autres systèmes, il sera difficile de réaliser de tels exercices. Mais que se passe-t-il si un tel système devient indisponible un jour? Il vaut mieux répondre à cette question dans une expérience contrôlée afin que toutes les équipes soient prévenues et prêtes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test de Blackbox</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(méthode de la "boîte noire") est un moyen d'évaluer l'exactitude du système dans une situation aussi proche que possible de la façon dont se déroule l'interaction avec l'utilisateur final. Ceci est similaire aux tests de bout en bout, sauf pour le fait que pour la plupart des produits, les tests de blackbox corrects nécessitent votre propre investissement. Les processus et scénarios utilisateur clés qui impliquent une interaction utilisateur sont de bons candidats pour de tels tests: pour tester le système, assurez-vous qu'ils peuvent être lancés à tout moment.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant Uber comme exemple, un test évident de la boîte noire vérifie l'interaction conducteur-passager au niveau de la ville: un passager peut-il trouver un conducteur et faire un voyage sur demande spécifique? Après avoir automatisé ce scénario, le test peut être exécuté régulièrement, en émulant différentes villes. Un système de test de boîte noire fiable permet de vérifier facilement le bon fonctionnement du système ou de ses pièces. Cela aide également beaucoup avec les tests de basculement: le moyen le plus rapide d'obtenir des commentaires de commutation est d'exécuter des tests de boîte noire. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/gz/mw/hxgzmwfqkyhrzxefxuhqrusne2e.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple de test de boîte noire pendant le basculement de basculement et la restauration manuelle. </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La planification des ressources</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">joue un rôle particulièrement important pour les grands systèmes distribués. En gros, je veux dire ceux dans lesquels le coût de l'informatique et du stockage est calculé en dizaines ou centaines de milliers de dollars par mois. À cette échelle, il peut être moins coûteux d'avoir un nombre fixe de déploiements que d'utiliser des solutions cloud auto-évolutives. Dans les cas extrêmes, les déploiements fixes doivent gérer le trafic caractéristique des «activités normales», avec une mise à l'échelle automatique uniquement aux pics de charge. Mais quel est le nombre minimum d'instances à appliquer le mois prochain? Au cours des trois prochains mois? L'année prochaine?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'est pas difficile de prédire les futurs modèles de trafic pour les systèmes matures avec de grands volumes de statistiques. </font><font style="vertical-align: inherit;">Ceci est important pour le budget, le choix des fournisseurs ou pour fixer les remises des fournisseurs de cloud. </font><font style="vertical-align: inherit;">Si votre service génère de grands comptes et que vous n'avez pas pensé à la planification des ressources, il vous manque un moyen simple de réduire les coûts et de les gérer.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA et rapports à leur sujet</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SLO signifie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Level Objective</font></font></strong></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , une mesure de la disponibilité du système. </font><font style="vertical-align: inherit;">Il est </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recommandé de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> définir les </font><strong><font style="vertical-align: inherit;">SLO au niveau du service</font></strong><font style="vertical-align: inherit;"> pour les performances, le temps de réponse, l'exactitude et la disponibilité. </font><font style="vertical-align: inherit;">Ces SLO peuvent ensuite être utilisés comme seuils d'alerte. </font><font style="vertical-align: inherit;">Exemple:</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO métrique</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sous-catégorie</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valeur du service</font></font></strong></th>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bande passante minimale</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500 requêtes par seconde</font></font></td>
</tr>
<tr>
<td></td>
<td>   </td>
<td>2 500   </td>
</tr>
<tr>
<td><strong> </strong></td>
<td>   </td>
<td>50-90 </td>
</tr>
<tr>
<td></td>
<td>   p99</td>
<td>500-800 </td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>0,5 %</td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>99,9 %</td>
</tr>
</tbody></table></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO au niveau de l'entreprise</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ou SLO fonctionnels, il s'agit d'une abstraction sur les services. Ils couvrent des mesures personnalisées ou commerciales. Par exemple, un SLO au niveau de l'entreprise pourrait être le suivant: 99,99% des reçus devraient être postés dans la minute suivant la fin d'un voyage. Ce SLO peut être comparé au SLO au niveau du service (par exemple, avec le retard du système de paiement ou du système d'envoi des chèques postaux), et peut être mesuré séparément. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLA - Service Level Agreement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il s'agit d'un accord plus général entre un fournisseur de services et son consommateur. En règle générale, plusieurs SLO constituent un SLA. Par exemple, la disponibilité d'un système de paiement au niveau de 99,99% peut être SLA, qui est divisée en SLO spécifiques pour chaque système correspondant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir déterminé le SLO, vous devez les mesurer et faire un rapport.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La surveillance et les rapports automatiques sur les SLA et les SLO sont souvent un projet complexe</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que ni les ingénieurs ni les entreprises ne souhaitent prioriser. </font><font style="vertical-align: inherit;">Les ingénieurs ne seront pas intéressés, car ils ont déjà différents niveaux de surveillance pour identifier les pannes en temps réel. </font><font style="vertical-align: inherit;">Une entreprise préfère prioriser la fourniture de fonctionnalités, plutôt que d'investir dans un projet complexe qui ne donnera pas d'avantages immédiats. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et cela nous amène à un autre sujet: les organisations qui exploitent de grands systèmes distribués doivent tôt ou tard affecter des personnes pour garantir la fiabilité de ces systèmes. </font><font style="vertical-align: inherit;">Parlons de l'équipe SRE - Site Reliability Engineering.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE en équipe indépendante</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le terme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Site Reliability Engineering a été</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inventé par Google vers 2003, et il existe aujourd'hui plus de 1 500 ingénieurs SRE. Comme le fonctionnement de l'environnement de production devient une tâche de plus en plus complexe nécessitant plus d'automatisation, il deviendra bientôt un travail à part entière. Cela se produit lorsque les entreprises réalisent que les ingénieurs travaillent sur l'automatisation de l'environnement de production presque toute la journée: plus le système est important et plus il y a de pannes, plus tôt le SRE devient un poste séparé. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les entreprises technologiques à croissance rapide mettent souvent en place très tôt une équipe SRE, qu'elles planifient elles-mêmes. À Uber, une telle équipe a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">été créée en 2015.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Son objectif était de gérer la complexité du système. Dans d'autres sociétés, la répartition des équipes SRE peut être associée à la création d'une équipe infrastructure distincte. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque l'entreprise atteint un tel niveau que la fiabilité du service requiert l'attention d'un nombre important d'ingénieurs, il est temps de créer une équipe distincte.</font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'équipe SRE simplifie considérablement la maintenance des grands systèmes distribués pour tous les ingénieurs. L'équipe SRE possède probablement des outils de surveillance et d'alertes standard. Ils achètent ou créent probablement des outils sur appel et sont prêts à partager leur expérience. Ils peuvent faciliter l'analyse des incidents et créer des systèmes qui facilitent la détection des pannes, réduisent leurs conséquences et les préviennent à l'avenir. La commande SRE facilite certainement les opérations de basculement. Il est souvent utilisé pour tester les boîtes noires et planifier les performances. Les ingénieurs SRE gèrent la sélection, la personnalisation ou la création d'outils standard pour déterminer et mesurer les SLO et en rendre compte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que toutes les entreprises ont leurs propres problèmes, pour la solution desquels elles recrutent SRE, ces équipes dans différentes entreprises ont des structures différentes. </font><font style="vertical-align: inherit;">Même les noms peuvent varier: il peut s'agir d'un service d'exploitation, d'une ingénierie de plateforme ou d'un service d'infrastructure. </font><font style="vertical-align: inherit;">Google a publié deux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livres de lecture obligatoires pour garantir la fiabilité des services</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ils sont disponibles gratuitement et constituent une excellente source d'informations pour une étude plus approfondie du sujet du SRE.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La fiabilité comme investissement permanent</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de la création d'un produit, l'assemblage de la première version n'est qu'un début. Après cela, il y aura de nouvelles itérations, avec de nouvelles fonctionnalités. Si le produit est réussi et rentable, le travail se poursuit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les systèmes distribués ont le même cycle de vie, sauf qu'ils ont besoin de plus d'investissement non seulement dans de nouvelles fonctionnalités, mais aussi pour suivre l'évolution. Lorsque la charge sur le système augmente, vous devez stocker plus de données, plus d'ingénieurs travaillent sur le système, vous devez constamment prendre soin de son fonctionnement normal. Beaucoup de ceux qui créent des systèmes distribués pour la première fois les considèrent comme quelque chose comme une machine: une fois que vous le faites, il suffit d'effectuer une maintenance tous les quelques mois. Il est difficile de trouver une comparaison plus éloignée de la réalité.</font></font><br>
<br>
<strong>         , , </strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Pour que l'hôpital fonctionne bien, des contrôles constants sont nécessaires (surveillance, alertes, tests en boîte noire). Tout le temps dont vous avez besoin pour embaucher du nouveau personnel et du matériel: pour les hôpitaux, ce sont les infirmières, les médecins et les appareils médicaux, et pour les systèmes distribués, les nouveaux ingénieurs et les services. À mesure que le nombre d'employés et de services augmente, les anciennes méthodes de travail deviennent inefficaces: une petite clinique à la campagne fonctionne différemment d'un grand hôpital dans une métropole. Trouver des modes de fonctionnement plus efficaces se transforme en un travail à part entière, et les mesures et les alertes deviennent de plus en plus importantes. Comme un grand hôpital a besoin de plus de personnel, comme la comptabilité, les ressources humaines et la sécurité,et l'exploitation de grands systèmes distribués repose sur des équipes de service comme l'infrastructure et le SRE.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que l'équipe puisse maintenir un système distribué fiable, l'organisation doit constamment investir dans son fonctionnement, ainsi que dans le travail des plateformes sur lesquelles le système est construit.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Matériaux utiles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que l'article se soit avéré long, il ne présente que les moments les plus superficiels. </font><font style="vertical-align: inherit;">Pour en savoir plus sur les fonctionnalités d'exploitation des systèmes distribués, je recommande ces sources: </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Livres</font></font></strong><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le livre Google SRE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un excellent livre Google gratuit. </font><font style="vertical-align: inherit;">Le chapitre sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">surveillance des systèmes distribués</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est particulièrement important pour cet article </font><font style="vertical-align: inherit;">.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distributed Systems Observability</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un autre excellent livre gratuit avec d'excellents conseils sur la surveillance des systèmes distribués.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La conception d'applications à forte intensité de données</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est le livre le plus pratique sur le concept de systèmes distribués que j'ai rencontré. </font><font style="vertical-align: inherit;">Cependant, il ne couvre pas les aspects opérationnels que nous avons examinés si profondément.</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des sites</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Increment Magazine On-Call</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Edition </font><font style="vertical-align: inherit;">: une série d'articles sur les processus de réponse aux incidents sur Amazon, Dropbox, Facebook, Google et Netflix.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apprendre à construire des systèmes distribués</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Article d'AWS Engineer qui répond à la question «Comment apprendre à créer de grands systèmes distribués?»</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voir les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commentaires sur cet article sur Hacker News</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr494918/index.html">La troisième semaine du vol à distance - normal. Commentaires des gars de l'informatique QIWI sur le travail à temps plein à domicile</a></li>
<li><a href="../fr494920/index.html">Mauvais conseil au développeur: que faire pour «faire plaisir» à la direction</a></li>
<li><a href="../fr494922/index.html">Nizhny Novgorod pour un informaticien: perspectives de travail et opportunités de vie</a></li>
<li><a href="../fr494924/index.html">La mise en œuvre de l'effet aquarelle dans les jeux</a></li>
<li><a href="../fr494930/index.html">Unity3D: agrégateur de gestionnaire de script automatique</a></li>
<li><a href="../fr494934/index.html">6 erreurs dans les mots anglais qui sont terriblement enrageantes</a></li>
<li><a href="../fr494938/index.html">Bonne journée de sauvegarde! Ne l'oublie pas</a></li>
<li><a href="../fr494940/index.html">DevOps - qu'est-ce que c'est, pourquoi et combien est-il demandé?</a></li>
<li><a href="../fr494942/index.html">CGI à la maison avec Unreal Engine et iPhone</a></li>
<li><a href="../fr494948/index.html">Créer une boîte aux lettres VIP dans Zimbra Collaboration Open-Source Edition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>