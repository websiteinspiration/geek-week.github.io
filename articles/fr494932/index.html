<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü¶ç üë®üèæ‚Äç‚öñÔ∏è üìµ Exploitation d'un grand syst√®me distribu√©: ce que j'ai appris ü§¥üèΩ üéûÔ∏è üìò</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En lisant divers canaux et newsletters, je tombe souvent sur des articles sur des ¬´douleurs¬ª sp√©cifiques et des probl√®mes qui surviennent lorsqu'une e...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Exploitation d'un grand syst√®me distribu√©: ce que j'ai appris</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/youla/blog/494932/"><img src="https://habrastorage.org/webt/xy/c2/rk/xyc2rkmcwj7enywqjgy-vgdynzs.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En lisant divers canaux et newsletters, je tombe souvent sur des articles sur des ¬´douleurs¬ª sp√©cifiques et des probl√®mes qui surviennent lorsqu'une entreprise se d√©veloppe, lorsque la fiabilit√© et l'√©volutivit√© viennent au premier plan. Cet article est diff√©rent. Il n'y a pas d'analyse d√©taill√©e de solutions architecturales sp√©cifiques ni de guide √©tape par √©tape pour changer la culture d'ing√©nierie. Il s'agit plut√¥t d'une vue de dessus des d√©fis qui se posent lors de l'exploitation de syst√®mes distribu√©s et d'un point de d√©part qui vous aidera √† naviguer dans le flux de termes, d'abr√©viations et de technologies. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'attire votre attention sur la traduction d'un article r√©dig√© par un ing√©nieur d'Uber. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* * * </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au cours des derni√®res ann√©es, j'ai cr√©√© et maintenu un grand </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">syst√®me de paiement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> distribu√© </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">dans Uber</font></a><font style="vertical-align: inherit;"> . Pendant ce temps, j'ai beaucoup appris sur les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">concepts d'architectures distribu√©es.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">et de ma propre exp√©rience, j'ai d√©couvert √† quel point il est difficile de cr√©er et de maintenir des syst√®mes tr√®s charg√©s avec une haute disponibilit√©. Construire un tel syst√®me est un travail int√©ressant. J'aime planifier la fa√ßon dont le syst√®me g√©rera la croissance du trafic de 10 √† 100 fois, afin d'assurer la fiabilit√© des donn√©es ind√©pendamment des pannes mat√©rielles. Cependant, l' </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">exploitation d'un grand syst√®me distribu√© m'a donn√© une exp√©rience inattendue</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus le syst√®me est grand, plus il est probable que vous rencontrerez une manifestation de la loi de Murphy: " </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout ce qui peut mal tourner va mal</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ." La probabilit√© est particuli√®rement √©lev√©e avec des versions fr√©quentes, lorsque de nombreux d√©veloppeurs d√©ploient du code, lorsqu'ils utilisent plusieurs centres de donn√©es et avec un large public d'utilisateurs √† travers le monde. Au cours des derni√®res ann√©es, j'ai rencontr√© plusieurs pannes de syst√®me, dont beaucoup m'ont surpris: des probl√®mes pr√©visibles, tels que des pannes mat√©rielles ou des bugs innocents, aux ruptures de c√¢bles qui connectent les centres de donn√©es √† de nombreux plantages en cascade qui se produisent simultan√©ment. J'ai connu des dizaines d'√©checs dans lesquels certaines parties du syst√®me ne fonctionnaient pas correctement, ce qui a grandement affect√© l'entreprise.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cet article r√©sume les techniques qui ont b√©n√©fici√© de l'exploitation d'un grand syst√®me</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans Uber. </font><font style="vertical-align: inherit;">Mon exp√©rience n'est pas unique: d'autres travaillent avec des syst√®mes de m√™me taille et vivent les m√™mes aventures. </font><font style="vertical-align: inherit;">J'ai parl√© avec des ing√©nieurs de Google, Facebook et Netflix, qui ont fait face √† des situations similaires et ont trouv√© des solutions similaires. </font><font style="vertical-align: inherit;">De nombreuses id√©es et processus d√©crits ici peuvent √™tre appliqu√©s √† des syst√®mes de la m√™me √©chelle, qu'ils fonctionnent dans des centres de donn√©es appartenant √† l'entreprise (comme c'est le plus souvent le cas avec Uber) ou dans le cloud (o√π Uber </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©volue parfois</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font><font style="vertical-align: inherit;">Cependant, ces conseils peuvent √™tre redondants pour des syst√®mes pas si importants ou importants pour l'entreprise. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous parlerons de ces sujets:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">surveillance</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service (sur appel), d√©tection et notification d'anomalies.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion des pannes et des incidents.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post mortem, analyse d'incidents et culture d'am√©lioration continue.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basculement, planification des ressources et test de la bo√Æte noire.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA et rapports sur eux.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE en √©quipe ind√©pendante.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La fiabilit√© comme investissement permanent.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mat√©riaux utiles.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">surveillance</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour comprendre si le syst√®me est sain, nous devons r√©pondre √† la question: ¬´Fonctionne-t- </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il correctement? </font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">". </font><font style="vertical-align: inherit;">Pour cela, il est essentiel de collecter des informations sur les parties critiques du syst√®me. </font><font style="vertical-align: inherit;">Et lorsque vous avez des syst√®mes distribu√©s comprenant divers services sur de nombreux serveurs et dans diff√©rents centres de donn√©es, il peut √™tre difficile de d√©cider quels points cl√©s vous </font><font style="vertical-align: inherit;">devez </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">vraiment</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> suivre. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suivi de l'√©tat des infrastructures.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si une ou plusieurs machines / machines virtuelles sont surcharg√©es, certaines parties du syst√®me distribu√© peuvent d√©grader les performances. Les m√©triques d'√©tat des machines sur lesquelles le service s'ex√©cute - la consommation de ressources processeur et de m√©moire - ce sont les param√®tres de base qui doivent √™tre surveill√©s. Il existe des plates-formes qui suivent initialement ces mesures et mettent automatiquement √† l'√©chelle les instances. Uber dispose d'une excellente </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©quipe d'infrastructure de base</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui, par d√©faut, assure la surveillance et les alertes. Quelle que soit la m√©thode d'impl√©mentation, vous devez disposer d'informations indiquant que les instances, l'infrastructure ou les services individuels ont des probl√®mes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Surveillance de l'√©tat du service: trafic, erreurs, retard</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Souvent, vous devez avoir la r√©ponse √† la question "</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le backend fonctionne-t-il bien?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". La surveillance de m√©triques telles que la quantit√© de trafic entrant, la proportion d'erreurs et le retard de r√©ponse fournit des informations pr√©cieuses sur l'√©tat du service. Je pr√©f√®re cr√©er des tableaux de bord pour toutes ces mesures. Lorsque vous cr√©ez un nouveau service, l'utilisation des r√©ponses HTTP correctes et la surveillance des codes correspondants peuvent en dire beaucoup sur l'√©tat du syst√®me. Si vous √™tes s√ªr que les codes 4xx sont retourn√©s pour les erreurs du client et que les codes 5xx sont retourn√©s pour les erreurs du serveur, il vous sera facile de cr√©er et d'interpr√©ter une telle surveillance.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a autre chose √† dire sur la surveillance des d√©lais de r√©ponse. L'objectif des services de production est que la plupart des utilisateurs finaux appr√©cient de les utiliser. Et mesurer le retard moyen n'est pas la meilleure solution, car la valeur moyenne peut masquer un petit nombre de demandes avec un retard important. Il est pr√©f√©rable de mesurer p95, p99 ou p999 - le d√©lai pour le 95e, 99e ou 99,9e centile des demandes. Ces chiffres aident √† r√©pondre √† des questions comme: ¬´√Ä </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quelle vitesse la demande sera-t-elle adress√©e √† 99% des visiteurs?¬ª</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "(P99) ou" </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quelle sera la lenteur de la demande pour un visiteur sur 1000?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> "(P999). Si vous √™tes int√©ress√© par les d√©tails, vous pouvez lire </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cet article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e7/xm/b_/e7xmb_bxizqg4bcqw40buaeylsc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Graphique pour p95 et p99. Notez que le d√©lai moyen pour ce point de terminaison est inf√©rieur √† 1 seconde et 1% des demandes prend 2 secondes. et plus - cela ne se voit pas lors de la mesure de la valeur moyenne.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Le sujet de la surveillance et de l'observabilit√© est beaucoup plus profond. Je recommande de lire le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livre</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Google </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;">SRE</font></a><font style="vertical-align: inherit;"> et la section </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quatre signaux d'or</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur la surveillance des syst√®mes distribu√©s. Si pour un syst√®me avec lequel les utilisateurs interagissent, vous ne pouvez obtenir que quatre mesures, puis concentrez-vous sur le trafic, les erreurs, le retard et la saturation. Il y a moins de mat√©riel - le livre √©lectronique sur l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">observabilit√© des syst√®mes distribu√©s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui d√©crit des outils utiles tels que les journaux, ainsi que les meilleures pratiques d'utilisation des m√©triques et du tra√ßage.</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Surveillance des mesures commerciales.</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les services de surveillance nous renseignent sur leur √©tat g√©n√©ral. Mais d'apr√®s les seules donn√©es de surveillance, nous ne pouvons pas dire si les services fonctionnent correctement, si tout est correctement trait√© d'un point de vue commercial. Dans le cas du syst√®me de paiement, la question principale est: ¬´Les </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gens peuvent-ils faire des voyages en utilisant un mode de paiement sp√©cifique?</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". L'une des √©tapes les plus importantes de la surveillance consiste √† identifier et √† suivre les √©v√©nements commerciaux cr√©√©s et trait√©s par ce service.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mon √©quipe a cr√©√© un suivi des m√©triques m√©tier apr√®s une panne que nous n'avons pas pu d√©tecter autrement. </font><font style="vertical-align: inherit;">Tout semblait comme si les services fonctionnaient normalement, mais en fait la fonctionnalit√© cl√© ne fonctionnait pas. </font><font style="vertical-align: inherit;">Ce type de suivi √©tait tr√®s inhabituel pour notre entreprise et notre domaine d'activit√©. </font><font style="vertical-align: inherit;">Par cons√©quent, nous avons d√ª faire beaucoup d'efforts pour configurer cette surveillance pour nous-m√™mes, cr√©ant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">notre propre syst√®me</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service, d√©tection d'anomalies et alerte</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La surveillance est un excellent outil pour v√©rifier l'√©tat actuel du syst√®me. Mais ce n'est qu'une √©tape sur la route pour d√©tecter automatiquement les d√©faillances et alerter ceux qui devraient faire quelque chose dans ce cas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La montre est un vaste sujet. Increment Magazine a fait un excellent travail en soulignant bon nombre des probl√®mes du num√©ro sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . √Ä mon avis, le devoir est une continuation logique de l'approche ¬´vous avez cr√©√© - vous poss√©dez¬ª. Les services appartiennent aux √©quipes qui les ont cr√©√©s et poss√®dent √©galement un syst√®me d'alerte et de r√©ponse aux incidents. Mon √©quipe poss√©dait un tel syst√®me pour le service de paiement que nous avons cr√©√©. Et lorsque l'alerte arrive, l'ing√©nieur de service doit r√©pondre et savoir ce qui se passe. Mais comment passer de la surveillance aux alertes?</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La d√©termination des anomalies sur la base des donn√©es de surveillance est une t√¢che difficile</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et l'apprentissage automatique devrait se manifester pleinement ici. Il existe de nombreux services tiers pour d√©tecter les anomalies. Heureusement pour mon √©quipe, notre entreprise a son propre groupe d'apprentissage automatique pour r√©soudre les probl√®mes auxquels Uber est confront√©. L'√©quipe de New York a √©crit un article utile sur le fonctionnement de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la d√©tection des anomalies par Uber</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Du point de vue de mon √©quipe, nous ne transmettons que des donn√©es de surveillance √† ce pipeline et recevons des alertes avec diff√©rents degr√©s de confiance. Et puis nous d√©cidons d'en informer l'ing√©nieur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quand dois-je envoyer une alerte? La question est int√©ressante. S'il y a trop peu d'alertes, nous pouvons manquer un probl√®me important. Si c'est trop, les gens ne dormiront pas la nuit.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le suivi et la cat√©gorisation des alertes, ainsi que la mesure des rapports signal / bruit, jouent un r√¥le important dans la mise en place d'un syst√®me d'alerte</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Une bonne √©tape vers une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rotation r√©guli√®re des ing√©nieurs en service</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> consistera √† analyser les alertes, √† classer les √©v√©nements comme ¬´n√©cessitant une action¬ª et ¬´ne n√©cessitant pas¬ª, puis √† r√©duire le nombre d'alertes qui ne n√©cessitent aucune action.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/239/3be/498/2393be498f8076e4fdcd25d5c65ae6c9.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de panneau Call Duty</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> cr√©√© par l'√©quipe Uber Developer Experience √† Vilnius. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©quipe Uber pour la cr√©ation d'outils de d√©veloppement √† partir de Vilnius a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cr√©√© un petit outil</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que nous utilisons pour commenter les alertes et visualiser les changements de service. </font><font style="vertical-align: inherit;">Notre √©quipe g√©n√®re un rapport hebdomadaire sur le travail du dernier quart de travail, analyse les faiblesses et am√©liore la m√©thodologie du travail.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gestion des pannes et des incidents</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Imaginez: vous √™tes ing√©nieur de service pendant une semaine. </font><font style="vertical-align: inherit;">Au milieu de la nuit, vous r√©veillez un message sur le t√©l√©avertisseur. </font><font style="vertical-align: inherit;">Vous v√©rifiez si un √©chec de production s'est produit. </font><font style="vertical-align: inherit;">Merde, il semble qu'une partie du syst√®me s'est √©cras√©e. </font><font style="vertical-align: inherit;">Maintenant quoi? </font><font style="vertical-align: inherit;">La surveillance et l'alerte ont bien fonctionn√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les pannes peuvent ne pas √™tre particuli√®rement probl√©matiques pour les petits syst√®mes lorsque l'ing√©nieur de service peut comprendre ce qui s'est pass√© et pourquoi. </font><font style="vertical-align: inherit;">Habituellement, dans de tels syst√®mes, vous pouvez rapidement identifier les causes et les √©liminer. </font><font style="vertical-align: inherit;">Mais dans le cas de syst√®mes complexes contenant de nombreux (micro) services, lorsque de nombreux ing√©nieurs envoient le code en fonctionnement, la raison de l'√©chec est assez difficile. </font><font style="vertical-align: inherit;">Et le respect de plusieurs proc√©dures standard peut √™tre tr√®s utile. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re ligne de d√©fense sont les </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">runbooks des proc√©dures de r√©ponse standard</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">qui d√©crivent des √©tapes de d√©pannage simples. Si l'entreprise dispose de telles listes et b√©n√©ficie d'un soutien actif, il est peu probable qu'une id√©e superficielle de l'ing√©nieur de service sur le syst√®me soit un probl√®me. Les listes doivent √™tre tenues √† jour, mises √† jour et trait√©es pour trouver de nouvelles fa√ßons de r√©soudre les probl√®mes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Informer sur les √©checs des autres employ√©s</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cela devient tr√®s important si plusieurs √©quipes sont impliqu√©es dans le d√©ploiement d'un service. Dans l'environnement dans lequel je travaille, les services, selon les besoins, sont d√©ploy√©s par des milliers d'ing√©nieurs, avec une fr√©quence de centaines de versions par heure. Et le d√©ploiement apparemment anodin d'un service peut en affecter un autre. Dans une telle situation, un r√¥le important est jou√© par la normalisation des rapports de d√©faut et des canaux de communication. J'ai eu de nombreux cas o√π l'alerte ne ressemblait √† rien d'autre et j'ai r√©alis√© que pour les autres √©quipes, cela semblait √©galement √©trange. Communiquant dans un chat g√©n√©ral sur les pannes, nous identifions le service responsable de la panne et √©liminons rapidement les cons√©quences. Ensemble, nous parvenons √† le faire beaucoup plus rapidement que chacun de nous individuellement. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âliminez les cons√©quences maintenant et comprenez-le demain</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Au milieu d'un accident, j'√©tais souvent submerg√© par une vague d'adr√©naline √† cause d'un d√©sir de corriger les erreurs. </font><font style="vertical-align: inherit;">Souvent, la cause du probl√®me √©tait le d√©ploiement de mauvais code avec un bogue √©vident. </font><font style="vertical-align: inherit;">Auparavant, j'aurais tout quitt√© et commenc√© √† corriger les erreurs, √† envoyer un correctif et √† restaurer le code ayant √©chou√©. </font><font style="vertical-align: inherit;">Mais fixer la cause au milieu d'un accident est une </font><font style="vertical-align: inherit;">id√©e </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terrible </font></font></strong><font style="vertical-align: inherit;"></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Avec une solution rapide, vous pouvez r√©aliser peu et perdre beaucoup</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">√âtant donn√© que la correction doit √™tre effectu√©e rapidement, elle doit √™tre test√©e au combat. </font><font style="vertical-align: inherit;">Et c'est le chemin vers un nouveau bogue - ou un nouvel √©chec - en plus de celui existant. </font><font style="vertical-align: inherit;">J'ai vu comment cela a caus√© un certain nombre d'√©checs. </font><font style="vertical-align: inherit;">Concentrez-vous simplement sur la correction des cons√©quences, ne soyez pas tent√© de corriger le code ou de trouver la cause. </font><font style="vertical-align: inherit;">L'enqu√™te attendra demain.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Post mortem, analyse d'incidents et culture d'am√©lioration continue</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un rapport d'incident est une caract√©ristique importante de la fa√ßon dont une √©quipe g√®re les cons√©quences d'une d√©faillance. La situation inqui√®te-t-elle les gens? Font-ils un peu de recherche ou consacrent-ils une quantit√© incroyable d'efforts √† l'observation, arr√™tent-ils le produit et apportent-ils des corrections? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'autopsie correctement r√©dig√©e est l'un des principaux √©l√©ments de la construction de syst√®mes durables. Il ne condamne personne et ne cherche pas les coupables, il s'agit d'une √©tude et d'une analyse r√©fl√©chies de l'incident. Au fil du temps, nos mod√®les pour de tels rapports ont √©volu√©, des sections avec des conclusions finales, une √©valuation d'impact, une chronologie des √©v√©nements, une analyse de la raison principale, des le√ßons apprises et une liste d√©taill√©e des √©l√©ments pour une observation plus approfondie sont apparues.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/652/c06/931/652c0693103d40024459362c326c723e.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">J'ai utilis√© ce mod√®le de gestion des erreurs dans Uber. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans un bon post-mortem, la cause de l'√©chec est minutieusement √©tudi√©e et des mesures sont propos√©es pour pr√©venir, d√©tecter ou √©liminer rapidement les cons√©quences d'√©checs similaires. </font><font style="vertical-align: inherit;">Et quand je dis "profond√©ment", je veux dire que les auteurs ne s'arr√™tent pas au fait que la raison en √©tait le roulement de code avec un bug que le relecteur n'a pas remarqu√©. </font><font style="vertical-align: inherit;">Les auteurs doivent appliquer la m√©thodologie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Five Why</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pour arriver √† une conclusion plus utile. </font><font style="vertical-align: inherit;">Par exemple:</font></font><br>
<br>
<ul>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi y a-t-il un probl√®me? </font><font style="vertical-align: inherit;">-&gt; Le</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bug a √©t√© t√©l√©charg√© dans le cadre du code.</font></font></li>
<li><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pourquoi personne n‚Äôa-t-il attrap√© un bug? </font><font style="vertical-align: inherit;">-&gt;</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Celui qui a fait la revue n'a pas remarqu√© que changer le code pouvait conduire √† un tel probl√®me.</font></font></li>
<li><i>     ,    ?</i> --&gt;         .</li>
<li><i>       ?</i> --&gt;         .</li>
<li><i>      ?</i> --&gt;       .</li>
<li>:          .    ,           .</li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'analyse des incidents</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un outil compl√©mentaire important pour travailler sur les bogues. Alors que certaines √©quipes travaillent soigneusement sur les bogues, d'autres peuvent b√©n√©ficier de donn√©es suppl√©mentaires et apporter des am√©liorations pr√©ventives. Il est √©galement important que les √©quipes se consid√®rent responsables et capables d'apporter les am√©liorations qu'elles proposent au niveau du syst√®me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans les organisations soucieuses de fiabilit√©, les incidents les plus graves sont analys√©s et √©limin√©s par des ing√©nieurs exp√©riment√©s. Il est √©galement n√©cessaire de g√©rer l'ing√©nierie au niveau de l'entreprise pour s'assurer que les corrections peuvent √™tre apport√©es - </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">surtout</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si elles prennent du temps ou interf√®rent avec d'autres travaux. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un syst√®me fiable ne peut pas √™tre cr√©√© en une nuit: des it√©rations constantes seront n√©cessaires</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">It√©rations r√©sultant d'une culture d'entreprise d'am√©lioration continue bas√©e sur les enseignements tir√©s des incidents.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Basculement, planification des ressources et test de la bo√Æte noire</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe plusieurs proc√©dures r√©guli√®res qui n√©cessitent des investissements importants, mais qui sont essentielles pour maintenir un grand syst√®me distribu√©. Je suis arriv√© √† ces id√©es pour la premi√®re fois chez Uber, je n'avais pas besoin de les appliquer √† d'autres entreprises en raison de la petite taille et de l'indisponibilit√© de l'infrastructure. </font><font style="vertical-align: inherit;">J'ai consid√©r√© un </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">basculement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> stupide </font><strong><font style="vertical-align: inherit;">dans le centre de donn√©es (basculement)</font></strong><font style="vertical-align: inherit;"> jusqu'√† ce que je tombe sur moi-m√™me. Au d√©part, je pensais que la conception d'un syst√®me distribu√© stable est la stabilit√© des datacenters √† tomber. Pourquoi devrait-il √™tre test√© r√©guli√®rement si tout devait </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">th√©oriquement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fonctionner? La r√©ponse d√©pend de la mise √† l'√©chelle et du test de la capacit√© des services √† g√©rer efficacement l'augmentation inattendue du trafic dans le nouveau centre de donn√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le sc√©nario d'√©chec le plus courant que j'ai rencontr√© est que le service ne dispose pas de suffisamment de ressources dans le nouveau centre de donn√©es pour g√©rer le trafic global en cas de basculement. Supposons que le service A fonctionne dans un centre de donn√©es et le service B dans un autre. Soit une consommation de ressources de 60% - des dizaines ou des centaines de machines virtuelles tournent dans chaque centre de donn√©es et des alertes sont d√©clench√©es lorsqu'un seuil de 70% est atteint. Tout le trafic entre le centre de donn√©es A et le centre de donn√©es B a √©chou√©. Le deuxi√®me centre de donn√©es ne peut pas faire face √† une telle augmentation de la charge sans d√©ployer de nouvelles machines. Cependant, cela peut prendre beaucoup de temps, donc les demandes commencent √† s'accumuler et √† tomber. Le blocage commence √† affecter d'autres services, provoquant une d√©faillance en cascade d'autres syst√®mes qui ne sont pas li√©s au basculement principal.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/rj/kj/ak/rjkjakjltskllvgtcjatntsuvxy.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Une situation possible o√π le basculement entra√Æne des probl√®mes.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Un autre sc√©nario de d√©faillance populaire implique des probl√®mes au niveau du routage, des probl√®mes de bande passante r√©seau ou une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contre-pression</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Le basculement des centres de donn√©es est un d√©veloppement que tout syst√®me distribu√© fiable doit effectuer sans aucun impact sur les utilisateurs. J'insiste - il le </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">faut</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ce d√©veloppement est l'un des exercices les plus utiles pour v√©rifier la fiabilit√© des syst√®mes Web distribu√©s. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exercices de temps d'arr√™t des services planifi√©s</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un excellent moyen de tester la stabilit√© d'un syst√®me entier. C'est √©galement un excellent outil pour d√©tecter les d√©pendances cach√©es ou les utilisations inappropri√©es / inattendues d'un syst√®me particulier. Les exercices de temps d'arr√™t planifi√©s peuvent √™tre relativement faciles √† effectuer avec des services avec lesquels les clients interagissent et ont des d√©pendances peu connues. Cependant, si nous parlons de syst√®mes critiques pour lesquels un temps d'arr√™t tr√®s court est autoris√© ou dont d√©pendent de nombreux autres syst√®mes, il sera difficile de r√©aliser de tels exercices. Mais que se passe-t-il si un tel syst√®me devient indisponible un jour? Il vaut mieux r√©pondre √† cette question dans une exp√©rience contr√¥l√©e afin que toutes les √©quipes soient pr√©venues et pr√™tes. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Test de Blackbox</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(m√©thode de la "bo√Æte noire") est un moyen d'√©valuer l'exactitude du syst√®me dans une situation aussi proche que possible de la fa√ßon dont se d√©roule l'interaction avec l'utilisateur final. Ceci est similaire aux tests de bout en bout, sauf pour le fait que pour la plupart des produits, les tests de blackbox corrects n√©cessitent votre propre investissement. Les processus et sc√©narios utilisateur cl√©s qui impliquent une interaction utilisateur sont de bons candidats pour de tels tests: pour tester le syst√®me, assurez-vous qu'ils peuvent √™tre lanc√©s √† tout moment.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant Uber comme exemple, un test √©vident de la bo√Æte noire v√©rifie l'interaction conducteur-passager au niveau de la ville: un passager peut-il trouver un conducteur et faire un voyage sur demande sp√©cifique? Apr√®s avoir automatis√© ce sc√©nario, le test peut √™tre ex√©cut√© r√©guli√®rement, en √©mulant diff√©rentes villes. Un syst√®me de test de bo√Æte noire fiable permet de v√©rifier facilement le bon fonctionnement du syst√®me ou de ses pi√®ces. Cela aide √©galement beaucoup avec les tests de basculement: le moyen le plus rapide d'obtenir des commentaires de commutation est d'ex√©cuter des tests de bo√Æte noire. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hx/gz/mw/hxgzmwfqkyhrzxefxuhqrusne2e.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un exemple de test de bo√Æte noire pendant le basculement de basculement et la restauration manuelle. </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La planification des ressources</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">joue un r√¥le particuli√®rement important pour les grands syst√®mes distribu√©s. En gros, je veux dire ceux dans lesquels le co√ªt de l'informatique et du stockage est calcul√© en dizaines ou centaines de milliers de dollars par mois. √Ä cette √©chelle, il peut √™tre moins co√ªteux d'avoir un nombre fixe de d√©ploiements que d'utiliser des solutions cloud auto-√©volutives. Dans les cas extr√™mes, les d√©ploiements fixes doivent g√©rer le trafic caract√©ristique des ¬´activit√©s normales¬ª, avec une mise √† l'√©chelle automatique uniquement aux pics de charge. Mais quel est le nombre minimum d'instances √† appliquer le mois prochain? Au cours des trois prochains mois? L'ann√©e prochaine?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il n'est pas difficile de pr√©dire les futurs mod√®les de trafic pour les syst√®mes matures avec de grands volumes de statistiques. </font><font style="vertical-align: inherit;">Ceci est important pour le budget, le choix des fournisseurs ou pour fixer les remises des fournisseurs de cloud. </font><font style="vertical-align: inherit;">Si votre service g√©n√®re de grands comptes et que vous n'avez pas pens√© √† la planification des ressources, il vous manque un moyen simple de r√©duire les co√ªts et de les g√©rer.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO, SLA et rapports √† leur sujet</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
SLO signifie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Service Level Objective</font></font></strong></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , une mesure de la disponibilit√© du syst√®me. </font><font style="vertical-align: inherit;">Il est </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">recommand√© de</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©finir les </font><strong><font style="vertical-align: inherit;">SLO au niveau du service</font></strong><font style="vertical-align: inherit;"> pour les performances, le temps de r√©ponse, l'exactitude et la disponibilit√©. </font><font style="vertical-align: inherit;">Ces SLO peuvent ensuite √™tre utilis√©s comme seuils d'alerte. </font><font style="vertical-align: inherit;">Exemple:</font></font><br>
<br>
<div class="scrollable-table"><table>
<tbody><tr>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO m√©trique</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sous-cat√©gorie</font></font></strong></th>
<th><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valeur du service</font></font></strong></th>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Performance</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bande passante minimale</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">500 requ√™tes par seconde</font></font></td>
</tr>
<tr>
<td></td>
<td>   </td>
<td>2 500   </td>
</tr>
<tr>
<td><strong> </strong></td>
<td>   </td>
<td>50-90 </td>
</tr>
<tr>
<td></td>
<td>   p99</td>
<td>500-800 </td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>0,5 %</td>
</tr>
<tr>
<td><strong></strong></td>
<td> </td>
<td>99,9 %</td>
</tr>
</tbody></table></div><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLO au niveau de l'entreprise</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . ou SLO fonctionnels, il s'agit d'une abstraction sur les services. Ils couvrent des mesures personnalis√©es ou commerciales. Par exemple, un SLO au niveau de l'entreprise pourrait √™tre le suivant: 99,99% des re√ßus devraient √™tre post√©s dans la minute suivant la fin d'un voyage. Ce SLO peut √™tre compar√© au SLO au niveau du service (par exemple, avec le retard du syst√®me de paiement ou du syst√®me d'envoi des ch√®ques postaux), et peut √™tre mesur√© s√©par√©ment. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SLA - Service Level Agreement</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il s'agit d'un accord plus g√©n√©ral entre un fournisseur de services et son consommateur. En r√®gle g√©n√©rale, plusieurs SLO constituent un SLA. Par exemple, la disponibilit√© d'un syst√®me de paiement au niveau de 99,99% peut √™tre SLA, qui est divis√©e en SLO sp√©cifiques pour chaque syst√®me correspondant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s avoir d√©termin√© le SLO, vous devez les mesurer et faire un rapport.</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La surveillance et les rapports automatiques sur les SLA et les SLO sont souvent un projet complexe</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> que ni les ing√©nieurs ni les entreprises ne souhaitent prioriser. </font><font style="vertical-align: inherit;">Les ing√©nieurs ne seront pas int√©ress√©s, car ils ont d√©j√† diff√©rents niveaux de surveillance pour identifier les pannes en temps r√©el. </font><font style="vertical-align: inherit;">Une entreprise pr√©f√®re prioriser la fourniture de fonctionnalit√©s, plut√¥t que d'investir dans un projet complexe qui ne donnera pas d'avantages imm√©diats. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et cela nous am√®ne √† un autre sujet: les organisations qui exploitent de grands syst√®mes distribu√©s doivent t√¥t ou tard affecter des personnes pour garantir la fiabilit√© de ces syst√®mes. </font><font style="vertical-align: inherit;">Parlons de l'√©quipe SRE - Site Reliability Engineering.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SRE en √©quipe ind√©pendante</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le terme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Site Reliability Engineering a √©t√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> invent√© par Google vers 2003, et il existe aujourd'hui plus de 1 500 ing√©nieurs SRE. Comme le fonctionnement de l'environnement de production devient une t√¢che de plus en plus complexe n√©cessitant plus d'automatisation, il deviendra bient√¥t un travail √† part enti√®re. Cela se produit lorsque les entreprises r√©alisent que les ing√©nieurs travaillent sur l'automatisation de l'environnement de production presque toute la journ√©e: plus le syst√®me est important et plus il y a de pannes, plus t√¥t le SRE devient un poste s√©par√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les entreprises technologiques √† croissance rapide mettent souvent en place tr√®s t√¥t une √©quipe SRE, qu'elles planifient elles-m√™mes. √Ä Uber, une telle √©quipe a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©t√© cr√©√©e en 2015.</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Son objectif √©tait de g√©rer la complexit√© du syst√®me. Dans d'autres soci√©t√©s, la r√©partition des √©quipes SRE peut √™tre associ√©e √† la cr√©ation d'une √©quipe infrastructure distincte. </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lorsque l'entreprise atteint un tel niveau que la fiabilit√© du service requiert l'attention d'un nombre important d'ing√©nieurs, il est temps de cr√©er une √©quipe distincte.</font></font></strong><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'√©quipe SRE simplifie consid√©rablement la maintenance des grands syst√®mes distribu√©s pour tous les ing√©nieurs. L'√©quipe SRE poss√®de probablement des outils de surveillance et d'alertes standard. Ils ach√®tent ou cr√©ent probablement des outils sur appel et sont pr√™ts √† partager leur exp√©rience. Ils peuvent faciliter l'analyse des incidents et cr√©er des syst√®mes qui facilitent la d√©tection des pannes, r√©duisent leurs cons√©quences et les pr√©viennent √† l'avenir. La commande SRE facilite certainement les op√©rations de basculement. Il est souvent utilis√© pour tester les bo√Ætes noires et planifier les performances. Les ing√©nieurs SRE g√®rent la s√©lection, la personnalisation ou la cr√©ation d'outils standard pour d√©terminer et mesurer les SLO et en rendre compte.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√âtant donn√© que toutes les entreprises ont leurs propres probl√®mes, pour la solution desquels elles recrutent SRE, ces √©quipes dans diff√©rentes entreprises ont des structures diff√©rentes. </font><font style="vertical-align: inherit;">M√™me les noms peuvent varier: il peut s'agir d'un service d'exploitation, d'une ing√©nierie de plateforme ou d'un service d'infrastructure. </font><font style="vertical-align: inherit;">Google a publi√© deux </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">livres de lecture obligatoires pour garantir la fiabilit√© des services</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ils sont disponibles gratuitement et constituent une excellente source d'informations pour une √©tude plus approfondie du sujet du SRE.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La fiabilit√© comme investissement permanent</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de la cr√©ation d'un produit, l'assemblage de la premi√®re version n'est qu'un d√©but. Apr√®s cela, il y aura de nouvelles it√©rations, avec de nouvelles fonctionnalit√©s. Si le produit est r√©ussi et rentable, le travail se poursuit. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les syst√®mes distribu√©s ont le m√™me cycle de vie, sauf qu'ils ont besoin de plus d'investissement non seulement dans de nouvelles fonctionnalit√©s, mais aussi pour suivre l'√©volution. Lorsque la charge sur le syst√®me augmente, vous devez stocker plus de donn√©es, plus d'ing√©nieurs travaillent sur le syst√®me, vous devez constamment prendre soin de son fonctionnement normal. Beaucoup de ceux qui cr√©ent des syst√®mes distribu√©s pour la premi√®re fois les consid√®rent comme quelque chose comme une machine: une fois que vous le faites, il suffit d'effectuer une maintenance tous les quelques mois. Il est difficile de trouver une comparaison plus √©loign√©e de la r√©alit√©.</font></font><br>
<br>
<strong>         , , </strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Pour que l'h√¥pital fonctionne bien, des contr√¥les constants sont n√©cessaires (surveillance, alertes, tests en bo√Æte noire). Tout le temps dont vous avez besoin pour embaucher du nouveau personnel et du mat√©riel: pour les h√¥pitaux, ce sont les infirmi√®res, les m√©decins et les appareils m√©dicaux, et pour les syst√®mes distribu√©s, les nouveaux ing√©nieurs et les services. √Ä mesure que le nombre d'employ√©s et de services augmente, les anciennes m√©thodes de travail deviennent inefficaces: une petite clinique √† la campagne fonctionne diff√©remment d'un grand h√¥pital dans une m√©tropole. Trouver des modes de fonctionnement plus efficaces se transforme en un travail √† part enti√®re, et les mesures et les alertes deviennent de plus en plus importantes. Comme un grand h√¥pital a besoin de plus de personnel, comme la comptabilit√©, les ressources humaines et la s√©curit√©,et l'exploitation de grands syst√®mes distribu√©s repose sur des √©quipes de service comme l'infrastructure et le SRE.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que l'√©quipe puisse maintenir un syst√®me distribu√© fiable, l'organisation doit constamment investir dans son fonctionnement, ainsi que dans le travail des plateformes sur lesquelles le syst√®me est construit.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mat√©riaux utiles</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que l'article se soit av√©r√© long, il ne pr√©sente que les moments les plus superficiels. </font><font style="vertical-align: inherit;">Pour en savoir plus sur les fonctionnalit√©s d'exploitation des syst√®mes distribu√©s, je recommande ces sources: </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Livres</font></font></strong><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le livre Google SRE</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un excellent livre Google gratuit. </font><font style="vertical-align: inherit;">Le chapitre sur la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">surveillance des syst√®mes distribu√©s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est particuli√®rement important pour cet article </font><font style="vertical-align: inherit;">.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Distributed Systems Observability</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , un autre excellent livre gratuit avec d'excellents conseils sur la surveillance des syst√®mes distribu√©s.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La conception d'applications √† forte intensit√© de donn√©es</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est le livre le plus pratique sur le concept de syst√®mes distribu√©s que j'ai rencontr√©. </font><font style="vertical-align: inherit;">Cependant, il ne couvre pas les aspects op√©rationnels que nous avons examin√©s si profond√©ment.</font></font></li>
</ul><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des sites</font></font></strong><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Increment Magazine On-Call</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Edition </font><font style="vertical-align: inherit;">: une s√©rie d'articles sur les processus de r√©ponse aux incidents sur Amazon, Dropbox, Facebook, Google et Netflix.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apprendre √† construire des syst√®mes distribu√©s</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Article d'AWS Engineer qui r√©pond √† la question ¬´Comment apprendre √† cr√©er de grands syst√®mes distribu√©s?¬ª</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voir les </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">commentaires sur cet article sur Hacker News</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr494918/index.html">La troisi√®me semaine du vol √† distance - normal. Commentaires des gars de l'informatique QIWI sur le travail √† temps plein √† domicile</a></li>
<li><a href="../fr494920/index.html">Mauvais conseil au d√©veloppeur: que faire pour ¬´faire plaisir¬ª √† la direction</a></li>
<li><a href="../fr494922/index.html">Nizhny Novgorod pour un informaticien: perspectives de travail et opportunit√©s de vie</a></li>
<li><a href="../fr494924/index.html">La mise en ≈ìuvre de l'effet aquarelle dans les jeux</a></li>
<li><a href="../fr494930/index.html">Unity3D: agr√©gateur de gestionnaire de script automatique</a></li>
<li><a href="../fr494934/index.html">6 erreurs dans les mots anglais qui sont terriblement enrageantes</a></li>
<li><a href="../fr494938/index.html">Bonne journ√©e de sauvegarde! Ne l'oublie pas</a></li>
<li><a href="../fr494940/index.html">DevOps - qu'est-ce que c'est, pourquoi et combien est-il demand√©?</a></li>
<li><a href="../fr494942/index.html">CGI √† la maison avec Unreal Engine et iPhone</a></li>
<li><a href="../fr494948/index.html">Cr√©er une bo√Æte aux lettres VIP dans Zimbra Collaboration Open-Source Edition</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>