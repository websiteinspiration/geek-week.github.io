<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üî´ üêÑ ‚ôâÔ∏è Pourquoi JavaScript d√©vore le HTML: exemples de code ü•Ç üñ•Ô∏è üë©üèø‚Äçü§ù‚Äçüë®üèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Le d√©veloppement Web est en constante √©volution. R√©cemment, une tendance est devenue populaire, ce qui contredit fondamentalement l'id√©e g√©n√©ralement ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pourquoi JavaScript d√©vore le HTML: exemples de code</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/ruvds/blog/492754/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le d√©veloppement Web est en constante √©volution. R√©cemment, une tendance est devenue populaire, ce qui contredit fondamentalement l'id√©e g√©n√©ralement accept√©e de la fa√ßon de d√©velopper des applications Web. Certains ont de grands espoirs pour lui, tandis que d'autres sont d√©√ßus. Chacun a ses propres raisons, ce qui en un mot est difficile √† expliquer.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/oo/4k/1f/oo4k1fjtwxiesojbv9pwre0n2no.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code de page Web se compose traditionnellement de trois sections, chacune remplissant ses fonctions: le code HTML d√©finit la structure et la s√©mantique, le code CSS d√©termine l'apparence et le code JavaScript d√©termine son comportement. Dans les √©quipes impliquant des concepteurs, des d√©veloppeurs HTML / CSS et des d√©veloppeurs JavaScript, cette s√©paration est naturelle: les concepteurs d√©finissent des √©l√©ments visuels et une interface utilisateur, les d√©veloppeurs HTML et CSS placent ces √©l√©ments visuels sur une page dans un navigateur, et les d√©veloppeurs JavaScript ajoutent une interaction utilisateur √† liez tout ensemble et ¬´faites-le fonctionner¬ª. Chacun peut travailler sur ses t√¢ches sans s'immiscer dans le code des deux autres cat√©gories de d√©veloppeurs. Mais tout cela est vrai pour le soi-disant ¬´ancien style¬ª.</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces derni√®res ann√©es, les d√©veloppeurs JavaScript ont commenc√© √† d√©terminer la structure de la page en JavaScript et non en HTML (par exemple, en utilisant le framework </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> js </font><font style="vertical-align: inherit;">), ce qui contribue √† simplifier la cr√©ation et la maintenance du code d'interaction utilisateur. Sans cadres js, d√©velopper des sites Web modernes est beaucoup plus difficile. Bien s√ªr, lorsque vous dites √† quelqu'un que le code HTML √©crit par lui doit √™tre divis√© en morceaux et m√©lang√© avec JavaScript, qu'il conna√Æt tr√®s bien, cela (pour des raisons √©videntes) peut √™tre per√ßu avec hostilit√©. Au minimum, l'interlocuteur demandera pourquoi nous en avons besoin et comment nous en b√©n√©ficierons.</font></font><br>
<cut></cut><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En tant que d√©veloppeur JavaScript dans une √©quipe interfonctionnelle, cette question me est parfois pos√©e, et il m'est souvent difficile d'y r√©pondre. </font><font style="vertical-align: inherit;">Tous les documents que j'ai trouv√©s sur ce sujet sont √©crits pour un public qui conna√Æt d√©j√† JavaScript. </font><font style="vertical-align: inherit;">Et ce n'est pas tr√®s bon pour ceux qui se sp√©cialisent exclusivement en HTML et CSS. </font><font style="vertical-align: inherit;">Mais le mod√®le HTML-in-JS (ou quelque chose d'autre qui offre les m√™mes avantages) est susceptible d'√™tre demand√© pendant un certain temps, donc je pense que c'est une chose importante que toutes les personnes impliqu√©es dans le d√©veloppement Web devraient comprendre. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cet article, je donnerai des exemples de code pour ceux qui sont int√©ress√©s, mais mon objectif est d'expliquer cette approche afin qu'elle puisse √™tre comprise sans eux.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Likbez: HTML, CSS et JavaScript</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour maximiser l'audience de cet article, je veux parler bri√®vement du r√¥le que jouent ces langues dans la cr√©ation de pages Web et du type de s√©paration qui existait initialement entre elles. </font><font style="vertical-align: inherit;">Si vous le savez tous, vous pouvez ignorer cette section.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML: pour la structure et la s√©mantique</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code HTML (HyperText Markup Language) d√©finit la structure et la s√©mantique du contenu qui sera plac√© sur la page. </font><font style="vertical-align: inherit;">Par exemple, le code HTML de cet article contient le texte que vous lisez maintenant et conform√©ment √† la structure sp√©cifi√©e, ce texte est plac√© dans un paragraphe distinct, apr√®s l'en-t√™te et avant de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coller CodePen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, cr√©ez une page Web simple avec une liste de courses:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yg/vy/a-/ygvya-pjtq3-f_43xus3zz0w0bg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons enregistrer ce code dans un fichier, l'ouvrir dans un navigateur Web et le navigateur affichera le r√©sultat. Comme vous pouvez le voir, le code HTML dans cet exemple est une page qui contient l'en-t√™te "Liste d'achats" (2 articles), une zone de texte de saisie, un bouton "Ajouter un article" et une liste de deux articles ("Oeufs" et ¬´P√©trole¬ª). L'utilisateur saisira l'adresse dans son navigateur Web, puis le navigateur demandera ce code HTML au serveur, le t√©l√©chargera et l'affichera. S'il y a d√©j√† des √©l√©ments dans la liste, le serveur peut envoyer du HTML avec des √©l√©ments pr√™ts √† l'emploi, comme dans cet exemple. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essayez de taper quelque chose dans le champ de saisie et cliquez sur le bouton "Ajouter un √©l√©ment". Vous verrez que rien ne se passe. Le bouton n'est associ√© √† aucun code susceptible de modifier HTML, et HTML ne peut rien changer par lui-m√™me. Nous y reviendrons dans une minute.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CSS: pour changer le look</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code CSS (feuilles de style en cascade) d√©finit l'apparence de la page. </font><font style="vertical-align: inherit;">Par exemple, le CSS de cet article d√©finit la police, l'espacement et la couleur du texte que vous lisez. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous avez peut-√™tre remarqu√© que notre exemple de liste de courses semble tr√®s simple. </font><font style="vertical-align: inherit;">HTML ne permet pas de sp√©cifier des √©l√©ments comme l'espacement, la taille des polices et les couleurs. </font><font style="vertical-align: inherit;">C'est pourquoi nous utilisons CSS. </font><font style="vertical-align: inherit;">Nous pourrions ajouter du code CSS pour cette page pour la d√©corer un peu: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mt/em/k4/mtemk4giymqzyfu_sqy0yqhw-o0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, ce code CSS a chang√© la taille et l'√©paisseur des caract√®res du texte, ainsi que la couleur d'arri√®re-plan. </font><font style="vertical-align: inherit;">Un d√©veloppeur peut, par analogie, √©crire des r√®gles pour son propre style, et elles seront appliqu√©es s√©quentiellement √† toute structure HTML: si nous ajoutons des √©l√©ments </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section, bouton ou ul</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √† cette page </font><font style="vertical-align: inherit;">, les m√™mes changements de police s'appliqueront.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais le bouton Ajouter un √©l√©ment ne fait toujours rien: ici, nous avons juste besoin de JavaScript.</font></font><br>
<br>
<h3><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: pour impl√©menter le comportement</font></font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code JavaScript d√©finit le comportement des √©l√©ments interactifs ou dynamiques d'une page. Par exemple, CodePen est √©crit en utilisant JavaScript. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour que le bouton Ajouter un √©l√©ment dans notre exemple fonctionne sans JavaScript, nous devons utiliser un code HTML sp√©cial pour le forcer √† renvoyer des donn√©es au serveur ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">&lt;form action \ u003d '...'&gt;</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> si vous √™tes soudain int√©ress√©). De plus, le navigateur rechargera la version mise √† jour de l'int√©gralit√© du fichier HTML sans enregistrer l'√©tat actuel de la page. Si cette liste de courses faisait partie d'une grande page Web, tout ce que l'utilisateur faisait serait perdu. Peu importe le nombre de pixels que vous avez d√©plac√©s vers le bas lors de la lecture du texte - lorsque vous red√©marrez le serveur vous ram√®nera au d√©but, peu importe le nombre de minutes de la vid√©o que vous avez regard√©e - lorsque vous red√©marrez, elle recommencera.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est ainsi que fonctionnaient toutes les applications Web: chaque fois qu'un utilisateur interagissait avec une page Web, il semblait fermer son navigateur Web et l'ouvrir √† nouveau. Cela n'a pas beaucoup d'importance pour une simple √©tude de cas, mais pour une grande page complexe, qui peut prendre un certain temps √† charger, cette approche n'est efficace ni pour le navigateur ni pour le serveur. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si nous voulons changer quelque chose sur la page sans recharger compl√®tement cette page, nous devons utiliser JavaScript:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/qh/gd/vj/qhgdvjtm-0qokwslddjifxc_knu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Maintenant, lorsque nous tapons le texte dans le champ de saisie et cliquez sur le bouton Ajouter un √©l√©ment, notre nouvel √©l√©ment est ajout√© √† la liste et le nombre d'√©l√©ments en haut est mis √† jour! Dans une application r√©elle, nous ajouterions √©galement du code pour envoyer un nouvel √©l√©ment au serveur en arri√®re-plan afin qu'il apparaisse lors du prochain chargement de la page.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La s√©paration de JavaScript de HTML et CSS est justifi√©e m√™me dans cet exemple simple. </font><font style="vertical-align: inherit;">Des interactions plus complexes fonctionnent comme ceci: le HTML est charg√© et affich√©, et JavaScript est ensuite lanc√© pour y ajouter quelque chose et le changer. </font><font style="vertical-align: inherit;">Cependant, √† mesure que la complexit√© de l'application Web augmente, nous devons surveiller attentivement quoi, o√π et quand notre code JavaScript change.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous continuions √† d√©velopper cette application de liste d'achats, nous pourrions ajouter des boutons pour modifier ou supprimer des articles de la liste. </font><font style="vertical-align: inherit;">Supposons que nous √©crivions du code JavaScript pour un bouton qui supprime un √©l√©ment, mais oublions d'ajouter du code qui met √† jour les informations sur le nombre total d'√©l√©ments en haut de la page. </font><font style="vertical-align: inherit;">Soudain, nous obtenons une erreur: apr√®s que l'utilisateur a supprim√© l'√©l√©ment, le nombre total indiqu√© sur la page ne correspondra pas √† la liste!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√®s que nous avons remarqu√© l'erreur, nous l'avons corrig√©e en ajoutant la m√™me ligne totalText.innerHTML de notre code pour ajouter un √©l√©ment au code pour supprimer un √©l√©ment. Maintenant, nous avons le m√™me code, qui est dupliqu√© √† plusieurs endroits. Plus tard, disons, nous voulons changer ce code afin qu'au lieu de ¬´(2 √©l√©ments)¬ª en haut de la page, il affiche ¬´√âl√©ments: 2¬ª. Nous devons nous assurer de ne pas oublier de mettre √† jour ce code aux trois endroits: en HTML, dans le code JavaScript pour le bouton Ajouter un √©l√©ment et dans le code JavaScript pour le bouton Supprimer un √©l√©ment. Si nous ne le faisons pas, nous aurons une autre erreur, √† cause de laquelle ce texte changera consid√©rablement apr√®s avoir interagi avec l'utilisateur.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D√©j√† dans cet exemple simple, nous voyons combien il est facile de se confondre dans le code. </font><font style="vertical-align: inherit;">Bien s√ªr. </font><font style="vertical-align: inherit;">Il existe des approches et des pratiques pour rationaliser le code JavaScript afin de faciliter la r√©solution de ce probl√®me. </font><font style="vertical-align: inherit;">Cependant, √† mesure que les choses se compliquent, nous devrons poursuivre la restructuration et constamment r√©√©crire le projet afin qu'il puisse √™tre facilement d√©velopp√© et maintenu. </font><font style="vertical-align: inherit;">Bien que HTML et JavaScript soient stock√©s s√©par√©ment, cela peut prendre beaucoup d'efforts pour assurer la synchronisation entre les deux. </font><font style="vertical-align: inherit;">C'est l'une des raisons pour lesquelles les nouveaux frameworks JavaScript tels que React sont devenus populaires: ils sont con√ßus pour fournir une relation plus formalis√©e et efficace entre HTML et JavaScript. </font><font style="vertical-align: inherit;">Pour comprendre comment cela fonctionne, nous devons d'abord aller un peu plus loin dans l'informatique.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Programmation imp√©rative vs d√©clarative</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La chose cl√© √† comprendre est la diff√©rence de pens√©e. La plupart des langages de programmation vous permettent de suivre un seul paradigme, bien que certains d'entre eux prennent en charge deux √† la fois. Il est important de comprendre les deux paradigmes afin d'appr√©cier le principal avantage de HTML-in-JS du point de vue du d√©veloppeur JavaScript.</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>.  ¬´¬ª  ,       .         ( )   :        ,  ,    .        ,    ,   .  -     ¬´¬ª.        Vanilla JavaScript   ,  jQuery. JavaScript        .<br>
 <ul>
<li>¬´ X,   Y,   Z¬ª.</li>
<li>:     ,     .selected;        ,   .selected.</li>
</ul></li>
</ul><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="> </a>.    ,    .  ,   ,    ¬´¬ª (),       ,   - .        ,     .    (, React),     ,   ,     . ,        ,     ,       ,    .  ,      :<br>
<ul>
<li>¬´   XYZ.  ,   ,   .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple: cet √©l√©ment a une classe .selected si l'utilisateur l'a s√©lectionn√©.</font></font></li>
</ul><br>
 </li>
</ul><br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTML est un langage d√©claratif</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Oubliez JavaScript pendant un moment. </font><font style="vertical-align: inherit;">Voici un fait important: HTML est un langage d√©claratif. </font><font style="vertical-align: inherit;">Dans le fichier HTML, vous pouvez d√©clarer quelque chose comme:</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">h1</span>&gt;</span>Hello<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>My name is Mike.<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque le navigateur Web lit ce code HTML, il d√©termine ind√©pendamment les √©tapes n√©cessaires et les ex√©cute:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ez un √©l√©ment de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ez un √©l√©ment d'en-t√™te de niveau 1 ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">h1</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©finissez le texte de l'√©l√©ment de titre sur ¬´Bonjour¬ª.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Placez l'√©l√©ment title dans l'√©l√©ment section.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cr√©ez un √©l√©ment de paragraphe ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">p</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©finissez le texte de l'√©l√©ment de paragraphe sur "Mon nom est Mike".</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Placez un √©l√©ment de paragraphe dans un √©l√©ment de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Placez l'√©l√©ment de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans un document HTML.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Affichez le document √† l'√©cran.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour un d√©veloppeur Web, la fa√ßon dont le navigateur fait ces choses n'a pas d'importance: tout ce qui compte, c'est ce qu'il fait. </font><font style="vertical-align: inherit;">Ceci est un excellent exemple pour illustrer la diff√©rence entre les deux paradigmes de programmation. </font><font style="vertical-align: inherit;">En bref, HTML est une abstraction d√©clarative enroul√©e autour d'un moteur de rendu de navigateur Web impl√©ment√© de mani√®re imp√©rative. </font><font style="vertical-align: inherit;">Il se soucie de la fa√ßon dont vous n'avez qu'√† vous soucier de quoi. </font><font style="vertical-align: inherit;">Vous pouvez profiter de la vie en √©crivant du HTML d√©claratif parce que les bonnes personnes de Mozilla, Google et Apple ont √©crit un code imp√©ratif pour vous lors de la cr√©ation de votre navigateur Web.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript est un langage imp√©ratif</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons d√©j√† examin√© un exemple simple de JavaScript imp√©ratif dans l'exemple de liste d'achats ci-dessus, et j'ai d√©crit comment la complexit√© des fonctions d'application affecte l'effort requis pour les impl√©menter et la probabilit√© d'erreurs dans cette impl√©mentation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Examinons maintenant une t√¢che l√©g√®rement plus complexe et voyons comment elle peut √™tre simplifi√©e √† l'aide d'une approche d√©clarative. </font><font style="vertical-align: inherit;">Imaginez une page Web contenant les √©l√©ments suivants:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une liste de drapeaux marqu√©s, dont chaque ligne change de couleur lorsqu'elle est s√©lectionn√©e;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le texte ci-dessous, par exemple, ¬´1 sur 4 s√©lectionn√©¬ª, qui doit √™tre mis √† jour lorsque les indicateurs sont modifi√©s;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bouton S√©lectionner tout, qui doit √™tre d√©sactiv√© si toutes les cases √† cocher sont d√©j√† s√©lectionn√©es;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S√©lectionnez le bouton Aucun, qui doit √™tre d√©sactiv√© si les cases √† cocher ne sont pas s√©lectionn√©es.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici une impl√©mentation en HTML simple, CSS et JavaScript imp√©ratif:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8p/kx/5u/8pkx5uxweemg5tmpqietjhadqpw.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> captionText = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'caption-text'</span>);
<span class="hljs-keyword">const</span> checkAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'check-all-button'</span>);
<span class="hljs-keyword">const</span> uncheckAllButton = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'uncheck-all-button'</span>);
<span class="hljs-keyword">const</span> checkboxes = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">'input[type="checkbox"]'</span>);<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">updateSummary</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">let</span> numChecked = <span class="hljs-number">0</span>;<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{
    <span class="hljs-keyword">if</span> (checkbox.checked) {<font></font>
      numChecked++;<font></font>
    }<font></font>
  });<font></font>
  captionText.innerHTML = <span class="hljs-string">`<span class="hljs-subst">${numChecked}</span> of <span class="hljs-subst">${checkboxes.length}</span> checked`</span>;
  <span class="hljs-keyword">if</span> (numChecked === <span class="hljs-number">0</span>) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  } <span class="hljs-keyword">else</span> {<font></font>
    uncheckAllButton.disabled = <span class="hljs-literal">false</span>;<font></font>
  }<font></font>
  <span class="hljs-keyword">if</span> (numChecked === checkboxes.length) {<font></font>
    checkAllButton.disabled = <span class="hljs-literal">true</span>;<font></font>
  }<font></font>
}<font></font>
<font></font>
checkAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">true</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">'checked'</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
uncheckAllButton.addEventListener(<span class="hljs-string">'click'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{<font></font>
  checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
    checkbox.checked = <span class="hljs-literal">false</span>;<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = <span class="hljs-string">''</span>;<font></font>
  });<font></font>
  updateSummary();<font></font>
});<font></font>
<font></font>
checkboxes.forEach(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">checkbox</span>) </span>{<font></font>
  checkbox.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>) </span>{<font></font>
    checkbox.closest(<span class="hljs-string">'tr'</span>).className = checkbox.checked ? <span class="hljs-string">'checked'</span> : <span class="hljs-string">''</span>;<font></font>
    updateSummary();<font></font>
  });<font></font>
});</code></pre><br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mal de t√™te tel quel</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour impl√©menter cette fonction en utilisant imp√©rativement JavaScript, nous devons donner au navigateur des instructions d√©taill√©es. </font><font style="vertical-align: inherit;">Il s'agit d'une description verbale du code de l'exemple ci-dessus. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans notre HTML, nous d√©clarons la structure de page d'origine:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a quatre √©l√©ments de ligne (une ligne d'un tableau, c'est une liste), chacun contenant un indicateur. </font><font style="vertical-align: inherit;">Le troisi√®me drapeau est v√©rifi√©.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a un texte ¬´1 sur 4 s√©lectionn√©¬ª.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un bouton S√©lectionner tout est activ√©.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il y a un bouton Ne rien s√©lectionner, qui est d√©sactiv√©.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans notre JavaScript, nous √©crivons des instructions sur ce qui doit √™tre chang√© lorsque chacun de ces √©v√©nements se produit: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'un indicateur passe de non marqu√© √† marqu√©:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez la ligne contenant la case √† cocher et ajoutez-y la classe CSS .selected.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trouvez tous les drapeaux dans la liste et calculez combien d'entre eux sont marqu√©s et combien ne le sont pas.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez le texte et mettez-le √† jour en indiquant le nombre correct d'achats s√©lectionn√©s et leur nombre total.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez le bouton Ne rien s√©lectionner et activez-le s'il a √©t√© d√©sactiv√©.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si toutes les cases √† cocher sont maintenant coch√©es, recherchez le bouton S√©lectionner tout et d√©sactivez-le.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'un indicateur passe de marqu√© √† non marqu√©:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez la ligne contenant l'indicateur et supprimez-en la classe .selected.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trouvez toutes les cases √† cocher dans la liste et calculez combien d'entre elles sont coch√©es et combien ne le sont pas.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trouvez l'√©l√©ment de texte de CV et mettez-le √† jour avec le nombre et le total v√©rifi√©s.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez le bouton S√©lectionner tout et activez-le s'il a √©t√© d√©sactiv√©.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Si toutes les cases ne sont pas coch√©es, recherchez le bouton Ne rien s√©lectionner et d√©sactivez-le.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque le bouton S√©lectionner tout est enfonc√©:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trouvez toutes les cases √† cocher dans la liste et marquez-les.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez toutes les lignes de la liste et ajoutez-leur la classe .selected.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Trouvez le texte et mettez-le √† jour.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez le bouton S√©lectionner tout et d√©sactivez-le.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez le bouton Ne rien s√©lectionner et activez-le.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque vous appuyez sur le bouton Ne rien s√©lectionner:</font></font><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez toutes les cases √† cocher dans la liste et d√©cochez toutes les cases.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez toutes les lignes de la liste et supprimez-en la classe .selected.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez l'√©l√©ment de texte de reprise et mettez-le √† jour.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez le bouton S√©lectionner tout et activez-le.</font></font></li>
</ul><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Recherchez le bouton Ne rien s√©lectionner et d√©sactivez-le.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wow ... C'est beaucoup, non? Eh bien, il vaut mieux ne pas oublier d'√©crire du code pour toutes les situations possibles. Si nous oublions ou g√¢chons l'une de ces instructions, nous obtenons une erreur: les totaux ne correspondent pas aux cases √† cocher, ou le bouton qui ne fait rien lorsque vous cliquez dessus, ou la ligne s√©lectionn√©e a la mauvaise couleur ou quelque chose, est activ√© pourtant, ce √† quoi nous n'avons pas pens√© et ne saurons pas tant que l'utilisateur ne se plaindra pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons vraiment un gros probl√®me ici: il n'y a pas d'entit√© qui contiendrait des informations compl√®tes sur l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©tat</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de notre application (dans ce cas, c'est la r√©ponse √† la question ¬´quels drapeaux sont marqu√©s?¬ª) et serait responsable de la mise √† jour de ces informations. </font><font style="vertical-align: inherit;">Les indicateurs, bien s√ªr, savent s'ils sont v√©rifi√©s, mais le code CSS des lignes du tableau, du texte et de chaque bouton doit √©galement en √™tre conscient. </font><font style="vertical-align: inherit;">Cinq copies de ces informations sont stock√©es s√©par√©ment dans le code HTML, et lorsqu'elles changent dans l'un de ces endroits, le d√©veloppeur JavaScript doit les capturer et √©crire un code imp√©ratif pour se synchroniser avec les changements dans d'autres endroits.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et ceci est toujours un exemple simple d'un petit composant de page. </font><font style="vertical-align: inherit;">M√™me si cet ensemble d'instructions ressemble √† un mal de t√™te, imaginez la complexit√© et la fragilit√© d'une application Web plus grande lorsque vous devez impl√©menter tout cela en JavaScript imp√©ratif. </font><font style="vertical-align: inherit;">Pour de nombreuses applications Web complexes et modernes, cette solution n'est pas mise √† l'√©chelle √† partir du mot ¬´compl√®tement¬ª.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nous recherchons la source de la v√©rit√©</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Des outils comme React permettent une utilisation d√©clarative de JavaScript. </font><font style="vertical-align: inherit;">Tout comme HTML est une abstraction d√©clarative sur les instructions d'affichage dans un navigateur Web, React est une abstraction d√©clarative sur JavaScript.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rappelez-vous comment HTML nous permet de nous concentrer sur la structure de la page plut√¥t que sur les d√©tails d'impl√©mentation, et comment le navigateur affiche-t-il cette structure? De m√™me, lorsque nous utilisons React, nous pouvons nous concentrer sur la structure, la d√©finir en fonction des donn√©es stock√©es en un seul endroit. Ce processus est appel√© liaison unidirectionnelle et l'emplacement des donn√©es d'√©tat de l'application est appel√© ¬´source unique de v√©rit√©¬ª. Lorsque la source de la v√©rit√© change, React mettra automatiquement √† jour la structure de la page pour nous. Il s'occupera des √©tapes n√©cessaires dans les coulisses, comme le fait un navigateur Web pour HTML. Bien que React soit utilis√© √† titre d'exemple ici, cette approche fonctionne √©galement pour d'autres cadres tels que Vue.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Revenons √† notre liste de cases √† cocher de l'exemple ci-dessus. </font><font style="vertical-align: inherit;">Dans ce cas, la ¬´v√©rit√©¬ª que nous voulons savoir est assez concise: quels drapeaux sont v√©rifi√©s? </font><font style="vertical-align: inherit;">D'autres d√©tails (par exemple, le texte, la couleur des lignes, les boutons activ√©s) sont d√©j√† des informations obtenues sur la base de la source de la v√©rit√©. </font><font style="vertical-align: inherit;">Et pourquoi devraient-ils avoir leur propre copie de ces informations? </font><font style="vertical-align: inherit;">Ils doivent simplement utiliser une seule source de v√©rit√© en lecture seule, et tous les √©l√©ments de la page doivent ¬´simplement savoir¬ª quelles cases sont coch√©es et se comporter en cons√©quence. </font><font style="vertical-align: inherit;">Vous pouvez dire que les lignes, le texte et les boutons du tableau devraient pouvoir r√©pondre automatiquement √† une case √† cocher selon qu'elle est coch√©e ou non (¬´voir ce qui s'y passe?¬ª)</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dis-moi ce que tu veux (ce que tu veux vraiment)</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour impl√©menter cette page avec React, nous pouvons remplacer la liste par quelques descriptions de faits simples:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe une liste de valeurs vraies / fausses appel√©es checkboxValues ‚Äã‚Äãqui montre quels champs sont marqu√©s.</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Exemple: checkboxValues ‚Äã‚Äã\ u003d [faux, faux, vrai, faux]</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cette liste montre que nous avons quatre drapeaux, seul le troisi√®me est d√©fini.</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pour chaque valeur de checkboxValues ‚Äã‚Äãdans le tableau, il y a une ligne qui:</font></font><br>
 <ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">a une classe CSS appel√©e .selected si la valeur est vraie, et</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contient un indicateur qui est v√©rifi√© si la valeur est vraie.</font></font></li>
</ul></li>
</ul><br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe un √©l√©ment de texte qui contient le texte "{x} de {y} s√©lectionn√©", o√π {x} est le nombre de vraies valeurs dans checkboxValues ‚Äã‚Äãet {y} est le nombre total de valeurs dans checkboxValues.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il existe un bouton S√©lectionner tout qui est activ√© si checkboxValues ‚Äã‚Äãa de fausses valeurs.</font></font></li>
<li>  Select None,  ,   checkboxValues ‚Äã‚Äã  true.</li>
<li>  ,     checkboxValues.</li>
<li>  Select All ,     checkboxValues ‚Äã‚Äã true.</li>
<li>   Select None    checkboxValues ‚Äã‚Äã  false.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous remarquerez que les trois derniers paragraphes sont toujours des instructions imp√©ratives (¬´Lorsque cela se produit, faites-le¬ª), mais c'est le seul code imp√©ratif que nous devons √©crire. Ce sont trois lignes de code, et elles mettent toutes √† jour une seule source de v√©rit√©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le reste est constitu√© d'instructions d√©claratives (¬´il y a ...¬ª), qui sont d√©sormais int√©gr√©es directement dans la d√©finition de la structure de la page. Pour ce faire, nous √©crivons du code pour nos √©l√©ments √† l'aide d'une extension de syntaxe JavaScript sp√©ciale - JavaScript XML (JSX). Il ressemble au HTML: JSX vous permet d'utiliser une syntaxe de type HTML pour d√©crire la structure de l'interface, ainsi que du JavaScript standard. Cela nous permet de m√©langer la logique JS avec la structure HTML, de sorte que la structure peut √™tre diff√©rente √† tout moment. Tout d√©pend du contenu de checkboxValues.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous r√©√©crivons notre exemple sur React:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zk/np/bv/zknpbvuumzprgv3vrejfyv99vkk.png"><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ChecklistTable</span>(<span class="hljs-params">{ columns, rows, initialValues, ...otherProps }</span>) </span>{
  <span class="hljs-keyword">const</span> [checkboxValues, setCheckboxValues] = React.useState(initialValues);<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">checkAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">true</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">uncheckAllBoxes</span>(<span class="hljs-params"></span>) </span>{<font></font>
    setCheckboxValues(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>(rows.length).fill(<span class="hljs-literal">false</span>));<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">setCheckboxValue</span>(<span class="hljs-params">rowIndex, checked</span>) </span>{
    <span class="hljs-keyword">const</span> newValues = checkboxValues.slice();<font></font>
    newValues[rowIndex] = checked;<font></font>
    setCheckboxValues(newValues);<font></font>
  }<font></font>
  <font></font>
  <span class="hljs-keyword">const</span> numItems = checkboxValues.length;
  <span class="hljs-keyword">const</span> numChecked = checkboxValues.filter(<span class="hljs-built_in">Boolean</span>).length;<font></font>
  <font></font>
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">table</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table pf-m-grid-lg"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"grid"</span> {<span class="hljs-attr">...otherProps</span>}&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">caption</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>{numChecked} of {numItems} items checked<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{checkAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">numItems}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-primary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Check all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span>
          <span class="hljs-attr">onClick</span>=<span class="hljs-string">{uncheckAllBoxes}</span>
          <span class="hljs-attr">disabled</span>=<span class="hljs-string">{numChecked</span> === <span class="hljs-string">0}</span>
          <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-button pf-m-secondary"</span>
          <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span>
        &gt;</span>
          Uncheck all
        <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">caption</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">thead</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">tr</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">td</span> /&gt;</span>
          {columns.map(function(column) {
            return <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">scope</span>=<span class="hljs-string">"col"</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{column}</span>&gt;</span>{column}<span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>;
          })}
        <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">thead</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">tbody</span>&gt;</span>
        {rows.map(function(row, rowIndex) {
          const [firstCell, ...otherCells] = row;
          const labelId = `item-${rowIndex}-${firstCell}`;
          const isChecked = checkboxValues[rowIndex];
          return (
            <span class="hljs-tag">&lt;<span class="hljs-name">tr</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{firstCell}</span> <span class="hljs-attr">className</span>=<span class="hljs-string">{isChecked</span> ? '<span class="hljs-attr">checked</span>' <span class="hljs-attr">:</span> ''}&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">className</span>=<span class="hljs-string">"pf-c-table__check"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">input</span>
                  <span class="hljs-attr">type</span>=<span class="hljs-string">"checkbox"</span>
                  <span class="hljs-attr">name</span>=<span class="hljs-string">{firstCell}</span>
                  <span class="hljs-attr">aria-labelledby</span>=<span class="hljs-string">{labelId}</span>
                  <span class="hljs-attr">checked</span>=<span class="hljs-string">{isChecked}</span>
                  <span class="hljs-attr">onChange</span>=<span class="hljs-string">{function(event)</span> {
                    <span class="hljs-attr">setCheckboxValue</span>(<span class="hljs-attr">rowIndex</span>, <span class="hljs-attr">event.target.checked</span>);
                  }}
                /&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">th</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[0]}</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">{labelId}</span>&gt;</span>{firstCell}<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">th</span>&gt;</span>
              {otherCells.map(function(cell, cellIndex) {
                return (
                  <span class="hljs-tag">&lt;<span class="hljs-name">td</span> <span class="hljs-attr">key</span>=<span class="hljs-string">{cell}</span> <span class="hljs-attr">data-label</span>=<span class="hljs-string">{columns[1</span> + <span class="hljs-attr">cellIndex</span>]}&gt;</span>
                    {cell}
                  <span class="hljs-tag">&lt;/<span class="hljs-name">td</span>&gt;</span>
                );
              })}
            <span class="hljs-tag">&lt;/<span class="hljs-name">tr</span>&gt;</span>
          );
        })}
      <span class="hljs-tag">&lt;/<span class="hljs-name">tbody</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span></span><font></font>
  );<font></font>
};<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">ShoppingList</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">return</span> (
    <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ChecklistTable</span>
      <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Shopping list"</span>
      <span class="hljs-attr">columns</span>=<span class="hljs-string">{[</span>'<span class="hljs-attr">Item</span>', '<span class="hljs-attr">Quantity</span>']}
      <span class="hljs-attr">rows</span>=<span class="hljs-string">{[</span>
        ['<span class="hljs-attr">Sugar</span>', '<span class="hljs-attr">1</span> <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Butter</span>', '¬Ω <span class="hljs-attr">cup</span>'],
        ['<span class="hljs-attr">Eggs</span>', '<span class="hljs-attr">2</span>'],
        ['<span class="hljs-attr">Milk</span>', '¬Ω <span class="hljs-attr">cup</span>'],
      ]}
      <span class="hljs-attr">initialValues</span>=<span class="hljs-string">{[false,</span> <span class="hljs-attr">false</span>, <span class="hljs-attr">true</span>, <span class="hljs-attr">false</span>]}
    /&gt;</span></span><font></font>
  );<font></font>
}<font></font>
<font></font>
ReactDOM.render(<font></font>
  <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">ShoppingList</span> /&gt;</span></span>,
  <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'shopping-list'</span>)<font></font>
);<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JSX a l'air particulier. </font><font style="vertical-align: inherit;">Lorsque j'ai rencontr√© cela pour la premi√®re fois, il m'a sembl√© qu'il √©tait tout simplement impossible de le faire. </font><font style="vertical-align: inherit;">Ma premi√®re r√©action a √©t√©: ¬´Quoi? </font><font style="vertical-align: inherit;">Le HTML ne peut pas √™tre dans le code JavaScript! " </font><font style="vertical-align: inherit;">Et je n'√©tais pas le seul. </font><font style="vertical-align: inherit;">Cependant, ce n'est pas du HTML, mais du JavaScript habill√© en HTML. </font><font style="vertical-align: inherit;">En fait, c'est une solution puissante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rappelez-vous ces 20 instructions imp√©ratives ci-dessus? </font><font style="vertical-align: inherit;">Nous en avons maintenant trois. </font><font style="vertical-align: inherit;">Les autres instructions imp√©ratives (internes) que React ex√©cute pour nous dans les coulisses - √† chaque fois que checkboxValues ‚Äã‚Äãchange.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec ce code, une situation ne peut plus se produire lorsque le texte ou la couleur de la ligne ne correspond pas aux cases √† cocher, ou lorsque le bouton est activ√©, bien qu'il doive √™tre d√©sactiv√©. </font><font style="vertical-align: inherit;">Il existe toute une cat√©gorie d'erreurs qui ne peuvent tout simplement plus se produire dans notre application Web. </font><font style="vertical-align: inherit;">Tout le travail est effectu√© sur la base d'une seule source de v√©rit√©, et nous, d√©veloppeurs, pouvons √©crire moins de code et mieux dormir la nuit. </font><font style="vertical-align: inherit;">Eh bien, les d√©veloppeurs JavaScript, au moins ...</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript a vaincu HTML: affam√©</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä mesure que les applications Web deviennent plus complexes, le maintien de la s√©paration classique des t√¢ches entre HTML et JavaScript devient de plus en plus p√©nible. </font><font style="vertical-align: inherit;">HTML a √©t√© initialement con√ßu pour les pages Web statiques. </font><font style="vertical-align: inherit;">Pour y ajouter des fonctions interactives plus complexes, il est n√©cessaire d'impl√©menter la logique appropri√©e en JavaScript imp√©ratif, qui avec chaque ligne de code devient de plus en plus confus et fragile.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Avantages de l'approche moderne: pr√©visibilit√©, r√©utilisabilit√© et combinaison</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La possibilit√© d'utiliser une seule source de v√©rit√© est l'avantage le plus important de ce mod√®le, mais il pr√©sente d'autres avantages. La d√©finition de nos √©l√©ments de page dans le code JavaScript signifie que nous pouvons r√©utiliser des composants (blocs individuels d'une page Web), nous emp√™chant de copier et de coller le m√™me code HTML √† plusieurs endroits. Si nous devons changer un composant, changez simplement son code en un seul endroit. Dans ce cas, des modifications se produiront dans toutes les copies du composant (√† l'int√©rieur d'une ou m√™me dans de nombreuses applications Web, si nous utilisons des composants r√©utilisables).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous pouvons prendre des composants simples et les assembler comme des cubes LEGO, cr√©ant des composants plus complexes et utiles sans rendre leur logique trop confuse. </font><font style="vertical-align: inherit;">Et si nous utilisons des composants cr√©√©s par d'autres d√©veloppeurs, nous pouvons facilement reporter des mises √† jour ou des corrections de bogues sans avoir √† r√©√©crire notre code.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le m√™me JavaScript, uniquement dans le profil</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces avantages ont un inconv√©nient. </font><font style="vertical-align: inherit;">Il y a de bonnes raisons pour lesquelles les gens appr√©cient la s√©paration entre HTML et JavaScript. </font><font style="vertical-align: inherit;">Comme je l'ai mentionn√© plus t√¥t, l'abandon des fichiers HTML classiques complique le flux de travail pour quelqu'un qui n'a pas travaill√© avec JavaScript auparavant. </font><font style="vertical-align: inherit;">Ceux qui auparavant pouvaient apporter ind√©pendamment des modifications √† l'application web, doivent d√©sormais acqu√©rir des comp√©tences complexes suppl√©mentaires afin de maintenir leur autonomie, voire de se placer dans l'√©quipe.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il existe √©galement des d√©fauts techniques. Par exemple, certains outils, tels que les linters et les analyseurs, n'acceptent que du HTML normal en entr√©e, et travailler avec des plug-ins JavaScript tiers peut √™tre plus difficile √† la place. De plus, JavaScript n'est pas la meilleure langue, mais c'est une norme uniforme accept√©e pour les navigateurs Web. De nouveaux outils et fonctionnalit√©s am√©liorent les choses, mais il y a encore des pi√®ges que vous devez conna√Ætre avant de travailler avec. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autre probl√®me potentiel: lorsque la structure s√©mantique de la page est divis√©e en composants abstraits, le d√©veloppeur peut cesser de penser aux √©l√©ments HTML qui seront g√©n√©r√©s en cons√©quence. Balises HTML sp√©cifiques telles que </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">section et apart</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ont leur propre s√©mantique, qui est perdue lors de l'utilisation de balises √† usage g√©n√©ral telles que </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">div et span</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - m√™me si elles sont visuellement identiques sur la page. </font><font style="vertical-align: inherit;">Ceci est particuli√®rement important pour garantir la disponibilit√© de l'application Web pour diff√©rentes cat√©gories d'utilisateurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, cela affectera le comportement du lecteur d'√©cran pour les utilisateurs malvoyants. </font><font style="vertical-align: inherit;">Ce ne sont peut-√™tre pas les t√¢ches les plus int√©ressantes pour le d√©veloppeur, mais les d√©veloppeurs JavaScript doivent toujours se rappeler que la pr√©servation de la s√©mantique du HTML dans ce cas est la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">t√¢che</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> la plus importante </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<h2><font color="‚Äú#3AC1EF‚Äù"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Besoin conscient vs tendance inconsciente</font></font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
R√©cemment, l'utilisation de cadres dans chaque projet est devenue une tendance. Certaines personnes pensent que la s√©paration entre HTML et JavaScript est obsol√®te, mais ce n'est pas le cas. Pour un site Web statique simple qui ne n√©cessite pas d'interaction utilisateur complexe, c'est tout √† fait juste. Les fans de React plus ardents peuvent √™tre en d√©saccord avec moi ici, mais si tout votre JavaScript consiste √† cr√©er une page Web non interactive, vous ne devriez pas l'utiliser. JavaScript ne se charge pas aussi rapidement que le HTML standard. Par cons√©quent, si vous ne d√©finissez pas la t√¢che d'acqu√©rir une nouvelle exp√©rience de d√©veloppement ou d'am√©liorer la fiabilit√© du code, JavaScript ici fera plus de mal que de bien.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, il n'est pas n√©cessaire d'√©crire l'int√©gralit√© de votre site Web dans React. Ou Vue! Ou quoi d'autre est l√† ... Beaucoup de gens ne le savent pas, car tous les tutoriels montrent essentiellement comment utiliser React pour d√©velopper un site √† partir de z√©ro. Si vous n'avez qu'un seul petit widget complexe sur un site Web simple, vous pouvez utiliser </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">React pour un composant</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Vous n'avez pas toujours √† vous soucier du webpack, de Redux, de Gatsby ou de toute autre chose que quelqu'un recommande comme ¬´meilleures pratiques¬ª.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais si l'application est assez complexe, l'utilisation d'une approche d√©clarative moderne en vaut vraiment la peine. </font><font style="vertical-align: inherit;">React est-il la meilleure solution? </font><font style="vertical-align: inherit;">Non. </font><font style="vertical-align: inherit;">Il a d√©j√† de solides concurrents. </font><font style="vertical-align: inherit;">Et puis de plus en plus appara√Ætra ... Mais la programmation d√©clarative n'ira nulle part, et dans un nouveau cadre, cette approche sera probablement repens√©e et mise en ≈ìuvre encore mieux.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><img src="https://habrastorage.org/files/1ba/550/d25/1ba550d25e8846ce8805de564da6aa63.png"></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr492730/index.html">D√©partement am√©ricain de la D√©fense: √©thique pour l'IA et les v√©hicules sans pilote</a></li>
<li><a href="../fr492742/index.html">Visualisez les donn√©es de l'application Node JS avec Prometheus + Grafana</a></li>
<li><a href="../fr492744/index.html">Quel syst√®me sera le plus bruyant et qui donnera le silence ¬´absolu¬ª: deux projets scientifiques int√©ressants</a></li>
<li><a href="../fr492746/index.html">Comment √©viter l'indignation de la programmation? Conseils d'int√©gration</a></li>
<li><a href="../fr492748/index.html">Profession DevOps-engineer: une vue de l'administrateur syst√®me</a></li>
<li><a href="../fr492758/index.html">Podcasts pour les d√©veloppeurs</a></li>
<li><a href="../fr492760/index.html">Grille CSS: saisie d'une mise en page de magazine r√©active de 20 lignes</a></li>
<li><a href="../fr492762/index.html">Alphabet des investisseurs: qu'est-ce qu'un appel de marge et comment l'√©viter</a></li>
<li><a href="../fr492766/index.html">Nous pompons le travail avec des √©v√©nements dans Angular</a></li>
<li><a href="../fr492768/index.html">Greybox Fuzzing par l'exemple d'AFLSmart</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>