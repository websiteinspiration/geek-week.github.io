<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü•• ‚û°Ô∏è üßíüèø Daftar perubahan dalam D 2.092. Meminjam Meminjam ü§∂üèΩ üëåüèº üö¥üèæ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dari penerjemah. Saya biasanya tidak menerjemahkan artikel seperti itu, karena saya tidak melihat sesuatu yang menarik di dalamnya. Di sini, dua inova...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Daftar perubahan dalam D 2.092. Meminjam Meminjam</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501808/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dari penerjemah. </font><font style="vertical-align: inherit;">Saya biasanya tidak menerjemahkan artikel seperti itu, karena saya tidak melihat sesuatu yang menarik di dalamnya. </font><font style="vertical-align: inherit;">Di sini, dua inovasi kecil, tetapi yang paling penting - dukungan untuk menghubungkan langsung perpustakaan C ++ dan sistem "pinjaman" kepemilikan dan pinjaman dari Rust (yang kedua adalah menelan DFA, yang pertama keluar di GCC10 hanya beberapa hari yang lalu, dan Nim juga berpikir tentang hal itu dengan deskripsi). </font><font style="vertical-align: inherit;">Sebenarnya, saya tidak menerjemahkan daftar yang membosankan, dan tautannya mengarah ke yang asli. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versi sebelumnya dari daftar 2.0.91.1 (ind) </font></font></a><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tempat untuk mengunduh</font></font></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
2.092.0 keluar dengan 15 perubahan penting dan 44 perbaikan bug dan peningkatan. </font><font style="vertical-align: inherit;">Terima kasih banyak kepada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">47 kontributor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang memungkinkan rilis ini.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perubahan kompiler</font></font></h4><a name="habracut"></a><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The </font><b><font style="vertical-align: inherit;">-revert = </font></b></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">import</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-transition = checkimport switch</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> baris perintah </font><font style="vertical-align: inherit;">dihapus</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Menambahkan dukungan untuk pengkodean (penyusunan) nama C ++ GNU ABI</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Konstruktor dan destruktor untuk modul yang bukan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eksternal (D)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ditandai sudah usang</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pelanggaran DIP25 Ditandai Secara Default Usang</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kepemilikan Prototipe dan Sistem Pinjaman untuk Pointer</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ditambahkan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">= -preview di pilihan itu</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ternyata kelas penyimpanan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">di</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lingkup const</font></font></b></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameter </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">printf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scanf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sekarang diperiksa untuk kesesuaian dengan penentu format</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Variabel lingkungan </font><b><font style="vertical-align: inherit;">SOURCE_DATE_EPOCH</font></b><font style="vertical-align: inherit;"> sekarang didukung.</font></font><b><font style="vertical-align: inherit;"></font></b></li>
</ol><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perubahan runtime</font></font></h4><br>
<ol>
<li> <b>TypeInfo_Class/TypeInfo_Interface.isBaseOf</b>  C#/Java <b>isAssignableFrom</b></li>
<li> <b>core.memory.pageSize</b>  <b>minimumPageSize</b></li>
</ol><br>
<h4> </h4><br>
<ol>
<li> <b>Date.isoWeekYear</b>  <b>Date.fromISOWeek</b>  <b>std.datetime.date</b></li>
<li> <b>std.xml</b>  </li>
<li>   <b>std.digest.digest</b> </li>
</ol><br>
<h4>   Dub</h4><br>
<ol>
<li>   </li>
<li>Dub lint    <b>--report-file</b></li>
</ol><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daftar lengkap perbaikan dan peningkatan (bahasa Inggris)</font></font></b></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Prim.per.U mengecewakan saya, karena tidak mungkin untuk mengatur konten yang benar dari tautan dalam-halaman ke pengungkapan, seperti dalam aslinya, sorry = (</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perubahan kompiler</font></font></h4><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perintah baris switch </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-revert = import</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-transition = checkimport telah</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dihapus. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kunci-kunci ini tidak melakukan apa-apa, dan untuk beberapa waktu mereka ditandai usang. </font><font style="vertical-align: inherit;">Kompiler tidak akan lagi mengenalinya.</font></font></li>
<li>   ()  C++ GNU ABI<br>
<br>
 GNU ABI   C++11  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"> GCC 5.1</a>.     D  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">  C++</a>, DMD    UDA ( ) <b>gnuAbiTag</b>,   <b>core.attribute</b>      <b>object</b> (         ). ABI    ,     ,       ++ .  ,     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">std::string</a>     C++11   (DMD  <b>-extern-std={c++11,c++14,c++17}</b>).<br>
<br>
  : <br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">extern</span>(C++):<font></font>
@gnuAbiTag(<span class="hljs-string">"tagOnStruct"</span>)
<span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">MyStruct</span> {</span>}<font></font>
@gnuAbiTag(<span class="hljs-string">"Multiple"</span>, <span class="hljs-string">"Tags"</span>, <span class="hljs-string">"On"</span>, <span class="hljs-string">"Function"</span>)
<span class="hljs-function">MyStruct <span class="hljs-title">func</span><span class="hljs-params">()</span></span>;</code></pre><br>
      gnuAbiTag.     (  ). UDA        <b>-extern-std=c++11</b>.   (<b>-extern-std=c++98</b>) UDA . UDA    extern(C++)        .</li>
<li>    ,   <b>extern(D)</b>  .<br>
<br>
    (    )     ,   <b>extern(D)</b>,     .       ,    ,     /     , ,        <b> </b>   479,     <b> </b>    479,      .<br>
<br>
 ,      ,          .</li>
<li> DIP25    .<br>
<br>
DIP25    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">2.067.0</a>,    ,       -preview=dip25.          , , DIP1000.<br>
<br>
   , ,         <b>-preview=dip25</b>,          <b>-preview=dip25</b>.     (    ).<br>
<br>
DIP25   ,  <b>@ safe</b>       .     ,   <b>ref </b>  ,   <b>return </b>    ,   .<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-class"><span class="hljs-keyword">struct</span> <span class="hljs-title">Foo</span>
{</span>
    <span class="hljs-keyword">int</span> x;
    <span class="hljs-comment">// returning `this.x` escapes a reference to parameter `this`, perhaps annotate with `return`</span>
    <span class="hljs-function">ref <span class="hljs-keyword">int</span> <span class="hljs-title">method</span><span class="hljs-params">()</span> <span class="hljs-comment">/* return */</span> </span>{ <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.x; }<font></font>
}<font></font>
<span class="hljs-comment">// returning `v` escapes a reference to parameter `v`, perhaps annotate with `return`</span>
<span class="hljs-function">ref <span class="hljs-keyword">int</span> <span class="hljs-title">identity</span><span class="hljs-params">(<span class="hljs-comment">/* return */</span> ref <span class="hljs-keyword">int</span> v)</span> </span>{ <span class="hljs-keyword">return</span> v; }</code></pre><br>
    <b>return </b> .   DIP25   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"></a>.</li>
<li>  <b>-preview=in</b>    <b>in</b>  <b>scope const</b>.<br>
<br>
      <b>const scope</b>,   <b>in </b>        .   , <b>in </b>       (.  inout )  .<br>
<br>
  <b>-preview=in</b>,    :<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun</span><span class="hljs-params">(in <span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun</span><span class="hljs-params">(<span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> x)</span></span>;</code></pre><br>
  <b>-preview=in</b>,    :<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun</span><span class="hljs-params">(in <span class="hljs-keyword">int</span> x)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">fun</span><span class="hljs-params">(scope <span class="hljs-keyword">const</span> <span class="hljs-keyword">int</span> x)</span></span>;</code></pre></li>
<li> <b>printf</b>  <b>scanf</b>      <br>
<br>
  C99 7.19.6.1  printf  7.19.6.2  scanf.<br>
<br>
 printf   ,     . ,         .<br>
<br>
 scanf     .<br>
<br>
  :<br>
<br>
<ol>
<li> ,      </li>
<li> ,    </li>
<li>  </li>
<li> </li>
<li>   </li>
<li> ‚Äî  ,    s</li>
<li> </li>
<li>     C99</li>
</ol><br>
 -,   .<br>
<br>
        .<br>
<br>
 ,     printf/scanf,    :<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-built_in">printf</span>(<span class="hljs-string">"%k\n"</span>, value);  <span class="hljs-comment">// error: non-Standard format k</span>
<span class="hljs-keyword">const</span> format = <span class="hljs-string">"%k\n"</span>;
<span class="hljs-built_in">printf</span>(format.ptr, value);  <span class="hljs-comment">// no error</span></code></pre><br>
   ‚Äî    . ,<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-built_in">string</span> s;
<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%.*s\n"</span>, s.length, s.ptr);
<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, s.<span class="hljs-keyword">sizeof</span>);<font></font>
ulong u;<font></font>
<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%lld%*c\n"</span>, &amp;u);</code></pre><br>
  :<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-built_in">string</span> s;
<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%.*s\n"</span>, cast(<span class="hljs-keyword">int</span>) s.length, s.ptr);
<span class="hljs-built_in">printf</span>(<span class="hljs-string">"%zd\n"</span>, s.<span class="hljs-keyword">sizeof</span>);<font></font>
ulong u;<font></font>
<span class="hljs-built_in">scanf</span>(<span class="hljs-string">"%llu%*c\n"</span>, &amp;u);</code></pre><br>
  printf  scanf       <b>pragma(printf)</b>    printf  <b>pragma(scanf)</b>    scanf.<br>
<br>
 ,     :<br>
<br>
<ol>
<li> <b>extern (C )</b>  <b>extern (C++)</b></li>
<li>     <b>const(char)*</b></li>
<li>    ‚Ä¶  -v ,     <b>va_list </b> (    ¬´v¬ª  <b>printf  scanf</b>)</li>
</ol>         .<br>
<br>
   ¬´v¬ª-   .<br>
</li>
<li>    <b>SOURCE_DATE_EPOCH</b><br>
<br>
 <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"> </a>    SOURCE_DATE_EPOCH.    UNIX (  1970-01-01 00:00:00),   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow"></a>.  DMD       __DATE__, __TIME__  __TIMESTAMP__ .</li>
</ol><br>
<br>
<h3>      </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem kepemilikan / pinjaman (juga dikenal sebagai OB) untuk pointer memastikan bahwa pointer dereferenced menunjuk ke objek memori yang valid.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lingkup sistem OB prototipe</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini adalah prototipe sistem OB, diadaptasi untuk D. Awalnya, ini dimaksudkan hanya untuk pointer, dan bukan untuk array dinamis, referensi kelas, referensi atau bidang penunjuk dalam agregat. </font><font style="vertical-align: inherit;">Menambahkan dukungan semacam ini akan mempersulit implementasi, tetapi tidak mengubah esensinya, karena itu ditunda untuk nanti. </font><font style="vertical-align: inherit;">Objek RAII dapat dengan aman mengatur ingatannya sendiri, sehingga tidak tercakup oleh OB. </font><font style="vertical-align: inherit;">Terlepas dari metode, apakah pointer mengalokasikan memori menggunakan GC atau pengalokasi lainnya, ini tidak penting untuk OB, mereka tidak berbeda dan diproses secara identik. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem OB hanya aktif dalam fungsi yang dijelaskan dengan atribut </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ live</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ini diterapkan setelah pemrosesan semantik semata-mata sebagai pemeriksaan atas pelanggaran aturan zat organik. </font><font style="vertical-align: inherit;">Sintaks baru tidak ditambahkan. </font><font style="vertical-align: inherit;">Tidak ada perubahan yang dilakukan pada kode yang dihasilkan. </font><font style="vertical-align: inherit;">Jika </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ hidup</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fungsi memanggil fungsi-fungsi lain selain </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ hidup</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , diharapkan fungsi-fungsi yang disebut akan menjadi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ live-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> interface yang kompatibel, meskipun tidak diuji. </font><font style="vertical-align: inherit;">Jika </font><font style="vertical-align: inherit;">fungsi-fungsi </font><font style="vertical-align: inherit;">non- </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">live</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> memanggil fungsi-fungsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ live</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , argumen yang diberikan diharapkan untuk mengikuti konvensi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ live</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sistem OB mendeteksi kesalahan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pointer dereferencing yang dalam keadaan tidak valid</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lebih dari satu pointer aktif ke objek memori yang bermutasi.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Itu tidak akan mendeteksi upaya untuk melakukan referensi pointer nol atau, berpotensi, pointer nol. </font><font style="vertical-align: inherit;">Ini tidak berfungsi, karena saat ini tidak ada metode untuk menganotasi tipe sebagai pointer yang tidak dapat dibatalkan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Prinsip dasar OB</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Desain OB mengikuti dari prinsip berikut: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk setiap objek memori, dapat ada tepat satu pointer bermutasi, atau beberapa pointer non-mutasi (hanya baca).</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rancangan</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pointer bermutasi tunggal disebut "pemilik" objek memori. Dia secara transitif memiliki objek memori dan semua objek dalam memori dapat diakses darinya (yaitu grafik objek). Karena itu adalah satu-satunya penunjuk ke objek memori ini, ia dapat dengan aman mengelola memori (mengubah bentuk, mengalokasikan, membebaskan, dan mengubah ukuran) tanpa mengetuk tanah di bawah kaki pointer lainnya (bermutasi atau tidak) yang mungkin ada di dalamnya (grafik memori) menunjukkan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika ada beberapa petunjuk ke grafik objek memori yang hanya-baca, mereka dapat dengan aman membaca darinya tanpa khawatir tentang perubahan mendadak pada grafik objek dalam memori.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Detail teknologi lainnya berkaitan dengan bagaimana pointer menjadi read-only dan tidak valid, dan bagaimana Prinsip Inti OB dipertahankan secara konstan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pointer terlacak</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hanya pointer yang dideklarasikan dalam fungsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ live</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> karena </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hal ini</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , parameter fungsi, atau variabel lokal </font><font style="vertical-align: inherit;">dilacak </font><font style="vertical-align: inherit;">. Variabel dari fungsi lain tidak dilacak, bahkan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ live</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , karena analisis interaksi dengan fungsi lain sepenuhnya hanya bergantung pada tanda tangan dari fungsi ini, dan bukan pada internalnya. Parameter yang merupakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">const</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tidak dilacak. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Status</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
pointer Setiap pointer berada di salah satu status berikut: Tidak </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">terdefinisi</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pointer dalam keadaan tidak valid. Mendereferensi pointer seperti itu adalah kesalahan. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pemilik</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pemilik adalah satu-satunya penunjuk ke grafik objek dalam memori. Biasanya sebuah pointer - Pemilik tidak memiliki atribut </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lingkup</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Jika pointer dengan atribut </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scope</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> diinisialisasi dengan ekspresi yang tidak diturunkan dari pointer yang dilacak, maka itu menjadi Pemilik. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika pointer Pemilik ditugaskan ke pointer lain - Pemilik, maka yang pertama masuk ke status Tidak terdefinisi. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dipinjam</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pointer pinjaman adalah pointer yang sementara menjadi satu-satunya pointer ke grafik objek memori. Dia masuk ke negara ini melalui penugasan dari penunjuk - Pemilik, sedangkan Pemilik masuk ke negara Peminjam sampai penggunaan penunjuk pinjaman selesai. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pointer yang dipinjam harus memiliki atribut </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scope</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan menjadi pointer ke objek yang bisa berubah. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Read</font></font></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
-Only Indeks </font><i><font style="vertical-align: inherit;">Read-</font></i><font style="vertical-align: inherit;"> Only ditugaskan oleh Pemilik. Selama pointer Read-Only masih hidup, hanya pointer Read-Only yang masih dapat ditetapkan dari Pemilik ini. Pointer baca-saja harus memiliki atribut </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lingkup</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , dan itu juga harus tidak menjadi pointer ke objek yang bisa berubah. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seumur hidup</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masa pakai dari indikator "Borrowed" atau "Read-only" dimulai dari saat pertama kali direferensikan (dan bukan sejak saat itu diinisialisasi atau diberi nilai) dan berakhir ketika nilai tersebut direferensikan terakhir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ia juga dikenal sebagai </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lifetimes Non-Lexical</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">
Status </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transisi untuk pointer</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Suatu pointer mengubah statusnya ketika salah satu dari operasi ini dilakukan:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">memori dialokasikan untuk itu (misalnya, variabel lokal di stack), yang menempatkan pointer dalam keadaan tidak terdefinisi</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inisialisasi (dianggap sebagai penugasan)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">penugasan - sumber dan target pointer berubah status tergantung pada keadaan apa mereka berada, serta pada tipe dan kelas penyimpanan mereka</font></font></li>
<li>   <b>out</b> (    ),   ,   .</li>
<li>  <b>ref </b> ,          ,        .</li>
<li> </li>
<li>    ,      .</li>
<li>       - ()</li>
<li>  ,     ,   .</li>
<li>      ,     ,    </li>
<li>        ,     ,    </li>
<li>         ,       </li>
</ul><br>
<h4></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Menjadi prototipe, ada banyak aspek yang belum dipertimbangkan, dan tidak akan sampai prototipe menunjukkan bahwa ini adalah solusi yang bisa diterapkan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kesalahan</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Berharap banyak kesalahan. Silakan laporkan ke bugzilla dan beri tag dengan kata kunci "ob". Tidak perlu melaporkan batasan lain yang sudah terdaftar di sini. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Referensi ke kelas dan array asosiatif tidak dilacak.</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Diasumsikan bahwa mereka dikendalikan oleh GC. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meminjam dan membaca dari bukan pemilik</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Pemilik dimonitor karena kebocoran, tetapi tidak untuk indikator lainnya. Peminjam dianggap Pemilik jika mereka tidak diinisialisasi dengan sebuah pointer.</font></font><br>
<br>
<pre><code class="cpp hljs">@<span class="hljs-function">live <span class="hljs-keyword">void</span> <span class="hljs-title">uhoh</span><span class="hljs-params">()</span>
</span>{<font></font>
    scope p = <span class="hljs-built_in">malloc</span>();  <span class="hljs-comment">// p is considered an Owner</span>
    scope <span class="hljs-keyword">const</span> pc = <span class="hljs-built_in">malloc</span>(); <span class="hljs-comment">// pc is not considered an Owner</span>
} <span class="hljs-comment">// dangling pointer pc is not detected on exit</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tampaknya tidak masuk akal untuk menandai pointer seperti </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ruang lingkup</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mungkin ini dapat diperbaiki dengan memperlakukan ini sebagai kesalahan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pointer dibaca / ditulis oleh fungsi bersarang,</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
tidak dilacak.</font></font><br>
<br>
<pre><code class="cpp hljs">@<span class="hljs-function">live <span class="hljs-keyword">void</span> <span class="hljs-title">ohno</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">auto</span> p = <span class="hljs-built_in">malloc</span>();<font></font>
<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">sneaky</span><span class="hljs-params">()</span> </span>{ <span class="hljs-built_in">free</span>(p); }<font></font>
<font></font>
    sneaky();<font></font>
    <span class="hljs-built_in">free</span>(p);  <span class="hljs-comment">// double free not detected</span>
}</code></pre><br>
<b><font style="vertical-align: inherit;"></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analisis </font><b><font style="vertical-align: inherit;">Pengecualian</font></b><font style="vertical-align: inherit;"> mengasumsikan bahwa pengecualian tidak dibuang.</font></font><br>
<br>
<pre><code class="cpp hljs">@<span class="hljs-function">live <span class="hljs-keyword">void</span> <span class="hljs-title">leaky</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">auto</span> p = <span class="hljs-built_in">malloc</span>();<font></font>
    pitcher();  <span class="hljs-comment">// throws exception, p leaks</span>
    <span class="hljs-built_in">free</span>(p);<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Salah satu solusinya adalah dengan menggunakan </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">scope (keluar)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="cpp hljs">@<span class="hljs-function">live <span class="hljs-keyword">void</span> <span class="hljs-title">waterTight</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">auto</span> p = <span class="hljs-built_in">malloc</span>();<font></font>
    scope(<span class="hljs-built_in">exit</span>) <span class="hljs-built_in">free</span>(p);<font></font>
    pitcher();<font></font>
}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
baik menggunakan objek RAII atau hanya memanggil fungsi nothrow. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parameter malas</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tidak diperhitungkan. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kompleksitas kuadrat</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Analisis ini menunjukkan kompleksitas kuadrat, cobalah untuk menjaga fungsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ live</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tetap </font><font style="vertical-align: inherit;">kecil. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mencampur berbagai kelompok memori</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Menggabungkan kumpulan memori yang berbeda:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">xmalloc</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span>)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">xfree</span><span class="hljs-params">(<span class="hljs-keyword">void</span>*)</span></span>;<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span>* <span class="hljs-title">ymalloc</span><span class="hljs-params">(<span class="hljs-keyword">size_t</span>)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">yfree</span><span class="hljs-params">(<span class="hljs-keyword">void</span>*)</span></span>;<font></font>
<font></font>
<span class="hljs-keyword">auto</span> p = xmalloc(<span class="hljs-number">20</span>);<font></font>
yfree(p);  <span class="hljs-comment">// should call xfree() instead</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
tidak terdeteksi. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini dapat dielakkan dengan menggunakan kumpulan khusus untuk jenis tertentu:</font></font><br>
<br>
<pre><code class="cpp hljs"><span class="hljs-function">U* <span class="hljs-title">umalloc</span><span class="hljs-params">()</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ufree</span><span class="hljs-params">(U*)</span></span>;<font></font>
<font></font>
<span class="hljs-function">V* <span class="hljs-title">vmalloc</span><span class="hljs-params">()</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">vfree</span><span class="hljs-params">(V*)</span></span>;<font></font>
<font></font>
<span class="hljs-keyword">auto</span> p = umalloc();<font></font>
vfree(p);  <span class="hljs-comment">// type mismatch</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dan mungkin melarang konversi implisit untuk </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">membatalkan *</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> di fungsi </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@ live</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Argumen fungsi variadic</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Argumen ke fungsi variadic (misalnya, printf) dianggap dikonsumsi. </font><font style="vertical-align: inherit;">Meskipun ini aman, tampaknya tidak terlalu praktis dan kemungkinan akan membutuhkan peninjauan.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Perubahan runtime</font></font></h4><br>
<ol>
<li> <b>TypeInfo_Class/TypeInfo_Interface.isBaseOf</b>  C#/Java <b>isAssignableFrom</b>.<br>
<br>
<b>TypeInfo_Class.isBaseOf</b>  true,        ,  ,   ,  .   <b>isBaseOf</b>,   <b>isAssignableFrom</b>,     ,   opAssign               D ‚Äî . <b>TypeInfo_Interface.isBaseOf</b>    ,      <b>TypeInfo_Class</b>,  <b>TypeInfo_Interface</b>.</li>
<li> <b>core.memory.pageSize</b>  <b>minimumPageSize</b>.<br>
<br>
<b>pageSize </b>     .<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">import</span> core.memory : pageSize;<font></font>
ubyte[] buffer = <span class="hljs-keyword">new</span> ubyte[pageSize];</code></pre><br>
<b>minimumPageSize </b>      .<br>
<br>
   ,   .     ,     .      <b>pageSize</b>,     .<br>
<br>
  ,        , ,    : <b>ubyte[minimumPageSize]</b>.<br>
<br>
<pre><code class="cpp hljs"><span class="hljs-keyword">import</span> core.memory : minimumPageSize;<font></font>
ubyte[minimumPageSize] buffer;</code></pre><br>
</li>
</ol><br>
<h4> </h4><br>
<ol>
<li> <b>Date.isoWeekYear</b>  <b>Date.fromISOWeek</b>  <b>std.datetime.date</b><br>
<br>
      ISO 8601   ,    Date and DateTime.<br>
<br>
    ISO   ,     . <b>Date.fromISOWeek(2020, 11, DayOfWeek.mon)</b>   <b>Date(2020, 3, 9).</b><br>
<br>
          ISO   ,    () <b>.isoWeekYear</b>     <b>Date </b>   ISO.      ,    <b>.isoWeekAndYear</b>     ,      .</li>
<li> <b>std.xml</b>  .<br>
<br>
 <b>std.xml</b>  .  ,      ,    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">UndeaD</a>.   xml     dub- <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=" rel="nofollow">dxml</a>.</li>
<li>   <b>std.digest.digest</b> .<br>
<br>
    2.076.1     .    <b>std.digest</b>   .<br>
<br>
     <b>std.digest.digest</b>       2.101.</li>
</ol><br>
<h4>   Dub</h4><br>
<ol>
<li>   .<br>
<br>
      Posix   ,  <b>.dub</b>.   dub    (, <b>.swap.file.d</b>),    .      ,  dub  .        ,             dub.<br>
<br>
 ,            .</li>
<li>Dub lint    <b>--report-file</b>.<br>
<br>
Dub lint      --report-file: <b>dub lint --report-file report.json</b></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id501796/index.html">7 kesalahan berbahaya yang mudah dilakukan di C # /. NET</a></li>
<li><a href="../id501798/index.html">C++/Qt: –ø–æ—Ä–∞ –≤–∞–ª–∏—Ç—å?.</a></li>
<li><a href="../id501800/index.html">Sesi osinta kecil tentang modernisasi dan produksi sistem komunikasi radio untuk Angkatan Bersenjata Federasi Rusia</a></li>
<li><a href="../id501804/index.html">Anak panah. Semua yang perlu Anda ketahui tentang konstanta</a></li>
<li><a href="../id501806/index.html">ACS: masalah, solusi dan manajemen risiko keamanan</a></li>
<li><a href="../id501810/index.html">Penembak 3D keren di laptop kuno: tes platform cloud gaming GFN.RU</a></li>
<li><a href="../id501812/index.html">Python Telegram Pagination Bot</a></li>
<li><a href="../id501814/index.html">Perubahan COVID: kisah-kisah anggota StartupDrive yang telah berubah dan menjadi lebih kuat selama pandemi</a></li>
<li><a href="../id501820/index.html">Integrasi Netflow dan Solusi Pemantauan SIEM</a></li>
<li><a href="../id501822/index.html">Insinyur Generasi Ketiga</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>