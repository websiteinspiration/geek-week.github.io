<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🕗 🧗🏽 ⚜️ Schéma JSON. Être ou ne pas être? ✡️ 🅱️ 💃🏾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Architecture: l'art de rendre inutilement nécessaire. 
 
 Frederick Kiesler
 
 Ce n'est un secret pour personne que pour tout service Web utilisant le...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Schéma JSON. Être ou ne pas être?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/495766/"><blockquote><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecture: l'art de rendre inutilement nécessaire. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Frederick Kiesler</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce n'est un secret pour personne que pour tout service Web utilisant le protocole SOAP au format XML, une solution fiable et éprouvée est le développement préliminaire du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">schéma XML</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ( </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">schéma</font></a><font style="vertical-align: inherit;"> xsd) décrivant les types de données et la structure des messages XML. Avec cette approche, les développeurs ont un avantage évident: ils ont des règles standardisées strictes pour la structure des messages qui sont définis dans le schéma, le nombre de règles est fini et ils vous permettent d'automatiser la vérification de tout nouveau message au format XML.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais il est également connu que le langage XML a été supplanté par le langage de balisage JSON (JavaScript Object Notation) en raison de sa plus grande lourdeur (lourdeur XML), et également en raison de la propagation du style architectural du développement logiciel REST (REpresentational State Transfer) pour les systèmes distribués. Bien que le style REST lui-même ne nécessite pas l'utilisation de JSON (on peut dire qu'il ne nécessite rien du tout, mais «recommande»), mais comme le montre la pratique, plus souvent lors du développement d'une API REST, JSON est utilisé pour décrire le corps des messages.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, la pratique de développer une API REST avec des messages JSON est fermement entrée dans la vie de l'informatique en Russie (et pas seulement la nôtre), bien que l'expérience dans la description de la structure des messages sous forme de schéma XML ait considérablement simplifié la vie des développeurs de services Web à un moment donné, constamment ignoré dans le cas des messages JSON. Mais pas tous ceux qui ne peuvent que se réjouir. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque les développeurs familiarisés avec le schéma XML ont dû à chaque fois réinventer la roue avec l'analyse de documents et réinventer la logique de validation, un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">projet de schéma JSON</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> similaire a </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">été</font></a><font style="vertical-align: inherit;"> formé </font><font style="vertical-align: inherit;">. Il est disponible sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json-schema.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ainsi qu'un certain nombre de documents sur l'historique des changements et des exemples d'utilisation. Et malgré le fait qu'il soit publié sous forme de projet, il a longtemps été pris en charge par toutes les plates-formes de développement et bibliothèques populaires dans différentes langues. </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Le schéma JSON</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
lui-même </font><font style="vertical-align: inherit;">offre moins de capacités de structuration des messages que le </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">schéma XML</font></a><font style="vertical-align: inherit;"> . Ce qui peut être facilement décrit via le schéma XML ne sera pas toujours une tâche triviale à répéter en utilisant le schéma JSON, si possible. Mais ici, je considérerais ce fait comme un avantage. Pourquoi? </font><font style="vertical-align: inherit;">
On sait que plus l'algorithme du système est simple et linéaire, plus il est fiable, plus la structure du document est simple, plus il est facile à percevoir, etc. </font><font style="vertical-align: inherit;">
Je ne peux pas m'empêcher de citer:</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Tout ce qui est ingénieux est simple, et tout ce qui est simple est ingénieux</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><i><font style="vertical-align: inherit;">" </font></i><font style="vertical-align: inherit;">Et s'il n'est pas possible de décrire la structure complexe du document et l'ensemble des options acceptables à l'aide d'un schéma, alors peut-être vaut-il la peine de chercher à simplifier la structure et la logique de la formation de ce document?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Préface</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De quoi parle cet article? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je voudrais attirer davantage l'attention sur les avantages de la description des messages JSON transmis par le schéma JSON. </font><font style="vertical-align: inherit;">Malgré le fait que «à l'entrée», développer une API REST sans aucun schéma JSON soit toujours plus simple et plus rapide, mais avec la croissance du système, son absence d'une manière ou d'une autre entraîne une augmentation des coûts de maintenance et de support du système. </font><font style="vertical-align: inherit;">De même, toute étude préalable de la structure des messages contribue à une meilleure organisation de l'échange des messages, sans double emploi inutile dans l'échange des données et des règles générales pour leur traitement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aussi, afin de diffuser des informations dans la communauté russophone sur les possibilités du schéma JSON et les règles de travail avec lui, je partagerai mon expérience avec des exemples spécifiques dans le cadre de cet article.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Formulation du problème</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de commencer à étudier le JSON et le schéma JSON, je décrirai la tâche sur laquelle nous considérerons tous les exemples ci-dessous. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considérons un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modèle de</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> gestion des </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">rôles</font></a><font style="vertical-align: inherit;"> dans une organisation. Nous supposons que nous devrons transférer des informations de référence sur le modèle de rôle existant vers des systèmes dépendants dans des messages au format JSON en appelant un service REST.</font></font><cut></cut><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Description de la tâche: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'organisation a des employés, ils doivent souvent travailler simultanément dans plusieurs systèmes. De plus, le niveau d'accès (autorité) aux différents composants du système (ressources) pour différents employés, selon leur rôle dans l'organisation, peut différer et doit être contrôlé lors de l'autorisation des utilisateurs dans le système. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par exemple, un comptable (rôle) aura un accès en lecture et en édition (opérations / informations d'identification) aux livres de paie (ressource) pour les salaires de tous les employés, et un analyste (rôle), par exemple, aura un accès en lecture (opération / informations d'identification) uniquement selon son bulletin de paie (ressource).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est nécessaire de concevoir et de décrire un modèle de gestion des rôles dans une organisation. </font><font style="vertical-align: inherit;">Les rôles disponibles, un ensemble de pouvoirs et de ressources possibles dans le système doivent être transférés à d'autres systèmes sur demande. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tr/1m/re/tr1mrejzcrb_dksubi8edawdssm.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 1. Présentation des composants du modèle de rôle. Les</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
méthodes de description et de mise en œuvre du modèle de rôle peuvent différer, mais quelle que soit la mise en œuvre, le plus souvent dans le modèle de rôle dans ce cas, nous pouvons distinguer les composants de base suivants:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rôle (p. Ex. Gestionnaire, comptable, etc.).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ressource (par exemple, document, propriété, etc.).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Opération / autorité (par exemple, lire, imprimer, créer, etc.).</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsqu'ils décrivent l'accès basé sur les rôles (comme l'une des options possibles), ils ont recours à la création d'une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">matrice d'</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> accès </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">discrète</font></a><font style="vertical-align: inherit;"> basée sur des entités sélectionnées, par exemple: </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 1. Matrice d'accès discrète.</font></font></i><br>
<div class="scrollable-table"><table>
<tbody>
<tr>
<th></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ressource: documents</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ressource: objets</font></font></th>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rôle: manager</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lire, imprimer</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lire, créer</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Rôle: comptable </font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lire, créer</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lis</font></font></td>
</tr>
</tbody>
</table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Plus loin dans l'article, nous nous familiariserons d'abord avec la composante théorique du format de texte pour échanger des données JSON et les règles pour les structurer en utilisant le schéma JSON, et comme exemples je fournirai une </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">description des entités de référence pour les rôles, les ressources et les opérations dans le langage JSON et leurs schémas JSON</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans notre définir la tâche.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notation d'objet JavaScript (JSON)</font></font></h2><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSON (English JavaScript Object Notation)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un format d'échange de données basé sur du texte basé sur JavaScript.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Théorie</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le langage de balisage JSON définit un ensemble limité de types de données. </font><font style="vertical-align: inherit;">Pour la paire {"clé": valeur} pour la "clé" utilisez toujours le type chaîne, pour la "valeur" les types sont applicables: chaîne, nombre, objet (type JSON), tableau, booléen (vrai ou faux) et null. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/x6/q_/sg/x6q_sgnunckncpntu5xyf7zeu1i.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 2. Types de données JSON</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
La figure montre les types de base et des exemples de leur utilisation. </font><font style="vertical-align: inherit;">Assez simple, à mon avis. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La syntaxe JSON est un sous-ensemble de la syntaxe JavaScript, où:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les données sont écrites sous forme de paires {"clé": valeur}.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les données sont séparées par des virgules.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les accolades enregistrent les objets.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les tableaux sont écrits entre crochets.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les noms des "clés" sont sensibles à la casse.</font></font></li>
</ol><br>
<img src="https://habrastorage.org/webt/7r/xl/ho/7rxlho08got9yund-ef8z-pqsn0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 3. Syntaxe JSON </font></font></i><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entraine toi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons un exemple de répertoire de rôles que nous transférerons dans le service: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/8k/vm/tc/8kvmtcqmy-gmt-d_aenedkkohwo.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 4. Description d'un répertoire de rôles au format json</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
D'après l'exemple, on peut voir que même en dépit d'un si petit nombre de types de base, une fois combinés, nous pouvons créer des structures de message plus complexes si nécessaire. Ici, en particulier, je décris le répertoire des rôles à travers un objet de tableaux contenant d'autres objets (sur la figure 4 sont mis en évidence par deux rectangles). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sous forme tabulaire à l'aide des outils de visualisation json, le répertoire peut être représenté comme suit: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yq/c8/rr/yqc8rrdhcdlr3l4qstqrqicsrt4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 5. Visualisation du répertoire des rôles au format JSON</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le répertoire, relativement parlant, représente 3 «tables» pour attribuer des rôles dans un groupe d'administrateurs, de comptables et de travailleurs. La composition des «attributs» peut être élargie, si nécessaire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La représentation visuelle, à mon avis, simplifie la perception de la description textuelle. Nous allons définir une structure similaire pour les deux autres répertoires. Je vais donner ci-dessous un exemple d'une vue de table uniquement pour un répertoire d'autorité (opérations) et de ressources. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/iy/vu/pb/iyvupbcqihvtdwyt4rtlyd0q4do.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 6. Visualisation du répertoire des autorisations au format JSON </font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/xf/ul/rs/xfulrsikpxf6wawcwtkww5phiew.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 7. Visualisation du répertoire des ressources au</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
format JSON Les messages source au format texte JSON pour le répertoire des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rôles</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ressources</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">autorisations</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peuvent être téléchargés / consultés à partir du </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">lien</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Passons maintenant au plus intéressant: étudier le schéma JSON et créer un schéma pour nos ouvrages de référence!</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schéma JSON</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Théorie</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que le schéma json est écrit au format JSON, il prend en charge tous les types JSON plus l'ajout: le type entier, qui est un sous-type du type numérique. </font><font style="vertical-align: inherit;">Le schéma lui-même est un objet JSON et est destiné à décrire des données au format JSON. </font><font style="vertical-align: inherit;">Voici un schéma des types de données utilisés pour créer le schéma lui-même: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b6/zt/bh/b6ztbhcx0shqsj6psmuvm_8r2a0.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 8. Types de données du schéma JSON</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Comme vous pouvez le voir sur la figure, le schéma utilise tous les mêmes types de données, ainsi que les mêmes principes de syntaxe que pour un document JSON standard, illustré sur figure 3. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous allons maintenant considérer les plus importantes - les règles utilisées dans le schéma pour définir les restrictions et structurer les messages JSON. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le schéma JSON vous permet de:</font></font></b><br>
<br>
<ol>
<li>      JSON.</li>
<li>     ,       — «<b>keywords</b>»,           .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certains "mots clés" sont purement descriptifs, tels que: "titre", "description", etc., qui décrivent simplement l'objectif du système. D'autres sont utilisés pour identifier le document: "$ schema". Ce mot-clé est utilisé pour indiquer la version souhaitée du schéma. La valeur de ce mot clé doit être une chaîne représentant un URI, par exemple: "$ schema": " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json-schema.org/draft-04/schema#</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est très important de noter ici que toutes les versions ne peuvent pas être prises en charge par votre outil de circuit. Mais le 4ème projet est soutenu par presque tout le monde. Les dernières modifications (JSON Schema 2019-09 Release Notes) pour différentes versions peuvent être trouvées sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">json-schema.org/draft/2019-09/release-notes.html</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les mots clés restants sont utilisés directement pour valider le document JSON. </font><font style="vertical-align: inherit;">Nous allons maintenant les considérer. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tableau 2. Analyse de la structure du schéma JSON. </font><font style="vertical-align: inherit;">Mots-clés et leurs exemples d'utilisation.</font></font></i><br>
<div class="scrollable-table"><table>
<tbody>
<tr>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Un type</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mots clés)</font></font></th>
<th><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Exemple / Description</font></font></th>
</tr>
<tr>
<td rowspan="3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Mots clés" pour décrire le schéma</font></font></td>
<td><code>"$schema"</code></td>
<td><pre><code class="json hljs"><span class="hljs-string">"$schema"</span>: http:<span class="hljs-comment">//json-schema.org/draft-04/schema#</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilisé pour définir la version provisoire du schéma.</font></font></td>
</tr>
<tr>
<td><code><code>"$id"</code></code></td>
<td><pre><code class="json hljs"><span class="hljs-string">"$id"</span>: <span class="hljs-string">"http://archi-blair.com/schemas/RolesDictionaryDef.json#"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Utilisé pour indiquer un identifiant unique pour un document ou ses sous-circuits.</font></font></td>
</tr>
<tr>
<td><code>"title"<br>
"description" <br>
"examples" <br>
"comment"</code><br>
</td>
<td><pre><code class="json hljs">{
<span class="hljs-attr">"title"</span>: <span class="hljs-string">"JSON schema for dictionary"</span>,
<span class="hljs-attr">"description"</span>: <span class="hljs-string">" "</span>,
<span class="hljs-attr">"examples"</span>: [<span class="hljs-string">"user"</span>, <span class="hljs-string">"manager"</span>],
<span class="hljs-attr">"comment"</span>: <span class="hljs-string">"     ))"</span>
}</code></pre><br>
</td>
</tr>
<tr>
<td rowspan="3"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Mots clés de validation" généraux, indépendamment du type de données de l'article</font></font></td>
<td><code>"enum"</code></td>
<td><pre><code class="json hljs">{<span class="hljs-attr">"enum"</span>: [ <span class="hljs-string">"administrator"</span>, <span class="hljs-string">"superuser"</span> ]}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une vérification est effectuée pour correspondre à au moins 1 valeur.</font></font><br>
</td>
</tr>
<tr>
<td><code>"const"</code></td>
<td><pre><code class="json hljs">{<span class="hljs-attr">"const"</span>: <span class="hljs-string">"user"</span> }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Un contrôle est effectué pour le respect exact de la valeur définie.</font></font><br>
</td>
</tr>
<tr>
<td><code>"type"</code></td>
<td><pre><code class="json hljs">{<span class="hljs-attr">"type"</span>: [<span class="hljs-string">"number"</span>, <span class="hljs-string">"string"</span>, <span class="hljs-string">"null"</span>, <span class="hljs-string">"boolean"</span>]}<font></font>
{<span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>}</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Spécifie le type de données que le schéma utilisera. </font><font style="vertical-align: inherit;">Ce mot clé est facultatif et la valeur du mot clé peut être une chaîne représentant un type de données valide ou un tableau de chaînes représentant des types de données valides.</font></font><br>
</td>
</tr>
<tr>
<td rowspan="8">Keywords,     ,    </td>
<td><code>"type": "string"<br>
<br>
minLength<br>
maxLength<br>
pattern<br>
contentEncoding<br>
contentMediaType</code><br>
</td>
<td><pre><code class="json hljs">{
<span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
<span class="hljs-attr">"minLength"</span>: <span class="hljs-number">3</span>,
<span class="hljs-attr">"maxLength"</span>: <span class="hljs-number">10</span>,
<span class="hljs-attr">"pattern"</span>: <span class="hljs-string">"^test\\/[a-z-]+$"</span>,
<span class="hljs-attr">"contentEncoding"</span>: <span class="hljs-string">"base64"</span>,
<span class="hljs-attr">"contentMediaType"</span>: <span class="hljs-string">"application/json"</span>
}</code></pre><br>
       .<br>
</td>
</tr>
<tr>
<td><code>"type": "number"  "type": "integer"<br>
<br>
minimum<br>
exclusiveMinimum<br>
maximum<br>
exclusiveMaximum<br>
multipleOf</code><br>
</td>
<td><pre><code class="json hljs">{
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"number"</span>,
  <span class="hljs-attr">"minimum"</span>: <span class="hljs-number">1.5</span>,
   <span class="hljs-attr">"exclusiveMinimum"</span>: <span class="hljs-literal">true</span>,
   <span class="hljs-attr">"maximum"</span>: <span class="hljs-number">12.3</span>,
   <span class="hljs-attr">"exclusiveMaximum"</span>: <span class="hljs-literal">true</span>,
   <span class="hljs-attr">"multipleOf"</span>: <span class="hljs-number">0.5</span>
}</code></pre><br>
       .<br>
</td>
</tr>
<tr>
<td><code>"type": "object"<br>
<br>
properties<br>
required<br>
dependencies<br>
minProperties<br>
maxProperties<br>
propertyNames<br>
patternProperties<br>
additionalProperties</code><br>
</td>
<td><pre><code class="json hljs">
<span class="hljs-string">"employees"</span>: {
 <span class="hljs-attr">"description"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
  <span class="hljs-attr">"uniqueItems"</span>: <span class="hljs-literal">true</span>,
   <span class="hljs-attr">"items"</span>: {
     <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
     <span class="hljs-attr">"properties"</span>: {
           <span class="hljs-attr">"name"</span>: {
               <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
               <span class="hljs-attr">"enum"</span>: [<span class="hljs-string">"employee"</span>],
               <span class="hljs-attr">"enumNames"</span>: [<span class="hljs-string">""</span>]<font></font>
	    },<font></font>
            <span class="hljs-attr">"enabled"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
                <span class="hljs-attr">"default"</span>: <span class="hljs-literal">true</span><font></font>
             }<font></font>
    },<font></font>
 <span class="hljs-attr">"additionalProperties"</span>: <span class="hljs-literal">false</span><font></font>
 }<font></font>
}</code></pre><br>
     ,       (      ).<br>
</td>
</tr>
<tr>
<td><code>"type": "array"<br>
<br>
minItems<br>
maxItems<br>
uniqueItems<br>
contains<br>
items<br>
additionalItems</code><br>
</td>
<td><pre><code class="json hljs">
<span class="hljs-string">"employees"</span>: {
 <span class="hljs-attr">"description"</span>: <span class="hljs-string">""</span>,
 <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
 <span class="hljs-attr">"uniqueItems"</span>: <span class="hljs-literal">true</span>,
 <span class="hljs-attr">"items"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
    <span class="hljs-attr">"properties"</span>: {
          <span class="hljs-attr">"name"</span>: {
               <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
               <span class="hljs-attr">"enum"</span>: [<span class="hljs-string">"employee"</span>],
               <span class="hljs-attr">"enumNames"</span>: [<span class="hljs-string">""</span>]<font></font>
            },<font></font>
          <span class="hljs-attr">"enabled"</span>: {
                <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
                <span class="hljs-attr">"default"</span>: <span class="hljs-literal">true</span><font></font>
            }<font></font>
     },<font></font>
 <span class="hljs-attr">"additionalProperties"</span>: <span class="hljs-literal">false</span><font></font>
 }<font></font>
}</code></pre><br>
     ,       (      ).<br>
</td>
</tr>
<tr>
<td><code>"type": "boolean"</code><br>
   <br>
</td>
<td><pre><code class="json hljs">{<span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>}</code></pre><br>
 boolean       (true  false).<br>
</td>
</tr>
<tr>
<td><code>"type": "null"</code><br>
   <br>
</td>
<td><pre><code class="json hljs">{<span class="hljs-attr">"type"</span>: <span class="hljs-string">"null"</span>}</code></pre><br>
 null    «» .<br>
</td>
</tr>
<tr>
<td><code>"type": "____"<br>
"format": "____"</code><br>
</td>
<td><pre><code class="json hljs">{
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
  <span class="hljs-attr">"format"</span>: <span class="hljs-string">"date"</span>
}</code></pre><br>
  format    .       , ..           -,     ,        ,        .<br>
</td>
</tr>
<tr>
<td><code>"type": "____"<br>
"default": "____"</code><br>
</td>
<td><pre><code class="json hljs">{
<span class="hljs-attr">"enabled"</span>: {
	<span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
	<span class="hljs-attr">"default"</span>: <span class="hljs-literal">true</span>
}	</code></pre><br>
    .<br>
<br>
     ,        .<br>
</td>
</tr>
<tr>
<td rowspan="1">      </td>
<td><code>"not"<br>
"if-then-else"</code><br>
</td>
<td><pre><code class="json hljs">{
  <span class="hljs-attr">"not"</span>: {
    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span><font></font>
  }<font></font>
}</code></pre><br>
    ,  .<br>
</td>
</tr>
<tr>
<td rowspan="1"> ,      </td>
<td><code>"anyOf"<br>
"oneOf"<br>
"allOf"</code><br>
</td>
<td><pre><code class="json hljs">{
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
  <span class="hljs-attr">"anyOf"</span>: [<font></font>
    {<span class="hljs-attr">"const"</span>: <span class="hljs-string">"user"</span>},<font></font>
    {<span class="hljs-attr">"const"</span>: <span class="hljs-string">"manager"</span> }<font></font>
  ]<font></font>
}</code></pre><br>
    ,  .<br>
</td>
</tr>
<tr>
<td rowspan="3"> ,     </td>
<td><code>"$id"  "$ref"</code></td>
<td>  <i>RolesDictionaryDef.json</i>:<br>
<br>
<pre><code class="json hljs">{
<span class="hljs-attr">"$id"</span>: http:<span class="hljs-comment">//archi-blair.com/schemas/RolesDictionaryDef.json#</span>
}</code></pre><br>
   1   <i>$ref</i> (    ):<br>
<br>
<pre><code class="json hljs">
<span class="hljs-string">"items"</span>: {
<span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
<span class="hljs-attr">"minLength"</span>: <span class="hljs-number">1</span>,
<span class="hljs-attr">"properties"</span>: {
  <span class="hljs-attr">"name"</span>: {
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">"  "</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span><font></font>
   },<font></font>
<span class="hljs-attr">"description"</span>: {
  <span class="hljs-attr">"description"</span>: <span class="hljs-string">" "</span>,
  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span><font></font>
 },<font></font>
<span class="hljs-attr">"dictionaryGroup"</span>: {
  <span class="hljs-attr">"$ref"</span>: <span class="hljs-string">"RolesDictionaryDef.json#/definitions/roles"</span><font></font>
    }<font></font>
},<font></font>
<span class="hljs-attr">"additionalProperties"</span>: <span class="hljs-literal">false</span>
}</code></pre><br>
  2   JSON.    ,          $ref   .<br>
</td>
</tr>
<tr>
<td><code>"$ref"  "definitions"</code></td>
<td>  <i>"$ref": "#/definitions/roles"</i>     ,    <i>«definitions</i>»: <br>
<br>
<pre><code class="json hljs">{
<span class="hljs-attr">"$schema"</span>: <span class="hljs-string">"http://json-schema.org/draft-04/schema#"</span>,
<span class="hljs-attr">"description"</span>: <span class="hljs-string">" "</span>,
<span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
<span class="hljs-attr">"properties"</span>: {
<span class="hljs-attr">"dictionaries"</span>: {
   <span class="hljs-attr">"description"</span>: <span class="hljs-string">""</span>,
   <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
   <span class="hljs-attr">"maxItems"</span>: <span class="hljs-number">1</span>,
   <span class="hljs-attr">"items"</span>: {
      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
      <span class="hljs-attr">"minLength"</span>: <span class="hljs-number">1</span>,
      <span class="hljs-attr">"properties"</span>: {
               <span class="hljs-attr">"name"</span>: {
                  <span class="hljs-attr">"description"</span>: <span class="hljs-string">" "</span>,
                  <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                  <span class="hljs-attr">"enum"</span>: [
                     <span class="hljs-string">"Roles Dictionary"</span><font></font>
                     ]<font></font>
                 }<font></font>
       <span class="hljs-string">"dictionaryGroups"</span>: {
             <span class="hljs-attr">"$ref"</span>: <span class="hljs-string">"#/definitions/roles"</span>,
             <span class="hljs-attr">"description"</span>: <span class="hljs-string">" "</span><font></font>
          }<font></font>
      },<font></font>
 <span class="hljs-attr">"additionalProperties"</span>: <span class="hljs-literal">false</span><font></font>
   }<font></font>
  }<font></font>
 },<font></font>
 <span class="hljs-attr">"additionalProperties"</span>: <span class="hljs-literal">false</span>,
     <span class="hljs-attr">"definitions"</span>: {
          <span class="hljs-attr">"roles"</span>: {
             <span class="hljs-attr">"description"</span>: <span class="hljs-string">""</span>,
             <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
             <span class="hljs-attr">"properties"</span>: {
             <span class="hljs-attr">"administrators"</span>: {
             <span class="hljs-attr">"description"</span>: <span class="hljs-string">""</span>,
             <span class="hljs-attr">"type"</span>: <span class="hljs-string">"array"</span>,
             <span class="hljs-attr">"uniqueItems"</span>: <span class="hljs-literal">true</span>,
             <span class="hljs-attr">"items"</span>: {
             <span class="hljs-attr">"type"</span>: <span class="hljs-string">"object"</span>,
             <span class="hljs-attr">"properties"</span>: {
                   <span class="hljs-attr">"name"</span>: {
                      <span class="hljs-attr">"type"</span>: <span class="hljs-string">"string"</span>,
                      <span class="hljs-attr">"enum"</span>: [
                         <span class="hljs-string">"administrator"</span>, 
                         <span class="hljs-string">"superuser"</span><font></font>
                          ],<font></font>
                        <span class="hljs-attr">"enumNames"</span>: [
                          <span class="hljs-string">""</span>, 
                          <span class="hljs-string">"-   "</span><font></font>
                           ]<font></font>
                         },<font></font>
                    <span class="hljs-attr">"enabled"</span>: {
                    <span class="hljs-attr">"type"</span>: <span class="hljs-string">"boolean"</span>,
                    <span class="hljs-attr">"default"</span>: <span class="hljs-literal">true</span><font></font>
                  }<font></font>
              },<font></font>
    <span class="hljs-attr">"additionalProperties"</span>: <span class="hljs-literal">false</span><font></font>
      }<font></font>
    }			<font></font>
   },<font></font>
  <span class="hljs-attr">"additionalProperties"</span>: <span class="hljs-literal">false</span><font></font>
  }<font></font>
 },<font></font>
 <span class="hljs-attr">"$id"</span>: <span class="hljs-string">"http://archi-blair.com/schemas/RolesDictionaryDef.json#"</span>
}</code></pre><br>
   ,      .      $ref    definitions. <br>
</td>
</tr>
<tr>
<td><code>"$ref"</code><br>
   .<br>
</td>
<td><pre><code class="json hljs"><span class="hljs-string">"$ref"</span>: <span class="hljs-string">" #/definitions/roles"</span>
<span class="hljs-string">"$ref"</span>: <span class="hljs-string">"RolesDictionaryDef.json#/definitions/roles"</span></code></pre><br>
    ,    .<br>
    ,    .<br>
</td>
</tr>
</tbody>
</table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous avons examiné les mots clés du schéma JSON, qui nous permettent de décrire la future structure de nos messages au format JSON. </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous trouverez ici d'autres exemples d'utilisation de mots clés.</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entraine toi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lorsque nous considérons des exemples de schémas JSON terminés, nous procéderons de la même manière que des exemples d'utilisation de messages eux-mêmes au format JSON. Ceux. nous utiliserons la représentation visuelle sous forme d'arbre et de tableau pour nos schémas de répertoires de rôles, de ressources et d'autorités (opérations), et avec le texte des schémas, je propose de lire les lecteurs intéressés par eux-mêmes dans </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">git</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un diagramme pour une référence de rôle. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ni/-j/1j/ni-j1jbw9jt6fu4dojo8xrpquu4.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 9. Exemple de schéma JSON pour le répertoire de rôles</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Comme nous le voyons dans la figure, le schéma est un objet JSON et décrit notre message de transmission du répertoire de rôles dans JSON, qui est illustré à la figure 4. Dans l'exemple actuel, il peut être montré comment utiliser le schéma JSON Un objet tableau constitué d'objets est décrit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les schémas des deux autres répertoires (autorité et ressources) sont de structure identique au schéma du répertoire de rôles, donc je ne les donnerai pas ici, mais je donnerai un schéma qui combine les 3 répertoires. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Malheureusement, le schéma de l'ensemble du répertoire pendant l'expansion ne tient pas à l'écran, nous allons donc en considérer une partie. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/cv/vm/hs/cvvmhsq_zvedimld_f5ibaw-ubk.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 10. Exemple de répertoire de schéma JSON qui combine un répertoire de rôles, d'autorisations et de ressources</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Dans la figure, nous voyons que certains des objets du tableau de répertoires sont connectés à l'aide du mot clé "anyOf". </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De plus, une représentation tabulaire du répertoire sera peut-être plus visuelle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considérez une autre caractéristique importante de notre schéma:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/zr/vj/dc/zrvjdcwdpfqk_oen45vhoh8ilnq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Figure 11. Un exemple de schéma JSON d'un répertoire combinant un répertoire de rôles, d'autorisations et de ressources dans une vue de table</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
De la figure, nous voyons qu'un répertoire de combinaison ne duplique pas le code des répertoires de rôles, d'autorisations et de ressources précédemment développés, mais utilise le mot clé "$ ref " </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les répertoires considérés dans les exemples se trouvent dans le même répertoire, mais, si nécessaire, cette règle ne peut pas être respectée, mais peut être placée dans des répertoires différents, indiquant le chemin d'accès correct à ceux-ci lors de la connexion. </font><font style="vertical-align: inherit;">Cette fonctionnalité est très utile, car elle vous permet de réutiliser des schémas créés précédemment, en les connectant uniquement à la structure souhaitée.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci conclut mon examen de JSON et du schéma JSON. </font><font style="vertical-align: inherit;">J'espère que le matériel présenté ici et les exemples discutés seront utiles pour explorer les capacités du schéma JSON.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Au lieu d'une conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je pense qu'il est temps de faire le point. </font><font style="vertical-align: inherit;">Que peut donc nous apporter JSON Schema?</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il peut faciliter la vie des développeurs et améliorer le code de validation des messages JSON. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En d'autres termes, il simplifie la prise en charge et l'intégration des logiciels.</font></font></i></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous permet de développer des services, en définissant les formats et la composition des données avec une "réserve" pour le développement futur du système.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Appliquer la vérification des documents dans des bases de données orientées document et objet.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSON-Schema peut vous aider à gagner du temps en testant et en documentant l'API.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Simplifiez la prise en charge de l'API de compatibilité descendante.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vous permet de gérer les flux de données.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Validation flexible lors de la génération du schéma JSON au moment de l'exécution avec des valeurs dans "enum" obtenues au stade de l'exécution du programme. </font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Il peut être utilisé pour une machine à états ou un workflow avec des états dans "enum" (exemple d'application de</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tsdk</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VolCh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></i></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le schéma JSON peut être appliqué dans la mise en œuvre de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DTO </font></font></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(exemple d' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">utilisation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">amarkevich</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">)</font></font></i><br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chacun de nous décide «Etre ou ne pas être JSON Schema» dans nos projets informatiques. </font><font style="vertical-align: inherit;">Ci-dessus, j'ai donné une liste de ce que je considère comme le principal avantage de l'utilisation des circuits, et pour ce qu'il vaut déjà la peine de penser à son application dans les projets. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Peut-être que les lecteurs voudront m'aider à continuer cette liste? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vous en serai reconnaissant :) Je </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
donnerai également une liste de liens, à mon avis, utiles pour travailler avec JSON et JSON Schema</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">       </a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">        </a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">   ()</a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">  (     )</a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">-       JSON-Schema</a>.</li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">  JSON Schema</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">JSON Schema    ,     </a> (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">alemiks</a>),      angular <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">ngx-schema-form</a>, <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">AJSF</a> (   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" class="user_link">anotherpit</a>).</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et un lien vers le référentiel git, où vous pourrez vous familiariser avec les fichiers source fournis pour examen dans cet article: un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">référentiel avec les fichiers source des exemples</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Architecte système, </font></font></i><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">© Irina Blazhina</font></font></i></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr495756/index.html">Principes clés pour l'utilisation d'ECS dans le développement de jeux</a></li>
<li><a href="../fr495758/index.html">Incendies et stratégie</a></li>
<li><a href="../fr495760/index.html">Plus lumineux que les étoiles: changement de marque HGST et reconstitution de la gamme Ultrastar</a></li>
<li><a href="../fr495762/index.html">Prosto: retirez le passe-partout lorsque vous travaillez avec RecyclerView</a></li>
<li><a href="../fr495764/index.html">CSI Linux: distribution Linux pour les cyber-enquêtes et OSINT</a></li>
<li><a href="../fr495768/index.html">Conception d'interface pour contrôleur industriel</a></li>
<li><a href="../fr495770/index.html">Le condensé de matériaux intéressants pour le développeur mobile # 339 (30 mars - 5 avril)</a></li>
<li><a href="../fr495772/index.html">Création de Pixel Art Maker en JavaScript</a></li>
<li><a href="../fr495774/index.html">Comment choisir l'équipement pour un jeu persan en Python</a></li>
<li><a href="../fr495780/index.html">Nous étudions le moteur VoIP Mediastreamer2. 3e partie</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>