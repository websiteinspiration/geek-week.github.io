<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öíÔ∏è üë©‚Äç‚ù§Ô∏è‚Äçüë© üõï Jx ‡§î‡§∞ javaassist ‡§ï‡•ã jagagent ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§è‡§ï "‡§µ‡§ø‡§¶‡•á‡§∂‡•Ä" ‡§µ‡§∞‡•ç‡§ó ‡§∏‡•á ‡§Æ‡•à‡§ü‡•ç‡§∞‡§ø‡§ï‡•ç‡§∏ ‡§è‡§ï‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§®‡§æ üê° ‚òùüèª ü•ã</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="‡§è‡§ï ‡§ú‡§æ‡§µ‡§æ ‡§à‡§à ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® ‡§π‡•à ‡§ú‡•ã ‡§µ‡§æ‡§á‡§≤‡•ç‡§°‡§≤‡•Ä ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§Æ‡•á‡§Ç ‡§ò‡•Ç‡§Æ‡§§‡§æ ‡§π‡•à‡•§ ‡§Ö‡§Ç‡§§‡§∞ ‡§∏‡•ç‡§§‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä‡•§ ‡§µ‡§ø‡§ï‡•ç‡§∞‡•á‡§§‡§æ ‡§Ü‡§µ‡•á‡§¶‡§®, ‡§µ‡§∞‡•ç‡§ó WMS - ‡§µ‡•á‡§Ø‡§∞‡§π‡§æ‡§â‡§∏ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä‡•§ 
 
 ‡§¨‡§π‡•Å‡§§ ‡§∏‡§æ‡§∞‡•á ‡§ï‡•ã‡§° ‡§π‡•à‡§Ç...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Jx ‡§î‡§∞ javaassist ‡§ï‡•ã jagagent ‡§ï‡•á ‡§∞‡•Ç‡§™ ‡§Æ‡•á‡§Ç ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§ï‡•á ‡§è‡§ï "‡§µ‡§ø‡§¶‡•á‡§∂‡•Ä" ‡§µ‡§∞‡•ç‡§ó ‡§∏‡•á ‡§Æ‡•à‡§ü‡•ç‡§∞‡§ø‡§ï‡•ç‡§∏ ‡§è‡§ï‡§§‡•ç‡§∞‡§ø‡§§ ‡§ï‡§∞‡§®‡§æ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506152/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§è‡§ï ‡§ú‡§æ‡§µ‡§æ ‡§à‡§à ‡§è‡§™‡•ç‡§≤‡§ø‡§ï‡•á‡§∂‡§® ‡§π‡•à ‡§ú‡•ã ‡§µ‡§æ‡§á‡§≤‡•ç‡§°‡§≤‡•Ä ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ ‡§Æ‡•á‡§Ç ‡§ò‡•Ç‡§Æ‡§§‡§æ ‡§π‡•à‡•§ </font><font style="vertical-align: inherit;">‡§Ö‡§Ç‡§§‡§∞ ‡§∏‡•ç‡§§‡§∞ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä‡•§ </font><font style="vertical-align: inherit;">‡§µ‡§ø‡§ï‡•ç‡§∞‡•á‡§§‡§æ ‡§Ü‡§µ‡•á‡§¶‡§®, ‡§µ‡§∞‡•ç‡§ó WMS - ‡§µ‡•á‡§Ø‡§∞‡§π‡§æ‡§â‡§∏ ‡§™‡•ç‡§∞‡§¨‡§Ç‡§ß‡§® ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§¨‡§π‡•Å‡§§ ‡§∏‡§æ‡§∞‡•á ‡§ï‡•ã‡§° ‡§π‡•à‡§Ç, ‡§∏‡§Æ‡§Ø-‡§∏‡§Æ‡§Ø ‡§™‡§∞ ‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§§‡§ï‡§®‡•Ä‡§ï‡•Ä ‡§∏‡§π‡§æ‡§Ø‡§§‡§æ ‡§∏‡•á‡§µ‡§æ ‡§ï‡•ã ‡§Ø‡§π ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•Ä ‡§á‡§ö‡•ç‡§õ‡§æ ‡§π‡•ã‡§§‡•Ä ‡§π‡•à ‡§ï‡§ø ‡§Ø‡§π ‡§Ø‡§æ ‡§Ø‡§π ‡§µ‡§ø‡§ß‡§ø ‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§µ‡§∞‡•ç‡§ó ‡§Æ‡•á‡§Ç ‡§ï‡§ø‡§§‡§®‡•Ä ‡§¶‡•á‡§∞ ‡§§‡§ï ‡§ö‡§≤ ‡§∞‡§π‡•Ä ‡§•‡•Ä‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§Ø‡§π‡§æ‡§Ç ‡§π‡§Æ‡•á‡§Ç ‡§è‡§ï ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§µ‡§ø‡§ß‡§ø processStep ‡§≤‡•á‡§®‡•Ä ‡§π‡•à, ‡§á‡§∏‡•á try / catch / ‡§Ü‡§ñ‡§ø‡§∞ ‡§Æ‡•á‡§Ç ‡§´‡•ç‡§∞‡•á‡§Æ ‡§ï‡§∞‡•á‡§Ç, ‡§î‡§∞ ‡§ï‡•Å‡§õ ‡§Ö‡§≤‡§ó ‡§´‡§æ‡§á‡§≤ ‡§™‡§∞ ‡§≤‡§ø‡§ñ‡•á‡§Ç‡•§</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§™‡§π‡§≤‡•Ä ‡§¨‡§æ‡§§ ‡§ú‡•ã ‡§Æ‡§® ‡§Æ‡•á‡§Ç ‡§Ü‡§§‡•Ä ‡§π‡•à ‡§µ‡§π ‡§ï‡•Å‡§õ ‡§á‡§∏ ‡§§‡§∞‡§π ‡§π‡•à:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-function"><span class="hljs-keyword">public</span> Object <span class="hljs-title">processStep</span><span class="hljs-params">(Object object)</span></span>{
<span class="hljs-keyword">long</span> __metricStartTime = System.currentTimeMillis();
<span class="hljs-keyword">try</span>{
 <span class="hljs-comment">//   </span>
}<span class="hljs-keyword">catch</span>(Exception e){
<span class="hljs-keyword">throw</span> e;<font></font>
}<span class="hljs-keyword">finally</span> {
<span class="hljs-keyword">long</span> __metricsEndTime = System.currentTimeMillis() - __metricStartTime;<font></font>
log.debug(<span class="hljs-keyword">this</span>.getClass().getName()+<span class="hljs-string">"|processStep|"</span>+__metricsEndTime);<font></font>
}<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
__MetricStartTime ‡§ï‡•á ‡§¨‡§ú‡§æ‡§Ø, __metricsEndTime ‡§ï‡§ø‡§∏‡•Ä ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞ ‡§ï‡•Ä </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">metrics.dropwizard.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§π‡•ã ‡§∏‡§ï‡§§‡•Ä ‡§π‡•à </font><font style="vertical-align: inherit;">‡•§ </font><font style="vertical-align: inherit;">‡§≤‡•á‡§ï‡§ø‡§® ‡§Ø‡§π ‡§è‡§ï ‡§Ö‡§≤‡§ó ‡§µ‡§ø‡§∑‡§Ø ‡§π‡•ã‡§ó‡§æ, ‡§∏‡§æ‡§¶‡§ó‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡•à‡§Ç ‡§∂‡•Å‡§∞‡•Å‡§Ü‡§§ / ‡§è‡§Ç‡§°‡§ü‡§æ‡§á‡§Æ ‡§ï‡§æ ‡§â‡§™‡§Ø‡•ã‡§ó ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Ç‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§á‡§∏ ‡§≤‡•á‡§ñ ‡§Æ‡•á‡§Ç, ‡§π‡§Æ ‡§ï‡•ç‡§≤‡§æ‡§∏ ‡§™‡§∞ ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§™‡§π‡§≤‡•á ‡§ï‡•ç‡§≤‡§æ‡§∏ ‡§ï‡•ã ‡§´‡•ç‡§≤‡§æ‡§à ‡§™‡§∞ ‡§¨‡§¶‡§≤ ‡§¶‡•á‡§Ç‡§ó‡•á‡•§</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§ï‡•ã‡§∂‡§ø‡§∂ / ‡§™‡§ï‡§°‡§º / ‡§Ö‡§Ç‡§§ ‡§Æ‡•á‡§Ç ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§ú‡•ã‡§°‡§º‡§®‡•á ‡§ï‡§æ ‡§µ‡§ø‡§ï‡§≤‡•ç‡§™, ‡§¨‡•Å‡§∞‡•Ä ‡§¨‡§æ‡§§ ‡§Ø‡§π ‡§π‡•à ‡§ï‡§ø ‡§π‡§Æ ‡§™‡§π‡§≤‡•á ‡§∏‡•á ‡§®‡§π‡•Ä‡§Ç ‡§ú‡§æ‡§®‡§§‡•á ‡§π‡•à‡§Ç ‡§ï‡§ø ‡§â‡§®‡§ï‡•á ‡§®‡§ø‡§∑‡•ç‡§™‡§æ‡§¶‡§® ‡§ï‡•Ä ‡§ó‡§§‡§ø ‡§ï‡§æ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ï‡§ø‡§® ‡§µ‡§∞‡•ç‡§ó‡•ã‡§Ç ‡§ï‡•Ä ‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï‡§§‡§æ ‡§π‡•ã‡§ó‡•Ä;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§á‡§∏ ‡§§‡§∞‡§π ‡§ï‡§æ ‡§™‡§∞‡§ø‡§µ‡§∞‡•ç‡§§‡§® ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Ü‡§™‡§ï‡•ã ‡§è‡§ï ‡§∞‡§ø‡§≤‡•Ä‡§ú ‡§ï‡•Ä ‡§Ø‡•ã‡§ú‡§®‡§æ ‡§¨‡§®‡§æ‡§®‡•Ä ‡§π‡•ã‡§ó‡•Ä;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§π‡§Æ‡§æ‡§∞‡•Ä ‡§ï‡§ï‡•ç‡§∑‡§æ ‡§™‡•ç‡§∞‡§£‡§æ‡§≤‡•Ä ‡§Æ‡•á‡§Ç ~ 10K‡•§ </font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§¨‡§æ‡§à‡§ü‡•á‡§ï‡•ã‡§° ‡§ï‡•á ‡§∏‡§æ‡§• ‡§ï‡§æ‡§Æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Æ‡•à‡§Ç‡§®‡•á ‡§ú‡§æ‡§µ‡§æ‡§∏‡•ç‡§∏‡§ø‡§∏‡•ç‡§ü ‡§ï‡§æ ‡§á‡§∏‡•ç‡§§‡•á‡§Æ‡§æ‡§≤ ‡§ï‡§ø‡§Ø‡§æ‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§ï‡•ã‡§° ‡§ï‡•ã ‡§è‡§ï‡•ç‡§∏‡•á‡§∏ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Æ‡•à‡§Ç‡§®‡•á </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§á‡§∏ ‡§≤‡•á‡§ñ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§ï‡•ã ‡§™‡§¢‡§º‡§ï‡§∞ ‡§è‡§ï ‡§è‡§ú‡•á‡§Ç‡§ü ‡§¨‡§®‡§æ‡§Ø‡§æ </font><font style="vertical-align: inherit;">‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§∏‡•ç‡§∞‡•ã‡§§ ‡§ï‡•ã‡§° ‡§á‡§∏ ‡§§‡§∞‡§π ‡§¶‡§ø‡§ñ‡§§‡§æ ‡§π‡•à:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">import</span> java.lang.instrument.Instrumentation;<font></font>
<font></font>
<span class="hljs-keyword">public</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Agent</span> </span>{
    <span class="hljs-function"><span class="hljs-keyword">public</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">void</span> <span class="hljs-title">premain</span><span class="hljs-params">(String agentArgs, Instrumentation instrumentation)</span> </span>{<font></font>
        instrumentation.addTransformer(<span class="hljs-keyword">new</span> ClassTransformer());<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§π‡§Æ ‡§Ö‡§™‡§®‡•á ‡§∏‡•ç‡§µ‡§Ø‡§Ç ‡§ï‡•á ClassTransformer ‡§≤‡§ø‡§ñ‡§§‡•á ‡§π‡•à‡§Ç‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§π‡§Æ‡§æ‡§∞‡•á ‡§ü‡•ç‡§∞‡§æ‡§Ç‡§∏‡§´‡§æ‡§∞‡•ç‡§Æ‡§∞ ‡§µ‡§∞‡•ç‡§ó ‡§ï‡•ã ‡§Ø‡§π ‡§®‡§ø‡§∞‡•ç‡§ß‡§æ‡§∞‡§ø‡§§ ‡§ï‡§∞‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è ‡§ï‡§ø ‡§ï‡§ø‡§∏ ‡§µ‡§∞‡•ç‡§ó ‡§ï‡•ã ‡§¨‡§¶‡§≤‡§®‡§æ ‡§π‡•à ‡§î‡§∞ ‡§ï‡§ø‡§∏ ‡§ï‡•ã ‡§õ‡•ã‡§°‡§º ‡§¶‡§ø‡§Ø‡§æ ‡§ú‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§ø‡§è‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§ê‡§∏‡§æ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è, ‡§Æ‡•à‡§Ç‡§®‡•á ‡§è‡§ï json config ‡§¨‡§®‡§æ‡§Ø‡§æ ‡§ú‡§ø‡§∏‡§Æ‡•á‡§Ç ‡§Æ‡•à‡§Ç ‡§â‡§® ‡§µ‡§∞‡•ç‡§ó‡•ã‡§Ç ‡§î‡§∞ ‡§µ‡§ø‡§ß‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•ã ‡§∏‡•Ç‡§ö‡•Ä‡§¨‡§¶‡•ç‡§ß ‡§ï‡§∞‡§§‡§æ ‡§π‡•Ç‡§Ç ‡§ú‡§ø‡§®‡•ç‡§π‡•á‡§Ç ‡§Æ‡•à‡§Ç ‡§ï‡•Å‡§õ ‡§á‡§∏ ‡§§‡§∞‡§π ‡§∏‡•á ‡§≤‡§ø‡§ñ‡§æ‡§®‡§æ ‡§ö‡§æ‡§π‡§§‡§æ ‡§π‡•Ç‡§Ç:</font></font><br>
<br>
<pre><code class="json hljs">{
<span class="hljs-attr">"settings"</span> : <font></font>
[<font></font>
{<font></font>
	<span class="hljs-attr">"PackageName"</span> 	: <span class="hljs-string">"com.ltm.scm.wms.utils.voice"</span>,
	<span class="hljs-attr">"className"</span> : <span class="hljs-string">"VoiceProcessor"</span>,
	<span class="hljs-attr">"Methods"</span> : [<span class="hljs-string">"completeTask"</span>, <span class="hljs-string">"processException"</span>]<font></font>
}<font></font>
,<font></font>
{<font></font>
	<span class="hljs-attr">"PackageName"</span> : <span class="hljs-string">"com.ltm.scm.wms.utils.voice.dao"</span>,
	<span class="hljs-attr">"className"</span> : <span class="hljs-string">"VoiceDAO"</span>,
	<span class="hljs-attr">"Methods"</span> : [<span class="hljs-string">"isCompleteTask"</span>, <span class="hljs-string">"getLocationType"</span>]<font></font>
},<font></font>
{<font></font>
	<span class="hljs-attr">"PackageName"</span> : <span class="hljs-string">"com.ssaglobal.scm.wms.service.drfmanagement"</span>,
	<span class="hljs-attr">"className"</span> : <span class="hljs-string">"RFInquiryP1S1"</span>,
	<span class="hljs-attr">"Methods"</span> : [<span class="hljs-string">"processStep"</span>]<font></font>
},<font></font>
{<font></font>
	<span class="hljs-attr">"PackageName"</span> : <span class="hljs-string">"ru.ltm.vc.service"</span>,
	<span class="hljs-attr">"className"</span> : <span class="hljs-string">"*"</span>,
	<span class="hljs-attr">"Methods"</span> : [<span class="hljs-string">"*"</span>]<font></font>
},<font></font>
{<font></font>
	<span class="hljs-attr">"PackageName"</span> : <span class="hljs-string">"ru.ltm.vc.controller"</span>,
	<span class="hljs-attr">"className"</span> : <span class="hljs-string">"*"</span>,
	<span class="hljs-attr">"Methods"</span> : [<span class="hljs-string">"*"</span>]<font></font>
}<font></font>
]<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
* - ‡§™‡•à‡§ï‡•á‡§ú ‡§Æ‡•á‡§Ç ‡§∏‡§≠‡•Ä ‡§ï‡§ï‡•ç‡§∑‡§æ‡§è‡§Ç ‡§î‡§∞ / ‡§Ø‡§æ ‡§ï‡§ï‡•ç‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§∏‡§≠‡•Ä ‡§§‡§∞‡•Ä‡§ï‡•á‡•§ </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§ï‡§ï‡•ç‡§∑‡§æ ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ç‡§ó ‡§∏‡•ç‡§•‡§ø‡§∞‡§æ‡§Ç‡§ï</font></font></b><br>
<br>
<pre><code class="java hljs">    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String METRICS_START_TIME_FIELD_SRC = <span class="hljs-string">"public static long __metricStartTime;"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String METRICS_START_TIME_FIELD_INITIALIZE_SRC = <span class="hljs-string">"System.currentTimeMillis()"</span>;<font></font>
<font></font>
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String CLASS_METRICS_FIELD_SRC = <span class="hljs-string">"public static final ru.ltm.agent.jmx.ClassesMetricsProfiler metricsProfiler;"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String CLASS_METRICS_FIELD_INITIALIZE_SRC = <span class="hljs-string">"new ru.ltm.agent.jmx.ClassesMetricsProfiler()"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String METRICS_START_TIME_VAR_SRC = <span class="hljs-string">"__metricStartTime"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String METRICS_START_TIME_VAR_INITIALIZE_SRC = <span class="hljs-string">"__metricStartTime = System.currentTimeMillis();"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String METRICS_END_TIME_VAR_SRC = <span class="hljs-string">"\", System.currentTimeMillis() - __metricStartTime);"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String JMX_METHOD = <span class="hljs-string">"metricsProfiler.mark2(\""</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String CATCH_BLOCK_SRC = <span class="hljs-string">"{ System.out.println($e); throw $e; }"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String EXCEPTION_TYPE_SRC = <span class="hljs-string">"java.lang.Exception"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String PACKAGE_DEV = <span class="hljs-string">"/"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String DOT = <span class="hljs-string">"."</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> String INFOR_HOME = <span class="hljs-string">"c:\\Infor\\"</span>;
    <span class="hljs-keyword">private</span> <span class="hljs-keyword">static</span> <span class="hljs-keyword">final</span> Map&lt;String,Set&lt;Settings&gt;&gt; CLASSES_TO_INSTRUMENT = ClassRegistry.getInstance().getClasses();<font></font>
<font></font>
</code></pre><br>
<pre><code class="java hljs"> <span class="hljs-meta">@Override</span>
    <span class="hljs-keyword">public</span> <span class="hljs-keyword">byte</span>[] transform(ClassLoader loader, String className, Class redefiningClass, ProtectionDomain domain, <span class="hljs-keyword">byte</span>[] bytes) <span class="hljs-keyword">throws</span> IllegalClassFormatException {<font></font>
        String clazzName = className.replace(PACKAGE_DEV,DOT);<font></font>
        <span class="hljs-keyword">if</span> (CLASSES_TO_INSTRUMENT.containsKey(clazzName)) {<font></font>
            Set&lt;Settings&gt; methodsToInstrument = CLASSES_TO_INSTRUMENT.get(clazzName);<font></font>
            <span class="hljs-keyword">return</span> transformClass(redefiningClass, bytes, methodsToInstrument);<font></font>
        }<font></font>
<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">null</span>;<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
transformClass:</font></font><br>
<br>
<pre><code class="java hljs"><span class="hljs-keyword">private</span> <span class="hljs-keyword">byte</span>[] transformClass(Class classToTransform, <span class="hljs-keyword">byte</span>[] b, Set&lt;Settings&gt; methodsToInstrument) {<font></font>
        ClassPool pool = ClassPool.getDefault();<font></font>
        ClassLoader classLoader = Thread.currentThread().getContextClassLoader();<font></font>
        pool.appendClassPath(<span class="hljs-keyword">new</span> LoaderClassPath(classLoader));<font></font>
        CtClass.debugDump = INFOR_HOME;<font></font>
        CtClass cl = <span class="hljs-keyword">null</span>;
        <span class="hljs-keyword">try</span> {<font></font>
            cl = pool.makeClass(<span class="hljs-keyword">new</span> java.io.ByteArrayInputStream(b));<font></font>
            CtField metricsField = CtField.make(CLASS_METRICS_FIELD_SRC, cl);<font></font>
            cl.addField(metricsField, CtField.Initializer.byExpr(CLASS_METRICS_FIELD_INITIALIZE_SRC));<font></font>
<font></font>
            CtField starTimeField = CtField.make(METRICS_START_TIME_FIELD_SRC, cl);<font></font>
            cl.addField(starTimeField, CtField.Initializer.byExpr(METRICS_START_TIME_FIELD_INITIALIZE_SRC));<font></font>
            CtBehavior[] methods = cl.getDeclaredBehaviors();<font></font>
            <span class="hljs-keyword">for</span> (<span class="hljs-keyword">int</span> i = <span class="hljs-number">0</span>; i &lt; methods.length; i++) {
                <span class="hljs-keyword">if</span> (methods[i].isEmpty() == <span class="hljs-keyword">false</span>) {<font></font>
                    changeMethod(methods[i], cl, methodsToInstrument);<font></font>
                }<font></font>
            }<font></font>
            b = cl.toBytecode();<font></font>
        } <span class="hljs-keyword">catch</span> (Exception e) {<font></font>
            e.printStackTrace();<font></font>
        } <span class="hljs-keyword">finally</span> {<font></font>
            cl.debugWriteFile(INFOR_HOME);<font></font>
            <span class="hljs-keyword">if</span> (cl != <span class="hljs-keyword">null</span>) {<font></font>
                cl.detach();<font></font>
            }<font></font>
        }<font></font>
        <span class="hljs-keyword">return</span> b;<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§∏‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ç‡§ó CtClass.debugDump = INFOR_HOME; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§Ü‡§™‡§ï‡•ã ‡§≤‡•ã‡§° ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§è‡§ú‡•á‡§Ç‡§ü ‡§ï‡•á ‡§Ö‡§Ç‡§¶‡§∞ ‡§á‡§∏‡•á ‡§™‡•Å‡§®‡§É ‡§∏‡•ç‡§•‡§æ‡§™‡§ø‡§§ ‡§ï‡§∞‡§®‡•á ‡§ï‡•á ‡§¨‡§æ‡§¶ ‡§ï‡§ï‡•ç‡§∑‡§æ ‡§ï‡•ã ‡§¶‡•á‡§ñ‡§®‡•á ‡§ï‡•Ä ‡§Ö‡§®‡•Å‡§Æ‡§§‡§ø ‡§¶‡•á‡§§‡§æ ‡§π‡•à‡•§ </font><font style="vertical-align: inherit;">debugDump- ‡§ï‡§ï‡•ç‡§∑‡§æ ‡§ï‡•á ‡§®‡§è ‡§∏‡§Ç‡§∏‡•ç‡§ï‡§∞‡§£ ‡§ï‡•ã ‡§ï‡§π‡§æ‡§Å ‡§∏‡§π‡•á‡§ú‡§®‡§æ ‡§π‡•à‡•§</font></font><br>
<br>
<pre><code class="java hljs">  CtField metricsField = CtField.make(CLASS_METRICS_FIELD_SRC, cl);<font></font>
            cl.addField(metricsField, CtField.Initializer.byExpr(CLASS_METRICS_FIELD_INITIALIZE_SRC));<font></font>
            CtField starTimeField = CtField.make(METRICS_START_TIME_FIELD_SRC, cl);<font></font>
            cl.addField(starTimeField, CtField.Initializer.byExpr(METRICS_START_TIME_FIELD_INITIALIZE_SRC));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§Ø‡•á ‡§™‡§Ç‡§ï‡•ç‡§§‡§ø‡§Ø‡§æ‡§Å ‡§ï‡§ï‡•ç‡§∑‡§æ ‡§Æ‡•á‡§Ç ‡§¶‡•ã ‡§´‡§º‡•Ä‡§≤‡•ç‡§° </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§ú‡•ã‡§°‡§º‡§§‡•Ä ‡§π‡•à‡§Ç </font><font style="vertical-align: inherit;">: </font><font style="vertical-align: inherit;">CLASS_METRICS_FIELD_SRC - ‡§è‡§ï ‡§®‡§è ‡§´‡§º‡•Ä‡§≤‡•ç‡§° ‡§ï‡§æ ‡§®‡§ø‡§∞‡•ç‡§Æ‡§æ‡§£ ("‡§∏‡§æ‡§∞‡•ç‡§µ‡§ú‡§®‡§ø‡§ï ‡§∏‡•ç‡§•‡•à‡§§‡§ø‡§ï ‡§Ö‡§Ç‡§§‡§ø‡§Æ ru.ltm.agent.jmx.ClassesMetricsProfiler ‡§Æ‡•à‡§ü‡•ç‡§∞‡§ø‡§ï‡•ç‡§∏‡§™‡•ç‡§∞‡•ã‡§´‡§º‡§æ‡§á‡§≤") ‡§î‡§∞ CLASS_METRICS_FIELD_INITIALIZE_SRC_SRC </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§ï‡§ï‡•ç‡§∑‡§æ ‡§∏‡•ç‡§ü‡•ç‡§∞‡§ø‡§Ç‡§ó ‡§∏‡•ç‡§•‡§ø‡§∞‡§æ‡§Ç‡§ï ‡§Æ‡•à‡§Ç‡§®‡•á ‡§ä‡§™‡§∞ ‡§™‡§∞‡§ø‡§≠‡§æ‡§∑‡§ø‡§§ ‡§ï‡§ø‡§Ø‡§æ ‡§π‡•à‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§è‡§ï ‡§§‡§∞‡•Ä‡§ï‡§æ ‡§ú‡•ã ‡§™‡•ç‡§∞‡§Ø‡§æ‡§∏ / ‡§ï‡•à‡§ö / ‡§Ü‡§ñ‡§ø‡§∞ ‡§ú‡•ã‡§°‡§º‡§§‡§æ ‡§π‡•à:</font></font><br>
<br>
<pre><code class="java hljs">    <span class="hljs-function"><span class="hljs-keyword">private</span> <span class="hljs-keyword">void</span> <span class="hljs-title">changeMethod</span><span class="hljs-params">(CtBehavior method, CtClass ctClass, Set&lt;Settings&gt; methodsToInstrument)</span> <span class="hljs-keyword">throws</span> Exception </span>{
        <span class="hljs-keyword">for</span> (Object settingObj : methodsToInstrument.toArray()){<font></font>
            Settings settings  = (Settings) settingObj;<font></font>
            List&lt;String&gt; methods = settings.getMethodsToInstrument();<font></font>
            <span class="hljs-keyword">if</span> (methods.contains(method.getName()) ||<font></font>
                    ( settings.getMethodsToInstrument().get(<span class="hljs-number">0</span>).equalsIgnoreCase(<span class="hljs-string">"*"</span>) &amp;&amp;<font></font>
                            !method.getName().equalsIgnoreCase(<span class="hljs-string">"&lt;clinit&gt;"</span>) &amp;&amp;<font></font>
                            !method.getName().startsWith(<span class="hljs-string">"lambda$"</span>)) ){<font></font>
<font></font>
                String metricName = ctClass.getPackageName() + DOT + ctClass.getSimpleName() + DOT + method.getName();<font></font>
                method.insertBefore(METRICS_START_TIME_VAR_INITIALIZE_SRC);<font></font>
                CtClass etype = ClassPool.getDefault().get(EXCEPTION_TYPE_SRC);<font></font>
                method.addCatch(<span class="hljs-string">"{ throw $e; }"</span> , etype);<font></font>
                method.insertAfter( JMX_METHOD + metricName + METRICS_END_TIME_VAR_SRC,<span class="hljs-keyword">true</span>);<font></font>
<font></font>
<font></font>
            }<font></font>
        }<font></font>
    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
JMX_METHOD - ‡§∏‡§¨ ‡§ï‡•Å‡§õ jmx ‡§¨‡•Ä‡§®‡•ç‡§∏ ‡§Æ‡•á‡§Ç ‡§°‡§æ‡§≤‡•á‡§Ç‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§™‡§∞‡§ø‡§£‡§æ‡§Æ ‡§è‡§ï ‡§ê‡§∏‡•Ä ‡§ö‡•Ä‡§ú ‡§π‡•à: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2w/sd/fo/2wsdfotlwbp8wlvhlxbfvjd19yg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§ï‡§ø‡§∏‡•Ä ‡§≠‡•Ä ‡§µ‡§∞‡•ç‡§ó ‡§Ø‡§æ ‡§™‡•à‡§ï‡•á‡§ú </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§ï‡•ã ‡§ï‡•ã‡§° ‡§ï‡•ã ‡§Æ‡•à‡§®‡•ç‡§Ø‡•Å‡§Ö‡§≤ ‡§∞‡•Ç‡§™ ‡§∏‡•á ‡§¨‡§¶‡§≤‡•á ‡§¨‡§ø‡§®‡§æ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ‡§Æ‡§æ‡§™‡§æ ‡§ú‡§æ ‡§∏‡§ï‡§§‡§æ ‡§π‡•à </font><font style="vertical-align: inherit;">‡•§ </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
‡§ü‡•á‡§≤‡•Ä‡§ó‡•ç‡§∞‡§æ‡§´ ‡§ï‡•á ‡§Æ‡§æ‡§ß‡•ç‡§Ø‡§Æ ‡§∏‡•á ‡§π‡§Æ ‡§ú‡•á‡§è‡§Æ‡§è‡§ï‡•ç‡§∏ ‡§°‡§ø‡§¨‡•ç‡§¨‡•á ‡§î‡§∞ ‡§Ü‡§â‡§ü‡§™‡•Å‡§ü ‡§ó‡•ç‡§∞‡§æ‡§´‡•ç‡§ü‡§æ‡§®‡§æ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§ñ‡•Ä‡§Ç‡§ö‡§§‡•á ‡§π‡•à‡§Ç, ‡§î‡§∞ ‡§ï‡•Å‡§õ ‡§á‡§∏ ‡§§‡§∞‡§π ‡§¶‡§ø‡§ñ‡§§‡§æ ‡§π‡•à: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/kh/fp/ja/khfpjadnefo9ipmbyvdmgglrya0.png"><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‡§ï‡•ã‡§° ‡§ï‡•á ‡§™‡•Ç‡§∞‡•ç‡§£ ‡§∏‡§Ç‡§∏‡•ç‡§ï‡§∞‡§£ ‡§ï‡•á ‡§≤‡§ø‡§è ‡§≤‡§ø‡§Ç‡§ï</font></font></b></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi506140/index.html">PostgreSQL ‡§∏‡•ç‡§ï‡•á‡§≤‡§ø‡§Ç‡§ó Usecases‡•§ ‡§è‡§≤‡•á‡§ï‡•ç‡§∏‡•Ä ‡§≤‡•á‡§∏‡•ã‡§µ‡•ç‡§∏‡•ç‡§ï‡•Ä</a></li>
<li><a href="../hi506144/index.html">‡§µ‡§ø‡§ï‡§æ‡§∏ ‡§™‡•ç‡§≤‡•á‡§ü‡§´‡§æ‡§∞‡•ç‡§Æ‡•ã‡§Ç 1 ‡§∏‡•Ä ‡§î‡§∞ ‡§ï‡•ç‡§≤‡§æ‡§á‡§Ç‡§ü ‡§ï‡§Æ‡•ç‡§Ø‡•Å‡§®‡§ø‡§ï‡•á‡§ü‡§∞ ‡§ï‡•Ä ‡§§‡•Å‡§≤‡§®‡§æ</a></li>
<li><a href="../hi506146/index.html">‡§è‡§ï ‡§ñ‡•á‡§≤ ‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§ï ‡§ï‡•ç‡§Ø‡§æ ‡§ï‡§∞‡§§‡§æ ‡§π‡•à ‡§î‡§∞ ‡§ï‡•à‡§∏‡•á ‡§è‡§ï ‡§π‡•ã ‡§ú‡§æ‡§§‡§æ ‡§π‡•à</a></li>
<li><a href="../hi506148/index.html">‡§∞‡§Ç‡§ó ‡§ß‡§æ‡§∞‡§£‡§æ ‡§ï‡§æ ‡§µ‡§ø‡§ú‡•ç‡§û‡§æ‡§® ‡§∏‡•ç‡§ï‡•ç‡§∞‡•Ä‡§® ‡§ï‡•á ‡§∏‡§æ‡§• ‡§π‡§Æ‡§æ‡§∞‡•á ‡§∏‡§Ç‡§¨‡§Ç‡§ß ‡§ï‡•ã ‡§¨‡§¶‡§≤ ‡§¶‡•á‡§§‡§æ ‡§π‡•à</a></li>
<li><a href="../hi506150/index.html">SETI ‡§ï‡•ã ‡§Æ‡§æ‡§∞‡•ã: ‡§∏‡§Ç‡§∂‡§Ø‡§µ‡§æ‡§¶‡§ø‡§Ø‡•ã‡§Ç, ‡§Ü‡§∂‡§æ‡§µ‡§æ‡§¶‡§ø‡§Ø‡•ã‡§Ç ‡§î‡§∞ ‡§™‡§∞‡§ø‡§∑‡•ç‡§ï‡•É‡§§ ‡§Ö‡§™‡§∞‡§æ‡§ß‡§ø‡§Ø‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•ç‡§µ‡•à‡§ö‡•ç‡§õ‡§ø‡§ï ‡§ï‡§Ç‡§™‡•ç‡§Ø‡•Ç‡§ü‡§ø‡§Ç‡§ó</a></li>
<li><a href="../hi506158/index.html">useSWR ‡§Æ‡•á‡§∞‡§æ ‡§®‡§Ø‡§æ ‡§™‡§∏‡§Ç‡§¶‡•Ä‡§¶‡§æ ‡§∞‡§ø‡§è‡§ï‡•ç‡§ü ‡§≤‡§æ‡§á‡§¨‡•ç‡§∞‡•á‡§∞‡•Ä ‡§π‡•à</a></li>
<li><a href="../hi506164/index.html">#nodesigndev: ‡§°‡•á‡§µ‡§≤‡§™‡§∞‡•ç‡§∏ ‡§ï‡•á ‡§π‡§æ‡§•‡•ã‡§Ç ‡§∏‡•á ‡§°‡§ø‡§ú‡§æ‡§á‡§®</a></li>
<li><a href="../hi506166/index.html">‡§Ü‡§µ‡§∂‡•ç‡§Ø‡§ï ‡§µ‡§∏‡•ç‡§§‡•Å‡§ì‡§Ç ‡§ï‡§æ ‡§™‡§§‡§æ ‡§≤‡§ó‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§è‡§ï ‡§§‡§Ç‡§§‡•ç‡§∞‡§ø‡§ï‡§æ ‡§®‡•á‡§ü‡§µ‡§∞‡•ç‡§ï ‡§ï‡•ã ‡§ï‡•â‡§®‡•ç‡§´‡§º‡§ø‡§ó‡§∞ ‡§ï‡§∞‡§®‡§æ</a></li>
<li><a href="../hi506168/index.html">Google ‡§∞‡•Å‡§ù‡§æ‡§®‡•ã‡§Ç ‡§ï‡•á ‡§≤‡§ø‡§è ‡§Æ‡§π‡§æ‡§® ‡§Æ‡§æ‡§∞‡•ç‡§ó‡§¶‡§∞‡•ç‡§∂‡§ø‡§ï‡§æ: ‡§á‡§® ‡§∏‡§≠‡•Ä ‡§Ü‡§Å‡§ï‡§°‡§º‡•ã‡§Ç ‡§ï‡•ã ‡§ï‡•à‡§∏‡•á ‡§™‡§¢‡§º‡•á‡§Ç ‡§î‡§∞ ‡§∞‡•Å‡§ù‡§æ‡§® ‡§ï‡•à‡§∏‡•á ‡§™‡§ï‡§°‡§º‡•á‡§Ç, ‡§Ø‡§π ‡§∏‡•Ä‡§ñ‡•á‡§Ç</a></li>
<li><a href="../hi506170/index.html">‡§∏‡§æ‡§∞ ‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞‡•§ ‡§≠‡§æ‡§ó 1: ‡§°‡•á‡§ü‡§æ (‡§°‡•á‡§ü‡§æ ‡§™‡•ç‡§∞‡§ï‡§æ‡§∞)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>