<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚óºÔ∏è üê∂ üçπ Le programme d√©cimal le plus court üçë üöí üõÄüèº</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="En 1984, le livre culte de Steven Levy, Hackers: Heroes of the Computer Revolution , est sorti. Il existe une traduction russe amateur, mais elle est ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Le programme d√©cimal le plus court</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496914/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En 1984, le livre culte de Steven Levy, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hackers: Heroes of the Computer Revolution</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , est sorti. Il existe une traduction russe amateur, mais elle est loin d'√™tre id√©ale. Je me suis engag√© √† y corriger des inexactitudes, en mettant l'original anglais √† c√¥t√© (au fait, et ce n'est pas sans p√©ch√©), mais je l'ai abandonn√© apr√®s le deuxi√®me chapitre. D'une mani√®re ou d'une autre, je veux attirer votre attention sur un fragment (vous pouvez le lire dans un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">article s√©par√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) d√©di√© au sous-programme pour imprimer un nombre dans un syst√®me d√©cimal. Combien un tel programme peut-il √™tre r√©duit? Quelle est la limite?</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En ao√ªt 2018, j'ai √©crit un programme pour mesurer le temps d'ex√©cution exact des instructions du processeur sovi√©tique 1801BM1 (il a un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ensemble d'instructions PDP-11</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). Il √©tait n√©cessaire de conna√Ætre l'heure exacte (en cycles de processeur) lorsque vous travailliez sur la d√©mo ¬´ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Good Apple</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ¬ª pour l'ordinateur BK 0011M. Je voulais voir les r√©sultats de mesure en d√©cimal. Pour ce faire, j'ai d√ª √©crire mon propre sous-programme - les fonctions syst√®me n'√©taient pas disponibles en raison des sp√©cificit√©s du test. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La premi√®re chose que j'ai faite a √©t√© de cr√©er un tableau TEN avec des puissances de 10. La proc√©dure prend un nombre dans le registre R0, la sortie est une cha√Æne de texte √† NUMBER. Important: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il n'y a aucune</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> instruction de division </font><font style="vertical-align: inherit;">dans le processeur </font><font style="vertical-align: inherit;">!</font></font><br>
<br>
<pre><code class="plaintext hljs">	MOV #NUMBER,R1	; pointer to output text string<font></font>
	MOV #TEN,R5<font></font>
1:	CMP (R5)+,R0 	; skip leading zeros<font></font>
	BHI 1		; branch if higher, for 16-bit not signed<font></font>
	MOV -(R5),R3<font></font>
	BEQ 4		; if less then 10<font></font>
<font></font>
2:	MOV #47.,R4	; 0 symbol in ASCII codepage - 1<font></font>
3:	INC R4		; count digits<font></font>
	SUB R3,R0<font></font>
	BHIS 3		; branch if higher or same, for 16-bit not signed<font></font>
	MOVB R4,(R1)+	; print R4<font></font>
<font></font>
	ADD (R5)+,R0<font></font>
	MOV (R5),R3<font></font>
	BNE 2<font></font>
<font></font>
4:	ADD #48.,R0	; 0 symbol in ASCII codepage<font></font>
	MOVB R0,(R1)+	; print R0<font></font>
	CLRB (R1) 	; end of text marker<font></font>
	RET<font></font>
<font></font>
TEN:	.WORD 10000.,1000.,100.,10.,0</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour comprendre l'assembleur PDP-11, il suffit de se rappeler que les arguments sont √©crits de gauche √† droite (d'abord la source, puis le r√©cepteur), et les commandes de branchement conditionnel commencent par la lettre B (du mot branch - branching). Je ne d√©crirai pas l'algorithme, il ne pr√©sente aucun int√©r√™t et n'est donn√© ici qu'√† titre de point de d√©part. La taille de cette routine est de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">22 mots</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (sans les donn√©es). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apr√®s que tout a fonctionn√©, je me suis soudain souvenu d'une histoire du livre de Stephen Levy: les pirates ont eu du mal √† r√©duire la taille d'un programme similaire, ainsi que sur l'architecture PDP. Certes, ils avaient PDP-1, mais quelques ann√©es plus tard, ils ont obtenu PDP-11. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/c4/gm/xn/c4gmxn26cewnkjhds-hflp__sdc.jpeg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En ouvrant le livre, j'ai trouv√© une description extr√™mement vague. Les pirates informatiques du </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">MIT ont</font></a><font style="vertical-align: inherit;"> commenc√©</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tout comme moi dans la liste des d√©cimales. Mais ce qui s'est pass√© ensuite n'est pas clair dans le texte. De toute √©vidence, cela n'√©tait pas clair non plus pour l'auteur du livre; il a simplement √©crit des mots courants de la bouche des t√©moins oculaires de ce concours de piratage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai d√ª me plonger dans l'archive Internet des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">programmes pour PDP-1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il y a beaucoup de choses int√©ressantes: Minskytron, Munching squares et autres soi-disant "display hacks" (√† propos, il est √† noter que d√©j√† - au d√©but des ann√©es 60 - les pirates du MIT utilisaient le terme " </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">d√©mo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " dans le m√™me sens dans lequel nous l'utilisons maintenant sur la demoscene). Il existe de nombreuses routines syst√®me dans l'archive, mais, malheureusement, il n'y a pas de nombre d√©cimal parmi elles.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Puis, arm√© d'un d√©bogueur, j'ai d√©cid√© de voir comment cette proc√©dure √©tait impl√©ment√©e dans le syst√®me d'exploitation MKDOS, que j'utilise sur les BK 0010 et BK 0011M. Oh miracle! - Apr√®s avoir regard√© de pr√®s, j'ai r√©alis√© que le sous-programme correspond tr√®s bien √† la description brumeuse du livre "Hackers". Voici son code:</font></font><br>
<br>
<pre><code class="plaintext hljs">	MOV #10.,R4<font></font>
	CLR R2<font></font>
1:	CLR R1<font></font>
2:	SUB R4,R0 	;    10,    <font></font>
	BLO 3<font></font>
	INC R1 		;  -   <font></font>
	BR 2<font></font>
3:	ADD R4,R0<font></font>
	ADD #48.,R0 	; ASCII-  0<font></font>
	INC R2		;  -   <font></font>
	MOVB R0,-(SP)<font></font>
	MOV R1,R0 	;    -   <font></font>
	BNE 1<font></font>
	INC R2<font></font>
	MOVB #32.,-(SP)	; ASCII- <font></font>
4:	MOVB (SP)+,R0<font></font>
	CALL PRINT<font></font>
	SOB R2,4	;     <font></font>
	RET</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le programme forme une cha√Æne de texte sur la pile, puis appelle la proc√©dure d'impression pour chaque caract√®re enregistr√©. Apparemment, c'est exactement ce que l'on entendait dans le livre de Stephen Levy sous la phrase "convertit dans le sens oppos√©, et avec l'aide d'un focus logiciel astucieux, il imprime dans le bon ordre." Les autres caract√©ristiques de l'algorithme doivent √™tre claires √† partir des commentaires sur le code. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La taille du sous-programme est de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">23 mots</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mais vous ne pouvez pas le comparer directement avec mon sous-programme: les conditions sont trop diff√©rentes. J'ai d√©cid√© de refaire le programme de MKDOS √† mes conditions: la formation d'une cha√Æne de texte en m√©moire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au final, j‚Äôai r√©alis√© qu‚Äôil valait mieux ne laisser que l‚Äôid√©e de soustraire le nombre 10 et √©crire le reste √† partir de z√©ro. Apr√®s plusieurs tours d' </font><font style="vertical-align: inherit;">optimisation </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sansara</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , j'ai obtenu ce qui suit:</font></font><br>
<br>
<pre><code class="plaintext hljs">	MOV #NUMBER,R1	; pointer to output text string<font></font>
	CLRB -(R1)	; end of text marker<font></font>
	MOV #10.,R4<font></font>
1:	MOV #-1.,R5<font></font>
2:	INC R5		; counter of 10s<font></font>
	SUB R4,R0<font></font>
	BHIS 2		; branch if higher or same<font></font>
	ADD #58.,R0	; #10. + '0' ASCII code<font></font>
	MOVB R0,-(R1)	; store R0 to text string<font></font>
	MOV R5,R0	; let's count next how many 10s in number of 10s<font></font>
	BNE 1<font></font>
	RET		; returns text string pointer in R1</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 mots</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la limite est atteinte (pensais-je), le voici - Nirvana, √† propos duquel Stephen Levy a √©crit avec √©motion! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelles astuces sont appliqu√©es ici:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La premi√®re commande d√©finit le pointeur non pas au d√©but, mais √† la fin de la ligne de texte. </font><font style="vertical-align: inherit;">Le texte est rempli de droite √† gauche - cela est √©galement pratique car √† la sortie, nous obtenons l'adresse du d√©but de la ligne, pr√™te √† √™tre envoy√©e √† la proc√©dure d'impression de texte.</font></font></li>
<li>     ,    .     (INC R5)    1.    0,       ,   ?..   ,      10     ‚Äì     ,      . ,       .        .  ‚Äì    .      :   1 ,   ,   1      (  ).   ,       ,     .       .       -1.</li>
<li>  10,       ,     ,     .     ‚Äì   (  ).   ,           ‚Äì     . ,      ,     .   (   10     10  )   .     :         ASCII-  0,     !  , ,      .  ADD #58.,R0    (48+10).</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'√©tais tellement content du programme que j'ai d√©cid√© de le partager sur le forum </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zx-pk.ru</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ne soup√ßonnant rien de traditions locales √† critiquer sans argument). </font><font style="vertical-align: inherit;">La r√©action de la communaut√© a √©t√© quelque chose comme ceci: "il fallait juste voir comment ils l'ont fait au DEC, c'est un classique." </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, voici un programme de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DEC</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , la soci√©t√© qui a cr√©√© PDP-11 et incorpor√© certains des pirates du MIT dans ses rangs:</font></font><br>
<br>
<pre><code class="plaintext hljs">; RETURNS:<font></font>
; R0 = 0<font></font>
; R1 -&gt; byte following last digit in converted number<font></font>
CVBTOD:	MOV	R0,-(SP)	;SAVE THE NUMBER PASSED TO US<font></font>
	CLR	R0		;SET FOR CRUDE DIVIDE BY 10.<font></font>
10$:	INC	R0		;BUMP QUOTIENT<font></font>
	SUB	#10.,(SP)	;REDUCE NUMBER BY 10.<font></font>
	BHIS	10$		;IF SIGN DIDN'T CHANGE...<font></font>
	ADD	#10.+48.,(SP)	;MAKE REMAINDER PRINTABLE<font></font>
	DEC	R0		;REDUCE QUOTIENT<font></font>
	BEQ	20$		;IF ZERO, TIME TO PRINT<font></font>
	CALL	CVBTOD		;OTHERWISE, RECURSE !<font></font>
20$:	MOVB	(SP)+,(R1)+	;STORE A CONVERTED DIGIT<font></font>
	RETURN			;UNWIND THE RECURSION</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 mots</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , cool! </font><font style="vertical-align: inherit;">Ou pas? </font><font style="vertical-align: inherit;">J'ai √©t√© vaincu, mais regardons de plus pr√®s:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'ajout du code ASCII du caract√®re 0 et du num√©ro 10 se fait en une seule op√©ration. </font><font style="vertical-align: inherit;">Il s'av√®re qu'un tel truc a √©t√© utilis√© dans les ann√©es 70. </font><font style="vertical-align: inherit;">Cool.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le programme s'appelle r√©cursivement - une belle solution!</font></font></li>
<li>    ‚Äì  ,    .     ‚Äì     .</li>
<li>  R1    .  ,         ,    .</li>
<li>, !     ?.. ,     .  ,   zx-pk.ru    MOV #NUMBER,R1   !</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Au total, la taille r√©elle est de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">16 mots</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Exactement comme le mien. Les deux programmes se composent de 12 instructions. Alors quoi de mieux? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√™me si vous remplacez les appels de pile par des appels de registre, le programme DEC sera plus lent en raison des instructions DEC R0 et CALL √† l'int√©rieur de la boucle. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais ce n'est pas tout. Quand j'ai commenc√© √† √©crire cet article, j'ai remarqu√© que dans mon programme il restait une instruction rudimentaire (de MKDOS) MOV # 10., R4 - cela n'a aucun sens autre que d'acc√©l√©rer la boucle int√©rieure. Il est temps de se d√©barrasser d'elle.</font></font><br>
<br>
<pre><code class="plaintext hljs">	MOV #NUMBER,R1	; pointer to output text string<font></font>
	CLRB -(R1)	; end of text marker<font></font>
1:	MOV #-1.,R5<font></font>
2:	INC R5		; counter of 10s<font></font>
	SUB #10.,R0<font></font>
	BHIS 2		; branch if higher or same<font></font>
	ADD #58.,R0	; #10. + '0' ASCII code<font></font>
	MOVB R0,-(R1)	; store R0 to text string<font></font>
	MOV R5,R0	; let's count next how many 10s in number of 10s<font></font>
	BNE 1 		; loop if R0 is not zero<font></font>
	RET		; returns text string pointer in R1</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">15 mots</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . 11 instructions. Maintenant, il semble que c'est tout. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eh bien, mes id√©es d'optimisation sont termin√©es. C'√©tait un d√©fi inspirant, voire un pari. Il est remarquable que l'id√©e propos√©e par un √©tudiant pirate informatique au d√©but des ann√©es 60 pour PDP-1 ait √©t√© utilis√©e par DEC dix et m√™me vingt ans plus tard, et elle a √©t√© appliqu√©e sur l'ordinateur sovi√©tique BK 0011M jusqu'au d√©but des ann√©es 2000. √âtonnamment, en 2018, il a √©t√© possible de r√©inventer et d'optimiser partiellement l'algorithme. De mani√®re caract√©ristique, beaucoup consid√©raient cela comme impossible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Donc, voici le Saint Graal (selon Stephen Levy), que les pirates des ann√©es 60 ont essay√© de trouver - le programme d√©cimal le plus court pour PDP. Ou ... peut-√™tre encore plus court? </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mise √† jour</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: Je savais que ce jour viendrait, mais je n'y ai pas pens√© si t√¥t :) Il s'est av√©r√© que le programme peut √™tre r√©duit d'un mot de plus! L'id√©e a √©t√© sugg√©r√©e dans les commentaires de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mr_Rm</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="plaintext hljs">	MOV #NUMBER,R1	; pointer to output text string<font></font>
	CLRB -(R1)	; end of text marker<font></font>
1:	CLR R5<font></font>
2:	INC R5		; counter of 10s +1<font></font>
	SUB #10.,R0<font></font>
	BHIS 2		; branch if higher or same<font></font>
	ADD #58.,R0	; #10. + '0' ASCII code<font></font>
	MOVB R0,-(R1)	; store R0 to text string<font></font>
	MOV R5,R0	; let's count how many 10s in number of 10s<font></font>
	SOB R0,1	; subtract 1 and loop if not zero<font></font>
	RET		; returns text string pointer in R1</code></pre><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">14 mots</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">11 instructions. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'astuce est la suivante. </font><font style="vertical-align: inherit;">Rappelez-vous, j'ai √©crit qu'avec la ¬´mauvaise¬ª organisation du cycle R5, un de plus est obtenu que n√©cessaire? </font><font style="vertical-align: inherit;">Eh bien laissez! </font><font style="vertical-align: inherit;">Nous allons le r√©duire √† la toute fin du programme. </font><font style="vertical-align: inherit;">Dans la version pr√©c√©dente, R5 √©tait copi√© dans R0, apr√®s quoi la commande BNE (Branch if Not Equal to zero) v√©rifiait R0, et si elle n'est pas √©gale √† z√©ro, elle passait au d√©but du cycle. </font><font style="vertical-align: inherit;">Si seulement nous r√©duisions d'abord R0 de un, puis (si nous n'obtenions pas z√©ro) revenons au d√©but ... Attendez une minute, mais il s'agit d'une commande de cycle SOB (soustraire un et branche) normale. </font><font style="vertical-align: inherit;">Certes, ici, il n'a pas √©t√© utilis√© de mani√®re canonique: il remplit une fois, puis le compteur de cycles est effiloch√©. </font><font style="vertical-align: inherit;">Cela semble d√©courageant, mais si vous regardez la version pr√©c√©dente du sous-programme, il devient clair comment une nouvelle est raccourcie.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Liens utiles:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Magazine de d√©classement</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> en russe, num√©ros 28 et 29 - articles sur les astuces d'assembleur sur BK / PDP.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La programmation sous BC 0010 en 2019</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un aper√ßu des outils de d√©veloppement modernes.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">D√©mos pour BK 0010 et BK 0011M</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sur le portail pouet.net</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hacker roots of the demoscene</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - enregistrement du s√©minaire √† Chaos Constructions 2016, analyse des ¬´display hacks¬ª des ann√©es 60.</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hackers: Wizards of the Electronic Age</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est un documentaire de 1984 bas√© sur un livre de Stephen Levy.</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr496892/index.html">Tous Habr dans une seule base. Commentaires et application web</a></li>
<li><a href="../fr496894/index.html">Carnet de produit parfait</a></li>
<li><a href="../fr496900/index.html">Importez USRLE au moyen d'Apache NiFi. √âtape 1 - T√©l√©charger des fichiers via HTTPS</a></li>
<li><a href="../fr496910/index.html">Cr√©ez et personnalisez votre CDN</a></li>
<li><a href="../fr496912/index.html">ThinkPad E480 Intel sous Windows VS ThinkPad E495 AMD sur Ubuntu y a-t-il une diff√©rence?</a></li>
<li><a href="../fr496916/index.html">Enseignement, n√©gociation et consultation √† distance - Partie 3: Serveur de r√©union Yealink et 4 offres sp√©ciales</a></li>
<li><a href="../fr496920/index.html">Faire une maison intelligente avec ASP.NET Core et Arduino</a></li>
<li><a href="../fr496922/index.html">Guide sur l'apk client-serveur inverse sur l'exemple du job NeoQUEST-2020</a></li>
<li><a href="../fr496924/index.html">Routage des composants Web</a></li>
<li><a href="../fr496936/index.html">Cryptons les certificats SSL avec cert-manager dans Kubernetes</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>