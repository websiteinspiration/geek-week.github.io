<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¨ ğŸ‘ƒğŸ¾ ğŸ¥ å¦‚ä½•ä¸ºJavaScriptåˆ›å»ºè­¦æŠ¥ï¼ˆï¼‰ï¼Œç¡®è®¤ï¼ˆï¼‰å’Œæç¤ºï¼ˆï¼‰çš„è‡ªå®šä¹‰è§†å›¾ ğŸŒ ğŸ¤¢ ğŸ‘‡ğŸ¾</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="é•¿æœŸä»¥æ¥ï¼Œæˆ‘ä¸€ç›´åœ¨è€ƒè™‘è‡ªå®šä¹‰JavaScriptä¸­å…¸å‹çš„ç”¨æˆ·äº¤äº’åŠŸèƒ½çš„å¤–è§‚-alertï¼ˆï¼‰ï¼Œconfirmï¼ˆï¼‰å’Œæç¤ºç¬¦ï¼ˆï¼‰ï¼ˆä»¥ä¸‹ç§°ä¸ºæ¨¡å¼çª—å£ï¼‰ã€‚
 ç¡®å®ï¼Œå®ƒä»¬ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­å´æœ‰æ‰€ä¸åŒï¼Œå¹¶ä¸”å¤–è§‚ä¹Ÿå¾ˆéš¾çœ‹ã€‚
 ç»ˆäºï¼Œæ‰‹ä¼¸äº†å‡ºæ¥ã€‚
 é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿå‘å‡ºå¯¹è¯æ¡†çš„å¸¸ç”¨æ–¹æ³•ï¼ˆä¾‹å¦‚å¼•å¯¼ç¨‹åºï¼‰...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>å¦‚ä½•ä¸ºJavaScriptåˆ›å»ºè­¦æŠ¥ï¼ˆï¼‰ï¼Œç¡®è®¤ï¼ˆï¼‰å’Œæç¤ºï¼ˆï¼‰çš„è‡ªå®šä¹‰è§†å›¾</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/496372/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é•¿æœŸä»¥æ¥ï¼Œæˆ‘ä¸€ç›´åœ¨è€ƒè™‘è‡ªå®šä¹‰JavaScriptä¸­å…¸å‹çš„ç”¨æˆ·äº¤äº’åŠŸèƒ½çš„å¤–è§‚-alertï¼ˆï¼‰ï¼Œconfirmï¼ˆï¼‰å’Œæç¤ºç¬¦ï¼ˆï¼‰ï¼ˆä»¥ä¸‹ç§°ä¸ºæ¨¡å¼çª—å£ï¼‰ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç¡®å®ï¼Œå®ƒä»¬ä½¿ç”¨èµ·æ¥éå¸¸æ–¹ä¾¿ï¼Œä½†æ˜¯åœ¨ä¸åŒçš„æµè§ˆå™¨ä¸­å´æœ‰æ‰€ä¸åŒï¼Œå¹¶ä¸”å¤–è§‚ä¹Ÿå¾ˆéš¾çœ‹ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç»ˆäºï¼Œæ‰‹ä¼¸äº†å‡ºæ¥ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é—®é¢˜æ˜¯ä»€ä¹ˆï¼Ÿå‘å‡ºå¯¹è¯æ¡†çš„å¸¸ç”¨æ–¹æ³•ï¼ˆä¾‹å¦‚å¼•å¯¼ç¨‹åºï¼‰ä¸èƒ½åƒè­¦æŠ¥é‚£æ ·å®¹æ˜“åœ°ä½¿ç”¨ï¼Œåœ¨è­¦æŠ¥ä¸­æµè§ˆå™¨ä¼šå®‰æ’JavaScriptä»£ç åœæ­¢æ‰§è¡Œå¹¶ç­‰å¾…ç”¨æˆ·çš„æ“ä½œï¼ˆå•å‡»å…³é—­æŒ‰é’®ï¼‰ã€‚å¼•å¯¼ç¨‹åºä¸­çš„æ¨¡æ€å°†éœ€è¦å•ç‹¬çš„äº‹ä»¶å¤„ç†-å•å‡»æŒ‰é’®ï¼Œå…³é—­æ¨¡æ€çª—å£...</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°½ç®¡å¦‚æ­¤ï¼Œæˆ‘å·²ç»åœ¨æ¸¸æˆä¸­ä½¿ç”¨è­¦æŠ¥çš„è‡ªå®šä¹‰åŠŸèƒ½å°†æ ‡å‡†æ¶ˆæ¯æ›¿æ¢ä¸ºä¸æ¸¸æˆè®¾è®¡é£æ ¼ç›¸å¯¹åº”çš„æ¶ˆæ¯ã€‚è¿™å¾ˆå¥½ï¼ŒåŒ…æ‹¬è¿æ¥é”™è¯¯æ¶ˆæ¯å’Œå…¶ä»–ç³»ç»Ÿæƒ…å†µã€‚ä½†æ˜¯ï¼Œå¦‚æœç”¨æˆ·éœ€è¦ç­‰å¾…å“åº”ï¼Œè¿™å°†ä¸èµ·ä½œç”¨ï¼</font></font><br>
<img src="https://habrastorage.org/webt/c4/mc/c_/c4mcc_awjvsbs6hpwucvdcylisu.png" alt="å›¾ç‰‡"><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
éšç€ECMAScript 6ï¼ˆES6ï¼‰ä¸­Promiseçš„å‡ºç°ï¼Œä¸€åˆ‡çš†æœ‰å¯èƒ½ï¼</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æˆ‘é‡‡ç”¨äº†å°†æ¨¡å¼çª—å£å’Œä»£ç çš„è®¾è®¡åˆ†å¼€çš„æ–¹æ³•ï¼ˆè­¦æŠ¥ï¼ˆï¼‰ï¼Œç¡®è®¤ï¼ˆï¼‰å’Œæç¤ºï¼ˆï¼‰ï¼‰ã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯æ‚¨å¯ä»¥éšè—ä»£ç ä¸­çš„æ‰€æœ‰å†…å®¹ã€‚</font><font style="vertical-align: inherit;">å¸å¼•è¿™ç§æ–¹æ³•çš„åŸå› æ˜¯-å¯ä»¥åœ¨ä¸åŒçš„é¡¹ç›®ä¸­æ›´æ”¹è®¾è®¡ï¼Œä½†æ˜¯å¯ä»¥ä»…åœ¨ä¸åŒçš„é¡µé¢ä¸Šæˆ–æ ¹æ®æƒ…å†µè¿›è¡Œæ›´æ”¹ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™ç§æ–¹æ³•çš„åç‚¹æ˜¯éœ€è¦åœ¨æ¨¡å¼çª—å£çš„ä»£ç ä¸­ç”šè‡³åœ¨å…¨å±€èŒƒå›´å†…ä½¿ç”¨æ ‡è®°åç§°ï¼ˆidï¼‰ã€‚</font><font style="vertical-align: inherit;">ä½†è¿™ä»…æ˜¯åŸç†çš„ä¸€ä¸ªç¤ºä¾‹ï¼Œå› æ­¤æˆ‘å°†ä¸ä¸“æ³¨äºæ­¤ã€‚</font></font><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è·å–è­¦æŠ¥ä»£ç </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤ï¼Œè®©æˆ‘ä»¬åˆ†ææ ‡è®°ï¼ˆå­—ä½“å›¾æ ‡çš„å¼•å¯¼å’ŒFont Awesomeï¼‰å’Œè­¦æŠ¥ä»£ç ï¼ˆæˆ‘ä½¿ç”¨jQueryï¼‰ï¼š</font></font><br>
<pre><code class="xml hljs">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"PromiseAlert"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-dialog"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"document"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-header"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">h5</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-title"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-exclamation-triangle text-warning"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>The app reports<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"close"</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">"modal"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Close"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span>Ã—<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-body"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-footer"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-secondary"</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">"modal"</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br>
<pre><code class="javascript hljs">    <span class="hljs-built_in">window</span>.alert = <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {<font></font>
        $(<span class="hljs-string">'#PromiseAlert .modal-body p'</span>).html(message);
        <span class="hljs-keyword">var</span> PromiseAlert = $(<span class="hljs-string">'#PromiseAlert'</span>).modal({
            <span class="hljs-attr">keyboard</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">backdrop</span>: <span class="hljs-string">'static'</span>
        }).modal(<span class="hljs-string">'show'</span>);
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) </span>{<font></font>
            PromiseAlert.on(<span class="hljs-string">'hidden.bs.modal'</span>, resolve);<font></font>
        });<font></font>
    };<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å°±åƒæˆ‘ä¸Šé¢è¯´çš„ï¼Œä»£ç ä½¿ç”¨äº†å…¨å±€åç§°PromiseAlertå’Œhtmlæ ‡è®°ç±»ã€‚åœ¨ä»£ç çš„ç¬¬ä¸€è¡Œä¸­ï¼Œè­¦æŠ¥åŠŸèƒ½å‚æ•°ä¼ é€’åˆ°æ¶ˆæ¯æ­£æ–‡ã€‚ä¹‹åï¼Œbootstrapæ–¹æ³•å°†æ˜¾ç¤ºä¸€ä¸ªå¸¦æœ‰æŸäº›é€‰é¡¹çš„æ¨¡æ€çª—å£ï¼ˆå®ƒä»¬ä½¿å®ƒæ›´æ¥è¿‘æœ¬æœºè­¦æŠ¥ï¼‰ã€‚é‡è¦ï¼æ¨¡æ€çª—å£è¢«è®°ä½åœ¨ä¸€ä¸ªå±€éƒ¨å˜é‡ä¸­ï¼Œè¯¥å˜é‡åœ¨ä¸‹é¢é€šè¿‡é—­åŒ…ä½¿ç”¨ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æœ€åï¼Œå®ƒä½œä¸ºè­¦æŠ¥Promiseçš„ç»“æœè¢«åˆ›å»ºå¹¶è¿”å›ï¼Œåœ¨è¯¥è­¦å‘Šä¸­ï¼Œç”±äºå…³é—­äº†æ¨¡å¼çª—å£ï¼Œå› æ­¤è¯¥Promiseè¢«æ‰§è¡Œã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç°åœ¨è®©æˆ‘ä»¬çœ‹çœ‹å¦‚ä½•ä½¿ç”¨æ­¤è­¦æŠ¥ï¼š</font></font><br>
<pre><code class="javascript hljs">    $(<span class="hljs-string">'p a[href="#"]'</span>).on(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">async</span> (e) =&gt; {<font></font>
        e.preventDefault();<font></font>
        <span class="hljs-keyword">await</span> alert(<span class="hljs-string">'Promise based alert sample'</span>);<font></font>
    });<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åœ¨æ­¤ç¤ºä¾‹ä¸­ï¼Œå•å‡»æ®µè½ä¸­çš„ç©ºç™½é“¾æ¥æ—¶ä¼šæ˜¾ç¤ºä¸€æ¡æ¶ˆæ¯ã€‚æ³¨æ„ï¼ä¸ºäº†ç¬¦åˆè§„èŒƒï¼Œalertå‡½æ•°å¿…é¡»åœ¨å…³é”®å­—awaitä¹‹å‰ï¼Œå¹¶ä¸”åªèƒ½åœ¨å‡½æ•°å†…éƒ¨ä¸asyncå…³é”®å­—ä¸€èµ·ä½¿ç”¨ã€‚è¿™ä½¿æ‚¨å¯ä»¥æœŸæœ›åœ¨è¯¥ä½ç½®ï¼ˆè„šæœ¬å°†åœæ­¢ï¼Œä¸æœ¬æœºè­¦æŠ¥ä¸€æ ·ï¼‰ï¼Œå°†å…³é—­æ¨¡å¼çª—å£ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¦‚æœä¸è¿™æ ·åšä¼šæ€æ ·ï¼Ÿ</font><font style="vertical-align: inherit;">å–å†³äºåº”ç”¨ç¨‹åºçš„é€»è¾‘ï¼ˆä¸Šå›¾ä¸­çš„è¿™ç§æ–¹æ³•çš„ç¤ºä¾‹ï¼‰ã€‚</font><font style="vertical-align: inherit;">å¦‚æœè¿™æ˜¯ä»£ç çš„ç»“å°¾ï¼Œæˆ–è€…ä»£ç çš„è¿›ä¸€æ­¥æ“ä½œæ²¡æœ‰ä½¿é¡µé¢è¶…è½½ï¼Œé‚£ä¹ˆä¸€åˆ‡éƒ½ä¼šå¾ˆå¥½ï¼</font><font style="vertical-align: inherit;">æ¨¡æ€çª—å£ä¸‹å‚ï¼Œç›´åˆ°ç”¨æˆ·å…³é—­å®ƒã€‚</font><font style="vertical-align: inherit;">ä½†æ˜¯ï¼Œå¦‚æœä»ç„¶å­˜åœ¨æ¨¡å¼çª—å£ï¼Œæˆ–è€…å¦‚æœé¡µé¢é‡æ–°åŠ è½½ï¼Œåˆ™è½¬æ¢åˆ°å¦ä¸€ä¸ªé¡µé¢ï¼Œé‚£ä¹ˆç”¨æˆ·å°†æ ¹æœ¬çœ‹ä¸åˆ°æ‚¨çš„æ¨¡å¼çª—å£ï¼Œå¹¶ä¸”é€»è¾‘å°†è¢«ç ´åã€‚</font><font style="vertical-align: inherit;">æˆ‘å¯ä»¥è¯´ï¼Œæ ¹æ®ç»éªŒï¼Œæœ‰å…³å„ç§æœåŠ¡å™¨é”™è¯¯ï¼ˆçŠ¶æ€ï¼‰çš„æ¶ˆæ¯æˆ–æ¥è‡ªä»£ç åº“çš„æ¶ˆæ¯ä¸æˆ‘ä»¬çš„æ–°è­¦æŠ¥é…åˆå¾—å¾ˆå¥½ï¼Œå°½ç®¡å®ƒä»¬ä¸ä½¿ç”¨ç­‰å¾…ã€‚</font></font><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æˆ‘ä»¬å¼€å‘ä¸€ç§ç¡®è®¤æ–¹æ³•</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è®©æˆ‘ä»¬èµ°å¾—æ›´è¿œã€‚</font><font style="vertical-align: inherit;">æ¯«æ— ç–‘é—®ï¼Œconfirmåªèƒ½ç”¨äºå¼‚æ­¥/ç­‰å¾…ç»‘å®šï¼Œå› ä¸º </font><font style="vertical-align: inherit;">ä»–å¿…é¡»å‘Šè¯‰ä»£ç ç”¨æˆ·é€‰æ‹©çš„ç»“æœã€‚</font><font style="vertical-align: inherit;">è¿™ä¹Ÿé€‚ç”¨äºæç¤ºã€‚</font><font style="vertical-align: inherit;">å› æ­¤è¯·ç¡®è®¤ï¼š</font></font><br>
<pre><code class="xml hljs">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"PromiseConfirm"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-dialog"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"document"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-header"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">h5</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-title"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-check-circle text-success"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Confirm app request<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"close"</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">"modal"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Close"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span>Ã—<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-body"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-footer"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-success"</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">"modal"</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-danger"</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">"modal"</span>&gt;</span>Cancel<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br>
<pre><code class="javascript hljs">    <span class="hljs-built_in">window</span>.confirm = <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {<font></font>
        $(<span class="hljs-string">'#PromiseConfirm .modal-body p'</span>).html(message);
        <span class="hljs-keyword">var</span> PromiseConfirm = $(<span class="hljs-string">'#PromiseConfirm'</span>).modal({
            <span class="hljs-attr">keyboard</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">backdrop</span>: <span class="hljs-string">'static'</span>
        }).modal(<span class="hljs-string">'show'</span>);
        <span class="hljs-keyword">let</span> confirm = <span class="hljs-literal">false</span>;<font></font>
        $(<span class="hljs-string">'#PromiseConfirm .btn-success'</span>).on(<span class="hljs-string">'click'</span>, e =&gt; {<font></font>
            confirm = <span class="hljs-literal">true</span>;<font></font>
        });<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) </span>{<font></font>
            PromiseConfirm.on(<span class="hljs-string">'hidden.bs.modal'</span>, (e) =&gt; {<font></font>
                resolve(confirm);<font></font>
            });<font></font>
        });<font></font>
    };<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä»…æœ‰ä¸€ä¸ªåŒºåˆ«-æˆ‘ä»¬éœ€è¦å‘ŠçŸ¥ç”¨æˆ·é€‰æ‹©ã€‚</font><font style="vertical-align: inherit;">è¿™æ˜¯ä½¿ç”¨é—­åŒ…ä¸­çš„å¦ä¸€ä¸ªå±€éƒ¨å˜é‡å®Œæˆçš„-ç¡®è®¤ã€‚</font><font style="vertical-align: inherit;">å¦‚æœæŒ‰ä¸‹ç¡®è®¤æŒ‰é’®ï¼Œåˆ™å˜é‡å°†è®¾ç½®ä¸ºtrueï¼Œé»˜è®¤æƒ…å†µä¸‹å…¶å€¼ä¸ºfalseã€‚</font><font style="vertical-align: inherit;">å¥½å§ï¼Œå½“å¤„ç†æ¨¡å¼çª—å£çš„å…³é—­æ—¶ï¼Œresolveè¿”å›æ­¤å˜é‡ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™æ˜¯ç”¨æ³•ï¼ˆå¼‚æ­¥/ç­‰å¾…æ—¶éœ€è¦ï¼‰ï¼š</font></font><br>
<pre><code class="javascript hljs">    $(<span class="hljs-string">'p a[href="#"]'</span>).on(<span class="hljs-string">'click'</span>, <span class="hljs-keyword">async</span> (e) =&gt; {<font></font>
        e.preventDefault();<font></font>
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">await</span> confirm(<span class="hljs-string">'Want to test the Prompt?'</span>)) {
            <span class="hljs-keyword">let</span> prmpt = <span class="hljs-keyword">await</span> prompt(<span class="hljs-string">'Entered value:'</span>);
            <span class="hljs-keyword">if</span> (prmpt) <span class="hljs-keyword">await</span> alert(<span class="hljs-string">`entered: Â«<span class="hljs-subst">${prmpt}</span>Â»`</span>);
            <span class="hljs-keyword">else</span> <span class="hljs-keyword">await</span> alert(<span class="hljs-string">'Do not enter a value'</span>);<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> <span class="hljs-keyword">await</span> alert(<span class="hljs-string">'Promise based alert sample'</span>);<font></font>
    });<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç»§ç»­å‰è¿›-æç¤ºçš„æ–¹æ³•</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸Šé¢çš„é€»è¾‘ä¹Ÿå¯ä»¥é€šè¿‡æµ‹è¯•æç¤ºæ¥å®ç°ã€‚</font><font style="vertical-align: inherit;">å…¶æ ‡è®°å’Œé€»è¾‘å¦‚ä¸‹ï¼š</font></font><br>
<pre><code class="xml hljs">    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"PromisePrompt"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-dialog"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"document"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-content"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-header"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">h5</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-title"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">i</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"fas fa-question-circle text-primary"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">i</span>&gt;</span> <span class="hljs-tag">&lt;<span class="hljs-name">span</span>&gt;</span>Prompt request<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">h5</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"close"</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">"modal"</span> <span class="hljs-attr">aria-label</span>=<span class="hljs-string">"Close"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">aria-hidden</span>=<span class="hljs-string">"true"</span>&gt;</span>Ã—<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-body"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-group"</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"PromisePromptInput"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
                        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"form-control"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"PromisePromptInput"</span>&gt;</span>
                    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"modal-footer"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-success"</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">"modal"</span>&gt;</span>OK<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"button"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"btn btn-danger"</span> <span class="hljs-attr">data-dismiss</span>=<span class="hljs-string">"modal"</span>&gt;</span>Cancel<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br>
<pre><code class="javascript hljs">    <span class="hljs-built_in">window</span>.prompt = <span class="hljs-function">(<span class="hljs-params">message</span>) =&gt;</span> {<font></font>
        $(<span class="hljs-string">'#PromisePrompt .modal-body label'</span>).html(message);
        <span class="hljs-keyword">var</span> PromisePrompt = $(<span class="hljs-string">'#PromisePrompt'</span>).modal({
            <span class="hljs-attr">keyboard</span>: <span class="hljs-literal">false</span>,
            <span class="hljs-attr">backdrop</span>: <span class="hljs-string">'static'</span>
        }).modal(<span class="hljs-string">'show'</span>);<font></font>
        $(<span class="hljs-string">'#PromisePromptInput'</span>).focus();
        <span class="hljs-keyword">let</span> prmpt = <span class="hljs-literal">null</span>;<font></font>
        $(<span class="hljs-string">'#PromisePrompt .btn-success'</span>).on(<span class="hljs-string">'click'</span>, e =&gt; {<font></font>
            prmpt = $(<span class="hljs-string">'#PromisePrompt .modal-body input'</span>).val();<font></font>
        });<font></font>
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Promise</span>(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">resolve, reject</span>) </span>{<font></font>
            PromisePrompt.on(<span class="hljs-string">'hidden.bs.modal'</span>, (e) =&gt; {<font></font>
                resolve(prmpt);<font></font>
            });<font></font>
        });<font></font>
    };<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
é€»è¾‘å’Œç¡®è®¤ä¹‹é—´çš„å·®å¼‚å¾ˆå°ã€‚</font><font style="vertical-align: inherit;">é—­åŒ…ä¸­çš„å¦ä¸€ä¸ªå±€éƒ¨å˜é‡æ˜¯prmptã€‚</font><font style="vertical-align: inherit;">è€Œä¸”å®ƒæ²¡æœ‰é€»è¾‘å€¼ï¼Œè€Œæ˜¯ç”¨æˆ·è¾“å…¥çš„å­—ç¬¦ä¸²ã€‚</font><font style="vertical-align: inherit;">é€šè¿‡å…³é—­ï¼Œå…¶ä»·å€¼å¾—ä»¥è§£å†³ã€‚</font><font style="vertical-align: inherit;">å¹¶ä¸”åªæœ‰åœ¨æŒ‰ä¸‹ç¡®è®¤æŒ‰é’®æ—¶ï¼ˆä»è¾“å…¥å­—æ®µï¼‰æ‰ä¸ºå…¶åˆ†é…ä¸€ä¸ªå€¼ã€‚</font><font style="vertical-align: inherit;">é¡ºä¾¿è¯´ä¸€å¥ï¼Œæˆ‘åœ¨è¿™é‡Œæµªè´¹äº†å¦ä¸€ä¸ªå…¨å±€å˜é‡PromisePromptInputï¼Œä»…ç”¨äºé€Ÿè®°ä»£ç å’Œæ›¿ä»£ä»£ç ã€‚</font><font style="vertical-align: inherit;">æœ‰äº†å®ƒï¼Œæˆ‘å°±è®¾ç½®äº†è¾“å…¥ç„¦ç‚¹ï¼ˆå°½ç®¡å®ƒå¯ä»¥ç”¨ä¸€ç§æ–¹æ³•æ¥å®Œæˆï¼Œæ—¢å¯ä»¥ç”¨ç›¸åŒçš„æ–¹å¼ï¼Œä¹Ÿå¯ä»¥ç”¨è·å–å€¼çš„æ–¹å¼æ¥å®Œæˆï¼‰ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ‚¨å¯ä»¥åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™é‡Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å°è¯•è¿™ç§æ–¹æ³•</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">è¯¥ä»£ç ä½äº</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é“¾æ¥ä¸Š</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çœ‹èµ·æ¥åƒè¿™æ ·ï¼ˆå°½ç®¡ä¸Šé¢çš„é“¾æ¥æ›´åŠ å¤šæ ·åŒ–ï¼‰ï¼š</font></font><br>
<img src="https://habrastorage.org/webt/5o/zl/rc/5ozlrc4mvo0cep-tb-lesrsrltk.png" alt="å›¾ç‰‡"><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è‰¾æ»‹ç—…</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®ƒä»¬ä¸æœ¬æ–‡çš„ä¸»é¢˜æ²¡æœ‰ç›´æ¥å…³ç³»ï¼Œä½†æ˜¯å®ƒä»¬æ­ç¤ºäº†è¯¥æ–¹æ³•çš„å…¨éƒ¨çµæ´»æ€§ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
è¿™åŒ…æ‹¬å¼•å¯¼ä¸»é¢˜ã€‚</font><font style="vertical-align: inherit;">æˆ‘åœ¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">è¿™é‡Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ‹æ‘„äº†å…è´¹çš„ä¸»é¢˜</font><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ ¹æ®æµè§ˆå™¨è¯­è¨€ä½¿ç”¨è‡ªåŠ¨å®‰è£…åˆ‡æ¢è¯­è¨€ã€‚</font><font style="vertical-align: inherit;">å…±æœ‰ä¸‰ç§æ¨¡å¼-è‡ªåŠ¨ï¼ˆé€šè¿‡æµè§ˆå™¨ï¼‰ï¼Œä¿„è¯­æˆ–è‹±è¯­ï¼ˆå¼ºåˆ¶ï¼‰ã€‚</font><font style="vertical-align: inherit;">é»˜è®¤æƒ…å†µä¸‹å·²å®‰è£…æœºå™¨ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cookiesï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä»è¿™é‡Œå¼€å§‹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰æˆ‘æ›¾ç»è®°ä½ä¸»é¢˜å’Œè¯­è¨€åˆ‡æ¢ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åªéœ€åœ¨ä¸Šè¿°ç«™ç‚¹ä¸Šå®‰è£…href cssæ®µå³å¯åˆ‡æ¢ä¸»é¢˜ï¼š</font></font><br>
<pre><code class="javascript hljs">    $(<span class="hljs-string">'#themes a.dropdown-item'</span>).on(<span class="hljs-string">'click'</span>, (e) =&gt; {<font></font>
        e.preventDefault();<font></font>
        $(<span class="hljs-string">'#themes a.dropdown-item'</span>).removeClass(<span class="hljs-string">'active'</span>);<font></font>
        e.currentTarget.classList.add(<span class="hljs-string">'active'</span>);
        <span class="hljs-keyword">var</span> cur = e.currentTarget.getAttribute(<span class="hljs-string">'href'</span>);
        <span class="hljs-built_in">document</span>.head.children[<span class="hljs-number">4</span>].href = <span class="hljs-string">'https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/'</span> + cur + <span class="hljs-string">'bootstrap.min.css'</span>;
        <span class="hljs-keyword">var</span> ed = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();<font></font>
        ed.setFullYear(ed.getFullYear() + <span class="hljs-number">1</span>);<font></font>
        setCookie(<span class="hljs-string">'WebApplicationPromiseAlertTheme'</span>, cur, ed);<font></font>
    });<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¥½å§ï¼Œæˆ‘è®°å¾—åœ¨Cookiesä¸­å¯ä»¥åœ¨å¯åŠ¨æ—¶è¿›è¡Œæ¢å¤ï¼š</font></font><br>
<pre><code class="javascript hljs">    <span class="hljs-keyword">var</span> cookie = getCookie(<span class="hljs-string">'WebApplicationPromiseAlertTheme'</span>);
    <span class="hljs-keyword">if</span> (cookie) {<font></font>
        $(<span class="hljs-string">'#themes a.dropdown-item'</span>).removeClass(<span class="hljs-string">'active'</span>);<font></font>
        $(<span class="hljs-string">'#themes a.dropdown-item[href="'</span> + cookie + <span class="hljs-string">'"]'</span>).addClass(<span class="hljs-string">'active'</span>);
        <span class="hljs-built_in">document</span>.head.children[<span class="hljs-number">4</span>].href = <span class="hljs-string">'https://stackpath.bootstrapcdn.com/bootswatch/4.4.1/'</span> + cookie + <span class="hljs-string">'bootstrap.min.css'</span>;<font></font>
    }<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸ºäº†è¿›è¡Œæœ¬åœ°åŒ–ï¼Œæˆ‘ä½¿ç”¨äº†localization.jsonæ–‡ä»¶ï¼Œåœ¨å…¶ä¸­åˆ›å»ºäº†è‹±æ–‡é”®åŠå…¶ä¿„æ–‡å€¼çš„å­—å…¸ã€‚</font><font style="vertical-align: inherit;">ä¸ºäº†ç®€å•èµ·è§ï¼ˆå°½ç®¡æ ‡è®°åœ¨æŸäº›åœ°æ–¹å˜å¾—æ›´åŠ å¤æ‚ï¼‰ï¼Œæˆ‘åœ¨ç¿»è¯‘æ—¶åªæ£€æŸ¥çº¯æ–‡æœ¬èŠ‚ç‚¹ï¼Œè€Œæ˜¯ä»å€¼ä¸­æ›¿æ¢é”®ã€‚</font></font><br>
<pre><code class="javascript hljs">    <span class="hljs-keyword">var</span> translate = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {<font></font>
        $(<span class="hljs-string">'#cultures .dropdown-toggle samp'</span>).text({ <span class="hljs-attr">ru</span>: <span class="hljs-string">'  '</span>, <span class="hljs-attr">en</span>: <span class="hljs-string">' English '</span> }[culture]);
        <span class="hljs-keyword">if</span> (culture == <span class="hljs-string">'ru'</span>) {
            <span class="hljs-keyword">let</span> int;
            <span class="hljs-keyword">if</span> (localization) {
                <span class="hljs-keyword">for</span> (<span class="hljs-keyword">let</span> el <span class="hljs-keyword">of</span> <span class="hljs-built_in">document</span>.all)
                    <span class="hljs-keyword">if</span> (el.childElementCount == <span class="hljs-number">0</span> &amp;&amp; el.textContent) {
                        <span class="hljs-keyword">let</span> text = localization[el.textContent];
                        <span class="hljs-keyword">if</span> (text) el.textContent = text;<font></font>
                    }<font></font>
            }<font></font>
            <span class="hljs-keyword">else</span> int = setInterval(<span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
                <span class="hljs-keyword">if</span> (localization) {<font></font>
                    translate();<font></font>
                    clearInterval(int);<font></font>
                }<font></font>
            }, <span class="hljs-number">100</span>);<font></font>
        }<font></font>
        <span class="hljs-keyword">else</span> location.reload();<font></font>
    };<font></font>
    <span class="hljs-keyword">if</span> (culture == <span class="hljs-string">'ru'</span>) translate();
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å› æ­¤åœ¨ç”Ÿäº§ç¯å¢ƒä¸­åšï¼ˆåœ¨æœåŠ¡å™¨ä¸Šæ›´å¥½ï¼‰å‡ ä¹ä¸æ˜¯ä¸€ä»¶å¥½äº‹ï¼Œä½†æ˜¯åœ¨è¿™é‡Œæˆ‘å¯ä»¥åœ¨å®¢æˆ·ç«¯ä¸Šæ¼”ç¤ºä¸€åˆ‡ã€‚</font><font style="vertical-align: inherit;">æˆ‘ä»…åœ¨ä»ä¿„è¯­æ›´æ”¹ä¸ºè‹±è¯­æ—¶æ‰è®¿é—®æœåŠ¡å™¨-æˆ‘åªæ˜¯é‡è½½äº†åŸå§‹æ ‡è®°ï¼ˆlocation.reloadï¼‰ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åè€…æ˜¯é¢„æœŸçš„ï¼Œonbeforeunloadä¸­çš„æ¶ˆæ¯æ˜¯æ ¹æ®æµè§ˆå™¨ç®—æ³•å‘å‡ºçš„ï¼Œæˆ‘ä»¬çš„ç¡®è®¤ä¸å½±å“æ­¤æ“ä½œã€‚</font><font style="vertical-align: inherit;">åœ¨ä»£ç çš„æœ«å°¾ï¼Œæœ‰æ­¤æ¶ˆæ¯çš„æ³¨é‡Šç‰ˆæœ¬-æ‚¨å¯ä»¥åœ¨è‡ªå·±ä¼ è¾“æ—¶å°è¯•ã€‚</font></font><br>
<pre><code class="javascript hljs">    <span class="hljs-comment">//window.onbeforeunload = function (e) {</span>
    <span class="hljs-comment">//    e.returnValue = 'Do you really want to finish the job?';</span>
    <span class="hljs-comment">//    return e.returnValue;</span>
    <span class="hljs-comment">//};</span>
</code></pre></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN496360/index.html">BFCacheæˆ–There and backã€‚YandexæŠ¥å‘Š</a></li>
<li><a href="../zh-CN496362/index.html">å£ç½©é‡ç½®</a></li>
<li><a href="../zh-CN496366/index.html">Miniseriesï¼šè‡ªå·±åŠ¨æ‰‹çš„ä¸‰å…ƒè®¡ç®—æœº</a></li>
<li><a href="../zh-CN496368/index.html">æ¾³å¤§åˆ©äºšåˆåˆ›å…¬å¸åˆ©ç”¨ç”µå­å’Œç”Ÿç‰©ç»„ä»¶å¼€å‘æ··åˆPC</a></li>
<li><a href="../zh-CN496370/index.html">Cä¸Šèƒœåˆ©çš„å–œæ‚¦å’Œæ‚²å“€ï¼šæˆ‘ä»¬ä½¿ç”¨Haskellä¸Šçš„åŸå‹wcåˆ¶ä½œç³–æœ</a></li>
<li><a href="../zh-CN496376/index.html">å››é‡å¥9ï¼šå¿«æ¿| ç®€æ´æ˜äº†</a></li>
<li><a href="../zh-CN496380/index.html">ä½¿ç”¨VMware vCloud Availabilityè¿›è¡Œç¾éš¾æ¢å¤å’Œè¿ç§»ã€‚ç¬¬2éƒ¨åˆ†</a></li>
<li><a href="../zh-CN496384/index.html">éš”ç¦»çš„ITäººå‘˜ï¼šæ¥è‡ªä¸åŒå›½å®¶çš„ä¸ªäººç»éªŒ</a></li>
<li><a href="../zh-CN496386/index.html">Springçš„ç¬¬ä¸€æ­¥ï¼ŒRest APIï¼Œå°†å‰ç«¯ä¸PUTç»“åˆåœ¨ä¸€èµ·</a></li>
<li><a href="../zh-CN496388/index.html">æ²¡æœ‰å¥åº·çš„äººï¼Œæ²¡æœ‰å¾—åˆ°å……åˆ†çš„æ£€æŸ¥ï¼šå† å¿ƒç—…çš„æ—©æœŸè¯Šæ–­</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>