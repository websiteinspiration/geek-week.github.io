<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🤱🏽 👩🏿‍🎨 🌞 Comment j'ai cessé d'avoir peur et j'ai écrit un robot de jeu 👩🏽‍🚒 🚵🏽 👨‍👧‍👦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ou la bonne vieille programmation dynamique sans ces réseaux de neurones. 
 
 Il y a un an et demi, il m'est arrivé de participer à un concours d'entr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment j'ai cessé d'avoir peur et j'ai écrit un robot de jeu</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501844/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ou la bonne vieille programmation dynamique sans ces réseaux de neurones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a un an et demi, il m'est arrivé de participer à un concours d'entreprise (à des fins de divertissement) en écrivant un bot pour le jeu Lode Runner. Il y a 20 ans, j'ai résolu avec diligence tous les problèmes de programmation dynamique dans le cours correspondant, mais j'ai pratiquement tout oublié et je n'avais aucune expérience en programmation de robots de jeu. Je devais me souvenir de peu de temps, expérimenter en déplacement et marcher indépendamment sur le râteau. Mais, tout d'un coup, tout s'est très bien passé, alors j'ai décidé de systématiser le matériel et de ne pas noyer le lecteur avec matan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/si/m3/xh/sim3xhwo-czkoubvwl8bzasgsdo.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Écran de jeu du serveur de projet Codenjoy</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, nous décrirons </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peu les règles du </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">jeu</font></a><font style="vertical-align: inherit;"> : le joueur se déplace horizontalement le long du sol ou à travers des tuyaux, sait monter et descendre les escaliers, tombe s'il n'y a pas de sol sous lui. Il peut également percer un trou à gauche ou à droite de lui-même, mais toutes les surfaces ne peuvent pas être percées - conditionnellement, un plancher «en bois» est possible, et le béton - non. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les monstres courent après le joueur, tombent dans les trous coupés et y meurent. Mais le plus important, le joueur doit collecter de l'or, pour le premier or collecté, il reçoit 1 point de profit, pour le N-ème, il reçoit N points. Après la mort, le profit total reste, mais pour le premier or, ils donnent à nouveau 1 point. Cela suggère que l'essentiel est de rester en vie aussi longtemps que possible, et de collecter de l'or est en quelque sorte secondaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme il y a des endroits sur la carte que le joueur ne peut pas sortir de lui-même, un suicide gratuit a été introduit dans le jeu, ce qui a placé le joueur au hasard quelque part, mais a en fait interrompu tout le jeu - le suicide n'a pas interrompu la croissance de la valeur de l'or trouvé. </font><font style="vertical-align: inherit;">Mais nous n'abuserons pas de cette fonctionnalité. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les exemples du jeu seront donnés dans un affichage simplifié, qui a été utilisé dans les journaux du programme:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ph/qc/l-/phqcl-lsskypp5r_61w0qphcuoa.png" alt="image"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu de théorie </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour implémenter le bot en utilisant une sorte de mathématiques, nous devons définir une fonction objective qui décrit les réalisations du bot et lui trouver des actions qui le maximisent. </font><font style="vertical-align: inherit;">Par exemple, pour la collecte d'or, nous obtenons +100, pour la mort -100500, donc aucune collecte d'or ne tuera la mort possible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une question distincte, et sur quoi exactement déterminons-nous la fonction objective, c'est-à-dire </font><font style="vertical-align: inherit;">Quel est l'état du jeu? </font><font style="vertical-align: inherit;">Dans le cas le plus simple, les coordonnées du joueur suffisent, mais dans le nôtre tout est beaucoup plus compliqué:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> coordonnées du joueur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les coordonnées de tous les trous percés par tous les joueurs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les coordonnées de tout l'or sur la carte (ou les coordonnées de l'or récemment mangé)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les coordonnées de tous les autres joueurs</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ça a l'air effrayant. </font><font style="vertical-align: inherit;">Par conséquent, simplifions un peu la tâche et jusqu'à ce que nous nous souvenions de l'or que nous mangeons (nous y reviendrons plus tard), nous ne nous souviendrons pas non plus des coordonnées des autres joueurs et monstres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, l'état actuel du jeu est le suivant:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coordonnées du joueur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coordonnées de tous les puits</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les actions des joueurs changent d'état d'une manière compréhensible:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les commandes de mouvement modifient l'une des coordonnées correspondantes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'équipe de creusage de puits ajoute un nouveau puits</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Faire tomber un joueur sans support réduit la coordonnée verticale</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'inaction du joueur debout sur le support ne change pas l'état</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous devons comprendre comment maximiser la fonction elle-même. </font><font style="vertical-align: inherit;">L'une des méthodes classiques vénérables pour calculer le jeu N avance est la programmation dynamique. </font><font style="vertical-align: inherit;">Il est impossible de se passer de formules, je vais donc les donner sous une forme simplifiée. </font><font style="vertical-align: inherit;">Vous devrez d'abord introduire beaucoup de notation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par souci de simplicité, nous conserverons le rapport de temps du mouvement actuel, c.-à-d. </font><font style="vertical-align: inherit;">le mouvement actuel est t = 0. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous dénotons l'état du jeu au cours de t par</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>x</mi><mi>t</mi></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.156ex" height="2.259ex" viewBox="0 -863.1 928.1 972.7" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi>t</mi></msup></math></span></span><script type="math/tex" id="MathJax-Element-1">x^t</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beaucoup de</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x410;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.625ex" height="2.384ex" viewBox="0 -809.3 699.7 1026.6" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo></mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-2"></script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dénotera toutes les actions valides du bot (dans un état spécifique, mais pour plus de simplicité nous n'écrirons pas l'index d'état), via </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x430;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1ex" height="2.384ex" viewBox="0 -809.3 430.6 1026.6" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo></mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-3"></script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous désignons une action spécifique sur le parcours t (nous omettons l'index). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
état</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>x</mi><mi>t</mi></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.156ex" height="2.259ex" viewBox="0 -863.1 928.1 972.7" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi>t</mi></msup></math></span></span><script type="math/tex" id="MathJax-Element-4">x^t</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sous l'influence </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x430;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1ex" height="2.384ex" viewBox="0 -809.3 430.6 1026.6" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo></mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-5"></script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entre en état </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msubsup><mi>x</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.256ex" height="2.759ex" viewBox="0 -970.7 1832.5 1188" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="1140" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msubsup><mi>x</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup></math></span></span><script type="math/tex" id="MathJax-Element-6">x^{t+1}_a</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagner lorsque l'action a est en état</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>x</mi><mi>t</mi></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.156ex" height="2.259ex" viewBox="0 -863.1 928.1 972.7" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi>t</mi></msup></math></span></span><script type="math/tex" id="MathJax-Element-7">x^t</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous le désignons comme </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mi>t</mi></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11ex" height="3.009ex" viewBox="0 -970.7 4736.3 1295.7" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="751" y="0"></use><g transform="translate(1141,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="2069" y="0"></use><g transform="translate(2514,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="1140" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="4346" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>t</mi></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-8">P(x^t, x^{t+1}_a)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Lors du calcul, nous supposons que si nous avons mangé de l'or, alors il est égal à G = 100, s'ils sont morts, alors D = -100500, sinon 0. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mi>t</mi></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.706ex" height="2.759ex" viewBox="0 -863.1 2456.6 1188" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2067" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>t</mi></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-9">F(x^t)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il s'agit de la fonction de gain pour le </font><font style="vertical-align: inherit;">jeu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optimal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'un bot qui est dans l'état x au temps t. </font><font style="vertical-align: inherit;">Il nous suffit ensuite de trouver une action qui maximise</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.934ex" height="2.884ex" viewBox="0 -916.9 2554.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-10">F(x^0)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous écrivons la première formule, qui est très importante et en même temps presque correcte:</font></font><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>max</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mo>&amp;#x2208;</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.972ex" height="4.384ex" viewBox="0 -970.7 13765.5 1887.7" role="img" focusable="false" style="vertical-align: -2.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2832" y="0"></use><g transform="translate(3888,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-61" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-78" x="1334" y="0"></use><g transform="translate(242,-686)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2208" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-41" x="1197" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="5918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="6667" y="0"></use><g transform="translate(7057,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="8104" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="8715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-50" x="9716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="10467" y="0"></use><g transform="translate(10857,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="11883" y="0"></use><g transform="translate(12329,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="13375" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy="false">)</mo><mo>=</mo><munder><mo movablelimits="true" form="prefix">max</mo><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-11">F(x^0) = \max_{a \in A} F(x^1_a) + P(x^0, x^1_a)</script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou pour un moment arbitraire</font></font><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mi>t</mi></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>max</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mo>&amp;#x2208;</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>x</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mi>t</mi></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.164ex" height="4.384ex" viewBox="0 -970.7 15140.1 1887.7" role="img" focusable="false" style="vertical-align: -2.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2734" y="0"></use><g transform="translate(3790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-61" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-78" x="1334" y="0"></use><g transform="translate(242,-686)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2208" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-41" x="1197" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="5819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="6569" y="0"></use><g transform="translate(6958,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="1140" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="8791" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="9403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-50" x="10403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="11155" y="0"></use><g transform="translate(11544,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="12472" y="0"></use><g transform="translate(12918,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="1140" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="14750" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>t</mi></msup><mo stretchy="false">)</mo><mo>=</mo><munder><mo movablelimits="true" form="prefix">max</mo><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>t</mi></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-12">F(x^t) = \max_{a \in A} F(x^{t+1}_a) + P(x^t, x^{t+1}_a)</script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela semble assez maladroit, mais le sens est simple - la solution optimale pour le mouvement actuel consiste en la solution optimale pour le mouvement suivant et le gain dans le mouvement actuel. </font><font style="vertical-align: inherit;">C'est le principe d'optimalité formulé de manière tortueuse par Bellman. </font><font style="vertical-align: inherit;">Nous ne savons rien des valeurs optimales à l'étape 1, mais si nous les connaissions, nous trouverions une action qui maximise la fonction en itérant simplement sur toutes les actions du bot. </font><font style="vertical-align: inherit;">La beauté des relations de récurrence est que nous pouvons trouver</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>1</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.934ex" height="2.884ex" viewBox="0 -916.9 2554.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>1</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-13">F(x^1)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, en lui appliquant le principe d'optimalité, en l'exprimant exactement dans la même formule par </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.934ex" height="2.884ex" viewBox="0 -916.9 2554.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-32" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-14">F(x^2)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nous pouvons également facilement exprimer la fonction de paiement à n'importe quelle étape. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semblerait que le problème soit résolu, mais ici nous sommes confrontés au problème que si à chaque étape nous devions trier 6 actions de joueurs, alors à l'étape N de récursivité nous devions trier 6 ^ N options, qui pour N = 8 est déjà un nombre assez décent ~ 1,6 millions de cas. </font><font style="vertical-align: inherit;">D'un autre côté, nous avons des microprocesseurs gigahertz qui n'ont rien à faire, et il semble qu'ils feront complètement face à la tâche, et nous leur limiterons la profondeur de recherche avec exactement 8 mouvements. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et donc, notre horizon de planification est de 8 mouvements, mais où obtenir les valeurs</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.934ex" height="2.884ex" viewBox="0 -916.9 2554.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-39" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-15">F(x^9)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? </font><font style="vertical-align: inherit;">Et ici, nous venons juste avec l'idée que nous sommes en mesure d'analyser en quelque sorte les perspectives du poste, et de lui attribuer une certaine valeur en fonction de leurs plus hautes considérations. </font><font style="vertical-align: inherit;">Laisser être</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.725ex" height="2.884ex" viewBox="0 -916.9 6339.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-39" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2832" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="3888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="4534" y="0"></use><g transform="translate(4923,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-39" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="5950" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy="false">)</mo><mo>=</mo><mi>S</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-16">F(x^9)=S(x^9)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">où </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.638ex" height="2.634ex" viewBox="0 -809.3 1997 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="1035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="1607" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-17">S(x)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ceci est fonction de la stratégie, dans la version la plus simple, ce n'est qu'une matrice à partir de laquelle nous sélectionnons la valeur en fonction des coordonnées géométriques du bot. </font><font style="vertical-align: inherit;">On peut dire que les 8 premiers coups c'était une tactique, puis la stratégie commence. </font><font style="vertical-align: inherit;">En fait, personne ne nous restreint dans le choix d'une stratégie, et nous y reviendrons plus tard, mais pour l'instant, afin de ne pas devenir comme un hibou d'une anecdote sur les lièvres et les hérissons, passons à la tactique.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schéma général</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et donc, nous avons décidé de l'algorithme. </font><font style="vertical-align: inherit;">À chaque étape, nous résolvons le problème d'optimisation, trouvons l'action optimale pour l'étape, la terminons, après quoi le jeu passe à l'étape suivante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est nécessaire de résoudre un nouveau problème à chaque étape, car à chaque cours du jeu la tâche change un peu, du nouvel or apparaît, quelqu'un mange quelqu'un, les joueurs bougent ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais ne pensez pas que notre ingénieux algorithme peut tout prévoir. </font><font style="vertical-align: inherit;">Après avoir résolu le problème d'optimisation, vous devez absolument ajouter un gestionnaire qui vérifiera les situations désagréables:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bot en place depuis longtemps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marche continue gauche-droite</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manque de revenus trop longtemps</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout cela peut nécessiter un changement radical de stratégie, un suicide ou une autre action en dehors du cadre de l'algorithme d'optimisation. </font><font style="vertical-align: inherit;">La nature de ces situations peut être différente. </font><font style="vertical-align: inherit;">Parfois, les contradictions entre la stratégie et la tactique conduisent au gel du bot en place à un point qui lui semble stratégiquement important, qui a été découvert par d'anciens botanistes appelés Buridanov Donkey. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f84/7ea/8ac/f847ea8acf3e4000f2dff02dc8cd3862.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vos adversaires peuvent geler et fermer votre courte route vers l'or convoité - nous traiterons de tout cela plus tard.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La lutte contre la procrastination</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons le cas simple lorsqu'un or se trouve à droite du bot et qu'il n'y a plus de cellules d'or dans un rayon de 8. </font><font style="vertical-align: inherit;">Quelle étape le bot prendra-t-il, guidé par notre formule? </font><font style="vertical-align: inherit;">En fait - absolument aucun. </font><font style="vertical-align: inherit;">Par exemple, toutes ces solutions donnent exactement le même résultat même pour trois coups:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas à gauche - pas à droite - pas à droite</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pas à droite - inaction - inaction</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inaction - inaction - pas à droite</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les trois options donnent un gain égal à 100, le bot peut choisir l'option avec inaction, à l'étape suivante résoudre à nouveau le même problème, choisir à nouveau l'inaction ... Et rester immobile pour toujours. </font><font style="vertical-align: inherit;">Nous devons modifier la formule de calcul des gains afin de stimuler le bot à agir le plus tôt possible:</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>max</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mo>&amp;#x2208;</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>E</mi><mo>+</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.942ex" height="4.384ex" viewBox="0 -970.7 15474.9 1887.7" role="img" focusable="false" style="vertical-align: -2.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2832" y="0"></use><g transform="translate(3888,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-61" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-78" x="1334" y="0"></use><g transform="translate(242,-686)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2208" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-41" x="1197" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="5918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="6667" y="0"></use><g transform="translate(7057,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="8104" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2217" x="8715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="9438" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="10425" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-50" x="11425" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="12177" y="0"></use><g transform="translate(12566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="13593" y="0"></use><g transform="translate(14038,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="15085" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy="false">)</mo><mo>=</mo><munder><mo movablelimits="true" form="prefix">max</mo><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mo>∈</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>∗</mo><mi>E</mi><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-18">F(x^0) = \max_{a \in A} F(x^1_a)*E + P(x^0, x^1_a)</script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nous avons multiplié le gain futur à l'étape suivante par le «coefficient d'inflation» E, qui doit être choisi inférieur à 1. Nous pouvons expérimenter en toute sécurité avec des valeurs de 0,95 ou 0,9. </font><font style="vertical-align: inherit;">Mais ne le choisissez pas trop petit, par exemple, avec une valeur de E = 0,5, l'or mangé au 8ème coup n'apportera que 0,39 points. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et donc, nous avons redécouvert le principe du «Ne remettez pas à demain ce que vous pouvez manger aujourd'hui».</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sécurité</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Récolter de l'or est certes une bonne chose, mais vous devez toujours penser à la sécurité. </font><font style="vertical-align: inherit;">Nous avons deux tâches:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apprenez au bot à creuser des trous si le monstre est dans une position appropriée</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apprenez au bot à fuir les monstres</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais nous ne disons pas au bot quoi faire, nous définissons la valeur de la fonction de profit et l'algorithme d'optimisation choisira les étapes appropriées. </font><font style="vertical-align: inherit;">Un problème distinct est que nous ne calculons pas exactement où un monstre peut être sur un mouvement particulier. </font><font style="vertical-align: inherit;">Par conséquent, pour simplifier, nous supposons que les monstres sont en place et nous n'avons tout simplement pas besoin de les approcher. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'ils commencent à nous approcher, le bot lui-même commencera à s'enfuir, car il sera condamné à une amende pour être trop proche d'eux (sorte d'auto-isolement). </font><font style="vertical-align: inherit;">Et donc, nous introduisons deux règles:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si nous arrivons au monstre à une distance d et d &lt;= 3, alors une amende de 100 500 * (4-d) / 4 nous est imposée</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si le monstre est venu assez près, est sur la même ligne que nous et qu'il y a un trou entre nous, alors nous obtenons un profit P</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le concept de "approché le monstre à distance d" nous le dévoilerons un peu plus tard, mais pour l'instant, passons à la stratégie.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On fait le tour des graphiques</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mathématiquement, le problème du contournement optimal de l'or est un problème résolu depuis longtemps par un vendeur ambulant, dont la solution n'est pas un plaisir. </font><font style="vertical-align: inherit;">Mais avant de résoudre de tels problèmes, vous devez penser à une question simple - mais comment trouvez-vous la distance entre deux points dans le jeu? </font><font style="vertical-align: inherit;">Ou sous une forme légèrement plus utile: pour un or donné et pour tout point sur la carte, trouvez le nombre minimum de coups pour lesquels le joueur atteindra le point d'or. </font><font style="vertical-align: inherit;">Pendant un certain temps, nous oublierons de creuser des trous et de sauter dedans, nous ne laisserons que des mouvements naturels pour 1 cellule. </font><font style="vertical-align: inherit;">Seulement, nous marcherons dans la direction opposée - de l'or et à travers la carte.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kr/nd/lh/krndlhcc4zf0fqjogygx1plivy0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la première étape, nous sélectionnons toutes les cellules à partir desquelles nous pouvons entrer dans l'or en un seul mouvement et les affectons à 1. Dans la deuxième étape, nous sélectionnons toutes les cellules à partir desquelles nous tombons en une seule étape et les affectons à 2. L'image montre le cas pour 3 étapes. </font><font style="vertical-align: inherit;">Essayons maintenant de tout écrire formellement, sous une forme adaptée à la programmation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous aurons besoin:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La distance du tableau numérique bidimensionnel [x, y], dans laquelle nous allons stocker le résultat. </font><font style="vertical-align: inherit;">Initialement, pour les coordonnées or, il contient 0, pour les points restants -1.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le tableau oldBorder, dans lequel nous allons stocker les points à partir desquels nous nous déplacerons, initialement il a un point avec des coordonnées or</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array newBorder, dans lequel nous allons stocker les points trouvés dans l'étape en cours</font></font></li>
</ul><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour chaque point p de oldBorder, nous trouvons tous les points p_a, à partir desquels nous pouvons atteindre p en une seule étape (plus précisément, nous faisons simplement tous les pas possibles de p dans la direction opposée, par exemple, en volant vers le haut en l'absence de soutien) et la distance [p_a] = - 1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous plaçons chacun de ces points p_a dans le tableau newBorder, à distance [p_a] nous écrivons le nombre d'itérations</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Une fois tous les points terminés:</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Échangez les tableaux de oldBorder et newBorder, après quoi nous effaçons newBorder </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si oldBorder est vide, terminez l'algorithme, sinon passez à l'étape 1.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Même chose en pseudo code:</font></font><br>
<br>
<pre><code class="java hljs">iter=<span class="hljs-number">1</span>;<font></font>
newBorder.clear();<font></font>
distance.fill(-<span class="hljs-number">1</span>);<font></font>
distance[gold]=<span class="hljs-number">0</span>;<font></font>
oldBorder.push(gold);<font></font>
<font></font>
<span class="hljs-keyword">while</span>(oldBorder.isNotEmpty()) {
  <span class="hljs-keyword">for</span> (p: oldBorder){
    <span class="hljs-keyword">for</span> (p_a: backMove(p)) {
      <span class="hljs-keyword">if</span> (distance[p_a]==-<span class="hljs-number">1</span>) {<font></font>
         newBorder.push(p_a);<font></font>
         distance[p_a]=iter;<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
  Swap(newBorder, oldBorder);<font></font>
  newBorder.clear();<font></font>
  iter++;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À la sortie de l'algorithme, nous aurons une carte des distances avec la valeur de la distance de chaque point de l'ensemble du champ du jeu à l'or. De plus, pour les points à partir desquels l'or est inaccessible, la valeur de la distance est -1. Les mathématiciens appellent une telle promenade autour du terrain de jeu (qui forme un graphique avec des sommets aux points du terrain et des bords reliant les sommets accessibles en un seul mouvement) «parcourez le graphique en largeur». Si nous implémentions la récursivité, plutôt que deux tableaux de bordures, cela s'appellerait «faire le tour du graphe en profondeur», mais comme la profondeur peut être assez importante (plusieurs centaines), je vous conseille d'éviter les algorithmes récursifs lors de la traversée des graphes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le véritable algorithme sera un peu plus compliqué en creusant un trou et en y sautant - il s'avère qu'en 4 mouvements, nous déplaçons une cellule latéralement et deux vers le bas (car nous nous déplaçons dans la direction opposée, puis vers le haut), mais une légère modification de l'algorithme résout le problème. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai complété l'image avec des chiffres, y compris en tenant compte du fait de creuser un trou et de sauter dedans: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nm/lw/yu/nmlwyuuy_p9yrkh9eelbiynh1wq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
qu'est-ce que cela nous rappelle? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2d/e5/yh/2de5yhlw5jhji2xr1vx7usqfuoc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'odeur d'or! </font><font style="vertical-align: inherit;">Et notre bot ira pour cette odeur, comme Rocky pour le fromage (mais en même temps, il ne perd pas son cerveau et esquive les monstres, et creuse même des trous pour eux). </font><font style="vertical-align: inherit;">Faisons de lui une simple stratégie gourmande:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour chaque or, nous construisons une carte des distances et trouvons la distance jusqu'au joueur.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Choisissez l'or le plus proche du joueur et prenez sa carte pour calculer la stratégie</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour chaque cellule de la carte, notons d sa distance à l'or, puis la valeur stratégique</font></font><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;><mtr><mtd><mn>0</mn></mtd><mtd><mrow><mtext>&amp;#x434;&amp;#x43B;&amp;#x44F;&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mo>&amp;lt;</mo><mn>0</mn></mrow><mtext>,</mtext></mrow></mtd></mtr><mtr><mtd><msub><mi>G</mi><mi>s</mi></msub><msubsup><mi>E</mi><mi>s</mi><mi>d</mi></msubsup></mtd><mtd><mrow><mtext>&amp;#x434;&amp;#x43B;&amp;#x44F;&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mo>&amp;#x2265;</mo><mn>0</mn></mrow><mtext>&amp;#xA0;</mtext></mrow></mtd></mtr></mtable><mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;></mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.903ex" height="5.884ex" viewBox="0 -1508.9 12013.9 2533.5" role="img" focusable="false" style="vertical-align: -2.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="1035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="1607" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2274" y="0"></use><g transform="translate(3331,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJSZ3-7B"></use><g transform="translate(917,0)"><g transform="translate(-14,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="0" y="571"></use><g transform="translate(0,-672)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1112" y="-213"></use><g transform="translate(1218,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-64" x="1092" y="498"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1044" y="-212"></use></g></g></g><g transform="translate(3447,0)"><g transform="translate(0,571)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text><g transform="translate(438,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g><g transform="translate(868,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g><g transform="translate(1514,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3C" x="801" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="1857" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="3872" y="0"></use></g><g transform="translate(0,-672)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text><g transform="translate(438,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g><g transform="translate(868,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g><g transform="translate(1514,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2265" x="801" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="1857" y="0"></use></g></g></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left left" rowspacing=".2em" columnspacing="1em" displaystyle="false"><mtr><mtd><mn>0</mn></mtd><mtd><mrow><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mi>d</mi><mo>&lt;</mo><mn>0</mn></mrow><mtext>,</mtext></mrow></mtd></mtr><mtr><mtd><msub><mi>G</mi><mi>s</mi></msub><msubsup><mi>E</mi><mi>s</mi><mi>d</mi></msubsup></mtd><mtd><mrow><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mi>d</mi><mo>≥</mo><mn>0</mn></mrow><mtext>&nbsp;</mtext></mrow></mtd></mtr></mtable><mo fence="true" stretchy="true" symmetric="true"></mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-19">S(x) = \begin{cases} 0 & \text{ $d < 0$,}\\ G_s E_s^d & \text{ $d \geq0$ } \end{cases} </script></p> </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Où </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>G</mi><mi>s</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.83ex" height="2.384ex" viewBox="0 -809.3 1218.5 1026.6" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1112" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>G</mi><mi>s</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-20">G_s</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> il s'agit d'une valeur imaginaire de l'or, il est souhaitable qu'il soit évalué plusieurs fois moins que le présent, et </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mi>s</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.719ex" height="2.259ex" viewBox="0 -755.5 1170.5 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1044" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>E</mi><mi>s</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-21">E_s</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il s'agit d'un coefficient d'inflation &lt;1, car plus l'or imaginaire est éloigné, moins il est cher. </font><font style="vertical-align: inherit;">Le rapport des coefficients E et</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mi>s</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.719ex" height="2.259ex" viewBox="0 -755.5 1170.5 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1044" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>E</mi><mi>s</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-22">E_s </script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constitue un problème non résolu du millénaire et laisse place à la créativité. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ne pensez pas que notre bot ira toujours à l'or le plus proche. </font><font style="vertical-align: inherit;">Supposons que nous ayons un or à gauche à une distance de 5 cellules, puis vide, et à droite deux or à une distance de 6 et 7. Étant donné que le véritable or est plus précieux que prévu, le bot ira à droite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de passer à des stratégies plus intéressantes, nous allons apporter une autre amélioration. </font><font style="vertical-align: inherit;">Dans le jeu, la gravité tire le joueur vers le bas et il ne peut que monter les escaliers. </font><font style="vertical-align: inherit;">Ainsi, l'or qui est plus élevé devrait être évalué plus haut. </font><font style="vertical-align: inherit;">Si la hauteur est indiquée à partir de la ligne supérieure, vous pouvez multiplier la valeur de l'or (avec la coordonnée verticale y) par</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msubsup><mi>E</mi><mi>h</mi><mi>y</mi></msubsup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.894ex" height="3.009ex" viewBox="0 -863.1 1246.1 1295.7" role="img" focusable="false" style="vertical-align: -1.005ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-79" x="1092" y="693"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-68" x="1044" y="-463"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msubsup><mi>E</mi><mi>h</mi><mi>y</mi></msubsup></math></span></span><script type="math/tex" id="MathJax-Element-23">E_h^y</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pour le coefficient</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mi>h</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.894ex" height="2.259ex" viewBox="0 -755.5 1246.1 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-68" x="1044" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>E</mi><mi>h</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-24">E_h</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le nouveau terme «taux d'inflation vertical» a été inventé, du moins il n'est pas utilisé par les économistes et reflète bien l'essence.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stratégies compliquées</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec un or trié, vous devez faire quelque chose avec tout l'or, et je ne voudrais pas attirer les mathématiques lourdes. </font><font style="vertical-align: inherit;">Il existe une solution très élégante, simple et incorrecte (au sens strict) - si un or crée un «champ» de valeur autour de lui, ajoutons simplement tous les champs de valeur de toutes les cellules contenant de l'or dans une matrice et utilisons-le comme stratégie. </font><font style="vertical-align: inherit;">Oui, ce n'est pas une solution optimale, mais plusieurs unités d'or à distance moyenne peuvent être plus précieuses qu'une unité proche.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, une nouvelle solution crée de nouveaux problèmes - une nouvelle matrice de valeurs peut contenir des maxima locaux, près desquels il n'y a pas d'or. </font><font style="vertical-align: inherit;">Parce que notre bot peut y entrer et ne veut pas sortir, cela signifie que nous devons ajouter un gestionnaire qui vérifie que le bot est au maximum local de la stratégie et reste en place en fonction des résultats du déplacement. </font><font style="vertical-align: inherit;">Et maintenant, nous avons un outil pour combattre les gels - annulez cette stratégie par N mouvements et revenez temporairement à la stratégie de l'or le plus proche. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est assez drôle de voir comment un bot coincé change de stratégie et commence à descendre en continu, mangeant tout l'or le plus proche, aux étages inférieurs de la carte, le bot reprend ses esprits et essaie de grimper. </font><font style="vertical-align: inherit;">Une sorte de Dr Jekyll et M. Hyde.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La stratégie n'est pas d'accord avec la tactique</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, notre bot arrive à l'or sous le sol: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ta/mq/hz/tamqhzmshgmi7iowod7wn8nqk3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
il tombe déjà dans l'algorithme d'optimisation, il reste à faire 3 pas à droite, à faire un trou à droite et à sauter dedans, puis la gravité fera tout par elle-même. Quelque chose comme ça:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7r/eo/6c/7reo6csaevajx9y2juzo5qaskys.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais le bot se fige sur place. Le débogage a montré qu'il n'y avait pas d'erreur: le bot a décidé que la stratégie optimale était d'attendre un mouvement, puis de suivre l'itinéraire spécifié et de prendre de l'or à la dernière étape analysée. Dans le premier cas, il reçoit un gain de l'or reçu et un gain de l'or imaginaire (lors de la dernière itération analysée, il se trouve juste dans la cellule où se trouvait l'or), et dans le second - uniquement de l'or réel (bien qu'un tour plus tôt), mais le gain il n'y a plus de stratégie, car la place sous l'or est pourrie et peu prometteuse. Eh bien, au prochain coup, il décide à nouveau de faire une pause d'un coup, nous avons déjà réglé ces problèmes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai dû modifier la stratégie - puisque nous avons mémorisé tout l'or qui a été mangé au stade de l'analyse, en soustrayant les cartes de valeur de l'or mangé de la matrice totale de valeur stratégique, ainsi, la stratégie a pris en compte la réalisation de tactiques (il était possible de calculer la valeur différemment - en ajoutant des matrices uniquement pour or entier, mais c'est plus compliqué sur le plan informatique, car il y a beaucoup plus d'or sur la carte que nous ne pouvons en manger en 8 coups).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais cela n'a pas mis fin à nos tourments. </font><font style="vertical-align: inherit;">Supposons que la matrice de valeur stratégique ait un maximum local et que le bot s'en soit approché pendant 7 mouvements. </font><font style="vertical-align: inherit;">Le bot va-t-il y geler? </font><font style="vertical-align: inherit;">Non, car pour toute route dans laquelle le bot atteint le maximum local en 8 coups, la victoire sera la même. </font><font style="vertical-align: inherit;">Bonne vieille procrastination. </font><font style="vertical-align: inherit;">La raison en est que le gain stratégique ne dépend pas du moment où nous nous trouvons dans la cellule. </font><font style="vertical-align: inherit;">La première chose qui vient à l'esprit est d'amender le bot pour un simple, mais cela n'aide en rien de marcher insensé à gauche / à droite. </font><font style="vertical-align: inherit;">Il est nécessaire de traiter la cause profonde - de prendre en compte le gain stratégique à chaque tour (comme la différence entre la valeur stratégique des états nouveaux et actuels), en la réduisant au fil du temps d'un facteur.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceux. </font><font style="vertical-align: inherit;">introduire un terme supplémentaire dans l'expression pour gagner:</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2013;</mo><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo><mo>.</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.284ex" height="3.009ex" viewBox="-38.5 -970.7 18205.6 1295.7" role="img" focusable="false" style="vertical-align: -0.755ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-70" x="0" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-65" x="600" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-77" x="1067" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="1864" y="0"></use><g transform="translate(2254,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="3280" y="0"></use><g transform="translate(3725,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="4772" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="5439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-70" x="6496" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="6999" y="0"></use><g transform="translate(7389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="8415" y="0"></use><g transform="translate(8860,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="9907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="10519" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="11520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="11909" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="12555" y="0"></use><g transform="translate(12944,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="13991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2013" x="14381" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="15048" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="15693" y="0"></use><g transform="translate(16083,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="17109" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="17499" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2E" x="17888" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>p</mi><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>–</mo><mi>S</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>.</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-25">p_{new}(x^0,x^1_a) = p(x^0,x^1_a) + (S(x^1_a) – S(x^0)). </script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la valeur de la fonction objectif sur ce dernier est généralement considérée comme nulle: </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.195ex" height="2.884ex" viewBox="0 -916.9 4389.5 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-39" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2832" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="3888" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-26">F(x^9) =0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Étant donné que le gain est amorti à chaque mouvement en multipliant par un coefficient, cela fera gagner un gain stratégique plus rapide à notre bot et éliminera le problème observé.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Stratégie non testée</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je n'ai pas testé cette stratégie dans la pratique, mais elle semble prometteuse. </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puisque nous connaissons toutes les distances entre les points d'or et les distances entre l'or et le joueur, nous pouvons trouver la chaîne joueur-N de cellules d'or (où N est petit, par exemple 5 ou 6) avec la plus courte longueur. </font><font style="vertical-align: inherit;">Même la recherche de temps la plus simple suffit.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sélectionnez le premier or de cette chaîne et utilisez son champ de valeur comme matrice de stratégie. </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, il est souhaitable de rapprocher le coût du réel et le coût de l'or imaginaire afin que le bot ne se précipite pas dans le sous-sol vers l'or le plus proche.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Améliorations finales</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Après avoir appris à "s'étendre" sur la carte, faisons une "propagation" similaire de chaque monstre pour plusieurs mouvements et trouvons toutes les cellules dans lesquelles le monstre peut se retrouver, ainsi que le nombre de mouvements pour lesquels il le fera. </font><font style="vertical-align: inherit;">Cela permettra au joueur de ramper à travers le tuyau au-dessus de la tête du monstre en toute sécurité. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et le dernier moment - lors du calcul de la stratégie et de la valeur imaginaire de l'or, nous n'avons pas pris en compte la position des autres joueurs, simplement en les «effaçant» lors de l'analyse de la carte. </font><font style="vertical-align: inherit;">Il s'avère que des obus suspendus individuels peuvent bloquer l'accès à des régions entières, donc un gestionnaire supplémentaire a été ajouté - pour suivre les adversaires gelés et les remplacer par des blocs de béton pendant l'analyse.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Caractéristiques d'implémentation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Étant donné que l'algorithme principal est récursif, nous devons être en mesure de changer rapidement les objets d'état et de les remettre à leur origine pour une modification ultérieure. </font><font style="vertical-align: inherit;">J'ai utilisé java, un langage avec garbage collection, essayer des millions de changements liés à la création d'objets de courte durée peut provoquer plusieurs garbage collections en un tour de jeu, ce qui peut être fatal en termes de vitesse. </font><font style="vertical-align: inherit;">Par conséquent, il faut être extrêmement prudent dans les structures de données utilisées, je n'ai utilisé que des tableaux et des listes. </font><font style="vertical-align: inherit;">Eh bien, ou utilisez le projet Valgala à vos risques et périls :)</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code source et serveur de jeux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code source peut être trouvé ici </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur le github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ne jugez pas strictement, beaucoup a été fait à la hâte. </font><font style="vertical-align: inherit;">Le serveur de jeu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">codenjoy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fournira l'infrastructure pour lancer des bots et surveiller le jeu. </font><font style="vertical-align: inherit;">Au moment de la création, la révision était pertinente, la révision 1.0.26 a été utilisée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez démarrer le serveur avec la ligne suivante:</font></font><br>
<br>
<pre><code class="bash hljs">call mvn -DMAVEN_OPTS=-Xmx1024m -Dmaven.test.skip=<span class="hljs-literal">true</span> clean jetty:run-war -Dcontext=another-context -Ploderunner
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le projet lui-même est extrêmement curieux, propose des jeux pour tous les goûts.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez lu tout cela jusqu'au bout sans préparation préalable et tout compris, alors vous êtes un type rare.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr501824/index.html">Se préparer pour un hackathon à la maison</a></li>
<li><a href="../fr501826/index.html">À propos des fondateurs ambitieux ou comment j'ai essayé de collecter des investissements pour une startup</a></li>
<li><a href="../fr501828/index.html">Unreal Engine 5 place la barre pour le réalisme du jeu</a></li>
<li><a href="../fr501830/index.html">Nous portons le projet Angular sur ESLint, avec Prettier, Husky et lint-staged</a></li>
<li><a href="../fr501834/index.html">Présentation des scanners 3D Creaform Metrascan</a></li>
<li><a href="../fr501846/index.html">Comment choisir un système de vidéosurveillance</a></li>
<li><a href="../fr501848/index.html">J'explique la réservation dans le data center sur la bière</a></li>
<li><a href="../fr501850/index.html">Nous démontons l'algorithme EM en petites briques</a></li>
<li><a href="../fr501854/index.html">Comment quitter la programmation et commencer à jouer</a></li>
<li><a href="../fr501856/index.html">Tarantool: Look Analyst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>