<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ¤±ğŸ½ ğŸ‘©ğŸ¿â€ğŸ¨ ğŸŒ Comment j'ai cessÃ© d'avoir peur et j'ai Ã©crit un robot de jeu ğŸ‘©ğŸ½â€ğŸš’ ğŸšµğŸ½ ğŸ‘¨â€ğŸ‘§â€ğŸ‘¦</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ou la bonne vieille programmation dynamique sans ces rÃ©seaux de neurones. 
 
 Il y a un an et demi, il m'est arrivÃ© de participer Ã  un concours d'entr...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Comment j'ai cessÃ© d'avoir peur et j'ai Ã©crit un robot de jeu</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501844/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ou la bonne vieille programmation dynamique sans ces rÃ©seaux de neurones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a un an et demi, il m'est arrivÃ© de participer Ã  un concours d'entreprise (Ã  des fins de divertissement) en Ã©crivant un bot pour le jeu Lode Runner. Il y a 20 ans, j'ai rÃ©solu avec diligence tous les problÃ¨mes de programmation dynamique dans le cours correspondant, mais j'ai pratiquement tout oubliÃ© et je n'avais aucune expÃ©rience en programmation de robots de jeu. Je devais me souvenir de peu de temps, expÃ©rimenter en dÃ©placement et marcher indÃ©pendamment sur le rÃ¢teau. Mais, tout d'un coup, tout s'est trÃ¨s bien passÃ©, alors j'ai dÃ©cidÃ© de systÃ©matiser le matÃ©riel et de ne pas noyer le lecteur avec matan. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/si/m3/xh/sim3xhwo-czkoubvwl8bzasgsdo.png" alt="image"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ã‰cran de jeu du serveur de projet Codenjoy</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour commencer, nous dÃ©crirons </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> peu les rÃ¨gles du </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">jeu</font></a><font style="vertical-align: inherit;"> : le joueur se dÃ©place horizontalement le long du sol ou Ã  travers des tuyaux, sait monter et descendre les escaliers, tombe s'il n'y a pas de sol sous lui. Il peut Ã©galement percer un trou Ã  gauche ou Ã  droite de lui-mÃªme, mais toutes les surfaces ne peuvent pas Ãªtre percÃ©es - conditionnellement, un plancher Â«en boisÂ» est possible, et le bÃ©ton - non. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les monstres courent aprÃ¨s le joueur, tombent dans les trous coupÃ©s et y meurent. Mais le plus important, le joueur doit collecter de l'or, pour le premier or collectÃ©, il reÃ§oit 1 point de profit, pour le N-Ã¨me, il reÃ§oit N points. AprÃ¨s la mort, le profit total reste, mais pour le premier or, ils donnent Ã  nouveau 1 point. Cela suggÃ¨re que l'essentiel est de rester en vie aussi longtemps que possible, et de collecter de l'or est en quelque sorte secondaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme il y a des endroits sur la carte que le joueur ne peut pas sortir de lui-mÃªme, un suicide gratuit a Ã©tÃ© introduit dans le jeu, ce qui a placÃ© le joueur au hasard quelque part, mais a en fait interrompu tout le jeu - le suicide n'a pas interrompu la croissance de la valeur de l'or trouvÃ©. </font><font style="vertical-align: inherit;">Mais nous n'abuserons pas de cette fonctionnalitÃ©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tous les exemples du jeu seront donnÃ©s dans un affichage simplifiÃ©, qui a Ã©tÃ© utilisÃ© dans les journaux du programme:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ph/qc/l-/phqcl-lsskypp5r_61w0qphcuoa.png" alt="image"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Un peu de thÃ©orie </font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour implÃ©menter le bot en utilisant une sorte de mathÃ©matiques, nous devons dÃ©finir une fonction objective qui dÃ©crit les rÃ©alisations du bot et lui trouver des actions qui le maximisent. </font><font style="vertical-align: inherit;">Par exemple, pour la collecte d'or, nous obtenons +100, pour la mort -100500, donc aucune collecte d'or ne tuera la mort possible. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une question distincte, et sur quoi exactement dÃ©terminons-nous la fonction objective, c'est-Ã -dire </font><font style="vertical-align: inherit;">Quel est l'Ã©tat du jeu? </font><font style="vertical-align: inherit;">Dans le cas le plus simple, les coordonnÃ©es du joueur suffisent, mais dans le nÃ´tre tout est beaucoup plus compliquÃ©:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> coordonnÃ©es du joueur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les coordonnÃ©es de tous les trous percÃ©s par tous les joueurs</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les coordonnÃ©es de tout l'or sur la carte (ou les coordonnÃ©es de l'or rÃ©cemment mangÃ©)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> les coordonnÃ©es de tous les autres joueurs</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã‡a a l'air effrayant. </font><font style="vertical-align: inherit;">Par consÃ©quent, simplifions un peu la tÃ¢che et jusqu'Ã  ce que nous nous souvenions de l'or que nous mangeons (nous y reviendrons plus tard), nous ne nous souviendrons pas non plus des coordonnÃ©es des autres joueurs et monstres. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ainsi, l'Ã©tat actuel du jeu est le suivant:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coordonnÃ©es du joueur</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">coordonnÃ©es de tous les puits</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les actions des joueurs changent d'Ã©tat d'une maniÃ¨re comprÃ©hensible:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Les commandes de mouvement modifient l'une des coordonnÃ©es correspondantes</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'Ã©quipe de creusage de puits ajoute un nouveau puits</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Faire tomber un joueur sans support rÃ©duit la coordonnÃ©e verticale</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> L'inaction du joueur debout sur le support ne change pas l'Ã©tat</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous devons comprendre comment maximiser la fonction elle-mÃªme. </font><font style="vertical-align: inherit;">L'une des mÃ©thodes classiques vÃ©nÃ©rables pour calculer le jeu N avance est la programmation dynamique. </font><font style="vertical-align: inherit;">Il est impossible de se passer de formules, je vais donc les donner sous une forme simplifiÃ©e. </font><font style="vertical-align: inherit;">Vous devrez d'abord introduire beaucoup de notation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par souci de simplicitÃ©, nous conserverons le rapport de temps du mouvement actuel, c.-Ã -d. </font><font style="vertical-align: inherit;">le mouvement actuel est t = 0. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous dÃ©notons l'Ã©tat du jeu au cours de t par</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-1-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>x</mi><mi>t</mi></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.156ex" height="2.259ex" viewBox="0 -863.1 928.1 972.7" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi>t</mi></msup></math></span></span><script type="math/tex" id="MathJax-Element-1">x^t</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beaucoup de</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-2-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x410;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1.625ex" height="2.384ex" viewBox="0 -809.3 699.7 1026.6" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo></mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-2"></script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dÃ©notera toutes les actions valides du bot (dans un Ã©tat spÃ©cifique, mais pour plus de simplicitÃ© nous n'Ã©crirons pas l'index d'Ã©tat), via </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-3-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x430;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1ex" height="2.384ex" viewBox="0 -809.3 430.6 1026.6" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo></mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-3"></script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nous dÃ©signons une action spÃ©cifique sur le parcours t (nous omettons l'index). </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã©tat</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-4-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>x</mi><mi>t</mi></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.156ex" height="2.259ex" viewBox="0 -863.1 928.1 972.7" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi>t</mi></msup></math></span></span><script type="math/tex" id="MathJax-Element-4">x^t</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sous l'influence </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-5-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mo>&amp;#x430;</mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="1ex" height="2.384ex" viewBox="0 -809.3 430.6 1026.6" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mrow class="MJX-TeXAtom-ORD"><mo></mo></mrow></math></span></span><script type="math/tex" id="MathJax-Element-5"></script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> entre en Ã©tat </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-6-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msubsup><mi>x</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.256ex" height="2.759ex" viewBox="0 -970.7 1832.5 1188" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="1140" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msubsup><mi>x</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup></math></span></span><script type="math/tex" id="MathJax-Element-6">x^{t+1}_a</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gagner lorsque l'action a est en Ã©tat</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-7-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msup><mi>x</mi><mi>t</mi></msup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.156ex" height="2.259ex" viewBox="0 -863.1 928.1 972.7" role="img" focusable="false" style="vertical-align: -0.255ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msup><mi>x</mi><mi>t</mi></msup></math></span></span><script type="math/tex" id="MathJax-Element-7">x^t</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nous le dÃ©signons comme </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-8-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mi>t</mi></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="11ex" height="3.009ex" viewBox="0 -970.7 4736.3 1295.7" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-50" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="751" y="0"></use><g transform="translate(1141,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="2069" y="0"></use><g transform="translate(2514,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="1140" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="4346" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>P</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>t</mi></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-8">P(x^t, x^{t+1}_a)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Lors du calcul, nous supposons que si nous avons mangÃ© de l'or, alors il est Ã©gal Ã  G = 100, s'ils sont morts, alors D = -100500, sinon 0. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Soit</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-9-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mi>t</mi></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.706ex" height="2.759ex" viewBox="0 -863.1 2456.6 1188" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2067" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>t</mi></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-9">F(x^t)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il s'agit de la fonction de gain pour le </font><font style="vertical-align: inherit;">jeu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">optimal</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d'un bot qui est dans l'Ã©tat x au temps t. </font><font style="vertical-align: inherit;">Il nous suffit ensuite de trouver une action qui maximise</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-10-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.934ex" height="2.884ex" viewBox="0 -916.9 2554.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-10">F(x^0)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Maintenant, nous Ã©crivons la premiÃ¨re formule, qui est trÃ¨s importante et en mÃªme temps presque correcte:</font></font><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-11-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>max</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mo>&amp;#x2208;</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="31.972ex" height="4.384ex" viewBox="0 -970.7 13765.5 1887.7" role="img" focusable="false" style="vertical-align: -2.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2832" y="0"></use><g transform="translate(3888,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-61" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-78" x="1334" y="0"></use><g transform="translate(242,-686)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2208" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-41" x="1197" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="5918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="6667" y="0"></use><g transform="translate(7057,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="8104" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="8715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-50" x="9716" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="10467" y="0"></use><g transform="translate(10857,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="11883" y="0"></use><g transform="translate(12329,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="13375" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy="false">)</mo><mo>=</mo><munder><mo movablelimits="true" form="prefix">max</mo><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mo>âˆˆ</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-11">F(x^0) = \max_{a \in A} F(x^1_a) + P(x^0, x^1_a)</script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou pour un moment arbitraire</font></font><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-12-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mi>t</mi></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>max</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mo>&amp;#x2208;</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>x</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mi>t</mi></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.164ex" height="4.384ex" viewBox="0 -970.7 15140.1 1887.7" role="img" focusable="false" style="vertical-align: -2.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2067" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2734" y="0"></use><g transform="translate(3790,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-61" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-78" x="1334" y="0"></use><g transform="translate(242,-686)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2208" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-41" x="1197" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="5819" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="6569" y="0"></use><g transform="translate(6958,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="1140" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="8791" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="9403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-50" x="10403" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="11155" y="0"></use><g transform="translate(11544,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="12472" y="0"></use><g transform="translate(12918,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><g transform="translate(572,403)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-74" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="361" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="1140" y="0"></use></g><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="14750" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>t</mi></msup><mo stretchy="false">)</mo><mo>=</mo><munder><mo movablelimits="true" form="prefix">max</mo><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mo>âˆˆ</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">)</mo><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mi>t</mi></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mrow class="MJX-TeXAtom-ORD"><mi>t</mi><mo>+</mo><mn>1</mn></mrow></msubsup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-12">F(x^t) = \max_{a \in A} F(x^{t+1}_a) + P(x^t, x^{t+1}_a)</script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cela semble assez maladroit, mais le sens est simple - la solution optimale pour le mouvement actuel consiste en la solution optimale pour le mouvement suivant et le gain dans le mouvement actuel. </font><font style="vertical-align: inherit;">C'est le principe d'optimalitÃ© formulÃ© de maniÃ¨re tortueuse par Bellman. </font><font style="vertical-align: inherit;">Nous ne savons rien des valeurs optimales Ã  l'Ã©tape 1, mais si nous les connaissions, nous trouverions une action qui maximise la fonction en itÃ©rant simplement sur toutes les actions du bot. </font><font style="vertical-align: inherit;">La beautÃ© des relations de rÃ©currence est que nous pouvons trouver</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-13-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>1</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.934ex" height="2.884ex" viewBox="0 -916.9 2554.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>1</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-13">F(x^1)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, en lui appliquant le principe d'optimalitÃ©, en l'exprimant exactement dans la mÃªme formule par </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-14-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>2</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.934ex" height="2.884ex" viewBox="0 -916.9 2554.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-32" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>2</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-14">F(x^2)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Nous pouvons Ã©galement facilement exprimer la fonction de paiement Ã  n'importe quelle Ã©tape. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il semblerait que le problÃ¨me soit rÃ©solu, mais ici nous sommes confrontÃ©s au problÃ¨me que si Ã  chaque Ã©tape nous devions trier 6 actions de joueurs, alors Ã  l'Ã©tape N de rÃ©cursivitÃ© nous devions trier 6 ^ N options, qui pour N = 8 est dÃ©jÃ  un nombre assez dÃ©cent ~ 1,6 millions de cas. </font><font style="vertical-align: inherit;">D'un autre cÃ´tÃ©, nous avons des microprocesseurs gigahertz qui n'ont rien Ã  faire, et il semble qu'ils feront complÃ¨tement face Ã  la tÃ¢che, et nous leur limiterons la profondeur de recherche avec exactement 8 mouvements. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et donc, notre horizon de planification est de 8 mouvements, mais oÃ¹ obtenir les valeurs</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-15-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="5.934ex" height="2.884ex" viewBox="0 -916.9 2554.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-39" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-15">F(x^9)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">? </font><font style="vertical-align: inherit;">Et ici, nous venons juste avec l'idÃ©e que nous sommes en mesure d'analyser en quelque sorte les perspectives du poste, et de lui attribuer une certaine valeur en fonction de leurs plus hautes considÃ©rations. </font><font style="vertical-align: inherit;">Laisser Ãªtre</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-16-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="14.725ex" height="2.884ex" viewBox="0 -916.9 6339.9 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-39" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2832" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="3888" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="4534" y="0"></use><g transform="translate(4923,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-39" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="5950" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy="false">)</mo><mo>=</mo><mi>S</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-16">F(x^9)=S(x^9)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">oÃ¹ </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-17-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="4.638ex" height="2.634ex" viewBox="0 -809.3 1997 1134.2" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="1035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="1607" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></math></span></span><script type="math/tex" id="MathJax-Element-17">S(x)</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ceci est fonction de la stratÃ©gie, dans la version la plus simple, ce n'est qu'une matrice Ã  partir de laquelle nous sÃ©lectionnons la valeur en fonction des coordonnÃ©es gÃ©omÃ©triques du bot. </font><font style="vertical-align: inherit;">On peut dire que les 8 premiers coups c'Ã©tait une tactique, puis la stratÃ©gie commence. </font><font style="vertical-align: inherit;">En fait, personne ne nous restreint dans le choix d'une stratÃ©gie, et nous y reviendrons plus tard, mais pour l'instant, afin de ne pas devenir comme un hibou d'une anecdote sur les liÃ¨vres et les hÃ©rissons, passons Ã  la tactique.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SchÃ©ma gÃ©nÃ©ral</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et donc, nous avons dÃ©cidÃ© de l'algorithme. </font><font style="vertical-align: inherit;">Ã€ chaque Ã©tape, nous rÃ©solvons le problÃ¨me d'optimisation, trouvons l'action optimale pour l'Ã©tape, la terminons, aprÃ¨s quoi le jeu passe Ã  l'Ã©tape suivante. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il est nÃ©cessaire de rÃ©soudre un nouveau problÃ¨me Ã  chaque Ã©tape, car Ã  chaque cours du jeu la tÃ¢che change un peu, du nouvel or apparaÃ®t, quelqu'un mange quelqu'un, les joueurs bougent ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais ne pensez pas que notre ingÃ©nieux algorithme peut tout prÃ©voir. </font><font style="vertical-align: inherit;">AprÃ¨s avoir rÃ©solu le problÃ¨me d'optimisation, vous devez absolument ajouter un gestionnaire qui vÃ©rifiera les situations dÃ©sagrÃ©ables:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bot en place depuis longtemps</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marche continue gauche-droite</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manque de revenus trop longtemps</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout cela peut nÃ©cessiter un changement radical de stratÃ©gie, un suicide ou une autre action en dehors du cadre de l'algorithme d'optimisation. </font><font style="vertical-align: inherit;">La nature de ces situations peut Ãªtre diffÃ©rente. </font><font style="vertical-align: inherit;">Parfois, les contradictions entre la stratÃ©gie et la tactique conduisent au gel du bot en place Ã  un point qui lui semble stratÃ©giquement important, qui a Ã©tÃ© dÃ©couvert par d'anciens botanistes appelÃ©s Buridanov Donkey. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/f84/7ea/8ac/f847ea8acf3e4000f2dff02dc8cd3862.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vos adversaires peuvent geler et fermer votre courte route vers l'or convoitÃ© - nous traiterons de tout cela plus tard.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La lutte contre la procrastination</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons le cas simple lorsqu'un or se trouve Ã  droite du bot et qu'il n'y a plus de cellules d'or dans un rayon de 8. </font><font style="vertical-align: inherit;">Quelle Ã©tape le bot prendra-t-il, guidÃ© par notre formule? </font><font style="vertical-align: inherit;">En fait - absolument aucun. </font><font style="vertical-align: inherit;">Par exemple, toutes ces solutions donnent exactement le mÃªme rÃ©sultat mÃªme pour trois coups:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pas Ã  gauche - pas Ã  droite - pas Ã  droite</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pas Ã  droite - inaction - inaction</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> inaction - inaction - pas Ã  droite</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les trois options donnent un gain Ã©gal Ã  100, le bot peut choisir l'option avec inaction, Ã  l'Ã©tape suivante rÃ©soudre Ã  nouveau le mÃªme problÃ¨me, choisir Ã  nouveau l'inaction ... Et rester immobile pour toujours. </font><font style="vertical-align: inherit;">Nous devons modifier la formule de calcul des gains afin de stimuler le bot Ã  agir le plus tÃ´t possible:</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-18-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><munder><mo movablelimits=&quot;true&quot; form=&quot;prefix&quot;>max</mo><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>a</mi><mo>&amp;#x2208;</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2217;</mo><mi>E</mi><mo>+</mo><mi>P</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="35.942ex" height="4.384ex" viewBox="0 -970.7 15474.9 1887.7" role="img" focusable="false" style="vertical-align: -2.13ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2832" y="0"></use><g transform="translate(3888,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-6D"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-61" x="833" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-78" x="1334" y="0"></use><g transform="translate(242,-686)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2208" x="529" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-41" x="1197" y="0"></use></g></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="5918" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="6667" y="0"></use><g transform="translate(7057,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="8104" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2217" x="8715" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="9438" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="10425" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-50" x="11425" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="12177" y="0"></use><g transform="translate(12566,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="13593" y="0"></use><g transform="translate(14038,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="15085" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy="false">)</mo><mo>=</mo><munder><mo movablelimits="true" form="prefix">max</mo><mrow class="MJX-TeXAtom-ORD"><mi>a</mi><mo>âˆˆ</mo><mi>A</mi></mrow></munder><mi>F</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>âˆ—</mo><mi>E</mi><mo>+</mo><mi>P</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-18">F(x^0) = \max_{a \in A} F(x^1_a)*E + P(x^0, x^1_a)</script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
nous avons multipliÃ© le gain futur Ã  l'Ã©tape suivante par le Â«coefficient d'inflationÂ» E, qui doit Ãªtre choisi infÃ©rieur Ã  1. Nous pouvons expÃ©rimenter en toute sÃ©curitÃ© avec des valeurs de 0,95 ou 0,9. </font><font style="vertical-align: inherit;">Mais ne le choisissez pas trop petit, par exemple, avec une valeur de E = 0,5, l'or mangÃ© au 8Ã¨me coup n'apportera que 0,39 points. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et donc, nous avons redÃ©couvert le principe du Â«Ne remettez pas Ã  demain ce que vous pouvez manger aujourd'huiÂ».</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sÃ©curitÃ©</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RÃ©colter de l'or est certes une bonne chose, mais vous devez toujours penser Ã  la sÃ©curitÃ©. </font><font style="vertical-align: inherit;">Nous avons deux tÃ¢ches:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apprenez au bot Ã  creuser des trous si le monstre est dans une position appropriÃ©e</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apprenez au bot Ã  fuir les monstres</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais nous ne disons pas au bot quoi faire, nous dÃ©finissons la valeur de la fonction de profit et l'algorithme d'optimisation choisira les Ã©tapes appropriÃ©es. </font><font style="vertical-align: inherit;">Un problÃ¨me distinct est que nous ne calculons pas exactement oÃ¹ un monstre peut Ãªtre sur un mouvement particulier. </font><font style="vertical-align: inherit;">Par consÃ©quent, pour simplifier, nous supposons que les monstres sont en place et nous n'avons tout simplement pas besoin de les approcher. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
S'ils commencent Ã  nous approcher, le bot lui-mÃªme commencera Ã  s'enfuir, car il sera condamnÃ© Ã  une amende pour Ãªtre trop proche d'eux (sorte d'auto-isolement). </font><font style="vertical-align: inherit;">Et donc, nous introduisons deux rÃ¨gles:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si nous arrivons au monstre Ã  une distance d et d &lt;= 3, alors une amende de 100 500 * (4-d) / 4 nous est imposÃ©e</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si le monstre est venu assez prÃ¨s, est sur la mÃªme ligne que nous et qu'il y a un trou entre nous, alors nous obtenons un profit P</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le concept de "approchÃ© le monstre Ã  distance d" nous le dÃ©voilerons un peu plus tard, mais pour l'instant, passons Ã  la stratÃ©gie.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">On fait le tour des graphiques</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MathÃ©matiquement, le problÃ¨me du contournement optimal de l'or est un problÃ¨me rÃ©solu depuis longtemps par un vendeur ambulant, dont la solution n'est pas un plaisir. </font><font style="vertical-align: inherit;">Mais avant de rÃ©soudre de tels problÃ¨mes, vous devez penser Ã  une question simple - mais comment trouvez-vous la distance entre deux points dans le jeu? </font><font style="vertical-align: inherit;">Ou sous une forme lÃ©gÃ¨rement plus utile: pour un or donnÃ© et pour tout point sur la carte, trouvez le nombre minimum de coups pour lesquels le joueur atteindra le point d'or. </font><font style="vertical-align: inherit;">Pendant un certain temps, nous oublierons de creuser des trous et de sauter dedans, nous ne laisserons que des mouvements naturels pour 1 cellule. </font><font style="vertical-align: inherit;">Seulement, nous marcherons dans la direction opposÃ©e - de l'or et Ã  travers la carte.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kr/nd/lh/krndlhcc4zf0fqjogygx1plivy0.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans la premiÃ¨re Ã©tape, nous sÃ©lectionnons toutes les cellules Ã  partir desquelles nous pouvons entrer dans l'or en un seul mouvement et les affectons Ã  1. Dans la deuxiÃ¨me Ã©tape, nous sÃ©lectionnons toutes les cellules Ã  partir desquelles nous tombons en une seule Ã©tape et les affectons Ã  2. L'image montre le cas pour 3 Ã©tapes. </font><font style="vertical-align: inherit;">Essayons maintenant de tout Ã©crire formellement, sous une forme adaptÃ©e Ã  la programmation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous aurons besoin:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La distance du tableau numÃ©rique bidimensionnel [x, y], dans laquelle nous allons stocker le rÃ©sultat. </font><font style="vertical-align: inherit;">Initialement, pour les coordonnÃ©es or, il contient 0, pour les points restants -1.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le tableau oldBorder, dans lequel nous allons stocker les points Ã  partir desquels nous nous dÃ©placerons, initialement il a un point avec des coordonnÃ©es or</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Array newBorder, dans lequel nous allons stocker les points trouvÃ©s dans l'Ã©tape en cours</font></font></li>
</ul><br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour chaque point p de oldBorder, nous trouvons tous les points p_a, Ã  partir desquels nous pouvons atteindre p en une seule Ã©tape (plus prÃ©cisÃ©ment, nous faisons simplement tous les pas possibles de p dans la direction opposÃ©e, par exemple, en volant vers le haut en l'absence de soutien) et la distance [p_a] = - 1</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Nous plaÃ§ons chacun de ces points p_a dans le tableau newBorder, Ã  distance [p_a] nous Ã©crivons le nombre d'itÃ©rations</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Une fois tous les points terminÃ©s:</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ã‰changez les tableaux de oldBorder et newBorder, aprÃ¨s quoi nous effaÃ§ons newBorder </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Si oldBorder est vide, terminez l'algorithme, sinon passez Ã  l'Ã©tape 1.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
MÃªme chose en pseudo code:</font></font><br>
<br>
<pre><code class="java hljs">iter=<span class="hljs-number">1</span>;<font></font>
newBorder.clear();<font></font>
distance.fill(-<span class="hljs-number">1</span>);<font></font>
distance[gold]=<span class="hljs-number">0</span>;<font></font>
oldBorder.push(gold);<font></font>
<font></font>
<span class="hljs-keyword">while</span>(oldBorder.isNotEmpty()) {
  <span class="hljs-keyword">for</span> (p: oldBorder){
    <span class="hljs-keyword">for</span> (p_a: backMove(p)) {
      <span class="hljs-keyword">if</span> (distance[p_a]==-<span class="hljs-number">1</span>) {<font></font>
         newBorder.push(p_a);<font></font>
         distance[p_a]=iter;<font></font>
      }<font></font>
    }<font></font>
  }<font></font>
  Swap(newBorder, oldBorder);<font></font>
  newBorder.clear();<font></font>
  iter++;<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã€ la sortie de l'algorithme, nous aurons une carte des distances avec la valeur de la distance de chaque point de l'ensemble du champ du jeu Ã  l'or. De plus, pour les points Ã  partir desquels l'or est inaccessible, la valeur de la distance est -1. Les mathÃ©maticiens appellent une telle promenade autour du terrain de jeu (qui forme un graphique avec des sommets aux points du terrain et des bords reliant les sommets accessibles en un seul mouvement) Â«parcourez le graphique en largeurÂ». Si nous implÃ©mentions la rÃ©cursivitÃ©, plutÃ´t que deux tableaux de bordures, cela s'appellerait Â«faire le tour du graphe en profondeurÂ», mais comme la profondeur peut Ãªtre assez importante (plusieurs centaines), je vous conseille d'Ã©viter les algorithmes rÃ©cursifs lors de la traversÃ©e des graphes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le vÃ©ritable algorithme sera un peu plus compliquÃ© en creusant un trou et en y sautant - il s'avÃ¨re qu'en 4 mouvements, nous dÃ©plaÃ§ons une cellule latÃ©ralement et deux vers le bas (car nous nous dÃ©plaÃ§ons dans la direction opposÃ©e, puis vers le haut), mais une lÃ©gÃ¨re modification de l'algorithme rÃ©sout le problÃ¨me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai complÃ©tÃ© l'image avec des chiffres, y compris en tenant compte du fait de creuser un trou et de sauter dedans: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/nm/lw/yu/nmlwyuuy_p9yrkh9eelbiynh1wq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
qu'est-ce que cela nous rappelle? </font></font><br>
<br>
<img src="https://habrastorage.org/webt/2d/e5/yh/2de5yhlw5jhji2xr1vx7usqfuoc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'odeur d'or! </font><font style="vertical-align: inherit;">Et notre bot ira pour cette odeur, comme Rocky pour le fromage (mais en mÃªme temps, il ne perd pas son cerveau et esquive les monstres, et creuse mÃªme des trous pour eux). </font><font style="vertical-align: inherit;">Faisons de lui une simple stratÃ©gie gourmande:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour chaque or, nous construisons une carte des distances et trouvons la distance jusqu'au joueur.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Choisissez l'or le plus proche du joueur et prenez sa carte pour calculer la stratÃ©gie</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Pour chaque cellule de la carte, notons d sa distance Ã  l'or, puis la valeur stratÃ©gique</font></font><br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-19-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><mi>x</mi><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign=&quot;left left&quot; rowspacing=&quot;.2em&quot; columnspacing=&quot;1em&quot; displaystyle=&quot;false&quot;><mtr><mtd><mn>0</mn></mtd><mtd><mrow><mtext>&amp;#x434;&amp;#x43B;&amp;#x44F;&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mo>&amp;lt;</mo><mn>0</mn></mrow><mtext>,</mtext></mrow></mtd></mtr><mtr><mtd><msub><mi>G</mi><mi>s</mi></msub><msubsup><mi>E</mi><mi>s</mi><mi>d</mi></msubsup></mtd><mtd><mrow><mtext>&amp;#x434;&amp;#x43B;&amp;#x44F;&amp;#xA0;</mtext><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>d</mi><mo>&amp;#x2265;</mo><mn>0</mn></mrow><mtext>&amp;#xA0;</mtext></mrow></mtd></mtr></mtable><mo fence=&quot;true&quot; stretchy=&quot;true&quot; symmetric=&quot;true&quot;></mo></mrow></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="27.903ex" height="5.884ex" viewBox="0 -1508.9 12013.9 2533.5" role="img" focusable="false" style="vertical-align: -2.38ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="645" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="1035" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="1607" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2274" y="0"></use><g transform="translate(3331,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJSZ3-7B"></use><g transform="translate(917,0)"><g transform="translate(-14,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="0" y="571"></use><g transform="translate(0,-672)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1112" y="-213"></use><g transform="translate(1218,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-64" x="1092" y="498"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1044" y="-212"></use></g></g></g><g transform="translate(3447,0)"><g transform="translate(0,571)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text><g transform="translate(438,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g><g transform="translate(868,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g><g transform="translate(1514,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3C" x="801" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="1857" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="3872" y="0"></use></g><g transform="translate(0,-672)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text><g transform="translate(438,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g><g transform="translate(868,0)"><text font-family="STIXGeneral,'Arial Unicode MS',serif" stroke="none" transform="scale(53.819) matrix(1 0 0 -1 0 0)"></text></g><g transform="translate(1514,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-64" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2265" x="801" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="1857" y="0"></use></g></g></g></g></g></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><mi>S</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mrow><mo>{</mo><mtable columnalign="left left" rowspacing=".2em" columnspacing="1em" displaystyle="false"><mtr><mtd><mn>0</mn></mtd><mtd><mrow><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mi>d</mi><mo>&lt;</mo><mn>0</mn></mrow><mtext>,</mtext></mrow></mtd></mtr><mtr><mtd><msub><mi>G</mi><mi>s</mi></msub><msubsup><mi>E</mi><mi>s</mi><mi>d</mi></msubsup></mtd><mtd><mrow><mtext>&nbsp;</mtext><mrow class="MJX-TeXAtom-ORD"><mi>d</mi><mo>â‰¥</mo><mn>0</mn></mrow><mtext>&nbsp;</mtext></mrow></mtd></mtr></mtable><mo fence="true" stretchy="true" symmetric="true"></mo></mrow></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-19">S(x) = \begin{cases} 0 & \text{ $d < 0$,}\\ G_s E_s^d & \text{ $d \geq0$ } \end{cases} </script></p> </li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
OÃ¹ </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-20-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>G</mi><mi>s</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.83ex" height="2.384ex" viewBox="0 -809.3 1218.5 1026.6" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-47" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1112" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>G</mi><mi>s</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-20">G_s</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> il s'agit d'une valeur imaginaire de l'or, il est souhaitable qu'il soit Ã©valuÃ© plusieurs fois moins que le prÃ©sent, et </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-21-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mi>s</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.719ex" height="2.259ex" viewBox="0 -755.5 1170.5 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1044" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>E</mi><mi>s</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-21">E_s</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">il s'agit d'un coefficient d'inflation &lt;1, car plus l'or imaginaire est Ã©loignÃ©, moins il est cher. </font><font style="vertical-align: inherit;">Le rapport des coefficients E et</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-22-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mi>s</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.719ex" height="2.259ex" viewBox="0 -755.5 1170.5 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-73" x="1044" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>E</mi><mi>s</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-22">E_s </script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">constitue un problÃ¨me non rÃ©solu du millÃ©naire et laisse place Ã  la crÃ©ativitÃ©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ne pensez pas que notre bot ira toujours Ã  l'or le plus proche. </font><font style="vertical-align: inherit;">Supposons que nous ayons un or Ã  gauche Ã  une distance de 5 cellules, puis vide, et Ã  droite deux or Ã  une distance de 6 et 7. Ã‰tant donnÃ© que le vÃ©ritable or est plus prÃ©cieux que prÃ©vu, le bot ira Ã  droite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avant de passer Ã  des stratÃ©gies plus intÃ©ressantes, nous allons apporter une autre amÃ©lioration. </font><font style="vertical-align: inherit;">Dans le jeu, la gravitÃ© tire le joueur vers le bas et il ne peut que monter les escaliers. </font><font style="vertical-align: inherit;">Ainsi, l'or qui est plus Ã©levÃ© devrait Ãªtre Ã©valuÃ© plus haut. </font><font style="vertical-align: inherit;">Si la hauteur est indiquÃ©e Ã  partir de la ligne supÃ©rieure, vous pouvez multiplier la valeur de l'or (avec la coordonnÃ©e verticale y) par</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-23-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msubsup><mi>E</mi><mi>h</mi><mi>y</mi></msubsup></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.894ex" height="3.009ex" viewBox="0 -863.1 1246.1 1295.7" role="img" focusable="false" style="vertical-align: -1.005ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-79" x="1092" y="693"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-68" x="1044" y="-463"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msubsup><mi>E</mi><mi>h</mi><mi>y</mi></msubsup></math></span></span><script type="math/tex" id="MathJax-Element-23">E_h^y</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Pour le coefficient</font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-24-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><msub><mi>E</mi><mi>h</mi></msub></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="2.894ex" height="2.259ex" viewBox="0 -755.5 1246.1 972.7" role="img" focusable="false" style="vertical-align: -0.505ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-45" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-68" x="1044" y="-213"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><msub><mi>E</mi><mi>h</mi></msub></math></span></span><script type="math/tex" id="MathJax-Element-24">E_h</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le nouveau terme Â«taux d'inflation verticalÂ» a Ã©tÃ© inventÃ©, du moins il n'est pas utilisÃ© par les Ã©conomistes et reflÃ¨te bien l'essence.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StratÃ©gies compliquÃ©es</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec un or triÃ©, vous devez faire quelque chose avec tout l'or, et je ne voudrais pas attirer les mathÃ©matiques lourdes. </font><font style="vertical-align: inherit;">Il existe une solution trÃ¨s Ã©lÃ©gante, simple et incorrecte (au sens strict) - si un or crÃ©e un Â«champÂ» de valeur autour de lui, ajoutons simplement tous les champs de valeur de toutes les cellules contenant de l'or dans une matrice et utilisons-le comme stratÃ©gie. </font><font style="vertical-align: inherit;">Oui, ce n'est pas une solution optimale, mais plusieurs unitÃ©s d'or Ã  distance moyenne peuvent Ãªtre plus prÃ©cieuses qu'une unitÃ© proche.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, une nouvelle solution crÃ©e de nouveaux problÃ¨mes - une nouvelle matrice de valeurs peut contenir des maxima locaux, prÃ¨s desquels il n'y a pas d'or. </font><font style="vertical-align: inherit;">Parce que notre bot peut y entrer et ne veut pas sortir, cela signifie que nous devons ajouter un gestionnaire qui vÃ©rifie que le bot est au maximum local de la stratÃ©gie et reste en place en fonction des rÃ©sultats du dÃ©placement. </font><font style="vertical-align: inherit;">Et maintenant, nous avons un outil pour combattre les gels - annulez cette stratÃ©gie par N mouvements et revenez temporairement Ã  la stratÃ©gie de l'or le plus proche. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est assez drÃ´le de voir comment un bot coincÃ© change de stratÃ©gie et commence Ã  descendre en continu, mangeant tout l'or le plus proche, aux Ã©tages infÃ©rieurs de la carte, le bot reprend ses esprits et essaie de grimper. </font><font style="vertical-align: inherit;">Une sorte de Dr Jekyll et M. Hyde.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La stratÃ©gie n'est pas d'accord avec la tactique</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, notre bot arrive Ã  l'or sous le sol: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ta/mq/hz/tamqhzmshgmi7iowod7wn8nqk3o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
il tombe dÃ©jÃ  dans l'algorithme d'optimisation, il reste Ã  faire 3 pas Ã  droite, Ã  faire un trou Ã  droite et Ã  sauter dedans, puis la gravitÃ© fera tout par elle-mÃªme. Quelque chose comme Ã§a:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/7r/eo/6c/7reo6csaevajx9y2juzo5qaskys.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais le bot se fige sur place. Le dÃ©bogage a montrÃ© qu'il n'y avait pas d'erreur: le bot a dÃ©cidÃ© que la stratÃ©gie optimale Ã©tait d'attendre un mouvement, puis de suivre l'itinÃ©raire spÃ©cifiÃ© et de prendre de l'or Ã  la derniÃ¨re Ã©tape analysÃ©e. Dans le premier cas, il reÃ§oit un gain de l'or reÃ§u et un gain de l'or imaginaire (lors de la derniÃ¨re itÃ©ration analysÃ©e, il se trouve juste dans la cellule oÃ¹ se trouvait l'or), et dans le second - uniquement de l'or rÃ©el (bien qu'un tour plus tÃ´t), mais le gain il n'y a plus de stratÃ©gie, car la place sous l'or est pourrie et peu prometteuse. Eh bien, au prochain coup, il dÃ©cide Ã  nouveau de faire une pause d'un coup, nous avons dÃ©jÃ  rÃ©glÃ© ces problÃ¨mes.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
J'ai dÃ» modifier la stratÃ©gie - puisque nous avons mÃ©morisÃ© tout l'or qui a Ã©tÃ© mangÃ© au stade de l'analyse, en soustrayant les cartes de valeur de l'or mangÃ© de la matrice totale de valeur stratÃ©gique, ainsi, la stratÃ©gie a pris en compte la rÃ©alisation de tactiques (il Ã©tait possible de calculer la valeur diffÃ©remment - en ajoutant des matrices uniquement pour or entier, mais c'est plus compliquÃ© sur le plan informatique, car il y a beaucoup plus d'or sur la carte que nous ne pouvons en manger en 8 coups).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais cela n'a pas mis fin Ã  nos tourments. </font><font style="vertical-align: inherit;">Supposons que la matrice de valeur stratÃ©gique ait un maximum local et que le bot s'en soit approchÃ© pendant 7 mouvements. </font><font style="vertical-align: inherit;">Le bot va-t-il y geler? </font><font style="vertical-align: inherit;">Non, car pour toute route dans laquelle le bot atteint le maximum local en 8 coups, la victoire sera la mÃªme. </font><font style="vertical-align: inherit;">Bonne vieille procrastination. </font><font style="vertical-align: inherit;">La raison en est que le gain stratÃ©gique ne dÃ©pend pas du moment oÃ¹ nous nous trouvons dans la cellule. </font><font style="vertical-align: inherit;">La premiÃ¨re chose qui vient Ã  l'esprit est d'amender le bot pour un simple, mais cela n'aide en rien de marcher insensÃ© Ã  gauche / Ã  droite. </font><font style="vertical-align: inherit;">Il est nÃ©cessaire de traiter la cause profonde - de prendre en compte le gain stratÃ©gique Ã  chaque tour (comme la diffÃ©rence entre la valeur stratÃ©gique des Ã©tats nouveaux et actuels), en la rÃ©duisant au fil du temps d'un facteur.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceux. </font><font style="vertical-align: inherit;">introduire un terme supplÃ©mentaire dans l'expression pour gagner:</font></font><br>
<br>
<p></p><p><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><div class="MathJax_SVG_Display" style="text-align: center;"><span class="MathJax_SVG" id="MathJax-Element-25-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot; display=&quot;block&quot;><msub><mi>p</mi><mrow class=&quot;MJX-TeXAtom-ORD&quot;><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mi>p</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>+</mo><mo stretchy=&quot;false&quot;>(</mo><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy=&quot;false&quot;>)</mo><mo>&amp;#x2013;</mo><mi>S</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo stretchy=&quot;false&quot;>)</mo><mo>.</mo></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="42.284ex" height="3.009ex" viewBox="-38.5 -970.7 18205.6 1295.7" role="img" focusable="false" style="vertical-align: -0.755ex; margin-left: -0.089ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-70" x="0" y="0"></use><g transform="translate(503,-150)"><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-6E" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-65" x="600" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-77" x="1067" y="0"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="1864" y="0"></use><g transform="translate(2254,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="3280" y="0"></use><g transform="translate(3725,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="4772" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="5439" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-70" x="6496" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="6999" y="0"></use><g transform="translate(7389,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2C" x="8415" y="0"></use><g transform="translate(8860,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="9907" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2B" x="10519" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="11520" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="11909" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="12555" y="0"></use><g transform="translate(12944,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-31" x="809" y="488"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-61" x="809" y="-210"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="13991" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2013" x="14381" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-53" x="15048" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="15693" y="0"></use><g transform="translate(16083,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="809" y="583"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="17109" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="17499" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-2E" x="17888" y="0"></use></g></svg><span class="MJX_Assistive_MathML MJX_Assistive_MathML_Block" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><msub><mi>p</mi><mrow class="MJX-TeXAtom-ORD"><mi>n</mi><mi>e</mi><mi>w</mi></mrow></msub><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>=</mo><mi>p</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo>,</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>S</mi><mo stretchy="false">(</mo><msubsup><mi>x</mi><mi>a</mi><mn>1</mn></msubsup><mo stretchy="false">)</mo><mo>â€“</mo><mi>S</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>0</mn></msup><mo stretchy="false">)</mo><mo stretchy="false">)</mo><mo>.</mo></math></span></span></div><script type="math/tex;mode=display" id="MathJax-Element-25">p_{new}(x^0,x^1_a) = p(x^0,x^1_a) + (S(x^1_a) â€“ S(x^0)). </script></p><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
la valeur de la fonction objectif sur ce dernier est gÃ©nÃ©ralement considÃ©rÃ©e comme nulle: </font></font><math></math><span class="MathJax_Preview" style="color: inherit; display: none;"></span><span class="MathJax_SVG" id="MathJax-Element-26-Frame" tabindex="0" style="font-size: 100%; display: inline-block; position: relative;" data-mathml="<math xmlns=&quot;http://www.w3.org/1998/Math/MathML&quot;><mi>F</mi><mo stretchy=&quot;false&quot;>(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy=&quot;false&quot;>)</mo><mo>=</mo><mn>0</mn></math>" role="presentation"><svg xmlns:xlink="http://www.w3.org/1999/xlink" width="10.195ex" height="2.884ex" viewBox="0 -916.9 4389.5 1241.8" role="img" focusable="false" style="vertical-align: -0.755ex;" aria-hidden="true"><g stroke="currentColor" fill="currentColor" stroke-width="0" transform="matrix(1 0 0 -1 0 0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-46" x="0" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-28" x="749" y="0"></use><g transform="translate(1139,0)"><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMATHI-78" x="0" y="0"></use><use transform="scale(0.707)" xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-39" x="809" y="513"></use></g><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-29" x="2165" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-3D" x="2832" y="0"></use><use xlink:href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=https://habr.com/ru/post/501844/&amp;usg=ALkJrhigNm_FY_AA2pg6BSdbTZ_NiL-Gzw#MJMAIN-30" x="3888" y="0"></use></g></svg><span class="MJX_Assistive_MathML" role="presentation"><math xmlns="http://www.w3.org/1998/Math/MathML"><mi>F</mi><mo stretchy="false">(</mo><msup><mi>x</mi><mn>9</mn></msup><mo stretchy="false">)</mo><mo>=</mo><mn>0</mn></math></span></span><script type="math/tex" id="MathJax-Element-26">F(x^9) =0</script><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ã‰tant donnÃ© que le gain est amorti Ã  chaque mouvement en multipliant par un coefficient, cela fera gagner un gain stratÃ©gique plus rapide Ã  notre bot et Ã©liminera le problÃ¨me observÃ©.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">StratÃ©gie non testÃ©e</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je n'ai pas testÃ© cette stratÃ©gie dans la pratique, mais elle semble prometteuse. </font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Puisque nous connaissons toutes les distances entre les points d'or et les distances entre l'or et le joueur, nous pouvons trouver la chaÃ®ne joueur-N de cellules d'or (oÃ¹ N est petit, par exemple 5 ou 6) avec la plus courte longueur. </font><font style="vertical-align: inherit;">MÃªme la recherche de temps la plus simple suffit.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SÃ©lectionnez le premier or de cette chaÃ®ne et utilisez son champ de valeur comme matrice de stratÃ©gie. </font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, il est souhaitable de rapprocher le coÃ»t du rÃ©el et le coÃ»t de l'or imaginaire afin que le bot ne se prÃ©cipite pas dans le sous-sol vers l'or le plus proche.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AmÃ©liorations finales</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AprÃ¨s avoir appris Ã  "s'Ã©tendre" sur la carte, faisons une "propagation" similaire de chaque monstre pour plusieurs mouvements et trouvons toutes les cellules dans lesquelles le monstre peut se retrouver, ainsi que le nombre de mouvements pour lesquels il le fera. </font><font style="vertical-align: inherit;">Cela permettra au joueur de ramper Ã  travers le tuyau au-dessus de la tÃªte du monstre en toute sÃ©curitÃ©. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Et le dernier moment - lors du calcul de la stratÃ©gie et de la valeur imaginaire de l'or, nous n'avons pas pris en compte la position des autres joueurs, simplement en les Â«effaÃ§antÂ» lors de l'analyse de la carte. </font><font style="vertical-align: inherit;">Il s'avÃ¨re que des obus suspendus individuels peuvent bloquer l'accÃ¨s Ã  des rÃ©gions entiÃ¨res, donc un gestionnaire supplÃ©mentaire a Ã©tÃ© ajoutÃ© - pour suivre les adversaires gelÃ©s et les remplacer par des blocs de bÃ©ton pendant l'analyse.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CaractÃ©ristiques d'implÃ©mentation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ã‰tant donnÃ© que l'algorithme principal est rÃ©cursif, nous devons Ãªtre en mesure de changer rapidement les objets d'Ã©tat et de les remettre Ã  leur origine pour une modification ultÃ©rieure. </font><font style="vertical-align: inherit;">J'ai utilisÃ© java, un langage avec garbage collection, essayer des millions de changements liÃ©s Ã  la crÃ©ation d'objets de courte durÃ©e peut provoquer plusieurs garbage collections en un tour de jeu, ce qui peut Ãªtre fatal en termes de vitesse. </font><font style="vertical-align: inherit;">Par consÃ©quent, il faut Ãªtre extrÃªmement prudent dans les structures de donnÃ©es utilisÃ©es, je n'ai utilisÃ© que des tableaux et des listes. </font><font style="vertical-align: inherit;">Eh bien, ou utilisez le projet Valgala Ã  vos risques et pÃ©rils :)</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Code source et serveur de jeux</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code source peut Ãªtre trouvÃ© ici </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sur le github</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Ne jugez pas strictement, beaucoup a Ã©tÃ© fait Ã  la hÃ¢te. </font><font style="vertical-align: inherit;">Le serveur de jeu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">codenjoy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fournira l'infrastructure pour lancer des bots et surveiller le jeu. </font><font style="vertical-align: inherit;">Au moment de la crÃ©ation, la rÃ©vision Ã©tait pertinente, la rÃ©vision 1.0.26 a Ã©tÃ© utilisÃ©e. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez dÃ©marrer le serveur avec la ligne suivante:</font></font><br>
<br>
<pre><code class="bash hljs">call mvn -DMAVEN_OPTS=-Xmx1024m -Dmaven.test.skip=<span class="hljs-literal">true</span> clean jetty:run-war -Dcontext=another-context -Ploderunner
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le projet lui-mÃªme est extrÃªmement curieux, propose des jeux pour tous les goÃ»ts.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous avez lu tout cela jusqu'au bout sans prÃ©paration prÃ©alable et tout compris, alors vous Ãªtes un type rare.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr501824/index.html">Se prÃ©parer pour un hackathon Ã  la maison</a></li>
<li><a href="../fr501826/index.html">Ã€ propos des fondateurs ambitieux ou comment j'ai essayÃ© de collecter des investissements pour une startup</a></li>
<li><a href="../fr501828/index.html">Unreal Engine 5 place la barre pour le rÃ©alisme du jeu</a></li>
<li><a href="../fr501830/index.html">Nous portons le projet Angular sur ESLint, avec Prettier, Husky et lint-staged</a></li>
<li><a href="../fr501834/index.html">PrÃ©sentation des scanners 3D Creaform Metrascan</a></li>
<li><a href="../fr501846/index.html">Comment choisir un systÃ¨me de vidÃ©osurveillance</a></li>
<li><a href="../fr501848/index.html">J'explique la rÃ©servation dans le data center sur la biÃ¨re</a></li>
<li><a href="../fr501850/index.html">Nous dÃ©montons l'algorithme EM en petites briques</a></li>
<li><a href="../fr501854/index.html">Comment quitter la programmation et commencer Ã  jouer</a></li>
<li><a href="../fr501856/index.html">Tarantool: Look Analyst</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>