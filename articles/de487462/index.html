<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🍉 🐸 🕐 Webix JavaScript-Bibliothek mit den Augen eines Anfängers. Teil 4. Mit Daten arbeiten. CRUD 💷 🌡️ 🧗</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ich bin ein Anfänger-Front-End-Entwickler. Jetzt studiere und trainiere ich in einem Minsker IT-Unternehmen. Das Erlernen der Grundlagen der Web-Benut...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Webix JavaScript-Bibliothek mit den Augen eines Anfängers. Teil 4. Mit Daten arbeiten. CRUD</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487462/"><img src="https://habrastorage.org/webt/zo/wp/ja/zowpja8tnu7hfyfyq6h2g3xzyii.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich bin ein Anfänger-Front-End-Entwickler. </font><font style="vertical-align: inherit;">Jetzt studiere und trainiere ich in einem Minsker IT-Unternehmen. </font><font style="vertical-align: inherit;">Das Erlernen der Grundlagen der Web-Benutzeroberfläche erfolgt am Beispiel der Webix JS-Bibliothek. Ich möchte meine bescheidenen Erfahrungen teilen und sie als kleines Tutorial für diese interessante UI-Bibliothek speichern.</font></font><br>
<br>
<h4><font color="#663375"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">VIERTE HERAUSFORDERUNG</font></font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Arbeit mit Daten ist es wichtig, verschiedene Arten von Vorgängen ausführen zu können. </font><font style="vertical-align: inherit;">In der Webentwicklung ist </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CRUD</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dafür </font><font style="vertical-align: inherit;">verantwortlich </font><font style="vertical-align: inherit;">- vier Grundfunktionen. </font><font style="vertical-align: inherit;">Die Webix-Bibliothek verfügt über alle Tools zur Implementierung von CRUD. </font><font style="vertical-align: inherit;">Die Grundlage für die Lösung neuer Probleme wird mir als Material aus früheren Veröffentlichungen dienen: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen einer Anwendungsschnittstelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Projektmodule</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbeiten mit Formularen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><a name="habracut"></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dieser Artikel behandelt die folgenden Aufgaben:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bearbeiten von Tabellendaten über ein Formular;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Installation des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">eingebauten Zeileneditors</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hinzufügen von Daten zur Liste und zum Diagramm;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Elemente löschen;</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In der Dokumentation finden Sie die Widgets </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">List</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Treetable</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> die im Artikel verwendet werden </font><font style="vertical-align: inherit;">. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quellen sind auf dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Link</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die resultierende Demo-Anwendung finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 1. Bearbeiten von Daten über das Formular</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Schritt arbeite ich mit der Registerkarte </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"Dashboard",</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in der die Tabelle und das Formular gezeichnet werden. Der Tabellencode befindet sich in der Datei table.js, der Formularcode in form.js. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Artikel „ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbeiten mit Formularen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> “ wurden neue Einträge mit der Methode </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">add ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> hinzugefügt </font><font style="vertical-align: inherit;">, die durch die Formularvalidierung ergänzt wurde. Jetzt wird das Formular zum Bearbeiten von Einträgen verwendet. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Widgets </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tabelle</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ich füge Ereignis </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onAfterSelect hinzu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn dieses Ereignis ausgelöst wird, erhalte ich Daten aus der Tabelle und übertrage sie in die Formularfelder.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> table = {
    <span class="hljs-attr">view</span>:<span class="hljs-string">"datatable"</span>, 
    <span class="hljs-attr">id</span>:<span class="hljs-string">"film_list"</span>,
    <span class="hljs-attr">scroll</span>:<span class="hljs-string">"y"</span>,
    <span class="hljs-attr">select</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-attr">url</span>:<span class="hljs-string">"data/data.js"</span>,
    <span class="hljs-attr">hover</span>:<span class="hljs-string">"myhover"</span>,
    <span class="hljs-attr">columns</span>:[<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"rank"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">""</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">50</span>, <span class="hljs-attr">css</span>:<span class="hljs-string">"rank"</span>},<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"title"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">"Film title"</span>, <span class="hljs-attr">fillspace</span>:<span class="hljs-literal">true</span>},<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"year"</span>,  <span class="hljs-attr">header</span>:<span class="hljs-string">"Released"</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">100</span>},<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"votes"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">"Votes"</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">100</span>},<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"rating"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">"Rating"</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">100</span>}<font></font>
    ],<font></font>
    <span class="hljs-attr">on</span>:{<font></font>
        onAfterSelect(id){<font></font>
            <span class="hljs-keyword">let</span> values = $$(<span class="hljs-string">"film_list"</span>).getItem(id);<font></font>
            $$(<span class="hljs-string">"film_form"</span>).setValues(values)<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Methode </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">setValues ​​()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> im obigen Code ist für die Übergabe der empfangenen Werte an das Formular verantwortlich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich führe den Code aus und überprüfe das Ergebnis: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ft/en/wx/ftenwxakp1yvu76jfyywoyfcrga.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sobald eine Zeile in der Tabelle ausgewählt ist, werden ihre Daten automatisch in das Formular übernommen und sind bereit zu arbeiten. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt verkompliziere ich den Vorgang: Der neue Datensatz wird wie zuvor zur Tabelle hinzugefügt. </font><font style="vertical-align: inherit;">Wenn die Daten aus der Tabelle entnommen und bearbeitet werden, speichere ich diese Änderungen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich werde die Funktion </font></font><b><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">saveItem</font></font></i></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> neu </font><b><i><font style="vertical-align: inherit;">schreiben</font></i></b><font style="vertical-align: inherit;"> und neue Methoden hinzufügen:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> saveItem = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">let</span> form = $$( <span class="hljs-string">"film_form"</span> );  
    <span class="hljs-keyword">let</span> list = $$( <span class="hljs-string">"film_list"</span> );  
    <span class="hljs-keyword">let</span> item_data = $$(<span class="hljs-string">"film_form"</span>).getValues();    
    <span class="hljs-keyword">if</span>( form.isDirty() &amp;&amp; form.validate() ){
        <span class="hljs-keyword">if</span>( item_data.id ) <font></font>
            list.updateItem(item_data.id, item_data);<font></font>
        <span class="hljs-keyword">else</span> <font></font>
            list.add( item_data );<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Funktion hat jetzt den folgenden Algorithmus: </font></font><br>
<blockquote><ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zu Beginn wird eine Prüfung für zwei Bedingungen gestartet - ob die Formulardaten die Validierung bestanden haben und ob sich das Formular geändert hat. </font><font style="vertical-align: inherit;">Änderungen im Formular werden mit der Methode </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">isDirty ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> überwacht </font><font style="vertical-align: inherit;">.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Danach können Sie mit der Bedingung "item_data.id" einen neuen Datensatz definieren. </font><font style="vertical-align: inherit;">Eine Zeichenfolge wird mit allen Daten, einschließlich der ID, an das Formular gesendet, für die das Formular kein Textfeld enthält, das jedoch für Daten erforderlich ist. </font><font style="vertical-align: inherit;">Das Formular speichert und ermöglicht das Lesen aller übermittelten Werte. Daher verwenden wir zur Überprüfung die ID.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nach dem Abgleichen von Datensätzen wird entweder ein neuer Datensatz hinzugefügt - mit der Methode </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">add ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , oder das aktuelle Element wird mit neuen Eigenschaften aktualisiert.</font></font></li>
</ul><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Aktualisieren der bearbeiteten Daten wird die Methode </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">updateItem ()</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> verwendet </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Die Methode verwendet zwei Parameter: die ID des ausgewählten Elements und eine Reihe neuer Eigenschaften aus dem Formular. </font><font style="vertical-align: inherit;">Beim Aufruf der Funktion werden die aktuellen Daten ersetzt und durch neue ergänzt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ergebnis:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ti/vs/eb/tivsebetxl7dvn8q7gxfebx_w9c.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 2. Installieren Sie den integrierten Editor</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im vorherigen Schritt habe ich die Option zum Bearbeiten von Tabellendaten mithilfe eines Formulars in Betracht gezogen. Das Formular auf der Seite wird jedoch nicht immer benötigt, daher implementiere ich die Bearbeitungsmethode direkt im Element. Diese Methode ist sowohl in der Tabelle als auch in anderen Komponenten für die Arbeit mit großen Datenmengen anwendbar - beispielsweise in einer Liste. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich beginne mit einer Baumansicht auf der </font><font style="vertical-align: inherit;">Registerkarte </font><font style="vertical-align: inherit;">" </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Produkte</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ". Der Code für die Tabelle befindet sich in der Datei products_module.js. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Treetable-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Widget </font><font style="vertical-align: inherit;">können </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Sie</font></a><font style="vertical-align: inherit;"> den Inhalt von Tabellen bearbeiten, diese Funktion ist jedoch standardmäßig deaktiviert. Die Bearbeitung wird an zwei Stellen konfiguriert: in der Tabellenkonfiguration </font></font><code>editable:true</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, in der Konfiguration und in der Konfiguration jeder Spalte. Die Lautsprecher sind eingerichtet </font></font><code>editor:”text”</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Das Attribut "Text" legt den Typ des Editors fest. Weitere Informationen zu Editor-Typen finden Sie unter</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dokumentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> products = {
    <span class="hljs-attr">editable</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-attr">view</span>:<span class="hljs-string">"treetable"</span>,
    <span class="hljs-attr">scrollX</span>:<span class="hljs-literal">false</span>,
    <span class="hljs-attr">columns</span>:[<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"id"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">""</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">50</span> },<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"title"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">"Title"</span>, <span class="hljs-attr">fillspace</span>:<span class="hljs-literal">true</span>, 
        <span class="hljs-attr">template</span>:<span class="hljs-string">"{common.treetable()} #title#"</span>, <span class="hljs-attr">editor</span>:<span class="hljs-string">"text"</span> },<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"price"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">"Price"</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">200</span>, <span class="hljs-attr">editor</span>:<span class="hljs-string">"text"</span> }<font></font>
    ],<font></font>
    <span class="hljs-attr">select</span>:<span class="hljs-string">"row"</span>,
    <span class="hljs-attr">url</span>:<span class="hljs-string">"data/products.js"</span>,
    <span class="hljs-attr">rules</span>:{
        <span class="hljs-string">"price"</span>:webix.rules.isNotEmpty,
        <span class="hljs-string">"title"</span>:webix.rules.isNotEmpty<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Code habe ich Editoren für die Spalten Titel und Preis hinzugefügt. </font><font style="vertical-align: inherit;">Durch Klicken auf eine beliebige Zelle wird ein Editor geöffnet - ein Textfeld: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/vz/ce/wg/vzcewg_vvkb8j84ffmvnmofqs8c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt gehe ich zur Registerkarte " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benutzer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " und analysiere die Option zum Bearbeiten des </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Listen-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Widgets </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Der Widget-Code befindet sich in der Datei users_module.js. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Datenbearbeitung ist standardmäßig für TreeTable- und DataTable-Widgets verfügbar. Um den integrierten Editor in anderen Widgets zu verwenden, können Sie das spezielle </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">EditAbility-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Modul verwenden </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ich benutze dieses Modul, um die Daten des Listen-Widgets zu bearbeiten. </font><font style="vertical-align: inherit;">Dazu erstelle ich basierend auf dem LIst-Widget eine benutzerdefinierte Komponente mit der </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">protoUI-</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Methode </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich schreibe den Namen - die Namenseigenschaft - des zukünftigen Widgets auf und erbe die notwendigen Module für das Basis-Widget.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Listen-Widget-Prototyp:</font></font><br>
<br>
<pre><code class="javascript hljs">webix.protoUI({
    <span class="hljs-attr">name</span>:<span class="hljs-string">"editlist"</span><font></font>
}, webix.EditAbility, webix.ui.list);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach dem Aufruf von protoUI erhalte ich die fertige Komponente. </font><font style="vertical-align: inherit;">Es wird auf die gleiche Weise wie alle anderen in das Widget eingebettet - durch Festlegen </font></font><code>view:"editlist"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs">view: <span class="hljs-string">"editlist"</span>,
<span class="hljs-attr">editable</span>:<span class="hljs-literal">true</span>,
<span class="hljs-attr">editor</span>:<span class="hljs-string">"text"</span>,
<span class="hljs-attr">editValue</span>:<span class="hljs-string">"name"</span>,
<span class="hljs-attr">id</span>:<span class="hljs-string">"user_list"</span>,
<span class="hljs-attr">select</span>:<span class="hljs-literal">true</span>,
<span class="hljs-attr">url</span>:<span class="hljs-string">"data/users.js"</span>,
<span class="hljs-attr">template</span>:<span class="hljs-string">"#name# from #country# &lt;span class='webix_icon wxi-close'&gt;&lt;/span&gt; "</span><font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da jeder Datensatz viele Felder enthalten kann und Name und Land sofort im Vorlagenblatt gezeichnet werden, wird in der Konfiguration die Einstellung - hinzugefügt </font></font><code><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow">editorValue</a>:”name”</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, die angibt, welches Feld bearbeitet werden kann. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ergebnis:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tj/2s/6a/tj2s6a17c1dd3ezvauobwlpl0po.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 3. Hinzufügen von Daten zur Liste und zum Diagramm</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In diesem Teil des Artikels werden Widgets für Liste und Diagramm verwendet. Der Code befindet sich in der Datei users_module.js und wird auf der </font><font style="vertical-align: inherit;">Registerkarte </font><font style="vertical-align: inherit;">" </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Benutzer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> " </font><font style="vertical-align: inherit;">gerendert </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diagramm- und Listen-Widgets verwenden dieselben Daten - ein JSON-Array. </font><font style="vertical-align: inherit;">Wenn ich die Möglichkeit zum Hinzufügen von Daten implementiere, ist es daher erforderlich, dass sie in beide Komponenten fallen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dazu zeichne ich im Benutzermodul die Schaltfläche "Neue Person hinzufügen".</font></font><br>
<br>
<pre><code class="javascript hljs">{
    <span class="hljs-attr">cols</span>:[<font></font>
        { <font></font>
        <span class="hljs-attr">view</span>:<span class="hljs-string">"button"</span>, 
        <span class="hljs-attr">id</span>:<span class="hljs-string">"btn_add_person"</span>, 
        <span class="hljs-attr">value</span>:<span class="hljs-string">"Add new person"</span>, 
        <span class="hljs-attr">width</span>:<span class="hljs-number">150</span>, <span class="hljs-attr">css</span>:<span class="hljs-string">"webix_primary"</span>, 
        <span class="hljs-attr">click</span>:addPerson<font></font>
        },<font></font>
       {}<font></font>
    ]<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Durch Klicken auf die Schaltfläche wird die Funktion </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">addPerson aufgerufen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die der Liste einen neuen Datensatz hinzufügt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Diagramm zeigt das Alter jedes Datensatzes an, sodass für einen größeren Spread eine Zufallszahl generiert wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Funktion zum Hinzufügen eines neuen Datensatzes:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> addPerson = <span class="hljs-function"><span class="hljs-params">()</span> =&gt;</span> {
    <span class="hljs-keyword">let</span> obj = {
        <span class="hljs-attr">name</span>:<span class="hljs-string">"Some name"</span>,
        <span class="hljs-attr">age</span>:<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">80</span>) + <span class="hljs-number">10</span>, 
        <span class="hljs-attr">country</span>:<span class="hljs-string">"Some country"</span><font></font>
    }<font></font>
    $$(<span class="hljs-string">"user_list"</span>).add(obj);<font></font>
    $$(<span class="hljs-string">"chart"</span>).add(obj);<font></font>
};<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ergebnis:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ha/k8/gj/hak8gjpeskx5w6v36cjlqav2oyy.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Schritt 4. Elemente löschen</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Entfernen von Elementen wird anhand des Listen-Widgets als Registerkarte "Benutzer" und des Tabellen-Widgets als </font><font style="vertical-align: inherit;">Registerkarte " </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dashboard"</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> demonstriert </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst erstelle ich im Tabellen-Widget eine neue Spalte, in die ich das HTML-Tag mit dem Symbol einfügen werde. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Klicks auf Symbole zu verfolgen, müssen Sie die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eigenschaft onClick</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> table verwenden </font><font style="vertical-align: inherit;">. Dies ist ein Objekt, das Handler, die Elementen zugeordnet sind, gemäß einer ihrer CSS-Klassen speichert - ich habe es </font></font><code>"delete_icon"</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um Klicks auf Symbole zu verarbeiten, nehme ich deren Klasse delete_icon und schreibe sie als Schlüssel in das onClick-Objekt. Der Wert dieses Schlüssels ist eine Funktion - unser Handler. Zu den Argumenten gehört die ID des Datensatzes, sodass nichts daran hindert, ihn mit der Methode </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">remove () zu entfernen</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tabellen-Widget-Code:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> table = {
    <span class="hljs-attr">view</span>:<span class="hljs-string">"datatable"</span>, 
    <span class="hljs-attr">id</span>:<span class="hljs-string">"film_list"</span>,
    <span class="hljs-attr">scroll</span>:<span class="hljs-string">"y"</span>,
    <span class="hljs-attr">select</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-attr">url</span>:<span class="hljs-string">"data/data.js"</span>,
    <span class="hljs-attr">hover</span>:<span class="hljs-string">"myhover"</span>,
    <span class="hljs-attr">columns</span>:[<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"rank"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">""</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">50</span>, <span class="hljs-attr">css</span>:<span class="hljs-string">"rank"</span>},<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"title"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">"Film title"</span>, <span class="hljs-attr">fillspace</span>:<span class="hljs-literal">true</span>},<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"year"</span>,  <span class="hljs-attr">header</span>:<span class="hljs-string">"Released"</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">100</span>},<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"votes"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">"Votes"</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">100</span>},<font></font>
        { <span class="hljs-attr">id</span>:<span class="hljs-string">"rating"</span>, <span class="hljs-attr">header</span>:<span class="hljs-string">"Rating"</span>, <span class="hljs-attr">width</span>:<span class="hljs-number">100</span>},<font></font>
        { <span class="hljs-attr">header</span>:<span class="hljs-string">""</span>, <span class="hljs-attr">template</span>:<span class="hljs-string">"&lt;span class='webix_icon wxi-close delete_icon'&gt;&lt;/span&gt;"</span>, 
        <span class="hljs-attr">width</span>:<span class="hljs-number">35</span>}<font></font>
    ],<font></font>
    <span class="hljs-attr">onClick</span>:{<font></font>
        delete_icon(e, id){<font></font>
        <span class="hljs-keyword">this</span>.remove(id);
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
        }<font></font>
    },<font></font>
    <span class="hljs-attr">on</span>:{<font></font>
        onAfterSelect(id){<font></font>
            <span class="hljs-keyword">let</span> values = $$(<span class="hljs-string">"film_list"</span>).getItem(id);<font></font>
            $$(<span class="hljs-string">"film_form"</span>).setValues(values)<font></font>
        }<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Algorithmus zum Löschen von Zeilen für das Listen-Widget ist der gleiche wie für das Tabellen-Widget:</font></font><br>
<br>
<pre><code class="javascript hljs">{
    <span class="hljs-attr">view</span>: <span class="hljs-string">"editlist"</span>,
    <span class="hljs-attr">editable</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-attr">editor</span>:<span class="hljs-string">"text"</span>,
    <span class="hljs-attr">editValue</span>:<span class="hljs-string">"name"</span>,
    <span class="hljs-attr">id</span>:<span class="hljs-string">"user_list"</span>,
    <span class="hljs-attr">select</span>:<span class="hljs-literal">true</span>,
    <span class="hljs-attr">url</span>:<span class="hljs-string">"data/users.js"</span>,
    <span class="hljs-attr">template</span>:<span class="hljs-string">`#name# from #country# 
    &lt;span class='webix_icon wxi-close delete_icon'&gt;&lt;/span&gt; `</span>,
    <span class="hljs-attr">onClick</span>:{<font></font>
        delete_icon(e, id){<font></font>
            <span class="hljs-keyword">this</span>.remove(id);
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<font></font>
        }<font></font>
    }<font></font>
},<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das Ergebnis des Löschens von Zeilen auf der Registerkarte Benutzer: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/4l/xo/h9/4lxoh9zopr3n0xhw6hexwmwyed8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die fertige Anwendung finden Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hier</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Implementierung von CRUD mithilfe der jix-Bibliothek von Webix erfolgt auf verschiedene Weise: Es gibt integrierte Editoren zum Ändern von Daten und eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , mit der Sie dasselbe tun können, jedoch über ein Formular eines Drittanbieters. </font><font style="vertical-align: inherit;">Das Hinzufügen von Daten hat verschiedene Szenarien, und in der Form können Sie den gesamten Satz von CRUD-Funktionen implementieren. </font><font style="vertical-align: inherit;">Methoden werden mit wenigen Codezeilen implementiert. </font><font style="vertical-align: inherit;">Die Bibliotheksarchitektur macht es einfach, verschiedene Funktionen miteinander zu kombinieren.</font></font></div>
      
    </div><p class="reference-to-source js-reference-to-source">Source: https://habr.com/ru/post/undefined/</p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de487446/index.html">Kann ein Unternehmen Farbe „besitzen“?</a></li>
<li><a href="../de487448/index.html">Superkräfte ultradünner Materialien: In der Materialwissenschaft ist 2D das neue 3D</a></li>
<li><a href="../de487450/index.html">Wir konfigurieren WireGuard auf einem Mikrotik-Router, auf dem OpenWrt ausgeführt wird</a></li>
<li><a href="../de487454/index.html">Wer sind diese Leute? Warum brauchen sie mich? und andere Scrum Master Probleme</a></li>
<li><a href="../de487460/index.html">Delta: Plattform für Datensynchronisation und -anreicherung</a></li>
<li><a href="../de487470/index.html">Calibry: 3D-Durchbruch Preisdurchbruch</a></li>
<li><a href="../de487486/index.html">Sega Dreamcast Anatomy: Konsole Second Life</a></li>
<li><a href="../de487488/index.html">Fälle für die Anwendung von Tools zur Analyse von Netzwerkanomalien: Erkennen der Verbreitung von Schadcode</a></li>
<li><a href="../de487490/index.html">XSL-Transformation unter MS SQL ohne CLR</a></li>
<li><a href="../de487498/index.html">Auswählen einer Datenbank für die Analyse</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>