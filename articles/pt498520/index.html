<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üò° üèáüèæ üë®üèæ‚Äçüè´ Algoritmos para p√≥s-processamento de resultados de reconhecimento de campos de texto üëäüèº üëÜüèø ü•ô</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="(imagem tirada daqui )
 
 Hoje, gostar√≠amos de falar sobre a tarefa de p√≥s-processamento dos resultados do reconhecimento de campos de texto com base ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Algoritmos para p√≥s-processamento de resultados de reconhecimento de campos de texto</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/smartengines/blog/498520/"><img src="https://habrastorage.org/webt/we/b4/48/web4484wjnlsdgvcvav8khbyirq.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(imagem tirada </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">daqui</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Hoje, gostar√≠amos de falar sobre a tarefa de p√≥s-processamento dos resultados do reconhecimento de campos de texto com base no conhecimento a priori do campo. Anteriormente, j√° escrevemos sobre o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">m√©todo de corre√ß√£o de campo com base em trigramas</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , o que permite corrigir alguns erros de reconhecimento de palavras escritas em idiomas naturais. No entanto, uma parte significativa de documentos importantes, incluindo documentos de identifica√ß√£o, s√£o campos de natureza diferente - datas, n√∫meros, c√≥digos VIN de carros, n√∫meros TIN e SNILS, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">zonas leg√≠veis por m√°quina</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com suas somas de verifica√ß√£o e muito mais. </font><font style="vertical-align: inherit;">Embora n√£o possam ser atribu√≠dos aos campos de uma linguagem natural, no entanto, esses campos costumam ter algum modelo de linguagem, √†s vezes impl√≠cito, o que significa que alguns algoritmos de corre√ß√£o tamb√©m podem ser aplicados a eles. </font><font style="vertical-align: inherit;">Nesta publica√ß√£o, discutiremos dois mecanismos para resultados de reconhecimento de p√≥s-processamento que podem ser usados ‚Äã‚Äãpara um grande n√∫mero de documentos e tipos de campo.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O modelo de linguagem do campo pode ser dividido condicionalmente em tr√™s componentes:</font></font><br>
<ol>
<li><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sintaxe</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : regras que governam a estrutura de uma representa√ß√£o de campo de texto. </font><font style="vertical-align: inherit;">Exemplo: o campo "data de validade do documento" em uma zona leg√≠vel por m√°quina √© representado como sete d√≠gitos "DDDDDDD".</font></font><br>
</li>
<li><em> </em>: ,         . :   ‚Äú    ‚Äù -     ‚Äì     , 3-  4-  ‚Äì  , 5-  6- ‚Äì  ,  7-  ‚Äì  .<br>
</li>
<li><em> </em>: ,           . :  ‚Äú    ‚Äù    ,     ,   ‚Äú ‚Äù.<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tendo informa√ß√µes sobre a estrutura sem√¢ntica e sint√°tica do documento e o campo reconhecido, √© poss√≠vel criar um algoritmo especializado para p√≥s-processamento do resultado do reconhecimento. No entanto, considerando a necessidade de apoiar e desenvolver sistemas de reconhecimento e a complexidade de seu desenvolvimento, √© interessante considerar m√©todos e ferramentas "universais" que permitiriam, com o m√≠nimo esfor√ßo (dos desenvolvedores), criar um algoritmo de p√≥s-processamento bastante bom que funcionasse com uma classe extensa documentos e campos. A metodologia para configurar e suportar esse algoritmo seria unificada e apenas o modelo de linguagem seria um componente vari√°vel da estrutura do algoritmo.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vale a pena notar que o p√≥s-processamento dos resultados do reconhecimento de campo de texto nem sempre √© √∫til e, √†s vezes, at√© prejudicial: se voc√™ possui um m√≥dulo de reconhecimento de linha bastante bom e trabalha em sistemas cr√≠ticos com documentos de identifica√ß√£o, algum tipo de p√≥s-processamento √© melhor minimizar e produzir resultados "como est√£o", ou monitorar claramente quaisquer altera√ß√µes e relat√°-las ao cliente. No entanto, em muitos casos, quando se sabe que o documento √© v√°lido e que o modelo de linguagem do campo √© confi√°vel, o uso de algoritmos de p√≥s-processamento pode aumentar significativamente a qualidade do reconhecimento final.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, o artigo discutir√° dois m√©todos de p√≥s-processamento que afirmam ser universais. </font><font style="vertical-align: inherit;">O primeiro √© baseado em conversores finitos ponderados, requer uma descri√ß√£o do modelo de linguagem na forma de uma m√°quina de estados finitos, n√£o √© muito f√°cil de usar, mas √© mais universal. </font><font style="vertical-align: inherit;">O segundo √© mais f√°cil de usar, mais eficiente, requer apenas escrever uma fun√ß√£o para verificar a validade do valor do campo, mas tamb√©m possui v√°rias desvantagens.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">M√©todo do transmissor de extremidade ponderada</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um modelo bonito e bastante geral que permite criar um algoritmo universal para resultados de reconhecimento de p√≥s-processamento √© descrito </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">neste trabalho</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . O modelo baseia-se na estrutura de dados dos transdutores de estado finito ponderado (WFST). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os WFSTs s√£o uma generaliza√ß√£o de m√°quinas de estado finito ponderado - se uma m√°quina de estado finito ponderado codifica alguma linguagem ponderada </font></font><img src="https://habrastorage.org/getpro/habr/post_images/899/a67/551/899a675510d28419769a9b42281f0c65.svg" alt="eu"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(ou seja, um conjunto ponderado de linhas sobre um determinado alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/4e1/b49/a1f/4e1b49a1f827737c3c2fec7b6eeef35b.svg" alt="UMA"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), o WFST codifica um mapa ponderado de um idioma </font></font><img src="https://habrastorage.org/getpro/habr/post_images/a2a/b58/822/a2ab5882273242f94981925836a91ec8.svg" alt="L_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acima do alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/2a6/b12/09b/2a6b1209bdf752a5f991cb012b5b791a.svg" alt="A_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para um idioma </font></font><img src="https://habrastorage.org/getpro/habr/post_images/3c4/611/0c4/3c46110c45a2c9d8d3c279cad331920b.svg" alt="L_2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">acima do alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/e9f/c45/bcf/e9fc45bcff4c99d6b42a83b8da01eabd.svg" alt="A_2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Uma m√°quina de estados finitos ponderada, colocando uma string </font></font><img src="https://habrastorage.org/getpro/habr/post_images/5bf/27c/73c/5bf27c73c71f303844ee4973cab18377.svg" alt="S"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre o alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/4e1/b49/a1f/4e1b49a1f827737c3c2fec7b6eeef35b.svg" alt="UMA"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, atribui algum peso a ela </font></font><img src="https://habrastorage.org/getpro/habr/post_images/02b/27e/089/02b27e089139bd8efdfe985192ec9336.svg" alt="W"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, enquanto WFST, recebendo uma string</font></font><img src="https://habrastorage.org/getpro/habr/post_images/325/913/78f/32591378f1f3c477755274a1269b0f49.svg" alt="S_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre o alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/2a6/b12/09b/2a6b1209bdf752a5f991cb012b5b791a.svg" alt="A_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, associa a ele um conjunto de pares (possivelmente infinitos) </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d13/6d6/65d/d136d665d0c512df23a1eae1000eb95f.svg" alt="\ {&amp; S_2 ^ 1, w_1 &amp; gt;, \ ldots, &amp; lt; S_2 ^ k, w_k &amp; gt;, \ ldots \}"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, onde </font></font><img src="https://habrastorage.org/getpro/habr/post_images/917/beb/0cc/917beb0cc43863c39e8041595dc6f95c.svg" alt="S_2 ^ i"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° a linha acima do alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/e9f/c45/bcf/e9fc45bcff4c99d6b42a83b8da01eabd.svg" alt="A_2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no qual a linha √© convertida </font></font><img src="https://habrastorage.org/getpro/habr/post_images/325/913/78f/32591378f1f3c477755274a1269b0f49.svg" alt="S_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><img src="https://habrastorage.org/getpro/habr/post_images/9c6/a44/e8e/9c6a44e8ed4cb10046e00346c6b58b15.svg" alt="w_i"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© o peso dessa convers√£o. Cada transi√ß√£o do conversor √© caracterizada por dois estados (entre os quais a transi√ß√£o √© feita), os caracteres de entrada (do alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/2a6/b12/09b/2a6b1209bdf752a5f991cb012b5b791a.svg" alt="A_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), os caracteres de sa√≠da (do alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/e9f/c45/bcf/e9fc45bcff4c99d6b42a83b8da01eabd.svg" alt="A_2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) e o peso da transi√ß√£o. Um caractere vazio (sequ√™ncia vazia) √© considerado um elemento dos dois alfabetos. O </font><font style="vertical-align: inherit;">peso da </font><font style="vertical-align: inherit;">convers√£o de </font></font><img src="https://habrastorage.org/getpro/habr/post_images/fb1/4b2/485/fb14b2485daa4b8f13252981a33df4e5.svg" alt="X"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sequ√™ncia em sequ√™ncia </font></font><img src="https://habrastorage.org/getpro/habr/post_images/92f/e45/5fc/92fe455fc98f988c4d76f3d76b36d7ef.svg" alt="Y"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© a soma dos produtos dos pesos de transi√ß√£o ao longo de todos os caminhos nos quais a concatena√ß√£o dos caracteres de entrada forma a sequ√™ncia </font></font><img src="https://habrastorage.org/getpro/habr/post_images/fb1/4b2/485/fb14b2485daa4b8f13252981a33df4e5.svg" alt="X"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e a concatena√ß√£o dos caracteres de sa√≠da forma a sequ√™ncia</font></font><img src="https://habrastorage.org/getpro/habr/post_images/92f/e45/5fc/92fe455fc98f988c4d76f3d76b36d7ef.svg" alt="Y"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e que transferem o conversor do estado inicial para um dos terminais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A opera√ß√£o de composi√ß√£o √© determinada no WFST, no qual o m√©todo de p√≥s-processamento √© baseado. Vamos ser dada dois transformadores </font></font><img src="https://habrastorage.org/getpro/habr/post_images/173/a12/2f7/173a122f7849b9134ce2718c6e02ab46.svg" alt="T_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e </font></font><img src="https://habrastorage.org/getpro/habr/post_images/052/301/117/052301117e72c384454188c12ba6ec0b.svg" alt="T_2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, e </font></font><img src="https://habrastorage.org/getpro/habr/post_images/173/a12/2f7/173a122f7849b9134ce2718c6e02ab46.svg" alt="T_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">converter a linha </font></font><img src="https://habrastorage.org/getpro/habr/post_images/fb1/4b2/485/fb14b2485daa4b8f13252981a33df4e5.svg" alt="X"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de cima </font></font><img src="https://habrastorage.org/getpro/habr/post_images/bf4/953/6ff/bf49536ff21c20c8dd6a6c30fa00884f.svg" alt="Machado"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para a linha </font></font><img src="https://habrastorage.org/getpro/habr/post_images/92f/e45/5fc/92fe455fc98f988c4d76f3d76b36d7ef.svg" alt="Y"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de cima </font></font><img src="https://habrastorage.org/getpro/habr/post_images/ea9/1a9/a75/ea91a9a754c501c4e117285194fc1d8c.svg" alt="A_y"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com o peso </font></font><img src="https://habrastorage.org/getpro/habr/post_images/f8d/841/546/f8d84154605b3652f439d036c0ae04ca.svg" alt="w_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, e </font></font><img src="https://habrastorage.org/getpro/habr/post_images/052/301/117/052301117e72c384454188c12ba6ec0b.svg" alt="T_2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">converter </font></font><img src="https://habrastorage.org/getpro/habr/post_images/92f/e45/5fc/92fe455fc98f988c4d76f3d76b36d7ef.svg" alt="Y"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre </font></font><img src="https://habrastorage.org/getpro/habr/post_images/ea9/1a9/a75/ea91a9a754c501c4e117285194fc1d8c.svg" alt="A_y"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para a linha </font></font><img src="https://habrastorage.org/getpro/habr/post_images/be9/efa/777/be9efa77761b1343076071d07add5798.svg" alt="Z"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">de cima </font></font><img src="https://habrastorage.org/getpro/habr/post_images/b04/afc/54f/b04afc54f564b1e7dc5ff1c3a8ec48cf.svg" alt="A_z"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com o peso </font></font><img src="https://habrastorage.org/getpro/habr/post_images/1ad/f05/4f5/1adf054f58e7620e4f853f436b39fcaa.svg" alt="w_2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Em seguida, o conversor </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d0f/ef7/45a/d0fef745aef55c9cccf5c3b3999dbdb3.svg" alt="T_1 \ circ T_2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, chamado de composi√ß√£o dos conversores, converte a string </font></font><img src="https://habrastorage.org/getpro/habr/post_images/fb1/4b2/485/fb14b2485daa4b8f13252981a33df4e5.svg" alt="X"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em uma string </font></font><img src="https://habrastorage.org/getpro/habr/post_images/be9/efa/777/be9efa77761b1343076071d07add5798.svg" alt="Z"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com um peso</font></font><img src="https://habrastorage.org/getpro/habr/post_images/6b6/267/867/6b6267867aed215a641ef6b00fdbf382.svg" alt="w_1 \ cdot w_2"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. A composi√ß√£o dos transdutores √© uma opera√ß√£o computacionalmente cara, mas pode ser calculada pregui√ßosamente - os estados e transi√ß√µes do transdutor resultante podem ser constru√≠dos no momento em que precisam ser acessados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O algoritmo para p√≥s-processamento do resultado do reconhecimento baseado no WFST √© baseado em tr√™s fontes principais de informa√ß√£o - o </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c25/cdf/6f3/c25cdf6f30745730e0ef76706327c970.svg" alt="Hm"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">modelo de </font><font style="vertical-align: inherit;">hip√≥tese </font><font style="vertical-align: inherit;">, o modelo de erro </font></font><img src="https://habrastorage.org/getpro/habr/post_images/efb/79e/7df/efb79e7df0792cea483c6ed41efea702.svg" alt="EM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e o modelo de linguagem </font></font><img src="https://habrastorage.org/getpro/habr/post_images/b8f/002/734/b8f002734a17c86c9be6e9e3aa8cdfb0.svg" alt="LM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Todos os tr√™s modelos s√£o apresentados na forma de transdutores finais ponderados:</font></font><br>
<br>
<ol>
<li><em> </em> <img src="https://habrastorage.org/getpro/habr/post_images/c25/cdf/6f3/c25cdf6f30745730e0ef76706327c970.svg" alt="Hm">       (  WFST ‚Äì      ,       ),  ,    .  ,         <img src="https://habrastorage.org/getpro/habr/post_images/2b4/73f/d75/2b473fd75c118eae403e73e06abc0cfc.svg" alt="C_1, C_2, \ldots, C_N">,                 (): <img src="https://habrastorage.org/getpro/habr/post_images/efd/145/e4a/efd145e4a2defc2ed71b4e24bf8e9bd1.svg" alt="C_i = \{&amp;lt;a_{i1}, q_{i1}&amp;gt;, \ldots, &amp;lt;a_{ik}, q_{ik}&amp;gt;\}">,  <img src="https://habrastorage.org/getpro/habr/post_images/af8/a1c/f66/af8a1cf667abc5982ba8b1008ab1d698.svg" alt="a_{ij}"> ‚Äì <img src="https://habrastorage.org/getpro/habr/post_images/c73/07a/1bf/c7307a1bf9d387db2abbcfc4215797c1.svg" alt="j">-  , <img src="https://habrastorage.org/getpro/habr/post_images/8c6/26b/064/8c626b0640801ca8b783dd4d27187a9e.svg" alt="q_{ij}"> ‚Äì  ()  .           <img src="https://habrastorage.org/getpro/habr/post_images/c3c/523/a87/c3c523a878065a0846fa7e92f7e5293c.svg" alt="(N+1)">- ,   : <img src="https://habrastorage.org/getpro/habr/post_images/5f8/55a/b76/5f855ab76444c11e5dff28e478ebe06a.svg" alt="0">-   , <img src="https://habrastorage.org/getpro/habr/post_images/a1e/39d/a1c/a1e39da1c84981d7264baa207047222a.svg" alt="N">- ‚Äì ,    <img src="https://habrastorage.org/getpro/habr/post_images/afd/e82/597/afde825977cf3ca73a2f1952aa66c2cd.svg" alt="(i-1)">-  <img src="https://habrastorage.org/getpro/habr/post_images/75c/b01/aa8/75cb01aa8d9f97db4343ac0c5ef11b2d.svg" alt="i">-     <img src="https://habrastorage.org/getpro/habr/post_images/0c5/724/5db/0c57245dbd3c18e987498491056a7911.svg" alt="C_i">.  <img src="https://habrastorage.org/getpro/habr/post_images/c73/07a/1bf/c7307a1bf9d387db2abbcfc4215797c1.svg" alt="j">-        <img src="https://habrastorage.org/getpro/habr/post_images/af8/a1c/f66/af8a1cf667abc5982ba8b1008ab1d698.svg" alt="a_{ij}">,       .       ,       .<br>
<img src="https://habrastorage.org/webt/7k/jo/13/7kjo13f-3_8ydvxj2ub421zhzyq.png"><br>
. 1.   ,    WFST (  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="> </a>).     .<br>
</li>
</ol><br>
<ol>
<li><em> </em> <img src="https://habrastorage.org/getpro/habr/post_images/efb/79e/7df/efb79e7df0792cea483c6ed41efea702.svg" alt="EM">    ,    ,          .           WFST    (     ).         .  ,            .<br>
</li>
<li><em> </em> <img src="https://habrastorage.org/getpro/habr/post_images/b8f/002/734/b8f002734a17c86c9be6e9e3aa8cdfb0.svg" alt="LM">            . ..    ,       (      ).<br>
</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois de definir um modelo de hip√≥teses, erros e um modelo de linguagem, a tarefa de p√≥s-processamento dos resultados do reconhecimento agora pode ser apresentada da seguinte maneira: considere a composi√ß√£o dos tr√™s modelos </font></font><img src="https://habrastorage.org/getpro/habr/post_images/258/b21/786/258b217865a28732f7efea99f27844a5.svg" alt="T=HM\circ EM\circ LM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(em termos da composi√ß√£o do WFST). O conversor </font></font><img src="https://habrastorage.org/getpro/habr/post_images/365/0cb/4e8/3650cb4e8670eeb97ce55a835259374a.svg" alt="T"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">codifica todas as convers√µes poss√≠veis de strings </font></font><img src="https://habrastorage.org/getpro/habr/post_images/fb1/4b2/485/fb14b2485daa4b8f13252981a33df4e5.svg" alt="X"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do modelo de hip√≥tese </font></font><img src="https://habrastorage.org/getpro/habr/post_images/c25/cdf/6f3/c25cdf6f30745730e0ef76706327c970.svg" alt="HM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">em strings </font></font><img src="https://habrastorage.org/getpro/habr/post_images/be9/efa/777/be9efa77761b1343076071d07add5798.svg" alt="Z"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">do modelo de linguagem </font></font><img src="https://habrastorage.org/getpro/habr/post_images/b8f/002/734/b8f002734a17c86c9be6e9e3aa8cdfb0.svg" alt="LM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, aplicando </font></font><img src="https://habrastorage.org/getpro/habr/post_images/fb1/4b2/485/fb14b2485daa4b8f13252981a33df4e5.svg" alt="X"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transforma√ß√µes codificadas no modelo de erro </font><font style="vertical-align: inherit;">em strings </font></font><img src="https://habrastorage.org/getpro/habr/post_images/efb/79e/7df/efb79e7df0792cea483c6ed41efea702.svg" alt="EM"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Al√©m disso, o peso dessa transforma√ß√£o inclui o peso da hip√≥tese original, o peso da transforma√ß√£o e o peso da sequ√™ncia resultante (no caso de um modelo de linguagem ponderada). Por conseguinte, nesse modelo, o p√≥s-processamento ideal do resultado do reconhecimento corresponder√° ao caminho √≥timo (em termos de peso) no conversor</font></font><img src="https://habrastorage.org/getpro/habr/post_images/365/0cb/4e8/3650cb4e8670eeb97ce55a835259374a.svg" alt="T"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">traduzindo-o do inicial para um dos estados terminais. A linha de entrada nesse caminho corresponder√° √† hip√≥tese inicial selecionada e a linha de sa√≠da ao resultado do reconhecimento corrigido. O caminho ideal pode ser buscado usando algoritmos para encontrar os caminhos mais curtos em gr√°ficos direcionados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As vantagens dessa abordagem s√£o sua generalidade e flexibilidade. O modelo de erro, por exemplo, pode ser facilmente expandido de forma a levar em considera√ß√£o a exclus√£o e adi√ß√£o de caracteres (para isso, vale a pena adicionar transi√ß√µes com um s√≠mbolo de sa√≠da ou entrada vazio, respectivamente, ao modelo de erro). No entanto, este modelo tem desvantagens significativas. Primeiro, o modelo de linguagem aqui deve ser apresentado como um transformador finito ponderado finito. Para linguagens complexas, esse aut√¥mato pode ser bastante complicado e, em caso de altera√ß√£o ou refinamento do modelo de linguagem, ser√° necess√°rio reconstru√≠-lo. Note-se tamb√©m que a composi√ß√£o dos tr√™s transdutores, como resultado, tem como regra um transdutor ainda mais volumoso,e essa composi√ß√£o √© calculada toda vez que voc√™ inicia o p√≥s-processamento de um resultado de reconhecimento. Devido ao volume da composi√ß√£o, a busca pelo caminho ideal na pr√°tica deve ser realizada com m√©todos heur√≠sticos, como a pesquisa A *.</font></font><br>
<br>
<h2>    </h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Usando o modelo de verifica√ß√£o de gram√°ticas, √© poss√≠vel construir um modelo mais simples da tarefa de resultados de reconhecimento de p√≥s-processamento, que n√£o ser√° t√£o geral quanto o modelo baseado no WFST, mas facilmente extens√≠vel e f√°cil de implementar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma gram√°tica de verifica√ß√£o √© um par </font></font><img src="https://habrastorage.org/getpro/habr/post_images/fd3/47b/00c/fd347b00c55ac4ec6540b463ad680c1b.svg" alt="G=&amp;lt;A,P&amp;gt;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, onde </font></font><img src="https://habrastorage.org/getpro/habr/post_images/4e1/b49/a1f/4e1b49a1f827737c3c2fec7b6eeef35b.svg" alt="A"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° o alfabeto e </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d01/0b8/a41/d010b8a414d72f3ae43997a3a0c383db.svg" alt="P"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© o predicado de admissibilidade de uma sequ√™ncia sobre o alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/4e1/b49/a1f/4e1b49a1f827737c3c2fec7b6eeef35b.svg" alt="A"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, ou seja, </font></font><img src="https://habrastorage.org/getpro/habr/post_images/282/f7a/5f2/282f7a5f2b4b8217fcb3e2f19c580e65.svg" alt="P:A^*\rightarrow\{0,1\}"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Uma gram√°tica de verifica√ß√£o codifica um determinado idioma sobre o alfabeto da </font></font><img src="https://habrastorage.org/getpro/habr/post_images/4e1/b49/a1f/4e1b49a1f827737c3c2fec7b6eeef35b.svg" alt="A"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seguinte maneira: uma linha </font></font><img src="https://habrastorage.org/getpro/habr/post_images/cbd/a7d/cf3/cbda7dcf37fe5ffdfb068437f1a9639d.svg" alt="S\in A^*"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pertence ao idioma se o predicado </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d01/0b8/a41/d010b8a414d72f3ae43997a3a0c383db.svg" alt="P"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">receber um valor verdadeiro nessa linha. Vale notar que a verifica√ß√£o gramatical √© uma maneira mais geral de representar um modelo de linguagem do que uma m√°quina de estado. De fato, qualquer linguagem representada como uma m√°quina de estados finitos</font></font><img src="https://habrastorage.org/getpro/habr/post_images/365/0cb/4e8/3650cb4e8670eeb97ce55a835259374a.svg" alt="T"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, pode ser representado na forma de uma gram√°tica de verifica√ß√£o (com um predicado </font></font><img src="https://habrastorage.org/getpro/habr/post_images/3de/a6c/104/3dea6c104ca5878cea71b4e0f6a431df.svg" alt="P(S)\Leftrightarrow S\in \mathrm{acc}(T)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, onde </font></font><img src="https://habrastorage.org/getpro/habr/post_images/ee2/9d3/119/ee29d3119304322fc8ff23735ff9c8bd.svg" alt="\mathrm{acc}(T)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© o conjunto de linhas aceito pelo aut√¥mato </font></font><img src="https://habrastorage.org/getpro/habr/post_images/365/0cb/4e8/3650cb4e8670eeb97ce55a835259374a.svg" alt="T"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. No entanto, nem todos os idiomas que podem ser representados como uma gram√°tica de verifica√ß√£o s√£o represent√°veis ‚Äã‚Äãcomo um aut√¥mato finito no caso geral (por exemplo, um idioma de palavras de tamanho ilimitado em excesso). alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/a98/43f/42d/a9843f42dac088912b353acfdcb9a4d1.svg" alt="A=\{a,b\}"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, no qual o n√∫mero de caracteres √© </font></font><img src="https://habrastorage.org/getpro/habr/post_images/77a/3eb/b47/77a3ebb4782888583e97885d3053b554.svg" alt="a"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">maior que o n√∫mero de caracteres </font></font><img src="https://habrastorage.org/getpro/habr/post_images/428/1f5/336/4281f5336579f64aa8eac86ca1503e43.svg" alt="b"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Deixe o resultado do reconhecimento (modelo de hip√≥tese) ser dado como uma sequ√™ncia de c√©lulas</font></font><img src="https://habrastorage.org/getpro/habr/post_images/2b4/73f/d75/2b473fd75c118eae403e73e06abc0cfc.svg" alt="C_1, C_2, \ldots, C_N"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(igual ao da se√ß√£o anterior). Por conveni√™ncia, assumimos que cada c√©lula cont√©m K alternativas e todas as estimativas alternativas assumem um valor positivo. A avalia√ß√£o (peso) da sequ√™ncia ser√° considerada o produto das classifica√ß√µes de cada um dos caracteres dessa sequ√™ncia. Se o modelo de linguagem √© fornecido na forma de uma gram√°tica de verifica√ß√£o </font></font><img src="https://habrastorage.org/getpro/habr/post_images/fd3/47b/00c/fd347b00c55ac4ec6540b463ad680c1b.svg" alt="G=&amp;lt;A,P&amp;gt;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, o problema de p√≥s-processamento pode ser formulado como um problema discreto de otimiza√ß√£o (maximiza√ß√£o) no conjunto de controles </font></font><img src="https://habrastorage.org/getpro/habr/post_images/6ef/02b/580/6ef02b58077800a2b22a5e71ecc6eeec.svg" alt="A^N"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(o conjunto de todas as linhas de comprimento </font></font><img src="https://habrastorage.org/getpro/habr/post_images/a1e/39d/a1c/a1e39da1c84981d7264baa207047222a.svg" alt="N"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sobre o alfabeto </font></font><img src="https://habrastorage.org/getpro/habr/post_images/4e1/b49/a1f/4e1b49a1f827737c3c2fec7b6eeef35b.svg" alt="A"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">) com o predicado de admissibilidade </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d01/0b8/a41/d010b8a414d72f3ae43997a3a0c383db.svg" alt="P"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">e funcional </font></font><img src="https://habrastorage.org/getpro/habr/post_images/8d9/20b/0e8/8d920b0e847b392accd0e0d75498c7ed.svg" alt="F(S)=\prod_{i=1}^{N}q_i(S_i)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, onde </font></font><img src="https://habrastorage.org/getpro/habr/post_images/1d3/735/3a3/1d37353a3480e6c9e24bf62a3fc10f3b.svg" alt="q_i(S_i)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">est√° a estimativa de s√≠mbolo </font></font><img src="https://habrastorage.org/getpro/habr/post_images/7a3/62f/59e/7a362f59eba33ebc236fefd712440e76.svg" alt="S_i"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">na </font></font><img src="https://habrastorage.org/getpro/habr/post_images/75c/b01/aa8/75cb01aa8d9f97db4343ac0c5ef11b2d.svg" alt="i"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">i-c√©lula .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Qualquer problema discreto de otimiza√ß√£o (ou seja, com um conjunto finito de controles) pode ser resolvido usando uma enumera√ß√£o completa de controles. O algoritmo descrito itera eficientemente sobre os controles (linhas) em ordem decrescente do valor funcional at√© que o predicado de validade aceite o valor verdadeiro. Definimos como o </font></font><img src="https://habrastorage.org/getpro/habr/post_images/8da/056/75e/8da05675e58b0287c1cca7e37cdc1d99.svg" alt="M"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√∫mero m√°ximo de itera√ß√µes do algoritmo, ou seja, o n√∫mero m√°ximo de linhas com a estimativa m√°xima na qual o predicado ser√° calculado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Primeiro, classificamos as alternativas em ordem decrescente de estimativas e assumimos ainda que, para qualquer c√©lula, a </font></font><img src="https://habrastorage.org/getpro/habr/post_images/0c5/724/5db/0c57245dbd3c18e987498491056a7911.svg" alt="C_i"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">desigualdade </font></font><img src="https://habrastorage.org/getpro/habr/post_images/200/613/c3d/200613c3daed32c6a4e077ebbef7b2d0.svg" alt="q_{ij}\ge q_{ik}"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">para </font><font style="vertical-align: inherit;">√© verdadeira </font></font><img src="https://habrastorage.org/getpro/habr/post_images/e18/bc0/ef5/e18bc0ef500bf2eacf31394cbb669379.svg" alt="j&amp;lt;k"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. A posi√ß√£o ser√° a sequ√™ncia de √≠ndices </font></font><img src="https://habrastorage.org/getpro/habr/post_images/6c8/161/6fd/6c81616fd0777598b5f72bb00fd1d82f.svg" alt="j_1,\ldots,j_N"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">correspondente √† linha</font></font><img src="https://habrastorage.org/getpro/habr/post_images/bff/a11/709/bffa1170928103888512e8f4abdf6e06.svg" alt="a_{1j_1},\ldots,a_{Nj_N}"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Avalia√ß√£o da posi√ß√£o, ou seja, valor funcional nessa posi√ß√£o, considere as avalia√ß√µes alternativas de produtos correspondentes aos √≠ndices inclu√≠dos na posi√ß√£o: </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d10/5a5/397/d105a539751b437b9b41c67ac7ed1c5b.svg" alt="\prod_{i=1}^N q_i{j_i}"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Para armazenar posi√ß√µes, voc√™ precisa da estrutura de dados </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionBase</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que permite adicionar novas posi√ß√µes (obtendo seus endere√ßos), obter a posi√ß√£o no endere√ßo e verificar se a posi√ß√£o especificada foi adicionada ao banco de dados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No processo de listagem de posi√ß√µes, selecionaremos uma posi√ß√£o n√£o visualizada com uma classifica√ß√£o m√°xima e, em seguida, adicionaremos √† fila para considera√ß√£o do </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionQueue</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> todas as posi√ß√µes que podem ser obtidas a partir da atual, adicionando um a um dos √≠ndices inclu√≠dos na posi√ß√£o. A fila para considera√ß√£o </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionQueue</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> conter√° triplos </font></font><img src="https://habrastorage.org/getpro/habr/post_images/959/6c2/843/9596c2843676ec22e1ca35c324669dbd.svg" alt="&amp;lt;Q,R,I&amp;gt;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, em que</font></font><img src="https://habrastorage.org/getpro/habr/post_images/859/cfd/804/859cfd804dfe88b1fdb1b431d440de8e.svg" alt="Q"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- avalia√ß√£o da posi√ß√£o n√£o </font></font><img src="https://habrastorage.org/getpro/habr/post_images/bc2/e13/169/bc2e1316980f83eed49a82ca5dd0f525.svg" alt="R"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">revisada </font><font style="vertical-align: inherit;">, </font><font style="vertical-align: inherit;">- endere√ßo da posi√ß√£o visualizada no </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionBase a</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> partir da qual essa posi√ß√£o foi obtida, </font></font><img src="https://habrastorage.org/getpro/habr/post_images/fdf/d51/092/fdfd51092bb8d23740bdaae45950aa8f.svg" alt="I"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- √≠ndice do elemento position com o endere√ßo </font></font><img src="https://habrastorage.org/getpro/habr/post_images/bc2/e13/169/bc2e1316980f83eed49a82ca5dd0f525.svg" alt="R"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">que foi aumentado em um para obter essa posi√ß√£o. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O posicionamento de uma</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> fila </font><em><font style="vertical-align: inherit;">PositionQueue</font></em><font style="vertical-align: inherit;"> exigir√° uma estrutura de dados que permita adicionar outra tripla </font></font><img src="https://habrastorage.org/getpro/habr/post_images/959/6c2/843/9596c2843676ec22e1ca35c324669dbd.svg" alt="&amp;lt;Q,R,I&amp;gt;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, bem como recuperar uma tripla com classifica√ß√£o m√°xima </font></font><img src="https://habrastorage.org/getpro/habr/post_images/859/cfd/804/859cfd804dfe88b1fdb1b431d440de8e.svg" alt="Q"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na primeira itera√ß√£o do algoritmo, √© necess√°rio considerar a posi√ß√£o </font></font><img src="https://habrastorage.org/getpro/habr/post_images/050/6aa/323/0506aa3230e4366f656c45913cf57b70.svg" alt="S_1=\{1,1,\ldots,1\}"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">com a estimativa m√°xima. Se o predicado </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d01/0b8/a41/d010b8a414d72f3ae43997a3a0c383db.svg" alt="P"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pegar o valor verdadeiro na linha correspondente a esta posi√ß√£o, o algoritmo termina. Caso contr√°rio, a posi√ß√£o √© </font></font><img src="https://habrastorage.org/getpro/habr/post_images/325/913/78f/32591378f1f3c477755274a1269b0f49.svg" alt="S_1"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adicionada ao </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionBase</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, em</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionQueue</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> adiciona todos os triplos da exibi√ß√£o </font></font><img src="https://habrastorage.org/getpro/habr/post_images/72e/309/388/72e309388903ac3376e98d8e64316b3f.svg" alt="&amp;lt;Q\cdot q_{i2}/q_{i1},R(S_1),i&amp;gt;"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, para todos </font></font><img src="https://habrastorage.org/getpro/habr/post_images/f10/c62/9c6/f10c629c68a8bd9faeb57dbc4b293b4e.svg" alt="i\in\{1,\ldots,N\}"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, onde </font></font><img src="https://habrastorage.org/getpro/habr/post_images/42e/06f/198/42e06f19806b7f405c5c29221d5331ee.svg" alt="R(S_1)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√© o endere√ßo da posi√ß√£o inicial no </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionBase</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . A cada itera√ß√£o subsequente do algoritmo, o </font><font style="vertical-align: inherit;">triplo </font><font style="vertical-align: inherit;">com o valor m√°ximo da estimativa </font><font style="vertical-align: inherit;">√© extra√≠do </font><font style="vertical-align: inherit;">do </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionQueue</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a posi√ß√£o em </font><font style="vertical-align: inherit;">quest√£o √© restaurada </font><font style="vertical-align: inherit;">no endere√ßo da posi√ß√£o </font><font style="vertical-align: inherit;">e do √≠ndice </font><font style="vertical-align: inherit;">iniciais </font><font style="vertical-align: inherit;">. Se a posi√ß√£o </font><font style="vertical-align: inherit;">j√° tiver sido adicionada ao banco de dados das posi√ß√µes </font><em><font style="vertical-align: inherit;">PositionBase</font></em><font style="vertical-align: inherit;"> consideradas </font><font style="vertical-align: inherit;">, ela ser√° ignorada e as </font><font style="vertical-align: inherit;">tr√™s seguintes com o valor m√°ximo da estimativa ser√£o extra√≠das </font><font style="vertical-align: inherit;">do </font><em><font style="vertical-align: inherit;">PositionQueue</font></em><font style="vertical-align: inherit;"> . Caso contr√°rio, o </font><font style="vertical-align: inherit;">valor </font><font style="vertical-align: inherit;">do </font><font style="vertical-align: inherit;">predicado √© verificado </font><font style="vertical-align: inherit;">na linha correspondente √† posi√ß√£o </font><font style="vertical-align: inherit;">. Se o predicado</font></font><img src="https://habrastorage.org/getpro/habr/post_images/959/6c2/843/9596c2843676ec22e1ca35c324669dbd.svg" alt="&amp;lt;Q,R,I&amp;gt;"><font style="vertical-align: inherit;"></font><img src="https://habrastorage.org/getpro/habr/post_images/859/cfd/804/859cfd804dfe88b1fdb1b431d440de8e.svg" alt="Q"><font style="vertical-align: inherit;"></font><img src="https://habrastorage.org/getpro/habr/post_images/bc2/e13/169/bc2e1316980f83eed49a82ca5dd0f525.svg" alt="R"><font style="vertical-align: inherit;"></font><img src="https://habrastorage.org/getpro/habr/post_images/fdf/d51/092/fdfd51092bb8d23740bdaae45950aa8f.svg" alt="I"><font style="vertical-align: inherit;"></font><img src="https://habrastorage.org/getpro/habr/post_images/5bf/27c/73c/5bf27c73c71f303844ee4973cab18377.svg" alt="S"><font style="vertical-align: inherit;"></font><img src="https://habrastorage.org/getpro/habr/post_images/5bf/27c/73c/5bf27c73c71f303844ee4973cab18377.svg" alt="S"><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><em><font style="vertical-align: inherit;"></font></em><font style="vertical-align: inherit;"></font><img src="https://habrastorage.org/getpro/habr/post_images/859/cfd/804/859cfd804dfe88b1fdb1b431d440de8e.svg" alt="Q"><font style="vertical-align: inherit;"></font><img src="https://habrastorage.org/getpro/habr/post_images/5bf/27c/73c/5bf27c73c71f303844ee4973cab18377.svg" alt="S"><font style="vertical-align: inherit;"></font><img src="https://habrastorage.org/getpro/habr/post_images/d01/0b8/a41/d010b8a414d72f3ae43997a3a0c383db.svg" alt="P"><font style="vertical-align: inherit;"></font><img src="https://habrastorage.org/getpro/habr/post_images/d01/0b8/a41/d010b8a414d72f3ae43997a3a0c383db.svg" alt="P"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pega o valor verdadeiro nessa linha e o algoritmo termina. Se o predicado </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d01/0b8/a41/d010b8a414d72f3ae43997a3a0c383db.svg" alt="P"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n√£o aceitar o valor verdadeiro nessa linha, a linha ser√° </font></font><img src="https://habrastorage.org/getpro/habr/post_images/5bf/27c/73c/5bf27c73c71f303844ee4973cab18377.svg" alt="S"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adicionada ao </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionBase</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (com o endere√ßo atribu√≠do </font></font><img src="https://habrastorage.org/getpro/habr/post_images/3a1/668/281/3a1668281daf18680a259de22f952e27.svg" alt="R(S)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">), </font><font style="vertical-align: inherit;">todas as posi√ß√µes derivadas ser√£o adicionadas √† </font><font style="vertical-align: inherit;">fila </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionQueue</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e a pr√≥xima itera√ß√£o continuar√°.</font></font><br>
<br>
<pre><code class="plaintext hljs">FindSuitableString(M, N, K, P, C[1], ..., C[N]):<font></font>
      i : 1 ... N:<font></font>
         C[i]    <font></font>
    ( )<font></font>
     PositionBase  PositionQueue<font></font>
    S_1 = {1, 1, 1, ..., 1}<font></font>
     P(S_1): <font></font>
        : S_1,  <font></font>
    ( )<font></font>
     S_1  PositionBase   R(S_1)<font></font>
      i : 1 ... N:<font></font>
         K &gt; 1, :<font></font>
              &lt;Q * q[i][2] / q[i][1], R(S_1), i&gt;  PositionQueue<font></font>
        ( )<font></font>
    ( )<font></font>
        PositionBase  M:<font></font>
           PositionQueue:<font></font>
              PositionQueue  &lt;Q, R, I&gt;   Q<font></font>
            S_from =   PositionBase   R<font></font>
            S_curr = {S_from[1], S_from[2], ..., S_from[I] + 1, ..., S_from[N]}<font></font>
             S_curr   PositionBase:<font></font>
                 <font></font>
            :<font></font>
                 S_curr  PositionBase   R(S_curr)<font></font>
            ( )<font></font>
             P(S_curr):<font></font>
                : S_curr,  <font></font>
            ( )<font></font>
              i : 1 ... N:<font></font>
                 K &gt; S_curr[i]:<font></font>
                      &lt;Q * q[i][S_curr[i] + 1] / q[i][S_curr[i]], <font></font>
                                     R(S_curr),<font></font>
                                     i&gt;  PositionQueue<font></font>
                ( )<font></font>
            ( )<font></font>
               <font></font>
        ( )<font></font>
    ( )<font></font>
        M <font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Observe que, durante as </font></font><img src="https://habrastorage.org/getpro/habr/post_images/8da/056/75e/8da05675e58b0287c1cca7e37cdc1d99.svg" alt="M"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">itera√ß√µes, o predicado ser√° verificado n√£o mais de </font></font><img src="https://habrastorage.org/getpro/habr/post_images/8da/056/75e/8da05675e58b0287c1cca7e37cdc1d99.svg" alt="M"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma vez, n√£o haver√° mais </font></font><img src="https://habrastorage.org/getpro/habr/post_images/8da/056/75e/8da05675e58b0287c1cca7e37cdc1d99.svg" alt="M"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">adi√ß√µes ao </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionBase</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, al√©m do </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionQueue</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , a extra√ß√£o do </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionQueue</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e uma pesquisa no </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionBase</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ocorrer√£o mais de </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d3c/ea0/60e/d3cea060e08931d2d2ae58bc4c90f712.svg" alt="M\cdot N"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">uma vez. Se a implementa√ß√£o </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionQueue</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usou "agrupamento" de estrutura de dados e, para a organiza√ß√£o </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PositionBase,</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> usando a estrutura de dados "Bor", a complexidade do algoritmo √© </font></font><img src="https://habrastorage.org/getpro/habr/post_images/8f6/6c0/ef2/8f66c0ef2fb6320ab87d5f1e728d4586.svg" alt="O\left(M \cdot \left(p(N) +N^2+N \log(M\cdot N)\right)\right)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">: where </font></font><img src="https://habrastorage.org/getpro/habr/post_images/3bd/ae2/7e6/3bdae27e65ac0c352379343b50b3a1b0.svg" alt="p(N)"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">- teste trudoemost predicado </font></font><img src="https://habrastorage.org/getpro/habr/post_images/d01/0b8/a41/d010b8a414d72f3ae43997a3a0c383db.svg" alt="P"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">no comprimento da linha </font></font><img src="https://habrastorage.org/getpro/habr/post_images/a1e/39d/a1c/a1e39da1c84981d7264baa207047222a.svg" alt="N"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Talvez a desvantagem mais importante do algoritmo baseado na verifica√ß√£o de gram√°ticas seja que ele n√£o pode processar hip√≥teses de comprimentos diferentes (que podem surgir devido a erros de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">segmenta√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : perda ou ocorr√™ncia de caracteres extras, caracteres de colagem e recorte etc.), enquanto altera√ß√µes em hip√≥teses como ‚Äúexcluir um caractere‚Äù, ‚Äúadicionar um caractere‚Äù ou mesmo ‚Äúsubstituir um caractere por um par‚Äù podem ser codificadas no modelo de erro do algoritmo baseado no WFST.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, a velocidade e a facilidade de uso (ao trabalhar com um novo tipo de campo, voc√™ s√≥ precisa dar ao algoritmo acesso √† fun√ß√£o de valida√ß√£o de valor) tornam o m√©todo baseado na verifica√ß√£o de gram√°ticas uma ferramenta muito poderosa no arsenal do desenvolvedor de sistemas de reconhecimento de documentos. </font><font style="vertical-align: inherit;">Usamos essa abordagem para um grande n√∫mero de campos, como v√°rias datas, n√∫mero do cart√£o banc√°rio (predicado - verifica√ß√£o do </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">c√≥digo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> da </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">Lua</font></a><font style="vertical-align: inherit;"> ), campos de √°reas de documentos leg√≠veis por m√°quina com soma de verifica√ß√£o e muitos outros.</font></font><br>
<br>
<hr><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A publica√ß√£o foi preparada com base no </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artigo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Um algoritmo universal para p√≥s-processamento de resultados de reconhecimento com base na valida√ß√£o de gram√°ticas. </font><font style="vertical-align: inherit;">K.B. </font><font style="vertical-align: inherit;">Bulatov, D.P. </font><font style="vertical-align: inherit;">Nikolaev, V.V. </font><font style="vertical-align: inherit;">Postnikov. </font><font style="vertical-align: inherit;">Proceedings of ISA RAS, Vol. 65, No. 4, 2015, pp. 68-73.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt498504/index.html">Sauda√ß√µes de ano novo e COVID-19: como os hackers usam as not√≠cias</a></li>
<li><a href="../pt498510/index.html">X. Uma vis√£o geral da vers√£o em caixa da telefonia e da conex√£o com um site remoto</a></li>
<li><a href="../pt498512/index.html">Combate a engarrafamentos em uma cidade pequena por um pequeno or√ßamento: resultados de 6 meses do projeto</a></li>
<li><a href="../pt498516/index.html">Carteiro - M√©tricas do AutoMetrica no AppMetrica</a></li>
<li><a href="../pt498518/index.html">Uma abordagem simplificada para calcular a data de disponibilidade da produ√ß√£o sob medida</a></li>
<li><a href="../pt498524/index.html">AppCode 2020.1: aprimoramentos de desempenho, preenchimento autom√°tico at√© o final da indexa√ß√£o, gera√ß√£o de documenta√ß√£o e muito mais</a></li>
<li><a href="../pt498526/index.html">O que h√° de novo no Ubuntu 20.04</a></li>
<li><a href="../pt498528/index.html">Entre casa e escrit√≥rio. Como organizar o trabalho de uma equipe distribu√≠da</a></li>
<li><a href="../pt498534/index.html">Reconhecimento de documentos e pessoas: uma uni√£o em nome da liberdade ou um passo em dire√ß√£o a uma ditadura digital?</a></li>
<li><a href="../pt498536/index.html">Como reutilizar c√≥digo com pacotes symfony 5? Parte 2. Retiramos o c√≥digo no pacote</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>