<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👂🏿 🕜 ❔ Eine neue Methode zum Verfolgen von Daten in Google Tag Manager - Serverseitiges Tagging 🔌 🧒🏽 🚘</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="In diesem Artikel möchte ich Sie über eine neue Funktion von Google Tag Manager informieren - Server-Side Tagging - Tracking-Daten auf der Server-Seit...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Eine neue Methode zum Verfolgen von Daten in Google Tag Manager - Serverseitiges Tagging</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/500354/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">In diesem Artikel möchte ich Sie über eine neue Funktion von Google Tag Manager informieren - Server-Side Tagging - Tracking-Daten auf der Server-Seite. </font><font style="vertical-align: inherit;">Diese Funktionalität ermöglicht es den Entwicklern zufolge, Geschäftslogik im Servercode zu verbergen, das Laden von Websites zu beschleunigen und den Schutz von Benutzerdaten zu verbessern, indem der Zugriff auf Skripts von Drittanbietern eingeschränkt wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns genauer an, wie das funktioniert.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Was ist der Unterschied zwischen clientseitigem und serverseitigem Tracking?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die meisten vorhandenen Tag-Manager, Analysesysteme und Werbedienste erfassen Daten mithilfe der clientseitigen Verfolgungsmethode, dh auf der Clientseite. </font><font style="vertical-align: inherit;">Wie es funktioniert? </font><font style="vertical-align: inherit;">Es gibt eine Website oder Anwendung, auf der ein bestimmter Browser installiert ist, und es gibt einen Drittanbieter-Service wie Google Analytics. </font><font style="vertical-align: inherit;">Der Browser sendet die Anfrage direkt an diesen Dienst und erhält bei Bedarf eine Antwort. </font><font style="vertical-align: inherit;">Das heißt, die Interaktion erfolgt zwischen zwei Parteien: einem Browser und einem Drittanbieter-Dienst.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ds/4b/us/ds4bus_mvjfd8q1sk52m_0ysszy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beim Verfolgen von Daten auf der Serverseite (Serverseitiges Verfolgen) wird ein Zwischenpunkt hinzugefügt. </font><font style="vertical-align: inherit;">Im Fall von Google Tag Manager handelt es sich um einen Cloud-Server. </font><font style="vertical-align: inherit;">Von der Clientseite geht die Anforderung zuerst an den Cloud-Server, dann verarbeitet der Server diese Anforderung und sendet sie an ein Drittanbieter-System (Google Analytics). </font><font style="vertical-align: inherit;">Das heißt, anstelle des Browsers des Clients wird die Anforderung vom Cloud-Server gestellt.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gc/la/ng/gclang-u_bcky4xgjvcn3r0hsbi.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns nun die wichtigsten Vor- und Nachteile beider Methoden der Datenerfassung genauer an.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Client Side Tracking</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dies ist die häufigste Methode zum Sammeln von Daten von einer Site. </font><font style="vertical-align: inherit;">Durch die Verfolgung auf der Seite des Browsers des Benutzers können Sie Daten von Cookies, URL-Parametern, verweisenden Quellen, Benutzergerätedaten, IP-Adresse usw. empfangen. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorteile</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dies ist der Standard, der von allen Ihnen bekannten Tag-Managern verwendet wird und an den die meisten Analysten gewöhnt sind.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das clientseitige Tracking ist einfach zu konfigurieren. </font><font style="vertical-align: inherit;">Viele Systeme bieten vorgefertigte Codefragmente, die Sie nur kopieren und auf den Seiten der Site platzieren müssen.</font></font></li>
<li> . ,   ,       Chrome      Google Tag Manager.</li>
<li>Client-Side Tracking,  ,   Server-Side Tracking,        .</li>
</ol><br>
<b></b><br>
<br>
<ol>
<li>         . ,          .</li>
<li>      ,     ,    .     ITP —    Safari   ,     cookie    .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Daten sind weniger sicher als bei der serverseitigen Verfolgung. </font><font style="vertical-align: inherit;">Daher können Sie auf diese Weise keine vertraulichen Informationen von der Website übertragen, z. B. E-Mail- und Benutzertelefonnummern oder -ränder.</font></font></li>
</ol><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Serverseitiges Tracking</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die serverseitige Nachverfolgung ist eine Alternative zur üblichen clientseitigen Nachverfolgungsmethode, mit der Sie das Problem mit Werbeblockern, der Übertragung vertraulicher Daten und der Geschwindigkeit beim Laden von Seiten lösen können. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Leistungen</font></font></b><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Das Senden von Anfragen hängt nicht von der Version oder dem Typ Ihres Browsers ab. </font><font style="vertical-align: inherit;">Alle Anforderungen werden serverseitig verarbeitet, sodass Werbeblocker, ITP, ETP oder eine unterbrochene Verbindung die Qualität Ihrer Daten nicht beeinträchtigen.</font></font></li>
<li>    ,  ,  c     Google Analytics  ,       ,  ,   .</li>
<li>Server-Side Tracking             ,         .</li>
<li>         .  ,    ,       .  Server-Side Tracking     .</li>
</ol><br>
<b></b><br>
<br>
<ol>
<li>          .</li>
<li>   .         .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nicht zum Sammeln von Informationen von SPA- oder PWA-Seiten geeignet.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nicht alle Systeme verwenden Tags, die für die serverseitige Nachverfolgung verfügbar sind.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Methode eignet sich nicht zum Sammeln von URL-Parametern. </font><font style="vertical-align: inherit;">Sie sind auf der Clientseite viel einfacher zu erfassen, da diese Daten im Browser angezeigt werden.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schauen wir uns nun die Vorteile von Server-Side Tracking an, auf die sich das Google Tag Manager-Team konzentriert hat.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GTM Server-Side Tracking: Behauptete Vorteile</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit der serverseitigen Nachverfolgung können Sie die Geschäftslogik Ihrer Site, die mit Anwendungen von Drittanbietern interagiert, verbergen, indem Sie sie in das Backend verschieben. Das heißt, der Benutzer kann nicht auf die Informationen und die Logik zugreifen, die Sie zum Übertragen von Daten verwenden. Sie können beispielsweise ehrliche Margen an GA senden, und auf der Clientseite im Browser des Benutzers gibt es nicht einmal eine solche Variable. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diese Methode ist hinsichtlich der Datenbewegung sicherer. Die Informationen, die Sie für Analysen senden möchten, z. B. ein Segment aus CRM, Geschlecht oder etwas anderes, das mit dem Benutzer zusammenhängt, müssen jetzt nicht mehr an den Browser gesendet werden. Dementsprechend steht dies anderen JS-Skripten im Browser nicht zur Verfügung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie zuvor: Angenommen, Sie möchten den Hash der Telefonnummer, des Geschlechts oder der Benutzeradresse in GA abrufen. </font><font style="vertical-align: inherit;">Um diese Informationen zu senden, müssen Sie sie im DataLayer verfügbar machen. </font><font style="vertical-align: inherit;">Die Informationen aus dem DataLayer stehen allen im Browser geladenen JavaScript-Dateien zur Verfügung. </font><font style="vertical-align: inherit;">Dies ist ein gängiger Bereich. Im Gegensatz zu Python gibt es keine privaten Variablen. </font><font style="vertical-align: inherit;">Wenn Sie diese Informationen über das Backend weitergeben, sind sie in der JavaScript-Browserumgebung des Benutzers nicht verfügbar. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neben der Datensicherheit bietet das Google-Team neben den Vorteilen des serverseitigen Trackings auch die Möglichkeit, die Ladegeschwindigkeit der Website zu erhöhen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">So versuchen Sie das serverseitige Tagging im Google Tag Manager</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Leider gibt es keine Möglichkeit, Anweisungen zum Konfigurieren der serverseitigen Nachverfolgung mit Ihnen zu teilen, da dies eine Beta-Version mit eingeschränktem Zugriff ist. </font><font style="vertical-align: inherit;">Um darauf zuzugreifen, müssen Sie </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ein Whitelist-Formular</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ausfüllen und an Google senden </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem Sie die Berechtigung und Anweisungen von Google erhalten haben, benötigen Sie zum Konfigurieren der serverseitigen Nachverfolgung Folgendes:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Cloud Platform-Konto</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zugriff auf den Domainnamen-Registrar Ihrer Website</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zugriff auf die Veröffentlichung von Inhalten auf Ihrer Website, da für die Methode ein GTM-Container platziert werden muss</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir bei OWOX BI haben es bereits geschafft, die neue Funktionalität zu testen. Kurz gesagt, wie es funktioniert und was der Unterschied zum Standard-Tracking mit Google Tag Manager ist. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funktionsweise der clientseitigen Nachverfolgung</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Wir haben eine Website oder Anwendung. Wir installieren den Container auf der GTM-Website und konfigurieren die darin enthaltenen Tags. Der Container sendet die Daten dann an GA. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ye/3a/8y/ye3a8yyjt0wzvmhxaqecjovjns8.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Funktionsweise der Serverseite</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : Wir haben eine Website oder Anwendung. Wieder richten wir einen GTM-Webcontainer mit allen Tags ein. Als Nächstes richten wir die Umgebung in einer dedizierten Domäne ein. Richten Sie einen Container für diese Umgebung ein. Und die Anfrage wird bereits nicht direkt vom Browser über einen Webcontainer, sondern über einen Zwischenlink in Form eines Cloud-Servers gesendet: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/zu/5a/mq/zu5amq-x80wajy58qkcwaraqhkm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach der Standardkonfiguration der Google Analytics-Ressource werden Daten darin gesammelt:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hb/ji/hd/hbjihdhbtna5you9mb-kkqrd_we.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für die Verwendung eines Cloud-Servers wird eine zusätzliche Gebühr erhoben, die von der Anzahl der Benutzer und Anforderungen auf Ihrer Site abhängt.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ergebnisse</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sollte ich serverseitiges Tracking verwenden? </font><font style="vertical-align: inherit;">Die Antwort auf diese Frage hängt davon ab, welche Daten Sie zu welchen Zwecken sammeln möchten. </font><font style="vertical-align: inherit;">Was für Sie wichtiger ist, ist die Möglichkeit, Zeit und Geld zu sparen oder sensible Daten an das Analysesystem zu übertragen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da sich die Funktionalität noch in der Beta-Phase befindet, lohnt es sich nicht, vollständig darauf umzuschalten und das reguläre Tracking zu deaktivieren (und es wird nicht funktionieren). </font><font style="vertical-align: inherit;">Sie können jetzt jedoch das Google-Team um Zugriff bitten, um die serverseitige Nachverfolgung zu testen und zu entscheiden, ob sie für Ihr Unternehmen nützlich ist.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de500342/index.html">Welche Podcasts haben das „Komitee“, „Habr“ und Sports.ru?</a></li>
<li><a href="../de500344/index.html">Smart Home auf Rädern ... Alice. Teil 2. ZIGBEE</a></li>
<li><a href="../de500346/index.html">Probleme mit DNS in Kubernetes. Öffentliche Obduktion</a></li>
<li><a href="../de500348/index.html">COVID-19-Pandemie mit den Augen eines Mathematikers oder warum das klassische SEIRD-Modell nicht funktioniert</a></li>
<li><a href="../de500352/index.html">Wie bekomme ich ein Praktikum auf Facebook und bekomme ein Angebot in London? Stellen Sie einem Facebook-Ingenieur eine Frage</a></li>
<li><a href="../de500356/index.html">Direkte Dateiübertragung zwischen Geräten über WebRTC</a></li>
<li><a href="../de500360/index.html">Beste SQL-Interviewfragen mit mittlerer Schwierigkeit</a></li>
<li><a href="../de500364/index.html">Erweiterung des Schullernportals auf Moodle und BigBlueButton</a></li>
<li><a href="../de500368/index.html">Generieren vorhersagbarer Zufallssequenzen: ein anderer Ansatz zur Permutation</a></li>
<li><a href="../de500370/index.html">10 nützliche englischsprachige Podcasts für Programmierer, die es wert sind, 2020 abonniert zu werden</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>