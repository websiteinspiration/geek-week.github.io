<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👯 📥 ⛓️ K8sのRedisオペレーターと、このデータベースのデータを分析するためのユーティリティの簡単な概要 👆🏾 🔘 👬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TTLを使用せずに、キーと値の既知のインメモリストアを永続的なデータベースとして使用するとどうなりますか？信頼性の高いものを使用して起動された場合、Kubernetesのオペレーターと思われますか？そして、Redisレプリカを増やす過程で、別の小さな無害な変更を行う場合はどうでしょうか？..この記事...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>K8sのRedisオペレーターと、このデータベースのデータを分析するためのユーティリティの簡単な概要</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/480722/"><img src="https://habrastorage.org/webt/p9/cj/wt/p9cjwtwfxea35sztyast6f7isao.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TTLを使用せずに、キーと値の既知のインメモリストアを永続的なデータベースとして使用するとどうなりますか？</font><font style="vertical-align: inherit;">信頼性の高いものを使用して起動された場合、Kubernetesのオペレーターと思われますか？</font><font style="vertical-align: inherit;">そして、Redisレプリカを増やす過程で、別の小さな無害な変更を行う場合はどうでしょうか？..この記事のこれらの質問に答えると同時に、Redisで大規模データベースのサイズを最適化する方法を見つけるのに役立つユーティリティを同時にお知らせします。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">問題ケース</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さまざまなプロジェクトでKubernetesクラスター内のRedisを使用しています。</font><font style="vertical-align: inherit;">社内の一般的な慣行を管理および適用するために、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spotahome</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">オペレーターを採用しました</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">私たちの経験では、これが最も安定したオプションですが、独自の問題もありますが、そのいくつかについては後で説明します。</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このRedisオペレーターのロジックの簡単な説明は、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロジェクトのドキュメントに記載</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">されてい</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">本質的に</font><font style="vertical-align: inherit;">は、ユーザー定義のリソースに基づいて</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisフェイルオーバー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（フォールトトレラントRedis）を</font><font style="vertical-align: inherit;">実行するための一連のリソースを作成し</font><i><font style="vertical-align: inherit;">ます</font></i></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">このキットは以下で構成されています：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Redis構成のConfigMap、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Redis自身のStatefulSets、</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 適切な量​​のSentinelレプリカからのデプロイメント。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リソースの仕様により、次のこと</font></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が可能になります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> レプリカの数と要求/制限の両方を構成します。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">起動されたポッドの構成で特定の編集を行います</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">簡単な例</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li>   PVC,        <i>Redis failovers</i>,        <i>(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>)</i>;</li>
<li>     , -     Redis <i>(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>)</i>.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
多くのリソースを作成することにより</font></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、相互接続された</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisフェイルオーバー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を必要な</font><font style="vertical-align: inherit;">数だけ個別に作成および構成できます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：Kubernetesオペレーターの概念に精通していないか、Redisフェイルオーバーのリソースとリソースで現在混乱している場合は、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">この紹介記事を</font></a></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">読むことをお勧め</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">します</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
複数のサブプロジェクトで構成される1つのかなりロードされたプロジェクト</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（Runetで人気のあるWebサイトについて話している）</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、Redisはこれまで、メモリ内データストアおよびキャッシュストアとしてだけでなく、完全なステートフルストアとしても使用されてきました。この点で、すべてのサブプロジェクトの個々のRedisインストールのサイズは、「ラディッシュ」から「カボチャ」に変わりました。より正確には、サブプロジェクトの「最も厚い」Redisの* .rdbファイルのサイズは5 GBでした。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Redisデータベースのスナップショット-Redisに組み込まれ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たディスクに状態を保存</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">するための2つのオプションの1つ</font><font style="vertical-align: inherit;">。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
最初は、前述の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><code>RedisFailover</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisレプリカ</font><font style="vertical-align: inherit;">が</font><font style="vertical-align: inherit;">1つある</font><font style="vertical-align: inherit;">リソースが使用されていました</font><font style="vertical-align: inherit;">。インスタンスは非常に大きく、ピーク時に（つまり、データをディスクに保存するときに）約16 GBのRAMを消費します。レプリカがノードに収まりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、リソースの消費量が増加し、サブプロジェクトがKubernetesに移行するにつれて、サーバーがデータセンターに追加されました。これにより、Redisの状態を維持することの重要性を考慮して、データベースの信頼性を高めるために、Redisレプリカの数を2つに増やすことができました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
レプリカの数を変更するとともに、コンテナのリクエストと制限をメモリから変更して、22ギガバイトから19に減らすことにしました。これは、生成されるポッドが大きいためです（他のノードに失敗したときにポッドを快適に移動できるようにするためです）。そして、</font><font style="vertical-align: inherit;">レプリカ数の増加と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">同時に</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これを行うという決定</font><font style="vertical-align: inherit;">は致命的となりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
オンライン回復のためのバックアップを準備した後、</font></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更新された構成で</font><font style="vertical-align: inherit;">ダウンロード</font><font style="vertical-align: inherit;">され、その結果、次のことが起こりました。</font></font><br>
<br>
<ul>
<li> StatefulSet   ;</li>
<li>    slave’   ;</li>
<li>    readiness-    (   ping!);</li>
<li> -     pod’  ,   ;</li>
<li> sentinel'  «»,           (           <code>BGSAVE</code>);</li>
<li>          ;       .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果は明らかです：災害（バックアップからのシンプルでデータ復旧）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インシデントの結果によると、オペレーター（または彼の準備プローブ）が何が起こったかの主な犯人だっ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">たため、GitHubプロジェクト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">問題</font></a><font style="vertical-align: inherit;">を作成</font><font style="vertical-align: inherit;">し、記事の準備/公開の過程で</font><font style="vertical-align: inherit;">、オペレーターの開発者から</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">応答</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修正</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を受け取り、</font><font style="vertical-align: inherit;">テストに成功しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
より一般的な結論は次のとおり</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。Kubernetesオペレーターを使用するときは注意してください</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">重要なインフラストラクチャコンポーネントを管理するために！</font><font style="vertical-align: inherit;">この特定のオペレーターを適用すると、最初に1つのレプリカを持つRedis構成は、いくつかのレプリカよりもデータ損失に対してより耐性があります。</font><font style="vertical-align: inherit;">クラスターが1つのRedisノードから2つ以上に拡大すると、システムは不安定な状態になり、何らかの理由でウィザードを再起動するとデータが失われることが保証されます。これの主な理由は、誤ったサンプルです。</font><font style="vertical-align: inherit;">そしてもちろん、そのような作業を行う前に、常にコピーを保持する必要があります</font></font><code>dump.rbd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データ分析</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
物事はさらに進んだ。この例では、同じようなサイズのRedisで作業するときにどのような問題が発生するかを見て、時間をかけてデータベース内のデータを分析することにしました。</font><font style="vertical-align: inherit;">最初に</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レイテンシドクター</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（組み込みのRedis関数</font><font style="vertical-align: inherit;">）を使用して</font><font style="vertical-align: inherit;">、次のことを確認しました。</font></font><br>
<br>
<pre><code class="plaintext hljs">127.0.0.1:6379&gt; LATENCY doctor<font></font>
Dave, I have observed latency spikes in this Redis instance. You don't mind talking about it, do you Dave?<font></font>
1. command: 3 latency spikes (average 237ms, mean deviation 19ms, period 67.33 sec). Worst all time event 256ms.<font></font>
I have a few advices for you:<font></font>
- Check your Slow Log to understand what are the commands you are running which are too slow to execute. Please check http://redis.io/commands/slowlog for more information.<font></font>
- Deleting, expiring or evicting (because of maxmemory policy) large objects is a blocking operation. If you have very large objects that are often deleted, expired, or evicted, try to fragment those objects into multiple smaller objects.<font></font>
127.0.0.1:6379&gt; LATENCY latest<font></font>
1) 1) "fork"<font></font>
  2) (integer) 1574513316<font></font>
  3) (integer) 308<font></font>
  4) (integer) 308<font></font>
2) 1) "command"<font></font>
  2) (integer) 1574513311<font></font>
  3) (integer) 214<font></font>
  4) (integer) 256</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実行中</font></font><code>fork</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">および</font></font><code>command</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisでピーク遅延がある</font><font style="vertical-align: inherit;">ことに注目してください</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これらのピークは、サイズが原因でrbdを保存するプロセスにのみ関連していると想定しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prometheusを介して取得したRedisメトリックを示すGrafanaでは、次の画像です</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w_/b_/a-/w_b_a-b85knwanx9zudcu20wnsw.png"><br>
<img src="https://habrastorage.org/webt/bp/sa/es/bpsaestqynquas6miv3jxfuatuq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。言い換えると、巨大なベースサイズと非常に多数のQPS。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の段階は、Redisデータベースのより詳細な調査です。</font><font style="vertical-align: inherit;">私は、データベースが占有するスペースの量と、データベースがどれだけの時間を費やすかについての集約された結論を得たいと思っていました。</font><font style="vertical-align: inherit;">Redisから正確に削除できるもの、およびベースの「肥大化」を回避するためにコードで何を変更するかを理解する。</font><font style="vertical-align: inherit;">これを行うために、無料のオープンソースツールを用意しています。</font><font style="vertical-align: inherit;">特定の例について簡単に概要を説明します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Redisメモリーアナライザー（RMA）</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このユーティリティはPythonで記述され、pipを使用してPyPIからインストールされます。</font><font style="vertical-align: inherit;">開始するには、別の（本番環境からの）Kubernetesノードから開始するか、RedisでDockerコンテナーを使用するだけの価値があり</font></font><code>/data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます</font></font><code>dump.rdb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">これには、スナップショットが</font><font style="vertical-align: inherit;">含まれる</font><font style="vertical-align: inherit;">ファイルを配置する必要があります</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">たとえば、次のように（</font></font><code>docker-compose.yml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）：</font></font><br>
<br>
<pre><code class="plaintext hljs">  redis:<font></font>
    container_name: redis<font></font>
    image: redis<font></font>
    ports:<font></font>
      - "127.0.0.1:6379:6379"<font></font>
    volumes:<font></font>
      - ./:/data<font></font>
    restart: always</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ノードを開始し</font></font><code>rma -f json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ます。-出力をJSON形式で取得します（解析にはプレーンテキストよりも便利であるように見えました）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
問題ベース自体の縮小され、わずかに難読化された結論：</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"keys"</span>: [<font></font>
        {<font></font>
            <span class="hljs-attr">"count"</span>: <span class="hljs-number">16236021</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"The:most:evil:set:*"</span>,
            <span class="hljs-attr">"percent"</span>: <span class="hljs-string">"59.24%"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"set"</span><font></font>
        },<font></font>
        {<font></font>
            <span class="hljs-attr">"count"</span>: <span class="hljs-number">2463064</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"likes:*:*"</span>,
            <span class="hljs-attr">"percent"</span>: <span class="hljs-string">"8.98%"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"set"</span><font></font>
        },<font></font>
        {<font></font>
            <span class="hljs-attr">"count"</span>: <span class="hljs-number">2422160</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"notifications:*"</span>,
            <span class="hljs-attr">"percent"</span>: <span class="hljs-string">"8.83%"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"zset"</span><font></font>
        },<font></font>
        {<font></font>
            <span class="hljs-attr">"count"</span>: <span class="hljs-number">2102164</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"YYY:*"</span>,
            <span class="hljs-attr">"percent"</span>: <span class="hljs-string">"7.67%"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"set"</span><font></font>
        },<font></font>
<font></font>
 <span class="hljs-string">"nodes"</span>: [<font></font>
        {<font></font>
            <span class="hljs-attr">"info"</span>: {
                <span class="hljs-attr">"active_defrag_running"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"allocator_active"</span>: <span class="hljs-number">16108007424</span>,
                <span class="hljs-attr">"allocator_allocated"</span>: <span class="hljs-number">16027311240</span>,
                <span class="hljs-attr">"allocator_frag_bytes"</span>: <span class="hljs-number">80696184</span>,
                <span class="hljs-attr">"allocator_frag_ratio"</span>: <span class="hljs-number">1.01</span>,
                <span class="hljs-attr">"allocator_resident"</span>: <span class="hljs-number">16336216064</span>,
                <span class="hljs-attr">"allocator_rss_bytes"</span>: <span class="hljs-number">228208640</span>,
                <span class="hljs-attr">"allocator_rss_ratio"</span>: <span class="hljs-number">1.01</span>,
                <span class="hljs-attr">"lazyfree_pending_objects"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"maxmemory"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"maxmemory_human"</span>: <span class="hljs-string">"0B"</span>,
                <span class="hljs-attr">"maxmemory_policy"</span>: <span class="hljs-string">"noeviction"</span>,
                <span class="hljs-attr">"mem_allocator"</span>: <span class="hljs-string">"jemalloc-5.1.0"</span>,
                <span class="hljs-attr">"mem_aof_buffer"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"mem_clients_normal"</span>: <span class="hljs-number">49694</span>,
                <span class="hljs-attr">"mem_clients_slaves"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"mem_fragmentation_bytes"</span>: <span class="hljs-number">308401864</span>,
                <span class="hljs-attr">"mem_fragmentation_ratio"</span>: <span class="hljs-number">1.02</span>,
                <span class="hljs-attr">"mem_not_counted_for_evict"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"mem_replication_backlog"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"number_of_cached_scripts"</span>: <span class="hljs-number">18</span>,
                <span class="hljs-attr">"rss_overhead_bytes"</span>: <span class="hljs-number">-606208</span>,
                <span class="hljs-attr">"rss_overhead_ratio"</span>: <span class="hljs-number">1.0</span>,
                <span class="hljs-attr">"total_system_memory"</span>: <span class="hljs-number">67552931840</span>,
                <span class="hljs-attr">"total_system_memory_human"</span>: <span class="hljs-string">"62.91G"</span>,
                <span class="hljs-attr">"used_memory"</span>: <span class="hljs-number">16027240832</span>,
                <span class="hljs-attr">"used_memory_dataset"</span>: <span class="hljs-number">14661812642</span>,
                <span class="hljs-attr">"used_memory_dataset_perc"</span>: <span class="hljs-string">"91.49%"</span>,
                <span class="hljs-attr">"used_memory_human"</span>: <span class="hljs-string">"14.93G"</span>,
                <span class="hljs-attr">"used_memory_lua"</span>: <span class="hljs-number">1277952</span>,
                <span class="hljs-attr">"used_memory_lua_human"</span>: <span class="hljs-string">"1.22M"</span>,
                <span class="hljs-attr">"used_memory_overhead"</span>: <span class="hljs-number">1365428190</span>,
                <span class="hljs-attr">"used_memory_peak"</span>: <span class="hljs-number">16027625216</span>,
                <span class="hljs-attr">"used_memory_peak_human"</span>: <span class="hljs-string">"14.93G"</span>,
                <span class="hljs-attr">"used_memory_peak_perc"</span>: <span class="hljs-string">"100.00%"</span>,
                <span class="hljs-attr">"used_memory_rss"</span>: <span class="hljs-number">16335609856</span>,
                <span class="hljs-attr">"used_memory_rss_human"</span>: <span class="hljs-string">"15.21G"</span>,
                <span class="hljs-attr">"used_memory_scripts"</span>: <span class="hljs-number">35328</span>,
                <span class="hljs-attr">"used_memory_scripts_human"</span>: <span class="hljs-string">"34.50K"</span>,
                <span class="hljs-attr">"used_memory_startup"</span>: <span class="hljs-number">791264</span><font></font>
            },<font></font>
            <span class="hljs-attr">"redisKeySpaceOverhead"</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">"totalKeys"</span>: <span class="hljs-number">27402900</span>,
            <span class="hljs-attr">"used"</span>: {
                <span class="hljs-attr">"active-defrag-max-scan-fields"</span>: <span class="hljs-string">"1000"</span>,
                <span class="hljs-attr">"hash-max-ziplist-entries"</span>: <span class="hljs-string">"512"</span>,
                <span class="hljs-attr">"hash-max-ziplist-value"</span>: <span class="hljs-string">"64"</span>,
                <span class="hljs-attr">"list-max-ziplist-size"</span>: <span class="hljs-string">"-2"</span>,
                <span class="hljs-attr">"proto-max-bulk-len"</span>: <span class="hljs-string">"536870912"</span>,
                <span class="hljs-attr">"set-max-intset-entries"</span>: <span class="hljs-string">"512"</span>,
                <span class="hljs-attr">"zset-max-ziplist-entries"</span>: <span class="hljs-string">"128"</span>,
                <span class="hljs-attr">"zset-max-ziplist-value"</span>: <span class="hljs-string">"64"</span><font></font>
            }<font></font>
        }<font></font>
    ],<font></font>
    <span class="hljs-string">"stat"</span>: {
        <span class="hljs-attr">"hash"</span>: [<font></font>
            {<font></font>
                <span class="hljs-attr">"Avg field count"</span>: <span class="hljs-number">273.9381613257764</span>,
                <span class="hljs-attr">"Count"</span>: <span class="hljs-number">92806</span>,
                <span class="hljs-attr">"Encoding"</span>: <span class="hljs-string">"ziplist [85.3%] / hashtable [14.6%]"</span>,
                <span class="hljs-attr">"Key mem"</span>: <span class="hljs-number">127070103</span>,
                <span class="hljs-attr">"Match"</span>: <span class="hljs-string">"YYY:*"</span>,
                <span class="hljs-attr">"Ratio"</span>: <span class="hljs-number">4.11216105916338</span>,
                <span class="hljs-attr">"Real"</span>: <span class="hljs-number">1374780864</span>,
                <span class="hljs-attr">"System"</span>: <span class="hljs-number">899529088</span>,
                <span class="hljs-attr">"TTL Avg."</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"TTL Max"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"TTL Min"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"Total aligned"</span>: <span class="hljs-number">2961700368</span>,
                <span class="hljs-attr">"Total mem"</span>: <span class="hljs-number">461390876</span>,
                <span class="hljs-attr">"Value mem"</span>: <span class="hljs-number">334320773</span><font></font>
            },<font></font>
            {<font></font>
                <span class="hljs-attr">"Avg field count"</span>: <span class="hljs-number">16.630734258229428</span>,
                <span class="hljs-attr">"Count"</span>: <span class="hljs-number">102498</span>,
                <span class="hljs-attr">"Encoding"</span>: <span class="hljs-string">"ziplist [72.0%] / hashtable [27.9%]"</span>,
                <span class="hljs-attr">"Key mem"</span>: <span class="hljs-number">51729452</span>,
                <span class="hljs-attr">"Match"</span>: <span class="hljs-string">"ZZZ:*"</span>,
                <span class="hljs-attr">"Ratio"</span>: <span class="hljs-number">3.4048548273474686</span>,
                <span class="hljs-attr">"Real"</span>: <span class="hljs-number">97797080</span>,
                <span class="hljs-attr">"System"</span>: <span class="hljs-number">63099024</span>,
                <span class="hljs-attr">"TTL Avg."</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"TTL Max"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"TTL Min"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"Total aligned"</span>: <span class="hljs-number">265209096</span>,
                <span class="hljs-attr">"Total mem"</span>: <span class="hljs-number">80452286</span>,
                <span class="hljs-attr">"Value mem"</span>: <span class="hljs-number">28722834</span><font></font>
            },<font></font>
            { …    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
を見</font></font><code>"totalKeys": 27402900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">て</font></font><code>{ "count": 16236021, "name": "The:most:evil:set:*", "percent": "59.24%", "type": "set" }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、開発者たちは頭を抱えました。</font><font style="vertical-align: inherit;">コードの問題領域がすぐに発見されました。執筆時点では、すべてのRedisをクリアする準備がすでに進んでおり、その後、修正を加えたコードがデプロイされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これで止めることもできますが、他のユーティリティを調べたので、それらについても話します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Redis-rdb-tools</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
インストールにはそれを実行するだけで十分</font></font><code>pip install rdbtools python-lzf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">です。</font><font style="vertical-align: inherit;">次に、RMAと同じスタンドを使用して、次のことができます。</font></font><br>
<br>
<pre><code class="bash hljs">rdb -c memory dump.rdb --bytes 100 -f memory.csv</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...応答で受け取ります：</font></font><br>
<br>
<pre><code class="plaintext hljs">database,type,key,size_in_bytes,encoding,num_elements,len_largest_element,expiry<font></font>
0,sortedset,notification:user:50242,26844,skiplist,262,8,<font></font>
0,set,zz:yy:35647,30692,hashtable,760,8,<font></font>
0,set,pp:646064c2170c2e1d:item:a15671709071,39500,hashtable,319,64,<font></font>
0,hash,comments:93250,7224,ziplist,353,15,<font></font>
0,hash,comments2:90667,3715,ziplist,179,14,<font></font>
0,sortedset,yy:94224,67972,skiplist,544,15,<font></font>
0,hash,comments3:135049,70764,hashtable,1150,15,<font></font>
0,hash,ll-date:2018-10-20 12:00:00:count,2043,ziplist,61,49,<font></font>
0,set,likes:57513,2064,intset,498,8,<font></font>
0,hash,ll-date:2018-09-29 04:00:00:summ,2091,ziplist,53,49,<font></font>
0,hash,ll-date:2018-09-25 22:00:00:count,2243,ziplist,68,49,</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一般的に、これは</font><font style="vertical-align: inherit;">特定のrdbスナップショット</font><font style="vertical-align: inherit;">を</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">比較する</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">方法、</font><font style="vertical-align: inherit;">または</font><font style="vertical-align: inherit;">Redisプロトコルを適切な場所に</font><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">放射</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」する</font><font style="vertical-align: inherit;">方法さえ知っている優れたツールです</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ただし、結果をさらに解析する必要があるため、その結論に基づいて結論を出すことは非常に困難です。</font><font style="vertical-align: inherit;">このツールの作成者は、</font><font style="vertical-align: inherit;">Redisデータを視覚化するための有料GUIである</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rdbtools.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">も作成しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">昨年末、彼は存在しなくなり（EOL）、有料の製品（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RedisInsight</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）の</font><font style="vertical-align: inherit;">形でRedis Labsに移動しました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">そのような決定の検討は、この記事の範囲を超えています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Redis監査</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次のツールはRubyで書かれており、少し控えめに言っても古いものです。</font><font style="vertical-align: inherit;">これをインストールするには、GitHubからリポジトリをコピーし、Rubyをインストールして、ツールディレクトリでいくつかの簡単な手順を実行する必要があります。</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install ruby-full<font></font>
gem install bundler<font></font>
bundle install</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
起動：</font></font><br>
<br>
<pre><code class="bash hljs">./redis-audit.rb -h 127.0.0.1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...しかし、それはしばしばエラーでクラッシュします：</font></font><br>
<br>
<pre><code class="bash hljs">Auditing 127.0.0.1:6379 dbnum:0 sampling 50000 keys<font></font>
Sampling 50000 keys...<font></font>
5000 keys sampled - 10% complete - 2019-11-26 14:16:16 +0300<font></font>
10000 keys sampled - 20% complete - 2019-11-26 14:16:18 +0300<font></font>
./redis-audit.rb:144:<span class="hljs-keyword">in</span> `delete<span class="hljs-string">': invalid byte sequence in US-ASCII (ArgumentError)
    from ./redis-audit.rb:144:in `group_key'</span>
    from ./redis-audit.rb:130:<span class="hljs-keyword">in</span> `audit_key<span class="hljs-string">'
    from ./redis-audit.rb:99:in `block in audit_keys'</span>
    from ./redis-audit.rb:97:<span class="hljs-keyword">in</span> `<span class="hljs-built_in">times</span><span class="hljs-string">'
    from ./redis-audit.rb:97:in `audit_keys'</span>
    from ./redis-audit.rb:358:<span class="hljs-keyword">in</span> `&lt;main&gt;<span class="hljs-string">'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
各ユーティリティを研究するためのリソースはかなり限られているため、彼らは「松葉杖」を使用しました。</font></font><br>
<br>
<pre><code class="bash hljs">until ./redis-audit.rb -h 127.0.0.1 -s 50000 &gt; dtf-audit; <span class="hljs-keyword">do</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"Try again"</span>; sleep 1; <span class="hljs-keyword">done</span><font></font>
<font></font>
Auditing 127.0.0.1:6379 dbnum:0 sampling 50000 keys<font></font>
Sampling 50000 keys...<font></font>
5000 keys sampled - 10% complete - 2019-11-24 22:18:26 +0300<font></font>
10000 keys sampled - 20% complete - 2019-11-24 22:18:28 +0300<font></font>
15000 keys sampled - 30% complete - 2019-11-24 22:18:29 +0300<font></font>
20000 keys sampled - 40% complete - 2019-11-24 22:18:31 +0300<font></font>
25000 keys sampled - 50% complete - 2019-11-24 22:18:32 +0300<font></font>
30000 keys sampled - 60% complete - 2019-11-24 22:18:34 +0300<font></font>
35000 keys sampled - 70% complete - 2019-11-24 22:18:35 +0300<font></font>
40000 keys sampled - 80% complete - 2019-11-24 22:18:37 +0300<font></font>
45000 keys sampled - 90% complete - 2019-11-24 22:18:38 +0300<font></font>
50000 keys sampled - 100% complete - 2019-11-24 22:18:40 +0300<font></font>
DB has 27402893 keys<font></font>
Sampled 6.25 MB of Redis memory<font></font>
Found 90 key groups<font></font>
==============================================================================</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
結果：</font></font><br>
<br>
<pre><code class="bash hljs">Found 107 key groups<font></font>
<font></font>
==============================================================================<font></font>
Found 1 keys containing strings, like:<font></font>
ooo:04-01-2019<font></font>
<font></font>
These keys use 0.0% of the total sampled memory (2 bytes)<font></font>
None of these keys expire<font></font>
Average last accessed time: 12 hours, 3 minutes, 22 seconds - (Max: 12 hours, 3 minutes, 22 seconds Min:12 hours, 3 minutes, 22 seconds)<font></font>
<font></font>
==============================================================================<font></font>
Found 1 keys containing sets, like:<font></font>
ttt:fff:8aa26e6f8f7a232bd80877ddb4e3b7a4c7706be0031ab0a8f76adfb3e5448783<font></font>
<font></font>
These keys use 0.0% of the total sampled memory (13 bytes)<font></font>
None of these keys expire<font></font>
Average last accessed time: 10 hours, 26 minutes, 34 seconds - (Max: 10 hours, 26 minutes, 34 seconds Min:10 hours, 26 minutes, 34 seconds)<font></font>
<font></font>
==============================================================================<font></font>
Found 1 keys containing hashs, like:<font></font>
zz:yy:vv:b45c247c-bcc4ae1b-fdacd2da-471e6cba-b82b9a20-a32255df-caa95a8a-a2533c7c<font></font>
<font></font>
These keys use 0.0% of the total sampled memory (24 bytes)<font></font>
None of these keys expire<font></font>
Average last accessed time: 11 hours, 46 minutes, 54 seconds - (Max: 11 hours, 46 minutes, 54 seconds Min:11 hours, 46 minutes, 54 seconds)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、希望どおりの結果を得ることができますが、そのためにはエラーに対処する必要があります。この場合、エラー（RMAからの結果の取得など）は余分な時間の無駄のように見えました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Redis-サンプラー</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rubyで作成されたこのユーティリティを実行するには、以前に作成したスタンドを取り、リポジトリからスクリプトをダウンロードして、たとえば100万のサンプルを実行します。</font></font><br>
<br>
<pre><code class="bash hljs">./redis-sampler.rb 127.0.0.1 6379 0 1000000</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">素晴らしい答え</font></font></b><div class="spoiler_text"><pre><code class="bash hljs">Sampling 127.0.0.1:6379 DB:0 with 1000000 RANDOMKEYS<font></font>
<font></font>
TYPES<font></font>
=====<font></font>
 <span class="hljs-built_in">set</span>: 864532 (86.45%)     zset: 116538 (11.65%)    <span class="hljs-built_in">hash</span>: 16761 (1.68%)<font></font>
 string: 2055 (0.21%)     list: 114 (0.01%)<font></font>
<font></font>
EXPIRES<font></font>
=======<font></font>
 unknown: 1000000 (100.00%)<font></font>
 Average: 0.00 Standard Deviation: 0.00<font></font>
 Min: 0 Max: 0<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
<font></font>
Note: <span class="hljs-string">'unknown'</span> expire means keys with no expire<font></font>
<font></font>
STRINGS, SIZE OF VALUES<font></font>
=======================<font></font>
 1: 1096 (53.33%)         4: 485 (23.60%)          5: 182 (8.86%)<font></font>
 6: 180 (8.76%)           7: 60 (2.92%)            3: 21 (1.02%)<font></font>
 2: 21 (1.02%)            342: 7 (0.34%)           8: 2 (0.10%)<font></font>
 32: 1 (0.05%)<font></font>
 Average: 3.89 Standard Deviation: 19.88<font></font>
 Min: 1 Max: 342<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 1: 1096 (53.33%)      &lt;= 4: 506 (24.62%)       &lt;= 8: 424 (20.63%)<font></font>
 &lt;= 2: 21 (1.02%)         &lt;= 512: 7 (0.34%)        &lt;= 32: 1 (0.05%)<font></font>
<font></font>
LISTS, NUMBER OF ELEMENTS<font></font>
=========================<font></font>
 4: 86 (75.44%)           1: 14 (12.28%)           3: 7 (6.14%)<font></font>
 2: 7 (6.14%)<font></font>
 Average: 3.45 Standard Deviation: 1.05<font></font>
 Min: 1 Max: 4<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 4: 93 (81.58%)        &lt;= 1: 14 (12.28%)        &lt;= 2: 7 (6.14%)<font></font>
LISTS, SIZE OF ELEMENTS<font></font>
=======================<font></font>
 482: 2 (1.75%)           491: 2 (1.75%)           674: 2 (1.75%)<font></font>
 666: 2 (1.75%)           449: 2 (1.75%)           515: 2 (1.75%)<font></font>
 561: 2 (1.75%)           558: 2 (1.75%)           590: 2 (1.75%)<font></font>
 483: 2 (1.75%)           631: 2 (1.75%)           527: 2 (1.75%)<font></font>
 777: 2 (1.75%)           633: 1 (0.88%)           456: 1 (0.88%)<font></font>
 604: 1 (0.88%)           606: 1 (0.88%)           498: 1 (0.88%)<font></font>
 710: 1 (0.88%)           1946: 1 (0.88%)          481: 1 (0.88%)<font></font>
(suppressed 80 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 70.18%)<font></font>
 Average: 699.10 Standard Deviation: 387.90<font></font>
 Min: 207 Max: 3686<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 1024: 72 (63.16%)     &lt;= 512: 30 (26.32%)      &lt;= 2048: 10 (8.77%)<font></font>
 &lt;= 256: 1 (0.88%)        &lt;= 4096: 1 (0.88%)<font></font>
<font></font>
SETS, NUMBER OF ELEMENTS<font></font>
========================<font></font>
 1: 38506 (33.04%)        2: 20277 (17.40%)        3: 11991 (10.29%)<font></font>
 4: 7695 (6.60%)          5: 5456 (4.68%)          6: 4097 (3.52%)<font></font>
 7: 3171 (2.72%)          8: 2559 (2.20%)          9: 2112 (1.81%)<font></font>
 10: 1767 (1.52%)         11: 1527 (1.31%)         12: 1223 (1.05%)<font></font>
 13: 1060 (0.91%)         14: 1030 (0.88%)         15: 860 (0.74%)<font></font>
 16: 775 (0.67%)          17: 706 (0.61%)          18: 608 (0.52%)<font></font>
 19: 576 (0.49%)          21: 519 (0.45%)          20: 502 (0.43%)<font></font>
(suppressed 924 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 8.17%)<font></font>
 Average: 2.89 Standard Deviation: 64.09<font></font>
 Min: 1 Max: 55774<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 2: 631053 (72.99%)    &lt;= 1: 186025 (21.52%)    &lt;= 4: 15631 (1.81%)<font></font>
 &lt;= 8: 13305 (1.54%)      &lt;= 16: 8311 (0.96%)      &lt;= 32: 5008 (0.58%)<font></font>
 &lt;= 64: 2845 (0.33%)      &lt;= 128: 1319 (0.15%)     &lt;= 256: 581 (0.07%)<font></font>
 &lt;= 512: 282 (0.03%)      &lt;= 1024: 117 (0.01%)     &lt;= 2048: 35 (0.00%)<font></font>
 &lt;= 4096: 16 (0.00%)      &lt;= 8192: 3 (0.00%)       &lt;= 65536: 1 (0.00%)<font></font>
<font></font>
SETS, NUMBER OF ELEMENTS<font></font>
========================<font></font>
 1: 38506 (33.04%)        2: 20277 (17.40%)        3: 11991 (10.29%)<font></font>
 4: 7695 (6.60%)          5: 5456 (4.68%)          6: 4097 (3.52%)<font></font>
 7: 3171 (2.72%)          8: 2559 (2.20%)          9: 2112 (1.81%)<font></font>
 10: 1767 (1.52%)         11: 1527 (1.31%)         12: 1223 (1.05%)<font></font>
 13: 1060 (0.91%)         14: 1030 (0.88%)         15: 860 (0.74%)<font></font>
 16: 775 (0.67%)          17: 706 (0.61%)          18: 608 (0.52%)<font></font>
 19: 576 (0.49%)          21: 519 (0.45%)          20: 502 (0.43%)<font></font>
(suppressed 924 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 8.17%)<font></font>
 Average: 2.89 Standard Deviation: 64.09<font></font>
 Min: 1 Max: 55774<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 2: 631053 (72.99%)    &lt;= 1: 186025 (21.52%)    &lt;= 4: 15631 (1.81%)<font></font>
 &lt;= 8: 13305 (1.54%)      &lt;= 16: 8311 (0.96%)      &lt;= 32: 5008 (0.58%)<font></font>
 &lt;= 64: 2845 (0.33%)      &lt;= 128: 1319 (0.15%)     &lt;= 256: 581 (0.07%)<font></font>
 &lt;= 512: 282 (0.03%)      &lt;= 1024: 117 (0.01%)     &lt;= 2048: 35 (0.00%)<font></font>
 &lt;= 4096: 16 (0.00%)      &lt;= 8192: 3 (0.00%)       &lt;= 65536: 1 (0.00%)<font></font>
<font></font>
SETS, SIZE OF ELEMENTS<font></font>
======================<font></font>
 41: 250500 (28.98%)      32: 215070 (24.88%)      33: 142136 (16.44%)<font></font>
 5: 71140 (8.23%)         37: 54151 (6.26%)        40: 45521 (5.27%)<font></font>
 31: 28938 (3.35%)        36: 18885 (2.18%)        6: 18383 (2.13%)<font></font>
 4: 9766 (1.13%)          30: 2513 (0.29%)         44: 1967 (0.23%)<font></font>
 35: 1025 (0.12%)         3: 729 (0.08%)           43: 387 (0.04%)<font></font>
 26: 372 (0.04%)          34: 334 (0.04%)          8: 318 (0.04%)<font></font>
 29: 242 (0.03%)          71: 233 (0.03%)          28: 224 (0.03%)<font></font>
(suppressed 129 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 0.20%)<font></font>
 Average: 32.53 Standard Deviation: 10.91<font></font>
 Min: 1 Max: 151<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 64: 515245 (59.60%)   &lt;= 32: 247497 (28.63%)   &lt;= 8: 90055 (10.42%)<font></font>
 &lt;= 4: 10495 (1.21%)      &lt;= 128: 966 (0.11%)      &lt;= 2: 100 (0.01%)<font></font>
 &lt;= 256: 76 (0.01%)       &lt;= 16: 50 (0.01%)        &lt;= 1: 48 (0.01%)<font></font>
SORTED SETS, NUMBER OF ELEMENTS<font></font>
===============================<font></font>
 1: 38506 (33.04%)        2: 20277 (17.40%)        3: 11991 (10.29%)<font></font>
 4: 7695 (6.60%)          5: 5456 (4.68%)          6: 4097 (3.52%)<font></font>
 7: 3171 (2.72%)          8: 2559 (2.20%)          9: 2112 (1.81%)<font></font>
 10: 1767 (1.52%)         11: 1527 (1.31%)         12: 1223 (1.05%)<font></font>
 13: 1060 (0.91%)         14: 1030 (0.88%)         15: 860 (0.74%)<font></font>
 16: 775 (0.67%)          17: 706 (0.61%)          18: 608 (0.52%)<font></font>
 19: 576 (0.49%)          21: 519 (0.45%)          20: 502 (0.43%)<font></font>
(suppressed 924 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 8.17%)<font></font>
 Average: 23.62 Standard Deviation: 374.23<font></font>
 Min: 1 Max: 33340<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 1: 38506 (33.04%)     &lt;= 2: 20277 (17.40%)     &lt;= 4: 19686 (16.89%)<font></font>
 &lt;= 8: 15283 (13.11%)     &lt;= 16: 10354 (8.88%)     &lt;= 32: 6220 (5.34%)<font></font>
 &lt;= 64: 3085 (2.65%)      &lt;= 128: 1445 (1.24%)     &lt;= 256: 702 (0.60%)<font></font>
 &lt;= 512: 388 (0.33%)      &lt;= 1024: 235 (0.20%)     &lt;= 2048: 148 (0.13%)<font></font>
 &lt;= 4096: 107 (0.09%)     &lt;= 8192: 57 (0.05%)      &lt;= 16384: 31 (0.03%)<font></font>
 &lt;= 32768: 13 (0.01%)     &lt;= 65536: 1 (0.00%)<font></font>
<font></font>
SORTED SETS, SIZE OF ELEMENTS<font></font>
=============================<font></font>
 7: 52226 (44.81%)        8: 45833 (39.33%)        6: 8702 (7.47%)<font></font>
 15: 2971 (2.55%)         5: 2896 (2.49%)          4: 484 (0.42%)<font></font>
 18: 448 (0.38%)          21: 445 (0.38%)          16: 348 (0.30%)<font></font>
 20: 274 (0.24%)          12: 272 (0.23%)          22: 227 (0.19%)<font></font>
 14: 204 (0.18%)          13: 191 (0.16%)          17: 150 (0.13%)<font></font>
 10: 94 (0.08%)           11: 71 (0.06%)           3: 37 (0.03%)<font></font>
 9: 36 (0.03%)            19: 26 (0.02%)           2: 21 (0.02%)<font></font>
(suppressed 188 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 0.50%)<font></font>
 Average: 9.16 Standard Deviation: 22.30<font></font>
 Min: 1 Max: 722<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 8: 109657 (94.10%)    &lt;= 16: 4187 (3.59%)      &lt;= 32: 1610 (1.38%)<font></font>
 &lt;= 4: 521 (0.45%)        &lt;= 512: 489 (0.42%)      &lt;= 128: 30 (0.03%)<font></font>
 &lt;= 2: 21 (0.02%)         &lt;= 64: 13 (0.01%)        &lt;= 256: 5 (0.00%)<font></font>
 &lt;= 1024: 3 (0.00%)       &lt;= 1: 2 (0.00%)<font></font>
<font></font>
HASHES, NUMBER OF FIELDS<font></font>
========================<font></font>
 1: 3261 (19.46%)         3: 2763 (16.48%)         2: 1521 (9.07%)<font></font>
 4: 1361 (8.12%)          5: 1289 (7.69%)          6: 611 (3.65%)<font></font>
 7: 238 (1.42%)           8: 236 (1.41%)           18: 173 (1.03%)<font></font>
 9: 173 (1.03%)           16: 160 (0.95%)          12: 160 (0.95%)<font></font>
 13: 158 (0.94%)          15: 157 (0.94%)          17: 157 (0.94%)<font></font>
 10: 155 (0.92%)          14: 154 (0.92%)          22: 141 (0.84%)<font></font>
 11: 140 (0.84%)          20: 137 (0.82%)          19: 123 (0.73%)<font></font>
(suppressed 830 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 20.84%)<font></font>
 Average: 71.88 Standard Deviation: 397.44<font></font>
 Min: 1 Max: 10869<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 4: 4124 (24.60%)      &lt;= 1: 3261 (19.46%)      &lt;= 8: 2374 (14.16%)<font></font>
 &lt;= 2: 1521 (9.07%)       &lt;= 32: 1418 (8.46%)      &lt;= 64: 1329 (7.93%)<font></font>
 &lt;= 16: 1257 (7.50%)      &lt;= 128: 429 (2.56%)      &lt;= 512: 274 (1.63%)<font></font>
 &lt;= 256: 238 (1.42%)      &lt;= 1024: 236 (1.41%)     &lt;= 2048: 181 (1.08%)<font></font>
 &lt;= 4096: 84 (0.50%)      &lt;= 8192: 29 (0.17%)      &lt;= 16384: 6 (0.04%)<font></font>
<font></font>
HASHES, SIZE OF FIELDS<font></font>
======================<font></font>
 unknown: 13916 (83.03%)  5: 1570 (9.37%)          24: 244 (1.46%)<font></font>
 32: 225 (1.34%)          22: 127 (0.76%)          29: 86 (0.51%)<font></font>
 43: 82 (0.49%)           26: 60 (0.36%)           25: 47 (0.28%)<font></font>
 30: 42 (0.25%)           27: 41 (0.24%)           12: 40 (0.24%)<font></font>
 36: 34 (0.20%)           23: 34 (0.20%)           39: 31 (0.18%)<font></font>
 21: 23 (0.14%)           8: 23 (0.14%)            28: 17 (0.10%)<font></font>
 34: 15 (0.09%)           16: 15 (0.09%)           64: 15 (0.09%)<font></font>
(suppressed 19 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 0.44%)<font></font>
 Average: 15.12 Standard Deviation: 12.77<font></font>
 Min: 2 Max: 64<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 8: 1600 (56.24%)      &lt;= 32: 969 (34.06%)      &lt;= 64: 201 (7.07%)<font></font>
 &lt;= 16: 59 (2.07%)        &lt;= 4: 15 (0.53%)         &lt;= 2: 1 (0.04%)<font></font>
<font></font>
HASHES, SIZE OF VALUES<font></font>
======================<font></font>
 unknown: 13916 (83.03%)  13: 768 (4.58%)          14: 624 (3.72%)<font></font>
 6: 394 (2.35%)           12: 192 (1.15%)          3: 172 (1.03%)<font></font>
 4: 153 (0.91%)           7: 119 (0.71%)           2: 98 (0.58%)<font></font>
 5: 90 (0.54%)            21: 75 (0.45%)           20: 57 (0.34%)<font></font>
 16: 33 (0.20%)           1: 30 (0.18%)            15: 18 (0.11%)<font></font>
 9: 12 (0.07%)            22: 3 (0.02%)            19: 2 (0.01%)<font></font>
 8: 2 (0.01%)             71: 1 (0.01%)            32: 1 (0.01%)<font></font>
(suppressed 1 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 0.01%)<font></font>
 Average: 10.52 Standard Deviation: 5.05<font></font>
 Min: 1 Max: 71<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 16: 1647 (57.89%)     &lt;= 8: 605 (21.27%)       &lt;= 4: 325 (11.42%)<font></font>
 &lt;= 32: 138 (4.85%)       &lt;= 2: 98 (3.44%)         &lt;= 1: 30 (1.05%)<font></font>
 &lt;= 128: 1 (0.04%)        &lt;= 64: 1 (0.04%)</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出力は、100万サンプルに基づくRedisデータベース内のオブジェクトのタイプ別の分布を示しています。</font><font style="vertical-align: inherit;">私たちの特定のタスクでは十分に助けにはなりませんでした。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. RedisDesktop</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サイト</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このユーティリティはRedisのシンプルなGUIです。</font><font style="vertical-align: inherit;">メモリ分析機能はその中に存在しますが、十分に強力なラップトップ（32 GBのメモリを搭載）では、ボリュームでの起動はユーティリティ自体の低下につながりました...詳細については詳しく説明しませんでした。</font><font style="vertical-align: inherit;">問題に対する別の解決策を見つけました。そのようなGUIの存在は、私たちにとってほとんど関心がありません。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.収穫 </font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubの</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このツールはGoで記述されており、できるだけ簡単に実行できます。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># docker run --link redis:redis -it --rm 31z4/harvest redis://redis</span><font></font>
t:: 12.65% (697)<font></font>
tl:i:n:: 10.75% (592)<font></font>
tl:i:n:1: 5.68% (313)<font></font>
t:n:: 1.91% (105)<font></font>
t:n:i:: 1.87% (103)<font></font>
c: 1.63% (90)<font></font>
c:: 1.60% (88)<font></font>
n:: 1.52% (84)<font></font>
n:f:: 1.49% (82)<font></font>
c:l:: 1.34% (74)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
データベース内のキーの数よりも多くのサンプルを試してみましょう。</font></font><br>
<br>
<pre><code class="bash hljs">docker run --link redis:redis -it --rm 31z4/harvest redis://redis -s 3000000<font></font>
<font></font>
warning: database size (27402892) is less than the number of samples (30000000)<font></font>
<font></font>
t: 6.35% (20471794)<font></font>
tl:: 6.35% (20471508)<font></font>
tl:i:: 5.52% (17777810)<font></font>
tl:i:n:: 5.52% (17777693)<font></font>
tl:i:n:1: 2.89% (9302664)<font></font>
c: 1.06% (3398834)<font></font>
c:: 1.02% (3297466)<font></font>
c:c:: 0.84% (2697278)<font></font>
tl:n:: 0.84% (2693697)<font></font>
tl:n:i:: 0.82% (2649015)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで私たちは非常に驚きました... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出力結果の数の増加は、単に出力結果の数を増加さ</font><font style="vertical-align: inherit;">せます</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">集計-いいえ。</font><font style="vertical-align: inherit;">追加の分析ツール（または長い集計チーム）なしでそのような結論を分析することは困難です。</font><font style="vertical-align: inherit;">一般的に、このツールは私たちに適していませんでした。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">分析のまとめ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析の主な助手はRMA（r​​edis-memory-analyzer）でした。その出力は、受信するのが最も簡単なだけでなく、読む/理解するのにも役立ちました。</font><font style="vertical-align: inherit;">これらの結果のおかげで、開発チームは、アプリケーションのアーキテクチャソリューションが失敗したために生成されたと考えられる1,800万個のキーを発見し、修正される予定です。</font><font style="vertical-align: inherit;">最終的に、データベースが「軽量化」され、クライアントプロジェクトがより高速に動作し、より多くのトラフィックとユーザーを獲得できるようになることを願っています。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この記事では、本質的にSentinel、Redisマスター、Redisスレーブのバンドルである「クラシック」Redisクラスターについて検討しました。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis Enterprise Operator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ソリューションは</font><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">価格が</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">完全に不透明であるため適用されず</font><font style="vertical-align: inherit;">、</font><font style="vertical-align: inherit;">成熟度が不十分なため</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amadeus IT Groupの</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">オペレーター</font></a><font style="vertical-align: inherit;">も適用されませんでした</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
また、記事では組み込みのクラスタリング、シャーディング、フェイルオーバーを使用するスキームについては触れませんでした。それらのサポートにはコードと大きなリソースの処理が必要だからです。しかし、すでに行われた作業の結果を使用して、今この方向に移動することが可能です。達成された節約により、Redis自体で組み込みのクラスター化とシャーディングを使用することの問題は関連性があり、主要な追加ステップと見なされます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
何が起こったのかを分析した後、Spotahomeのオペレーターを使用する方法についても検討する予定です。</font><font style="vertical-align: inherit;">レビューしたツールに基づいて、彼らはRMAがRedisデータベースの迅速な分析のための最も単純で最も理解しやすく効果的なツールであると結論付けました。</font><font style="vertical-align: inherit;">彼は、Redisが大きくなった理由と、コードの書き換えに注力する場所をすぐに理解するのに役立ちました。</font><font style="vertical-align: inherit;">他のユーティリティは同じ結果を得るために多くの作業を必要としました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのブログも読んでください：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisの[潜在的]代替としてのKeyDB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">」;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データベースとKubernetes（レビューとビデオレポート）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KusnetesへのCassandraの移行：機能とソリューション</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ”;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">障害物のないMongoDBからKubernetesへの移行</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li> «<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  RabbitMQ  Kubernetes</a>».</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja480708/index.html">数十年が終わりに近づいています。Google Playで過去10年間に最もダウンロードされたアプリはどれですか。</a></li>
<li><a href="../ja480710/index.html">SFMLゲームのリファクタリング</a></li>
<li><a href="../ja480714/index.html">FFmpegにコーデックを追加する方法</a></li>
<li><a href="../ja480716/index.html">Matlab対 ジュリア対 パイソン</a></li>
<li><a href="../ja480718/index.html">コードレビューを成功させるための6つのヒント</a></li>
<li><a href="../ja480724/index.html">トランスコンパイルされた言語：コードからコードへの変換プロジェクト</a></li>
<li><a href="../ja480730/index.html">自動モト開発とNginx</a></li>
<li><a href="../ja480734/index.html">TestMaceはPostmanよりも優れています</a></li>
<li><a href="../ja480736/index.html">IT製品を改善するためにすべてのエラーを修正する必要がないのはなぜですか</a></li>
<li><a href="../ja480738/index.html">ロシアで製品を作成した経験、または「民俗」ワイヤレス掃除機PRO-EXPERTの作成方法</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>