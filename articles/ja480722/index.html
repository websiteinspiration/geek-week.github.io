<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ‘¯ ğŸ“¥ â›“ï¸ K8sã®Redisã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã€ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã™ã‚‹ãŸã‚ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ç°¡å˜ãªæ¦‚è¦ ğŸ‘†ğŸ¾ ğŸ”˜ ğŸ‘¬</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="TTLã‚’ä½¿ç”¨ã›ãšã«ã€ã‚­ãƒ¼ã¨å€¤ã®æ—¢çŸ¥ã®ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚¹ãƒˆã‚¢ã‚’æ°¸ç¶šçš„ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã¨ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿä¿¡é ¼æ€§ã®é«˜ã„ã‚‚ã®ã‚’ä½¿ç”¨ã—ã¦èµ·å‹•ã•ã‚ŒãŸå ´åˆã€Kubernetesã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨æ€ã‚ã‚Œã¾ã™ã‹ï¼Ÿãã—ã¦ã€Redisãƒ¬ãƒ—ãƒªã‚«ã‚’å¢—ã‚„ã™éç¨‹ã§ã€åˆ¥ã®å°ã•ãªç„¡å®³ãªå¤‰æ›´ã‚’è¡Œã†å ´åˆã¯ã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿ..ã“ã®è¨˜äº‹...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>K8sã®Redisã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨ã€ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã™ã‚‹ãŸã‚ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ç°¡å˜ãªæ¦‚è¦</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/flant/blog/480722/"><img src="https://habrastorage.org/webt/p9/cj/wt/p9cjwtwfxea35sztyast6f7isao.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TTLã‚’ä½¿ç”¨ã›ãšã«ã€ã‚­ãƒ¼ã¨å€¤ã®æ—¢çŸ¥ã®ã‚¤ãƒ³ãƒ¡ãƒ¢ãƒªã‚¹ãƒˆã‚¢ã‚’æ°¸ç¶šçš„ãªãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨ã—ã¦ä½¿ç”¨ã™ã‚‹ã¨ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">ä¿¡é ¼æ€§ã®é«˜ã„ã‚‚ã®ã‚’ä½¿ç”¨ã—ã¦èµ·å‹•ã•ã‚ŒãŸå ´åˆã€Kubernetesã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã¨æ€ã‚ã‚Œã¾ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">ãã—ã¦ã€Redisãƒ¬ãƒ—ãƒªã‚«ã‚’å¢—ã‚„ã™éç¨‹ã§ã€åˆ¥ã®å°ã•ãªç„¡å®³ãªå¤‰æ›´ã‚’è¡Œã†å ´åˆã¯ã©ã†ã§ã—ã‚‡ã†ã‹ï¼Ÿ..ã“ã®è¨˜äº‹ã®ã“ã‚Œã‚‰ã®è³ªå•ã«ç­”ãˆã‚‹ã¨åŒæ™‚ã«ã€Redisã§å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚µã‚¤ã‚ºã‚’æœ€é©åŒ–ã™ã‚‹æ–¹æ³•ã‚’è¦‹ã¤ã‘ã‚‹ã®ã«å½¹ç«‹ã¤ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’åŒæ™‚ã«ãŠçŸ¥ã‚‰ã›ã—ã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å•é¡Œã‚±ãƒ¼ã‚¹</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã•ã¾ã–ã¾ãªãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§Kubernetesã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼å†…ã®Redisã‚’ä½¿ç”¨ã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç¤¾å†…ã®ä¸€èˆ¬çš„ãªæ…£è¡Œã‚’ç®¡ç†ãŠã‚ˆã³é©ç”¨ã™ã‚‹ãŸã‚ã«ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spotahome</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã®</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’æ¡ç”¨ã—ã¾ã—ãŸ</font></a><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ç§ãŸã¡ã®çµŒé¨“ã§ã¯ã€ã“ã‚ŒãŒæœ€ã‚‚å®‰å®šã—ãŸã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ã™ãŒã€ç‹¬è‡ªã®å•é¡Œã‚‚ã‚ã‚Šã¾ã™ãŒã€ãã®ã„ãã¤ã‹ã«ã¤ã„ã¦ã¯å¾Œã§èª¬æ˜ã—ã¾ã™ã€‚</font></font><a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®Redisã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®ãƒ­ã‚¸ãƒƒã‚¯ã®ç°¡å˜ãªèª¬æ˜ã¯ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã«è¨˜è¼‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã•ã‚Œã¦ã„</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã¾ã™</font></a><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æœ¬è³ªçš„ã«</font><font style="vertical-align: inherit;">ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼å®šç¾©ã®ãƒªã‚½ãƒ¼ã‚¹ã«åŸºã¥ã„ã¦</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆãƒ•ã‚©ãƒ¼ãƒ«ãƒˆãƒˆãƒ¬ãƒ©ãƒ³ãƒˆRedisï¼‰ã‚’</font><font style="vertical-align: inherit;">å®Ÿè¡Œã™ã‚‹ãŸã‚ã®ä¸€é€£ã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã—</font><i><font style="vertical-align: inherit;">ã¾ã™</font></i></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã®ã‚­ãƒƒãƒˆã¯ä»¥ä¸‹ã§æ§‹æˆã•ã‚Œã¦ã„ã¾ã™ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Redisæ§‹æˆã®ConfigMapã€</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Redisè‡ªèº«ã®StatefulSetsã€</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> é©åˆ‡ãªé‡â€‹â€‹ã®Sentinelãƒ¬ãƒ—ãƒªã‚«ã‹ã‚‰ã®ãƒ‡ãƒ—ãƒ­ã‚¤ãƒ¡ãƒ³ãƒˆã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒªã‚½ãƒ¼ã‚¹ã®ä»•æ§˜ã«ã‚ˆã‚Šã€æ¬¡ã®ã“ã¨</font></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ãƒ¬ãƒ—ãƒªã‚«ã®æ•°ã¨è¦æ±‚/åˆ¶é™ã®ä¸¡æ–¹ã‚’æ§‹æˆã—ã¾ã™ã€‚</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èµ·å‹•ã•ã‚ŒãŸãƒãƒƒãƒ‰ã®æ§‹æˆã§ç‰¹å®šã®ç·¨é›†ã‚’è¡Œã„ã¾ã™</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç°¡å˜ãªä¾‹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
<li>   PVC,        <i>Redis failovers</i>,        <i>(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>)</i>;</li>
<li>     , -     Redis <i>(<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="></a>)</i>.</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¤šãã®ãƒªã‚½ãƒ¼ã‚¹ã‚’ä½œæˆã™ã‚‹ã“ã¨ã«ã‚ˆã‚Š</font></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ç›¸äº’æ¥ç¶šã•ã‚ŒãŸ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’å¿…è¦ãª</font><font style="vertical-align: inherit;">æ•°ã ã‘å€‹åˆ¥ã«ä½œæˆãŠã‚ˆã³æ§‹æˆã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ³¨</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼šKubernetesã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®æ¦‚å¿µã«ç²¾é€šã—ã¦ã„ãªã„ã‹ã€Redisãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ã®ãƒªã‚½ãƒ¼ã‚¹ã¨ãƒªã‚½ãƒ¼ã‚¹ã§ç¾åœ¨æ··ä¹±ã—ã¦ã„ã‚‹å ´åˆã¯ã€</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã“ã®ç´¹ä»‹è¨˜äº‹ã‚’</font></a></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">èª­ã‚€ã“ã¨ã‚’ãŠå‹§ã‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã—ã¾ã™</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
è¤‡æ•°ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§æ§‹æˆã•ã‚Œã‚‹1ã¤ã®ã‹ãªã‚Šãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆRunetã§äººæ°—ã®ã‚ã‚‹Webã‚µã‚¤ãƒˆã«ã¤ã„ã¦è©±ã—ã¦ã„ã‚‹ï¼‰</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€Redisã¯ã“ã‚Œã¾ã§ã€ãƒ¡ãƒ¢ãƒªå†…ãƒ‡ãƒ¼ã‚¿ã‚¹ãƒˆã‚¢ãŠã‚ˆã³ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¹ãƒˆã‚¢ã¨ã—ã¦ã ã‘ã§ãªãã€å®Œå…¨ãªã‚¹ãƒ†ãƒ¼ãƒˆãƒ•ãƒ«ã‚¹ãƒˆã‚¢ã¨ã—ã¦ã‚‚ä½¿ç”¨ã•ã‚Œã¦ãã¾ã—ãŸã€‚ã“ã®ç‚¹ã§ã€ã™ã¹ã¦ã®ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®å€‹ã€…ã®Redisã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã®ã‚µã‚¤ã‚ºã¯ã€ã€Œãƒ©ãƒ‡ã‚£ãƒƒã‚·ãƒ¥ã€ã‹ã‚‰ã€Œã‚«ãƒœãƒãƒ£ã€ã«å¤‰ã‚ã‚Šã¾ã—ãŸã€‚ã‚ˆã‚Šæ­£ç¢ºã«ã¯ã€ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ã€Œæœ€ã‚‚åšã„ã€Redisã®* .rdbãƒ•ã‚¡ã‚¤ãƒ«ã®ã‚µã‚¤ã‚ºã¯5 GBã§ã—ãŸã€‚</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">* Redisãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ-Redisã«çµ„ã¿è¾¼ã¾ã‚Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŸãƒ‡ã‚£ã‚¹ã‚¯ã«çŠ¶æ…‹ã‚’ä¿å­˜</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã™ã‚‹ãŸã‚ã®2ã¤ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã®1ã¤</font><font style="vertical-align: inherit;">ã€‚</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
æœ€åˆã¯ã€å‰è¿°ã®</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><code>RedisFailover</code></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisãƒ¬ãƒ—ãƒªã‚«</font><font style="vertical-align: inherit;">ãŒ</font><font style="vertical-align: inherit;">1ã¤ã‚ã‚‹</font><font style="vertical-align: inherit;">ãƒªã‚½ãƒ¼ã‚¹ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã¾ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã¯éå¸¸ã«å¤§ããã€ãƒ”ãƒ¼ã‚¯æ™‚ã«ï¼ˆã¤ã¾ã‚Šã€ãƒ‡ãƒ¼ã‚¿ã‚’ãƒ‡ã‚£ã‚¹ã‚¯ã«ä¿å­˜ã™ã‚‹ã¨ãã«ï¼‰ç´„16 GBã®RAMã‚’æ¶ˆè²»ã—ã¾ã™ã€‚ãƒ¬ãƒ—ãƒªã‚«ãŒãƒãƒ¼ãƒ‰ã«åã¾ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã®å¾Œã€ãƒªã‚½ãƒ¼ã‚¹ã®æ¶ˆè²»é‡ãŒå¢—åŠ ã—ã€ã‚µãƒ–ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒKubernetesã«ç§»è¡Œã™ã‚‹ã«ã¤ã‚Œã¦ã€ã‚µãƒ¼ãƒãƒ¼ãŒãƒ‡ãƒ¼ã‚¿ã‚»ãƒ³ã‚¿ãƒ¼ã«è¿½åŠ ã•ã‚Œã¾ã—ãŸã€‚ã“ã‚Œã«ã‚ˆã‚Šã€Redisã®çŠ¶æ…‹ã‚’ç¶­æŒã™ã‚‹ã“ã¨ã®é‡è¦æ€§ã‚’è€ƒæ…®ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ä¿¡é ¼æ€§ã‚’é«˜ã‚ã‚‹ãŸã‚ã«ã€Redisãƒ¬ãƒ—ãƒªã‚«ã®æ•°ã‚’2ã¤ã«å¢—ã‚„ã™ã“ã¨ãŒã§ãã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ¬ãƒ—ãƒªã‚«ã®æ•°ã‚’å¤‰æ›´ã™ã‚‹ã¨ã¨ã‚‚ã«ã€ã‚³ãƒ³ãƒ†ãƒŠã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã¨åˆ¶é™ã‚’ãƒ¡ãƒ¢ãƒªã‹ã‚‰å¤‰æ›´ã—ã¦ã€22ã‚®ã‚¬ãƒã‚¤ãƒˆã‹ã‚‰19ã«æ¸›ã‚‰ã™ã“ã¨ã«ã—ã¾ã—ãŸã€‚ã“ã‚Œã¯ã€ç”Ÿæˆã•ã‚Œã‚‹ãƒãƒƒãƒ‰ãŒå¤§ãã„ãŸã‚ã§ã™ï¼ˆä»–ã®ãƒãƒ¼ãƒ‰ã«å¤±æ•—ã—ãŸã¨ãã«ãƒãƒƒãƒ‰ã‚’å¿«é©ã«ç§»å‹•ã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹ãŸã‚ã§ã™ï¼‰ã€‚ãã—ã¦ã€</font><font style="vertical-align: inherit;">ãƒ¬ãƒ—ãƒªã‚«æ•°ã®å¢—åŠ ã¨</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åŒæ™‚ã«</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã‚Œã‚’è¡Œã†ã¨ã„ã†æ±ºå®š</font><font style="vertical-align: inherit;">ã¯è‡´å‘½çš„ã¨ãªã‚Šã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å›å¾©ã®ãŸã‚ã®ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚’æº–å‚™ã—ãŸå¾Œã€</font></font><code>RedisFailover</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ›´æ–°ã•ã‚ŒãŸæ§‹æˆã§</font><font style="vertical-align: inherit;">ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰</font><font style="vertical-align: inherit;">ã•ã‚Œã€ãã®çµæœã€æ¬¡ã®ã“ã¨ãŒèµ·ã“ã‚Šã¾ã—ãŸã€‚</font></font><br>
<br>
<ul>
<li> StatefulSet   ;</li>
<li>    slaveâ€™   ;</li>
<li>    readiness-    (   ping!);</li>
<li> -     podâ€™  ,   ;</li>
<li> sentinel'  Â«Â»,           (           <code>BGSAVE</code>);</li>
<li>          ;       .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çµæœã¯æ˜ã‚‰ã‹ã§ã™ï¼šç½å®³ï¼ˆãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰ã®ã‚·ãƒ³ãƒ—ãƒ«ã§ãƒ‡ãƒ¼ã‚¿å¾©æ—§ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã®çµæœã«ã‚ˆã‚‹ã¨ã€ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ï¼ˆã¾ãŸã¯å½¼ã®æº–å‚™ãƒ—ãƒ­ãƒ¼ãƒ–ï¼‰ãŒä½•ãŒèµ·ã“ã£ãŸã‹ã®ä¸»ãªçŠ¯äººã ã£</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŸãŸã‚ã€GitHubãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">å•é¡Œ</font></a><font style="vertical-align: inherit;">ã‚’ä½œæˆ</font><font style="vertical-align: inherit;">ã—ã€è¨˜äº‹ã®æº–å‚™/å…¬é–‹ã®éç¨‹ã§</font><font style="vertical-align: inherit;">ã€ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã®é–‹ç™ºè€…ã‹ã‚‰</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å¿œç­”</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¿®æ­£</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚’å—ã‘å–ã‚Šã€</font><font style="vertical-align: inherit;">ãƒ†ã‚¹ãƒˆã«æˆåŠŸã—ã¾ã—ãŸã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚ˆã‚Šä¸€èˆ¬çš„ãªçµè«–ã¯æ¬¡ã®ã¨ãŠã‚Š</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§ã™ã€‚Kubernetesã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã¨ãã¯æ³¨æ„ã—ã¦ãã ã•ã„</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">é‡è¦ãªã‚¤ãƒ³ãƒ•ãƒ©ã‚¹ãƒˆãƒ©ã‚¯ãƒãƒ£ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã‚’ç®¡ç†ã™ã‚‹ãŸã‚ã«ï¼</font><font style="vertical-align: inherit;">ã“ã®ç‰¹å®šã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’é©ç”¨ã™ã‚‹ã¨ã€æœ€åˆã«1ã¤ã®ãƒ¬ãƒ—ãƒªã‚«ã‚’æŒã¤Redisæ§‹æˆã¯ã€ã„ãã¤ã‹ã®ãƒ¬ãƒ—ãƒªã‚«ã‚ˆã‚Šã‚‚ãƒ‡ãƒ¼ã‚¿æå¤±ã«å¯¾ã—ã¦ã‚ˆã‚Šè€æ€§ãŒã‚ã‚Šã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ãŒ1ã¤ã®Redisãƒãƒ¼ãƒ‰ã‹ã‚‰2ã¤ä»¥ä¸Šã«æ‹¡å¤§ã™ã‚‹ã¨ã€ã‚·ã‚¹ãƒ†ãƒ ã¯ä¸å®‰å®šãªçŠ¶æ…‹ã«ãªã‚Šã€ä½•ã‚‰ã‹ã®ç†ç”±ã§ã‚¦ã‚£ã‚¶ãƒ¼ãƒ‰ã‚’å†èµ·å‹•ã™ã‚‹ã¨ãƒ‡ãƒ¼ã‚¿ãŒå¤±ã‚ã‚Œã‚‹ã“ã¨ãŒä¿è¨¼ã•ã‚Œã¾ã™ã€‚ã“ã‚Œã®ä¸»ãªç†ç”±ã¯ã€èª¤ã£ãŸã‚µãƒ³ãƒ—ãƒ«ã§ã™ã€‚</font><font style="vertical-align: inherit;">ãã—ã¦ã‚‚ã¡ã‚ã‚“ã€ãã®ã‚ˆã†ãªä½œæ¥­ã‚’è¡Œã†å‰ã«ã€å¸¸ã«ã‚³ãƒ”ãƒ¼ã‚’ä¿æŒã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</font></font><code>dump.rbd</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿åˆ†æ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç‰©äº‹ã¯ã•ã‚‰ã«é€²ã‚“ã ã€‚ã“ã®ä¾‹ã§ã¯ã€åŒã˜ã‚ˆã†ãªã‚µã‚¤ã‚ºã®Redisã§ä½œæ¥­ã™ã‚‹ã¨ãã«ã©ã®ã‚ˆã†ãªå•é¡ŒãŒç™ºç”Ÿã™ã‚‹ã‹ã‚’è¦‹ã¦ã€æ™‚é–“ã‚’ã‹ã‘ã¦ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã®ãƒ‡ãƒ¼ã‚¿ã‚’åˆ†æã™ã‚‹ã“ã¨ã«ã—ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">æœ€åˆã«</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ¬ã‚¤ãƒ†ãƒ³ã‚·ãƒ‰ã‚¯ã‚¿ãƒ¼</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼ˆçµ„ã¿è¾¼ã¿ã®Redisé–¢æ•°</font><font style="vertical-align: inherit;">ï¼‰ã‚’ä½¿ç”¨ã—ã¦</font><font style="vertical-align: inherit;">ã€æ¬¡ã®ã“ã¨ã‚’ç¢ºèªã—ã¾ã—ãŸã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">127.0.0.1:6379&gt; LATENCY doctor<font></font>
Dave, I have observed latency spikes in this Redis instance. You don't mind talking about it, do you Dave?<font></font>
1. command: 3 latency spikes (average 237ms, mean deviation 19ms, period 67.33 sec). Worst all time event 256ms.<font></font>
I have a few advices for you:<font></font>
- Check your Slow Log to understand what are the commands you are running which are too slow to execute. Please check http://redis.io/commands/slowlog for more information.<font></font>
- Deleting, expiring or evicting (because of maxmemory policy) large objects is a blocking operation. If you have very large objects that are often deleted, expired, or evicted, try to fragment those objects into multiple smaller objects.<font></font>
127.0.0.1:6379&gt; LATENCY latest<font></font>
1) 1) "fork"<font></font>
  2) (integer) 1574513316<font></font>
  3) (integer) 308<font></font>
  4) (integer) 308<font></font>
2) 1) "command"<font></font>
  2) (integer) 1574513311<font></font>
  3) (integer) 214<font></font>
  4) (integer) 256</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å®Ÿè¡Œä¸­</font></font><code>fork</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãŠã‚ˆã³</font></font><code>command</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisã§ãƒ”ãƒ¼ã‚¯é…å»¶ãŒã‚ã‚‹</font><font style="vertical-align: inherit;">ã“ã¨ã«æ³¨ç›®ã—ã¦ãã ã•ã„</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚‰ã®ãƒ”ãƒ¼ã‚¯ã¯ã€ã‚µã‚¤ã‚ºãŒåŸå› ã§rbdã‚’ä¿å­˜ã™ã‚‹ãƒ—ãƒ­ã‚»ã‚¹ã«ã®ã¿é–¢é€£ã—ã¦ã„ã‚‹ã¨æƒ³å®šã—ã¦ã„ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prometheusã‚’ä»‹ã—ã¦å–å¾—ã—ãŸRedisãƒ¡ãƒˆãƒªãƒƒã‚¯ã‚’ç¤ºã™Grafanaã§ã¯ã€æ¬¡ã®ç”»åƒã§ã™</font></font><br>
<br>
<img src="https://habrastorage.org/webt/w_/b_/a-/w_b_a-b85knwanx9zudcu20wnsw.png"><br>
<img src="https://habrastorage.org/webt/bp/sa/es/bpsaestqynquas6miv3jxfuatuq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã€‚è¨€ã„æ›ãˆã‚‹ã¨ã€å·¨å¤§ãªãƒ™ãƒ¼ã‚¹ã‚µã‚¤ã‚ºã¨éå¸¸ã«å¤šæ•°ã®QPSã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã®æ®µéšã¯ã€Redisãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®ã‚ˆã‚Šè©³ç´°ãªèª¿æŸ»ã§ã™ã€‚</font><font style="vertical-align: inherit;">ç§ã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒå æœ‰ã™ã‚‹ã‚¹ãƒšãƒ¼ã‚¹ã®é‡ã¨ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒã©ã‚Œã ã‘ã®æ™‚é–“ã‚’è²»ã‚„ã™ã‹ã«ã¤ã„ã¦ã®é›†ç´„ã•ã‚ŒãŸçµè«–ã‚’å¾—ãŸã„ã¨æ€ã£ã¦ã„ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">Redisã‹ã‚‰æ­£ç¢ºã«å‰Šé™¤ã§ãã‚‹ã‚‚ã®ã€ãŠã‚ˆã³ãƒ™ãƒ¼ã‚¹ã®ã€Œè‚¥å¤§åŒ–ã€ã‚’å›é¿ã™ã‚‹ãŸã‚ã«ã‚³ãƒ¼ãƒ‰ã§ä½•ã‚’å¤‰æ›´ã™ã‚‹ã‹ã‚’ç†è§£ã™ã‚‹ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’è¡Œã†ãŸã‚ã«ã€ç„¡æ–™ã®ã‚ªãƒ¼ãƒ—ãƒ³ã‚½ãƒ¼ã‚¹ãƒ„ãƒ¼ãƒ«ã‚’ç”¨æ„ã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç‰¹å®šã®ä¾‹ã«ã¤ã„ã¦ç°¡å˜ã«æ¦‚è¦ã‚’èª¬æ˜ã—ã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1. Redisãƒ¡ãƒ¢ãƒªãƒ¼ã‚¢ãƒŠãƒ©ã‚¤ã‚¶ãƒ¼ï¼ˆRMAï¼‰</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubã®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã¯Pythonã§è¨˜è¿°ã•ã‚Œã€pipã‚’ä½¿ç”¨ã—ã¦PyPIã‹ã‚‰ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã™ã€‚</font><font style="vertical-align: inherit;">é–‹å§‹ã™ã‚‹ã«ã¯ã€åˆ¥ã®ï¼ˆæœ¬ç•ªç’°å¢ƒã‹ã‚‰ã®ï¼‰Kubernetesãƒãƒ¼ãƒ‰ã‹ã‚‰é–‹å§‹ã™ã‚‹ã‹ã€Redisã§Dockerã‚³ãƒ³ãƒ†ãƒŠãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã ã‘ã®ä¾¡å€¤ãŒã‚ã‚Š</font></font><code>/data</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™</font></font><code>dump.rdb</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã«ã¯ã€ã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆãŒ</font><font style="vertical-align: inherit;">å«ã¾ã‚Œã‚‹</font><font style="vertical-align: inherit;">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ãŸã¨ãˆã°ã€æ¬¡ã®ã‚ˆã†ã«ï¼ˆ</font></font><code>docker-compose.yml</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">  redis:<font></font>
    container_name: redis<font></font>
    image: redis<font></font>
    ports:<font></font>
      - "127.0.0.1:6379:6379"<font></font>
    volumes:<font></font>
      - ./:/data<font></font>
    restart: always</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€ãƒãƒ¼ãƒ‰ã‚’é–‹å§‹ã—</font></font><code>rma -f json</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¾ã™ã€‚-å‡ºåŠ›ã‚’JSONå½¢å¼ã§å–å¾—ã—ã¾ã™ï¼ˆè§£æã«ã¯ãƒ—ãƒ¬ãƒ¼ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚ˆã‚Šã‚‚ä¾¿åˆ©ã§ã‚ã‚‹ã‚ˆã†ã«è¦‹ãˆã¾ã—ãŸï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å•é¡Œãƒ™ãƒ¼ã‚¹è‡ªä½“ã®ç¸®å°ã•ã‚Œã€ã‚ãšã‹ã«é›£èª­åŒ–ã•ã‚ŒãŸçµè«–ï¼š</font></font><br>
<br>
<pre><code class="json hljs">{
    <span class="hljs-attr">"keys"</span>: [<font></font>
        {<font></font>
            <span class="hljs-attr">"count"</span>: <span class="hljs-number">16236021</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"The:most:evil:set:*"</span>,
            <span class="hljs-attr">"percent"</span>: <span class="hljs-string">"59.24%"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"set"</span><font></font>
        },<font></font>
        {<font></font>
            <span class="hljs-attr">"count"</span>: <span class="hljs-number">2463064</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"likes:*:*"</span>,
            <span class="hljs-attr">"percent"</span>: <span class="hljs-string">"8.98%"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"set"</span><font></font>
        },<font></font>
        {<font></font>
            <span class="hljs-attr">"count"</span>: <span class="hljs-number">2422160</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"notifications:*"</span>,
            <span class="hljs-attr">"percent"</span>: <span class="hljs-string">"8.83%"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"zset"</span><font></font>
        },<font></font>
        {<font></font>
            <span class="hljs-attr">"count"</span>: <span class="hljs-number">2102164</span>,
            <span class="hljs-attr">"name"</span>: <span class="hljs-string">"YYY:*"</span>,
            <span class="hljs-attr">"percent"</span>: <span class="hljs-string">"7.67%"</span>,
            <span class="hljs-attr">"type"</span>: <span class="hljs-string">"set"</span><font></font>
        },<font></font>
<font></font>
 <span class="hljs-string">"nodes"</span>: [<font></font>
        {<font></font>
            <span class="hljs-attr">"info"</span>: {
                <span class="hljs-attr">"active_defrag_running"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"allocator_active"</span>: <span class="hljs-number">16108007424</span>,
                <span class="hljs-attr">"allocator_allocated"</span>: <span class="hljs-number">16027311240</span>,
                <span class="hljs-attr">"allocator_frag_bytes"</span>: <span class="hljs-number">80696184</span>,
                <span class="hljs-attr">"allocator_frag_ratio"</span>: <span class="hljs-number">1.01</span>,
                <span class="hljs-attr">"allocator_resident"</span>: <span class="hljs-number">16336216064</span>,
                <span class="hljs-attr">"allocator_rss_bytes"</span>: <span class="hljs-number">228208640</span>,
                <span class="hljs-attr">"allocator_rss_ratio"</span>: <span class="hljs-number">1.01</span>,
                <span class="hljs-attr">"lazyfree_pending_objects"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"maxmemory"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"maxmemory_human"</span>: <span class="hljs-string">"0B"</span>,
                <span class="hljs-attr">"maxmemory_policy"</span>: <span class="hljs-string">"noeviction"</span>,
                <span class="hljs-attr">"mem_allocator"</span>: <span class="hljs-string">"jemalloc-5.1.0"</span>,
                <span class="hljs-attr">"mem_aof_buffer"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"mem_clients_normal"</span>: <span class="hljs-number">49694</span>,
                <span class="hljs-attr">"mem_clients_slaves"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"mem_fragmentation_bytes"</span>: <span class="hljs-number">308401864</span>,
                <span class="hljs-attr">"mem_fragmentation_ratio"</span>: <span class="hljs-number">1.02</span>,
                <span class="hljs-attr">"mem_not_counted_for_evict"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"mem_replication_backlog"</span>: <span class="hljs-number">0</span>,
                <span class="hljs-attr">"number_of_cached_scripts"</span>: <span class="hljs-number">18</span>,
                <span class="hljs-attr">"rss_overhead_bytes"</span>: <span class="hljs-number">-606208</span>,
                <span class="hljs-attr">"rss_overhead_ratio"</span>: <span class="hljs-number">1.0</span>,
                <span class="hljs-attr">"total_system_memory"</span>: <span class="hljs-number">67552931840</span>,
                <span class="hljs-attr">"total_system_memory_human"</span>: <span class="hljs-string">"62.91G"</span>,
                <span class="hljs-attr">"used_memory"</span>: <span class="hljs-number">16027240832</span>,
                <span class="hljs-attr">"used_memory_dataset"</span>: <span class="hljs-number">14661812642</span>,
                <span class="hljs-attr">"used_memory_dataset_perc"</span>: <span class="hljs-string">"91.49%"</span>,
                <span class="hljs-attr">"used_memory_human"</span>: <span class="hljs-string">"14.93G"</span>,
                <span class="hljs-attr">"used_memory_lua"</span>: <span class="hljs-number">1277952</span>,
                <span class="hljs-attr">"used_memory_lua_human"</span>: <span class="hljs-string">"1.22M"</span>,
                <span class="hljs-attr">"used_memory_overhead"</span>: <span class="hljs-number">1365428190</span>,
                <span class="hljs-attr">"used_memory_peak"</span>: <span class="hljs-number">16027625216</span>,
                <span class="hljs-attr">"used_memory_peak_human"</span>: <span class="hljs-string">"14.93G"</span>,
                <span class="hljs-attr">"used_memory_peak_perc"</span>: <span class="hljs-string">"100.00%"</span>,
                <span class="hljs-attr">"used_memory_rss"</span>: <span class="hljs-number">16335609856</span>,
                <span class="hljs-attr">"used_memory_rss_human"</span>: <span class="hljs-string">"15.21G"</span>,
                <span class="hljs-attr">"used_memory_scripts"</span>: <span class="hljs-number">35328</span>,
                <span class="hljs-attr">"used_memory_scripts_human"</span>: <span class="hljs-string">"34.50K"</span>,
                <span class="hljs-attr">"used_memory_startup"</span>: <span class="hljs-number">791264</span><font></font>
            },<font></font>
            <span class="hljs-attr">"redisKeySpaceOverhead"</span>: <span class="hljs-literal">null</span>,
            <span class="hljs-attr">"totalKeys"</span>: <span class="hljs-number">27402900</span>,
            <span class="hljs-attr">"used"</span>: {
                <span class="hljs-attr">"active-defrag-max-scan-fields"</span>: <span class="hljs-string">"1000"</span>,
                <span class="hljs-attr">"hash-max-ziplist-entries"</span>: <span class="hljs-string">"512"</span>,
                <span class="hljs-attr">"hash-max-ziplist-value"</span>: <span class="hljs-string">"64"</span>,
                <span class="hljs-attr">"list-max-ziplist-size"</span>: <span class="hljs-string">"-2"</span>,
                <span class="hljs-attr">"proto-max-bulk-len"</span>: <span class="hljs-string">"536870912"</span>,
                <span class="hljs-attr">"set-max-intset-entries"</span>: <span class="hljs-string">"512"</span>,
                <span class="hljs-attr">"zset-max-ziplist-entries"</span>: <span class="hljs-string">"128"</span>,
                <span class="hljs-attr">"zset-max-ziplist-value"</span>: <span class="hljs-string">"64"</span><font></font>
            }<font></font>
        }<font></font>
    ],<font></font>
    <span class="hljs-string">"stat"</span>: {
        <span class="hljs-attr">"hash"</span>: [<font></font>
            {<font></font>
                <span class="hljs-attr">"Avg field count"</span>: <span class="hljs-number">273.9381613257764</span>,
                <span class="hljs-attr">"Count"</span>: <span class="hljs-number">92806</span>,
                <span class="hljs-attr">"Encoding"</span>: <span class="hljs-string">"ziplist [85.3%] / hashtable [14.6%]"</span>,
                <span class="hljs-attr">"Key mem"</span>: <span class="hljs-number">127070103</span>,
                <span class="hljs-attr">"Match"</span>: <span class="hljs-string">"YYY:*"</span>,
                <span class="hljs-attr">"Ratio"</span>: <span class="hljs-number">4.11216105916338</span>,
                <span class="hljs-attr">"Real"</span>: <span class="hljs-number">1374780864</span>,
                <span class="hljs-attr">"System"</span>: <span class="hljs-number">899529088</span>,
                <span class="hljs-attr">"TTL Avg."</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"TTL Max"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"TTL Min"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"Total aligned"</span>: <span class="hljs-number">2961700368</span>,
                <span class="hljs-attr">"Total mem"</span>: <span class="hljs-number">461390876</span>,
                <span class="hljs-attr">"Value mem"</span>: <span class="hljs-number">334320773</span><font></font>
            },<font></font>
            {<font></font>
                <span class="hljs-attr">"Avg field count"</span>: <span class="hljs-number">16.630734258229428</span>,
                <span class="hljs-attr">"Count"</span>: <span class="hljs-number">102498</span>,
                <span class="hljs-attr">"Encoding"</span>: <span class="hljs-string">"ziplist [72.0%] / hashtable [27.9%]"</span>,
                <span class="hljs-attr">"Key mem"</span>: <span class="hljs-number">51729452</span>,
                <span class="hljs-attr">"Match"</span>: <span class="hljs-string">"ZZZ:*"</span>,
                <span class="hljs-attr">"Ratio"</span>: <span class="hljs-number">3.4048548273474686</span>,
                <span class="hljs-attr">"Real"</span>: <span class="hljs-number">97797080</span>,
                <span class="hljs-attr">"System"</span>: <span class="hljs-number">63099024</span>,
                <span class="hljs-attr">"TTL Avg."</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"TTL Max"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"TTL Min"</span>: <span class="hljs-number">-1</span>,
                <span class="hljs-attr">"Total aligned"</span>: <span class="hljs-number">265209096</span>,
                <span class="hljs-attr">"Total mem"</span>: <span class="hljs-number">80452286</span>,
                <span class="hljs-attr">"Value mem"</span>: <span class="hljs-number">28722834</span><font></font>
            },<font></font>
            { â€¦    }</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚’è¦‹</font></font><code>"totalKeys": 27402900</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¦</font></font><code>{ "count": 16236021, "name": "The:most:evil:set:*", "percent": "59.24%", "type": "set" }</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€é–‹ç™ºè€…ãŸã¡ã¯é ­ã‚’æŠ±ãˆã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã‚³ãƒ¼ãƒ‰ã®å•é¡Œé ˜åŸŸãŒã™ãã«ç™ºè¦‹ã•ã‚Œã¾ã—ãŸã€‚åŸ·ç­†æ™‚ç‚¹ã§ã¯ã€ã™ã¹ã¦ã®Redisã‚’ã‚¯ãƒªã‚¢ã™ã‚‹æº–å‚™ãŒã™ã§ã«é€²ã‚“ã§ãŠã‚Šã€ãã®å¾Œã€ä¿®æ­£ã‚’åŠ ãˆãŸã‚³ãƒ¼ãƒ‰ãŒãƒ‡ãƒ—ãƒ­ã‚¤ã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã§æ­¢ã‚ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ãŒã€ä»–ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’èª¿ã¹ãŸã®ã§ã€ãã‚Œã‚‰ã«ã¤ã„ã¦ã‚‚è©±ã—ã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2. Redis-rdb-tools</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubã®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã«ã¯ãã‚Œã‚’å®Ÿè¡Œã™ã‚‹ã ã‘ã§ååˆ†</font></font><code>pip install rdbtools python-lzf</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã§ã™ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã«ã€RMAã¨åŒã˜ã‚¹ã‚¿ãƒ³ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ã€æ¬¡ã®ã“ã¨ãŒã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">rdb -c memory dump.rdb --bytes 100 -f memory.csv</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...å¿œç­”ã§å—ã‘å–ã‚Šã¾ã™ï¼š</font></font><br>
<br>
<pre><code class="plaintext hljs">database,type,key,size_in_bytes,encoding,num_elements,len_largest_element,expiry<font></font>
0,sortedset,notification:user:50242,26844,skiplist,262,8,<font></font>
0,set,zz:yy:35647,30692,hashtable,760,8,<font></font>
0,set,pp:646064c2170c2e1d:item:a15671709071,39500,hashtable,319,64,<font></font>
0,hash,comments:93250,7224,ziplist,353,15,<font></font>
0,hash,comments2:90667,3715,ziplist,179,14,<font></font>
0,sortedset,yy:94224,67972,skiplist,544,15,<font></font>
0,hash,comments3:135049,70764,hashtable,1150,15,<font></font>
0,hash,ll-date:2018-10-20 12:00:00:count,2043,ziplist,61,49,<font></font>
0,set,likes:57513,2064,intset,498,8,<font></font>
0,hash,ll-date:2018-09-29 04:00:00:summ,2091,ziplist,53,49,<font></font>
0,hash,ll-date:2018-09-25 22:00:00:count,2243,ziplist,68,49,</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä¸€èˆ¬çš„ã«ã€ã“ã‚Œã¯</font><font style="vertical-align: inherit;">ç‰¹å®šã®rdbã‚¹ãƒŠãƒƒãƒ—ã‚·ãƒ§ãƒƒãƒˆ</font><font style="vertical-align: inherit;">ã‚’</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ¯”è¼ƒã™ã‚‹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ–¹æ³•ã€</font><font style="vertical-align: inherit;">ã¾ãŸã¯</font><font style="vertical-align: inherit;">Redisãƒ—ãƒ­ãƒˆã‚³ãƒ«ã‚’é©åˆ‡ãªå ´æ‰€ã«</font><font style="vertical-align: inherit;">ã€Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">æ”¾å°„</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€ã™ã‚‹</font><font style="vertical-align: inherit;">æ–¹æ³•ã•ãˆçŸ¥ã£ã¦ã„ã‚‹å„ªã‚ŒãŸãƒ„ãƒ¼ãƒ«ã§ã™</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãŸã ã—ã€çµæœã‚’ã•ã‚‰ã«è§£æã™ã‚‹å¿…è¦ãŒã‚ã‚‹ãŸã‚ã€ãã®çµè«–ã«åŸºã¥ã„ã¦çµè«–ã‚’å‡ºã™ã“ã¨ã¯éå¸¸ã«å›°é›£ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã®ãƒ„ãƒ¼ãƒ«ã®ä½œæˆè€…ã¯ã€</font><font style="vertical-align: inherit;">Redisãƒ‡ãƒ¼ã‚¿ã‚’è¦–è¦šåŒ–ã™ã‚‹ãŸã‚ã®æœ‰æ–™GUIã§ã‚ã‚‹</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rdbtools.com</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚‚ä½œæˆã—ã¾ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ˜¨å¹´æœ«ã€å½¼ã¯å­˜åœ¨ã—ãªããªã‚Šï¼ˆEOLï¼‰ã€æœ‰æ–™ã®è£½å“ï¼ˆ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RedisInsight</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼‰ã®</font><font style="vertical-align: inherit;">å½¢ã§Redis Labsã«ç§»å‹•ã—ã¾ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">ãã®ã‚ˆã†ãªæ±ºå®šã®æ¤œè¨ã¯ã€ã“ã®è¨˜äº‹ã®ç¯„å›²ã‚’è¶…ãˆã¦ã„ã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3. Redisç›£æŸ»</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubã®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã®ãƒ„ãƒ¼ãƒ«ã¯Rubyã§æ›¸ã‹ã‚Œã¦ãŠã‚Šã€å°‘ã—æ§ãˆã‚ã«è¨€ã£ã¦ã‚‚å¤ã„ã‚‚ã®ã§ã™ã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã«ã¯ã€GitHubã‹ã‚‰ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚³ãƒ”ãƒ¼ã—ã€Rubyã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã€ãƒ„ãƒ¼ãƒ«ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã§ã„ãã¤ã‹ã®ç°¡å˜ãªæ‰‹é †ã‚’å®Ÿè¡Œã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">sudo apt-get install ruby-full<font></font>
gem install bundler<font></font>
bundle install</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
èµ·å‹•ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">./redis-audit.rb -h 127.0.0.1</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...ã—ã‹ã—ã€ãã‚Œã¯ã—ã°ã—ã°ã‚¨ãƒ©ãƒ¼ã§ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ã¾ã™ï¼š</font></font><br>
<br>
<pre><code class="bash hljs">Auditing 127.0.0.1:6379 dbnum:0 sampling 50000 keys<font></font>
Sampling 50000 keys...<font></font>
5000 keys sampled - 10% complete - 2019-11-26 14:16:16 +0300<font></font>
10000 keys sampled - 20% complete - 2019-11-26 14:16:18 +0300<font></font>
./redis-audit.rb:144:<span class="hljs-keyword">in</span> `delete<span class="hljs-string">': invalid byte sequence in US-ASCII (ArgumentError)
    from ./redis-audit.rb:144:in `group_key'</span>
    from ./redis-audit.rb:130:<span class="hljs-keyword">in</span> `audit_key<span class="hljs-string">'
    from ./redis-audit.rb:99:in `block in audit_keys'</span>
    from ./redis-audit.rb:97:<span class="hljs-keyword">in</span> `<span class="hljs-built_in">times</span><span class="hljs-string">'
    from ./redis-audit.rb:97:in `audit_keys'</span>
    from ./redis-audit.rb:358:<span class="hljs-keyword">in</span> `&lt;main&gt;<span class="hljs-string">'</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å„ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ç ”ç©¶ã™ã‚‹ãŸã‚ã®ãƒªã‚½ãƒ¼ã‚¹ã¯ã‹ãªã‚Šé™ã‚‰ã‚Œã¦ã„ã‚‹ãŸã‚ã€å½¼ã‚‰ã¯ã€Œæ¾è‘‰æ–ã€ã‚’ä½¿ç”¨ã—ã¾ã—ãŸã€‚</font></font><br>
<br>
<pre><code class="bash hljs">until ./redis-audit.rb -h 127.0.0.1 -s 50000 &gt; dtf-audit; <span class="hljs-keyword">do</span> <span class="hljs-built_in">echo</span> <span class="hljs-string">"Try again"</span>; sleep 1; <span class="hljs-keyword">done</span><font></font>
<font></font>
Auditing 127.0.0.1:6379 dbnum:0 sampling 50000 keys<font></font>
Sampling 50000 keys...<font></font>
5000 keys sampled - 10% complete - 2019-11-24 22:18:26 +0300<font></font>
10000 keys sampled - 20% complete - 2019-11-24 22:18:28 +0300<font></font>
15000 keys sampled - 30% complete - 2019-11-24 22:18:29 +0300<font></font>
20000 keys sampled - 40% complete - 2019-11-24 22:18:31 +0300<font></font>
25000 keys sampled - 50% complete - 2019-11-24 22:18:32 +0300<font></font>
30000 keys sampled - 60% complete - 2019-11-24 22:18:34 +0300<font></font>
35000 keys sampled - 70% complete - 2019-11-24 22:18:35 +0300<font></font>
40000 keys sampled - 80% complete - 2019-11-24 22:18:37 +0300<font></font>
45000 keys sampled - 90% complete - 2019-11-24 22:18:38 +0300<font></font>
50000 keys sampled - 100% complete - 2019-11-24 22:18:40 +0300<font></font>
DB has 27402893 keys<font></font>
Sampled 6.25 MB of Redis memory<font></font>
Found 90 key groups<font></font>
==============================================================================</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çµæœï¼š</font></font><br>
<br>
<pre><code class="bash hljs">Found 107 key groups<font></font>
<font></font>
==============================================================================<font></font>
Found 1 keys containing strings, like:<font></font>
ooo:04-01-2019<font></font>
<font></font>
These keys use 0.0% of the total sampled memory (2 bytes)<font></font>
None of these keys expire<font></font>
Average last accessed time: 12 hours, 3 minutes, 22 seconds - (Max: 12 hours, 3 minutes, 22 seconds Min:12 hours, 3 minutes, 22 seconds)<font></font>
<font></font>
==============================================================================<font></font>
Found 1 keys containing sets, like:<font></font>
ttt:fff:8aa26e6f8f7a232bd80877ddb4e3b7a4c7706be0031ab0a8f76adfb3e5448783<font></font>
<font></font>
These keys use 0.0% of the total sampled memory (13 bytes)<font></font>
None of these keys expire<font></font>
Average last accessed time: 10 hours, 26 minutes, 34 seconds - (Max: 10 hours, 26 minutes, 34 seconds Min:10 hours, 26 minutes, 34 seconds)<font></font>
<font></font>
==============================================================================<font></font>
Found 1 keys containing hashs, like:<font></font>
zz:yy:vv:b45c247c-bcc4ae1b-fdacd2da-471e6cba-b82b9a20-a32255df-caa95a8a-a2533c7c<font></font>
<font></font>
These keys use 0.0% of the total sampled memory (24 bytes)<font></font>
None of these keys expire<font></font>
Average last accessed time: 11 hours, 46 minutes, 54 seconds - (Max: 11 hours, 46 minutes, 54 seconds Min:11 hours, 46 minutes, 54 seconds)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ãŸãŒã£ã¦ã€å¸Œæœ›ã©ãŠã‚Šã®çµæœã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€ãã®ãŸã‚ã«ã¯ã‚¨ãƒ©ãƒ¼ã«å¯¾å‡¦ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚ã“ã®å ´åˆã€ã‚¨ãƒ©ãƒ¼ï¼ˆRMAã‹ã‚‰ã®çµæœã®å–å¾—ãªã©ï¼‰ã¯ä½™åˆ†ãªæ™‚é–“ã®ç„¡é§„ã®ã‚ˆã†ã«è¦‹ãˆã¾ã—ãŸã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4. Redis-ã‚µãƒ³ãƒ—ãƒ©ãƒ¼</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubã®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Rubyã§ä½œæˆã•ã‚ŒãŸã“ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’å®Ÿè¡Œã™ã‚‹ã«ã¯ã€ä»¥å‰ã«ä½œæˆã—ãŸã‚¹ã‚¿ãƒ³ãƒ‰ã‚’å–ã‚Šã€ãƒªãƒã‚¸ãƒˆãƒªã‹ã‚‰ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ã¦ã€ãŸã¨ãˆã°100ä¸‡ã®ã‚µãƒ³ãƒ—ãƒ«ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">./redis-sampler.rb 127.0.0.1 6379 0 1000000</code></pre><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ç´ æ™´ã‚‰ã—ã„ç­”ãˆ</font></font></b><div class="spoiler_text"><pre><code class="bash hljs">Sampling 127.0.0.1:6379 DB:0 with 1000000 RANDOMKEYS<font></font>
<font></font>
TYPES<font></font>
=====<font></font>
 <span class="hljs-built_in">set</span>: 864532 (86.45%)     zset: 116538 (11.65%)    <span class="hljs-built_in">hash</span>: 16761 (1.68%)<font></font>
 string: 2055 (0.21%)     list: 114 (0.01%)<font></font>
<font></font>
EXPIRES<font></font>
=======<font></font>
 unknown: 1000000 (100.00%)<font></font>
 Average: 0.00 Standard Deviation: 0.00<font></font>
 Min: 0 Max: 0<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
<font></font>
Note: <span class="hljs-string">'unknown'</span> expire means keys with no expire<font></font>
<font></font>
STRINGS, SIZE OF VALUES<font></font>
=======================<font></font>
 1: 1096 (53.33%)         4: 485 (23.60%)          5: 182 (8.86%)<font></font>
 6: 180 (8.76%)           7: 60 (2.92%)            3: 21 (1.02%)<font></font>
 2: 21 (1.02%)            342: 7 (0.34%)           8: 2 (0.10%)<font></font>
 32: 1 (0.05%)<font></font>
 Average: 3.89 Standard Deviation: 19.88<font></font>
 Min: 1 Max: 342<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 1: 1096 (53.33%)      &lt;= 4: 506 (24.62%)       &lt;= 8: 424 (20.63%)<font></font>
 &lt;= 2: 21 (1.02%)         &lt;= 512: 7 (0.34%)        &lt;= 32: 1 (0.05%)<font></font>
<font></font>
LISTS, NUMBER OF ELEMENTS<font></font>
=========================<font></font>
 4: 86 (75.44%)           1: 14 (12.28%)           3: 7 (6.14%)<font></font>
 2: 7 (6.14%)<font></font>
 Average: 3.45 Standard Deviation: 1.05<font></font>
 Min: 1 Max: 4<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 4: 93 (81.58%)        &lt;= 1: 14 (12.28%)        &lt;= 2: 7 (6.14%)<font></font>
LISTS, SIZE OF ELEMENTS<font></font>
=======================<font></font>
 482: 2 (1.75%)           491: 2 (1.75%)           674: 2 (1.75%)<font></font>
 666: 2 (1.75%)           449: 2 (1.75%)           515: 2 (1.75%)<font></font>
 561: 2 (1.75%)           558: 2 (1.75%)           590: 2 (1.75%)<font></font>
 483: 2 (1.75%)           631: 2 (1.75%)           527: 2 (1.75%)<font></font>
 777: 2 (1.75%)           633: 1 (0.88%)           456: 1 (0.88%)<font></font>
 604: 1 (0.88%)           606: 1 (0.88%)           498: 1 (0.88%)<font></font>
 710: 1 (0.88%)           1946: 1 (0.88%)          481: 1 (0.88%)<font></font>
(suppressed 80 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 70.18%)<font></font>
 Average: 699.10 Standard Deviation: 387.90<font></font>
 Min: 207 Max: 3686<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 1024: 72 (63.16%)     &lt;= 512: 30 (26.32%)      &lt;= 2048: 10 (8.77%)<font></font>
 &lt;= 256: 1 (0.88%)        &lt;= 4096: 1 (0.88%)<font></font>
<font></font>
SETS, NUMBER OF ELEMENTS<font></font>
========================<font></font>
 1: 38506 (33.04%)        2: 20277 (17.40%)        3: 11991 (10.29%)<font></font>
 4: 7695 (6.60%)          5: 5456 (4.68%)          6: 4097 (3.52%)<font></font>
 7: 3171 (2.72%)          8: 2559 (2.20%)          9: 2112 (1.81%)<font></font>
 10: 1767 (1.52%)         11: 1527 (1.31%)         12: 1223 (1.05%)<font></font>
 13: 1060 (0.91%)         14: 1030 (0.88%)         15: 860 (0.74%)<font></font>
 16: 775 (0.67%)          17: 706 (0.61%)          18: 608 (0.52%)<font></font>
 19: 576 (0.49%)          21: 519 (0.45%)          20: 502 (0.43%)<font></font>
(suppressed 924 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 8.17%)<font></font>
 Average: 2.89 Standard Deviation: 64.09<font></font>
 Min: 1 Max: 55774<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 2: 631053 (72.99%)    &lt;= 1: 186025 (21.52%)    &lt;= 4: 15631 (1.81%)<font></font>
 &lt;= 8: 13305 (1.54%)      &lt;= 16: 8311 (0.96%)      &lt;= 32: 5008 (0.58%)<font></font>
 &lt;= 64: 2845 (0.33%)      &lt;= 128: 1319 (0.15%)     &lt;= 256: 581 (0.07%)<font></font>
 &lt;= 512: 282 (0.03%)      &lt;= 1024: 117 (0.01%)     &lt;= 2048: 35 (0.00%)<font></font>
 &lt;= 4096: 16 (0.00%)      &lt;= 8192: 3 (0.00%)       &lt;= 65536: 1 (0.00%)<font></font>
<font></font>
SETS, NUMBER OF ELEMENTS<font></font>
========================<font></font>
 1: 38506 (33.04%)        2: 20277 (17.40%)        3: 11991 (10.29%)<font></font>
 4: 7695 (6.60%)          5: 5456 (4.68%)          6: 4097 (3.52%)<font></font>
 7: 3171 (2.72%)          8: 2559 (2.20%)          9: 2112 (1.81%)<font></font>
 10: 1767 (1.52%)         11: 1527 (1.31%)         12: 1223 (1.05%)<font></font>
 13: 1060 (0.91%)         14: 1030 (0.88%)         15: 860 (0.74%)<font></font>
 16: 775 (0.67%)          17: 706 (0.61%)          18: 608 (0.52%)<font></font>
 19: 576 (0.49%)          21: 519 (0.45%)          20: 502 (0.43%)<font></font>
(suppressed 924 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 8.17%)<font></font>
 Average: 2.89 Standard Deviation: 64.09<font></font>
 Min: 1 Max: 55774<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 2: 631053 (72.99%)    &lt;= 1: 186025 (21.52%)    &lt;= 4: 15631 (1.81%)<font></font>
 &lt;= 8: 13305 (1.54%)      &lt;= 16: 8311 (0.96%)      &lt;= 32: 5008 (0.58%)<font></font>
 &lt;= 64: 2845 (0.33%)      &lt;= 128: 1319 (0.15%)     &lt;= 256: 581 (0.07%)<font></font>
 &lt;= 512: 282 (0.03%)      &lt;= 1024: 117 (0.01%)     &lt;= 2048: 35 (0.00%)<font></font>
 &lt;= 4096: 16 (0.00%)      &lt;= 8192: 3 (0.00%)       &lt;= 65536: 1 (0.00%)<font></font>
<font></font>
SETS, SIZE OF ELEMENTS<font></font>
======================<font></font>
 41: 250500 (28.98%)      32: 215070 (24.88%)      33: 142136 (16.44%)<font></font>
 5: 71140 (8.23%)         37: 54151 (6.26%)        40: 45521 (5.27%)<font></font>
 31: 28938 (3.35%)        36: 18885 (2.18%)        6: 18383 (2.13%)<font></font>
 4: 9766 (1.13%)          30: 2513 (0.29%)         44: 1967 (0.23%)<font></font>
 35: 1025 (0.12%)         3: 729 (0.08%)           43: 387 (0.04%)<font></font>
 26: 372 (0.04%)          34: 334 (0.04%)          8: 318 (0.04%)<font></font>
 29: 242 (0.03%)          71: 233 (0.03%)          28: 224 (0.03%)<font></font>
(suppressed 129 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 0.20%)<font></font>
 Average: 32.53 Standard Deviation: 10.91<font></font>
 Min: 1 Max: 151<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 64: 515245 (59.60%)   &lt;= 32: 247497 (28.63%)   &lt;= 8: 90055 (10.42%)<font></font>
 &lt;= 4: 10495 (1.21%)      &lt;= 128: 966 (0.11%)      &lt;= 2: 100 (0.01%)<font></font>
 &lt;= 256: 76 (0.01%)       &lt;= 16: 50 (0.01%)        &lt;= 1: 48 (0.01%)<font></font>
SORTED SETS, NUMBER OF ELEMENTS<font></font>
===============================<font></font>
 1: 38506 (33.04%)        2: 20277 (17.40%)        3: 11991 (10.29%)<font></font>
 4: 7695 (6.60%)          5: 5456 (4.68%)          6: 4097 (3.52%)<font></font>
 7: 3171 (2.72%)          8: 2559 (2.20%)          9: 2112 (1.81%)<font></font>
 10: 1767 (1.52%)         11: 1527 (1.31%)         12: 1223 (1.05%)<font></font>
 13: 1060 (0.91%)         14: 1030 (0.88%)         15: 860 (0.74%)<font></font>
 16: 775 (0.67%)          17: 706 (0.61%)          18: 608 (0.52%)<font></font>
 19: 576 (0.49%)          21: 519 (0.45%)          20: 502 (0.43%)<font></font>
(suppressed 924 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 8.17%)<font></font>
 Average: 23.62 Standard Deviation: 374.23<font></font>
 Min: 1 Max: 33340<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 1: 38506 (33.04%)     &lt;= 2: 20277 (17.40%)     &lt;= 4: 19686 (16.89%)<font></font>
 &lt;= 8: 15283 (13.11%)     &lt;= 16: 10354 (8.88%)     &lt;= 32: 6220 (5.34%)<font></font>
 &lt;= 64: 3085 (2.65%)      &lt;= 128: 1445 (1.24%)     &lt;= 256: 702 (0.60%)<font></font>
 &lt;= 512: 388 (0.33%)      &lt;= 1024: 235 (0.20%)     &lt;= 2048: 148 (0.13%)<font></font>
 &lt;= 4096: 107 (0.09%)     &lt;= 8192: 57 (0.05%)      &lt;= 16384: 31 (0.03%)<font></font>
 &lt;= 32768: 13 (0.01%)     &lt;= 65536: 1 (0.00%)<font></font>
<font></font>
SORTED SETS, SIZE OF ELEMENTS<font></font>
=============================<font></font>
 7: 52226 (44.81%)        8: 45833 (39.33%)        6: 8702 (7.47%)<font></font>
 15: 2971 (2.55%)         5: 2896 (2.49%)          4: 484 (0.42%)<font></font>
 18: 448 (0.38%)          21: 445 (0.38%)          16: 348 (0.30%)<font></font>
 20: 274 (0.24%)          12: 272 (0.23%)          22: 227 (0.19%)<font></font>
 14: 204 (0.18%)          13: 191 (0.16%)          17: 150 (0.13%)<font></font>
 10: 94 (0.08%)           11: 71 (0.06%)           3: 37 (0.03%)<font></font>
 9: 36 (0.03%)            19: 26 (0.02%)           2: 21 (0.02%)<font></font>
(suppressed 188 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 0.50%)<font></font>
 Average: 9.16 Standard Deviation: 22.30<font></font>
 Min: 1 Max: 722<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 8: 109657 (94.10%)    &lt;= 16: 4187 (3.59%)      &lt;= 32: 1610 (1.38%)<font></font>
 &lt;= 4: 521 (0.45%)        &lt;= 512: 489 (0.42%)      &lt;= 128: 30 (0.03%)<font></font>
 &lt;= 2: 21 (0.02%)         &lt;= 64: 13 (0.01%)        &lt;= 256: 5 (0.00%)<font></font>
 &lt;= 1024: 3 (0.00%)       &lt;= 1: 2 (0.00%)<font></font>
<font></font>
HASHES, NUMBER OF FIELDS<font></font>
========================<font></font>
 1: 3261 (19.46%)         3: 2763 (16.48%)         2: 1521 (9.07%)<font></font>
 4: 1361 (8.12%)          5: 1289 (7.69%)          6: 611 (3.65%)<font></font>
 7: 238 (1.42%)           8: 236 (1.41%)           18: 173 (1.03%)<font></font>
 9: 173 (1.03%)           16: 160 (0.95%)          12: 160 (0.95%)<font></font>
 13: 158 (0.94%)          15: 157 (0.94%)          17: 157 (0.94%)<font></font>
 10: 155 (0.92%)          14: 154 (0.92%)          22: 141 (0.84%)<font></font>
 11: 140 (0.84%)          20: 137 (0.82%)          19: 123 (0.73%)<font></font>
(suppressed 830 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 20.84%)<font></font>
 Average: 71.88 Standard Deviation: 397.44<font></font>
 Min: 1 Max: 10869<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 4: 4124 (24.60%)      &lt;= 1: 3261 (19.46%)      &lt;= 8: 2374 (14.16%)<font></font>
 &lt;= 2: 1521 (9.07%)       &lt;= 32: 1418 (8.46%)      &lt;= 64: 1329 (7.93%)<font></font>
 &lt;= 16: 1257 (7.50%)      &lt;= 128: 429 (2.56%)      &lt;= 512: 274 (1.63%)<font></font>
 &lt;= 256: 238 (1.42%)      &lt;= 1024: 236 (1.41%)     &lt;= 2048: 181 (1.08%)<font></font>
 &lt;= 4096: 84 (0.50%)      &lt;= 8192: 29 (0.17%)      &lt;= 16384: 6 (0.04%)<font></font>
<font></font>
HASHES, SIZE OF FIELDS<font></font>
======================<font></font>
 unknown: 13916 (83.03%)  5: 1570 (9.37%)          24: 244 (1.46%)<font></font>
 32: 225 (1.34%)          22: 127 (0.76%)          29: 86 (0.51%)<font></font>
 43: 82 (0.49%)           26: 60 (0.36%)           25: 47 (0.28%)<font></font>
 30: 42 (0.25%)           27: 41 (0.24%)           12: 40 (0.24%)<font></font>
 36: 34 (0.20%)           23: 34 (0.20%)           39: 31 (0.18%)<font></font>
 21: 23 (0.14%)           8: 23 (0.14%)            28: 17 (0.10%)<font></font>
 34: 15 (0.09%)           16: 15 (0.09%)           64: 15 (0.09%)<font></font>
(suppressed 19 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 0.44%)<font></font>
 Average: 15.12 Standard Deviation: 12.77<font></font>
 Min: 2 Max: 64<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 8: 1600 (56.24%)      &lt;= 32: 969 (34.06%)      &lt;= 64: 201 (7.07%)<font></font>
 &lt;= 16: 59 (2.07%)        &lt;= 4: 15 (0.53%)         &lt;= 2: 1 (0.04%)<font></font>
<font></font>
HASHES, SIZE OF VALUES<font></font>
======================<font></font>
 unknown: 13916 (83.03%)  13: 768 (4.58%)          14: 624 (3.72%)<font></font>
 6: 394 (2.35%)           12: 192 (1.15%)          3: 172 (1.03%)<font></font>
 4: 153 (0.91%)           7: 119 (0.71%)           2: 98 (0.58%)<font></font>
 5: 90 (0.54%)            21: 75 (0.45%)           20: 57 (0.34%)<font></font>
 16: 33 (0.20%)           1: 30 (0.18%)            15: 18 (0.11%)<font></font>
 9: 12 (0.07%)            22: 3 (0.02%)            19: 2 (0.01%)<font></font>
 8: 2 (0.01%)             71: 1 (0.01%)            32: 1 (0.01%)<font></font>
(suppressed 1 items with perc &lt; 0.5% <span class="hljs-keyword">for</span> a total of 0.01%)<font></font>
 Average: 10.52 Standard Deviation: 5.05<font></font>
 Min: 1 Max: 71<font></font>
<font></font>
Powers of two distribution: (NOTE &lt;= p means: p/2 &lt; x &lt;= p)<font></font>
 &lt;= 16: 1647 (57.89%)     &lt;= 8: 605 (21.27%)       &lt;= 4: 325 (11.42%)<font></font>
 &lt;= 32: 138 (4.85%)       &lt;= 2: 98 (3.44%)         &lt;= 1: 30 (1.05%)<font></font>
 &lt;= 128: 1 (0.04%)        &lt;= 64: 1 (0.04%)</code></pre></div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‡ºåŠ›ã¯ã€100ä¸‡ã‚µãƒ³ãƒ—ãƒ«ã«åŸºã¥ãRedisãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã‚¿ã‚¤ãƒ—åˆ¥ã®åˆ†å¸ƒã‚’ç¤ºã—ã¦ã„ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ç§ãŸã¡ã®ç‰¹å®šã®ã‚¿ã‚¹ã‚¯ã§ã¯ååˆ†ã«åŠ©ã‘ã«ã¯ãªã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5. RedisDesktop</font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHub</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ;</font></font></li>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚µã‚¤ãƒˆ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã¯Redisã®ã‚·ãƒ³ãƒ—ãƒ«ãªGUIã§ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ¡ãƒ¢ãƒªåˆ†ææ©Ÿèƒ½ã¯ãã®ä¸­ã«å­˜åœ¨ã—ã¾ã™ãŒã€ååˆ†ã«å¼·åŠ›ãªãƒ©ãƒƒãƒ—ãƒˆãƒƒãƒ—ï¼ˆ32 GBã®ãƒ¡ãƒ¢ãƒªã‚’æ­è¼‰ï¼‰ã§ã¯ã€ãƒœãƒªãƒ¥ãƒ¼ãƒ ã§ã®èµ·å‹•ã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£è‡ªä½“ã®ä½ä¸‹ã«ã¤ãªãŒã‚Šã¾ã—ãŸ...è©³ç´°ã«ã¤ã„ã¦ã¯è©³ã—ãèª¬æ˜ã—ã¾ã›ã‚“ã§ã—ãŸã€‚</font><font style="vertical-align: inherit;">å•é¡Œã«å¯¾ã™ã‚‹åˆ¥ã®è§£æ±ºç­–ã‚’è¦‹ã¤ã‘ã¾ã—ãŸã€‚ãã®ã‚ˆã†ãªGUIã®å­˜åœ¨ã¯ã€ç§ãŸã¡ã«ã¨ã£ã¦ã»ã¨ã‚“ã©é–¢å¿ƒãŒã‚ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.åç©« </font></font></h3><br>
<ul>
<li> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GitHubã®</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ„ãƒ¼ãƒ«ã¯Goã§è¨˜è¿°ã•ã‚Œã¦ãŠã‚Šã€ã§ãã‚‹ã ã‘ç°¡å˜ã«å®Ÿè¡Œã§ãã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># docker run --link redis:redis -it --rm 31z4/harvest redis://redis</span><font></font>
t:: 12.65% (697)<font></font>
tl:i:n:: 10.75% (592)<font></font>
tl:i:n:1: 5.68% (313)<font></font>
t:n:: 1.91% (105)<font></font>
t:n:i:: 1.87% (103)<font></font>
c: 1.63% (90)<font></font>
c:: 1.60% (88)<font></font>
n:: 1.52% (84)<font></font>
n:f:: 1.49% (82)<font></font>
c:l:: 1.34% (74)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã®ã‚­ãƒ¼ã®æ•°ã‚ˆã‚Šã‚‚å¤šãã®ã‚µãƒ³ãƒ—ãƒ«ã‚’è©¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<pre><code class="bash hljs">docker run --link redis:redis -it --rm 31z4/harvest redis://redis -s 3000000<font></font>
<font></font>
warning: database size (27402892) is less than the number of samples (30000000)<font></font>
<font></font>
t: 6.35% (20471794)<font></font>
tl:: 6.35% (20471508)<font></font>
tl:i:: 5.52% (17777810)<font></font>
tl:i:n:: 5.52% (17777693)<font></font>
tl:i:n:1: 2.89% (9302664)<font></font>
c: 1.06% (3398834)<font></font>
c:: 1.02% (3297466)<font></font>
c:c:: 0.84% (2697278)<font></font>
tl:n:: 0.84% (2693697)<font></font>
tl:n:i:: 0.82% (2649015)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã“ã§ç§ãŸã¡ã¯éå¸¸ã«é©šãã¾ã—ãŸ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‡ºåŠ›çµæœã®æ•°ã®å¢—åŠ ã¯ã€å˜ã«å‡ºåŠ›çµæœã®æ•°ã‚’å¢—åŠ ã•</font><font style="vertical-align: inherit;">ã›ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">é›†è¨ˆ-ã„ã„ãˆã€‚</font><font style="vertical-align: inherit;">è¿½åŠ ã®åˆ†æãƒ„ãƒ¼ãƒ«ï¼ˆã¾ãŸã¯é•·ã„é›†è¨ˆãƒãƒ¼ãƒ ï¼‰ãªã—ã§ãã®ã‚ˆã†ãªçµè«–ã‚’åˆ†æã™ã‚‹ã“ã¨ã¯å›°é›£ã§ã™ã€‚</font><font style="vertical-align: inherit;">ä¸€èˆ¬çš„ã«ã€ã“ã®ãƒ„ãƒ¼ãƒ«ã¯ç§ãŸã¡ã«é©ã—ã¦ã„ã¾ã›ã‚“ã§ã—ãŸã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">åˆ†æã®ã¾ã¨ã‚</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åˆ†æã®ä¸»ãªåŠ©æ‰‹ã¯RMAï¼ˆrâ€‹â€‹edis-memory-analyzerï¼‰ã§ã—ãŸã€‚ãã®å‡ºåŠ›ã¯ã€å—ä¿¡ã™ã‚‹ã®ãŒæœ€ã‚‚ç°¡å˜ãªã ã‘ã§ãªãã€èª­ã‚€/ç†è§£ã™ã‚‹ã®ã«ã‚‚å½¹ç«‹ã¡ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ã“ã‚Œã‚‰ã®çµæœã®ãŠã‹ã’ã§ã€é–‹ç™ºãƒãƒ¼ãƒ ã¯ã€ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ãŒå¤±æ•—ã—ãŸãŸã‚ã«ç”Ÿæˆã•ã‚ŒãŸã¨è€ƒãˆã‚‰ã‚Œã‚‹1,800ä¸‡å€‹ã®ã‚­ãƒ¼ã‚’ç™ºè¦‹ã—ã€ä¿®æ­£ã•ã‚Œã‚‹äºˆå®šã§ã™ã€‚</font><font style="vertical-align: inherit;">æœ€çµ‚çš„ã«ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãŒã€Œè»½é‡åŒ–ã€ã•ã‚Œã€ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒã‚ˆã‚Šé«˜é€Ÿã«å‹•ä½œã—ã€ã‚ˆã‚Šå¤šãã®ãƒˆãƒ©ãƒ•ã‚£ãƒƒã‚¯ã¨ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’ç²å¾—ã§ãã‚‹ã‚ˆã†ã«ãªã‚‹ã“ã¨ã‚’é¡˜ã£ã¦ã„ã¾ã™ã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">çµè«–</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®è¨˜äº‹ã§ã¯ã€æœ¬è³ªçš„ã«Sentinelã€Redisãƒã‚¹ã‚¿ãƒ¼ã€Redisã‚¹ãƒ¬ãƒ¼ãƒ–ã®ãƒãƒ³ãƒ‰ãƒ«ã§ã‚ã‚‹ã€Œã‚¯ãƒ©ã‚·ãƒƒã‚¯ã€Redisã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼ã«ã¤ã„ã¦æ¤œè¨ã—ã¾ã—ãŸã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redis Enterprise Operator</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³ã¯</font><font style="vertical-align: inherit;">ã€</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ä¾¡æ ¼ãŒ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">å®Œå…¨ã«ä¸é€æ˜ã§ã‚ã‚‹ãŸã‚é©ç”¨ã•ã‚Œãš</font><font style="vertical-align: inherit;">ã€</font><font style="vertical-align: inherit;">æˆç†Ÿåº¦ãŒä¸ååˆ†ãªãŸã‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Amadeus IT Groupã®</font></font></a><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼</font></a><font style="vertical-align: inherit;">ã‚‚é©ç”¨ã•ã‚Œã¾ã›ã‚“ã§ã—ãŸ</font><font style="vertical-align: inherit;">ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãŸã€è¨˜äº‹ã§ã¯çµ„ã¿è¾¼ã¿ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒªãƒ³ã‚°ã€ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã€ãƒ•ã‚§ã‚¤ãƒ«ã‚ªãƒ¼ãƒãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹ã‚¹ã‚­ãƒ¼ãƒ ã«ã¤ã„ã¦ã¯è§¦ã‚Œã¾ã›ã‚“ã§ã—ãŸã€‚ãã‚Œã‚‰ã®ã‚µãƒãƒ¼ãƒˆã«ã¯ã‚³ãƒ¼ãƒ‰ã¨å¤§ããªãƒªã‚½ãƒ¼ã‚¹ã®å‡¦ç†ãŒå¿…è¦ã ã‹ã‚‰ã§ã™ã€‚ã—ã‹ã—ã€ã™ã§ã«è¡Œã‚ã‚ŒãŸä½œæ¥­ã®çµæœã‚’ä½¿ç”¨ã—ã¦ã€ä»Šã“ã®æ–¹å‘ã«ç§»å‹•ã™ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚é”æˆã•ã‚ŒãŸç¯€ç´„ã«ã‚ˆã‚Šã€Redisè‡ªä½“ã§çµ„ã¿è¾¼ã¿ã®ã‚¯ãƒ©ã‚¹ã‚¿ãƒ¼åŒ–ã¨ã‚·ãƒ£ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã®å•é¡Œã¯é–¢é€£æ€§ãŒã‚ã‚Šã€ä¸»è¦ãªè¿½åŠ ã‚¹ãƒ†ãƒƒãƒ—ã¨è¦‹ãªã•ã‚Œã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ä½•ãŒèµ·ã“ã£ãŸã®ã‹ã‚’åˆ†æã—ãŸå¾Œã€Spotahomeã®ã‚ªãƒšãƒ¬ãƒ¼ã‚¿ãƒ¼ã‚’ä½¿ç”¨ã™ã‚‹æ–¹æ³•ã«ã¤ã„ã¦ã‚‚æ¤œè¨ã™ã‚‹äºˆå®šã§ã™ã€‚</font><font style="vertical-align: inherit;">ãƒ¬ãƒ“ãƒ¥ãƒ¼ã—ãŸãƒ„ãƒ¼ãƒ«ã«åŸºã¥ã„ã¦ã€å½¼ã‚‰ã¯RMAãŒRedisãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã®è¿…é€Ÿãªåˆ†æã®ãŸã‚ã®æœ€ã‚‚å˜ç´”ã§æœ€ã‚‚ç†è§£ã—ã‚„ã™ãåŠ¹æœçš„ãªãƒ„ãƒ¼ãƒ«ã§ã‚ã‚‹ã¨çµè«–ä»˜ã‘ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">å½¼ã¯ã€RedisãŒå¤§ãããªã£ãŸç†ç”±ã¨ã€ã‚³ãƒ¼ãƒ‰ã®æ›¸ãæ›ãˆã«æ³¨åŠ›ã™ã‚‹å ´æ‰€ã‚’ã™ãã«ç†è§£ã™ã‚‹ã®ã«å½¹ç«‹ã¡ã¾ã—ãŸã€‚</font><font style="vertical-align: inherit;">ä»–ã®ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã¯åŒã˜çµæœã‚’å¾—ã‚‹ãŸã‚ã«å¤šãã®ä½œæ¥­ã‚’å¿…è¦ã¨ã—ã¾ã—ãŸã€‚</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç§ãŸã¡ã®ãƒ–ãƒ­ã‚°ã‚‚èª­ã‚“ã§ãã ã•ã„ï¼š</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€Œ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Redisã®[æ½œåœ¨çš„]ä»£æ›¿ã¨ã—ã¦ã®KeyDB</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¨Kubernetesï¼ˆãƒ¬ãƒ“ãƒ¥ãƒ¼ã¨ãƒ“ãƒ‡ã‚ªãƒ¬ãƒãƒ¼ãƒˆï¼‰</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">â€œ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kusnetesã¸ã®Cassandraã®ç§»è¡Œï¼šæ©Ÿèƒ½ã¨ã‚½ãƒªãƒ¥ãƒ¼ã‚·ãƒ§ãƒ³</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> â€;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">éšœå®³ç‰©ã®ãªã„MongoDBã‹ã‚‰Kubernetesã¸ã®ç§»è¡Œ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ";</font></font></li>
<li> Â«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">  RabbitMQ  Kubernetes</a>Â».</li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja480708/index.html">æ•°åå¹´ãŒçµ‚ã‚ã‚Šã«è¿‘ã¥ã„ã¦ã„ã¾ã™ã€‚Google Playã§éå»10å¹´é–“ã«æœ€ã‚‚ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚ŒãŸã‚¢ãƒ—ãƒªã¯ã©ã‚Œã§ã™ã‹ã€‚</a></li>
<li><a href="../ja480710/index.html">SFMLã‚²ãƒ¼ãƒ ã®ãƒªãƒ•ã‚¡ã‚¯ã‚¿ãƒªãƒ³ã‚°</a></li>
<li><a href="../ja480714/index.html">FFmpegã«ã‚³ãƒ¼ãƒ‡ãƒƒã‚¯ã‚’è¿½åŠ ã™ã‚‹æ–¹æ³•</a></li>
<li><a href="../ja480716/index.html">Matlabå¯¾ ã‚¸ãƒ¥ãƒªã‚¢å¯¾ ãƒ‘ã‚¤ã‚½ãƒ³</a></li>
<li><a href="../ja480718/index.html">ã‚³ãƒ¼ãƒ‰ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’æˆåŠŸã•ã›ã‚‹ãŸã‚ã®6ã¤ã®ãƒ’ãƒ³ãƒˆ</a></li>
<li><a href="../ja480724/index.html">ãƒˆãƒ©ãƒ³ã‚¹ã‚³ãƒ³ãƒ‘ã‚¤ãƒ«ã•ã‚ŒãŸè¨€èªï¼šã‚³ãƒ¼ãƒ‰ã‹ã‚‰ã‚³ãƒ¼ãƒ‰ã¸ã®å¤‰æ›ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆ</a></li>
<li><a href="../ja480730/index.html">è‡ªå‹•ãƒ¢ãƒˆé–‹ç™ºã¨Nginx</a></li>
<li><a href="../ja480734/index.html">TestMaceã¯Postmanã‚ˆã‚Šã‚‚å„ªã‚Œã¦ã„ã¾ã™</a></li>
<li><a href="../ja480736/index.html">ITè£½å“ã‚’æ”¹å–„ã™ã‚‹ãŸã‚ã«ã™ã¹ã¦ã®ã‚¨ãƒ©ãƒ¼ã‚’ä¿®æ­£ã™ã‚‹å¿…è¦ãŒãªã„ã®ã¯ãªãœã§ã™ã‹</a></li>
<li><a href="../ja480738/index.html">ãƒ­ã‚·ã‚¢ã§è£½å“ã‚’ä½œæˆã—ãŸçµŒé¨“ã€ã¾ãŸã¯ã€Œæ°‘ä¿—ã€ãƒ¯ã‚¤ãƒ¤ãƒ¬ã‚¹æƒé™¤æ©ŸPRO-EXPERTã®ä½œæˆæ–¹æ³•</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>