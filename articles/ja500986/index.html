<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦓 🐋 🧀 データセンターでの監視：古いBMSを新しいBMSにどのように変更したか。パート3 🌆 🤰🏾 ⛩️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="データセンターのBMSシステムをどのように変更したかについての話を続けます（パート1、パート2）。同時に、あるベンダーのソリューションを別のベンダーに変更するだけでなく、要件に合わせてゼロからシステムを開発しました。私たちの物語を締めくくるために、私たちはあなたに役立つかもしれない、行われた作業の結...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>データセンターでの監視：古いBMSを新しいBMSにどのように変更したか。パート3</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/linxdatacenter/blog/500986/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">データセンターのBMSシステムをどのように変更したかについての話を続けます（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パート1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パート2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）。</font><font style="vertical-align: inherit;">同時に、あるベンダーのソリューションを別のベンダーに変更するだけでなく、要件に合わせてゼロからシステムを開発しました。</font><font style="vertical-align: inherit;">私たちの物語を締めくくるために、私たちはあなたに役立つかもしれない、行われた作業の結果と興味深い解決策を共有します。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいインターフェース</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここでは、彼らが言うように、一度見た方がいいです。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ed/7df/537/1ed7df5378bbc1e39a4442031d3c023f.jpg"></div><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ラック。</font></font></i><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
違いを分析してみましょう。</font></font><br>
<br>
<ul>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まず、それは</font></font></strong><strong><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">美しく</font></font></s></strong><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">快適です。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PDUのモジュール（「バンク」または単に「バンク」）の負荷と、ペアになっているモジュールの並列負荷の合計を追跡することがいかに簡単になったかに注意してください。</font><font style="vertical-align: inherit;">新しいBMSのラックモデルでは、ペアになっている下位のPDUが過負荷になり（許容16Aを超える合計電流は「青」の通知です）、上位のPDUが過負荷になっていることがすぐにわかります。</font><font style="vertical-align: inherit;">入力の1つが切断されると、負荷全体が2番目に移り、通電されたままの下部モジュールは過負荷のため切断されます。</font><font style="vertical-align: inherit;">これを防ぐために、データセンターサポートサービスは事前にお客様に警告し、負荷を再配分する方法に関する推奨を送信します。</font></font></li>
<li><strong>  .</strong>   BMS                      PDU.   BMS    ,     ,     - « ».</li>
<li><strong>   .</strong>         .        .  ,          (     )         .        ,     .&nbsp;</li>
<li><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">直感的なインターフェース。</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいインターフェースでは、アイコンの山はなく、ファンが回転し、「クリック」してスイッチします。</font><font style="vertical-align: inherit;">そして最も便利なのは、ラック内のPDUラインA / Bのステータスを表示する機能です。</font><font style="vertical-align: inherit;">私たちは古いBMSでも同様のことを試みましたが、カードの1平方センチあたりのマージアイコンの数が原因で、それを放棄しました。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今、目を見て喜んでいます：</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/d85/84d/739/d8584d739885bfaf0ff73f53986ca868.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サーバ</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b84/8e7/efe/b848e7efe251431596df1a2329608a80.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メインスイッチボードのフラグメント。</font></font></i><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/627/b83/083/627b83083d7b907ff15f8e184f6be901.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">換気制御パネル。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、あなたは新年のために新しいBMSを飾ることができます:-)</font></font><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ddc/4f5/43b/ddc4f543b6ec6525afb904231e7317aa.png"></div><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1ページ-TKの理解と不在</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
非常に長い間、BMSに別の「トリック」を実装したいと考えていました。1ページでデータセンターの主要なパラメーターを構成し、画面を一目見ただけでメインシステムのステータスを評価するのに十分でした。しかし、私たちはそれがどのように見えるべきかを完全に理解していませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいBMSの開発が始まる前から、私たちは遠足でオランダの数十のデータセンターを訪問しました。目標の1つは、そのようなページの実装例を確認することでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、それらはどのデータセンターでも私たちに示されていませんでした-どこかでなかった、どこかで「それは現在開発されている」、どこかでそれは「大きな企業秘密」でした。そのため、新しいBMSの作成に関する仕様では、このページの正確な説明（私たちにとって非常に重要）が欠落しています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、文字通り「外出先で」それを思いつきました。その瞬間、私はリモートでデータセンターの同僚に相談する必要がありました。異種のデータを探すために電話でBMSページをスクロールするのは非常に不便で、実際、</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">One pageの</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最初のバージョンはナプキンに落書きされていました</font><font style="vertical-align: inherit;">。写真の開発者によって実装されました。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
慎重なオランダ人の同僚の例に従って、特に各データセンターは一意であり、コピーする意味がないため、メインページの最終バージョンのデモは行いません。しかし、私たちはその形成の2つの主要な原則を説明します：</font></font><br>
<br>
<ol>
<li> ,        ( ,     ),        .    «»  ,          .&nbsp;</li>
<li>       (  ).        ,     .&nbsp;      - –         .    .</li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際、データセンターの物理的および論理的な地形への接続が実装されている間、データセンターのすべての主要な特性は、責任あるエンジニアとマネージャーによってグループ化され、スマートフォン/モニターの同じ画面に表示されます。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これが最初のドラフトの写真ですが、もちろん、このバージョンが再考されて完成しました。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f8a/b4e/3ce/f8ab4e3cea336fd13a9c75de72be50c8.png"></div><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インシデントの承認と要約</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
監視システムを更新するプロジェクトの結果として登場した、私たちにとってもう1つの新しい概念について話しましょう。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
謝辞は、新しいBMSの開発者が使用することを提案した、かなりまれな用語です。</font><font style="vertical-align: inherit;">それは、オペレーターがインシデントを見て、それを確認し、それを排除する責任を負ったことの確認を意味します。&nbsp;&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
言葉は根付き、今では事件を「認める」。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいBMSの基本バージョンで規定されたアルゴリズムは、私たちには適していませんでした。</font><font style="vertical-align: inherit;">実際、これらはイベントログに対するコメントでした。つまり、解決されたインシデントはログから消えず、受信された（「確認済み」）メッセージは新しいメッセージからソートされませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その結果、「要約」という名前でウィンドウが開発されました。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アクティブなインシデントとデバイスのみがサービスモードで表示されます（商用の「青い」通知なし）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NEWとACCEPTEDのインシデントは明確に区別されています。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">誰が事件を受け入れたかが示されています。</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新しいBMSの職務アルゴリズムは次のとおりです。</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しいインシデントが報告され、確認を待ちます。</font><font style="vertical-align: inherit;">彼らは長い間このセクションにいることはできません。当直の設備担当者が直ちに事件を引き継ぐ必要があります。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">従業員は、右側のチェックマークをクリックしてインシデントを受け入れます。</font><font style="vertical-align: inherit;">すべての従業員は一意のアカウントの下にあるため、インシデントを受け入れたユーザーが自動的に表示されます。</font><font style="vertical-align: inherit;">必要に応じて、コメントを残してください。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">インシデントは「確認済み」セクションに移動し、残りのアテンダントとマネージャーは、担当役員がインシデントに関与していることを理解します。</font></font></li>
</ol><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/22f/ae1/ada/22fae1adab762bbfda3af82fe19ae4f2.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しく確認済みのメッセージが表示された要約ウィンドウの例。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要約ウィンドウを1ページのテーブルに接続する</font><font style="vertical-align: inherit;">と、BMSシステムの</font><font style="vertical-align: inherit;">本格的な</font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メイン画面</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">が</font><strong><font style="vertical-align: inherit;">表示され</font></strong><font style="vertical-align: inherit;">、すぐに表示できます。&nbsp;</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主なデータセンターシステムの状態。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新しい未処理のインシデントの存在;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">受け入れられたインシデントの存在と、それらを明確に排除した人物に関するデータ。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ブラウザ経由のアクセスと電話のポップアップアラート</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
世界中のどこからでもどのデバイスからでもアクセスできるWebインターフェイスは、外部ユーザーに対して完全に閉じられている「ファット」クライアントとはまったく対照的です。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
古いアプローチでは、サービススタッフの監視というリモート作業の整理に関する問題から、データセンターのスタッフジョブの配布から「シック」クライアントをインストールする必要性まで、一連の不便さが伴いました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BMSのどのページにも一意のアドレスがあり、ページまたはデバイスの直接アドレスだけでなく、一意のグラフ/レポートへのリンクも共有できます。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
システムへのアクセスは、Active Directoryを介したLDAP認証を介して提供されるようになり、セキュリティのレベルが向上しています。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日のモビリティは、技術者の質の高い仕事における重要な要素です。エンジニアは、勤務シフトルームでの監視の監視に加えて、迂回し、「勤務部屋」の外で日常業務を行い、モバイル画面用に最適化されたBMSメイン画面のおかげで、部屋で何が起こっているかを一瞬制御できます。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コントロールの品質は、ワークチャットの機能によって強化されています。ワークフローを加速し、担当エンジニアとBMSの通信を「リンク」できるようにします。たとえば、Teamsアプリケーションを使用すると、内部通信を行い、ポップアッププッシュ通知の形式で電話でBMSからすべてのメッセージを受信できます。これにより、電話責任者の義務が電話画面を常に見る必要がなくなります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bu/xv/k_/buxvk_kkytde_uintn-mmf--ce4.png"><br>
&nbsp;<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スマートフォン画面でプッシュ通知。</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/ye/e-/mm/yee-mmhflsbvbhlydal-4uyxjky.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そのため、通知はTeamsアプリケーションで表示されます。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、ポップアップ通知はインシデントに関するメッセージに対してのみ構成されているため、注意散漫要因を最小限に抑えることができます。スタッフは、チームのプッシュ通知がスマートフォンの画面に表示された場合、BMSページに移動してインシデントを受け入れる必要があることを知っています。</font><font style="vertical-align: inherit;">是正措置メッセージは、BMSページですでに追跡されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-y/dv/p_/-ydvp_3qnfa6jhchfdnl8i9ejaq.png"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">写真はスマートフォンのBMSインターフェース。</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">まとめ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちの古いベンダーからBMSを更新するコストは、ゼロから新しいシステムを開発するのに匹敵し（約10万ドル）、製品の機能の違いは非常に大きいことがわかりました。ビジネスタスクとプロセスに最適化された柔軟なシステムを受け取りました。また、システムの保守と更新にかかるランニングコストも大幅に節約できました。&nbsp; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、もちろん、困難がありました。&nbsp;</font></font><br>
<br>
<ul>
<li>-,    ,        BMS,       .       ,           ,    ,      ,  .      ,          .       ,            ,  .&nbsp;</li>
<li>-,     ,         .        BMS,        .     . ,         ,       .</li>
<li>-,        .       ( )  ,       ,        ,     .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日のBMSシステムの抜本的な更新は、過去1年間で最も重要なプロジェクトと言えるでしょう。これは、将来のサイトの運用管理の品質に深刻な影響を与えるでしょう。&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
もちろん、私たちは古い鉄製のサーバーを捨てずに「より簡単に」しました。何千もの「商用」仮想センサーとPDUをクリーニングし、ディーゼル発電機セット、UPS、エアコン、ポンプ、漏れセンサーなどの最も重要なデバイスをほんの数ダース残しました。温度。</font><font style="vertical-align: inherit;">このモードでは、以前の速度に戻り、「予備の予備」になる可能性があります。</font><font style="vertical-align: inherit;">ちなみに、古いBMSからPDUを削除すると、約1000個の不要なライセンスが解放されましたが、どうすればよいのでしょうか。</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja500972/index.html">これらの奇妙なOS：簡単に3つの異常なオペレーティングシステムについて</a></li>
<li><a href="../ja500974/index.html">Andrew Unの本の翻訳、機械学習への情熱、47章と48章</a></li>
<li><a href="../ja500978/index.html">RabbitMQによる遅延トレイ</a></li>
<li><a href="../ja500980/index.html">脳RX</a></li>
<li><a href="../ja500984/index.html">悪いアップルまたはハッピーラジオデー、オタク</a></li>
<li><a href="../ja500992/index.html">最高のIT企業のパフォーマンス管理はどうですか</a></li>
<li><a href="../ja500994/index.html">アリを実行します。走る</a></li>
<li><a href="../ja500996/index.html">6か月以上でDevOpsエンジニアになる方法 パート1.はじめに</a></li>
<li><a href="../ja500998/index.html">畳み込みニューラルネットワークとiOSへの統合（パート1）</a></li>
<li><a href="../ja501000/index.html">データベースのクライアントを作成する例によるGoでのコード生成</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>