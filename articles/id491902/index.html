<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👌🏿 📌 🖕🏽 Menulis editor WYSIWYG sederhana dengan ProseMirror 🍚 🤣 💲</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Ketika Sports.ru membutuhkan editor WYSIWYG sendiri , kami memutuskan untuk membuatnya berdasarkan perpustakaan ProseMirror. Salah satu fitur utama da...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Menulis editor WYSIWYG sederhana dengan ProseMirror</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/sports_ru/blog/491902/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ketika Sports.ru membutuhkan </font><font style="vertical-align: inherit;">editor </font></font><abbr title="Apa yang Anda lihat adalah apa yang Anda dapatkan"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WYSIWYG</font></font></abbr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sendiri </font><font style="vertical-align: inherit;">, kami memutuskan untuk membuatnya berdasarkan perpustakaan ProseMirror. </font><font style="vertical-align: inherit;">Salah satu fitur utama dari alat ini adalah modularitas dan kemungkinan penyesuaian yang luas, sehingga dengan bantuannya Anda dapat menyesuaikan editor dengan sangat baik untuk proyek apa pun. </font><font style="vertical-align: inherit;">Secara khusus, ProseMirror sudah digunakan di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The New York Times</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The Guardian</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pada artikel ini, kita akan berbicara tentang cara menulis editor WYSIWYG Anda menggunakan ProseMirror.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/kf/to/_b/kfto_btseokytxzu3k5jsbltebs.png" alt="Menulis editor WYSIWYG sederhana dengan ProseMirror"><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gambaran Umum ProseMirror</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Penulis ProseMirror adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Marijn Haverbeke,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> yang dikenal di komunitas pengembang frontend terutama sebagai penulis buku populer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eloquent Javascript</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pada awal pekerjaan kami (musim gugur 2018), tidak ada bahan untuk bekerja dengan perpustakaan ini, kecuali untuk dokumentasi resmi dan tutorial dari penulis. Paket dokumentasi dari penulis mencakup beberapa bagian, yang paling berguna di antaranya adalah </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ProseMirror Guide</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (deskripsi konsep dasar) dan </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manual Referensi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (spesifikasi perpustakaan). Di bawah ini adalah ringkasan ide-ide kunci dari ProseMirror Guide.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ProseMirror selalu menyimpan status dokumen dalam struktur datanya sendiri. Dan sudah dari struktur ini dalam runtime elemen DOM yang sesuai dihasilkan pada halaman yang berinteraksi dengan pengguna akhir. Selain itu, ProseMirror tidak hanya menyimpan status saat ini (status), tetapi juga riwayat perubahan sebelumnya, yang dapat dibatalkan jika perlu. Setiap perubahan dalam keadaan harus terjadi melalui transaksi, manipulasi biasa dengan pohon DOM tidak akan bekerja secara langsung di sini. Transaksi adalah abstraksi yang menjelaskan logika perubahan status langkah demi langkah. Inti dari pekerjaan mereka mengingatkan pada pengiriman dan pelaksanaan tindakan di perpustakaan untuk manajemen negara, misalnya, Redux dan Vuex.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Perpustakaan itu sendiri dibangun di atas modul independen yang dapat dinonaktifkan atau ditambahkan tergantung pada kebutuhan. </font><font style="vertical-align: inherit;">Daftar modul utama yang kami pikir akan dibutuhkan oleh hampir semua orang:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prosemirror-model</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">model</font></a><font style="vertical-align: inherit;"> dokumen yang menggambarkan semua komponen dokumen, sifat dan tindakannya yang dapat dilakukan pada mereka;</font></font><br>
 </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prosemirror-state</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - struktur data yang menggambarkan keadaan dokumen yang dibuat pada titik waktu tertentu, termasuk fragmen dan transaksi yang dipilih untuk berpindah dari satu negara ke negara lain;</font></font><br>
 </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prosemirror-view</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - presentasi dokumen di browser dan alat-alat sehingga pengguna dapat berinteraksi dengan dokumen;</font></font><br>
 </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prosemirror-transform</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - fungsional untuk menyimpan riwayat transaksi, dengan bantuan transaksi mana yang diimplementasikan dan yang memungkinkan Anda untuk kembali ke keadaan sebelumnya atau melakukan pengembangan bersama dari satu dokumen.</font></font><br>
 </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain set minimal ini, modul berikut ini mungkin juga berguna:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prosemirror-commands</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - satu set perintah yang sudah jadi untuk mengedit. </font><font style="vertical-align: inherit;">Sebagai aturan, Anda perlu menulis sesuatu yang lebih kompleks atau sendiri, tetapi Marijn Haverbeke telah melakukan beberapa hal untuk kami, misalnya menghapus sebagian teks yang dipilih;</font></font><br>
 </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prosemirror-keymap</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - modul dua metode untuk menentukan pintasan keyboard;</font></font><br>
 </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">prosemirror-history</a> –          , ..    ,    ,  ,       ;<br>
 </li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u=">prosemirror-schema-list</a> –      ,     (      DOM-,   ,      ).<br>
 </li>
</ul><br>
<h2>   ProseMirror</h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita mulai dengan membuat garis besar editor. Skema di ProseMirror mendefinisikan daftar elemen yang mungkin ada di dokumen kami, dan propertinya. Setiap elemen memiliki metode toDOM, yang menentukan bagaimana elemen ini akan diwakili di pohon DOM di halaman web. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prinsip WYSIWYG diwujudkan dengan tepat pada kenyataan bahwa ketika membuat skema kami memiliki kontrol penuh atas bagaimana konten yang dapat diedit ditampilkan pada halaman, dan, oleh karena itu, kami dapat memberikan setiap elemen seperti struktur HTML dan mengatur gaya seperti konten yang akan dilihat. Node dapat dibuat dan disesuaikan dengan kebutuhan Anda, khususnya, kemungkinan besar Anda mungkin memerlukan paragraf, judul, daftar, gambar, paragraf, media.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Misalkan setiap paragraf teks harus dibungkus dengan tag "p" dengan kelas "paragraf", yang menentukan aturan gaya paragraf yang diperlukan untuk tata letak. Maka skema ProseMirror dalam hal ini mungkin terlihat seperti ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { Schema } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-model"</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> mySchema = <span class="hljs-keyword">new</span> Schema({
    <span class="hljs-attr">nodes</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;    <span class="hljs-attr">doc</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="hljs-attr">content</span>: <span class="hljs-string">'block'</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">text</span>: {},
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">paragraph</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <span class="hljs-attr">content</span>: <span class="hljs-string">'inline'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  &nbsp;<span class="hljs-attr">group</span>: <span class="hljs-string">'block'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  <span class="hljs-attr">toDOM</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toDOM</span>(<span class="hljs-params">node</span>) </span>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <span class="hljs-keyword">return</span> [<span class="hljs-string">'p'</span>, {<span class="hljs-attr">class</span>: <span class="hljs-string">'paragraph'</span>}, <span class="hljs-number">0</span>];<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  },<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;  },<font></font>
    },<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, kami mengimpor konstruktor untuk membuat skema kami dan meneruskan objek ke sana yang menggambarkan node (selanjutnya disebut sebagai node) di editor masa depan. Node adalah abstraksi yang menggambarkan jenis konten yang dibuat. Misalnya, dengan skema seperti itu, hanya node jenis teks dan paragraf yang dapat berada di editor. Doc adalah nama simpul tingkat atas, yang hanya terdiri dari elemen blok, mis. dalam hal ini hanya dari paragraf (karena kami belum menggambarkan yang lain). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Teks adalah simpul teks, agak mirip dengan simpul teks DOM. Menggunakan properti grup, kita dapat mengelompokkan node kita dengan cara yang berbeda sehingga mereka dapat lebih mudah diakses dalam kode. Grup dapat diatur dengan cara apa pun yang nyaman bagi kami. Dalam kasus kami, kami membagi node hanya menjadi blok dan inline. Teks sebaris secara default, jadi ini bisa dihilangkan secara eksplisit.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hal yang sama sekali berbeda adalah paragraf (paragraf). </font><font style="vertical-align: inherit;">Kami mengumumkan bahwa paragraf terdiri dari elemen teks sebaris, dan juga memiliki perwakilannya sendiri di DOM. </font><font style="vertical-align: inherit;">Paragraf akan menjadi elemen blok, kira-kira dalam arti elemen blok DOM. </font><font style="vertical-align: inherit;">Menurut skema ini, paragraf pada halaman akan disajikan dalam editor online sebagai berikut:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"paragraph"</span>&gt;</span>Content of the paragraph<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang Anda dapat membuat editor itu sendiri:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">import</span> { EditorState } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-state"</span>;
<span class="hljs-keyword">import</span> { EditorView } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-view"</span>;
<span class="hljs-keyword">import</span> { Schema } <span class="hljs-keyword">from</span> <span class="hljs-string">"prosemirror-model"</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> mySchema = <span class="hljs-keyword">new</span> Schema({
    <span class="hljs-attr">nodes</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;    <span class="hljs-attr">doc</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <span class="hljs-attr">content</span>: <span class="hljs-string">'block+'</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">text</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <span class="hljs-attr">group</span>: <span class="hljs-string">'inline'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">inline</span>: <span class="hljs-literal">true</span><font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<span class="hljs-attr">paragraph</span>: {
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">content</span>: <span class="hljs-string">'inline*'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">group</span>: <span class="hljs-string">'block'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">toDOM</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">toDOM</span>(<span class="hljs-params">node</span>) </span>{
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <span class="hljs-keyword">return</span> [<span class="hljs-string">'p'</span>, {<span class="hljs-attr">class</span>: <span class="hljs-string">'paragraph'</span>}, <span class="hljs-number">0</span>];<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;    },<font></font>
    },<font></font>
});<font></font>
<font></font>
<span class="hljs-comment">/**
 * @classdesc  
 * @param {Object} el DOM-,    
 */</span>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Wysiwyg</span> </span>{
    <span class="hljs-keyword">constructor</span>(el) {
        <span class="hljs-keyword">this</span>.el = el;<font></font>
    }<font></font>
<font></font>
    <span class="hljs-comment">/**
      * <span class="hljs-doctag">@description </span>    
&nbsp;    &nbsp;* <span class="hljs-doctag">@param <span class="hljs-type">{Object}</span> </span>content ,    
&nbsp;     */</span><font></font>
    setArticle(content) {<font></font>
        <span class="hljs-keyword">const</span> state = EditorState.fromJSON(<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;        {<span class="hljs-attr">schema</span>: mySchema},<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;        content,<font></font>
        );<font></font>
        <span class="hljs-keyword">const</span> view = <span class="hljs-keyword">new</span> EditorView(<span class="hljs-keyword">this</span>.el, {<span class="hljs-attr">state</span>: state});<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada awalnya, seperti biasa, kami mengimpor semua konstruktor yang diperlukan dari modul yang sesuai dan mengambil skema yang dijelaskan di atas. Kami membuat editor sebagai kelas dengan serangkaian metode yang diperlukan. Agar halaman web dapat mengedit dan membuat konten, Anda perlu membuat negara, menyatakan, menggunakan tata letak dan konten artikel, dan menyajikan konten dari keadaan saat ini di elemen root yang diberikan. Kami menempatkan tindakan ini dalam metode setArticle, kecuali yang sejauh ini tidak diperlukan. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pada saat yang sama, konten bersifat opsional. Jika tidak, maka Anda mendapatkan editor kosong, dan konten sudah dapat dibuat langsung di tempat. Katakanlah kita memiliki file HTML dengan markup ini:</font></font><br>
<br>
<pre><code class="html hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"editor"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk membuat editor WYSIWYG kosong pada halaman, Anda hanya perlu beberapa baris dalam skrip yang berjalan pada halaman dengan markup ini:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//     </span>
<span class="hljs-keyword">import</span> Wysiwyg <span class="hljs-keyword">from</span> <span class="hljs-string">'wysiwyg'</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> root = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'editor'</span>);
<span class="hljs-keyword">const</span> myWysiwyg = <span class="hljs-keyword">new</span> Wysiwyg(root);<font></font>
myWysiwyg.setArticle();<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan menggunakan kode ini, Anda dapat menulis teks apa pun dari awal. </font><font style="vertical-align: inherit;">Pada titik ini, Anda sudah dapat melihat cara kerja ProseMirror. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ketika pengguna mengetik teks di editor ini, transaksi terjadi. </font><font style="vertical-align: inherit;">Misalnya, jika Anda mengetik frasa “Ini editor WYSIWYG keren baru saya” di editor dengan skema di atas, ProseMirror akan merespons input keyboard dengan menggunakan set transaksi yang sesuai, dan setelah input selesai, konten dalam status dokumen akan terlihat seperti ini:</font></font><br>
<br>
<pre><code class="javascript hljs">content: [<font></font>
    {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;    <span class="hljs-attr">type</span>: <span class="hljs-string">'paragraph'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">value</span>: <span class="hljs-string">'    WYSIWYG-'</span>,<font></font>
    },<font></font>
]<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika kita ingin beberapa teks, misalnya, konten artikel yang sudah dibuat sebelumnya, dibuka di editor untuk diedit, maka konten ini harus sesuai dengan skema yang dibuat sebelumnya. </font><font style="vertical-align: inherit;">Maka kode inisialisasi editor akan terlihat sedikit berbeda:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-comment">//     </span>
<span class="hljs-keyword">import</span> Wysiwyg <span class="hljs-keyword">from</span> <span class="hljs-string">'wysiwyg'</span>;<font></font>
<font></font>
<span class="hljs-keyword">const</span> root = <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">'editor'</span>);
<span class="hljs-keyword">const</span> myWysiwyg = <span class="hljs-keyword">new</span> Wysiwyg(root);
<span class="hljs-keyword">const</span> content = {
    <span class="hljs-attr">type</span>: <span class="hljs-string">'doc'</span>,
    <span class="hljs-attr">content</span>: [<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;    {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;    <span class="hljs-attr">type</span>: <span class="hljs-string">'paragraph'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">value</span>: <span class="hljs-string">'Hello, world!'</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; },<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; {<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;<span class="hljs-attr">type</span>: <span class="hljs-string">'paragraph'</span>,
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; <span class="hljs-attr">value</span>: <span class="hljs-string">'This is my first wysiwyg-editor'</span>,<font></font>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;}<font></font>
    ],<font></font>
};<font></font>
myWysiwyg.setArticle(content);<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hore! </font><font style="vertical-align: inherit;">Kami membuat editor pertama kami, yang dapat membuat halaman bersih untuk membuat konten baru dan membuka yang sudah ada untuk diedit.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa yang harus dilakukan dengan editor selanjutnya</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tetapi bahkan dengan set lengkap node, editor kami masih tidak memiliki fungsi penting - memformat teks, paragraf. Untuk ini, selain node, objek dengan pengaturan untuk pemformatan, tanda, juga harus ditransfer ke sirkuit. Untuk kesederhanaan, kami menyebutnya merek - begitu. Dan untuk mengontrol penambahan, penghapusan dan pemformatan semua elemen ini, pengguna akan membutuhkan menu. Menu dapat ditambahkan menggunakan plugin kustom yang menyesuaikan dgn mode objek objek dan menggambarkan perubahan dalam keadaan dokumen ketika memilih tindakan tertentu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan menggunakan plugin, Anda dapat membuat desain apa pun yang memperluas fitur bawaan editor. Gagasan utama plugin adalah mereka memproses tindakan pengguna tertentu untuk menghasilkan transaksi yang sesuai dengannya. Misalnya, jika Anda ingin klik pada ikon daftar di menu untuk membuat daftar kosong baru dan memindahkan kursor ke awal elemen pertama, maka kita harus menggambarkan transaksi ini di plugin yang sesuai. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat membaca lebih lanjut tentang pengaturan format dan plugin dalam </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dokumentasi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> resmi </font><font style="vertical-align: inherit;">, serta </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">contoh-contoh</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> berguna yang sangat kecil </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;">untuk</font></a><font style="vertical-align: inherit;"> menggunakan fitur ProseMirror </font><font style="vertical-align: inherit;">bisa sangat berguna </font><font style="vertical-align: inherit;">. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">UPD</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jika Anda tertarik pada bagaimana kami mengintegrasikan editor baru berdasarkan ProseMirror ke dalam proyek yang ada, maka kami membicarakan hal ini di </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> lain </font><font style="vertical-align: inherit;">.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id491886/index.html">KnowledgeConf 2020 Online: menerapkan manajemen pengetahuan langkah-demi-langkah</a></li>
<li><a href="../id491888/index.html">GitLab CI: 6 fitur dari rilis terbaru yang telah kami tunggu-tunggu</a></li>
<li><a href="../id491890/index.html">Drive Anatomy: SSD</a></li>
<li><a href="../id491896/index.html">Bagaimana kami di Cyan meningkatkan produk melalui penelitian pengalaman pengguna</a></li>
<li><a href="../id491900/index.html">Fleksibilitas dan otomatisasi dalam pembelajaran mesin</a></li>
<li><a href="../id491904/index.html">Cara menulis kode Python yang aman. Makanan Kushal Das</a></li>
<li><a href="../id491916/index.html">Menciptakan lingkungan virtual dan menginstal pustaka untuk Python 3 di IDE PyCharm</a></li>
<li><a href="../id491924/index.html">PVS-Studio analyzer beta test # di Linux dan macOS</a></li>
<li><a href="../id491926/index.html">Pengembangan aplikasi mobile lintas platform pada tahun 2020</a></li>
<li><a href="../id491934/index.html">Profil psikologis investor saham: cara kerjanya</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>