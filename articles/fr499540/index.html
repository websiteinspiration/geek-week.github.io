<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üññüèΩ ‚ôíÔ∏è üëπ Fonctionnement du rendu de jeu 3D: texturation et filtrage de texture üòß üë®üèª‚Äçüíª üßê</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Dans le troisi√®me article sur le rendu dans les jeux 3D, nous d√©couvrirons ce qui arrive au monde 3D apr√®s avoir trait√© le traitement des vertex et pi...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Fonctionnement du rendu de jeu 3D: texturation et filtrage de texture</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/499540/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a4/fee/0c7/2a4fee0c701c2b2200faf2b8c6929832.jpg" alt="image"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans le troisi√®me article sur le rendu dans les jeux 3D, nous d√©couvrirons ce qui arrive au monde 3D apr√®s avoir trait√© le traitement des vertex et pixellis√© la sc√®ne. </font><font style="vertical-align: inherit;">La texturation est l'une des √©tapes les plus importantes du rendu, malgr√© le fait qu'elle calcule et modifie uniquement les couleurs d'une grille bidimensionnelle de blocs multicolores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plupart des effets visuels des jeux modernes se r√©sument √† une utilisation d√©lib√©r√©e des textures - sans eux, les jeux sembleraient ennuyeux et sans vie. </font><font style="vertical-align: inherit;">Voyons donc comment tout cela fonctionne! </font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partie 1: traitement des sommets </font></font></a><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Partie 2: tramage et lancer de rayons</font></font></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Commen√ßons par un simple</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez prendre tous les jeux √† trois dimensions les plus vendus au cours de la derni√®re ann√©e et dire avec confiance qu'ils ont tous quelque chose en commun: ils utilisent </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des cartes de texture</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (ou simplement des </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">textures</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). C'est un terme si courant que lorsque l'on pense aux textures, la plupart des gens pr√©sentent la m√™me image: un simple carr√© plat ou rectangle contenant une image d'une surface (herbe, pierre, m√©tal, tissu, visage, etc.). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais lorsqu'elles sont utilis√©es et combin√©es √† l'aide de calculs complexes, de telles images simples dans une sc√®ne 3D peuvent cr√©er des images incroyablement r√©alistes. Pour comprendre comment cela est possible, d√©sactivons-les compl√®tement et voyons √† quoi ressembleront les objets du monde 3D sans textures.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme nous l'avons vu dans les articles pr√©c√©dents, le monde 3D est compos√© de sommets - des formes simples qui se d√©placent puis se colorisent. Ils sont ensuite utilis√©s pour cr√©er des primitives, qui √† leur tour sont compress√©es en une grille bidimensionnelle de pixels. Comme nous n'utiliserons pas de textures, nous devons coloriser ces pixels. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'une des m√©thodes pouvant √™tre appliqu√©es est appel√©e </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ombrage plat</font></font></em></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : la couleur du premier sommet de la primitive est prise, puis cette couleur est appliqu√©e √† tous les pixels couverts par la figure dans le raster. Cela ressemble √† ceci:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a0b/f5c/61b/a0bf5c61be539c776d00fa1b11177ced.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De toute √©vidence, la bouilloire semble irr√©aliste, notamment en raison des couleurs de surface irr√©guli√®res. Les couleurs sautent d'un niveau √† l'autre, il n'y a pas de transitions fluides. Une solution au probl√®me pourrait √™tre d'utiliser l' </font></font><em><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ombrage Gouraud</font></font></a></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce processus, les couleurs des sommets sont prises, apr√®s quoi le changement de couleur le long de la surface du triangle est calcul√©. Pour cela, </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">une interpolation lin√©aire est utilis√©e</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Cela semble compliqu√©, mais en r√©alit√©, cela signifie que si, par exemple, un c√¥t√© de la primitive a une couleur de 0,2 rouge et l'autre 0,8 rouge, le milieu de la figure aura une couleur au milieu entre 0,2 et 0,8 (soit 0,5).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce processus est assez simple, et c'est son principal avantage, car la simplicit√© signifie la vitesse. De nombreux jeux 3D plus anciens utilisaient cette technique car l'√©quipement informatique √©tait limit√© dans ses capacit√©s.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/128/447/3c8/1284473c8e1e2ce7d32dbf2202065afe.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Barrett et Cloud dans toute la grandeur de l'ombrage Gouraud (Final Fantasy VII, 1997)</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Mais m√™me une telle solution a des probl√®mes - si la lumi√®re tombe en plein milieu du triangle, alors ses coins (et sommets) peuvent ne pas transmettre cette propri√©t√©. </font><font style="vertical-align: inherit;">Cela signifie que l'√©blouissement cr√©√© par la lumi√®re peut √™tre compl√®tement perdu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bien que l'ombrage plat et l'ombrage de Gouraud aient pris la place qui leur revient dans les outils de rendu, les exemples ci-dessus sont des candidats clairs pour l'am√©lioration de la texture. </font><font style="vertical-align: inherit;">Et pour bien comprendre ce qui se passe lorsque la texture se superpose √† la surface, on va remonter dans le temps ... d√©j√† en 1996.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Histoire du jeu et du GPU en bref</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Il y a environ 23 ans, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">id Software a</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sorti Quake, et c'est devenu une √©tape importante. </font><font style="vertical-align: inherit;">Bien que ce ne soit pas le premier jeu √† utiliser des polygones et des textures 3D pour rendre des environnements, il a certainement √©t√© l'un des premiers √† les utiliser efficacement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais elle a fait autre chose aussi - elle a montr√© ce qui peut √™tre fait en utilisant OpenGL (cette API graphique √©tait alors dans la premi√®re version), et a √©galement beaucoup aid√© la premi√®re g√©n√©ration de cartes graphiques comme </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendition Verite</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3Dfx Voodoo</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a86/9a9/667/a869a966718cfc8ddf4b6d7618b2fdbf.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pics d'√©clairage et textures simples. </font><font style="vertical-align: inherit;">Nettoyez 1996, nettoyez Quake. </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selon les normes modernes, Voodoo √©tait extr√™mement simple: pas de support graphique 2D, pas de traitement de vertex, seulement le traitement de pixels le plus simple. </font><font style="vertical-align: inherit;">Cependant, elle √©tait belle:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/66c/509/911/66c5099113c9b08098b73ce31436ecb8.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mus√©e VGA</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Elle avait une puce enti√®re (TMU) pour obtenir un pixel d'une texture et une autre puce (FBI) pour le m√©langer plus tard avec un pixel raster. La carte pourrait effectuer quelques processus suppl√©mentaires, par exemple, la mise en ≈ìuvre d'effets de brouillard ou de transparence, mais cela a essentiellement mis fin √† ses capacit√©s. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si nous regardons l'architecture sous-jacente √† la structure et au fonctionnement de la carte graphique, nous verrons comment ces processus fonctionnent.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/064/c83/ee4/064c83ee4f63da2be0d5a968c33df0d5.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sp√©cification 3Dfx. Source: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Falconfly Central</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
La puce FBI a re√ßu deux valeurs de couleur et les a m√©lang√©es; l'un d'eux pourrait √™tre une valeur d'une texture. Le processus de m√©lange est math√©matiquement assez simple, mais varie l√©g√®rement en fonction de ce qui est m√©lang√© et de l'API utilis√©e pour ex√©cuter les instructions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous regardez ce que </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Direct3D nous offre en ce</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> qui concerne les fonctions et les op√©rations de mixage, nous verrons que chaque pixel est d'abord multipli√© par un nombre de 0,0 √† 1,0. Cela d√©termine dans quelle mesure la couleur du pixel affectera le r√©sultat final. Ensuite, deux couleurs de pixels modifi√©es sont ajout√©es, soustraites ou multipli√©es; dans certaines fonctions, une op√©ration logique est effectu√©e dans laquelle, par exemple, le pixel le plus lumineux est toujours s√©lectionn√©.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/aa1/c8b/c8a/aa1c8bc8a2e35a1867c5f6028d958fa8.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blog technologique Taking Initiative</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
L'image ci-dessus montre comment cela fonctionne dans la pratique; notez que la valeur </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">alpha</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du pixel est utilis√©e comme coefficient pour le </font><font style="vertical-align: inherit;">pixel </font><font style="vertical-align: inherit;">gauche </font><font style="vertical-align: inherit;">. Ce nombre indique le degr√© de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">transparence du</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pixel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä d'autres √©tapes, la valeur de brouillard est appliqu√©e (elle est tir√©e de la table cr√©√©e par le programmeur, puis les m√™mes calculs de m√©lange sont effectu√©s); effectuer des contr√¥les et des changements de visibilit√© et de transparence; √† la fin, la couleur du pixel est √©crite dans la m√©moire de la carte graphique.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pourquoi avez-vous besoin de cette excursion dans l'histoire? </font><font style="vertical-align: inherit;">Eh bien, malgr√© la relative simplicit√© de la conception (en particulier par rapport aux monstres modernes), ce processus d√©crit les principes fondamentaux de la texturation: nous prenons les valeurs des couleurs et les m√©langeons afin que les mod√®les et les environnements se pr√©sentent comme ils le devraient dans une situation particuli√®re. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les jeux modernes font la m√™me chose, la seule diff√©rence est le nombre de textures utilis√©es et la complexit√© des calculs de mixage. </font><font style="vertical-align: inherit;">Ensemble, ils simulent les effets visuels trouv√©s dans les films ou l'interaction de l'√©clairage avec diff√©rents mat√©riaux et surfaces.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Notions de base sur la texturation</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour nous, une texture est une image 2D plate superpos√©e aux polygones qui composent la structure 3D du cadre. Cependant, pour un ordinateur, ce n'est qu'un petit bloc de m√©moire sous la forme d'un tableau 2D. Chaque √©l√©ment du tableau indique la valeur de couleur de l'un des pixels de l'image de texture (commun√©ment appel√©s </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">texels</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - pixels de texture). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque sommet du polygone a un ensemble de deux coordonn√©es (g√©n√©ralement not√©es </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), indiquant √† l'ordinateur quel pixel de la texture lui est associ√©. Le sommet lui-m√™me a un ensemble de trois coordonn√©es ( </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x, y, z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), et le processus de liaison des texels aux sommets est appel√© </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mappage de texture</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour voir comment cela se produit, tournons-nous vers l'outil que nous avons d√©j√† utilis√© plusieurs fois dans cette s√©rie d'articles - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Rendu en temps r√©el WebGL</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Pour l'instant, nous supprimons √©galement la coordonn√©e </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des </font><font style="vertical-align: inherit;">sommets et consid√©rons tout sur un plan plat.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8e1/d20/fbb/8e1d20fbb308d78a19a2e54d5da96900.png"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">De gauche √† droite: les coordonn√©es </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de la </font><font style="vertical-align: inherit;">texture, directement li√©es aux coordonn√©es </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x, y</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> des </font><font style="vertical-align: inherit;">sommets des coins. Dans la deuxi√®me image, les coordonn√©es </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">y</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont augment√©es aux sommets sup√©rieurs </font><font style="vertical-align: inherit;">, mais comme la texture y est toujours attach√©e, elle s'√©tire verticalement. La texture a d√©j√† √©t√© modifi√©e dans l'image de droite: les valeurs </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ont augment√©, mais en cons√©quence, la texture a √©t√© compress√©e puis r√©p√©t√©e.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Cela s'est produit parce que, malgr√© le fait qu'en fait, la texture est devenue plus √©lev√©e en raison de la valeur accrue de </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , elle devrait toujours tenir dans la primitive - en fait, la texture partiellement r√©p√©t√©e. C'est une fa√ßon d'impl√©menter l'effet que l'on retrouve souvent dans les jeux 3D: </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©p√©ter les textures</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Des exemples de cet effet peuvent √™tre vus dans des sc√®nes avec des paysages pierreux ou herbeux, ainsi qu'avec des murs de briques. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Modifions maintenant la sc√®ne pour qu'il y ait plus de primitives, et retournons √† nouveau la profondeur de la sc√®ne. La vue paysage classique est illustr√©e ci-dessous, mais maintenant la texture de la bo√Æte est copi√©e et r√©p√©t√©e pour toutes les primitives.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a9e/9e1/0cb/a9e9e10cb533b78330f90fd7eaea3891.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La texture de la bo√Æte dans son format gif d'origine a une taille de 66 Ko et une r√©solution de 256 x 256 pixels. La r√©solution initiale de la partie du cadre couverte par les textures de bo√Æte est de 1900 x 680, c'est-√†-dire du point de vue de la ¬´zone¬ª de pixels, une telle zone ne devrait afficher que 20 textures de bo√Æte. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais il est √©vident que nous voyons beaucoup plus de vingt bo√Ætes, ce qui signifie que la texture de la bo√Æte au loin doit √™tre </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">beaucoup</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> plus petite que 256 x 256 pixels. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">En effet</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , ils ont subi un processus appel√© </font><em><font style="vertical-align: inherit;">¬´minification de texture¬ª</font></em><font style="vertical-align: inherit;"> (oui, un tel mot existe en anglais!). Maintenant, r√©p√©tons, mais cette fois rapprochez l'appareil photo de l'un des tiroirs.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/404/c02/f70/404c02f70291916245ec931642c79860.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N'oubliez pas que la texture a une taille de seulement 256 x 256 pixels, mais ici nous voyons une texture qui est plus grande que la moiti√© de l'image avec une largeur de 1900 pixels. </font><font style="vertical-align: inherit;">Cette texture a √©t√© soumise √† une op√©ration de </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">"grossissement de texture"</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces deux processus de texture se produisent constamment dans les jeux 3D, car lorsque la cam√©ra se d√©place autour de la sc√®ne, les mod√®les s'approchent ou s'√©loignent, et toutes les textures appliqu√©es aux primitives doivent √©voluer avec les polygones. </font><font style="vertical-align: inherit;">Du point de vue des math√©matiques, c'est un petit probl√®me, en fait, m√™me les puces graphiques int√©gr√©es les plus simples peuvent facilement faire un tel travail. </font><font style="vertical-align: inherit;">Cependant, la r√©duction et l'agrandissement des textures sont de nouveaux d√©fis qui doivent √™tre r√©solus d'une mani√®re ou d'une autre.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Des mini-copies de textures apparaissent sur la sc√®ne</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le premier probl√®me √† r√©soudre pour les textures est la distance. Si nous revenons √† la premi√®re image avec un paysage de bo√Ætes, alors les bo√Ætes situ√©es pr√®s de l'horizon n'ont en fait qu'une taille de quelques pixels. Par cons√©quent, essayer de compresser une image de 256 x 256 pixels dans un si petit espace est inutile pour deux raisons. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout d'abord, la texture plus petite occupe moins de m√©moire de la carte graphique, ce qui est pratique, car vous pouvez essayer de l'int√©grer dans un cache plus petit. Cela signifie qu'il est moins susceptible d'√™tre supprim√© du cache, c'est-√†-dire qu'une utilisation r√©p√©t√©e de cette texture fournira des performances accrues, car les donn√©es seront en m√©moire ferm√©e. Pour la deuxi√®me raison, nous reviendrons bient√¥t, car il est associ√© au m√™me probl√®me qui se pose dans les textures proches de la cam√©ra.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La solution standard au probl√®me de la n√©cessit√© de compresser de grandes textures en petites primitives est d'utiliser </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">des textures mip (mipmaps)</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Ce sont des versions r√©duites de la texture d'origine; ils peuvent √™tre g√©n√©r√©s par le moteur lui-m√™me (√† l'aide des commandes API appropri√©es) ou pr√©-cr√©√©s par les concepteurs de jeux. Chaque niveau de texture de mip suivant a une demi-taille par rapport au pr√©c√©dent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autrement dit, pour la texture de la bo√Æte, les dimensions seront: 256 x 256 ‚Üí 128 x 128 ‚Üí 64 x 64 ‚Üí 32 x 32 ‚Üí 16 x 16 ‚Üí 8 x 8 ‚Üí 4 x 4 ‚Üí 2 x 2 ‚Üí 1 x 1.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/074/973/1ea/0749731eae53d112d545c0297ac14584.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Toutes les textures de mip sont emball√©es ensemble, donc la texture a le m√™me nom de fichier, mais devient plus grande. La texture est compress√©e de telle mani√®re que les coordonn√©es </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©terminent non seulement quel texel est superpos√© au pixel dans le cadre, mais aussi avec quelle texture de mip. Ensuite, les programmeurs √©crivent un rendu, bas√© sur la valeur de la profondeur de pixel de l'image, qui d√©termine la texture de mip √† utiliser. Par exemple, si la valeur est tr√®s √©lev√©e, le pixel est loin, ce qui signifie que vous pouvez utiliser une petite texture de mip.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les lecteurs attentifs pourraient remarquer le manque de textures MIP - ils doivent les payer en augmentant la taille des textures. La texture d'origine de la bo√Æte √©tait de 256 x 256 pixels, mais comme vous pouvez le voir dans l'image ci-dessus, la texture avec des textures de mip a maintenant une taille de 384 x 256. Oui, elle a beaucoup d'espace vide, mais peu importe comment nous emballons des textures plus petites, en g√©n√©ral la taille de la texture d'un c√¥t√© augmentera d'au moins 50%. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais cela n'est vrai que pour les textures mip pr√©c√©demment cr√©√©es; si le moteur de jeu est programm√© pour les g√©n√©rer correctement, l'augmentation ne d√©passe pas 33% de la taille de texture d'origine. Par cons√©quent, en raison d'une petite augmentation de la quantit√© de m√©moire pour stocker les textures MIP, nous obtenons un gain en performances et en qualit√© visuelle.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous trouverez ci-dessous une comparaison d'images avec des textures MIP d√©sactiv√©es / activ√©es:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e96/b67/e71/e96b67e71c3f41aed3ce09ed728f98ea.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sur le c√¥t√© gauche de l'image, les textures des bo√Ætes ont √©t√© utilis√©es ¬´telles quelles¬ª, ce qui a conduit √† l'apparition de granularit√© et du soi-disant </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">moir√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> au loin. </font><font style="vertical-align: inherit;">√Ä droite, l'utilisation de textures de mip a permis des transitions plus douces, et √† l'horizon la texture de la bo√Æte est floue dans une couleur uniforme. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, qui veut des textures floues pour g√¢cher les arri√®re-plans de leur jeu pr√©f√©r√©?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bilin√©aire, trilin√©aire, anisotrope - tout cela est pour moi une lettre chinoise</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le processus de s√©lection d'un pixel dans une texture pour le superposer sur un pixel dans un cadre est appel√© </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©chantillonnage de textures</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , et dans un monde id√©al, il y aurait une texture qui correspond id√©alement √† la primitive pour laquelle il est con√ßu, ind√©pendamment de la taille, de la position, de la direction, etc. </font><font style="vertical-align: inherit;">En d'autres termes, l'√©chantillonnage de la texture serait un simple mappage de pixels texel un √† un. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais comme ce n'est pas le cas, il y a plusieurs facteurs √† consid√©rer lors de l'√©chantillonnage des textures:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La texture a-t-elle √©t√© r√©duite ou agrandie?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La texture est-elle une texture source ou mip?</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sous quel angle la texture est-elle affich√©e?</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Analysons-les dans l'ordre. Le premier facteur est assez √©vident: si la texture a √©t√© augment√©e, alors dans la primitive, il y aura plus de texels couvrant le pixel dans la primitive que n√©cessaire; en diminuant, l'inverse est vrai - chaque texel devrait maintenant couvrir plusieurs pixels. Et c'est un probl√®me. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le deuxi√®me facteur ne pose pas de probl√®me, car les textures mip sont utilis√©es pour contourner le probl√®me d'√©chantillonnage des textures des primitives lointaines, de sorte que la seule t√¢che consiste √† afficher les textures sous un angle. Et oui, c'est aussi un probl√®me. Pourquoi? Parce que toutes les textures sont des images g√©n√©r√©es pour une visualisation ¬´strictement en face¬ª. Parlant dans un langage math√©matique, la texture de surface normale correspond √† la surface nominale sur laquelle la texture est actuellement affich√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par cons√©quent, s'il y a trop peu ou trop de texels, ou s'ils sont situ√©s √† un angle, alors un processus suppl√©mentaire appel√© </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">filtrage de texture</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est requis </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Si ce processus n'est pas utilis√©, nous obtenons ceci:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/792/a12/552/792a125529b7f3baa79c072fdf42acba.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici, nous avons remplac√© la texture de la bo√Æte par une texture avec la lettre R, pour montrer plus clairement dans quel d√©sordre l'image se transforme sans filtrer les textures! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les API graphiques telles que Direct3D, OpenGL et Vulkan fournissent le m√™me ensemble de types de filtrage, mais utilisent des noms diff√©rents pour eux. </font><font style="vertical-align: inherit;">En fait, ils se r√©sument tous √† ce qui suit:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√âchantillonnage au point proche</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filtrage de texture lin√©aire</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Filtrage de texture anisotrope</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En fait, l' </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">√©chantillonnage de l'√©chantillonnage ponctuel le plus proche n'est</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> pas un filtre, car avec lui seul le texel le plus proche du pixel de texture requis est √©chantillonn√© (par exemple, copi√© de la m√©moire), puis il est m√©lang√© avec la couleur d'origine du pixel. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ici le filtrage lin√©aire vient √† notre aide. Les coordonn√©es de </font><font style="vertical-align: inherit;">texel </font><font style="vertical-align: inherit;">requises </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont transf√©r√©es √† l'√©quipement d'√©chantillonnage, mais au lieu de prendre le texel le plus proche de ces coordonn√©es, l'√©chantillonneur prend </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">quatre</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> texels. Ce sont des texels situ√©s au-dessus, en dessous, √† gauche et √† droite du texel qui est s√©lectionn√© en √©chantillonnant les points les plus proches. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces quatre texels sont ensuite m√©lang√©s en utilisant une formule avec des poids. Dans Vulkan, par exemple, la formule ressemble √† ceci:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/57b/9bb/63c/57b9bb63cc81fa5721b007717f6b200a.png"></div><br>
<em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">T</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> d√©signe la couleur du texel, o√π </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">f</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est le r√©sultat de la filtration, et 1-4 est la couleur de quatre texels √©chantillonn√©s. </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> valeurs </font><em><font style="vertical-align: inherit;">alpha</font></em><font style="vertical-align: inherit;"> et </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">b√™ta</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> sont prises en fonction de la distance entre le point de coordonn√©es </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">u, v et</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> le milieu de la texture. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Heureusement pour ceux impliqu√©s dans les graphiques 3D, cela se produit automatiquement dans la puce graphique. En fait, c'est exactement ce qu'a fait la puce TMU de la carte 3dfx Voodoo: elle a √©chantillonn√© quatre texels puis les a m√©lang√©s. Dans Direct3D, ce processus a un nom √©trange </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pour le filtrage bilin√©aire.</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">mais depuis l'√©poque de Quake et de la puce TMU, les cartes graphiques ont d√©j√† appris √† effectuer un filtrage bilin√©aire en un seul cycle d'horloge (bien s√ªr, si la texture est d√©j√† situ√©e dans la m√©moire la plus proche). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le filtrage lin√©aire peut √™tre utilis√© avec des textures mip, et si vous voulez compliquer le filtrage, vous pouvez prendre quatre texels de la texture, puis quatre autres du niveau suivant de texture mip, en les m√©langeant tous. Et comment √ßa s'appelle dans Direct3D? </font><font style="vertical-align: inherit;">Filtrage </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">trilin√©aire</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . D'o√π viennent les </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´trois¬ª</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans ce processus </font><font style="vertical-align: inherit;">? Nous ne savons donc pas ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La derni√®re m√©thode de filtrage qui m√©rite d'√™tre mentionn√©e est </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">anisotrope</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Il s'agit en fait d'une am√©lioration du processus effectu√© par filtrage bilin√©aire ou trilin√©aire. Initialement, il calcule</font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">le degr√© d'anisotropie de</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> la surface primitive (et c'est </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">un processus √©tonnamment complexe</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) - cette valeur augmente le changement du rapport d'aspect de la primitive en raison de son orientation:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/247/dfe/e60/247dfee60846988a5e94a1020d9ecef6.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La figure ci-dessus montre la m√™me primitive carr√©e avec des longueurs de c√¥t√© √©gales; mais en tournant progressivement, il se transforme en rectangle, et sa largeur change plus que sa hauteur. Par cons√©quent, la primitive de droite a un degr√© d'anisotropie sup√©rieur √† celui de gauche (et dans le cas d'un carr√©, le degr√© est nul). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
De nombreux jeux 3D modernes vous permettent d'activer le filtrage anisotrope puis de changer son niveau (de 1x √† 16x), mais qu'est-ce que cela change vraiment? Ce param√®tre contr√¥le le nombre maximal d'√©chantillons de texels suppl√©mentaires pr√©lev√©s dans chaque √©chantillon lin√©aire initial. Supposons qu'un filtrage bilin√©aire anisotrope de 8x soit activ√© dans le jeu. Cela signifie qu'au lieu de quatre valeurs de texel, il obtiendra 32 valeurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La diff√©rence lors de l'utilisation du filtrage anisotrope est clairement perceptible:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/df7/302/372/df7302372c6dc0d34730ba572f695063.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Montez simplement sur l'image ci-dessus et comparez l'√©chantillonnage des points les plus proches avec un filtrage trilin√©aire anisotrope 16x maximum. √âtonnamment lisse! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais pour cette beaut√© lisse des textures, vous devez payer avec les performances: aux param√®tres maximaux, le filtrage trilin√©aire anisotrope recevra 128 √©chantillons de la texture pour chaque pixel du rendu. M√™me avec les meilleurs GPU modernes, cela ne peut pas √™tre r√©alis√© en un seul cycle d'horloge. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si vous prenez, par exemple, AMD </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Radeon RX 5700 XT</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, alors chacun des blocs de texturation √† l'int√©rieur du processeur peut utiliser jusqu'√† 32 adresses de texel dans un cycle d'horloge, puis dans le cycle d'horloge suivant charger 32 valeurs de texel √† partir de la m√©moire (dont chacune a une taille de 32 bits), puis m√©langer quatre d'entre elles en une de plus tact. C'est-√†-dire que m√©langer 128 √©chantillons de texels en un seul n√©cessite au moins 16 cycles d'horloge.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/fa4/abf/cf4/fa4abfcf4411b6cc2622c8e77986ab3c.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPU AMD RDNA Radeon RX 5700 avec technologie de processus √† 7 nanom√®tres</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Si la vitesse d'horloge du 5700 XT est de 1605 MHz, alors seize cycles ne prennent que 10 </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nanosecondes</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . L'ex√©cution de ces cycles pour chaque pixel d'une image 4K en utilisant une </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seule</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> unit√© de texture ne prendra que 70 millisecondes. Super, on dirait que la performance n'est pas un gros probl√®me! </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
M√™me en 1996, 3Dfx Voodoo et les cartes similaires se sont rapidement adapt√©es aux textures. Au maximum, ils pouvaient donner 1 texel avec filtrage bilin√©aire par cycle, et avec une fr√©quence de puce TMU de 50 MHz, cela signifiait que 50 millions de texels pouvaient √™tre trait√©s par seconde. Un jeu fonctionnant √† 800 x 600 et 30 fps ne n√©cessite que 14 millions de texels avec filtrage bilin√©aire par seconde.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cependant, cela n'est vrai que dans l'hypoth√®se o√π toutes les textures sont dans la m√©moire la plus proche et qu'un seul texel correspond √† chaque pixel. </font><font style="vertical-align: inherit;">Il y a vingt ans, l'id√©e de la n√©cessit√© de superposer plusieurs textures sur une primitive √©tait compl√®tement √©trang√®re, mais aujourd'hui c'est un standard. </font><font style="vertical-align: inherit;">Voyons pourquoi tout cela change.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ajouter un √©clairage</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour comprendre pourquoi la texturation est devenue si importante, jetez un ≈ìil √† cette sc√®ne de Quake:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/bda/dcf/ee4/bdadcfee4354ea561b9239e1ca5a143b.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
C'est une image sombre, car l'obscurit√© √©tait l'atmosph√®re du jeu, mais nous voyons que l'obscurit√© n'est pas la m√™me partout - certains fragments de murs et de sols sont plus l√©gers que d'autres, ce qui cr√©e une sensation de l√©g√®ret√© dans ces zones. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les primitives qui composent les murs et le sol sont superpos√©es avec les m√™mes textures, mais il existe une autre texture appel√©e </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´light map¬ª</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> m√©lang√©e aux valeurs des texels avant qu'elles ne soient appliqu√©es aux pixels du cadre. √Ä l'√©poque de Quake, les cartes d'√©clairage ont √©t√© calcul√©es √† l'avance et cr√©√©es par le moteur de jeu. Ils ont √©t√© utilis√©s pour g√©n√©rer des niveaux d'√©clairage statiques et dynamiques.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'avantage de leur utilisation est que les calculs d'√©clairage complexes ont √©t√© effectu√©s avec des textures plut√¥t qu'avec des sommets, ce qui a consid√©rablement am√©lior√© l'apparence de la sc√®ne au d√©triment des co√ªts √† faible vitesse. √âvidemment, l'image est imparfaite: au sol, on remarque que la fronti√®re entre les zones √©clair√©es et les ombres est tr√®s nette. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä bien des √©gards, une lightmap n'est qu'une autre texture (n'oubliez pas que ce sont tous des jeux de donn√©es 2D normaux), donc cette sc√®ne est l'un des premiers exemples d'utilisation du </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">multitexturing</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Comme son nom l'indique, il s'agit d'un processus dans lequel deux textures ou plus sont superpos√©es √† une primitive. L'utilisation de cartes d'√©clairage dans Quake est devenue un moyen de surmonter les limites de l'ombrage Gouraud, mais dans le processus d'augmentation de la gamme de capacit√©s des cartes graphiques, les m√©thodes d'application du multitexturing se sont √©galement √©tendues. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3Dfx Voodoo, comme beaucoup d'autres cartes de cette √©poque, √©tait limit√© dans la quantit√© d'op√©rations qu'il pouvait effectuer en une seule </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">passe de</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rendu. En fait, une passe est un cycle de rendu complet: du traitement des sommets √† la pixellisation de l'image, puis la modification des pixels et leur √©criture dans le tampon d'image fini. Il y a vingt ans, les jeux utilisaient presque toujours le rendu en une seule passe.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a55/0b6/bc9/a550b6bc98c07f1c90276e1aa3721819.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nvidia GeForce 2 Ultra, vers la fin de 2000. Image: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wikimedia</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Cela s'est produit parce que le deuxi√®me traitement de sommet juste pour appliquer des textures suppl√©mentaires √©tait trop co√ªteux en termes de performances. Apr√®s Voodoo, nous avons d√ª attendre quelques ann√©es lorsque les cartes graphiques ATI Radeon et Nvidia GeForce 2 sont apparues, capables de multitexturing en un seul passage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces GPU avaient plusieurs unit√©s de texture dans la zone de traitement des pixels (c'est-√†-dire dans le </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pipeline</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), donc obtenir un texel avec filtrage bilin√©aire √† partir de deux textures distinctes est devenu la t√¢che la plus simple. Cela a encore accru la popularit√© des cartes d'√©clairage et a permis aux jeux de les rendre enti√®rement dynamiques, en changeant les valeurs d'√©clairage en fonction des conditions de l'environnement de jeu.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mais avec quelques textures, beaucoup plus pourrait √™tre fait, alors explorons leurs capacit√©s.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Changer la hauteur est normal</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans cette s√©rie d'articles sur le rendu 3D, nous n'avons pas parl√© de la fa√ßon dont le r√¥le du GPU affecte l'ensemble du processus (nous en parlerons, mais pas maintenant!). Mais si vous revenez √† la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie 1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et lisez tout le processus complexe de traitement des sommets, vous pourriez penser que c'est la partie la plus difficile de tout le travail que le GPU doit faire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pendant longtemps, c'√©tait le cas, et les programmeurs de jeux ont fait tout leur possible pour r√©duire cette charge. Ils ont d√ª recourir √† toutes sortes d'astuces pour garantir la m√™me qualit√© d'image que lors de l'utilisation de plusieurs sommets, mais ne les traitent pas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plupart de ces astuces utilisaient des textures appel√©es </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cartes de hauteur</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> et </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cartes normales.</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Ces deux concepts sont li√©s par le fait que ces derniers peuvent √™tre cr√©√©s √† partir des premiers, mais pour l'instant, ne regardons qu'une technique appel√©e </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">¬´bump mapping¬ª</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e3/db2/5b6/1e3db25b6ecefc0dd3f75c84f767800c.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Images cr√©√©es dans un </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rendu de d√©monstration par Emil Persson</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">La texturation en relief est d√©sactiv√©e / activ√©e. La texturation en relief</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
utilise un tableau 2D appel√© ¬´carte de hauteur¬ª qui ressemble √† une version √©trange de la texture d'origine. </font><font style="vertical-align: inherit;">Par exemple, l'image ci-dessus montre une texture de brique r√©aliste superpos√©e sur deux surfaces planes. </font><font style="vertical-align: inherit;">La texture et sa carte de hauteur ressemblent √† ceci:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7a1/87f/221/7a187f2215bcf0723bd4d4f820350858.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les couleurs de la carte des hauteurs indiquent les normales de la surface des briques (nous avons d√©crit les normales dans la </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">partie 1 d'une</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> s√©rie d'articles). Lorsque le processus de rendu atteint le stade d'application de la texture de brique √† la surface, une s√©rie de calculs est effectu√©e pour modifier la couleur de la texture de brique en fonction de ses normales. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En cons√©quence, les briques elles-m√™mes semblent plus tridimensionnelles, malgr√© le fait qu'elles continuent de rester compl√®tement plates. Si vous regardez attentivement, en particulier sur les bords des briques, vous pouvez voir les limites de cette technique: la texture semble l√©g√®rement d√©form√©e. Mais c'est une astuce rapide qui vous permet d'ajouter plus de d√©tails sur la surface, donc la texturation en relief est tr√®s populaire.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une carte normale est similaire √† une carte de hauteur, seules les couleurs de texture sont les normales elles-m√™mes. En d'autres termes, les calculs pour convertir la carte de hauteur en normale ne sont pas n√©cessaires. Vous pouvez poser une question: comment les couleurs peuvent-elles d√©crire un vecteur dans l'espace? La r√©ponse est simple: chaque texel a un ensemble de valeurs </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r, g, b</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (rouge, vert, bleu) et ces valeurs correspondent directement aux valeurs </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">x, y, z</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> du vecteur normal.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/c1f/105/c3b/c1f105c3b93c455ba7661489770172c9.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le diagramme de gauche montre le changement de direction des normales sur une surface in√©gale. Pour d√©crire les m√™mes normales avec une texture plate (contour central), nous leur attribuons des couleurs. Dans ce cas, nous avons utilis√© les valeurs </font></font><em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r, g, b</font></font></em><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (0,255,0) pour le vecteur dirig√© directement vers le haut, puis augment√© la valeur du rouge pour l'inclinaison vers la gauche et du bleu pour l'inclinaison vers la droite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gardez √† l'esprit que cette couleur ne se m√©lange pas avec le pixel d'origine, elle indique simplement au processeur dans quelle direction la normale indique afin qu'il puisse calculer correctement les angles entre la cam√©ra, les sources de lumi√®re et la surface textur√©e.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les avantages de la texturation en relief et des cartes normales sont pleinement visibles lorsque l'√©clairage dynamique est utilis√© dans la sc√®ne et lorsque le processus de rendu calcule l'effet du changement d'√©clairage pixel par pixel, et non pour chaque sommet. Aujourd'hui, les jeux modernes utilisent un ensemble de textures pour am√©liorer la qualit√© de cette astuce.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3ef/d59/660/3efd596604528593b16923297f10f044.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Image: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ryan Benno</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Twitter</font></font></a></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
√âtonnamment, ce mur d'aspect r√©aliste n'est qu'une surface plane, les d√©tails des briques et du ciment de ma√ßonnerie ne sont pas fabriqu√©s √† l'aide de millions de polygones. Au lieu de cela, seulement cinq textures et l'utilisation r√©fl√©chie des calculs suffisent. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Une carte de hauteur a √©t√© utilis√©e pour g√©n√©rer une projection d'ombre avec des briques, et une carte normale a √©t√© utilis√©e pour simuler tous les changements mineurs de surface. La texture de rugosit√© a √©t√© utilis√©e pour changer la fa√ßon dont la lumi√®re est r√©fl√©chie par divers √©l√©ments du mur (par exemple, la brique lisse r√©fl√©chit la lumi√®re plus uniform√©ment que le ciment brut).</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La derni√®re carte, nomm√©e dans l'image AO, cr√©e une partie du processus appel√© occlusion ambiante: nous examinerons cette technique plus en d√©tail dans les articles suivants, mais pour l'instant, disons qu'elle aide √† augmenter le r√©alisme des ombres.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">La cartographie des textures est un processus critique.</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La texturation est absolument essentielle lors du d√©veloppement de jeux. Prenons, par exemple, le jeu </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kingdom Come: Deliverance</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 2019 </font><font style="vertical-align: inherit;">, un RPG √† la premi√®re personne qui se d√©roule en Boh√™me au XVe si√®cle. Les concepteurs ont cherch√© √† cr√©er le monde le plus r√©aliste de cette p√©riode. Et pour plonger le joueur dans la vie d'il y a des centaines d'ann√©es, il est pr√©f√©rable de mettre en ≈ìuvre un paysage, des b√¢timents, des v√™tements, des coiffures, des objets de tous les jours historiquement pr√©cis et bien plus encore. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque texture de cette image du jeu a √©t√© cr√©√©e manuellement par des artistes, et aussi gr√¢ce √† un moteur de rendu contr√¥l√© par des programmeurs. Certains d'entre eux sont petits, avec des d√©tails simples, et sont donc l√©g√®rement filtr√©s ou trait√©s avec d'autres textures (par exemple, des ailes de poulet).</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/e2e/7d0/24a/e2e7d024ad0c700d26390940caf339ed.jpg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
D'autres ont une haute r√©solution et de nombreux petits d√©tails; </font><font style="vertical-align: inherit;">ils subissent un filtrage et un m√©lange anisotropes avec des cartes normales et d'autres textures - il suffit de regarder le visage de la personne au premier plan. </font><font style="vertical-align: inherit;">La diff√©rence dans les exigences de texturation de chaque objet de sc√®ne est prise en compte par les programmeurs. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tout cela se produit aujourd'hui dans de nombreux jeux, car les joueurs attendent des niveaux de d√©tail et de r√©alisme toujours plus √©lev√©s. </font><font style="vertical-align: inherit;">Les textures deviennent plus grandes et de plus en plus se superposent √† la surface, mais le processus d'√©chantillonnage des texels et de leur superposition sur les pixels reste essentiellement le m√™me qu'√† l'√©poque de Quake. </font><font style="vertical-align: inherit;">Les meilleures technologies ne meurent jamais, quel que soit leur √¢ge!</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr499524/index.html">Quarkus: mises √† niveau d'applications utilisant l'exemple helloworld de JBoss EAP Quickstart</a></li>
<li><a href="../fr499528/index.html">Un pont math√©matique "√©tonnant" qui s'√©tend au-del√† du grand th√©or√®me de Fermat</a></li>
<li><a href="../fr499532/index.html">Les mots en chiffres: blog gratuit analytics habravebinary avec Yandex.Metrica</a></li>
<li><a href="../fr499534/index.html">Guide de d√©veloppement du service backend Python</a></li>
<li><a href="../fr499536/index.html">Growbox comme m√©thode de se conna√Ætre</a></li>
<li><a href="../fr499542/index.html">Top Fakapov Cyan</a></li>
<li><a href="../fr499544/index.html">Apprenez les r√©seaux de neurones dans Google Sheets</a></li>
<li><a href="../fr499546/index.html">D√©veloppement de firmware pour une cam√©ra vid√©o analogique EVR-Y2022F</a></li>
<li><a href="../fr499548/index.html">Masque - prendre soin des autres ou une illusion de s√©curit√©?</a></li>
<li><a href="../fr499550/index.html">Solutions √©co-low-code</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>