<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐛 😁 👨🏿‍🏭 Selenium WebDriver im Dienste des Entwicklers 🧀 🗺️ 👇🏻</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Entschlüsselung von Dmitry Kostichevs Bericht mit Backend-Geschichten // Videoversion im Inneren 
 
 Wenn Sie plötzlich eine Internetressource eines D...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Selenium WebDriver im Dienste des Entwicklers</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/alfa/blog/504886/"><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Entschlüsselung von Dmitry Kostichevs Bericht mit Backend-Geschichten // Videoversion im Inneren </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie plötzlich eine Internetressource eines Drittanbieters integrieren müssen und keine Zeit haben, dies herauszufinden, wird Selenium zur Rettung kommen. </font><font style="vertical-align: inherit;">Dmitry Kostichev erklärte am Beispiel seines Projekts, wie man die Arbeit im Browser automatisiert, ohne den Dienst zu verlassen.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Hallo an alle. Mein Name ist Dmitry und heute werde ich meine Erfahrungen mit Selenium in der Backend-Entwicklung teilen. Wofür ist das? Selen wird benötigt, um die Interaktion mit einigen Internetressourcen zu automatisieren, um menschliche Faktoren auszugleichen, die einige Daten ausfüllen usw. Für die Entwicklung kann dies in solchen Fällen erforderlich sein, wenn beispielsweise keine API in der Internetressource vorhanden ist und so weiter. Am Beispiel meines Projekts bestand die Aufgabe darin, die Kundendaten einzugeben (zuvor musste der Dienst alle Informationen korrekt aufbereiten) und auf dieser Site zu registrieren, in diesem Fall MasterCard.</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><img src="https://habrastorage.org/webt/wd/pj/4c/wdpj4cshsqqjyvw3xc77kmq3bic.png"></a><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei weiterer Betrachtung dieser Site wurde festgestellt, dass es keine API gibt, mit der wir alles erreichen und tun können. Die gesamte Verarbeitung erfolgt in JS-Skripten, in denen nichts klar ist und die Daten alle codiert sind. Die Entscheidung wurde getroffen - Selen für diese Zwecke zu testen, das heißt, wir werden unseren gesamten Service an Selen befestigen, der diese Registrierung zu einem bestimmten Zeitpunkt durchführen wird. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Was ist Selen und wie soll man damit arbeiten? Das Selenium-Projekt besteht aus einer Bibliothek, die mit der Webtreiberoberfläche für einen bestimmten Browser kommuniziert. Eine Liste der verfügbaren Bibliotheken und Browser wird auf der Folie angezeigt. Und jetzt werde ich zeigen, wie es ungefähr bei meinem Projekt funktioniert. </font></font><br>
<br>
<i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sehen Sie sich</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> am Ende des Beitrags </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;">einen Screencast</font></a><font style="vertical-align: inherit;"> oder ein detailliertes Video an.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt generiert der Dienst eine Datei, lädt sie sofort auf diese Site hoch und prüft, ob alles erfolgreich registriert wurde. </font><font style="vertical-align: inherit;">Hier klebt, lädt und so weiter. </font><font style="vertical-align: inherit;">Und jetzt wird er wahrscheinlich darauf springen, dass alles erfolgreich sein wird. </font><font style="vertical-align: inherit;">Die Automatisierung ist schnell genug und erfordert keine großen Ressourcen. </font><font style="vertical-align: inherit;">Alles war anscheinend perfekt registriert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie kocht man das alles? </font><font style="vertical-align: inherit;">Die Selenium-Bibliothek verfügt über grundlegende Befehle wie:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen eines Instanz-Webtreibers für einen bestimmten Browser;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Links Klicks;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Arbeiten Sie mit Elementen: Klicks usw.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mit dem Webtreiber können Sie Sitzungen und Cookies wie in einem normalen Browser empfangen. Sie können sie auch ändern und für sich selbst anpassen. Sie können auch js-Skripte auf der Seite ausführen. Es gibt eine Bibliothek namens Selenide, die diese Funktionalität von Selen selbst erweitert. Die Hauptfunktion besteht darin, die Erstellung von Instanztreibern auszublenden. Als Beispiel sehen wir, dass wir einfach den Befehl open aufrufen, eine Art Link angeben und der Browser bereits startet. Es ist nicht erforderlich, etwas zu konfigurieren. Und die Bibliothek erweitert die Arbeit um Elemente, einige zusätzliche Voreinstellungen. Es sieht alles bequem aus, Sie können es schnell herausfinden und alles verwenden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bei der Arbeit mit Online-Ressourcen und letztendlich mit Selen gibt es einige Entwurfsmuster. Und eines davon sind Seitenobjekte. Sein Wesen liegt in der Tatsache, dass wir alle diese Elemente in einer bestimmten Klasse beschreiben. Und dann können wir es wiederverwenden und es sieht einfacher aus. Hier ist ungefähr so: Wir rufen den Befehl open auf, geben der Seite object-Klasse und können dann alle ihre Methoden verwenden, zum Beispiel mit Elementen arbeiten. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ll/b9/t0/llb9t0lu5zz2xydy1uq96zqh7ig.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir suchen nach Elementen durch das DOM-Modell der HTML-Seite durch Selektoren wie xpath, css und andere. Ihre Hauptunterschiede, zum Beispiel zwischen xpath und css, bestehen darin, dass der xpath sowohl "tief" als auch nach oben und unten gehen kann. Und CSS ist im Gegenteil nur unten. Das heißt, dies sind die am häufigsten verwendeten Selektoren.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gv/hn/ah/gvhnahxm1pi2zhrkaytqbmkxxvm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Letztendlich brauchen wir einen Browser direkt, dem Selenoid direkt helfen kann. Im Wesentlichen handelt es sich um ein Framework, das die Erstellung und Änderung dieser Container mit Browsern steuert. Es ist jedoch eher für geladene Systeme gedacht, auf denen diese Browser in großer Anzahl erstellt werden. Und in unserer Situation wird dies nicht dringend benötigt, sondern nur der Container selbst verwendet. Und jetzt werde ich zeigen, wie das schon auf dem Server funktionieren soll.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Eigentlich sieht die Interaktion der Seite ungefähr so ​​aus, es ist eine ziemlich lineare Datenverarbeitung. In diesem Fall habe ich in Schritte unterteilt - Übergänge zu Seiten. Hier werden Daten aufgefüllt und direkt von Dateien heruntergeladen. Im Prinzip ist alles ganz einfach. So sieht eine Seitenobjektklasse aus, die an ein DTO erinnert. Wir beschreiben einfach die Elemente, zum Beispiel hier im aktuellen Fall von PCSS Selectum. Dies ist die Syntax von Selenide.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/h4/kl/fw/h4klfwrq4elb5on7g9z5whhkfoa.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Damit dies funktioniert, benötigen wir eine Beschreibung des Remote-Treibers, um eine Verbindung zum Docker-Container herzustellen. Die wichtigsten Einstellungen, die Sie benötigen, um dorthin zu gelangen, sind der von uns verwendete Browser und in der Tat die Auflösung und andere wichtige Zeilen für den Browser. Um mit dem Docker-Container arbeiten zu können, benötigen Sie jedoch auch Einstellungen wie den Headless-Modus. Das heißt, in seiner aktuellen Form wird es auf dem Server gedreht. In diesem Modus werden die Grafiken im Browser deaktiviert, sodass sie schneller arbeiten und weniger Ressourcen beanspruchen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Außerdem ist es keine Sandbox, die in diesem Fall durch die Chromium-Sicherheit deaktiviert ist, und es ist möglich, Ihren eigenen Code, JS oder anderen auszuführen. Der dritte Parameter wird benötigt, damit Chromium auf Unix-Computern normal funktioniert und Tempo-Dateien korrekt aufzeichnet. Und der vierte wird tatsächlich benötigt, damit wir Dateien hochladen können. Und am wichtigsten ist, dass der Remote-Treiber über ein Flag verfügt, mit dem Sie eine Datei aus dem lokalen Speicher herunterladen können, in dem die Anwendung ausgeführt wird, und zwar bereits über den Treiber zum Entfernen.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ba/on/-d/baon-d0gi-xpyg4yxwdb5vfkd-y.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jetzt werde ich zeigen, wie es mit dem Docker-Container funktioniert. Laden Sie den Docker-Container und die Anwendung selbst herunter. Es wird auch ungefähr auf die gleiche Weise gestartet, das heißt, es wird im Prinzip nichts Neues geben. Nur hier werden wir die Interaktion in einer Art Protokoll sehen. Im Prinzip können sie auch überwacht werden, mit ihnen arbeiten und so weiter. Daher können Sie die Interaktion verstehen, die stattfindet. Dies ist die Ausgabe des Docker-Containers mit Chromium direkt dort, wo sich der Browser befindet.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/nm/bi/cn/nmbicntdhkeijq7qcffa4c7r5fk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Im Prinzip funktioniert alles perfekt mit dem Docker-Container. Außerdem wird alles überprüft und die Registrierung erfolgreich abgeschlossen. Welche allgemeinen Probleme könnten bei einem solchen Ansatz auftreten? Ich hatte weniger ein Problem als Unwissenheit. Dateiübertragungen im Docker-Container erledigen wie gewohnt alles - die Lautstärke. Wenn Sie in diesem Fall weiterhin lokal ausgeführt werden möchten, müssen Sie zwei Konfigurationen für das Projekt haben. Wie sich jedoch herausstellte, kann der Remote-Treiber über das Flag konfiguriert werden. Er kann diese Datei direkt über sich selbst übertragen, und es sind keine zusätzlichen Gesten erforderlich.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sie müssen auch der Seite folgen, mit der wir arbeiten - einer Online-Ressource. </font><font style="vertical-align: inherit;">In meinem Fall ist dies ein anderes System, zu dem niemand eine Beziehung zu meinem Team hat, und dies muss auch überwacht, durch Protokolle usw. überwacht werden. </font><font style="vertical-align: inherit;">Wie beim Browser wird er ständig aktualisiert. Sie müssen ihn überwachen. Die Unterstützung wird möglicherweise eingestellt. </font><font style="vertical-align: inherit;">Nun, im Prinzip können Sie die Protokolle irgendwie konfigurieren und es wird keine Probleme geben. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wie viel einfacher ist es am Ende geworden? </font><font style="vertical-align: inherit;">Es schien mir, dass ich das Problem der Interaktion mit dieser Site viel schneller lösen konnte, als wenn ich den js-Code kenne. </font><font style="vertical-align: inherit;">Das heißt, Selen zu verstehen und die Interaktion kann schneller sein als mit der Tatsache, dass die Daten codiert sind und nicht bekannt ist, wie sie zurückcodiert werden sollen. </font><font style="vertical-align: inherit;">Die Hauptsache ist die Geschwindigkeit in der Entwicklung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Video melden - ab 16.30 Uhr</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/VvAkcjimXK0" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de504866/index.html">Untersuchung von Informationssicherheitsvorfällen in freier Wildbahn: unerwartete Informationsquellen</a></li>
<li><a href="../de504868/index.html">Home Internet Gateway. Erstes Setup eines 6-Port-Minicomputers unter Ubuntu Server 20.04 LTS</a></li>
<li><a href="../de504878/index.html">109 kostenlose Kurse in Data Science</a></li>
<li><a href="../de504880/index.html">Entwicklung, Optimierung und Veröffentlichung von Synthety-Spielen auf Unity</a></li>
<li><a href="../de504884/index.html">Gefährliche Peripheriegeräte: Thunderspy verstehen</a></li>
<li><a href="../de504888/index.html">"Ruhig, nur ruhig!" oder weniger Sorgen</a></li>
<li><a href="../de504890/index.html">Rückgabewert vom Powershell-Aufrufbefehl an den SQL Server-Agenten</a></li>
<li><a href="../de504894/index.html">GUI in Russisch oder VKS-Terminal selbst machen</a></li>
<li><a href="../de504902/index.html">Top 9 Trends im automatisierten Testen im Jahr 2020</a></li>
<li><a href="../de504906/index.html">PHP - Was ist die Nische der Sprache und wird PHP8 helfen, drängende Probleme zu lösen (Spoiler: IMHO nicht)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>