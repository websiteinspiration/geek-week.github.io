<!doctype html>
<html class="no-js" lang="hi">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ЁЯСГЁЯП╜ ЁЯСйЁЯП┐тАНЁЯОи ЁЯХ╡ЁЯП╜ рдЗрдирд╡рд░реНрдЯ рд╕реЙрд░реНрдЯ рдХрд░реЗрдВ ЁЯСйЁЯП╝тАНЁЯПн ЁЯЩОЁЯП╛ ЁЯСйЁЯП╜тАНЁЯН│</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="рднрд╛рд░рдд рдХрд╛ рдПрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ Zig-Zag, Zig-Zig рдФрд░ Zig рдХреЛ SplaySort рдПрд▓реНрдЧреЛрд░рд┐рдердо рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ:
 
 
 рдЗрд╕ рд╕реАрдЬрди рдореЗрдВ рд╣рдо рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдвреЗрд░реЛрдВ рдХреА рдЦ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>рдЗрдирд╡рд░реНрдЯ рд╕реЙрд░реНрдЯ рдХрд░реЗрдВ</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/edison/blog/504012/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рднрд╛рд░рдд рдХрд╛ рдПрдХ рдкреНрд░реЛрдЧреНрд░рд╛рдорд░ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ Zig-Zag, Zig-Zig рдФрд░ Zig рдХреЛ SplaySort рдПрд▓реНрдЧреЛрд░рд┐рдердо рдореЗрдВ рдЙрдкрдпреЛрдЧ рдХрд░рддрд╛ рд╣реИ:</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><div style="text-align:center;"><img width="780" height="590" src="https://habrastorage.org/webt/0j/qa/l0/0jqal0merugvc0u93nolsk_l0i0.jpeg"></div></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рд╕реАрдЬрди рдореЗрдВ рд╣рдо </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рднрд┐рдиреНрди рдкреНрд░рдХрд╛рд░ рдХреЗ рдвреЗрд░реЛрдВ рдХреА</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЦреЛрдЬ рдХрд░ рд░рд╣реЗ рд╣реИрдВ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рдФрд░ рдЙрдирдХрд╛ рдЙрдкрдпреЛрдЧ рдЫрдБрдЯрд╛рдИ рдХреЗ рд▓рд┐рдП рдХреИрд╕реЗ рдХрд┐рдпрд╛ рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ</font></a><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рд╣рд╛рд▓рд╛рдВрдХрд┐, рдЗрд╕ рдмрд╛рд░ рд╣рдо рдореБрдЦреНрдп рд╡рд┐рд╖рдп рд╕реЗ рдПрдХ рдХрджрдо рджреВрд░ рд╣реЛрдВрдЧреЗред </font><font style="vertical-align: inherit;">рдЖрдЬ рдХреА рд╕рдВрд░рдЪрдирд╛ - рдЪрдВрдЪрд▓ рд╡реГрдХреНрд╖ - рдПрдХ рдЧреБрдЪреНрдЫрд╛ рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рд╣рдореЗрдВ рдЕрдЧрд▓реЗ рдвреЗрд░ рдХреЗ рдЕрдзреНрдпрдпрди рдХреЗ рд▓рд┐рдП рдорд╛рдирд╕рд┐рдХ рд░реВрдк рд╕реЗ рддреИрдпрд╛рд░ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ - рдЕрдЧрд▓реЗ рд╕рдкреНрддрд╛рд╣ рдПрдХ рдХрд╛рд░реНрдЯреЗрд╢рд┐рдпрди рдкреЗрдбрд╝ рджреНрд╡рд╛рд░рд╛ рдЫрдВрдЯрд╛рдИ рдкрд░ рдПрдХ рд╡реНрдпрд╛рдЦреНрдпрд╛рди рд╣реЛрдЧрд╛ред</font></font><a name="habracut"></a><blockquote><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u=" title="EDISON рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ - рд╡реЗрдм-рд╡рд┐рдХрд╛рд╕"><img align="left" width="153" height="75" src="https://habrastorage.org/webt/w0/zl/to/w0zltoxvysbr0yeinstkfvw1wbg.png" alt="EDISON рд╕реЙрдлреНрдЯрд╡реЗрдпрд░ - рд╡реЗрдм-рд╡рд┐рдХрд╛рд╕"></a><br clear="right"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрд╣ рд▓реЗрдЦ EDISON рдХреЗ рд╕рдорд░реНрдерди рд╕реЗ рддреИрдпрд╛рд░ рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛ред </font><font style="vertical-align: inherit;">
рд╣рдорд╛рд░реА рдЧрддрд┐рд╡рд┐рдзрд┐ рдХреА рджрд┐рд╢рд╛рдУрдВ рдореЗрдВ рд╕реЗ рдПрдХ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рдорд╛рдк рдФрд░ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮ рдкреНрд░рдгрд╛рд▓рд┐рдпреЛрдВ</font></a><font style="vertical-align: inherit;"> рдХрд╛ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;">рд╕реНрд╡рдЪрд╛рд▓рди рд╣реИ</font></a><font style="vertical-align: inherit;"> , рдЬрд┐рд╕рдХреЗ рдХрд╛рд░рдг рд╣рдо рдПрдХ рд╕рдЦреНрдд рд╡реИрдЬреНрдЮрд╛рдирд┐рдХ рджреГрд╖реНрдЯрд┐рдХреЛрдг рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдЙрдЪреНрдЪ-рддрдХрдиреАрдХреА рдкрд░рд┐рдпреЛрдЬрдирд╛рдУрдВ рдХреЛ рдкреВрд░рд╛ рдХрд░рддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">
рд╣рдо рдХрдВрдкреНрдпреВрдЯрд░ рд╡рд┐рдЬреНрдЮрд╛рди рд╕реЗ рдкреНрдпрд╛рд░ рдХрд░рддреЗ рд╣реИрдВ! </font><font style="vertical-align: inherit;">;-)</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><img align="right" width="340" height="228" src="https://habrastorage.org/webt/y8/hs/tt/y8hsttfexnxawirmy1ysw7rg-3q.png"></a><br clear="left"><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><div style="text-align:center;"><img width="770" height="1" src="https://habrastorage.org/webt/mw/wy/cu/mwwycuqpta7m96dxifyx9if7mu8.gif"></div></blockquote><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╛рдЗрдирд░реА рд╕рд░реНрдЪ рдЯреНрд░реА рд╕реЙрд░реНрдЯ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Splay рдЯреНрд░реА рдПрдХ рдмреЗрд╣рддрд░ рдмрд╛рдЗрдирд░реА рд╕рд░реНрдЪ рдЯреНрд░реА рд╣реИред </font><font style="vertical-align: inherit;">рд╕рдмрд╕реЗ рдкрд╣рд▓реЗ, рдЖрдЗрдП рдпрд╛рдж рд░рдЦреЗрдВ рдХрд┐ рд╕рд╛рдорд╛рдиреНрдп "рдЕрд╕рд┐рдорд┐рдд" рдмрд╛рдЗрдирд░реА рдЯреНрд░реА рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рдХреЗ рдХреИрд╕реЗ рд╕реЙрд░реНрдЯ рдХрд░реЗрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рдЕрдЪреНрдЫреА рддрд░рд╣ рд╕реЗ рдЬрд╛рдирддреЗ рд╣реИрдВ рдХрд┐ рдПрдХ рдмрд╛рдЗрдирд░реА рдЯреНрд░реА рдореЗрдВ, рдХреЛрдИ рднреА рдмрд╛рдпрд╛ рдмрдЪреНрдЪрд╛ рдорд╛рддрд╛-рдкрд┐рддрд╛ рд╕реЗ рдХрдо рд╣реИ, рдХреЛрдИ рднреА рд╕рд╣реА рдмрдЪреНрдЪрд╛ рдорд╛рддрд╛-рдкрд┐рддрд╛ рд╕реЗ рдХрдо (рдпрд╛рдиреА рдЕрдзрд┐рдХ рдпрд╛ рдмрд░рд╛рдмрд░) рдирд╣реАрдВ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img width="760" height="511" src="https://habrastorage.org/webt/2e/ie/2b/2eie2b53zaztn8ixd0wgqf5hlqu.gif"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЫрдБрдЯрд╛рдИ рдЖрдо рддреМрд░ рдкрд░ рд╕реАрдзреА рд╣реИ:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪрд░рдг 1. рд╕рд░рдгреА рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдПрдХ рджреНрд╡рд┐рдЖрдзрд╛рд░реА рдЦреЛрдЬ рдкреЗрдбрд╝ рдХрд╛ рдирд┐рд░реНрдорд╛рдгред </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рдо рд╕рд░рдгреА рдХреЗ рдкрд╣рд▓реЗ рддрддреНрд╡ рдХреЛ рд░реВрдЯ рдкрд░ рд░рдЦрддреЗ рд╣реИрдВ, рдкрд╣рд▓реЗ рд╢реЗрд╖ рддрддреНрд╡реЛрдВ рдХреА рдЬрдбрд╝ рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╣реИрдВ, рдлрд┐рд░, рддреБрд▓рдирд╛ рдХреЗ рдЖрдзрд╛рд░ рдкрд░, рдмрд╛рдИрдВ рдпрд╛ рджрд╛рдИрдВ рд╢рд╛рдЦрд╛рдУрдВ рдХреЛ рд╕реНрдерд╛рдирд╛рдВрддрд░рд┐рдд рдХрд░рддреЗ рд╣реИрдВ (рдФрд░ рдЬрд┐рд╕ рддрд░рд╣ рд╕реЗ рд╣рдо рдореМрдЬреВрджрд╛ рддрддреНрд╡ рдХреА рд╡рд░реНрддрдорд╛рди рдЯреНрд░реА рдиреЛрдбреНрд╕ рдХреЗ рд╕рд╛рде рддреБрд▓рдирд╛ рдХрд░рддреЗ рд╣реИрдВ)ред </font><font style="vertical-align: inherit;">рдЕрдВрдд рдореЗрдВ, рдЕрдЧрд▓рд╛ рддрддреНрд╡ рдПрдХ рд╢рд╛рдЦрд╛ рдХреЗ рдЕрдВрдд рддрдХ рдкрд╣реБрдВрдЪрддрд╛ рд╣реИ рдФрд░ рд╕реНрд╡рдпрдВ рдПрдХ рдиреЛрдб рдмрди рдЬрд╛рддрд╛ рд╣реИред</font></font></li>
<li><b> 2.         .</b>   ,      (    ,       )            .          .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдПрд▓реНрдЧреЛрд░рд┐рджрдорд┐рдХ рдЬрдЯрд┐рд▓рддрд╛ рдХреЗ рд╕рдВрджрд░реНрдн рдореЗрдВ рдПрдХ рдкреЗрдбрд╝ рдХрд╛ рдирд┐рд░реНрдорд╛рдг рдХрд╛рдлреА рд╕рд╣рдиреАрдп рд╣реИ - рдФрд╕рддрди, рдПрдХ рдирдпрд╛ рдиреЛрдб </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдУ (рд▓реЙрдЧ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рдЦрд░реНрдЪ рдХрд░рддрд╛ рд╣реИ</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЗрд╕рд▓рд┐рдП рдкрд╣рд▓реЗ рдЪрд░рдг рдХреА рд╕рдордп рдЬрдЯрд┐рд▓рддрд╛ </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдУ ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓реЙрдЧ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рд╣реИ</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд▓реЗрдХрд┐рди рджреВрд╕рд░реЗ рдЪрд░рдг рдореЗрдВ, рд╕рдм рдХреБрдЫ рдЗрддрдирд╛ рд░рд╕рдкреВрд░реНрдг рдирд╣реАрдВ рд╣реИред </font><font style="vertical-align: inherit;">рдПрдХ рдкреБрдирд░рд╛рд╡рд░реНрддреА рдкреЗрдбрд╝ рдХреА рдкреИрджрд▓ рдпрд╛рддреНрд░рд╛ рдЖрд╕рд╛рдиреА рд╕реЗ рдПрдХ рдмреЗрд╣рдж рдШреБрдорд╛рд╡рджрд╛рд░ рднреВрд▓рднреБрд▓реИрдпрд╛ рдХреЗ рдорд╛рдзреНрдпрдо рд╕реЗ рдПрдХ рд▓рдВрдмреА рдпрд╛рддреНрд░рд╛ рдмрди рд╕рдХрддреА рд╣реИ, рдФрд░ рд╕рдордп рдЬрдЯрд┐рд▓рддрд╛ рдЕрдХреНрд╕рд░ </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдУ ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди </font></font></b><sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></sup><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рддрдХ рдХрдо рд╣реЛ рдЬрд╛рддреА рд╣реИ</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рд╛рдБрдк рдХрд╛ рдкреЗрдбрд╝</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рд╕рдорд╕реНрдпрд╛ рдХреЛ рд╣рд▓ рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП, рдХреЗрд╡рд▓ 35-37 рд╕рд╛рд▓ рдкрд╣рд▓реЗ, рджреЛ рд╡реИрдЬреНрдЮрд╛рдирд┐рдХ рд╡реИрдЬреНрдЮрд╛рдирд┐рдХреЛрдВ рд░реЙрдмрд░реНрдЯ рдЯрд╛рд░рдЬрди рдФрд░ рдбреИрдирд┐рдпрд▓ рд╕реНрд▓рд┐рдЯрд░ рдиреЗ рдЗрд╕ рдкреЗрдбрд╝ рдХреА рд╕рдВрд░рдЪрдирд╛ рд╡рд┐рдХрд╕рд┐рдд рдХреАред рдЙрдиреНрд╣реЛрдВрдиреЗ рд╕реБрдЭрд╛рд╡ рджрд┐рдпрд╛ рдХрд┐ рдХрд┐рд╕реА рднреА рдкреЗрдбрд╝ рдХреЗ рдиреЛрдб рдХреЗ рд╕рд╛рде рдХрд┐рд╕реА рднреА рдСрдкрд░реЗрд╢рди (рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░реЗрдВ, рдЦреЛрдЬ, рд╣рдЯрд╛рдПрдВ) рдХреЗ рд▓рд┐рдП, рддреБрд░рдВрдд рдкреЗрдбрд╝ рдХреЛ рдкреБрди: рд╕рдВрддреБрд▓рд┐рдд рдХрд░реЗрдВ, рдЬрд┐рд╕рд╕реЗ рдиреЛрдб рдкреВрд░реА рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рдореВрд▓ рд╣реЛред</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><div style="text-align:center;"><img width="780" height="313" src="https://habrastorage.org/webt/8s/vj/ac/8svjacb-n4jgxpjbbaxjv-fh-h0.jpeg"></div></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╛рдИрдВ рддрд╕реНрд╡реАрд░ рдореЗрдВ рдореИрдЯреНрд░рд┐рдХреНрд╕ рдЖрд░реНрдХрд┐рдЯреЗрдХреНрдЯ рдФрд░ рдкрд╛рд╕реНрдХрд▓ рдХреЗ рдЖрд╡рд┐рд╖реНрдХрд╛рд░рдХ рдХреА рдХрдВрдкрдиреА рдореЗрдВ рд░реЙрдмрд░реНрдЯ рдЯрд╛рд░рдЬрди (рдкрд╣рд▓реА рдкрдВрдХреНрддрд┐, рджреВрд╕рд░рд╛ рджрд╛рдпрд╛рдВ) рд╣реИред </font><font style="vertical-align: inherit;">рд╕рд╣реА рдлреЛрдЯреЛ рдореЗрдВ рдбреИрдирд┐рдпрд▓ рд╕реНрд▓рд┐рдЯрд░ рд╣реИред </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЫрд╡рд┐ рдкрд░ рдХреНрд▓рд┐рдХ рдХрд░рдиреЗ рд╕реЗ рдПрдХ рдкреВрд░реНрдг рдкреНрд░рд╛рд░реВрдк рд╕рдВрд╕реНрдХрд░рдг рдЦреБрд▓ рдЬрд╛рдПрдЧрд╛ред </font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд░реВрд╕реА рдореЗрдВ, рдЕрд╕рдлрд▓ рдирд╛рдо "рд╡рд┐рд╕реНрддрд╛рд░ рдкреЗрдбрд╝" рдЕрдЯрдХ рдЧрдпрд╛, рдХрдо рдЕрдХреНрд╕рд░ - "рддрд┐рд░рдЫрд╛ рдкреЗрдбрд╝"ред </font><font style="vertical-align: inherit;">рдпрджреНрдпрдкрд┐ рдпрджрд┐ рдЗрд╕реЗ рдХреЗрд╡рд▓ рд╢рд╛рдмреНрджрд┐рдХ рд░реВрдк рд╕реЗ рдЕрдиреБрд╡рд╛рджрд┐рдд рдХрд┐рдпрд╛ рдЧрдпрд╛ рдерд╛, рддреЛ "рд╡рд┐рд╕реНрддрд╛рд░рд┐рдд рдкреЗрдбрд╝" (рдпрд╛, рдЗрд╕рд╕реЗ рднреА рдмреЗрд╣рддрд░, "рдмрджрд▓ рдЧрдпрд╛") рдЕрдЪреНрдЫрд╛ рд▓рдЧрддрд╛ рд╣реИ рдФрд░ рдЕрдзрд┐рдХ рд╕рдЯреАрдХ рд░реВрдк рд╕реЗ рдЗрд╕ рдПрд▓реНрдЧреЛрд░рд┐рдердо рд╕рдВрд░рдЪрдирд╛ рдХрд╛ рд╕рд╛рд░ рджрд░реНрд╢рд╛рддрд╛ рд╣реИред </font><font style="vertical-align: inherit;">рд▓реЗрдХрд┐рди рд╡рд╣ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдиреЛрдб рдХреЛ рд░реВрдЯ рдкрд░ рдзрдХреЗрд▓рдиреЗ рдХреЗ рд▓рд┐рдП, рд╡рд┐рд╢реЗрд╖ рд╕рд░рд▓ рдСрдкрд░реЗрд╢рди рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ, рддрдерд╛рдХрдерд┐рдд рдореЛрдбрд╝:</font></font><br>
 <br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрд┐рдЧ рдЯрд░реНрди</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ рдЖрдк рдЬрд┐рд╕ рддрддреНрд╡ рдХреЛ рдЬрдбрд╝ рдмрдирд╛рдирд╛ рдЪрд╛рд╣рддреЗ рд╣реИрдВ рд╡рд╣ рдШреЛрдВрд╕рд▓реЗ рдХреЗ рджреВрд╕рд░реЗ рд╕реНрддрд░ рдкрд░ рд╣реИ, рддреЛ рд╕рдм рдХреБрдЫ рдмреЗрд╣рдж рд╕рд░рд▓ рд╣реИред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рдо рдЗрд╕ рддрддреНрд╡ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдХреЛ рдПрдХреНрд╕ рдХреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рддрд░рд╣ рджрд░реНрд╢рд╛рддреЗ рд╣реИрдВ </font><font style="vertical-align: inherit;">, рдФрд░ рдЙрд╕рдХреЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ (рдЬреЛ рдХрд┐ рдкреЗрдбрд╝ рдХреА рдЬрдбрд╝ рднреА рд╣реИ) - </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА рдХреЗ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд░реВрдк рдореЗрдВ </font><font style="vertical-align: inherit;">ред </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдП</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЙрдкрдкреНрд░рдХрд╛рд░ рд╣реИрдВред рдЗрди рд╕рдмрдЯреНрд░реЗрдб рдиреЛрдбреНрд╕ рдореЗрдВ рдХрд┐рддрдирд╛ рд╣реИ рдХреЛрдИ рдлрд░реНрдХ рдирд╣реАрдВ рдкрдбрд╝рддрд╛, рдХреЗрд╡рд▓ рдЗрди рдЙрдкрдкреНрд░рдХрд╛рд░реЛрдВ рдХреА рдЬрдбрд╝реЛрдВ рдореЗрдВ рджрд┐рд▓рдЪрд╕реНрдкреА рд╣реИ рдЬрд┐рдирдХреЗ рд╕рдВрдмрдВрдз </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА рдХреЗ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рде "рдорд╛рддрд╛-рдкрд┐рддрд╛-рдмрдЪреНрдЪреЗ" рд╣реИрдВ </font><font style="vertical-align: inherit;">ред рдпрджрд┐ рдХреЛрдИ рдЙрдкрдкреНрд░рдХрд╛рд░ рдЧрд╛рдпрдм рд╣реИ (рдпрджрд┐ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рдХреЛрдИ рд╡рдВрд╢рдЬ рдирд╣реАрдВ рд╣реИ), рддреЛ рдпрд╣ рдХреНрд░рд┐рдпрд╛рдУрдВ рдХреЗ рдХреНрд░рдо рдХреЛ рдкреНрд░рднрд╛рд╡рд┐рдд рдирд╣реАрдВ рдХрд░рддрд╛ рд╣реИред</font></font><br>
<br>
<div style="text-align:center;"><img width="450" height="208" src="https://habrastorage.org/webt/v3/kg/i0/v3kgi01dbf_nluirdgnsaylmn6y.png"></div><br><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕ рдХреЛ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкреЗрдбрд╝ </font><b><font style="vertical-align: inherit;">рдХреА</font></b><font style="vertical-align: inherit;"> рдЬрдбрд╝ </font><font style="vertical-align: inherit;">
рдмрдирд╛рдиреЗ </font><font style="vertical-align: inherit;">рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА рдХреЗ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмреАрдЪ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХреЗ рдмрдЪреНрдЪреЗ рдХреЗ рд░рд┐рд╢реНрддреЗ рдХреЛ рдЙрд▓реНрдЯрд╛ рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">, рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рдмрдЯреНрд░реА рдХреЛ рднреА рдкрдЫрд╛рдбрд╝ рджреЗрдирд╛ рдЪрд╛рд╣рд┐рдП </font><font style="vertical-align: inherit;">- рдпрд╣ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХрд╛ рд╕рд╣реА рд╡рдВрд╢рдЬ рдерд╛ </font><font style="vertical-align: inherit;">, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЗ рдмрд╛рдПрдВ рд╡рдВрд╢рдЬ рдмрди рдЧрдпрд╛ </font><font style="vertical-align: inherit;">( </font><font style="vertical-align: inherit;">рдЖрдкрдХреЛ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдП</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реА рдХреЗ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╛рде </font><font style="vertical-align: inherit;">рдХреБрдЫ рднреА рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рдирд╣реАрдВ </font><b><font style="vertical-align: inherit;">рд╣реИ</font></b><font style="vertical-align: inherit;"> )ред </font><font style="vertical-align: inherit;">рдФрд░ рдпрд╣ рд╕рдм рд╣реИ! </font><font style="vertical-align: inherit;">рдЗрди рд╕рд░рд▓ рдЬреЛрдбрд╝рддреЛрдбрд╝реЛрдВ рдХреЗ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рд╕рдВрд░рдЪрдирд╛, рдЬреИрд╕рд╛ рдХрд┐ рдпрд╣ рдПрдХ рджреНрд╡рд┐рдЖрдзрд╛рд░реА рдЦреЛрдЬ рдкреЗрдбрд╝ рдерд╛, рдЗрд╕рд▓рд┐рдП рдмрдиреА рд░рд╣реА - рд╕рд┐рджреНрдзрд╛рдВрдд "рдмрд╛рдПрдВ рдмрдЪреНрдЪрд╛ рдорд╛рддрд╛-рдкрд┐рддрд╛ рд╕реЗ рдХрдо рд╣реИ, рд╕рд╣реА рдмрдЪреНрдЪрд╛ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рдпрд╛ рдмрд░рд╛рдмрд░ рд╣реИ" рдХрд╛ рдЙрд▓реНрд▓рдВрдШрди рдирд╣реАрдВ рдХрд┐рдпрд╛ рдЬрд╛рдПрдЧрд╛ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд┐рдЫрд▓рд╛ рдЪрд┐рддреНрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P рдХреЗ</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрд╛рдПрдВ рд╡рдВрд╢рдЬ рд╣реИ </font><font style="vertical-align: inherit;">ред </font><font style="vertical-align: inherit;">рдпрджрд┐ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рд╕рд╣реА рд╡рдВрд╢рдЬ рдерд╛, рдЖрдкрдХреЛ рдмрд╕ рд╕реНрдерд┐рддрд┐ рдХреЛ рдкреНрд░рддрд┐рдмрд┐рдВрдмрд┐рдд рдХрд░рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ: </font></font><br>
<br>
<div style="text-align:center;"><img width="450" height="208" src="https://habrastorage.org/webt/em/n6/z9/emn6z9kik0em1i03xpc5k7egrkq.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдореЗрдВ рдХрдард┐рдирд╛рдИ рдХрд╛ рджреВрд╕рд░рд╛ рд╕реНрддрд░ рдирд╣реАрдВ рд╣реИ, рд▓реЗрдХрд┐рди рддреАрд╕рд░рд╛ рд╣реИ, рддреЛ рд╕рдм рдХреБрдЫ рдЕрдзрд┐рдХ рдЬрдЯрд┐рд▓ рд╣реИ, рд▓реЗрдХрд┐рди рдмрд╣реБрдд рдЕрдзрд┐рдХ рдирд╣реАрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЕрдЧрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рдкреИрд░реЗрдВрдЯ рд╣реИ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рдЬреЛ рдмрд╛рд░реА рдореЗрдВ рдПрдХ рдкреИрд░реЗрдВрдЯ рд╣реИ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , рддреЛ рд╣рдо рдХреЗрд╡рд▓ рджреЛ рдЕрд▓рдЧ рд╕реНрдерд┐рддрд┐рдпреЛрдВ рд╣реИ: </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1) рдЕрдЧрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдПрдХ рд╣реИ </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рдВрд╢рдЬ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЗ рд▓рд┐рдП </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА </font></font></b><font style="vertical-align: inherit;"><i><font style="vertical-align: inherit;">рдПрдХ рд╣реА рддрд░рдл</font></i><font style="vertical-align: inherit;"> рдХреЗ рд░реВрдк рдореЗрдВ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЗ рд▓рд┐рдП </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
2) рдЕрдЧрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрдкрдиреЗ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХреЗ рд▓рд┐рдП </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╣реБрдореБрдЦреА рд╡рдВрд╢рдЬ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╣реИрдВ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдкрд╣рд▓реЗ, рдкрд╣рд▓реЗ рдорд╛рдорд▓реЗ рдкрд░ рд╡рд┐рдЪрд╛рд░ рдХрд░реЗрдВред</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрд┐рдЧрдЬрд┐рдЧ рдЯрд░реНрди</font></font></h3><br><font style="vertical-align: inherit;"><b><font style="vertical-align: inherit;">P рдХреЗ</font></b><font style="vertical-align: inherit;"> рд▓рд┐рдП </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдмрд╛рдПрдВ рд╡рдВрд╢рдЬ рд╣реЛрдиреЗ </font><font style="vertical-align: inherit;">
рджреЗрдВ </font><font style="vertical-align: inherit;">, рдФрд░ </font><b><font style="vertical-align: inherit;">G рдХреЗ</font></b><font style="vertical-align: inherit;"> рд▓рд┐рдП </font><b><font style="vertical-align: inherit;">P рдХреЛ</font></b><font style="vertical-align: inherit;"> рдмрд╛рдПрдВ рд╡рдВрд╢рдЬ </font><font style="vertical-align: inherit;">(рд╡рд┐рдХрд▓реНрдк рдЬрдм </font><b><font style="vertical-align: inherit;">X</font></b><font style="vertical-align: inherit;"> рдФрд░ </font><b><font style="vertical-align: inherit;">P</font></b><font style="vertical-align: inherit;"> рдПрдХ рд╕рд╛рде рджрд╛рдПрдВ рд╡рдВрд╢рдЬ рд╣реИрдВ рдЙрд╕реА рддрд░рд╣ рд╣рд▓ рдХрд┐рдпрд╛ рдЬрд╛рдП)ред</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"></font><br>
<br>
<div style="text-align:center;"><img width="770" height="251" src="https://habrastorage.org/webt/sh/f3/ev/shf3evyiypukr9y08kvtiidhrvy.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреИрд╕рд╛ рдХрд┐ рдЖрдк рджреЗрдЦ рд╕рдХрддреЗ рд╣реИрдВ, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдкреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЗ рдмреАрдЪ рд╕рдВрдмрдВрдз рдХреЛ рдмрджрд▓рдирд╛ рдЖрд╡рд╢реНрдпрдХ рд╣реИ </font><font style="vertical-align: inherit;">, рд╕рд╛рде рд╣реА рд╕рд╛рде </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмреА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реА</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдХреЛ рдареАрдХ рд╕реЗ рдЖрдЙрдЯрд╡реЗ </font><b><font style="vertical-align: inherit;">рдЬрд╛ рд╕рдХрддрд╛ рд╣реИ</font></b><font style="vertical-align: inherit;"> ред </font><font style="vertical-align: inherit;">рдФрд░ рд╣рдорд╛рд░реЗ рдмрд╛рдЗрдирд░реА рд╕рд░реНрдЪ рдЯреНрд░реА рдХреЛ рдЗрд╕рд╕реЗ рдиреБрдХрд╕рд╛рди рдирд╣реАрдВ рд╣реЛрдЧрд╛ред</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЬрд┐рдЧрдЬреИрдЧ рдЯрд░реНрди</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╣реА рд╡рдВрд╢рдЬ рд╣реИ, рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрд╛рдПрдВ рд╣реИ (рдпрд╛ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдмрдЪрд╛ рд╣реБрдЖ рд╣реИ, рдФрд░ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">P</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд╕рд╣реА рд╣реИ, рд╕рд╛рд░ рдирд╣реАрдВ рд╣реИ), рддреЛ рдореБрдЭреЗ рдЖрд╢рд╛ рд╣реИ рдХрд┐ рдЖрдк рдкрд╣рд▓реЗ рд╕реЗ рд╣реА рдЗрд╕ рдЪрд┐рддреНрд░ рд╕реЗ рд╕рдм рдХреБрдЫ рд╕рдордЭ рдЧрдП рд╣реИрдВ:</font></font><br>
<br>
<div style="text-align:center;"><img width="642" height="251" src="https://habrastorage.org/webt/rz/v1/p2/rzv1p25jwly-sz6lrv_o2alzlyc.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдпрджрд┐ </font><font style="vertical-align: inherit;">рдкреЗрдбрд╝ рдореЗрдВ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">X</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдЕрднреА рднреА рдШреЛрдВрд╕рд▓реЗ рдХреЗ рд╢рд┐рдХрд╛рд░ рдХреЗ рдирд┐рдЪрд▓реЗ рд╕реНрддрд░ рдкрд░ рд╣реИ, рддреЛ рдЙрд╕реЗ рдЙрдард╛рдиреЗ рдХреЗ рд▓рд┐рдП, рдЖрдкрдХреЛ рдЙрд╕ рдорд╛рддрд╛-рдкрд┐рддрд╛ рдХреЛ ZigZig рдпрд╛ ZigZag (рдпрджрд┐ рдЖрд╡рд╢реНрдпрдХ рд╣реЛ, рддреЛ рдпрд╣ рдХрдИ рдмрд╛рд░ рдХрд░рдирд╛ рд╣реЛрдЧрд╛) рд╢рд╛рдЦрд╛ рд▓рдЧрд╛рдиреЗ рдХреА рдЖрд╡рд╢реНрдпрдХрддрд╛ рд╣реИ, рдЬреЛ рдШреЛрдВрд╕рд▓реЗ рдХреЗ рд╢рд┐рдХрд╛рд░ рдХреЗ рддреАрд╕рд░реЗ рд╕реНрддрд░ рдкрд░ рд╣реИред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрдирд╡рд░реНрдЯ рд╕реЙрд░реНрдЯ :: Splay рд╕реЙрд░реНрдЯ</font></font></h2><img align="right" width="396" height="590" src="https://habrastorage.org/webt/ig/xb/3c/igxb3c-v8_la--ej_irmsze7dai.gif"><br clear="left"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рджрд░рдЕрд╕рд▓, рдпрд╣рд╛рдБ рд╣рдо рдкреЗрдбрд╝реЛрдВ рдХреА рдЫрдБрдЯрд╛рдИ рдореЗрдВ рднреА рдЙрд╕реА рддрд░рд╣ рдХрд╛ рдХрд╛рдо рдХрд░рддреЗ рд╣реИрдВ - рдкрд╣рд▓реЗ рд╣рдо рдПрдХ рдмрд╛рдЗрдирд░реА рд╕реЙрд░реНрдЯ рдЯреНрд░реА рдмрдирд╛рддреЗ рд╣реИрдВ, рдлрд┐рд░ рд╣рдо рдЙрд╕рдХреЗ рдЪрд╛рд░реЛрдВ рдУрд░ рдШреВрдорддреЗ рд╣реИрдВред рд▓реЗрдХрд┐рди рд╣рд░ рдмрд╛рд░ рдЬрдм рд╣рдо рдкреЗрдбрд╝ рдореЗрдВ рдПрдХ рдирдпрд╛ рдЧрд╛рдБрда рдбрд╛рд▓рддреЗ рд╣реИрдВ - рд▓рдХреАрд░реЗрдВ рдФрд░ рдЬрд╝рд┐рдЧреНрд╕ рдХрд╛ рдЙрдкрдпреЛрдЧ рдХрд░рддреЗ рд╣реБрдП, рд╣рдо рдЗрд╕реЗ рдЬрдбрд╝ рдмрдирд╛рддреЗ рд╣реИрдВред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЬреАрддрдиреЗ рдХреЗ рдкрд╣рд▓реЗ рдЪрд░рдг рдореЗрдВ, рдпрд╣ рдирд╣реАрдВ рджреЗрддрд╛ рд╣реИ, рдПрдХ рдиреЛрдб рдХреЛ рд╕рдореНрдорд┐рд▓рд┐рдд рдХрд░рддреЗ рд╣реБрдП (рдзреНрдпрд╛рди рдореЗрдВ рд░рдЦрддреЗ рд╣реБрдП рдХрд┐ рдЖрдкрдХреЛ рдЗрд╕реЗ рдЬрдбрд╝ рдмрдирд╛рдиреЗ рдХреЗ рд▓рд┐рдП zigzag рдХрд░рдирд╛ рд╣реИ) рдФрд╕рдд </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O (рд▓реЙрдЧ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> )</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рдкрд░ рд▓рд╛рдЧрдд рд╣реЛрддреА рд╣реИ </font><font style="vertical-align: inherit;">- рдФрд░ рдЗрд╕ рдкреНрд░рдХрд╛рд░ рдЗрд╕ рдЪрд░рдг рдХреА рдЬрдЯрд┐рд▓рддрд╛ </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">n</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓реЙрдЧ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рд╣реИ</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╣рд╛рд▓рд╛рдВрдХрд┐, рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк, рдЕрджреНрднреБрдд рдкрд░рд┐рд╡рд░реНрддрди рдкреЗрдбрд╝ рдХреЗ рд╕рд╛рде рд╣реЛрддрд╛ рд╣реИ - рдпрд╣ рд╕реАрдзрд╛ рд╣реЛ рдЬрд╛рддрд╛ рд╣реИ рдФрд░ рд╣рд░ рд╕рдордп рдРрд╕реА рд╕реАрдзреА рд╕реНрдерд┐рддрд┐ рдореЗрдВ рд░рдЦрд╛ рдЬрд╛рддрд╛ рд╣реИред рдФрд░ рдпрд╣ рдирд┐рд░реНрдгрд╛рдпрдХ рд░реВрдк рд╕реЗ рджреВрд╕рд░реЗ рдЪрд░рдг (рдЯреНрд░реА рдЯреНрд░реИрд╡рд░реНрд╕рд▓) рдХреЛ рддреЗрдЬ рдХрд░рддрд╛ рд╣реИ, рдХреНрдпреЛрдВрдХрд┐ рдкрд░рд┐рдгрд╛рдорд╕реНрд╡рд░реВрдк рдЕрдВрддрд┐рдо рд╕реАрдврд╝реА рдХреЛ рдУ ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) </font><font style="vertical-align: inherit;">рдЬрдЯрд┐рд▓рддрд╛ рдХреЗ рд╕рд╛рде рд╕рдВрд╕рд╛рдзрд┐рдд рдХрд┐рдпрд╛ рдЬрд╛рддрд╛ рд╣реИ </font><font style="vertical-align: inherit;">ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдкреНрд░рдХрд╛рд░, рд╕рдордп рдореЗрдВ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо (рд╕рдмрд╕реЗ рдЦрд░рд╛рдм, рдордзреНрдпрдо, рд╕рд░реНрд╡рд╢реНрд░реЗрд╖реНрда) рдХреА рдХреБрд▓ рдЬрдЯрд┐рд▓рддрд╛ </font></font><nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдУ ( </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> рд▓реЙрдЧ </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрди</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ) рд╣реИ</font></font></nobr><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ред </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рд╡реНрдпрд╡рд╣рд╛рд░ рдореЗрдВ, рдпрд╣ рдЫрдВрдЯрдиреА рдорд░реНрдЬрд╕реЙрд░реНрдЯ, рдХреНрд╡рд┐рдХрд╕реЙрд░реНрдЯ рдФрд░ рдЕрдиреНрдп рд╣реАрдкрд╕реЙрд░реНрдЯ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдзреАрдореА рд╣реИ, рд▓реЗрдХрд┐рди рдпрд╣ рд╕реНрдкрд╖реНрдЯ рд░реВрдк рд╕реЗ рджрд░реНрд╢рд╛рддрд╛ рд╣реИ рдХрд┐ рдЖрдк рдмрд╛рдЗрдирд░реА рд╕рд░реНрдЪ рдЯреНрд░реА рдХреЗ рд╕рд╛рде рдСрдкрд░реЗрд╢рди рдХреЛ рдХреИрд╕реЗ рддреЗрдЬ рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдЗрд╕ рдХрд▓реНрдкрд┐рдд рдХрд╣рд╛рдиреА рдХрд╛ рдиреИрддрд┐рдХ рдпрд╣ рд╣реИ: рдпрджрд┐ рдЖрдкрдХреЛ рдПрдХ рджреНрд╡рд┐рдЖрдзрд╛рд░реА рдЦреЛрдЬ рдкреЗрдбрд╝ рд╕реЗ рдирд┐рдкрдЯрдирд╛ рд╣реИ - рдпрджрд┐ рд╕рдВрднрд╡ рд╣реЛ, рддреЛ рдЗрд╕реЗ рдЖрддреНрдо-рд╕рдВрддреБрд▓рди рдмрдирд╛рдПрдВред </font><font style="vertical-align: inherit;">рдПрдХ рд╕рдВрднрд╛рд╡рд┐рдд рд╡рд┐рдХрд▓реНрдк рдХреЗ рд░реВрдк рдореЗрдВ - рдПрдХ рд╢рд╛рдирджрд╛рд░ рдкреЗрдбрд╝ рдХреЗ рд╕рд╛рде рдЗрд╕рдХреЗ рд╕рд╛рде рдХрд╛рдо рдХрд░реЗрдВ, рдЕрд░реНрдерд╛рддред </font><font style="vertical-align: inherit;">рдкреЗрдбрд╝ рдореЗрдВ рдХрд┐рд╕реА рднреА рдиреЛрдб рдХреЗ рд╕рд╛рде рдХрд┐рд╕реА рднреА рдХрд╛рд░реНрд░рд╡рд╛рдИ рдореЗрдВ, рдЗрд╕ рдиреЛрдб рдХреЛ рдЬрдбрд╝ рдмрдирд╛рдПрдВред </font><font style="vertical-align: inherit;">рдмреЗрд╢рдХ, рдЕрдиреНрдп рд╡реИрдХрд▓реНрдкрд┐рдХ рдЖрддреНрдо-рд╕рдВрддреБрд▓рди рдЦреЛрдЬ рдкреЗрдбрд╝ (рд▓рд╛рд▓-рдХрд╛рд▓реЗ рдкреЗрдбрд╝, рдПрд╡реАрдПрд▓ рдкреЗрдбрд╝, рдЖрджрд┐) рд╣реИрдВ, рдЬреЛ рдЕрдзрд┐рдХ рдмреЗрд╣рддрд░ рд╣реЛ рд╕рдХрддреЗ рд╣реИрдВред</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реА рдХреЛрдб</font></font></h2><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд░реНрд╡рд╕ рджрд┐рдЦрдиреЗ рдХреЗ рд▓рд┐рдП рдирд╣реАрдВ</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-comment">/*
 *------------------------------------------------------------
 *
 *      File..........: $RCSfile: splaysort.c,v $
 *      Revision......: $Revision: 1.2 $
 *      Author........: Gary Eddy (gary@cs.mu.OZ.AU)
 *			Alistair Moffat (alistair@cs.mu.OZ.AU)
 *      Date..........: $Date: 1995/09/07 06:19:17 $
 *
 *	Description:
 *		Sorts by repeated insertion into a splay tree.
 *		Insertions are done top down
 *
 *------------------------------------------------------------
 */</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span>	<span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span>	<span class="hljs-meta-string">&lt;stdlib.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span>	<span class="hljs-meta-string">&lt;malloc.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span>	<span class="hljs-meta-string">&lt;alloca.h&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">char</span>	*sort_name = <span class="hljs-string">"Splaysort"</span>;
<span class="hljs-keyword">char</span>	*sort_version = <span class="hljs-string">"$Revision: 1.2 $"</span>;<font></font>
<font></font>
<span class="hljs-comment">/*
** Define DATAPTR for the 12 byte per record version of the program.
** Otherwise only 8 extra bytes per record are used and data
** references are done by indexing the data array.
** Different compiler/architecture combinations can cause wild
** variation in the ratio of speeds between these variations.
*/</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DATAPTR</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> DATAPTR</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DATA(p) ((p)-&gt;data)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> DATA(p) (A+size*(p-T))</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
<font></font>
<span class="hljs-comment">/*
** With the fast copy option enabled a more intelligent copy is used
** depending on the size of the items being copied.
** This approach adopted from the nqsort program of Bentley and McIlroy,
** see Software Practice and Experience, v23, n11, November 1993, 1249-65.
*/</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> FASTCOPY</span><font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> FASTCOPY</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> COPYCODE(TYPE, parmi, parmj, n) { \
        long i = (n) / sizeof (TYPE); \
        register TYPE *pi = (TYPE *) (parmi); \
        register TYPE *pj = (TYPE *) (parmj); \
        do { \
                *pi++ = *pj++;                    \
        } while (--i &gt; 0);      \
}</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span>
<span class="hljs-title">copyfunc</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *d, <span class="hljs-keyword">char</span> *s, <span class="hljs-keyword">int</span> size, <span class="hljs-keyword">int</span> copytype)</span>
</span>{
        <span class="hljs-keyword">if</span>(copytype &lt;= <span class="hljs-number">1</span>)<font></font>
                COPYCODE(<span class="hljs-keyword">long</span>, d, s, size)
        <span class="hljs-keyword">else</span>
                COPYCODE(<span class="hljs-keyword">char</span>, d, s, size)
	<span class="hljs-keyword">return</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> COPY(d,s,size) \
        <span class="hljs-meta-keyword">if</span> (copytype == 0) { \
                *(long *)(d) = *(long *)(s); \
        } <span class="hljs-meta-keyword">else</span> \
                copyfunc(d, s, size, copytype)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> COPY(d,s,size)	memcpy(d,s,size)</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
<font></font>
<span class="hljs-keyword">typedef</span> <span class="hljs-class"><span class="hljs-keyword">struct</span>  <span class="hljs-title">node_rec</span> <span class="hljs-title">node</span>;</span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">struct</span>	<span class="hljs-title">node_rec</span> {</span><font></font>
	node	*left, *rght;<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> DATAPTR</span>
	<span class="hljs-keyword">char</span>	*data;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
};<font></font>
<font></font>
<span class="hljs-comment">/*
 *	sort():
 *		The entire sort code 
 *
 *	Accesses outside variables:	none
 *
 *	Return value...:		none
 */</span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span>
<span class="hljs-title">sort</span><span class="hljs-params">(<span class="hljs-keyword">void</span> *A, <span class="hljs-keyword">size_t</span> n, <span class="hljs-keyword">size_t</span> size, <span class="hljs-keyword">int</span> (*cmp)(<span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span> *, <span class="hljs-keyword">const</span> <span class="hljs-keyword">void</span> *))</span>
</span>{
	<span class="hljs-keyword">register</span> node *next, *curr, *prnt;
	<span class="hljs-keyword">char</span> 	*item;<font></font>
	node	*l, *r, *ch;<font></font>
	node	root, *T, *<span class="hljs-keyword">new</span>, *end, *move;
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> DATAPTR</span>
	<span class="hljs-keyword">char</span>	*p;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
<font></font>
<span class="hljs-comment">/*
** Determine which copying method will be used.
*/</span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> FASTCOPY</span>
	<span class="hljs-keyword">int</span>	copytype=((<span class="hljs-keyword">char</span> *)A - (<span class="hljs-keyword">char</span> *)<span class="hljs-number">0</span>) % <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">long</span>) ||<font></font>
		size % <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">long</span>) ? <span class="hljs-number">2</span> : size == <span class="hljs-keyword">sizeof</span>(<span class="hljs-keyword">long</span>) ? <span class="hljs-number">0</span> : <span class="hljs-number">1</span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
<font></font>
<font></font>
	<span class="hljs-keyword">if</span>(n &lt; <span class="hljs-number">2</span>)
		<span class="hljs-keyword">return</span>;
	<span class="hljs-keyword">if</span>((T = <span class="hljs-keyword">new</span> = (node *) <span class="hljs-built_in">malloc</span>(<span class="hljs-keyword">sizeof</span>(*T)*n)) == <span class="hljs-literal">NULL</span>) {
		<span class="hljs-built_in">fprintf</span>(<span class="hljs-built_in">stderr</span>, <span class="hljs-string">"Couldn't allocate space for structure\n"</span>);<font></font>
	}<font></font>
	<span class="hljs-comment">/* 
	** Do the first insertion manually to avoid the empty tree
	** case in the main loop.
	*/</span>
	curr = <span class="hljs-keyword">new</span>++;<font></font>
	item = A;<font></font>
	curr-&gt;left = curr-&gt;rght = <span class="hljs-literal">NULL</span>;
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> DATAPTR</span><font></font>
	curr-&gt;data = item;<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span><font></font>
	item += size;<font></font>
	end = T+n;<font></font>
	<span class="hljs-comment">/*
	** For each item move down the tree dividing it into
	** two subtrees, one containing items less than the new
	** element and the other those which are greater.
	** The pointers l and r refer to the greatest element in the
	** smaller subtree and the smallest element in the large
	** subtree respectively. During the splitting of the tree
	** l and r retain children that may be incorrect in the final
	** tree but these false links are cut at the end of the
	** insertion.
	*/</span><font></font>
<font></font>
	<span class="hljs-keyword">for</span>( ; <span class="hljs-keyword">new</span>&lt;end; ) {<font></font>
		l = r = &amp;root;<font></font>
		<span class="hljs-keyword">while</span>(curr != <span class="hljs-literal">NULL</span>) {
			<span class="hljs-keyword">if</span>(cmp(item, DATA(curr)) &lt; <span class="hljs-number">0</span>) {
				<span class="hljs-comment">/* Left root case */</span>
				<span class="hljs-keyword">if</span>((ch = curr-&gt;left) == <span class="hljs-literal">NULL</span>) {<font></font>
					r = r-&gt;left = curr;<font></font>
					<span class="hljs-keyword">break</span>;<font></font>
				}<font></font>
				<span class="hljs-comment">/* Left zig-zig */</span>
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(cmp(item, DATA(ch)) &lt; <span class="hljs-number">0</span>) {<font></font>
					curr-&gt;left = ch-&gt;rght;<font></font>
					ch-&gt;rght = curr;<font></font>
					r = r-&gt;left = ch;<font></font>
					curr = ch-&gt;left;<font></font>
				}<font></font>
				<span class="hljs-comment">/* Left zig-zag */</span>
				<span class="hljs-keyword">else</span> {<font></font>
					r = r-&gt;left = curr;<font></font>
					l = l-&gt;rght = ch;<font></font>
					curr = ch-&gt;rght;<font></font>
				}<font></font>
			}<font></font>
			<span class="hljs-keyword">else</span> {
				<span class="hljs-comment">/* Right root case */</span>
				<span class="hljs-keyword">if</span>((ch = curr-&gt;rght) == <span class="hljs-literal">NULL</span>) {<font></font>
					l = l-&gt;rght = curr;<font></font>
					<span class="hljs-keyword">break</span>;<font></font>
				}<font></font>
				<span class="hljs-comment">/* Right zig-zag */</span>
				<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (cmp(item, DATA(ch)) &lt; <span class="hljs-number">0</span>) {<font></font>
					l = l-&gt;rght = curr;<font></font>
					r = r-&gt;left = ch;<font></font>
					curr = ch-&gt;left;<font></font>
				}<font></font>
				<span class="hljs-comment">/* Right zig-zig */</span>
				<span class="hljs-keyword">else</span> {<font></font>
					curr-&gt;rght = ch-&gt;left;<font></font>
					ch-&gt;left = curr;<font></font>
					l = l-&gt;rght = ch;<font></font>
					curr = ch-&gt;rght;<font></font>
				}<font></font>
			}<font></font>
		}<font></font>
		<span class="hljs-comment">/* Cut false links */</span>
		r-&gt;left = l-&gt;rght = <span class="hljs-literal">NULL</span>;
		<span class="hljs-keyword">new</span>-&gt;rght = root.left;
		<span class="hljs-keyword">new</span>-&gt;left = root.rght;
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifdef</span> DATAPTR</span>
		<span class="hljs-keyword">new</span>-&gt;data = item;
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
		curr = <span class="hljs-keyword">new</span>++;<font></font>
		item += size;<font></font>
	}<font></font>
	<span class="hljs-comment">/* Now copy all of the data back into the input array.
	** Uses an iterative destructive inorder traversal.
	** Last item inserted is the current root.
	*/</span>
	prnt = <span class="hljs-literal">NULL</span>;<font></font>
	move = T;<font></font>
	<span class="hljs-keyword">while</span> (<span class="hljs-number">1</span>) {
		<span class="hljs-keyword">if</span> ((next = curr-&gt;left) != <span class="hljs-literal">NULL</span>) {
			<span class="hljs-comment">/* left subtree exists */</span><font></font>
			curr-&gt;left = prnt;<font></font>
			prnt = curr;<font></font>
			curr = next;<font></font>
		}<font></font>
		<span class="hljs-keyword">else</span> {<font></font>
			next = curr-&gt;rght;<font></font>
			curr-&gt;rght = move++;<font></font>
			<span class="hljs-keyword">if</span> (next != <span class="hljs-literal">NULL</span>) {
				<span class="hljs-comment">/* and arrange for a visit */</span>
				<span class="hljs-keyword">if</span>((curr = next-&gt;left) != <span class="hljs-literal">NULL</span>) {<font></font>
					next-&gt;left = prnt;<font></font>
					prnt = next;<font></font>
					<span class="hljs-keyword">continue</span>;<font></font>
				}<font></font>
				<span class="hljs-keyword">else</span> {<font></font>
					curr = next;<font></font>
					<span class="hljs-keyword">continue</span>;<font></font>
				}<font></font>
			}<font></font>
			<span class="hljs-comment">/* no right subtree either, turn around*/</span>
			<span class="hljs-keyword">if</span> (prnt != <span class="hljs-literal">NULL</span>) {<font></font>
				curr = prnt;<font></font>
				prnt = prnt-&gt;left;<font></font>
				curr-&gt;left = <span class="hljs-literal">NULL</span>;
				<span class="hljs-keyword">continue</span>;<font></font>
			}<font></font>
			<span class="hljs-comment">/* nothing left to be done */</span>
			<span class="hljs-keyword">break</span>;<font></font>
		}<font></font>
	}<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">ifndef</span> DATAPTR</span>
	<span class="hljs-comment">/*
	** Change the goes-to array in rght to a comes_from in left.
	** Note the kludge on pointers, where left points into the 
	** character array containing the elements.
	*/</span>
	<span class="hljs-keyword">for</span>(next = T, p = A; next &lt; end; p += size, next++)<font></font>
		next-&gt;rght-&gt;left = (node *)p;<font></font>
	<span class="hljs-comment">/* and use the `comes from' array to unscramble the permutation */</span>
	item = (<span class="hljs-keyword">char</span> *)<span class="hljs-built_in">malloc</span>(size);
        <span class="hljs-keyword">for</span> (next=T; next&lt;end; next++) {
                <span class="hljs-keyword">char</span> *datacurr, *dataleftcurr, *<span class="hljs-keyword">final</span>;
                <span class="hljs-keyword">if</span> (next-&gt;left == <span class="hljs-literal">NULL</span>)
                        <span class="hljs-keyword">continue</span>;<font></font>
                curr = next;<font></font>
                <span class="hljs-keyword">final</span> = datacurr = DATA(curr);<font></font>
                COPY(item, datacurr, size);<font></font>
                <span class="hljs-keyword">while</span> ((<span class="hljs-keyword">char</span> *)(curr-&gt;left) != <span class="hljs-keyword">final</span>) {<font></font>
                        dataleftcurr = (<span class="hljs-keyword">char</span> *)(curr-&gt;left);<font></font>
                        COPY(datacurr, dataleftcurr, size);<font></font>
                        prnt = curr;<font></font>
                        curr = T + (((<span class="hljs-keyword">char</span> *)(curr-&gt;left)-A)/size);<font></font>
                        prnt-&gt;left = <span class="hljs-literal">NULL</span>;<font></font>
                        datacurr = dataleftcurr;<font></font>
                }<font></font>
                COPY(datacurr, item, size);<font></font>
                curr-&gt;left = <span class="hljs-literal">NULL</span>;<font></font>
        }<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">else</span></span>
	<span class="hljs-comment">/* Change the goes-to array in rght to a comes_from in left */</span>
	<span class="hljs-keyword">for</span>(next = T; next &lt; end; next++)<font></font>
		next-&gt;rght-&gt;left = next;<font></font>
	<span class="hljs-comment">/* and use the `comes from' array to unscramble the permutation */</span>
	<span class="hljs-comment">/*
	** This 12 byte version uses the presence of the data pointer
	** by making it the flag for already placed items. This means
	** that left pointers can point to nodes, eliminating the
	** calculation to find the next node.
	*/</span>
	item = (<span class="hljs-keyword">char</span> *)<span class="hljs-built_in">malloc</span>(size);
	<span class="hljs-keyword">for</span> (next=T; next&lt;end; next++) {
		<span class="hljs-keyword">char</span> *datacurr, *dataleftcurr, *<span class="hljs-keyword">final</span>;
		<span class="hljs-comment">/* second condition guarantees at least one iteration
		** of while loop.
		*/</span>
		<span class="hljs-keyword">if</span> (DATA(next) == (<span class="hljs-keyword">char</span> *) <span class="hljs-literal">NULL</span> || next-&gt;left == next)
			<span class="hljs-keyword">continue</span>;
		<span class="hljs-keyword">final</span> = datacurr = DATA(next);<font></font>
		curr = next-&gt;left;<font></font>
		COPY(item, datacurr, size);<font></font>
		<span class="hljs-keyword">while</span> ((dataleftcurr = DATA(curr)) != <span class="hljs-keyword">final</span>) {<font></font>
			COPY(datacurr, dataleftcurr, size);<font></font>
			prnt = curr;<font></font>
			curr = curr-&gt;left;<font></font>
			DATA(prnt) = (<span class="hljs-keyword">char</span> *) <span class="hljs-literal">NULL</span>;<font></font>
			datacurr = dataleftcurr;<font></font>
		}<font></font>
		COPY(datacurr, item, size);<font></font>
		DATA(curr) = (<span class="hljs-keyword">char</span> *) <span class="hljs-literal">NULL</span>;<font></font>
	}<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">endif</span></span>
	<span class="hljs-built_in">free</span>(item);
	<span class="hljs-built_in">free</span>(T);<font></font>
} <span class="hljs-comment">/* sort() */</span></code></pre></div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЕрдЧрд▓реА рд╕реАрд░реАрдЬ рдХрд╛ рдЯреНрд░реЗрд▓рд░</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
рдФрд░ рд╣рдо рдвреЗрд░ рдкрд░ рд▓реМрдЯрддреЗ рд╣реИрдВред </font><font style="vertical-align: inherit;">рдЕрдЧрд▓реА рдЫреЛрдЯреА рд╕реА рдмрд╛рдд рдЖрдЬ рдХреА рддреБрд▓рдирд╛ рдореЗрдВ рдЕрдзрд┐рдХ рджрд┐рд▓рдЪрд╕реНрдк рд╣реЛрдЧреАред </font><font style="vertical-align: inherit;">рдпрд╣ рд╣рд╛рдЗрдмреНрд░рд┐рдб рдПрдХ рдкреЗрдбрд╝ рдЬреИрд╕реА рдбреЗрдЯрд╛ рд╕рдВрд░рдЪрдирд╛ рд╣реИ рдЬреЛ рдвреЗрд░ рдФрд░ рдмрд╛рдЗрдирд░реА рд╕рд░реНрдЪ рдЯреНрд░реА рджреЛрдиреЛрдВ рд╣реИред</font></font><br>
<br>
<img height="498" src="https://habrastorage.org/webt/gf/96/5w/gf965wv0ih9ugz1ur98ywqe4oaq.gif"><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕рдВрджрд░реНрдн</font></font></h2><br>
 <img width="30" height="30" src="https://habrastorage.org/webt/3y/wq/mh/3ywqmhuo7fv68jggkc416kbzuw4.png"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдмрд╛рдЗрдирд░реА рд╕рд░реНрдЪ рдЯреНрд░реА</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЗрдкреНрд▓реЗ рдЯреНрд░реА </font></font></a><br>
<br>
<img width="30" height="30" src="https://habrastorage.org/webt/jw/w-/qu/jww-queszzqnwmoa2hm-kfwu-9o.png"> <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЗрдкреНрд▓реЗ рдЯреНрд░реА</font></font></a><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╢реНрд░реГрдВрдЦрд▓рд╛ рд▓реЗрдЦ:</font></font></h3><br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕реЗрд▓ рдЖрд╡реЗрджрди AlgoLab.xlsm</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдПрдХреНрд╕рдЪреЗрдВрдЬ рд╕реЙрд░реНрдЯ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдирд┐рд╡реЗрд╢рди рд╢реЙрд░реНрдЯреНрд╕</font></font></a><ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд▓рд╛рдЗрдмреНрд░реЗрд░рд┐рдпрди рдХреНрд░рдордмрджреНрдз</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЙрд▓рд┐рдЯреЗрдпрд░ рд╕реЙрд░реНрдЯ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╕реЙрдиреНрдЧ "рд╣рдиреЛрдИ рдХрд╛ рдЯреЙрд╡рд░"</font></font></a></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЗрдирд╡рд░реНрдЯ рд╕реЙрд░реНрдЯ рдХрд░реЗрдВ</font></font></b></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдпреБрд╡рд╛ рдЯреЗрдмрд▓ рдЫрдБрдЯрд╛рдИ</font></font></li>
</ul></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдЪрдпрди рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЫрд╛рдБрдЯреЗрдВ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рдорд░реНрдЬ рдХрд░рдирд╛</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╡рд┐рддрд░рдг рдХреЗ рдЖрдзрд╛рд░ рдкрд░ рдЫрд╛рдБрдЯреЗрдВ</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=hi&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">рд╣рд╛рдЗрдмреНрд░рд┐рдб рд╕реЙрд░реНрдЯрд┐рдВрдЧ</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
AlgoLab рдореЗрдВ рд╕реЙрд░реНрдЯ рдХрд┐рдпрд╛ рдЧрдпрд╛ред </font><font style="vertical-align: inherit;">рдЗрд╕рд▓рд┐рдП, рдпрджрд┐ рдЖрдк рдПрдХреНрд╕реЗрд▓ рдлрд╝рд╛рдЗрд▓ рдХреЛ рдореИрдХреНрд░реЛрдЬрд╝ рдХреЗ рд╕рд╛рде рдЕрдкрдбреЗрдЯ рдХрд░рддреЗ рд╣реИрдВ, рддреЛ рдЖрдк рд╡реНрдпрдХреНрддрд┐рдЧрдд рд░реВрдк рд╕реЗ рдмрд╛рдЗрдирд░реА рд╕рд░реНрдЪ рдЯреНрд░реА рдХреЛ рдкрд░реЗрд╢рд╛рди рдХрд░ рд╕рдХрддреЗ рд╣реИрдВред</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../hi503998/index.html">рд╕рднреА рджреЗрд╢реЛрдВ рдХреЗ рдбреЗрдЯрд╛, рдПрдХрдЬреБрдЯ рди рд╣реЛрдВ</a></li>
<li><a href="../hi504000/index.html">Mikroshaред рдЕрдзреНрдпрд╛рдп рджреЛ ROM рдФрд░ BSVV</a></li>
<li><a href="../hi504002/index.html">рдкреНрд░рд╛рд╕рдВрдЧрд┐рдХ рд╡рд┐рдЬреНрдЮрд╛рдкрди рдХреЗ рд▓рд┐рдП Yandex.Wordstat рдХрд╛ рдЙрдкрдпреЛрдЧ рдХреИрд╕реЗ рдХрд░реЗрдВ [рд╡рд┐рд╕реНрддреГрдд рдЧрд╛рдЗрдб]</a></li>
<li><a href="../hi504006/index.html">рдХреЛрдб рдХреА рдХреБрдЫ рдкрдВрдХреНрддрд┐рдпреЛрдВ рдХреЗ рд╕рд╛рде рдкрд╛рдВрдбрд╛ рдХреЛ рддреЗрдЬ рдХрд░рдиреЗ рдХреЗ 6 рддрд░реАрдХреЗред рднрд╛рдЧ 2</a></li>
<li><a href="../hi504008/index.html">рдПрдХ рдПрд▓реНрдЧреЛрд░рд┐рдереНрдо рдХреНрдпрд╛ рд╣реИ?! рднрд╛рдЧ рдПрдХ</a></li>
<li><a href="../hi504014/index.html">рдЕрдВрдЧрд░реЗрдЬреА рд░реВрд╕реА рднрд╛рд╖рд╛ рдкрд░ рдХрдмреНрдЬрд╛ рдХрд░рддреА рд╣реИ: рдРрд╕рд╛ рдХреНрдпреЛрдВ рд╣реЛрддрд╛ рд╣реИ</a></li>
<li><a href="../hi504016/index.html">рдЕрдореАрд░реЛрдВ рдФрд░ рдкреНрд░рднрд╛рд╡рд╢рд╛рд▓реА рд▓реЛрдЧреЛрдВ рдХреЛ рдХрдЯреНрдЯрд░рддрд╛ рдХреА рдЕрдкреАрд▓</a></li>
<li><a href="../hi504022/index.html">рд╕реВрдЪрдирд╛ рд╕реБрд░рдХреНрд╖рд╛ рд╡рд┐рд╢реЗрд╖рдЬреНрдЮред рдХреНрдпрд╛ рдХрд░рддрд╛ рд╣реИ рдФрд░ рдХрд┐рддрдирд╛ рдХрдорд╛рддрд╛ рд╣реИ</a></li>
<li><a href="../hi504026/index.html">рдХреНрдпреЛрдВ рд╕рд┐рд▓рд┐рдХреЙрди рд╡реИрд▓реА рдореЗрдВ рджреБрдЦ рдХреЗ рдЧреБрдг рд╕реЗ рдЧреНрд░рд╕реНрдд рд╣реИ?</a></li>
<li><a href="../hi504030/index.html">рдореИрдВ рдХреИрд╕реЗ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдФрд░ рдкреНрд░рддрд┐рдХреНрд░рд┐рдпрд╛ рдореВрд▓ рднрд╛рдЧ 2 (рдЯреНрдпреВрдЯреЛрд░рд┐рдпрд▓) рдкрд░ Azure AD B2C рдХреЙрдиреНрдлрд╝рд┐рдЧрд░ рдХрд┐рдпрд╛ рдерд╛ рдХреА рдХрд╣рд╛рдиреА</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>