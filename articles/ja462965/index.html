<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐇 🙅🏿 🚷 LinuxでデータベースとWebサービスを公開してサーバー1cを上げる 🧑🏻‍🤝‍🧑🏻 👨🏿‍🏭 🎚️</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="今日は、Webサービスの公開により、Linux debian 9でサーバー1cを起動する方法を説明します。
 
 1s Webサービスとは何ですか？
 
 Webサービスは、他の情報システムとの統合に使用されるプラットフォームメカニズムの1つです。これは、アプリケーションと情報システムを統合するため...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>LinuxでデータベースとWebサービスを公開してサーバー1cを上げる</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/462965/"><img src="https://habrastorage.org/webt/rl/ug/jg/rlugjgsbzt_idwrlr_gpbyu1go4.png" alt="画像"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今日は、Webサービスの公開により、Linux debian 9でサーバー1cを起動する方法を説明します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1s Webサービスとは何ですか？</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webサービス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、他の情報システムとの統合に使用されるプラットフォームメカニズムの1つです。これは、アプリケーションと情報システムを統合するための最新の標準であるサービス指向アーキテクチャーであるSOA（サービス指向アーキテクチャー）をサポートする手段です。本質的に、これはデータを含むhtmlページを作成する機能であり、他のアプリケーションでアクセスしてそれらを取得できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
長所-（十分な量のデータがあっても）すばやく機能し、比較的便利です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
短所-あなたの1sプログラマーは、あなたのデータベース用のWebサービスを作成する一方で、多くの人と長い間つぶやきます。</font><font style="vertical-align: inherit;">物事は書面で非常に独特です。</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">Webサービスの</font></a></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
作成方法は説明しません</font><font style="vertical-align: inherit;">...サーバーコンソールからLinuxで</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Webサービス</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を公​​開する方法と、Linuxへの1sサーバーのインストールについて少し説明します。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そこで、debian 9 netinstを用意し、続行し</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ます</font><font style="vertical-align: inherit;">。PostgresPro </font><font style="vertical-align: inherit;">をインストールします（PostgresProは無料ではなく、機能を理解するための一部としてのみ配布されることに注意してください）。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># apt-get update -y</span></code></pre><br>
<pre><code class="bash hljs"><span class="hljs-comment"># apt-get install -y wget gnupg2 || apt-get install -y gnupg</span></code></pre><br>
<pre><code class="bash hljs"><span class="hljs-comment"># wget -O - http://repo.postgrespro.ru/keys/GPG-KEY-POSTGRESPRO | apt-key add -</span></code></pre><br>
<pre><code class="bash hljs"><span class="hljs-comment"># echo deb http://repo.postgrespro.ru/pgpro-archive/pgpro-11.4.1/debian stretch main &gt; /etc/apt/sources.list.d/postgrespro-std.list</span></code></pre><br>
<pre><code class="bash hljs"><span class="hljs-comment"># apt-get update -y</span></code></pre><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># apt-get install -y postgrespro-std-11-server</span></code></pre><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># /opt/pgpro/std-11/bin/pg-setup initdb</span></code></pre><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># /opt/pgpro/std-11/bin/pg-setup service enable</span></code></pre><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># service postgrespro-std-11 start</span></code></pre><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># su - postgres</span></code></pre><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># /opt/pgpro/std-11/bin/psql -U postgres -c "alter user postgres with password '';"</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
postgresqlがlocalhostだけでなくすべてのアドレスをリッスンするとします</font></font><br>
<pre><code class="bash hljs"><span class="hljs-comment"># nano /var/lib/pgpro/std-11/data/postgresql.conf</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リッスンするアドレスのコメントを外して変更します。</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
#listen_addresses = 'localhost' </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
で</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
listen_addresses = '*' </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
...</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、ネットワークからユーザーを承認します</font></font><br>
<pre><code class="bash hljs"><span class="hljs-comment"># nano /var/lib/pgpro/std-11/data/pg_hba.conf</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
変化する：</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">＃IPv4ローカル接続：</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
すべてのホスト127.0.0.1/32 md5</font></font><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
に </font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">host all all 192.168.188.0/24 md5 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
host all all 127.0.0.1/32 md5</font></font><br>
</blockquote><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1のさまざまなPostgres設定の詳細については、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">こちらを参照してください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、1sサーバーを配置します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
サイト1cからダウンロードしたアーカイブをサーバーにアップロードします（私の場合はdeb64_8_3_15_1534.tar.gz）。</font></font><br>
<pre><code class="bash hljs">
<span class="hljs-comment"># tar -xzf deb64_8_3_15_1534.tar.gz</span>
</code></pre><br>
<pre><code class="bash hljs"><span class="hljs-comment"># dpkg -i *.deb</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さらにいくつかの小さなこと：</font></font><br>
<pre><code class="bash hljs"><span class="hljs-comment"># apt install imagemagick unixodbc libgsf-bin</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apache2をインストールします</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># apt install apache2</span></code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
管理コンソールまたは1sクライアントを使用して、データベースを作成し、構成を入力します... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、データベースを公開します</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
。1のフォルダーに移動します。</font></font><br>
<pre><code class="bash hljs"><span class="hljs-comment"># cd /opt/1C/v8.3/x86_64/</span></code></pre><br>
<br>
<pre><code class="bash hljs">
./webinst -publish -apache24 -wsdir Test -dir /var/www/<span class="hljs-built_in">test</span>/ -connstr  <span class="hljs-string">"Srvr=10.7.12.108;Ref=test;"</span> -confPath /etc/apache2/apache2.conf</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
var / www / test /にアクセスして、そこに何が表示されたかを確認します。</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># cd /var/www/test</span></code></pre><br>
<br>
<pre><code class="bash hljs"><span class="hljs-comment"># nano default.vrd</span></code></pre><br>
<br>
<blockquote>"<br>
&lt;?xml version=«1.0» encoding=«UTF-8»?&gt;<br>
&lt;point xmlns=«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">v8.1c.ru/8.2/virtual-resource-system</a>»<br>
 xmlns:xs=«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">www.w3.org/2001/XMLSchema</a>»<br>
 xmlns:xsi=«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">www.w3.org/2001/XMLSchema-instance</a>»<br>
 base="/Test"<br>
 ib=«Srvr=192.168.188.150;Ref=Test;»&gt;<br>
 &lt;standardOdata enable=«false»<br>
 reuseSessions=«autouse»<br>
 sessionMaxAge=«20»<br>
 poolSize=«10»<br>
 poolTimeout=«5»/&gt;<br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">" </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
これらは、1c Webクライアントを起動するために必要なスキームです...これで、ブラウザからアドレス「http：// ServerAddress / Test」（レジスタが重要です！これはLinuxです）にアクセスするか、クライアントでアドレス「ベースの場所のタイプ」を指定して、テストデータベースにアクセスできます「のHttp：//サーバアドレス/テスト」、およびクライアントがパブリッシュされたデータベースで動作します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして、何のWebサービスについて（そのうちの二つは私のテスト構成にあります？同じ会社のWMSシステムと会計とTOPLOG統合とのデータ交換のためのWebBuh ）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
さて、vrdファイルに数行追加してください...</font></font><br>
<br>
<blockquote>&lt;?xml version=«1.0» encoding=«UTF-8»?&gt;<br>
&lt;point xmlns=«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">v8.1c.ru/8.2/virtual-resource-system</a>»<br>
 xmlns:xs=«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">www.w3.org/2001/XMLSchema</a>»<br>
 xmlns:xsi=«<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=">www.w3.org/2001/XMLSchema-instance</a>»<br>
 base="/TestWeb"<br>
 ib=«Srvr=IP_addres;Ref=TestWebServ»&gt;<br>
 &lt;standardOdata enable=«false»<br>
 reuseSessions=«autouse»<br>
 sessionMaxAge=«20»<br>
 poolSize=«10»<br>
 poolTimeout=«5»/&gt;<br>
<code> <b>   <br>
 #       -<br>
 &lt;point name="WebBuh" #  -   <br>
 alias="Web_buh.1cws" # Web_buh.1cws -  -  <br>
 enable="true" #       <br>
 reuseSessions="autouse"<br>
 sessionMaxAge="20"<br>
 poolSize="10"<br>
 poolTimeout="5"/&gt;<br>
 &lt;point name="TopLog" #   <br>
 alias="toplog.1cws" # toplog.1cws<br>
 enable="true"<br>
 reuseSessions="autouse"<br>
 sessionMaxAge="20"<br>
 poolSize="10"<br>
 poolTimeout="5"/&gt;<br>
 </b></code><br>
</blockquote><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
セーブ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そして今、私たちのウェブサービスはアドレス「http：//AddressServer/Test/Web_buh.1cws？」で利用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
なぜあなたはそれをあなたの手でやらなければならなかったのですか？</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私たちのサーバーにはグラフィカルシェルがないため、サーバー上でコンフィギュレーターを実行すると、標準ツールを使用した公開が失敗します。</font><font style="vertical-align: inherit;">クライアント上にあるリモートコンフィギュレーターは、サーバー上にWebサービスを公開しません。</font><font style="vertical-align: inherit;">したがって、上記のテンプレートに従って手動で設定を編集する必要があります。</font></font><br>
<br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スクリプトは.vrd生成する</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -のおかげ</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TihonVを</font></font></a></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja462955/index.html">フィールドスタッフのトレーニングと認定のデジタル変換</a></li>
<li><a href="../ja462957/index.html">長所と短所：.orgの価格しきい値は引き続きキャンセルされます</a></li>
<li><a href="../ja462959/index.html">オンラインチェックの自然言語処理：普通の猫やその他の問題に対する一連の魔法のレッスン</a></li>
<li><a href="../ja462961/index.html">データサイエンスダイジェスト（2019年8月）</a></li>
<li><a href="../ja462963/index.html">ReactでContext APIを使用してグローバルアプリケーションテーマを作成する</a></li>
<li><a href="../ja462967/index.html">多数の小さなファイルを操作するときのハック</a></li>
<li><a href="../ja462969/index.html">カザフスタン当局が証明書の導入で彼らの失敗を隠そうとしている方法</a></li>
<li><a href="../ja462971/index.html">JavaScriptで変数のlet宣言と結果のクロージャーの機能を使用する</a></li>
<li><a href="../ja462977/index.html">RPAとBluePrismでルーチンのHRプロセスをスピードアップ</a></li>
<li><a href="../ja462979/index.html">研修生のためのチートシート：Googleの面接でのタスクの段階的なソリューション</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>