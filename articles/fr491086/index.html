<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🐡 🧀 🔭 Bibliothèque JavaScript Webix vue par un débutant. Partie 6. Interaction avec le serveur ✌🏻 🕺🏾 🎰</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Je suis un développeur front-end débutant. Maintenant, j'étudie et je m'entraîne dans une entreprise informatique de Minsk. L'apprentissage des bases ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Bibliothèque JavaScript Webix vue par un débutant. Partie 6. Interaction avec le serveur</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/491086/"><img src="https://habrastorage.org/webt/es/ow/pa/esowpal6eynorjialdk4xd4ns_e.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je suis un développeur front-end débutant. </font><font style="vertical-align: inherit;">Maintenant, j'étudie et je m'entraîne dans une entreprise informatique de Minsk. </font><font style="vertical-align: inherit;">L'apprentissage des bases de web-ui s'effectue à l'aide de la bibliothèque Webix JS à titre d'exemple. </font><font style="vertical-align: inherit;">Je veux partager ma modeste expérience et l'enregistrer en tant que petit tutoriel sur cette intéressante bibliothèque d'interface utilisateur.</font></font><a name="habracut"></a><br>
<br>
<h4><font color="#663375"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SIXIÈME PROBLÈME</font></font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Webix est une bibliothèque JavaScript dans laquelle les opérations se produisent principalement côté client, et ce n'est qu'ensuite que le résultat est envoyé au serveur si les données doivent être enregistrées. </font><font style="vertical-align: inherit;">Il n'y a pas d'exigences strictes pour le backend ici. </font><font style="vertical-align: inherit;">Peu importe les données traitées sur le serveur, l'essentiel est qu'il accepte les demandes d'un certain format et donne la réponse sous la bonne forme. </font><font style="vertical-align: inherit;">Tout ce qui est requis du développeur est de connecter le serveur et de travailler avec des requêtes simples, étant donné que le projet n'a pas de paramètres utilisateur complexes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considérez les tâches suivantes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">connecter le côté serveur de l'application;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthodes de demande du serveur;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">comment suivre le résultat du téléchargement;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comment suivre le résultat de l'enregistrement.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'article utilise le widget </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Table</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , qui est décrit en détail dans la documentation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les sources pour travailler avec l'article se trouvent </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'application terminée peut être trouvée </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connexion côté serveur de l'application</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voici un exemple basé sur le widget Table. </font><font style="vertical-align: inherit;">La structure source a maintenant changé la structure de l'application. </font><font style="vertical-align: inherit;">Auparavant, c'était un fichier index.html ordinaire avec des fichiers js connectés. </font><font style="vertical-align: inherit;">Maintenant, deux dossiers ont été ajoutés - le backend, avec un simple script de serveur sur nodeJS et le dossier de l'application, où se trouve tout le code client écrit. </font><font style="vertical-align: inherit;">Les opérations du serveur pour chaque widget sont décrites dans des fichiers séparés. </font><font style="vertical-align: inherit;">Pour le widget Table, il s'agit du fichier films.js.</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le code du widget Table est situé dans le fichier table.js du dossier de l'application et rendu dans l'onglet «Dashboard».</font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tout d'abord, exécutez l'application sur le serveur local. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ouvrez la ligne de commande du dossier avec l'application et entrez séquentiellement les commandes suivantes:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">npm installer </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
npm exécuter le serveur</font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Après cela, l'entrée suivante apparaîtra dans le terminal:</font></font><br>
<blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Le serveur fonctionne sur le port 3000 ... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ouvrir l' </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hôte local</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : 3000 / app dans le navigateur</font></font><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">L'adresse / le lien spécifié est ouvert dans le navigateur. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le script serveur auquel le widget Table accédera prendra en charge toutes les opérations de base de crud. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">charger des données</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dans une table, spécifiez le chemin d'accès au script dans sa propriété url.</font></font><br>
<br>
<pre><code class="javascript hljs">url: <span class="hljs-string">"/samples/server/films"</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour envoyer des demandes de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sauvegarde</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - le chemin d'accès au script est spécifié dans la propriété save. </font><font style="vertical-align: inherit;">Le chemin sera le même que dans l'url, uniquement avec le préfixe de repos. </font><font style="vertical-align: inherit;">Nous parlerons de repos ci-dessous.</font></font><br>
<br>
<pre><code class="javascript hljs">save:<span class="hljs-string">"rest-&gt;/samples/server/films"</span>
</code></pre><br>
<h3>   </h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les méthodes de requête déterminent ce que nous voulons faire avec la ressource. Par défaut, Webix utilise les méthodes GET et POST, mais nous utiliserons l'API RESTful et toutes les méthodes adaptées à nos opérations de données: GET, POST, PUT et DELETE. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Avec le préfixe de </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">repos</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> déjà défini dans le paramètre de sauvegarde, toutes les demandes seront envoyées via le </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">proxy</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> prêt à l'emploi correspondant </font><font style="vertical-align: inherit;">. Le proxy de repos coordonne la méthode de demande avec le type d'opération que nous avons effectué sur le client. Il existe plusieurs proxys prêts à l'emploi pour certaines tâches; si nécessaire, vous pouvez créer des proxys personnalisés. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous suivrons les demandes en utilisant l'exemple du widget Table. Pour ce faire, dans le navigateur, accédez à DevTools-&gt; Réseau et recherchez des informations sur la demande souhaitée. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour charger des données dans une table, utilisez</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Méthode GET</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous actualiserons la page et cliquerons sur la demande de script </font></font><code>films</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par défaut, il n'y aura pas de paramètres dans cette requête, car il s'agit du premier chargement de données dans le composant. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Par conséquent, le serveur renvoie un tableau JSON avec toutes les données. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Résultat d'une requête GET: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/yu/jo/mt/yujomttyzaw-tkreljwhvedjgou.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">méthode POST est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisée pour créer un nouvel enregistrement dans la table </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
À l'aide du formulaire, ajoutez de nouvelles données au tableau. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les données de demande seront les données suivantes: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ta/7o/vq/ta7ovqkvjaxztknrzivp_5y0tpk.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Lors de l'ajout d'un enregistrement au serveur, l'identifiant qui lui est attribué doit impérativement venir:</font></font><br>
<br>
<pre><code class="javascript hljs">{ <span class="hljs-string">"id"</span>:<span class="hljs-string">"ImurRuK1k59qzy2f"</span> }
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ceci est nécessaire pour ne pas perdre la connexion entre les données sur le serveur / client. Le même identifiant sera désormais utilisé sur le client. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour modifier les données dans les lignes, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la méthode PUT est</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> utilisée </font><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous sélectionnons la première ligne du tableau - les données de celle-ci apparaîtront dans le formulaire. Ensuite, nous les changerons et économiserons. L'enregistrement entier (objet de données) ira au serveur avec nos modifications. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/lx/dd/1z/lxdd1ztk8fhg2isnr0uy4ijoeh4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La réponse du serveur ne doit pas contenir d'état spécifique (un objet vide peut également être la réponse, comme indiqué ci-dessous), mais dans notre cas, le serveur renverra le JSON suivant:</font></font><br>
<br>
<pre><code class="javascript hljs">{ <span class="hljs-attr">status</span>: “updated” }
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour supprimer des données, utilisez </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">la méthode DELETE</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Supprimez la première ligne en cliquant sur la croix. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, la chaîne entière sera les paramètres transmis au serveur. </font><font style="vertical-align: inherit;">L'essentiel dans les paramètres est l'id de l'enregistrement à supprimer sur le serveur. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/hi/rn/kt/hirnkt1-et-uf8oeeotbsjx68x8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le serveur retournera un objet vide, car une confirmation spéciale d'une telle opération n'est pas nécessaire.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suivre le résultat du téléchargement</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Considérons une situation où nous devons calculer le nombre d'enregistrements chargés dans une table et l'afficher sous forme de message. </font><font style="vertical-align: inherit;">Pour ce faire, utilisez le gestionnaire </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prêt</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le gestionnaire </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">prêt</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est appelé immédiatement après l'arrivée des premières données dans le composant et une seule fois. </font><font style="vertical-align: inherit;">À l'intérieur du gestionnaire, nous plaçons la fonction </font></font><code>webix.message()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">appelant la méthode </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">count</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Après l'avoir appelé, un message apparaîtra dans le coin supérieur droit de l'écran </font></font><code>“Loaded 250 records!”</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">const</span> table = {
<span class="hljs-comment">// code the widget Table</span><font></font>
    ready(){<font></font>
        webix.message({<font></font>
            <span class="hljs-attr">text</span>:<span class="hljs-string">`Loaded <span class="hljs-subst">${<span class="hljs-keyword">this</span>.count()}</span> records!`</span>, 
            <span class="hljs-attr">type</span>:<span class="hljs-string">"success"</span><font></font>
        });<font></font>
    }<font></font>
}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Moment de chargement des données: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/tl/pv/ly/tlpvlyj93bwzua4kwbyfyj1nl7s.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
dans le cas où une erreur s'est produite lors du chargement des données, l'événement </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onLoadError</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> se </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">déclenche</font></a><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="javascript hljs">$$(<span class="hljs-string">"datatable"</span>).attachEvent(<span class="hljs-string">"onLoadError"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">xhr</span>)</span>{<font></font>
    webix.message(<span class="hljs-string">"Error!"</span>);<font></font>
});<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Suivi des résultats de sauvegarde</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vous pouvez obtenir la réponse du serveur lors de l'enregistrement par des opérations telles que l'ajout, la modification et la suppression. Prenons l'exemple du widget Table. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pour cela, le module </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DataProcessor</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">utilisé</font></a><font style="vertical-align: inherit;"> pour interagir avec le serveur. L'API de ce module peut être utilisée pour affiner le stockage des données. Nous avons seulement besoin de suivre le moment de l'enregistrement - par conséquent, nous utilisons l'un de ses événements - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">onAfterSync</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le paramètre DataProcessor est accessible par le paramètre. </font></font><code>webix.dp(id)</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'événement onAfterSync est déclenché lorsque la réponse du serveur est reçue et traitée. Pour cet événement, affichez un message via </font></font><code>webix.message()</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. Après l'enregistrement, le message - apparaîtra dans le coin supérieur droit </font></font><code>“Saved!”</code><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nous supprimons la première ligne du tableau et examinons le résultat.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hs/4y/yi/hs4yyi2s1bwb0stgbpstlgij8ps.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Code d'événement dans le fichier script.js après l'initialisation de webix: </font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">let</span> dp = webix.dp($$(<span class="hljs-string">"film_list"</span>));<font></font>
dp.attachEvent(<span class="hljs-string">'onAfterSync'</span>, () =&gt; {<font></font>
    webix.message({<font></font>
        <span class="hljs-attr">text</span>:<span class="hljs-string">"Saved!"</span>,
        <span class="hljs-attr">type</span>:<span class="hljs-string">"success"</span><font></font>
    })<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dans ce cas, des erreurs peuvent être </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">détectées</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> avec l'événement </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">onAfterSaveError</font></a><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<pre><code class="javascript hljs">dp.attachEvent(<span class="hljs-string">"onAfterSaveError"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">id, status, response, details</span>)</span>{<font></font>
    webix.message(<span class="hljs-string">"Error!"</span>);<font></font>
});<font></font>
</code></pre><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Généralisation</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
En utilisant les opérations CRUD, nous avons compris comment interagir avec le côté serveur de l'application. </font><font style="vertical-align: inherit;">Nous avons examiné un ensemble standard de méthodes de requête et comment intercepter les données de chargement et d'enregistrement. </font><font style="vertical-align: inherit;">Les exemples présentés dans l'article sont disponibles non seulement pour le widget Table, mais aussi pour List. </font><font style="vertical-align: inherit;">Vous pouvez l'essayer vous-même dans les codes sources indiqués au tout début. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Le code de l'application terminée peut être trouvé </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ici</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr491056/index.html">Ampere Altra - le premier processeur ARM 80 cœurs au monde</a></li>
<li><a href="../fr491058/index.html">Mortalité, mortalité, coronavirus et matan</a></li>
<li><a href="../fr491062/index.html">Angulaire: création d'un élément de formulaire personnalisé et passage de l'état du formulaire</a></li>
<li><a href="../fr491076/index.html">Travail intelligent avec RabbitMQ dans NestJS</a></li>
<li><a href="../fr491084/index.html">saneex.c: essayez / catch / finalement basé sur setjmp / longjmp (C99) plus rapidement que les exceptions C ++ standard ¹</a></li>
<li><a href="../fr491088/index.html">GitHub: nouvelle bibliothèque Open Source pour OSINT</a></li>
<li><a href="../fr491090/index.html">Convertir des documents texte en xml en C #</a></li>
<li><a href="../fr491092/index.html">Comment Crash Bandicoot a piraté Playstation</a></li>
<li><a href="../fr491094/index.html">Installation de Firebird 3 sur les versions Linux modernes: CentOS8 et Ubuntu 19</a></li>
<li><a href="../fr491100/index.html">Sur Wanhao 5S, ils ont imprimé une poupée avec une taille d'une personne</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>