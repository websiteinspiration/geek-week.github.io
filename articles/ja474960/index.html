<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>👋🏻 👚 👆🏿 NESのデモを開発する-HEOHdemo 😐 🎓 🥞</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="デモパティとしても知られるコンピュータアートフェスティバルの歴史は、四半世紀にわたってわが国にあります。全国から集まった人々が集まり、古いコンピュータや最新のコンピュータや超少量のコードから不可能を抽出するための練習を披露します。最初の5年間で、1999年から2003年にカザンで開催されたCAFe（...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>NESのデモを開発する-HEOHdemo</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/474960/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デモパティとしても知られるコンピュータアートフェスティバルの歴史は、四半世紀にわたってわが国にあります。全国から集まった人々が集まり、古いコンピュータや最新のコンピュータや超少量のコードから不可能を抽出するための練習を披露します。最初の5年間で</font><font style="vertical-align: inherit;">、1999年から2003年にカザンで開催された</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAFe</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（突然、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コンピュータアートフェスティバル</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">は、国の主要な民主主義国の1つになりました</font><font style="vertical-align: inherit;">。その後、彼は長い間レーダーから姿を消し、より有名な</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カオス建設</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font><i><font style="vertical-align: inherit;">ディハルトに</font></i><font style="vertical-align: inherit;">手のひらを与えました</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、そして今年だけ、彼の非常に勝利を収めた復帰が行われました-イベントの規模ではなく、さまざまな作品の数によって、その展示は午前6時まで続きました。その中には私の物があり、その作成についてはこの記事で説明します。</font></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/338r2BRYg3A" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デモシーンでは、私はアクティブな参加者よりも同情的です。</font><font style="vertical-align: inherit;">私の主な関心は、レトロゲームとサウンドソフトウェアの開発です。</font><font style="vertical-align: inherit;">以前、私は条件付きで完全な</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デモを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 1つだけ作成し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ました</font></a><font style="vertical-align: inherit;">。これはシーンのミームになり、さまざまなプラットフォーム用の約12の小さなイントロになります。</font><font style="vertical-align: inherit;">事前に作者の個人的な動機付けを最初に遠隔で、相互の友人を通じて、次に個人的な会議で始めていた</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAFe</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">主催</font><font style="vertical-align: inherit;">者は、結局、フルレングスのデモカテゴリで初めて本格的な作品を作成するように動機付けられました。</font><font style="vertical-align: inherit;">偶然にも、最も人気のない別のプラットフォーム- </font><font style="vertical-align: inherit;">ダンディの名前で最も知られて</font><font style="vertical-align: inherit;">いる</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> / </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファミコン</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゲームコンソール</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">企画</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初は、長い間考えられていた別のより人気のある8ビットプラットフォーム用のデモを作成する予定でした。しかし、その実施には、かなりの量の研究作業を実施する必要がありました。つまり、タイミング、アイデアの基本的な実現可能性、または可能な結果の質のいずれも理解されていませんでした。したがって、特定のアクションは非常にゆっくりと行われました。締め切りが大幅になくなり始め、参加の約束を守りたい場合は、実装においてより予測可能な別のプロジェクトを選択することが急務であることが明らかになりました。 2番目のアイデア</font><font style="vertical-align: inherit;">を検討した後、やはり実験が必要な</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ワイルド</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カテゴリについては</font><font style="vertical-align: inherit;">、3年前に作成さ</font><font style="vertical-align: inherit;">れた</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NESの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">古いデモブランクに戻し</font><font style="vertical-align: inherit;">、その後</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">マルチマトグラフ</font></a><font style="vertical-align: inherit;">に戻すことにし</font><font style="vertical-align: inherit;">ました。</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。その結果、それら自体は実際には使用されませんでしたが、最終的に作業の方向が決定されました。</font><i><font style="vertical-align: inherit;">NESに</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
特化した作業を行う計画は</font><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">CAFe</font></i><font style="vertical-align: inherit;">が約3週間離れる</font><font style="vertical-align: inherit;">まで、ようやく10月初旬に承認されまし</font><font style="vertical-align: inherit;">た。プロジェクトフォルダは10月5日に作成されましたが、その前にいくつかの移動が行われました。</font><font style="vertical-align: inherit;">
解決する必要がある最初の質問は、単純なイントロではなく、大きなフォームを要求するためにデモの継続時間を十分なものにするために必要な効果（シーン）の数でした。この十分な期間を理解することも必要でした。</font><font style="vertical-align: inherit;">
このため、他のもののうち、上の選択したプラットフォームの現在のトップ作品</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Pouetを検討した</font></a><font style="vertical-align: inherit;">し、2つの最高のものを分析した- </font><i><font style="vertical-align: inherit;">期待</font></i><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br><font style="vertical-align: inherit;"></font><br><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ネスペクシー</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。同じ民主党への招待状である最後の1つは2018年12月にリリースされましたが、その瞬間まで、私はどういうわけか私の目を引きませんでした。最初は自分の将来の仕事にはもっと楽になるレベルだと思っていたので、最初はやややる気にさえなりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
分析の結果によると、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高い希望では</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">約6つの効果と2:45の期間があり、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NESPECCYでは</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">約11の効果と3:45の期間。これは、効果ごとに平均約25秒です。技術的に比較的複雑なのは3〜5のみで、残りは単純だがかなりフィラーであるという仮定に基づいて、平均して10〜15の効果で十分であることを示唆しました。単純なシーンの表示を遅延させないために、平均してエフェクトごとに約15秒、デモの合計時間は約2〜3分です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、各効果の作成に費やすことができる時間の計算が続きました。結局、1日半から2日で、音楽、グラフィックス、ある種のアイデアなど、他の多くの必要な作業は数えず、エフェクトを組み合わせる技術的な基礎を準備しているだけでした。そのようなスケジュールはあまり現実的に見えませんでしたが、私はできる限り多くの効果を生み出すことに決め、それぞれ2日間に収まるようにしました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このように、優先課題は決定されました-少なくともコンテストに参加するのに適した何かをする時間と、「説明する時間がない」スタイルの開発モード。これはまた開発日記を除外しました、そして今、あなたはあまり嘘をつかないようにして、記憶からイベントを回復しなければなりません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
そもそもその仕事をするという仕事は提起されなかった。</font><font style="vertical-align: inherit;">主なことは勝利ではなく、参加とそのすべてであり、一般的に主な勝利は自分より上です。</font><font style="vertical-align: inherit;">選択したカテゴリーの不人気の競争の結果に基づいて特別な予測を立てなかったため、かなり強力な作品のコンテストに参加した最悪の（最良の）場合は、鉱山がコンポフィラーになり、これも必要かつ重要であり、作品がない場合は、他の分野ですでに起こっているように、彼自身の中で勝者。</font><font style="vertical-align: inherit;">もちろん、私はまともな戦いに勝ちたいと思っていましたが、私自身は自分の作品を観客が最終的に見積もったものよりも低く評価しました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">コード</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
期限が設定された後、そのようなプロジェクトを提起する時間を持つために、不適切な完璧主義と連携し、最も技術的に進んだ、またはコンパクトなデモコードを作成しようとしないことが必要であることが明らかになりました。単純かつ高速であるほど、外部からの十分な効果を維持しながら、より優れています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
かなり強力で冗長な構成（</font><font style="vertical-align: inherit;">256 KBのROMコードと256 KBのグラフィックROMを備え</font><font style="vertical-align: inherit;">た</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MMC3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マッパー）を選択することを決定し</font><font style="vertical-align: inherit;">、その完全な可能性が未解決のままであることを心配しないでください。この構成は、既存の構成の中で最も高度なものではなく、さらに可能性があります</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。スーパーマリオブラザーズを</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はじめ、商用ゲームで広く使用されています</font><i><font style="vertical-align: inherit;">。 3</font></i><font style="vertical-align: inherit;">（1988）、ただし以前は</font><i><font style="vertical-align: inherit;">NES</font></i><font style="vertical-align: inherit;">のデモの作者</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より単純なマッパーと少ないメモリに制限されています。その結果、ROMコードのボリュームの80％が使用され、ROMグラフィックスのボリュームの3分の2未満が使用されました。過剰な量のメモリにより、データ圧縮の問題を解決するために余分な時間を無駄にすることがなくなりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発方法も明白でした。主にC言語で、必要に応じてアセンブラーを挿入し、主にビデオメモリ、割り込みハンドラー、音楽プレーヤーにコピーしました。私は長い間、このアプローチをレトロプラットフォームにうまく適用してきました。コードのプロトタイピングはローカルで実行できるため、開発時間を大幅に節約できます。最初にCで実装し、すぐに</font><i><font style="vertical-align: inherit;">NES</font></i><font style="vertical-align: inherit;">で動作させます。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結果、そしてそれが十分に速く動作しない場合は、必要な速度に達するまで、すでに準備されているテンプレートに従ってそれをパーツにアセンブラーにコピーします。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/tm/ii/gj/tmiigjgzmohxusl9gll2p7hqrqe.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、実際には多くの問題引き起こさなかった、メインの予想問題の一つは、メインRAMの量だった-で</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それは唯一の2キロバイトで、マッパーは、基本的にこの動きを許されたが、私の仕事で、私は、それを展開せずに行うことを決めました。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6502プロセッサ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">をベースとするシステムのメモリは、</font><font style="vertical-align: inherit;">8ビットの総容量を考慮して、256バイトのページと見なされることが多く、RAMの配分は次のようになります。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「高速」変数の1ページ。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ハードウェアスタックとパレットの1ページ（スタックの大部分は使用されません）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スプライトリストバッファー用の1ページ（ビデオコントローラーアーキテクチャの機能で必要）。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビデオメモリ更新のリストの1ページ。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ラスター効果のパラメーターのリストの1ページ。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後の2つは、プログラムでは256バイトの通常のunsigned char配列の形式で宣言され、一部の場所では他の目的にも再利用されます。</font><font style="vertical-align: inherit;">残りの3ページは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">cc65</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムスタック</font><font style="vertical-align: inherit;">、つまりCのグローバルおよびローカルプログラム変数の下に表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このようなプラットフォームでは、動的メモリ割り当て（malloc / free）は実際には使用されず、静的ソリューションが必要であったことに注意してください。最初は、できるだけ多くのローカル変数を使用する方法を採用しました。これにより、ソフトウェアスタックのメモリを自動的に再利用できるようになりました。しかし、ローカル変数の動作ははるかに遅く、その結果、グローバル変数に使用できるボリュームが不十分になり、同じ名前の変数を繰り返し使用して、この方法でコードを記述するのは不快でした。次に、以前は使用されなかったソリューションを適用しました。物理的に同じアドレスに配置された複数のRAMセグメントのリンカー構成の広告です。同じ効果内で使用される変数のグループは、これらのセグメントのコンパイラディレクティブを使用して配置されました。同じメモリを再利用できます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
別の問題-コードメモリバンクによるCプログラムコードの配布（</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は拡張メモリにページアドレス指定を使用します）-以前は他のプロジェクトで私が解決しており、問題は発生しませんでした。ページに配置するためのコードは、機能的に完了したセクションに対して16キロバイト（切り替え可能なメモリウィンドウのサイズ）に制限されており、overlayメソッドによって呼び出されます。目的のページが接続され、そこからのコードが処理され、実行はメインページに戻り、ページ間のメモリアクセスはできません。関数は、コンパイラディレクティブを使用して手動でバンクに割り当てられます。音楽プレーヤー、スプライト出力、割り込みハンドラーなど、プログラムのすべての部分で必要なコードは、サイズが16キロバイトの切り替えできないメモリウィンドウの上部にあります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最後の効果、マリオとの廊下で作業しているときに、面白いコンパイルエラーメッセージ、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ローカルラベルオーバーフローが発生しました</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">私が理解しているように、コンパイラは1つのオブジェクトモジュール内で生成されるローカルラベルの数に（内部的には65536）制限がありますが、共有メモリの管理を簡略化するために1つの共通モジュールを使用しました。</font><font style="vertical-align: inherit;">考えられる解決策の1つは、コードをいくつかのモジュールに分割することでしたが、Cのソースから定数の配列をアセンブラー部分（</font><font style="vertical-align: inherit;">外部ラベル付きの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incbin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）に移動した後、問題は</font><i><font style="vertical-align: inherit;">自動的に</font></i><font style="vertical-align: inherit;">解決され、制限を超えなくなり、追加した後でも数百行のコードでエラーメッセージが発生しなくなりました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">開発</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エフェクトの選択では、フル表示速度（毎秒60フレーム）で動作するシンプルで常にスムーズなものに制限する計画がありました。プラズマやズームローテーターなどの従来のデモ効果は、ビデオメモリへのアクセスに大きな制限があるセットトップボックスのアーキテクチャにうまく適合しないため、当初は考慮されていませんでした。これは、そのような効果がすべての栄光で繰り返し実装されるプラットフォームに比べると、見た目が悪くなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初に、表示されたラスターを使用した行ごとの操作に基づいて、3年前の計画に従って効果の大部分を作りたかった-ビームがラスターを通過するときに、各ラインの垂直および水平変位と表示されたグラフィックのバンクを変更した。このようなアプローチは、コードの1つの共通ブロックに基づいて機能し、開発時間を節約できますが、他の多くの研究で見られる効果は非常に均一で、非常に伝統的でもあります。さらに、この一般的なコードブロックのデバッグは困難でした。その結果、デモには、このタイプのエフェクトの1つである回転カートリッジしか含まれていませんでした。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
古いアイデアに基づいたいくつかの効果に取り組み、そのうちの1つは最終的にはカービィ効果になり、2つ目はデモには入りませんでしたが、個々の効果と一般的な概念の両方について頭に浮かんだすべてのアイデアを書き留めたテキストドキュメントを書き始めました。このリストには40を超える効果が含まれていますが、最終的な作業では15未満が実装されました。同時に、ほとんどの効果は種類の異なるアニメーションですが、それぞれのバリエーションは非常にユニークであり、さまざまなトリックを使用して、許容できるメモリ消費量と必要なスムーズな操作を保証しています。 。主な種類の効果が何かの回転であるということも偶然に起こりました。一種の概念的な統一が生じたので、原則として、これは良い偶然です。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
象とのイントロが構想され、私の前の作品のトピックに関するジョークとして作られました。その後、色のストライプと干渉によるエフェクトが行われました。あまり考えずに、ワーキングタイトル</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HEOHdemo</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は</font><font style="vertical-align: inherit;">、導入部からのジョークの続きとして</font><font style="vertical-align: inherit;">選択され</font><font style="vertical-align: inherit;">ました（HE IS NOT HE）。名前が表示されたシーンの実現に関しては、それまでに成功したアイデアはなく、アイデアを出す時間もなかったため、最終的に承認されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デモという名前での自発的な決定により、すべての作業の最終コンセプトが促され、最終的に締め切りの10日前に具体化されました。これは、文字、ロゴ、ゲームのシーンなど、認識可能なビデオゲーム素材やポップカルチャーの使用を意味していましたが、オリジナルを少し異なるように変更しました（「それらではない」など）。また、最初と最後のシーンからデモ全体にユーモアを広げ、引用された時代（90年代半ば）の精神にあるそれほど高くない技術レベルを補い、より広い聴衆にアピールすることも決定されました-結局のところ、古いゲームコンソールには独自のデモシーンと交差しておらず、テクノロジーについても非常に賢明ではありませんが、非常に多くの聴衆がいます同じころ、90年代の固有のデモ分割を個別の独立したシーンに使用することが決定されました。利用可能な時間で作成するのが簡単であり、これはその後、音楽の部分とそれとのエフェクトの同期に大きく役立ちました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vid、回転するロゴ、そして部分的に廊下にあるマリオのシーンのアイデアも、作業中に自然に生まれました。</font><font style="vertical-align: inherit;">それらは、一種の先延ばしとして、順番通りではなく、主な計画された効果が接着されるまで行われました。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アセンブリ</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当初、タイミングの最も長い時間は、紹介、タイトル、挨拶、および最終的なクレジットを伴うことは明らかでした。それらの作業は最初に行われたため、ある時点で、デモはすでに完全な開始と終了（最終リリースと同じ）であることが判明しましたが、1つだけが多かれ少なかれ準備ができていた中間点はほとんどありませんの効果。締め切りは間近に迫っていました。プロジェクトの作業は1時間のマラソンになり、可能な限りすべての時間を費やしました。計画に残っている影響は複雑さによって分類され、すべてのアイデアは可能な限り簡略化されました。スペースインベーダーが作られ、カートリッジの回転に関する問題が解決され、実装しやすいタワーがきしむ音（きしみ音）できしみました。エフェクトの準備が整ったので、それらの表示の順序が決定されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初は思ったよりも3倍の時間がかかり、締め切りの数日前には、まだ効果の半分も音楽もなかったので、うまくいかないという強い気持ちがありました。計画Bは、すでに別の民主党またはその外で作業を完了して展示することを検討しました。しかし、その後、より効果的な決定が行われました。緊急に、すでに存在するすべてのものを収集して仕上げ、少なくともリリースの準備が整った製品のいくつかの見栄えにして、完全に愚かであっても、これのためにいくつかの音楽を書き、その後まだ時間が残っている場合は、さらに効果を追加してみてください。最後の瞬間に追加されたそのようなシーンの中には、元のアイデアと比較して最も単純なバージョンのパックマンと回廊がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この組み立て方法により、デモの途中で顕著なエフェクトの一貫性が失われ、多くのシーン間で音楽が完全に変化しました。</font><font style="vertical-align: inherit;">しかし、それは多くの時間を節約するのに役立ちました、そして実際には、作業は締め切り前日のリリースのためにかなり準備ができていました。</font><font style="vertical-align: inherit;">この余分な時間は、すべての部分と音楽でさまざまな些細なことを仕上げるために費やされました。</font><font style="vertical-align: inherit;">特に、侵略者とヒキガエルが別の姿を見せたのはこの時でした。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デバッグ中</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
実際のハードウェアおよびハードウェア自体にデバッグ機能がないため、デモはエミュレーターでのみデバッグされました。主な作業は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FCEUX</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エミュレータ</font><font style="vertical-align: inherit;">でした。あまり正確ではありませんが、デバッガが優れており、起動が非常に速いため、「2、3行追加、起動、チェック」の開発方法で重要です。タイムクリティカルな効果もはるかに正確あまり便利でデバッグた</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mesen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">punes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nestopia</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デモ形式自体は、これまで誰も実行しなかったことをプラットフォームから取得したいという欲求を暗示するため、さまざまな極端なケースについての意見の相違を示すなど、エミュレータの正確さをテストします。 1つのエミュレーターで効果をデバッグしたら、他のエミュレーターでアーティファクトを取得できます。このため、また</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アーキテクチャの機能のために、</font><font style="vertical-align: inherit;">正確なタイミングに関連する多くの影響を何度も繰り返しデバッグする必要がありました。その結果、私は、デモ</font><font style="vertical-align: inherit;">に送信さ</font><font style="vertical-align: inherit;">れた人気の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FCEUX</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">エミュレーターでのクリーンな作業</font><font style="vertical-align: inherit;">、および他のすべてのエミュレーターでの通常の作業用に</font><font style="vertical-align: inherit;">デモをセットアップしました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デバッグ中に見つかった興味深いエラーのうち、回転ロゴのあるシーンに問題があり、エミュレーターでのみ発生しました</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メセン</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。当初、このエフェクトでは、大量のデータブロックをビデオメモリに転送するように促された碑文のすぐ下でレンダーがオフになり、次のフレームの開始までオンに戻りませんでした。これはすべてのエミュレータで正常に機能しましたが、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メセンでは、</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不可解なことに、飛ぶコインスプライトの表示が完全に正常に機能しなくなりました。転送後にレンダリングを有効にすると、この問題が修正されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デモ</font><font style="vertical-align: inherit;">はコンソールの</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NTSC</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョン</font><font style="vertical-align: inherit;">のみを直接サポートしています</font><i><font style="vertical-align: inherit;">。PALが</font></i><font style="vertical-align: inherit;">サポートされているためです。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">これにより、作業量とデバッグに費やされる時間が大幅に増加します。一部のエフェクトでは非常に異なる設定が必要です。デモの継続時間と音楽の速度を維持するには、2セットの音楽データを作成し、エフェクトを手動でダブルチューニングする必要があります。したがって、起動時にシステム決定が行われ、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PAL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョンが検出された</font><font style="vertical-align: inherit;">場合、</font><font style="vertical-align: inherit;">誤った操作の可能性について警告が発行されます。デモ自体は起動しますが、一部のエフェクトでは強力なアーティファクトで動作し、17％遅くなります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リリース後、一部の視聴者は、実際のさまざまなコンソール（American </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Famicom AV</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、さらには</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pegasus</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（</font><i><font style="vertical-align: inherit;">Dendy Classic 2の</font></i><font style="vertical-align: inherit;">アナログ）で</font><font style="vertical-align: inherit;">デモを実行しました</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ポーランド、チェコ共和国および他のいくつかの国で）。すべてのコンソールでデモはほとんど正常に動作しますが、一部のシーンでは視覚的な問題があり、最も興味深いことに、これらの問題は誰にとっても異なります。</font><font style="vertical-align: inherit;">実際の</font><i><font style="vertical-align: inherit;">MMC3を</font></i><font style="vertical-align: inherit;">備えた従来のカートリッジで発生した問題の数が最も少ないため、</font><font style="vertical-align: inherit;">それらのいくつかは、おそらく</font><font style="vertical-align: inherit;">人気のある</font><i><font style="vertical-align: inherit;">フラッシュ</font></i><font style="vertical-align: inherit;">カートリッジ</font><font style="vertical-align: inherit;">でのMMC3 </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">マッパーの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">実装が不十分であることに関連してい</font><font style="vertical-align: inherit;">ます。次に問題が少ない構成は</font><i><font style="vertical-align: inherit;">ペガサス</font></i><font style="vertical-align: inherit;">でした</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ただし、デモは原則として正常に機能しなかったはずですが、マリオのステージには小さなアーティファクトのみが表示されます。</font><font style="vertical-align: inherit;">驚いたことに、デバッグが最も難しく、タイミングが重要な効果-回転カートリッジ-は、どのテストアイロン構成でも安定して動作します。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ハードウェアで見つかった問題は重大ではなく、最終的に最終バージョンがリリースされ、そこで修正されます。</font><font style="vertical-align: inherit;">しかし、これについては、どの問題が具体的にデモコードに関連しているか、およびどのテスト構成の機能に関連しているかは不明です。</font><font style="vertical-align: inherit;">その後、取得した情報を使用して、エミュレーターと</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フラッシュ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カートリッジの</font><font style="vertical-align: inherit;">品質を向上させることができます</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">音楽</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
音楽の仕事は、プログラム「New Reality」からテーマを選択することから始まり、それを「Glory」と交差させようとします。このプロセスにはかなりの時間がかかりました。次に、AONは、2つの異なる高さの単純なぎくしゃくした信号の形でデモの最初の部分でドラムを作成するというアイデアにインスピレーションを与え、デモと呼ばれる効果のためにそのようなドラムを含む音楽の断片が大まかにスケッチされました。同じ断片が異なるアレンジで、あいさつ文の部分で、一般的な音楽テーマの類似として使用できるという考えも生まれました。ほとんどの場合、音楽に関する作業はそこで終わり、残りの部分は締め切りの2日前に書かれました。同時に、エフェクトと音楽素材の共同調整が行われました。</font><i><font style="vertical-align: inherit;">NES</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
サウンドシステムの適度な機能にもかかわらず</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、プラットフォームにはチップチューンのいくつかの伝統があり、それぞれに独自の認識可能なサウンドがあり、開発会社のサウンドを推測することができます。いくつかの実験の後、和風のアルペジオを使わないミックススタイルを選びましたが、ヨーロッパの伝統のシンセティックドラムを使っています。非常にパワフルで、サンプルチャンネルを使用する必要がありません。このチャネルは、ビームがラスターを通過する時間に関連する効果のデバッグを複雑にするコードのランタイムへの強い影響のため、デモには関与していません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
選択と実験は、ReaperでMIDIキーボードを使用して行われました。音楽は、人気の</font><i><font style="vertical-align: inherit;">FamiTracker</font></i><font style="vertical-align: inherit;">エディターで、現代的な開発のための伝統的な方法で直接書き込まれました。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。メロディーを作曲している間、アイデアの検索は、リーパーで発声されたMIDIキーボードでの即興演奏によって実行され、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FamiTracker</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は以前にプログラムされたリズムをループで演奏しました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_9/ey/on/_9eyonr2ehc6tms7pumjf6_suww.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
標準の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FamiTracker</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレーヤー</font><font style="vertical-align: inherit;">は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセッサーを非常に大幅に読み込み、</font><font style="vertical-align: inherit;">フレーム時間の5分の1を占め、代替プレーヤーは可能性を大幅に制限するため、低電力コンピューターのデモにはレジスタダンプクラシックを使用することを決定しました。カートリッジに十分なスペースがあり、圧縮せずに最も単純なフォーマットを省くことができました。ダンプの形成のためにユーティリティが作成され、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FamiTracker</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">から排出された「損失」</font><font style="vertical-align: inherit;">および</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NSF</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ファイルおよびすべてのレジスタ変更をバイナリファイルに書き込みます。</font><font style="vertical-align: inherit;">つまり、音楽プレーヤーのロジック全体がコンパイル段階に移行し、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">では</font><font style="vertical-align: inherit;">完全に準備ができたデータのみがサウンドジェネレーターに送信されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エフェクトとの同期を改善するために、マーカーも音楽データストリームに追加されています。</font><font style="vertical-align: inherit;">デモでは、タイトルと挨拶のあるシーンのフラッシュに使用されます。</font><font style="vertical-align: inherit;">マーカーは</font><font style="vertical-align: inherit;">、直接インストールレベルのDACチャネルサンプル用に設計さ</font><font style="vertical-align: inherit;">れた</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FamiTracker</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チーム</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zxx</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に直接インストールされます。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">解析効果</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">冒頭の碑文</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コードは古いプロジェクトから借りています。</font><font style="vertical-align: inherit;">線の表示部分は、さまざまなパレットを持つスプライトで表示され、背景にインプリントされます。</font><font style="vertical-align: inherit;">「実際の効果に基づいた」という銘文は、それ以上の効果はそうではないことを示唆しています。これは、デモでのアニメーションの受容性と役割についての絶え間ない議論についての冗談です。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">象と忍び寄るラインのイントロ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
エフェクトのアイデアは、ランニングラインからすぐに始まる短いインサートから本格的なシーンへと進化しました。</font><font style="vertical-align: inherit;">したがって、最初のキャラクターがデモに登場しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的には、シーンは非常にシンプルです。主な問題は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">グラフィックゲイルで</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">描画された</font><i><font style="vertical-align: inherit;">グラフィックを</font></i><font style="vertical-align: inherit;">マルチレイヤースプライトに</font><font style="vertical-align: inherit;">変換して</font><font style="vertical-align: inherit;">、非常に多くの色を提供することです（10）。</font><font style="vertical-align: inherit;">それぞれ独自のパレットを持つ4つのレイヤーのみ。</font><font style="vertical-align: inherit;">レイヤー</font><font style="vertical-align: inherit;">は個別に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES Screen Toolに</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">変換さ</font><font style="vertical-align: inherit;">れ、metaspriteエディターで共通のスプライトに手動でスタックされます。</font></font><br>
<img src="https://habrastorage.org/webt/17/du/6q/17du6q0j7ycr-12h2port8vl3fe.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">干渉</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
イントロの元のアイデアに干渉はありませんでしたが、同様の効果が原則的に計画されていたため、どこが最も適切であるかは不明でした。</font><font style="vertical-align: inherit;">それは最初の1つになり、その後のより複雑なエフェクトの開発の基礎として機能しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タイルセットには、PC上の単純なプログラムによって生成された、32タイルの異なる密度の8セットのノイズが含まれています。</font><font style="vertical-align: inherit;">それらはタイルマップの最初の8行に表示されます。</font><font style="vertical-align: inherit;">ラスターの7行ごとに起動するMMC3割り込みを使用して（同期のために1行が失われます）、タイルラインごとに、表示アドレスを大まかに設定することにより、バックグラウンドレイヤーのランダムオフセットが設定されます。</font><font style="vertical-align: inherit;">これにより、同じ密度の単純なノイズよりもリアルな干渉アニメーションを取得できます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/bp/hf/rg/bphfrggmjg8mugiw5ftm3e4egzq.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カラーストライプ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
デモ用に書かれた最初の本格的なエフェクト。実際、これは2つの部分で構成されています。最初にタイマーが表示され、現在のデモのタイミングが実際のデモのタイミングに近づいて表示されます。次に、効果がバンドの増加のアニメーションに切り替わります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タイマーは視覚的には非常にシンプルに見え、一見しただけではこれに気づくことはできませんが、プラットフォームのフレームワーク内では異常な動作をします。数値のサイズは12x16ピクセルですが、背景レイヤーは8x8タイルで構成されており、スプライトは画面幅の4分の1を超えることはできません。タイマーは3分の2を占めます。グリッドに収まらないフォントを表示する可能性を得るために、トリックが適用されました-00から99までのすべての数字のペアのグラフィックが準備され、重複を削除してタイルのセットに変換されたため、1.5タイルにフィットしました。タイマードロップエフェクトは、単純な垂直スクロールによって作成されます。カラーバーのグラフィックは単色の塗りなので、その動きは視覚的には表示されません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ja/df/cd/jadfcdjkmvbebxayxhljf7sesye.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
碑文が画面を離れると、干渉効果と同じMMC3割り込みハンドラーがオンになりますが、今回は、画面に表示されているすべての行でタイルマップの一番上の行を単純に複製するように構成されています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
縮小と拡大のアニメーションは、タイルマップの1行で行われます。つまり、32バイトのビデオメモリを更新するだけで済みます。</font><font style="vertical-align: inherit;">エフェクトには238フレームが含まれるため、アニメーションデータは最大7キロバイトになります。</font><font style="vertical-align: inherit;">効果の表示中のタイルのセットは変更されず、タイルの境界に該当しないバンドのすべての可能な色の遷移が含まれます。合計53です。色の遷移自体は手描きされ、ストリップアニメーションは、最初にバンドの目的のスケールのフレームを描画するより複雑なPCプログラムによって生成されます。次に、既製のセットから適切なタイルと属性を取得します。</font></font><br>
<img src="https://habrastorage.org/webt/el/6k/0k/el6k0kaduc7xipn96mj54w39u3k.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">題名</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初は、このシーンに同じ文字を装った他の2つのより複雑なエフェクトがあり、その結果、実装が簡単な3番目のオプションが選択されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アニメーションを簡単にするために、フォントは長方形になっています。各文字の基本的な高さは従来の5ピクセル、幅は4ピクセルです。文字の各行には5つの異なるピクセルの組み合わせがあります。ブレンダーは、5つの組み合わせすべてのエッジから平面までスムーズに回転するアニメーションを用意しています。フレームは1つのファイルに結合され、色は3色に減らされます。その後、画像が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES画面ツール</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">にインポートされました。</font><font style="vertical-align: inherit;">これにより、アニメーション自体に82タイルのセットとタイルマップが提供されました。実際、文字を異なる方向に回転させるために、2つのセットがあります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/gq/xs/wn/gqxswnend5wkbvqw3xea0i9l8zm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回転する文字はタイルマップに表示され、5つの必須のアニメーションストライプで構成されます。</font><font style="vertical-align: inherit;">一度に1文字のアニメーションしか表示されないため、顔の色を変更できるため、マルチカラーのように見せることができます。</font><font style="vertical-align: inherit;">画面の端に到着する文字はスプライトによって表示され、その座標と速度は手動で非常に正確に選択され、必要な滑らかさとオブジェクトの速度の変化を作成します。</font><font style="vertical-align: inherit;">スプライトが画面上の目的の場所に到達すると、背景レイヤーのアニメーションに置き換えられます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/9c/va/e_/9cvae_5fl8mhrfj7umgt_faqmhi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
異なる速度で飛ぶ水平ストライプは、割り込みハンドラー</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MMC3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">を介して作成されます</font><font style="vertical-align: inherit;">。今回は、タイルの各行の背景レイヤーの水平水平ピクセルオフセットを設定します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スペースインベーダーズ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
大きなピクセルの回転が特定の画像に集まるこの非常にシンプルなシーンのアイデアは、作品の最初に近づきました。同時に</font><font style="vertical-align: inherit;">、回転のアニメーションのいくつかのオプション</font><font style="vertical-align: inherit;">が</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gale</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で手動で描画され</font><font style="vertical-align: inherit;">ました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">シーン自体はかなり後に実現し、デモのコンセプトが最終的に確立され、そのアイデアはカルトキャラクターを示すように見えました。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/58/nv/ld/58nvldcfaj6upgcaap3x5fpbfsg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
タイルは、バックグラウンドレイヤーのビデオメモリに記録して出力されます。</font><font style="vertical-align: inherit;">星はスプライトで表示されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シーンの長期化は、音楽との同期によって、小節ごとのイメージで説明されます。</font><font style="vertical-align: inherit;">効果を示すための特別な時間はありませんでした、そして、考えずに、それは非常に退屈に見えないようでした。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回転ロゴ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
効果がないこととそれらを開発する時間があるため、私は数年前に書かれた小さなイントロを再利用することにしました。このイントロは、静的ロゴの周りを同じパスに沿って飛んでいきました。最近、私は再び</font><font style="vertical-align: inherit;">90年代後半に見落としてい</font><font style="vertical-align: inherit;">た</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">N64</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プレフィックスに興味を持ち、</font><font style="vertical-align: inherit;">他の効果に取り組む過程で、非常に簡単に実装できるように見える有名なロゴの回転のアニメーションが自発的に発想されました。これら2つの考えは一緒になりましたが、実装は予想より大幅に時間がかかりました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
シーンの主な技術的な複雑さは、そのようなスムーズで大きなアニメーションに必要なメモリ量の削減です。フレームを圧縮せずに保存すると、1つのフレームが4キロバイトセット1つを占有し（2つのフレームは256タイルに収まらないため）、256キロバイトのグラフィックROM、つまりデモボリュームで使用されるすべてのボリュームが必要になります。この問題を解決するために、3つのトリックが一度に適用されました。90度（64フレーム）だけ回転するアニメーションの後に、2つの顔の色が入れ替わります。 4つのフレームのグループを256タイルのセットに配置する不可逆グラフィック変換。また、ラスターの可視部分のビデオメモリを更新します。したがって、アニメーションの占有スペースは4分の1になります。</font><i><font style="vertical-align: inherit;">Blenderで</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
作られた文字モデルと回転アニメーション</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。その過程で、アイデアはそれを反映するようになり、それはデモの概念に対応し、それは面白いように見えました-シーンは「そして、そして、そして、そして、そして、そしてなしで」と言うように見えました。アニメーションフレームがグループ化され、色深度が4に削減され、これらの画像は</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES画面ツールの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不可逆インポート機能によって変換され</font><font style="vertical-align: inherit;">ます。この関数はおそらく私の主な秘密兵器です。圧縮中にタイルの制限を超えた場合、最も類似した視覚的なタイルを検索し、必要なタイル数が残るまでそれらを結合します。もちろん、これにより視覚的な変換のアーティファクトが発生し、その後手動で調整する必要がありますが、制限に労力をかけることなく、より複雑な画像を圧縮することができます。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ar/iu/to/ariutocxeivq50tx_frpvh2zfxu.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ロゴのアニメーションでは、タイルのセットが切り替えられ、背景タイルマップの14 x 14タイルのウィンドウが更新されます。これには、テキスト行の前にトリガーされるMMC3割り込みが使用されます。</font><font style="vertical-align: inherit;">また、グラフィックセットをフォントに切り替える必要があります。その後、銘柄の行が表示されるまでコードに遅延が生じ、その後、ディスプレイがオフになり（背景色が常に表示されます）、データがビデオメモリに転送されます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
コインはスプライトによって表示され、多かれ少なかれ正直に計算された（固定小数点を使用して）パスに沿って飛行します。</font><font style="vertical-align: inherit;">古いコードは修正されており、可能であれば大きなロゴと交差することなく回転が進行するようになり、適切なタイミングでコインが徐々に現れたり消えたりするようになりました。</font><font style="vertical-align: inherit;">それらは、各スプライトにある優先フラグを使用して、ロゴのグラフィックスを超えています。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">回転カートリッジ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
効果の実装は非常に単純ですが、長いデバッグが必要でした。割り込みハンドラは、目的のラインでラスター効果を起動します（メインスレッドに時間を残すため）。次に、非常に正確にタイミングが選択されたコードが実行され、画面の各行に表示されるタイルマップのピクセルごとの垂直オフセットが設定されます。これには、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PPU</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レジスタに書き込むための非常にトリッキーなスキームが</font><font style="vertical-align: inherit;">必要であり、それらの一部は、ライン上の特定の場所に正確に該当する必要があります。</font><font style="vertical-align: inherit;">セットトップボックス</font><font style="vertical-align: inherit;">の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NTSC</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">バージョンでは、プロセッサのクロック速度とピクセル繰り返し率は倍数ではなく、コードの実行時間はいくつかの要因によってわずかに異なる場合があるため、各ラインのタイミングは徐々に変動し、修正が必要になります。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このシーンのグラフィックの主要部分は、数年前に</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NESの</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">デモを作成する以前の試みのために描かれました</font><font style="vertical-align: inherit;">が、現在では、カートリッジの他の面とデモのロゴが追加されています。</font><font style="vertical-align: inherit;">元の画像は1つの画面に高さで積み重ねられます。</font><font style="vertical-align: inherit;">エフェクトコードを簡略化するために、カートリッジの背面に同じ行が複数回複製されています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/x8/in/3u/x8in3uasevydgdsbn2knytfzseq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
回転アニメーションは、事前にPCプログラムを使用して完全に計算され、かなりの量のROMコードを消費します。それぞれ16キロバイトの3つのバンクで、アニメーションの256フレームごとに、176個の表示されたラスターラインにテーブルが格納されます。</font><font style="vertical-align: inherit;">リアルタイムで効果を出すことは可能でした。別のプラットフォームですでに同様のデモを行いましたが、この場合、十分な空きメモリがあり、余分な時間はありませんでした。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">パックマン</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当初はより複雑なシーンが計画されていましたが、時間がないため、彼女は音楽が変わったときのシーンの内訳という形で、最もミニマルなバージョンでデモに参加しました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
主な問題は、アニメーションをすばやく作成する方法を見つけることでした。最初、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Blender</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">や他のグラフィックプログラムを</font><font style="vertical-align: inherit;">再び使用するというアイデアが</font><i><font style="vertical-align: inherit;">浮かび上がり</font></i><font style="vertical-align: inherit;">ました</font><font style="vertical-align: inherit;">。しかし、最初の試行といくつかの計算の後、完全に閉じた位置から完全に開いた位置に口を開くアニメーションの8フレームのみで十分であり、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゲイル</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で手動で描画する方がはるかに簡単で高速であることが明らかになりました</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、PC用のプログラムが作成され、完全なアニメーションサイクルの一連のフレームを取得して、タイル間で変化したフレームを見つけました。</font><font style="vertical-align: inherit;">ビデオメモリのタイルマップにあるこれらのタイルのアドレスは、可変長リストとして保存されます。デモの効果は、これらのリストの変更されたセクションを更新するだけです。</font><font style="vertical-align: inherit;">すべてのフレームのグラフィックは1つのタイルセットに収まり、エフェクト中に変更されません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vd/q6/au/vdq6au_yo_kcamlr_axpg3mki5k.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カービィ</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
この効果は、私の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">古い</font></font></a> <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Catrix </font></font></i><font style="vertical-align: inherit;"><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">画像で</font></a><font style="vertical-align: inherit;">デバッグされました</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">猫の顔の画像を、チェシャ猫と一緒に別の絵に変えるという計画がありました。</font><font style="vertical-align: inherit;">ゲームキャラクターをデモに追加するというアイデアが浮かんだとき、短い選挙の後、2つの新しいフルスクリーン写真を描くことが急務でした-カービィを撮って「チェシャー」バージョンにすることが決定されました。</font><font style="vertical-align: inherit;">プロセスで画像を変更する効果は、短いフリッカーに単純化されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
画像の動くブロックはスプライトとして表示され、正しい場所に到達するとタイルマップに刻印されます。</font><font style="vertical-align: inherit;">同様に、ブロック削除が発生します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タワー</font></font></h3><br><font style="vertical-align: inherit;"></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Battletoads</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ゲームの最終レベルの効果はいつも気に入っていたので、</font><i><font style="vertical-align: inherit;">もう一度</font></i><font style="vertical-align: inherit;">繰り返したいと思っていました。デモでは、彼は挨拶でシーンのある場所に来ました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
技術的な部分は非常に単純です。これは、背景レイヤーの通常の垂直スクロールです。回転効果はタイルのグラフィックのアニメーションによって実現されますが、タイルのマップは変更されません。アニメーションには、</font><font style="vertical-align: inherit;">4つの切り替え可能な</font><i><font style="vertical-align: inherit;">CHR</font></i><font style="vertical-align: inherit;">ウィンドウを備えた</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MMC3</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">モード</font><font style="vertical-align: inherit;">が使用され</font><font style="vertical-align: inherit;">ます。最初のウィンドウには静的な部分のタイルが含まれ、他の3つのウィンドウは異なる速度で切り替わります。ウィンドウの1つでも、アニメーションの方向がスムーズに変わります。 64個のタイルが各ウィンドウに配置され、アニメーション化された要素は28個のみを必要とするため、タイルのグラフィックスは各ウィンドウで複製され、反対方向のアニメーションを受け取ります。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"></font><br>
<br>
<img src="https://habrastorage.org/webt/xf/pd/x2/xfpdx2ueqnid-jkhnpc2lr-7mke.png">&nbsp;&nbsp;<img src="https://habrastorage.org/webt/qm/dj/f_/qmdjf_ixlpbx3eiwc9_li-u5ndc.png">&nbsp;&nbsp;<img src="https://habrastorage.org/webt/y2/z2/ed/y2z2edauh83qgvyleevszwn9pic.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
効果を実現する上での主な問題は、アニメーションの準備でした。これはPC上のプログラムによって実行され、入力で各ピクセル列の16x16テクスチャと速度テーブルを受け取り、256タイルのセットの形式でアニメーションの16フレームのブロックを生成します（一部は空です）。セットは、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES Screen Tool</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">で目的の形式に変換され</font><font style="vertical-align: inherit;">、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">incbin</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アセンブラ</font><font style="vertical-align: inherit;">ディレクティブのオプションを通じて、目的のオフセットでROMグラフィックスのバンクに配布されます</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
挨拶に関するもう1つの重要なタスクは、挨拶をしたいすべての人に渡すことを忘れないことでした。</font><font style="vertical-align: inherit;">この数は無限になる傾向があるため、過度に長いシーンは退屈に見えます。</font><font style="vertical-align: inherit;">私は自分が1年間渡ってきた人だけに限定することにしました。</font><font style="vertical-align: inherit;">彼らが頭に浮かんだように、テキストファイルに収集された名前。</font><font style="vertical-align: inherit;">もちろん、仕事を終えた後、私はまだ多くの人に言及するのを忘れていました。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">廊下</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
クラシックなトンネルのような、遠近感のあるシーンを作りたいという想いがありました。古典的なトンネルや本物の</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wolfenstein 3D</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">レーキスターは、複雑さのために姿を消しました。さらに、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NESには</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">すでにテクスチャを含むいくつかの本物のラカスターがありますが、速度が非常に遅いため、それらはすべてそれほど印象的に見えません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私は初期のゲームの疑似3次元グラフィックスに非常に興味があり、古い開発の中には</font><font style="vertical-align: inherit;">、</font><i><font style="vertical-align: inherit;">ZXスペクトラムの</font></i></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ジグザグ</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ゲームに触発された、ターンのスムーズなアニメーションを備えたスプライトコリドーがすでにありました。</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。使うことにしました。抽象廊下自体はあまり面白くないので、マリオとトイレのユーモアのあるシーンの内部プロットが発明され、全体としてデモと同様に論理的に完成しました。シーンは最後に作成され、ブランクを使用したにもかかわらず、計画中の準備作業を考慮せずに、11時間以上連続して作業が行われました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Galeでは、すべてのモーションフレームが手動でトレースされます。これはデモでは唯一の効果であり、毎秒60フレーム未満の速度で動作しますが、その速度で問題なく動作できます。視覚的な読みやすさと廊下に沿って投げている間の音楽との同期の理由から、時間のない準備のために中間の移動フェーズを追加する代わりに、画面のリフレッシュレートは1秒あたり30フレームに制限されていました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
グラフィックフレームは2セットのタイルを使用しました。</font><font style="vertical-align: inherit;">アニメーションの必要な瞬間に、背景レイヤーが更新され、目的のグラフィックスのセットが接続され、2つのカラーが2つのパレット（画面の上半分と下半分用）に設定されます。これは、90度回転すると壁の色が変わるためです。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
アニメーションタイルカードは、ROMの2つのプラグイン下位バンクの1つから固定バンクのコードによってRAMに最初にコピーされます。</font><font style="vertical-align: inherit;">エフェクトの表示されたウィンドウのすぐ下にあるラスターの表示中、レンダリングはオフになり、データはRAMからビデオメモリに転送されます。</font><font style="vertical-align: inherit;">レンダリングをオフにすると、マリオスプライトのビジュアルクリッピングの下限としても機能します。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">キャプション</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
このシーンは、古いプロジェクトの1つからのコードに基づく、カラーバーに続く最初のシーンの1つでした。最後に、すでに2つのフォント、異なるパレット、スローダウンをサポートしていました。デモでは、どこでも使用される新しいフォントが描画され、画面の端に効果が追加されました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初はエッジを滑らかに暗くしたかったのですが、予備的な実験の過程で、水平ラインオフセットのオプションを試しましたが、結果が気に入ったので、余分な時間を費やさないことにしました。議論の余地のある</font><i><font style="vertical-align: inherit;">NES</font></i><font style="vertical-align: inherit;">ビデオ</font><i><font style="vertical-align: inherit;">コントローラの</font></i><font style="vertical-align: inherit;">機能で追加されたわずかなシェーディング</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">、ゲインミュートカラーコンポーネント。</font><font style="vertical-align: inherit;">論争は、この機能が異なる地域のバージョンやセットトップボックスのクローンで異なる動作をするという事実にありますが、このアプリケーションでは特別な問題はありません（いわゆる</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RGB PPU</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">はカウントされず</font><font style="vertical-align: inherit;">、エッジが白で塗りつぶされます）。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見る</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
キャプションシーンが作成された頃、このシーンのアイデアが自発的に生まれました。最初のアイデアはランダムに挿入することでしたが、最終的にはエンディングにうまく収まりました。期間が短いにもかかわらず、シーンは3つの要素で構成されています。スプライトのスケーリングのシミュレーション、2つのフレームを交互に配置することでグレーのシェードの数を増やし、プログラムで</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DPCM</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンプルを</font><font style="vertical-align: inherit;">再生し</font><font style="vertical-align: inherit;">ます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
スケーリングをシミュレートするために、</font><i><font style="vertical-align: inherit;">NES</font></i><font style="vertical-align: inherit;">上のすべての大きなスプライトが適用されるという事実</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">小さなもの、この場合は8x16のサイズで構成されています。それらを互いに相対的にシフトすると、スケーリングまたは歪みの効果を得ることができます。これは、変更の小さな値でかなりまともに見えます。この効果を得るには、中心からの各スプライトのオフセットにスケールを掛ける必要がありますが、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プロセッサ</font><font style="vertical-align: inherit;">は多数の偶数の乗算に対応できないため、トリックが適用されます-フレームの先頭で、X軸とY軸に沿った座標グリッドが考慮され、スプライト出力はこれらの事前計算された値を使用します。したがって、必要な乗算の数は大幅に削減されます。8x8要素（64スプライト）の複合スプレーでは、128（8 * 8 * 2）ではなく16（8 + 8）の乗算のみが必要です。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NES</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">白、黒を含む4階調のみのグレー表示が可能です。効果は7つのグラデーションをシミュレートします。フレーム全体に白と白のピクセルを表示すると白になり、グレーとグレーの場合はグレーになり、白とグレーを交互にすると、視覚的には白とグレーの中間のグラデーションのようになります。主な問題は、グラフィックの準備、つまり</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gale</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">と</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GIMP</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">でいくつかの手動操作によって実行された2つのハーフフレームの画像の準備です</font><font style="vertical-align: inherit;">。ちらつきを減らすために、ハーフフレームのラインが交互になります。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/yc/1r/uf/yc1ruf7bi7cr6cmhz3rp5ryf_4w.png">&nbsp;&nbsp;<img src="https://habrastorage.org/webt/gr/fp/ky/grfpkygmrgieh8xy0nl75kbmh_q.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
プログラムプレイ</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DPCM</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">より適切な形式のサンプルを配置する場所がなかったために必要でした。ハードウェアサポートはメモリの下半分からサンプルを再生できませんでしたが、上部の切り替え不可能なメモリにそのような長さのサンプル用のスペースがありませんでした。</font><font style="vertical-align: inherit;">サウンドフラグメント自体は、元のスクリーンセーバーからのものではありませんが、よく知られたゲームからの、酷似した最後の動きのかなり似たサウンドのジングルで、最後の動き自体のときに鳴ります。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">メモリカード</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
開発では、メモリバンクの充填を視覚化するNES Space Checkerユーティリティが常に使用されていました。プログラム内の何がどこにあるかの良い例を見るのは非常に興味深いです。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2o/wm/vi/2owmvixodm0fwzxlnofl0k83mew.png"><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG00</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG02-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">音楽データ</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG03-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ビュー</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG04</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG06-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カートリッジの回転のアニメーションデータの</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">サンプルPRG07-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">廊下の奥の動きの</font><font style="vertical-align: inherit;">タイルアニメーション</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG08-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">廊下</font><font style="vertical-align: inherit;">の回転のタイルアニメーション</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG09-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タワー</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG0Aの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シーンコード-シーンコード回転ロゴ</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG0B-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">名前と廊下</font><b><font style="vertical-align: inherit;">PRG0Cを含む</font></b><font style="vertical-align: inherit;">シーンコード</font></font><br>
<b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">-回転カートリッジ、Kirby、View、インベーダー、</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pakman PRG0Dの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シーンコード-イントロ、ノイズ、カラーバー、キャプション</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG0Eの</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">シーンコード</font><font style="vertical-align: inherit;">-メインコードバンク、すべてのシーンへの呼び出しのみを含む</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PRG0F-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">固定コードバンク、音楽プレーヤー、スプライト出力、割り込みハンドラー</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR00-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">カラーバーの象とタイル</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR01-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">フォントとノイズ</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR02-名前に</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Vidaスプライトタイルと回転文字</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR03-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">通常のカービィ</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR04を</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">タイル化</font><b><font style="vertical-align: inherit;">-Cheshire</font></b><font style="vertical-align: inherit;"> Kirby </font><b><font style="vertical-align: inherit;">CHR05を</font></b><font style="vertical-align: inherit;">タイル</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">化</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -回転カートリッジ</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR06</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR0D-</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">アニメーションの</font><font style="vertical-align: inherit;">あるシーンのスケジュール</font><font style="vertical-align: inherit;">回転ロゴ</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR0Eは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -挨拶と侵略者のアニメーションのフォントがタイル</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR0Fを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Pakmanタイル</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR10</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR13</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -タワーテクスチャのアニメーション</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR14</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -廊下のタイル</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR15は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -スプライトマリオ</font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR16は</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ... </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CHR1Fは</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -使用されていません</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">結論の代わりに</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
私はコンボミームで終わります：理解できない状況では、デモシーン、紳士を書きます！</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja474948/index.html">「Orlan」、または「Orlan」と「IBM」の見込みはありますか</a></li>
<li><a href="../ja474950/index.html">Artem Svetlov：「職場で毎日、OSMがさまざまな企業にどのように役立つかを目にしています」</a></li>
<li><a href="../ja474954/index.html">動的構造を持つバイナリ機械学習アルゴリズム</a></li>
<li><a href="../ja474956/index.html">チェイスなしでどのアメリカのアクション映画をしますか？トビー・ガリッキと彼の60秒</a></li>
<li><a href="../ja474958/index.html">ザドロスのノート：全能性フレームワーク</a></li>
<li><a href="../ja474962/index.html">Miroによるプラットフォーム開発者会議：ライブストリーム</a></li>
<li><a href="../ja474964/index.html">実際の実装とのモック同期</a></li>
<li><a href="../ja474966/index.html">OntologyネットワークでスマートPythonコントラクトを作成する方法。パート1：ブロックチェーンとブロックAPI</a></li>
<li><a href="../ja474968/index.html">最小の...プロジェクト向けRxDart</a></li>
<li><a href="../ja474976/index.html">ボートシティ：ヴェネツィアは車なしでどのように存在するか</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>