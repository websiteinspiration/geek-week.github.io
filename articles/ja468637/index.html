<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ğŸ—ºï¸ ğŸ§¦ ğŸŒ ãƒ‘ãƒ³ãƒ€ã§å¤§ããªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å‡¦ç†ã™ã‚‹æ–¹æ³•ã€‚Pythonã¨8GBã®ãƒ¡ãƒ¢ãƒªã‚’ä½¿ç”¨ã—ã¦FIASãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ“ä½œã—ã¾ã™ ğŸ‘©â€ğŸ’» ğŸ‘©ğŸ¿â€ğŸ“ ğŸŒŒ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="FIASãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å…·ä½“çš„ã«æç¤ºã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒªãƒ³ã‚¯ã‚’
 
 
 
 ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯é–‹ã„ã¦ãŠã‚Šã€ãƒ­ã‚·ã‚¢ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã™ã¹ã¦ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼ˆã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼ï¼‰ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®é–¢å¿ƒã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å«ã¾ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒéå¸¸ã«è†¨å¤§ã§ã‚ã‚‹ã¨...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>ãƒ‘ãƒ³ãƒ€ã§å¤§ããªãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã‚’å‡¦ç†ã™ã‚‹æ–¹æ³•ã€‚Pythonã¨8GBã®ãƒ¡ãƒ¢ãƒªã‚’ä½¿ç”¨ã—ã¦FIASãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’æ“ä½œã—ã¾ã™</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/468637/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FIASãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚’å…·ä½“çš„ã«æç¤ºã™ã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">ãƒªãƒ³ã‚¯ã‚’</font></a></font><br>
<br>
<img src="https://habrastorage.org/webt/ni/19/bp/ni19bps3pssl_uapgbnxqs6vjdg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã§ãã¾ã™</font><font style="vertical-align: inherit;">ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¯é–‹ã„ã¦ãŠã‚Šã€ãƒ­ã‚·ã‚¢ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ã™ã¹ã¦ã®ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå«ã¾ã‚Œã¦ã„ã¾ã™ï¼ˆã‚¢ãƒ‰ãƒ¬ã‚¹ãƒ¬ã‚¸ã‚¹ã‚¿ãƒ¼ï¼‰ã€‚ã“ã®ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã¸ã®é–¢å¿ƒã¯ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«å«ã¾ã‚Œã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ãŒéå¸¸ã«è†¨å¤§ã§ã‚ã‚‹ã¨ã„ã†äº‹å®Ÿã«ã‚ˆã£ã¦å¼•ãèµ·ã“ã•ã‚Œã¾ã™ã€‚ã—ãŸãŒã£ã¦ã€ãŸã¨ãˆã°ã€æœ€å°ã¯2.9 GBã§ã™ã€‚ 8 GBã®RAMã—ã‹æ­è¼‰ã—ã¦ã„ãªã„ãƒã‚·ãƒ³ã§ä½œæ¥­ã—ã¦ã„ã‚‹å ´åˆã¯ã€ãã“ã§åœæ­¢ã—ã¦ãƒ‘ãƒ³ãƒ€ãŒå¯¾å¿œã§ãã‚‹ã‹ã©ã†ã‹ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚å¯¾å‡¦ã§ããªã„å ´åˆã¯ã€ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ‘ãƒ³ãƒ€ã«ãƒ•ã‚£ãƒ¼ãƒ‰ã™ã‚‹ãŸã‚ã®ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã¯ä½•ã§ã™ã‹ã€‚</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¿ƒã®æ‰‹ã§ã€ç§ã¯ã“ã®ãƒ™ãƒ¼ã‚¹ã«é­é‡ã—ãŸã“ã¨ãŒãªãã€ã“ã‚Œã¯è¿½åŠ ã®éšœå®³ã§ã™ã€‚</font><font style="vertical-align: inherit;">ãã“ã«æç¤ºã•ã‚Œã¦ã„ã‚‹ãƒ‡ãƒ¼ã‚¿ã®å½¢å¼ã¯å®Œå…¨ã«ä¸æ˜ç¢ºã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ™ãƒ¼ã‚¹ã¨ã¨ã‚‚ã«fias_xml.rarã‚¢ãƒ¼ã‚«ã‚¤ãƒ–ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸå¾Œã€ãã“ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å–å¾—ã—ã¾ã™-AS_ADDROBJ_20190915_9b13b2a6-b3bd-4866-bd1c-7ab966fafcf0.XMLã€‚</font><font style="vertical-align: inherit;">ãƒ•ã‚¡ã‚¤ãƒ«ã¯xmlå½¢å¼ã§ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‘ãƒ³ãƒ€ã§ã®ä½œæ¥­ã‚’ã‚ˆã‚Šä¾¿åˆ©ã«ã™ã‚‹ãŸã‚ã«ã€xmlã‚’csvã¾ãŸã¯jsonã«å¤‰æ›ã™ã‚‹ã“ã¨ã‚’ãŠå‹§ã‚ã—ã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãŸã ã—ã€ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚„pythonè‡ªä½“ã§å¤‰æ›ã—ã‚ˆã†ã¨ã™ã‚‹ã¨ã€ã€ŒMemoryErrorã€ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã™ã‚‹ã‹ã€ãƒ•ãƒªãƒ¼ã‚ºã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã†ãƒ¼ã‚“ã€‚</font><font style="vertical-align: inherit;">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚«ãƒƒãƒˆã—ã¦ã€ãƒ‘ãƒ¼ãƒ„ã«å¤‰æ›ã™ã‚‹ã¨ã©ã†ãªã‚Šã¾ã™ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">ãã‚Œã¯è‰¯ã„è€ƒãˆã§ã™ãŒã€ã™ã¹ã¦ã®ã€Œã‚«ãƒƒã‚¿ãƒ¼ã€ã‚‚ãƒ•ã‚¡ã‚¤ãƒ«å…¨ä½“ã‚’ãƒ¡ãƒ¢ãƒªã«èª­ã¿å–ã£ã¦ãƒãƒ³ã‚°ã—ã‚ˆã†ã¨ã—ã¾ã™ã€‚ã€Œã‚«ãƒƒã‚¿ãƒ¼ã€ã®ãƒ‘ã‚¹ã‚’ãŸã©ã‚‹pythonè‡ªä½“ã¯ãã‚Œã‚’ã‚«ãƒƒãƒˆã—ã¾ã›ã‚“ã€‚</font><font style="vertical-align: inherit;">8 GBã§ã¯æ˜ã‚‰ã‹ã«ååˆ†ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã‹ï¼Ÿ</font><font style="vertical-align: inherit;">ã•ã¦ã€è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veditãƒ—ãƒ­ã‚°ãƒ©ãƒ </font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚µãƒ¼ãƒ‰ãƒ‘ãƒ¼ãƒ†ã‚£ã®veditãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½¿ç”¨ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½¿ç”¨ã™ã‚‹ã¨ã€2.9 GBã®XMLãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã‚’èª­ã¿å–ã£ã¦æ“ä½œã§ãã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ãŸã€åˆ†å‰²ã™ã‚‹ã“ã¨ã‚‚ã§ãã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã—ã‹ã—ã€ã¡ã‚‡ã£ã¨ã—ãŸãƒˆãƒªãƒƒã‚¯ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿å–ã‚‹ã¨ãã«ã‚ã‹ã‚‹ã‚ˆã†ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ã€ç‰¹ã«é–‹å§‹ã‚¿ã‚°AddressObjectsãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ib/iw/1z/ibiw1zn3iuluzn14rvjekinghtc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã®ãŸã‚ã€ã“ã®å¤§ããªãƒ•ã‚¡ã‚¤ãƒ«ã®ä¸€éƒ¨ã‚’ä½œæˆã™ã‚‹ã¨ãã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆã‚¿ã‚°ï¼‰ã‚’é–‰ã˜ã‚‹ã“ã¨ã‚’å¿˜ã‚Œãªã„ã§ãã ã•ã„ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¤ã¾ã‚Šã€å„xmlãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã¯æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">AddressObjects</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã—ã¦çµ‚äº†ï¼š</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;/<span class="hljs-name">AddressObjects</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€åˆã®éƒ¨åˆ†ã‚’åˆ‡ã‚Šå–ã‚Šã¾ã™ï¼ˆæ®‹ã‚Šã®éƒ¨åˆ†ã®æ‰‹é †ã¯åŒã˜ã§ã™ï¼‰ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
veditã®å ´åˆï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e1/p8/cb/e1p8cbr3uya3vpoglb-bwpigav4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€[ç§»å‹•]ã¨[è¡Œç•ªå·]ã‚’é¸æŠã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">é–‹ã„ãŸã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã§ã€1000000ãªã©ã®è¡Œç•ªå·ã‚’å…¥åŠ›ã—</font></font><br>
<br>
<img src="https://habrastorage.org/webt/e1/e2/u8/e1e2u81rmpcbwnpcv1udop3bnpm.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã¾ã™</font><font style="vertical-align: inherit;">ã€‚</font><font style="vertical-align: inherit;">æ¬¡ã«ã€é¸æŠã—ãŸãƒ–ãƒ­ãƒƒã‚¯ã‚’èª¿æ•´ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå…¨ä½“ã‚’çµ‚äº†ã‚¿ã‚°ã«ã‚­ãƒ£ãƒ—ãƒãƒ£ã™ã‚‹</font></font><br>
<br>
<img src="https://habrastorage.org/webt/d-/pu/60/d-pu60noltly8d46iezppaahw6c.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚æ¬¡ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã«ã‚ãšã‹ãªã‚ªãƒ¼ãƒãƒ¼ãƒ©ãƒƒãƒ—ãŒã‚ã£ã¦ã‚‚å•é¡Œã‚ã‚Šã¾ã›ã‚“ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€veditãƒ—ãƒ­ã‚°ãƒ©ãƒ ã§ã€é¸æŠã—ãŸãƒ•ãƒ©ã‚°ãƒ¡ãƒ³ãƒˆã‚’ä¿å­˜ã—ã¾ã™-ãƒ•ã‚¡ã‚¤ãƒ«ã€åå‰ã‚’ä»˜ã‘ã¦ä¿å­˜ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŒæ§˜ã«ã€ãƒ•ã‚¡ã‚¤ãƒ«ã®æ®‹ã‚Šã®éƒ¨åˆ†ã‚’ä½œæˆã—ã€é¸æŠãƒ–ãƒ­ãƒƒã‚¯ã®é–‹å§‹ã¨çµ‚äº†ã‚’100ä¸‡è¡Œãšã¤ãƒãƒ¼ã‚¯ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã®çµæœã€ã‚µã‚¤ã‚ºãŒç´„610 MBã®4ç•ªç›®ã®xmlãƒ•ã‚¡ã‚¤ãƒ«ãŒå¾—ã‚‰ã‚Œã¾ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">XMLãƒ‘ãƒ¼ãƒ„ã‚’å®Œæˆã•ã›ã¾ã™</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€æ–°ã—ãä½œæˆã•ã‚ŒãŸxmlãƒ•ã‚¡ã‚¤ãƒ«ã«ã‚¿ã‚°ã‚’è¿½åŠ ã—ã¦ã€ãã‚Œã‚‰ãŒxmlã¨ã—ã¦èª­ã¿å–ã‚Œã‚‹ã‚ˆã†ã«ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
veditã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ã¤ãšã¤é–‹ãã€å„ãƒ•ã‚¡ã‚¤ãƒ«ã®å…ˆé ­ã«è¿½åŠ ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-meta">&lt;?xml version="1.0" encoding="utf-8"?&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">AddressObjects</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã—ã¦æœ€å¾Œã«ï¼š</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;/<span class="hljs-name">AddressObjects</span>&gt;</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ãŸãŒã£ã¦ã€åˆ†å‰²ã•ã‚ŒãŸã‚½ãƒ¼ã‚¹ãƒ•ã‚¡ã‚¤ãƒ«ã®4ã¤ã®xmléƒ¨åˆ†ãŒã§ãã¾ã—ãŸã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Xml-to-csv</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
æ¬¡ã«ã€pythonãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’è¨˜è¿°ã—ã¦ã€xmlã‚’csvã«å¤‰æ›ã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚³ãƒ¼ãƒ‰</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã“ã“ã«</font></font></b><div class="spoiler_text"><pre><code class="python hljs"><span class="hljs-comment"># -*- coding: utf-8 -*-</span>
<span class="hljs-keyword">from</span> __future__ <span class="hljs-keyword">import</span> unicode_literals
<span class="hljs-keyword">import</span> codecs,os
<span class="hljs-keyword">import</span> xml.etree.ElementTree <span class="hljs-keyword">as</span> ET
<span class="hljs-keyword">import</span> csv
<span class="hljs-keyword">from</span> datetime <span class="hljs-keyword">import</span> datetime<font></font>
<font></font>
parser = ET.XMLParser(encoding=<span class="hljs-string">"utf-8"</span>)<font></font>
tree = ET.parse(<span class="hljs-string">"add-30-40.xml"</span>,parser=parser)<font></font>
root = tree.getroot()<font></font>
<font></font>
Resident_data = open(<span class="hljs-string">'fias-30-40.csv'</span>, <span class="hljs-string">'w'</span>,encoding=<span class="hljs-string">'UTF8'</span>)<font></font>
csvwriter = csv.writer(Resident_data)<font></font>
<font></font>
start = datetime.now()<font></font>
<span class="hljs-keyword">for</span> member <span class="hljs-keyword">in</span> root.findall(<span class="hljs-string">'Object'</span>):<font></font>
    object = []<font></font>
    <font></font>
    object.append(member.attrib[<span class="hljs-string">'AOID'</span>])            <font></font>
    object.append(member.attrib[<span class="hljs-string">'AOGUID'</span>])
    <span class="hljs-keyword">try</span>:<font></font>
        object.append(member.attrib[<span class="hljs-string">'PARENTGUID'</span>])
    <span class="hljs-keyword">except</span>:<font></font>
        object.append(<span class="hljs-literal">None</span>)
    <span class="hljs-keyword">try</span>:<font></font>
        object.append(member.attrib[<span class="hljs-string">'PREVID'</span>])
    <span class="hljs-keyword">except</span>:<font></font>
        object.append(<span class="hljs-literal">None</span>)
    <span class="hljs-comment">#try:</span>
    <span class="hljs-comment">#    object.append(member.attrib['NEXTID'])</span>
    <span class="hljs-comment">#except:</span>
    <span class="hljs-comment">#    object.append(None)</span><font></font>
    <font></font>
    object.append(member.attrib[<span class="hljs-string">'FORMALNAME'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'OFFNAME'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'SHORTNAME'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'AOLEVEL'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'REGIONCODE'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'AREACODE'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'AUTOCODE'</span>])    <font></font>
    object.append(member.attrib[<span class="hljs-string">'CITYCODE'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'CTARCODE'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'PLACECODE'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'STREETCODE'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'EXTRCODE'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'SEXTCODE'</span>])
    <span class="hljs-keyword">try</span>:<font></font>
        object.append(member.attrib[<span class="hljs-string">'PLAINCODE'</span>])
    <span class="hljs-keyword">except</span>:<font></font>
        object.append(<span class="hljs-literal">None</span>)
    <span class="hljs-keyword">try</span>:<font></font>
        object.append(member.attrib[<span class="hljs-string">'CODE'</span>])
    <span class="hljs-keyword">except</span>:<font></font>
        object.append(<span class="hljs-literal">None</span>)<font></font>
    object.append(member.attrib[<span class="hljs-string">'CURRSTATUS'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'ACTSTATUS'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'LIVESTATUS'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'CENTSTATUS'</span>])<font></font>
    object.append(member.attrib[<span class="hljs-string">'OPERSTATUS'</span>])
    <span class="hljs-keyword">try</span>:<font></font>
        object.append(member.attrib[<span class="hljs-string">'IFNSFL'</span>])
    <span class="hljs-keyword">except</span>:<font></font>
        object.append(<span class="hljs-literal">None</span>)
    <span class="hljs-keyword">try</span>:<font></font>
        object.append(member.attrib[<span class="hljs-string">'IFNSUL'</span>])
    <span class="hljs-keyword">except</span>:<font></font>
        object.append(<span class="hljs-literal">None</span>)
    <span class="hljs-keyword">try</span>:<font></font>
        object.append(member.attrib[<span class="hljs-string">'OKATO'</span>])
    <span class="hljs-keyword">except</span>:<font></font>
        object.append(<span class="hljs-literal">None</span>)
    <span class="hljs-keyword">try</span>:<font></font>
        object.append(member.attrib[<span class="hljs-string">'OKTMO'</span>])
    <span class="hljs-keyword">except</span>:<font></font>
        object.append(<span class="hljs-literal">None</span>)
    <span class="hljs-keyword">try</span>:<font></font>
        object.append(member.attrib[<span class="hljs-string">'POSTALCODE'</span>])
    <span class="hljs-keyword">except</span>:<font></font>
        object.append(<span class="hljs-literal">None</span>)
    <span class="hljs-comment">#print(len(object))</span><font></font>
    csvwriter.writerow(object)    <font></font>
Resident_data.close()<font></font>
print(datetime.now()- start)<font></font>
<span class="hljs-comment">#0:00:21.122437</span></code></pre><br>
</div></div><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä½¿ç”¨ã—ã¦ã€4ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã™ã¹ã¦ã‚’csvã«å¤‰æ›ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ•ã‚¡ã‚¤ãƒ«ã‚µã‚¤ã‚ºã¯å°ã•ããªã‚Šã€ãã‚Œãã‚Œ236 MBã«ãªã‚Šã¾ã™ï¼ˆxmlã§610 MBã¨æ¯”è¼ƒã—ã¦ãã ã•ã„ï¼‰ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
åŸå‰‡ã¨ã—ã¦ã€Excelã‚„Notepad ++ã‚’ä½¿ç”¨ã—ã¦ã€ã™ã§ã«ãã‚Œã‚‰ã‚’æ“ä½œã§ãã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ã‹ã—ã€ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã¾ã 1ã¤ã§ã¯ãªã4ç•ªç›®ã§ã‚ã‚Šã€ãƒ‘ãƒ³ãƒ€ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‡¦ç†ã™ã‚‹ã¨ã„ã†ç›®æ¨™ã«ã¯é”ã—ã¦ã„ã¾ã›ã‚“ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ•ã‚¡ã‚¤ãƒ«ã‚’1ã¤ã«æ¥ç€</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Windowsã§ã¯ã€ã“ã‚Œã¯é›£ã—ã„ä½œæ¥­ã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚‹ãŸã‚ã€csvkitã¨ã„ã†Pythonã®ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã‚’ä½¿ç”¨ã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">Pythonãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã¨ã—ã¦ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ï¼š</font></font><br>
<br>
<pre><code class="python hljs">pip install csvkit</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*ã“ã‚Œã¯å®Ÿéš›ã«ã¯ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ã®ã‚»ãƒƒãƒˆå…¨ä½“ã§ã™ãŒã€ãã“ã‹ã‚‰1ã¤å¿…è¦ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã§æ¥ç€ç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å«ã‚€ãƒ•ã‚©ãƒ«ãƒ€ãƒ¼ã«å…¥ã£ãŸã‚‰ã€1ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«æ¥ç€ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚</font><font style="vertical-align: inherit;">ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ã«ã¯ãƒ˜ãƒƒãƒ€ãƒ¼ãŒãªã„ãŸã‚ã€æ¥ç€æ™‚ã«æ¨™æº–ã®åˆ—åã‚’å‰²ã‚Šå½“ã¦ã¾ã™ï¼šaã€bã€cãªã©ï¼š</font></font><br>
<br>
<pre><code class="python hljs">csvstack -H fias<span class="hljs-number">-0</span><span class="hljs-number">-10.</span>csv fias<span class="hljs-number">-10</span><span class="hljs-number">-20.</span>csv fias<span class="hljs-number">-20</span><span class="hljs-number">-30.</span>csv  fias<span class="hljs-number">-30</span><span class="hljs-number">-40.</span>csv &gt; joined2.csv</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
å‡ºåŠ›ã¯å®Œæˆã—ãŸcsvãƒ•ã‚¡ã‚¤ãƒ«ã§ã™ã€‚</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒ‘ãƒ³ãƒ€ã§ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã‚’æœ€é©åŒ–ã—ã¾ã—ã‚‡ã†</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã™ãã«ãƒ‘ãƒ³ãƒ€ã«ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸå ´åˆ </font></font><br>
<br>
<pre><code class="python hljs">
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd
<span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np<font></font>
gl = pd.read_csv(<span class="hljs-string">'joined2.csv'</span>,encoding=<span class="hljs-string">'ANSI'</span>,index_col=<span class="hljs-string">'a'</span>)
<span class="hljs-keyword">print</span> (gl.info(memory_usage=<span class="hljs-string">'deep'</span>)) <span class="hljs-comment">#  </span>
<span class="hljs-function"><span class="hljs-keyword">def</span> <span class="hljs-title">mem_usage</span>(<span class="hljs-params">pandas_obj</span>):</span>
    <span class="hljs-keyword">if</span> isinstance(pandas_obj,pd.DataFrame):<font></font>
        usage_b = pandas_obj.memory_usage(deep=<span class="hljs-literal">True</span>).sum()
    <span class="hljs-keyword">else</span>: <span class="hljs-comment"># ,     ,  </span>
        usage_b = pandas_obj.memory_usage(deep=<span class="hljs-literal">True</span>)<font></font>
    usage_mb = usage_b / <span class="hljs-number">1024</span> ** <span class="hljs-number">2</span> <span class="hljs-comment">#    </span>
    <span class="hljs-keyword">return</span> <span class="hljs-string">"{:03.2f} "</span> .format(usage_mb)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 ã©ã‚Œã ã‘ã®ãƒ¡ãƒ¢ãƒªãŒå¿…è¦ã‹ã‚’ç¢ºèªã™ã‚‹ã¨ã€é©šãã»ã©é©šãã¹ãçµæœã«ãªã‚‹å¯èƒ½æ€§ãŒã‚ã‚Šã¾ã™ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/2h/bm/7u/2hbm7u8qsi3twnrshyudmqo3djm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
3 GBï¼</font><font style="vertical-align: inherit;">ãã—ã¦ã€ã“ã‚Œã¯ã€ãƒ‡ãƒ¼ã‚¿ã‚’èª­ã¿å–ã‚‹ã¨ãã«ã€æœ€åˆã®åˆ—ãŒã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹åˆ—ã¨ã—ã¦*å®Ÿè¡Œã•ã‚ŒãŸã¨ã„ã†äº‹å®Ÿã«ã‚‚ã‹ã‹ã‚ã‚‰ãšã€ãã®ãŸã‚ã€ãƒœãƒªãƒ¥ãƒ¼ãƒ ã¯ã•ã‚‰ã«å¤§ãããªã‚Šã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆã§ã¯ã€pandasã¯ç‹¬è‡ªã®åˆ—ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã‚’è¨­å®šã—ã¾ã™ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ç§ãŸã¡ã¯ã€ä»¥å‰ã‹ã‚‰ã®æ–¹æ³•ã‚’ä½¿ç”¨ã—ã¦æœ€é©åŒ–ã‚’è¡Œã„ã¾ã™</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ãƒã‚¹ãƒˆ</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã¨</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã®è¨˜äº‹</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ï¼š</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -ã‚«ãƒ†ã‚´ãƒªå†…ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ã€</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -uint8ã®int64; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 -float32å†…ã®float64ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã‚’è¡Œã†ã«ã¯ã€ãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿å–ã‚‹ã¨ãã«dtypesã‚’è¿½åŠ ã—ã€ã‚³ãƒ¼ãƒ‰ã®åˆ—ã‚’èª­ã¿å–ã‚‹ã¨æ¬¡ã®ã‚ˆã†ã«ãªã‚Šã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="python hljs">
gl = pd.read_csv(<span class="hljs-string">'joined2.csv'</span>,encoding=<span class="hljs-string">'ANSI'</span>,index_col=<span class="hljs-string">'a'</span>, dtype ={
    <span class="hljs-string">'b'</span>:<span class="hljs-string">'category'</span>, <span class="hljs-string">'c'</span>:<span class="hljs-string">'category'</span>,<span class="hljs-string">'d'</span>:<span class="hljs-string">'category'</span>,<span class="hljs-string">'e'</span>:<span class="hljs-string">'category'</span>,
    <span class="hljs-string">'f'</span>:<span class="hljs-string">'category'</span>,<span class="hljs-string">'g'</span>:<span class="hljs-string">'category'</span>,<font></font>
<font></font>
    <span class="hljs-string">'h'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'i'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'j'</span>:<span class="hljs-string">'uint8'</span>,
    <span class="hljs-string">'k'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'l'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'m'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'n'</span>:<span class="hljs-string">'uint16'</span>,
    <span class="hljs-string">'o'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'p'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'q'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'t'</span>:<span class="hljs-string">'uint8'</span>,
    <span class="hljs-string">'u'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'v'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'w'</span>:<span class="hljs-string">'uint8'</span>,<span class="hljs-string">'x'</span>:<span class="hljs-string">'uint8'</span>,<font></font>
<font></font>
    <span class="hljs-string">'r'</span>:<span class="hljs-string">'float32'</span>,<span class="hljs-string">'s'</span>:<span class="hljs-string">'float32'</span>,
    <span class="hljs-string">'y'</span>:<span class="hljs-string">'float32'</span>,<span class="hljs-string">'z'</span>:<span class="hljs-string">'float32'</span>,<span class="hljs-string">'aa'</span>:<span class="hljs-string">'float32'</span>,<span class="hljs-string">'bb'</span>:<span class="hljs-string">'float32'</span>,
    <span class="hljs-string">'cc'</span>:<span class="hljs-string">'float32'</span>    <font></font>
    })<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã“ã‚Œã§pandasãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ãŸã®ã§ã€ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã¯å¦¥å½“</font></font><br>
<br>
<img src="https://habrastorage.org/webt/4x/ia/i6/4xiai6swjn5-7zw7qjvye8aqp28.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã§ã™ã€‚å¿…è¦ã«å¿œã˜ã¦ã€CSVãƒ•ã‚¡ã‚¤ãƒ«ã«è¡Œã®å®Ÿéš›ã®åˆ—åã‚’è¿½åŠ ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ãŒæ„å‘³ã‚’ãªã™ã‚ˆã†ã«ã—ã¾ã™ã€‚</font></font><br>
<br>
<pre><code class="plaintext hljs">AOID,AOGUID,PARENTGUID,PREVID,FORMALNAME,OFFNAME,SHORTNAME,AOLEVEL,REGIONCODE,AREACODE,AUTOCODE,CITYCODE,CTARCODE,PLACECODE,STREETCODE,EXTRCODE,SEXTCODE,PLAINCODE,CODE,CURRSTATUS,ACTSTATUS,LIVESTATUS,CENTSTATUS,OPERSTATUS,IFNSFL,IFNSUL,OKATO,OKTMO,POSTALCODE</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
*åˆ—åã‚’ã“ã®è¡Œã«ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ãã¾ã™ãŒã€ã‚³ãƒ¼ãƒ‰ã‚’å¤‰æ›´ã™ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‘ãƒ³ãƒ€ã‹ã‚‰ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ€åˆã®è¡Œã‚’ä¿å­˜ã—ã¾ã™</font></font><br>
<br>
<pre><code class="python hljs">
gl.head().to_csv(<span class="hljs-string">'out.csv'</span>, encoding=<span class="hljs-string">'ANSI'</span>,index_label=<span class="hljs-string">'a'</span>)
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãã—ã¦ã€Excelã§ä½•ãŒèµ·ã“ã£ãŸã‹ã‚’è¦‹ã¦ãã ã•ã„ï¼š</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8e/g2/_l/8eg2_ld1l9ptxcwbstcz0xv8jpw.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã§csvãƒ•ã‚¡ã‚¤ãƒ«ã‚’æœ€é©åŒ–ã—ã¦é–‹ããŸã‚ã®ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚³ãƒ¼ãƒ‰ï¼š</font></font><br>
<br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ã‚³ãƒ¼ãƒ‰</font></font></b><div class="spoiler_text"><pre><code class="plaintext hljs">import os<font></font>
import time<font></font>
import pandas as pd<font></font>
import numpy as np<font></font>
<font></font>
#     :  object-category, float64-float32, int64-int<font></font>
gl = pd.read_csv('joined2.csv',encoding='ANSI',index_col='a', dtype ={<font></font>
    'b':'category', 'c':'category','d':'category','e':'category',<font></font>
    'f':'category','g':'category',<font></font>
<font></font>
    <font></font>
    'h':'uint8','i':'uint8','j':'uint8',<font></font>
    'k':'uint8','l':'uint8','m':'uint8','n':'uint16',<font></font>
    'o':'uint8','p':'uint8','q':'uint8','t':'uint8',<font></font>
    'u':'uint8','v':'uint8','w':'uint8','x':'uint8',<font></font>
<font></font>
<font></font>
    'r':'float32','s':'float32',<font></font>
    'y':'float32','z':'float32','aa':'float32','bb':'float32',<font></font>
    'cc':'float32'<font></font>
    <font></font>
    })<font></font>
<font></font>
pd.set_option('display.notebook_repr_html', False)<font></font>
pd.set_option('display.max_columns', 8)<font></font>
pd.set_option('display.max_rows', 10)<font></font>
pd.set_option('display.width', 80)<font></font>
<font></font>
#print (gl.head())<font></font>
print (gl.info(memory_usage='deep')) #  <font></font>
def mem_usage(pandas_obj):<font></font>
    if isinstance(pandas_obj,pd.DataFrame):<font></font>
        usage_b = pandas_obj.memory_usage(deep=True).sum()<font></font>
    else: # ,     ,  <font></font>
        usage_b = pandas_obj.memory_usage(deep=True)<font></font>
    usage_mb = usage_b / 1024 ** 2 #    <font></font>
    return "{:03.2f} " .format(usage_mb)</code></pre><br>
</div></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çµè«–ã¨ã—ã¦ã€ãƒ‡ãƒ¼ã‚¿ã‚»ãƒƒãƒˆã®ã‚µã‚¤ã‚ºã‚’è¦‹ã¦ã¿ã¾ã—ã‚‡ã†ã€‚</font></font><br>
<br>
<pre><code class="python hljs">gl.shape</code></pre><br>
<pre><code class="python hljs">(<span class="hljs-number">3348644</span>, <span class="hljs-number">28</span>)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
330ä¸‡è¡Œã€28åˆ—ã€‚</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
çµè«–ï¼šcsvãƒ•ã‚¡ã‚¤ãƒ«ã®åˆæœŸã‚µã‚¤ã‚ºã¯890 MBã§ã€ãƒ‘ãƒ³ãƒ€ã§ã®ä½œæ¥­ç”¨ã«ã€Œæœ€é©åŒ–ã€ã•ã‚Œã¦ãŠã‚Šã€ãƒ¡ãƒ¢ãƒªå†…ã§1.2 GBã‚’å æœ‰ã—ã¾ã™ã€‚</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ã—ãŸãŒã£ã¦ã€å¤§ã¾ã‹ãªè¨ˆç®—ã§ã¯ã€ã‚µã‚¤ã‚ºãŒ7.69 GBã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ä»¥å‰ã«ã€Œæœ€é©åŒ–ã€ã•ã‚Œã¦ã„ã‚‹ãƒ‘ãƒ³ãƒ€ã§é–‹ãã“ã¨ãŒã§ãã‚‹ã¨æƒ³å®šã§ãã¾ã™ã€‚</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja468625/index.html">ã‚µãƒ¼ãƒãƒ¼ãƒ¬ã‚¹ï¼š15ï¼…é…ãã€8å€é«˜ä¾¡</a></li>
<li><a href="../ja468627/index.html">ADAM-6200 I / Oãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«</a></li>
<li><a href="../ja468629/index.html">100ä¸‡å›å®Ÿè¡Œã—ã¦ã‚‚ç”»åƒãŒç ´æã—ãªã„ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼ã‚’ä½œæˆã™ã‚‹æ–¹æ³•-ãƒ‘ãƒ¼ãƒˆ2</a></li>
<li><a href="../ja468631/index.html">Flutterã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ãƒ†ã‚¹ãƒˆã€‚é–‹å§‹</a></li>
<li><a href="../ja468635/index.html">é·ç§»é‡‘å±ã‚¸ã‚«ãƒ«ã‚³ã‚²ãƒŠã‚¤ãƒ‰ï¼šWS2çµæ™¶æˆé•·ã®ç§˜å¯†ã®è§£æ˜</a></li>
<li><a href="../ja468639/index.html">2019ã®Webã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã®æ–°æ©Ÿèƒ½</a></li>
<li><a href="../ja468645/index.html">ã‚³ãƒ³ãƒ”ãƒ¥ãƒ¼ã‚¿ã‚µã‚¤ã‚¨ãƒ³ã‚¹ã®åˆ†é‡ã‹ã‚‰ã®30å¹´ã®ä»®èª¬ã‚’è¨¼æ˜ã™ã‚‹ã«ã¯ã€2ãƒšãƒ¼ã‚¸ã§ååˆ†ã§ã—ãŸã€‚</a></li>
<li><a href="../ja468647/index.html">å¤ã„IBMãƒ¡ã‚¤ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ©ã‚¤ãƒ³ãƒ—ãƒªãƒ³ã‚¿ãƒ¼ã§ã®å±é™ºãªéŸ³æ¥½</a></li>
<li><a href="../ja468653/index.html">äººé–“ã®ç›®ã®è§£åƒåº¦ã¯ä½•ã§ã™ã‹ï¼ˆã¾ãŸã¯ã€ã‚ã‚‹æ™‚ç‚¹ã§ä½•ãƒ¡ã‚¬ãƒ”ã‚¯ã‚»ãƒ«ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹ï¼‰</a></li>
<li><a href="../ja468657/index.html">ã‚µãƒãƒ¼ãƒˆä»˜ããƒ€ãƒ³ã‚¹ï¼šã‚µãƒãƒ¼ãƒˆã®ã‚¿ã‚¤ãƒ—ã¨å½¢å¼ã€‚æˆ¦é—˜ã§æ©Ÿèƒ½ã™ã‚‹æ”¯æ´ã‚·ã‚¹ãƒ†ãƒ </a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>