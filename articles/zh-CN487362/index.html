<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🔋 🕖 👫 Angular 9现在可用-常春藤到了 🍁 🕴🏿 🤾🏼</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Angular的版本9已发布，这是涵盖整个平台的主要版本，包括框架本身，Angular材料和CLI。在此版本中，应用程序默认情况下切换到Ivy编译器和运行时，并且还提供了改进的组件测试方法。
 
 这是三年来最大的Angular更新之一，开发团队对允许开发人员创建更好的应用程序并为Angular生态...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Angular 9现在可用-常春藤到了</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/487362/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Angular的版本9已发布，这是涵盖整个平台的主要版本，包括框架本身，Angular材料和CLI。</font><font style="vertical-align: inherit;">在此版本中，应用程序默认情况下切换到Ivy编译器和运行时，并且还提供了改进的组件测试方法。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是三年来最大的Angular更新之一，开发团队对允许开发人员创建更好的应用程序并为Angular生态系统做出贡献的机会感到兴奋。</font></font><br>
<a name="habracut"></a><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何升级到版本9</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请访问</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">update.angular.io</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">以获取更多信息。</font><font style="vertical-align: inherit;">为确保更新顺利进行，建议您首先升级到最新版本的Angular8。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
升级到最新版本8 </font></font><br>
<br>
<code>ng update @angular/cli@8 @angular/core@8</code><br>
<br>
<code>ng update @angular/cli @angular/core</code><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
要熟悉此更新中所做的主要更改，包括不推荐使用的API，请参阅</font><font style="vertical-align: inherit;">Angular文档中的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">升级到Angular版本9</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">常春藤</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
默认情况下，版本9将所有应用程序转移到Ivy编译器和运行时。</font><font style="vertical-align: inherit;">除了数百个固定的错误之外，Ivy编译器和运行时还具有许多优点：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较小的捆束尺寸</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更快的测试</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">最佳调试</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改进的CSS类和样式绑定</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改进的类型检查</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改进的构建错误消息</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缩短了构建时间，默认情况下启用了AOT</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改善国际化</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们详细考虑一些改进</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">较小的捆束尺寸</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ivy编译器旨在删除Angular不与树状交换一起使用的部分，并减少了为Angular组件生成的代码量。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于有了这些改进，应用程序的大小可以大大减少。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不使用框架的许多功能的小型应用程序可以从树状结构中受益最多。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">具有许多组件的大型应用程序可以从减小的工厂规模中受益。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中型应用程序将变得大致相同或略小，因为它们从树状结构中受益较少，并且无需使用许多组件即可从小型工厂中受益匪浅。</font></font></li>
</ul><br>
<img src="https://habrastorage.org/webt/of/tr/ah/oftrahki7xjvfpwtssxenhdyy2u.png" alt="图片"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更快的测试</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
常春藤TestBed实现也已更新，变得更加高效。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前，TestBed会在每次测试运行之间重新编译所有组件，而不管是否对这些组件进行了任何更改（例如，通过覆盖）。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在Ivy中，除非手动重写了组件，否则TestBed不会重新编译组件，这避免了大多数测试之间的重新编译。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
进行此更改后，框架的核心测试通过速度将提高约40％。</font><font style="vertical-align: inherit;">预计用户会注意到测试其应用程序的速度提高了40-50％。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改进的调试</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ivy提供了用于调试应用程序的其他工具。</font><font style="vertical-align: inherit;">使用Ivy运行时以开发模式启动应用程序时，现在提供了一个用于调试ng的新对象。</font></font><br>
<br>
<ul>
<li>    Angular     ,   . </li>
<li>       </li>
<li>      ,        applyChanges</li>
</ul><br>
<img src="https://habrastorage.org/webt/pn/yr/su/pnyrsuz694lohhqdd7-01sz3qpe.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ivy还改进了堆栈跟踪，以调试诸如ExpressionChangedAfterItHasBeenCheckederror之类的问题。</font><font style="vertical-align: inherit;">以前，堆栈不是很有用：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/it/ee/zp/iteezpnvxfomw6753bytaf-6jg8.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
使用Ivy，您会看到更多有用的信息，这些信息使您可以直接使用经过修改的表达式进入模板指令。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/hl/eq/uc/hlequcjgx0i0zdst4c0g324i3cq.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例如，如果单击上面堆栈中的AppComponent_Template，则可以在生成的代码中看到发生错误的特定行：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/iz/_i/n6/iz_in6pkxubivzx4i81boghi1iq.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
如果需要，还可以转到以下任何框架说明，以跟踪框架如何创建或更新组件。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">改进了样式和CSS类。</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ivy提供了增强的样式处理能力。以前，如果应用程序包含相互竞争的样式定义，则这些样式可以相互替换。使用常春藤，样式可以合并。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
考虑以下模板和组件片段：</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">my-component</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"color:red;"</span> [<span class="hljs-attr">style.color</span>]=<span class="hljs-string">"myColor"</span> [<span class="hljs-attr">style</span>]=<span class="hljs-string">"{color: myOtherColor}"</span> <span class="hljs-attr">myDirective</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br>
<pre><code class="javascript hljs">@Component({
  <span class="hljs-attr">host</span>: {
    <span class="hljs-attr">style</span>: <span class="hljs-string">"color:blue"</span><font></font>
  },...<font></font>
})<font></font>
...<font></font>
<font></font>
@Directive({<font></font>
  <span class="hljs-attr">host</span>: {
    <span class="hljs-attr">style</span>: <span class="hljs-string">"color:black"</span>,
    <span class="hljs-string">"[style.color]"</span>: <span class="hljs-string">"property"</span><font></font>
  },...<font></font>
})<font></font>
...<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
以前，将应用最后计算的绑定，这可能取决于对这些表达式进行更改的时间。如果未定义myColor和myOtherColor，则将忽略静态“红色”样式。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在版本9中，您可以以不受时间限制的明确优先级来管理样式。最具体的样式优先。例如，对[style.color]的绑定将覆盖相交的绑定[style]。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，出于向后兼容的原因，我们使[ngStyle]和[ngClass]的行为与以前相同。更新捕捉值时，新值将覆盖所有重叠的捕捉。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可以</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">在模板语法指南中</font></a><font style="vertical-align: inherit;">阅读有关样式优先规则的更多信息</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在文档中。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
作为样式重构的副作用，您现在还可以绑定到CSS变量（CSS自定义属性）。</font></font><br>
<br>
<pre><code class="xml hljs"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> [<span class="hljs-attr">style.</span> <span class="hljs-attr">--</span> <span class="hljs-attr">main-border-color</span>]=<span class="hljs-string">" '#CCC' "</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">p</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"border: 1px solid var( - -main-border-color)"</span>&gt;</span>hi<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">类型检查得到改善</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angular编译器可以检查更多应用程序类型并应用更严格的规则。</font><font style="vertical-align: inherit;">这些功能将帮助您在开发的早期阶段确定错误。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
除标准标记外，还支持两个主要标记用于其他类型检查：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">fullTemplateTypeCheck-启用此标志告诉编译器检查模板中的所有内容（ngIf，ngFor，tp-template等）</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">strictTemplates-激活此标志将应用最严格的规则进行类型检查。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关模板中类型检查的更多信息</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">修正了构建错误</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
新的Ivy编译器不仅速度更快，并且提供更高的类型安全性，而且还使读取错误消息更加容易。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在版本8或View Engine中，典型的编译器错误如下所示：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/vp/bp/_0/vpbp_0bzbygssnt52hpvn2wtxe8.png" alt="图片"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在具有Ivy的版本9中，相同的错误如下所示：</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ud/vw/7s/udvw7sd1luvtubipokltoqh38he.png" alt="图片"><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">缩短了构建时间，默认情况下启用AOT编译器。</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
借助Ivy架构，编译器性能得到了显着提高。</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
根据开销来衡量编译器性能，以简化TypeScript应用程序的编译。</font><font style="vertical-align: inherit;">对于我们的文档项目（angular.io），使用Ivy的开销从0.8x减少到0，x，提高了近40％。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这意味着AOT的构建可以明显更快。</font><font style="vertical-align: inherit;">因此，即使在开发模式下，您也可以使用AOT。</font><font style="vertical-align: inherit;">这意味着“ ng服务”现在具有与发布版本相同的优势，从而改善了Angular的开发体验。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
由于编译器和运行时的更改，entryComponents也不再需要。</font><font style="vertical-align: inherit;">使用这些组件时，将自动检测并编译它们。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">增强国际化（i18n）</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
国际化是Angular的一项功能，您可以为一个语言环境构建一次应用程序，并获得高度优化和本地化的应用程序。</font><font style="vertical-align: inherit;">9.0版通过在构建过程的后期移动i18n查找来加速了该过程。</font><font style="vertical-align: inherit;">此更改使其速度提高了10倍。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→ </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有关新i18n的更多信息</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">角度的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">/ localize和新的angular.json。</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ng更新更可靠</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
已对ng update的操作进行了更改，以使其更加可靠和有用。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">始终使用最新版本的CLI。</font><font style="vertical-align: inherit;">从8.3.19 CLI开始，我们现在使用更新目标版本中的CLI。</font><font style="vertical-align: inherit;">将来，更新将始终由最后一个CLI处理。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更好的更新进度。</font><font style="vertical-align: inherit;">ng update现在提供有关幕后情况的更多信息。</font><font style="vertical-align: inherit;">对于每个迁移，您将看到有关它的信息。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更容易调试更新。</font><font style="vertical-align: inherit;">默认情况下，ng update将启动所有迁移，并将累积的更改留给磁盘进行验证。</font><font style="vertical-align: inherit;">版本9升级还引入了一个新标志--create-commits。</font><font style="vertical-align: inherit;">当您运行ng update --create-commits时，该工具会在每次迁移后捕获代码库的状态，以便您可以逐步进行和调试发布到代码中的更改。</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">“ providedIn”的新功能</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在Angular中创建@Injectable服务时，必须选择将其添加到注入器的位置。</font><font style="vertical-align: inherit;">除了先前的“ root”和“ module”选项之外，还出现了两个附加选项。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平台-提供者：“平台”指示使该服务可在特殊的单例平台注入器中使用，该注入器由页面上的所有应用程序共享。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任何-为每个模块（包括惰性模块）提供唯一的实例</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
→ </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">有关</font></a><font style="vertical-align: inherit;"> providerIn的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">更多信息</font></font></a><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组件绑定</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
组件测试历来依赖于使用实现细节（例如CSS选择器）来查找组件和触发事件。</font><font style="vertical-align: inherit;">这意味着无论何时更改组件库，都必须更新基于这些组件的所有测试。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
版本9引入了组件绑定，它们提供了另一种测试方法。</font><font style="vertical-align: inherit;">通过从实现细节中抽象出来，可以确保测试定义正确并且不那么脆弱。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在可以使用这些绑定对Angular Material的大多数组件进行测试，并且合成（CDK）中的任何作者组件也可以使用它们。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是之前的测试示例：</font></font><br>
<br>
<pre><code class="javascript hljs">
it(<span class="hljs-string">"should switch to bug report template"</span>, <span class="hljs-keyword">async</span> () =&gt; {<font></font>
  expect(fixture.debugElement.query(<span class="hljs-string">"bug-report-form"</span>)).toBeNull();
  <span class="hljs-keyword">const</span> selectTrigger = fixture.debugElement.query(<font></font>
    By.css(<span class="hljs-string">".mat-select-trigger"</span>)<font></font>
  );<font></font>
  selectTrigger.triggerEventHandler(<span class="hljs-string">"click"</span>, {});<font></font>
  fixture.detectChanges();<font></font>
  <span class="hljs-keyword">await</span> fixture.whenStable();
  <span class="hljs-keyword">const</span> options = <span class="hljs-built_in">document</span>.querySelectorAll(<span class="hljs-string">".mat-select-panel mat-option"</span>);<font></font>
  options[<span class="hljs-number">1</span>].click(); <span class="hljs-comment">// Click the second option, "Bug".</span><font></font>
  fixture.detectChanges();<font></font>
  <span class="hljs-keyword">await</span> fixture.whenStable();<font></font>
  expect(fixture.debugElement.query(<span class="hljs-string">"bug-report-form"</span>)).not.toBeNull();<font></font>
});<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，同样的事情：</font></font><br>
<br>
<pre><code class="javascript hljs">
it(<span class="hljs-string">"should switch to bug report template"</span>, <span class="hljs-keyword">async</span> () =&gt; {<font></font>
  expect(fixture.debugElement.query(<span class="hljs-string">"bug-report-form"</span>)).toBeNull();
  <span class="hljs-keyword">const</span> select = <span class="hljs-keyword">await</span> loader.getHarness(MatSelect);
  <span class="hljs-keyword">await</span> select.clickOptions({ <span class="hljs-attr">text</span>: <span class="hljs-string">"Bug"</span> });<font></font>
  expect(fixture.debugElement.query(<span class="hljs-string">"bug-report-form"</span>)).not.toBeNull();<font></font>
});<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">新组件</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，您可以将YouTube和Google地图中的功能合并到您的应用程序中。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">您可以将YouTube播放器与新的youtube播放器一起嵌入到您的应用程序中。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们还将介绍google-maps组件。</font><font style="vertical-align: inherit;">这些组件使可视化Google Maps，显示标记和连接互动变得容易，因此它就像常规的角度组件一样工作，从而无需学习Google Maps API。</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">IDE和语言服务改进</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Visual Studio Marketplace平台上的Angular语言服务扩展已进行了重大改进。</font><font style="vertical-align: inherit;">随着大型建筑的修复，以解决性能和稳定性问题，许多长期存在的错误已得到修复。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">模板语法的TextMate语法现在允许您突出显示嵌入式和外部模板中的语法</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">转到templateUrl和styleUrls的定义</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">工具提示中的类型和NgModule信息</font></font></li>
</ul><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">TypeScript 3.7支持</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Angular已更新为可与TypeScript 3.6和3.7一起使用，包括TypeScript 3.7中非常流行的可选绑定功能。</font><font style="vertical-align: inherit;">为了与生态系统保持联系，我们还更新了其他依赖项的版本，例如zone.JS和RxJS。</font></font></div>
      
    </div><p>Source: <a rel="nofollow" href="https://habr.com/ru/post/zh-CN487362/">https://habr.com/ru/post/zh-CN487362/</a></p>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN487346/index.html">网络异常分析工具的使用案例：泄漏检测</a></li>
<li><a href="../zh-CN487348/index.html">优先任务排名-IL TEMPO应用</a></li>
<li><a href="../zh-CN487356/index.html">你要改变吗？再想一想</a></li>
<li><a href="../zh-CN487358/index.html">BERT，ELMO和Co.的图片（NLP的转移培训如何来了）</a></li>
<li><a href="../zh-CN487360/index.html">数据匿名化不能保证您完全匿名</a></li>
<li><a href="../zh-CN487366/index.html">恐慌状态：对2019-nCoV冠状病毒流行情况的清晰观察</a></li>
<li><a href="../zh-CN487368/index.html">混合销售团队。人与AI在同一团队中工作</a></li>
<li><a href="../zh-CN487370/index.html">基于msgr.ru数据的房地产市场分析</a></li>
<li><a href="../zh-CN487372/index.html">IBM数据科学专业证书认证</a></li>
<li><a href="../zh-CN487374/index.html">保罗·格雷厄姆（Paul Graham）：时尚问题</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>