<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>ü§öüèª ü§∑üèΩ üôçüèæ Balanceamento de carga e dimensionamento de conex√µes de longa dura√ß√£o do Kubernetes üéé üêú üê±</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Este artigo ajudar√° voc√™ a entender como o balanceamento de carga no Kubernetes funciona, o que acontece ao dimensionar conex√µes de longa dura√ß√£o e po...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Balanceamento de carga e dimensionamento de conex√µes de longa dura√ß√£o do Kubernetes</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/493820/"><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/445/275/8af/4452758afb53f8b3161ace47d8c6ea49.png"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Este artigo ajudar√° voc√™ a entender como o balanceamento de carga no Kubernetes funciona, o que acontece ao dimensionar conex√µes de longa dura√ß√£o e por que voc√™ deve considerar o balanceamento no lado do cliente se voc√™ usa HTTP / 2, gRPC, RSockets, AMQP ou outros protocolos de longa dura√ß√£o.&nbsp;</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um pouco sobre como o tr√°fego √© redistribu√≠do no Kubernetes&nbsp;</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Kubernetes fornece duas abstra√ß√µes convenientes para a implanta√ß√£o de aplicativos: Servi√ßos e Implanta√ß√µes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As implanta√ß√µes descrevem como e quantas c√≥pias do seu aplicativo devem estar em execu√ß√£o a qualquer momento. </font><font style="vertical-align: inherit;">Cada aplicativo √© implantado como em (Pod) e recebe um endere√ßo IP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os servi√ßos de recursos s√£o semelhantes a um balanceador de carga. </font><font style="vertical-align: inherit;">Eles s√£o projetados para distribuir o tr√°fego entre v√°rias lareiras. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos ver como fica</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No diagrama abaixo, voc√™ v√™ tr√™s inst√¢ncias do mesmo aplicativo e um balanceador de carga:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/80f/58d/4f9/80f58d4f9cd1e34a88aa7b8a33c0a82f.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O balanceador de carga √© chamado de Servi√ßo, recebe um endere√ßo IP. </font><font style="vertical-align: inherit;">Qualquer solicita√ß√£o recebida √© redirecionada para um dos pods:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/63e/7ef/b73/63e7efb73e75ce67fcd47f74b03aa04d.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O script de implanta√ß√£o determina o n√∫mero de inst√¢ncias do aplicativo. </font><font style="vertical-align: inherit;">Voc√™ quase nunca precisar√° implantar diretamente em:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a96/121/8c3/a961218c382f2343f72bdcf639f20222.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cada pod possui um endere√ßo IP pr√≥prio:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3c0/699/ef3/3c0699ef3d5a60d5b08f7afdfdedac29.png"></div></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√â √∫til considerar os servi√ßos como um conjunto de endere√ßos IP. </font><font style="vertical-align: inherit;">Cada vez que voc√™ acessa o servi√ßo, um dos endere√ßos IP √© selecionado na lista e usado como o endere√ßo de destino. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Isto √© o seguinte</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">H√° uma solicita√ß√£o de ondula√ß√£o 10.96.45.152 para o servi√ßo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/60a/52c/539/60a52c539ed6d1791cbafa794db2c4a9.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O servi√ßo seleciona um dos tr√™s endere√ßos de pod como o destino:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2a8/ac4/e23/2a8ac4e23e79da06ee64c01e071b9089.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O tr√°fego √© redirecionado para um pod espec√≠fico:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/7ec/f2c/38e/7ecf2c38ef0af62d07d169c120ca5def.png"></div></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se seu aplicativo consistir em um front-end e um back-end, voc√™ ter√° um servi√ßo e uma implanta√ß√£o para cada um. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando o front-end atende √† solicita√ß√£o ao back-end, ele n√£o precisa saber exatamente quantos heaps o back-end serve: pode haver um, dez ou cem. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, o frontend n√£o sabe nada sobre os endere√ßos dos lares que atendem ao backend. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando o front-end faz uma solicita√ß√£o ao back-end, ele usa o endere√ßo IP do servi√ßo de back-end, que n√£o muda. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqui est√° como fica</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em 1 solicita o componente interno de back-end. </font><font style="vertical-align: inherit;">Em vez de escolher um espec√≠fico para o back-end, ele executa uma solicita√ß√£o de servi√ßo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1ff/50c/a99/1ff50ca9970854efe8af15ac2a7d1791.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O servi√ßo seleciona um dos pods de back-end como o endere√ßo de destino:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/530/dd9/9ad/530dd99add6451742a891d69ef06d03b.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O tr√°fego vai da lareira 1 √† lareira 5 selecionada pelo servi√ßo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/2ea/bdb/808/2eabdb8086fefc2c48d171f3c0e2c87e.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em 1, ele n√£o sabe exatamente quantos lares menores de 5 est√£o ocultos atr√°s do servi√ßo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/665/f5e/edc/665f5eedc580d007fd9db6ced40f86d1.png"></div></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas como exatamente o servi√ßo distribui solicita√ß√µes? </font><font style="vertical-align: inherit;">O balanceamento de rod√≠zio parece ser usado? </font><font style="vertical-align: inherit;">Vamos acertar.&nbsp;</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Balanceamento nos servi√ßos Kubernetes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os servi√ßos Kubernetes n√£o existem. N√£o h√° processo para o servi√ßo ao qual √© atribu√≠do um endere√ßo IP e uma porta. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode verificar isso acessando qualquer n√≥ no cluster e executando o comando netstat -ntlp. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ nem consegue encontrar o endere√ßo IP alocado ao servi√ßo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O endere√ßo IP do servi√ßo est√° localizado na camada de controle, no controlador e registrado no banco de dados - etcd. O mesmo endere√ßo √© usado por outro componente - kube-proxy. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O proxy Kube recebe uma lista de endere√ßos IP para todos os servi√ßos e forma um conjunto de regras de tabelas de ip em cada n√≥ do cluster. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas regras dizem: "Se virmos o endere√ßo IP do servi√ßo, precisamos modificar o endere√ßo de destino da solicita√ß√£o e envi√°-lo para um dos pods".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O endere√ßo IP do servi√ßo √© usado apenas como ponto de entrada e n√£o √© servido por nenhum processo que esteja ouvindo esse endere√ßo IP e porta. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos olhar para isso</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .&nbsp;</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Considere um cluster de tr√™s n√≥s. </font><font style="vertical-align: inherit;">Existem pods em cada n√≥:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/605/ed6/e82/605ed6e82d24139c7122fd0886fb3f5f.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lareiras tricotadas em bege fazem parte do servi√ßo. </font><font style="vertical-align: inherit;">Como o servi√ßo n√£o existe como um processo, fica acinzentado:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/175/57b/919/17557b91988036bf15bdb5fd02b25c44.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O primeiro solicita o servi√ßo e deve recair em um dos lares relacionados:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/13d/49c/2df/13d49c2dff1c5a15bfced3347ad4bc6c.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mas o servi√ßo n√£o existe, n√£o h√° processo. </font><font style="vertical-align: inherit;">Como funciona?</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7e/362/c43/a7e362c43d31ac5ba0368cbbfceae398.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Antes de a solicita√ß√£o sair do n√≥, ela passa pelas regras do iptables:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/29d/eea/0ef/29deea0efafef803b87c66a7c17cc9cc.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As regras do iptables sabem que n√£o h√° servi√ßo e substituem seu endere√ßo IP por um dos endere√ßos IP dos pods associados a este servi√ßo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a4e/ec6/0ad/a4eec60ad28fbf16b085d9b8697dce81.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A solicita√ß√£o recebe um endere√ßo IP v√°lido como o endere√ßo de destino e √© normalmente processada:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/653/ef7/4b8/653ef74b8f34567652c2e0a00c89d9a7.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dependendo da topologia da rede, a solicita√ß√£o finalmente chega ao cora√ß√£o:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/696/c59/873/696c5987341d20780825ff2a4f6f7d12.png"></div></li>
</ol><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O iptables √© capaz de equilibrar a carga?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o, o iptables √© usado para filtragem e n√£o foi projetado para balanceamento. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, √© poss√≠vel escrever um conjunto de regras que funcionam como um </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pseudo-balanceador</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E √© exatamente isso que o Kubernetes faz. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ tiver tr√™s pods, o kube-proxy escrever√° as seguintes regras:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escolha o primeiro com uma probabilidade de 33%, caso contr√°rio, v√° para a pr√≥xima regra.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escolha o segundo com uma probabilidade de 50%, caso contr√°rio, v√° para a pr√≥xima regra.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Escolha o terceiro em.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse sistema leva ao fato de que cada sub √© selecionado com uma probabilidade de 33%.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/08e/d59/2bc/08ed592bc03dd1f9740f29985451aaca.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E n√£o h√° garantia de que menos de 2 seja selecionado a seguir ap√≥s o arquivo 1. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nota</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : iptables usa um m√≥dulo estat√≠stico de distribui√ß√£o aleat√≥ria. </font><font style="vertical-align: inherit;">Assim, o algoritmo de balanceamento √© baseado na sele√ß√£o aleat√≥ria. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora que voc√™ entende como os servi√ßos funcionam, vejamos cen√°rios de trabalho mais interessantes.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">As conex√µes de longa dura√ß√£o no Kubernetes n√£o s√£o dimensionadas por padr√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cada solicita√ß√£o HTTP do front-end ao back-end √© atendida por uma conex√£o TCP separada, que abre e fecha. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o front-end enviar 100 solicita√ß√µes por segundo para o back-end, 100 conex√µes TCP diferentes ser√£o abertas e fechadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode reduzir o tempo de processamento da solicita√ß√£o e reduzir a carga se abrir uma conex√£o TCP e us√°-la para todas as solicita√ß√µes HTTP subsequentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O protocolo HTTP cont√©m um recurso chamado HTTP keep-alive ou reutiliza√ß√£o da conex√£o. Nesse caso, uma conex√£o TCP √© usada para enviar e receber muitos pedidos e respostas HTTP:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a65/cef/c9f/a65cefc9f558265089c48cdf96a1d049.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esse recurso n√£o est√° ativado por padr√£o: o servidor e o cliente devem ser configurados de acordo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A instala√ß√£o em si √© simples e acess√≠vel para a maioria das linguagens e ambientes de programa√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui est√£o alguns links para exemplos em diferentes idiomas:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://medium.com/%40onufrienkos/keep-alive-connection-on-inter-service-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manter vivo no Node.js</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://www.baeldung.com/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manter vivo na bota de mola</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://blog.insightdatascience.com/learning-about-the-"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manter vivo em python</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=https://docs.microsoft.com/en-us/dotnet/api/system.net."><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Manter vivo no .NET</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que acontece se usarmos o keep-alive no Kubernetes? </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos supor que o suporte de front-end e back-end se mantenha ativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Temos uma c√≥pia do front-end e tr√™s c√≥pias do back-end. O front-end faz a primeira solicita√ß√£o e abre uma conex√£o TCP com o back-end. A solicita√ß√£o chega ao servi√ßo, um dos pods de back-end √© selecionado como o endere√ßo de destino. Ele envia uma resposta para o back-end e o front-end a recebe. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Diferente da situa√ß√£o usual, quando a conex√£o TCP √© fechada ap√≥s o recebimento da resposta, ela √© mantida aberta para as seguintes solicita√ß√µes HTTP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que acontece se o front-end envia mais solicita√ß√µes de back-end? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para encaminhar essas solicita√ß√µes, uma conex√£o TCP aberta ser√° usada, todas as solicita√ß√µes ser√£o enviadas para a mesma sob o back-end, onde a primeira solicita√ß√£o foi recebida.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O iptables n√£o deve redistribuir o tr√°fego? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
N√£o neste caso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando uma conex√£o TCP √© criada, ela segue as regras do iptables, que selecionam uma espec√≠fica para o back-end para onde o tr√°fego ir√°. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como todos os pedidos a seguir passam por uma conex√£o TCP j√° aberta, as regras do iptables n√£o s√£o mais chamadas. </font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vamos ver como fica</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O primeiro sub envia uma solicita√ß√£o ao servi√ßo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d1/235/11b/0d123511bd0e4e5d3806fdd7917e0bd7.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ j√° sabe o que vai acontecer a seguir. </font><font style="vertical-align: inherit;">O servi√ßo n√£o existe, mas existem regras do iptables que manipular√£o a solicita√ß√£o:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/0d1/235/11b/0d123511bd0e4e5d3806fdd7917e0bd7.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Um dos pods de back-end ser√° selecionado como o endere√ßo de destino:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/9ae/5c0/e5b/9ae5c0e5bd3478f20d1546951a298dfd.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A solicita√ß√£o chega √† lareira. </font><font style="vertical-align: inherit;">Nesse ponto, uma conex√£o TCP permanente entre os dois pods ser√° estabelecida:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/b23/154/129/b23154129408fd401651880d3b94d816.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Qualquer pr√≥xima solicita√ß√£o do primeiro pod passar√° por uma conex√£o j√° estabelecida:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/f90/e1c/232/f90e1c232dbc399d39aaff47045b9aa8.gif"></div></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, voc√™ obteve uma resposta mais r√°pida e maior largura de banda, mas perdeu a capacidade de dimensionar o back-end. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mesmo se voc√™ tiver dois pods no back-end, com uma conex√£o constante, o tr√°fego sempre ser√° direcionado para um deles. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso pode ser corrigido? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como o Kubernetes n√£o sabe como equilibrar conex√µes persistentes, essa tarefa √© de sua responsabilidade. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Servi√ßos s√£o um conjunto de endere√ßos IP e portas chamados de terminais. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seu aplicativo pode obter uma lista de pontos de extremidade do servi√ßo e decidir como distribuir solicita√ß√µes entre eles. Voc√™ pode abrir uma conex√£o persistente para cada lareira e equilibrar solicita√ß√µes entre essas conex√µes usando round-robin. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ou aplique </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">algoritmos de balanceamento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mais </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;">sofisticados</font></a><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O c√≥digo do lado do cliente respons√°vel pelo balanceamento deve seguir esta l√≥gica:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obtenha a lista de pontos de extremidade do servi√ßo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Para cada n√≥ de extremidade, abra uma conex√£o persistente.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Quando voc√™ precisar fazer uma solicita√ß√£o, use uma das conex√µes abertas.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atualize regularmente a lista de terminais, crie novos ou feche as conex√µes persistentes antigas, se a lista mudar.</font></font></li>
</ol><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Aqui est√° como ser√°</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em vez de enviar a primeira solicita√ß√£o para o servi√ßo, voc√™ pode equilibrar as solicita√ß√µes no lado do cliente:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/98f/91a/0c9/98f91a0c9ecae76bd8f286ba3a282ff1.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ precisa escrever um c√≥digo que pergunte quais pods fazem parte do servi√ßo:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/040/203/cb5/040203cb52d6b22bb8179a6870d2485f.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Assim que voc√™ receber a lista, salve-a no lado do cliente e use-a para conectar-se aos pods:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/4e5/741/3e7/4e57413e7b01b017cf57fab312b28089.png"></div></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Voc√™ √© respons√°vel pelo algoritmo de balanceamento de carga:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/8d9/bc6/7ad/8d9bc67ad511790b477c8509c91fffb0.gif"></div></li>
</ol><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, a pergunta √©: esse problema se aplica apenas ao HTTP keep-alive?</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Balanceamento de carga no lado do cliente</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HTTP n√£o √© o √∫nico protocolo que pode usar conex√µes TCP persistentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se seu aplicativo usar um banco de dados, a conex√£o TCP n√£o abrir√° toda vez que voc√™ precisar executar uma solicita√ß√£o ou obter um documento no banco de dados.&nbsp;</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em vez disso, uma conex√£o TCP permanente com o banco de dados √© aberta e usada. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o seu banco de dados estiver implantado no Kubernetes e o acesso for fornecido como um servi√ßo, voc√™ encontrar√° os mesmos problemas descritos na se√ß√£o anterior. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma r√©plica do banco de dados ser√° carregada mais que o restante. </font><font style="vertical-align: inherit;">O Kube-proxy e o Kubernetes n√£o ajudar√£o a equilibrar as conex√µes. </font><font style="vertical-align: inherit;">Voc√™ deve cuidar de equilibrar as consultas no seu banco de dados.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dependendo da biblioteca que voc√™ usa para se conectar ao banco de dados, voc√™ pode ter v√°rias op√ß√µes para resolver esse problema. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A seguir, √© apresentado um exemplo de acesso a um cluster de banco de dados MySQL no Node.js:</font></font><br>
<br>
<pre><code class="javascript hljs"><span class="hljs-keyword">var</span> mysql = <span class="hljs-built_in">require</span>(<span class="hljs-string">'mysql'</span>);
<span class="hljs-keyword">var</span> poolCluster = mysql.createPoolCluster();<font></font>
<font></font>
<span class="hljs-keyword">var</span> endpoints = <span class="hljs-comment">/* retrieve endpoints from the Service */</span><font></font>
<font></font>
<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> [index, endpoint] <span class="hljs-keyword">of</span> endpoints) {<font></font>
&nbsp; poolCluster.add(<span class="hljs-string">`mysql-replica-<span class="hljs-subst">${index}</span>`</span>, endpoint);<font></font>
}<font></font>
<font></font>
<span class="hljs-comment">// Make queries to the clustered MySQL database</span></code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Existem muitos outros protocolos que usam conex√µes TCP persistentes:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">WebSockets e WebSockets protegidos</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 2</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">gRPC</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RSockets</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">AMQP</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ j√° deve estar familiarizado com a maioria desses protocolos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas se esses protocolos s√£o t√£o populares, por que n√£o existe uma solu√ß√£o de balanceamento padronizada? Por que √© necess√°ria uma altera√ß√£o na l√≥gica do cliente? Existe uma solu√ß√£o nativa do Kubernetes? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O proxy e o iptables do Kube s√£o projetados para fechar a maioria dos cen√°rios de implanta√ß√£o padr√£o do Kubernetes. Isto √© por conveni√™ncia. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ usa um servi√ßo da web que fornece uma API REST, est√° com sorte - nesse caso, conex√µes TCP permanentes n√£o s√£o usadas, voc√™ pode usar qualquer servi√ßo Kubernetes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por√©m, assim que voc√™ come√ßar a usar conex√µes TCP persistentes, ter√° que descobrir como distribuir uniformemente a carga nos back-end. O Kubernetes n√£o cont√©m solu√ß√µes prontas para este caso.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, √© claro, existem op√ß√µes que podem ajudar.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Balanceamento de conex√µes de longa dura√ß√£o em Kubernetes</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Kubernetes possui quatro tipos de servi√ßos:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Clusterip</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">NodePort</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Balanceador de carga</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sem cabe√ßa</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os tr√™s primeiros servi√ßos s√£o baseados no endere√ßo IP virtual, usado pelo kube-proxy para criar regras do iptables. </font><font style="vertical-align: inherit;">Mas a base fundamental de todos os servi√ßos √© um servi√ßo do tipo sem cabe√ßa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nenhum endere√ßo IP est√° associado ao servi√ßo decapitado e fornece apenas um mecanismo para obter uma lista de endere√ßos IP e portas das lareiras associadas (pontos de extremidade). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Todos os servi√ßos s√£o baseados no servi√ßo sem cabe√ßa. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O servi√ßo ClusterIP √© um servi√ßo decapitado com algumas adi√ß√µes:&nbsp;</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A camada de gerenciamento atribui a ele um endere√ßo IP.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Kube-proxy forma as regras necess√°rias do iptables.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Portanto, voc√™ pode ignorar o kube-proxy e usar diretamente a lista de pontos de extremidade recebidos do servi√ßo sem cabe√ßalho para equilibrar a carga em seu aplicativo. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mas como adicionar l√≥gica semelhante a todos os aplicativos implantados em um cluster? </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se seu aplicativo j√° estiver implantado, essa tarefa poder√° parecer imposs√≠vel. </font><font style="vertical-align: inherit;">No entanto, existe uma alternativa.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O Service Mesh o ajudar√°</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ provavelmente j√° percebeu que a estrat√©gia de balanceamento de carga do lado do cliente √© bastante padr√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quando o aplicativo √© iniciado, ele:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Obt√©m uma lista de endere√ßos IP do servi√ßo.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abre e mant√©m um conjunto de conex√µes.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atualiza periodicamente o pool, adicionando ou removendo pontos de extremidade.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Assim que o aplicativo deseja fazer uma solicita√ß√£o, ele:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seleciona uma conex√£o dispon√≠vel usando algum tipo de l√≥gica (por exemplo, round-robin).</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Atende √† solicita√ß√£o.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Essas etapas funcionam para WebSockets, gRPC e AMQP. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode separar essa l√≥gica em uma biblioteca separada e us√°-la em seus aplicativos. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, grades de servi√ßo como Istio ou Linkerd podem ser usadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Service Mesh complementa seu aplicativo com um processo que:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pesquisa automaticamente endere√ßos IP de servi√ßos.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Verifica conex√µes como WebSockets e gRPC.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Equilibra solicita√ß√µes usando o protocolo correto.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Service Mesh ajuda a gerenciar o tr√°fego dentro do cluster, mas consome bastante recursos. </font><font style="vertical-align: inherit;">Outras op√ß√µes est√£o usando bibliotecas de terceiros, como o Netflix Ribbon, ou proxies program√°veis, como o Envoy.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que acontece se voc√™ ignorar problemas de balanceamento?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ n√£o pode usar o balanceamento de carga e n√£o notar nenhuma altera√ß√£o. Vejamos alguns cen√°rios de trabalho. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ tem mais clientes que servidores, esse n√£o √© um problema t√£o grande. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suponha que haja cinco clientes que se conectem a dois servidores. Mesmo se n√£o houver balanceamento, os dois servidores ser√£o usados:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/3eb/2a3/ebf/3eb2a3ebfd09862d4200744170daec7e.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As conex√µes podem ser distribu√≠das de maneira desigual: talvez quatro clientes estejam conectados ao mesmo servidor, mas h√° uma boa chance de os dois servidores serem usados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O que √© mais problem√°tico √© o cen√°rio oposto. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ tiver menos clientes e mais servidores, seus recursos poder√£o n√£o ser utilizados o suficiente e um gargalo em potencial aparecer√°. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suponha que haja dois clientes e cinco servidores. </font><font style="vertical-align: inherit;">Na melhor das hip√≥teses, haver√° duas conex√µes permanentes com dois em cada cinco servidores. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Outros servidores ficar√£o ociosos:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/ee5/0d2/eaf/ee50d2eaf1dbefd5933dd9ec5221bd58.gif"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se esses dois servidores n√£o puderem processar o processamento de solicita√ß√µes do cliente, a escala horizontal n√£o ajudar√°.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclus√£o</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Os servi√ßos Kubernetes foram projetados para funcionar na maioria dos cen√°rios de aplicativos Web padr√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No entanto, assim que voc√™ come√ßa a trabalhar com protocolos de aplicativos que usam conex√µes TCP persistentes, como bancos de dados, gRPC ou WebSockets, os servi√ßos n√£o s√£o mais adequados. </font><font style="vertical-align: inherit;">O Kubernetes n√£o fornece mecanismos internos para balancear conex√µes TCP persistentes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso significa que voc√™ deve escrever aplicativos com a possibilidade de balancear no lado do cliente. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tradu√ß√£o preparado por uma equipe </font></font></i><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes AAS a partir de Mail.ru</font></font></i></a><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font></i><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">O que mais se pode ler sobre o t√≥pico</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tr√™s n√≠veis de dimensionamento autom√°tico no Kubernetes e como us√°-los efetivamente</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .&nbsp;</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes no esp√≠rito de pirataria com um modelo de implementa√ß√£o</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u=">   Kubernetes  </a>.</li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt493808/index.html">Linearizando c√≥digo ass√≠ncrono com corutin</a></li>
<li><a href="../pt493810/index.html">Cinco anos de intenso desenvolvimento do mercado para reconhecimento de documentos</a></li>
<li><a href="../pt493814/index.html">Como conduzimos entrevistas em Barcelona</a></li>
<li><a href="../pt493816/index.html">Guia Git N√∫mero da pe√ßa 1: tudo o que voc√™ precisa saber sobre o diret√≥rio .git</a></li>
<li><a href="../pt493818/index.html">Guia Git N√∫mero da pe√ßa 2: a regra de ouro e outros princ√≠pios b√°sicos de rebase</a></li>
<li><a href="../pt493822/index.html">Problemas e recursos da implementa√ß√£o UEFI em v√°rias plataformas</a></li>
<li><a href="../pt493826/index.html">Dividir e conquistar: melhorar a eletr√≥lise da √°gua</a></li>
<li><a href="../pt493828/index.html">Como a interface conta hist√≥rias em videogames</a></li>
<li><a href="../pt493830/index.html">Quais perguntas s√£o feitas pelo desenvolvedor Junior iOS nas primeiras entrevistas</a></li>
<li><a href="../pt493832/index.html">Painel de distribui√ß√£o do Coronavirus COVID-19 (React + Chart.js + BootstrapTable)</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>