<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üëåüèº üèà ‚ôåÔ∏è What is the new nRF Connect SDK for Nordic? Evolution, revolution or alternative? üë∞ üíò üòö</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Last week, Nordic Semiconductor added nRF52 series support to the nRF Connect SDK. 
 
 
 
 The main question that most people have is what is it and w...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>What is the new nRF Connect SDK for Nordic? Evolution, revolution or alternative?</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/497034/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Last week, Nordic Semiconductor </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">added</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nRF52 series support to the nRF Connect SDK. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6l/rn/68/6lrn68dbbfqzq7nvalyoaq6zcrg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The main question that most people have is what is it and why is it important? </font><font style="vertical-align: inherit;">This question is especially relevant for those who have experience with the nRF5 SDK, and there are many of them.</font></font><br>
<a name="habracut"></a><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">I note right away that the article is primarily written for those who use traditional approaches in the development of Cortex-M level or close devices. </font><font style="vertical-align: inherit;">Therefore, some definitions and analogies may not seem completely correct from the point of view of those who work at a high level (looks at what is happening on the Linux side), but it will be easier to understand for those who are just starting this way. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comments and clarifications are always welcome.</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">A little about who Nordic is and how they are doing well now</font></font></b>
                        <div class="spoiler_text">    Nordic     . ,   ,    Bluetooth Low Energy,  90%     .         : Starline, Pandora, Scher-Khan      .         Redmond,   Ready4Sky.             .         2     .<br>
<br>
    Nordic Semiconductor   40%,  2.5  ,     (TI). ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"></a>.   ,  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Samsung</a>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow">Xiaomi</a>   Nordic   ,   ,        .<br>
 <br>
   ,      Nordic,   ,         .      nRF5x   STM   (   ).<br>
<br>
   :<br>
<br>
<ul>
<li>    </li>
<li>   (       )</li>
<li>  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"></a>  SDK </li>
<li>  (    )</li>
<li>  Altium   </li>
<li> </li>
</ul><br>
 ,  Nordic Semiconductor       .<br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Here the main question arises, why was the new SDK released and how does it differ from the current one? </font><font style="vertical-align: inherit;">If so, everything is fine with the current solution. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The current </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF5 SDK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> works on the basis of a simple queue, and in most cases this is enough to implement almost any task (although some companies still use their own SDKs, but these are exceptions to the rules). </font><font style="vertical-align: inherit;">The new </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nRF Connect SDK</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> uses a radically different approach based on Zephyr RTOS. </font><font style="vertical-align: inherit;">Consider the differences in more detail. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
RTOS (RTOS) carry both certain advantages and known disadvantages. </font><font style="vertical-align: inherit;">The latter include:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">additional overhead for maintaining the OS</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">great complexity of development on simple projects</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">increased build complexity</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The rest of the RTOS are:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">increased reliability due to control of individual flows</font></font></li>
<li>           </li>
<li>     </li>
<li>  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Within Nordic, this has become interesting and relevant since the introduction of the new system in package (SIP) with LTE Cat-M / NB-IoT / GPS - the nRF91 series. This SIP has higher performance due to the new Cortex-M33 core and other requirements for the network component, which appeared due to the transition from BLE to cellular networks. Another innovation here was the SDR modem, which works on a separate core and with which it was necessary to organize internuclear interaction. For the first time, the RTOS-based SDK appeared here, and for those who first encountered a new approach, it raised a number of questions, starting from the preparation stage. A special assistant was also released for the correct assembly of the development environment - </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Getting Started Assistant</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. He tells you which components you need to install (there are a lot of them, see below), and checks that everything is installed correctly. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/b04/168/443/b04168443c2e299b22756b152308d774.gif" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
From this point of view, we can compare the transition to Zephyr with the appearance of the first mass ARM Cortex-M and the transition to 32 bits. Now the majority use 32-bit MKs as the main ones, about which there is </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">an article</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on Habr√©. It also tells about the transition, which initially seemed unnecessarily complicated. But over time, almost everyone came to the conclusion that this has become the standard. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is worth noting that Zephyr OS is not the only RTOS running on Nordic chips. Examples of projects with </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">FreeRTOS</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Available in SDK v.11 starting in 2016, and even earlier in SDK v.9 there was Keil RTX support for the nRF51 family (2015). </font><font style="vertical-align: inherit;">However, earlier these were more experimental functions and support was provided to a greater extent by RTOS manufacturers. </font><font style="vertical-align: inherit;">Which, in principle, is true now. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Unofficial Zephyr support for the nRF5x families appeared back </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in 2016</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zephyr Nordic decided to make a completely new SDK on RTOS only now. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
There are a number of prerequisites for this:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> A number of technologies are inherited from Linux:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">work with streams, queues in real time (especially important for time-dependent protocols such as BLE) </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libraries for networking and security</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">flexible hardware description model with energy optimization</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">libraries for working with peripherals (sensors, etc.)</font></font></li>
</ul><br>
 </li>
<li>  : <br>
<br>
<ul>
<li>     </li>
<li>   </li>
<li>   </li>
</ul><br>
 </li>
<li>      <br>
<br>
<ul>
<li>  ,   Nordic,    </li>
</ul><br>
 </li>
<li>    (       )</li>
<li>   ( )         .    ,     ,      .</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To understand how dramatic changes have occurred, the structural diagram from the official documentation is well suited. </font><font style="vertical-align: inherit;">Gray indicates the components that are part of Zephyr. </font></font><br>
<br>
<img src="https://habrastorage.org/getpro/habr/post_images/362/736/89c/36273689c10a66b97f33142745dc7f22.jpg" alt="image"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In practice, when implementing this approach, a number of cognitive problems arise. </font><font style="vertical-align: inherit;">Developers accustomed to the product and solutions experience dissonance with a large number of changes. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider the version of development on Windows, as it will cause more questions regarding those who are used to developing on Linux. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The following packages are required:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (package manager)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Git</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (version control system)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ninja</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (speed oriented build system)</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CMake</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (high-level build system)</font></font></li>
<li><b>DTC-MSYS2</b> (   (device tree))</li>
<li><b>GPerf</b> ( )</li>
<li><b>west</b> (          )</li>
<li><b>pip</b> (  Python)</li>
<li><b>Python3</b></li>
<li><b>GNU Arm Embedded Toolchain</b> (GCC, GDB      ARM)</li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
To someone who is faced with a similar set of utilities for the first time, it might seem that everything is unnecessarily complicated and the old paradigm could be used, that existing approaches to development are quite effective. </font><font style="vertical-align: inherit;">However, if you look deeper, then everything becomes much more interesting. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
For example, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Chocolatey</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pip</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> allow you to install all the necessary packages through the console for OS and Python, respectively. </font><font style="vertical-align: inherit;">And Python itself, like most of the software in question, is put in one command:</font></font><br>
<br>
<pre><code class="bash hljs">hoco install python xxx</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is also updated with one command:</font></font><br>
<br>
<pre><code class="bash hljs">choco upgrade all</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The approach is a bit unusual for Windows users, for those who are familiar with console package managers in Linux (apt, zypper, etc.), nothing new. I have often noticed the situation that software developers for MK update software only when reinstalling the OS on a PC. About why it is bad we will not talk, I only note that here this problem is solved automatically. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The innovations in the field of configuration and assembly of projects are much more interesting. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ninja was</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> designed and positioned as a replacement for make and focused on build speed. It is especially good in applications when it is necessary to rebuild projects with a bunch of small files, where there were no changes. The effect can be an order of magnitude, or even two, see </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tests</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cmake</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">in turn, it allows generating configuration files for Ninja in a high-level (scripting) language for the platform on which the assembly will take place. About Cmake can be read on Habr√©, for example, </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> and </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font></font><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GPerf</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> generates a table of pointers, which saves memory, see step 3 of the assembly below. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
We should also pay attention to a new approach to the description of iron. </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Devicetree</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> appeared </font><font style="vertical-align: inherit;">, describing the hardware structure of the device. This is a direct result of the support of Zephyr by the Linux Foundation. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The pluses are that the hardware description is now in a separate .dts file, which has a simple </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">structure</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, it is easy to modify, and, as a result, port the code between different families of chips. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As an example, how much I can clearly illustrate the basic </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">dtsi on nRF52840</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which in turn is used in the description of the nRF52840-DK </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">nrf52840dk_nrf52840.dts</font></font></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
board. The number of motherboards supported by Zephyr is already </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">over 200</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As stated earlier, Nordic first released Zephyr on the nRF91 series, then on the nRF53, and now it has finally reached the most massive nRF52.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Switching to RTOS allows in turn to solve the problem of adapting code for new hardware. Even among the chips of one family, the transition required certain resources from the development side, if it was accompanied by a transition to another softdevice (the precompiled BLE library). Not to mention the transition, for example, from 51 or 91 series to 52, when the hardware platform itself changes significantly. Now this task will be solved much easier and faster. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iron at Nordic is constantly being improved, but this must be written separately. In the framework of this article, we can only note that the focus is on integration with RTOS, safety, energy efficiency and improvement of the radio channel (BLE 5.2). Thank you can say the dual-core Cortex-M33, ARM Cryptocell and ARM TrustZone.</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
To build devicetree used</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Device Tree Compiler</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , which is part of MSYS2 (improved build system based on Cygwin and MinGW-64). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
The second part of the project configuration is in </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">KConfig</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (Kernel config), which was also inherited from Linux. It allows you to select the necessary blocks through a graphical interface and set parameters for assembly for a specific task, which is especially important in the conditions of limited resources of systems on a chip. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can use traditional utilities like </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">menuconfig,</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> or within the framework of Segger Embedded Studio (the official recommended IDE) there is a built-in interface that can be launched through the corresponding menu item: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Project&gt; Configure nRF Connect SDK Project</font></font></b> <br>
<br>
<img src="https://habrastorage.org/webt/cv/sz/bq/cvszbqtv9frwur8ss1hncds-b2k.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
An example project configuration with SSL / TLS based on nRF9160 is presented below. </font><font style="vertical-align: inherit;">As you can see in it, you can configure both the hardware features of the project (platform, number of threads, plug-in kernel modules), and software (keys, addresses, etc.). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/b-/mm/f9/b-mmf98mpjwxi_ts0tlwopujgfm.jpeg"><br>
<br>
<img src="https://habrastorage.org/webt/nk/7e/qu/nk7equjwisyaxyzknpyyxwplbys.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Consider the stages of the project assembly: There are five in total:</font></font><br>
<br>
<ul>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configuration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - preliminary processing of all configs (devicetree, KConfig), at the output we get header files describing the hardware and config for Ninja</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pre-assembly (I)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - processing structures at a high level, compiling system files and offsets (offset), creating call tables</font></font></li>
<li><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Initial assembly (II)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - compilation of the main source codes and packing them into archives, linking</font></font></li>
<li><b>  (III)</b> ‚Äî             (GPerf),         </li>
<li><b>- (IV)</b> ‚Äî  hex, bin  </li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You can read more about the Zephyr assembly system with pictures in the official </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">documentation</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . There are quite a lot of text and pictures, so we will not consider the details in the framework of this article. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
It is important to understand that the tools used here are not a substitute for the C preprocessor (cpp) and the C linker (ld). Both are used at all stages except post-processing. However, the result of their work is subject to additional improvements, which allow both to significantly reduce the assembly time and memory requirements.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You cannot directly compare the results of programs created on two SDKs. Since libraries and approaches are very different and there are no such tests yet. One can definitely say that the solution feels good on medium and top-end chips in the line (nRF52832 and higher), and there remains a large reserve of resources. However, it cannot be said that the new SDK is not applicable on younger chips like nRF52810. It is necessary to consider the problem in more detail. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Returning to the question in the title of the article, we can say that this paradigm is definitely a new reality. Which at first glance brings significant improvements. At least 2 new chip families from the largest BLE manufacturer in the world work precisely and only on this technology and no return is expected. In my opinion, this is a revolution that was prepared in advance.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Update</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : On May 14, Nordic held a </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">webinar about the new SDK</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in which it announced that all versions of BLE older than 5.0 will be available only in the nRF Connect SDK. </font><font style="vertical-align: inherit;">Accordingly, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Directino Finding</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> aka AoA / AoD (BLE 5.1) and </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">LE Audio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (BLE 5.2), which many are waiting for, will bring with them new tools this year and changes in development will come sooner than anticipated. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Findings:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The changes are radical, the code working with the current nRF5 SDK is not compatible with the new (nRF Connect SDK)</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Switching to RTOS with Devicetree and KConfig allows you to get an additional level of abstraction for hardware, which in turn significantly speeds up the development and transfer of the project to a new platform</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Switching to Zephyr brings support for a large number of protocols and libraries out of the box; for IoT devices, the most interesting are the network and security functions, where Linux is traditionally strong</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Zephyr OS uses a number of tools during assembly, which can significantly reduce assembly time and memory requirements, which is especially important for embedded applications</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The new SDK allows the use of higher-level developers, which are much more on the market than low-level ones. </font><font style="vertical-align: inherit;">This solves the issue of personnel and increasing market share.</font></font></li>
</ul></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en497022/index.html">Updating corporate network access. New ExtremeSwitching X435 Gigabit Switches</a></li>
<li><a href="../en497024/index.html">Why hyperconvergence? Cisco HyperFlex Overview and Tests</a></li>
<li><a href="../en497028/index.html">Welcome to Robot Operating System MeetUp</a></li>
<li><a href="../en497030/index.html">Experience in implementing network factories based on EVPN VXLAN and Cisco ACI and a small comparison</a></li>
<li><a href="../en497032/index.html">Service business and crisis: success stories. How does thinking outside the box work for you?</a></li>
<li><a href="../en497036/index.html">When to stop the video sequence recognition process?</a></li>
<li><a href="../en497040/index.html">Product Led Growth Strategy. How Miro grows x3 annually</a></li>
<li><a href="../en497046/index.html">How to bring a site to the west in TOP10 without knowing anything about SEO</a></li>
<li><a href="../en497050/index.html">TeamLead Conf 2020: key reports</a></li>
<li><a href="../en497052/index.html">Security Week 16: xHelper - Android Survival Trojan</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>