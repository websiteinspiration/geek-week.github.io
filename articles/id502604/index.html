<!doctype html>
<html class="no-js" lang="id">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🌁 👩🏽‍🚀 💅 Pengantar TLS untuk Patrik Patrick (Bagian 1) 👩🏽‍🤝‍👨🏻 🥔 👈🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Seperti yang mungkin sudah Anda ketahui, ini Patrick. Dia adalah bintang laut, yang berarti bahwa adalah mungkin, tanpa menghinanya, untuk mengatakan ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Pengantar TLS untuk Patrik Patrick (Bagian 1)</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/plesk/blog/502604/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Seperti yang mungkin sudah Anda ketahui, ini Patrick. Dia adalah bintang laut, yang berarti bahwa adalah mungkin, tanpa menghinanya, untuk mengatakan bahwa tangannya tumbuh dari satu tempat. Patrick juga sangat praktis dan segera melupakan semua yang tidak dia butuhkan - tetapi jika dia membutuhkan sesuatu, dia ingin mengetahuinya (karena dia membutuhkannya!). Spoiler: di sini Patrick mencoba melakukan Jabat Tangan TLS. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/di/aa/64/diaa64cwcj8dktjvcv-4ba6wtbg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Artikel ini ditulis untuk Patrick dan orang-orang seperti dia. Dia lahir dari presentasi yang pertama kali ditampilkan di Plesk TechTalk, pendidikan internal kami, di mana karyawan dalam bentuk yang dapat diakses saling berbagi informasi tentang teknologi, proses, dan solusi yang menarik. Oleh karena itu, gambar dalam artikel ini akan terlihat seperti slide :) Penulis teks asli laporan ini adalah manajer program Plesk </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ruslan Kosolapov</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Biasanya, semua materi TLS mencakup beberapa aspek kecil, tetapi bukan gambaran besarnya. </font><font style="vertical-align: inherit;">Ini tidak terlalu praktis dan Patrick pusing karenanya. </font><font style="vertical-align: inherit;">Semuanya akan berbeda di sini: secara singkat, berlaku "dalam kehidupan sehari-hari" dan selengkap mungkin.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa itu TLS dan mengapa itu untuk Patrick</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
TLS (Transport Layer Security) adalah protokol perlindungan layer transport. Ini diperlukan agar tidak ada yang bisa "mendengarkan" Anda dan mencari tahu beberapa informasi penting (paling sering kata sandi, jika kita berbicara tentang bekerja di jaringan). Dan juga untuk melindungi diri dari pemalsuan dan modifikasi lalu lintas selama transmisi. Dalam dua hal inilah tujuan kebohongan TLS. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Untuk kejelasan, mari kita pertimbangkan jabat tangan TLS sebagai panggilan ke Patrick SpongeBob. Selama panggilan, seseorang dapat menguping pembicaraan (berdiri di sebelah Patrick atau menghidupkan di tengah-tengah garis), dan umumnya SpongeBob mungkin tidak berada di ujung lain - semua masalah ini relevan. Dan untuk menyelesaikannya, Patrick ingin menggunakan TLS. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Singkatnya, jabat tangan tingkat atas terlihat seperti ini: </font></font></b><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Patrick:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Saya ingin menggunakan TLS, versi cipher adalah ini dan itu.</font></font><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Spongebob:</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ok, mari kita gunakan versi cipher ini dan itu. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Setelah itu, SpongeBob mengirimkan sertifikat, Patrick memeriksanya, mengatakan bahwa semuanya baik-baik saja, kunci sesi sudah selesai (sebenarnya ada dua, tetapi tidak masalah). Mengapa menggunakan kunci sesi daripada enkripsi asimetris - karena lebih cepat. Setelah itu, mereka mulai berbicara bahasa yang tidak dapat dipahami dengan dekripsi. Dengan demikian, semuanya terlindungi. </font></font><br>
<img src="https://habrastorage.org/webt/na/xj/yu/naxjyufzfjvlcazi16qsmlf5muq.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segalanya tampak sederhana. Cara kerjanya pada perangkat keras tidak begitu penting bagi kami. Tetapi jika Anda mulai berpikir - dan Patrick mulai berpikir! - yang menimbulkan pertanyaan tentang bagaimana menyetujui secara umum bahwa kami akan menggunakan TLS? Lagi pula, sekali tidak ada TLS, tetapi hanya ada protokol biasa - SMTP, HTTP. Bagaimana cara mengatakan apa yang dibutuhkan di TLS? Dan di sini di industri kami semuanya seperti biasa - ada banyak cara!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Awalnya mereka ingin menggunakan port tertentu, yang akan menyiratkan penggunaan TLS di atasnya. </font><font style="vertical-align: inherit;">Apa kerugiannya? </font><font style="vertical-align: inherit;">Dan mengapa kemudian metode eksplisit (eksplisit) untuk memulai sesi TLS muncul? </font><font style="vertical-align: inherit;">Ada beberapa alasan:</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Anda membutuhkan banyak port - dan port adalah hal yang tidak ingin Anda belanjakan. </font><font style="vertical-align: inherit;">Karena semakin banyak ada, semakin sulit untuk mengkonfigurasi firewall.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Server dapat mengabaikan ini - ia telah terhubung ke port 443, dan tidak ada TLS di sana, hanya HTTP tanpa HTTPS.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Sebelum koneksi dibuat, Anda tidak dapat mengetahui apakah server TLS didukung atau tidak.</font></font></li>
</ol><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua ini mengarah pada munculnya metode eksplisit - ketika kita terhubung ke port reguler, dan kemudian memutakhirkan sesi kita ke TLS. </font><font style="vertical-align: inherit;">Untuk layanan yang berbeda, protokol memiliki perintah yang berbeda, misalnya, untuk SMTP ada perintah terpisah di tingkat protokol SMTP - </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STARTTLS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">HTTP juga memiliki lelucon seperti itu, disebut </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Upgrade: TLS / 1.0</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Pada tingkat protokol, lebih mudah untuk memahami apakah server TLS didukung atau tidak. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita membahas lebih jauh tentang berbagai jenis koneksi dan bagaimana hal-hal dengan TLS untuk mereka.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hubungkan: HTTP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segalanya akan mudah jika, seperti biasa, tidak ada nuansa. Dalam hal HTTP, persyaratan keamanan yang berkembang memberikan evolusi konstan dari proses bekerja dengan TLS. Pada awalnya ada pengalihan ke HTTPS, dan ini dilakukan hanya di header. Ini meninggalkan celah untuk kerentanan, jadi sesama Google datang dengan HSTS (HTTP Strict Transport Security). Ini adalah tajuk dalam respons HTTP yang memberi tahu browser: "harap diingat bahwa ketika Anda datang ke domain ini, langsung ke HTTPS, bahkan jika orang tersebut menyuruh Anda untuk pergi ke HTTP". Dengan demikian, tidak ada redirect dan semuanya terjadi jauh lebih aman. Selain itu, Google memiliki inisiatif lain - Anda dapat meninggalkan permintaan sehingga situs Anda ditambahkan ke daftar untuk Google Chrome “Selalu gunakan HTTPS”, terlepas dari judul apa pun. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara singkat:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> HSTS memecahkan pengalihan dari kerentanan HTTP ke HTTPS, sehingga hampir semua browser mendukung HSTS, yang bagus.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Connect: exotic (versi HTTP baru dan tidak hanya)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam HTTP / 2, semuanya baik-baik saja dengan TLS: selalu digunakan (seperti browser yang dibuat sekarang). </font><font style="vertical-align: inherit;">Selain itu, TLS dalam HTTP / 2 harus segar - yaitu, memiliki versi 1.2+. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kemungkinan besar, segera Google akan menjual penggunaan HTTP / 3 yang meluas, sekarang sudah diadopsi oleh standar IANA. </font><font style="vertical-align: inherit;">Kisah penampilan dan perkembangannya agak membingungkan; </font><font style="vertical-align: inherit;">Hal utama yang perlu diingat Patrick:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> HTTP / 3 selalu TLS 1.3+.</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HTTP / 3 didasarkan pada QUIC - itu adalah protokol seperti di atas UDP, yang, menurut Google, lebih baik daripada TCP. </font><font style="vertical-align: inherit;">Sebenarnya, sebelum nama HTTP / 3 akhirnya disetujui, protokol itu disebut HTTP-over-QUIC.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Masih ada protokol SCTP yang menarik, yang digunakan terutama di bidang telekomunikasi. </font><font style="vertical-align: inherit;">Di atasnya, baik TLS dan DTLS digunakan (ini adalah TLS untuk UDP). </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara singkat:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dalam 2 tahun, QUIC (mis. HTTP / 3) akan digunakan di mana-mana, tetapi sekarang seharusnya sudah ada HTTP / 2 di mana-mana, tetapi pada kenyataannya tidak ada di mana-mana.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hubungkan: Email</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Banyak klien percaya bahwa harus ada TLS pada port 587, tetapi ada juga nuansa di sini: seseorang mengharapkan TLS secara default, dan seseorang mengharapkan permintaan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STARTTLS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> eksplisit </font><font style="vertical-align: inherit;">dari klien. Karena itu, berbagai kombinasi server surat dan klien surat terkadang menyebabkan efek yang tidak diinginkan. Sebagai contoh, klien memasuki port 587, mengharapkan bahwa akan ada TLS, sementara server menunggu klien untuk secara eksplisit meminta </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">STARTTLS</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Setelah tidak menerima apa-apa, klien kembali ke port 25. Hasilnya adalah beralih diam ke koneksi SMTP tidak aman. Saat menguji dan mengembangkan, perlu diingat tentang efek kombinasi server-klien. Autodiscaver memiliki berbagai opsi untuk menentukan TLS: bagaimana seharusnya, apa yang diharapkan, dan apa yang harus dilakukan. Banyak klien email memahami hal-hal ini. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara singkat:</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> dengan dukungan TLS di server surat dan klien surat semuanya baik-baik saja secara umum, tetapi dalam kasus khusus mungkin ada masalah dan ekstensi TLS tidak didukung dengan sangat baik.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hubungkan: FTP</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sedikit yang bisa dikatakan di sini. </font><font style="vertical-align: inherit;">Masalah utama adalah SNI (ini saat domain yang berbeda memiliki IP yang sama). </font><font style="vertical-align: inherit;">Di tingkat FTP, nama domain tidak ditransfer. </font><font style="vertical-align: inherit;">Dalam versi eksplisit, itu tidak bisa berfungsi, karena tidak ada tempat untuk menulisnya. </font><font style="vertical-align: inherit;">Ada beberapa opsi solusi - beberapa tawaran jadi, yang lain jadi, solusi umum belum diadopsi, tidak ada standar. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Secara singkat: ada</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> beberapa jenis dukungan TLS untuk FTP (FTPS, SFTP - analog FTP yang diimplementasikan melalui SSH), tetapi beberapa aspek tidak tercakup karena keterbatasan teknis dari FTP itu sendiri.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jabat Tangan TLS</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, sekarang kita tahu bagaimana memulai komunikasi menggunakan TLS dalam koneksi yang berbeda, dan Patrick dapat mengomunikasikan keinginannya kepada SpongeBob. </font><font style="vertical-align: inherit;">Setelah mereka sepakat bahwa mereka akan menggunakan TLS, Handshake TLS diproduksi. </font><font style="vertical-align: inherit;">Hasilnya harus berupa kesepakatan antara klien dan server tentang cara mereka mengenkripsi semuanya. </font><font style="vertical-align: inherit;">Selain itu, klien harus memastikan bahwa server adalah yang diperlukan. </font><font style="vertical-align: inherit;">Terkadang server juga memeriksa klien (tetapi lebih jarang).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cipher dan Versi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Seperti yang telah disebutkan, langkah pertama adalah memilih versi TLS dan cipher mana yang akan digunakan untuk enkripsi. </font><font style="vertical-align: inherit;">Biasanya, cipher terlihat seperti ini: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/7j/bc/ne/7jbcnel13ieehyi6h6ibu9gi7r4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Suite cipher ada di registri IANA, dan dalam protokol TLS dalam bentuk biner hanya ID-nya. </font><font style="vertical-align: inherit;">Seperti yang Anda lihat pada gambar, di sini bukan hanya (dan tidak hanya) cipher, tetapi juga mode operasinya dan detail lainnya yang diperlukan untuk jabat tangan TLS. </font><font style="vertical-align: inherit;">Patrick tidak perlu merinci. </font><font style="vertical-align: inherit;">Yang penting pada tahap ini adalah untuk mengingat bahwa surat-surat ini baik (dan sisanya buruk):</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> DHE</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ECDhe</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AES128</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> AES256</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> RSA</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ecdsa</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cbc</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gcm</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SHA256</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> SHA383</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> CHACHA20</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> POLY1308</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Gambar untuk mengingat sandi yang baik: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/5o/oz/us/5oozuswdmgo1dmropfliew8ee3w.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jika sulit diingat, ada layanan yang baik yang dapat memberi tahu Anda tentang hal itu, misalnya, layanan dari Mozilla </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ssl-config.mozilla.org</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br>
<img src="https://habrastorage.org/webt/im/06/g0/im06g0jqgsdkw3kbie0c3lzfjcq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Anda dapat segera melihat di mana dan bagaimana itu didukung - ini adalah apa yang sedang berusaha diikuti oleh para Mozilla. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Detail yang menarik: klien mentransfer cipher dalam urutan prioritas sesuai dengan preferensi mereka, tetapi server dibiarkan dengan keputusan - memilih cipher yang tampaknya menjadi yang terbaik dari daftar klien yang didukung. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kedua belah pihak juga menunjukkan versi maksimum protokol yang didukung - dalam hal ini, Patrick lebih maju daripada SpongeBob.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Sebenarnya sertifikat</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bersama dengan jawaban "Ayo lakukan seperti ini", server mengirimkan sertifikat atau sertifikatnya - mungkin ada banyak. </font></font><br>
<img src="https://habrastorage.org/webt/ay/9m/p-/ay9mp-c7akdltxlnomatwwq1zdq.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Apa itu sertifikat? Ini adalah hubungan informasi (subjek) - paling sering itu adalah nama domain atau organisasi - dan kunci publik (kunci publik). Yaitu, sertifikat mengatakan: “Bung, kunci publik saya seperti itu. Sekarang, dengan bantuannya, kami akan menyetujui kunci sesi. ” Juga, dengan bantuannya, Anda dapat memeriksa tanda tangan sertifikat atau yang lainnya. Artinya, pada prinsipnya, dimungkinkan untuk menggunakan bukan sertifikat, tetapi mendaftar di mana hubungan ini ditunjukkan. Dan pada kenyataannya, langkah-langkah ke arah ini terus berlanjut, karena mekanisme Otoritas Sertifikat dianggap tidak terlalu baik, tidak ada yang lain.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dengan demikian, sertifikat tersebut adalah struktur 'Subjek: Kunci publik' ditambah tanda tangan ishyuer (penerbit dalam transliterasi ke dalam bahasa Rusia terlihat mengerikan, tetapi sinonim terdekat di sini tidak terlalu dekat dalam konteks dengan “penerbit”) yang dikeluarkan oleh sertifikat ini. Ishüyer juga memiliki sertifikat dan koneksi seseorang dengan sesuatu. Anda dapat memeriksa sertifikat untuk kebenaran dengan mengambil kunci publik dari ishyuere dan memeriksa tanda tangan. Akibatnya, tidak ada yang bisa dipalsukan di sini. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Mari kita periksa sertifikat dan melihat masalah apa yang mungkin terjadi. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/14/gt/ox/14gtoxx4czgwthkckj2vjyjfnbi.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Pertama, Nomor seri menyiratkan keunikan hanya dalam batas ishyuere, meskipun beberapa perangkat lunak menganggapnya unik di seluruh alam semesta. Untungnya, lebih sering daripada tidak, itu benar-benar unik.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sertifikat juga menunjukkan algoritma mana yang digunakan untuk enkripsi dan penandatanganan: RSA atau ECDSA - yaitu, kriptografi mana yang digunakan untuk bekerja dengan kunci publik ini. Perbedaan utama antara RSA dan ECDSA adalah bahwa prinsip matematika ECDSA didasarkan pada kurva eliptik, dan RSA adalah bilangan alami, sehingga lebih lambat dan kunci besar (3-4 ribu) digunakan untuk mencegahnya dari retak. . Dan untuk ECDSA, kunci 300-bit sudah cukup dan bekerja lebih cepat. Karena itu, banyak yang beralih ke ECDSA - jabat tangan itu sendiri berat dan saya ingin menguranginya. ECDSA dapat diminta ketika menerbitkan sertifikat, dan jika prospektor mendukungnya, ia akan melakukannya untuk Anda. Tetapi tanda tangan sertifikat tergantung pada kunci privat ishuiur saat ini, dan bukan pada apakah Anda meminta ECDSA atau RSA.Oleh karena itu, peramban dapat menunjukkan bahwa satu di tanda tangan dan lainnya di kunci publik, dan tidak perlu takut jika tanda tangannya bukan ECDSA.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Bagaimana cara mendapatkan sertifikat?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Singkatnya - seperti ini: </font></font><br>
<img src="https://habrastorage.org/webt/th/7f/f1/th7ff1g-1g54v0t-_genzf3rc3u.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Patrick memberi tahu Otoritas Sertifikat: Saya perlu sertifikat. </font><font style="vertical-align: inherit;">Orang ini (atau organisasi) memeriksa untuk melihat apakah itu Patrick. </font><font style="vertical-align: inherit;">Cek bisa sangat berbeda. </font><font style="vertical-align: inherit;">Tentu saja, Patrick sebagai klien mungkin tidak memiliki sertifikat, tetapi jika server tidak memiliki sertifikat, maka tidak akan ada TLS. </font><font style="vertical-align: inherit;">Diperiksa apakah semuanya ditunjukkan dengan benar dalam aplikasi sertifikat, apakah Patrick benar-benar memiliki subjek yang dimintanya meminta sertifikat. </font><font style="vertical-align: inherit;">Ini dilakukan oleh pusat Otoritas Sertifikat yang lebih tinggi - orang bersyarat yang diyakini semua orang. </font><font style="vertical-align: inherit;">Untuk menerbitkan sertifikat, Anda perlu menyusun CSR (permintaan penandatanganan sertifikat, permintaan untuk sertifikat).</font></font><br>
<br>
<img src="https://habrastorage.org/webt/z1/mi/dk/z1midktpy8soeqqaz_xah-w0sn8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ini juga merupakan struktur, yang cukup sulit untuk dikerjakan, karena ada beberapa layanan yang memungkinkan Anda untuk mengatur, menentukan, memverifikasi, dan melihat semuanya. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Total, kami menghasilkan sepasang kunci publik: kunci privat, tetapi kami hanya memberikan publik, dan menyembunyikan privat. </font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kemudian kami membuat Permintaan Penandatanganan Sertifikat dan menandatanganinya dengan kunci pribadi kami. </font><font style="vertical-align: inherit;">Kami mengirim semua ini ke otoritas sertifikasi, dan ini memulai verifikasi. </font><font style="vertical-align: inherit;">Ini bisa berbeda, terutama untuk sertifikat keren ada prosedur rumit khusus, tetapi kita akan membahas kasus umum.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CAA RR</font></font></h2><br>
<img src="https://habrastorage.org/webt/pg/rh/lw/pgrhlwwd8la4_perxzg4zawlyjy.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada masalah sedemikian rupa sehingga orang-orang yang setiap orang percaya terkadang tidak terlalu baik. Salah satu alasan Symantec menjadi bagian dari DigiCert adalah karena Symantec mengeluarkan sertifikat tanpa meminta pemilik domain. Anda tidak dapat melakukan ini, itu menghina semua orang, tetapi yang paling penting bagi Symantec sendiri, karena Anda harus menjual bisnis Anda. Untuk membuat server tidak terlalu bergantung pada kawan-kawan yang tidak bermoral seperti itu, ada yang namanya CAA RR - sebuah catatan dalam DNS, di mana dikatakan siapa pemiliknya yang mengizinkan mengeluarkan sertifikat untuk domainnya. Fitur ini juga ada di Plesk, hanya digunakan sejauh ini, kira-kira seperti DNSSec, namun demikian. Semua otoritas sertifikasi setuju untuk memeriksa entri ini dan jika dikatakan bahwa otoritas sertifikasi ini tidak dapat dikeluarkan, ia akan mengatakan: "Anda tidak lulus validasi, itu ditulis dalam CAA RR,bahwa saya tidak dapat menulis sertifikat untuk Anda ”- dan tidak akan menuliskannya. Jika tidak ada entri, maka Anda bisa. Sekarang Google mendorong inisiatif sehingga pelanggan memeriksa sertifikat yang mereka terima untuk kesesuaian dengan catatan CAA RR. Perdebatan masih berlangsung.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain itu, CAA RR sejak kami memberikan dukungan di Plesk diperluas dengan menunjukkan metode validasi (yaitu, Anda juga dapat menunjukkan di sini dengan metode mana Anda memvalidasi bahwa domain ini milik Anda) dan URI Akun (Uniform Resource Identifier). </font><font style="vertical-align: inherit;">Populer di kalangan pengguna Plesk Let's Encrypt sudah mendukung semua ini (dilakukan dengan baik!). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Semua ini berfungsi untuk semua jenis sertifikat, dan karena kita akan membicarakan perbedaannya nanti, sekarang saatnya untuk membicarakan jenis-jenisnya secara lebih rinci.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Jenis Sertifikat</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ada tiga di antaranya:</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Validasi domain</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Subjek adalah domain, yaitu, di sini kami hanya memeriksanya. </font><font style="vertical-align: inherit;">Sebelumnya, ketika tidak ada validator otomatis, validasi dilakukan terutama melalui email melalui layanan Whois. </font><font style="vertical-align: inherit;">Ini dianggap alasan yang cukup untuk percaya bahwa Anda adalah pemilik domain ini. </font><font style="vertical-align: inherit;">Kemudian mereka berpikir memeriksa melalui DNS - mereka menulis kepada Anda melalui email: "dan menambahkan catatan ini dan itu ke DNS". </font><font style="vertical-align: inherit;">Kemudian metode otomatis muncul (kita akan berbicara tentang ACME sedikit lebih jauh).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Validasi organisasi</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Di bidang "subjek", selain nama domain, nama organisasi juga ditunjukkan. </font><font style="vertical-align: inherit;">Cek terdiri dari memvalidasi apakah domain milik organisasi ini dan apakah orang yang datang untuk sertifikat bekerja di sana. </font><font style="vertical-align: inherit;">Bagaimana ini dilakukan: mereka mencari organisasi di register, menelepon, meminta sesuatu untuk dilakukan (telepon ternyata benar, orang yang tepat menjawab, yang berarti kemungkinan besar semuanya baik-baik saja).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Validasi diperpanjang</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sama seperti OV, hanya lebih dingin. Semuanya sangat diatur di sini - dokumen 40 halaman dalam semangat "dalam paragraf 5.6.8 harus sebagai berikut: ...", dll. Banyak hal diperiksa - negara, departemen (jika ditunjukkan dalam aplikasi), dan kadang-kadang orang istimewa bahkan pergi untuk melihat dengan matanya. Apa perbedaan praktisnya? Hampir semua browser tidak lagi membedakan antara OV dan DV, dan ini buruk, karena dalam hal ini nama organisasi tidak ditampilkan. Akibatnya, tidak ada yang mau membuat domain aliepxress.ru, menggambar halaman yang sama dan mencuri kartu kredit. Dan itu benar-benar sah untuk membuat domain semacam itu dan mendapatkan sertifikat DV di atasnya.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Contoh dengan EV - nama organisasi terlihat di sini, jadi jika seseorang mencuri sesuatu, pengguna akan tahu bahwa itu adalah perusahaan Valve Corp, dan mendaftarkan perusahaan itu agak lebih sulit daripada domainnya (lebih banyak cek). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/6p/kp/kc/6pkpkccn848gjwl1osfx_yc0gjy.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Namun, semuanya berjalan ke titik di mana EV akan berhenti berbeda, pada perangkat seluler tidak lagi terlihat dan Anda perlu menekan tombol terpisah, dan juga di Safari. </font><font style="vertical-align: inherit;">Google Chrome masih memegang (UPD - tidak lagi! Saya harus membuat layar dari IE). </font><font style="vertical-align: inherit;">Argumen dari mereka yang tidak menunjukkan: "jika Anda khawatir, klik dan lihat," tetapi tidak ada yang secara alami menekan.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Memperoleh Sertifikat: Otomasi</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Sekarang mari kita bicara tentang penerimaan otomatis sertifikat DV. </font><font style="vertical-align: inherit;">Untuk kejelasan, mari kita lihat bagaimana Enkripsi Mari favorit kita melakukannya. </font><font style="vertical-align: inherit;">Dia umumnya memiliki dokumentasi yang baik, jika ada yang tertarik, dan bahkan dalam bahasa Rusia.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PUNCAK</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ACME (Lingkungan Manajemen Sertifikat Otomatis) adalah protokol yang dirancang untuk mengotomatisasi dan membakukan proses memperoleh sertifikat. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bagaimana ACME membuktikan Anda adalah pemilik domain? </font><font style="vertical-align: inherit;">Anda berkata: Saya ingin sertifikat dan menunjukkan jenis validasi otomatis - misalnya, ACME HTTP-01. </font><font style="vertical-align: inherit;">Let's Encrypt meminta Anda untuk memasukkan data ke file, dan jika Anda bisa meletakkan file di domain Anda (dan Let's Encrypt dapat mengambilnya dari sana melalui HTTP), Anda mungkin adalah pemiliknya. </font><font style="vertical-align: inherit;">Sekarang pendekatan ini dikritik, termasuk dari Google, karena tidak melindungi terhadap phishing. </font><font style="vertical-align: inherit;">Yaitu, dengan validasi manual, domain aliepxress.ru kemungkinan akan menimbulkan kecurigaan, tetapi Let's Encrypt sendiri sejauh ini tidak tahu bagaimana (atau bisa, tetapi buruk).</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tantangan DNS</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Selain ACME, ada juga tantangan DNS. </font><font style="vertical-align: inherit;">Misalnya, mereka memberi tahu Anda: masukkan catatan txt di zona DNS Anda, masukkan data di dalamnya. </font><font style="vertical-align: inherit;">Ada cara lain, tetapi tidak umum, dan satu dibatalkan sama sekali, karena ternyata rentan. </font><font style="vertical-align: inherit;">Apa yang kami miliki di Plesk: sertifikat wildcard (yang hanya dapat ditulis menggunakan tantangan DNS) tidak berfungsi untuk banyak orang, karena sangat sering Plesk tidak mengelola zona dan ekstensi domain DNS. </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mari Enkripsi</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> tidak dapat mengotomatiskan pembuatan catatan di zona DNS .</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dua kata lagi tentang Let's Encrypt</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aspek penting dalam bekerja dengan sertifikat Enkripsi Mari adalah batas. </font><font style="vertical-align: inherit;">Jika ragu (atau dicurigai telah tercapai), yang terbaik adalah mengikuti tautan: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=id&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">letsencrypt.org/docs/rate-limits</font></font></a><br>
<img src="https://habrastorage.org/webt/c0/lx/5g/c0lx5gabymsjx5fzdqfvn1lk-ku.png"><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Terkadang mereka diperbarui. </font><font style="vertical-align: inherit;">Ada batasan yang tidak jelas yang dilupakan orang: paling sering, dilihat dari permintaan dukungan, mereka dihadapkan pada batas 100 nama domain dalam sertifikat. </font><font style="vertical-align: inherit;">Let's Encrypt juga memiliki server pementasan dan ada lebih banyak batasan, tetapi sertifikat semacam itu dianggap tidak tepercaya dan untuk peramban mereka mirip dengan yang ditandatangani sendiri. </font><font style="vertical-align: inherit;">Dalam praktiknya, dengan batas 100 nama, mereka jarang datang kepada kami (terlepas dari kenyataan bahwa situs di Plesk memiliki total 1.300.000 sertifikat Mari Enkripsi). </font><font style="vertical-align: inherit;">Median, menurut statistik kami, adalah 20 nama per sertifikat. </font><font style="vertical-align: inherit;">Jadi, jika sesuatu tidak berhasil, lihat - mungkin batasnya tercapai. </font><font style="vertical-align: inherit;">Let's Encrypt memiliki pelaporan kesalahan yang baik, dan Anda biasanya dapat memahami apa yang terjadi.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apa berikutnya?</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jadi, setelah sertifikat diterima, server mengirimkan data kunci sesi - inilah yang akan digunakan untuk enkripsi. </font><font style="vertical-align: inherit;">Jika server menganggap perlu untuk mengautentikasi klien (misalnya, akses hanya terbuka untuk lingkaran orang tertentu), ia mungkin bertanya: klien, siapa Anda? </font><font style="vertical-align: inherit;">Dan kemudian klien harus mengirim sertifikatnya. </font><font style="vertical-align: inherit;">Setelah menerima pesan </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ServerHelloDone,</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> klien menyadari bahwa sudah waktunya untuk memverifikasi sertifikat dan bekerja dengan kunci. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Segala sesuatu yang kita bicarakan, sebelum TLS 1.3 melewati saluran terbuka, dan siapa pun dapat melihat semua hal ini. </font><font style="vertical-align: inherit;">Ada beberapa serangan menarik yang bisa Anda baca tentang diri Anda. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dalam </font></font><s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">seri</font></font></s><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> artikel kedua, kita akan belajar bagaimana klien memverifikasi sertifikat.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../id502588/index.html">Kisah PowerPoint yang luar biasa</a></li>
<li><a href="../id502592/index.html">Neomorfisme menggunakan SwiftUI. Bagian 1</a></li>
<li><a href="../id502594/index.html">7 alasan mengapa proyek web tidak berakhir, dan bagaimana menghadapinya</a></li>
<li><a href="../id502596/index.html">Kursus pendidikan karantina gratis: desain</a></li>
<li><a href="../id502598/index.html">Security Week 21: Kerentanan Layanan Cetak Windows</a></li>
<li><a href="../id502608/index.html">Bagaimana kami memulai pasar aplikasi dalam layanan SaaS</a></li>
<li><a href="../id502614/index.html">Praktik terbaik Kubernetes. Menyetel Kueri dan Batas Sumber Daya</a></li>
<li><a href="../id502620/index.html">Akuntansi uang</a></li>
<li><a href="../id502624/index.html">Bagaimana cara kerjanya di Facebook? Nilai dan mempekerjakan di perusahaan</a></li>
<li><a href="../id502626/index.html">Tangkapan layar iOS otomatis menggunakan XCTestplan dan Xcode 11</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>