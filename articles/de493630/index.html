<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üë´ ‚úâÔ∏è üíπ Weiterleiten von USB-Anschl√ºssen von Windows 10 f√ºr Remote-Arbeiten üï§ üï∞Ô∏è üôãüèΩ</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Wenn eine Person seit vielen Jahren einen Bunker gr√§bt und dort Lebensmittel lagert, muss sie eine tiefe moralische Befriedigung erfahren, wenn der Bu...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Weiterleiten von USB-Anschl√ºssen von Windows 10 f√ºr Remote-Arbeiten</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/493630/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Wenn eine Person seit vielen Jahren einen Bunker gr√§bt und dort Lebensmittel lagert, muss sie eine tiefe moralische Befriedigung erfahren, wenn der Bunker ben√∂tigt wird. Er wird sich freuen zu sagen: "Und ich sage-und-und-il!" Gleiches gilt f√ºr diejenigen, die Lebensmittel in der Speisekammer gelagert haben, als alle nur f√ºr heute in Gesch√§ften gekauft wurden. Aber mit unserem Redd Remote-Arbeitskomplex habe ich keine Lust, mich zu freuen. Es wurde f√ºr die Abgeschiedenheit in Friedenszeiten konzipiert. Und es wurde lange vor den ersten Nachrichten aus China verwendet. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe lange nichts √ºber ihn geschrieben. Andere Projekte lenken ab, und das Interesse ist, gemessen an der Bewertung des letzten ver√∂ffentlichten Artikels, bereits gesunken. Die Vorbereitung eines Artikels ist sehr aufw√§ndig und nur dann sinnvoll, wenn sie von einer ausreichenden Anzahl von Lesern ben√∂tigt wird.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber da jetzt alle auf den Lippen sind, gab es den Wunsch, eine Sache zu teilen, die jemandem helfen k√∂nnte. </font><font style="vertical-align: inherit;">Dies ist nicht unsere Entwicklung. Ich habe im Rahmen der Remote-Arbeit mit All-Hardware-Debug-Boards Nachforschungen angestellt. </font><font style="vertical-align: inherit;">Hier beschreibe ich jetzt ihre Ergebnisse. </font><font style="vertical-align: inherit;">Das USB / IP-Projekt ist vielen bekannt. </font><font style="vertical-align: inherit;">Aber es wurde lange von den Autoren beschnitten. </font><font style="vertical-align: inherit;">Die neuesten Treiber waren unter WIN7. </font><font style="vertical-align: inherit;">Heute werde ich beschreiben, wo die Option f√ºr WIN10 heruntergeladen werden kann, und zeigen, wie ich sie getestet habe. </font><font style="vertical-align: inherit;">Dar√ºber hinaus versichern die Entwickler des modernen Analogs, dass sie nicht nur einen Windows-Client, sondern auch einen Windows-Server erstellt haben (obwohl ich in diesem Modus keine Tests durchgef√ºhrt habe: Die Aufgabe erforderte dies nicht). </font><font style="vertical-align: inherit;">Aber f√ºr jemanden kann dies auch n√ºtzlich sein.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ke/or/8q/keor8qwzf9rwrr4hhilw6d5mfx8.png"><br>
<a name="habracut"></a><br>
<div class="spoiler"><b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vorherige Zyklusartikel</font></font></b><div class="spoiler_text"><ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  ¬´¬ª  ,   Redd,      .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  ¬´¬ª  ,   Redd.  2.  .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">          .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">     Redd     .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">              Redd.</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="> ,       .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">    Redd.  1:  .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">    Redd.  2:      .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">  :        .</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">    Redd,    FTDI</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">     Redd</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">       Redd</a></li>
</ol><br>
</div></div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Einf√ºhrung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zun√§chst eine kurze Geschichte dar√ºber, was USB / IP ist. Dies ist eine Reihe von Programmen, mit denen Sie ein USB-Ger√§t √ºber das Netzwerk weiterleiten k√∂nnen. Das Ger√§t selbst ist mit dem Server verbunden. Der Client befindet sich auf einem anderen Computer. Gleichzeitig befindet sich auf dem Clientcomputer eine Anwendung, die vollst√§ndig nicht f√ºr die Arbeit mit dem Netzwerk ausgelegt ist. Es will ein echtes USB-Ger√§t. Und es erh√§lt Informationen, dass dieses Ger√§t angeschlossen ist. Auf diesem Ger√§t ist ein Standardtreiber installiert. Im Allgemeinen glaubt der Client, dass es mit einem lokalen USB-Ger√§t funktioniert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Jemand wirft Sicherheitsschl√ºssel. Wir haben die M√∂glichkeit eines Fernzugriffs auf den JTAG-Adapter gepr√ºft. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das USB / IP-Projekt wurde bis 2013 aktiv weiterentwickelt. Dann wurde der Windows-Zweig gestoppt. Im Allgemeinen wurde sogar eine bin√§r </font><b><font style="vertical-align: inherit;">signierte</font></b><font style="vertical-align: inherit;"> Version ver√∂ffentlicht</font></font><b><font style="vertical-align: inherit;"></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Treiber. </font><font style="vertical-align: inherit;">Aber es war unter Windows 7. Der Linux-Zweig setzte seine Entwicklung fort und dieser Dienst wurde in das Betriebssystem selbst integriert. </font><font style="vertical-align: inherit;">Zumindest ist es definitiv in den Debian-Build integriert. </font><font style="vertical-align: inherit;">Dar√ºber hinaus gibt es f√ºr Linux sowohl einen Client als auch einen Server, und f√ºr Windows wurde urspr√ºnglich nur der Client erstellt. </font><font style="vertical-align: inherit;">Server unter Windows wurde nicht erstellt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es gibt einen </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sehr guten Artikel √ºber Habr√©</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , der sowohl als Referenz f√ºr die Arbeit mit diesem Dienst als auch als Tipp f√ºr die Arbeit mit ihm verwendet werden kann.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Option f√ºr die aktuelle Version von Windows</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Egal wie gut Windows 7 ist, es ist bereits tot. Im Rahmen der Arbeit an All-Hardware haben wir verschiedene Optionen zur L√∂sung eines der Probleme in Betracht gezogen und mussten lediglich eine Reihe von Alternativen auf der Grundlage von ‚Äûfit - not fit‚Äú pr√ºfen. Es war unm√∂glich, viele Mannstunden damit zu verbringen, nachzusehen. Und √Ñnderungen des Treibers unter Windows 10 k√∂nnten sich in sich selbst ziehen. Daher wurde im Netzwerk eine Suche durchgef√ºhrt, die </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usbip-win</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zum </font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">Projekt brachte</font></a><font style="vertical-align: inherit;"> . Zum Zeitpunkt der Entdeckung war die neue Version vom 23. Februar 2020 datiert, dh das Projekt ist live. Es kann sowohl unter WIN7 als auch unter WIN10 gebaut werden. Dar√ºber hinaus kann im Gegensatz zum urspr√ºnglichen Projekt nicht nur ein Windows-Client, sondern auch ein Windows-Server erstellt werden. </font></font><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich habe √ºberpr√ºft, ob das Projekt perfekt zusammengebaut und installiert ist, sodass weitere Arbeiten mit ihm durchgef√ºhrt wurden. In </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Readme-Datei</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Es gibt einen Link zu vorgefertigtem Bin√§rcode f√ºr diejenigen, die nicht selbst bauen m√∂chten.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der traurige Teil der √úberpr√ºfung: die Serverseite</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zuerst werde ich Ihnen sagen, wie die √úberpr√ºfung im Rahmen unseres Projekts durchgef√ºhrt wurde. </font><font style="vertical-align: inherit;">Es endete dort nicht sehr gut. </font><font style="vertical-align: inherit;">Wir haben den im Fall des Redd-Komplexes installierten ST-LINK-Adapter √ºberpr√ºft, da ich bereits festgestellt habe, dass der Komplex das Linux-Betriebssystem der Debian-Assembly verwendet und diese Assembly den integrierten USB / IP-Dienst enth√§lt. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Installieren Sie den Service gem√§√ü dem Artikel:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo apt-get update <font></font>
sudo apt-get upgrade <font></font>
sudo apt-get install usbip</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Rest des Artikels beschreibt, wie das Laden eines Dienstes automatisiert wird. </font><font style="vertical-align: inherit;">Da ich Linux verstehe, habe ich schon viele Male geschrieben. </font><font style="vertical-align: inherit;">Schlecht versiert. </font><font style="vertical-align: inherit;">Ich habe nicht die Angewohnheit, die Texte anderer Leute mit einem klugen Gesicht zu zitieren und die Essenz schlecht zu verstehen. </font><font style="vertical-align: inherit;">Daher werde ich mich noch einmal an einen Link zu einem </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">wunderbaren Artikel</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erinnern </font><font style="vertical-align: inherit;">, in dem alles erz√§hlt wird, und ich werde mir zeigen, was ich bei jedem Start des Betriebssystems getan habe (da alles nur zur √úberpr√ºfung notwendig war):</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo modprobe usbip-core<font></font>
sudo modprobe usbip-host<font></font>
sudo usbipd -D</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Zweck der ersten beiden der oben genannten Zauberspr√ºche ist mir unbekannt, aber ohne sie werden einige Verzeichnisse nicht erstellt, und ohne diese Verzeichnisse wird kein USB-Anschluss exportiert. </font><font style="vertical-align: inherit;">Verzeichnisse werden nur erstellt, bis das System neu gestartet wird. </font><font style="vertical-align: inherit;">Sie m√ºssen sie also jedes Mal erstellen. </font><font style="vertical-align: inherit;">Die dritte Zeile - alles ist klarer damit, es startet den Dienst. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nun schauen wir uns den Namen des Ger√§ts an:</font></font><br>
 <br>
<pre><code class="plaintext hljs">user@redd:~$ sudo usbip list -l<font></font>
- busid 1-3 (046d:082d)<font></font>
   Logitech, Inc. : HD Pro Webcam C920 (046d:082d)<font></font>
<font></font>
 - busid 1-4 (1366:0101)<font></font>
   SEGGER : J-Link PLUS (1366:0101)<font></font>
<font></font>
 - busid 1-5.1 (067b:2303)<font></font>
   Prolific Technology, Inc. : PL2303 Serial Port (067b:2303)<font></font>
<font></font>
 - busid 1-5.4.1.1 (0483:5740)<font></font>
   STMicroelectronics : STM32F407 (0483:5740)<font></font>
<font></font>
 - busid 1-5.4.1.3 (0483:3748)<font></font>
   STMicroelectronics : ST-LINK/V2 (0483:3748)<font></font>
&lt;...&gt;</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es stellt sich heraus, dass wir ein Ger√§t und eine Busid ben√∂tigen, die 1-5.4.1.3 entsprechen. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir geben den Befehl:</font></font><br>
<br>
<pre><code class="plaintext hljs">sudo usbip bind --busid=1-5.4.1.3</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Alles, der Server ist betriebsbereit.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der traurige Teil des Schecks: der Client-Teil</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir installieren den Treiber unter Windows (wir tun dies nur einmal, dann wird er immer installiert). </font><font style="vertical-align: inherit;">F√ºhren Sie dazu die Datei </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usbip.exe</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> mit dem Argument </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">install</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> : </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">usbip.exe install als Administrator aus.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Nun pr√ºfen wir, ob das Ger√§t f√ºr uns verf√ºgbar ist:</font></font><br>
<br>
<pre><code class="plaintext hljs">usbip.exe list --remote=192.168.10.123</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir stellen sicher, dass es auf der Liste steht. </font><font style="vertical-align: inherit;">Nun, und verbinden Sie es:</font></font><br>
<br>
<pre><code class="plaintext hljs">usbip.exe attach --remote=192.168.10.123 --busid=1-5.4.1.3</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ein neues USB-Ger√§t erscheint im Ger√§te-Manager, Keil sieht es perfekt ... </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aber hier endet das Angenehme. </font><font style="vertical-align: inherit;">Ein kleines Programm wird etwa eine Minute lang in ein Flash-Laufwerk gegossen. </font><font style="vertical-align: inherit;">Versuche, die Zeilen zu durchlaufen, dauern zwischen 5 und 20 Sekunden pro Zeile. </font><font style="vertical-align: inherit;">Das ist inakzeptabel. </font><font style="vertical-align: inherit;">W√§hrend einer Pause geht der Verkehr von ungef√§hr 50 Kilobit pro Sekunde in beide Richtungen. </font><font style="vertical-align: inherit;">Geht lange und nachdenklich. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ehrlich gesagt hat mich das Zeitlimit nur dazu gebracht zu erraten, warum alles so schlecht war. </font><font style="vertical-align: inherit;">Ich vermute, dass JTAG-Verkehr durch das Netzwerk l√§uft. </font><font style="vertical-align: inherit;">Und er l√§uft in kleinen Paketen in beide Richtungen, daher die Probleme. </font><font style="vertical-align: inherit;">So wurde die Studie mit dem Ergebnis abgeschlossen: "Nicht f√ºr das Projekt geeignet."</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Der lustige Teil: Vorbereitung</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Schon damals fiel mir ein, dass ich aus dem Augenwinkel sah, dass USB im CMSIS DAP JTAG-Adapter keinen reinen JTAG-Verkehr verwendet, sondern Befehle. Der JTAG-Verkehr selbst ist bereits im Adapter gebildet. Ich wollte es schon lange √ºberpr√ºfen, aber alle meine H√§nde erreichten nicht. Die Massen√ºbertragung an einen entfernten Standort zwang ihn dazu (ein Problem trat auf). Was ist CMSIS DAP? Dies ist ein von ARM f√ºr Cortex-M-Controller empfohlener JTAG-Adapter. Die Quellcodes f√ºr verschiedene Controller werden auf GitHub ver√∂ffentlicht. Sie k√∂nnen den Adapter basierend auf jedem von ihnen l√∂ten. Ich werde jetzt einen Link zu einem Klon des Projekts geben, der f√ºr das Blue Pill-Steckbrett angepasst ist: </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">https://github.com/x893/CMSIS-DAP</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , aber Suchmaschinen k√∂nnen auch das offizielle ARM-Konto anzeigen.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um nicht einen ganzen PC auf dem Server auszugeben, habe ich zur √úberpr√ºfung eine Art Yelloww-Komplex erstellt (nur anhand der Farbe des Kunststoffs, aus dem das Geh√§use besteht): </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/xv/ka/qc/xvkaqcpvy29kr4fiydvdlpwmn_u.jpeg"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Serverrolle spielt Raspberry Pi mit dem installierten Raspbian-Betriebssystem (dies ist das gleiche Debian, was bedeutet, dass es den erforderlichen Server gibt ) Eine der blauen Pillen fungiert als CMSIS-DAP-Adapter, die zweite als debuggtes Ger√§t. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir stellen den Service auf die gleiche Weise ein und konfigurieren ihn. Sofern hier nicht die Liste der f√ºr den Export zugelassenen Ger√§te wesentlich bescheidener ist:</font></font><br>
<br>
<pre><code class="plaintext hljs">pi@raspberrypi:~ $ sudo usbip list -l<font></font>
 - busid 1-1.1 (0424:ec00)<font></font>
   Standard Microsystems Corp. : SMSC9512/9514 Fast Ethernet Adapter (0424:ec00)<font></font>
<font></font>
 - busid 1-1.4 (c251:f001)<font></font>
   Keil Software, Inc. : unknown product (c251:f001)</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Es ist klar, dass wir hier die Ger√§tebusid = 1-1.4 exportieren und importieren. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier habe ich speziell mit CMSIS DAP regelm√§√üig ein kleines Problem. Im Ger√§te-Manager sehe ich ein solches √Ñrgernis: </font></font><br>
<br>
<img src="https://habrastorage.org/webt/v8/xv/93/v8xv93lw0kbkfkjz5gbzqdmymj4.png"><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ich m√∂chte Sie daran erinnern, dass der Artikel nach dem Prinzip ‚ÄûBesser ist nicht schlecht, aber heute als ideal, sondern morgen‚Äú geschrieben ist. Derzeit treten Probleme bei der Fernarbeit auf. Ich hoffe, dass sie in absehbarer Zeit nicht mehr relevant sind. In der Zwischenzeit sind sie relevant - ich zeige, wie ich dieses Problem manuell umgehe. Zuerst schalte ich das Ger√§t aus: </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/wn/dx/vk/wndxvkub_xkfpjabprp01ndqpsq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Dann sofort einschalten: </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/q2/cv/ss/q2cvsssrlpnel4aopqxmcq4hya8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und es beginnt ohne Probleme zu funktionieren. In Keil √§ndern wir den Debugger in CMSIS DAP: </font></font><br>
 <br>
<img src="https://habrastorage.org/webt/wv/nn/i3/wvnni3wxciuu3nxd4dxyuifd5q8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Und hier ist es:</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_u/jd/pu/_ujdpufnknkjkem518qi-2nar1q.png"> <br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn Sie in einem lokalen Netzwerk arbeiten, fliegt einfach alles. </font><font style="vertical-align: inherit;">Es ist jedoch klar, dass sich niemand f√ºr das lokale Netzwerk interessiert. </font><font style="vertical-align: inherit;">Ich habe versucht, den Ger√§teport zu Hause weiterzuleiten, mich dann bei der Arbeit remote bei der Maschine anzumelden und die ‚ÄûFirmware‚Äú von dort weiterzuleiten. </font><font style="vertical-align: inherit;">Die Verbindung bei meinem Heimanbieter ist besonders sehr, sehr langsam - von mir au√üerhalb. </font><font style="vertical-align: inherit;">Der Controller blinkt etwa dreimal langsamer als bei direktem Anschluss an USB. </font><font style="vertical-align: inherit;">R√ºckverfolgung ... Nun, ungef√§hr eine Sekunde pro Zeile, genau nicht mehr. </font><font style="vertical-align: inherit;">Im Allgemeinen ertr√§glich. </font><font style="vertical-align: inherit;">Mit guten Anbietern hoffe ich, dass es besser wird.</font></font><br>
 <br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das usbip-win-Projekt ist ein moderner Ersatz f√ºr das USB / IP-Projekt. Er lebt und entwickelt sich. Gleichzeitig bietet es nicht nur die Client-Funktion f√ºr Windows, sondern auch die Server-Funktion. Die Kompatibilit√§t mit der Linux-Version wird gespeichert. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Stabilit√§t des Remote-USB-Ger√§ts war unerwartet erstaunlich. Ich war mir sicher, dass es zu Zeit√ºberschreitungen kommen w√ºrde. Vielleicht treten sie irgendwo auf, aber f√ºr JTAG-Adapter gab es keinen einzigen Fehler. Leider k√∂nnen aufgrund der geringen Geschwindigkeit des resultierenden Systems nicht alle USB-Ger√§te √ºber das Netzwerk weitergeleitet werden. Bei JTAG-Adaptern k√∂nnen Sie jedoch alternative Aspekte in Betracht ziehen. Insbesondere CMSIS-DAP anstelle von ST-LINK. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Beide √ºberpr√ºften Projekte (usbip-win und CMSIS-DAP) k√∂nnen in Form von Quellcodes von GitHub heruntergeladen werden.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wenn dies jemandem hilft, den Fernzugriff auf Ger√§te zu organisieren, bin ich froh. </font><font style="vertical-align: inherit;">Mit dem Raspberry Pi k√∂nnen Sie Ger√§te an beliebigen Orten ablegen.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de493616/index.html">Bilder wie Kisten - was ist drin? Bericht in Yandex</a></li>
<li><a href="../de493618/index.html">(Nicht) offensichtliche OSINT auf Twitter</a></li>
<li><a href="../de493620/index.html">Logistische Kurve. Wann endet die Epidemie?</a></li>
<li><a href="../de493622/index.html">Schreiben einer Retrowave in Angular</a></li>
<li><a href="../de493626/index.html">Selenoid - Hunderte von parallelen UI-Tests einfach und schnell. Pavel Senin</a></li>
<li><a href="../de493632/index.html">Fernarbeit ohne Vorbereitung. Kurze Einleitung</a></li>
<li><a href="../de493634/index.html">In einem Rechen gehen. Arduino</a></li>
<li><a href="../de493636/index.html">MVP, Landung und Werbung f√ºr 1500 Rubel</a></li>
<li><a href="../de493638/index.html">Eine Erinnerung f√ºr die Organisation der Remote-Arbeit des Entwicklungsteams</a></li>
<li><a href="../de493642/index.html">Anatomie der LuaJIT-Tabellen und Merkmale ihrer Verwendung</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>