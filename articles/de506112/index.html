<!doctype html>
<html class="no-js" lang="de">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>📶 🎀 ⚱️ So visualisieren Sie die täglichen Ausgaben für GCP-Cloud-Lösungen 🙋🏿 ♐️ 📅</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Kunden zahlen nicht gerne mehr als geplant - eine detaillierte Begründung der Kosten ist ein wesentlicher und wichtiger Bestandteil der Implementierun...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>So visualisieren Sie die täglichen Ausgaben für GCP-Cloud-Lösungen</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/opsguru/blog/506112/"><div style="text-align:center;"><img src="https://habrastorage.org/webt/_c/qe/q_/_cqeq_360w7uo_k4autpimjrb60.jpeg"></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Kunden zahlen nicht gerne mehr </font></font><strike><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">als geplant</font></font></strike><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - eine detaillierte Begründung der Kosten ist ein wesentlicher und wichtiger Bestandteil der Implementierung von Cloud-Technologien. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Die Google Cloud Platform</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bietet verschiedene Preispläne für die verwendeten Ressourcen. Beispielsweise </font><font style="vertical-align: inherit;">hängen </font><font style="vertical-align: inherit;">die Kosten für </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GCE</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> von der Konfiguration des Computers ab ( </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Speicher, Netzwerkmodule, Festplatten). Die Kosten für die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Kubernetes Engine (GKE)</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Cloud Dataproc</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> basieren auf allen Knoten, die auf der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Compute Engine (GCE) ausgeführt werden.</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Die verbleibenden Kosten können nach einer komplexen und komplizierten Formel berechnet werden. </font><font style="vertical-align: inherit;">Die Planung eines Budgets wird immer schwieriger, insbesondere wenn Sie mehrere Cloud-Technologien verwenden. </font><font style="vertical-align: inherit;">Die Überwachung und zeitnahe Berichterstattung wird umso wertvoller, je höher die Ausgaben für die Infrastruktur sind. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die Möglichkeit der täglichen Überprüfung von Ausgabenberichten ermöglicht auch eine zeitnahe Anpassung der verteilten Kapazitäten, und die endgültige Rechnung am Monatsende wird nicht überraschen.</font></font><br>
<a name="habracut"></a><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Hintergrund</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Projekte benötigen häufig umfangreiche Berichte, um die Effizienz zu verbessern und die Kosten zu verfolgen. </font><font style="vertical-align: inherit;">Obwohl </font><font style="vertical-align: inherit;">Sie mit </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">GCP</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Ausgabendaten </font><font style="vertical-align: inherit;">zur weiteren umfassenden Analyse </font><font style="vertical-align: inherit;">nach </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BigQuery</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> exportieren können, </font><i><font style="vertical-align: inherit;">reicht die</font></i><font style="vertical-align: inherit;"> manuelle Verarbeitung von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BigQuery</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> häufig nicht aus. </font><font style="vertical-align: inherit;">Im Idealfall sollten wir in der Lage sein, Daten zu visualisieren, zu filtern und nach zusätzlichen Parametern zu akkumulieren. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Allgemeine Filter:</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Art der Ressource;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eine Zeitperiode;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Abteilung und Team;</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vergleich mit früheren Perioden.</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Die erste Lösung, die auf </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">der</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Empfehlung von </font><i><font style="vertical-align: inherit;">Google basiert,</font></i><font style="vertical-align: inherit;"> ist die Verwendung von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Data Studio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Die Implementierung ist sehr einfach - Sie müssen nur die Datenquelle konfigurieren. Beispielberichte und ein Dashboard sind vorinstalliert, aber die Lösung selbst ist nicht flexibel genug. Wenn Sie in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Data Studio</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Diagramme und Grafiken erstellen </font><font style="vertical-align: inherit;">, können Sie keine Formel eingeben. Sie müssen alle Parameter manuell auswählen. </font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grafana</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein einfaches und verständliches Werkzeug zur Überwachung und Analyse von Daten. Er ist gut etabliert. Ein solches Dashboard eignet sich hervorragend zur Visualisierung von Zahlungsdaten. Es bleibt die Frage, wie die Weboberfläche mit </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BigQuery (BQ) verbunden werden kann</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><i><font style="vertical-align: inherit;">BQ</font></i><font style="vertical-align: inherit;"> Plugin</font></font><i><font style="vertical-align: inherit;"></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">, Open Source, übermäßig fehlerhaft. </font><font style="vertical-align: inherit;">Infolgedessen ist der Haufen von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BQ-Grafana</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nicht stabil genug. </font><font style="vertical-align: inherit;">Darüber hinaus gibt es noch einen weiteren unangenehmen Punkt: </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BQ-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Abfragen </font><font style="vertical-align: inherit;">geben Daten zu lange zurück. </font><i><font style="vertical-align: inherit;">Das Hochladen von</font></i></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Daten zu </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> über </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudSQL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erwies sich als gute Lösung </font><font style="vertical-align: inherit;">. Dieses DBMS verfügt über das offizielle </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Plugin </font><font style="vertical-align: inherit;">für </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grafana</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Die nachfolgenden Testergebnisse zeigten, dass die ausgewählte Methode deutliche Geschwindigkeitsvorteile aufweist.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versteckter Text</font></font></b>
                        <div class="spoiler_text"><i> CloudSQL       ,         .</i></div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Lösungsüberblick</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der Workflow kann schematisch wie folgt beschrieben werden. </font><font style="vertical-align: inherit;">Das Tool für ausstehende Aufgaben im </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cluster führt alle 4 Stunden eine Aufgabe in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud Dataflow aus</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Diese Aufgabe startet wiederum den Prozess des Ladens von Daten von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BigQuery</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Das Entladen erfolgt nur für die Daten, die nach dem letzten Export aus </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BQ gefunden wurden</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Danach können die neuesten Daten in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grafana angezeigt werden</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , das mit </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL verbunden ist</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ph/wu/bj/phwubj_xvfybe9v8bvzwtel34ai.png"></div><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenbank-Setup</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zunächst müssen Sie den Export von Zahlungsdaten nach </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BigQuery konfigurieren</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und eine </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL-Datenbank</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> erstellen </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versteckter Text</font></font></b>
                        <div class="spoiler_text"><i>   BigQuery    <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="></a>.        <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u=">Cloud SQL</a>.</i></div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nach der Vorbereitungsphase erstellen wir mehrere Datenbankobjekte, einschließlich einer Tabelle mit einer Nachahmung der </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BQ-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Struktur </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versteckter Text</font></font></b>
                        <div class="spoiler_text"><pre><code class="sql hljs"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> billing;
<span class="hljs-keyword">USE</span> billing;<font></font>
 <font></font>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> public.billing_export_2 (
	<span class="hljs-keyword">id</span> <span class="hljs-built_in">serial</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,<font></font>
	sku_id <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	labels <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	export_time <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	currency <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	sku_description <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	location_zone <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
    currency_conversion_rate float8 <span class="hljs-literal">NULL</span>,<font></font>
	project_labels <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	location_country <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	usage_start_time <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	billing_account_id <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	location_region <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	usage_pricing_unit <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	usage_amount_in_pricing_units float8 <span class="hljs-literal">NULL</span>,<font></font>
	cost_type <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	project_id <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	system_labels <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	project_description <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	location_location <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	project_ancestry_numbers <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	credits <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	service_description <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	usage_amount float8 <span class="hljs-literal">NULL</span>,<font></font>
	invoice_month <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	usage_unit <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,<font></font>
	usage_end_time <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,
	<span class="hljs-string">"cost"</span> float8 <span class="hljs-literal">NULL</span>,<font></font>
	service_id <span class="hljs-built_in">varchar</span> <span class="hljs-literal">NULL</span>,
	<span class="hljs-keyword">CONSTRAINT</span> billing_export_2_pkey PRIMARY <span class="hljs-keyword">KEY</span> (<span class="hljs-keyword">id</span>)<font></font>
);<font></font>
</code></pre><br>
     ,       <i>PostgreSQL</i>  <i>Grafana</i>:<br>
<br>
<pre><code class="sql hljs">
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">MATERIALIZED</span> <span class="hljs-keyword">VIEW</span> vw_billing_export <span class="hljs-keyword">AS</span>
	<span class="hljs-keyword">SELECT</span>
    	<span class="hljs-keyword">id</span>,<font></font>
        sku_id,<font></font>
        labels,<font></font>
        export_time::<span class="hljs-built_in">timestamp</span>,<font></font>
        currency,<font></font>
        sku_description,<font></font>
        location_zone,<font></font>
        currency_conversion_rate,<font></font>
        project_labels,<font></font>
        location_country,<font></font>
        usage_start_time::<span class="hljs-built_in">timestamp</span>,<font></font>
        billing_account_id,<font></font>
        location_region,<font></font>
        usage_pricing_unit,<font></font>
        usage_amount_in_pricing_units,<font></font>
        cost_type, project_id,<font></font>
        system_labels,<font></font>
        project_description,<font></font>
        location_location,<font></font>
        project_ancestry_numbers,<font></font>
        credits,<font></font>
        service_description,<font></font>
        usage_amount,<font></font>
        invoice_month,<font></font>
        usage_unit,<font></font>
        usage_end_time::<span class="hljs-built_in">timestamp</span>,
        <span class="hljs-string">"cost"</span>,<font></font>
        service_id,<font></font>
    	l_label1 -&gt;&gt; <span class="hljs-string">'value'</span> <span class="hljs-keyword">as</span> label1,<font></font>
    	l_label2 -&gt;&gt; <span class="hljs-string">'value'</span> <span class="hljs-keyword">as</span> label2,<font></font>
   	...<font></font>
    	<span class="hljs-keyword">FROM</span> billing_export_2
        	<span class="hljs-keyword">LEFT</span>  <span class="hljs-keyword">JOIN</span> jsonb_array_elements(labels::jsonb) <span class="hljs-keyword">AS</span> l_label1
<span class="hljs-keyword">on</span> l_label1 -&gt;&gt; <span class="hljs-string">'key'</span> = ‘label1’
        	<span class="hljs-keyword">LEFT</span>  <span class="hljs-keyword">JOIN</span> jsonb_array_elements(labels::jsonb) <span class="hljs-keyword">AS</span> l_label2
<span class="hljs-keyword">on</span> l_label2 -&gt;&gt; <span class="hljs-string">'key'</span> = ‘label2’<font></font>
        	...<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zu allen Ressourcen müssen Sie eine Reihe von Beschriftungen hinzufügen, die verwendet werden. </font><font style="vertical-align: inherit;">Jedes Etikett in diesem Satz ist eine separate Spalte in der Ansicht. </font><font style="vertical-align: inherit;">Um die Geschwindigkeit von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grafana</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu erhöhen </font><font style="vertical-align: inherit;">, sollten Indizes für diese Spalten erstellt werden.</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versteckter Text</font></font></b>
                        <div class="spoiler_text"><i>      —  ,    .</i><br>
<pre><code class="sql hljs">
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">INDEX</span> vw_billing_export_label1
<span class="hljs-keyword">ON</span> vw_billing_export (label1);
</code></pre><br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenfluss</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Wir erstellen ein Konto mit Zugriff auf </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DataFlow</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BigQuery</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Dies soll sicherstellen, dass </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DataFlow-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Tasks </font><font style="vertical-align: inherit;">Daten von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BigQuery</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> empfangen können </font><font style="vertical-align: inherit;">.</font></font><br>
<br>
<pre><code class="bash hljs"><span class="hljs-built_in">export</span>  project=myproject<font></font>
gcloud iam service-accounts create <span class="hljs-string">"bq-to-sql-dataflow"</span> --project <span class="hljs-variable">${project}</span><font></font>
 <font></font>
gcloud projects add-iam-policy-binding <span class="hljs-variable">${project}</span> \<font></font>
--member serviceAccount:<span class="hljs-string">"bq-to-sql-dataflow@<span class="hljs-variable">${project}</span>.iam.gserviceaccount.com"</span> \<font></font>
--role roles/dataflow.admin<font></font>
 <font></font>
gcloud projects add-iam-policy-binding <span class="hljs-variable">${project}</span> \<font></font>
--member serviceAccount:<span class="hljs-string">"bq-to-sql-dataflow@<span class="hljs-variable">${project}</span>.iam.gserviceaccount.com"</span> \<font></font>
--role roles/bigquery.dataViewer<font></font>
</code></pre><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Für </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DataFlow-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aufgaben müssen </font><i><font style="vertical-align: inherit;">Sie</font></i><font style="vertical-align: inherit;"> zwei Container erstellen: einen für temporäre und einen für die Ausgabe.</font></font><br>
<br>
<pre><code class="bash hljs">gsutil mb gs://some-bucket-staging<font></font>
gsutil mb gs://some-bucket-temp<font></font>
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Skript zum Laden von Daten</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Zum Herunterladen von Daten von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BigQuery</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> nach </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CloudSQL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ist ein Skript erforderlich </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Cloud </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DataFlow</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> unterstützt </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> und </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Javascript</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Sie benötigen außerdem die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Apache Beam-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Bibliothek </font><font style="vertical-align: inherit;">, eine JSON-Datei (in der Umgebungsvariablen GOOGLE_APPLICATION_CREDENTIALS mit vorkonfigurierten Kontoberechtigungen festgelegt) und eine Datei "require.txt", die eine Liste der zu installierenden Pakete enthält (in unserem Fall benötigen wir nur ein </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Beam-Nuggets-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket). </font><font style="vertical-align: inherit;">Das </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Skript </font><i><font style="vertical-align: inherit;">wird</font></i><font style="vertical-align: inherit;"> unten vorgestellt:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versteckter Text</font></font></b>
                        <div class="spoiler_text">   <i>bq-to-sql</i>   :<br>
<br>
<pre><code class="python hljs">args = parser.parse_args()<font></font>
project = args.project<font></font>
job_name = args.job_name + str(uuid.uuid4())<font></font>
bigquery_source = args.bigquery_source<font></font>
postgresql_user = args.postgresql_user<font></font>
postgresql_password = args.postgresql_password<font></font>
postgresql_host = args.postgresql_host<font></font>
postgresql_port = args.postgresql_port<font></font>
postgresql_db = args.postgresql_db<font></font>
postgresql_table = args.postgresql_table<font></font>
staging_location = args.staging_location<font></font>
temp_location = args.temp_location<font></font>
subnetwork = args.subnetwork<font></font>
 <font></font>
options = PipelineOptions(<font></font>
        	flags=[<span class="hljs-string">"--requirements_file"</span>, <span class="hljs-string">"/opt/python/requirements.txt"</span>])
<span class="hljs-comment"># For Cloud execution, set the Cloud Platform project, job_name,</span>
<span class="hljs-comment"># staging location, temp_location and specify DataflowRunner.</span><font></font>
 <font></font>
google_cloud_options = options.view_as(GoogleCloudOptions)<font></font>
google_cloud_options.project = project<font></font>
google_cloud_options.job_name = job_name<font></font>
google_cloud_options.staging_location = staging_location<font></font>
google_cloud_options.temp_location = temp_location<font></font>
google_cloud_options.region = <span class="hljs-string">"us-west1"</span><font></font>
worker_options = options.view_as(WorkerOptions)<font></font>
worker_options.zone = <span class="hljs-string">"us-west1-a"</span><font></font>
worker_options.subnetwork = subnetwork<font></font>
worker_options.max_num_workers = <span class="hljs-number">20</span><font></font>
 <font></font>
options.view_as(StandardOptions).runner = <span class="hljs-string">'DataflowRunner'</span><font></font>
 <font></font>
start_date = define_start_date()<font></font>
<span class="hljs-keyword">with</span> beam.Pipeline(options=options) <span class="hljs-keyword">as</span> p:<font></font>
	rows = p | <span class="hljs-string">'QueryTableStdSQL'</span> &gt;&gt; beam.io.Read(beam.io.BigQuerySource(<font></font>
                    	query=<span class="hljs-string">'SELECT \
                        	billing_account_id, \
                        	service.id as service_id, \
                        	service.description as service_description, \
                        	sku.id as sku_id, \
                        	sku.description as sku_description, \
                        	usage_start_time, \
                        	usage_end_time, \
                        	project.id as project_id, \
                        	project.name as project_description, \
                        	TO_JSON_STRING(project.labels) \
                            	as project_labels, \
                        	project.ancestry_numbers \
                            	as project_ancestry_numbers, \
                        	TO_JSON_STRING(labels) as labels, \
                        	TO_JSON_STRING(system_labels) as system_labels, \
                        	location.location as location_location, \
                        	location.country as location_country, \
                        	location.region as location_region, \
                        	location.zone as location_zone, \
                        	export_time, \
                        	cost, \
                        	currency, \
                        	currency_conversion_rate, \
                        	usage.amount as usage_amount, \
                        	usage.unit as usage_unit, \
                        	usage.amount_in_pricing_units as \
                         	usage_amount_in_pricing_units, \
                        	usage.pricing_unit as usage_pricing_unit, \
                        	TO_JSON_STRING(credits) as credits, \
                        	invoice.month as invoice_month, \
                   	     cost_type \
FROM `'</span> + project + <span class="hljs-string">'.'</span> + bigquery_source + <span class="hljs-string">'` \
                        	WHERE export_time &gt;= "'</span> + start_date + <span class="hljs-string">'"'</span>,<font></font>
                    	use_standard_sql=<span class="hljs-literal">True</span>))<font></font>
	source_config = relational_db.SourceConfiguration(<font></font>
          	              drivername=<span class="hljs-string">'postgresql+pg8000'</span>,<font></font>
                        	host=postgresql_host,<font></font>
                        	port=postgresql_port,<font></font>
                        	username=postgresql_user,<font></font>
                        	password=postgresql_password,<font></font>
                        	database=postgresql_db,<font></font>
                        	create_if_missing=<span class="hljs-literal">True</span>,<font></font>
                        	)<font></font>
	table_config = relational_db.TableConfiguration(<font></font>
                        	name=postgresql_table,<font></font>
            	            create_if_missing=<span class="hljs-literal">True</span><font></font>
                        	)<font></font>
	rows | <span class="hljs-string">'Writing to DB'</span> &gt;&gt; relational_db.Write(<font></font>
    	source_config=source_config,<font></font>
    	table_config=table_config<font></font>
	)<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aus </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Gründen</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> der </font><font style="vertical-align: inherit;">Datenkonsistenz müssen Sie die maximale </font><i><font style="vertical-align: inherit;">Exportzeit</font></i><font style="vertical-align: inherit;"> und die Exportzeit nach </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bestimmen </font><font style="vertical-align: inherit;">und dann Datensätze aus </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">BigQuery laden</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , die mit diesem </font><i><font style="vertical-align: inherit;">Zeitlimit</font></i><font style="vertical-align: inherit;"> beginnen würden. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Nachdem die Daten geladen wurden, müssen Sie die materialisierte Ansicht aktualisieren. </font><font style="vertical-align: inherit;">Da dieser Vorgang einige Zeit in Anspruch nimmt, können Sie eine neue materialisierte Ansicht mit identischer Struktur und identischen Indizes erstellen, die alte löschen und die neue umbenennen.</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen einer JSON-Datei mit SA-Berechtigungen</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das zuvor für den </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cloud Dataflow-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Workflow erstellte Konto wird </font><font style="vertical-align: inherit;">auch in </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cron-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aufgaben verwendet </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">Sie müssen einen Befehl angeben, der ein privates Schlüsselkennwort für das Konto erstellt, das später in den </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Cluster hochgeladen </font><font style="vertical-align: inherit;">wird und als verstecktes Kennwort für den Zugriff auf die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cron-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Task fungiert.</font></font><br>
<br>
<pre><code class="bash hljs">gcloud iam service-accounts keys create ./cloud-sa.json \<font></font>
--iam-account <span class="hljs-string">"bq-to-sql-dataflow@<span class="hljs-variable">${project}</span>.iam.gserviceaccount.com"</span> \<font></font>
--project <span class="hljs-variable">${project}</span>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Bereitstellen eines geheimen Kennworts in einem K8s-Cluster:</font></font><br>
<br>
<pre><code class="bash hljs">kubectl create secret generic bq-to-sql-creds --from-file=./cloud-sa.json
</code></pre><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Erstellen eines Docker-Images</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Da das Hauptziel die tägliche automatische Ausführung von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DataFlow-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aufgaben ist </font><font style="vertical-align: inherit;">, erstellen wir ein </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Docker-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Image mit allen erforderlichen Umgebungsvariablen und einem </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Python-</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Skript </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versteckter Text</font></font></b>
                        <div class="spoiler_text"><b>Dockerfile:</b><br>
<br>
<pre><code class="tex hljs">FROM python:latest<font></font>
RUN <span class="hljs-tag">\<span class="hljs-name">
</span></span>  bin/bash -c " <span class="hljs-tag">\<span class="hljs-name">
</span></span>  apt-get update &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  apt-get install python2.7-dev -y &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip install virtualenv &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  virtualenv -p /usr/bin/python2.7 --distribute temp-python &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  source temp-python/bin/activate &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install --upgrade setuptools &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install pip==9.0.3 &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install requests &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install Cython &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install apache_beam &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install apache_beam[gcp] &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install beam-nuggets &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install psycopg2-binary &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install uuid"<font></font>
<font></font>
COPY ./bq-to-sql.py /opt/python/bq-to-sql.py<font></font>
COPY ./requirements.txt /opt/python/requirements.txt<font></font>
COPY ./main.sh /opt/python/main.sh<font></font>
<font></font>
FROM python:latest<font></font>
RUN <span class="hljs-tag">\<span class="hljs-name">
</span></span>  bin/bash -c " <span class="hljs-tag">\<span class="hljs-name">
</span></span>  apt-get update &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  apt-get install python2.7-dev -y &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip install virtualenv &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  virtualenv -p /usr/bin/python2.7 --distribute temp-python &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  source temp-python/bin/activate &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install --upgrade setuptools &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install pip==9.0.3 &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install requests &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install Cython &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install apache_beam &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install apache_beam[gcp] &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install beam-nuggets &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install psycopg2-binary &amp;&amp; <span class="hljs-tag">\<span class="hljs-name">
</span></span>  pip2 install uuid"<font></font>
<font></font>
COPY ./bq-to-sql.py /opt/python/bq-to-sql.py<font></font>
COPY ./requirements.txt /opt/python/requirements.txt<font></font>
COPY ./main.sh /opt/python/main.sh<font></font>
<font></font>
image: <font></font>
imageTag: latest<font></font>
imagePullPolicy: IfNotPresent<font></font>
project: <font></font>
job_name: "bq-to-sql"<font></font>
bigquery_source: "[dataset].[table]”<font></font>
postgresql:<font></font>
  user: <font></font>
  password: <font></font>
  host: <font></font>
  port: "5432"<font></font>
  db: "billing"<font></font>
  table: "billing_export"<font></font>
staging_location: "gs://my-bucket-stg"<font></font>
temp_location: "gs://my-bucket-tmp"  <font></font>
subnetwork: "regions/us-west1/subnetworks/default"<font></font>
</code></pre><br>
</div>
                    </div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Um den Prozess der Bereitstellung und Wiederverwendung zu erleichtern </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Cron</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Aufgaben nutzen wir die </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Kubernetes</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Paket - </font><i><font style="vertical-align: inherit;">Installer</font></i><font style="vertical-align: inherit;"> , </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Helm</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versteckter Text</font></font></b>
                        <div class="spoiler_text"><b>cronjob.yaml</b>:<br>
<br>
<pre><code class="tex hljs">apiVersion: batch/v1beta1<font></font>
kind: CronJob<font></font>
metadata:<font></font>
  name: {{ template "bq-to-sql.fullname" . }}<font></font>
spec:<font></font>
  schedule: "0 0 * * *"<font></font>
  jobTemplate:<font></font>
	spec:<font></font>
  	template:<font></font>
    	spec:<font></font>
    	  restartPolicy: OnFailure<font></font>
      	containers:<font></font>
      	- name: {{ template "bq-to-sql.name" . }}<font></font>
        	image: "{{ .Values.image }}:{{ .Values.imageTag }}"<font></font>
        	imagePullPolicy: "{{ .Values.imagePullPolicy }}"<font></font>
        	command: [ "/bin/bash", "-c", "bash /opt/python/main.sh <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.project }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.job_name }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.bigquery_source }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.postgresql.user }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.postgresql.password }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.postgresql.host }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.postgresql.port }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.postgresql.db }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.postgresql.table }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.staging_location }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>            	{{ .Values.temp_location }} <span class="hljs-tag">\<span class="hljs-name">
</span></span>                {{ .Values.subnetwork }}"]<font></font>
        	volumeMounts:<font></font>
        	- name: creds<font></font>
          	mountPath: /root/.config/gcloud<font></font>
          	readOnly: true<font></font>
        	env:<font></font>
        	- name: GOOGLE_APPLICATION_CREDENTIALS<font></font>
          	value: /root/.config/gcloud/creds.json<font></font>
      	volumes:<font></font>
        	- name: creds<font></font>
          	secret:<font></font>
            	secretName: bq-to-sql-creds<font></font>
</code></pre><br>
</div>
                    </div><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Datenvisualisierung mit Grafana</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Der letzte Schritt besteht darin, die lang erwarteten Dashboards bei </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grafana</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> zu </font><i><font style="vertical-align: inherit;">erstellen</font></i><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Derzeit gibt es keine Einschränkungen. Sie können einen beliebigen Stil verwenden, den Sie anzeigen möchten. </font><font style="vertical-align: inherit;">Dies könnte beispielsweise eine </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=de&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Data Studio-Abrechnungsberichtsdemo sein</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<i><div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Versteckter Text</font></font></b>
                        <div class="spoiler_text"> ,  SQL      :)</div>
                    </div></i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Auf die wichtigen Dinge möchte ich noch mehr aufmerksam machen. </font><font style="vertical-align: inherit;">Aus Sicherheitsgründen ist es besser, Benutzern unterschiedliche Rechte zuzuweisen:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Im Lesemodus (zum Anzeigen von Rechnungsdaten);</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mit Grafana verbinden.</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fazit</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Das beschriebene Handbuch bietet die Möglichkeit, einen Blick auf den Workflow zu werfen, mit dem Kontodaten visualisiert werden sollen. </font><font style="vertical-align: inherit;">Dieser Prozess unterstützt das Hinzufügen neuer Filter und Metriken. </font><font style="vertical-align: inherit;">Als Ergebnis erhält der Kunde eine Reihe nützlicher und schneller Dashboards, mit denen er die zukünftigen Kosten von </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Google Cloud</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> steuern und optimieren kann </font><font style="vertical-align: inherit;">.</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../de506088/index.html">Erklären Sie mir, wie Sie herausgefunden haben, wie Sie Modelle selbst eingeben - sie sind alle verschwommen</a></li>
<li><a href="../de506096/index.html">Spine - ein plattformübergreifendes Spiel im Cyberpunk von Banzai Games und Nekki</a></li>
<li><a href="../de506098/index.html">Untersuchung des Verhaltens von Nutzern des Online-Shops. Teil 1</a></li>
<li><a href="../de506100/index.html">Modellierung eines zweidimensionalen Ising-Modells in C ++ (mit dem OpenGL-Grafikpaket)</a></li>
<li><a href="../de506110/index.html">Ein Blick auf den Weltraum von einer Sublight-Rakete. Foto eines Unterlichtobjekts. Ableitung der Lichtaberration ohne Lorentz-Transformationen</a></li>
<li><a href="../de506114/index.html">Wer sind Sie, ein IT-Analyst?</a></li>
<li><a href="../de506122/index.html">486 - Build, Programme und Benchmarks</a></li>
<li><a href="../en486014/index.html">SLAC Tour: US Department of Energy National Accelerator Laboratory at Stanford</a></li>
<li><a href="../en486018/index.html">Session Survey Results</a></li>
<li><a href="../en486024/index.html">Really simple graphics in R for science and journalism</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>