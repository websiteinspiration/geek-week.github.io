<!doctype html>
<html class="no-js" lang="pt">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>‚öóÔ∏è üï£ üïäÔ∏è Integra√ß√£o via sat√©lite e torre Ansible üóæ üíÖüèæ üë©‚Äçüëß‚Äçüëß</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Usando o Red Hat Satellite e a Plataforma de Automa√ß√£o Ansible da Red Hat? A partir do Satellite 6.3, eles podem ser integrados entre si para que o In...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>Integra√ß√£o via sat√©lite e torre Ansible</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/redhatrussia/blog/491138/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando o Red Hat Satellite e a Plataforma de Automa√ß√£o Ansible da Red Hat? A partir do Satellite 6.3, eles podem ser integrados entre si para que o Invent√°rio Din√¢mico no Ansible Tower obtenha listas de hosts do Satellite. Al√©m disso, se os hosts RHEL forem inicializados usando o Satellite (ou seja, provisionamento), o Ansible Tower poder√° ser incorporado nesse processo para executar automaticamente scripts de configura√ß√£o nos novos hosts. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/qq/4o/so/qq4oso9wx_wxkl81ha7aiy1b18a.jpeg" width="100%"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste post, veremos como configurar o Invent√°rio Din√¢mico na Torre Ansible para que ele puxe os hosts do Satellite, e mostraremos como us√°-lo com exemplos. Al√©m disso, mostraremos como organizar uma chamada autom√°tica para a Ansible Tower ap√≥s a inicializa√ß√£o de um novo host do Satellite.</font></font><br>
<a name="habracut"></a><br>
<h3> 1.    Inventory.  Satellite,       Dynamic Inventory  Ansible Tower</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para que o Ansible Tower tenha acesso √† lista de hosts, grupos de hosts e outras informa√ß√µes relacionadas, ele precisa de uma conta no Satellite. Essa entrada possui permiss√µes m√≠nimas suficientes, portanto, criaremos uma nova fun√ß√£o no Satellite, forneceremos apenas as permiss√µes necess√°rias para o Ansible Tower e, em seguida, criaremos uma nova conta e atribuiremos a ela essa fun√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Satellite 6.6 e posterior j√° tem uma fun√ß√£o de Leitor de Invent√°rio da Torre Ansible pronta para isso, para que voc√™ possa pular as etapas abaixo para criar uma fun√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No Satellite 6.3-6.5, a fun√ß√£o ter√° que ser criada manualmente. Para fazer isso, v√° para a interface da web do Satellite, v√° para a tela Administer, selecione Roles e clique em Create Role. </font><b><font style="vertical-align: inherit;">Nomeamos</font></b></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
essa fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ansible_tower_integration_role</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e definimos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Locais e Organiza√ß√µes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para ela </font><font style="vertical-align: inherit;">:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/oc/oy/ey/ocoyeyrceo04wboamjmzv_2nnf0.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clique em Enviar para criar a fun√ß√£o. Depois disso, clique no nome dela e v√° para a guia Filtros. Clique no bot√£o verde Novo filtro e adicione os seguintes filtros, um de cada vez: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Tipo de recurso: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Host</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Permiss√£o: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">view_hosts</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tipo de recurso: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Grupo de hosts</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Permiss√£o: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">view_hostgroups</font></font></b><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Tipo de recurso: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Valor de fato</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , Permiss√£o: </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">view_facts</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Como resultado, os seguintes filtros devem ter uma fun√ß√£o:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/cc/ia/r-/cciar-m-0-bz63n2lrijzatkbrg.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, n√≥s criamos um papel. Agora, iniciaremos um novo usu√°rio no Satellite, para o qual vamos ao menu </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Administer</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , selecione </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Users</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e clique em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Create User</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Nomeamos</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> esse usu√°rio </font><b><font style="vertical-align: inherit;">ansible_integration</font></b><font style="vertical-align: inherit;"> , altere o par√¢metro </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Authorized by</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">INTERNAL</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e defina a senha. Em seguida, nas guias </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Locais e Organiza√ß√µes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">selecione os locais / organiza√ß√µes apropriados. Por fim, v√° para a guia </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fun√ß√µes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e atribua a esse usu√°rio a fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ansible_tower_integration_role</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> rec√©m-criada </font><font style="vertical-align: inherit;">(se voc√™ tiver o Satellite 6.3 - 6.5) ou a fun√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Ansible Tower Inventory Reader integrada</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Sat√©lite 6.6 e superior). </font><font style="vertical-align: inherit;">Por fim, clique em Enviar para criar uma conta para este usu√°rio.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Personalize a torre Ansible</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora v√° para a interface da web Ansible Tower e v√° para a tela </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Credenciais</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Clique no bot√£o verde </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ (Adicionar)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para criar uma nova entrada de credencial. </font><font style="vertical-align: inherit;">N√≥s o chamamos de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">satellite_integration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e, no Tipo de credencial, especificamos o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Red Hat Satellite 6</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font><font style="vertical-align: inherit;">Em seguida, inserimos a URL (no nosso caso, Satellite 6), bem como o nome de usu√°rio (no nosso caso, </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">ansible_integration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ), e a senha √© a que definimos no Satellite acima:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yb/xd/ws/ybxdws81uadmggdncbl_icg-ig8.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois clique em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salvar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora v√° para a tela </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Invent√°rios</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , clique no bot√£o verde </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ (Adicionar)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e selecione </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Invent√°rio</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Especifique satellite_inventory</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como o nome </font><font style="vertical-align: inherit;">e clique em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salvar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> para criar um invent√°rio. Depois disso, v√° para a guia Origens do invent√°rio rec√©m-criado e clique no bot√£o verde </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ (Adicionar)</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Usamos </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">sat√©lite</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como o nome da fonte </font><font style="vertical-align: inherit;">e especificamos o tipo de fonte como </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Red Hat Satellite 6</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . No campo Credencial, especifique </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">satellite_integration</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , que foi criado na etapa anterior. Ative a </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">caixa de sele√ß√£o Substituir</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ,</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Substituir vari√°veis</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">atualizar ao iniciar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no grupo de controle Op√ß√µes de atualiza√ß√£o (voc√™ pode aprender mais sobre essas op√ß√µes usando os pontos de interroga√ß√£o √† direita). </font><font style="vertical-align: inherit;">Al√©m disso, no campo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Tempo limite</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> do </font><b><font style="vertical-align: inherit;">cache (segundos)</font></b><font style="vertical-align: inherit;"> , </font><font style="vertical-align: inherit;">insira 90 e clique em </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Salvar</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> .</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/0n/_2/0j/0n_20jc394t3fh9vkxz00cqda3w.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, sem sair da guia </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Fontes</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , clique no √≠cone </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Iniciar processo de sincroniza√ß√£o</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> :</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gz/ys/um/gzysumhr2fghwc0l-xymeofs7cu.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Esperamos at√© o √≠cone ficar verde - isso indica uma conclus√£o bem-sucedida da sincroniza√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora voc√™ pode ir para a guia Hosts e ver os dados que foram extra√≠dos do Satellite:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ne/4_/qk/ne4_qk5ne8ohsfx3iriwkkdfbvm.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ tamb√©m pode olhar para a guia Grupos:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/oj/sw/af/ojswafnsedywlukqweh3oib_hgu.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como voc√™ pode ver, a sincroniza√ß√£o n√£o apenas puxou as listas de hosts do Satellite, mas tamb√©m as dividiu em grupos de acordo com as visualiza√ß√µes de conte√∫do correspondentes no Satellite, grupos de hosts, ambientes de ciclo de vida, locais e organiza√ß√µes. </font><font style="vertical-align: inherit;">Esse agrupamento pode ser usado para direcionar scripts Ansible nos hosts de destino, e isso √© algo muito poderoso. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ selecionar um host na guia Hosts, veremos que entre o Satellite e a Ansible Tower muitas informa√ß√µes auxiliares sobre o host s√£o sincronizadas, as quais s√£o apresentadas na forma de vari√°veis. </font><font style="vertical-align: inherit;">Essas vari√°veis ‚Äã‚Äãpodem ser usadas nos scripts Ansible:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/la/6o/fw/la6ofwr3cf91cfxktzok_0eoy7c.png"></div><br>
 <br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Usando invent√°rio din√¢mico vinculado ao sat√©lite</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ent√£o, sincronizamos o Satellite e o Ansible Tower. Agora vamos considerar como us√°-lo na pr√°tica. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A maneira mais f√°cil √© usar </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">satellite_inventory</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> como a fonte de invent√°rio no modelo de torre Ansible. Se a op√ß√£o </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hosts: all</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> estiver especificada no script </font><font style="vertical-align: inherit;">, o script ser√° executado em todos os hosts Satellite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Uma op√ß√£o mais avan√ßada √© usar grupos de invent√°rio criados automaticamente em scripts (como eles s√£o criados - veja acima), ou seja, especificar o grupo de hosts desejado na linha de </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hosts</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . Por exemplo, como neste cen√°rio em que o pacote de tela est√° instalado:</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
- name: Install screen package<font></font>
  hosts: "foreman_hostgroup_rhel6"<font></font>
  tasks:<font></font>
  - yum:<font></font>
      name: screen<font></font>
      state: installed<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Aqui, registramos os </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hosts: foreman_hostgroup_rhel6</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , indicando a lista de hosts que formam o grupo de hosts rhel6 no Satellite. </font><font style="vertical-align: inherit;">Assim, o script ser√° executado apenas nesses hosts. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, no script, voc√™ pode especificar na linha de hosts as vari√°veis ‚Äã‚Äãque o Ansible Tower recebe durante a sincroniza√ß√£o com o Satellite. </font><font style="vertical-align: inherit;">Por exemplo, voc√™ pode fazer isso:</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
- name: Install screen package<font></font>
  hosts: "{{ hosts_var }}"<font></font>
  tasks:<font></font>
  - yum:<font></font>
      name: screen<font></font>
      state: installed<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, poderemos alterar o modelo de trabalho na torre Ansible rapidamente, indicando um dos grupos de invent√°rio por meio de uma vari√°vel externa.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/jr/fe/iu/jrfeiulsq6wqesxwt-e1njpt2mm.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste exemplo, o modelo ser√° executado apenas em hosts que s√£o membros do grupo </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">rhel7</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> no Satellite. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, o modelo de trabalho pode ser configurado para que, na inicializa√ß√£o, o usu√°rio solicite o valor da vari√°vel </font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">hosts_var</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> (e ao mesmo tempo exiba os grupos de invent√°rio dispon√≠veis na forma de coment√°rios):</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ad/lh/gl/adlhglvneyz5ettasl8vh1z_mag.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A tela acima ilustra a situa√ß√£o em que, ao iniciar o modelo, o usu√°rio √© solicitado a inserir o nome do grupo de invent√°rio do Satellite em cujos hosts voc√™ deseja executar o script. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, voc√™ pode usar as vari√°veis ‚Äã‚Äãde host extra√≠das do Satellite durante a sincroniza√ß√£o. </font><font style="vertical-align: inherit;">Por exemplo, veja como um script mostra como fazer refer√™ncia a essas vari√°veis:</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
- name: Show Satellite variables<font></font>
  hosts: all<font></font>
  tasks:<font></font>
  - name: Show subscription_status<font></font>
    debug:<font></font>
      msg: &gt;<font></font>
        Subscription Status: {{ foreman.subscription_status_label }}<font></font>
  - name: Show Errata Counts<font></font>
    debug:<font></font>
      msg: &gt;<font></font>
        Bug fixes: {{ foreman.content_facet_attributes.errata_counts.bugfix }},<font></font>
        Security: {{ foreman.content_facet_attributes.errata_counts.security }},<font></font>
        Enhancement: {{ foreman.content_facet_attributes.errata_counts.enhancement }},<font></font>
        Total: {{ foreman.content_facet_attributes.errata_counts.total }}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se voc√™ executar este script no Ansible Tower, ele mostrar√° os valores das vari√°veis:</font></font><br>
 <br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/la/3o/ub/la3oubu_3gdoc2o_tvxhuqycyko.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
E, √© claro, essas vari√°veis ‚Äã‚Äãpodem ser usadas em constru√ß√µes condicionais quando, para que as tarefas sejam iniciadas apenas sob determinadas condi√ß√µes. </font><font style="vertical-align: inherit;">Por exemplo, se o host n√£o tiver patches de seguran√ßa ou quando a assinatura do host for inv√°lida.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumir</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
O Red Hat Satellite e o Red Hat Ansible s√£o ferramentas muito poderosas e sua integra√ß√£o fornece sinergia tang√≠vel. </font><font style="vertical-align: inherit;">Acima, mostramos como tornar o Satellite uma fonte de dados para o Invent√°rio Din√¢mico no Ansible e us√°-lo na pr√°tica.</font></font><br>
‚ÄÉ<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Parte 2. Ajustando automaticamente novos hosts por meio de provisionamento de retorno de chamada</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m de muitos outros recursos, o Satellite tamb√©m pode inicializar hosts, ou seja, executar o provisionamento. A torre Ansible, por sua vez, foi projetada para configurar hosts. A integra√ß√£o permite garantir que, ap√≥s a inicializa√ß√£o de um novo host RHEL por meio do Satellite, o Ansible Tower se conecte automaticamente a esse host e execute o script de configura√ß√£o correspondente. Obviamente, esse esquema economiza muito tempo para os administradores de sistema, ajudando-os a responder mais rapidamente √†s necessidades da organiza√ß√£o.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Note-se que este esquema s√≥ funciona se v√°rias condi√ß√µes forem atendidas. </font><font style="vertical-align: inherit;">Primeiro, o Satellite deve ser usado como fonte de dados do Invent√°rio Din√¢mico na Ansible Tower (abordamos esse problema na parte anterior). </font><font style="vertical-align: inherit;">Em segundo lugar, a inicializa√ß√£o do host n√£o deve ser feita apenas pelo Satellite, mas tamb√©m pelo mecanismo do grupo de hosts (para obter mais detalhes, consulte o </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Guia de Aprovisionamento</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> ). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Abaixo, mostramos como configurar o Satellite e o Ansible Tower para que, ap√≥s a inicializa√ß√£o do host, o script de configura√ß√£o do Ansible seja executado automaticamente.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Vis√£o geral</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
As ferramentas de automa√ß√£o de TI, como a Ansible Tower, geralmente se enquadram em uma de duas categorias: algumas funcionam pelo m√©todo push, outras pelo m√©todo pull. Nos sistemas push aos quais a Ansible Tower pertence, o servidor de automa√ß√£o inicia uma conex√£o com o host. Nos sistemas pull, o iniciador √© o host, que se comunica com o servidor de automa√ß√£o. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
No nosso caso, com scripts autom√°ticos em novos hosts, um esquema misto √© usado. O host rec√©m-inicializado entra em contato com o servidor de automa√ß√£o com uma solicita√ß√£o para "ligar de volta" e configurar. Depois disso, o servidor de automa√ß√£o se conecta a esse host e executa o script de configura√ß√£o solicitado pelo host. Portanto, no Ansible Tower, esse mecanismo √© chamado de retorno de chamada de provisionamento, que pode ser traduzido como "retorno de chamada de inicializa√ß√£o".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Para mostrar por que o provisionamento de retorno de chamada √© necess√°rio, considere a seguinte situa√ß√£o: temos um certo script de configura√ß√£o de host que √© executado diariamente √† meia-noite. Digamos que √†s 8 da manh√£ estamos inicializando v√°rios novos servidores de uma s√≥ vez atrav√©s do Satellite. Ao mesmo tempo, o Satellite √© usado como uma fonte de dados do Invent√°rio din√¢mico na Ansible Tower, para que os hosts criados caiam automaticamente no Ansible. No entanto, o pr√≥ximo lan√ßamento do script de automa√ß√£o ocorrer√° apenas √† meia-noite, ou seja, ap√≥s 16 horas. Obviamente, isso est√° longe de ser ideal e eu gostaria que o script fosse executado imediatamente ap√≥s a inicializa√ß√£o do novo host. Para esse fim, o retorno de chamada de provisionamento tamb√©m √© pensado. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em geral, o provisionamento de retorno de chamada √© configurado e funciona da seguinte maneira:</font></font><br>
<br>
<ol>
<li>  Ansible Tower   credential        root,  Satellite           . Tower    ,            .</li>
<li>   Job Template  Ansible Tower   provisioning callback.       URL     Host Config Key,        Ansible. </li>
<li> Satellite      ,       provisioning callback   Ansible Tower,  : URL-  Ansible Tower,  Host Config Key    Ansible.</li>
<li>      Satellite     /etc/systemd/system/ansible-callback.service (  RHEL 7  8;   RHEL 6  ).         provisioning callback   Ansible Tower,  ,     (URL-, Host Config Key   ).</li>
<li>Ansible Tower       Host Config Key.   , Tower       ,      root,    Job Template.   ,      .</li>
</ol><br>
<h4> Ansible Tower  Provisioning Callback</h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vamos come√ßar criando um script de configura√ß√£o no servidor Ansible Tower que altera o conte√∫do de / etc / motd, cria algum tipo de usu√°rio e instala um pacote espec√≠fico. </font><font style="vertical-align: inherit;">Em seguida, usaremos esse script para configurar novos hosts imediatamente ap√≥s serem inicializados. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na vida real, os scripts de automa√ß√£o provavelmente s√£o armazenados em algum sistema de controle de vers√£o, mas, por simplicidade, assumimos que eles est√£o diretamente no servidor Ansible Tower. </font><font style="vertical-align: inherit;">Portanto, entramos no servidor Ansible Tower via SSH e criamos o diret√≥rio / var / lib / awx / projects / provisioning para eles, executando o seguinte comando:</font></font><br>
<br>
<pre><code class="plaintext hljs"># mkdir /var/lib/awx/projects/provision
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, criamos nosso script nesse diret√≥rio, chamamos provision.yaml e escrevemos o seguinte conte√∫do nele:</font></font><br>
<br>
<pre><code class="plaintext hljs">---<font></font>
<font></font>
- name: Provision new host<font></font>
<font></font>
  hosts: all<font></font>
<font></font>
  tasks:<font></font>
<font></font>
  - name: Set content in /etc/motd <font></font>
<font></font>
    copy:<font></font>
<font></font>
      content: Authorized use only!<font></font>
<font></font>
      dest: /etc/motd<font></font>
<font></font>
      mode: 644<font></font>
<font></font>
      owner: root<font></font>
<font></font>
      group: root<font></font>
<font></font>
<font></font>
  - name: Create brian user account<font></font>
<font></font>
    user:<font></font>
<font></font>
      name: brian<font></font>
<font></font>
      uid: 10000<font></font>
<font></font>
      state: present<font></font>
<font></font>
<font></font>
  - name: Install tmux package<font></font>
<font></font>
    yum:<font></font>
<font></font>
      name: tmux<font></font>
<font></font>
      state: present<font></font>
<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora v√° para a interface da web da Tower e v√° para a tela Credenciais. </font><font style="vertical-align: inherit;">Clique no bot√£o verde de sinal de adi√ß√£o para criar uma nova entrada de credencial, atribua o nome provisioning_root e defina o Tipo de credencial como M√°quina. </font><font style="vertical-align: inherit;">No campo Nome de usu√°rio, escreva root e, no campo Senha, especifique a senha especificada no Satellite para uso nos novos hosts do grupo de hosts correspondente no Satellite (seu nome pode ser encontrado na interface da web do Satellite na guia Sistema operacional). </font><font style="vertical-align: inherit;">Usando esta entrada, o Ansible Tower poder√° efetuar login nos novos hosts criados durante a inicializa√ß√£o via Satellite.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/zf/b7/lb/zfb7lbondu4unvzqe-h5ex-2e54.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Depois disso, na interface Ansible Tower, v√° para a tela Projetos e clique no sinal de mais verde para criar um novo projeto. </font><font style="vertical-align: inherit;">Chame isso de provis√£o, altere Tipo de SCM para Manual e especifique a provis√£o como o Diret√≥rio do Playbook:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/yb/aq/ib/ybaqibhcd2nlts3ysjwzfphdr8w.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, na interface Ansible Tower, v√° para a tela Modelos, clique no sinal de adi√ß√£o verde para criar um novo Modelo de trabalho. </font><font style="vertical-align: inherit;">Vamos cham√°-lo de provis√£o; no campo Invent√°rio, escreveremos Satellite, no campo Projeto - provis√£o, no campo Playbook - provision.yaml e no campo Credencial - provisioning_root. </font><font style="vertical-align: inherit;">Al√©m disso, voc√™ precisa habilitar a caixa de sele√ß√£o Allow Provisioning Callbacks e clicar no √≠cone da varinha m√°gica √† direita do campo Chave de configura√ß√£o do host para gerar uma chave secreta. </font><font style="vertical-align: inherit;">Essa chave √© necess√°ria para solicitar um retorno de chamada de provisionamento n√£o poderia ser ningu√©m, mas apenas algu√©m que conhece a Chave de configura√ß√£o do host. </font><font style="vertical-align: inherit;">Sem a chave correta, o servidor da Ansible Tower simplesmente n√£o responder√° √† solicita√ß√£o.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mx/lo/f6/mxlof6mxbd8ny0f0wursfzhqdzy.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora precisamos lembrar para o futuro o valor da Chave de configura√ß√£o do host, bem como o ID do modelo, que pode ser encontrado na URL deste modelo de trabalho: </font></font><br>
<br>
<pre><code class="plaintext hljs">https://tower.example.com/#/templates/job_template/11
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Neste exemplo, o ID √© 11. </font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Configurando o Satellite para provisionar retorno de chamada</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora v√° para a interface da Web via sat√©lite, v√° para a tela Configure e clique em Host Groups. </font><font style="vertical-align: inherit;">Selecionamos o grupo de hosts existente, que √© usado ao inicializar novos hosts, em nosso exemplo, este √© o RHEL 8. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na tela de edi√ß√£o do grupo de hosts, v√° para a guia Parameters e crie 4 novos par√¢metros: </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ansible_host_config_key - aqui inserimos a chave de configura√ß√£o do host em nosso modelo de torre Ansible. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ansible_job_template_id - aqui escrevemos o ID do modelo, que descobrimos anteriormente no URL do modelo. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ansible_tower_fqdn √© o nome de dom√≠nio totalmente qualificado do servidor Ansible Tower. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ansible_tower_provisioning - definido como verdadeiro.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/th/ji/m8/thjim8rh06qhbq_gdwhxfc4jlue.png"></div><br>
 <br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Veja como tudo funciona</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora, inicialize o novo host do Satellite e verifique se o retorno de chamada de provisionamento funciona e executa automaticamente nosso script nesse host. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Na interface da web do Satellite, v√° para a tela Hosts, clique em Create Host e verifique se o grupo para o qual acabamos de criar 4 novos par√¢metros √© usado, ou seja, o grupo RHEL 8.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/xt/mn/yc/xtmnycjplympck_rrh4lag9l2ts.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s a inicializa√ß√£o do host, precisamos garantir que o modelo foi iniciado com sucesso. </font><font style="vertical-align: inherit;">Para fazer isso, v√° para a tela Modelos na interface da web do Ansible Tower, procure nosso modelo na lista e veja se o quadrado mais √† esquerda do indicador ficou verde:</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/lk/g2/o-/lkg2o-kj5rtuuotxnvyhnxrcr3e.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Clicamos nessa caixa verde para ver os detalhes do lan√ßamento, que no nosso caso foram bem-sucedidos. </font><font style="vertical-align: inherit;">Observe que esta tarefa tem um limite (Limit) - o lan√ßamento de apenas novos hosts criados durante a inicializa√ß√£o. </font><font style="vertical-align: inherit;">Bem, isso n√£o √© surpreendente, j√° que o mecanismo de retorno de chamada de provisionamento executa apenas o modelo nos hosts que o solicitam.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/aa/ll/t1/aallt1qykw1g_z9t_hmsujmtqby.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Agora vamos ao host rec√©m-criado e verificamos se ele corresponde ao que est√° escrito no script:</font></font><br>
<br>
<pre><code class="plaintext hljs">[root@provision-test-rhel8 ~]# rpm -qa | grep tmux<font></font>
tmux-2.7-1.el8.x86_64<font></font>
<font></font>
[root@provision-test-rhel8 ~]# id brian<font></font>
uid=10000(brian) gid=10000(brian) groups=10000(brian)<font></font>
<font></font>
[root@provision-test-rhel8 ~]# cat /etc/motd<font></font>
Authorized use only!<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solu√ß√£o de problemas</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o modelo da torre Ansible n√£o iniciar automaticamente em um novo host inicializado via sat√©lite, h√° algumas coisas a serem verificadas. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A primeira etapa √© descobrir se a Ansible Tower recebeu uma solicita√ß√£o de retorno de chamada de provisionamento, como foi o script e se foi iniciado. Para fazer isso, na interface da Torre, v√° para a tela Modelos e observe a cor do indicador ao lado do nome do modelo: verde - o lan√ßamento foi bem-sucedido, vermelho - o lan√ßamento falhou.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/gc/ra/id/gcraidlrqdznksnzfsryp80qbwk.png"></div><br>
 <br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se a caixa estiver vermelha, clicamos nela e procuramos informa√ß√µes adicionais para entender por que a inicializa√ß√£o falhou (podem ser erros de sintaxe no script e outros problemas). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o quadrado estiver verde, clicamos e olhamos de qualquer maneira, pois a tarefa pode relatar uma execu√ß√£o bem-sucedida, mas na verdade n√£o foi iniciada em nosso host. Por exemplo, se a linha de hosts no script indicar hosts e grupos espec√≠ficos, mas n√£o incluir os hosts criados durante a inicializa√ß√£o, a tarefa relatar√° √™xito, mas as informa√ß√µes adicionais dir√£o "ignorando: nenhum host corresponde".</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o quadrado do indicador n√£o for verde nem vermelho, ser√° necess√°rio come√ßar verificando os par√¢metros do grupo de hosts no Satellite. Verifique se o URL do servidor Ansible Tower, a chave de configura√ß√£o do host e o ID do modelo est√£o especificados corretamente. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Em seguida, acesse o host rec√©m-inicializado e verifique se h√° um arquivo /etc/systemd/system/ansible-callback.service (nos sistemas RHEL 7 ou 8) ou um arquivo /root/ansible_provisioning_call.sh (RHEL 6). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o arquivo n√£o existir, verifique se o par√¢metro ansible_tower_provisioning est√° definido como true para este grupo de hosts e se os padr√µes de inicializa√ß√£o no servidor Satellite n√£o foram alterados. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o arquivo /etc/systemd/system/ansible-callback.service estiver presente no host, abra-o e procure o URL para o qual a solicita√ß√£o de retorno de chamada de provisionamento √© enviada:</font></font><br>
<br>
<pre><code class="plaintext hljs">[root@provision-test-rhel8 ~]# cat /etc/systemd/system/ansible-callback.service<font></font>
[Unit]<font></font>
Description=Provisioning callback to Ansible Tower<font></font>
Wants=network-online.target<font></font>
After=network-online.target<font></font>
<font></font>
[Service]<font></font>
Type=oneshot<font></font>
ExecStart=/usr/bin/curl -k -s --data "host_config_key=aa5ebe82-491c-4fbb-bd36-a6657549451e" https://tower.example.com/api/v2/job_templates/11/callback/<font></font>
ExecStartPost=/usr/bin/systemctl disable ansible-callback<font></font>
<font></font>
[Install]<font></font>
WantedBy=multi-user.target<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ pode executar curl e duplicar manualmente os comandos especificados neste arquivo para iniciar manualmente um retorno de chamada de provisionamento:</font></font><br>
<br>
<pre><code class="plaintext hljs">[root@provision-test-rhel8 ~]# /usr/bin/curl -k -s --data "host_config_key=aa5ebe82-491c-4fbb-bd36-a6657549451e" https://tower.example.com/api/v2/job_templates/11/callback/
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se uma chave de configura√ß√£o de host inv√°lida for especificada, receberemos a seguinte mensagem de erro:</font></font><br>
<br>
<pre><code class="plaintext hljs">[root@provision-test-rhel8 ~]# /usr/bin/curl -k -s --data "host_config_key=wrong-key-here" https://tower.example.com/api/v2/job_templates/11/callback/<font></font>
<font></font>
{"detail":"You do not have permission to perform this action."}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Se o ID do modelo estiver especificado incorretamente (aqui - 43 em vez de 11), a resposta ser√° a seguinte:</font></font><br>
<br>
<pre><code class="plaintext hljs">[root@provision-test-rhel8 ~]# /usr/bin/curl -k -s --data "host_config_key=wrong-key-here" https://tower.example.com/api/v2/job_templates/43/callback/<font></font>
<font></font>
{"detail":"Not found."}<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Voc√™ tamb√©m pode desativar o modo silencioso (-s) no comando curl para exibir erros relacionados √† resolu√ß√£o do nome do host, como no exemplo abaixo, onde substitu√≠mos o nome correto ansible.example.com pelo ansible-tower.example.com incorreto :</font></font><br>
<br>
<pre><code class="plaintext hljs">[root@provision-test-rhel8 ~]# /usr/bin/curl -k  --data "host_config_key=wrong-key-here" https://ansible-tower.example.com/api/v2/job_templates/11/callback/<font></font>
<font></font>
curl: (6) Could not resolve host: ansible-tower.example.com<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Al√©m disso, ao descobrir a causa do erro, o arquivo /var/log/tower/tower.log no servidor Ansible Tower pode ser √∫til. </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Por exemplo, este arquivo registra o uso de uma chave de configura√ß√£o de host inv√°lida:</font></font><br>
<br>
<pre><code class="plaintext hljs">2019-11-19 23:19:17,371 WARNING  awx.api.generics status 403 received by user AnonymousUser attempting to access /api/v2/job_templates/11/callback/ from 192.168.0.138
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Isso tamb√©m corrige o uso de um ID de modelo inv√°lido:</font></font><br>
<br>
<pre><code class="plaintext hljs">2019-11-19 23:19:49,093 WARNING  awx.api.generics status 404 received by user AnonymousUser attempting to access /api/v2/job_templates/43/callback/ from 192.168.0.138<font></font>
<font></font>
2019-11-19 23:19:49,095 WARNING  django.request Not Found: /api/v2/job_templates/43/callback/<font></font>
</code></pre><br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Resumir</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A integra√ß√£o do Satellite e do Ansible Tower pode otimizar muito a inicializa√ß√£o e a configura√ß√£o de novos hosts, o que economiza muito tempo para os administradores de sistema, ajudando-os a responder mais rapidamente √†s necessidades da organiza√ß√£o. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Em 24 de mar√ßo, das 11:00 √†s 12:30, a Red Hat realizar√° um webinar ‚ÄúO que voc√™ precisa saber sobre automa√ß√£o: habilidades b√°sicas poss√≠veis‚Äù A</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
automa√ß√£o √© um t√≥pico que se aproxima da popularidade e do n√∫mero de solicita√ß√µes de transforma√ß√£o digital. Vamos falar sobre nossa vis√£o da automa√ß√£o - junto com a Ansible e a Ansible Tower - e essas ser√£o as informa√ß√µes b√°sicas que abrir√£o a porta para o admir√°vel mundo novo das ferramentas de automa√ß√£o declarativas.</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ap√≥s este webinar, voc√™ entender√° as entidades Ansible b√°sicas, como manual, invent√°rio, m√≥dulo. </font><font style="vertical-align: inherit;">Juntamente com voc√™, dominaremos a sintaxe b√°sica do YAML para que voc√™ possa escrever seus pr√≥prios scripts. </font><font style="vertical-align: inherit;">Ele tamb√©m considerar√° o lan√ßamento de scripts e a escalada de privil√©gios. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Como resultado, voc√™ obter√° um conjunto b√°sico de habilidades que lhe permitir√° estudar com √™xito a documenta√ß√£o e outra literatura sem a sensa√ß√£o constante de que est√° perdendo alguma coisa. </font></font><b><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=pt&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Registre-se</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> e venha!</font></font></b></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../pt491122/index.html">An√°lise forense de backups do HiSuite</a></li>
<li><a href="../pt491130/index.html">Recursos do Vue para lembrar</a></li>
<li><a href="../pt491132/index.html">Quando o filtro bloom n√£o se encaixa</a></li>
<li><a href="../pt491134/index.html">5 est√°gios de inevitabilidade da ado√ß√£o da certifica√ß√£o ISO / IEC 27001. Nega√ß√£o</a></li>
<li><a href="../pt491136/index.html">Projetando conte√∫do na documenta√ß√£o angular ou perdida de conte√∫do ng</a></li>
<li><a href="../pt491146/index.html">UML para desenvolvedores</a></li>
<li><a href="../pt491150/index.html">Como eu invadi os golpistas ou apenas o interior dos pain√©is de phishing</a></li>
<li><a href="../pt491154/index.html">Pesquisa de curso: como construir um caminho de aprendizado</a></li>
<li><a href="../pt491156/index.html">Empatia mensur√°vel: predizer simpatia pela resson√¢ncia magn√©tica cerebral</a></li>
<li><a href="../pt491162/index.html">Antipadr√µes do PostgreSQL: um conto sobre o refinamento iterativo da pesquisa por nome ou ‚ÄúOtimiza√ß√£o para frente e para tr√°s‚Äù</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>