<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>💍 🔈 👩🏿‍🤝‍👨🏽 安全性和DBMS：选择保护工具时需要记住的内容 📂 🚆 😸</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="我叫Denis Rozhkov，我是Jatoba产品团队的 Gazinformservice的软件开发主管。立法和公司法规对数据存储的安全性提出了某些要求。没有人希望第三方获得机密信息的访问权，因此以下问题对于任何项目都很重要：标识和身份验证，数据访问管理，确保系统中信息的完整性，记录安全事件。因此...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>安全性和DBMS：选择保护工具时需要记住的内容</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/mailru/blog/500708/"><h1><div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/1e1/315/3ed/1e13153edc98d4ac4b2de6858a7ea48c.png"></div></h1><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我叫Denis Rozhkov，我是Jatoba产品</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">团队的</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> Gazinformservice的软件开发主管</font><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">立法和公司法规对数据存储的安全性提出了某些要求。</font><font style="vertical-align: inherit;">没有人希望第三方获得机密信息的访问权，因此以下问题对于任何项目都很重要：标识和身份验证，数据访问管理，确保系统中信息的完整性，记录安全事件。</font><font style="vertical-align: inherit;">因此，我想谈谈有关DBMS安全性的一些有趣的观点。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本文</font><font style="vertical-align: inherit;">由</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;">Mail.ru Cloud Solutions</font></a><font style="vertical-align: inherit;">托管的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Databases Meetup撰写</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">如果您不想阅读，可以看到：</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"></font></a><font style="vertical-align: inherit;"></font><br>
<br>
<iframe width="560" height="315" src="https://www.youtube.com/embed/n-54j9FHaMU" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
本文将分为三个部分：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何保护连接。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">什么是对操作的审核以及如何记录数据库部分发生的情况并连接到数据库。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何保护数据库本身中的数据以及用于此目的的技术是什么。</font></font></li>
</ul><br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a7d/19f/d89/a7d19fd894a9ea6e3f0ff7a0ad42db36.jpg"></div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">DBMS安全性的三个组成部分：连接保护，活动审核和数据保护</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">连接保护</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您可以直接或通过Web应用程序间接连接到数据库。</font><font style="vertical-align: inherit;">通常，业务方面的用户（即与DBMS合作的人）不会直接与之交互。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在谈论保护连接之前，您需要回答一些重要问题，这些问题取决于将如何构建安全措施：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一个业务用户是否等效于一个DBMS用户；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是仅通过您控制的API访问DBMS数据，还是直接访问表？</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否将DBMS分配在单独的受保护网段中，是否与之交互以及如何进行；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">是否使用池/代理和中间件，它们可以更改有关如何建立连接以及谁使用数据库的信息。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在，让我们看看可以使用哪些工具来保护连接：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">使用数据库防火墙类解决方案。</font><font style="vertical-align: inherit;">至少，额外的保护层将最大程度地提高DBMS中发生的事件的透明度-您可以提供额外的数据保护。</font></font></li>
<li>  .     ,    .    —      -,    ,   .    ,  ,      .<br>
<br>
       <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>,    MS SQL Vulnerability Assessmen   <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="></a>.&nbsp;</li>
<li>    .   ,   ,       ,         , ,    .      .</li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">配置SSL，如果DBMS与最终用户之间没有网络隔离，则它不在单独的VLAN中。</font><font style="vertical-align: inherit;">在这种情况下，必须保护使用者与DBMS本身之间的通道。</font><font style="vertical-align: inherit;">保护工具属于开源软件。</font></font></li>
</ol><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将如何影响DBMS性能？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们看一个PostgreSQL示例，如果启用了太多资源，SSL将如何影响CPU负载，增加计时并降低TPS。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们使用pgbench加载PostgreSQL-这是一个用于运行性能测试的简单程序。</font><font style="vertical-align: inherit;">它可能在并行数据库会话中重复执行一个命令序列，然后计算平均事务处理速度。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不使用SSL且使用SSL的测试1-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与每个事务建立连接：</font></font><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe --connect -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres sslmode=require&nbsp;<font></font>
sslrootcert=rootCA.crt sslcert=client.crt sslkey=client.key"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font></strong><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe --connect -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不使用SSL且使用SSL的测试2-</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有事务均在一个连接中执行：</font></font><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres sslmode=require<font></font>
sslrootcert=rootCA.crt sslcert=client.crt sslkey=client.key"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">与</font></font></strong><br>
<br>
<pre><code class="plaintext hljs">pgbench.exe -c 10 -t 5000 "host=192.168.220.129 dbname=taskdb user=postgres"</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他设定</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="plaintext hljs">scaling factor: 1<font></font>
query mode: simple<font></font>
number of clients: 10<font></font>
number of threads: 1<font></font>
number of transactions per client: 5000<font></font>
number of transactions actually processed: 50000/50000</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试结果</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>&nbsp;</td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有SSL</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">SSL协议</font></font></strong></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在每个交易中建立连接</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均延迟</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">171.915毫秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">187.695毫秒</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tps包括建立连接</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58.168112</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53.278062</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tps，不包括建立的连接</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">64.084546</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">58.725846</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央处理器</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">28％</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">所有事务都在一个连接中执行。</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均延迟</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.722毫秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">6.342毫秒</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tps包括建立连接</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1587.657278</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1576.792883</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tps，不包括建立的连接</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1588.380574</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1577.694766</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央处理器</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">17％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">21％</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在轻负载下，SSL的影响可与测量误差相比。如果传输的数据量很大，情况可能会有所不同。如果我们为每个事务建立一个连接（这种情况很少见，通常该连接在用户之间共享），那么您将有大量的连接/断开连接，其效果可能会更大一些。即，可能存在性能下降的风险，但是，差异不大到不使用保护的程度。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
请注意，比较操作模式有很大的不同：在同一会话中，您的工作不同。这是可以理解的：资源花费在创建每个连接上。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们有一种情况，当我们以信任模式连接Zabbix时，也就是说，我们没有检查md5，因此不需要身份验证。然后客户要求启用md5身份验证模式。这给CPU带来了很大的负担，性能下降了。他们开始寻找优化的方法。解决此问题的可能方法之一是实施网络限制，为DBMS创建单独的VLAN，添加设置以使清楚从何处进行连接并删除身份验证，还可以优化身份验证设置以降低启用身份验证的成本，但是通常使用各种方法身份验证会影响性能，并且在为DBMS设计服务器（硬件）的计算能力时需要考虑这些因素。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
结论：在许多解决方案中，即使很小的身份验证也会对项目产生很大的影响，并且只有在产品中实现时，这种情况才变得很糟糕。</font></font><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">行动审核</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
审核不仅可以是DBMS。</font><font style="vertical-align: inherit;">审计是接收有关不同部门发生的情况的信息。</font><font style="vertical-align: inherit;">它既可以是数据库防火墙，也可以是构建DBMS的操作系统。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在具有审计功能的商业企业级DBMS中，一切都很好，在开源中-并非总是如此。</font><font style="vertical-align: inherit;">这是PostgreSQL的功能：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">默认日志-内置日志；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名：pgaudit-如果您没有足够的默认日志记录，则可以使用单独的设置来解决一些问题。</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视频中的报告之外：</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
“可以使用log_statement = all的标准日志记录功能为操作员提供基本注册。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这对于监视和其他用途是可以接受的，但不能提供审核通常所需的详细程度。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
仅列出数据库执行的所有操作是不够的。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
还应该可以找到审计员感兴趣的特定报表。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
标准的日志记录工具显示用户请求的内容，而pgAudit则着重于数据库发出请求时所发生事件的详细信息。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
例如，审核员可能想要确保已在记录的维护窗口中创建了特定表。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于基本的审计和grep来说，这似乎是一个简单的任务，但是如果您遇到类似以下（故意混淆）的示例，该怎么办：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DO $$ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BEGIN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EXECUTE'CREATE TABLE import'|| 'ant_table（id INT）'; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
END $$; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
标准日志记录将为您提供：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
LOG：语句：DO $$ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BEGIN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 EXECUTE'CREATE TABLE import'|| 'ant_table（id INT）'; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
END $$; </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在动态创建表的情况下，似乎似乎需要搜索感兴趣的表。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这不是理想的，因为仅按表名进行搜索会更可取。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
这是pgAudit有用的地方。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
对于相同的输入，它将在日志中输出以下输出：</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
审计：SESSION，33.1，功能，请,,,“DO $$ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
BEGIN </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 执行'CREATE TABLE进口' || </font><font style="vertical-align: inherit;">'ant_table（id INT）'; </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
END $$;“ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
审计：SESSION，33,2，DDL，CREATE TABLE，TABLE，public.important_table，CREATE TABLE重要表（id INT）</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不仅注册DO块，而且还注册了全文CREATE TABLE及其操作符类型，对象类型和全名，使搜索更容易。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在操作员杂志SELECT和DML中，可以将pgAudit配置为为语句中引用的每个关系记录一个单独的条目。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
不需要解析以查找与特定表（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">*</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）</font><font style="vertical-align: inherit;">相关的所有</font><font style="vertical-align: inherit;">语句。</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">这将如何影响DBMS性能？</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们在启用全面审核的情况下运行测试，看看PostgreSQL性能如何。</font><font style="vertical-align: inherit;">我们在所有方面都启用了最大的数据库日志记录。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们几乎不更改配置文件中的任何内容，从重要的一个文件开始-开启debug5模式以获得最大的信息。</font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">postgresql.conf</font></font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">log_destination ='stderr'logging_collector = </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_truncate_on_rotation = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_rotation_age = 1d </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_rotation_size = 10MB </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_min_messages = </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug5</font></font></strong><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
log_min_error_statement = </font></font><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug5</font></font></strong><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
log_min_duration_statement = 0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
debug_print_parse =</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">debug_print_rewrite = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
debug_print_plan = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
debug_pretty_print = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_checkpoints = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_connections = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_disconnections = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_duration = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_hostname = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_lock_waits = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_replication_commands = on </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_temp_files = 0 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
log_timezone =</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在参数为1 CPU，2.8 GHz，2 GB RAM，40 GB HDD的PostgreSQL DBMS上，我们使用以下命令执行三个负载测试：</font></font><br>
<br>
<pre><code class="plaintext hljs">$ pgbench -p 3389 -U postgres -i -s 150 benchmark<font></font>
$ pgbench -p 3389 -U postgres -c 50 -j 2 -P 60 -T 600 benchmark<font></font>
$ pgbench -p 3389 -U postgres -c 150 -j 2 -P 60 -T 600 benchmark</code></pre><br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">试验结果：</font></font></strong><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不记录</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">带记录</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">总数据库填充时间</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">43.74秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">53.23秒</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">24％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">40％</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央处理器</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">72％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">91％</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试1（50个连接）</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10分钟内的交易数</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">74169</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">32445</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事务/秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">123</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">54</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均延迟</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">405毫秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">925毫秒</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试2（150个连接，可连接100个）</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">10分钟内的交易数</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">81727</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">31429</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">事务/秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">136</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">52</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">平均延迟</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">550毫秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1432毫秒</font></font></td>
</tr>
<tr>
<td colspan="3"><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">关于尺寸</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库大小</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2251兆字节</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2262兆字节</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据库日志大小</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">0兆</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4587 Mb</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
底线：全面审核不是很好。</font><font style="vertical-align: inherit;">审计产生的数据量会很大，就像数据库本身中的数据一样，甚至更多。</font><font style="vertical-align: inherit;">使用DBMS时生成的日志量是产品上的常见问题。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们看一下其他参数：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">速度变化不大：没有记录-43.74秒，有记录-53.23秒。</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RAM和CPU的性能将下降，因为您需要使用审核创建文件。</font><font style="vertical-align: inherit;">在生产上也很明显。</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当然，随着连接数量的增加，性能会略有下降。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在拥有审计的公司中，这甚至更加困难：</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">有很多数据；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不仅需要通过SIEM中的syslog进行审计，而且还需要对文件进行审计：syslog突然发生了一些事情，保存数据的文件应该靠近数据库；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">审计需要一个单独的架子，以免沉没在I / O磁盘上，因为它占用了大量空间；</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">碰巧IS员工到处都需要GOST，他们需要客人身份证明。</font></font></li>
</ul><br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">数据访问限制</font></font></h2><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们看一下用于保护数据并在商业DBMS和开放源代码中访问数据的技术。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
可以整体使用：</font></font><br>
<br>
<ol>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">过程和功能的加密和模糊处理（包装）-即使代码与可读代码不可读的单独工具和实用程序。</font><font style="vertical-align: inherit;">是的，那么它既不能更改也不能重构。</font><font style="vertical-align: inherit;">有时至少在DBMS方面需要这种方法-许可限制的逻辑或授权逻辑在过程和功能级别精确加密。</font></font></li>
<li>     (RLS) —       ,      ,   - -     .</li>
<li>   (Masking) —          ,   ,    -    .  ,        .</li>
<li>  Security DBA/Application DBA/DBA — , ,      ,        database-  application-.  open source   ,     .  ,        .</li>
<li>       .   ,    ,         .</li>
<li>     —    .</li>
<li>End-to-end encryption   —  client-side       .</li>
<li> . ,   —    ,     .</li>
</ol><br>
<h3>     ?</h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
让我们看一个PostgreSQL中列加密的例子。</font><font style="vertical-align: inherit;">有一个pgcrypto模块，它允许您以加密形式存储所选字段。</font><font style="vertical-align: inherit;">当只有一些数据有价值时，这很有用。</font><font style="vertical-align: inherit;">为了读取加密的字段，客户端传递解密密钥，服务器对数据解密并将其发布给客户端。</font><font style="vertical-align: inherit;">没有数据的密钥，任何人都无能为力。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">让我们用pgcrypto进行测试</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">创建一个包含加密数据和常规数据的表。</font><font style="vertical-align: inherit;">以下是用于创建表的命令，在第一行中，一条有用的命令是在注册DBMS的同时创建扩展本身：</font></font><br>
<br>
<pre><code class="plaintext hljs">CREATE EXTENSION pgcrypto;<font></font>
CREATE TABLE t1 (id integer, text1 text, text2 text);<font></font>
CREATE TABLE t2 (id integer, text1 bytea, text2 bytea);<font></font>
INSERT INTO t1 (id, text1, text2)<font></font>
VALUES (generate_series(1,10000000), generate_series(1,10000000)::text, generate_series(1,10000000)::text);<font></font>
INSERT INTO t2 (id, text1, text2) VALUES (<font></font>
generate_series(1,10000000),<font></font>
encrypt(cast(generate_series(1,10000000) AS text)::bytea, 'key'::bytea, 'bf'),<font></font>
encrypt(cast(generate_series(1,10000000) AS text)::bytea, 'key'::bytea, 'bf'));</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
接下来，我们将尝试从每个表进行数据采样，并查看执行时间。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从表中选择无加密功能</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<pre><code class="plaintext hljs">psql -c "\timing" -c "select * from t1 limit 1000;" "host=192.168.220.129 dbname=taskdb<font></font>
user=postgres sslmode=disable" &gt; 1.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
秒表已开启。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;id | </font><font style="vertical-align: inherit;">text1 | </font><font style="vertical-align: inherit;">text2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
------ + ------- + ------- </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 1 | </font><font style="vertical-align: inherit;">1 | </font><font style="vertical-align: inherit;">1 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 2 | </font><font style="vertical-align: inherit;">2 | </font><font style="vertical-align: inherit;">2 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 3 | </font><font style="vertical-align: inherit;">3 | </font><font style="vertical-align: inherit;">3 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
997 | </font><font style="vertical-align: inherit;">997 | </font><font style="vertical-align: inherit;">997 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
998 | </font><font style="vertical-align: inherit;">998 | </font><font style="vertical-align: inherit;">998,999 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
| </font><font style="vertical-align: inherit;">999 | </font><font style="vertical-align: inherit;">999 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1000 | </font><font style="vertical-align: inherit;">1000 | </font><font style="vertical-align: inherit;">1000 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（1000行）</font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间：1.386毫秒</font></font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">从具有加密功能的表中采样：</font></font></strong><br>
<br>
<pre><code class="plaintext hljs">psql -c "\timing" -c "select id, decrypt(text1, 'key'::bytea, 'bf'),<font></font>
decrypt(text2, 'key'::bytea, 'bf') from t2 limit 1000;"<font></font>
"host=192.168.220.129 dbname=taskdb user=postgres sslmode=disable" &gt; 2.txt</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
秒表已开启。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
&nbsp;&nbsp;id | </font><font style="vertical-align: inherit;">解密| </font><font style="vertical-align: inherit;">解密</font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
----- + -------------- + ------------ </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 1 | </font><font style="vertical-align: inherit;">\ x31 | </font><font style="vertical-align: inherit;">\ x31 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 2 | </font><font style="vertical-align: inherit;">\ x32 | </font><font style="vertical-align: inherit;">\ x32 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
 3 | </font><font style="vertical-align: inherit;">\ x33 | </font><font style="vertical-align: inherit;">\ x33 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
... </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
999 | </font><font style="vertical-align: inherit;">\ x393939 | </font><font style="vertical-align: inherit;">\ x393939 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1000 | </font><font style="vertical-align: inherit;">\ x31303030 | </font><font style="vertical-align: inherit;">\ x31303030 </font></font><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（1000行）</font></font><br>
<br>
<font color="red"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">时间：50.203毫秒</font></font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试结果</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td>&nbsp;</td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">没有加密</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">pgcrypto（解密）</font></font></strong></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1000行读取</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1,386毫秒</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">50,203毫秒</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">中央处理器</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">十五％</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">35％</font></font></td>
</tr>
<tr>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">内存</font></font></td>
<td>&nbsp;</td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+ 5％</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
加密对性能有很大影响。</font><font style="vertical-align: inherit;">可以看出，时间增加了，因为解密加密数据的操作（并且解密通常仍包裹在逻辑中）需要大量资源。</font><font style="vertical-align: inherit;">也就是说，加密包含某种数据的所有列的想法充满了降低的性能。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是，加密并不是解决所有问题的灵丹妙药。</font><font style="vertical-align: inherit;">解密和数据传输过程中的解密数据和解密密钥位于服务器上。</font><font style="vertical-align: inherit;">因此，可以由对数据库服务器具有完全访问权限的人员（例如系统管理员）拦截密钥。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当所有用户的整个列都有一个键（即使不是全部，但对于一组有限的客户）时，这并不总是正确和正确的。</font><font style="vertical-align: inherit;">这就是为什么他们开始进行端到端加密的原因，在DBMS中，他们开始考虑用于加密来自客户端和服务器的数据的选项，出现了相同的密钥库存储库-在DBMS端提供密钥管理的单独产品。</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/getpro/habr/post_images/a97/d2d/cb2/a97d2dcb29c95253ff37b99f2bf1be40.png"></div><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">MongoDB中这种加密的示例</font></font></i></a><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商业和开源DBMS中的安全功能</font></font></h2><br>
<div class="scrollable-table"><table>
<tbody><tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">功能</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">一种</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">密码政策</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">审计</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">保护过程和功能的源代码</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">RLS</font></font></strong></td>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">加密</font></font></strong></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">甲骨文</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商业的</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Msql的</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商业的</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
</tr>
<tr>
<td><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">贾托巴</font></font></strong></a></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">商业的</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PostgreSQL的</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自由</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">扩展名</font></font></td>
</tr>
<tr>
<td><strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mongodb</font></font></strong></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">自由</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">+</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">--</font></font></td>
<td><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">仅在MongoDB Enterprise中可用</font></font></td>
</tr>
</tbody></table></div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
该表远未完成，但情况是这样的：在商业产品中，安全性问题已经解决了很长时间，在开源中，通常，一些附件用于安全性，许多功能还不够，有时您必须添加一些内容。例如，密码策略-在PostgreSQL中有很多不同的扩展名（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">1</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">2</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">3</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">4</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">5</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）实现密码策略，但在我看来，没有国内企业段的需求都包括在内。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如果什么地方都不需要，该</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">怎么办？例如，我要使用特定的DBMS，其中没有客户需要的功能。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
然后，您可以使用适用于不同DBMS的第三方解决方案，例如“ Crypto DB”或“ Garda DB”。如果我们谈论的是来自国内市场的解决方案，那么他们比开源软件更了解GOST。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
第二种选择是编写自己所需的内容，在过程级别在应用程序中实现数据访问和加密。没错，有了GOST将会更加困难。但总的来说-您可以根据需要隐藏数据，将其放入DBMS中，然后在应用程序级别将其获取并解密。同时，立即考虑如何在应用程序中保护这些算法。我们认为，这应该在DBMS级别完成，因为它将更快地工作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
最初</font><font style="vertical-align: inherit;">由Mail.ru Cloud Solutions </font><font style="vertical-align: inherit;">在</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">@Databases Meetup上</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">进行</font><font style="vertical-align: inherit;">此演讲</font><font style="vertical-align: inherit;">。观看</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=https://www.youtube.com/redirect%3Fq%3D"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">视频</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">其他出席并</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">在Mail.ru集团的Kubernetes周围报名</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">电报活动公告</font><font style="vertical-align: inherit;">。</font></font><br>
<br>
<strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">还有什么要阅读的主题</font></font></strong><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">：</font></font><br>
<br>
<ol>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">不仅仅是Ceph：MCS块云存储</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">如何为项目选择数据库，以免再次选择</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font></li>
</ol></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN500696/index.html">跑步鞋如何适应女性的脚</a></li>
<li><a href="../zh-CN500698/index.html">Evgeny Katyshev：“ OpenStreetMap不适合任何信息”</a></li>
<li><a href="../zh-CN500700/index.html">支持TLS1.3和扩展您的个人帐户：2020年第一季度所做的工作</a></li>
<li><a href="../zh-CN500704/index.html">独角兽（Airbnb，Uber，Lyft，Careem）在冠状病毒大流行期间陷入困境，解雇了数千名员工</a></li>
<li><a href="../zh-CN500706/index.html">将MySQL（Percona Server）从5.7升级到8.0</a></li>
<li><a href="../zh-CN500712/index.html">数字冠状病毒-勒索软件和Infostealer的组合</a></li>
<li><a href="../zh-CN500718/index.html">远程模式下的EPAM：如何工作</a></li>
<li><a href="../zh-CN500720/index.html">新的信息安全标准：使攻击者的生活更加艰难</a></li>
<li><a href="../zh-CN500722/index.html">“烘烤直到准备就绪”：谁以不寻常的方式保存了稀有的录音带</a></li>
<li><a href="../zh-CN500724/index.html">美国金融当局如何限制游戏对下滑的负面影响</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>