<!doctype html>
<html class="no-js" lang="fr">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üí∞ üëµüèª üëäüèø La meilleure fa√ßon de travailler avec le DOM üë©‚Äçüíº üéÖüèø ü••</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Pendant que j'√©crivais sur Solid , j'ai eu l'opportunit√© d'estimer le nombre de tentatives d'optimisation des performances sur les graphes (benchmarks...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>La meilleure fa√ßon de travailler avec le DOM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/501170/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Pendant que j'√©crivais sur </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Solid</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> , j'ai eu l'opportunit√© d'estimer le nombre de tentatives d'optimisation des performances sur les graphes (benchmarks). </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DOM est un d√©veloppement de goulot d'√©tranglement frontal. </font><font style="vertical-align: inherit;">Diff√©rentes solutions peuvent conduire √† des r√©sultats similaires. </font><font style="vertical-align: inherit;">De nouvelles biblioth√®ques apparaissent chaque semaine, incorporant les meilleures des pr√©c√©dentes, pour faire la combinaison parfaite. </font><font style="vertical-align: inherit;">Apr√®s un certain temps, mes yeux commencent √† fuir une telle vari√©t√© de solutions. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ne vous m√©prenez pas. </font><font style="vertical-align: inherit;">J'adore voir de nouvelles id√©es prendre vie, mais elles ont toutes des d√©fauts et entra√Ænent parfois une perte de commodit√© ou de productivit√©. </font><font style="vertical-align: inherit;">Je comprends les cons√©quences d'une telle d√©cision, mais je veux partager mes observations. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Quelle est la fa√ßon la plus rapide de travailler avec le DOM:</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Dom virtuel</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Litt√©raux de mod√®le balis√©s </font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Observables √† grain fin</font></font></li>
</ul><a name="habracut"></a><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Comparaison</font></font></h3><br>
<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JS Frameworks Benchmark</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est le meilleur projet open source pour comparer les performances des frameworks d'interface utilisateur JavaScript. </font><font style="vertical-align: inherit;">Il est pr√©f√©rable d'ex√©cuter les tests localement au lieu d'utiliser les r√©sultats officiels. </font><font style="vertical-align: inherit;">Les r√©sultats peuvent varier selon la machine. </font><font style="vertical-align: inherit;">Comme je teste sur une machine faible, les performances chuteront sensiblement. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je prendrai les meilleures approches dans le rendu d'un arbre DOM pour illustrer la redondance de certaines solutions. </font><font style="vertical-align: inherit;">Je vais le faire en utilisant la capacit√© de Solid √† prendre en charge diff√©rentes options de rendu afin d'imposer des co√ªts √† mesure que les variables changent et de le comparer avec des r√©sultats similaires d'autres cadres. </font><font style="vertical-align: inherit;">Jetons-y un ≈ìil. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Vari√©t√©s de solide:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solid</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - version du framework avec ES2015 proxy setter en plus des fonctions de suivi des changements int√©gr√©es dans les mod√®les de n≈ìuds DOM clon√©s. </font><font style="vertical-align: inherit;">Ceci est r√©alis√© en pr√©compilant les mod√®les JSX </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Code)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">signaux solides</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cette version est la m√™me que la pr√©c√©dente, mais des signaux bruts sont utilis√©s √† la place des proxys. </font><font style="vertical-align: inherit;">Cela complique l'utilisation de la biblioth√®que, mais √† la fin, nous obtenons un ensemble plus petit et de meilleures performances </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Code)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">allum√© en continu</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - cette version n'utilise pas la pr√©compilation JSX lors de l'ex√©cution </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Code)</font></font></a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">solid-h</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> - Cette version utilise HyperScript pour cr√©er `document.createElement` √† la vol√©e. </font><font style="vertical-align: inherit;">Le reste utilise la m√™me impl√©mentation que Solid </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Code)</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Autres biblioth√®ques:</font></font><br>
<br>
<ul>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">domc</a> ‚Äî -,       DOM     DSL (domain specific language)   HTML,    index.html<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"> (Code)</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">surplus</a> ‚Äî       JSX     `document.createElement`. Solid     <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"> (Code)</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">ivi </a> ‚Äî     Inferno,      DOM.   HyperScript Helpers-esque  <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"> (Code)</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow">lit-html</a> ‚Äî      ,  c  .     Tagged Template Literals   DOM-<a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"> (Code)</a></li>
<li><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">inferno</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> est le plus rapide des clones React et l'une des biblioth√®ques Virtual DOM les plus rapides. </font><font style="vertical-align: inherit;">Utilise des directives JSX sp√©ciales pour de meilleures performances </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Code)</font></font></a></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Certains de vos frameworks pr√©f√©r√©s peuvent ne pas √™tre ici, mais cette liste affiche des versions optimis√©es de toutes les techniques que vous verrez dans les frameworks les plus populaires. </font><font style="vertical-align: inherit;">Vous pouvez le consid√©rer comme un indicateur pour √©valuer les capacit√©s maximales de votre biblioth√®que. </font><font style="vertical-align: inherit;">Si vous souhaitez comparer les performances des frameworks populaires, je recommande ce tableau. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
√Ä titre de comparaison, je voudrais ajouter Web Assembly. </font><font style="vertical-align: inherit;">Malheureusement, au moment d'√©crire ces lignes, les enregistrements WASM √©taient une impl√©mentation vanille sans abstractions de haut niveau. </font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">(Plus tard, ils ont ajout√© wasm-bindgen au framework - environ Translator)</font></font></i><br>
<br>
<h2><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">r√©sultats</font></font></h2><br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">HyperScript (inferno, ivi, solid-h)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
HyperScript affiche le balisage comme une composition de fonctions (comme h ou React.createElement). </font><font style="vertical-align: inherit;">Par exemple:</font></font><br>
<br>
<pre><code class="javascript hljs">h(<span class="hljs-string">'div'</span>, {<span class="hljs-attr">id</span>: <span class="hljs-string">'my-element'</span>}, [<font></font>
  h(<span class="hljs-string">'span'</span>, <span class="hljs-string">'Hello'</span>),<font></font>
  h(<span class="hljs-string">'span'</span>, <span class="hljs-string">'John'</span>)<font></font>
])<font></font>
</code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Les frameworks DOM virtuels ont cette propri√©t√©. M√™me s'ils utilisent JSX ou d'autres moteurs de mod√®le DSL - sous le capot, ils sont toujours convertis en m√©thodes de rendu √©l√©ment par √©l√©ment. Ceci est utilis√© pour construire une arborescence DOM virtuelle pour chaque cycle de rendu. Mais, comme illustr√© ici, les fonctions rendues peuvent √™tre utilis√©es pour cr√©er un graphe de d√©pendances r√©actives, comme dans le cas de Solid. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/1t/lp/av/1tlpavyaaxibat0dsnz84dlgcv4.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme vous pouvez le voir, les biblioth√®ques avec un DOM virtuel sont beaucoup plus rapides. Solid perd des performances en raison de la cr√©ation excessive d'un graphe r√©actif. Notez la diff√©rence dans les rep√®res # 1, # 2, # 7, # 8, # 9. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/uf/jo/ne/ufjonerq7jqkd4r31x3sfwtcy7o.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La m√©moire est moins convaincante. Inferno et cette version de Solid affichent √† peu pr√®s le m√™me r√©sultat. Alors qu'ivi utilise plus de m√©moire.</font></font><br>
<blockquote>   ,  Solid,  ,    VDOM. Solid            ,     DOM,     DOM. Solid  JSX    DOM .               ,  . Solid  fine grained evaluation    .  -  .<br>
 ‚Äî <a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"></a><br>
</blockquote><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Les cadres de suivi des mises √† jour r√©actifs affichent de meilleurs r√©sultats lors de la mise √† jour des lignes. </font><font style="vertical-align: inherit;">Ce graphique expliquerait la popularit√© du VDOM ces derni√®res ann√©es. </font><font style="vertical-align: inherit;">Il suffit de dire que si vous utilisez HyperScript avec cette mise √† jour, vous feriez mieux de basculer vers Virtual DOM.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Mod√®les de cha√Ænes (domc, lit-html, solid-lit)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Chaque biblioth√®que ici a quelque chose en commun. Ils sont rendus sur la base de mod√®les d'√©l√©ments de clonage, ex√©cut√©s au moment de l'ex√©cution et n'utilisent pas de VDOM. Mais ils ont encore des diff√©rences. DomC et lit-html utilisent des diff√©rences descendantes similaires √† Virtual DOM, tandis que Solid utilise un graphique r√©actif. Lit-html divise les mod√®les en parties. DomC et Solid compile le mod√®le dans des chemins distincts lors de l'ex√©cution et les met √† jour. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/h3/iu/lv/h3iulvmkhg6y1og6dslnc3pt8i8.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Cette cat√©gorie a la gamme de performances la plus large. DomC est le plus rapide et lit-html est le plus lent. Solid Lit est au milieu. DomC d√©montre que la simplicit√© du code conduit aux meilleures performances. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DomC s'affaisse uniquement dans la section # 4 car il calcule la diff√©rence de n≈ìuds, ce qui devient plus compliqu√© √† mesure que la profondeur augmente. C'est assez rapide, mais vous devez valider les r√©sultats sur les m√©gadonn√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Solid Lit est plus productif que Solid HyperScript. La compilation instantan√©e en runtime supprime les inconv√©nients de la cr√©ation d'un graphe r√©actif, permettant au framework de rattraper ivi, la biblioth√®que VDOM la plus rapide (voir le tableau complet √† la fin de l'article). </font></font><br>
<br>
<img src="https://habrastorage.org/webt/0m/h1/vo/0mh1vo1qzvthbjsvsol1mpopdgg.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DomC a montr√© de bons r√©sultats en termes de consommation de m√©moire. Cela est d√ª au clonage des √©l√©ments du mod√®le. Il est √† noter que la g√©n√©ration de code lors de l'ex√©cution peut avoir des co√ªts de performances minimes par rapport √† la compilation au stade de la construction. C'est peut-√™tre une comparaison injuste pour lit-html car le framework n'utilise pas cette technique. Mais il est juste de dire que lit-html ou des biblioth√®ques similaires comme hyperHTML ou lighterHTML ne sont pas le meilleur moyen d'impl√©menter des litt√©raux de mod√®le balis√©s. Et vous pouvez obtenir de bons r√©sultats m√™me en ex√©cution sans VDOM.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JSX pr√©compil√© (solide, signaux solides, surplus)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ces biblioth√®ques utilisent JSX, qui se compile dans un DOM ou un graphe r√©actif au stade de la construction. </font><font style="vertical-align: inherit;">Les mod√®les peuvent √™tre n'importe quoi, mais JSX fournit une arborescence de syntaxe propre qui am√©liore l'exp√©rience du d√©veloppeur. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/q5/ik/c7/q5ikc7iohyy8m5lyydzhijzylaq.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Ce groupe a des r√©sultats similaires, mais la diff√©rence est tr√®s importante. </font><font style="vertical-align: inherit;">Tous les </font><font style="vertical-align: inherit;">trois utilisent la m√™me biblioth√®que pour g√©rer </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=fr&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">S.js</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> √©tat </font><font style="vertical-align: inherit;">. </font><font style="vertical-align: inherit;">En utilisant l'exemple Solid Signals, vous pouvez voir que les fonctions de suivi avec le clonage des √©l√©ments de mod√®le donnent de meilleures performances. </font><font style="vertical-align: inherit;">L'impl√©mentation standard de Solid est surcharg√©e √† l'aide des proxys ES2015, ce qui aggrave le r√©sultat sur tous les graphiques. </font><font style="vertical-align: inherit;">Surplus utilise `document.createElement`, ce qui d√©grade les performances sur les tests o√π les lignes # 1, # 2, # 7, # 8 sont cr√©√©es.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/fv/7_/by/fv7_bynjjqiyp8u_ss3l0cqsmtc.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La consommation de m√©moire a des r√©sultats similaires. </font><font style="vertical-align: inherit;">Dans ce cas, les proxys ajoutent plus de complexit√© que les √©l√©ments de mod√®le de clonage. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La conclusion ici est que les proxys d√©gradent les performances et plus de biblioth√®ques devraient cloner les mod√®les. </font><font style="vertical-align: inherit;">D'un autre c√¥t√©, vous pouvez consid√©rer une petite perte de performance due aux procurations comme un investissement. </font><font style="vertical-align: inherit;">L'exemple Solid a la plus petite quantit√© de code parmi d'autres exemples - seulement 66 lignes, il a 13% moins d'espaces non blancs que Svelte - une biblioth√®que qui se targue de son minimalisme.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Meilleur de sa cat√©gorie (domc, ivi, signaux solides, vanillajs)</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Prenons maintenant les gagnants de chaque cat√©gorie et comparons-les avec l'exemple brutal, efficace et √©crit √† la main en JavaScript vanille. Chaque impl√©mentation repr√©sente l'une des solutions de suivi d'√©tat les plus populaires. Vous pouvez m√™me faire une analogie entre ces biblioth√®ques et les Big Three: Solid ‚Üí Vue, DomC ‚Üí Angular, ivi ‚Üí React. Vous obtiendrez ce r√©sultat si vous supprimez tout ce qui est superflu, √† l'exception du rendu, et que vous vous d√©barrassez du code 60-200kb. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/sy/lj/9c/sylj9c8bd1xzzwehg0o-z7mvyei.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DomC et Solid sont proches en termes de performances, ivi est nettement en retard, mais DomC, dans l'ensemble, est plus rapide. Sa complexit√© par rapport √† vanillaJS est sensiblement moindre, mais elle est moins efficace avec des mises √† jour partielles. Seul ce crit√®re n'est pas indicatif. Quiconque pense que le VDOM est lent ou a des complications inutiles devrait le v√©rifier par lui-m√™me.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
La plupart des biblioth√®ques n'auront jamais ce genre de performances. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/mz/zp/bx/mzzpbxqifmdadvbjm3ydk3pxy2a.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
DomC est √©galement leader dans le graphique avec la m√©moire. </font><font style="vertical-align: inherit;">Le solide √† grain fin surpasse le VDOM ivi en termes de consommation de m√©moire. </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Fait int√©ressant, ces biblioth√®ques ne sont pas bien pires que vanillaJS, quelle que soit la m√©thode. </font><font style="vertical-align: inherit;">Ils sont tous tr√®s rapides.</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Taille du paquet</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Enfin, je voudrais aborder la taille du paquet. </font><font style="vertical-align: inherit;">De nombreux tests r√©els se concentrent uniquement sur ces mesures. </font><font style="vertical-align: inherit;">Oui, la taille de l'ensemble est importante et a une corr√©lation directe avec les performances, mais quelle est la diff√©rence? </font><font style="vertical-align: inherit;">Je soup√ßonne que la complexit√© du code est plus importante que la taille.</font></font><br>
<br>
<img src="https://habrastorage.org/webt/-t/m7/yb/-tm7ybrxshulxxcbcufybomwzjq.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Conclusion</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Comme d'habitude, les r√©sultats dans de tels graphiques ne sont jamais compl√®tement convaincants. Le processus lui-m√™me et les conclusions que nous tirons sont importants. Dans ce cas, nous voyons que le DOM lui-m√™me est un gros goulot d'√©tranglement en mati√®re de performances. √Ä tel point qu'il n'y a pas de technique sans √©quivoque pour le contourner. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/ll/7v/qa/ll7vqadwntgwoae6oepqwwbsalc.jpeg"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Christoper Lambert comme The Highlander</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Non, ce n'est pas si simple. Ni le DOM ni le VDOM ne sont lents. Mais je crois qu'ils se valent. J'avoue que la rh√©torique du VDOM Performance React m'a conduit √† ces r√©flexions. L'ignorance des opinions sur ce sujet est exasp√©rante.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
L'affirmation selon laquelle la VDOM est lente est due √† une mauvaise sensibilisation. Rendre VDOM et calculer la diff√©rence d'√©tat est une complication par rapport √† ne pas le faire. Mais son absence est-elle √©volutive? Et comment faire des changements de donn√©es?</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Je vois qu'il y a une exception dans chaque r√®gle. En g√©n√©ral, la pr√©compilation combin√©e avec Fine-Grained dans des cadres r√©actifs est la solution la plus rapide. Mais DomC affiche de hautes performances sans lui. Les m√©thodes JS natives, telles que le clonage d'√©l√©ments de mod√®le avec des litt√©raux de mod√®le √©tiquet√©s, peuvent √™tre la meilleure solution pour impl√©menter lit-html de grandes soci√©t√©s (Google). Mais c'est l'un des cadres les plus lents de ce tableau et m√™me pas la meilleure mise en ≈ìuvre de ces technologies. Svelte est consid√©r√©e comme la biblioth√®que la plus rapide de la communaut√©, mais elle ne pouvait m√™me pas rivaliser √©troitement avec les solutions pr√©sent√©es.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Si la programmation r√©active gagne, cela ne signifie pas que toutes les biblioth√®ques r√©actives sont rapides ou que les m√©triques signifient tout. </font><font style="vertical-align: inherit;">Malgr√© la comparaison approfondie de cet article, je pense qu'en r√©alit√©, il existe des biblioth√®ques rapides et des biblioth√®ques plus lentes. </font><font style="vertical-align: inherit;">M√™me si nous trouvons une super technologie, nous ferons toujours face √† ses limites. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">R√©sultats des tests de toutes les biblioth√®ques dans une seule table:</font></font></b><br>
<br>
<img src="https://habrastorage.org/webt/gg/3u/oq/gg3uoqckygryprsownwet3r12jq.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../fr501158/index.html">Rendre Android View Binding pratique avec Kotlin</a></li>
<li><a href="../fr501162/index.html">Comparaison de sc√®nes de rap russe en utilisant les techniques de R et de Text Mining. Noize Mc et Kasta contre Pharaon et Morgenshtern</a></li>
<li><a href="../fr501164/index.html">Visualisation des topologies de r√©seau, ou pourquoi d'autre ing√©nieur r√©seau Python # 2</a></li>
<li><a href="../fr501166/index.html">oVirt en 2 heures. Partie 1. Plateforme de virtualisation de basculement ouverte</a></li>
<li><a href="../fr501168/index.html">Les aides-soignants se sauvent - sauvegardent-ils, sauvegardent-ils, s'√©puisent-ils?</a></li>
<li><a href="../fr501172/index.html">Mon ordinateur Mikrosh: continuez la semaine de la nostalgie</a></li>
<li><a href="../fr501178/index.html">Comment regarder du porno affecte la productivit√© du travail et des √©tudes</a></li>
<li><a href="../fr501180/index.html">[Post-Question] Avez-vous besoin d'un mouvement informatique pour FAITS sur le coronavirus et les ¬´effets secondaires¬ª</a></li>
<li><a href="../fr501182/index.html">oVirt en 2 heures. Partie 2. Installation du gestionnaire et des h√¥tes</a></li>
<li><a href="../fr501184/index.html">Comment configurer Apollo pour fonctionner avec GraphQL dans Android</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>