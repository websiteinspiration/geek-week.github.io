<!doctype html>
<html class="no-js" lang="ja">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>😋 🐘 ✏️ 同時実行性と効率性：PythonとFSM ⛵️ 🔵 💪🏽</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="認めますが、Pythonは知りません。使ってないからって。それにもかかわらず、その開発を取り上げ、神秘的な略語であるGILを解読しようとして、PythonのCPU依存関数の並列バージョンの「不可解な魔法現象」について説明している記事に行きました。このテストを再確認し、ビジュアルコンポーネントプログラ...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>同時実行性と効率性：PythonとFSM</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/post/506604/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">認めますが、Pythonは知りません。使ってないからって。それにもかかわらず、その開発を取り上げ、神秘的な略語であるGILを解読しようとして</font><font style="vertical-align: inherit;">、PythonのCPU依存関数の並列バージョンの「不可解な魔法現象」</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">について</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">説明</font><font style="vertical-align: inherit;">して</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">いる記事</font></a><font style="vertical-align: inherit;">に行きまし</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">た</font></a><font style="vertical-align: inherit;">。このテストを再確認し、ビジュアルコンポーネントプログラミング（自動）-VKP（a）の環境で、状態マシンモデル（有限状態マシンまたはFSMの略）の形で同等の実装と比較したいという要望がありました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
明らかに、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">任意の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">プログラムはある程度CPUに依存しています。一方、これがアセンブラだけではない場合は、何らかの高級言語でテストすることにより、それによって隠されているソフトウェア層を調査する可能性が高くなります。したがって、Pythonを考えると、そのインタープリターのCPU依存性について話す方が正しいでしょう。 Pythonプログラムは、インタプリタのバージョンに応じて速度があり、その特徴的な「神秘主義」を持っていると主張することもできます。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
同時に、CPUへの依存がほとんどない場合があります（これを見ていきます）。</font><font style="vertical-align: inherit;">私たちは、計算モデルが典型的なプロセッサアーキテクチャとは異なる言語について話しているのです。</font><font style="vertical-align: inherit;">Pythonの計算モデルはそれに対応しており、後で説明する計算のオートマトンモデルはアーキテクチャが異なり、これによりテストの詳細が決まります。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スピードとミスティックが発生するかどうかは、「オートマトンコード」のテスト中に明らかになります</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
記事から借用したシリアルバージョンとパラレルバージョンのPythonコードをそれぞれリスト1と2に示します。この場合、コードには作業時間を修正する行が追加されており、シーケンシャルテストは繰り返し回数を設定できる「ラッパー」で囲まれています（私の知り合いの結果） Pythonのデコレータ）。 </font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト1. PythonでのシーケンシャルCPUテスト</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs"><span class="hljs-function"><span class="hljs-keyword">import</span> time

def <span class="hljs-title">count</span><span class="hljs-params">(n)</span>:
  st_time </span>= time.time()
  <span class="hljs-keyword">while</span> n &gt; <span class="hljs-number">0</span>:<font></font>
    n -= <span class="hljs-number">1</span><font></font>
  t = time.time() - st_time<font></font>
  print(<span class="hljs-string">"speed CPU------%s---"</span> % t)
  <span class="hljs-keyword">return</span> t<font></font>
<font></font>
def TestTime(fn, n):<font></font>
  def wrapper(*args):<font></font>
    tsum=<span class="hljs-number">0</span><font></font>
    st = time.time()<font></font>
    i=<span class="hljs-number">1</span>
    <span class="hljs-keyword">while</span> (i&lt;=n):<font></font>
      t = fn(*args)<font></font>
      tsum +=t<font></font>
      i +=<span class="hljs-number">1</span>
    <span class="hljs-keyword">return</span> tsum
  <span class="hljs-keyword">return</span> wrapper<font></font>
<font></font>
test1 = TestTime(count, <span class="hljs-number">2</span>)<font></font>
tt = test1(<span class="hljs-number">100000000</span>)<font></font>
print(<span class="hljs-string">"Total ---%s seconds ---"</span> % tt)
</code></pre><br>
</div>
                    </div><br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト2.並列CPUテスト</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-function"><span class="hljs-keyword">import</span> time
from threading <span class="hljs-keyword">import</span> Thread
def <span class="hljs-title">count</span><span class="hljs-params">(n)</span>:
  start_time </span>= time.time()
  <span class="hljs-keyword">while</span> n &gt; <span class="hljs-number">0</span>:<font></font>
    n -= <span class="hljs-number">1</span>
  print(<span class="hljs-string">"speed CPU-%s seconds ---"</span> % (time.time() - start_time))<font></font>
<font></font>
k = <span class="hljs-number">2</span>
<span class="hljs-keyword">while</span> k &gt; <span class="hljs-number">0</span>:<font></font>
  print(<span class="hljs-string">"k=%d "</span> % k)<font></font>
  t1 = Thread(target=count,args=(<span class="hljs-number">100000000</span>,)); t1.start()<font></font>
  t2 = Thread(target=count,args=(<span class="hljs-number">100000000</span>,)); t2.start()<font></font>
  t1.join();<font></font>
  t2.join();<font></font>
  k -= <span class="hljs-number">1</span>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
図1と図2は、インテル®Core（TM）i5-2400S CPU @ 2.5 GHz、6.0 GB RAMの2つの連続したテスト実行（Python 3.8.3 64ビット）で得られたテスト結果を示しています。</font><font style="vertical-align: inherit;">結果は次のとおりです。</font></font><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">順次テスト-14.221秒</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">並列テスト-13.995秒</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
GILに関する記事（以下、元の記事）では、それぞれ24.6秒と45.5秒でした。</font><font style="vertical-align: inherit;">並列テストの時間は注目に値します。</font><font style="vertical-align: inherit;">これは、元の記事の結果と比較して、インタプリタの並列処理の実装の観点から（これは単なる仮定ですが）、状況が進んだことを示しています。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/uo/mk/w6/uomkw6xfskl2xmcvhqzzuqo1yrk.jpeg" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図1。</font><font style="vertical-align: inherit;">Pythonシーケンシャルテストランタイム</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/w6/il/dw/w6ildwbdjwthschinfwkvvh66vc.jpeg" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図2。</font><font style="vertical-align: inherit;">Python並列テストランタイム</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
並列バージョンは、同様の順次バージョンよりもほぼ2倍遅いことに注意してください。さらに、3つのフローを作成すると、結果は比例して遅くなります（図3を参照）。このことから、スレッド数の増加は操作時間の複数の増加につながると結論付けることができます。十分に理解していなければ、Pythonを現在理解しているレベルでは、神秘主義のように見えるかもしれません。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/r7/lw/rm/r7lwrmuef38balputxp2u0vuguc.jpeg" alt="画像"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図3。 Pythonの3つのスレッドでのCPUテスト</font></font><br>
</i><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
自動化コードの作成とVKP（a）環境でのテストに進む前に、外部でのオートマトンの実装を検討します。オリジナル記事のアルゴリズムに相当するオートマトンのグラフ形式のモデルを図2に示します。 4.さまざまな可能なオプションから（たとえば、</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事を参照してください）</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）最も一般的でよく知られている-いわゆるSWITCHテクノロジーの形式で検討します（詳細について</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">は、ITMO Webサイトを</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">参照してください</font><font style="vertical-align: inherit;">）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次に、PythonプログラムとC ++実装を比較します。</font><font style="vertical-align: inherit;">グラフに対応するC ++コードとその起動コード（main関数を参照）をリスト3に示します。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/8l/io/zk/8liozkw_9cogioozutoi3xsadoq.jpeg" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図4。</font><font style="vertical-align: inherit;">CPU依存機能の自動化モデル</font></font></i><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト3. C ++テストの実装</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FsmCount</span>
{</span>
<span class="hljs-keyword">public</span>:<font></font>
    FsmCount(<span class="hljs-keyword">int</span> n) { nCount = n; nState = <span class="hljs-number">0</span>; };
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ExecOneStep</span><span class="hljs-params">()</span></span>;
    <span class="hljs-keyword">int</span> nState;
<span class="hljs-keyword">protected</span>:
    <span class="hljs-keyword">int</span> nCount;
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FsmCount.h"</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FsmCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> nCount &gt; <span class="hljs-number">0</span>; }
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FsmCount::y1</span><span class="hljs-params">()</span> </span>{ nCount--; }
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FsmCount::ExecOneStep</span><span class="hljs-params">()</span>
</span>{
    <span class="hljs-keyword">switch</span> (nState) {
    <span class="hljs-keyword">case</span> <span class="hljs-number">0</span>:
        <span class="hljs-keyword">if</span> (x1())<font></font>
            y1();<font></font>
        <span class="hljs-keyword">else</span> nState = <span class="hljs-number">1</span>;
        <span class="hljs-keyword">break</span>;<font></font>
    }<font></font>
}<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QCoreApplication&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FsmCount.h"</span></span><font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">(<span class="hljs-keyword">int</span> argc, <span class="hljs-keyword">char</span> *argv[])</span>
</span>{
    <span class="hljs-function">QCoreApplication <span class="hljs-title">a</span><span class="hljs-params">(argc, argv)</span></span>;<font></font>
<font></font>
    QTime time;<font></font>
    FsmCount *pFsmCount{<span class="hljs-literal">nullptr</span>};<font></font>
<font></font>
    pFsmCount = <span class="hljs-keyword">new</span> FsmCount(<span class="hljs-number">100000000</span>);<font></font>
    time.start();<font></font>
    <span class="hljs-keyword">while</span> (!pFsmCount-&gt;nState)<font></font>
        pFsmCount-&gt;ExecOneStep();<font></font>
    <span class="hljs-keyword">double</span> dTime = QString::number(time.elapsed()).toDouble();
    <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%f"</span>, dTime);
    <span class="hljs-keyword">if</span> (pFsmCount) <span class="hljs-keyword">delete</span> pFsmCount;<font></font>
<font></font>
    <span class="hljs-keyword">return</span> a.exec();<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
上記のハードウェアベースでのテスト実行時間は250ミリ秒以内です。</font><font style="vertical-align: inherit;">これは、Pythonコードより55倍以上高速です。</font><font style="vertical-align: inherit;">2つのスレッドの並列テストケースと比較しました（図2を参照）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
しかし、アクション/メソッドy1を超えずに関数を計算すると、速度をさらに上げることができます（リスト4を参照）。</font><font style="vertical-align: inherit;">その結果、テスト速度が1ミリ秒未満に低下しました（テストによりゼロに等しい値が与えられるため、正確に言うのは困難です）。</font><font style="vertical-align: inherit;">この値を基準にすると、速度はPythonよりも14000（！）倍高くなります。</font><font style="vertical-align: inherit;">同じリアルタイムシステムを設計するときにC ++が推奨される理由が明らかになります。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト4. FsmCountクラスのクイックメソッドバリアント</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FsmCount::y1</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">while</span> (nCount&gt;<span class="hljs-number">0</span>)<font></font>
        nCount--;<font></font>
}<font></font>
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
次の目標は、</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">PythonをCPSU（a）環境と比較することです</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。</font><font style="vertical-align: inherit;">上記の自動テストは、図1のモデルに対応している必要があります。</font><font style="vertical-align: inherit;">4.彼のコードはリスト5を示しています。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト5.自動CPUテストプログラム</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCount</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FCount(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    FCount(<span class="hljs-built_in">string</span> strNam);<font></font>
    CVar *pVarCount;<font></font>
    CVar *pVarExtVarCount{<span class="hljs-literal">nullptr</span>};<font></font>
    CVar *pVarStrNameExtVarCount;<font></font>
    CVar *pVarWorkingHours;<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y2</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y3</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
    QTime time;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FCount.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_Count[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>),<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x12"</span>, <span class="hljs-string">"y2"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"x1"</span>,  <span class="hljs-string">"y1"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x1"</span>, <span class="hljs-string">"y3"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FCount::FCount(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_Count, strNam)<font></font>
{ }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCount::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarCount = CreateLocVar(<span class="hljs-string">"n"</span>, CLocVar::vtInteger, <span class="hljs-string">"local counter"</span>);<font></font>
    pVarStrNameExtVarCount = CreateLocVar(<span class="hljs-string">"strNameExtVarCount"</span>, CLocVar::vtString, <span class="hljs-string">"external counter name"</span>);;
    <span class="hljs-built_in">string</span> str = pVarStrNameExtVarCount-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarExtVarCount = pTAppCore-&gt;GetAddressVar(pVarStrNameExtVarCount-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarWorkingHours  = CreateLocVar(<span class="hljs-string">"strWorkingHours"</span>, CLocVar::vtString, <span class="hljs-string">"working hours"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarExtVarCount != <span class="hljs-literal">nullptr</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y1</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">int</span> n = <span class="hljs-keyword">int</span>(pVarCount-&gt;GetDataSrc());<font></font>
    pVarCount-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, --n);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y2</span><span class="hljs-params">()</span> </span>{<font></font>
    time.start();<font></font>
    pVarCount-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarExtVarCount-&gt;GetDataSrc());<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y3</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, QString::number(time.elapsed()).toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
テスト実行時間は5.35秒の範囲で、サイクル数は100,000です。</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">高速</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> C ++で</font><font style="vertical-align: inherit;">書かれ</font><font style="vertical-align: inherit;">ているため、Pythonの並列テストよりも2600倍以上（！？）遅く実行されます。そのような結果は動揺するしかありません:(しかし、離散クロックの継続時間は0.0535 msです。たとえば、OVEN-100タイプの標準PLCサイクルは1 msであるため、リアルタイム制御システムの観点から見ると、結果はかなりまともです。ただし、一見すると、コードが膨大であり、速度によって特定のアラームが発生するため（たとえば、純粋に計算タスクの場合）、結果はAPにとって有利ではありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
VKP（a）の設計言語としてC ++を使用すると、発生した速度の問題を簡単に解決できます。リスト6は、QtライブラリーのQThreadクラスに基づく標準システムスレッドを使用するオートマトンのコードを示しています。その結果、サイクルが100000000に増加しても、時間は70〜80ミリ秒に短縮されました。したがって、ストリームを使用したテストは、Pythonの場合よりも200倍速くなっています。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
得られた結果は、CPSUの環境と同期した、より遅いバージョンのテストであることに注意してください（a）。行をコメント化すると（リスト6）：</font></font><br>
<pre><code class="cpp hljs"><span class="hljs-keyword">while</span> (bIfExecuteStep) { bIfExecuteStep = <span class="hljs-literal">false</span>; }, </code></pre><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
その後、時間が1ミリ秒以下に「縮小」されます。</font><font style="vertical-align: inherit;">その結果、Pythonに関する速度はすでに14,000倍以上高くなっています。</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">注1.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> bIfExecuteStepフラグはVKP（a）環境によって管理されます。</font><font style="vertical-align: inherit;">これは、現在の離散メジャーの開始時に設定されます。</font><font style="vertical-align: inherit;">プロセスのオートマトン空間の離散時間と同期するように導入されました。</font></font><br>
</i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
速度を上げるために、オートマトンとストリームの組み合わせを作成しました。後者は必要な機能を実装し、オートマトンはそれをラップします。</font><font style="vertical-align: inherit;">やや具体的な対象であることが判明しましたが、作業のスピードアップの問題も解決し、その結果決定しました。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト6.スレッドベースのCPUテスト</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QThread&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QCount</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThCount</span> :</span> <span class="hljs-keyword">public</span> QThread<font></font>
{<font></font>
    Q_OBJECT<font></font>
<span class="hljs-keyword">public</span>:<font></font>
    ThCount(QCount *p, QObject *parent);<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-keyword">bool</span> bIfRun{<span class="hljs-literal">false</span>};
    <span class="hljs-keyword">bool</span> bIfStop{<span class="hljs-literal">false</span>};
    <span class="hljs-keyword">bool</span> bIfExecuteStep{<span class="hljs-literal">false</span>};<font></font>
    QCount *pQCount;<font></font>
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">run</span><span class="hljs-params">()</span></span>;
<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QCount</span>;</span><font></font>
};<font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">QCount</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ExecuteThreadStep</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">WaitForThreadToFinish</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> QCount(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    QCount(<span class="hljs-built_in">string</span> strNam);
    <span class="hljs-keyword">virtual</span> ~QCount(<span class="hljs-keyword">void</span>);<font></font>
    ThCount  *pThCount{<span class="hljs-literal">nullptr</span>};<font></font>
    CVar *pVarCount;<font></font>
    CVar *pVarExtVarCount;<font></font>
    CVar *pVarStrNameExtVarCount;<font></font>
    CVar *pVarWorkingHours;<font></font>
<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y2</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
    QTime time;<font></font>
<font></font>
<span class="hljs-keyword">friend</span> <span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">ThCount</span>;</span><font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"QCount.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTimer&gt;</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_Count[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"st"</span>,<span class="hljs-string">"^x12"</span>,<span class="hljs-string">"y12"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"st"</span>,		<span class="hljs-string">"s2"</span>,<span class="hljs-string">"x12"</span>,	<span class="hljs-string">"y1"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s2"</span>,		<span class="hljs-string">"s3"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"y2"</span>),			<span class="hljs-comment">//</span>
    LArc(<span class="hljs-string">"s3"</span>,		<span class="hljs-string">"s2"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"--"</span>),			<span class="hljs-comment">//</span><font></font>
    LArc()<font></font>
};<font></font>
<font></font>
QCount::QCount(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_Count, strNam, <span class="hljs-literal">nullptr</span>, <span class="hljs-literal">nullptr</span>)<font></font>
{ }<font></font>
<font></font>
QCount::~QCount(<span class="hljs-keyword">void</span>) { }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">QCount::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarCount = CreateLocVar(<span class="hljs-string">"n"</span>, CLocVar::vtInteger, <span class="hljs-string">"local counter"</span>);<font></font>
    pVarExtVarCount = <span class="hljs-literal">nullptr</span>;<font></font>
    pVarStrNameExtVarCount = CreateLocVar(<span class="hljs-string">"strNameExtVarCount"</span>, CLocVar::vtString, <span class="hljs-string">"external counter name"</span>);;
    <span class="hljs-built_in">string</span> str = pVarStrNameExtVarCount-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarExtVarCount = pTAppCore-&gt;GetAddressVar(pVarStrNameExtVarCount-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarWorkingHours  = CreateLocVar(<span class="hljs-string">"strWorkingHours"</span>, CLocVar::vtString, <span class="hljs-string">"working hours"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::ExecuteThreadStep</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">if</span> (pThCount) pThCount-&gt;bIfExecuteStep = <span class="hljs-literal">true</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::WaitForThreadToFinish</span><span class="hljs-params">()</span> </span>{
    <span class="hljs-keyword">if</span> (pThCount) {
        <span class="hljs-comment">//  </span>
        pThCount-&gt;bIfRun = <span class="hljs-literal">false</span>;<font></font>
        pThCount-&gt;quit();<font></font>
        pThCount-&gt;wait(<span class="hljs-number">500</span>);<font></font>
        pThCount-&gt;<span class="hljs-built_in">terminate</span>();<font></font>
    }<font></font>
    <span class="hljs-keyword">delete</span> pThCount;<font></font>
}<font></font>
<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">QCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">QCount::x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarExtVarCount != <span class="hljs-literal">nullptr</span>; }
<span class="hljs-comment">//  </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::y1</span><span class="hljs-params">()</span> </span>{<font></font>
    pThCount    = <span class="hljs-keyword">new</span> ThCount(<span class="hljs-keyword">this</span>, pTAppCore-&gt;pMainFrame);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::y2</span><span class="hljs-params">()</span> </span>{ pVarCount-&gt;SetDataSrc(<span class="hljs-keyword">this</span>, pVarExtVarCount-&gt;GetDataSrc()); }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">QCount::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }
<span class="hljs-comment">//                         </span><font></font>
ThCount::ThCount(QCount *p, QObject *parent) :<font></font>
    QThread(parent)<font></font>
{<font></font>
    pQCount = p;<font></font>
    bIfRun = <span class="hljs-literal">true</span>;      <span class="hljs-comment">//   / </span>
    start(QThread::IdlePriority);            <span class="hljs-comment">//  </span><font></font>
}<font></font>
<span class="hljs-comment">//   </span>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ThCount::run</span><span class="hljs-params">()</span>
</span>{<font></font>
    bIfStop = <span class="hljs-literal">false</span>;       <span class="hljs-comment">//    </span>
    pQCount-&gt;pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, <span class="hljs-string">""</span>, <span class="hljs-literal">nullptr</span>);<font></font>
    pQCount-&gt;pVarCount-&gt;SetDataSrc(pQCount, pQCount-&gt;pVarExtVarCount-&gt;GetDataSrc());<font></font>
    pQCount-&gt;pVarCount-&gt;UpdateVariable();<font></font>
    <span class="hljs-keyword">while</span>(bIfRun)  {
        <span class="hljs-keyword">if</span> (pQCount-&gt;pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>) {<font></font>
            bIfExecuteStep = <span class="hljs-literal">false</span>;
            <span class="hljs-keyword">int</span> n = pQCount-&gt;pVarCount-&gt;GetDataSrc();
            <span class="hljs-keyword">if</span> (n&gt;<span class="hljs-number">0</span>) {<font></font>
                pQCount-&gt;time.start();<font></font>
            }<font></font>
            pQCount-&gt;time.start();<font></font>
            <span class="hljs-keyword">while</span> (n&gt;<span class="hljs-number">0</span>) {<font></font>
                n--;<font></font>
                <span class="hljs-keyword">while</span> (bIfExecuteStep) { bIfExecuteStep = <span class="hljs-literal">false</span>; }<font></font>
            }<font></font>
            <span class="hljs-built_in">string</span> str = QString::number(pQCount-&gt;time.elapsed()).toStdString();<font></font>
            pQCount-&gt;pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, QString::number(pQCount-&gt;time.elapsed()).toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
            pQCount-&gt;pVarCount-&gt;SetDataSrc(pQCount, <span class="hljs-number">0.0</span>);
            <span class="hljs-keyword">while</span> (n&lt;=<span class="hljs-number">0</span>) {<font></font>
                n = <span class="hljs-keyword">int</span>(pQCount-&gt;pVarCount-&gt;GetDataSrc());<font></font>
            }<font></font>
        }<font></font>
    }<font></font>
    bIfStop = <span class="hljs-literal">true</span>;        <span class="hljs-comment">//    </span><font></font>
} <font></font>
</code></pre><br>
</div>
                    </div><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">スレッドの実行時間に注意して、別のテストを検討してください。</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">それらは完全に同一であるため、同時に起動され、同時に作業を完了する必要があります。 Pythonの場合、これが特定のエラー内でのみ当てはまる場合（図5を参照）、CPSUのプロセス（a）の場合、時間は完全に一致します（図6を参照）。テストがその外部で実行される時間を決定する、追加で作成されたストップウォッチオブジェクトは、テスト/テスト自体によって測定された時間と実質的に同じ時間を表示することに注意してください（リスト4を参照）。</font></font><br>
<br>
<i><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">備考2.</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">「ストップウォッチ」は、制御対象プロセスが状態「s1」に入るとカウントダウンを開始し、状態「st」に入る時間を固定する自動プロセスです</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">（リスト4のオートマトン遷移表を参照）。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/ye/m9/9j/yem99jhhwbjomjniiquk588avdq.jpeg" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図5。 Pythonでのランタイムのテスト</font></font></i><br>
<br>
<img src="https://habrastorage.org/webt/gj/vv/la/gjvvlahvngzhh_agxuwgesij9l0.jpeg" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図6。 VKP環境でのテスト実行時間（a）</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Automataは、他のモデルと比較して、離散時間を持っています。ディスクリートクロックの値は、同期マシンまたはフローティング-非同期（Glushkov V.M.による分類）の場合は固定できます。</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">次のテストは、CPSUの環境をチェックすることです（a）同期</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> -離散時間の一定の測定値を維持する機能。自動制御システムの設計では、自動機械の同期運転が特に要求されることを思い出してください（詳細[1]を参照）。同時に、このモードは</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">CPU速度からの計算モデルの実際の独立性の例</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">として機能します</font><font style="vertical-align: inherit;">。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
（自動制御の理論では、量子化間隔と呼ばれる）離散クロックサイクルでのテスト実行時間は1 msで、サイクル数100000は100秒です。</font><font style="vertical-align: inherit;">試験中に得られた結果を図1に示します。</font><font style="vertical-align: inherit;">7. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/bk/jk/po/bkjkpof2u2aemojgtv4at2jpvuq.jpeg" alt="画像"><br>
 <i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図7。</font><font style="vertical-align: inherit;">同期モードでのテスト（1ミリ秒）</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
リスト3を見ると批評家がこれを指摘するのに失敗しないため、実際にメインのテストを終了し、コードの量について説明できます。</font><font style="vertical-align: inherit;">しかし、もう一度彼らは何度も言われたことを忘れるでしょう。</font><font style="vertical-align: inherit;">コードには、CPSUの環境との相互作用を整理するシェルが含まれます（a）。</font><font style="vertical-align: inherit;">オートマトンを除外した場合、どのようなオートマトンになるかは、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">オートマトン関数の</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">純粋なコードであるリスト7で説明されてい</font><b><font style="vertical-align: inherit;">ます</font></b><font style="vertical-align: inherit;">。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト7.クリーンな自動販売機のコード</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">extern</span> LArc TBL_CountMini[];
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCountMini</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:<font></font>
    FCountMini(<span class="hljs-built_in">string</span> strNam): LFsaAppl(TBL_CountMini, strNam) {};
    <span class="hljs-keyword">int</span> nCount;
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y1</span><span class="hljs-params">()</span></span>;<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fcountmini.h"</span></span><font></font>
<font></font>
LArc TBL_CountMini[] = {<font></font>
    LArc(<span class="hljs-string">"1"</span>,	<span class="hljs-string">"1"</span>,<span class="hljs-string">"x1"</span>,	<span class="hljs-string">"y1"</span>),<font></font>
    LArc(<span class="hljs-string">"1"</span>,	<span class="hljs-string">"00"</span>,<span class="hljs-string">"^x1"</span>,	<span class="hljs-string">"--"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCountMini::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> nCount &gt; <span class="hljs-number">0</span>; }
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCountMini::y1</span><span class="hljs-params">()</span> </span>{ --nCount; }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
運用時間は同じままでしたが、結局のところ、はるかに単純なものでした。</font><font style="vertical-align: inherit;">しかし、すでにわかったように、ストリームに囲まれた関数の時間は文字通り数マイクロ秒です。</font><font style="vertical-align: inherit;">同様のアクションが既に検討されています（リスト4を参照）。</font><font style="vertical-align: inherit;">これにより、テスト時間は以前と同様にマイクロ秒単位で計算されます（図8を参照）。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
したがって、自動化プログラムの多くの問題は、その有効性を管理する方法を想像すれば解決できます。</font><font style="vertical-align: inherit;">この意味でのC ++機能は事実上無制限です。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/jc/9e/dd/jc9eddl6kh2-ycdztw6ukgrgcl4.jpeg" alt="画像"> <br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図8。</font><font style="vertical-align: inherit;">y1のアクションをテストした結果（リスト6）。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
リスト7の関数の「自動ラッパー」についてはまだ考慮していませんが、リスト8にそれを示します。コードは膨大ですが、環境に対して標準的な関数を実行する汎用的なコードです。</font></font><br>
<br>
<div class="spoiler" role="button" tabindex="0">
                        <b class="spoiler_title"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">リスト8.リスト5のオートマトン関数のラッパー</font></font></b>
                        <div class="spoiler_text"><pre><code class="cpp hljs">
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"lfsaappl.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;QTime&gt;</span></span><font></font>
<font></font>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCountMini</span>;</span>
<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">FCount</span> :</span>
    <span class="hljs-keyword">public</span> LFsaAppl<font></font>
{<font></font>
<span class="hljs-keyword">public</span>:
    <span class="hljs-function">LFsaAppl* <span class="hljs-title">Create</span><span class="hljs-params">(CVarFSA *pCVF)</span> </span>{ Q_UNUSED(pCVF)<span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> FCount(nameFsa); }
    <span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCreationOfLinksForVariables</span><span class="hljs-params">()</span></span>;<font></font>
    FCount(<span class="hljs-built_in">string</span> strNam);
    <span class="hljs-keyword">virtual</span> ~FCount(<span class="hljs-keyword">void</span>);<font></font>
    CVar *pVarCount;<font></font>
    CVar *pVarExtVarCount{<span class="hljs-literal">nullptr</span>};<font></font>
    CVar *pVarStrNameExtVarCount;<font></font>
    CVar *pVarWorkingHours;<font></font>
<span class="hljs-keyword">protected</span>:
    <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x1</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">x12</span><span class="hljs-params">()</span></span>;
    <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-keyword">void</span> <span class="hljs-title">y3</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y4</span><span class="hljs-params">()</span></span>; <span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">y12</span><span class="hljs-params">()</span></span>;<font></font>
    QTime time;<font></font>
    FCountMini *pCountMini{<span class="hljs-literal">nullptr</span>};<font></font>
};<font></font>
<font></font>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"stdafx.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"FCount.h"</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">"fcountmini.h"</span></span><font></font>
<font></font>
<span class="hljs-keyword">static</span> LArc TBL_Count[] = {<font></font>
    LArc(<span class="hljs-string">"st"</span>,	<span class="hljs-string">"s1"</span>,<span class="hljs-string">"--"</span>,<span class="hljs-string">"y4"</span>),<font></font>
    LArc(<span class="hljs-string">"s1"</span>,	<span class="hljs-string">"st"</span>,<span class="hljs-string">"--"</span>,<span class="hljs-string">"y3"</span>),<font></font>
    LArc()<font></font>
};<font></font>
<font></font>
FCount::FCount(<span class="hljs-built_in">string</span> strNam):<font></font>
    LFsaAppl(TBL_Count, strNam)<font></font>
{ }<font></font>
<font></font>
FCount::~FCount(<span class="hljs-keyword">void</span>)<font></font>
{<font></font>
    <span class="hljs-keyword">if</span> (pCountMini) <span class="hljs-keyword">delete</span> pCountMini;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">bool</span> <span class="hljs-title">FCount::FCreationOfLinksForVariables</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarCount = CreateLocVar(<span class="hljs-string">"n"</span>, CLocVar::vtInteger, <span class="hljs-string">"local counter"</span>);<font></font>
    pVarStrNameExtVarCount = CreateLocVar(<span class="hljs-string">"strNameExtVarCount"</span>, CLocVar::vtString, <span class="hljs-string">"external counter name"</span>);;
    <span class="hljs-built_in">string</span> str = pVarStrNameExtVarCount-&gt;strGetDataSrc();
    <span class="hljs-keyword">if</span> (str != <span class="hljs-string">""</span>) { pVarExtVarCount = pTAppCore-&gt;GetAddressVar(pVarStrNameExtVarCount-&gt;strGetDataSrc().c_str(), <span class="hljs-keyword">this</span>); }<font></font>
    pVarWorkingHours  = CreateLocVar(<span class="hljs-string">"strWorkingHours"</span>, CLocVar::vtString, <span class="hljs-string">"working hours"</span>);
    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x1</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarCount-&gt;GetDataSrc() &gt; <span class="hljs-number">0</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">FCount::x12</span><span class="hljs-params">()</span> </span>{ <span class="hljs-keyword">return</span> pVarExtVarCount != <span class="hljs-literal">nullptr</span>; }<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y3</span><span class="hljs-params">()</span> </span>{<font></font>
    pVarWorkingHours-&gt;SetDataSrc(<span class="hljs-literal">nullptr</span>, QString::number(time.elapsed()).toStdString(), <span class="hljs-literal">nullptr</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y4</span><span class="hljs-params">()</span> </span>{<font></font>
    time.start();<font></font>
    <span class="hljs-keyword">if</span> (pCountMini) <span class="hljs-keyword">delete</span> pCountMini;<font></font>
        pCountMini = <span class="hljs-keyword">new</span> FCountMini(<span class="hljs-string">"CountMini"</span>);<font></font>
<font></font>
    pCountMini-&gt;nCount = pVarExtVarCount-&gt;GetDataSrc();<font></font>
    pCountMini-&gt;FCall(<span class="hljs-keyword">this</span>);<font></font>
}<font></font>
<font></font>
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">FCount::y12</span><span class="hljs-params">()</span> </span>{ FInit(); }
</code></pre><br>
</div>
                    </div><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
つまり、要約することができます。一般的なケースでは、CPSUのマシン（a）は、Pythonのプロセスと比較して、約2,600倍遅く動作します。実際、これはVKP（a）環境の「自動通訳者」の評価です。一方で、莫大な成長余力がこれに隠されており、他方で、媒体の反応性の観点からは、そのような速度でも十分です。ただし、スレッドを使用することで、この問題に今すぐ対処でき、その逆も同様です。これにより、Phythonよりも200倍以上高速になります。 「分裂への操作やプロセスと同様の1つまたは複数のアクション内の問題機能（呼び出し-スレッドに加えて、さらに簡単かつ理論的には、より正確な「自動ソリューション」がある</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">チャンクを</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">見る」</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">の記事は、</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）いずれにせよ、C ++では、プログラムのパフォーマンスの観点から見たAPの状況は絶望的ではなく、特定の状況（たとえば、リアルタイムシステムの設計）では有利です。</font></font><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">そして最後に、簡単なテストを超えたものについて少し。</font></font></i><font style="vertical-align: inherit;"></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">記事</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">に夢中になりまし</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;">た</font></a><font style="vertical-align: inherit;">。 「コード内の主観的に美しい決定を恐れるほど」と私は同意します。重要な修正が1つあります-私は客観的です。オートマトンプログラムのコードは扱いにくく（かなり修正可能）、非常に美しくなく（これは非常に主観的である）、速度も調整されていない可能性があります（ここでは、APには複数の解決策があります）。美の光景。また、客観的な美しさ。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
ここで客観性の基準は何ですか？理論。私たちの場合、オートマトンの理論。その実装は、どのように見えても、見たところ醜いことはありません;）そして逆に、実装がそれに一致しない場合、どのように見えても、それは通常、理論的な観点からの視点を持ちません。したがって、その日の</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">暑さに</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">関係なく、SWITCHテクノロジーを促進し</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">ます</font></a><font style="vertical-align: inherit;">が、</font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u=" rel="nofollow"><font style="vertical-align: inherit;">UniModを称賛する</font></a><font style="vertical-align: inherit;">にしても、それらがオートマトンの理論の要件を満たさず、その美しさを歪めると、「オートマトンは多くの人の友達ではない」という状況に思わず客観的に遭遇します。そして、そのような「修羅場」や「タンバリンで踊る」ことは、この状況を正すことはできません。しかし、理論に従えば、これは必要ありません。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
マシンガンの方向にクリティカルアローを撃つと、私は「お風呂についてお粗末」なもののように、コルーチンを思い出さずにはいられなかった;）</font></font><i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">私もそれらをテストしたいと思いますが、同時にそれらの美しさを評価します</font></font></i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。イチジクに示されているような「デザイン」の美しさは本当にそれですか？ 9（</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=ja&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">も参照してください</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">）を実装します。これは、私が誤っていない場合、2つの並列（？）演算子a = abおよびb = a + bが少なくとも最小限の賞賛を引き起こす可能性がありますか？</font></font><br>
<br>
<img src="https://habrastorage.org/webt/_1/lj/2t/_1lj2tagueuf7u2itoqbltdrvnu.jpeg" alt="画像"><br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">図9。 corutinの例。</font></font></i><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
多分このコードは効果的ですが、誰かにとっては間違いなく美しいですが、それは別のものです。私は、一貫性のある思考のパターンで並行性を説明したいという躁鬱な欲求についてはここにいません。これは、それが単純で迷惑な場合、</font></font><b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">思考を変える必要がある</font></font></b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">。私は完全に違います。プログラミング言語に依存しないコルーチンの理論によって、言語の「波線」を簡単かつ明確に克服し（図9をもう一度参照）、質問に明確な答えを与えることができるでしょうか。コルーチンに関して、私はそのような理論を知りませんが、正直に言えば、私はそれを探しました;）有限オートマトンの場合、これはオートマトンの理論であり、オートマトンは常に、言語/プログラミング言語。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
一見シンプルな「テスト文字列」を使用して、私たちは...並列問題のもつれに触れました。多分彼らがそれを少しふわふわしただけのことは本当でしょう。そして、誰かが忘れていないのであれば、初歩的なCPU依存の機能から始めました。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
それが何をもたらすかを誰が考えたのでしょう... :) </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
文献</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
1.ミロシュニックIV </font><font style="vertical-align: inherit;">自動制御の理論。</font><font style="vertical-align: inherit;">線形システム。</font><font style="vertical-align: inherit;">-サンクトペテルブルク：ピーター、2005年--- 336ページ</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../ja506588/index.html">アルゴリズムとは！（パート2）</a></li>
<li><a href="../ja506590/index.html">Конференция DEVOXX UK. Выбираем фреймворк: Docker Swarm, Kubernetes или Mesos. Часть 2</a></li>
<li><a href="../ja506594/index.html">Redisのベストプラクティス、パート3</a></li>
<li><a href="../ja506598/index.html">マイクロソフト：Rustはセキュアシステムプログラミング業界における「ベストチャンス」です</a></li>
<li><a href="../ja506600/index.html">プロジェクト管理の観点からのサイト開発の契約（理論+サンプル）</a></li>
<li><a href="../ja506606/index.html">PIXI.jsクリッカーの作成</a></li>
<li><a href="../ja506610/index.html">WAL-G：PostgreSQLデータベースのバックアップとリカバリ</a></li>
<li><a href="../ja506612/index.html">大規模なオンラインコースの完全性を高める方法</a></li>
<li><a href="../ja506620/index.html">創造的思考：それは何か、どのようにあなたの可能性を測定して高めるか</a></li>
<li><a href="../ja506624/index.html">FOSSニュースNo. 20-2020年6月8〜14日の無料およびオープンソースニュースのレビュー</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>