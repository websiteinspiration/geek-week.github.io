<!doctype html>
<html class="no-js" lang="zh-CN">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>🦎 ⛎ 👌🏿 我们如何疏散Yandex的职责转移 🖖🏾 👍 🙁</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="当工作适合放在一台笔记本电脑中并且可以由其他人自主执行时，则转移到远程位置就没有问题-早上就呆在家里。但是并不是每个人都那么幸运。
 
 值班班轮是服务可用性专家（SRE）的团队。它包括值班管理员，开发人员，管理人员，以及一个普通的“仪表盘”，其中包含26个LCD面板，每个面板55英寸。公司服务的稳...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>我们如何疏散Yandex的职责转移</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/yandex/blog/498426/"><img src="https://habrastorage.org/webt/as/kx/qr/askxqrmenpitf9-j1es44_nly14.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当工作适合放在一台笔记本电脑中并且可以由其他人自主执行时，则转移到远程位置就没有问题-早上就呆在家里。</font><font style="vertical-align: inherit;">但是并不是每个人都那么幸运。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
值班班轮是服务可用性专家（SRE）的团队。</font><font style="vertical-align: inherit;">它包括值班管理员，开发人员，管理人员，以及一个普通的“仪表盘”，其中包含26个LCD面板，每个面板55英寸。</font><font style="vertical-align: inherit;">公司服务的稳定性和解决问题的速度取决于值班工作。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
今天德米特里·梅里科夫</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u=" class="user_link"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">tal10n</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">，值班主管将在几天之内讨论他们如何将设备运送到家中并建立新的工作流程。</font><font style="vertical-align: inherit;">我请他发言。</font></font><br>
<br>
<a name="habracut"></a><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
-当您有无尽的时间时，您可以随处随处舒适地移动任何物品。</font><font style="vertical-align: inherit;">但是，冠状病毒的迅速传播使我们处于完全不同的状况。</font><font style="vertical-align: inherit;">Yandex的员工是最早转向远程工作的人之一-甚至在采用自我隔离制度之前。</font><font style="vertical-align: inherit;">就是这样 </font><font style="vertical-align: inherit;">3月12日，星期四，我被要求评估将团队的工作转移到家里的机会。</font><font style="vertical-align: inherit;">在13日（星期五），有一项建议切换到远程工作。</font><font style="vertical-align: inherit;">3月17日星期二晚上，一切都准备就绪：服务员在家工作，运输设备，编写缺少的软件，重新配置流程。</font><font style="vertical-align: inherit;">现在，我将告诉您我们是如何做到的。</font><font style="vertical-align: inherit;">但是首先，您需要记住那些因值班而解决的任务。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">我们是谁</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Yandex是一家提供数百项服务的大型公司。搜索，语音助手和所有其他产品的稳定性不仅取决于开发人员。数据中心可能会中断电源。更换沥青时，工人可能会意外损坏光缆。否则，用户活动可能激增，这将需要紧急重新分配电源。而且，我们所有人都生活在庞大，复杂的基础架构中，其中一种产品的发布可能会偶然导致另一种产品的性能下降。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在我们的开放空间中，有26个面板是一百零五个警报以及我们服务的一百多个图表和面板。实际上，这是一个巨大的诊断面板。经验丰富的值班管理员看着她，可以快速了解重要节点的状态，并可以为调查技术问题确定方向。这并不意味着一个人应该经常查看所有设备：自动化本身将通过向值班人员的特殊界面发送通知来吸引注意力，但是如果没有可视面板，则该问题的解决方案可能会延迟。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
出现问题时，服务员首先评估他们的优先级。然后，他将问题隔离出来或将其对用户的影响降到最低。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
有几种解决问题的标准方法。其中之一是服务降级，当值班管理员禁用用户最不注意的某些功能时。这使您可以暂时减少负载并找出发生了什么情况。如果数据中心存在问题，那么服务员将与操作团队联系，了解问题，控制解决方案的时间，并在必要时连接配置文件命令。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
当值班管理员无法隔离由于发布而引起的问题时，他将其报告给服务团队-开发人员将在新代码中查找错误。如果他们无法解决问题，那么管理员会吸引其他产品或工程师的开发人员来提供服务。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
关于我们如何安排一切，我可以进行很长的讨论，但是我认为我已经传达了实质。</font><font style="vertical-align: inherit;">职责转移负责协调所有服务的工作并控制全局问题。</font><font style="vertical-align: inherit;">对于值班的管理员而言，在眼前安装诊断面板非常重要。</font><font style="vertical-align: inherit;">这就是为什么当切换到远程工作时，您不能随身带给所有人一台笔记本电脑。</font><font style="vertical-align: inherit;">图表和警报无法显示在屏幕上。</font><font style="vertical-align: inherit;">该怎么办？</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">理念</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
在办公室中，所有十名值班管理员都在一个仪表盘后面轮班工作，该仪表盘包括26个监视器，两台计算机，四个NVIDIA Quadro NVS 810视频卡，两个不间断电源设备以及几个独立的网络访问权限。但是我们需要为每个人提供在家工作的机会。根本不可能在公寓中组装这样的墙（我的妻子对此特别高兴），因此我们决定创建一种便携式版本，您可以在家中携带和组装。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们开始尝试配置。我们必须将所有设备安装在更少的显示器上，因此显示器的主要要求是高像素密度。在我们环境中可用的4K显示器中，选择了Lenovo P27u-10进行测试。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
他们从笔记本电脑上购买了16英寸MacBook Pro。</font><font style="vertical-align: inherit;">它具有相当强大的图形子系统，是在多个4K显示器上渲染图片所必需的，还具有四个通用的Type-C接口。</font><font style="vertical-align: inherit;">您可能会问：为什么不使用台式机？</font><font style="vertical-align: inherit;">与组装和配置相同的系统单元相比，用仓库中的笔记本电脑替换完全相同的笔记本电脑要容易得多，而且速度也快得多。</font><font style="vertical-align: inherit;">是的，而且重量更轻。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
现在有必要了解我们实际上可以连接到笔记本电脑的显示器数量。</font><font style="vertical-align: inherit;">而且这里的问题不是连接器的数量，我们只能通过测试整个系统才能找到。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/6i/oe/tn/6ioetnysrbrhlu7qi03q5uorozy.png"><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">测试中</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们非常舒适地将所有图表和警报放在四台显示器上，甚至将它们连接到笔记本电脑上，但遇到了问题。在所连接的显示器上渲染4×4K像素时，​​视频卡已加载，即使在充电时笔记本电脑也已放电。幸运的是，在Lenovo ThinkPad Thunderbolt 3 Dock Gen 2扩展坞的帮助下，该问题得以解决，我们设法将显示器，电源甚至带有键盘的喜爱的鼠标连接到了扩展坞。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
但是立即出现另一个问题：GPU膨胀过多，导致笔记本电脑过热，这意味着电池也过热，因此进入保护模式并停止充电。通常，这是一种非常有用的模式，可防止发生危险情况。在某些情况下，借助高科技设备-放置在笔记本电脑下方的圆珠笔可以改善通风，从而解决了该问题。但这并不能帮助所有人，因此我们也改变了常规风扇的速度。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
还有另一个令人不快的功能。</font><font style="vertical-align: inherit;">所有图表和警报应放置在严格定义的位置。</font><font style="vertical-align: inherit;">想象一下，您正在驾驶一架飞机降落-此处的速度指示器，高度表，变速表，水平指示器，指南针和位置指示器开始调整大小并跳到不同的地方。</font><font style="vertical-align: inherit;">因此，我们决定制作一个对此有帮助的应用程序。</font><font style="vertical-align: inherit;">在一个晚上，我们在Electron.js上编写了该代码，并使用了现成的</font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=zh-CN&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">API</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">来创建和管理窗口。</font><font style="vertical-align: inherit;">我们添加了配置处理程序及其定期更新，并支持有限数量的监视器。</font><font style="vertical-align: inherit;">稍后，我们增加了对各种设置的支持。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">组装与交付</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
到星期一，服务台向导已经为我们配备了40台显示器，10台笔记本电脑和许多扩展坞。我不知道他们是怎么做到的，但是非常感谢。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/y5/ig/_i/y5ig_i-32ogwdzgodtoghqxtkvs.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
剩下的一切都需要运到值班行政人员的公寓里。这些是莫斯科不同地区的十个地址：南部，东部，中部以及Balashikha，距办公室45公里（顺便说一下，后来还增加了来自Serpukhov的实习生）。必须以某种方式在人与人之间分配所有物品，以建立物流。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我在地图上驱逐了所有地址，仍然有机会优化不同地点之间的路线（我为快递员使用了该工具的免费Beta版）。</font><font style="vertical-align: inherit;">我们将团队分为四个独立的团队，每个团队由两个人组成，每个团队都有自己的路线。</font><font style="vertical-align: inherit;">我的车是最宽敞的，所以我立刻为四名员工拿了设备。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/l0/fa/sl/l0faslaayow0ip3rkaglz9nfmhm.png"><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
整个交付过程花费了创纪录的三个小时。</font><font style="vertical-align: inherit;">我们星期一晚上十点离开办公室。</font><font style="vertical-align: inherit;">早上一时，我已经在家。</font><font style="vertical-align: inherit;">那天晚上，我们用新设备值班。</font></font><br>
<br>
<h3><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">结果是什么</font></font></h3><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
我们没有一个大型的诊断控制台，而是在每个值班人员的公寓里收集了十个相对便携的控制台。</font><font style="vertical-align: inherit;">当然，它仍然可以解决一些小问题。</font><font style="vertical-align: inherit;">例如，之前我们有一个值班人员的“铁”电话来进行通知。</font><font style="vertical-align: inherit;">在新的条件下，这是行不通的，因此我们为值班人员（实际上是信使中的频道）提供了“虚拟电话”。</font><font style="vertical-align: inherit;">还有其他变化。</font><font style="vertical-align: inherit;">但是最主要的是，在创纪录的时间内，我们设法不仅转移了人员，减少了感染的风险，而且转移了我们在家里的所有工作，而没有损害产品的流程和稳定性。</font><font style="vertical-align: inherit;">在这种模式下，我们已经工作了一个月。</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
您将在下面找到我们服务员实际工作的照片。</font></font><br>
<br>
<img src="https://habrastorage.org/webt/pc/mi/rj/pcmirjydwy5emc9qvy76fshoune.png"><br>
<br>
<img src="https://habrastorage.org/webt/jl/mm/v_/jlmmv_hymx3mh7aiyvda2noqbwk.png"><br>
<br>
<img src="https://habrastorage.org/webt/-b/5w/nz/-b5wnzqoyqixrodue2opshmjgnw.png"><br>
<br>
<img src="https://habrastorage.org/webt/xh/3u/wx/xh3uwxiartgspsynry7c9ufxfzs.png"><br>
<br>
<img src="https://habrastorage.org/webt/ll/a0/f0/lla0f0dinjjmlwsytvp7krxsbni.png"></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../zh-CN498406/index.html">一位杰出的年轻程序员的个性是如何被摧毁的</a></li>
<li><a href="../zh-CN498410/index.html">适用于PC的Vivaldi和适用于Android的Vivaldi-得分为3.0的团队游戏</a></li>
<li><a href="../zh-CN498412/index.html">意识很简单或时间错在哪里</a></li>
<li><a href="../zh-CN498416/index.html">Yandex将自动将卡链接到另一个帐户</a></li>
<li><a href="../zh-CN498418/index.html">在媒体服务器中实施WebRTC-做法和政策</a></li>
<li><a href="../zh-CN498428/index.html">WAL-G：新功能和社区扩展。乔治·雷洛夫（Georgy Rylov）</a></li>
<li><a href="../zh-CN498430/index.html">4月22日运输会怎样</a></li>
<li><a href="../zh-CN498436/index.html">GitLab CI / CD指南（几乎）绝对入门</a></li>
<li><a href="../zh-CN498438/index.html">实习导师的8个简单问题</a></li>
<li><a href="../zh-CN498440/index.html">威胁聚焦：Neshta文件病毒</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>