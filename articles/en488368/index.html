<!doctype html>
<html class="no-js" lang="en">

<head>
  <!-- Global site tag (gtag.js) - Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-134228602-13"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-134228602-13');
  </script>

  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>üê≠ üë©üèΩ‚Äçüîß üôÖüèΩ What I learned while working on my first large-scale project ü§ß üìè üò¥</title>
  <link rel="icon" type="image/x-icon" href="/favicon.ico" />
  <meta name="description" content="Eight months ago, I started writing an application on Electron. To master this task, I had to develop three separate sub-applications that run in diff...">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <link rel="stylesheet" href="../../css/main.css">

  <link href="https://fonts.googleapis.com/css?family=Quicksand&display=swap" rel="stylesheet">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
  <script>window.jQuery || document.write('<script src="../../js/vendors/jquery-3.3.1.min.js"><\/script>')</script>

  <script>document.write('<script src="//pagea' + 'd2.googles' + 'yndication.com/pagea' + 'd/js/a' + 'dsby' + 'google.js"><\/script>')</script>
  <script>
        var superSpecialObject = {};
        superSpecialObject['google_a' + 'd_client'] = 'ca-p' + 'ub-6974184241884155';
        superSpecialObject['enable_page_level_a' + 'ds'] = true;
       (window['a' + 'dsbygoogle'] = window['a' + 'dsbygoogle'] || []).push(superSpecialObject);
  </script>
</head>

<body>
  <!--[if lte IE 9]>
    <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="https://browsehappy.com/">upgrade your browser</a> to improve your experience and security.</p>
  <![endif]-->
  <header class="page-header js-page-header">
    <a class="page-header-logo-container" href="https://geek-week.github.io/index.html"></a>
    <div class="page-header-text">Get best of the week</div>
  </header>
  <section class="page js-page"><h1>What I learned while working on my first large-scale project</h1><div class="post__body post__body_full">
      <div class="post__text post__text-html post__text_v1" id="post-content-body" data-io-article-url="https://habr.com/ru/company/digital-ecosystems/blog/488368/"><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Eight months ago, I started writing an application on Electron. </font><font style="vertical-align: inherit;">To master this task, I had to develop three separate sub-applications that run in different environments. </font><font style="vertical-align: inherit;">Below I will talk about what I made for myself along the way. </font></font><br>
<br>
<img src="https://habrastorage.org/webt/di/ca/sr/dicasrqm0tda-zf4a9yey8bekbs.png"><br>
<br>
<i><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Binder in its original form</font></font></i><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Context</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Before delving into the details, I will begin by providing some general information necessary to understand the situation. At the beginning of 2019, I began to search for an internship, as required by the co-op program for my degree. By April, I sent out dozens of resumes, each of which was tailored to a specific employer, and in total received exactly zero answers. You can imagine how I reacted to this - my hands fell, it seemed that I was not fit for anything and was not worth any work at all. But instead of letting these feelings prevail, I decided to prove to myself that I still know something and I can apply for some posts. In the end, I found out that in fact I know less than I expected.</font></font><br>
<a name="habracut"></a><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I began to revise my projects in search of one that could be turned into something large-scale and complex, which could spur me on. </font><font style="vertical-align: inherit;">Finally, I opted for Binder - at that time a simple web application that allowed you to manage files from Onedrive, Google Drive and Dropbox at the same time. </font><font style="vertical-align: inherit;">The goal was to develop a backup service comparable in functionality to this trinity, minus the ability to transfer files to other users.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">The beginning of the way</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Probably, I would not have completed the project at all if I had not set myself some delusional goals from the very beginning. The first milestone that I determined for myself was the creation of a working alpha version for my birthday, which I celebrate in mid-July. I started work immediately. By the beginning of May, I created a Binder clone and began to disassemble it into parts, throwing away many functions that I no longer needed. In general, I took a completely decent application and turned it into a plain piece of code somewhere at the tutorial level.</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I settled on the fact that I will write four separate applications. </font><font style="vertical-align: inherit;">The first is a client that will natively work on the user's computer. </font><font style="vertical-align: inherit;">The second is an API with a backend, it will facilitate the sending of secure requests. </font><font style="vertical-align: inherit;">Third, the cloud service, which is responsible for the integrity of all the data that is stored on it. </font><font style="vertical-align: inherit;">And finally, a ‚Äúmarketing‚Äù web page, because a product can‚Äôt do without a shimmering website.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">And now the fun begins</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Well, well, well, I admit: everything that I have said so far has nothing to do with Electron, much less the development of large-scale applications. But I needed to clarify the context so that you understand where I got my knowledge from. Here are five key lessons I learned for myself: </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"># 1 Be sure to use traditional structures for the frontend and backend, because interprocess communication is a stupid thing</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
More often than I would like, I freaked out because of how primitive interprocess communication is implemented in Electron (and now again to psycho). Yes, interprocess communication is generally not designed to carry out data abstraction in the spirit of Javascript, with the representation of functions as objects and all sorts of other things. But how much easier it would be! And so, instead of making a minimalistic client application, while the main array of code would be located in the main process, I was forced to clearly separate what will interact with the user and what will not. The criterion by which I determined what would go to the main process, and what to the render process, was formulated as a simple question: does this code serve anything? The fragment size did not matter. If he served other pieces of code,then went to the main process. The only exception was the endpoint of the Stripe payment system - for security reasons, I wanted it to be located as close to the user as possible.</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">‚Ññ2 Making data maintain integrity is very, very difficult.</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> 
Until I started working on Binder, I did not understand how hard it was to get all the data coming from an arbitrary and impressive number of users to always remain correct and accessible. And just to provide safe storage for them is not an easy task, but now you still want me to validate everything and make sure that there are no contradictions with other data, without any idea what the data is ?!</font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Of course, I exaggerate a little here, but the essence of the problem is not distorted. Validation should occur as early as possible at the earliest stages and then be repeated (on a more modest scale) as the data stream advances. Maintaining consistency becomes easier if you use a transactional model every time you change the data. To tell you the truth, along with the data itself, there is also a mass of metadata, which is not much easier to manage. It always seemed like a great idea to write a function that reads user data and then performs integrity checks. But after much deliberation, I came to the conclusion that the secret entrances are no different from the front doors - the whole difference is who uses them. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 3 Interfaces - like shoes that are sewn to order</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/mm/_b/un/mm_bunucarysnvfs4eyosnluqny.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
A great way to make a beautiful, well-functioning interface is to look at it as a pair of individual tailoring shoes (or a suit tailored to the shape, it does not matter). The first question I asked myself when I started design for Binder: who will look at the application interface? Note: I did not talk about who will use the interface. This should be the second question, because everything is tied precisely to the appearance. In the past, I conducted many projects and I can tell you with full confidence: people wanted to spit on your application if it does not look as it should.</font></font><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/hq/d1/vb/hqd1vbxnmqfiklziqh2_huaxe1m.jpeg"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I started by making small drafts in a notebook (with a ballpoint pen, because I have a habit of constantly doubting my ideas). In the first drafts, the emphasis was on the general structure of the interface, and only then, drawing further, I detailed in detail how each of the ‚Äúpages‚Äù should look. In my opinion, the information presented is not so important as its readability. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 4 There is no much fault tolerance</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I don‚Äôt know about you, but me from the thought that the API will crash after I accepted the payment, a cold sweat breaks through. Starting to work on the payment system, I said to myself: "Now you can not afford to miss a single mistake." I made sure to implement security mechanisms throughout the process: from the moment the API receives a request to purchase a service package, and until Stripe passes the payment information to the event notification system and the package is activated. This kind of paranoia, of course, slows down the development process, but I do not regret anything. But I always have complete information about when the payment arrived, what is its purpose and what is the status of the actions that should follow it. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">No. 5 Not perfect? Not scary</font></font></b><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
I am a perfectionist, and my attempts to create something stunning often get out of hand and turn endless nitpicking to every line of code and doubts whether they have a right to exist. I have to endure battles with myself over and over about what is still more important - efficiency or readability. In the first few months, I had not yet received my sight and didn‚Äôt understand that much of what I wasted my energy on had no practical benefit - the point is to make a product that can be used with a calm mind, and not hurt for some prestigious award. It's funny that my fifth lesson partly goes against the fourth, but it's even good. The fourth lesson reminds me of caution and attention to user expectations, and the fifth sets boundaries so that I don't get stuck,improving one function endlessly.</font></font><br>
<br>
<h4><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Before we say goodbye</font></font></h4><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
You read my article to the end and you may have noticed (well, or not) that Binder is not yet fully operational. </font><font style="vertical-align: inherit;">At the time of writing, I was just releasing the first public version (beta 4). </font><font style="vertical-align: inherit;">I am not particularly inclined to turn Binder into a full-fledged product, but nevertheless developed it so that it functions as a normal application - suddenly ambitions will take over from me. </font><font style="vertical-align: inherit;">An iridescent web page can be admired </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">here</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> . </font></font><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Everything that I thought was safe for open access was posted </font></font><a href="https://translate.googleusercontent.com/translate_c?depth=1&amp;pto=aue&amp;rurl=translate.google.com&amp;sl=ru&amp;sp=nmt4&amp;tl=en&amp;u="><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">on the project page</font></font></a><font style="vertical-align: inherit;"><font style="vertical-align: inherit;"> on GitHub. </font><font style="vertical-align: inherit;">There I will post updates (and there you can download the client so that it updates itself). </font><font style="vertical-align: inherit;">Ah, well, here are the statistics that I compiled on four sub-applications to flatter my vanity:</font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">binder-local (client on Electron)</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/ac/tk/gq/actkgqevnop0_7oniwkjclrf4xi.png"></div><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">binder-web (prettiness web page)</font></font></b><br>
<br>
<div style="text-align:center;"><img src="https://habrastorage.org/webt/58/l4/ae/58l4aeuituje6culksub5foxkaa.png"></div><br>
<br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
In the remaining two, I did not start counting lines of code automatically for security reasons. </font></font><br>
<br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">binder api</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: 21 files, 4117 lines</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Other files: ~ 150 lines</font></font></li>
</ul><br>
<b><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">binder-mongo (service for checking integrity)</font></font></b><br>
<br>
<ul>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">JavaScript: 16 files, 2374 lines</font></font></li>
<li><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">Other files: ~ 140 lines</font></font></li>
</ul><br><font style="vertical-align: inherit;"><font style="vertical-align: inherit;">
Total number of lines of code: 30,015</font></font></div>
      
    </div>
<section class="more-articles-navigation-panel js-more-articles-navigation-panel">
<h4>More articles:</h4>
<nav class="list-of-articles-container js-list-of-articles-container"><ul class="list-of-pages js-list-of-pages">
<li><a href="../en488352/index.html">VDI Cost Comparison: On-premise versus Public Cloud</a></li>
<li><a href="../en488356/index.html">Training at St. Petersburg State Marine Technical University for Dassault Syst√®mes products</a></li>
<li><a href="../en488360/index.html">Big Data Myths and Digital Culture</a></li>
<li><a href="../en488362/index.html">Multi-tagged classification</a></li>
<li><a href="../en488366/index.html">And again about ‚ÄúIncorrect time zone information for Russian time zones‚Äù [.Net bug, ID: 693286]</a></li>
<li><a href="../en488370/index.html">TDD for microcontrollers. Part 2: How spies get rid of addictions</a></li>
<li><a href="../en488374/index.html">Telegram + 1C + Webhooks + Apache + Self-Signed Certificate</a></li>
<li><a href="../en488376/index.html">When the principle "to hell with everything, take it and do it!" not working: procrastinator notes</a></li>
<li><a href="../en488378/index.html">Briefly about naming in JS</a></li>
<li><a href="../en488380/index.html">The easiest start in STM through "one place"</a></li>
</ul></nav>
</section><br />
<a href="../../allArticles.html"><strong>All Articles</strong></a>
<script src="../../js/main.js"></script>

<!-- Yandex.Metrika counter -->
<script type="text/javascript" >
  (function (d, w, c) {
      (w[c] = w[c] || []).push(function() {
          try {
              w.yaCounter63335242 = new Ya.Metrika({
                  id:63335242,
                  clickmap:true,
                  trackLinks:true,
                  accurateTrackBounce:true,
                  webvisor:true
              });
          } catch(e) { }
      });

      var n = d.getElementsByTagName("script")[0],
          s = d.createElement("script"),
          f = function () { n.parentNode.insertBefore(s, n); };
      s.type = "text/javascript";
      s.async = true;
      s.src = "https://mc.yandex.ru/metrika/watch.js";

      if (w.opera == "[object Opera]") {
          d.addEventListener("DOMContentLoaded", f, false);
      } else { f(); }
  })(document, window, "yandex_metrika_callbacks");
</script>
<noscript><div><img src="https://mc.yandex.ru/watch/63335242" style="position:absolute; left:-9999px;" alt="" /></div></noscript>

<!-- Google Analytics -->
  <script>
    window.ga = function () { ga.q.push(arguments) }; ga.q = []; ga.l = +new Date;
    ga('create', 'UA-134228602-13', 'auto'); ga('send', 'pageview')
  </script>
  <script src="https://www.google-analytics.com/analytics.js" async defer></script>

</section>

<footer class="page-footer">
  <div class="page-footer-legal-info-container page-footer-element">
    <p>
      Geek Week | <span class="page-footer-legal-info-year js-page-footer-legal-info-year">2020</span>
    </p>
  </div>
  <div class="page-footer-counters-container page-footer-element">
    <a class="page-footer-counter-clustrmap" href='#'  title='Visit tracker'><img src='https://clustrmaps.com/map_v2.png?cl=698e5a&w=271&t=t&d=i62cJ2037o_BACd40gCrIso3niu0Sjx2sDFYJkeYdRk&co=3a3a3a&ct=ffffff'/></a>
  </div>
</footer>
  
</body>

</html>